var shadow$provide = {};
(function(){
shadow$provide[0]=function(fd,Qb,Sc,zb){var h=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;Sc.exports=function(){try{if(!Object.assign)return!1;var Ra=new String("abc");Ra[5]="de";if("5"===Object.getOwnPropertyNames(Ra)[0])return!1;var tb={};for(Ra=0;10>Ra;Ra++)tb["_"+String.fromCharCode(Ra)]=Ra;if("0123456789"!==Object.getOwnPropertyNames(tb).map(function(wb){return tb[wb]}).join(""))return!1;var bb={};"abcdefghijklmnopqrst".split("").forEach(function(wb){bb[wb]=
wb});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},bb)).join("")?!1:!0}catch(wb){return!1}}()?Object.assign:function(Ra,tb){if(null===Ra||void 0===Ra)throw new TypeError("Object.assign cannot be called with null or undefined");var bb=Object(Ra);for(var wb,Hb=1;Hb<arguments.length;Hb++){var hb=Object(arguments[Hb]);for(var Ka in hb)r.call(hb,Ka)&&(bb[Ka]=hb[Ka]);if(h){wb=h(hb);for(var Ha=0;Ha<wb.length;Ha++)z.call(hb,wb[Ha])&&(bb[wb[Ha]]=hb[wb[Ha]])}}return bb}};
shadow$provide[1]=function(fd,Qb,Sc,zb){function h(R){for(var aa="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+R,ea=1;ea<arguments.length;ea++)aa+="\x26args[]\x3d"+encodeURIComponent(arguments[ea]);return"Minified React error #"+R+"; visit "+aa+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(R,aa,ea){this.props=R;this.context=aa;this.refs=ab;this.updater=ea||Aa}function z(){}function Ra(R,aa,ea){this.props=R;
this.context=aa;this.refs=ab;this.updater=ea||Aa}function tb(R,aa,ea){var Ca,Ia={},H=null,da=null;if(null!=aa)for(Ca in void 0!==aa.ref&&(da=aa.ref),void 0!==aa.key&&(H=""+aa.key),aa)I.call(aa,Ca)&&!x.hasOwnProperty(Ca)&&(Ia[Ca]=aa[Ca]);var ca=arguments.length-2;if(1===ca)Ia.children=ea;else if(1<ca){for(var X=Array(ca),e=0;e<ca;e++)X[e]=arguments[e+2];Ia.children=X}if(R&&R.defaultProps)for(Ca in ca=R.defaultProps,ca)void 0===Ia[Ca]&&(Ia[Ca]=ca[Ca]);return{$$typeof:Qa,type:R,key:H,ref:da,props:Ia,
_owner:Va.current}}function bb(R,aa){return{$$typeof:Qa,type:R.type,key:aa,ref:R.ref,props:R.props,_owner:R._owner}}function wb(R){return"object"===typeof R&&null!==R&&R.$$typeof===Qa}function Hb(R){var aa={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+R).replace(/[=:]/g,function(ea){return aa[ea]})}function hb(R,aa,ea,Ca){if(J.length){var Ia=J.pop();Ia.result=R;Ia.keyPrefix=aa;Ia.func=ea;Ia.context=Ca;Ia.count=0;return Ia}return{result:R,keyPrefix:aa,func:ea,context:Ca,count:0}}function Ka(R){R.result=
null;R.keyPrefix=null;R.func=null;R.context=null;R.count=0;10>J.length&&J.push(R)}function Ha(R,aa,ea,Ca){var Ia=typeof R;if("undefined"===Ia||"boolean"===Ia)R=null;var H=!1;if(null===R)H=!0;else switch(Ia){case "string":case "number":H=!0;break;case "object":switch(R.$$typeof){case Qa:case za:H=!0}}if(H)return ea(Ca,R,""===aa?"."+xa(R,0):aa),1;H=0;aa=""===aa?".":aa+":";if(Array.isArray(R))for(var da=0;da<R.length;da++){Ia=R[da];var ca=aa+xa(Ia,da);H+=Ha(Ia,ca,ea,Ca)}else if(null===R||"object"!==
typeof R?ca=null:(ca=Oa&&R[Oa]||R["@@iterator"],ca="function"===typeof ca?ca:null),"function"===typeof ca)for(R=ca.call(R),da=0;!(Ia=R.next()).done;)Ia=Ia.value,ca=aa+xa(Ia,da++),H+=Ha(Ia,ca,ea,Ca);else if("object"===Ia)throw ea=""+R,Error(h(31,"[object Object]"===ea?"object with keys {"+Object.keys(R).join(", ")+"}":ea,""));return H}function Sa(R,aa,ea){return null==R?0:Ha(R,"",aa,ea)}function xa(R,aa){return"object"===typeof R&&null!==R&&null!=R.key?Hb(R.key):aa.toString(36)}function ma(R,aa){R.func.call(R.context,
aa,R.count++)}function na(R,aa,ea){var Ca=R.result,Ia=R.keyPrefix;R=R.func.call(R.context,aa,R.count++);Array.isArray(R)?Ba(R,Ca,ea,function(H){return H}):null!=R&&(wb(R)&&(R=bb(R,Ia+(!R.key||aa&&aa.key===R.key?"":(""+R.key).replace(L,"$\x26/")+"/")+ea)),Ca.push(R))}function Ba(R,aa,ea,Ca,Ia){var H="";null!=ea&&(H=(""+ea).replace(L,"$\x26/")+"/");aa=hb(aa,H,Ca,Ia);Sa(R,na,aa);Ka(aa)}function Fa(){var R=B.current;if(null===R)throw Error(h(321));return R}var la=Qb(0),ra="function"===typeof Symbol&&
Symbol.for,Qa=ra?Symbol.for("react.element"):60103,za=ra?Symbol.for("react.portal"):60106;fd=ra?Symbol.for("react.fragment"):60107;Qb=ra?Symbol.for("react.strict_mode"):60108;Sc=ra?Symbol.for("react.profiler"):60114;var Ta=ra?Symbol.for("react.provider"):60109,K=ra?Symbol.for("react.context"):60110,ia=ra?Symbol.for("react.forward_ref"):60112,ya=ra?Symbol.for("react.suspense"):60113,ua=ra?Symbol.for("react.memo"):60115,La=ra?Symbol.for("react.lazy"):60116,Oa="function"===typeof Symbol&&Symbol.iterator,
Aa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ab={};r.prototype.isReactComponent={};r.prototype.setState=function(R,aa){if("object"!==typeof R&&"function"!==typeof R&&null!=R)throw Error(h(85));this.updater.enqueueSetState(this,R,aa,"setState")};r.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};z.prototype=r.prototype;ra=Ra.prototype=new z;ra.constructor=Ra;la(ra,r.prototype);
ra.isPureReactComponent=!0;var Va={current:null},I=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0},L=/\/+/g,J=[],B={current:null};ra={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Va,IsSomeRendererActing:{current:!1},assign:la};zb.Children={map:function(R,aa,ea){if(null==R)return R;var Ca=[];Ba(R,Ca,null,aa,ea);return Ca},forEach:function(R,aa,ea){if(null==R)return R;aa=hb(null,null,aa,ea);Sa(R,ma,aa);Ka(aa)},count:function(R){return Sa(R,
function(){return null},null)},toArray:function(R){var aa=[];Ba(R,aa,null,function(ea){return ea});return aa},only:function(R){if(!wb(R))throw Error(h(143));return R}};zb.Component=r;zb.Fragment=fd;zb.Profiler=Sc;zb.PureComponent=Ra;zb.StrictMode=Qb;zb.Suspense=ya;zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ra;zb.cloneElement=function(R,aa,ea){if(null===R||void 0===R)throw Error(h(267,R));var Ca=la({},R.props),Ia=R.key,H=R.ref,da=R._owner;if(null!=aa){void 0!==aa.ref&&(H=aa.ref,da=Va.current);
void 0!==aa.key&&(Ia=""+aa.key);if(R.type&&R.type.defaultProps)var ca=R.type.defaultProps;for(X in aa)I.call(aa,X)&&!x.hasOwnProperty(X)&&(Ca[X]=void 0===aa[X]&&void 0!==ca?ca[X]:aa[X])}var X=arguments.length-2;if(1===X)Ca.children=ea;else if(1<X){ca=Array(X);for(var e=0;e<X;e++)ca[e]=arguments[e+2];Ca.children=ca}return{$$typeof:Qa,type:R.type,key:Ia,ref:H,props:Ca,_owner:da}};zb.createContext=function(R,aa){void 0===aa&&(aa=null);R={$$typeof:K,_calculateChangedBits:aa,_currentValue:R,_currentValue2:R,
_threadCount:0,Provider:null,Consumer:null};R.Provider={$$typeof:Ta,_context:R};return R.Consumer=R};zb.createElement=tb;zb.createFactory=function(R){var aa=tb.bind(null,R);aa.type=R;return aa};zb.createRef=function(){return{current:null}};zb.forwardRef=function(R){return{$$typeof:ia,render:R}};zb.isValidElement=wb;zb.lazy=function(R){return{$$typeof:La,_ctor:R,_status:-1,_result:null}};zb.memo=function(R,aa){return{$$typeof:ua,type:R,compare:void 0===aa?null:aa}};zb.useCallback=function(R,aa){return Fa().useCallback(R,
aa)};zb.useContext=function(R,aa){return Fa().useContext(R,aa)};zb.useDebugValue=function(){};zb.useEffect=function(R,aa){return Fa().useEffect(R,aa)};zb.useImperativeHandle=function(R,aa,ea){return Fa().useImperativeHandle(R,aa,ea)};zb.useLayoutEffect=function(R,aa){return Fa().useLayoutEffect(R,aa)};zb.useMemo=function(R,aa){return Fa().useMemo(R,aa)};zb.useReducer=function(R,aa,ea){return Fa().useReducer(R,aa,ea)};zb.useRef=function(R){return Fa().useRef(R)};zb.useState=function(R){return Fa().useState(R)};
zb.version="16.13.1"};
shadow$provide[5]=function(fd,Qb,Sc,zb){Sc.exports=Qb(1)};
shadow$provide[6]=function(fd,Qb,Sc,zb){function h(B,R){var aa=B.length;B.push(R);a:for(;;){var ea=aa-1>>>1,Ca=B[ea];if(void 0!==Ca&&0<Ra(Ca,R))B[ea]=R,B[aa]=Ca,aa=ea;else break a}}function r(B){B=B[0];return void 0===B?null:B}function z(B){var R=B[0];if(void 0!==R){var aa=B.pop();if(aa!==R){B[0]=aa;var ea=0,Ca=B.length;a:for(;ea<Ca;){var Ia=2*(ea+1)-1,H=B[Ia],da=Ia+1,ca=B[da];if(void 0!==H&&0>Ra(H,aa))void 0!==ca&&0>Ra(ca,H)?(B[ea]=ca,B[da]=aa,ea=da):(B[ea]=H,B[Ia]=aa,ea=Ia);else if(void 0!==ca&&
0>Ra(ca,aa))B[ea]=ca,B[da]=aa,ea=da;else break a}}return R}return null}function Ra(B,R){var aa=B.sortIndex-R.sortIndex;return 0!==aa?aa:B.id-R.id}function tb(B){for(var R=r(Aa);null!==R;){if(null===R.callback)z(Aa);else if(R.startTime<=B)z(Aa),R.sortIndex=R.expirationTime,h(Oa,R);else break;R=r(Aa)}}function bb(B){J=!1;tb(B);if(!L)if(null!==r(Oa))L=!0,xa(wb);else{var R=r(Aa);null!==R&&ma(bb,R.startTime-B)}}function wb(B,R){L=!1;J&&(J=!1,na());x=!0;var aa=I;try{tb(R);for(Va=r(Oa);null!==Va&&(!(Va.expirationTime>
R)||B&&!Ba());){var ea=Va.callback;if(null!==ea){Va.callback=null;I=Va.priorityLevel;var Ca=ea(Va.expirationTime<=R);R=zb.unstable_now();"function"===typeof Ca?Va.callback=Ca:Va===r(Oa)&&z(Oa);tb(R)}else z(Oa);Va=r(Oa)}if(null!==Va)var Ia=!0;else{var H=r(Aa);null!==H&&ma(bb,H.startTime-R);Ia=!1}return Ia}finally{Va=null,I=aa,x=!1}}function Hb(B){switch(B){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var hb=
null,Ka=null,Ha=function(){if(null!==hb)try{var B=zb.unstable_now();hb(!0,B);hb=null}catch(R){throw setTimeout(Ha,0),R;}},Sa=Date.now();zb.unstable_now=function(){return Date.now()-Sa};var xa=function(B){null!==hb?setTimeout(xa,0,B):(hb=B,setTimeout(Ha,0))};var ma=function(B,R){Ka=setTimeout(B,R)};var na=function(){clearTimeout(Ka)};var Ba=function(){return!1};fd=zb.unstable_forceFrameRate=function(){}}else{var Fa=window.performance,la=window.Date,ra=window.setTimeout,Qa=window.clearTimeout;"undefined"!==
typeof console&&(fd=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof fd&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof Fa&&"function"===typeof Fa.now)zb.unstable_now=function(){return Fa.now()};
else{var za=la.now();zb.unstable_now=function(){return la.now()-za}}var Ta=!1,K=null,ia=-1,ya=5,ua=0;Ba=function(){return zb.unstable_now()>=ua};fd=function(){};zb.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ya=0<B?Math.floor(1E3/B):5};Qb=new MessageChannel;var La=Qb.port2;Qb.port1.onmessage=function(){if(null!==K){var B=zb.unstable_now();ua=B+ya;try{K(!0,B)?La.postMessage(null):
(Ta=!1,K=null)}catch(R){throw La.postMessage(null),R;}}else Ta=!1};xa=function(B){K=B;Ta||(Ta=!0,La.postMessage(null))};ma=function(B,R){ia=ra(function(){B(zb.unstable_now())},R)};na=function(){Qa(ia);ia=-1}}var Oa=[],Aa=[],ab=1,Va=null,I=3,x=!1,L=!1,J=!1;zb.unstable_IdlePriority=5;zb.unstable_ImmediatePriority=1;zb.unstable_LowPriority=4;zb.unstable_NormalPriority=3;zb.unstable_Profiling=null;zb.unstable_UserBlockingPriority=2;zb.unstable_cancelCallback=function(B){B.callback=null};zb.unstable_continueExecution=
function(){L||x||(L=!0,xa(wb))};zb.unstable_getCurrentPriorityLevel=function(){return I};zb.unstable_getFirstCallbackNode=function(){return r(Oa)};zb.unstable_next=function(B){switch(I){case 1:case 2:case 3:var R=3;break;default:R=I}var aa=I;I=R;try{return B()}finally{I=aa}};zb.unstable_pauseExecution=function(){};zb.unstable_requestPaint=fd;zb.unstable_runWithPriority=function(B,R){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var aa=I;I=B;try{return R()}finally{I=aa}};zb.unstable_scheduleCallback=
function(B,R,aa){var ea=zb.unstable_now();if("object"===typeof aa&&null!==aa){var Ca=aa.delay;Ca="number"===typeof Ca&&0<Ca?ea+Ca:ea;aa="number"===typeof aa.timeout?aa.timeout:Hb(B)}else aa=Hb(B),Ca=ea;aa=Ca+aa;B={id:ab++,callback:R,priorityLevel:B,startTime:Ca,expirationTime:aa,sortIndex:-1};Ca>ea?(B.sortIndex=Ca,h(Aa,B),null===r(Oa)&&B===r(Aa)&&(J?na():J=!0,ma(bb,Ca-ea))):(B.sortIndex=aa,h(Oa,B),L||x||(L=!0,xa(wb)));return B};zb.unstable_shouldYield=function(){var B=zb.unstable_now();tb(B);var R=
r(Oa);return R!==Va&&null!==Va&&null!==R&&null!==R.callback&&R.startTime<=B&&R.expirationTime<Va.expirationTime||Ba()};zb.unstable_wrapCallback=function(B){var R=I;return function(){var aa=I;I=R;try{return B.apply(this,arguments)}finally{I=aa}}}};
shadow$provide[8]=function(fd,Qb,Sc,zb){Sc.exports=Qb(6)};
shadow$provide[9]=function(fd,Qb,Sc,zb){function h(d){for(var k="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+d,u=1;u<arguments.length;u++)k+="\x26args[]\x3d"+encodeURIComponent(arguments[u]);return"Minified React error #"+d+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(d,k,u,O,ja,mb,qb,Mb,Hc){var Fc=Array.prototype.slice.call(arguments,3);try{k.apply(u,Fc)}catch(Pd){this.onError(Pd)}}function z(d,
k,u,O,ja,mb,qb,Mb,Hc){bi=!1;zi=null;r.apply(hk,arguments)}function Ra(d,k,u,O,ja,mb,qb,Mb,Hc){z.apply(this,arguments);if(bi){if(bi){var Fc=zi;bi=!1;zi=null}else throw Error(h(198));xh||(xh=!0,rj=Fc)}}function tb(d,k,u){var O=d.type||"unknown-event";d.currentTarget=Zg(u);Ra(O,k,void 0,d);d.currentTarget=null}function bb(){if(yh)for(var d in $g){var k=$g[d],u=yh.indexOf(d);if(!(-1<u))throw Error(h(96,d));if(!Vf[u]){if(!k.extractEvents)throw Error(h(97,d));Vf[u]=k;u=k.eventTypes;for(var O in u){var ja=
void 0,mb=u[O],qb=k,Mb=O;if(sj.hasOwnProperty(Mb))throw Error(h(99,Mb));sj[Mb]=mb;var Hc=mb.phasedRegistrationNames;if(Hc){for(ja in Hc)Hc.hasOwnProperty(ja)&&wb(Hc[ja],qb,Mb);ja=!0}else mb.registrationName?(wb(mb.registrationName,qb,Mb),ja=!0):ja=!1;if(!ja)throw Error(h(98,O,d));}}}}function wb(d,k,u){if(Ag[d])throw Error(h(100,d));Ag[d]=k;ig[d]=k.eventTypes[u].dependencies}function Hb(d){var k=!1,u;for(u in d)if(d.hasOwnProperty(u)){var O=d[u];if(!$g.hasOwnProperty(u)||$g[u]!==O){if($g[u])throw Error(h(102,
u));$g[u]=O;k=!0}}k&&bb()}function hb(d){if(d=tj(d)){if("function"!==typeof ah)throw Error(h(280));var k=d.stateNode;k&&(k=Ai(k),ah(d.stateNode,d.type,k))}}function Ka(d){rg?sg?sg.push(d):sg=[d]:rg=d}function Ha(){if(rg){var d=rg,k=sg;sg=rg=null;hb(d);if(k)for(d=0;d<k.length;d++)hb(k[d])}}function Sa(d,k){return d(k)}function xa(d,k,u,O,ja){return d(k,u,O,ja)}function ma(){}function na(){if(null!==rg||null!==sg)ma(),Ha()}function Ba(d,k,u){if(ci)return d(k,u);ci=!0;try{return di(d,k,u)}finally{ci=
!1,na()}}function Fa(d){if(Bi.call(ik,d))return!0;if(Bi.call(uj,d))return!1;if(jk.test(d))return ik[d]=!0;uj[d]=!0;return!1}function la(d,k,u,O){if(null!==u&&0===u.type)return!1;switch(typeof k){case "function":case "symbol":return!0;case "boolean":if(O)return!1;if(null!==u)return!u.acceptsBooleans;d=d.toLowerCase().slice(0,5);return"data-"!==d&&"aria-"!==d;default:return!1}}function ra(d,k,u,O){if(null===k||"undefined"===typeof k||la(d,k,u,O))return!0;if(O)return!1;if(null!==u)switch(u.type){case 3:return!k;
case 4:return!1===k;case 5:return isNaN(k);case 6:return isNaN(k)||1>k}return!1}function Qa(d,k,u,O,ja,mb){this.acceptsBooleans=2===k||3===k||4===k;this.attributeName=O;this.attributeNamespace=ja;this.mustUseProperty=u;this.propertyName=d;this.type=k;this.sanitizeURL=mb}function za(d){return d[1].toUpperCase()}function Ta(d,k,u,O){var ja=Bf.hasOwnProperty(k)?Bf[k]:null;(null!==ja?0===ja.type:O?0:2<k.length&&("o"===k[0]||"O"===k[0])&&("n"===k[1]||"N"===k[1]))||(ra(k,u,ja,O)&&(u=null),O||null===ja?
Fa(k)&&(null===u?d.removeAttribute(k):d.setAttribute(k,""+u)):ja.mustUseProperty?d[ja.propertyName]=null===u?3===ja.type?!1:"":u:(k=ja.attributeName,O=ja.attributeNamespace,null===u?d.removeAttribute(k):(ja=ja.type,u=3===ja||4===ja&&!0===u?"":""+u,O?d.setAttributeNS(O,k,u):d.setAttribute(k,u))))}function K(d){if(null===d||"object"!==typeof d)return null;d=kk&&d[kk]||d["@@iterator"];return"function"===typeof d?d:null}function ia(d){if(-1===d._status){d._status=0;var k=d._ctor;k=k();d._result=k;k.then(function(u){0===
d._status&&(u=u.default,d._status=1,d._result=u)},function(u){0===d._status&&(d._status=2,d._result=u)})}}function ya(d){if(null==d)return null;if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d;switch(d){case Ig:return"Fragment";case bh:return"Portal";case ch:return"Profiler";case Re:return"StrictMode";case ei:return"Suspense";case zh:return"SuspenseList"}if("object"===typeof d)switch(d.$$typeof){case cf:return"Context.Consumer";case Gf:return"Context.Provider";
case vj:var k=d.render;k=k.displayName||k.name||"";return d.displayName||(""!==k?"ForwardRef("+k+")":"ForwardRef");case Ci:return ya(d.type);case Di:return ya(d.render);case Jg:if(d=1===d._status?d._result:null)return ya(d)}return null}function ua(d){var k="";do{a:switch(d.tag){case 3:case 4:case 6:case 7:case 10:case 9:var u="";break a;default:var O=d._debugOwner,ja=d._debugSource,mb=ya(d.type);u=null;O&&(u=ya(O.type));O=mb;mb="";ja?mb=" (at "+ja.fileName.replace(lk,"")+":"+ja.lineNumber+")":u&&
(mb=" (created by "+u+")");u="\n    in "+(O||"Unknown")+mb}k+=u;d=d.return}while(d);return k}function La(d){switch(typeof d){case "boolean":case "number":case "object":case "string":case "undefined":return d;default:return""}}function Oa(d){var k=d.type;return(d=d.nodeName)&&"input"===d.toLowerCase()&&("checkbox"===k||"radio"===k)}function Aa(d){var k=Oa(d)?"checked":"value",u=Object.getOwnPropertyDescriptor(d.constructor.prototype,k),O=""+d[k];if(!d.hasOwnProperty(k)&&"undefined"!==typeof u&&"function"===
typeof u.get&&"function"===typeof u.set){var ja=u.get,mb=u.set;Object.defineProperty(d,k,{configurable:!0,get:function(){return ja.call(this)},set:function(qb){O=""+qb;mb.call(this,qb)}});Object.defineProperty(d,k,{enumerable:u.enumerable});return{getValue:function(){return O},setValue:function(qb){O=""+qb},stopTracking:function(){d._valueTracker=null;delete d[k]}}}}function ab(d){d._valueTracker||(d._valueTracker=Aa(d))}function Va(d){if(!d)return!1;var k=d._valueTracker;if(!k)return!0;var u=k.getValue(),
O="";d&&(O=Oa(d)?d.checked?"true":"false":d.value);d=O;return d!==u?(k.setValue(d),!0):!1}function I(d,k){var u=k.checked;return df({},k,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=u?u:d._wrapperState.initialChecked})}function x(d,k){var u=null==k.defaultValue?"":k.defaultValue,O=null!=k.checked?k.checked:k.defaultChecked;u=La(null!=k.value?k.value:u);d._wrapperState={initialChecked:O,initialValue:u,controlled:"checkbox"===k.type||"radio"===k.type?null!=k.checked:null!=k.value}}
function L(d,k){k=k.checked;null!=k&&Ta(d,"checked",k,!1)}function J(d,k){L(d,k);var u=La(k.value),O=k.type;if(null!=u)if("number"===O){if(0===u&&""===d.value||d.value!=u)d.value=""+u}else d.value!==""+u&&(d.value=""+u);else if("submit"===O||"reset"===O){d.removeAttribute("value");return}k.hasOwnProperty("value")?R(d,k.type,u):k.hasOwnProperty("defaultValue")&&R(d,k.type,La(k.defaultValue));null==k.checked&&null!=k.defaultChecked&&(d.defaultChecked=!!k.defaultChecked)}function B(d,k,u){if(k.hasOwnProperty("value")||
k.hasOwnProperty("defaultValue")){var O=k.type;if(!("submit"!==O&&"reset"!==O||void 0!==k.value&&null!==k.value))return;k=""+d._wrapperState.initialValue;u||k===d.value||(d.value=k);d.defaultValue=k}u=d.name;""!==u&&(d.name="");d.defaultChecked=!!d._wrapperState.initialChecked;""!==u&&(d.name=u)}function R(d,k,u){if("number"!==k||d.ownerDocument.activeElement!==d)null==u?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+u&&(d.defaultValue=""+u)}function aa(d){var k="";fi.Children.forEach(d,
function(u){null!=u&&(k+=u)});return k}function ea(d,k){d=df({children:void 0},k);if(k=aa(k.children))d.children=k;return d}function Ca(d,k,u,O){d=d.options;if(k){k={};for(var ja=0;ja<u.length;ja++)k["$"+u[ja]]=!0;for(u=0;u<d.length;u++)ja=k.hasOwnProperty("$"+d[u].value),d[u].selected!==ja&&(d[u].selected=ja),ja&&O&&(d[u].defaultSelected=!0)}else{u=""+La(u);k=null;for(ja=0;ja<d.length;ja++){if(d[ja].value===u){d[ja].selected=!0;O&&(d[ja].defaultSelected=!0);return}null!==k||d[ja].disabled||(k=d[ja])}null!==
k&&(k.selected=!0)}}function Ia(d,k){if(null!=k.dangerouslySetInnerHTML)throw Error(h(91));return df({},k,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function H(d,k){var u=k.value;if(null==u){u=k.children;k=k.defaultValue;if(null!=u){if(null!=k)throw Error(h(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(h(93));u=u[0]}k=u}null==k&&(k="");u=k}d._wrapperState={initialValue:La(u)}}function da(d,k){var u=La(k.value),O=La(k.defaultValue);null!=u&&(u=""+u,u!==d.value&&
(d.value=u),null==k.defaultValue&&d.defaultValue!==u&&(d.defaultValue=u));null!=O&&(d.defaultValue=""+O)}function ca(d){var k=d.textContent;k===d._wrapperState.initialValue&&""!==k&&null!==k&&(d.value=k)}function X(d){switch(d){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e(d,k){return null==d||"http://www.w3.org/1999/xhtml"===d?X(k):"http://www.w3.org/2000/svg"===d&&"foreignObject"===k?
"http://www.w3.org/1999/xhtml":d}function c(d,k){if(k){var u=d.firstChild;if(u&&u===d.lastChild&&3===u.nodeType){u.nodeValue=k;return}}d.textContent=k}function f(d,k){var u={};u[d.toLowerCase()]=k.toLowerCase();u["Webkit"+d]="webkit"+k;u["Moz"+d]="moz"+k;return u}function l(d){if(Ei[d])return Ei[d];if(!dh[d])return d;var k=dh[d],u;for(u in k)if(k.hasOwnProperty(u)&&u in wj)return Ei[d]=k[u];return d}function m(d){var k=mk.get(d);void 0===k&&(k=new Map,mk.set(d,k));return k}function q(d){var k=d,u=
d;if(d.alternate)for(;k.return;)k=k.return;else{d=k;do k=d,0!==(k.effectTag&1026)&&(u=k.return),d=k.return;while(d)}return 3===k.tag?u:null}function w(d){if(13===d.tag){var k=d.memoizedState;null===k&&(d=d.alternate,null!==d&&(k=d.memoizedState));if(null!==k)return k.dehydrated}return null}function F(d){if(q(d)!==d)throw Error(h(188));}function U(d){var k=d.alternate;if(!k){k=q(d);if(null===k)throw Error(h(188));return k!==d?null:d}for(var u=d,O=k;;){var ja=u.return;if(null===ja)break;var mb=ja.alternate;
if(null===mb){O=ja.return;if(null!==O){u=O;continue}break}if(ja.child===mb.child){for(mb=ja.child;mb;){if(mb===u)return F(ja),d;if(mb===O)return F(ja),k;mb=mb.sibling}throw Error(h(188));}if(u.return!==O.return)u=ja,O=mb;else{for(var qb=!1,Mb=ja.child;Mb;){if(Mb===u){qb=!0;u=ja;O=mb;break}if(Mb===O){qb=!0;O=ja;u=mb;break}Mb=Mb.sibling}if(!qb){for(Mb=mb.child;Mb;){if(Mb===u){qb=!0;u=mb;O=ja;break}if(Mb===O){qb=!0;O=mb;u=ja;break}Mb=Mb.sibling}if(!qb)throw Error(h(189));}}if(u.alternate!==O)throw Error(h(190));
}if(3!==u.tag)throw Error(h(188));return u.stateNode.current===u?d:k}function wa(d){d=U(d);if(!d)return null;for(var k=d;;){if(5===k.tag||6===k.tag)return k;if(k.child)k.child.return=k,k=k.child;else{if(k===d)break;for(;!k.sibling;){if(!k.return||k.return===d)return null;k=k.return}k.sibling.return=k.return;k=k.sibling}}return null}function cb(d,k){if(null==k)throw Error(h(30));if(null==d)return k;if(Array.isArray(d)){if(Array.isArray(k))return d.push.apply(d,k),d;d.push(k);return d}return Array.isArray(k)?
[d].concat(k):[d,k]}function gb(d,k,u){Array.isArray(d)?d.forEach(k,u):d&&k.call(u,d)}function Y(d){if(d){var k=d._dispatchListeners,u=d._dispatchInstances;if(Array.isArray(k))for(var O=0;O<k.length&&!d.isPropagationStopped();O++)tb(d,k[O],u[O]);else k&&tb(d,k,u);d._dispatchListeners=null;d._dispatchInstances=null;d.isPersistent()||d.constructor.release(d)}}function ta(d){null!==d&&(Ah=cb(Ah,d));d=Ah;Ah=null;if(d){gb(d,Y);if(Ah)throw Error(h(95));if(xh)throw d=rj,xh=!1,rj=null,d;}}function G(d){d=
d.target||d.srcElement||window;d.correspondingUseElement&&(d=d.correspondingUseElement);return 3===d.nodeType?d.parentNode:d}function Q(d){if(!tg)return!1;d="on"+d;var k=d in document;k||(k=document.createElement("div"),k.setAttribute(d,"return;"),k="function"===typeof k[d]);return k}function ka(d){d.topLevelType=null;d.nativeEvent=null;d.targetInst=null;d.ancestors.length=0;10>Fi.length&&Fi.push(d)}function Da(d,k,u,O){if(Fi.length){var ja=Fi.pop();ja.topLevelType=d;ja.eventSystemFlags=O;ja.nativeEvent=
k;ja.targetInst=u;return ja}return{topLevelType:d,eventSystemFlags:O,nativeEvent:k,targetInst:u,ancestors:[]}}function sb(d){var k=d.targetInst,u=k;do{if(!u){d.ancestors.push(u);break}var O=u;if(3===O.tag)O=O.stateNode.containerInfo;else{for(;O.return;)O=O.return;O=3!==O.tag?null:O.stateNode.containerInfo}if(!O)break;k=u.tag;5!==k&&6!==k||d.ancestors.push(u);u=Cc(O)}while(u);for(u=0;u<d.ancestors.length;u++){k=d.ancestors[u];var ja=G(d.nativeEvent);O=d.topLevelType;var mb=d.nativeEvent,qb=d.eventSystemFlags;
0===u&&(qb|=64);for(var Mb=null,Hc=0;Hc<Vf.length;Hc++){var Fc=Vf[Hc];Fc&&(Fc=Fc.extractEvents(O,k,mb,ja,qb))&&(Mb=cb(Mb,Fc))}ta(Mb)}}function Ya(d,k,u){if(!u.has(d)){switch(d){case "scroll":jd(k,"scroll",!0);break;case "focus":case "blur":jd(k,"focus",!0);jd(k,"blur",!0);u.set("blur",null);u.set("focus",null);break;case "cancel":case "close":Q(d)&&jd(k,d,!0);break;case "invalid":case "submit":case "reset":break;default:-1===Bh.indexOf(d)&&Gc(d,k)}u.set(d,null)}}function ob(d,k){var u=m(k);Kg.forEach(function(O){Ya(O,
k,u)});Gi.forEach(function(O){Ya(O,k,u)})}function Na(d,k,u,O,ja){return{blockedOn:d,topLevelType:k,eventSystemFlags:u|32,nativeEvent:ja,container:O}}function yb(d,k){switch(d){case "focus":case "blur":Lg=null;break;case "dragenter":case "dragleave":ug=null;break;case "mouseover":case "mouseout":Bg=null;break;case "pointerover":case "pointerout":Ch.delete(k.pointerId);break;case "gotpointercapture":case "lostpointercapture":gi.delete(k.pointerId)}}function Fb(d,k,u,O,ja,mb){if(null===d||d.nativeEvent!==
mb)return d=Na(k,u,O,ja,mb),null!==k&&(k=va(k),null!==k&&xj(k)),d;d.eventSystemFlags|=O;return d}function eb(d,k,u,O,ja){switch(k){case "focus":return Lg=Fb(Lg,d,k,u,O,ja),!0;case "dragenter":return ug=Fb(ug,d,k,u,O,ja),!0;case "mouseover":return Bg=Fb(Bg,d,k,u,O,ja),!0;case "pointerover":var mb=ja.pointerId;Ch.set(mb,Fb(Ch.get(mb)||null,d,k,u,O,ja));return!0;case "gotpointercapture":return mb=ja.pointerId,gi.set(mb,Fb(gi.get(mb)||null,d,k,u,O,ja)),!0}return!1}function Lb(d){var k=Cc(d.target);if(null!==
k){var u=q(k);if(null!==u)if(k=u.tag,13===k){if(k=w(u),null!==k){d.blockedOn=k;Cf.unstable_runWithPriority(d.priority,function(){yj(u)});return}}else if(3===k&&u.stateNode.hydrate){d.blockedOn=3===u.tag?u.stateNode.containerInfo:null;return}}d.blockedOn=null}function hc(d){if(null!==d.blockedOn)return!1;var k=Rd(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);if(null!==k){var u=va(k);null!==u&&xj(u);d.blockedOn=k;return!1}return!0}function Yb(d,k,u){hc(d)&&u.delete(k)}function Ic(){for(zj=
!1;0<cg.length;){var d=cg[0];if(null!==d.blockedOn){d=va(d.blockedOn);null!==d&&$k(d);break}var k=Rd(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);null!==k?d.blockedOn=k:cg.shift()}null!==Lg&&hc(Lg)&&(Lg=null);null!==ug&&hc(ug)&&(ug=null);null!==Bg&&hc(Bg)&&(Bg=null);Ch.forEach(Yb);gi.forEach(Yb)}function yc(d,k){d.blockedOn===k&&(d.blockedOn=null,zj||(zj=!0,Cf.unstable_scheduleCallback(Cf.unstable_NormalPriority,Ic)))}function hd(d){function k(ja){return yc(ja,d)}if(0<cg.length){yc(cg[0],
d);for(var u=1;u<cg.length;u++){var O=cg[u];O.blockedOn===d&&(O.blockedOn=null)}}null!==Lg&&yc(Lg,d);null!==ug&&yc(ug,d);null!==Bg&&yc(Bg,d);Ch.forEach(k);gi.forEach(k);for(u=0;u<Dh.length;u++)O=Dh[u],O.blockedOn===d&&(O.blockedOn=null);for(;0<Dh.length&&(u=Dh[0],null===u.blockedOn);)Lb(u),null===u.blockedOn&&Dh.shift()}function Bd(d,k){for(var u=0;u<d.length;u+=2){var O=d[u],ja=d[u+1],mb="on"+(ja[0].toUpperCase()+ja.slice(1));mb={phasedRegistrationNames:{bubbled:mb,captured:mb+"Capture"},dependencies:[O],
eventPriority:k};Hi.set(O,k);hi.set(O,mb);eh[ja]=mb}}function Gc(d,k){jd(k,d,!1)}function jd(d,k,u){var O=Hi.get(k);switch(void 0===O?2:O){case 0:O=fe.bind(null,k,1,d);break;case 1:O=Mc.bind(null,k,1,d);break;default:O=zd.bind(null,k,1,d)}u?d.addEventListener(k,O,!0):d.addEventListener(k,O,!1)}function fe(d,k,u,O){Mg||ma();var ja=zd,mb=Mg;Mg=!0;try{xa(ja,d,k,u,O)}finally{(Mg=mb)||na()}}function Mc(d,k,u,O){Ii(Aj,zd.bind(null,d,k,u,O))}function zd(d,k,u,O){if(ii)if(0<cg.length&&-1<Kg.indexOf(d))d=
Na(null,d,k,u,O),cg.push(d);else{var ja=Rd(d,k,u,O);if(null===ja)yb(d,O);else if(-1<Kg.indexOf(d))d=Na(ja,d,k,u,O),cg.push(d);else if(!eb(ja,d,k,u,O)){yb(d,O);d=Da(d,O,null,k);try{Ba(sb,d)}finally{ka(d)}}}}function Rd(d,k,u,O){u=G(O);u=Cc(u);if(null!==u){var ja=q(u);if(null===ja)u=null;else{var mb=ja.tag;if(13===mb){u=w(ja);if(null!==u)return u;u=null}else if(3===mb){if(ja.stateNode.hydrate)return 3===ja.tag?ja.stateNode.containerInfo:null;u=null}else ja!==u&&(u=null)}}d=Da(d,O,u,k);try{Ba(sb,d)}finally{ka(d)}return null}
function Db(d,k,u){return null==k||"boolean"===typeof k||""===k?"":u||"number"!==typeof k||0===k||Eh.hasOwnProperty(d)&&Eh[d]?(""+k).trim():k+"px"}function Zb(d,k){d=d.style;for(var u in k)if(k.hasOwnProperty(u)){var O=0===u.indexOf("--"),ja=Db(u,k[u],O);"float"===u&&(u="cssFloat");O?d.setProperty(u,ja):d[u]=ja}}function jb(d,k){if(k){if(nk[d]&&(null!=k.children||null!=k.dangerouslySetInnerHTML))throw Error(h(137,d,""));if(null!=k.dangerouslySetInnerHTML){if(null!=k.children)throw Error(h(60));if(!("object"===
typeof k.dangerouslySetInnerHTML&&"__html"in k.dangerouslySetInnerHTML))throw Error(h(61));}if(null!=k.style&&"object"!==typeof k.style)throw Error(h(62,""));}}function lc(d,k){if(-1===d.indexOf("-"))return"string"===typeof k.is;switch(d){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function pc(d,k){d=9===d.nodeType||11===d.nodeType?d:d.ownerDocument;
var u=m(d);k=ig[k];for(var O=0;O<k.length;O++)Ya(k[O],d,u)}function gd(){}function xd(d){d=d||("undefined"!==typeof document?document:void 0);if("undefined"===typeof d)return null;try{return d.activeElement||d.body}catch(k){return d.body}}function M(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function oa(d,k){var u=M(d);d=0;for(var O;u;){if(3===u.nodeType){O=d+u.textContent.length;if(d<=k&&O>=k)return{node:u,offset:k-d};d=O}a:{for(;u;){if(u.nextSibling){u=u.nextSibling;break a}u=u.parentNode}u=
void 0}u=M(u)}}function $a(d,k){return d&&k?d===k?!0:d&&3===d.nodeType?!1:k&&3===k.nodeType?$a(d,k.parentNode):"contains"in d?d.contains(k):d.compareDocumentPosition?!!(d.compareDocumentPosition(k)&16):!1:!1}function ub(){for(var d=window,k=xd();k instanceof d.HTMLIFrameElement;){try{var u="string"===typeof k.contentWindow.location.href}catch(O){u=!1}if(u)d=k.contentWindow;else break;k=xd(d.document)}return k}function Gb(d){var k=d&&d.nodeName&&d.nodeName.toLowerCase();return k&&("input"===k&&("text"===
d.type||"search"===d.type||"tel"===d.type||"url"===d.type||"password"===d.type)||"textarea"===k||"true"===d.contentEditable)}function Ib(d,k){switch(d){case "button":case "input":case "select":case "textarea":return!!k.autoFocus}return!1}function bc(d,k){return"textarea"===d||"option"===d||"noscript"===d||"string"===typeof k.children||"number"===typeof k.children||"object"===typeof k.dangerouslySetInnerHTML&&null!==k.dangerouslySetInnerHTML&&null!=k.dangerouslySetInnerHTML.__html}function Ub(d){for(;null!=
d;d=d.nextSibling){var k=d.nodeType;if(1===k||3===k)break}return d}function sc(d){d=d.previousSibling;for(var k=0;d;){if(8===d.nodeType){var u=d.data;if(u===Ji||u===Ki||u===ji){if(0===k)return d;k--}else u===Bj&&k++}d=d.previousSibling}return null}function Cc(d){var k=d[Cg];if(k)return k;for(var u=d.parentNode;u;){if(k=u[Fh]||u[Cg]){u=k.alternate;if(null!==k.child||null!==u&&null!==u.child)for(d=sc(d);null!==d;){if(u=d[Cg])return u;d=sc(d)}return k}d=u;u=d.parentNode}return null}function va(d){d=
d[Cg]||d[Fh];return!d||5!==d.tag&&6!==d.tag&&13!==d.tag&&3!==d.tag?null:d}function Za(d){if(5===d.tag||6===d.tag)return d.stateNode;throw Error(h(33));}function pb(d){return d[ki]||null}function Sb(d){do d=d.return;while(d&&5!==d.tag);return d?d:null}function uc(d,k){var u=d.stateNode;if(!u)return null;var O=Ai(u);if(!O)return null;u=O[k];a:switch(k){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(O=
!O.disabled)||(d=d.type,O=!("button"===d||"input"===d||"select"===d||"textarea"===d));d=!O;break a;default:d=!1}if(d)return null;if(u&&"function"!==typeof u)throw Error(h(231,k,typeof u));return u}function Ac(d,k,u){if(k=uc(d,u.dispatchConfig.phasedRegistrationNames[k]))u._dispatchListeners=cb(u._dispatchListeners,k),u._dispatchInstances=cb(u._dispatchInstances,d)}function Kc(d){if(d&&d.dispatchConfig.phasedRegistrationNames){for(var k=d._targetInst,u=[];k;)u.push(k),k=Sb(k);for(k=u.length;0<k--;)Ac(u[k],
"captured",d);for(k=0;k<u.length;k++)Ac(u[k],"bubbled",d)}}function Bb(d,k,u){d&&u&&u.dispatchConfig.registrationName&&(k=uc(d,u.dispatchConfig.registrationName))&&(u._dispatchListeners=cb(u._dispatchListeners,k),u._dispatchInstances=cb(u._dispatchInstances,d))}function Tb(d){d&&d.dispatchConfig.registrationName&&Bb(d._targetInst,null,d)}function kc(d){gb(d,Kc)}function jc(){if(li)return li;var d,k=Li,u=k.length,O,ja="value"in Ng?Ng.value:Ng.textContent,mb=ja.length;for(d=0;d<u&&k[d]===ja[d];d++);
var qb=u-d;for(O=1;O<=qb&&k[u-O]===ja[mb-O];O++);return li=ja.slice(d,1<O?1-O:void 0)}function qc(){return!0}function ed(){return!1}function od(d,k,u,O){this.dispatchConfig=d;this._targetInst=k;this.nativeEvent=u;d=this.constructor.Interface;for(var ja in d)d.hasOwnProperty(ja)&&((k=d[ja])?this[ja]=k(u):"target"===ja?this.target=O:this[ja]=u[ja]);this.isDefaultPrevented=(null!=u.defaultPrevented?u.defaultPrevented:!1===u.returnValue)?qc:ed;this.isPropagationStopped=ed;return this}function ud(d,k,
u,O){if(this.eventPool.length){var ja=this.eventPool.pop();this.call(ja,d,k,u,O);return ja}return new this(d,k,u,O)}function md(d){if(!(d instanceof this))throw Error(h(279));d.destructor();10>this.eventPool.length&&this.eventPool.push(d)}function rd(d){d.eventPool=[];d.getPooled=ud;d.release=md}function Od(d,k){switch(d){case "keyup":return-1!==Cj.indexOf(k.keyCode);case "keydown":return 229!==k.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ee(d){d=d.detail;
return"object"===typeof d&&"data"in d?d.data:null}function he(d,k){switch(d){case "compositionend":return ee(k);case "keypress":if(32!==k.which)return null;ok=!0;return pk;case "textInput":return d=k.data,d===pk&&ok?null:d;default:return null}}function Jd(d,k){if(Gh)return"compositionend"===d||!Mi&&Od(d,k)?(d=jc(),li=Li=Ng=null,Gh=!1,d):null;switch(d){case "paste":return null;case "keypress":if(!(k.ctrlKey||k.altKey||k.metaKey)||k.ctrlKey&&k.altKey){if(k.char&&1<k.char.length)return k.char;if(k.which)return String.fromCharCode(k.which)}return null;
case "compositionend":return qk&&"ko"!==k.locale?null:k.data;default:return null}}function De(d){var k=d&&d.nodeName&&d.nodeName.toLowerCase();return"input"===k?!!Dj[d.type]:"textarea"===k?!0:!1}function ne(d,k,u){d=od.getPooled(Ej.change,d,k,u);d.type="change";Ka(u);kc(d);return d}function le(d){ta(d)}function Dd(d){var k=Za(d);if(Va(k))return d}function be(d,k){if("change"===d)return k}function V(){fh&&(fh.detachEvent("onpropertychange",qa),Rf=fh=null)}function qa(d){if("value"===d.propertyName&&
Dd(Rf))if(d=ne(Rf,d,G(d)),Mg)ta(d);else{Mg=!0;try{Sa(le,d)}finally{Mg=!1,na()}}}function Ea(d,k,u){"focus"===d?(V(),fh=k,Rf=u,fh.attachEvent("onpropertychange",qa)):"blur"===d&&V()}function rb(d){if("selectionchange"===d||"keyup"===d||"keydown"===d)return Dd(Rf)}function fb(d,k){if("click"===d)return Dd(k)}function Jb(d,k){if("input"===d||"change"===d)return Dd(k)}function Rb(d){var k=this.nativeEvent;return k.getModifierState?k.getModifierState(d):(d=al[d])?!!k[d]:!1}function ic(){return Rb}function Wc(d,
k){return d===k&&(0!==d||1/d===1/k)||d!==d&&k!==k}function xc(d,k){if(vg(d,k))return!0;if("object"!==typeof d||null===d||"object"!==typeof k||null===k)return!1;var u=Object.keys(d),O=Object.keys(k);if(u.length!==O.length)return!1;for(O=0;O<u.length;O++)if(!rk.call(k,u[O])||!vg(d[u[O]],k[u[O]]))return!1;return!0}function Nc(d,k){var u=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;if(Fj||null==gh||gh!==xd(u))return null;u=gh;"selectionStart"in u&&Gb(u)?u={start:u.selectionStart,end:u.selectionEnd}:
(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset});return mi&&xc(mi,u)?null:(mi=u,d=od.getPooled(Gj.select,Hj,d,k),d.type="select",d.target=gh,kc(d),d)}function Wb(d){var k=d.keyCode;"charCode"in d?(d=d.charCode,0===d&&13===k&&(d=13)):d=k;10===d&&(d=13);return 32<=d||13===d?d:0}function sd(d){0>Mf||(d.current=of[Mf],of[Mf]=null,Mf--)}function cd(d,k){Mf++;of[Mf]=d.current;
d.current=k}function Vb(d,k){var u=d.type.contextTypes;if(!u)return wg;var O=d.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===k)return O.__reactInternalMemoizedMaskedChildContext;var ja={},mb;for(mb in u)ja[mb]=k[mb];O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=k,d.__reactInternalMemoizedMaskedChildContext=ja);return ja}function oe(d){d=d.childContextTypes;return null!==d&&void 0!==d}function qd(){sd(Sf);sd(uf)}function Wd(d,k,u){if(uf.current!==wg)throw Error(h(168));
cd(uf,k);cd(Sf,u)}function ie(d,k,u){var O=d.stateNode;d=k.childContextTypes;if("function"!==typeof O.getChildContext)return u;O=O.getChildContext();for(var ja in O)if(!(ja in d))throw Error(h(108,ya(k)||"Unknown",ja));return df({},u,{},O)}function we(d){d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||wg;hh=uf.current;cd(uf,d);cd(Sf,Sf.current);return!0}function lf(d,k,u){var O=d.stateNode;if(!O)throw Error(h(169));u?(d=ie(d,k,hh),O.__reactInternalMemoizedMergedChildContext=d,sd(Sf),
sd(uf),cd(uf,d)):sd(Sf);cd(Sf,u)}function Ze(){switch(bl()){case Hh:return 99;case Ij:return 98;case sk:return 97;case ni:return 96;case tk:return 95;default:throw Error(h(332));}}function Qd(d){switch(d){case 99:return Hh;case 98:return Ij;case 97:return sk;case 96:return ni;case 95:return tk;default:throw Error(h(332));}}function $b(d,k){d=Qd(d);return cl(d,k)}function ce(d,k,u){d=Qd(d);return Ni(d,k,u)}function gc(d){null===Dg?(Dg=[d],Oi=Ni(Hh,Xd)):Dg.push(d);return uk}function Uc(){if(null!==
Oi){var d=Oi;Oi=null;Jj(d)}Xd()}function Xd(){if(!Kj&&null!==Dg){Kj=!0;var d=0;try{var k=Dg;$b(99,function(){for(;d<k.length;d++){var u=k[d];do u=u(!0);while(null!==u)}});Dg=null}catch(u){throw null!==Dg&&(Dg=Dg.slice(d+1)),Ni(Hh,Uc),u;}finally{Kj=!1}}}function xe(d,k,u){u/=10;return 1073741821-(((1073741821-d+k/10)/u|0)+1)*u}function Yd(d,k){if(d&&d.defaultProps){k=df({},k);d=d.defaultProps;for(var u in d)void 0===k[u]&&(k[u]=d[u])}return k}function ge(d){var k=Ih.current;sd(Ih);d.type._context._currentValue=
k}function Ge(d,k){for(;null!==d;){var u=d.alternate;if(d.childExpirationTime<k)d.childExpirationTime=k,null!==u&&u.childExpirationTime<k&&(u.childExpirationTime=k);else if(null!==u&&u.childExpirationTime<k)u.childExpirationTime=k;else break;d=d.return}}function Ed(d,k){Jh=d;Kh=Og=null;d=d.dependencies;null!==d&&null!==d.firstContext&&(d.expirationTime>=k&&(xg=!0),d.firstContext=null)}function vd(d,k){if(Kh!==d&&!1!==k&&0!==k){if("number"!==typeof k||1073741823===k)Kh=d,k=1073741823;k={context:d,
observedBits:k,next:null};if(null===Og){if(null===Jh)throw Error(h(308));Og=k;Jh.dependencies={expirationTime:0,firstContext:k,responders:null}}else Og=Og.next=k}return d._currentValue}function te(d){d.updateQueue={baseState:d.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Se(d,k){d=d.updateQueue;k.updateQueue===d&&(k.updateQueue={baseState:d.baseState,baseQueue:d.baseQueue,shared:d.shared,effects:d.effects})}function dd(d,k){d={expirationTime:d,suspenseConfig:k,tag:0,payload:null,
callback:null,next:null};return d.next=d}function Ee(d,k){d=d.updateQueue;if(null!==d){d=d.shared;var u=d.pending;null===u?k.next=k:(k.next=u.next,u.next=k);d.pending=k}}function Ce(d,k){var u=d.alternate;null!==u&&Se(u,d);d=d.updateQueue;u=d.baseQueue;null===u?(d.baseQueue=k.next=k,k.next=k):(k.next=u.next,u.next=k)}function pe(d,k,u,O){var ja=d.updateQueue;Pg=!1;var mb=ja.baseQueue,qb=ja.shared.pending;if(null!==qb){if(null!==mb){var Mb=mb.next;mb.next=qb.next;qb.next=Mb}mb=qb;ja.shared.pending=
null;Mb=d.alternate;null!==Mb&&(Mb=Mb.updateQueue,null!==Mb&&(Mb.baseQueue=qb))}if(null!==mb){Mb=mb.next;var Hc=ja.baseState,Fc=0,Pd=null,Sd=null,Pe=null;if(null!==Mb){var We=Mb;do{qb=We.expirationTime;if(qb<O){var jg={expirationTime:We.expirationTime,suspenseConfig:We.suspenseConfig,tag:We.tag,payload:We.payload,callback:We.callback,next:null};null===Pe?(Sd=Pe=jg,Pd=Hc):Pe=Pe.next=jg;qb>Fc&&(Fc=qb)}else{null!==Pe&&(Pe=Pe.next={expirationTime:1073741823,suspenseConfig:We.suspenseConfig,tag:We.tag,
payload:We.payload,callback:We.callback,next:null});Ye(qb,We.suspenseConfig);a:{var Nf=d,Bc=We;qb=k;jg=u;switch(Bc.tag){case 1:Nf=Bc.payload;if("function"===typeof Nf){Hc=Nf.call(jg,Hc,qb);break a}Hc=Nf;break a;case 3:Nf.effectTag=Nf.effectTag&-4097|64;case 0:Nf=Bc.payload;qb="function"===typeof Nf?Nf.call(jg,Hc,qb):Nf;if(null===qb||void 0===qb)break a;Hc=df({},Hc,qb);break a;case 2:Pg=!0}}null!==We.callback&&(d.effectTag|=32,qb=ja.effects,null===qb?ja.effects=[We]:qb.push(We))}We=We.next;if(null===
We||We===Mb)if(qb=ja.shared.pending,null===qb)break;else We=mb.next=qb.next,qb.next=Mb,ja.baseQueue=mb=qb,ja.shared.pending=null}while(1)}null===Pe?Pd=Hc:Pe.next=Sd;ja.baseState=Pd;ja.baseQueue=Pe;mf(Fc);d.expirationTime=Fc;d.memoizedState=Hc}}function ye(d,k,u){d=k.effects;k.effects=null;if(null!==d)for(k=0;k<d.length;k++){var O=d[k],ja=O.callback;if(null!==ja){O.callback=null;O=ja;ja=u;if("function"!==typeof O)throw Error(h(191,O));O.call(ja)}}}function E(d,k,u,O){k=d.memoizedState;u=u(O,k);u=null===
u||void 0===u?k:df({},k,u);d.memoizedState=u;0===d.expirationTime&&(d.updateQueue.baseState=u)}function W(d,k,u,O,ja,mb,qb){d=d.stateNode;return"function"===typeof d.shouldComponentUpdate?d.shouldComponentUpdate(O,mb,qb):k.prototype&&k.prototype.isPureReactComponent?!xc(u,O)||!xc(ja,mb):!0}function Ma(d,k,u){var O=!1,ja=wg,mb=k.contextType;"object"===typeof mb&&null!==mb?mb=vd(mb):(ja=oe(k)?hh:uf.current,O=k.contextTypes,mb=(O=null!==O&&void 0!==O)?Vb(d,ja):wg);k=new k(u,mb);d.memoizedState=null!==
k.state&&void 0!==k.state?k.state:null;k.updater=Pi;d.stateNode=k;k._reactInternalFiber=d;O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=ja,d.__reactInternalMemoizedMaskedChildContext=mb);return k}function Cb(d,k,u,O){d=k.state;"function"===typeof k.componentWillReceiveProps&&k.componentWillReceiveProps(u,O);"function"===typeof k.UNSAFE_componentWillReceiveProps&&k.UNSAFE_componentWillReceiveProps(u,O);k.state!==d&&Pi.enqueueReplaceState(k,k.state,null)}function Ob(d,k,u,O){var ja=
d.stateNode;ja.props=u;ja.state=d.memoizedState;ja.refs=Qi;te(d);var mb=k.contextType;"object"===typeof mb&&null!==mb?ja.context=vd(mb):(mb=oe(k)?hh:uf.current,ja.context=Vb(d,mb));pe(d,u,ja,O);ja.state=d.memoizedState;mb=k.getDerivedStateFromProps;"function"===typeof mb&&(E(d,k,mb,u),ja.state=d.memoizedState);"function"===typeof k.getDerivedStateFromProps||"function"===typeof ja.getSnapshotBeforeUpdate||"function"!==typeof ja.UNSAFE_componentWillMount&&"function"!==typeof ja.componentWillMount||
(k=ja.state,"function"===typeof ja.componentWillMount&&ja.componentWillMount(),"function"===typeof ja.UNSAFE_componentWillMount&&ja.UNSAFE_componentWillMount(),k!==ja.state&&Pi.enqueueReplaceState(ja,ja.state,null),pe(d,u,ja,O),ja.state=d.memoizedState);"function"===typeof ja.componentDidMount&&(d.effectTag|=4)}function Pb(d,k,u){d=u.ref;if(null!==d&&"function"!==typeof d&&"object"!==typeof d){if(u._owner){if(u=u._owner){if(1!==u.tag)throw Error(h(309));var O=u.stateNode}if(!O)throw Error(h(147,d));
var ja=""+d;if(null!==k&&null!==k.ref&&"function"===typeof k.ref&&k.ref._stringRef===ja)return k.ref;k=function(mb){var qb=O.refs;qb===Qi&&(qb=O.refs={});null===mb?delete qb[ja]:qb[ja]=mb};k._stringRef=ja;return k}if("string"!==typeof d)throw Error(h(284));if(!u._owner)throw Error(h(290,d));}return d}function wc(d,k){if("textarea"!==d.type)throw Error(h(31,"[object Object]"===Object.prototype.toString.call(k)?"object with keys {"+Object.keys(k).join(", ")+"}":k,""));}function fc(d){function k(Bc,
vc){if(d){var Pc=Bc.lastEffect;null!==Pc?(Pc.nextEffect=vc,Bc.lastEffect=vc):Bc.firstEffect=Bc.lastEffect=vc;vc.nextEffect=null;vc.effectTag=8}}function u(Bc,vc){if(!d)return null;for(;null!==vc;)k(Bc,vc),vc=vc.sibling;return null}function O(Bc,vc){for(Bc=new Map;null!==vc;)null!==vc.key?Bc.set(vc.key,vc):Bc.set(vc.index,vc),vc=vc.sibling;return Bc}function ja(Bc,vc){Bc=yg(Bc,vc);Bc.index=0;Bc.sibling=null;return Bc}function mb(Bc,vc,Pc){Bc.index=Pc;if(!d)return vc;Pc=Bc.alternate;if(null!==Pc)return Pc=
Pc.index,Pc<vc?(Bc.effectTag=2,vc):Pc;Bc.effectTag=2;return vc}function qb(Bc){d&&null===Bc.alternate&&(Bc.effectTag=2);return Bc}function Mb(Bc,vc,Pc,wd){if(null===vc||6!==vc.tag)return vc=Ri(Pc,Bc.mode,wd),vc.return=Bc,vc;vc=ja(vc,Pc);vc.return=Bc;return vc}function Hc(Bc,vc,Pc,wd){if(null!==vc&&vc.elementType===Pc.type)return wd=ja(vc,Pc.props),wd.ref=Pb(Bc,vc,Pc),wd.return=Bc,wd;wd=oi(Pc.type,Pc.key,Pc.props,null,Bc.mode,wd);wd.ref=Pb(Bc,vc,Pc);wd.return=Bc;return wd}function Fc(Bc,vc,Pc,wd){if(null===
vc||4!==vc.tag||vc.stateNode.containerInfo!==Pc.containerInfo||vc.stateNode.implementation!==Pc.implementation)return vc=Lj(Pc,Bc.mode,wd),vc.return=Bc,vc;vc=ja(vc,Pc.children||[]);vc.return=Bc;return vc}function Pd(Bc,vc,Pc,wd,Fd){if(null===vc||7!==vc.tag)return vc=Eg(Pc,Bc.mode,wd,Fd),vc.return=Bc,vc;vc=ja(vc,Pc);vc.return=Bc;return vc}function Sd(Bc,vc,Pc){if("string"===typeof vc||"number"===typeof vc)return vc=Ri(""+vc,Bc.mode,Pc),vc.return=Bc,vc;if("object"===typeof vc&&null!==vc){switch(vc.$$typeof){case Qg:return Pc=
oi(vc.type,vc.key,vc.props,null,Bc.mode,Pc),Pc.ref=Pb(Bc,null,vc),Pc.return=Bc,Pc;case bh:return vc=Lj(vc,Bc.mode,Pc),vc.return=Bc,vc}if(Lh(vc)||K(vc))return vc=Eg(vc,Bc.mode,Pc,null),vc.return=Bc,vc;wc(Bc,vc)}return null}function Pe(Bc,vc,Pc,wd){var Fd=null!==vc?vc.key:null;if("string"===typeof Pc||"number"===typeof Pc)return null!==Fd?null:Mb(Bc,vc,""+Pc,wd);if("object"===typeof Pc&&null!==Pc){switch(Pc.$$typeof){case Qg:return Pc.key===Fd?Pc.type===Ig?Pd(Bc,vc,Pc.props.children,wd,Fd):Hc(Bc,vc,
Pc,wd):null;case bh:return Pc.key===Fd?Fc(Bc,vc,Pc,wd):null}if(Lh(Pc)||K(Pc))return null!==Fd?null:Pd(Bc,vc,Pc,wd,null);wc(Bc,Pc)}return null}function We(Bc,vc,Pc,wd,Fd){if("string"===typeof wd||"number"===typeof wd)return Bc=Bc.get(Pc)||null,Mb(vc,Bc,""+wd,Fd);if("object"===typeof wd&&null!==wd){switch(wd.$$typeof){case Qg:return Bc=Bc.get(null===wd.key?Pc:wd.key)||null,wd.type===Ig?Pd(vc,Bc,wd.props.children,Fd,wd.key):Hc(vc,Bc,wd,Fd);case bh:return Bc=Bc.get(null===wd.key?Pc:wd.key)||null,Fc(vc,
Bc,wd,Fd)}if(Lh(wd)||K(wd))return Bc=Bc.get(Pc)||null,Pd(vc,Bc,wd,Fd,null);wc(vc,wd)}return null}function jg(Bc,vc,Pc,wd){for(var Fd=null,Ud=null,me=vc,Le=vc=0,ef=null;null!==me&&Le<Pc.length;Le++){me.index>Le?(ef=me,me=null):ef=me.sibling;var Ie=Pe(Bc,me,Pc[Le],wd);if(null===Ie){null===me&&(me=ef);break}d&&me&&null===Ie.alternate&&k(Bc,me);vc=mb(Ie,vc,Le);null===Ud?Fd=Ie:Ud.sibling=Ie;Ud=Ie;me=ef}if(Le===Pc.length)return u(Bc,me),Fd;if(null===me){for(;Le<Pc.length;Le++)me=Sd(Bc,Pc[Le],wd),null!==
me&&(vc=mb(me,vc,Le),null===Ud?Fd=me:Ud.sibling=me,Ud=me);return Fd}for(me=O(Bc,me);Le<Pc.length;Le++)ef=We(me,Bc,Le,Pc[Le],wd),null!==ef&&(d&&null!==ef.alternate&&me.delete(null===ef.key?Le:ef.key),vc=mb(ef,vc,Le),null===Ud?Fd=ef:Ud.sibling=ef,Ud=ef);d&&me.forEach(function(kg){return k(Bc,kg)});return Fd}function Nf(Bc,vc,Pc,wd){var Fd=K(Pc);if("function"!==typeof Fd)throw Error(h(150));Pc=Fd.call(Pc);if(null==Pc)throw Error(h(151));for(var Ud=Fd=null,me=vc,Le=vc=0,ef=null,Ie=Pc.next();null!==me&&
!Ie.done;Le++,Ie=Pc.next()){me.index>Le?(ef=me,me=null):ef=me.sibling;var kg=Pe(Bc,me,Ie.value,wd);if(null===kg){null===me&&(me=ef);break}d&&me&&null===kg.alternate&&k(Bc,me);vc=mb(kg,vc,Le);null===Ud?Fd=kg:Ud.sibling=kg;Ud=kg;me=ef}if(Ie.done)return u(Bc,me),Fd;if(null===me){for(;!Ie.done;Le++,Ie=Pc.next())Ie=Sd(Bc,Ie.value,wd),null!==Ie&&(vc=mb(Ie,vc,Le),null===Ud?Fd=Ie:Ud.sibling=Ie,Ud=Ie);return Fd}for(me=O(Bc,me);!Ie.done;Le++,Ie=Pc.next())Ie=We(me,Bc,Le,Ie.value,wd),null!==Ie&&(d&&null!==Ie.alternate&&
me.delete(null===Ie.key?Le:Ie.key),vc=mb(Ie,vc,Le),null===Ud?Fd=Ie:Ud.sibling=Ie,Ud=Ie);d&&me.forEach(function(vk){return k(Bc,vk)});return Fd}return function(Bc,vc,Pc,wd){var Fd="object"===typeof Pc&&null!==Pc&&Pc.type===Ig&&null===Pc.key;Fd&&(Pc=Pc.props.children);var Ud="object"===typeof Pc&&null!==Pc;if(Ud)switch(Pc.$$typeof){case Qg:a:{Ud=Pc.key;for(Fd=vc;null!==Fd;){if(Fd.key===Ud){switch(Fd.tag){case 7:if(Pc.type===Ig){u(Bc,Fd.sibling);vc=ja(Fd,Pc.props.children);vc.return=Bc;Bc=vc;break a}break;
default:if(Fd.elementType===Pc.type){u(Bc,Fd.sibling);vc=ja(Fd,Pc.props);vc.ref=Pb(Bc,Fd,Pc);vc.return=Bc;Bc=vc;break a}}u(Bc,Fd);break}else k(Bc,Fd);Fd=Fd.sibling}Pc.type===Ig?(vc=Eg(Pc.props.children,Bc.mode,wd,Pc.key),vc.return=Bc,Bc=vc):(wd=oi(Pc.type,Pc.key,Pc.props,null,Bc.mode,wd),wd.ref=Pb(Bc,vc,Pc),wd.return=Bc,Bc=wd)}return qb(Bc);case bh:a:{for(Fd=Pc.key;null!==vc;){if(vc.key===Fd)if(4===vc.tag&&vc.stateNode.containerInfo===Pc.containerInfo&&vc.stateNode.implementation===Pc.implementation){u(Bc,
vc.sibling);vc=ja(vc,Pc.children||[]);vc.return=Bc;Bc=vc;break a}else{u(Bc,vc);break}else k(Bc,vc);vc=vc.sibling}vc=Lj(Pc,Bc.mode,wd);vc.return=Bc;Bc=vc}return qb(Bc)}if("string"===typeof Pc||"number"===typeof Pc)return Pc=""+Pc,null!==vc&&6===vc.tag?(u(Bc,vc.sibling),vc=ja(vc,Pc),vc.return=Bc,Bc=vc):(u(Bc,vc),vc=Ri(Pc,Bc.mode,wd),vc.return=Bc,Bc=vc),qb(Bc);if(Lh(Pc))return jg(Bc,vc,Pc,wd);if(K(Pc))return Nf(Bc,vc,Pc,wd);Ud&&wc(Bc,Pc);if("undefined"===typeof Pc&&!Fd)switch(Bc.tag){case 1:case 0:throw Bc=
Bc.type,Error(h(152,Bc.displayName||Bc.name||"Component"));}return u(Bc,vc)}}function Tc(d){if(d===Te)throw Error(h(174));return d}function Ad(d,k){cd(dg,k);cd(yf,d);cd(id,Te);d=k.nodeType;switch(d){case 9:case 11:k=(k=k.documentElement)?k.namespaceURI:e(null,"");break;default:d=8===d?k.parentNode:k,k=d.namespaceURI||null,d=d.tagName,k=e(k,d)}sd(id);cd(id,k)}function Gd(){sd(id);sd(yf);sd(dg)}function Ld(d){Tc(dg.current);var k=Tc(id.current),u=e(k,d.type);k!==u&&(cd(yf,d),cd(id,u))}function ue(d){yf.current===
d&&(sd(id),sd(yf))}function ke(d){for(var k=d;null!==k;){if(13===k.tag){var u=k.memoizedState;if(null!==u&&(u=u.dehydrated,null===u||u.data===ji||u.data===Ki))return k}else if(19===k.tag&&void 0!==k.memoizedProps.revealOrder){if(0!==(k.effectTag&64))return k}else if(null!==k.child){k.child.return=k;k=k.child;continue}if(k===d)break;for(;null===k.sibling;){if(null===k.return||k.return===d)return null;k=k.return}k.sibling.return=k.return;k=k.sibling}return null}function qe(d,k){return{responder:d,props:k}}
function Nd(){throw Error(h(321));}function je(d,k){if(null===k)return!1;for(var u=0;u<k.length&&u<d.length;u++)if(!vg(d[u],k[u]))return!1;return!0}function ze(d,k,u,O,ja,mb){Rg=mb;sf=k;k.memoizedState=null;k.updateQueue=null;k.expirationTime=0;Mh.current=null===d||null===d.memoizedState?Rl:Sl;d=u(O,ja);if(k.expirationTime===Rg){mb=0;do{k.expirationTime=0;if(!(25>mb))throw Error(h(301));mb+=1;$e=Hf=null;k.updateQueue=null;Mh.current=Tl;d=u(O,ja)}while(k.expirationTime===Rg)}Mh.current=Si;k=null!==
Hf&&null!==Hf.next;Rg=0;$e=Hf=sf=null;ih=!1;if(k)throw Error(h(300));return d}function Me(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===$e?sf.memoizedState=$e=d:$e=$e.next=d;return $e}function Xe(){if(null===Hf){var d=sf.alternate;d=null!==d?d.memoizedState:null}else d=Hf.next;var k=null===$e?sf.memoizedState:$e.next;if(null!==k)$e=k,Hf=d;else{if(null===d)throw Error(h(310));Hf=d;d={memoizedState:Hf.memoizedState,baseState:Hf.baseState,baseQueue:Hf.baseQueue,
queue:Hf.queue,next:null};null===$e?sf.memoizedState=$e=d:$e=$e.next=d}return $e}function pf(d,k){return"function"===typeof k?k(d):k}function wf(d){var k=Xe(),u=k.queue;if(null===u)throw Error(h(311));u.lastRenderedReducer=d;var O=Hf,ja=O.baseQueue,mb=u.pending;if(null!==mb){if(null!==ja){var qb=ja.next;ja.next=mb.next;mb.next=qb}O.baseQueue=ja=mb;u.pending=null}if(null!==ja){ja=ja.next;O=O.baseState;var Mb=qb=mb=null,Hc=ja;do{var Fc=Hc.expirationTime;if(Fc<Rg){var Pd={expirationTime:Hc.expirationTime,
suspenseConfig:Hc.suspenseConfig,action:Hc.action,eagerReducer:Hc.eagerReducer,eagerState:Hc.eagerState,next:null};null===Mb?(qb=Mb=Pd,mb=O):Mb=Mb.next=Pd;Fc>sf.expirationTime&&(sf.expirationTime=Fc,mf(Fc))}else null!==Mb&&(Mb=Mb.next={expirationTime:1073741823,suspenseConfig:Hc.suspenseConfig,action:Hc.action,eagerReducer:Hc.eagerReducer,eagerState:Hc.eagerState,next:null}),Ye(Fc,Hc.suspenseConfig),O=Hc.eagerReducer===d?Hc.eagerState:d(O,Hc.action);Hc=Hc.next}while(null!==Hc&&Hc!==ja);null===Mb?
mb=O:Mb.next=qb;vg(O,k.memoizedState)||(xg=!0);k.memoizedState=O;k.baseState=mb;k.baseQueue=Mb;u.lastRenderedState=O}return[k.memoizedState,u.dispatch]}function qf(d){var k=Xe(),u=k.queue;if(null===u)throw Error(h(311));u.lastRenderedReducer=d;var O=u.dispatch,ja=u.pending,mb=k.memoizedState;if(null!==ja){u.pending=null;var qb=ja=ja.next;do mb=d(mb,qb.action),qb=qb.next;while(qb!==ja);vg(mb,k.memoizedState)||(xg=!0);k.memoizedState=mb;null===k.baseQueue&&(k.baseState=mb);u.lastRenderedState=mb}return[mb,
O]}function ff(d){var k=Me();"function"===typeof d&&(d=d());k.memoizedState=k.baseState=d;d=k.queue={pending:null,dispatch:null,lastRenderedReducer:pf,lastRenderedState:d};d=d.dispatch=T.bind(null,sf,d);return[k.memoizedState,d]}function gf(d,k,u,O){d={tag:d,create:k,destroy:u,deps:O,next:null};k=sf.updateQueue;null===k?(k={lastEffect:null},sf.updateQueue=k,k.lastEffect=d.next=d):(u=k.lastEffect,null===u?k.lastEffect=d.next=d:(O=u.next,u.next=d,d.next=O,k.lastEffect=d));return d}function If(){return Xe().memoizedState}
function Je(d,k,u,O){var ja=Me();sf.effectTag|=d;ja.memoizedState=gf(1|k,u,void 0,void 0===O?null:O)}function af(d,k,u,O){var ja=Xe();O=void 0===O?null:O;var mb=void 0;if(null!==Hf){var qb=Hf.memoizedState;mb=qb.destroy;if(null!==O&&je(O,qb.deps)){gf(k,u,mb,O);return}}sf.effectTag|=d;ja.memoizedState=gf(1|k,u,mb,O)}function Qe(d,k){return Je(516,4,d,k)}function Ue(d,k){return af(516,4,d,k)}function zf(d,k){return af(4,2,d,k)}function bf(d,k){if("function"===typeof k)return d=d(),k(d),function(){k(null)};
if(null!==k&&void 0!==k)return d=d(),k.current=d,function(){k.current=null}}function Af(d,k,u){u=null!==u&&void 0!==u?u.concat([d]):null;return af(4,2,bf.bind(null,k,d),u)}function Jf(){}function Df(d,k){Me().memoizedState=[d,void 0===k?null:k];return d}function A(d,k){var u=Xe();k=void 0===k?null:k;var O=u.memoizedState;if(null!==O&&null!==k&&je(k,O[1]))return O[0];u.memoizedState=[d,k];return d}function D(d,k){var u=Xe();k=void 0===k?null:k;var O=u.memoizedState;if(null!==O&&null!==k&&je(k,O[1]))return O[0];
d=d();u.memoizedState=[d,k];return d}function N(d,k,u){var O=Ze();$b(98>O?98:O,function(){d(!0)});$b(97<O?97:O,function(){var ja=Wf.suspense;Wf.suspense=void 0===k?null:k;try{d(!1),u()}finally{Wf.suspense=ja}})}function T(d,k,u){var O=Vc(),ja=jh.suspense;O=bd(O,d,ja);ja={expirationTime:O,suspenseConfig:ja,action:u,eagerReducer:null,eagerState:null,next:null};var mb=k.pending;null===mb?ja.next=ja:(ja.next=mb.next,mb.next=ja);k.pending=ja;mb=d.alternate;if(d===sf||null!==mb&&mb===sf)ih=!0,ja.expirationTime=
Rg,sf.expirationTime=Rg;else{if(0===d.expirationTime&&(null===mb||0===mb.expirationTime)&&(mb=k.lastRenderedReducer,null!==mb))try{var qb=k.lastRenderedState,Mb=mb(qb,u);ja.eagerReducer=mb;ja.eagerState=Mb;if(vg(Mb,qb))return}catch(Hc){}finally{}ld(d,O)}}function ha(d,k){var u=lg(5,null,null,0);u.elementType="DELETED";u.type="DELETED";u.stateNode=k;u.return=d;u.effectTag=8;null!==d.lastEffect?(d.lastEffect.nextEffect=u,d.lastEffect=u):d.firstEffect=d.lastEffect=u}function pa(d,k){switch(d.tag){case 5:var u=
d.type;k=1!==k.nodeType||u.toLowerCase()!==k.nodeName.toLowerCase()?null:k;return null!==k?(d.stateNode=k,!0):!1;case 6:return k=""===d.pendingProps||3!==k.nodeType?null:k,null!==k?(d.stateNode=k,!0):!1;case 13:return!1;default:return!1}}function Ga(d){if(Sg){var k=Fg;if(k){var u=k;if(!pa(d,k)){k=Ub(u.nextSibling);if(!k||!pa(d,k)){d.effectTag=d.effectTag&-1025|2;Sg=!1;mg=d;return}ha(mg,u)}mg=d;Fg=Ub(k.firstChild)}else d.effectTag=d.effectTag&-1025|2,Sg=!1,mg=d}}function db(d){for(d=d.return;null!==
d&&5!==d.tag&&3!==d.tag&&13!==d.tag;)d=d.return;mg=d}function Ua(d){if(d!==mg)return!1;if(!Sg)return db(d),Sg=!0,!1;var k=d.type;if(5!==d.tag||"head"!==k&&"body"!==k&&!bc(k,d.memoizedProps))for(k=Fg;k;)ha(d,k),k=Ub(k.nextSibling);db(d);if(13===d.tag){d=d.memoizedState;d=null!==d?d.dehydrated:null;if(!d)throw Error(h(317));a:{d=d.nextSibling;for(k=0;d;){if(8===d.nodeType){var u=d.data;if(u===Bj){if(0===k){Fg=Ub(d.nextSibling);break a}k--}else u!==Ji&&u!==Ki&&u!==ji||k++}d=d.nextSibling}Fg=null}}else Fg=
mg?Ub(d.stateNode.nextSibling):null;return!0}function lb(d,k,u,O){k.child=null===d?Ae(k,null,u,O):Tf(k,d.child,u,O)}function nb(d,k,u,O,ja){u=u.render;var mb=k.ref;Ed(k,ja);O=ze(d,k,u,O,mb,ja);if(null!==d&&!xg)return k.updateQueue=d.updateQueue,k.effectTag&=-517,d.expirationTime<=ja&&(d.expirationTime=0),Nb(d,k,ja);k.effectTag|=1;lb(d,k,O,ja);return k.child}function Ab(d,k,u,O,ja,mb){if(null===d){var qb=u.type;if("function"===typeof qb&&!Tg(qb)&&void 0===qb.defaultProps&&null===u.compare&&void 0===
u.defaultProps)return k.tag=15,k.type=qb,Xb(d,k,qb,O,ja,mb);d=oi(u.type,null,O,null,k.mode,mb);d.ref=k.ref;d.return=k;return k.child=d}qb=d.child;if(ja<mb&&(ja=qb.memoizedProps,u=u.compare,u=null!==u?u:xc,u(ja,O)&&d.ref===k.ref))return Nb(d,k,mb);k.effectTag|=1;d=yg(qb,O);d.ref=k.ref;d.return=k;return k.child=d}function Xb(d,k,u,O,ja,mb){return null!==d&&xc(d.memoizedProps,O)&&d.ref===k.ref&&(xg=!1,ja<mb)?(k.expirationTime=d.expirationTime,Nb(d,k,mb)):Jc(d,k,u,O,mb)}function mc(d,k){var u=k.ref;if(null===
d&&null!==u||null!==d&&d.ref!==u)k.effectTag|=128}function Jc(d,k,u,O,ja){var mb=oe(u)?hh:uf.current;mb=Vb(k,mb);Ed(k,ja);u=ze(d,k,u,O,mb,ja);if(null!==d&&!xg)return k.updateQueue=d.updateQueue,k.effectTag&=-517,d.expirationTime<=ja&&(d.expirationTime=0),Nb(d,k,ja);k.effectTag|=1;lb(d,k,u,ja);return k.child}function t(d,k,u,O,ja){if(oe(u)){var mb=!0;we(k)}else mb=!1;Ed(k,ja);if(null===k.stateNode)null!==d&&(d.alternate=null,k.alternate=null,k.effectTag|=2),Ma(k,u,O),Ob(k,u,O,ja),O=!0;else if(null===
d){var qb=k.stateNode,Mb=k.memoizedProps;qb.props=Mb;var Hc=qb.context,Fc=u.contextType;"object"===typeof Fc&&null!==Fc?Fc=vd(Fc):(Fc=oe(u)?hh:uf.current,Fc=Vb(k,Fc));var Pd=u.getDerivedStateFromProps,Sd="function"===typeof Pd||"function"===typeof qb.getSnapshotBeforeUpdate;Sd||"function"!==typeof qb.UNSAFE_componentWillReceiveProps&&"function"!==typeof qb.componentWillReceiveProps||(Mb!==O||Hc!==Fc)&&Cb(k,qb,O,Fc);Pg=!1;var Pe=k.memoizedState;qb.state=Pe;pe(k,O,qb,ja);Hc=k.memoizedState;Mb!==O||
Pe!==Hc||Sf.current||Pg?("function"===typeof Pd&&(E(k,u,Pd,O),Hc=k.memoizedState),(Mb=Pg||W(k,u,Mb,O,Pe,Hc,Fc))?(Sd||"function"!==typeof qb.UNSAFE_componentWillMount&&"function"!==typeof qb.componentWillMount||("function"===typeof qb.componentWillMount&&qb.componentWillMount(),"function"===typeof qb.UNSAFE_componentWillMount&&qb.UNSAFE_componentWillMount()),"function"===typeof qb.componentDidMount&&(k.effectTag|=4)):("function"===typeof qb.componentDidMount&&(k.effectTag|=4),k.memoizedProps=O,k.memoizedState=
Hc),qb.props=O,qb.state=Hc,qb.context=Fc,O=Mb):("function"===typeof qb.componentDidMount&&(k.effectTag|=4),O=!1)}else qb=k.stateNode,Se(d,k),Mb=k.memoizedProps,qb.props=k.type===k.elementType?Mb:Yd(k.type,Mb),Hc=qb.context,Fc=u.contextType,"object"===typeof Fc&&null!==Fc?Fc=vd(Fc):(Fc=oe(u)?hh:uf.current,Fc=Vb(k,Fc)),Pd=u.getDerivedStateFromProps,(Sd="function"===typeof Pd||"function"===typeof qb.getSnapshotBeforeUpdate)||"function"!==typeof qb.UNSAFE_componentWillReceiveProps&&"function"!==typeof qb.componentWillReceiveProps||
(Mb!==O||Hc!==Fc)&&Cb(k,qb,O,Fc),Pg=!1,Hc=k.memoizedState,qb.state=Hc,pe(k,O,qb,ja),Pe=k.memoizedState,Mb!==O||Hc!==Pe||Sf.current||Pg?("function"===typeof Pd&&(E(k,u,Pd,O),Pe=k.memoizedState),(Pd=Pg||W(k,u,Mb,O,Hc,Pe,Fc))?(Sd||"function"!==typeof qb.UNSAFE_componentWillUpdate&&"function"!==typeof qb.componentWillUpdate||("function"===typeof qb.componentWillUpdate&&qb.componentWillUpdate(O,Pe,Fc),"function"===typeof qb.UNSAFE_componentWillUpdate&&qb.UNSAFE_componentWillUpdate(O,Pe,Fc)),"function"===
typeof qb.componentDidUpdate&&(k.effectTag|=4),"function"===typeof qb.getSnapshotBeforeUpdate&&(k.effectTag|=256)):("function"!==typeof qb.componentDidUpdate||Mb===d.memoizedProps&&Hc===d.memoizedState||(k.effectTag|=4),"function"!==typeof qb.getSnapshotBeforeUpdate||Mb===d.memoizedProps&&Hc===d.memoizedState||(k.effectTag|=256),k.memoizedProps=O,k.memoizedState=Pe),qb.props=O,qb.state=Pe,qb.context=Fc,O=Pd):("function"!==typeof qb.componentDidUpdate||Mb===d.memoizedProps&&Hc===d.memoizedState||(k.effectTag|=
4),"function"!==typeof qb.getSnapshotBeforeUpdate||Mb===d.memoizedProps&&Hc===d.memoizedState||(k.effectTag|=256),O=!1);return y(d,k,u,O,mb,ja)}function y(d,k,u,O,ja,mb){mc(d,k);var qb=0!==(k.effectTag&64);if(!O&&!qb)return ja&&lf(k,u,!1),Nb(d,k,mb);O=k.stateNode;Ul.current=k;var Mb=qb&&"function"!==typeof u.getDerivedStateFromError?null:O.render();k.effectTag|=1;null!==d&&qb?(k.child=Tf(k,d.child,null,mb),k.child=Tf(k,null,Mb,mb)):lb(d,k,Mb,mb);k.memoizedState=O.state;ja&&lf(k,u,!0);return k.child}
function S(d){var k=d.stateNode;k.pendingContext?Wd(d,k.pendingContext,k.pendingContext!==k.context):k.context&&Wd(d,k.context,!1);Ad(d,k.containerInfo)}function ba(d,k,u){var O=k.mode,ja=k.pendingProps,mb=rf.current,qb=!1,Mb;(Mb=0!==(k.effectTag&64))||(Mb=0!==(mb&2)&&(null===d||null!==d.memoizedState));Mb?(qb=!0,k.effectTag&=-65):null!==d&&null===d.memoizedState||void 0===ja.fallback||!0===ja.unstable_avoidThisFallback||(mb|=1);cd(rf,mb&1);if(null===d){void 0!==ja.fallback&&Ga(k);if(qb){qb=ja.fallback;
ja=Eg(null,O,0,null);ja.return=k;if(0===(k.mode&2))for(d=null!==k.memoizedState?k.child.child:k.child,ja.child=d;null!==d;)d.return=ja,d=d.sibling;u=Eg(qb,O,u,null);u.return=k;ja.sibling=u;k.memoizedState=Mj;k.child=ja;return u}O=ja.children;k.memoizedState=null;return k.child=Ae(k,null,O,u)}if(null!==d.memoizedState){d=d.child;O=d.sibling;if(qb){ja=ja.fallback;u=yg(d,d.pendingProps);u.return=k;if(0===(k.mode&2)&&(qb=null!==k.memoizedState?k.child.child:k.child,qb!==d.child))for(u.child=qb;null!==
qb;)qb.return=u,qb=qb.sibling;O=yg(O,ja);O.return=k;u.sibling=O;u.childExpirationTime=0;k.memoizedState=Mj;k.child=u;return O}u=Tf(k,d.child,ja.children,u);k.memoizedState=null;return k.child=u}d=d.child;if(qb){qb=ja.fallback;ja=Eg(null,O,0,null);ja.return=k;ja.child=d;null!==d&&(d.return=ja);if(0===(k.mode&2))for(d=null!==k.memoizedState?k.child.child:k.child,ja.child=d;null!==d;)d.return=ja,d=d.sibling;u=Eg(qb,O,u,null);u.return=k;ja.sibling=u;u.effectTag|=2;ja.childExpirationTime=0;k.memoizedState=
Mj;k.child=ja;return u}k.memoizedState=null;return k.child=Tf(k,d,ja.children,u)}function Wa(d,k){d.expirationTime<k&&(d.expirationTime=k);var u=d.alternate;null!==u&&u.expirationTime<k&&(u.expirationTime=k);Ge(d.return,k)}function vb(d,k,u,O,ja,mb){var qb=d.memoizedState;null===qb?d.memoizedState={isBackwards:k,rendering:null,renderingStartTime:0,last:O,tail:u,tailExpiration:0,tailMode:ja,lastEffect:mb}:(qb.isBackwards=k,qb.rendering=null,qb.renderingStartTime=0,qb.last=O,qb.tail=u,qb.tailExpiration=
0,qb.tailMode=ja,qb.lastEffect=mb)}function Eb(d,k,u){var O=k.pendingProps,ja=O.revealOrder,mb=O.tail;lb(d,k,O.children,u);O=rf.current;if(0!==(O&2))O=O&1|2,k.effectTag|=64;else{if(null!==d&&0!==(d.effectTag&64))a:for(d=k.child;null!==d;){if(13===d.tag)null!==d.memoizedState&&Wa(d,u);else if(19===d.tag)Wa(d,u);else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===k)break a;for(;null===d.sibling;){if(null===d.return||d.return===k)break a;d=d.return}d.sibling.return=d.return;d=d.sibling}O&=
1}cd(rf,O);if(0===(k.mode&2))k.memoizedState=null;else switch(ja){case "forwards":u=k.child;for(ja=null;null!==u;)d=u.alternate,null!==d&&null===ke(d)&&(ja=u),u=u.sibling;u=ja;null===u?(ja=k.child,k.child=null):(ja=u.sibling,u.sibling=null);vb(k,!1,ja,u,mb,k.lastEffect);break;case "backwards":u=null;ja=k.child;for(k.child=null;null!==ja;){d=ja.alternate;if(null!==d&&null===ke(d)){k.child=ja;break}d=ja.sibling;ja.sibling=u;u=ja;ja=d}vb(k,!0,u,null,mb,k.lastEffect);break;case "together":vb(k,!1,null,
null,void 0,k.lastEffect);break;default:k.memoizedState=null}return k.child}function Nb(d,k,u){null!==d&&(k.dependencies=d.dependencies);var O=k.expirationTime;0!==O&&mf(O);if(k.childExpirationTime<u)return null;if(null!==d&&k.child!==d.child)throw Error(h(153));if(null!==k.child){d=k.child;u=yg(d,d.pendingProps);k.child=u;for(u.return=k;null!==d.sibling;)d=d.sibling,u=u.sibling=yg(d,d.pendingProps),u.return=k;u.sibling=null}return k.child}function cc(d,k){switch(d.tailMode){case "hidden":k=d.tail;
for(var u=null;null!==k;)null!==k.alternate&&(u=k),k=k.sibling;null===u?d.tail=null:u.sibling=null;break;case "collapsed":u=d.tail;for(var O=null;null!==u;)null!==u.alternate&&(O=u),u=u.sibling;null===O?k||null===d.tail?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Dc(d,k,u){var O=k.pendingProps;switch(k.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return oe(k.type)&&qd(),null;case 3:return Gd(),sd(Sf),sd(uf),u=k.stateNode,u.pendingContext&&
(u.context=u.pendingContext,u.pendingContext=null),null!==d&&null!==d.child||!Ua(k)||(k.effectTag|=4),dl(k),null;case 5:ue(k);u=Tc(dg.current);var ja=k.type;if(null!==d&&null!=k.stateNode)Vl(d,k,ja,O,u),d.ref!==k.ref&&(k.effectTag|=128);else{if(!O){if(null===k.stateNode)throw Error(h(166));return null}d=Tc(id.current);if(Ua(k)){O=k.stateNode;ja=k.type;var mb=k.memoizedProps;O[Cg]=k;O[ki]=mb;switch(ja){case "iframe":case "object":case "embed":Gc("load",O);break;case "video":case "audio":for(d=0;d<
Bh.length;d++)Gc(Bh[d],O);break;case "source":Gc("error",O);break;case "img":case "image":case "link":Gc("error",O);Gc("load",O);break;case "form":Gc("reset",O);Gc("submit",O);break;case "details":Gc("toggle",O);break;case "input":x(O,mb);Gc("invalid",O);pc(u,"onChange");break;case "select":O._wrapperState={wasMultiple:!!mb.multiple};Gc("invalid",O);pc(u,"onChange");break;case "textarea":H(O,mb),Gc("invalid",O),pc(u,"onChange")}jb(ja,mb);d=null;for(var qb in mb)if(mb.hasOwnProperty(qb)){var Mb=mb[qb];
"children"===qb?"string"===typeof Mb?O.textContent!==Mb&&(d=["children",Mb]):"number"===typeof Mb&&O.textContent!==""+Mb&&(d=["children",""+Mb]):Ag.hasOwnProperty(qb)&&null!=Mb&&pc(u,qb)}switch(ja){case "input":ab(O);B(O,mb,!0);break;case "textarea":ab(O);ca(O);break;case "select":case "option":break;default:"function"===typeof mb.onClick&&(O.onclick=gd)}u=d;k.updateQueue=u;null!==u&&(k.effectTag|=4)}else{qb=9===u.nodeType?u:u.ownerDocument;"http://www.w3.org/1999/xhtml"===d&&(d=X(ja));"http://www.w3.org/1999/xhtml"===
d?"script"===ja?(d=qb.createElement("div"),d.innerHTML="\x3cscript\x3e\x3c/script\x3e",d=d.removeChild(d.firstChild)):"string"===typeof O.is?d=qb.createElement(ja,{is:O.is}):(d=qb.createElement(ja),"select"===ja&&(qb=d,O.multiple?qb.multiple=!0:O.size&&(qb.size=O.size))):d=qb.createElementNS(d,ja);d[Cg]=k;d[ki]=O;Wl(d,k,!1,!1);k.stateNode=d;qb=lc(ja,O);switch(ja){case "iframe":case "object":case "embed":Gc("load",d);Mb=O;break;case "video":case "audio":for(Mb=0;Mb<Bh.length;Mb++)Gc(Bh[Mb],d);Mb=O;
break;case "source":Gc("error",d);Mb=O;break;case "img":case "image":case "link":Gc("error",d);Gc("load",d);Mb=O;break;case "form":Gc("reset",d);Gc("submit",d);Mb=O;break;case "details":Gc("toggle",d);Mb=O;break;case "input":x(d,O);Mb=I(d,O);Gc("invalid",d);pc(u,"onChange");break;case "option":Mb=ea(d,O);break;case "select":d._wrapperState={wasMultiple:!!O.multiple};Mb=df({},O,{value:void 0});Gc("invalid",d);pc(u,"onChange");break;case "textarea":H(d,O);Mb=Ia(d,O);Gc("invalid",d);pc(u,"onChange");
break;default:Mb=O}jb(ja,Mb);var Hc=Mb;for(mb in Hc)if(Hc.hasOwnProperty(mb)){var Fc=Hc[mb];"style"===mb?Zb(d,Fc):"dangerouslySetInnerHTML"===mb?(Fc=Fc?Fc.__html:void 0,null!=Fc&&Nj(d,Fc)):"children"===mb?"string"===typeof Fc?("textarea"!==ja||""!==Fc)&&c(d,Fc):"number"===typeof Fc&&c(d,""+Fc):"suppressContentEditableWarning"!==mb&&"suppressHydrationWarning"!==mb&&"autoFocus"!==mb&&(Ag.hasOwnProperty(mb)?null!=Fc&&pc(u,mb):null!=Fc&&Ta(d,mb,Fc,qb))}switch(ja){case "input":ab(d);B(d,O,!1);break;case "textarea":ab(d);
ca(d);break;case "option":null!=O.value&&d.setAttribute("value",""+La(O.value));break;case "select":d.multiple=!!O.multiple;u=O.value;null!=u?Ca(d,!!O.multiple,u,!1):null!=O.defaultValue&&Ca(d,!!O.multiple,O.defaultValue,!0);break;default:"function"===typeof Mb.onClick&&(d.onclick=gd)}Ib(ja,O)&&(k.effectTag|=4)}null!==k.ref&&(k.effectTag|=128)}return null;case 6:if(d&&null!=k.stateNode)Xl(d,k,d.memoizedProps,O);else{if("string"!==typeof O&&null===k.stateNode)throw Error(h(166));u=Tc(dg.current);Tc(id.current);
Ua(k)?(u=k.stateNode,O=k.memoizedProps,u[Cg]=k,u.nodeValue!==O&&(k.effectTag|=4)):(u=(9===u.nodeType?u:u.ownerDocument).createTextNode(O),u[Cg]=k,k.stateNode=u)}return null;case 13:sd(rf);O=k.memoizedState;if(0!==(k.effectTag&64))return k.expirationTime=u,k;u=null!==O;O=!1;null===d?void 0!==k.memoizedProps.fallback&&Ua(k):(ja=d.memoizedState,O=null!==ja,u||null===ja||(ja=d.child.sibling,null!==ja&&(mb=k.firstEffect,null!==mb?(k.firstEffect=ja,ja.nextEffect=mb):(k.firstEffect=k.lastEffect=ja,ja.nextEffect=
null),ja.effectTag=8)));if(u&&!O&&0!==(k.mode&2))if(null===d&&!0!==k.memoizedProps.unstable_avoidThisFallback||0!==(rf.current&1))Kf===kh&&(Kf=Nh);else{if(Kf===kh||Kf===Nh)Kf=Ti;0!==Zf&&null!==eg&&(lh(eg,$f),Oh(eg,Zf))}if(u||O)k.effectTag|=4;return null;case 4:return Gd(),dl(k),null;case 10:return ge(k),null;case 17:return oe(k.type)&&qd(),null;case 19:sd(rf);O=k.memoizedState;if(null===O)return null;ja=0!==(k.effectTag&64);mb=O.rendering;if(null===mb)if(ja)cc(O,!1);else{if(Kf!==kh||null!==d&&0!==
(d.effectTag&64))for(mb=k.child;null!==mb;){d=ke(mb);if(null!==d){k.effectTag|=64;cc(O,!1);ja=d.updateQueue;null!==ja&&(k.updateQueue=ja,k.effectTag|=4);null===O.lastEffect&&(k.firstEffect=null);k.lastEffect=O.lastEffect;for(O=k.child;null!==O;)ja=O,mb=u,ja.effectTag&=2,ja.nextEffect=null,ja.firstEffect=null,ja.lastEffect=null,d=ja.alternate,null===d?(ja.childExpirationTime=0,ja.expirationTime=mb,ja.child=null,ja.memoizedProps=null,ja.memoizedState=null,ja.updateQueue=null,ja.dependencies=null):(ja.childExpirationTime=
d.childExpirationTime,ja.expirationTime=d.expirationTime,ja.child=d.child,ja.memoizedProps=d.memoizedProps,ja.memoizedState=d.memoizedState,ja.updateQueue=d.updateQueue,mb=d.dependencies,ja.dependencies=null===mb?null:{expirationTime:mb.expirationTime,firstContext:mb.firstContext,responders:mb.responders}),O=O.sibling;cd(rf,rf.current&1|2);return k.child}mb=mb.sibling}}else{if(!ja)if(d=ke(mb),null!==d){if(k.effectTag|=64,ja=!0,u=d.updateQueue,null!==u&&(k.updateQueue=u,k.effectTag|=4),cc(O,!0),null===
O.tail&&"hidden"===O.tailMode&&!mb.alternate)return k=k.lastEffect=O.lastEffect,null!==k&&(k.nextEffect=null),null}else 2*fg()-O.renderingStartTime>O.tailExpiration&&1<u&&(k.effectTag|=64,ja=!0,cc(O,!1),k.expirationTime=k.childExpirationTime=u-1);O.isBackwards?(mb.sibling=k.child,k.child=mb):(u=O.last,null!==u?u.sibling=mb:k.child=mb,O.last=mb)}return null!==O.tail?(0===O.tailExpiration&&(O.tailExpiration=fg()+500),u=O.tail,O.rendering=u,O.tail=u.sibling,O.lastEffect=k.lastEffect,O.renderingStartTime=
fg(),u.sibling=null,k=rf.current,cd(rf,ja?k&1|2:k&1),u):null}throw Error(h(156,k.tag));}function zc(d){switch(d.tag){case 1:oe(d.type)&&qd();var k=d.effectTag;return k&4096?(d.effectTag=k&-4097|64,d):null;case 3:Gd();sd(Sf);sd(uf);k=d.effectTag;if(0!==(k&64))throw Error(h(285));d.effectTag=k&-4097|64;return d;case 5:return ue(d),null;case 13:return sd(rf),k=d.effectTag,k&4096?(d.effectTag=k&-4097|64,d):null;case 19:return sd(rf),null;case 4:return Gd(),null;case 10:return ge(d),null;default:return null}}
function td(d,k){return{value:d,source:k,stack:ua(k)}}function Id(d,k){var u=k.source,O=k.stack;null===O&&null!==u&&(O=ua(u));null!==u&&ya(u.type);k=k.value;null!==d&&1===d.tag&&ya(d.type);try{console.error(k)}catch(ja){setTimeout(function(){throw ja;})}}function Rc(d,k){try{k.props=d.memoizedProps,k.state=d.memoizedState,k.componentWillUnmount()}catch(u){mh(d,u)}}function Hd(d){var k=d.ref;if(null!==k)if("function"===typeof k)try{k(null)}catch(u){mh(d,u)}else k.current=null}function Vd(d,k){switch(k.tag){case 0:case 11:case 15:case 22:return;
case 1:if(k.effectTag&256&&null!==d){var u=d.memoizedProps,O=d.memoizedState;d=k.stateNode;k=d.getSnapshotBeforeUpdate(k.elementType===k.type?u:Yd(k.type,u),O);d.__reactInternalSnapshotBeforeUpdate=k}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(h(163));}function ve(d,k){k=k.updateQueue;k=null!==k?k.lastEffect:null;if(null!==k){var u=k=k.next;do{if((u.tag&d)===d){var O=u.destroy;u.destroy=void 0;void 0!==O&&O()}u=u.next}while(u!==k)}}function Z(d,k){k=k.updateQueue;k=null!==k?k.lastEffect:
null;if(null!==k){var u=k=k.next;do{if((u.tag&d)===d){var O=u.create;u.destroy=O()}u=u.next}while(u!==k)}}function sa(d,k,u){switch(u.tag){case 0:case 11:case 15:case 22:Z(3,u);return;case 1:d=u.stateNode;if(u.effectTag&4)if(null===k)d.componentDidMount();else{var O=u.elementType===u.type?k.memoizedProps:Yd(u.type,k.memoizedProps);d.componentDidUpdate(O,k.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}k=u.updateQueue;null!==k&&ye(u,k,d);return;case 3:k=u.updateQueue;if(null!==k){d=null;if(null!==
u.child)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}ye(u,k,d)}return;case 5:d=u.stateNode;null===k&&u.effectTag&4&&Ib(u.type,u.memoizedProps)&&d.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===u.memoizedState&&(u=u.alternate,null!==u&&(u=u.memoizedState,null!==u&&(u=u.dehydrated,null!==u&&hd(u))));return;case 19:case 17:case 20:case 21:return}throw Error(h(163));}function Ja(d,k,u){"function"===typeof Ui&&Ui(k);switch(k.tag){case 0:case 11:case 14:case 15:case 22:d=
k.updateQueue;if(null!==d&&(d=d.lastEffect,null!==d)){var O=d.next;$b(97<u?97:u,function(){var ja=O;do{var mb=ja.destroy;if(void 0!==mb){var qb=k;try{mb()}catch(Mb){mh(qb,Mb)}}ja=ja.next}while(ja!==O)})}break;case 1:Hd(k);u=k.stateNode;"function"===typeof u.componentWillUnmount&&Rc(k,u);break;case 5:Hd(k);break;case 4:nc(d,k,u)}}function ib(d){var k=d.alternate;d.return=null;d.child=null;d.memoizedState=null;d.updateQueue=null;d.dependencies=null;d.alternate=null;d.firstEffect=null;d.lastEffect=null;
d.pendingProps=null;d.memoizedProps=null;d.stateNode=null;null!==k&&ib(k)}function xb(d){return 5===d.tag||3===d.tag||4===d.tag}function ac(d){a:{for(var k=d.return;null!==k;){if(xb(k)){var u=k;break a}k=k.return}throw Error(h(160));}k=u.stateNode;switch(u.tag){case 5:var O=!1;break;case 3:k=k.containerInfo;O=!0;break;case 4:k=k.containerInfo;O=!0;break;default:throw Error(h(161));}u.effectTag&16&&(c(k,""),u.effectTag&=-17);u=d;a:b:for(;;){for(;null===u.sibling;){if(null===u.return||xb(u.return)){u=
null;break a}u=u.return}u.sibling.return=u.return;for(u=u.sibling;5!==u.tag&&6!==u.tag&&18!==u.tag;){if(u.effectTag&2)continue b;if(null===u.child||4===u.tag)continue b;else u.child.return=u,u=u.child}if(!(u.effectTag&2)){u=u.stateNode;break a}}O?dc(d,u,k):ec(d,u,k)}function dc(d,k,u){var O=d.tag,ja=5===O||6===O;if(ja)d=ja?d.stateNode:d.stateNode.instance,k?8===u.nodeType?u.parentNode.insertBefore(d,k):u.insertBefore(d,k):(8===u.nodeType?(k=u.parentNode,k.insertBefore(d,u)):(k=u,k.appendChild(d)),
u=u._reactRootContainer,null!==u&&void 0!==u||null!==k.onclick||(k.onclick=gd));else if(4!==O&&(d=d.child,null!==d))for(dc(d,k,u),d=d.sibling;null!==d;)dc(d,k,u),d=d.sibling}function ec(d,k,u){var O=d.tag,ja=5===O||6===O;if(ja)d=ja?d.stateNode:d.stateNode.instance,k?u.insertBefore(d,k):u.appendChild(d);else if(4!==O&&(d=d.child,null!==d))for(ec(d,k,u),d=d.sibling;null!==d;)ec(d,k,u),d=d.sibling}function nc(d,k,u){for(var O=k,ja=!1,mb,qb;;){if(!ja){ja=O.return;a:for(;;){if(null===ja)throw Error(h(160));
mb=ja.stateNode;switch(ja.tag){case 5:qb=!1;break a;case 3:mb=mb.containerInfo;qb=!0;break a;case 4:mb=mb.containerInfo;qb=!0;break a}ja=ja.return}ja=!0}if(5===O.tag||6===O.tag){var Mb=d,Hc=O,Fc=u,Pd=Hc;a:for(;;)if(Ja(Mb,Pd,Fc),null!==Pd.child&&4!==Pd.tag)Pd.child.return=Pd,Pd=Pd.child;else{if(Pd===Hc)break a;for(;null===Pd.sibling;){if(null===Pd.return||Pd.return===Hc)break a;Pd=Pd.return}Pd.sibling.return=Pd.return;Pd=Pd.sibling}qb?(Mb=mb,Hc=O.stateNode,8===Mb.nodeType?Mb.parentNode.removeChild(Hc):
Mb.removeChild(Hc)):mb.removeChild(O.stateNode)}else if(4===O.tag){if(null!==O.child){mb=O.stateNode.containerInfo;qb=!0;O.child.return=O;O=O.child;continue}}else if(Ja(d,O,u),null!==O.child){O.child.return=O;O=O.child;continue}if(O===k)break;for(;null===O.sibling;){if(null===O.return||O.return===k)return;O=O.return;4===O.tag&&(ja=!1)}O.sibling.return=O.return;O=O.sibling}}function rc(d,k){switch(k.tag){case 0:case 11:case 14:case 15:case 22:ve(3,k);return;case 1:return;case 5:var u=k.stateNode;if(null!=
u){var O=k.memoizedProps,ja=null!==d?d.memoizedProps:O;d=k.type;var mb=k.updateQueue;k.updateQueue=null;if(null!==mb){u[ki]=O;"input"===d&&"radio"===O.type&&null!=O.name&&L(u,O);lc(d,ja);k=lc(d,O);for(ja=0;ja<mb.length;ja+=2){var qb=mb[ja],Mb=mb[ja+1];"style"===qb?Zb(u,Mb):"dangerouslySetInnerHTML"===qb?Nj(u,Mb):"children"===qb?c(u,Mb):Ta(u,qb,Mb,k)}switch(d){case "input":J(u,O);break;case "textarea":da(u,O);break;case "select":k=u._wrapperState.wasMultiple,u._wrapperState.wasMultiple=!!O.multiple,
d=O.value,null!=d?Ca(u,!!O.multiple,d,!1):k!==!!O.multiple&&(null!=O.defaultValue?Ca(u,!!O.multiple,O.defaultValue,!0):Ca(u,!!O.multiple,O.multiple?[]:"",!1))}}}return;case 6:if(null===k.stateNode)throw Error(h(162));k.stateNode.nodeValue=k.memoizedProps;return;case 3:k=k.stateNode;k.hydrate&&(k.hydrate=!1,hd(k.containerInfo));return;case 12:return;case 13:u=k;null===k.memoizedState?O=!1:(O=!0,u=k.child,Vi=fg());if(null!==u)a:for(d=u;;){if(5===d.tag)mb=d.stateNode,O?(mb=mb.style,"function"===typeof mb.setProperty?
mb.setProperty("display","none","important"):mb.display="none"):(mb=d.stateNode,ja=d.memoizedProps.style,ja=void 0!==ja&&null!==ja&&ja.hasOwnProperty("display")?ja.display:null,mb.style.display=Db("display",ja));else if(6===d.tag)d.stateNode.nodeValue=O?"":d.memoizedProps;else if(13===d.tag&&null!==d.memoizedState&&null===d.memoizedState.dehydrated){mb=d.child.sibling;mb.return=d;d=mb;continue}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===u)break;for(;null===d.sibling;){if(null===
d.return||d.return===u)break a;d=d.return}d.sibling.return=d.return;d=d.sibling}ad(k);return;case 19:ad(k);return;case 17:return}throw Error(h(163));}function ad(d){var k=d.updateQueue;if(null!==k){d.updateQueue=null;var u=d.stateNode;null===u&&(u=d.stateNode=new Yl);k.forEach(function(O){var ja=Oj.bind(null,d,O);u.has(O)||(u.add(O),O.then(ja,ja))})}}function Lc(d,k,u){u=dd(u,null);u.tag=3;u.payload={element:null};var O=k.value;u.callback=function(){Wi||(Wi=!0,Pj=O);Id(d,k)};return u}function Oc(d,
k,u){u=dd(u,null);u.tag=3;var O=d.type.getDerivedStateFromError;if("function"===typeof O){var ja=k.value;u.payload=function(){Id(d,k);return O(ja)}}var mb=d.stateNode;null!==mb&&"function"===typeof mb.componentDidCatch&&(u.callback=function(){"function"!==typeof O&&(null===Ug?Ug=new Set([this]):Ug.add(this),Id(d,k));var qb=k.stack;this.componentDidCatch(k.value,{componentStack:null!==qb?qb:""})});return u}function Vc(){return(Be&(zg|gg))!==Lf?1073741821-(fg()/10|0):0!==nh?nh:nh=1073741821-(fg()/10|
0)}function bd(d,k,u){k=k.mode;if(0===(k&2))return 1073741823;var O=Ze();if(0===(k&4))return 99===O?1073741823:1073741822;if((Be&zg)!==Lf)return $f;if(null!==u)d=xe(d,u.timeoutMs|0||5E3,250);else switch(O){case 99:d=1073741823;break;case 98:d=xe(d,150,100);break;case 97:case 96:d=xe(d,5E3,250);break;case 95:d=2;break;default:throw Error(h(326));}null!==eg&&d===$f&&--d;return d}function ld(d,k){if(50<oh)throw oh=0,Xi=null,Error(h(185));d=Zd(d,k);if(null!==d){var u=Ze();1073741823===k?(Be&wk)!==Lf&&
(Be&(zg|gg))===Lf?kd(d):(Kd(d),Be===Lf&&Uc()):Kd(d);(Be&4)===Lf||98!==u&&99!==u||(null===ph?ph=new Map([[d,k]]):(u=ph.get(d),(void 0===u||u>k)&&ph.set(d,k)))}}function Zd(d,k){d.expirationTime<k&&(d.expirationTime=k);var u=d.alternate;null!==u&&u.expirationTime<k&&(u.expirationTime=k);var O=d.return,ja=null;if(null===O&&3===d.tag)ja=d.stateNode;else for(;null!==O;){u=O.alternate;O.childExpirationTime<k&&(O.childExpirationTime=k);null!==u&&u.childExpirationTime<k&&(u.childExpirationTime=k);if(null===
O.return&&3===O.tag){ja=O.stateNode;break}O=O.return}null!==ja&&(eg===ja&&(mf(k),Kf===Ti&&lh(ja,$f)),Oh(ja,k));return ja}function Td(d){var k=d.lastExpiredTime;if(0!==k)return k;k=d.firstPendingTime;if(!Qj(d,k))return k;var u=d.lastPingedTime;d=d.nextKnownPendingLevel;d=u>d?u:d;return 2>=d&&k!==d?0:d}function Kd(d){if(0!==d.lastExpiredTime)d.callbackExpirationTime=1073741823,d.callbackPriority=99,d.callbackNode=gc(kd.bind(null,d));else{var k=Td(d),u=d.callbackNode;if(0===k)null!==u&&(d.callbackNode=
null,d.callbackExpirationTime=0,d.callbackPriority=90);else{var O=Vc();1073741823===k?O=99:1===k||2===k?O=95:(O=10*(1073741821-k)-10*(1073741821-O),O=0>=O?99:250>=O?98:5250>=O?97:95);if(null!==u){var ja=d.callbackPriority;if(d.callbackExpirationTime===k&&ja>=O)return;u!==uk&&Jj(u)}d.callbackExpirationTime=k;d.callbackPriority=O;k=1073741823===k?gc(kd.bind(null,d)):ce(O,yd.bind(null,d),{timeout:10*(1073741821-k)-fg()});d.callbackNode=k}}}function yd(d,k){nh=0;if(k)return k=Vc(),Ef(d,k),Kd(d),null;
var u=Td(d);if(0!==u){k=d.callbackNode;if((Be&(zg|gg))!==Lf)throw Error(h(327));Ph();d===eg&&u===$f||Ke(d,u);if(null!==He){var O=Be;Be|=zg;var ja=Fe();do try{for(;null!==He&&!el();)He=tf(He);break}catch(Mb){re(d,Mb)}while(1);Kh=Og=Jh=null;Be=O;Rj.current=ja;if(Kf===xf)throw k=Sj,Ke(d,u),lh(d,u),Kd(d),k;if(null===He)switch(ja=d.finishedWork=d.current.alternate,d.finishedExpirationTime=u,O=Kf,eg=null,O){case kh:case xf:throw Error(h(345));case ng:Ef(d,2<u?2:u);break;case Nh:lh(d,u);O=d.lastSuspendedTime;
u===O&&(d.nextKnownPendingLevel=Cd(ja));if(1073741823===Vg&&(ja=Vi+fl-fg(),10<ja)){if(qh){var mb=d.lastPingedTime;if(0===mb||mb>=u){d.lastPingedTime=u;Ke(d,u);break}}mb=Td(d);if(0!==mb&&mb!==u)break;if(0!==O&&O!==u){d.lastPingedTime=O;break}d.timeoutHandle=Tj(hf.bind(null,d),ja);break}hf(d);break;case Ti:lh(d,u);O=d.lastSuspendedTime;u===O&&(d.nextKnownPendingLevel=Cd(ja));if(qh&&(ja=d.lastPingedTime,0===ja||ja>=u)){d.lastPingedTime=u;Ke(d,u);break}ja=Td(d);if(0!==ja&&ja!==u)break;if(0!==O&&O!==u){d.lastPingedTime=
O;break}1073741823!==Qh?O=10*(1073741821-Qh)-fg():1073741823===Vg?O=0:(O=10*(1073741821-Vg)-5E3,ja=fg(),u=10*(1073741821-u)-ja,O=ja-O,0>O&&(O=0),O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3E3>O?3E3:4320>O?4320:1960*Zl(O/1960))-O,u<O&&(O=u));if(10<O){d.timeoutHandle=Tj(hf.bind(null,d),O);break}hf(d);break;case xk:if(1073741823!==Vg&&null!==Yi){mb=Vg;var qb=Yi;O=qb.busyMinDurationMs|0;0>=O?O=0:(ja=qb.busyDelayMs|0,mb=fg()-(10*(1073741821-mb)-(qb.timeoutMs|0||5E3)),O=mb<=ja?0:ja+O-mb);if(10<O){lh(d,
u);d.timeoutHandle=Tj(hf.bind(null,d),O);break}}hf(d);break;default:throw Error(h(329));}Kd(d);if(d.callbackNode===k)return yd.bind(null,d)}}return null}function kd(d){var k=d.lastExpiredTime;k=0!==k?k:1073741823;if((Be&(zg|gg))!==Lf)throw Error(h(327));Ph();d===eg&&k===$f||Ke(d,k);if(null!==He){var u=Be;Be|=zg;var O=Fe();do try{for(;null!==He;)He=tf(He);break}catch(ja){re(d,ja)}while(1);Kh=Og=Jh=null;Be=u;Rj.current=O;if(Kf===xf)throw u=Sj,Ke(d,k),lh(d,k),Kd(d),u;if(null!==He)throw Error(h(261));
d.finishedWork=d.current.alternate;d.finishedExpirationTime=k;eg=null;hf(d);Kd(d)}return null}function Md(){if(null!==ph){var d=ph;ph=null;d.forEach(function(k,u){Ef(u,k);Kd(u)});Uc()}}function se(d,k){var u=Be;Be|=1;try{return d(k)}finally{Be=u,Be===Lf&&Uc()}}function Ne(d,k){var u=Be;Be&=-2;Be|=wk;try{return d(k)}finally{Be=u,Be===Lf&&Uc()}}function Ke(d,k){d.finishedWork=null;d.finishedExpirationTime=0;var u=d.timeoutHandle;-1!==u&&(d.timeoutHandle=-1,gl(u));if(null!==He)for(u=He.return;null!==
u;){var O=u;switch(O.tag){case 1:O=O.type.childContextTypes;null!==O&&void 0!==O&&qd();break;case 3:Gd();sd(Sf);sd(uf);break;case 5:ue(O);break;case 4:Gd();break;case 13:sd(rf);break;case 19:sd(rf);break;case 10:ge(O)}u=u.return}eg=d;He=yg(d.current,null);$f=k;Kf=kh;Sj=null;Qh=Vg=1073741823;Yi=null;Zf=0;qh=!1}function re(d,k){do{try{Kh=Og=Jh=null;Mh.current=Si;if(ih)for(var u=sf.memoizedState;null!==u;){var O=u.queue;null!==O&&(O.pending=null);u=u.next}Rg=0;$e=Hf=sf=null;ih=!1;if(null===He||null===
He.return)return Kf=xf,Sj=k,He=null;a:{var ja=d,mb=He.return,qb=He,Mb=k;k=$f;qb.effectTag|=2048;qb.firstEffect=qb.lastEffect=null;if(null!==Mb&&"object"===typeof Mb&&"function"===typeof Mb.then){var Hc=Mb;if(0===(qb.mode&2)){var Fc=qb.alternate;Fc?(qb.updateQueue=Fc.updateQueue,qb.memoizedState=Fc.memoizedState,qb.expirationTime=Fc.expirationTime):(qb.updateQueue=null,qb.memoizedState=null)}var Pd=0!==(rf.current&1),Sd=mb;do{var Pe;if(Pe=13===Sd.tag){var We=Sd.memoizedState;if(null!==We)Pe=null!==
We.dehydrated?!0:!1;else{var jg=Sd.memoizedProps;Pe=void 0===jg.fallback?!1:!0!==jg.unstable_avoidThisFallback?!0:Pd?!1:!0}}if(Pe){var Nf=Sd.updateQueue;if(null===Nf){var Bc=new Set;Bc.add(Hc);Sd.updateQueue=Bc}else Nf.add(Hc);if(0===(Sd.mode&2)){Sd.effectTag|=64;qb.effectTag&=-2981;if(1===qb.tag)if(null===qb.alternate)qb.tag=17;else{var vc=dd(1073741823,null);vc.tag=2;Ee(qb,vc)}qb.expirationTime=1073741823;break a}Mb=void 0;qb=k;var Pc=ja.pingCache;null===Pc?(Pc=ja.pingCache=new $l,Mb=new Set,Pc.set(Hc,
Mb)):(Mb=Pc.get(Hc),void 0===Mb&&(Mb=new Set,Pc.set(Hc,Mb)));if(!Mb.has(qb)){Mb.add(qb);var wd=Uj.bind(null,ja,Hc,qb);Hc.then(wd,wd)}Sd.effectTag|=4096;Sd.expirationTime=k;break a}Sd=Sd.return}while(null!==Sd);Mb=Error((ya(qb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+ua(qb))}Kf!==xk&&(Kf=ng);Mb=td(Mb,qb);Sd=mb;do{switch(Sd.tag){case 3:Hc=
Mb;Sd.effectTag|=4096;Sd.expirationTime=k;var Fd=Lc(Sd,Hc,k);Ce(Sd,Fd);break a;case 1:Hc=Mb;var Ud=Sd.type,me=Sd.stateNode;if(0===(Sd.effectTag&64)&&("function"===typeof Ud.getDerivedStateFromError||null!==me&&"function"===typeof me.componentDidCatch&&(null===Ug||!Ug.has(me)))){Sd.effectTag|=4096;Sd.expirationTime=k;var Le=Oc(Sd,Hc,k);Ce(Sd,Le);break a}}Sd=Sd.return}while(null!==Sd)}He=Gg(He)}catch(ef){k=ef;continue}break}while(1)}function Fe(){var d=Rj.current;Rj.current=Si;return null===d?Si:d}
function Ye(d,k){d<Vg&&2<d&&(Vg=d);null!==k&&d<Qh&&2<d&&(Qh=d,Yi=k)}function mf(d){d>Zf&&(Zf=d)}function tf(d){var k=yk(d.alternate,d,$f);d.memoizedProps=d.pendingProps;null===k&&(k=Gg(d));hl.current=null;return k}function Gg(d){He=d;do{var k=He.alternate;d=He.return;if(0===(He.effectTag&2048)){k=Dc(k,He,$f);if(1===$f||1!==He.childExpirationTime){for(var u=0,O=He.child;null!==O;){var ja=O.expirationTime,mb=O.childExpirationTime;ja>u&&(u=ja);mb>u&&(u=mb);O=O.sibling}He.childExpirationTime=u}if(null!==
k)return k;null!==d&&0===(d.effectTag&2048)&&(null===d.firstEffect&&(d.firstEffect=He.firstEffect),null!==He.lastEffect&&(null!==d.lastEffect&&(d.lastEffect.nextEffect=He.firstEffect),d.lastEffect=He.lastEffect),1<He.effectTag&&(null!==d.lastEffect?d.lastEffect.nextEffect=He:d.firstEffect=He,d.lastEffect=He))}else{k=zc(He);if(null!==k)return k.effectTag&=2047,k;null!==d&&(d.firstEffect=d.lastEffect=null,d.effectTag|=2048)}k=He.sibling;if(null!==k)return k;He=d}while(null!==He);Kf===kh&&(Kf=xk);return null}
function Cd(d){var k=d.expirationTime;d=d.childExpirationTime;return k>d?k:d}function hf(d){var k=Ze();$b(99,Xf.bind(null,d,k));return null}function Xf(d,k){do Ph();while(null!==pi);if((Be&(zg|gg))!==Lf)throw Error(h(327));var u=d.finishedWork,O=d.finishedExpirationTime;if(null===u)return null;d.finishedWork=null;d.finishedExpirationTime=0;if(u===d.current)throw Error(h(177));d.callbackNode=null;d.callbackExpirationTime=0;d.callbackPriority=90;d.nextKnownPendingLevel=0;var ja=Cd(u);d.firstPendingTime=
ja;O<=d.lastSuspendedTime?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:O<=d.firstSuspendedTime&&(d.firstSuspendedTime=O-1);O<=d.lastPingedTime&&(d.lastPingedTime=0);O<=d.lastExpiredTime&&(d.lastExpiredTime=0);d===eg&&(He=eg=null,$f=0);1<u.effectTag?null!==u.lastEffect?(u.lastEffect.nextEffect=u,ja=u.firstEffect):ja=u:ja=u.firstEffect;if(null!==ja){var mb=Be;Be|=gg;hl.current=null;Zi=ii;var qb=ub();if(Gb(qb)){if("selectionStart"in qb)var Mb={start:qb.selectionStart,end:qb.selectionEnd};
else a:{Mb=(Mb=qb.ownerDocument)&&Mb.defaultView||window;var Hc=Mb.getSelection&&Mb.getSelection();if(Hc&&0!==Hc.rangeCount){Mb=Hc.anchorNode;var Fc=Hc.anchorOffset,Pd=Hc.focusNode;Hc=Hc.focusOffset;try{Mb.nodeType,Pd.nodeType}catch(Ie){Mb=null;break a}var Sd=0,Pe=-1,We=-1,jg=0,Nf=0,Bc=qb,vc=null;b:for(;;){for(var Pc;;){Bc!==Mb||0!==Fc&&3!==Bc.nodeType||(Pe=Sd+Fc);Bc!==Pd||0!==Hc&&3!==Bc.nodeType||(We=Sd+Hc);3===Bc.nodeType&&(Sd+=Bc.nodeValue.length);if(null===(Pc=Bc.firstChild))break;vc=Bc;Bc=Pc}for(;;){if(Bc===
qb)break b;vc===Mb&&++jg===Fc&&(Pe=Sd);vc===Pd&&++Nf===Hc&&(We=Sd);if(null!==(Pc=Bc.nextSibling))break;Bc=vc;vc=Bc.parentNode}Bc=Pc}Mb=-1===Pe||-1===We?null:{start:Pe,end:We}}else Mb=null}Mb=Mb||{start:0,end:0}}else Mb=null;Vj={activeElementDetached:null,focusedElem:qb,selectionRange:Mb};ii=!1;$d=ja;do try{rh()}catch(Ie){if(null===$d)throw Error(h(330));mh($d,Ie);$d=$d.nextEffect}while(null!==$d);$d=ja;do try{for(qb=d,Mb=k;null!==$d;){var wd=$d.effectTag;wd&16&&c($d.stateNode,"");if(wd&128){var Fd=
$d.alternate;if(null!==Fd){var Ud=Fd.ref;null!==Ud&&("function"===typeof Ud?Ud(null):Ud.current=null)}}switch(wd&1038){case 2:ac($d);$d.effectTag&=-3;break;case 6:ac($d);$d.effectTag&=-3;rc($d.alternate,$d);break;case 1024:$d.effectTag&=-1025;break;case 1028:$d.effectTag&=-1025;rc($d.alternate,$d);break;case 4:rc($d.alternate,$d);break;case 8:Fc=$d,nc(qb,Fc,Mb),ib(Fc)}$d=$d.nextEffect}}catch(Ie){if(null===$d)throw Error(h(330));mh($d,Ie);$d=$d.nextEffect}while(null!==$d);Ud=Vj;Fd=ub();wd=Ud.focusedElem;
Mb=Ud.selectionRange;if(Fd!==wd&&wd&&wd.ownerDocument&&$a(wd.ownerDocument.documentElement,wd)){null!==Mb&&Gb(wd)&&(Fd=Mb.start,Ud=Mb.end,void 0===Ud&&(Ud=Fd),"selectionStart"in wd?(wd.selectionStart=Fd,wd.selectionEnd=Math.min(Ud,wd.value.length)):(Ud=(Fd=wd.ownerDocument||document)&&Fd.defaultView||window,Ud.getSelection&&(Ud=Ud.getSelection(),Fc=wd.textContent.length,qb=Math.min(Mb.start,Fc),Mb=void 0===Mb.end?qb:Math.min(Mb.end,Fc),!Ud.extend&&qb>Mb&&(Fc=Mb,Mb=qb,qb=Fc),Fc=oa(wd,qb),Pd=oa(wd,
Mb),Fc&&Pd&&(1!==Ud.rangeCount||Ud.anchorNode!==Fc.node||Ud.anchorOffset!==Fc.offset||Ud.focusNode!==Pd.node||Ud.focusOffset!==Pd.offset)&&(Fd=Fd.createRange(),Fd.setStart(Fc.node,Fc.offset),Ud.removeAllRanges(),qb>Mb?(Ud.addRange(Fd),Ud.extend(Pd.node,Pd.offset)):(Fd.setEnd(Pd.node,Pd.offset),Ud.addRange(Fd))))));Fd=[];for(Ud=wd;Ud=Ud.parentNode;)1===Ud.nodeType&&Fd.push({element:Ud,left:Ud.scrollLeft,top:Ud.scrollTop});"function"===typeof wd.focus&&wd.focus();for(wd=0;wd<Fd.length;wd++)Ud=Fd[wd],
Ud.element.scrollLeft=Ud.left,Ud.element.scrollTop=Ud.top}ii=!!Zi;Vj=Zi=null;d.current=u;$d=ja;do try{for(wd=d;null!==$d;){var me=$d.effectTag;me&36&&sa(wd,$d.alternate,$d);if(me&128){Fd=void 0;var Le=$d.ref;if(null!==Le){var ef=$d.stateNode;switch($d.tag){case 5:Fd=ef;break;default:Fd=ef}"function"===typeof Le?Le(Fd):Le.current=Fd}}$d=$d.nextEffect}}catch(Ie){if(null===$d)throw Error(h(330));mh($d,Ie);$d=$d.nextEffect}while(null!==$d);$d=null;il();Be=mb}else d.current=u;if($i)$i=!1,pi=d,qi=k;else for($d=
ja;null!==$d;)k=$d.nextEffect,$d.nextEffect=null,$d=k;k=d.firstPendingTime;0===k&&(Ug=null);1073741823===k?d===Xi?oh++:(oh=0,Xi=d):oh=0;"function"===typeof Wj&&Wj(u.stateNode,O);Kd(d);if(Wi)throw Wi=!1,d=Pj,Pj=null,d;if((Be&wk)!==Lf)return null;Uc();return null}function rh(){for(;null!==$d;){var d=$d.effectTag;0!==(d&256)&&Vd($d.alternate,$d);0===(d&512)||$i||($i=!0,ce(97,function(){Ph();return null}));$d=$d.nextEffect}}function Ph(){if(90!==qi){var d=97<qi?97:qi;qi=90;return $b(d,jl)}}function jl(){if(null===
pi)return!1;var d=pi;pi=null;if((Be&(zg|gg))!==Lf)throw Error(h(331));var k=Be;Be|=gg;for(d=d.current.firstEffect;null!==d;){try{var u=d;if(0!==(u.effectTag&512))switch(u.tag){case 0:case 11:case 15:case 22:ve(5,u),Z(5,u)}}catch(O){if(null===d)throw Error(h(330));mh(d,O)}u=d.nextEffect;d.nextEffect=null;d=u}Be=k;Uc();return!0}function Xj(d,k,u){k=td(u,k);k=Lc(d,k,1073741823);Ee(d,k);d=Zd(d,1073741823);null!==d&&Kd(d)}function mh(d,k){if(3===d.tag)Xj(d,d,k);else for(var u=d.return;null!==u;){if(3===
u.tag){Xj(u,d,k);break}else if(1===u.tag){var O=u.stateNode;if("function"===typeof u.type.getDerivedStateFromError||"function"===typeof O.componentDidCatch&&(null===Ug||!Ug.has(O))){d=td(k,d);d=Oc(u,d,1073741823);Ee(u,d);u=Zd(u,1073741823);null!==u&&Kd(u);break}}u=u.return}}function Uj(d,k,u){var O=d.pingCache;null!==O&&O.delete(k);eg===d&&$f===u?Kf===Ti||Kf===Nh&&1073741823===Vg&&fg()-Vi<fl?Ke(d,$f):qh=!0:Qj(d,u)&&(k=d.lastPingedTime,0!==k&&k<u||(d.lastPingedTime=u,Kd(d)))}function Oj(d,k){var u=
d.stateNode;null!==u&&u.delete(k);k=0;0===k&&(k=Vc(),k=bd(k,d,null));d=Zd(d,k);null!==d&&Kd(d)}function Yj(d){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var k=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(k.isDisabled||!k.supportsFiber)return!0;try{var u=k.inject(d);Wj=function(O){try{k.onCommitFiberRoot(u,O,void 0,64===(O.current.effectTag&64))}catch(ja){}};Ui=function(O){try{k.onCommitFiberUnmount(u,O)}catch(ja){}}}catch(O){}return!0}function kl(d,k,u,O){this.tag=d;this.key=u;this.sibling=
this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=k;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=O;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function lg(d,k,u,O){return new kl(d,k,u,O)}function Tg(d){d=d.prototype;return!(!d||!d.isReactComponent)}function Zj(d){if("function"===typeof d)return Tg(d)?
1:0;if(void 0!==d&&null!==d){d=d.$$typeof;if(d===vj)return 11;if(d===Ci)return 14}return 2}function yg(d,k){var u=d.alternate;null===u?(u=lg(d.tag,k,d.key,d.mode),u.elementType=d.elementType,u.type=d.type,u.stateNode=d.stateNode,u.alternate=d,d.alternate=u):(u.pendingProps=k,u.effectTag=0,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null);u.childExpirationTime=d.childExpirationTime;u.expirationTime=d.expirationTime;u.child=d.child;u.memoizedProps=d.memoizedProps;u.memoizedState=d.memoizedState;
u.updateQueue=d.updateQueue;k=d.dependencies;u.dependencies=null===k?null:{expirationTime:k.expirationTime,firstContext:k.firstContext,responders:k.responders};u.sibling=d.sibling;u.index=d.index;u.ref=d.ref;return u}function oi(d,k,u,O,ja,mb){var qb=2;O=d;if("function"===typeof d)Tg(d)&&(qb=1);else if("string"===typeof d)qb=5;else a:switch(d){case Ig:return Eg(u.children,ja,mb,k);case zk:qb=8;ja|=7;break;case Re:qb=8;ja|=1;break;case ch:return d=lg(12,u,k,ja|8),d.elementType=ch,d.type=ch,d.expirationTime=
mb,d;case ei:return d=lg(13,u,k,ja),d.type=ei,d.elementType=ei,d.expirationTime=mb,d;case zh:return d=lg(19,u,k,ja),d.elementType=zh,d.expirationTime=mb,d;default:if("object"===typeof d&&null!==d)switch(d.$$typeof){case Gf:qb=10;break a;case cf:qb=9;break a;case vj:qb=11;break a;case Ci:qb=14;break a;case Jg:qb=16;O=null;break a;case Di:qb=22;break a}throw Error(h(130,null==d?d:typeof d,""));}k=lg(qb,u,k,ja);k.elementType=d;k.type=O;k.expirationTime=mb;return k}function Eg(d,k,u,O){d=lg(7,d,O,k);
d.expirationTime=u;return d}function Ri(d,k,u){d=lg(6,d,null,k);d.expirationTime=u;return d}function Lj(d,k,u){k=lg(4,null!==d.children?d.children:[],d.key,k);k.expirationTime=u;k.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation};return k}function Ff(d,k,u){this.tag=k;this.current=null;this.containerInfo=d;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=
null;this.hydrate=u;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Qj(d,k){var u=d.firstSuspendedTime;d=d.lastSuspendedTime;return 0!==u&&u>=k&&d<=k}function lh(d,k){var u=d.firstSuspendedTime,O=d.lastSuspendedTime;u<k&&(d.firstSuspendedTime=k);if(O>k||0===u)d.lastSuspendedTime=k;k<=d.lastPingedTime&&(d.lastPingedTime=0);k<=d.lastExpiredTime&&(d.lastExpiredTime=
0)}function Oh(d,k){k>d.firstPendingTime&&(d.firstPendingTime=k);var u=d.firstSuspendedTime;0!==u&&(k>=u?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:k>=d.lastSuspendedTime&&(d.lastSuspendedTime=k+1),k>d.nextKnownPendingLevel&&(d.nextKnownPendingLevel=k))}function Ef(d,k){var u=d.lastExpiredTime;if(0===u||u>k)d.lastExpiredTime=k}function Rh(d,k,u,O){var ja=k.current,mb=Vc(),qb=jh.suspense;mb=bd(mb,ja,qb);a:if(u){u=u._reactInternalFiber;b:{if(q(u)!==u||1!==u.tag)throw Error(h(170));
var Mb=u;do{switch(Mb.tag){case 3:Mb=Mb.stateNode.context;break b;case 1:if(oe(Mb.type)){Mb=Mb.stateNode.__reactInternalMemoizedMergedChildContext;break b}}Mb=Mb.return}while(null!==Mb);throw Error(h(171));}if(1===u.tag){var Hc=u.type;if(oe(Hc)){u=ie(u,Hc,Mb);break a}}u=Mb}else u=wg;null===k.context?k.context=u:k.pendingContext=u;k=dd(mb,qb);k.payload={element:d};O=void 0===O?null:O;null!==O&&(k.callback=O);Ee(ja,k);ld(ja,mb);return mb}function aj(d){d=d.current;if(!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;
default:return d.child.stateNode}}function ri(d,k){d=d.memoizedState;null!==d&&null!==d.dehydrated&&d.retryTime<k&&(d.retryTime=k)}function bj(d,k){ri(d,k);(d=d.alternate)&&ri(d,k)}function ak(d,k,u){u=null!=u&&!0===u.hydrate;var O=new Ff(d,k,u),ja=lg(3,null,null,2===k?7:1===k?3:0);O.current=ja;ja.stateNode=O;te(ja);d[Fh]=O.current;u&&0!==k&&ob(d,9===d.nodeType?d:d.ownerDocument);this._internalRoot=O}function Wg(d){return!(!d||1!==d.nodeType&&9!==d.nodeType&&11!==d.nodeType&&(8!==d.nodeType||" react-mount-point-unstable "!==
d.nodeValue))}function Xg(d,k){k||(k=d?9===d.nodeType?d.documentElement:d.firstChild:null,k=!(!k||1!==k.nodeType||!k.hasAttribute("data-reactroot")));if(!k)for(var u;u=d.lastChild;)d.removeChild(u);return new ak(d,0,k?{hydrate:!0}:void 0)}function cj(d,k,u,O,ja){var mb=u._reactRootContainer;if(mb){var qb=mb._internalRoot;if("function"===typeof ja){var Mb=ja;ja=function(){var Fc=aj(qb);Mb.call(Fc)}}Rh(k,qb,d,ja)}else{mb=u._reactRootContainer=Xg(u,O);qb=mb._internalRoot;if("function"===typeof ja){var Hc=
ja;ja=function(){var Fc=aj(qb);Hc.call(Fc)}}Ne(function(){Rh(k,qb,d,ja)})}return aj(qb)}function si(d,k,u){var O=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:bh,key:null==O?null:""+O,children:d,containerInfo:k,implementation:u}}function Ak(d,k){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wg(k))throw Error(h(200));return si(d,k,null,u)}var fi=Qb(5),df=Qb(0),Cf=Qb(8);if(!fi)throw Error(h(227));var bi=!1,zi=null,xh=!1,rj=null,hk={onError:function(d){bi=
!0;zi=d}},Ai=null,tj=null,Zg=null,yh=null,$g={},Vf=[],sj={},Ag={},ig={},tg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ah=null,rg=null,sg=null,di=Sa,Mg=!1,ci=!1,jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Bi=Object.prototype.hasOwnProperty,uj={},ik={},Bf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){Bf[d]=new Qa(d,0,!1,d,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var k=d[0];Bf[k]=new Qa(k,1,!1,d[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){Bf[d]=
new Qa(d,2,!1,d.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){Bf[d]=new Qa(d,2,!1,d,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){Bf[d]=new Qa(d,3,!1,d.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(d){Bf[d]=
new Qa(d,3,!0,d,null,!1)});["capture","download"].forEach(function(d){Bf[d]=new Qa(d,4,!1,d,null,!1)});["cols","rows","size","span"].forEach(function(d){Bf[d]=new Qa(d,6,!1,d,null,!1)});["rowSpan","start"].forEach(function(d){Bf[d]=new Qa(d,5,!1,d.toLowerCase(),null,!1)});var Of=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var k=
d.replace(Of,za);Bf[k]=new Qa(k,1,!1,d,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var k=d.replace(Of,za);Bf[k]=new Qa(k,1,!1,d,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(d){var k=d.replace(Of,za);Bf[k]=new Qa(k,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(d){Bf[d]=new Qa(d,1,!1,d.toLowerCase(),null,!1)});Bf.xlinkHref=new Qa("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(d){Bf[d]=new Qa(d,1,!1,d.toLowerCase(),null,!0)});var hg=fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;hg.hasOwnProperty("ReactCurrentDispatcher")||(hg.ReactCurrentDispatcher={current:null});hg.hasOwnProperty("ReactCurrentBatchConfig")||(hg.ReactCurrentBatchConfig={suspense:null});var lk=/^(.*)[\\\/]/,Pf="function"===typeof Symbol&&Symbol.for,Qg=Pf?Symbol.for("react.element"):60103,bh=
Pf?Symbol.for("react.portal"):60106,Ig=Pf?Symbol.for("react.fragment"):60107,Re=Pf?Symbol.for("react.strict_mode"):60108,ch=Pf?Symbol.for("react.profiler"):60114,Gf=Pf?Symbol.for("react.provider"):60109,cf=Pf?Symbol.for("react.context"):60110,zk=Pf?Symbol.for("react.concurrent_mode"):60111,vj=Pf?Symbol.for("react.forward_ref"):60112,ei=Pf?Symbol.for("react.suspense"):60113,zh=Pf?Symbol.for("react.suspense_list"):60120,Ci=Pf?Symbol.for("react.memo"):60115,Jg=Pf?Symbol.for("react.lazy"):60116,Di=Pf?
Symbol.for("react.block"):60121,kk="function"===typeof Symbol&&Symbol.iterator,Sh,Nj=function(d){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(k,u,O,ja){MSApp.execUnsafeLocalFunction(function(){return d(k,u,O,ja)})}:d}(function(d,k){if("http://www.w3.org/2000/svg"!==d.namespaceURI||"innerHTML"in d)d.innerHTML=k;else{Sh=Sh||document.createElement("div");Sh.innerHTML="\x3csvg\x3e"+k.valueOf().toString()+"\x3c/svg\x3e";for(k=Sh.firstChild;d.firstChild;)d.removeChild(d.firstChild);
for(;k.firstChild;)d.appendChild(k.firstChild)}}),dh={animationend:f("Animation","AnimationEnd"),animationiteration:f("Animation","AnimationIteration"),animationstart:f("Animation","AnimationStart"),transitionend:f("Transition","TransitionEnd")},Ei={},wj={};tg&&(wj=document.createElement("div").style,"AnimationEvent"in window||(delete dh.animationend.animation,delete dh.animationiteration.animation,delete dh.animationstart.animation),"TransitionEvent"in window||delete dh.transitionend.transition);
var ti=l("animationend"),Bk=l("animationiteration"),dj=l("animationstart"),Th=l("transitionend"),Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mk=new ("function"===typeof WeakMap?WeakMap:Map),Ah=null,Fi=[],zj=!1,cg=[],Lg=null,ug=null,Bg=null,Ch=new Map,gi=new Map,Dh=[],Kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
Gi="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),eh={},hi=new Map,Hi=new Map,Ck=["abort","abort",ti,"animationEnd",Bk,"animationIteration",dj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Th,"transitionEnd","waiting","waiting"];Bd("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Bd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Bd(Ck,2);for(var ej="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),fj=0;fj<ej.length;fj++)Hi.set(ej[fj],0);var Aj=Cf.unstable_UserBlockingPriority,Ii=Cf.unstable_runWithPriority,
ii=!0,Eh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dk=["Webkit","ms","Moz","O"];Object.keys(Eh).forEach(function(d){Dk.forEach(function(k){k=k+d.charAt(0).toUpperCase()+d.substring(1);Eh[k]=Eh[d]})});var nk=df({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ji="$",Bj="/$",ji="$?",Ki="$!",Zi=null,Vj=null,Tj="function"===typeof setTimeout?
setTimeout:void 0,gl="function"===typeof clearTimeout?clearTimeout:void 0,gj=Math.random().toString(36).slice(2),Cg="__reactInternalInstance$"+gj,ki="__reactEventHandlers$"+gj,Fh="__reactContainere$"+gj,Ng=null,Li=null,li=null;df(od.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():"unknown"!==typeof d.returnValue&&(d.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?
d.stopPropagation():"unknown"!==typeof d.cancelBubble&&(d.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){this.isPersistent=qc},isPersistent:ed,destructor:function(){var d=this.constructor.Interface,k;for(k in d)this[k]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ed;this._dispatchInstances=this._dispatchListeners=null}});od.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};od.extend=function(d){function k(){}function u(){return O.apply(this,arguments)}var O=this;k.prototype=O.prototype;var ja=new k;df(ja,u.prototype);u.prototype=ja;u.prototype.constructor=u;u.Interface=df({},O.Interface,d);u.extend=O.extend;rd(u);return u};rd(od);var ll=od.extend({data:null}),ml=od.extend({data:null}),Cj=[9,13,27,32],Mi=tg&&"CompositionEvent"in window,Uh=null;tg&&
"documentMode"in document&&(Uh=document.documentMode);var nl=tg&&"TextEvent"in window&&!Uh,qk=tg&&(!Mi||Uh&&8<Uh&&11>=Uh),pk=String.fromCharCode(32),og={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ok=!1,Gh=!1,ol={eventTypes:og,extractEvents:function(d,k,u,O){var ja;if(Mi)a:{switch(d){case "compositionstart":var mb=og.compositionStart;break a;case "compositionend":mb=og.compositionEnd;
break a;case "compositionupdate":mb=og.compositionUpdate;break a}mb=void 0}else Gh?Od(d,u)&&(mb=og.compositionEnd):"keydown"===d&&229===u.keyCode&&(mb=og.compositionStart);mb?(qk&&"ko"!==u.locale&&(Gh||mb!==og.compositionStart?mb===og.compositionEnd&&Gh&&(ja=jc()):(Ng=O,Li="value"in Ng?Ng.value:Ng.textContent,Gh=!0)),mb=ll.getPooled(mb,k,u,O),ja?mb.data=ja:(ja=ee(u),null!==ja&&(mb.data=ja)),kc(mb),ja=mb):ja=null;(d=nl?he(d,u):Jd(d,u))?(k=ml.getPooled(og.beforeInput,k,u,O),k.data=d,kc(k)):k=null;return null===
ja?k:null===k?ja:[ja,k]}},Dj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ej={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},fh=null,Rf=null,hj=!1;tg&&(hj=Q("input")&&(!document.documentMode||9<document.documentMode));var Ek={eventTypes:Ej,_isInputEventSupported:hj,extractEvents:function(d,
k,u,O){var ja=k?Za(k):window,mb=ja.nodeName&&ja.nodeName.toLowerCase();if("select"===mb||"input"===mb&&"file"===ja.type)var qb=be;else if(De(ja))if(hj)qb=Jb;else{qb=rb;var Mb=Ea}else(mb=ja.nodeName)&&"input"===mb.toLowerCase()&&("checkbox"===ja.type||"radio"===ja.type)&&(qb=fb);if(qb&&(qb=qb(d,k)))return ne(qb,u,O);Mb&&Mb(d,ja,k);"blur"===d&&(d=ja._wrapperState)&&d.controlled&&"number"===ja.type&&R(ja,"number",ja.value)}},Vh=od.extend({view:null,detail:null}),al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",
Shift:"shiftKey"},ij=0,Hg=0,jj=!1,Fk=!1,Wh=Vh.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ic,button:null,buttons:null,relatedTarget:function(d){return d.relatedTarget||(d.fromElement===d.srcElement?d.toElement:d.fromElement)},movementX:function(d){if("movementX"in d)return d.movementX;var k=ij;ij=d.screenX;return jj?"mousemove"===d.type?d.screenX-k:0:(jj=!0,0)},movementY:function(d){if("movementY"in
d)return d.movementY;var k=Hg;Hg=d.screenY;return Fk?"mousemove"===d.type?d.screenY-k:0:(Fk=!0,0)}}),kj=Wh.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ui={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout",
"pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},bk={eventTypes:ui,extractEvents:function(d,k,u,O,ja){var mb="mouseover"===d||"pointerover"===d,qb="mouseout"===d||"pointerout"===d;if(mb&&0===(ja&32)&&(u.relatedTarget||u.fromElement)||!qb&&!mb)return null;mb=O.window===O?O:(mb=O.ownerDocument)?mb.defaultView||mb.parentWindow:window;if(qb){if(qb=k,k=(k=u.relatedTarget||u.toElement)?Cc(k):null,null!==k){var Mb=q(k);if(k!==Mb||5!==k.tag&&6!==
k.tag)k=null}}else qb=null;if(qb===k)return null;if("mouseout"===d||"mouseover"===d)var Hc=Wh,Fc=ui.mouseLeave,Pd=ui.mouseEnter,Sd="mouse";else if("pointerout"===d||"pointerover"===d)Hc=kj,Fc=ui.pointerLeave,Pd=ui.pointerEnter,Sd="pointer";d=null==qb?mb:Za(qb);mb=null==k?mb:Za(k);Fc=Hc.getPooled(Fc,qb,u,O);Fc.type=Sd+"leave";Fc.target=d;Fc.relatedTarget=mb;u=Hc.getPooled(Pd,k,u,O);u.type=Sd+"enter";u.target=mb;u.relatedTarget=d;O=qb;Sd=k;if(O&&Sd)a:{Hc=O;Pd=Sd;qb=0;for(d=Hc;d;d=Sb(d))qb++;d=0;for(k=
Pd;k;k=Sb(k))d++;for(;0<qb-d;)Hc=Sb(Hc),qb--;for(;0<d-qb;)Pd=Sb(Pd),d--;for(;qb--;){if(Hc===Pd||Hc===Pd.alternate)break a;Hc=Sb(Hc);Pd=Sb(Pd)}Hc=null}else Hc=null;Pd=Hc;for(Hc=[];O&&O!==Pd;){qb=O.alternate;if(null!==qb&&qb===Pd)break;Hc.push(O);O=Sb(O)}for(O=[];Sd&&Sd!==Pd;){qb=Sd.alternate;if(null!==qb&&qb===Pd)break;O.push(Sd);Sd=Sb(Sd)}for(Sd=0;Sd<Hc.length;Sd++)Bb(Hc[Sd],"bubbled",Fc);for(Sd=O.length;0<Sd--;)Bb(O[Sd],"captured",u);return 0===(ja&64)?[Fc]:[Fc,u]}},vg="function"===typeof Object.is?
Object.is:Wc,rk=Object.prototype.hasOwnProperty,Gk=tg&&"documentMode"in document&&11>=document.documentMode,Gj={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},gh=null,Hj=null,mi=null,Fj=!1,pl={eventTypes:Gj,extractEvents:function(d,k,u,O,ja,mb){ja=mb||(O.window===O?O.document:9===O.nodeType?O:O.ownerDocument);if(!(mb=!ja)){a:{ja=m(ja);mb=ig.onSelect;for(var qb=
0;qb<mb.length;qb++)if(!ja.has(mb[qb])){ja=!1;break a}ja=!0}mb=!ja}if(mb)return null;ja=k?Za(k):window;switch(d){case "focus":if(De(ja)||"true"===ja.contentEditable)gh=ja,Hj=k,mi=null;break;case "blur":mi=Hj=gh=null;break;case "mousedown":Fj=!0;break;case "contextmenu":case "mouseup":case "dragend":return Fj=!1,Nc(u,O);case "selectionchange":if(Gk)break;case "keydown":case "keyup":return Nc(u,O)}return null}},ql=od.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Hk=od.extend({clipboardData:function(d){return"clipboardData"in
d?d.clipboardData:window.clipboardData}}),rl=Vh.extend({relatedTarget:null}),Ik={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk=Vh.extend({key:function(d){if(d.key){var k=Ik[d.key]||d.key;if("Unidentified"!==k)return k}return"keypress"===d.type?(d=Wb(d),13===d?"Enter":String.fromCharCode(d)):"keydown"===d.type||"keyup"===d.type?Jk[d.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:ic,charCode:function(d){return"keypress"===d.type?Wb(d):0},keyCode:function(d){return"keydown"===d.type||"keyup"===d.type?d.keyCode:0},which:function(d){return"keypress"===d.type?Wb(d):"keydown"===d.type||"keyup"===d.type?d.keyCode:0}}),Lk=Wh.extend({dataTransfer:null}),sl=Vh.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ic}),tl=od.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ul=
Wh.extend({deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:null,deltaMode:null}),Mk={eventTypes:eh,extractEvents:function(d,k,u,O){var ja=hi.get(d);if(!ja)return null;switch(d){case "keypress":if(0===Wb(u))return null;case "keydown":case "keyup":d=Kk;break;case "blur":case "focus":d=rl;break;case "click":if(2===u.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":d=
Wh;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":d=Lk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":d=sl;break;case ti:case Bk:case dj:d=ql;break;case Th:d=tl;break;case "scroll":d=Vh;break;case "wheel":d=ul;break;case "copy":case "cut":case "paste":d=Hk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":d=
kj;break;default:d=od}k=d.getPooled(ja,k,u,O);kc(k);return k}};if(yh)throw Error(h(101));yh=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));bb();var vl=va;Ai=pb;tj=vl;Zg=Za;Hb({SimpleEventPlugin:Mk,EnterLeaveEventPlugin:bk,ChangeEventPlugin:Ek,SelectEventPlugin:pl,BeforeInputEventPlugin:ol});var of=[],Mf=-1,wg={},uf={current:wg},Sf={current:!1},hh=wg,cl=Cf.unstable_runWithPriority,Ni=Cf.unstable_scheduleCallback,
Jj=Cf.unstable_cancelCallback,lj=Cf.unstable_requestPaint,Xh=Cf.unstable_now,bl=Cf.unstable_getCurrentPriorityLevel,Hh=Cf.unstable_ImmediatePriority,Ij=Cf.unstable_UserBlockingPriority,sk=Cf.unstable_NormalPriority,ni=Cf.unstable_LowPriority,tk=Cf.unstable_IdlePriority,uk={},el=Cf.unstable_shouldYield,il=void 0!==lj?lj:function(){},Dg=null,Oi=null,Kj=!1,Nk=Xh(),fg=1E4>Nk?Xh:function(){return Xh()-Nk},Ih={current:null},Jh=null,Og=null,Kh=null,Pg=!1,jh=hg.ReactCurrentBatchConfig,Qi=(new fi.Component).refs,
Pi={isMounted:function(d){return(d=d._reactInternalFiber)?q(d)===d:!1},enqueueSetState:function(d,k,u){d=d._reactInternalFiber;var O=Vc(),ja=jh.suspense;O=bd(O,d,ja);ja=dd(O,ja);ja.payload=k;void 0!==u&&null!==u&&(ja.callback=u);Ee(d,ja);ld(d,O)},enqueueReplaceState:function(d,k,u){d=d._reactInternalFiber;var O=Vc(),ja=jh.suspense;O=bd(O,d,ja);ja=dd(O,ja);ja.tag=1;ja.payload=k;void 0!==u&&null!==u&&(ja.callback=u);Ee(d,ja);ld(d,O)},enqueueForceUpdate:function(d,k){d=d._reactInternalFiber;var u=Vc(),
O=jh.suspense;u=bd(u,d,O);O=dd(u,O);O.tag=2;void 0!==k&&null!==k&&(O.callback=k);Ee(d,O);ld(d,u)}},Lh=Array.isArray,Tf=fc(!0),Ae=fc(!1),Te={},id={current:Te},yf={current:Te},dg={current:Te},rf={current:0},Mh=hg.ReactCurrentDispatcher,Wf=hg.ReactCurrentBatchConfig,Rg=0,sf=null,Hf=null,$e=null,ih=!1,Si={readContext:vd,useCallback:Nd,useContext:Nd,useEffect:Nd,useImperativeHandle:Nd,useLayoutEffect:Nd,useMemo:Nd,useReducer:Nd,useRef:Nd,useState:Nd,useDebugValue:Nd,useResponder:Nd,useDeferredValue:Nd,
useTransition:Nd},Rl={readContext:vd,useCallback:Df,useContext:vd,useEffect:Qe,useImperativeHandle:function(d,k,u){u=null!==u&&void 0!==u?u.concat([d]):null;return Je(4,2,bf.bind(null,k,d),u)},useLayoutEffect:function(d,k){return Je(4,2,d,k)},useMemo:function(d,k){var u=Me();k=void 0===k?null:k;d=d();u.memoizedState=[d,k];return d},useReducer:function(d,k,u){var O=Me();k=void 0!==u?u(k):k;O.memoizedState=O.baseState=k;d=O.queue={pending:null,dispatch:null,lastRenderedReducer:d,lastRenderedState:k};
d=d.dispatch=T.bind(null,sf,d);return[O.memoizedState,d]},useRef:function(d){var k=Me();d={current:d};return k.memoizedState=d},useState:ff,useDebugValue:Jf,useResponder:qe,useDeferredValue:function(d,k){var u=ff(d),O=u[0],ja=u[1];Qe(function(){var mb=Wf.suspense;Wf.suspense=void 0===k?null:k;try{ja(d)}finally{Wf.suspense=mb}},[d,k]);return O},useTransition:function(d){var k=ff(!1),u=k[0];k=k[1];return[Df(N.bind(null,k,d),[k,d]),u]}},Sl={readContext:vd,useCallback:A,useContext:vd,useEffect:Ue,useImperativeHandle:Af,
useLayoutEffect:zf,useMemo:D,useReducer:wf,useRef:If,useState:function(){return wf(pf)},useDebugValue:Jf,useResponder:qe,useDeferredValue:function(d,k){var u=wf(pf),O=u[0],ja=u[1];Ue(function(){var mb=Wf.suspense;Wf.suspense=void 0===k?null:k;try{ja(d)}finally{Wf.suspense=mb}},[d,k]);return O},useTransition:function(d){var k=wf(pf),u=k[0];k=k[1];return[A(N.bind(null,k,d),[k,d]),u]}},Tl={readContext:vd,useCallback:A,useContext:vd,useEffect:Ue,useImperativeHandle:Af,useLayoutEffect:zf,useMemo:D,useReducer:qf,
useRef:If,useState:function(){return qf(pf)},useDebugValue:Jf,useResponder:qe,useDeferredValue:function(d,k){var u=qf(pf),O=u[0],ja=u[1];Ue(function(){var mb=Wf.suspense;Wf.suspense=void 0===k?null:k;try{ja(d)}finally{Wf.suspense=mb}},[d,k]);return O},useTransition:function(d){var k=qf(pf),u=k[0];k=k[1];return[A(N.bind(null,k,d),[k,d]),u]}},mg=null,Fg=null,Sg=!1,Ul=hg.ReactCurrentOwner,xg=!1,Mj={dehydrated:null,retryTime:0};var Wl=function(d,k){for(var u=k.child;null!==u;){if(5===u.tag||6===u.tag)d.appendChild(u.stateNode);
else if(4!==u.tag&&null!==u.child){u.child.return=u;u=u.child;continue}if(u===k)break;for(;null===u.sibling;){if(null===u.return||u.return===k)return;u=u.return}u.sibling.return=u.return;u=u.sibling}};var dl=function(){};var Vl=function(d,k,u,O,ja){var mb=d.memoizedProps;if(mb!==O){var qb=k.stateNode;Tc(id.current);d=null;switch(u){case "input":mb=I(qb,mb);O=I(qb,O);d=[];break;case "option":mb=ea(qb,mb);O=ea(qb,O);d=[];break;case "select":mb=df({},mb,{value:void 0});O=df({},O,{value:void 0});d=[];
break;case "textarea":mb=Ia(qb,mb);O=Ia(qb,O);d=[];break;default:"function"!==typeof mb.onClick&&"function"===typeof O.onClick&&(qb.onclick=gd)}jb(u,O);var Mb,Hc;u=null;for(Mb in mb)if(!O.hasOwnProperty(Mb)&&mb.hasOwnProperty(Mb)&&null!=mb[Mb])if("style"===Mb)for(Hc in qb=mb[Mb],qb)qb.hasOwnProperty(Hc)&&(u||(u={}),u[Hc]="");else"dangerouslySetInnerHTML"!==Mb&&"children"!==Mb&&"suppressContentEditableWarning"!==Mb&&"suppressHydrationWarning"!==Mb&&"autoFocus"!==Mb&&(Ag.hasOwnProperty(Mb)?d||(d=[]):
(d=d||[]).push(Mb,null));for(Mb in O){var Fc=O[Mb];qb=null!=mb?mb[Mb]:void 0;if(O.hasOwnProperty(Mb)&&Fc!==qb&&(null!=Fc||null!=qb))if("style"===Mb)if(qb){for(Hc in qb)!qb.hasOwnProperty(Hc)||Fc&&Fc.hasOwnProperty(Hc)||(u||(u={}),u[Hc]="");for(Hc in Fc)Fc.hasOwnProperty(Hc)&&qb[Hc]!==Fc[Hc]&&(u||(u={}),u[Hc]=Fc[Hc])}else u||(d||(d=[]),d.push(Mb,u)),u=Fc;else"dangerouslySetInnerHTML"===Mb?(Fc=Fc?Fc.__html:void 0,qb=qb?qb.__html:void 0,null!=Fc&&qb!==Fc&&(d=d||[]).push(Mb,Fc)):"children"===Mb?qb===
Fc||"string"!==typeof Fc&&"number"!==typeof Fc||(d=d||[]).push(Mb,""+Fc):"suppressContentEditableWarning"!==Mb&&"suppressHydrationWarning"!==Mb&&(Ag.hasOwnProperty(Mb)?(null!=Fc&&pc(ja,Mb),d||qb===Fc||(d=[])):(d=d||[]).push(Mb,Fc))}u&&(d=d||[]).push("style",u);if(k.updateQueue=d)k.effectTag|=4}};var Xl=function(d,k,u,O){u!==O&&(k.effectTag|=4)};var Yl="function"===typeof WeakSet?WeakSet:Set,$l="function"===typeof WeakMap?WeakMap:Map,Zl=Math.ceil,Rj=hg.ReactCurrentDispatcher,hl=hg.ReactCurrentOwner,
Lf=0,wk=8,zg=16,gg=32,kh=0,xf=1,ng=2,Nh=3,Ti=4,xk=5,Be=Lf,eg=null,He=null,$f=0,Kf=kh,Sj=null,Vg=1073741823,Qh=1073741823,Yi=null,Zf=0,qh=!1,Vi=0,fl=500,$d=null,Wi=!1,Pj=null,Ug=null,$i=!1,pi=null,qi=90,ph=null,oh=0,Xi=null,nh=0;var yk=function(d,k,u){var O=k.expirationTime;if(null!==d){var ja=k.pendingProps;if(d.memoizedProps!==ja||Sf.current)xg=!0;else{if(O<u){xg=!1;switch(k.tag){case 3:S(k);Fg=mg=null;Sg=!1;break;case 5:Ld(k);if(k.mode&4&&1!==u&&ja.hidden)return k.expirationTime=k.childExpirationTime=
1,null;break;case 1:oe(k.type)&&we(k);break;case 4:Ad(k,k.stateNode.containerInfo);break;case 10:O=k.memoizedProps.value;ja=k.type._context;cd(Ih,ja._currentValue);ja._currentValue=O;break;case 13:if(null!==k.memoizedState){O=k.child.childExpirationTime;if(0!==O&&O>=u)return ba(d,k,u);cd(rf,rf.current&1);k=Nb(d,k,u);return null!==k?k.sibling:null}cd(rf,rf.current&1);break;case 19:O=k.childExpirationTime>=u;if(0!==(d.effectTag&64)){if(O)return Eb(d,k,u);k.effectTag|=64}ja=k.memoizedState;null!==ja&&
(ja.rendering=null,ja.tail=null);cd(rf,rf.current);if(!O)return null}return Nb(d,k,u)}xg=!1}}else xg=!1;k.expirationTime=0;switch(k.tag){case 2:O=k.type;null!==d&&(d.alternate=null,k.alternate=null,k.effectTag|=2);d=k.pendingProps;ja=Vb(k,uf.current);Ed(k,u);ja=ze(null,k,O,d,ja,u);k.effectTag|=1;if("object"===typeof ja&&null!==ja&&"function"===typeof ja.render&&void 0===ja.$$typeof){k.tag=1;k.memoizedState=null;k.updateQueue=null;if(oe(O)){var mb=!0;we(k)}else mb=!1;k.memoizedState=null!==ja.state&&
void 0!==ja.state?ja.state:null;te(k);var qb=O.getDerivedStateFromProps;"function"===typeof qb&&E(k,O,qb,d);ja.updater=Pi;k.stateNode=ja;ja._reactInternalFiber=k;Ob(k,O,d,u);k=y(null,k,O,!0,mb,u)}else k.tag=0,lb(null,k,ja,u),k=k.child;return k;case 16:a:{ja=k.elementType;null!==d&&(d.alternate=null,k.alternate=null,k.effectTag|=2);d=k.pendingProps;ia(ja);if(1!==ja._status)throw ja._result;ja=ja._result;k.type=ja;mb=k.tag=Zj(ja);d=Yd(ja,d);switch(mb){case 0:k=Jc(null,k,ja,d,u);break a;case 1:k=t(null,
k,ja,d,u);break a;case 11:k=nb(null,k,ja,d,u);break a;case 14:k=Ab(null,k,ja,Yd(ja.type,d),O,u);break a}throw Error(h(306,ja,""));}return k;case 0:return O=k.type,ja=k.pendingProps,ja=k.elementType===O?ja:Yd(O,ja),Jc(d,k,O,ja,u);case 1:return O=k.type,ja=k.pendingProps,ja=k.elementType===O?ja:Yd(O,ja),t(d,k,O,ja,u);case 3:S(k);O=k.updateQueue;if(null===d||null===O)throw Error(h(282));O=k.pendingProps;ja=k.memoizedState;ja=null!==ja?ja.element:null;Se(d,k);pe(k,O,null,u);O=k.memoizedState.element;
if(O===ja)Fg=mg=null,Sg=!1,k=Nb(d,k,u);else{if(ja=k.stateNode.hydrate)Fg=Ub(k.stateNode.containerInfo.firstChild),mg=k,ja=Sg=!0;if(ja)for(u=Ae(k,null,O,u),k.child=u;u;)u.effectTag=u.effectTag&-3|1024,u=u.sibling;else lb(d,k,O,u),Fg=mg=null,Sg=!1;k=k.child}return k;case 5:return Ld(k),null===d&&Ga(k),O=k.type,ja=k.pendingProps,mb=null!==d?d.memoizedProps:null,qb=ja.children,bc(O,ja)?qb=null:null!==mb&&bc(O,mb)&&(k.effectTag|=16),mc(d,k),k.mode&4&&1!==u&&ja.hidden?(k.expirationTime=k.childExpirationTime=
1,k=null):(lb(d,k,qb,u),k=k.child),k;case 6:return null===d&&Ga(k),null;case 13:return ba(d,k,u);case 4:return Ad(k,k.stateNode.containerInfo),O=k.pendingProps,null===d?k.child=Tf(k,null,O,u):lb(d,k,O,u),k.child;case 11:return O=k.type,ja=k.pendingProps,ja=k.elementType===O?ja:Yd(O,ja),nb(d,k,O,ja,u);case 7:return lb(d,k,k.pendingProps,u),k.child;case 8:return lb(d,k,k.pendingProps.children,u),k.child;case 12:return lb(d,k,k.pendingProps.children,u),k.child;case 10:a:{O=k.type._context;ja=k.pendingProps;
qb=k.memoizedProps;mb=ja.value;var Mb=k.type._context;cd(Ih,Mb._currentValue);Mb._currentValue=mb;if(null!==qb)if(Mb=qb.value,mb=vg(Mb,mb)?0:("function"===typeof O._calculateChangedBits?O._calculateChangedBits(Mb,mb):1073741823)|0,0===mb){if(qb.children===ja.children&&!Sf.current){k=Nb(d,k,u);break a}}else for(Mb=k.child,null!==Mb&&(Mb.return=k);null!==Mb;){var Hc=Mb.dependencies;if(null!==Hc){qb=Mb.child;for(var Fc=Hc.firstContext;null!==Fc;){if(Fc.context===O&&0!==(Fc.observedBits&mb)){1===Mb.tag&&
(Fc=dd(u,null),Fc.tag=2,Ee(Mb,Fc));Mb.expirationTime<u&&(Mb.expirationTime=u);Fc=Mb.alternate;null!==Fc&&Fc.expirationTime<u&&(Fc.expirationTime=u);Ge(Mb.return,u);Hc.expirationTime<u&&(Hc.expirationTime=u);break}Fc=Fc.next}}else qb=10===Mb.tag?Mb.type===k.type?null:Mb.child:Mb.child;if(null!==qb)qb.return=Mb;else for(qb=Mb;null!==qb;){if(qb===k){qb=null;break}Mb=qb.sibling;if(null!==Mb){Mb.return=qb.return;qb=Mb;break}qb=qb.return}Mb=qb}lb(d,k,ja.children,u);k=k.child}return k;case 9:return ja=k.type,
mb=k.pendingProps,O=mb.children,Ed(k,u),ja=vd(ja,mb.unstable_observedBits),O=O(ja),k.effectTag|=1,lb(d,k,O,u),k.child;case 14:return ja=k.type,mb=Yd(ja,k.pendingProps),mb=Yd(ja.type,mb),Ab(d,k,ja,mb,O,u);case 15:return Xb(d,k,k.type,k.pendingProps,O,u);case 17:return O=k.type,ja=k.pendingProps,ja=k.elementType===O?ja:Yd(O,ja),null!==d&&(d.alternate=null,k.alternate=null,k.effectTag|=2),k.tag=1,oe(O)?(d=!0,we(k)):d=!1,Ed(k,u),Ma(k,O,ja),Ob(k,O,ja,u),y(null,k,O,!0,d,u);case 19:return Eb(d,k,u)}throw Error(h(156,
k.tag));};var Wj=null,Ui=null;ak.prototype.render=function(d){Rh(d,this._internalRoot,null,null)};ak.prototype.unmount=function(){var d=this._internalRoot,k=d.containerInfo;Rh(null,d,null,function(){k[Fh]=null})};var $k=function(d){if(13===d.tag){var k=xe(Vc(),150,100);ld(d,k);bj(d,k)}};var xj=function(d){13===d.tag&&(ld(d,3),bj(d,3))};var yj=function(d){if(13===d.tag){var k=Vc();k=bd(k,d,null);ld(d,k);bj(d,k)}};ah=function(d,k,u){switch(k){case "input":J(d,u);k=u.name;if("radio"===u.type&&null!=
k){for(u=d;u.parentNode;)u=u.parentNode;u=u.querySelectorAll("input[name\x3d"+JSON.stringify(""+k)+'][type\x3d"radio"]');for(k=0;k<u.length;k++){var O=u[k];if(O!==d&&O.form===d.form){var ja=pb(O);if(!ja)throw Error(h(90));Va(O);J(O,ja)}}}break;case "textarea":da(d,u);break;case "select":k=u.value,null!=k&&Ca(d,!!u.multiple,k,!1)}};Sa=se;xa=function(d,k,u,O,ja){var mb=Be;Be|=4;try{return $b(98,d.bind(null,k,u,O,ja))}finally{Be=mb,Be===Lf&&Uc()}};ma=function(){(Be&(1|zg|gg))===Lf&&(Md(),Ph())};di=function(d,
k){var u=Be;Be|=2;try{return d(k)}finally{Be=u,Be===Lf&&Uc()}};var wl={Events:[va,Za,pb,Hb,sj,kc,function(d){gb(d,Tb)},Ka,Ha,zd,ta,Ph,{current:!1}]};(function(d){var k=d.findFiberByHostInstance;return Yj(df({},d,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hg.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){u=wa(u);return null===u?null:u.stateNode},findFiberByHostInstance:function(u){return k?k(u):null},findHostInstancesForRefresh:null,
scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Cc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wl;zb.createPortal=Ak;zb.findDOMNode=function(d){if(null==d)return null;if(1===d.nodeType)return d;var k=d._reactInternalFiber;if(void 0===k){if("function"===typeof d.render)throw Error(h(188));throw Error(h(268,Object.keys(d)));}d=wa(k);return d=null===d?null:d.stateNode};
zb.flushSync=function(d,k){if((Be&(zg|gg))!==Lf)throw Error(h(187));var u=Be;Be|=1;try{return $b(99,d.bind(null,k))}finally{Be=u,Uc()}};zb.hydrate=function(d,k,u){if(!Wg(k))throw Error(h(200));return cj(null,d,k,!0,u)};zb.render=function(d,k,u){if(!Wg(k))throw Error(h(200));return cj(null,d,k,!1,u)};zb.unmountComponentAtNode=function(d){if(!Wg(d))throw Error(h(40));return d._reactRootContainer?(Ne(function(){cj(null,null,d,!1,function(){d._reactRootContainer=null;d[Fh]=null})}),!0):!1};zb.unstable_batchedUpdates=
se;zb.unstable_createPortal=function(d,k){return Ak(d,k,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};zb.unstable_renderSubtreeIntoContainer=function(d,k,u,O){if(!Wg(u))throw Error(h(200));if(null==d||void 0===d._reactInternalFiber)throw Error(h(38));return cj(d,k,u,!1,O)};zb.version="16.13.1"};
shadow$provide[14]=function(fd,Qb,Sc,zb){function h(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(r){console.error(r)}}h();Sc.exports=Qb(9)};
shadow$provide[15]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(e,c,f){e.fields=c||[];e.fname=f;return e}function z(e){return null==e?null:e.fields}function Ra(e){return 1===e.length?ya(e[0]):ua(e)}function tb(e){throw Error(e);}function bb(e){function c(){f.push(w+e.substring(F,U));w="";F=U+1}const f=
[],l=e.length;let m=null,q=0,w="",F,U,wa;e+="";for(F=U=0;U<l;++U)(wa=e[U],"\\"===wa)?(w+=e.substring(F,U),w+=e.substring(++U,++U),F=U):wa===m?(c(),m=null,q=-1):m||(F===q&&'"'===wa?(F=U+1,m=wa):F===q&&"'"===wa?(F=U+1,m=wa):"."!==wa||q?"["===wa?(U>F&&c(),q=F=U+1):"]"===wa&&(q||tb("Access path missing open bracket: "+e),0<q&&c(),q=0,F=U+1):U>F?c():F=U+1);q&&tb("Access path missing closing bracket: "+e);m&&tb("Access path missing closing quote: "+e);U>F&&(U++,c());return f}function wb(e,c,f){const l=
bb(e);e=1===l.length?l[0]:e;return r((f&&f.get||Ra)(l),[e],c||e)}function Hb(e,c,f){c=[c].concat([].slice.call(f));console[e].apply(console,c)}function hb(e){return e===Object(e)}function Ka(e,c,f,l){if("__proto__"!==c){var m;if(hb(f)&&!x(f))for(m in e=hb(e[c])?e[c]:e[c]={},f)l&&(!0===l||l[m])?Ka(e,m,f[m]):"__proto__"!==m&&(e[m]=f[m]);else e[c]=f}}function Ha(e,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==e)return c;const l={},m=[];c.forEach(f);e.forEach(f);return m}function Sa(e){return e[e.length-
1]}function xa(e){return null==e||""===e?null:+e}function ma(e,c,f,l){const m=f(e[0]);e=f(Sa(e));c*=e-m;return[l(m-c),l(e-c)]}function na(e,c,f,l,m){const q=l(e[0]);e=l(Sa(e));c=null!=c?l(c):(q+e)/2;return[m(c+(q-c)*f),m(c+(e-c)*f)]}function Ba(e){return null!=e?x(e)?e:[e]:[]}function Fa(e){return"function"===typeof e}function la(e){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)e[f]=c[f];return e}function ra(e,c){return da.call(e,c)}function Qa(e){return"[object Date]"===Object.prototype.toString.call(e)}
function za(e){return"number"===typeof e}function Ta(e){return"string"===typeof e}function K(e,c){let f="";for(;0<=--c;)f+=e;return f}function ia(e){return x(e)?"["+e.map(ia)+"]":hb(e)||Ta(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}const ya=e=>function(c){return c[e]},ua=e=>{const c=e.length;return function(f){for(let l=0;l<c;++l)f=f[e[l]];return f}},La=wb("id"),Oa=r(e=>e,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const L=e=>c=>e*Math.exp(c),J=e=>c=>Math.log(e*c),B=e=>c=>Math.sign(c)*Math.log1p(Math.abs(c/e)),R=e=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*e,aa=e=>c=>0>c?-Math.pow(-c,e):Math.pow(c,e),ea=(e,c)=>(e<c||null==e)&&null!=c?-1:(e>c||null==c)&&null!=e?1:(c=c instanceof Date?+c:c,e=e instanceof Date?+e:e)!==e&&c===c?-1:c!==c&&e===e?1:0,Ca=(e,c)=>1===e.length?Ia(e[0],c[0]):H(e,c,e.length),Ia=(e,c)=>function(f,l){return ea(e(f),e(l))*c},H=(e,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=e[w],q=ea(q(l),q(m));return q*c[w]}},da=Object.prototype.hasOwnProperty,ca={},X=e=>za(e)?e:Qa(e)?e:Date.parse(e);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=z;h.accessorName=function(e){return null==e?null:e.fname};h.array=Ba;h.ascending=ea;h.clampRange=function(e,c,f){let l=e[0];e=e[1];let m;e<l&&(m=e,e=l,l=m);m=e-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(e,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Ca;Ba(e).forEach((F,U)=>{null!=F&&(l.push("descending"===c[U]?-1:1),m.push(F=Fa(F)?F:wb(F,null,f)),(z(F)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(e){return Fa(e)?e:()=>e};h.debounce=function(e,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),e)}};h.error=tb;h.extend=la;h.extent=function(e,c){let f=0,l,m,q,w;if(e&&(l=e.length))if(null==c){for(m=e[f];f<l&&(null==m||m!==m);m=e[++f]);for(q=w=m;f<
l;++f)m=e[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(e[f]);f<l&&(null==m||m!==m);m=c(e[++f]));for(q=w=m;f<l;++f)m=c(e[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(e,c){const f=e.length;let l=-1,m,q,w,F,U;if(null==c){for(;++l<f;)if(q=e[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=e[l],null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(e[l],l,e),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=c(e[l],l,e),
null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}return[F,U]};h.falsy=I;h.fastmap=function(e){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const F in f){const U=f[F];U===ca||l&&l(U)||(q[F]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};e&&Object.keys(e).forEach(q=>{m.set(q,e[q])});return m};h.field=wb;h.flush=function(e,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=e[0],F=Sa(e);F<w&&(e=w,w=F,F=e);e=Math.abs(c-w);c=Math.abs(F-c);return e<c&&e<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=La;h.identity=Oa;h.inherits=function(e,c,f){c=e.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(e,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=e:m<e)&&(void 0===l||l?e<=c:e<c)};h.isArray=x;h.isBoolean=function(e){return"boolean"===typeof e};h.isDate=Qa;h.isFunction=Fa;h.isIterable=function(e){return e&&Fa(e[Symbol.iterator])};h.isNumber=za;h.isObject=hb;h.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};h.isString=Ta;h.key=function(e,c,f){e&&(e=c?Ba(e).map(q=>q.replace(/\\(.)/g,"$1")):Ba(e));const l=e&&e.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(e[0]);f=function(w){return""+q(w)}}else{const q=e.map(f);f=function(w){let F=""+q[0](w),U=0;for(;++U<l;)F+="|"+q[U](w);return F}}else f=function(){return""};return r(f,e,"key")};h.lerp=function(e,c){const f=e[0];e=Sa(e);return(c=+c)?1===c?e:f+c*(e-f):f};h.logger=function(e,c){let f=e||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Hb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Hb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Hb(c||"log","INFO",arguments);return this},debug(){4<=f&&Hb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(e){e=+e||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,F)=>{++l>e&&(f=c,c={},l=1);return c[w]=F};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,F)=>ra(c,w)?c[w]=F:q(w,F)}};h.merge=function(e,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,F=0,U=0;for(;w<m&&F<q;++U)l[U]=0<e(c[w],
f[F])?f[F++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;F<q;++F,++U)l[U]=f[F];return l};h.mergeConfig=function(...e){return e.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ha(c.signals,f.signals):Ka(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(e,c,f,l){f=f||" ";e+="";c-=e.length;return 0>=c?e:"left"===l?K(f,c)+e:"center"===l?K(f,~~(c/2))+e+K(f,Math.ceil(c/2)):e+K(f,c)};h.panLinear=function(e,c){return ma(e,c,xa,Oa)};h.panLog=function(e,c){var f=
Math.sign(e[0]);return ma(e,c,J(f),L(f))};h.panPow=function(e,c,f){return ma(e,c,aa(f),aa(1/f))};h.panSymlog=function(e,c,f){return ma(e,c,B(f),R(f))};h.peek=Sa;h.quarter=function(e){return 1+~~((new Date(e)).getMonth()/3)};h.repeat=K;h.span=function(e){return e&&Sa(e)-e[0]||0};h.splitAccessPath=bb;h.stringValue=ia;h.toBoolean=function(e){return null==e||""===e?null:e&&"false"!==e&&"0"!==e?!!e:!1};h.toDate=function(e,c){c=c||X;return null==e||""===e?null:c(e)};h.toNumber=xa;h.toSet=function(e){const c=
{},f=e.length;for(let l=0;l<f;++l)c[e[l]]=!0;return c};h.toString=function(e){return null==e||""===e?null:e+""};h.truncate=function(e,c,f,l){l=null!=l?l:"…";e+="";const m=e.length,q=Math.max(0,c-l.length);return m<=c?e:"left"===f?l+e.slice(m-q):"center"===f?e.slice(0,Math.ceil(q/2))+l+e.slice(m-~~(q/2)):e.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(e){return 1+~~((new Date(e)).getUTCMonth()/3)};h.visitArray=function(e,c,f){if(e)if(c){const l=e.length;for(let m=0;m<l;++m){const q=c(e[m]);q&&f(q,
m,e)}}else e.forEach(f)};h.writeConfig=Ka;h.zero=Aa;h.zoomLinear=function(e,c,f){return na(e,c,f,xa,Oa)};h.zoomLog=function(e,c,f){const l=Math.sign(e[0]);return na(e,c,f,J(l),L(l))};h.zoomPow=function(e,c,f,l){return na(e,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(e,c,f,l){return na(e,c,f,B(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[16]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(e,c,f){e.fields=c||[];e.fname=f;return e}function z(e){return null==e?null:e.fields}function Ra(e){return 1===e.length?ya(e[0]):ua(e)}function tb(e){throw Error(e);}function bb(e){function c(){f.push(w+e.substring(F,U));w="";F=U+1}const f=
[],l=e.length;let m=null,q=0,w="",F,U,wa;e+="";for(F=U=0;U<l;++U)(wa=e[U],"\\"===wa)?(w+=e.substring(F,U),w+=e.substring(++U,++U),F=U):wa===m?(c(),m=null,q=-1):m||(F===q&&'"'===wa?(F=U+1,m=wa):F===q&&"'"===wa?(F=U+1,m=wa):"."!==wa||q?"["===wa?(U>F&&c(),q=F=U+1):"]"===wa&&(q||tb("Access path missing open bracket: "+e),0<q&&c(),q=0,F=U+1):U>F?c():F=U+1);q&&tb("Access path missing closing bracket: "+e);m&&tb("Access path missing closing quote: "+e);U>F&&(U++,c());return f}function wb(e,c,f){const l=
bb(e);e=1===l.length?l[0]:e;return r((f&&f.get||Ra)(l),[e],c||e)}function Hb(e,c,f){c=[c].concat([].slice.call(f));console[e].apply(console,c)}function hb(e){return e===Object(e)}function Ka(e,c,f,l){if("__proto__"!==c){var m;if(hb(f)&&!x(f))for(m in e=hb(e[c])?e[c]:e[c]={},f)l&&(!0===l||l[m])?Ka(e,m,f[m]):"__proto__"!==m&&(e[m]=f[m]);else e[c]=f}}function Ha(e,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==e)return c;const l={},m=[];c.forEach(f);e.forEach(f);return m}function Sa(e){return e[e.length-
1]}function xa(e){return null==e||""===e?null:+e}function ma(e,c,f,l){const m=f(e[0]);e=f(Sa(e));c*=e-m;return[l(m-c),l(e-c)]}function na(e,c,f,l,m){const q=l(e[0]);e=l(Sa(e));c=null!=c?l(c):(q+e)/2;return[m(c+(q-c)*f),m(c+(e-c)*f)]}function Ba(e){return null!=e?x(e)?e:[e]:[]}function Fa(e){return"function"===typeof e}function la(e){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)e[f]=c[f];return e}function ra(e,c){return da.call(e,c)}function Qa(e){return"[object Date]"===Object.prototype.toString.call(e)}
function za(e){return"number"===typeof e}function Ta(e){return"string"===typeof e}function K(e,c){let f="";for(;0<=--c;)f+=e;return f}function ia(e){return x(e)?"["+e.map(ia)+"]":hb(e)||Ta(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}const ya=e=>function(c){return c[e]},ua=e=>{const c=e.length;return function(f){for(let l=0;l<c;++l)f=f[e[l]];return f}},La=wb("id"),Oa=r(e=>e,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const L=e=>c=>e*Math.exp(c),J=e=>c=>Math.log(e*c),B=e=>c=>Math.sign(c)*Math.log1p(Math.abs(c/e)),R=e=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*e,aa=e=>c=>0>c?-Math.pow(-c,e):Math.pow(c,e),ea=(e,c)=>(e<c||null==e)&&null!=c?-1:(e>c||null==c)&&null!=e?1:(c=c instanceof Date?+c:c,e=e instanceof Date?+e:e)!==e&&c===c?-1:c!==c&&e===e?1:0,Ca=(e,c)=>1===e.length?Ia(e[0],c[0]):H(e,c,e.length),Ia=(e,c)=>function(f,l){return ea(e(f),e(l))*c},H=(e,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=e[w],q=ea(q(l),q(m));return q*c[w]}},da=Object.prototype.hasOwnProperty,ca={},X=e=>za(e)?e:Qa(e)?e:Date.parse(e);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=z;h.accessorName=function(e){return null==e?null:e.fname};h.array=Ba;h.ascending=ea;h.clampRange=function(e,c,f){let l=e[0];e=e[1];let m;e<l&&(m=e,e=l,l=m);m=e-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(e,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Ca;Ba(e).forEach((F,U)=>{null!=F&&(l.push("descending"===c[U]?-1:1),m.push(F=Fa(F)?F:wb(F,null,f)),(z(F)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(e){return Fa(e)?e:()=>e};h.debounce=function(e,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),e)}};h.error=tb;h.extend=la;h.extent=function(e,c){let f=0,l,m,q,w;if(e&&(l=e.length))if(null==c){for(m=e[f];f<l&&(null==m||m!==m);m=e[++f]);for(q=w=m;f<
l;++f)m=e[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(e[f]);f<l&&(null==m||m!==m);m=c(e[++f]));for(q=w=m;f<l;++f)m=c(e[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(e,c){const f=e.length;let l=-1,m,q,w,F,U;if(null==c){for(;++l<f;)if(q=e[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=e[l],null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(e[l],l,e),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=c(e[l],l,e),
null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}return[F,U]};h.falsy=I;h.fastmap=function(e){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const F in f){const U=f[F];U===ca||l&&l(U)||(q[F]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};e&&Object.keys(e).forEach(q=>{m.set(q,e[q])});return m};h.field=wb;h.flush=function(e,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=e[0],F=Sa(e);F<w&&(e=w,w=F,F=e);e=Math.abs(c-w);c=Math.abs(F-c);return e<c&&e<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=La;h.identity=Oa;h.inherits=function(e,c,f){c=e.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(e,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=e:m<e)&&(void 0===l||l?e<=c:e<c)};h.isArray=x;h.isBoolean=function(e){return"boolean"===typeof e};h.isDate=Qa;h.isFunction=Fa;h.isIterable=function(e){return e&&Fa(e[Symbol.iterator])};h.isNumber=za;h.isObject=hb;h.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};h.isString=Ta;h.key=function(e,c,f){e&&(e=c?Ba(e).map(q=>q.replace(/\\(.)/g,"$1")):Ba(e));const l=e&&e.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(e[0]);f=function(w){return""+q(w)}}else{const q=e.map(f);f=function(w){let F=""+q[0](w),U=0;for(;++U<l;)F+="|"+q[U](w);return F}}else f=function(){return""};return r(f,e,"key")};h.lerp=function(e,c){const f=e[0];e=Sa(e);return(c=+c)?1===c?e:f+c*(e-f):f};h.logger=function(e,c){let f=e||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Hb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Hb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Hb(c||"log","INFO",arguments);return this},debug(){4<=f&&Hb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(e){e=+e||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,F)=>{++l>e&&(f=c,c={},l=1);return c[w]=F};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,F)=>ra(c,w)?c[w]=F:q(w,F)}};h.merge=function(e,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,F=0,U=0;for(;w<m&&F<q;++U)l[U]=0<e(c[w],
f[F])?f[F++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;F<q;++F,++U)l[U]=f[F];return l};h.mergeConfig=function(...e){return e.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ha(c.signals,f.signals):Ka(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(e,c,f,l){f=f||" ";e+="";c-=e.length;return 0>=c?e:"left"===l?K(f,c)+e:"center"===l?K(f,~~(c/2))+e+K(f,Math.ceil(c/2)):e+K(f,c)};h.panLinear=function(e,c){return ma(e,c,xa,Oa)};h.panLog=function(e,c){var f=
Math.sign(e[0]);return ma(e,c,J(f),L(f))};h.panPow=function(e,c,f){return ma(e,c,aa(f),aa(1/f))};h.panSymlog=function(e,c,f){return ma(e,c,B(f),R(f))};h.peek=Sa;h.quarter=function(e){return 1+~~((new Date(e)).getMonth()/3)};h.repeat=K;h.span=function(e){return e&&Sa(e)-e[0]||0};h.splitAccessPath=bb;h.stringValue=ia;h.toBoolean=function(e){return null==e||""===e?null:e&&"false"!==e&&"0"!==e?!!e:!1};h.toDate=function(e,c){c=c||X;return null==e||""===e?null:c(e)};h.toNumber=xa;h.toSet=function(e){const c=
{},f=e.length;for(let l=0;l<f;++l)c[e[l]]=!0;return c};h.toString=function(e){return null==e||""===e?null:e+""};h.truncate=function(e,c,f,l){l=null!=l?l:"…";e+="";const m=e.length,q=Math.max(0,c-l.length);return m<=c?e:"left"===f?l+e.slice(m-q):"center"===f?e.slice(0,Math.ceil(q/2))+l+e.slice(m-~~(q/2)):e.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(e){return 1+~~((new Date(e)).getUTCMonth()/3)};h.visitArray=function(e,c,f){if(e)if(c){const l=e.length;for(let m=0;m<l;++m){const q=c(e[m]);q&&f(q,
m,e)}}else e.forEach(f)};h.writeConfig=Ka;h.zero=Aa;h.zoomLinear=function(e,c,f){return na(e,c,f,xa,Oa)};h.zoomLog=function(e,c,f){const l=Math.sign(e[0]);return na(e,c,f,J(l),L(l))};h.zoomPow=function(e,c,f,l){return na(e,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(e,c,f,l){return na(e,c,f,B(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[17]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(e,c,f){e.fields=c||[];e.fname=f;return e}function z(e){return null==e?null:e.fields}function Ra(e){return 1===e.length?ya(e[0]):ua(e)}function tb(e){throw Error(e);}function bb(e){function c(){f.push(w+e.substring(F,U));w="";F=U+1}const f=
[],l=e.length;let m=null,q=0,w="",F,U,wa;e+="";for(F=U=0;U<l;++U)(wa=e[U],"\\"===wa)?(w+=e.substring(F,U),w+=e.substring(++U,++U),F=U):wa===m?(c(),m=null,q=-1):m||(F===q&&'"'===wa?(F=U+1,m=wa):F===q&&"'"===wa?(F=U+1,m=wa):"."!==wa||q?"["===wa?(U>F&&c(),q=F=U+1):"]"===wa&&(q||tb("Access path missing open bracket: "+e),0<q&&c(),q=0,F=U+1):U>F?c():F=U+1);q&&tb("Access path missing closing bracket: "+e);m&&tb("Access path missing closing quote: "+e);U>F&&(U++,c());return f}function wb(e,c,f){const l=
bb(e);e=1===l.length?l[0]:e;return r((f&&f.get||Ra)(l),[e],c||e)}function Hb(e,c,f){c=[c].concat([].slice.call(f));console[e].apply(console,c)}function hb(e){return e===Object(e)}function Ka(e,c,f,l){if("__proto__"!==c){var m;if(hb(f)&&!x(f))for(m in e=hb(e[c])?e[c]:e[c]={},f)l&&(!0===l||l[m])?Ka(e,m,f[m]):"__proto__"!==m&&(e[m]=f[m]);else e[c]=f}}function Ha(e,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==e)return c;const l={},m=[];c.forEach(f);e.forEach(f);return m}function Sa(e){return e[e.length-
1]}function xa(e){return null==e||""===e?null:+e}function ma(e,c,f,l){const m=f(e[0]);e=f(Sa(e));c*=e-m;return[l(m-c),l(e-c)]}function na(e,c,f,l,m){const q=l(e[0]);e=l(Sa(e));c=null!=c?l(c):(q+e)/2;return[m(c+(q-c)*f),m(c+(e-c)*f)]}function Ba(e){return null!=e?x(e)?e:[e]:[]}function Fa(e){return"function"===typeof e}function la(e){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)e[f]=c[f];return e}function ra(e,c){return da.call(e,c)}function Qa(e){return"[object Date]"===Object.prototype.toString.call(e)}
function za(e){return"number"===typeof e}function Ta(e){return"string"===typeof e}function K(e,c){let f="";for(;0<=--c;)f+=e;return f}function ia(e){return x(e)?"["+e.map(ia)+"]":hb(e)||Ta(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}const ya=e=>function(c){return c[e]},ua=e=>{const c=e.length;return function(f){for(let l=0;l<c;++l)f=f[e[l]];return f}},La=wb("id"),Oa=r(e=>e,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const L=e=>c=>e*Math.exp(c),J=e=>c=>Math.log(e*c),B=e=>c=>Math.sign(c)*Math.log1p(Math.abs(c/e)),R=e=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*e,aa=e=>c=>0>c?-Math.pow(-c,e):Math.pow(c,e),ea=(e,c)=>(e<c||null==e)&&null!=c?-1:(e>c||null==c)&&null!=e?1:(c=c instanceof Date?+c:c,e=e instanceof Date?+e:e)!==e&&c===c?-1:c!==c&&e===e?1:0,Ca=(e,c)=>1===e.length?Ia(e[0],c[0]):H(e,c,e.length),Ia=(e,c)=>function(f,l){return ea(e(f),e(l))*c},H=(e,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=e[w],q=ea(q(l),q(m));return q*c[w]}},da=Object.prototype.hasOwnProperty,ca={},X=e=>za(e)?e:Qa(e)?e:Date.parse(e);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=z;h.accessorName=function(e){return null==e?null:e.fname};h.array=Ba;h.ascending=ea;h.clampRange=function(e,c,f){let l=e[0];e=e[1];let m;e<l&&(m=e,e=l,l=m);m=e-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(e,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Ca;Ba(e).forEach((F,U)=>{null!=F&&(l.push("descending"===c[U]?-1:1),m.push(F=Fa(F)?F:wb(F,null,f)),(z(F)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(e){return Fa(e)?e:()=>e};h.debounce=function(e,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),e)}};h.error=tb;h.extend=la;h.extent=function(e,c){let f=0,l,m,q,w;if(e&&(l=e.length))if(null==c){for(m=e[f];f<l&&(null==m||m!==m);m=e[++f]);for(q=w=m;f<
l;++f)m=e[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(e[f]);f<l&&(null==m||m!==m);m=c(e[++f]));for(q=w=m;f<l;++f)m=c(e[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(e,c){const f=e.length;let l=-1,m,q,w,F,U;if(null==c){for(;++l<f;)if(q=e[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=e[l],null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(e[l],l,e),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=c(e[l],l,e),
null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}return[F,U]};h.falsy=I;h.fastmap=function(e){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const F in f){const U=f[F];U===ca||l&&l(U)||(q[F]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};e&&Object.keys(e).forEach(q=>{m.set(q,e[q])});return m};h.field=wb;h.flush=function(e,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=e[0],F=Sa(e);F<w&&(e=w,w=F,F=e);e=Math.abs(c-w);c=Math.abs(F-c);return e<c&&e<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=La;h.identity=Oa;h.inherits=function(e,c,f){c=e.prototype=Object.create(c.prototype);c.constructor=e;return la(c,f)};h.inrange=function(e,c,f,l){let m=c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=e:m<e)&&
(void 0===l||l?e<=c:e<c)};h.isArray=x;h.isBoolean=function(e){return"boolean"===typeof e};h.isDate=Qa;h.isFunction=Fa;h.isIterable=function(e){return e&&Fa(e[Symbol.iterator])};h.isNumber=za;h.isObject=hb;h.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};h.isString=Ta;h.key=function(e,c,f){e&&(e=c?Ba(e).map(q=>q.replace(/\\(.)/g,"$1")):Ba(e));const l=e&&e.length,m=f&&f.get||Ra;f=q=>m(c?[q]:bb(q));if(l)if(1===l){const q=f(e[0]);f=function(w){return""+q(w)}}else{const q=
e.map(f);f=function(w){let F=""+q[0](w),U=0;for(;++U<l;)F+="|"+q[U](w);return F}}else f=function(){return""};return r(f,e,"key")};h.lerp=function(e,c){const f=e[0];e=Sa(e);return(c=+c)?1===c?e:f+c*(e-f):f};h.logger=function(e,c){let f=e||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Hb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Hb(c||"warn","WARN",arguments);return this},info(){3<=f&&Hb(c||"log","INFO",arguments);return this},debug(){4<=f&&Hb(c||"log","DEBUG",
arguments);return this}}};h.lruCache=function(e){e=+e||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,F)=>{++l>e&&(f=c,c={},l=1);return c[w]=F};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,F)=>ra(c,w)?c[w]=F:q(w,F)}};h.merge=function(e,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,F=0,U=0;for(;w<m&&F<q;++U)l[U]=0<e(c[w],f[F])?f[F++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;F<q;++F,++U)l[U]=f[F];
return l};h.mergeConfig=function(...e){return e.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ha(c.signals,f.signals):Ka(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(e,c,f,l){f=f||" ";e+="";c-=e.length;return 0>=c?e:"left"===l?K(f,c)+e:"center"===l?K(f,~~(c/2))+e+K(f,Math.ceil(c/2)):e+K(f,c)};h.panLinear=function(e,c){return ma(e,c,xa,Oa)};h.panLog=function(e,c){var f=Math.sign(e[0]);return ma(e,c,J(f),L(f))};h.panPow=function(e,c,f){return ma(e,
c,aa(f),aa(1/f))};h.panSymlog=function(e,c,f){return ma(e,c,B(f),R(f))};h.peek=Sa;h.quarter=function(e){return 1+~~((new Date(e)).getMonth()/3)};h.repeat=K;h.span=function(e){return e&&Sa(e)-e[0]||0};h.splitAccessPath=bb;h.stringValue=ia;h.toBoolean=function(e){return null==e||""===e?null:e&&"false"!==e&&"0"!==e?!!e:!1};h.toDate=function(e,c){c=c||X;return null==e||""===e?null:c(e)};h.toNumber=xa;h.toSet=function(e){const c={},f=e.length;for(let l=0;l<f;++l)c[e[l]]=!0;return c};h.toString=function(e){return null==
e||""===e?null:e+""};h.truncate=function(e,c,f,l){l=null!=l?l:"…";e+="";const m=e.length,q=Math.max(0,c-l.length);return m<=c?e:"left"===f?l+e.slice(m-q):"center"===f?e.slice(0,Math.ceil(q/2))+l+e.slice(m-~~(q/2)):e.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(e){return 1+~~((new Date(e)).getUTCMonth()/3)};h.visitArray=function(e,c,f){if(e)if(c){const l=e.length;for(let m=0;m<l;++m){const q=c(e[m]);q&&f(q,m,e)}}else e.forEach(f)};h.writeConfig=Ka;h.zero=Aa;h.zoomLinear=function(e,c,f){return na(e,
c,f,xa,Oa)};h.zoomLog=function(e,c,f){const l=Math.sign(e[0]);return na(e,c,f,J(l),L(l))};h.zoomPow=function(e,c,f,l){return na(e,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(e,c,f,l){return na(e,c,f,B(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[18]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(Y,ta){return Y<ta?-1:Y>ta?1:Y>=ta?0:NaN}function z(Y){function ta(ka,Da,sb,Ya){null==sb&&(sb=0);null==Ya&&(Ya=ka.length);for(;sb<Ya;){const ob=sb+Ya>>>1;0>Q(ka[ob],Da)?sb=ob+1:Ya=ob}return sb}let G=Y,Q=Y;1===Y.length&&(G=(ka,Da)=>
Y(ka)-Da,Q=Ra(Y));return{left:ta,center:function(ka,Da,sb,Ya){null==sb&&(sb=0);null==Ya&&(Ya=ka.length);Ya=ta(ka,Da,sb,Ya-1);return Ya>sb&&G(ka[Ya-1],Da)>-G(ka[Ya],Da)?Ya-1:Ya},right:function(ka,Da,sb,Ya){null==sb&&(sb=0);null==Ya&&(Ya=ka.length);for(;sb<Ya;){const ob=sb+Ya>>>1;0<Q(ka[ob],Da)?Ya=ob:sb=ob+1}return sb}}}function Ra(Y){return(ta,G)=>r(Y(ta),G)}function tb(Y){return null===Y?NaN:+Y}function*bb(Y,ta){if(void 0===ta)for(var G of Y)null!=G&&(G=+G)>=G&&(yield G);else{G=-1;for(let Q of Y)null!=
(Q=ta(Q,++G,Y))&&(Q=+Q)>=Q&&(yield Q)}}function wb(Y,ta){let G=0;if(void 0===ta)for(var Q of Y)null!=Q&&(Q=+Q)>=Q&&++G;else{Q=-1;for(let ka of Y)null!=(ka=ta(ka,++Q,Y))&&(ka=+ka)>=ka&&++G}return G}function Hb(Y){return Y.length|0}function hb(Y){return!(0<Y)}function Ka(Y){return"object"!==typeof Y||"length"in Y?Y:Array.from(Y)}function Ha(Y){return ta=>Y(...ta)}function Sa(Y,ta){let G=0,Q,ka=0,Da=0;if(void 0===ta)for(var sb of Y)null!=sb&&(sb=+sb)>=sb&&(Q=sb-ka,ka+=Q/++G,Da+=Q*(sb-ka));else{sb=-1;
for(let Ya of Y)null!=(Ya=ta(Ya,++sb,Y))&&(Ya=+Ya)>=Ya&&(Q=Ya-ka,ka+=Q/++G,Da+=Q*(Ya-ka))}if(1<G)return Da/(G-1)}function xa(Y,ta){return(Y=Sa(Y,ta))?Math.sqrt(Y):Y}function ma(Y,ta){let G,Q;if(void 0===ta)for(var ka of Y)null!=ka&&(void 0===G?ka>=ka&&(G=Q=ka):(G>ka&&(G=ka),Q<ka&&(Q=ka)));else{ka=-1;for(let Da of Y)null!=(Da=ta(Da,++ka,Y))&&(void 0===G?Da>=Da&&(G=Q=Da):(G>Da&&(G=Da),Q<Da&&(Q=Da)))}return[G,Q]}function na({_intern:Y,_key:ta},G){ta=ta(G);return Y.has(ta)?Y.get(ta):G}function Ba({_intern:Y,
_key:ta},G){ta=ta(G);if(Y.has(ta))return Y.get(ta);Y.set(ta,G);return G}function Fa({_intern:Y,_key:ta},G){ta=ta(G);Y.has(ta)&&(G=Y.get(G),Y.delete(ta));return G}function la(Y){return null!==Y&&"object"===typeof Y?Y.valueOf():Y}function ra(Y){return Y}function Qa(Y,...ta){return K(Y,ra,ra,ta)}function za(Y,ta,...G){return K(Y,ra,ta,G)}function Ta(Y){if(1!==Y.length)throw Error("duplicate key");return Y[0]}function K(Y,ta,G,Q){return function Ya(Da,sb){if(sb>=Q.length)return G(Da);const ob=new q,Na=
Q[sb++];let yb=-1;for(const Fb of Da){const eb=Na(Fb,++yb,Da),Lb=ob.get(eb);Lb?Lb.push(Fb):ob.set(eb,[Fb])}for(const [Fb,eb]of ob)ob.set(Fb,Ya(eb,sb));return ta(ob)}(Y,0)}function ia(Y,ta){return Array.from(ta,G=>Y[G])}function ya(Y,...ta){if("function"!==typeof Y[Symbol.iterator])throw new TypeError("values is not iterable");Y=Array.from(Y);let [G=r]=ta;if(1===G.length||1<ta.length){const Q=Uint32Array.from(Y,(ka,Da)=>Da);1<ta.length?(ta=ta.map(ka=>Y.map(ka)),Q.sort((ka,Da)=>{for(const sb of ta){const Ya=
r(sb[ka],sb[Da]);if(Ya)return Ya}})):(G=Y.map(G),Q.sort((ka,Da)=>r(G[ka],G[Da])));return ia(Y,Q)}return Y.sort(G)}function ua(Y){return function(){return Y}}function La(Y,ta,G){var Q,ka=-1,Da;ta=+ta;Y=+Y;G=+G;if(Y===ta&&0<G)return[Y];if(Q=ta<Y){var sb=Y;Y=ta;ta=sb}if(0===(Da=Oa(Y,ta,G))||!isFinite(Da))return[];if(0<Da)for(G=Math.round(Y/Da),sb=Math.round(ta/Da),G*Da<Y&&++G,sb*Da>ta&&--sb,Y=Array(sb=sb-G+1);++ka<sb;)Y[ka]=(G+ka)*Da;else for(Da=-Da,G=Math.round(Y*Da),sb=Math.round(ta*Da),G/Da<Y&&++G,
sb/Da>ta&&--sb,Y=Array(sb=sb-G+1);++ka<sb;)Y[ka]=(G+ka)/Da;Q&&Y.reverse();return Y}function Oa(Y,ta,G){ta=(ta-Y)/Math.max(0,G);Y=Math.floor(Math.log(ta)/Math.LN10);ta/=Math.pow(10,Y);return 0<=Y?(ta>=U?10:ta>=wa?5:ta>=cb?2:1)*Math.pow(10,Y):-Math.pow(10,-Y)/(ta>=U?10:ta>=wa?5:ta>=cb?2:1)}function Aa(Y,ta,G){let Q;for(;;){const ka=Oa(Y,ta,G);if(ka===Q||0===ka||!isFinite(ka))return[Y,ta];0<ka?(Y=Math.floor(Y/ka)*ka,ta=Math.ceil(ta/ka)*ka):0>ka&&(Y=Math.ceil(Y*ka)/ka,ta=Math.floor(ta*ka)/ka);Q=ka}}function ab(Y){return Math.ceil(Math.log(wb(Y))/
Math.LN2)+1}function Va(){function Y(ka){Array.isArray(ka)||(ka=Array.from(ka));var Da,sb=ka.length,Ya=Array(sb);for(Da=0;Da<sb;++Da)Ya[Da]=ta(ka[Da],Da,ka);var ob=G(Ya),Na=ob[0];ob=ob[1];var yb=Q(Ya,Na,ob);if(!Array.isArray(yb)){Da=ob;var Fb=+yb;G===ma&&([Na,ob]=Aa(Na,ob,Fb));yb=La(Na,ob,Fb);yb[yb.length-1]>=ob&&(Da>=ob&&G===ma?(Da=Oa(Na,ob,Fb),isFinite(Da)&&(0<Da?ob=(Math.floor(ob/Da)+1)*Da:0>Da&&(ob=(Math.ceil(ob*-Da)+1)/-Da))):yb.pop())}for(Fb=yb.length;yb[0]<=Na;)yb.shift(),--Fb;for(;yb[Fb-1]>
ob;)yb.pop(),--Fb;var eb=Array(Fb+1);for(Da=0;Da<=Fb;++Da){var Lb=eb[Da]=[];Lb.x0=0<Da?yb[Da-1]:Na;Lb.x1=Da<Fb?yb[Da]:ob}for(Da=0;Da<sb;++Da)Lb=Ya[Da],Na<=Lb&&Lb<=ob&&eb[f(yb,Lb,0,Fb)].push(ka[Da]);return eb}var ta=ra,G=ma,Q=ab;Y.value=function(ka){return arguments.length?(ta="function"===typeof ka?ka:ua(ka),Y):ta};Y.domain=function(ka){return arguments.length?(G="function"===typeof ka?ka:ua([ka[0],ka[1]]),Y):G};Y.thresholds=function(ka){return arguments.length?(Q="function"===typeof ka?ka:Array.isArray(ka)?
ua(F.call(ka)):ua(ka),Y):Q};return Y}function I(Y,ta){let G;if(void 0===ta)for(var Q of Y)null!=Q&&(G<Q||void 0===G&&Q>=Q)&&(G=Q);else{Q=-1;for(let ka of Y)null!=(ka=ta(ka,++Q,Y))&&(G<ka||void 0===G&&ka>=ka)&&(G=ka)}return G}function x(Y,ta){let G;if(void 0===ta)for(var Q of Y)null!=Q&&(G>Q||void 0===G&&Q>=Q)&&(G=Q);else{Q=-1;for(let ka of Y)null!=(ka=ta(ka,++Q,Y))&&(G>ka||void 0===G&&ka>=ka)&&(G=ka)}return G}function L(Y,ta,G=0,Q=Y.length-1,ka=r){for(;Q>G;){if(600<Q-G){var Da=Q-G+1,sb=ta-G+1,Ya=
Math.log(Da),ob=.5*Math.exp(2*Ya/3);Ya=.5*Math.sqrt(Ya*ob*(Da-ob)/Da)*(0>sb-Da/2?-1:1);L(Y,ta,Math.max(G,Math.floor(ta-sb*ob/Da+Ya)),Math.min(Q,Math.floor(ta+(Da-sb)*ob/Da+Ya)),ka)}Da=Y[ta];sb=G;ob=Q;J(Y,G,ta);for(0<ka(Y[Q],Da)&&J(Y,G,Q);sb<ob;){J(Y,sb,ob);++sb;for(--ob;0>ka(Y[sb],Da);)++sb;for(;0<ka(Y[ob],Da);)--ob}0===ka(Y[G],Da)?J(Y,G,ob):(++ob,J(Y,ob,Q));ob<=ta&&(G=ob+1);ta<=ob&&(Q=ob-1)}return Y}function J(Y,ta,G){const Q=Y[ta];Y[ta]=Y[G];Y[G]=Q}function B(Y,ta,G){Y=Float64Array.from(bb(Y,G));
if(G=Y.length){if(0>=(ta=+ta)||2>G)return x(Y);if(1<=ta)return I(Y);ta*=G-1;G=Math.floor(ta);var Q=I(L(Y,G).subarray(0,G+1));Y=x(Y.subarray(G+1));return Q+(Y-Q)*(ta-G)}}function R(Y,ta){let G,Q=-1,ka=-1;if(void 0===ta)for(const Da of Y)++ka,null!=Da&&(G<Da||void 0===G&&Da>=Da)&&(G=Da,Q=ka);else for(let Da of Y)null!=(Da=ta(Da,++ka,Y))&&(G<Da||void 0===G&&Da>=Da)&&(G=Da,Q=ka);return Q}function*aa(Y){for(const ta of Y)yield*ta}function ea(Y,ta){let G,Q=-1,ka=-1;if(void 0===ta)for(const Da of Y)++ka,
null!=Da&&(G>Da||void 0===G&&Da>=Da)&&(G=Da,Q=ka);else for(let Da of Y)null!=(Da=ta(Da,++ka,Y))&&(G>Da||void 0===G&&Da>=Da)&&(G=Da,Q=ka);return Q}function Ca(Y,ta){return[Y,ta]}function Ia(Y,ta=r){if(1===ta.length)return ea(Y,ta);let G,Q=-1,ka=-1;for(const Da of Y)if(++ka,0>Q?0===ta(Da,Da):0>ta(Da,G))G=Da,Q=ka;return Q}function H(Y){return function(ta,G=0,Q=ta.length){for(Q-=G=+G;Q;){const ka=Y()*Q--|0,Da=ta[Q+G];ta[Q+G]=ta[ka+G];ta[ka+G]=Da}return ta}}function da(Y){if(!(Da=Y.length))return[];for(var ta=
-1,G=x(Y,ca),Q=Array(G);++ta<G;)for(var ka=-1,Da,sb=Q[ta]=Array(Da);++ka<Da;)sb[ka]=Y[ka][ta];return Q}function ca(Y){return Y.length}function X(Y){return Y instanceof Set?Y:new Set(Y)}function e(Y,ta){Y=Y[Symbol.iterator]();const G=new Set;for(const Q of ta){if(G.has(Q))continue;let ka;for(;{value:ta,done:ka}=Y.next();){if(ka)return!1;G.add(ta);if(Object.is(Q,ta))break}}return!0}var c=z(r);const f=c.right;c=c.left;const l=z(tb).center;class m{constructor(){this._partials=new Float64Array(32);this._n=
0}add(Y){const ta=this._partials;let G=0;for(let Q=0;Q<this._n&&32>Q;Q++){const ka=ta[Q],Da=Y+ka;(Y=Math.abs(Y)<Math.abs(ka)?Y-(Da-ka):ka-(Da-Y))&&(ta[G++]=Y);Y=Da}ta[G]=Y;this._n=G+1;return this}valueOf(){const Y=this._partials;let ta=this._n;let G,Q=0;if(0<ta){for(Q=Y[--ta];0<ta;){var ka=Q;G=Y[--ta];Q=ka+G;if(ka=G-(Q-ka))break}0<ta&&(0>ka&&0>Y[ta-1]||0<ka&&0<Y[ta-1])&&(G=2*ka,ka=Q+G,G==ka-Q&&(Q=ka))}return Q}}class q extends Map{constructor(Y,ta=la){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:ta}});if(null!=Y)for(const [G,Q]of Y)this.set(G,Q)}get(Y){return super.get(na(this,Y))}has(Y){return super.has(na(this,Y))}set(Y,ta){return super.set(Ba(this,Y),ta)}delete(Y){return super.delete(Fa(this,Y))}}class w extends Set{constructor(Y,ta=la){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:ta}});if(null!=Y)for(const G of Y)this.add(G)}has(Y){return super.has(na(this,Y))}add(Y){return super.add(Ba(this,Y))}delete(Y){return super.delete(Fa(this,Y))}}var F=
Array.prototype.slice,U=Math.sqrt(50),wa=Math.sqrt(10),cb=Math.sqrt(2),gb=H(Math.random);h.Adder=m;h.InternMap=q;h.InternSet=w;h.ascending=r;h.bin=Va;h.bisect=f;h.bisectCenter=l;h.bisectLeft=c;h.bisectRight=f;h.bisector=z;h.count=wb;h.cross=function(...Y){const ta="function"===typeof Y[Y.length-1]&&Ha(Y.pop());Y=Y.map(Ka);const G=Y.map(Hb),Q=Y.length-1,ka=Array(Q+1).fill(0),Da=[];if(0>Q||G.some(hb))return Da;for(;;){Da.push(ka.map((Ya,ob)=>Y[ob][Ya]));let sb=Q;for(;++ka[sb]===G[sb];){if(0===sb)return ta?
Da.map(ta):Da;ka[sb--]=0}}};h.cumsum=function(Y,ta){var G=0,Q=0;return Float64Array.from(Y,void 0===ta?ka=>G+=+ka||0:ka=>G+=+ta(ka,Q++,Y)||0)};h.descending=function(Y,ta){return ta<Y?-1:ta>Y?1:ta>=Y?0:NaN};h.deviation=xa;h.difference=function(Y,...ta){Y=new Set(Y);for(const G of ta)for(const Q of G)Y.delete(Q);return Y};h.disjoint=function(Y,ta){ta=ta[Symbol.iterator]();const G=new Set;for(const Q of Y){if(G.has(Q))return!1;let ka;for(;({value:Y,done:ka}=ta.next())&&!ka;){if(Object.is(Q,Y))return!1;
G.add(Y)}}return!0};h.every=function(Y,ta){if("function"!==typeof ta)throw new TypeError("test is not a function");let G=-1;for(const Q of Y)if(!ta(Q,++G,Y))return!1;return!0};h.extent=ma;h.fcumsum=function(Y,ta){const G=new m;let Q=-1;return Float64Array.from(Y,void 0===ta?ka=>G.add(+ka||0):ka=>G.add(+ta(ka,++Q,Y)||0))};h.filter=function(Y,ta){if("function"!==typeof ta)throw new TypeError("test is not a function");const G=[];let Q=-1;for(const ka of Y)ta(ka,++Q,Y)&&G.push(ka);return G};h.fsum=function(Y,
ta){const G=new m;if(void 0===ta)for(var Q of Y)(Q=+Q)&&G.add(Q);else{Q=-1;for(let ka of Y)(ka=+ta(ka,++Q,Y))&&G.add(ka)}return+G};h.greatest=function(Y,ta=r){let G,Q=!1;if(1===ta.length){let ka;for(const Da of Y)if(Y=ta(Da),Q?0<r(Y,ka):0===r(Y,Y))G=Da,ka=Y,Q=!0}else for(const ka of Y)if(Q?0<ta(ka,G):0===ta(ka,ka))G=ka,Q=!0;return G};h.greatestIndex=function(Y,ta=r){if(1===ta.length)return R(Y,ta);let G,Q=-1,ka=-1;for(const Da of Y)if(++ka,0>Q?0===ta(Da,Da):0<ta(Da,G))G=Da,Q=ka;return Q};h.group=
Qa;h.groupSort=function(Y,ta,G){return(1===ta.length?ya(za(Y,ta,G),([Q,ka],[Da,sb])=>r(ka,sb)||r(Q,Da)):ya(Qa(Y,G),([Q,ka],[Da,sb])=>ta(ka,sb)||r(Q,Da))).map(([Q])=>Q)};h.groups=function(Y,...ta){return K(Y,Array.from,ra,ta)};h.histogram=Va;h.index=function(Y,...ta){return K(Y,ra,Ta,ta)};h.indexes=function(Y,...ta){return K(Y,Array.from,Ta,ta)};h.intersection=function(Y,...ta){Y=new Set(Y);ta=ta.map(X);a:for(const G of Y)for(const Q of ta)if(!Q.has(G)){Y.delete(G);continue a}return Y};h.least=function(Y,
ta=r){let G,Q=!1;if(1===ta.length){let ka;for(const Da of Y)if(Y=ta(Da),Q?0>r(Y,ka):0===r(Y,Y))G=Da,ka=Y,Q=!0}else for(const ka of Y)if(Q?0>ta(ka,G):0===ta(ka,ka))G=ka,Q=!0;return G};h.leastIndex=Ia;h.map=function(Y,ta){if("function"!==typeof Y[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof ta)throw new TypeError("mapper is not a function");return Array.from(Y,(G,Q)=>ta(G,Q,Y))};h.max=I;h.maxIndex=R;h.mean=function(Y,ta){let G=0,Q=0;if(void 0===ta)for(var ka of Y)null!=
ka&&(ka=+ka)>=ka&&(++G,Q+=ka);else{ka=-1;for(let Da of Y)null!=(Da=ta(Da,++ka,Y))&&(Da=+Da)>=Da&&(++G,Q+=Da)}if(G)return Q/G};h.median=function(Y,ta){return B(Y,.5,ta)};h.merge=function(Y){return Array.from(aa(Y))};h.min=x;h.minIndex=ea;h.nice=Aa;h.pairs=function(Y,ta=Ca){const G=[];let Q,ka=!1;for(const Da of Y)ka&&G.push(ta(Q,Da)),Q=Da,ka=!0;return G};h.permute=ia;h.quantile=B;h.quantileSorted=function(Y,ta,G=tb){if(Q=Y.length){if(0>=(ta=+ta)||2>Q)return+G(Y[0],0,Y);if(1<=ta)return+G(Y[Q-1],Q-1,
Y);var Q;ta*=Q-1;Q=Math.floor(ta);var ka=+G(Y[Q],Q,Y);Y=+G(Y[Q+1],Q+1,Y);return ka+(Y-ka)*(ta-Q)}};h.quickselect=L;h.range=function(Y,ta,G){Y=+Y;ta=+ta;G=2>(ka=arguments.length)?(ta=Y,Y=0,1):3>ka?1:+G;for(var Q=-1,ka=Math.max(0,Math.ceil((ta-Y)/G))|0,Da=Array(ka);++Q<ka;)Da[Q]=Y+Q*G;return Da};h.reduce=function(Y,ta,G){if("function"!==typeof ta)throw new TypeError("reducer is not a function");const Q=Y[Symbol.iterator]();let ka,Da,sb=-1;if(3>arguments.length){({done:ka,value:G}=Q.next());if(ka)return;
++sb}for(;{done:ka,value:Da}=Q.next(),!ka;)G=ta(G,Da,++sb,Y);return G};h.reverse=function(Y){if("function"!==typeof Y[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Y).reverse()};h.rollup=za;h.rollups=function(Y,ta,...G){return K(Y,Array.from,ta,G)};h.scan=function(Y,ta){Y=Ia(Y,ta);return 0>Y?void 0:Y};h.shuffle=gb;h.shuffler=H;h.some=function(Y,ta){if("function"!==typeof ta)throw new TypeError("test is not a function");let G=-1;for(const Q of Y)if(ta(Q,++G,Y))return!0;
return!1};h.sort=ya;h.subset=function(Y,ta){return e(ta,Y)};h.sum=function(Y,ta){let G=0;if(void 0===ta)for(var Q of Y){if(Q=+Q)G+=Q}else{Q=-1;for(let ka of Y)if(ka=+ta(ka,++Q,Y))G+=ka}return G};h.superset=e;h.thresholdFreedmanDiaconis=function(Y,ta,G){return Math.ceil((G-ta)/(2*(B(Y,.75)-B(Y,.25))*Math.pow(wb(Y),-1/3)))};h.thresholdScott=function(Y,ta,G){return Math.ceil((G-ta)/(3.5*xa(Y)*Math.pow(wb(Y),-1/3)))};h.thresholdSturges=ab;h.tickIncrement=Oa;h.tickStep=function(Y,ta,G){var Q=Math.abs(ta-
Y)/Math.max(0,G);G=Math.pow(10,Math.floor(Math.log(Q)/Math.LN10));Q/=G;Q>=U?G*=10:Q>=wa?G*=5:Q>=cb&&(G*=2);return ta<Y?-G:G};h.ticks=La;h.transpose=da;h.union=function(...Y){const ta=new Set;for(const G of Y)for(const Q of G)ta.add(Q);return ta};h.variance=Sa;h.zip=function(){return da(arguments)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[19]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(la,ra){if(0>(ra=(la=ra?la.toExponential(ra-1):la.toExponential()).indexOf("e")))return null;var Qa=la.slice(0,ra);return[1<Qa.length?Qa[0]+Qa.slice(2):Qa,+la.slice(ra+1)]}function z(la){return la=r(Math.abs(la)),la?la[1]:NaN}function Ra(la,
ra){return function(Qa,za){for(var Ta=Qa.length,K=[],ia=0,ya=la[0],ua=0;0<Ta&&0<ya;){ua+ya+1>za&&(ya=Math.max(1,za-ua));K.push(Qa.substring(Ta-=ya,Ta+ya));if((ua+=ya+1)>za)break;ya=la[ia=(ia+1)%la.length]}return K.reverse().join(ra)}}function tb(la){return function(ra){return ra.replace(/[0-9]/g,function(Qa){return la[+Qa]})}}function bb(la){if(!(ra=Sa.exec(la)))throw Error("invalid format: "+la);var ra;return new wb({fill:ra[1],align:ra[2],sign:ra[3],symbol:ra[4],zero:ra[5],width:ra[6],comma:ra[7],
precision:ra[8]&&ra[8].slice(1),trim:ra[9],type:ra[10]})}function wb(la){this.fill=void 0===la.fill?" ":la.fill+"";this.align=void 0===la.align?"\x3e":la.align+"";this.sign=void 0===la.sign?"-":la.sign+"";this.symbol=void 0===la.symbol?"":la.symbol+"";this.zero=!!la.zero;this.width=void 0===la.width?void 0:+la.width;this.comma=!!la.comma;this.precision=void 0===la.precision?void 0:+la.precision;this.trim=!!la.trim;this.type=void 0===la.type?"":la.type+""}function Hb(la,ra){ra=r(la,ra);if(!ra)return la+
"";la=ra[0];ra=ra[1];return 0>ra?"0."+Array(-ra).join("0")+la:la.length>ra+1?la.slice(0,ra+1)+"."+la.slice(ra+1):la+Array(ra-la.length+2).join("0")}function hb(la){return la}function Ka(la){function ra(Oa){function Aa(ca){var X=Ca,e=Ia,c,f;if("c"===ea)e=H(ca)+e,ca="";else{ca=+ca;var l=0>ca||0>1/ca;ca=isNaN(ca)?La:H(Math.abs(ca),R);if(aa){var m=ca.length,q=1,w=-1;a:for(;q<m;++q)switch(ca[q]){case ".":w=c=q;break;case "0":0===w&&(w=q);c=q;break;default:if(!+ca[q])break a;0<w&&(w=0)}ca=0<w?ca.slice(0,
w)+ca.slice(c+1):ca}l&&0===+ca&&"+"!==I&&(l=!1);X=(l?"("===I?I:ua:"-"===I||"("===I?"":I)+X;e=("s"===ea?Ba[8+xa/3]:"")+e+(l&&"("===I?")":"");if(da)for(l=-1,c=ca.length;++l<c;)if(f=ca.charCodeAt(l),48>f||57<f){e=(46===f?K+ca.slice(l+1):ca.slice(l))+e;ca=ca.slice(0,l);break}}B&&!L&&(ca=Qa(ca,Infinity));f=X.length+ca.length+e.length;l=f<J?Array(J-f+1).join(ab):"";B&&L&&(ca=Qa(l+ca,l.length?J-e.length:Infinity),l="");switch(Va){case "\x3c":ca=X+ca+e+l;break;case "\x3d":ca=X+l+ca+e;break;case "^":ca=l.slice(0,
f=l.length>>1)+X+ca+e+l.slice(f);break;default:ca=l+X+ca+e}return ia(ca)}Oa=bb(Oa);var ab=Oa.fill,Va=Oa.align,I=Oa.sign,x=Oa.symbol,L=Oa.zero,J=Oa.width,B=Oa.comma,R=Oa.precision,aa=Oa.trim,ea=Oa.type;"n"===ea?(B=!0,ea="g"):ma[ea]||(void 0===R&&(R=12),aa=!0,ea="g");if(L||"0"===ab&&"\x3d"===Va)L=!0,ab="0",Va="\x3d";var Ca="$"===x?za:"#"===x&&/[boxX]/.test(ea)?"0"+ea.toLowerCase():"",Ia="$"===x?Ta:/[%p]/.test(ea)?ya:"",H=ma[ea],da=/[defgprs%]/.test(ea);R=void 0===R?6:/[gprs]/.test(ea)?Math.max(1,Math.min(21,
R)):Math.max(0,Math.min(20,R));Aa.toString=function(){return Oa+""};return Aa}var Qa=void 0===la.grouping||void 0===la.thousands?hb:Ra(na.call(la.grouping,Number),la.thousands+""),za=void 0===la.currency?"":la.currency[0]+"",Ta=void 0===la.currency?"":la.currency[1]+"",K=void 0===la.decimal?".":la.decimal+"",ia=void 0===la.numerals?hb:tb(na.call(la.numerals,String)),ya=void 0===la.percent?"%":la.percent+"",ua=void 0===la.minus?"−":la.minus+"",La=void 0===la.nan?"NaN":la.nan+"";return{format:ra,formatPrefix:function(Oa,
Aa){var ab=ra((Oa=bb(Oa),Oa.type="f",Oa));Oa=3*Math.max(-8,Math.min(8,Math.floor(z(Aa)/3)));var Va=Math.pow(10,-Oa),I=Ba[8+Oa/3];return function(x){return ab(Va*x)+I}}}}function Ha(la){Fa=Ka(la);h.format=Fa.format;h.formatPrefix=Fa.formatPrefix;return Fa}var Sa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;bb.prototype=wb.prototype;wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|
0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var xa,ma={"%":(la,ra)=>(100*la).toFixed(ra),b:la=>Math.round(la).toString(2),c:la=>la+"",d:function(la){return 1E21<=Math.abs(la=Math.round(la))?la.toLocaleString("en").replace(/,/g,""):la.toString(10)},e:(la,ra)=>la.toExponential(ra),f:(la,ra)=>la.toFixed(ra),g:(la,ra)=>la.toPrecision(ra),o:la=>Math.round(la).toString(8),p:(la,ra)=>Hb(100*la,ra),r:Hb,s:function(la,ra){var Qa=r(la,
ra);if(!Qa)return la+"";var za=Qa[0];Qa=Qa[1];Qa=Qa-(xa=3*Math.max(-8,Math.min(8,Math.floor(Qa/3))))+1;var Ta=za.length;return Qa===Ta?za:Qa>Ta?za+Array(Qa-Ta+1).join("0"):0<Qa?za.slice(0,Qa)+"."+za.slice(Qa):"0."+Array(1-Qa).join("0")+r(la,Math.max(0,ra+Qa-1))[0]},X:la=>Math.round(la).toString(16).toUpperCase(),x:la=>Math.round(la).toString(16)},na=Array.prototype.map,Ba="y z a f p n µ m  k M G T P E Z Y".split(" "),Fa;Ha({thousands:",",grouping:[3],currency:["$",""]});h.FormatSpecifier=wb;h.formatDefaultLocale=
Ha;h.formatLocale=Ka;h.formatSpecifier=bb;h.precisionFixed=function(la){return Math.max(0,-z(Math.abs(la)))};h.precisionPrefix=function(la,ra){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(z(ra)/3)))-z(Math.abs(la)))};h.precisionRound=function(la,ra){la=Math.abs(la);ra=Math.abs(ra)-la;return Math.max(0,z(ra)-z(la))+1};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[20]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(18)):"function"===typeof define&&define.amd?define(["exports","d3-array"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function z(Ya,ob,Na,yb){function Fb(eb){return Ya(eb=0===arguments.length?new Date:new Date(+eb)),eb}Fb.floor=function(eb){return Ya(eb=new Date(+eb)),eb};Fb.ceil=function(eb){return Ya(eb=new Date(eb-1)),ob(eb,1),Ya(eb),
eb};Fb.round=function(eb){var Lb=Fb(eb),hc=Fb.ceil(eb);return eb-Lb<hc-eb?Lb:hc};Fb.offset=function(eb,Lb){return ob(eb=new Date(+eb),null==Lb?1:Math.floor(Lb)),eb};Fb.range=function(eb,Lb,hc){var Yb=[],Ic;eb=Fb.ceil(eb);hc=null==hc?1:Math.floor(hc);if(!(eb<Lb&&0<hc))return Yb;do Yb.push(Ic=new Date(+eb)),ob(eb,hc),Ya(eb);while(Ic<eb&&eb<Lb);return Yb};Fb.filter=function(eb){return z(function(Lb){if(Lb>=Lb)for(;Ya(Lb),!eb(Lb);)Lb.setTime(Lb-1)},function(Lb,hc){if(Lb>=Lb)if(0>hc)for(;0>=++hc;)for(;ob(Lb,
-1),!eb(Lb););else for(;0<=--hc;)for(;ob(Lb,1),!eb(Lb););})};Na&&(Fb.count=function(eb,Lb){wb.setTime(+eb);Hb.setTime(+Lb);Ya(wb);Ya(Hb);return Math.floor(Na(wb,Hb))},Fb.every=function(eb){eb=Math.floor(eb);return isFinite(eb)&&0<eb?1<eb?Fb.filter(yb?function(Lb){return 0===yb(Lb)%eb}:function(Lb){return 0===Fb.count(0,Lb)%eb}):Fb:null});return Fb}function Ra(Ya){return z(function(ob){ob.setDate(ob.getDate()-(ob.getDay()+7-Ya)%7);ob.setHours(0,0,0,0)},function(ob,Na){ob.setDate(ob.getDate()+7*Na)},
function(ob,Na){return(Na-ob-6E4*(Na.getTimezoneOffset()-ob.getTimezoneOffset()))/6048E5})}function tb(Ya){return z(function(ob){ob.setUTCDate(ob.getUTCDate()-(ob.getUTCDay()+7-Ya)%7);ob.setUTCHours(0,0,0,0)},function(ob,Na){ob.setUTCDate(ob.getUTCDate()+7*Na)},function(ob,Na){return(Na-ob)/6048E5})}function bb(Ya,ob,Na,yb,Fb,eb){function Lb(Yb,Ic,yc){const hd=Math.abs(Ic-Yb)/yc,Bd=r.bisector(([,,fe])=>fe).right(hc,hd);if(Bd===hc.length)return Ya.every(r.tickStep(Yb/31536E6,Ic/31536E6,yc));if(0===
Bd)return hb.every(Math.max(r.tickStep(Yb,Ic,yc),1));const [Gc,jd]=hc[hd/hc[Bd-1][2]<hc[Bd][2]/hd?Bd-1:Bd];return Gc.every(jd)}const hc=[[Ha,1,1E3],[Ha,5,5E3],[Ha,15,15E3],[Ha,30,3E4],[eb,1,6E4],[eb,5,3E5],[eb,15,9E5],[eb,30,18E5],[Fb,1,36E5],[Fb,3,108E5],[Fb,6,216E5],[Fb,12,432E5],[yb,1,864E5],[yb,2,1728E5],[Na,1,6048E5],[ob,1,2592E6],[ob,3,7776E6],[Ya,1,31536E6]];return[function(Yb,Ic,yc){const hd=Ic<Yb;hd&&([Yb,Ic]=[Ic,Yb]);Yb=(yc=yc&&"function"===typeof yc.range?yc:Lb(Yb,Ic,yc))?yc.range(Yb,+Ic+
1):[];return hd?Yb.reverse():Yb},Lb]}var wb=new Date,Hb=new Date,hb=z(function(){},function(Ya,ob){Ya.setTime(+Ya+ob)},function(Ya,ob){return ob-Ya});hb.every=function(Ya){Ya=Math.floor(Ya);return isFinite(Ya)&&0<Ya?1<Ya?z(function(ob){ob.setTime(Math.floor(ob/Ya)*Ya)},function(ob,Na){ob.setTime(+ob+Na*Ya)},function(ob,Na){return(Na-ob)/Ya}):hb:null};var Ka=hb.range,Ha=z(function(Ya){Ya.setTime(Ya-Ya.getMilliseconds())},function(Ya,ob){Ya.setTime(+Ya+1E3*ob)},function(Ya,ob){return(ob-Ya)/1E3},function(Ya){return Ya.getUTCSeconds()}),
Sa=Ha.range,xa=z(function(Ya){Ya.setTime(Ya-Ya.getMilliseconds()-1E3*Ya.getSeconds())},function(Ya,ob){Ya.setTime(+Ya+6E4*ob)},function(Ya,ob){return(ob-Ya)/6E4},function(Ya){return Ya.getMinutes()}),ma=xa.range,na=z(function(Ya){Ya.setTime(Ya-Ya.getMilliseconds()-1E3*Ya.getSeconds()-6E4*Ya.getMinutes())},function(Ya,ob){Ya.setTime(+Ya+36E5*ob)},function(Ya,ob){return(ob-Ya)/36E5},function(Ya){return Ya.getHours()}),Ba=na.range,Fa=z(Ya=>Ya.setHours(0,0,0,0),(Ya,ob)=>Ya.setDate(Ya.getDate()+ob),(Ya,
ob)=>(ob-Ya-6E4*(ob.getTimezoneOffset()-Ya.getTimezoneOffset()))/864E5,Ya=>Ya.getDate()-1),la=Fa.range,ra=Ra(0),Qa=Ra(1),za=Ra(2),Ta=Ra(3),K=Ra(4),ia=Ra(5),ya=Ra(6),ua=ra.range,La=Qa.range,Oa=za.range,Aa=Ta.range,ab=K.range,Va=ia.range,I=ya.range,x=z(function(Ya){Ya.setDate(1);Ya.setHours(0,0,0,0)},function(Ya,ob){Ya.setMonth(Ya.getMonth()+ob)},function(Ya,ob){return ob.getMonth()-Ya.getMonth()+12*(ob.getFullYear()-Ya.getFullYear())},function(Ya){return Ya.getMonth()}),L=x.range,J=z(function(Ya){Ya.setMonth(0,
1);Ya.setHours(0,0,0,0)},function(Ya,ob){Ya.setFullYear(Ya.getFullYear()+ob)},function(Ya,ob){return ob.getFullYear()-Ya.getFullYear()},function(Ya){return Ya.getFullYear()});J.every=function(Ya){return isFinite(Ya=Math.floor(Ya))&&0<Ya?z(function(ob){ob.setFullYear(Math.floor(ob.getFullYear()/Ya)*Ya);ob.setMonth(0,1);ob.setHours(0,0,0,0)},function(ob,Na){ob.setFullYear(ob.getFullYear()+Na*Ya)}):null};var B=J.range,R=z(function(Ya){Ya.setUTCSeconds(0,0)},function(Ya,ob){Ya.setTime(+Ya+6E4*ob)},function(Ya,
ob){return(ob-Ya)/6E4},function(Ya){return Ya.getUTCMinutes()}),aa=R.range,ea=z(function(Ya){Ya.setUTCMinutes(0,0,0)},function(Ya,ob){Ya.setTime(+Ya+36E5*ob)},function(Ya,ob){return(ob-Ya)/36E5},function(Ya){return Ya.getUTCHours()}),Ca=ea.range,Ia=z(function(Ya){Ya.setUTCHours(0,0,0,0)},function(Ya,ob){Ya.setUTCDate(Ya.getUTCDate()+ob)},function(Ya,ob){return(ob-Ya)/864E5},function(Ya){return Ya.getUTCDate()-1}),H=Ia.range,da=tb(0),ca=tb(1),X=tb(2),e=tb(3),c=tb(4),f=tb(5),l=tb(6),m=da.range,q=ca.range,
w=X.range,F=e.range,U=c.range,wa=f.range,cb=l.range,gb=z(function(Ya){Ya.setUTCDate(1);Ya.setUTCHours(0,0,0,0)},function(Ya,ob){Ya.setUTCMonth(Ya.getUTCMonth()+ob)},function(Ya,ob){return ob.getUTCMonth()-Ya.getUTCMonth()+12*(ob.getUTCFullYear()-Ya.getUTCFullYear())},function(Ya){return Ya.getUTCMonth()}),Y=gb.range,ta=z(function(Ya){Ya.setUTCMonth(0,1);Ya.setUTCHours(0,0,0,0)},function(Ya,ob){Ya.setUTCFullYear(Ya.getUTCFullYear()+ob)},function(Ya,ob){return ob.getUTCFullYear()-Ya.getUTCFullYear()},
function(Ya){return Ya.getUTCFullYear()});ta.every=function(Ya){return isFinite(Ya=Math.floor(Ya))&&0<Ya?z(function(ob){ob.setUTCFullYear(Math.floor(ob.getUTCFullYear()/Ya)*Ya);ob.setUTCMonth(0,1);ob.setUTCHours(0,0,0,0)},function(ob,Na){ob.setUTCFullYear(ob.getUTCFullYear()+Na*Ya)}):null};var G=ta.range;const [Q,ka]=bb(ta,gb,da,Ia,ea,R),[Da,sb]=bb(J,x,ra,Fa,na,xa);h.timeDay=Fa;h.timeDays=la;h.timeFriday=ia;h.timeFridays=Va;h.timeHour=na;h.timeHours=Ba;h.timeInterval=z;h.timeMillisecond=hb;h.timeMilliseconds=
Ka;h.timeMinute=xa;h.timeMinutes=ma;h.timeMonday=Qa;h.timeMondays=La;h.timeMonth=x;h.timeMonths=L;h.timeSaturday=ya;h.timeSaturdays=I;h.timeSecond=Ha;h.timeSeconds=Sa;h.timeSunday=ra;h.timeSundays=ua;h.timeThursday=K;h.timeThursdays=ab;h.timeTickInterval=sb;h.timeTicks=Da;h.timeTuesday=za;h.timeTuesdays=Oa;h.timeWednesday=Ta;h.timeWednesdays=Aa;h.timeWeek=ra;h.timeWeeks=ua;h.timeYear=J;h.timeYears=B;h.utcDay=Ia;h.utcDays=H;h.utcFriday=f;h.utcFridays=wa;h.utcHour=ea;h.utcHours=Ca;h.utcMillisecond=
hb;h.utcMilliseconds=Ka;h.utcMinute=R;h.utcMinutes=aa;h.utcMonday=ca;h.utcMondays=q;h.utcMonth=gb;h.utcMonths=Y;h.utcSaturday=l;h.utcSaturdays=cb;h.utcSecond=Ha;h.utcSeconds=Sa;h.utcSunday=da;h.utcSundays=m;h.utcThursday=c;h.utcThursdays=U;h.utcTickInterval=ka;h.utcTicks=Q;h.utcTuesday=X;h.utcTuesdays=w;h.utcWednesday=e;h.utcWednesdays=F;h.utcWeek=da;h.utcWeeks=m;h.utcYear=ta;h.utcYears=G;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[21]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17),Qb(20),Qb(18)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.d3,h.d3))})(this,function(h,r,z,Ra){function tb(J){const B=r.array(J).slice(),R={};B.length||r.error("Missing time unit.");B.forEach(aa=>{r.hasOwnProperty(la,aa)?R[aa]=1:r.error(`Invalid time unit: ${aa}.`)});
1<(R.week||R.day?1:0)+(R.quarter||R.month||R.date?1:0)+(R.dayofyear?1:0)&&r.error(`Incompatible time units: ${J}`);B.sort((aa,ea)=>la[aa]-la[ea]);return B}function bb(J){Qa.setFullYear(J);Qa.setMonth(0);Qa.setDate(1);Qa.setHours(0,0,0,0);return Qa}function wb(J){return z.timeDay.count(bb(J.getFullYear())-1,J)}function Hb(J){return z.timeWeek.count(bb(J.getFullYear())-1,J)}function hb(J,B,R,aa,ea,Ca,Ia){return 0<=J&&100>J?(B=new Date(-1,B,R,aa,ea,Ca,Ia),B.setFullYear(J),B):new Date(J,B,R,aa,ea,Ca,
Ia)}function Ka(J){const B=Date.UTC(J.getUTCFullYear(),0,1);return z.utcDay.count(B-1,J)}function Ha(J){const B=Date.UTC(J.getUTCFullYear(),0,1);return z.utcWeek.count(B-1,J)}function Sa(J){Qa.setTime(Date.UTC(J,0,1));return Qa.getUTCDay()}function xa(J,B,R,aa,ea,Ca,Ia){return 0<=J&&100>J?(J=new Date(Date.UTC(-1,B,R,aa,ea,Ca,Ia)),J.setUTCFullYear(R.y),J):new Date(Date.UTC(J,B,R,aa,ea,Ca,Ia))}function ma(J,B,R,aa,ea){const Ca=B||1,Ia=r.peek(J);B=(m,q,w)=>{w=w||m;return na(R[w],aa[w],m===Ia&&Ca,q)};
const H=new Date;J=r.toSet(J);const da=J.year?B("year"):r.constant(2012),ca=J.month?B("month"):J.quarter?B("quarter"):r.zero,X=J.week&&J.day?B("day",1,"weekday"):J.week?B("week",1):J.day?B("day",1):J.date?B("date",1):J.dayofyear?B("dayofyear",1):r.one,e=J.hours?B("hours"):r.zero,c=J.minutes?B("minutes"):r.zero,f=J.seconds?B("seconds"):r.zero,l=J.milliseconds?B("milliseconds"):r.zero;return function(m){H.setTime(+m);m=da(H);return ea(m,ca(H),X(H,m),e(H),c(H),f(H),l(H))}}function na(J,B,R,aa){const ea=
1>=R?J:aa?(Ca,Ia)=>aa+R*Math.floor((J(Ca,Ia)-aa)/R):(Ca,Ia)=>R*Math.floor(J(Ca,Ia)/R);return B?(Ca,Ia)=>B(ea(Ca,Ia),Ia):ea}function Ba(J,B,R){return B+7*J-(R+6)%7}const Fa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),la=Fa.reduce((J,B,R)=>(J[B]=1+R,J),{}),ra={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",
["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},Qa=new Date,za={["year"]:J=>J.getFullYear(),["quarter"]:J=>Math.floor(J.getMonth()/3),["month"]:J=>J.getMonth(),["date"]:J=>J.getDate(),["hours"]:J=>J.getHours(),["minutes"]:J=>J.getMinutes(),["seconds"]:J=>J.getSeconds(),["milliseconds"]:J=>J.getMilliseconds(),["dayofyear"]:J=>wb(J),["week"]:J=>Hb(J),["weekday"]:(J,B)=>Ba(Hb(J),J.getDay(),bb(B).getDay()),["day"]:(J,B)=>Ba(1,J.getDay(),bb(B).getDay())},Ta={["quarter"]:J=>3*J,["week"]:(J,B)=>
Ba(J,0,bb(B).getDay())},K={["year"]:J=>J.getUTCFullYear(),["quarter"]:J=>Math.floor(J.getUTCMonth()/3),["month"]:J=>J.getUTCMonth(),["date"]:J=>J.getUTCDate(),["hours"]:J=>J.getUTCHours(),["minutes"]:J=>J.getUTCMinutes(),["seconds"]:J=>J.getUTCSeconds(),["milliseconds"]:J=>J.getUTCMilliseconds(),["dayofyear"]:J=>Ka(J),["week"]:J=>Ha(J),["day"]:(J,B)=>Ba(1,J.getUTCDay(),Sa(B)),["weekday"]:(J,B)=>Ba(Ha(J),J.getUTCDay(),Sa(B))},ia={["quarter"]:J=>3*J,["week"]:(J,B)=>Ba(J,0,Sa(B))},ya={["year"]:z.timeYear,
["quarter"]:z.timeMonth.every(3),["month"]:z.timeMonth,["week"]:z.timeWeek,["date"]:z.timeDay,["day"]:z.timeDay,["dayofyear"]:z.timeDay,["hours"]:z.timeHour,["minutes"]:z.timeMinute,["seconds"]:z.timeSecond,["milliseconds"]:z.timeMillisecond},ua={["year"]:z.utcYear,["quarter"]:z.utcMonth.every(3),["month"]:z.utcMonth,["week"]:z.utcWeek,["date"]:z.utcDay,["day"]:z.utcDay,["dayofyear"]:z.utcDay,["hours"]:z.utcHour,["minutes"]:z.utcMinute,["seconds"]:z.utcSecond,["milliseconds"]:z.utcMillisecond},La=
"year month date hours minutes seconds milliseconds".split(" "),Oa=La.slice(0,-1),Aa=Oa.slice(0,-1),ab=Aa.slice(0,-1),Va=ab.slice(0,-1),I=["year","month"],x=["year"],L=[[Oa,1,1E3],[Oa,5,5E3],[Oa,15,15E3],[Oa,30,3E4],[Aa,1,6E4],[Aa,5,3E5],[Aa,15,9E5],[Aa,30,18E5],[ab,1,36E5],[ab,3,108E5],[ab,6,216E5],[ab,12,432E5],[Va,1,864E5],[["year","week"],1,6048E5],[I,1,2592E6],[I,3,7776E6],[x,1,31536E6]];h.DATE="date";h.DAY="day";h.DAYOFYEAR="dayofyear";h.HOURS="hours";h.MILLISECONDS="milliseconds";h.MINUTES=
"minutes";h.MONTH="month";h.QUARTER="quarter";h.SECONDS="seconds";h.TIME_UNITS=Fa;h.WEEK="week";h.YEAR="year";h.dayofyear=function(J){return wb(new Date(J))};h.timeBin=function(J){var B=J.extent;J=J.maxbins||40;var R=Math.abs(r.span(B))/J;let aa=Ra.bisector(ea=>ea[2]).right(L,R);aa===L.length?(R=x,B=Ra.tickStep(B[0]/31536E6,B[1]/31536E6,J)):aa?(aa=L[R/L[aa-1][2]<L[aa][2]/R?aa-1:aa],R=aa[0],B=aa[1]):(R=La,B=Math.max(Ra.tickStep(B[0],B[1],J),1));return{units:R,step:B}};h.timeFloor=function(J,B){return ma(J,
B||1,za,Ta,hb)};h.timeInterval=function(J){return ya[J]};h.timeOffset=function(J,B,R){return(J=ya[J])?J.offset(B,R):void 0};h.timeSequence=function(J,B,R,aa){return(J=ya[J])?J.range(B,R,aa):void 0};h.timeUnitSpecifier=function(J,B){B=r.extend({},ra,B);J=tb(J);const R=J.length;let aa="",ea,Ca,Ia;for(ea=0;ea<R;)for(Ca=J.length;Ca>ea;--Ca)if(Ia=J.slice(ea,Ca).join("-"),null!=B[Ia]){aa+=B[Ia];ea=Ca;break}return aa.trim()};h.timeUnits=tb;h.utcFloor=function(J,B){return ma(J,B||1,K,ia,xa)};h.utcInterval=
function(J){return ua[J]};h.utcOffset=function(J,B,R){return(J=ua[J])?J.offset(B,R):void 0};h.utcSequence=function(J,B,R,aa){return(J=ua[J])?J.range(B,R,aa):void 0};h.utcdayofyear=function(J){return Ka(new Date(J))};h.utcweek=function(J){return Ha(new Date(J))};h.week=function(J){return Hb(new Date(J))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[22]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(20)):"function"===typeof define&&define.amd?define(["exports","d3-time"],r):(h=h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function z(Db){if(0<=Db.y&&100>Db.y){var Zb=new Date(-1,Db.m,Db.d,Db.H,Db.M,Db.S,Db.L);Zb.setFullYear(Db.y);return Zb}return new Date(Db.y,Db.m,Db.d,Db.H,Db.M,Db.S,Db.L)}function Ra(Db){if(0<=Db.y&&100>Db.y){var Zb=new Date(Date.UTC(-1,Db.m,Db.d,Db.H,Db.M,Db.S,
Db.L));Zb.setUTCFullYear(Db.y);return Zb}return new Date(Date.UTC(Db.y,Db.m,Db.d,Db.H,Db.M,Db.S,Db.L))}function tb(Db,Zb,jb){return{y:Db,m:Zb,d:jb,H:0,M:0,S:0,L:0}}function bb(Db){function Zb(Tb,kc){return function(jc){var qc=[],ed=-1,od=0,ud=Tb.length,md,rd;for(jc instanceof Date||(jc=new Date(+jc));++ed<ud;)if(37===Tb.charCodeAt(ed)){qc.push(Tb.slice(od,ed));null!=(od=Bd[md=Tb.charAt(++ed)])?md=Tb.charAt(++ed):od="e"===md?" ":"0";if(rd=kc[md])md=rd(jc,od);qc.push(md);od=ed+1}qc.push(Tb.slice(od,
ed));return qc.join("")}}function jb(Tb,kc){return function(jc){var qc=tb(1900,void 0,1);if(lc(qc,Tb,jc+="",0)!=jc.length)return null;if("Q"in qc)return new Date(qc.Q);if("s"in qc)return new Date(1E3*qc.s+("L"in qc?qc.L:0));!kc||"Z"in qc||(qc.Z=0);"p"in qc&&(qc.H=qc.H%12+12*qc.p);void 0===qc.m&&(qc.m="q"in qc?qc.q:0);if("V"in qc){if(1>qc.V||53<qc.V)return null;"w"in qc||(qc.w=1);if("Z"in qc){jc=Ra(tb(qc.y,0,1));var ed=jc.getUTCDay();jc=4<ed||0===ed?r.utcMonday.ceil(jc):r.utcMonday(jc);jc=r.utcDay.offset(jc,
7*(qc.V-1));qc.y=jc.getUTCFullYear();qc.m=jc.getUTCMonth();qc.d=jc.getUTCDate()+(qc.w+6)%7}else jc=z(tb(qc.y,0,1)),ed=jc.getDay(),jc=4<ed||0===ed?r.timeMonday.ceil(jc):r.timeMonday(jc),jc=r.timeDay.offset(jc,7*(qc.V-1)),qc.y=jc.getFullYear(),qc.m=jc.getMonth(),qc.d=jc.getDate()+(qc.w+6)%7}else if("W"in qc||"U"in qc)"w"in qc||(qc.w="u"in qc?qc.u%7:"W"in qc?1:0),ed="Z"in qc?Ra(tb(qc.y,0,1)).getUTCDay():z(tb(qc.y,0,1)).getDay(),qc.m=0,qc.d="W"in qc?(qc.w+6)%7+7*qc.W-(ed+5)%7:qc.w+7*qc.U-(ed+6)%7;return"Z"in
qc?(qc.H+=qc.Z/100|0,qc.M+=qc.Z%100,Ra(qc)):z(qc)}}function lc(Tb,kc,jc,qc){for(var ed=0,od=kc.length,ud=jc.length,md;ed<od;){if(qc>=ud)return-1;md=kc.charCodeAt(ed++);if(37===md){if(md=kc.charAt(ed++),md=Bb[md in Bd?kc.charAt(ed++):md],!md||0>(qc=md(Tb,jc,qc)))return-1}else if(md!=jc.charCodeAt(qc++))return-1}return qc}var pc=Db.dateTime,gd=Db.date,xd=Db.time,M=Db.periods,oa=Db.days,$a=Db.shortDays,ub=Db.months,Gb=Db.shortMonths,Ib=hb(M),bc=Ka(M),Ub=hb(oa),sc=Ka(oa),Cc=hb($a),va=Ka($a),Za=hb(ub),
pb=Ka(ub),Sb=hb(Gb),uc=Ka(Gb),Ac={a:function(Tb){return $a[Tb.getDay()]},A:function(Tb){return oa[Tb.getDay()]},b:function(Tb){return Gb[Tb.getMonth()]},B:function(Tb){return ub[Tb.getMonth()]},c:null,d:Va,e:Va,f:B,g:c,G:l,H:I,I:x,j:L,L:J,m:R,M:aa,p:function(Tb){return M[+(12<=Tb.getHours())]},q:function(Tb){return 1+~~(Tb.getMonth()/3)},Q:hc,s:Yb,S:ea,u:Ca,U:Ia,V:da,w:ca,W:X,x:null,X:null,y:e,Y:f,Z:m,"%":Lb},Kc={a:function(Tb){return $a[Tb.getUTCDay()]},A:function(Tb){return oa[Tb.getUTCDay()]},
b:function(Tb){return Gb[Tb.getUTCMonth()]},B:function(Tb){return ub[Tb.getUTCMonth()]},c:null,d:q,e:q,f:cb,g:Na,G:Fb,H:w,I:F,j:U,L:wa,m:gb,M:Y,p:function(Tb){return M[+(12<=Tb.getUTCHours())]},q:function(Tb){return 1+~~(Tb.getUTCMonth()/3)},Q:hc,s:Yb,S:ta,u:G,U:Q,V:Da,w:sb,W:Ya,x:null,X:null,y:ob,Y:yb,Z:eb,"%":Lb},Bb={a:function(Tb,kc,jc){return(kc=Cc.exec(kc.slice(jc)))?(Tb.w=va.get(kc[0].toLowerCase()),jc+kc[0].length):-1},A:function(Tb,kc,jc){return(kc=Ub.exec(kc.slice(jc)))?(Tb.w=sc.get(kc[0].toLowerCase()),
jc+kc[0].length):-1},b:function(Tb,kc,jc){return(kc=Sb.exec(kc.slice(jc)))?(Tb.m=uc.get(kc[0].toLowerCase()),jc+kc[0].length):-1},B:function(Tb,kc,jc){return(kc=Za.exec(kc.slice(jc)))?(Tb.m=pb.get(kc[0].toLowerCase()),jc+kc[0].length):-1},c:function(Tb,kc,jc){return lc(Tb,pc,kc,jc)},d:za,e:za,f:La,g:Fa,G:Ba,H:K,I:K,j:Ta,L:ua,m:Qa,M:ia,p:function(Tb,kc,jc){return(kc=Ib.exec(kc.slice(jc)))?(Tb.p=bc.get(kc[0].toLowerCase()),jc+kc[0].length):-1},q:ra,Q:Aa,s:ab,S:ya,u:Sa,U:xa,V:ma,w:Ha,W:na,x:function(Tb,
kc,jc){return lc(Tb,gd,kc,jc)},X:function(Tb,kc,jc){return lc(Tb,xd,kc,jc)},y:Fa,Y:Ba,Z:la,"%":Oa};Ac.x=Zb(gd,Ac);Ac.X=Zb(xd,Ac);Ac.c=Zb(pc,Ac);Kc.x=Zb(gd,Kc);Kc.X=Zb(xd,Kc);Kc.c=Zb(pc,Kc);return{format:function(Tb){var kc=Zb(Tb+="",Ac);kc.toString=function(){return Tb};return kc},parse:function(Tb){var kc=jb(Tb+="",!1);kc.toString=function(){return Tb};return kc},utcFormat:function(Tb){var kc=Zb(Tb+="",Kc);kc.toString=function(){return Tb};return kc},utcParse:function(Tb){var kc=jb(Tb+="",!0);kc.toString=
function(){return Tb};return kc}}}function wb(Db,Zb,jb){var lc=0>Db?"-":"";Db=(lc?-Db:Db)+"";var pc=Db.length;return lc+(pc<jb?Array(jb-pc+1).join(Zb)+Db:Db)}function Hb(Db){return Db.replace(fe,"\\$\x26")}function hb(Db){return new RegExp("^(?:"+Db.map(Hb).join("|")+")","i")}function Ka(Db){return new Map(Db.map((Zb,jb)=>[Zb.toLowerCase(),jb]))}function Ha(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+1)))?(Db.w=+Zb[0],jb+Zb[0].length):-1}function Sa(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+1)))?
(Db.u=+Zb[0],jb+Zb[0].length):-1}function xa(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.U=+Zb[0],jb+Zb[0].length):-1}function ma(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.V=+Zb[0],jb+Zb[0].length):-1}function na(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.W=+Zb[0],jb+Zb[0].length):-1}function Ba(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+4)))?(Db.y=+Zb[0],jb+Zb[0].length):-1}function Fa(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.y=+Zb[0]+(68<+Zb[0]?1900:2E3),jb+
Zb[0].length):-1}function la(Db,Zb,jb){return(Zb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Zb.slice(jb,jb+6)))?(Db.Z=Zb[1]?0:-(Zb[2]+(Zb[3]||"00")),jb+Zb[0].length):-1}function ra(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+1)))?(Db.q=3*Zb[0]-3,jb+Zb[0].length):-1}function Qa(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.m=Zb[0]-1,jb+Zb[0].length):-1}function za(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.d=+Zb[0],jb+Zb[0].length):-1}function Ta(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+3)))?
(Db.m=0,Db.d=+Zb[0],jb+Zb[0].length):-1}function K(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.H=+Zb[0],jb+Zb[0].length):-1}function ia(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.M=+Zb[0],jb+Zb[0].length):-1}function ya(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+2)))?(Db.S=+Zb[0],jb+Zb[0].length):-1}function ua(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+3)))?(Db.L=+Zb[0],jb+Zb[0].length):-1}function La(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb,jb+6)))?(Db.L=Math.floor(Zb[0]/1E3),jb+
Zb[0].length):-1}function Oa(Db,Zb,jb){return(Db=jd.exec(Zb.slice(jb,jb+1)))?jb+Db[0].length:-1}function Aa(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb)))?(Db.Q=+Zb[0],jb+Zb[0].length):-1}function ab(Db,Zb,jb){return(Zb=Gc.exec(Zb.slice(jb)))?(Db.s=+Zb[0],jb+Zb[0].length):-1}function Va(Db,Zb){return wb(Db.getDate(),Zb,2)}function I(Db,Zb){return wb(Db.getHours(),Zb,2)}function x(Db,Zb){return wb(Db.getHours()%12||12,Zb,2)}function L(Db,Zb){return wb(1+r.timeDay.count(r.timeYear(Db),Db),Zb,3)}function J(Db,
Zb){return wb(Db.getMilliseconds(),Zb,3)}function B(Db,Zb){return J(Db,Zb)+"000"}function R(Db,Zb){return wb(Db.getMonth()+1,Zb,2)}function aa(Db,Zb){return wb(Db.getMinutes(),Zb,2)}function ea(Db,Zb){return wb(Db.getSeconds(),Zb,2)}function Ca(Db){Db=Db.getDay();return 0===Db?7:Db}function Ia(Db,Zb){return wb(r.timeSunday.count(r.timeYear(Db)-1,Db),Zb,2)}function H(Db){var Zb=Db.getDay();return 4<=Zb||0===Zb?r.timeThursday(Db):r.timeThursday.ceil(Db)}function da(Db,Zb){Db=H(Db);return wb(r.timeThursday.count(r.timeYear(Db),
Db)+(4===r.timeYear(Db).getDay()),Zb,2)}function ca(Db){return Db.getDay()}function X(Db,Zb){return wb(r.timeMonday.count(r.timeYear(Db)-1,Db),Zb,2)}function e(Db,Zb){return wb(Db.getFullYear()%100,Zb,2)}function c(Db,Zb){Db=H(Db);return wb(Db.getFullYear()%100,Zb,2)}function f(Db,Zb){return wb(Db.getFullYear()%1E4,Zb,4)}function l(Db,Zb){var jb=Db.getDay();Db=4<=jb||0===jb?r.timeThursday(Db):r.timeThursday.ceil(Db);return wb(Db.getFullYear()%1E4,Zb,4)}function m(Db){Db=Db.getTimezoneOffset();return(0<
Db?"-":(Db*=-1,"+"))+wb(Db/60|0,"0",2)+wb(Db%60,"0",2)}function q(Db,Zb){return wb(Db.getUTCDate(),Zb,2)}function w(Db,Zb){return wb(Db.getUTCHours(),Zb,2)}function F(Db,Zb){return wb(Db.getUTCHours()%12||12,Zb,2)}function U(Db,Zb){return wb(1+r.utcDay.count(r.utcYear(Db),Db),Zb,3)}function wa(Db,Zb){return wb(Db.getUTCMilliseconds(),Zb,3)}function cb(Db,Zb){return wa(Db,Zb)+"000"}function gb(Db,Zb){return wb(Db.getUTCMonth()+1,Zb,2)}function Y(Db,Zb){return wb(Db.getUTCMinutes(),Zb,2)}function ta(Db,
Zb){return wb(Db.getUTCSeconds(),Zb,2)}function G(Db){Db=Db.getUTCDay();return 0===Db?7:Db}function Q(Db,Zb){return wb(r.utcSunday.count(r.utcYear(Db)-1,Db),Zb,2)}function ka(Db){var Zb=Db.getUTCDay();return 4<=Zb||0===Zb?r.utcThursday(Db):r.utcThursday.ceil(Db)}function Da(Db,Zb){Db=ka(Db);return wb(r.utcThursday.count(r.utcYear(Db),Db)+(4===r.utcYear(Db).getUTCDay()),Zb,2)}function sb(Db){return Db.getUTCDay()}function Ya(Db,Zb){return wb(r.utcMonday.count(r.utcYear(Db)-1,Db),Zb,2)}function ob(Db,
Zb){return wb(Db.getUTCFullYear()%100,Zb,2)}function Na(Db,Zb){Db=ka(Db);return wb(Db.getUTCFullYear()%100,Zb,2)}function yb(Db,Zb){return wb(Db.getUTCFullYear()%1E4,Zb,4)}function Fb(Db,Zb){var jb=Db.getUTCDay();Db=4<=jb||0===jb?r.utcThursday(Db):r.utcThursday.ceil(Db);return wb(Db.getUTCFullYear()%1E4,Zb,4)}function eb(){return"+0000"}function Lb(){return"%"}function hc(Db){return+Db}function Yb(Db){return Math.floor(+Db/1E3)}function Ic(Db){Mc=bb(Db);h.timeFormat=Mc.format;h.timeParse=Mc.parse;
h.utcFormat=Mc.utcFormat;h.utcParse=Mc.utcParse;return Mc}function yc(Db){return Db.toISOString()}function hd(Db){Db=new Date(Db);return isNaN(Db)?null:Db}var Bd={"-":"",_:" ",0:"0"},Gc=/^\s*\d+/,jd=/^%/,fe=/[\\^$*+?|[\]().{}]/g,Mc;Ic({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var zd=Date.prototype.toISOString?yc:h.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Rd=+new Date("2000-01-01T00:00:00.000Z")?hd:h.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");h.isoFormat=zd;h.isoParse=Rd;h.timeFormatDefaultLocale=Ic;h.timeFormatLocale=bb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[23]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(18),Qb(19),Qb(21),Qb(17),Qb(22)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.d3,h.d3,h.vega,h.vega,h.d3))})(this,function(h,r,z,Ra,tb,bb){function wb(za){const Ta={};return K=>Ta[K]||(Ta[K]=za(K))}function Hb(za,Ta){return K=>{K=za(K);const ia=
K.indexOf(Ta);if(0>ia)return K;a:{var ya=K.lastIndexOf("e");if(!(0<ya)){for(ya=K.length;--ya>ia;){var ua=K.charCodeAt(ya);if(48<=ua&&57>=ua){ya+=1;break a}}ya=void 0}}for(ua=ya<K.length?K.slice(ya):"";--ya>ia;)if("0"!==K[ya]){++ya;break}return K.slice(0,ya)+ua}}function hb(za){const Ta=wb(za.format),K=za.formatPrefix;return{format:Ta,formatPrefix:K,formatFloat(ia){ia=z.formatSpecifier(ia||",");if(null==ia.precision){ia.precision=12;switch(ia.type){case "%":ia.precision-=2;break;case "e":--ia.precision}return Hb(Ta(ia),
Ta(".1f")(1)[1])}return Ta(ia)},formatSpan(ia,ya,ua,La){La=z.formatSpecifier(null==La?",f":La);ua=r.tickStep(ia,ya,ua);ia=Math.max(Math.abs(ia),Math.abs(ya));if(null==La.precision)switch(La.type){case "s":return isNaN(ya=z.precisionPrefix(ua,ia))||(La.precision=ya),K(La,ia);case "":case "e":case "g":case "p":case "r":isNaN(ya=z.precisionRound(ua,ia))||(La.precision=ya-("e"===La.type));break;case "f":case "%":isNaN(ya=z.precisionFixed(ua))||(La.precision=ya-2*("%"===La.type))}return Ta(La)}}}function Ka(){return ra=
hb({format:z.format,formatPrefix:z.formatPrefix})}function Ha(za){return hb(z.formatLocale(za))}function Sa(za){return arguments.length?ra=Ha(za):ra}function xa(za,Ta,K){K=K||{};tb.isObject(K)||tb.error(`Invalid time multi-format specifier: ${K}`);const ia=Ta(Ra.SECONDS),ya=Ta(Ra.MINUTES),ua=Ta(Ra.HOURS),La=Ta(Ra.DATE),Oa=Ta(Ra.WEEK),Aa=Ta(Ra.MONTH),ab=Ta(Ra.QUARTER),Va=Ta(Ra.YEAR),I=za(K[Ra.MILLISECONDS]||".%L"),x=za(K[Ra.SECONDS]||":%S"),L=za(K[Ra.MINUTES]||"%I:%M"),J=za(K[Ra.HOURS]||"%I %p"),B=
za(K[Ra.DATE]||K[Ra.DAY]||"%a %d"),R=za(K[Ra.WEEK]||"%b %d"),aa=za(K[Ra.MONTH]||"%B"),ea=za(K[Ra.QUARTER]||"%B"),Ca=za(K[Ra.YEAR]||"%Y");return Ia=>(ia(Ia)<Ia?I:ya(Ia)<Ia?x:ua(Ia)<Ia?L:La(Ia)<Ia?J:Aa(Ia)<Ia?Oa(Ia)<Ia?B:R:Va(Ia)<Ia?ab(Ia)<Ia?aa:ea:Ca)(Ia)}function ma(za){const Ta=wb(za.format),K=wb(za.utcFormat);return{timeFormat:ia=>tb.isString(ia)?Ta(ia):xa(Ta,Ra.timeInterval,ia),utcFormat:ia=>tb.isString(ia)?K(ia):xa(K,Ra.utcInterval,ia),timeParse:wb(za.parse),utcParse:wb(za.utcParse)}}function na(){return Qa=
ma({format:bb.timeFormat,parse:bb.timeParse,utcFormat:bb.utcFormat,utcParse:bb.utcParse})}function Ba(za){return ma(bb.timeFormatLocale(za))}function Fa(za){return arguments.length?Qa=Ba(za):Qa}function la(za,Ta){var K=arguments.length;K&&2!==K&&tb.error("defaultLocale expects either zero or two arguments.");if(K){K=Sa(za);var ia=Fa(Ta);K=tb.extend({},K,ia)}else K=Sa(),ia=Fa(),K=tb.extend({},K,ia);return K}let ra;Ka();let Qa;na();h.defaultLocale=la;h.locale=function(za,Ta){za=za?Ha(za):Sa();Ta=Ta?
Ba(Ta):Fa();return tb.extend({},za,Ta)};h.numberFormatDefaultLocale=Sa;h.numberFormatLocale=Ha;h.resetDefaultLocale=function(){Ka();na();return la()};h.resetNumberFormatDefaultLocale=Ka;h.resetTimeFormatDefaultLocale=na;h.timeFormatDefaultLocale=Fa;h.timeFormatLocale=Ba;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[24]=function(fd,Qb,Sc,zb){function h(tb){var bb=tb.length;if(0<bb%4)throw Error("Invalid string. Length must be a multiple of 4");tb=tb.indexOf("\x3d");-1===tb&&(tb=bb);return[tb,tb===bb?0:4-tb%4]}zb.byteLength=function(tb){tb=h(tb);var bb=tb[1];return 3*(tb[0]+bb)/4-bb};zb.toByteArray=function(tb){var bb=h(tb);var wb=bb[0];bb=bb[1];var Hb=new Ra(3*(wb+bb)/4-bb),hb=0,Ka=0<bb?wb-4:wb,Ha;for(Ha=0;Ha<Ka;Ha+=4)wb=z[tb.charCodeAt(Ha)]<<18|z[tb.charCodeAt(Ha+1)]<<12|z[tb.charCodeAt(Ha+2)]<<
6|z[tb.charCodeAt(Ha+3)],Hb[hb++]=wb>>16&255,Hb[hb++]=wb>>8&255,Hb[hb++]=wb&255;2===bb&&(wb=z[tb.charCodeAt(Ha)]<<2|z[tb.charCodeAt(Ha+1)]>>4,Hb[hb++]=wb&255);1===bb&&(wb=z[tb.charCodeAt(Ha)]<<10|z[tb.charCodeAt(Ha+1)]<<4|z[tb.charCodeAt(Ha+2)]>>2,Hb[hb++]=wb>>8&255,Hb[hb++]=wb&255);return Hb};zb.fromByteArray=function(tb){for(var bb=tb.length,wb=bb%3,Hb=[],hb=0,Ka=bb-wb;hb<Ka;hb+=16383){for(var Ha=Hb,Sa=Ha.push,xa,ma=tb,na=hb+16383>Ka?Ka:hb+16383,Ba=[],Fa=hb;Fa<na;Fa+=3)xa=(ma[Fa]<<16&16711680)+
(ma[Fa+1]<<8&65280)+(ma[Fa+2]&255),Ba.push(r[xa>>18&63]+r[xa>>12&63]+r[xa>>6&63]+r[xa&63]);xa=Ba.join("");Sa.call(Ha,xa)}1===wb?(tb=tb[bb-1],Hb.push(r[tb>>2]+r[tb<<4&63]+"\x3d\x3d")):2===wb&&(tb=(tb[bb-2]<<8)+tb[bb-1],Hb.push(r[tb>>10]+r[tb>>4&63]+r[tb<<2&63]+"\x3d"));return Hb.join("")};var r=[],z=[],Ra="undefined"!==typeof Uint8Array?Uint8Array:Array;for(fd=0;64>fd;++fd)r[fd]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[fd],z["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(fd)]=
fd;z[45]=62;z[95]=63};
shadow$provide[25]=function(fd,Qb,Sc,zb){zb.read=function(h,r,z,Ra,tb){var bb=8*tb-Ra-1;var wb=(1<<bb)-1,Hb=wb>>1,hb=-7;tb=z?tb-1:0;var Ka=z?-1:1,Ha=h[r+tb];tb+=Ka;z=Ha&(1<<-hb)-1;Ha>>=-hb;for(hb+=bb;0<hb;z=256*z+h[r+tb],tb+=Ka,hb-=8);bb=z&(1<<-hb)-1;z>>=-hb;for(hb+=Ra;0<hb;bb=256*bb+h[r+tb],tb+=Ka,hb-=8);if(0===z)z=1-Hb;else{if(z===wb)return bb?NaN:Infinity*(Ha?-1:1);bb+=Math.pow(2,Ra);z-=Hb}return(Ha?-1:1)*bb*Math.pow(2,z-Ra)};zb.write=function(h,r,z,Ra,tb,bb){var wb,Hb=8*bb-tb-1,hb=(1<<Hb)-1,Ka=
hb>>1,Ha=23===tb?Math.pow(2,-24)-Math.pow(2,-77):0;bb=Ra?0:bb-1;var Sa=Ra?1:-1,xa=0>r||0===r&&0>1/r?1:0;r=Math.abs(r);isNaN(r)||Infinity===r?(r=isNaN(r)?1:0,Ra=hb):(Ra=Math.floor(Math.log(r)/Math.LN2),1>r*(wb=Math.pow(2,-Ra))&&(Ra--,wb*=2),r=1<=Ra+Ka?r+Ha/wb:r+Ha*Math.pow(2,1-Ka),2<=r*wb&&(Ra++,wb/=2),Ra+Ka>=hb?(r=0,Ra=hb):1<=Ra+Ka?(r=(r*wb-1)*Math.pow(2,tb),Ra+=Ka):(r=r*Math.pow(2,Ka-1)*Math.pow(2,tb),Ra=0));for(;8<=tb;h[z+bb]=r&255,bb+=Sa,r/=256,tb-=8);Ra=Ra<<tb|r;for(Hb+=tb;0<Hb;h[z+bb]=Ra&255,
bb+=Sa,Ra/=256,Hb-=8);h[z+bb-Sa]|=128*xa}};
shadow$provide[26]=function(fd,Qb,Sc,zb){var h={}.toString;Sc.exports=Array.isArray||function(r){return"[object Array]"==h.call(r)}};
shadow$provide[27]=function(fd,Qb,Sc,zb){function h(){try{var I=new Uint8Array(1);I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===I.foo()&&"function"===typeof I.subarray&&0===I.subarray(1,1).byteLength}catch(x){return!1}}function r(I,x){if((z.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<x)throw new RangeError("Invalid typed array length");z.TYPED_ARRAY_SUPPORT?(I=new Uint8Array(x),I.__proto__=z.prototype):(null===I&&(I=new z(x)),I.length=x);return I}function z(I,x,
L){if(!(z.TYPED_ARRAY_SUPPORT||this instanceof z))return new z(I,x,L);if("number"===typeof I){if("string"===typeof x)throw Error("If encoding is specified then the first argument must be a string");return bb(this,I)}return Ra(this,I,x,L)}function Ra(I,x,L,J){if("number"===typeof x)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&x instanceof ArrayBuffer){x.byteLength;if(0>L||x.byteLength<L)throw new RangeError("'offset' is out of bounds");if(x.byteLength<
L+(J||0))throw new RangeError("'length' is out of bounds");x=void 0===L&&void 0===J?new Uint8Array(x):void 0===J?new Uint8Array(x,L):new Uint8Array(x,L,J);z.TYPED_ARRAY_SUPPORT?(I=x,I.__proto__=z.prototype):I=wb(I,x);return I}if("string"===typeof x){J=I;I=L;if("string"!==typeof I||""===I)I="utf8";if(!z.isEncoding(I))throw new TypeError('"encoding" must be a valid string encoding');L=Ka(x,I)|0;J=r(J,L);x=J.write(x,I);x!==L&&(J=J.slice(0,x));return J}return Hb(I,x)}function tb(I){if("number"!==typeof I)throw new TypeError('"size" argument must be a number');
if(0>I)throw new RangeError('"size" argument must not be negative');}function bb(I,x){tb(x);I=r(I,0>x?0:hb(x)|0);if(!z.TYPED_ARRAY_SUPPORT)for(var L=0;L<x;++L)I[L]=0;return I}function wb(I,x){var L=0>x.length?0:hb(x.length)|0;I=r(I,L);for(var J=0;J<L;J+=1)I[J]=x[J]&255;return I}function Hb(I,x){if(z.isBuffer(x)){var L=hb(x.length)|0;I=r(I,L);if(0===I.length)return I;x.copy(I,0,0,L);return I}if(x){if("undefined"!==typeof ArrayBuffer&&x.buffer instanceof ArrayBuffer||"length"in x)return(L="number"!==
typeof x.length)||(L=x.length,L=L!==L),L?r(I,0):wb(I,x);if("Buffer"===x.type&&Aa(x.data))return wb(I,x.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function hb(I){if(I>=(z.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(z.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return I|0}function Ka(I,x){if(z.isBuffer(I))return I.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(I)||I instanceof ArrayBuffer))return I.byteLength;"string"!==typeof I&&(I=""+I);var L=I.length;if(0===L)return 0;for(var J=!1;;)switch(x){case "ascii":case "latin1":case "binary":return L;case "utf8":case "utf-8":case void 0:return K(I).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*L;case "hex":return L>>>1;case "base64":return ya(I).length;default:if(J)return K(I).length;x=(""+x).toLowerCase();
J=!0}}function Ha(I,x,L){var J=!1;if(void 0===x||0>x)x=0;if(x>this.length)return"";if(void 0===L||L>this.length)L=this.length;if(0>=L)return"";L>>>=0;x>>>=0;if(L<=x)return"";for(I||(I="utf8");;)switch(I){case "hex":I=x;x=L;L=this.length;if(!I||0>I)I=0;if(!x||0>x||x>L)x=L;J="";for(L=I;L<x;++L)I=J,J=this[L],J=16>J?"0"+J.toString(16):J.toString(16),J=I+J;return J;case "utf8":case "utf-8":return na(this,x,L);case "ascii":I="";for(L=Math.min(this.length,L);x<L;++x)I+=String.fromCharCode(this[x]&127);return I;
case "latin1":case "binary":I="";for(L=Math.min(this.length,L);x<L;++x)I+=String.fromCharCode(this[x]);return I;case "base64":return x=0===x&&L===this.length?La.fromByteArray(this):La.fromByteArray(this.slice(x,L)),x;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":x=this.slice(x,L);L="";for(I=0;I<x.length;I+=2)L+=String.fromCharCode(x[I]+256*x[I+1]);return L;default:if(J)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase();J=!0}}function Sa(I,x,L){var J=I[x];I[x]=I[L];I[L]=J}
function xa(I,x,L,J,B){if(0===I.length)return-1;"string"===typeof L?(J=L,L=0):2147483647<L?L=2147483647:-2147483648>L&&(L=-2147483648);L=+L;isNaN(L)&&(L=B?0:I.length-1);0>L&&(L=I.length+L);if(L>=I.length){if(B)return-1;L=I.length-1}else if(0>L)if(B)L=0;else return-1;"string"===typeof x&&(x=z.from(x,J));if(z.isBuffer(x))return 0===x.length?-1:ma(I,x,L,J,B);if("number"===typeof x)return x&=255,z.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?B?Uint8Array.prototype.indexOf.call(I,
x,L):Uint8Array.prototype.lastIndexOf.call(I,x,L):ma(I,[x],L,J,B);throw new TypeError("val must be string, number or Buffer");}function ma(I,x,L,J,B){function R(Ia,H){return 1===aa?Ia[H]:Ia.readUInt16BE(H*aa)}var aa=1,ea=I.length,Ca=x.length;if(void 0!==J&&(J=String(J).toLowerCase(),"ucs2"===J||"ucs-2"===J||"utf16le"===J||"utf-16le"===J)){if(2>I.length||2>x.length)return-1;aa=2;ea/=2;Ca/=2;L/=2}if(B)for(J=-1;L<ea;L++)if(R(I,L)===R(x,-1===J?0:L-J)){if(-1===J&&(J=L),L-J+1===Ca)return J*aa}else-1!==
J&&(L-=L-J),J=-1;else for(L+Ca>ea&&(L=ea-Ca);0<=L;L--){ea=!0;for(J=0;J<Ca;J++)if(R(I,L+J)!==R(x,J)){ea=!1;break}if(ea)return L}return-1}function na(I,x,L){L=Math.min(I.length,L);for(var J=[];x<L;){var B=I[x],R=null,aa=239<B?4:223<B?3:191<B?2:1;if(x+aa<=L)switch(aa){case 1:128>B&&(R=B);break;case 2:var ea=I[x+1];128===(ea&192)&&(B=(B&31)<<6|ea&63,127<B&&(R=B));break;case 3:ea=I[x+1];var Ca=I[x+2];128===(ea&192)&&128===(Ca&192)&&(B=(B&15)<<12|(ea&63)<<6|Ca&63,2047<B&&(55296>B||57343<B)&&(R=B));break;
case 4:ea=I[x+1];Ca=I[x+2];var Ia=I[x+3];128===(ea&192)&&128===(Ca&192)&&128===(Ia&192)&&(B=(B&15)<<18|(ea&63)<<12|(Ca&63)<<6|Ia&63,65535<B&&1114112>B&&(R=B))}null===R?(R=65533,aa=1):65535<R&&(R-=65536,J.push(R>>>10&1023|55296),R=56320|R&1023);J.push(R);x+=aa}I=J.length;if(I<=ab)J=String.fromCharCode.apply(String,J);else{L="";for(x=0;x<I;)L+=String.fromCharCode.apply(String,J.slice(x,x+=ab));J=L}return J}function Ba(I,x,L){if(0!==I%1||0>I)throw new RangeError("offset is not uint");if(I+x>L)throw new RangeError("Trying to access beyond buffer length");
}function Fa(I,x,L,J,B,R){if(!z.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>B||x<R)throw new RangeError('"value" argument is out of bounds');if(L+J>I.length)throw new RangeError("Index out of range");}function la(I,x,L,J){0>x&&(x=65535+x+1);for(var B=0,R=Math.min(I.length-L,2);B<R;++B)I[L+B]=(x&255<<8*(J?B:1-B))>>>8*(J?B:1-B)}function ra(I,x,L,J){0>x&&(x=4294967295+x+1);for(var B=0,R=Math.min(I.length-L,4);B<R;++B)I[L+B]=x>>>8*(J?B:3-B)&255}function Qa(I,x,
L,J,B,R){if(L+J>I.length)throw new RangeError("Index out of range");if(0>L)throw new RangeError("Index out of range");}function za(I,x,L,J,B){B||Qa(I,x,L,4,3.4028234663852886E38,-3.4028234663852886E38);Oa.write(I,x,L,J,23,4);return L+4}function Ta(I,x,L,J,B){B||Qa(I,x,L,8,1.7976931348623157E308,-1.7976931348623157E308);Oa.write(I,x,L,J,52,8);return L+8}function K(I,x){x=x||Infinity;for(var L,J=I.length,B=null,R=[],aa=0;aa<J;++aa){L=I.charCodeAt(aa);if(55295<L&&57344>L){if(!B){if(56319<L){-1<(x-=3)&&
R.push(239,191,189);continue}else if(aa+1===J){-1<(x-=3)&&R.push(239,191,189);continue}B=L;continue}if(56320>L){-1<(x-=3)&&R.push(239,191,189);B=L;continue}L=(B-55296<<10|L-56320)+65536}else B&&-1<(x-=3)&&R.push(239,191,189);B=null;if(128>L){if(0>--x)break;R.push(L)}else if(2048>L){if(0>(x-=2))break;R.push(L>>6|192,L&63|128)}else if(65536>L){if(0>(x-=3))break;R.push(L>>12|224,L>>6&63|128,L&63|128)}else if(1114112>L){if(0>(x-=4))break;R.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw Error("Invalid code point");
}return R}function ia(I){for(var x=[],L=0;L<I.length;++L)x.push(I.charCodeAt(L)&255);return x}function ya(I){var x=La,L=x.toByteArray;I=(I.trim?I.trim():I.replace(/^\s+|\s+$/g,"")).replace(Va,"");if(2>I.length)I="";else for(;0!==I.length%4;)I+="\x3d";return L.call(x,I)}function ua(I,x,L,J){for(var B=0;B<J&&!(B+L>=x.length||B>=I.length);++B)x[B+L]=I[B];return B}var La=Qb(24),Oa=Qb(25),Aa=Qb(26);zb.Buffer=z;zb.SlowBuffer=function(I){+I!=I&&(I=0);return z.alloc(+I)};zb.INSPECT_MAX_BYTES=50;z.TYPED_ARRAY_SUPPORT=
void 0!==fd.TYPED_ARRAY_SUPPORT?fd.TYPED_ARRAY_SUPPORT:h();zb.kMaxLength=z.TYPED_ARRAY_SUPPORT?2147483647:1073741823;z.poolSize=8192;z._augment=function(I){I.__proto__=z.prototype;return I};z.from=function(I,x,L){return Ra(null,I,x,L)};z.TYPED_ARRAY_SUPPORT&&(z.prototype.__proto__=Uint8Array.prototype,z.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&z[Symbol.species]===z&&Object.defineProperty(z,Symbol.species,{value:null,configurable:!0}));z.alloc=function(I,x,L){tb(I);I=0>=I?
r(null,I):void 0!==x?"string"===typeof L?r(null,I).fill(x,L):r(null,I).fill(x):r(null,I);return I};z.allocUnsafe=function(I){return bb(null,I)};z.allocUnsafeSlow=function(I){return bb(null,I)};z.isBuffer=function(I){return!(null==I||!I._isBuffer)};z.compare=function(I,x){if(!z.isBuffer(I)||!z.isBuffer(x))throw new TypeError("Arguments must be Buffers");if(I===x)return 0;for(var L=I.length,J=x.length,B=0,R=Math.min(L,J);B<R;++B)if(I[B]!==x[B]){L=I[B];J=x[B];break}return L<J?-1:J<L?1:0};z.isEncoding=
function(I){switch(String(I).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};z.concat=function(I,x){if(!Aa(I))throw new TypeError('"list" argument must be an Array of Buffers');if(0===I.length)return z.alloc(0);var L;if(void 0===x)for(L=x=0;L<I.length;++L)x+=I[L].length;x=z.allocUnsafe(x);var J=0;for(L=0;L<I.length;++L){var B=I[L];if(!z.isBuffer(B))throw new TypeError('"list" argument must be an Array of Buffers');
B.copy(x,J);J+=B.length}return x};z.byteLength=Ka;z.prototype._isBuffer=!0;z.prototype.swap16=function(){var I=this.length;if(0!==I%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<I;x+=2)Sa(this,x,x+1);return this};z.prototype.swap32=function(){var I=this.length;if(0!==I%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<I;x+=4)Sa(this,x,x+3),Sa(this,x+1,x+2);return this};z.prototype.swap64=function(){var I=this.length;if(0!==I%8)throw new RangeError("Buffer size must be a multiple of 64-bits");
for(var x=0;x<I;x+=8)Sa(this,x,x+7),Sa(this,x+1,x+6),Sa(this,x+2,x+5),Sa(this,x+3,x+4);return this};z.prototype.toString=function(){var I=this.length|0;return 0===I?"":0===arguments.length?na(this,0,I):Ha.apply(this,arguments)};z.prototype.equals=function(I){if(!z.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:0===z.compare(this,I)};z.prototype.inspect=function(){var I="",x=zb.INSPECT_MAX_BYTES;0<this.length&&(I=this.toString("hex",0,x).match(/.{2}/g).join(" "),this.length>
x&&(I+=" ... "));return"\x3cBuffer "+I+"\x3e"};z.prototype.compare=function(I,x,L,J,B){if(!z.isBuffer(I))throw new TypeError("Argument must be a Buffer");void 0===x&&(x=0);void 0===L&&(L=I?I.length:0);void 0===J&&(J=0);void 0===B&&(B=this.length);if(0>x||L>I.length||0>J||B>this.length)throw new RangeError("out of range index");if(J>=B&&x>=L)return 0;if(J>=B)return-1;if(x>=L)return 1;x>>>=0;L>>>=0;J>>>=0;B>>>=0;if(this===I)return 0;var R=B-J,aa=L-x,ea=Math.min(R,aa);J=this.slice(J,B);I=I.slice(x,L);
for(x=0;x<ea;++x)if(J[x]!==I[x]){R=J[x];aa=I[x];break}return R<aa?-1:aa<R?1:0};z.prototype.includes=function(I,x,L){return-1!==this.indexOf(I,x,L)};z.prototype.indexOf=function(I,x,L){return xa(this,I,x,L,!0)};z.prototype.lastIndexOf=function(I,x,L){return xa(this,I,x,L,!1)};z.prototype.write=function(I,x,L,J){if(void 0===x)J="utf8",L=this.length,x=0;else if(void 0===L&&"string"===typeof x)J=x,L=this.length,x=0;else if(isFinite(x))x|=0,isFinite(L)?(L|=0,void 0===J&&(J="utf8")):(J=L,L=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
var B=this.length-x;if(void 0===L||L>B)L=B;if(0<I.length&&(0>L||0>x)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(B=!1;;)switch(J){case "hex":a:{x=Number(x)||0;J=this.length-x;L?(L=Number(L),L>J&&(L=J)):L=J;J=I.length;if(0!==J%2)throw new TypeError("Invalid hex string");L>J/2&&(L=J/2);for(J=0;J<L;++J){B=parseInt(I.substr(2*J,2),16);if(isNaN(B)){I=J;break a}this[x+J]=B}I=J}return I;case "utf8":case "utf-8":return ua(K(I,this.length-x),this,x,L);case "ascii":return ua(ia(I),
this,x,L);case "latin1":case "binary":return ua(ia(I),this,x,L);case "base64":return ua(ya(I),this,x,L);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":J=I;B=this.length-x;for(var R=[],aa=0;aa<J.length&&!(0>(B-=2));++aa){var ea=J.charCodeAt(aa);I=ea>>8;ea%=256;R.push(ea);R.push(I)}return ua(R,this,x,L);default:if(B)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase();B=!0}};z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};
var ab=4096;z.prototype.slice=function(I,x){var L=this.length;I=~~I;x=void 0===x?L:~~x;0>I?(I+=L,0>I&&(I=0)):I>L&&(I=L);0>x?(x+=L,0>x&&(x=0)):x>L&&(x=L);x<I&&(x=I);if(z.TYPED_ARRAY_SUPPORT)x=this.subarray(I,x),x.__proto__=z.prototype;else{L=x-I;x=new z(L,void 0);for(var J=0;J<L;++J)x[J]=this[J+I]}return x};z.prototype.readUIntLE=function(I,x,L){I|=0;x|=0;L||Ba(I,x,this.length);L=this[I];for(var J=1,B=0;++B<x&&(J*=256);)L+=this[I+B]*J;return L};z.prototype.readUIntBE=function(I,x,L){I|=0;x|=0;L||Ba(I,
x,this.length);L=this[I+--x];for(var J=1;0<x&&(J*=256);)L+=this[I+--x]*J;return L};z.prototype.readUInt8=function(I,x){x||Ba(I,1,this.length);return this[I]};z.prototype.readUInt16LE=function(I,x){x||Ba(I,2,this.length);return this[I]|this[I+1]<<8};z.prototype.readUInt16BE=function(I,x){x||Ba(I,2,this.length);return this[I]<<8|this[I+1]};z.prototype.readUInt32LE=function(I,x){x||Ba(I,4,this.length);return(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]};z.prototype.readUInt32BE=function(I,
x){x||Ba(I,4,this.length);return 16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])};z.prototype.readIntLE=function(I,x,L){I|=0;x|=0;L||Ba(I,x,this.length);L=this[I];for(var J=1,B=0;++B<x&&(J*=256);)L+=this[I+B]*J;L>=128*J&&(L-=Math.pow(2,8*x));return L};z.prototype.readIntBE=function(I,x,L){I|=0;x|=0;L||Ba(I,x,this.length);L=x;for(var J=1,B=this[I+--L];0<L&&(J*=256);)B+=this[I+--L]*J;B>=128*J&&(B-=Math.pow(2,8*x));return B};z.prototype.readInt8=function(I,x){x||Ba(I,1,this.length);return this[I]&
128?-1*(255-this[I]+1):this[I]};z.prototype.readInt16LE=function(I,x){x||Ba(I,2,this.length);I=this[I]|this[I+1]<<8;return I&32768?I|4294901760:I};z.prototype.readInt16BE=function(I,x){x||Ba(I,2,this.length);I=this[I+1]|this[I]<<8;return I&32768?I|4294901760:I};z.prototype.readInt32LE=function(I,x){x||Ba(I,4,this.length);return this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24};z.prototype.readInt32BE=function(I,x){x||Ba(I,4,this.length);return this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]};z.prototype.readFloatLE=
function(I,x){x||Ba(I,4,this.length);return Oa.read(this,I,!0,23,4)};z.prototype.readFloatBE=function(I,x){x||Ba(I,4,this.length);return Oa.read(this,I,!1,23,4)};z.prototype.readDoubleLE=function(I,x){x||Ba(I,8,this.length);return Oa.read(this,I,!0,52,8)};z.prototype.readDoubleBE=function(I,x){x||Ba(I,8,this.length);return Oa.read(this,I,!1,52,8)};z.prototype.writeUIntLE=function(I,x,L,J){I=+I;x|=0;L|=0;J||Fa(this,I,x,L,Math.pow(2,8*L)-1,0);J=1;var B=0;for(this[x]=I&255;++B<L&&(J*=256);)this[x+B]=
I/J&255;return x+L};z.prototype.writeUIntBE=function(I,x,L,J){I=+I;x|=0;L|=0;J||Fa(this,I,x,L,Math.pow(2,8*L)-1,0);J=L-1;var B=1;for(this[x+J]=I&255;0<=--J&&(B*=256);)this[x+J]=I/B&255;return x+L};z.prototype.writeUInt8=function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,1,255,0);z.TYPED_ARRAY_SUPPORT||(I=Math.floor(I));this[x]=I&255;return x+1};z.prototype.writeUInt16LE=function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,2,65535,0);z.TYPED_ARRAY_SUPPORT?(this[x]=I&255,this[x+1]=I>>>8):la(this,I,x,!0);return x+2};z.prototype.writeUInt16BE=
function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,2,65535,0);z.TYPED_ARRAY_SUPPORT?(this[x]=I>>>8,this[x+1]=I&255):la(this,I,x,!1);return x+2};z.prototype.writeUInt32LE=function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,4,4294967295,0);z.TYPED_ARRAY_SUPPORT?(this[x+3]=I>>>24,this[x+2]=I>>>16,this[x+1]=I>>>8,this[x]=I&255):ra(this,I,x,!0);return x+4};z.prototype.writeUInt32BE=function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,4,4294967295,0);z.TYPED_ARRAY_SUPPORT?(this[x]=I>>>24,this[x+1]=I>>>16,this[x+2]=I>>>8,this[x+3]=I&255):
ra(this,I,x,!1);return x+4};z.prototype.writeIntLE=function(I,x,L,J){I=+I;x|=0;J||(J=Math.pow(2,8*L-1),Fa(this,I,x,L,J-1,-J));J=0;var B=1,R=0;for(this[x]=I&255;++J<L&&(B*=256);)0>I&&0===R&&0!==this[x+J-1]&&(R=1),this[x+J]=(I/B>>0)-R&255;return x+L};z.prototype.writeIntBE=function(I,x,L,J){I=+I;x|=0;J||(J=Math.pow(2,8*L-1),Fa(this,I,x,L,J-1,-J));J=L-1;var B=1,R=0;for(this[x+J]=I&255;0<=--J&&(B*=256);)0>I&&0===R&&0!==this[x+J+1]&&(R=1),this[x+J]=(I/B>>0)-R&255;return x+L};z.prototype.writeInt8=function(I,
x,L){I=+I;x|=0;L||Fa(this,I,x,1,127,-128);z.TYPED_ARRAY_SUPPORT||(I=Math.floor(I));0>I&&(I=255+I+1);this[x]=I&255;return x+1};z.prototype.writeInt16LE=function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,2,32767,-32768);z.TYPED_ARRAY_SUPPORT?(this[x]=I&255,this[x+1]=I>>>8):la(this,I,x,!0);return x+2};z.prototype.writeInt16BE=function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,2,32767,-32768);z.TYPED_ARRAY_SUPPORT?(this[x]=I>>>8,this[x+1]=I&255):la(this,I,x,!1);return x+2};z.prototype.writeInt32LE=function(I,x,L){I=+I;x|=
0;L||Fa(this,I,x,4,2147483647,-2147483648);z.TYPED_ARRAY_SUPPORT?(this[x]=I&255,this[x+1]=I>>>8,this[x+2]=I>>>16,this[x+3]=I>>>24):ra(this,I,x,!0);return x+4};z.prototype.writeInt32BE=function(I,x,L){I=+I;x|=0;L||Fa(this,I,x,4,2147483647,-2147483648);0>I&&(I=4294967295+I+1);z.TYPED_ARRAY_SUPPORT?(this[x]=I>>>24,this[x+1]=I>>>16,this[x+2]=I>>>8,this[x+3]=I&255):ra(this,I,x,!1);return x+4};z.prototype.writeFloatLE=function(I,x,L){return za(this,I,x,!0,L)};z.prototype.writeFloatBE=function(I,x,L){return za(this,
I,x,!1,L)};z.prototype.writeDoubleLE=function(I,x,L){return Ta(this,I,x,!0,L)};z.prototype.writeDoubleBE=function(I,x,L){return Ta(this,I,x,!1,L)};z.prototype.copy=function(I,x,L,J){L||(L=0);J||0===J||(J=this.length);x>=I.length&&(x=I.length);x||(x=0);0<J&&J<L&&(J=L);if(J===L||0===I.length||0===this.length)return 0;if(0>x)throw new RangeError("targetStart out of bounds");if(0>L||L>=this.length)throw new RangeError("sourceStart out of bounds");if(0>J)throw new RangeError("sourceEnd out of bounds");
J>this.length&&(J=this.length);I.length-x<J-L&&(J=I.length-x+L);var B=J-L;if(this===I&&L<x&&x<J)for(J=B-1;0<=J;--J)I[J+x]=this[J+L];else if(1E3>B||!z.TYPED_ARRAY_SUPPORT)for(J=0;J<B;++J)I[J+x]=this[J+L];else Uint8Array.prototype.set.call(I,this.subarray(L,L+B),x);return B};z.prototype.fill=function(I,x,L,J){if("string"===typeof I){"string"===typeof x?(J=x,x=0,L=this.length):"string"===typeof L&&(J=L,L=this.length);if(1===I.length){var B=I.charCodeAt(0);256>B&&(I=B)}if(void 0!==J&&"string"!==typeof J)throw new TypeError("encoding must be a string");
if("string"===typeof J&&!z.isEncoding(J))throw new TypeError("Unknown encoding: "+J);}else"number"===typeof I&&(I&=255);if(0>x||this.length<x||this.length<L)throw new RangeError("Out of range index");if(L<=x)return this;x>>>=0;L=void 0===L?this.length:L>>>0;I||(I=0);if("number"===typeof I)for(J=x;J<L;++J)this[J]=I;else for(I=z.isBuffer(I)?I:K((new z(I,J)).toString()),B=I.length,J=0;J<L-x;++J)this[J+x]=I[J%B];return this};var Va=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[28]=function(fd,Qb,Sc,zb){var h=Qb(27).Buffer;!function(r,z){"object"==typeof zb&&"undefined"!=typeof Sc?z(zb,Qb(17),Qb(23)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],z):z((r="undefined"!=typeof globalThis?globalThis:r||self).vega={},r.vega,r.vega)}(this,function(r,z,Ra){async function tb(H,da){H=await this.sanitize(H,da);const ca=H.href;return H.localFile?this.file(ca):this.http(ca,da)}async function bb(H,da){da=z.extend({},this.options,da);
const ca=this.fileAccess,X={href:null};let e,c,f;var l=Va.test(H.replace(I,""));null!=H&&"string"==typeof H&&l||z.error("Sanitize failure, invalid URI: "+z.stringValue(H));l=ab.test(H);return(f=da.baseURL)&&!l&&(H.startsWith("/")||"/"===f[f.length-1]||(H="/"+H),H=f+H),c=(e=H.startsWith("file://"))||"file"===da.mode||"http"!==da.mode&&!l&&ca,e?H=H.slice(7):H.startsWith("//")&&("file"===da.defaultProtocol?(H=H.slice(2),c=!0):H=(da.defaultProtocol||"http")+":"+H),Object.defineProperty(X,"localFile",
{value:!!c}),X.href=H,da.target&&(X.target=da.target+""),da.rel&&(X.rel=da.rel+""),"image"===da.context&&da.crossOrigin&&(X.crossOrigin=da.crossOrigin+""),X}function wb(H){return H?da=>new Promise((ca,X)=>{H.readFile(da,(e,c)=>{e?X(e):ca(c)})}):Hb}async function Hb(){z.error("No file system access.")}function hb(H){return H?async function(da,ca){const X=z.extend({},this.options.http,ca);ca=ca&&ca.response;da=await H(da,X);return da.ok?z.isFunction(da[ca])?da[ca]():da.text():z.error(da.status+""+da.statusText)}:
Ka}async function Ka(){z.error("No HTTP fetch method available.")}function Ha(H,da){if(!H||!H.length)return"unknown";const ca=H.length,X=J.length,e=J.map((f,l)=>l+1);for(let f,l,m=0,q=0;m<ca;++m)for(l=da?H[m][da]:H[m],f=0;f<X;++f)if(e[f]&&null!=(c=l)&&c==c&&!J[f](l)&&(e[f]=0,++q,q===J.length))return"string";var c;return B[e.reduce((f,l)=>0===f?l:f,0)-1]}function Sa(H,da){return da.reduce((ca,X)=>(ca[X]=Ha(H,X),ca),{})}function xa(H){return new Function("d","return {"+H.map(function(da,ca){return JSON.stringify(da)+
": d["+ca+'] || ""'}).join(",")+"}")}function ma(H){var da=Object.create(null),ca=[];return H.forEach(function(X){for(var e in X)e in da||ca.push(da[e]=e)}),ca}function na(H,da){H+="";var ca=H.length;return ca<da?Array(da-ca+1).join(0)+H:H}function Ba(H){function da(l,m){function q(){if(gb)return aa;if(Y)return Y=!1,R;var G,Q,ka=wa;if(34===l.charCodeAt(ka)){for(;wa++<U&&34!==l.charCodeAt(wa)||34===l.charCodeAt(++wa););return(G=wa)>=U?gb=!0:10===(Q=l.charCodeAt(wa++))?Y=!0:13===Q&&(Y=!0,10===l.charCodeAt(wa)&&
++wa),l.slice(ka+1,G-1).replace(/""/g,'"')}for(;wa<U;){if(10===(Q=l.charCodeAt(G=wa++)))Y=!0;else if(13===Q)Y=!0,10===l.charCodeAt(wa)&&++wa;else if(Q!==f)continue;return l.slice(ka,G)}return gb=!0,l.slice(ka,U)}var w,F=[],U=l.length,wa=0,cb=0,gb=0>=U,Y=!1;10===l.charCodeAt(U-1)&&--U;for(13===l.charCodeAt(U-1)&&--U;(w=q())!==aa;){for(var ta=[];w!==R&&w!==aa;)ta.push(w),w=q();m&&null==(ta=m(ta,cb++))||F.push(ta)}return F}function ca(l,m){return l.map(function(q){return m.map(function(w){return e(q[w])}).join(H)})}
function X(l){return l.map(e).join(H)}function e(l){if(null==l)var m="";else{if(l instanceof Date){var q=l.getUTCHours();var w=l.getUTCMinutes(),F=l.getUTCSeconds(),U=l.getUTCMilliseconds();q=isNaN(l)?"Invalid Date":(0>(m=l.getUTCFullYear())?"-"+na(-m,6):9999<m?"+"+na(m,6):na(m,4))+"-"+na(l.getUTCMonth()+1,2)+"-"+na(l.getUTCDate(),2)+(U?"T"+na(q,2)+":"+na(w,2)+":"+na(F,2)+"."+na(U,3)+"Z":F?"T"+na(q,2)+":"+na(w,2)+":"+na(F,2)+"Z":w||q?"T"+na(q,2)+":"+na(w,2)+"Z":"")}else q=c.test(l+="")?'"'+l.replace(/"/g,
'""')+'"':l;m=q}return m}var c=new RegExp('["'+H+"\n\r]"),f=H.charCodeAt(0);return{parse:function(l,m){var q,w;l=da(l,function(F,U){if(q)return q(F,U-1);w=F;q=m?function(wa,cb){var gb=xa(wa);return function(Y,ta){return cb(gb(Y),ta,wa)}}(F,m):xa(F)});return l.columns=w||[],l},parseRows:da,format:function(l,m){return null==m&&(m=ma(l)),[m.map(e).join(H)].concat(ca(l,m)).join("\n")},formatBody:function(l,m){return null==m&&(m=ma(l)),ca(l,m).join("\n")},formatRows:function(l){return l.map(X).join("\n")},
formatRow:X,formatValue:e}}function Fa(H){const da=function(ca,X){const e={delimiter:H};return la(ca,X?z.extend(X,e):e)};return da.responseType="text",da}function la(H,da){return da.header&&(H=da.header.map(z.stringValue).join(da.delimiter)+"\n"+H),Ba(da.delimiter).parse(H+"")}function ra(H,da){const ca=da&&da.property?z.field(da.property):z.identity;!z.isObject(H)||(X=H,"function"==typeof h&&z.isFunction(h.isBuffer)&&h.isBuffer(X))?da=ca(JSON.parse(H)):(H=ca(H),!z.isArray(H)&&z.isIterable(H)&&(H=
[...H]),da=da&&da.copy?JSON.parse(JSON.stringify(H)):H);return da;var X}function Qa(H){return H}function za(H,da){return"string"==typeof da&&(da=H.objects[da]),"GeometryCollection"===da.type?{type:"FeatureCollection",features:da.geometries.map(function(ca){return Ta(H,ca)})}:Ta(H,da)}function Ta(H,da){var ca=da.id,X=da.bbox,e=null==da.properties?{}:da.properties;H=K(H,da);return null==ca&&null==X?{type:"Feature",properties:e,geometry:H}:null==X?{type:"Feature",id:ca,properties:e,geometry:H}:{type:"Feature",
id:ca,bbox:X,properties:e,geometry:H}}function K(H,da){function ca(m){return f(m)}function X(m){for(var q=[],w=0,F=m.length;w<F;++w){var U,wa=m[w],cb=q;cb.length&&cb.pop();var gb=l[0>wa?~wa:wa],Y=0;for(U=gb.length;Y<U;++Y)cb.push(f(gb[Y],Y));if(0>wa)for(wa=cb.length,gb=wa-U;gb<--wa;)U=cb[gb],cb[gb++]=cb[wa],cb[wa]=U}return 2>q.length&&q.push(q[0]),q}function e(m){for(m=X(m);4>m.length;)m.push(m[0]);return m}function c(m){return m.map(e)}var f=function(m){if(null==m)return Qa;var q,w,F=m.scale[0],
U=m.scale[1],wa=m.translate[0],cb=m.translate[1];return function(gb,Y){Y||(q=w=0);Y=2;var ta=gb.length,G=Array(ta);G[0]=(q+=gb[0])*F+wa;for(G[1]=(w+=gb[1])*U+cb;Y<ta;)G[Y]=gb[Y],++Y;return G}}(H.transform),l=H.arcs;return function w(q){var F=q.type;switch(F){case "GeometryCollection":return{type:F,geometries:q.geometries.map(w)};case "Point":q=f(q.coordinates);break;case "MultiPoint":q=q.coordinates.map(ca);break;case "LineString":q=X(q.arcs);break;case "MultiLineString":q=q.arcs.map(X);break;case "Polygon":q=
c(q.arcs);break;case "MultiPolygon":q=q.arcs.map(c);break;default:return null}return{type:F,coordinates:q}}(da)}function ia(H,da){function ca(m,q){for(var w in m){var F=m[w];delete q[F.start];delete F.start;delete F.end;F.forEach(function(U){X[0>U?~U:U]=1});f.push(F)}}var X={},e={},c={},f=[],l=-1;return da.forEach(function(m,q){var w,F=H.arcs[0>m?~m:m];3>F.length&&!F[1][0]&&!F[1][1]&&(w=da[++l],da[l]=m,da[q]=w)}),da.forEach(function(m){var q=function(U){var wa,cb=H.arcs[0>U?~U:U],gb=cb[0];H.transform?
(wa=[0,0],cb.forEach(function(Y){wa[0]+=Y[0];wa[1]+=Y[1]})):wa=cb[cb.length-1];return 0>U?[wa,gb]:[gb,wa]}(m);var w=q[0],F=q[1];(q=c[w])?(delete c[q.end],q.push(m),q.end=F,m=e[F])?(delete e[m.start],w=m===q?q:q.concat(m),e[w.start=q.start]=c[w.end=m.end]=w):e[q.start]=c[q.end]=q:(q=e[F])?(delete e[q.start],q.unshift(m),q.start=w,m=c[w])?(delete c[m.end],w=m===q?q:m.concat(q),e[w.start=m.start]=c[w.end=q.end]=w):e[q.start]=c[q.end]=q:e[(q=[m]).start=w]=c[q.end=F]=q}),ca(c,e),ca(e,c),da.forEach(function(m){X[0>
m?~m:m]||f.push([m])}),f}function ya(H){return K(H,ua.apply(this,arguments))}function ua(H,da,ca){var X;if(1<arguments.length)var e=La(H,da,ca);else{var c=0;for(e=Array(X=H.arcs.length);c<X;++c)e[c]=c}return{type:"MultiLineString",arcs:ia(H,e)}}function La(H,da,ca){function X(q){var w=0>q?~q:q;(m[w]||(m[w]=[])).push({i:q,g:f})}function e(q){q.forEach(X)}function c(q){q.forEach(e)}var f,l=[],m=[];return function F(w){switch(f=w,w.type){case "GeometryCollection":w.geometries.forEach(F);break;case "LineString":e(w.arcs);
break;case "MultiLineString":case "Polygon":c(w.arcs);break;case "MultiPolygon":w.arcs.forEach(c),!0}}(da),m.forEach(null==ca?function(w){l.push(w[0].i)}:function(w){ca(w[0].g,w[w.length-1].g)&&l.push(w[0].i)}),l}function Oa(H,da){let ca,X,e,c;return H=ra(H,da),da&&da.feature?(ca=za,e=da.feature):da&&da.mesh?(ca=ya,e=da.mesh,c=ea[da.filter]):z.error("Missing TopoJSON feature or mesh parameter."),X=(X=H.objects[e])?ca(H,X,c):z.error("Invalid TopoJSON object: "+e),X&&X.features||[X]}function Aa(H,da){return 1<
arguments.length?(Ca[H]=da,this):z.hasOwnProperty(Ca,H)?Ca[H]:null}const ab=/^([A-Za-z]+:)?\/\//,Va=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,I=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,x=H=>!(Number.isNaN(+H)||H instanceof Date),L={boolean:z.toBoolean,integer:z.toNumber,number:z.toNumber,date:z.toDate,string:z.toString,unknown:z.identity},J=[H=>"true"===H||"false"===H||!0===H||!1===H,H=>x(H)&&Number.isInteger(+H),x,H=>!Number.isNaN(Date.parse(H))],
B=["boolean","integer","number","date"];var R={},aa={};la.responseType="text";ra.responseType="json";const ea={interior:(H,da)=>H!==da,exterior:(H,da)=>H===da};Oa.responseType="json";const Ca={dsv:la,csv:Fa(","),tsv:Fa("\t"),json:ra,topojson:Oa},Ia=function(H,da){return ca=>({options:ca||{},sanitize:bb,load:tb,fileAccess:!!da,file:wb(da),http:hb(H)})}("undefined"!=typeof fetch&&fetch,null);r.format=Ca;r.formats=Aa;r.inferType=Ha;r.inferTypes=Sa;r.loader=Ia;r.read=function(H,da,ca,X){const e=Aa((da=
da||{}).type||"json");return e||z.error("Unknown data format type: "+da.type),H=e(H,da),da.parse&&function(c,f,l,m){if(c.length){var q=Ra.timeFormatDefaultLocale();l=l||q.timeParse;m=m||q.utcParse;var w,F,U=c.columns||Object.keys(c[0]);"auto"===f&&(f=Sa(c,U));U=Object.keys(f);var wa=U.map(ta=>{var G=f[ta];if(G&&(G.startsWith("date:")||G.startsWith("utc:")))return ta=G.split(/:(.+)?/,2),G=ta[1],("'"===G[0]&&"'"===G[G.length-1]||'"'===G[0]&&'"'===G[G.length-1])&&(G=G.slice(1,-1)),("utc"===ta[0]?m:l)(G);
if(!L[G])throw Error("Illegal format pattern: "+ta+":"+G);return L[G]});var cb=0;var gb=c.length;for(F=U.length;cb<gb;++cb)for(q=c[cb],w=0;w<F;++w){var Y=U[w];q[Y]=wa[w](q[Y])}}}(H,da.parse,ca,X),z.hasOwnProperty(H,"columns")&&delete H.columns,H};r.responseType=function(H){return(H=Aa(H))&&H.responseType||"text"};r.typeParsers=L;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[29]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(16),Qb(28),Qb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega))})(this,function(h,r,z,Ra){function tb(H){const da=H||r.identity,ca=[],X={};ca.add=e=>{const c=da(e);X[c]||(X[c]=1,ca.push(e));return ca};ca.remove=e=>{const c=da(e);X[c]&&(X[c]=0,e=ca.indexOf(e),
0<=e&&ca.splice(e,1));return ca};return ca}async function bb(H,da){try{await da(H)}catch(ca){H.error(ca)}}function wb(H){H=H===Object(H)?H:{data:H};if(!H[x]){var da=L++;H[x]=da}return H}function Hb(H,da){for(const ca in H)da[ca]=H[ca];return da}function hb(H){return H&&H.constructor===Ka}function Ka(){const H=[],da=[],ca=[],X=[],e=[];let c=null,f=!1;return{constructor:Ka,insert(l){l=r.array(l);const m=l.length;for(let q=0;q<m;++q)H.push(l[q]);return this},remove(l){const m=r.isFunction(l)?X:da;l=
r.array(l);const q=l.length;for(let w=0;w<q;++w)m.push(l[w]);return this},modify(l,m,q){m={field:m,value:r.constant(q)};r.isFunction(l)?(m.filter=l,e.push(m)):(m.tuple=l,ca.push(m));return this},encode(l,m){r.isFunction(l)?e.push({filter:l,field:m}):ca.push({tuple:l,field:m});return this},clean(l){c=l;return this},reflow(){f=!0;return this},pulse(l,m){function q(G,Q,ka){ka?G[Q]=ka(G):l.encode=Q;f||(F[G[x]]=G)}const w={},F={};let U,wa,cb,gb,Y,ta;U=0;for(wa=m.length;U<wa;++U)w[m[U][x]]=1;U=0;for(wa=
da.length;U<wa;++U)Y=da[U],w[Y[x]]=-1;U=0;for(wa=X.length;U<wa;++U)gb=X[U],m.forEach(G=>{gb(G)&&(w[G[x]]=-1)});U=0;for(wa=H.length;U<wa;++U)Y=H[U],ta=Y[x],w[ta]?w[ta]=1:l.add.push(wb(H[U]));U=0;for(wa=m.length;U<wa;++U)Y=m[U],0>w[Y[x]]&&l.rem.push(Y);U=0;for(wa=ca.length;U<wa;++U)cb=ca[U],Y=cb.tuple,gb=cb.field,ta=w[Y[x]],0<ta&&(q(Y,gb,cb.value),l.modifies(gb));U=0;for(wa=e.length;U<wa;++U)cb=e[U],gb=cb.filter,m.forEach(G=>{gb(G)&&0<w[G[x]]&&q(G,cb.field,cb.value)}),l.modifies(cb.field);if(f)l.mod=
da.length||X.length?m.filter(G=>0<w[G[x]]):m.slice();else for(ta in F)l.mod.push(F[ta]);(c||null==c&&(da.length||X.length))&&l.clean(!0);return l}}}function Ha(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Sa(H,da,ca,X){this.id=++J;this.value=H;this.qrank=this.rank=this.stamp=-1;this.flags=0;da&&(this._update=da);ca&&this.parameters(ca,X)}function xa(H){return function(da){const ca=this.flags;if(0===arguments.length)return!!(ca&H);this.flags=da?ca|H:ca&~H;return this}}function ma(H,
da,ca){this.id=++R;this.value=null;ca&&(this.receive=ca);H&&(this._filter=H);da&&(this._apply=da)}function na(H,da,ca){return new ma(H,da,ca)}function Ba(H){let da;const ca=new Promise(X=>da=X);ca.requests=0;ca.done=()=>{0===--ca.requests&&(H._pending=null,da(H))};return H._pending=ca}function Fa(H,da,ca,X,e,c){const f=r.extend({},c,aa);let l;r.isFunction(ca)||(ca=r.constant(ca));void 0===X?e=m=>H.touch(ca(m)):r.isFunction(X)?(l=new Sa(null,X,e,!1),e=m=>{l.evaluate(m);m=ca(m);const q=l.value;hb(q)?
H.pulse(m,q,c):H.update(m,q,f)}):e=m=>H.update(ca(m),X,f);da.apply(e)}function la(H,da,ca,X,e,c){void 0===X?da.targets().add(ca):(c=c||{},X=new Sa(null,ra(ca,X),e,!1),X.modified(c.force),X.rank=da.rank,da.targets().add(X),ca&&(X.skip(!0),X.value=ca.value,X.targets().add(ca),H.connect(ca,[X])))}function ra(H,da){da=r.isFunction(da)?da:r.constant(da);return H?function(ca,X){ca=da(ca,X);H.skip()||(H.skip(ca!==this.value).value=ca);return ca}:da}function Qa(H,da,ca){this.dataflow=H;this.stamp=null==da?
-1:da;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=ca||null}function za(H,da){const ca=[];r.visitArray(H,da,X=>ca.push(X));return ca}function Ta(H,da){const ca={};H.visit(da,X=>{ca[X[x]]=1});return X=>ca[X[x]]?null:X}function K(H,da){return H?(ca,X)=>H(ca,X)&&da(ca,X):da}function ia(H,da,ca,X){const e=ca.length;let c=0;this.dataflow=H;this.stamp=da;this.fields=null;this.encode=X||null;this.pulses=ca;for(H=0;H<e;++H)if(X=ca[H],X.stamp===da){if(X.fields){const f=this.fields||(this.fields=
{});for(const l in X.fields)f[l]=1}X.changed(this.ADD)&&(c|=this.ADD);X.changed(this.REM)&&(c|=this.REM);X.changed(this.MOD)&&(c|=this.MOD)}this.changes=c}function ya(H){H.error("Dataflow already running. Use runAsync() to chain invocations.");return H}function ua(H,da){if(da&&da.stamp===H.stamp)return da;H=H.fork();da&&da!==ea&&(H.source=da.source);return H}function La(H){let da=[];return{clear:()=>da=[],size:()=>da.length,peek:()=>da[0],push:ca=>{da.push(ca);return Oa(da,0,da.length-1,H)},pop:()=>
{var ca=da.pop();let X;if(da.length){X=da[0];da[0]=ca;ca=da;var e=0;const c=e,f=ca.length,l=ca[e];let m=(e<<1)+1,q;for(;m<f;)q=m+1,q<f&&0<=H(ca[m],ca[q])&&(m=q),ca[e]=ca[m],e=m,m=(e<<1)+1;ca[e]=l;Oa(ca,c,e,H)}else X=ca;return X}}}function Oa(H,da,ca,X){let e,c;const f=H[ca];for(;ca>da;)if(c=ca-1>>1,e=H[c],0>X(f,e))H[ca]=e,ca=c;else break;return H[ca]=f}function Aa(){this.logger(r.logger());this.logLevel(r.Error);this._rank=this._clock=0;this._locale=Ra.defaultLocale();try{this._loader=z.loader()}catch(H){}this._touched=
tb(r.id);this._input={};this._pulse=null;this._heap=La((H,da)=>H.qrank-da.qrank);this._postrun=[]}function ab(H){return function(){return this._log[H].apply(this,arguments)}}function Va(H,da){Sa.call(this,H,null,da)}function I(H){H=H&&H.toLowerCase();return r.hasOwnProperty(Ia,H)?Ia[H]:null}const x=Symbol("vega_id");let L=1;Ha.prototype={set(H,da,ca,X){const e=this[H],c=this["_:mod:_"];if(null!=da&&0<=da){if(e[da]!==ca||X)e[da]=ca,c[da+":"+H]=-1,c[H]=-1}else if(e!==ca||X)this[H]=ca,c[H]=r.isArray(ca)?
1+ca.length:-1;return this},modified(H,da){const ca=this["_:mod:_"];if(!arguments.length){for(var X in ca)if(ca[X])return!0;return!1}if(r.isArray(H)){for(X=0;X<H.length;++X)if(ca[H[X]])return!0;return!1}return null!=da&&0<=da?da+1<ca[H]||!!ca[da+":"+H]:!!ca[H]},clear(){this["_:mod:_"]={};return this}};let J=0;const B=new Ha;Sa.prototype={targets(){return this._targets||(this._targets=tb(r.id))},set(H){return this.value!==H?(this.value=H,1):0},skip:xa(1),modified:xa(2),parameters(H,da,ca){da=!1!==
da;const X=this._argval=this._argval||new Ha,e=this._argops=this._argops||[],c=[];let f,l,m,q;const w=(F,U,wa)=>{wa instanceof Sa?(wa!==this&&(da&&wa.targets().add(this),c.push(wa)),e.push({op:wa,name:F,index:U})):X.set(F,U,wa)};for(f in H)if(l=H[f],"pulse"===f)r.array(l).forEach(F=>{F instanceof Sa?F!==this&&(F.targets().add(this),c.push(F)):r.error("Pulse parameters must be operator instances.")}),this.source=l;else if(r.isArray(l))for(X.set(f,-1,Array(m=l.length)),q=0;q<m;++q)w(f,q,l[q]);else w(f,
-1,l);this.marshall().clear();ca&&(e.initonly=!0);return c},marshall(H){const da=this._argval||B,ca=this._argops;let X,e,c,f;if(ca){const l=ca.length;for(e=0;e<l;++e)X=ca[e],c=X.op,f=c.modified()&&c.stamp===H,da.set(X.name,X.index,c.value,f);if(ca.initonly){for(e=0;e<l;++e)X=ca[e],X.op.targets().remove(this);this._update=this._argops=null}}return da},detach(){const H=this._argops;let da,ca;if(H)for(da=0,ca=H.length;da<ca;++da){var X=H[da];X=X.op;X._targets&&X._targets.remove(this)}this.source=this.pulse=
null},evaluate(H){var da=this._update;if(da){const ca=this.marshall(H.stamp);da=da.call(this,ca,H);ca.clear();if(da!==this.value)this.value=da;else if(!this.modified())return H.StopPropagation}},run(H){if(H.stamp<this.stamp)return H.StopPropagation;let da;this.skip()?(this.skip(!1),da=0):da=this.evaluate(H);return this.pulse=da||H}};let R=0;ma.prototype={_filter:r.truthy,_apply:r.identity,targets(){return this._targets||(this._targets=tb(r.id))},consume(H){if(!arguments.length)return!!this._consume;
this._consume=!!H;return this},receive(H){if(this._filter(H)){const da=this.value=this._apply(H),ca=this._targets,X=ca?ca.length:0;for(let e=0;e<X;++e)ca[e].receive(da);this._consume&&(H.preventDefault(),H.stopPropagation())}},filter(H){H=na(H);this.targets().add(H);return H},apply(H){H=na(null,H);this.targets().add(H);return H},merge(){const H=na();this.targets().add(H);for(let da=0,ca=arguments.length;da<ca;++da)arguments[da].targets().add(H);return H},throttle(H){let da=-1;return this.filter(()=>
{const ca=Date.now();return ca-da>H?(da=ca,1):0})},debounce(H){const da=na();this.targets().add(na(null,null,r.debounce(H,ca=>{const X=ca.dataflow;da.receive(ca);X&&X.run&&X.run()})));return da},between(H,da){let ca=!1;H.targets().add(na(null,null,()=>ca=!0));da.targets().add(na(null,null,()=>ca=!1));return this.filter(()=>ca)},detach(){this._filter=r.truthy;this._targets=null}};const aa={skip:!0},ea={};Qa.prototype={StopPropagation:ea,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,
NO_SOURCE:32,NO_FIELDS:64,fork(H){return(new Qa(this.dataflow)).init(this,H)},clone(){const H=this.fork(7);H.add=H.add.slice();H.rem=H.rem.slice();H.mod=H.mod.slice();H.source&&(H.source=H.source.slice());return H.materialize(23)},addAll(){let H=this;H.source&&H.add!==H.rem&&(H.rem.length||H.source.length!==H.add.length)&&(H=(new Qa(this.dataflow)).init(this),H.add=H.source,H.rem=[]);return H},init(H,da){this.stamp=H.stamp;this.encode=H.encode;!H.fields||da&64||(this.fields=H.fields);da&1?(this.addF=
H.addF,this.add=H.add):(this.addF=null,this.add=[]);da&2?(this.remF=H.remF,this.rem=H.rem):(this.remF=null,this.rem=[]);da&4?(this.modF=H.modF,this.mod=H.mod):(this.modF=null,this.mod=[]);da&32?this.source=this.srcF=null:(this.srcF=H.srcF,this.source=H.source,H.cleans&&(this.cleans=H.cleans));return this},runAfter(H){this.dataflow.runAfter(H)},changed(H){H=H||7;return H&1&&this.add.length||H&2&&this.rem.length||H&4&&this.mod.length},reflow(H){if(H)return this.fork(7).reflow();H=this.add.length;const da=
this.source&&this.source.length;da&&da!==H&&(this.mod=this.source,H&&this.filter(4,Ta(this,1)));return this},clean(H){return arguments.length?(this.cleans=!!H,this):this.cleans},modifies(H){const da=this.fields||(this.fields={});r.isArray(H)?H.forEach(ca=>da[ca]=!0):da[H]=!0;return this},modified(H,da){const ca=this.fields;return(da||this.mod.length)&&ca?arguments.length?r.isArray(H)?H.some(X=>ca[X]):ca[H]:!!ca:!1},filter(H,da){H&1&&(this.addF=K(this.addF,da));H&2&&(this.remF=K(this.remF,da));H&4&&
(this.modF=K(this.modF,da));H&16&&(this.srcF=K(this.srcF,da));return this},materialize(H){H=H||7;H&1&&this.addF&&(this.add=za(this.add,this.addF),this.addF=null);H&2&&this.remF&&(this.rem=za(this.rem,this.remF),this.remF=null);H&4&&this.modF&&(this.mod=za(this.mod,this.modF),this.modF=null);H&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(H,da){if(H&16)return r.visitArray(this.source,this.srcF,da),this;H&1&&r.visitArray(this.add,this.addF,da);H&2&&r.visitArray(this.rem,
this.remF,da);H&4&&r.visitArray(this.mod,this.modF,da);const ca=this.source;H&8&&ca&&(H=this.add.length+this.mod.length,H!==ca.length&&(H?r.visitArray(ca,Ta(this,5),da):r.visitArray(ca,this.srcF,da)));return this}};r.inherits(ia,Qa,{fork(H){const da=(new Qa(this.dataflow)).init(this,H&this.NO_FIELDS);void 0!==H&&(H&da.ADD&&this.visit(da.ADD,ca=>da.add.push(ca)),H&da.REM&&this.visit(da.REM,ca=>da.rem.push(ca)),H&da.MOD&&this.visit(da.MOD,ca=>da.mod.push(ca)));return da},changed(H){return this.changes&
H},modified(H){const da=this.fields;return da&&this.changes&this.MOD?r.isArray(H)?H.some(ca=>da[ca]):da[H]:0},filter(){r.error("MultiPulse does not support filtering.")},materialize(){r.error("MultiPulse does not support materialization.")},visit(H,da){const ca=this.pulses,X=ca.length;let e=0;if(H&this.SOURCE)for(;e<X;++e)ca[e].visit(H,da);else for(;e<X;++e)ca[e].stamp===this.stamp&&ca[e].visit(H,da);return this}});const Ca={skip:!1,force:!1};Aa.prototype={stamp(){return this._clock},loader(H){return arguments.length?
(this._loader=H,this):this._loader},locale(H){return arguments.length?(this._locale=H,this):this._locale},logger(H){return arguments.length?(this._log=H,this):this._log},error:ab("error"),warn:ab("warn"),info:ab("info"),debug:ab("debug"),logLevel:ab("level"),cleanThreshold:1E4,add:function(H,da,ca,X){let e=1;H instanceof Sa||(H&&H.prototype instanceof Sa?H=new H:r.isFunction(H)?H=new Sa(null,H):(e=0,H=new Sa(H,da)));this.rank(H);e&&(X=ca,ca=da);ca&&this.connect(H,H.parameters(ca,X));this.touch(H);
return H},connect:function(H,da){const ca=H.rank,X=da.length;for(let e=0;e<X;++e)if(ca<da[e].rank){this.rerank(H);break}},rank:function(H){H.rank=++this._rank},rerank:function(H){const da=[H];let ca,X,e;for(;da.length;)if(this.rank(ca=da.pop()),X=ca._targets)for(e=X.length;0<=--e;)da.push(ca=X[e]),ca===H&&r.error("Cycle detected in dataflow graph.")},pulse:function(H,da,ca){this.touch(H,ca||Ca);ca=new Qa(this,this._clock+(this._pulse?0:1));const X=H.pulse&&H.pulse.source||[];ca.target=H;this._input[H.id]=
da.pulse(ca,X);return this},touch:function(H,da){da=da||Ca;this._pulse?this._enqueue(H):this._touched.add(H);da.skip&&H.skip(!0);return this},update:function(H,da,ca){ca=ca||Ca;(H.set(da)||ca.force)&&this.touch(H,ca);return this},changeset:Ka,ingest:function(H,da,ca){da=this.parse(da,ca);return this.pulse(H,this.changeset().insert(da))},parse:function(H,da){const ca=this.locale();return z.read(H,da,ca.timeParse,ca.utcParse)},preload:async function(H,da,ca){const X=this._pending||Ba(this);X.requests+=
1;da=await this.request(da,ca);this.pulse(H,this.changeset().remove(r.truthy).insert(da.data||[]));X.done();return da},request:async function(H,da){let ca=0,X;try{X=await this.loader().load(H,{context:"dataflow",response:z.responseType(da&&da.type)});try{X=this.parse(X,da)}catch(e){ca=-2,this.warn("Data ingestion failed",H,e)}}catch(e){ca=-1,this.warn("Loading failed",H,e)}return{data:X,status:ca}},events:function(H,da,ca,X){const e=this,c=na(ca,X);ca=function(f){f.dataflow=e;try{c.receive(f)}catch(l){e.error(l)}finally{e.run()}};
H="string"===typeof H&&"undefined"!==typeof document?document.querySelectorAll(H):r.array(H);X=H.length;for(let f=0;f<X;++f)H[f].addEventListener(da,ca);return c},on:function(H,da,ca,X,e){(H instanceof Sa?la:Fa)(this,H,da,ca,X,e);return this},evaluate:async function(H,da,ca){const X=this,e=[];if(X._pulse)return ya(X);X._pending&&await X._pending;da&&await bb(X,da);if(!X._touched.length)return X.debug("Dataflow invoked, but nothing to do."),X;da=++X._clock;X._pulse=new Qa(X,da,H);X._touched.forEach(q=>
X._enqueue(q,!0));X._touched=tb(r.id);let c=0;let f,l;try{for(;0<X._heap.size();){var m=X._heap.pop();m.rank!==m.qrank?X._enqueue(m,!0):(f=m.run(X._getPulse(m,H)),f.then?f=await f:f.async&&(e.push(f.async),f=ea),f!==ea&&m._targets&&m._targets.forEach(q=>X._enqueue(q)),++c)}}catch(q){X._heap.clear(),l=q}X._input={};X._pulse=null;X.debug(`Pulse ${da}: ${c} operators`);l&&(X._postrun=[],X.error(l));if(X._postrun.length)for(H=X._postrun.sort((q,w)=>w.priority-q.priority),X._postrun=[],m=0;m<H.length;++m)await bb(X,
H[m].callback);ca&&await bb(X,ca);e.length&&Promise.all(e).then(q=>X.runAsync(null,()=>{q.forEach(w=>{try{w(X)}catch(F){X.error(F)}})}));return X},run:function(H,da,ca){return this._pulse?ya(this):(this.evaluate(H,da,ca),this)},runAsync:async function(H,da,ca){for(;this._running;)await this._running;const X=()=>this._running=null;(this._running=this.evaluate(H,da,ca)).then(X,X);return this._running},runAfter:function(H,da,ca){if(this._pulse||da)this._postrun.push({priority:ca||0,callback:H});else try{H(this)}catch(X){this.error(X)}},
_enqueue:function(H,da){const ca=H.stamp<this._clock;ca&&(H.stamp=this._clock);if(ca||da)H.qrank=H.rank,this._heap.push(H)},_getPulse:function(H,da){const ca=H.source,X=this._clock;return ca&&r.isArray(ca)?new ia(this,X,ca.map(e=>e.pulse),da):this._input[H.id]||ua(this._pulse,ca&&ca.pulse)}};r.inherits(Va,Sa,{run(H){if(H.stamp<this.stamp)return H.StopPropagation;let da;this.skip()?this.skip(!1):da=this.evaluate(H);da=da||H;da.then?da=da.then(ca=>this.pulse=ca):da!==H.StopPropagation&&(this.pulse=
da);return da},evaluate(H){const da=this.marshall(H.stamp);H=this.transform(da,H);da.clear();return H},transform(){}});const Ia={};h.Dataflow=Aa;h.EventStream=ma;h.MultiPulse=ia;h.Operator=Sa;h.Parameters=Ha;h.Pulse=Qa;h.Transform=Va;h.UniqueList=tb;h.asyncCallback=bb;h.changeset=Ka;h.definition=function(H){return(H=I(H))&&H.Definition||null};h.derive=function(H){return Hb(H,wb({}))};h.ingest=wb;h.isChangeSet=hb;h.isTuple=function(H){return!(!H||!H[x])};h.rederive=Hb;h.replace=function(H,da){da[x]=
H[x];return da};h.stableCompare=function(H,da){return H?da?(ca,X)=>H(ca,X)||da(ca)[x]-da(X)[x]:(ca,X)=>H(ca,X)||ca[x]-X[x]:null};h.transform=I;h.transforms=Ia;h.tupleid=function(H){return H[x]};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[30]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(e,c,f){e.fields=c||[];e.fname=f;return e}function z(e){return null==e?null:e.fields}function Ra(e){return 1===e.length?ya(e[0]):ua(e)}function tb(e){throw Error(e);}function bb(e){function c(){f.push(w+e.substring(F,U));w="";F=U+1}const f=
[],l=e.length;let m=null,q=0,w="",F,U,wa;e+="";for(F=U=0;U<l;++U)(wa=e[U],"\\"===wa)?(w+=e.substring(F,U),w+=e.substring(++U,++U),F=U):wa===m?(c(),m=null,q=-1):m||(F===q&&'"'===wa?(F=U+1,m=wa):F===q&&"'"===wa?(F=U+1,m=wa):"."!==wa||q?"["===wa?(U>F&&c(),q=F=U+1):"]"===wa&&(q||tb("Access path missing open bracket: "+e),0<q&&c(),q=0,F=U+1):U>F?c():F=U+1);q&&tb("Access path missing closing bracket: "+e);m&&tb("Access path missing closing quote: "+e);U>F&&(U++,c());return f}function wb(e,c,f){const l=
bb(e);e=1===l.length?l[0]:e;return r((f&&f.get||Ra)(l),[e],c||e)}function Hb(e,c,f){c=[c].concat([].slice.call(f));console[e].apply(console,c)}function hb(e){return e===Object(e)}function Ka(e,c,f,l){if("__proto__"!==c){var m;if(hb(f)&&!x(f))for(m in e=hb(e[c])?e[c]:e[c]={},f)l&&(!0===l||l[m])?Ka(e,m,f[m]):"__proto__"!==m&&(e[m]=f[m]);else e[c]=f}}function Ha(e,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==e)return c;const l={},m=[];c.forEach(f);e.forEach(f);return m}function Sa(e){return e[e.length-
1]}function xa(e){return null==e||""===e?null:+e}function ma(e,c,f,l){const m=f(e[0]);e=f(Sa(e));c*=e-m;return[l(m-c),l(e-c)]}function na(e,c,f,l,m){const q=l(e[0]);e=l(Sa(e));c=null!=c?l(c):(q+e)/2;return[m(c+(q-c)*f),m(c+(e-c)*f)]}function Ba(e){return null!=e?x(e)?e:[e]:[]}function Fa(e){return"function"===typeof e}function la(e){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)e[f]=c[f];return e}function ra(e,c){return da.call(e,c)}function Qa(e){return"[object Date]"===Object.prototype.toString.call(e)}
function za(e){return"number"===typeof e}function Ta(e){return"string"===typeof e}function K(e,c){let f="";for(;0<=--c;)f+=e;return f}function ia(e){return x(e)?"["+e.map(ia)+"]":hb(e)||Ta(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}const ya=e=>function(c){return c[e]},ua=e=>{const c=e.length;return function(f){for(let l=0;l<c;++l)f=f[e[l]];return f}},La=wb("id"),Oa=r(e=>e,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const L=e=>c=>e*Math.exp(c),J=e=>c=>Math.log(e*c),B=e=>c=>Math.sign(c)*Math.log1p(Math.abs(c/e)),R=e=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*e,aa=e=>c=>0>c?-Math.pow(-c,e):Math.pow(c,e),ea=(e,c)=>(e<c||null==e)&&null!=c?-1:(e>c||null==c)&&null!=e?1:(c=c instanceof Date?+c:c,e=e instanceof Date?+e:e)!==e&&c===c?-1:c!==c&&e===e?1:0,Ca=(e,c)=>1===e.length?Ia(e[0],c[0]):H(e,c,e.length),Ia=(e,c)=>function(f,l){return ea(e(f),e(l))*c},H=(e,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=e[w],q=ea(q(l),q(m));return q*c[w]}},da=Object.prototype.hasOwnProperty,ca={},X=e=>za(e)?e:Qa(e)?e:Date.parse(e);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=z;h.accessorName=function(e){return null==e?null:e.fname};h.array=Ba;h.ascending=ea;h.clampRange=function(e,c,f){let l=e[0];e=e[1];let m;e<l&&(m=e,e=l,l=m);m=e-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(e,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Ca;Ba(e).forEach((F,U)=>{null!=F&&(l.push("descending"===c[U]?-1:1),m.push(F=Fa(F)?F:wb(F,null,f)),(z(F)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(e){return Fa(e)?e:()=>e};h.debounce=function(e,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),e)}};h.error=tb;h.extend=la;h.extent=function(e,c){let f=0,l,m,q,w;if(e&&(l=e.length))if(null==c){for(m=e[f];f<l&&(null==m||m!==m);m=e[++f]);for(q=w=m;f<
l;++f)m=e[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(e[f]);f<l&&(null==m||m!==m);m=c(e[++f]));for(q=w=m;f<l;++f)m=c(e[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(e,c){const f=e.length;let l=-1,m,q,w,F,U;if(null==c){for(;++l<f;)if(q=e[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=e[l],null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(e[l],l,e),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=c(e[l],l,e),
null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}return[F,U]};h.falsy=I;h.fastmap=function(e){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const F in f){const U=f[F];U===ca||l&&l(U)||(q[F]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};e&&Object.keys(e).forEach(q=>{m.set(q,e[q])});return m};h.field=wb;h.flush=function(e,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=e[0],F=Sa(e);F<w&&(e=w,w=F,F=e);e=Math.abs(c-w);c=Math.abs(F-c);return e<c&&e<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=La;h.identity=Oa;h.inherits=function(e,c,f){c=e.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(e,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=e:m<e)&&(void 0===l||l?e<=c:e<c)};h.isArray=x;h.isBoolean=function(e){return"boolean"===typeof e};h.isDate=Qa;h.isFunction=Fa;h.isIterable=function(e){return e&&Fa(e[Symbol.iterator])};h.isNumber=za;h.isObject=hb;h.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};h.isString=Ta;h.key=function(e,c,f){e&&(e=c?Ba(e).map(q=>q.replace(/\\(.)/g,"$1")):Ba(e));const l=e&&e.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(e[0]);f=function(w){return""+q(w)}}else{const q=e.map(f);f=function(w){let F=""+q[0](w),U=0;for(;++U<l;)F+="|"+q[U](w);return F}}else f=function(){return""};return r(f,e,"key")};h.lerp=function(e,c){const f=e[0];e=Sa(e);return(c=+c)?1===c?e:f+c*(e-f):f};h.logger=function(e,c){let f=e||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Hb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Hb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Hb(c||"log","INFO",arguments);return this},debug(){4<=f&&Hb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(e){e=+e||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,F)=>{++l>e&&(f=c,c={},l=1);return c[w]=F};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,F)=>ra(c,w)?c[w]=F:q(w,F)}};h.merge=function(e,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,F=0,U=0;for(;w<m&&F<q;++U)l[U]=0<e(c[w],
f[F])?f[F++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;F<q;++F,++U)l[U]=f[F];return l};h.mergeConfig=function(...e){return e.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ha(c.signals,f.signals):Ka(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(e,c,f,l){f=f||" ";e+="";c-=e.length;return 0>=c?e:"left"===l?K(f,c)+e:"center"===l?K(f,~~(c/2))+e+K(f,Math.ceil(c/2)):e+K(f,c)};h.panLinear=function(e,c){return ma(e,c,xa,Oa)};h.panLog=function(e,c){var f=
Math.sign(e[0]);return ma(e,c,J(f),L(f))};h.panPow=function(e,c,f){return ma(e,c,aa(f),aa(1/f))};h.panSymlog=function(e,c,f){return ma(e,c,B(f),R(f))};h.peek=Sa;h.quarter=function(e){return 1+~~((new Date(e)).getMonth()/3)};h.repeat=K;h.span=function(e){return e&&Sa(e)-e[0]||0};h.splitAccessPath=bb;h.stringValue=ia;h.toBoolean=function(e){return null==e||""===e?null:e&&"false"!==e&&"0"!==e?!!e:!1};h.toDate=function(e,c){c=c||X;return null==e||""===e?null:c(e)};h.toNumber=xa;h.toSet=function(e){const c=
{},f=e.length;for(let l=0;l<f;++l)c[e[l]]=!0;return c};h.toString=function(e){return null==e||""===e?null:e+""};h.truncate=function(e,c,f,l){l=null!=l?l:"…";e+="";const m=e.length,q=Math.max(0,c-l.length);return m<=c?e:"left"===f?l+e.slice(m-q):"center"===f?e.slice(0,Math.ceil(q/2))+l+e.slice(m-~~(q/2)):e.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(e){return 1+~~((new Date(e)).getUTCMonth()/3)};h.visitArray=function(e,c,f){if(e)if(c){const l=e.length;for(let m=0;m<l;++m){const q=c(e[m]);q&&f(q,
m,e)}}else e.forEach(f)};h.writeConfig=Ka;h.zero=Aa;h.zoomLinear=function(e,c,f){return na(e,c,f,xa,Oa)};h.zoomLog=function(e,c,f){const l=Math.sign(e[0]);return na(e,c,f,J(l),L(l))};h.zoomPow=function(e,c,f,l){return na(e,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(e,c,f,l){return na(e,c,f,B(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[31]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(18)):"function"===typeof define&&define.amd?define(["exports","d3-array"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.d3))})(this,function(h,r){function*z(x,L){if(null==L)for(var J of x)null!=J&&""!==J&&(J=+J)>=J&&(yield J);else{J=-1;for(let B of x)B=L(B,++J,x),null!=B&&""!==B&&(B=+B)>=B&&(yield B)}}function Ra(x,L,J){const B=Float64Array.from(z(x,J));B.sort(r.ascending);
return L.map(R=>r.quantileSorted(B,R))}function tb(x,L){return Ra(x,[.25,.5,.75],L)}function bb(x,L){const J=x.length,B=r.deviation(x,L);x=tb(x,L);return 1.06*(Math.min(B,(x[2]-x[0])/1.34)||B||Math.abs(x[0])||1)*Math.pow(J,-.2)}function wb(x,L){const J=x.length;let B=0,R=1,aa,ea;for(;x[B]===x[R];)++R;for(;R<J;){for(aa=R+1;x[R]===x[aa];)++aa;if(x[R]-x[R-1]<L){for(ea=R+(B+aa-R-R>>1);ea<R;)x[ea++]=x[R];for(;ea>R;)x[ea--]=x[B]}B=R;R=aa}return x}function Hb(x,L){x=x||0;L=null==L?1:L;let J,B;if(Va===Va)J=
Va,Va=NaN;else{do{J=2*h.random()-1;B=2*h.random()-1;var R=J*J+B*B}while(0===R||1<R);R=Math.sqrt(-2*Math.log(R)/R);J*=R;Va=B*R}return x+J*L}function hb(x,L,J){J=null==J?1:J;x=(x-(L||0))/J;return Math.exp(-.5*x*x)/(J*Aa)}function Ka(x,L,J){x=(x-(L||0))/(null==J?1:J);L=Math.abs(x);37<L?J=0:(J=Math.exp(-L*L/2),7.07106781186547>L?(J*=(((((.0352624965998911*L+.700383064443688)*L+6.37396220353165)*L+33.912866078383)*L+112.079291497871)*L+221.213596169931)*L+220.206867912376,J/=((((((.0883883476483184*L+
1.75566716318264)*L+16.064177579207)*L+86.7807322029461)*L+296.564248779674)*L+637.333633378831)*L+793.826512519948)*L+440.413735824752):J=J/(L+1/(L+2/(L+3/(L+4/(L+.65)))))/2.506628274631);return 0<x?1-J:J}function Ha(x,L,J){if(0>x||1<x)return NaN;x=2*x-1;var B=-Math.log((1-x)*(1+x));6.25>B?(B-=3.125,B=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+
(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B):16>B?(B=Math.sqrt(B)-3.25,B=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+
(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B):Number.isFinite(B)?(B=Math.sqrt(B)-5,B=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+
(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B):B=Infinity;return(L||0)+(null==J?1:J)*ab*B*x}function Sa(x,L){let J,B;const R={mean(aa){return arguments.length?(J=aa||0,R):J},stdev(aa){return arguments.length?
(B=null==aa?1:aa,R):B},sample:()=>Hb(J,B),pdf:aa=>hb(aa,J,B),cdf:aa=>Ka(aa,J,B),icdf:aa=>Ha(aa,J,B)};return R.mean(x).stdev(L)}function xa(x,L){L=null==L?1:L;return Math.exp((x||0)+Hb()*L)}function ma(x,L,J){if(0>=x)return 0;J=null==J?1:J;L=(Math.log(x)-(L||0))/J;return Math.exp(-.5*L*L)/(J*Aa*x)}function na(x,L,J){return Ka(Math.log(x),L,J)}function Ba(x,L,J){return Math.exp(Ha(x,L,J))}function Fa(x,L){null==L&&(L=null==x?1:x,x=0);return x+(L-x)*h.random()}function la(x,L,J){null==J&&(J=null==L?
1:L,L=0);return x>=L&&x<=J?1/(J-L):0}function ra(x,L,J){null==J&&(J=null==L?1:L,L=0);return x<L?0:x>J?1:(x-L)/(J-L)}function Qa(x,L,J){null==J&&(J=null==L?1:L,L=0);return 0<=x&&1>=x?L+x*(J-L):NaN}function za(x,L,J,B){B-=x*x;J=1E-24>Math.abs(B)?0:(J-x*L)/B;return[L-J*x,J]}function Ta(x,L,J,B){x=x.filter(ca=>{let X=L(ca);ca=J(ca);return null!=X&&(X=+X)>=X&&null!=ca&&(ca=+ca)>=ca});B&&x.sort((ca,X)=>L(ca)-L(X));B=x.length;const R=new Float64Array(B),aa=new Float64Array(B);let ea=0,Ca=0,Ia=0,H,da;for(da of x)R[ea]=
x=+L(da),aa[ea]=H=+J(da),++ea,Ca+=(x-Ca)/ea,Ia+=(H-Ia)/ea;for(ea=0;ea<B;++ea)R[ea]-=Ca,aa[ea]-=Ia;return[R,aa,Ca,Ia]}function K(x,L,J,B){let R=-1,aa;for(const ea of x)x=L(ea),aa=J(ea),null!=x&&(x=+x)>=x&&null!=aa&&(aa=+aa)>=aa&&B(x,aa,++R)}function ia(x,L,J,B,R){let aa=0,ea=0;K(x,L,J,(Ca,Ia)=>{Ca=Ia-R(Ca);Ia-=B;aa+=Ca*Ca;ea+=Ia*Ia});return 1-aa/ea}function ya(x,L,J){let B=0,R=0,aa=0,ea=0,Ca=0;K(x,L,J,(da,ca)=>{++Ca;B+=(da-B)/Ca;R+=(ca-R)/Ca;aa+=(da*ca-aa)/Ca;ea+=(da*da-ea)/Ca});const Ia=za(B,R,aa,
ea),H=da=>Ia[0]+Ia[1]*da;return{coef:Ia,predict:H,rSquared:ia(x,L,J,R,H)}}function ua(x,L,J){const [B,R,aa,ea]=Ta(x,L,J);var Ca=B.length,Ia=0;let H=0;var da=0;let ca=0,X=0,e,c,f,l;for(e=0;e<Ca;)c=B[e],f=R[e++],l=c*c,Ia+=(l-Ia)/e,H+=(l*c-H)/e,da+=(l*l-da)/e,ca+=(c*f-ca)/e,X+=(l*f-X)/e;Ca=da-Ia*Ia;da=Ia*Ca-H*H;const m=(X*Ia-ca*H)/da,q=(ca*Ca-X*H)/da,w=-m*Ia;Ia=F=>{F-=aa;return m*F*F+q*F+w+ea};return{coef:[w-q*aa+m*aa*aa+ea,q-2*m*aa,m],predict:Ia,rSquared:ia(x,L,J,ea,Ia)}}function La(x,L,J,B){const R=
Array(x);let aa,ea,Ca;for(aa=0;aa<x;++aa)R[aa]=0;for(aa=x-1;0<=aa;--aa)for(ea=L[aa],Ca=1,R[aa]+=ea,x=1;x<=aa;++x)Ca*=(aa+1-x)/x,R[aa-x]+=ea*Math.pow(J,x)*Ca;R[0]+=B;return R}function Oa(x){const L=x.length-1,J=[];let B,R,aa,ea,Ca;for(B=0;B<L;++B){ea=B;for(R=B+1;R<L;++R)Math.abs(x[B][R])>Math.abs(x[B][ea])&&(ea=R);for(aa=B;aa<L+1;++aa)Ca=x[aa][B],x[aa][B]=x[aa][ea],x[aa][ea]=Ca;for(R=B+1;R<L;++R)for(aa=L;aa>=B;aa--)x[aa][R]-=x[aa][B]*x[B][R]/x[B][B]}for(R=L-1;0<=R;--R){Ca=0;for(aa=R+1;aa<L;++aa)Ca+=
x[aa][R]*J[aa];J[R]=(x[L][R]-Ca)/x[R][R]}return J}h.random=Math.random;const Aa=Math.sqrt(2*Math.PI),ab=Math.SQRT2;let Va=NaN;const I=.1*Math.PI/180;h.bandwidthNRD=bb;h.bin=function(x){var L=x.maxbins||20;const J=x.base||10,B=Math.log(J),R=x.divide||[5,2];let aa=x.extent[0],ea=x.extent[1];let Ca,Ia,H,da;const ca=x.span||ea-aa||Math.abs(aa)||1;if(x.step)var X=x.step;else if(x.steps){Ia=ca/L;H=0;for(da=x.steps.length;H<da&&x.steps[H]<Ia;++H);X=x.steps[Math.max(0,H-1)]}else{X=Math.ceil(Math.log(L)/B);
Ca=x.minstep||0;for(X=Math.max(Ca,Math.pow(J,Math.round(Math.log(ca)/B)-X));Math.ceil(ca/X)>L;)X*=J;H=0;for(da=R.length;H<da;++H)Ia=X/R[H],Ia>=Ca&&ca/Ia<=L&&(X=Ia)}Ia=Math.log(X);L=Math.pow(J,-(0<=Ia?0:~~(-Ia/B)+1)-1);if(x.nice||void 0===x.nice)Ia=Math.floor(aa/X+L)*X,aa=aa<Ia?Ia-X:Ia,ea=Math.ceil(ea/X)*X;return{start:aa,stop:ea===aa?aa+X:ea,step:X}};h.bootstrapCI=function(x,L,J,B){if(!x.length)return[void 0,void 0];x=Float64Array.from(z(x,B));B=x.length;let R,aa,ea,Ca;ea=0;for(Ca=Array(L);ea<L;++ea){for(aa=
R=0;aa<B;++aa)R+=x[~~(h.random()*B)];Ca[ea]=R/B}Ca.sort(r.ascending);return[r.quantile(Ca,J/2),r.quantile(Ca,1-J/2)]};h.cumulativeLogNormal=na;h.cumulativeNormal=Ka;h.cumulativeUniform=ra;h.densityLogNormal=ma;h.densityNormal=hb;h.densityUniform=la;h.dotbin=function(x,L,J,B){B=B||(X=>X);const R=x.length,aa=new Float64Array(R);let ea=0,Ca=1,Ia=B(x[0]),H=Ia,da=Ia+L,ca;for(;Ca<R;++Ca){ca=B(x[Ca]);if(ca>=da){for(H=(Ia+H)/2;ea<Ca;++ea)aa[ea]=H;da=ca+L;Ia=ca}H=ca}for(H=(Ia+H)/2;ea<Ca;++ea)aa[ea]=H;return J?
wb(aa,L+L/4):aa};h.quantileLogNormal=Ba;h.quantileNormal=Ha;h.quantileUniform=Qa;h.quantiles=Ra;h.quartiles=tb;h.randomInteger=function(x,L){null==L&&(L=x,x=0);let J,B,R;const aa={min(ea){return arguments.length?(J=ea||0,R=B-J,aa):J},max(ea){return arguments.length?(B=ea||0,R=B-J,aa):B},sample(){return J+Math.floor(R*h.random())},pdf(ea){return ea===Math.floor(ea)&&ea>=J&&ea<B?1/R:0},cdf(ea){ea=Math.floor(ea);return ea<J?0:ea>=B?1:(ea-J+1)/R},icdf(ea){return 0<=ea&&1>=ea?J-1+Math.floor(ea*R):NaN}};
return aa.min(x).max(L)};h.randomKDE=function(x,L){const J=Sa();let B=0;const R={data(aa){return arguments.length?(B=(x=aa)?aa.length:0,R.bandwidth(L)):x},bandwidth(aa){if(!arguments.length)return L;L=aa;!L&&x&&(L=bb(x));return R},sample(){return x[~~(h.random()*B)]+L*J.sample()},pdf(aa){let ea=0,Ca=0;for(;Ca<B;++Ca)ea+=J.pdf((aa-x[Ca])/L);return ea/L/B},cdf(aa){let ea=0,Ca=0;for(;Ca<B;++Ca)ea+=J.cdf((aa-x[Ca])/L);return ea/B},icdf(){throw Error("KDE icdf not supported.");}};return R.data(x)};h.randomLCG=
function(x){return function(){x=(1103515245*x+12345)%2147483647;return x/2147483647}};h.randomLogNormal=function(x,L){let J,B;const R={mean(aa){return arguments.length?(J=aa||0,R):J},stdev(aa){return arguments.length?(B=null==aa?1:aa,R):B},sample:()=>xa(J,B),pdf:aa=>ma(aa,J,B),cdf:aa=>na(aa,J,B),icdf:aa=>Ba(aa,J,B)};return R.mean(x).stdev(L)};h.randomMixture=function(x,L){let J=0,B;const R={weights(aa){if(arguments.length){var ea=L=aa||[];const Ca=[];let Ia=0,H;for(H=0;H<J;++H)Ia+=Ca[H]=null==ea[H]?
1:+ea[H];for(H=0;H<J;++H)Ca[H]/=Ia;B=Ca;return R}return L},distributions(aa){return arguments.length?(aa?(J=aa.length,x=aa):(J=0,x=[]),R.weights(L)):x},sample(){const aa=h.random();let ea=x[J-1],Ca=B[0],Ia=0;for(;Ia<J-1;Ca+=B[++Ia])if(aa<Ca){ea=x[Ia];break}return ea.sample()},pdf(aa){let ea=0,Ca=0;for(;Ca<J;++Ca)ea+=B[Ca]*x[Ca].pdf(aa);return ea},cdf(aa){let ea=0,Ca=0;for(;Ca<J;++Ca)ea+=B[Ca]*x[Ca].cdf(aa);return ea},icdf(){throw Error("Mixture icdf not supported.");}};return R.distributions(x).weights(L)};
h.randomNormal=Sa;h.randomUniform=function(x,L){let J,B;const R={min(aa){return arguments.length?(J=aa||0,R):J},max(aa){return arguments.length?(B=null==aa?1:aa,R):B},sample:()=>Fa(J,B),pdf:aa=>la(aa,J,B),cdf:aa=>ra(aa,J,B),icdf:aa=>Qa(aa,J,B)};null==L&&(L=null==x?1:x,x=0);return R.min(x).max(L)};h.regressionExp=function(x,L,J){const [B,,R,aa]=Ta(x,L,J);let ea=0,Ca=0,Ia=0,H=0,da=0,ca,X,e;K(x,L,J,(m,q)=>{ca=B[da++];X=Math.log(q);e=ca*q;ea+=(q*X-ea)/da;Ca+=(e-Ca)/da;Ia+=(e*X-Ia)/da;H+=(ca*e-H)/da});
const [c,f]=za(Ca/aa,ea/aa,Ia/aa,H/aa),l=m=>Math.exp(c+f*(m-R));return{coef:[Math.exp(c-f*R),f],predict:l,rSquared:ia(x,L,J,aa,l)}};h.regressionLinear=ya;h.regressionLoess=function(x,L,J,B){const [R,aa,ea,Ca]=Ta(x,L,J,!0);x=R.length;L=Math.max(2,~~(B*x));B=new Float64Array(x);J=new Float64Array(x);var Ia=(new Float64Array(x)).fill(1);for(var H=-1;2>=++H;){var da=[0,L-1];for(let w=0;w<x;++w){var ca=R[w],X=da[0],e=da[1],c=0,f=0,l=0,m=0;let F=0;const U=1/Math.abs(R[ca-R[X]>R[e]-ca?X:e]-ca||1);for(;X<=
e;++X){const gb=R[X],Y=aa[X];var q=Math.abs(ca-gb)*U;const ta=(q=1-q*q*q)*q*q*Ia[X];q=gb*ta;c+=ta;f+=q;l+=Y*ta;m+=Y*q;F+=gb*q}const [wa,cb]=za(f/c,l/c,m/c,F/c);B[w]=wa+cb*ca;J[w]=Math.abs(aa[w]-B[w]);ca=R;e=w+1;c=da;f=ca[e];l=c[0];m=c[1]+1;if(!(m>=ca.length))for(;e>l&&ca[m]-f<=f-ca[l];)c[0]=++l,c[1]=m,++m}if(2===H)break;da=r.median(J);if(1E-12>Math.abs(da))break;for(let w=0,F,U;w<x;++w)F=J[w]/(6*da),Ia[w]=1<=F?1E-12:(U=1-F*F)*U}x=R.length;L=[];Ia=J=0;for(H=[];J<x;++J)da=R[J]+ea,H[0]===da?H[1]+=(B[J]-
H[1])/++Ia:(Ia=0,H[1]+=Ca,H=[da,B[J]],L.push(H));H[1]+=Ca;return L};h.regressionLog=function(x,L,J){let B=0,R=0,aa=0,ea=0,Ca=0;K(x,L,J,(da,ca)=>{++Ca;da=Math.log(da);B+=(da-B)/Ca;R+=(ca-R)/Ca;aa+=(da*ca-aa)/Ca;ea+=(da*da-ea)/Ca});const Ia=za(B,R,aa,ea),H=da=>Ia[0]+Ia[1]*Math.log(da);return{coef:Ia,predict:H,rSquared:ia(x,L,J,R,H)}};h.regressionPoly=function(x,L,J,B){if(1===B)return ya(x,L,J);if(2===B)return ua(x,L,J);const [R,aa,ea,Ca]=Ta(x,L,J);var Ia=R.length;const H=[],da=[],ca=B+1;let X,e,c,f;
for(X=0;X<ca;++X){for(c=e=0;e<Ia;++e)c+=Math.pow(R[e],X)*aa[e];H.push(c);f=new Float64Array(ca);for(B=0;B<ca;++B){for(c=e=0;e<Ia;++e)c+=Math.pow(R[e],X+B);f[B]=c}da.push(f)}da.push(H);const l=Oa(da);Ia=m=>{m-=ea;let q=Ca+l[0]+l[1]*m+l[2]*m*m;for(X=3;X<ca;++X)q+=l[X]*Math.pow(m,X);return q};return{coef:La(ca,l,-ea,Ca),predict:Ia,rSquared:ia(x,L,J,Ca,Ia)}};h.regressionPow=function(x,L,J){let B=0,R=0,aa=0,ea=0,Ca=0,Ia=0;K(x,L,J,(ca,X)=>{ca=Math.log(ca);const e=Math.log(X);++Ia;B+=(ca-B)/Ia;R+=(e-R)/
Ia;aa+=(ca*e-aa)/Ia;ea+=(ca*ca-ea)/Ia;Ca+=(X-Ca)/Ia});const H=za(B,R,aa,ea),da=ca=>H[0]*Math.pow(ca,H[1]);H[0]=Math.exp(H[0]);return{coef:H,predict:da,rSquared:ia(x,L,J,Ca,da)}};h.regressionQuad=ua;h.sampleCurve=function(x,L,J,B){J=J||25;B=Math.max(J,B||200);var R=L[0],aa=L[1],ea=aa-R,Ca=ea/B;L=[[R,x(R)]];var Ia=[];if(J===B){for(var H=1;H<B;++H){Ca=L;Ia=Ca.push;var da=R+H/J*ea;da=[da,x(da)];Ia.call(Ca,da)}L.push([aa,x(aa)]);return L}Ia.push([aa,x(aa)]);for(H=J;0<--H;)B=Ia,aa=B.push,da=R+H/J*ea,da=
[da,x(da)],aa.call(B,da);J=L[0];for(R=Ia[Ia.length-1];R;)ea=(J[0]+R[0])/2,ea=[ea,x(ea)],ea[0]-J[0]>=Ca&&Math.abs(Math.atan2(R[1]-J[1],R[0]-J[0])-Math.atan2(ea[1]-J[1],ea[0]-J[0]))>I?Ia.push(ea):(J=R,L.push(R),Ia.pop()),R=Ia[Ia.length-1];return L};h.sampleLogNormal=xa;h.sampleNormal=Hb;h.sampleUniform=Fa;h.setRandom=function(x){h.random=x};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[32]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(30),Qb(29),Qb(31),Qb(18),Qb(21)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.d3,h.vega))})(this,function(h,r,z,Ra,tb,bb){function wb(M){return oa=>{const $a=M.length;let ub=1,Gb=String(M[0](oa));for(;ub<$a;++ub)Gb+="|"+
M[ub](oa);return Gb}}function Hb(M){return M&&M.length?1===M.length?M[0]:wb(M):function(){return""}}function hb(M,oa){return $a=>r.extend({name:M,out:$a||M},zd,oa)}function Ka(M,oa){return M.idx-oa.idx}function Ha(M){const oa={};M.forEach(ub=>oa[ub.name]=ub);const $a=ub=>{ub.req&&ub.req.forEach(Gb=>{oa[Gb]||$a(oa[Gb]=Rd[Gb]())})};M.forEach($a);return Object.values(oa).sort(Ka)}function Sa(){this.missing=this.valid=0;this._ops.forEach(M=>M.init(this))}function xa(M,oa){null==M||""===M?++this.missing:
M===M&&(++this.valid,this._ops.forEach($a=>$a.add(this,M,oa)))}function ma(M,oa){null==M||""===M?--this.missing:M===M&&(--this.valid,this._ops.forEach($a=>$a.rem(this,M,oa)))}function na(M){this._out.forEach(oa=>M[oa.out]=oa.value(this));return M}function Ba(M,oa){function $a(Ib){this._ops=ub;this._out=Gb;this.cell=Ib;this.init()}oa=oa||r.identity;const ub=Ha(M),Gb=M.slice().sort(Ka);$a.prototype.init=Sa;$a.prototype.add=xa;$a.prototype.rem=ma;$a.prototype.set=na;$a.prototype.get=oa;$a.fields=M.map(Ib=>
Ib.out);return $a}function Fa(M){this._key=M?r.field(M):z.tupleid;this.reset()}function la(M){z.Transform.call(this,null,M);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function ra(M){z.Transform.call(this,null,M)}function Qa(M,oa,$a){let ub=oa||[],Gb=$a||[],Ib={},bc=0;return{add:Ub=>Gb.push(Ub),remove:Ub=>Ib[M(Ub)]=++bc,size:()=>ub.length,
data:(Ub,sc)=>{bc&&(ub=ub.filter(Cc=>!Ib[M(Cc)]),Ib={},bc=0);sc&&Ub&&ub.sort(Ub);Gb.length&&(ub=Ub?r.merge(Ub,ub,Gb.sort(Ub)):ub.concat(Gb),Gb=[]);return ub}}}function za(M){z.Transform.call(this,[],M)}function Ta(M){z.Operator.call(this,null,K,M)}function K(M){return this.value&&!M.modified()?this.value:r.compare(M.fields,M.orders)}function ia(M){z.Transform.call(this,null,M)}function ya(M){z.Transform.call(this,null,M)}function ua(M,oa){var $a=M["function"];r.hasOwnProperty(Zb,$a)||r.error("Unknown distribution function: "+
$a);$a=Zb[$a]();for(const ub in M)if("field"===ub)$a.data((M.from||oa()).map(M[ub]));else if("distributions"===ub)$a[ub](M[ub].map(Gb=>ua(Gb,oa)));else if("function"===typeof $a[ub])$a[ub](M[ub]);return $a}function La(M){z.Transform.call(this,null,M)}function Oa(M){return()=>M.materialize(M.SOURCE).source}function Aa(M,oa){return M?M.map(($a,ub)=>oa[ub]||r.accessorName($a)):null}function ab(M,oa,$a){const ub=[],Gb=Za=>Za(sc);let Ib,bc,Ub,sc,Cc,va;if(null==oa)ub.push(M.map($a));else for(Ib={},bc=0,
Ub=M.length;bc<Ub;++bc)sc=M[bc],Cc=oa.map(Gb),va=Ib[Cc],va||(Ib[Cc]=va=[],va.dims=Cc,ub.push(va)),va.push($a(sc));return ub}function Va(M){z.Transform.call(this,null,M)}function I(M){z.Operator.call(this,null,x,M);this.modified(!0)}function x(M){const oa=M.expr;return this.value&&!M.modified("expr")?this.value:r.accessor($a=>oa($a,M),r.accessorFields(oa),r.accessorName(oa))}function L(M){z.Transform.call(this,[void 0,void 0],M)}function J(M,oa){z.Operator.call(this,M);this.parent=oa;this.count=0}
function B(M){z.Transform.call(this,{},M);this._keys=r.fastmap();const oa=this._targets=[];oa.active=0;oa.forEach=$a=>{for(let ub=0,Gb=oa.active;ub<Gb;++ub)$a(oa[ub],ub,oa)}}function R(M){z.Operator.call(this,null,aa,M)}function aa(M){return this.value&&!M.modified()?this.value:r.isArray(M.name)?r.array(M.name).map(oa=>r.field(oa)):r.field(M.name,M.as)}function ea(M){z.Transform.call(this,r.fastmap(),M)}function Ca(M){z.Transform.call(this,[],M)}function Ia(M){z.Transform.call(this,[],M)}function H(M){z.Transform.call(this,
null,M)}function da(M){z.Transform.call(this,[],M)}function ca(M){z.Transform.call(this,[],M)}function X(M){var oa=M.method||jb.value;if(null==jb[oa])r.error("Unrecognized imputation method: "+oa);else{if(oa===jb.value){var $a=void 0!==M.value?M.value:0;return()=>$a}return jb[oa]}}function e(M){const oa=M.field;return $a=>$a?oa($a):NaN}function c(M,oa,$a,ub){var Gb=Ac=>Ac(Za),Ib=[];ub=ub?ub.slice():[];var bc={},Ub={},sc,Cc;ub.forEach((Ac,Kc)=>bc[Ac]=Kc+1);var va=0;for(Cc=M.length;va<Cc;++va){var Za=
M[va];var pb=$a(Za);var Sb=bc[pb]||(bc[pb]=ub.push(pb));var uc=(pb=oa?oa.map(Gb):lc)+"";(sc=Ub[uc])||(sc=Ub[uc]=[],Ib.push(sc),sc.values=pb);sc[Sb-1]=Za}Ib.domain=ub;return Ib}function f(M){la.call(this,M)}function l(M){z.Transform.call(this,null,M)}function m(M){z.Operator.call(this,null,q,M)}function q(M){return this.value&&!M.modified()?this.value:r.key(M.fields,M.flat)}function w(M){z.Transform.call(this,[],M);this._pending=null}function F(M){return M.modified("async")&&!(M.modified("values")||
M.modified("url")||M.modified("format"))}function U(M,oa,$a){$a.forEach(z.ingest);oa=oa.fork(oa.NO_FIELDS&oa.NO_SOURCE);oa.rem=M.value;M.value=oa.source=oa.add=$a;M._pending=null;oa.rem.length&&oa.clean(!0);return oa}function wa(M){z.Transform.call(this,{},M)}function cb(M){z.Operator.call(this,null,gb,M)}function gb(M){if(this.value&&!M.modified())return this.value;M=M.extents;const oa=M.length;let $a=Infinity,ub=-Infinity,Gb,Ib;for(Gb=0;Gb<oa;++Gb)Ib=M[Gb],Ib[0]<$a&&($a=Ib[0]),Ib[1]>ub&&(ub=Ib[1]);
return[$a,ub]}function Y(M){z.Operator.call(this,null,ta,M)}function ta(M){return this.value&&!M.modified()?this.value:M.values.reduce((oa,$a)=>oa.concat($a),[])}function G(M){z.Transform.call(this,null,M)}function Q(M){la.call(this,M)}function ka(M,oa){const $a=M.field,ub=M.value,Gb=("count"===M.op?"__count__":M.op)||"sum",Ib=r.accessorFields($a).concat(r.accessorFields(ub)),bc=sb($a,M.limit||0,oa);oa.changed()&&M.set("__pivot__",null,null,!0);return{key:M.key,groupby:M.groupby,ops:bc.map(()=>Gb),
fields:bc.map(Ub=>Da(Ub,$a,ub,Ib)),as:bc.map(Ub=>Ub+""),modified:M.modified.bind(M)}}function Da(M,oa,$a,ub){return r.accessor(Gb=>oa(Gb)===M?$a(Gb):NaN,ub,M+"")}function sb(M,oa,$a){const ub={},Gb=[];$a.visit($a.SOURCE,Ib=>{Ib=M(Ib);ub[Ib]||(ub[Ib]=1,Gb.push(Ib))});Gb.sort(r.ascending);return oa?Gb.slice(0,oa):Gb}function Ya(M){B.call(this,M)}function ob(M){z.Transform.call(this,null,M)}function Na(M){z.Transform.call(this,null,M)}function yb(M){z.Transform.call(this,null,M)}function Fb(M){z.Transform.call(this,
null,M)}function eb(M){z.Transform.call(this,[],M);this.count=0}function Lb(M){z.Transform.call(this,null,M)}function hc(M){z.Transform.call(this,null,M);this.modified(!0)}function Yb(M){z.Transform.call(this,null,M)}function Ic(M){z.Transform.call(this,r.fastmap(),M)}function yc(M){z.Transform.call(this,null,M)}function hd(M,oa,$a,ub){const Gb=gd[M](oa,$a);return{init:Gb.init||r.zero,update:function(Ib,bc){bc[ub]=Gb.next(Ib)}}}function Bd(M){function oa(Sb){r.array(r.accessorFields(Sb)).forEach(uc=>
sc[uc]=1)}const $a=r.array(M.ops),ub=r.array(M.fields),Gb=r.array(M.params),Ib=r.array(M.as),bc=this.outputs=[],Ub=this.windows=[],sc={},Cc={},va=[],Za=[];let pb=!0;oa(M.sort);$a.forEach((Sb,uc)=>{const Ac=ub[uc],Kc=r.accessorName(Ac),Bb=Ib[uc]||Sb+(Kc?"_"+Kc:"");oa(Ac);bc.push(Bb);r.hasOwnProperty(gd,Sb)?Ub.push(hd(Sb,ub[uc],Gb[uc],Bb)):(null==Ac&&"count"!==Sb&&r.error("Null aggregate field specified."),"count"===Sb?va.push(Bb):(pb=!1,uc=Cc[Kc],uc||(uc=Cc[Kc]=[],uc.field=Ac,Za.push(uc)),uc.push(Rd[Sb](Bb))))});
if(va.length||Za.length)this.cell=Gc(Za,va,pb);this.inputs=Object.keys(sc)}function Gc(M,oa,$a){M=M.map(sc=>Ba(sc,sc.field));const ub={num:0,agg:null,store:!1,count:oa};if(!$a)for(var Gb=M.length,Ib=ub.agg=Array(Gb),bc=0;bc<Gb;++bc)Ib[bc]=new M[bc](ub);if(ub.store)var Ub=ub.data=new Fa;ub.add=function(sc){ub.num+=1;if(!$a){Ub&&Ub.add(sc);for(let Cc=0;Cc<Gb;++Cc)Ib[Cc].add(Ib[Cc].get(sc),sc)}};ub.rem=function(sc){--ub.num;if(!$a){Ub&&Ub.rem(sc);for(let Cc=0;Cc<Gb;++Cc)Ib[Cc].rem(Ib[Cc].get(sc),sc)}};
ub.set=function(sc){let Cc,va;Ub&&Ub.values();Cc=0;for(va=oa.length;Cc<va;++Cc)sc[oa[Cc]]=ub.num;if(!$a)for(Cc=0,va=Ib.length;Cc<va;++Cc)Ib[Cc].set(sc)};ub.init=function(){ub.num=0;Ub&&Ub.reset();for(let sc=0;sc<Gb;++sc)Ib[sc].init()};return ub}function jd(M){z.Transform.call(this,{},M);this._mlen=0;this._mods=[]}function fe(M,oa,$a,ub){var Gb=ub.sort;const Ib=Gb&&!ub.ignorePeers;ub=ub.frame||[null,0];M=M.data($a);$a=M.length;const bc=Ib?tb.bisector(Gb):null;Gb={i0:0,i1:0,p0:0,p1:0,index:0,data:M,
compare:Gb||r.constant(-1)};oa.init();for(let Za=0;Za<$a;++Za){var Ub=Gb,sc=ub,Cc=Za,va=$a;Ub.p0=Ub.i0;Ub.p1=Ub.i1;Ub.i0=null==sc[0]?0:Math.max(0,Cc-Math.abs(sc[0]));Ub.i1=null==sc[1]?va:Math.min(va,Cc+Math.abs(sc[1])+1);Ub.index=Cc;if(Ib){Ub=Gb;sc=bc;Cc=Ub.i0;va=Ub.i1-1;const pb=Ub.compare,Sb=Ub.data,uc=Sb.length-1;0<Cc&&!pb(Sb[Cc],Sb[Cc-1])&&(Ub.i0=sc.left(Sb,Sb[Cc]));va<uc&&!pb(Sb[va],Sb[va+1])&&(Ub.i1=sc.right(Sb,Sb[va]))}oa.update(Gb,M[Za])}}var Mc=()=>{};const zd={init:Mc,add:Mc,rem:Mc,idx:0},
Rd={values:{init:M=>M.cell.store=!0,value:M=>M.cell.data.values(),idx:-1},count:{value:M=>M.cell.num},__count__:{value:M=>M.missing+M.valid},missing:{value:M=>M.missing},valid:{value:M=>M.valid},sum:{init:M=>M.sum=0,value:M=>M.sum,add:(M,oa)=>M.sum+=+oa,rem:(M,oa)=>M.sum-=oa},product:{init:M=>M.product=1,value:M=>M.valid?M.product:void 0,add:(M,oa)=>M.product*=oa,rem:(M,oa)=>M.product/=oa},mean:{init:M=>M.mean=0,value:M=>M.valid?M.mean:void 0,add:(M,oa)=>(M.mean_d=oa-M.mean,M.mean+=M.mean_d/M.valid),
rem:(M,oa)=>(M.mean_d=oa-M.mean,M.mean-=M.valid?M.mean_d/M.valid:M.mean)},average:{value:M=>M.valid?M.mean:void 0,req:["mean"],idx:1},variance:{init:M=>M.dev=0,value:M=>1<M.valid?M.dev/(M.valid-1):void 0,add:(M,oa)=>M.dev+=M.mean_d*(oa-M.mean),rem:(M,oa)=>M.dev-=M.mean_d*(oa-M.mean),req:["mean"],idx:1},variancep:{value:M=>1<M.valid?M.dev/M.valid:void 0,req:["variance"],idx:2},stdev:{value:M=>1<M.valid?Math.sqrt(M.dev/(M.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:M=>1<M.valid?Math.sqrt(M.dev/
M.valid):void 0,req:["variance"],idx:2},stderr:{value:M=>1<M.valid?Math.sqrt(M.dev/(M.valid*(M.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:M=>M.cell.data.distinct(M.get),req:["values"],idx:3},ci0:{value:M=>M.cell.data.ci0(M.get),req:["values"],idx:3},ci1:{value:M=>M.cell.data.ci1(M.get),req:["values"],idx:3},median:{value:M=>M.cell.data.q2(M.get),req:["values"],idx:3},q1:{value:M=>M.cell.data.q1(M.get),req:["values"],idx:3},q3:{value:M=>M.cell.data.q3(M.get),req:["values"],idx:3},min:{init:M=>
M.min=void 0,value:M=>M.min=Number.isNaN(M.min)?M.cell.data.min(M.get):M.min,add:(M,oa)=>{if(oa<M.min||void 0===M.min)M.min=oa},rem:(M,oa)=>{oa<=M.min&&(M.min=NaN)},req:["values"],idx:4},max:{init:M=>M.max=void 0,value:M=>M.max=Number.isNaN(M.max)?M.cell.data.max(M.get):M.max,add:(M,oa)=>{if(oa>M.max||void 0===M.max)M.max=oa},rem:(M,oa)=>{oa>=M.max&&(M.max=NaN)},req:["values"],idx:4},argmin:{init:M=>M.argmin=void 0,value:M=>M.argmin||M.cell.data.argmin(M.get),add:(M,oa,$a)=>{oa<M.min&&(M.argmin=$a)},
rem:(M,oa)=>{oa<=M.min&&(M.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:M=>M.argmax=void 0,value:M=>M.argmax||M.cell.data.argmax(M.get),add:(M,oa,$a)=>{oa>M.max&&(M.argmax=$a)},rem:(M,oa)=>{oa>=M.max&&(M.argmax=void 0)},req:["max","values"],idx:3}};Mc=Object.keys(Rd);Mc.forEach(M=>{Rd[M]=hb(M,Rd[M])});var Db=Fa.prototype;Db.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Db.add=function(M){this._add.push(M)};Db.rem=function(M){this._rem.push(M)};Db.values=
function(){this._get=null;if(0===this._rem.length)return this._add;const M=this._add;var oa=this._rem;const $a=this._key,ub=M.length,Gb=oa.length,Ib=Array(ub-Gb),bc={};let Ub,sc;for(Ub=0;Ub<Gb;++Ub)bc[$a(oa[Ub])]=1;for(oa=Ub=0;Ub<ub;++Ub)bc[$a(sc=M[Ub])]?bc[$a(sc)]=0:Ib[oa++]=sc;this._rem=[];return this._add=Ib};Db.distinct=function(M){const oa=this.values(),$a={};let ub=oa.length,Gb=0,Ib;for(;0<=--ub;)Ib=M(oa[ub])+"",r.hasOwnProperty($a,Ib)||($a[Ib]=1,++Gb);return Gb};Db.extent=function(M){if(this._get!==
M||!this._ext){const oa=this.values(),$a=r.extentIndex(oa,M);this._ext=[oa[$a[0]],oa[$a[1]]];this._get=M}return this._ext};Db.argmin=function(M){return this.extent(M)[0]||{}};Db.argmax=function(M){return this.extent(M)[1]||{}};Db.min=function(M){const oa=this.extent(M)[0];return null!=oa?M(oa):void 0};Db.max=function(M){const oa=this.extent(M)[1];return null!=oa?M(oa):void 0};Db.quartile=function(M){this._get===M&&this._q||(this._q=Ra.quartiles(this.values(),M),this._get=M);return this._q};Db.q1=
function(M){return this.quartile(M)[0]};Db.q2=function(M){return this.quartile(M)[1]};Db.q3=function(M){return this.quartile(M)[2]};Db.ci=function(M){this._get===M&&this._ci||(this._ci=Ra.bootstrapCI(this.values(),1E3,.05,M),this._get=M);return this._ci};Db.ci0=function(M){return this.ci(M)[0]};Db.ci1=function(M){return this.ci(M)[1]};la.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Mc},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};r.inherits(la,z.Transform,{transform(M,oa){const $a=this,ub=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS),Gb=M.modified();$a.stamp=ub.stamp;$a.value&&(Gb||oa.modified($a._inputs,!0))?($a._prev=$a.value,$a.value=Gb?$a.init(M):{},oa.visit(oa.SOURCE,Ib=>$a.add(Ib))):($a.value=$a.value||$a.init(M),oa.visit(oa.REM,Ib=>$a.rem(Ib)),
oa.visit(oa.ADD,Ib=>$a.add(Ib)));ub.modifies($a._outputs);$a._drop=!1!==M.drop;M.cross&&1<$a._dims.length&&($a._drop=!1,$a.cross());oa.clean()&&$a._drop&&ub.clean(!0).runAfter(()=>this.clean());return $a.changes(ub)},cross(){function M(Ub){let sc,Cc,va,Za;for(sc in Ub)for(va=Ub[sc].tuple,Cc=0;Cc<bc;++Cc)Ib[Cc][Za=va[Gb[Cc]]]=Za}function oa(Ub,sc,Cc){const va=Gb[Cc],Za=Ib[Cc++];for(const pb in Za){const Sb=Ub?Ub+"|"+pb:pb;sc[va]=Za[pb];Cc<bc?oa(Sb,sc,Cc):ub[Sb]||$a.cell(Sb,sc)}}const $a=this,ub=$a.value,
Gb=$a._dnames,Ib=Gb.map(()=>({})),bc=Gb.length;M($a._prev);M(ub);oa("",{},0)},init(M){function oa(Ac){Ac=r.array(r.accessorFields(Ac));const Kc=Ac.length;let Bb=0,Tb;for(;Bb<Kc;++Bb)Gb[Tb=Ac[Bb]]||(Gb[Tb]=1,$a.push(Tb))}const $a=this._inputs=[],ub=this._outputs=[],Gb={};this._dims=r.array(M.groupby);this._dnames=this._dims.map(Ac=>{const Kc=r.accessorName(Ac);oa(Ac);ub.push(Kc);return Kc});this.cellkey=M.key?M.key:Hb(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Ib=M.fields||
[null],bc=M.ops||["count"];M=M.as||[];const Ub=Ib.length,sc={};let Cc,va,Za,pb,Sb,uc;Ub!==bc.length&&r.error("Unmatched number of fields and aggregate ops.");for(uc=0;uc<Ub;++uc)Cc=Ib[uc],va=bc[uc],null==Cc&&"count"!==va&&r.error("Null aggregate field specified."),pb=r.accessorName(Cc),Sb=M[uc]||va+(pb?"_"+pb:""),ub.push(Sb),"count"===va?this._counts.push(Sb):(Za=sc[pb],Za||(oa(Cc),Za=sc[pb]=[],Za.field=Cc,this._measures.push(Za)),"count"!==va&&(this._countOnly=!1),Za.push(Rd[va](Sb)));this._measures=
this._measures.map(Ac=>Ba(Ac,Ac.field));return{}},cellkey:Hb(),cell(M,oa){let $a=this.value[M];$a?0===$a.num&&this._drop&&$a.stamp<this.stamp?($a.stamp=this.stamp,this._adds[this._alen++]=$a):$a.stamp<this.stamp&&($a.stamp=this.stamp,this._mods[this._mlen++]=$a):($a=this.value[M]=this.newcell(M,oa),this._adds[this._alen++]=$a);return $a},newcell(M,oa){M={key:M,num:0,agg:null,tuple:this.newtuple(oa,this._prev&&this._prev[M]),stamp:this.stamp,store:!1};if(!this._countOnly){oa=this._measures;const $a=
oa.length;M.agg=Array($a);for(let ub=0;ub<$a;++ub)M.agg[ub]=new oa[ub](M)}M.store&&(M.data=new Fa);return M},newtuple(M,oa){const $a=this._dnames,ub=this._dims,Gb=ub.length,Ib={};for(let bc=0;bc<Gb;++bc)Ib[$a[bc]]=ub[bc](M);return oa?z.replace(oa.tuple,Ib):z.ingest(Ib)},clean(){const M=this.value;for(const oa in M)0===M[oa].num&&delete M[oa]},add(M){var oa=this.cellkey(M);oa=this.cell(oa,M);oa.num+=1;if(!this._countOnly){oa.store&&oa.data.add(M);oa=oa.agg;for(let $a=0,ub=oa.length;$a<ub;++$a)oa[$a].add(oa[$a].get(M),
M)}},rem(M){var oa=this.cellkey(M);oa=this.cell(oa,M);--oa.num;if(!this._countOnly){oa.store&&oa.data.rem(M);oa=oa.agg;for(let $a=0,ub=oa.length;$a<ub;++$a)oa[$a].rem(oa[$a].get(M),M)}},celltuple(M){const oa=M.tuple,$a=this._counts;M.store&&M.data.values();for(let ub=0,Gb=$a.length;ub<Gb;++ub)oa[$a[ub]]=M.num;if(!this._countOnly){M=M.agg;for(let ub=0,Gb=M.length;ub<Gb;++ub)M[ub].set(oa)}return oa},changes(M){const oa=this._adds,$a=this._mods;var ub=this._prev;const Gb=this._drop,Ib=M.add,bc=M.rem,
Ub=M.mod;let sc;var Cc;if(ub)for(Cc in ub)sc=ub[Cc],Gb&&!sc.num||bc.push(sc.tuple);ub=0;for(Cc=this._alen;ub<Cc;++ub)Ib.push(this.celltuple(oa[ub])),oa[ub]=null;ub=0;for(Cc=this._mlen;ub<Cc;++ub)sc=$a[ub],(0===sc.num&&Gb?bc:Ub).push(this.celltuple(sc)),$a[ub]=null;this._alen=this._mlen=0;this._prev=null;return M}});ra.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",
type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};r.inherits(ra,z.Transform,{transform(M,
oa){const $a=!1!==M.interval,ub=this._bins(M),Gb=ub.start,Ib=ub.step,bc=M.as||["bin0","bin1"],Ub=bc[0],sc=bc[1];M.modified()?(oa=oa.reflow(!0),M=oa.SOURCE):M=oa.modified(r.accessorFields(M.field))?oa.ADD_MOD:oa.ADD;oa.visit(M,$a?Cc=>{const va=ub(Cc);Cc[Ub]=va;Cc[sc]=null==va?null:Gb+Ib*(1+(va-Gb)/Ib)}:Cc=>Cc[Ub]=ub(Cc));return oa.modifies($a?bc:Ub)},_bins(M){if(this.value&&!M.modified())return this.value;const oa=M.field,$a=Ra.bin(M),ub=$a.step;let Gb=$a.start,Ib=Gb+Math.ceil(($a.stop-Gb)/ub)*ub;
var bc;null!=(bc=M.anchor)&&(bc-=Gb+ub*Math.floor((bc-Gb)/ub),Gb+=bc,Ib+=bc);bc=function(Ub){Ub=r.toNumber(oa(Ub));return null==Ub?null:Ub<Gb?-Infinity:Ub>Ib?Infinity:(Ub=Math.max(Gb,Math.min(Ub,Ib-ub)),Gb+ub*Math.floor(1E-14+(Ub-Gb)/ub))};bc.start=Gb;bc.stop=$a.stop;bc.step=ub;return this.value=r.accessor(bc,r.accessorFields(oa),M.name||"bin_"+r.accessorName(oa))}});za.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};r.inherits(za,z.Transform,{transform(M,oa){const $a=
oa.fork(oa.ALL),ub=Qa(z.tupleid,this.value,$a.materialize($a.ADD).add),Gb=M.sort;M=oa.changed()||Gb&&(M.modified("sort")||oa.modified(Gb.fields));$a.visit($a.REM,ub.remove);this.modified(M);this.value=$a.source=ub.data(z.stableCompare(Gb),M);oa.source&&oa.source.root&&(this.value.root=oa.source.root);return $a}});r.inherits(Ta,z.Operator);ia.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower",
"mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};r.inherits(ia,z.Transform,{transform(M,oa){var $a=va=>Za=>{Za=Ub(Za);var pb=Ib;switch(M.case){case "upper":Za=Za.toUpperCase();break;case "lower":Za=Za.toLowerCase()}Za=Za.match(pb)||[];var Sb;pb=0;for(var uc=Za.length;pb<uc;++pb)bc.test(Sb=Za[pb])||va(Sb)};const ub=this._parameterCheck(M,oa),Gb=this._counts,
Ib=this._match,bc=this._stop,Ub=M.field,sc=M.as||["text","count"],Cc=$a(va=>Gb[va]=1+(Gb[va]||0));$a=$a(va=>--Gb[va]);ub?oa.visit(oa.SOURCE,Cc):(oa.visit(oa.ADD,Cc),oa.visit(oa.REM,$a));return this._finish(oa,sc)},_parameterCheck(M,oa){let $a=!1;if(M.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(M.stopwords||"")+"$","i"),$a=!0;if(M.modified("pattern")||!this._match)this._match=new RegExp(M.pattern||"[\\w']+","g"),$a=!0;if(M.modified("field")||oa.modified(M.field.fields))$a=!0;$a&&
(this._counts={});return $a},_finish(M,oa){const $a=this._counts,ub=this._tuples||(this._tuples={}),Gb=oa[0],Ib=oa[1];M=M.fork(M.NO_SOURCE|M.NO_FIELDS);let bc,Ub,sc;for(bc in $a)Ub=ub[bc],sc=$a[bc]||0,!Ub&&sc?(ub[bc]=Ub=z.ingest({}),Ub[Gb]=bc,Ub[Ib]=sc,M.add.push(Ub)):0===sc?(Ub&&M.rem.push(Ub),$a[bc]=null,ub[bc]=null):Ub[Ib]!==sc&&(Ub[Ib]=sc,M.mod.push(Ub));return M.modifies(oa)}});ya.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,
length:2,"default":["a","b"]}]};r.inherits(ya,z.Transform,{transform(M,oa){const $a=oa.fork(oa.NO_SOURCE),ub=M.as||["a","b"],Gb=ub[0],Ib=ub[1];var bc=!this.value||oa.changed(oa.ADD_REM)||M.modified("as")||M.modified("filter"),Ub=this.value;if(bc){Ub&&($a.rem=Ub);oa=Ub=oa.materialize(oa.SOURCE).source;M=M.filter||r.truthy;bc=[];Ub={};for(var sc=oa.length,Cc=0,va,Za;Cc<sc;++Cc)for(Ub[Gb]=Za=oa[Cc],va=0;va<sc;++va)Ub[Ib]=oa[va],M(Ub)&&(bc.push(z.ingest(Ub)),Ub={},Ub[Gb]=Za);$a.add=this.value=bc}else $a.mod=
Ub;$a.source=this.value;return $a.modifies(ub)}});const Zb={kde:Ra.randomKDE,mixture:Ra.randomMixture,normal:Ra.randomNormal,lognormal:Ra.randomLogNormal,uniform:Ra.randomUniform};Db=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",
type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];La.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",
params:Db.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Db},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};r.inherits(La,z.Transform,{transform(M,oa){const $a=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS);if(!this.value||oa.changed()||M.modified()){const ub=ua(M.distribution,Oa(oa));oa=M.steps||M.minsteps||25;const Gb=M.steps||M.maxsteps||200;let Ib=M.method||"pdf";"pdf"!==Ib&&"cdf"!==Ib&&r.error("Invalid density method: "+
Ib);M.extent||ub.data||r.error("Missing density extent parameter.");Ib=ub[Ib];const bc=M.as||["value","density"];M=M.extent||r.extent(ub.data());M=Ra.sampleCurve(Ib,M,oa,Gb).map(Ub=>{const sc={};sc[bc[0]]=Ub[0];sc[bc[1]]=Ub[1];return z.ingest(sc)});this.value&&($a.rem=this.value);this.value=$a.add=$a.source=M}return $a}});Va.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",
type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};r.inherits(Va,z.Transform,{transform(M,oa){if(this.value&&!M.modified()&&!oa.changed())return oa;var $a=oa.materialize(oa.SOURCE).source;const ub=ab(oa.source,M.groupby,r.identity),Gb=M.smooth||!1,Ib=M.field;$a=M.step||r.span(r.extent($a,Ib))/30;const bc=z.stableCompare((pb,Sb)=>Ib(pb)-Ib(Sb));M=M.as||"bin";const Ub=ub.length;let sc=Infinity,Cc=-Infinity,va=0,Za;for(;va<Ub;++va){const pb=ub[va].sort(bc);Za=-1;for(const Sb of Ra.dotbin(pb,
$a,Gb,Ib))Sb<sc&&(sc=Sb),Sb>Cc&&(Cc=Sb),pb[++Za][M]=Sb}this.value={start:sc,stop:Cc,step:$a};return oa.reflow(!0).modifies(M)}});r.inherits(I,z.Operator);L.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};r.inherits(L,z.Transform,{transform(M,oa){var $a=this.value;const ub=M.field;M=oa.changed()||oa.modified(ub.fields)||M.modified("field");let Gb=$a[0],Ib=$a[1];if(M||null==Gb)Gb=Infinity,Ib=-Infinity;oa.visit(M?oa.SOURCE:oa.ADD,bc=>{bc=r.toNumber(ub(bc));null!=
bc&&(bc<Gb&&(Gb=bc),bc>Ib&&(Ib=bc))});Number.isFinite(Gb)&&Number.isFinite(Ib)||(($a=r.accessorName(ub))&&($a=` for field "${$a}"`),oa.dataflow.warn(`Infinite extent${$a}: [${Gb}, ${Ib}]`),Gb=Ib=void 0);this.value=[Gb,Ib]}});r.inherits(J,z.Operator,{connect(M){this.detachSubflow=M.detachSubflow;this.targets().add(M);return M.source=this},add(M){this.count+=1;this.value.add.push(M)},rem(M){--this.count;this.value.rem.push(M)},mod(M){this.value.mod.push(M)},init(M){this.value.init(M,M.NO_SOURCE)},evaluate(){return this.value}});
r.inherits(B,z.Transform,{activate(M){this._targets[this._targets.active++]=M},subflow(M,oa,$a,ub){const Gb=this.value;let Ib=r.hasOwnProperty(Gb,M)&&Gb[M],bc;Ib?Ib.value.stamp<$a.stamp&&(Ib.init($a),this.activate(Ib)):(bc=ub||(bc=this._group[M])&&bc.tuple,ub=$a.dataflow,Ib=new J($a.fork($a.NO_SOURCE),this),ub.add(Ib).connect(oa(ub,M,bc)),Gb[M]=Ib,this.activate(Ib));return Ib},clean(){var M=this.value;let oa=0;for(const $a in M)if(0===M[$a].count){const ub=M[$a].detachSubflow;ub&&ub();delete M[$a];
++oa}oa&&(M=this._targets.filter($a=>$a&&0<$a.count),this.initTargets(M))},initTargets(M){const oa=this._targets,$a=oa.length,ub=M?M.length:0;let Gb=0;for(;Gb<ub;++Gb)oa[Gb]=M[Gb];for(;Gb<$a&&null!=oa[Gb];++Gb)oa[Gb]=null;oa.active=ub},transform(M,oa){const $a=oa.dataflow,ub=M.key,Gb=M.subflow,Ib=this._keys,bc=M.modified("key"),Ub=sc=>this.subflow(sc,Gb,oa);this._group=M.group||{};this.initTargets();oa.visit(oa.REM,sc=>{const Cc=z.tupleid(sc),va=Ib.get(Cc);void 0!==va&&(Ib.delete(Cc),Ub(va).rem(sc))});
oa.visit(oa.ADD,sc=>{const Cc=ub(sc);Ib.set(z.tupleid(sc),Cc);Ub(Cc).add(sc)});bc||oa.modified(ub.fields)?oa.visit(oa.MOD,sc=>{const Cc=z.tupleid(sc),va=Ib.get(Cc),Za=ub(sc);va===Za?Ub(Za).mod(sc):(Ib.set(Cc,Za),Ub(va).rem(sc),Ub(Za).add(sc))}):oa.changed(oa.MOD)&&oa.visit(oa.MOD,sc=>{Ub(Ib.get(z.tupleid(sc))).mod(sc)});bc&&oa.visit(oa.REFLOW,sc=>{const Cc=z.tupleid(sc),va=Ib.get(Cc),Za=ub(sc);va!==Za&&(Ib.set(Cc,Za),Ub(va).rem(sc),Ub(Za).add(sc))});oa.clean()?$a.runAfter(()=>{this.clean();Ib.clean()}):
Ib.empty>$a.cleanThreshold&&$a.runAfter(Ib.clean);return oa}});r.inherits(R,z.Operator);ea.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};r.inherits(ea,z.Transform,{transform(M,oa){function $a(Za){const pb=z.tupleid(Za),Sb=Cc(Za,M),uc=Gb.get(pb);Sb&&uc?(Gb.delete(pb),bc.push(Za)):Sb||uc?va&&Sb&&!uc&&sc.push(Za):(Gb.set(pb,1),Ub.push(Za))}const ub=oa.dataflow,Gb=this.value,Ib=oa.fork(),bc=Ib.add,Ub=Ib.rem,sc=Ib.mod,Cc=M.expr;let va=!0;oa.visit(oa.REM,
Za=>{const pb=z.tupleid(Za);Gb.has(pb)?Gb.delete(pb):Ub.push(Za)});oa.visit(oa.ADD,Za=>{Cc(Za,M)?bc.push(Za):Gb.set(z.tupleid(Za),1)});oa.visit(oa.MOD,$a);M.modified()&&(va=!1,oa.visit(oa.REFLOW,$a));Gb.empty>ub.cleanThreshold&&ub.runAfter(Gb.clean);return Ib}});Ca.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};r.inherits(Ca,z.Transform,{transform(M,oa){const $a=oa.fork(oa.NO_SOURCE),
ub=M.fields,Gb=Aa(ub,M.as||[]),Ib=M.index||null,bc=Gb.length;$a.rem=this.value;oa.visit(oa.SOURCE,Ub=>{const sc=ub.map(uc=>uc(Ub)),Cc=sc.reduce((uc,Ac)=>Math.max(uc,Ac.length),0);let va=0,Za,pb,Sb;for(;va<Cc;++va){pb=z.derive(Ub);for(Za=0;Za<bc;++Za)pb[Gb[Za]]=null==(Sb=sc[Za][va])?null:Sb;Ib&&(pb[Ib]=va);$a.add.push(pb)}});this.value=$a.source=$a.add;Ib&&$a.modifies(Ib);return $a.modifies(Gb)}});Ia.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},
{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};r.inherits(Ia,z.Transform,{transform(M,oa){const $a=oa.fork(oa.NO_SOURCE),ub=M.fields,Gb=ub.map(r.accessorName);M=M.as||["key","value"];const Ib=M[0],bc=M[1],Ub=ub.length;$a.rem=this.value;oa.visit(oa.SOURCE,sc=>{for(let Cc=0,va;Cc<Ub;++Cc)va=z.derive(sc),va[Ib]=Gb[Cc],va[bc]=ub[Cc](sc),$a.add.push(va)});this.value=$a.source=$a.add;return $a.modifies(M)}});H.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",
type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};r.inherits(H,z.Transform,{transform(M,oa){const $a=M.expr,ub=M.as,Gb=M.modified(),Ib=M.initonly?oa.ADD:Gb?oa.SOURCE:oa.modified($a.fields)||oa.modified(ub)?oa.ADD_MOD:oa.ADD;Gb&&(oa=oa.materialize().reflow(!0));M.initonly||oa.modifies(ub);return oa.visit(Ib,bc=>bc[ub]=$a(bc,M))}});r.inherits(da,z.Transform,{transform(M,oa){oa=oa.fork(oa.ALL);const $a=M.generator;let ub=this.value,Gb=M.size-ub.length,
Ib,bc;if(0<Gb){for(Ib=[];0<=--Gb;)Ib.push(bc=z.ingest($a(M))),ub.push(bc);oa.add=oa.add.length?oa.materialize(oa.ADD).add.concat(Ib):Ib}else M=ub.slice(0,-Gb),oa.rem=oa.rem.length?oa.materialize(oa.REM).rem.concat(M):M,ub=ub.slice(-Gb);oa.source=this.value=ub;return oa}});const jb={value:"value",median:tb.median,mean:tb.mean,min:tb.min,max:tb.max},lc=[];ca.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",
array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};r.inherits(ca,z.Transform,{transform(M,oa){var $a=oa.fork(oa.ALL),ub=X(M),Gb=e(M),Ib=r.accessorName(M.field),bc=r.accessorName(M.key),Ub=(M.groupby||[]).map(r.accessorName);M=c(oa.source,M.groupby,M.key,M.keyvals);oa=[];var sc=this.value,Cc=M.domain.length,va,Za,pb;var Sb=0;for(Za=M.length;Sb<Za;++Sb){var uc=M[Sb];var Ac=uc.values;
var Kc=NaN;for(va=0;va<Cc;++va)if(null==uc[va]){var Bb=M.domain[va];var Tb={_impute:!0};var kc=0;for(pb=Ac.length;kc<pb;++kc)Tb[Ub[kc]]=Ac[kc];Tb[bc]=Bb;Tb[Ib]=Number.isNaN(Kc)?Kc=ub(uc,Gb):Kc;oa.push(z.ingest(Tb))}}oa.length&&($a.add=$a.materialize($a.ADD).add.concat(oa));sc.length&&($a.rem=$a.materialize($a.REM).rem.concat(sc));this.value=oa;return $a}});f.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,
array:!0},{name:"ops",type:"enum",array:!0,values:Mc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};r.inherits(f,la,{transform(M,oa){const $a=this,ub=M.modified();let Gb;$a.value&&(ub||oa.modified($a._inputs,!0))?(Gb=$a.value=ub?$a.init(M):{},oa.visit(oa.SOURCE,Ib=>$a.add(Ib))):(Gb=$a.value=$a.value||this.init(M),oa.visit(oa.REM,Ib=>$a.rem(Ib)),oa.visit(oa.ADD,Ib=>$a.add(Ib)));$a.changes();oa.visit(oa.SOURCE,Ib=>{r.extend(Ib,Gb[$a.cellkey(Ib)].tuple)});return oa.reflow(ub).modifies(this._outputs)},
changes(){const M=this._adds,oa=this._mods;let $a,ub;$a=0;for(ub=this._alen;$a<ub;++$a)this.celltuple(M[$a]),M[$a]=null;$a=0;for(ub=this._mlen;$a<ub;++$a)this.celltuple(oa[$a]),oa[$a]=null;this._alen=this._mlen=0}});l.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",
type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};r.inherits(l,z.Transform,{transform(M,oa){const $a=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS);if(!this.value||oa.changed()||M.modified()){oa=oa.materialize(oa.SOURCE).source;const ub=ab(oa,M.groupby,M.field),
Gb=(M.groupby||[]).map(r.accessorName),Ib=M.bandwidth,bc=M.cumulative?"cdf":"pdf",Ub=M.as||["value","density"],sc=[];let Cc=M.extent,va=M.steps||M.minsteps||25,Za=M.steps||M.maxsteps||200;"pdf"!==bc&&"cdf"!==bc&&r.error("Invalid density method: "+bc);"shared"===M.resolve&&(Cc||(Cc=r.extent(oa,M.field)),va=Za=M.steps||Za);ub.forEach(pb=>{const Sb=Ra.randomKDE(pb,Ib)[bc],uc=M.counts?pb.length:1,Ac=Cc||r.extent(pb);Ra.sampleCurve(Sb,Ac,va,Za).forEach(Kc=>{const Bb={};for(let Tb=0;Tb<Gb.length;++Tb)Bb[Gb[Tb]]=
pb.dims[Tb];Bb[Ub[0]]=Kc[0];Bb[Ub[1]]=Kc[1]*uc;sc.push(z.ingest(Bb))})});this.value&&($a.rem=this.value);this.value=$a.add=$a.source=sc}return $a}});r.inherits(m,z.Operator);r.inherits(w,z.Transform,{transform(M,oa){const $a=oa.dataflow;return this._pending?U(this,oa,this._pending):F(M)?oa.StopPropagation:M.values?U(this,oa,$a.parse(M.values,M.format)):M.async?{async:$a.request(M.url,M.format).then(ub=>{this._pending=r.array(ub.data);return Gb=>Gb.touch(this)})}:$a.request(M.url,M.format).then(ub=>
U(this,oa,r.array(ub.data)))}});wa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};r.inherits(wa,z.Transform,{transform(M,oa){const $a=M.fields,ub=M.index,Gb=M.values,Ib=null==M.default?null:M.default;var bc=M.modified();const Ub=
$a.length;let sc=bc?oa.SOURCE:oa.ADD,Cc=oa,va=M.as,Za;Gb?(Za=Gb.length,1<Ub&&!va&&r.error('Multi-field lookup requires explicit "as" parameter.'),va&&va.length!==Ub*Za&&r.error('The "as" parameter has too few output field names.'),va=va||Gb.map(r.accessorName),M=function(pb){for(var Sb=0,uc=0,Ac,Kc;Sb<Ub;++Sb)if(Kc=ub.get($a[Sb](pb)),null==Kc)for(Ac=0;Ac<Za;++Ac,++uc)pb[va[uc]]=Ib;else for(Ac=0;Ac<Za;++Ac,++uc)pb[va[uc]]=Gb[Ac](Kc)}):(va||r.error("Missing output field names."),M=function(pb){for(var Sb=
0,uc;Sb<Ub;++Sb)uc=ub.get($a[Sb](pb)),pb[va[Sb]]=null==uc?Ib:uc});bc?Cc=oa.reflow(!0):(bc=$a.some(pb=>oa.modified(pb.fields)),sc|=bc?oa.MOD:0);oa.visit(sc,M);return Cc.modifies(va)}});r.inherits(cb,z.Operator);r.inherits(Y,z.Operator);r.inherits(G,z.Transform,{transform(M,oa){this.modified(M.modified());this.value=M;return oa.fork(oa.NO_SOURCE|oa.NO_FIELDS)}});Q.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},
{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Mc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};r.inherits(Q,la,{_transform:la.prototype.transform,transform(M,oa){return this._transform(ka(M,oa),oa)}});r.inherits(Ya,B,{transform(M,oa){const $a=M.subflow,ub=M.field,Gb=Ib=>this.subflow(z.tupleid(Ib),$a,oa,Ib);(M.modified("field")||ub&&oa.modified(r.accessorFields(ub)))&&r.error("PreFacet does not support field modification.");this.initTargets();
ub?(oa.visit(oa.MOD,Ib=>{const bc=Gb(Ib);ub(Ib).forEach(Ub=>bc.mod(Ub))}),oa.visit(oa.ADD,Ib=>{const bc=Gb(Ib);ub(Ib).forEach(Ub=>bc.add(z.ingest(Ub)))}),oa.visit(oa.REM,Ib=>{const bc=Gb(Ib);ub(Ib).forEach(Ub=>bc.rem(Ub))})):(oa.visit(oa.MOD,Ib=>Gb(Ib).mod(Ib)),oa.visit(oa.ADD,Ib=>Gb(Ib).add(Ib)),oa.visit(oa.REM,Ib=>Gb(Ib).rem(Ib)));oa.clean()&&oa.runAfter(()=>this.clean());return oa}});ob.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},
{name:"as",type:"string","null":!0,array:!0}]};r.inherits(ob,z.Transform,{transform(M,oa){const $a=oa.fork(oa.NO_SOURCE),ub=M.fields,Gb=Aa(M.fields,M.as||[]),Ib=ub?(Ub,sc)=>{for(let Cc=0,va=ub.length;Cc<va;++Cc)sc[Gb[Cc]]=ub[Cc](Ub);return sc}:z.rederive;let bc;this.value?bc=this.value:(oa=oa.addAll(),bc=this.value={});oa.visit(oa.REM,Ub=>{Ub=z.tupleid(Ub);$a.rem.push(bc[Ub]);bc[Ub]=null});oa.visit(oa.ADD,Ub=>{const sc=Ib(Ub,z.ingest({}));bc[z.tupleid(Ub)]=sc;$a.add.push(sc)});oa.visit(oa.MOD,Ub=>
{$a.mod.push(Ib(Ub,bc[z.tupleid(Ub)]))});return $a}});r.inherits(Na,z.Transform,{transform(M,oa){this.value=M.value;return M.modified("value")?oa.fork(oa.NO_SOURCE|oa.NO_FIELDS):oa.StopPropagation}});yb.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};r.inherits(yb,
z.Transform,{transform(M,oa){const $a=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS),ub=M.as||["prob","value"];if(this.value&&!M.modified()&&!oa.changed())return $a.source=this.value,$a;oa=oa.materialize(oa.SOURCE).source;oa=ab(oa,M.groupby,M.field);const Gb=(M.groupby||[]).map(r.accessorName),Ib=[],bc=M.step||.01,Ub=M.probs||tb.range(bc/2,1-1E-14,bc),sc=Ub.length;oa.forEach(Cc=>{const va=Ra.quantiles(Cc,Ub);for(let Za=0;Za<sc;++Za){const pb={};for(let Sb=0;Sb<Gb.length;++Sb)pb[Gb[Sb]]=Cc.dims[Sb];pb[ub[0]]=
Ub[Za];pb[ub[1]]=va[Za];Ib.push(z.ingest(pb))}});this.value&&($a.rem=this.value);this.value=$a.add=$a.source=Ib;return $a}});r.inherits(Fb,z.Transform,{transform(M,oa){let $a,ub;this.value?ub=this.value:($a=oa=oa.addAll(),ub=this.value={});M.derive&&($a=oa.fork(oa.NO_SOURCE),oa.visit(oa.REM,Gb=>{Gb=z.tupleid(Gb);$a.rem.push(ub[Gb]);ub[Gb]=null}),oa.visit(oa.ADD,Gb=>{const Ib=z.derive(Gb);ub[z.tupleid(Gb)]=Ib;$a.add.push(Ib)}),oa.visit(oa.MOD,Gb=>{const Ib=ub[z.tupleid(Gb)];for(const bc in Gb)Ib[bc]=
Gb[bc],$a.modifies(bc);$a.mod.push(Ib)}));return $a}});eb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};r.inherits(eb,z.Transform,{transform(M,oa){function $a(va){let Za,pb;Ub.length<Ib?Ub.push(va):(pb=~~((sc+1)*Ra.random()),pb<Ub.length&&pb>=Cc&&(Za=Ub[pb],bc[z.tupleid(Za)]&&ub.rem.push(Za),Ub[pb]=va));++sc}const ub=oa.fork(oa.NO_SOURCE);var Gb=M.modified("size");const Ib=M.size,bc=this.value.reduce((va,Za)=>(va[z.tupleid(Za)]=1,va),{});let Ub=this.value,
sc=this.count,Cc=0;oa.rem.length&&(oa.visit(oa.REM,va=>{const Za=z.tupleid(va);bc[Za]&&(bc[Za]=-1,ub.rem.push(va));--sc}),Ub=Ub.filter(va=>-1!==bc[z.tupleid(va)]));(oa.rem.length||Gb)&&Ub.length<Ib&&oa.source&&(Cc=sc=Ub.length,oa.visit(oa.SOURCE,va=>{bc[z.tupleid(va)]||$a(va)}),Cc=-1);if(Gb&&Ub.length>Ib){M=Ub.length-Ib;for(Gb=0;Gb<M;++Gb)bc[z.tupleid(Ub[Gb])]=-1,ub.rem.push(Ub[Gb]);Ub=Ub.slice(M)}oa.mod.length&&oa.visit(oa.MOD,va=>{bc[z.tupleid(va)]&&ub.mod.push(va)});oa.add.length&&oa.visit(oa.ADD,
$a);if(oa.add.length||0>Cc)ub.add=Ub.filter(va=>!bc[z.tupleid(va)]);this.count=sc;this.value=ub.source=Ub;return ub}});Lb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};r.inherits(Lb,z.Transform,{transform(M,oa){if(!this.value||M.modified()){var $a=oa.materialize().fork(oa.MOD),ub=M.as||"data";$a.rem=this.value?
oa.rem.concat(this.value):oa.rem;this.value=tb.range(M.start,M.stop,M.step||1).map(Gb=>{const Ib={};Ib[ub]=Gb;return z.ingest(Ib)});$a.add=oa.add.concat(this.value);return $a}}});r.inherits(hc,z.Transform,{transform(M,oa){this.value=oa.source;return oa.changed()?oa.fork(oa.NO_SOURCE|oa.NO_FIELDS):oa.StopPropagation}});const pc=["unit0","unit1"];Yb.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",
type:"enum",values:bb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":pc}]};r.inherits(Yb,z.Transform,{transform(M,oa){const $a=M.field,ub=!1!==M.interval;var Gb="utc"===M.timezone;const Ib=this._floor(M,oa),bc=(Gb?bb.utcInterval:bb.timeInterval)(Ib.unit).offset;Gb=M.as||pc;const Ub=
Gb[0],sc=Gb[1],Cc=Ib.step;let va=Ib.start||Infinity,Za=Ib.stop||-Infinity,pb=oa.ADD;if(M.modified()||oa.modified(r.accessorFields($a)))oa=oa.reflow(!0),pb=oa.SOURCE,va=Infinity,Za=-Infinity;oa.visit(pb,Sb=>{var uc=$a(Sb);let Ac;null==uc?(Sb[Ub]=null,ub&&(Sb[sc]=null)):(Sb[Ub]=uc=Ac=Ib(uc),ub&&(Sb[sc]=Ac=bc(uc,Cc)),uc<va&&(va=uc),Ac>Za&&(Za=Ac))});Ib.start=va;Ib.stop=Za;return oa.modifies(ub?Gb:Ub)},_floor(M,oa){var $a="utc"===M.timezone;const {units:ub,step:Gb}=M.units?{units:M.units,step:M.step||
1}:bb.timeBin({extent:M.extent||r.extent(oa.materialize(oa.SOURCE).source,M.field),maxbins:M.maxbins});M=bb.timeUnits(ub);oa=this.value||{};$a=($a?bb.utcFloor:bb.timeFloor)(M,Gb);$a.unit=r.peek(M);$a.units=M;$a.step=Gb;$a.start=oa.start;$a.stop=oa.stop;return this.value=$a}});r.inherits(Ic,z.Transform,{transform(M,oa){const $a=oa.dataflow,ub=M.field,Gb=this.value,Ib=Ub=>Gb.set(ub(Ub),Ub);let bc=!0;M.modified("field")||oa.modified(ub.fields)?(Gb.clear(),oa.visit(oa.SOURCE,Ib)):oa.changed()?(oa.visit(oa.REM,
Ub=>Gb.delete(ub(Ub))),oa.visit(oa.ADD,Ib)):bc=!1;this.modified(bc);Gb.empty>$a.cleanThreshold&&$a.runAfter(Gb.clean);return oa.fork()}});r.inherits(yc,z.Transform,{transform(M,oa){if(!this.value||M.modified("field")||M.modified("sort")||oa.changed()||M.sort&&oa.modified(M.sort.fields))this.value=(M.sort?oa.source.slice().sort(z.stableCompare(M.sort)):oa.source).map(M.field)}});const gd={row_number:function(){return{next:M=>M.index+1}},rank:function(){let M;return{init:()=>M=1,next:oa=>{const $a=
oa.index,ub=oa.data;return $a&&oa.compare(ub[$a-1],ub[$a])?M=$a+1:M}}},dense_rank:function(){let M;return{init:()=>M=1,next:oa=>{const $a=oa.index,ub=oa.data;return $a&&oa.compare(ub[$a-1],ub[$a])?++M:M}}},percent_rank:function(){const M=gd.rank(),oa=M.next;return{init:M.init,next:$a=>(oa($a)-1)/($a.data.length-1)}},cume_dist:function(){let M;return{init:()=>M=0,next:oa=>{const $a=oa.data,ub=oa.compare;oa=oa.index;if(M<oa){for(;oa+1<$a.length&&!ub($a[oa],$a[oa+1]);)++oa;M=oa}return(1+M)/$a.length}}},
ntile:function(M,oa){oa=+oa;0<oa||r.error("ntile num must be greater than zero.");M=gd.cume_dist();const $a=M.next;return{init:M.init,next:ub=>Math.ceil(oa*$a(ub))}},lag:function(M,oa){oa=+oa||1;return{next:$a=>{const ub=$a.index-oa;return 0<=ub?M($a.data[ub]):null}}},lead:function(M,oa){oa=+oa||1;return{next:$a=>{const ub=$a.index+oa;$a=$a.data;return ub<$a.length?M($a[ub]):null}}},first_value:function(M){return{next:oa=>M(oa.data[oa.i0])}},last_value:function(M){return{next:oa=>M(oa.data[oa.i1-
1])}},nth_value:function(M,oa){oa=+oa;0<oa||r.error("nth_value nth must be greater than zero.");return{next:$a=>{const ub=$a.i0+(oa-1);return ub<$a.i1?M($a.data[ub]):null}}},prev_value:function(M){let oa;return{init:()=>oa=null,next:$a=>{$a=M($a.data[$a.index]);return null!=$a?oa=$a:oa}}},next_value:function(M){let oa,$a;return{init:()=>(oa=null,$a=-1),next:ub=>{var Gb=ub.data;if(ub.index<=$a)Gb=oa;else{a:{ub=ub.index;for(let Ib=Gb.length;ub<Ib;++ub)if(null!=M(Gb[ub]))break a;ub=-1}Gb=0>($a=ub)?($a=
Gb.length,oa=null):oa=M(Gb[$a])}return Gb}}}};Db=Object.keys(gd);const xd=Bd.prototype;xd.init=function(){this.windows.forEach(M=>M.init());this.cell&&this.cell.init()};xd.update=function(M,oa){const $a=this.cell,ub=this.windows,Gb=M.data,Ib=ub&&ub.length;let bc;if($a){for(bc=M.p0;bc<M.i0;++bc)$a.rem(Gb[bc]);for(bc=M.p1;bc<M.i1;++bc)$a.add(Gb[bc]);$a.set(oa)}for(bc=0;bc<Ib;++bc)ub[bc].update(M,oa)};jd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",
type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Db.concat(Mc)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};r.inherits(jd,z.Transform,{transform(M,oa){this.stamp=oa.stamp;const $a=M.modified(),ub=z.stableCompare(M.sort),Gb=Hb(M.groupby),Ib=Ub=>this.group(Gb(Ub));
let bc=this.state;if(!bc||$a)bc=this.state=new Bd(M);$a||oa.modified(bc.inputs)?(this.value={},oa.visit(oa.SOURCE,Ub=>Ib(Ub).add(Ub))):(oa.visit(oa.REM,Ub=>Ib(Ub).remove(Ub)),oa.visit(oa.ADD,Ub=>Ib(Ub).add(Ub)));for(let Ub=0,sc=this._mlen;Ub<sc;++Ub)fe(this._mods[Ub],bc,ub,M);this._mlen=0;this._mods=[];return oa.reflow($a).modifies(bc.outputs)},group(M){let oa=this.value[M];oa||(oa=this.value[M]=Qa(z.tupleid),oa.stamp=-1);oa.stamp<this.stamp&&(oa.stamp=this.stamp,this._mods[this._mlen++]=oa);return oa}});
h.aggregate=la;h.bin=ra;h.collect=za;h.compare=Ta;h.countpattern=ia;h.cross=ya;h.density=La;h.dotbin=Va;h.expression=I;h.extent=L;h.facet=B;h.field=R;h.filter=ea;h.flatten=Ca;h.fold=Ia;h.formula=H;h.generate=da;h.impute=ca;h.joinaggregate=f;h.kde=l;h.key=m;h.load=w;h.lookup=wa;h.multiextent=cb;h.multivalues=Y;h.params=G;h.pivot=Q;h.prefacet=Ya;h.project=ob;h.proxy=Na;h.quantile=yb;h.relay=Fb;h.sample=eb;h.sequence=Lb;h.sieve=hc;h.subflow=J;h.timeunit=Yb;h.tupleindex=Ic;h.values=yc;h.window=jd;Object.defineProperty(h,
"__esModule",{value:!0})})};
shadow$provide[33]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function z(){return new r}const Ra=Math.PI,tb=2*Ra,bb=tb-1E-6;r.prototype=z.prototype={constructor:r,moveTo:function(wb,Hb){this._+="M"+(this._x0=this._x1=+wb)+","+(this._y0=this._y1=+Hb)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(wb,Hb){this._+="L"+(this._x1=+wb)+","+(this._y1=+Hb)},quadraticCurveTo:function(wb,Hb,hb,Ka){this._+="Q"+ +wb+","+ +Hb+","+(this._x1=+hb)+","+(this._y1=+Ka)},bezierCurveTo:function(wb,Hb,hb,Ka,Ha,Sa){this._+="C"+ +wb+","+ +Hb+","+ +hb+","+ +Ka+","+(this._x1=+Ha)+","+(this._y1=+Sa)},arcTo:function(wb,Hb,hb,Ka,Ha){wb=+wb;Hb=+Hb;hb=+hb;Ka=+Ka;Ha=+Ha;var Sa=this._x1,xa=this._y1,ma=hb-wb,na=Ka-Hb,Ba=Sa-wb,Fa=xa-Hb,la=Ba*Ba+Fa*Fa;if(0>Ha)throw Error("negative radius: "+
Ha);if(null===this._x1)this._+="M"+(this._x1=wb)+","+(this._y1=Hb);else if(1E-6<la)if(1E-6<Math.abs(Fa*ma-na*Ba)&&Ha){hb-=Sa;Ka-=xa;var ra=ma*ma+na*na;xa=Math.sqrt(ra);Sa=Math.sqrt(la);la=Ha*Math.tan((Ra-Math.acos((ra+la-(hb*hb+Ka*Ka))/(2*xa*Sa)))/2);Sa=la/Sa;la/=xa;1E-6<Math.abs(Sa-1)&&(this._+="L"+(wb+Sa*Ba)+","+(Hb+Sa*Fa));this._+="A"+Ha+","+Ha+",0,0,"+ +(Fa*hb>Ba*Ka)+","+(this._x1=wb+la*ma)+","+(this._y1=Hb+la*na)}else this._+="L"+(this._x1=wb)+","+(this._y1=Hb)},arc:function(wb,Hb,hb,Ka,Ha,Sa){wb=
+wb;Hb=+Hb;hb=+hb;Sa=!!Sa;var xa=hb*Math.cos(Ka),ma=hb*Math.sin(Ka),na=wb+xa,Ba=Hb+ma,Fa=1^Sa;Ka=Sa?Ka-Ha:Ha-Ka;if(0>hb)throw Error("negative radius: "+hb);if(null===this._x1)this._+="M"+na+","+Ba;else if(1E-6<Math.abs(this._x1-na)||1E-6<Math.abs(this._y1-Ba))this._+="L"+na+","+Ba;hb&&(0>Ka&&(Ka=Ka%tb+tb),Ka>bb?this._+="A"+hb+","+hb+",0,1,"+Fa+","+(wb-xa)+","+(Hb-ma)+"A"+hb+","+hb+",0,1,"+Fa+","+(this._x1=na)+","+(this._y1=Ba):1E-6<Ka&&(this._+="A"+hb+","+hb+",0,"+ +(Ka>=Ra)+","+Fa+","+(this._x1=
wb+hb*Math.cos(Ha))+","+(this._y1=Hb+hb*Math.sin(Ha))))},rect:function(wb,Hb,hb,Ka){this._+="M"+(this._x0=this._x1=+wb)+","+(this._y0=this._y1=+Hb)+"h"+ +hb+"v"+ +Ka+"h"+-hb+"Z"},toString:function(){return this._}};h.path=z;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[34]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(33)):"function"===typeof define&&define.amd?define(["exports","d3-path"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function z(va){return function(){return va}}function Ra(va){return 1<=va?hc:-1>=va?-hc:Math.asin(va)}function tb(va){return va.innerRadius}function bb(va){return va.outerRadius}function wb(va){return va.startAngle}function Hb(va){return va.endAngle}
function hb(va){return va&&va.padAngle}function Ka(va,Za,pb,Sb,uc,Ac,Kc){var Bb=va-pb,Tb=Za-Sb;Kc=(Kc?Ac:-Ac)/eb(Bb*Bb+Tb*Tb);Tb*=Kc;Bb*=-Kc;var kc=va+Tb,jc=Za+Bb,qc=pb+Tb,ed=Sb+Bb;pb=(kc+qc)/2;Sb=(jc+ed)/2;Za=qc-kc;va=ed-jc;Kc=Za*Za+va*va;Ac=uc-Ac;ed=kc*ed-qc*jc;var od=(0>va?-1:1)*eb(Na(0,Ac*Ac*Kc-ed*ed));kc=(ed*va-Za*od)/Kc;jc=(-ed*Za-va*od)/Kc;qc=(ed*va+Za*od)/Kc;Za=(-ed*Za+va*od)/Kc;va=kc-pb;Kc=jc-Sb;pb=qc-pb;Sb=Za-Sb;va*va+Kc*Kc>pb*pb+Sb*Sb&&(kc=qc,jc=Za);return{cx:kc,cy:jc,x01:-Tb,y01:-Bb,x11:kc*
(uc/Ac-1),y11:jc*(uc/Ac-1)}}function Ha(va){return"object"===typeof va&&"length"in va?va:Array.from(va)}function Sa(va){this._context=va}function xa(va){return new Sa(va)}function ma(va){return va[0]}function na(va){return va[1]}function Ba(va,Za){function pb(Bb){var Tb,kc=(Bb=Ha(Bb)).length,jc,qc=!1,ed;null==uc&&(Kc=Ac(ed=r.path()));for(Tb=0;Tb<=kc;++Tb)!(Tb<kc&&Sb(jc=Bb[Tb],Tb,Bb))===qc&&((qc=!qc)?Kc.lineStart():Kc.lineEnd()),qc&&Kc.point(+va(jc,Tb,Bb),+Za(jc,Tb,Bb));if(ed)return Kc=null,ed+""||
null}var Sb=z(!0),uc=null,Ac=xa,Kc=null;va="function"===typeof va?va:void 0===va?ma:z(va);Za="function"===typeof Za?Za:void 0===Za?na:z(Za);pb.x=function(Bb){return arguments.length?(va="function"===typeof Bb?Bb:z(+Bb),pb):va};pb.y=function(Bb){return arguments.length?(Za="function"===typeof Bb?Bb:z(+Bb),pb):Za};pb.defined=function(Bb){return arguments.length?(Sb="function"===typeof Bb?Bb:z(!!Bb),pb):Sb};pb.curve=function(Bb){return arguments.length?(Ac=Bb,null!=uc&&(Kc=Ac(uc)),pb):Ac};pb.context=
function(Bb){return arguments.length?(null==Bb?uc=Kc=null:Kc=Ac(uc=Bb),pb):uc};return pb}function Fa(va,Za,pb){function Sb(jc){var qc,ed,od=(jc=Ha(jc)).length,ud,md=!1,rd,Od=Array(od),ee=Array(od);null==Bb&&(kc=Tb(rd=r.path()));for(qc=0;qc<=od;++qc){if(!(qc<od&&Kc(ud=jc[qc],qc,jc))===md)if(md=!md){var he=qc;kc.areaStart();kc.lineStart()}else{kc.lineEnd();kc.lineStart();for(ed=qc-1;ed>=he;--ed)kc.point(Od[ed],ee[ed]);kc.lineEnd();kc.areaEnd()}md&&(Od[qc]=+va(ud,qc,jc),ee[qc]=+Za(ud,qc,jc),kc.point(Ac?
+Ac(ud,qc,jc):Od[qc],pb?+pb(ud,qc,jc):ee[qc]))}if(rd)return kc=null,rd+""||null}function uc(){return Ba().defined(Kc).curve(Tb).context(Bb)}var Ac=null,Kc=z(!0),Bb=null,Tb=xa,kc=null;va="function"===typeof va?va:void 0===va?ma:z(+va);Za="function"===typeof Za?Za:void 0===Za?z(0):z(+Za);pb="function"===typeof pb?pb:void 0===pb?na:z(+pb);Sb.x=function(jc){return arguments.length?(va="function"===typeof jc?jc:z(+jc),Ac=null,Sb):va};Sb.x0=function(jc){return arguments.length?(va="function"===typeof jc?
jc:z(+jc),Sb):va};Sb.x1=function(jc){return arguments.length?(Ac=null==jc?null:"function"===typeof jc?jc:z(+jc),Sb):Ac};Sb.y=function(jc){return arguments.length?(Za="function"===typeof jc?jc:z(+jc),pb=null,Sb):Za};Sb.y0=function(jc){return arguments.length?(Za="function"===typeof jc?jc:z(+jc),Sb):Za};Sb.y1=function(jc){return arguments.length?(pb=null==jc?null:"function"===typeof jc?jc:z(+jc),Sb):pb};Sb.lineX0=Sb.lineY0=function(){return uc().x(va).y(Za)};Sb.lineY1=function(){return uc().x(va).y(pb)};
Sb.lineX1=function(){return uc().x(Ac).y(Za)};Sb.defined=function(jc){return arguments.length?(Kc="function"===typeof jc?jc:z(!!jc),Sb):Kc};Sb.curve=function(jc){return arguments.length?(Tb=jc,null!=Bb&&(kc=Tb(Bb)),Sb):Tb};Sb.context=function(jc){return arguments.length?(null==jc?Bb=kc=null:kc=Tb(Bb=jc),Sb):Bb};return Sb}function la(va,Za){return Za<va?-1:Za>va?1:Za>=va?0:NaN}function ra(va){return va}function Qa(va){this._curve=va}function za(va){function Za(pb){return new Qa(va(pb))}Za._curve=va;
return Za}function Ta(va){var Za=va.curve;va.angle=va.x;delete va.x;va.radius=va.y;delete va.y;va.curve=function(pb){return arguments.length?Za(za(pb)):Za()._curve};return va}function K(){return Ta(Ba().curve(yc))}function ia(){var va=Fa().curve(yc),Za=va.curve,pb=va.lineX0,Sb=va.lineX1,uc=va.lineY0,Ac=va.lineY1;va.angle=va.x;delete va.x;va.startAngle=va.x0;delete va.x0;va.endAngle=va.x1;delete va.x1;va.radius=va.y;delete va.y;va.innerRadius=va.y0;delete va.y0;va.outerRadius=va.y1;delete va.y1;va.lineStartAngle=
function(){return Ta(pb())};delete va.lineX0;va.lineEndAngle=function(){return Ta(Sb())};delete va.lineX1;va.lineInnerRadius=function(){return Ta(uc())};delete va.lineY0;va.lineOuterRadius=function(){return Ta(Ac())};delete va.lineY1;va.curve=function(Kc){return arguments.length?Za(za(Kc)):Za()._curve};return va}function ya(va,Za){return[(Za=+Za)*Math.cos(va-=Math.PI/2),Za*Math.sin(va)]}function ua(va){return va.source}function La(va){return va.target}function Oa(va){function Za(){var Bb,Tb=Ic.call(arguments),
kc=pb.apply(this,Tb),jc=Sb.apply(this,Tb);Kc||(Kc=Bb=r.path());va(Kc,+uc.apply(this,(Tb[0]=kc,Tb)),+Ac.apply(this,Tb),+uc.apply(this,(Tb[0]=jc,Tb)),+Ac.apply(this,Tb));if(Bb)return Kc=null,Bb+""||null}var pb=ua,Sb=La,uc=ma,Ac=na,Kc=null;Za.source=function(Bb){return arguments.length?(pb=Bb,Za):pb};Za.target=function(Bb){return arguments.length?(Sb=Bb,Za):Sb};Za.x=function(Bb){return arguments.length?(uc="function"===typeof Bb?Bb:z(+Bb),Za):uc};Za.y=function(Bb){return arguments.length?(Ac="function"===
typeof Bb?Bb:z(+Bb),Za):Ac};Za.context=function(Bb){return arguments.length?(Kc=null==Bb?null:Bb,Za):Kc};return Za}function Aa(va,Za,pb,Sb,uc){va.moveTo(Za,pb);va.bezierCurveTo(Za=(Za+Sb)/2,pb,Za,uc,Sb,uc)}function ab(va,Za,pb,Sb,uc){va.moveTo(Za,pb);va.bezierCurveTo(Za,pb=(pb+uc)/2,Sb,pb,Sb,uc)}function Va(va,Za,pb,Sb,uc){var Ac=ya(Za,pb);Za=ya(Za,pb=(pb+uc)/2);pb=ya(Sb,pb);Sb=ya(Sb,uc);va.moveTo(Ac[0],Ac[1]);va.bezierCurveTo(Za[0],Za[1],pb[0],pb[1],Sb[0],Sb[1])}function I(){}function x(va,Za,pb){va._context.bezierCurveTo((2*
va._x0+va._x1)/3,(2*va._y0+va._y1)/3,(va._x0+2*va._x1)/3,(va._y0+2*va._y1)/3,(va._x0+4*va._x1+Za)/6,(va._y0+4*va._y1+pb)/6)}function L(va){this._context=va}function J(va){this._context=va}function B(va){this._context=va}function R(va,Za){this._basis=new L(va);this._beta=Za}function aa(va,Za,pb){va._context.bezierCurveTo(va._x1+va._k*(va._x2-va._x0),va._y1+va._k*(va._y2-va._y0),va._x2+va._k*(va._x1-Za),va._y2+va._k*(va._y1-pb),va._x2,va._y2)}function ea(va,Za){this._context=va;this._k=(1-Za)/6}function Ca(va,
Za){this._context=va;this._k=(1-Za)/6}function Ia(va,Za){this._context=va;this._k=(1-Za)/6}function H(va,Za,pb){var Sb=va._x1,uc=va._y1,Ac=va._x2,Kc=va._y2;if(1E-12<va._l01_a){var Bb=2*va._l01_2a+3*va._l01_a*va._l12_a+va._l12_2a,Tb=3*va._l01_a*(va._l01_a+va._l12_a);Sb=(Sb*Bb-va._x0*va._l12_2a+va._x2*va._l01_2a)/Tb;uc=(uc*Bb-va._y0*va._l12_2a+va._y2*va._l01_2a)/Tb}1E-12<va._l23_a&&(Bb=2*va._l23_2a+3*va._l23_a*va._l12_a+va._l12_2a,Tb=3*va._l23_a*(va._l23_a+va._l12_a),Ac=(Ac*Bb+va._x1*va._l23_2a-Za*
va._l12_2a)/Tb,Kc=(Kc*Bb+va._y1*va._l23_2a-pb*va._l12_2a)/Tb);va._context.bezierCurveTo(Sb,uc,Ac,Kc,va._x2,va._y2)}function da(va,Za){this._context=va;this._alpha=Za}function ca(va,Za){this._context=va;this._alpha=Za}function X(va,Za){this._context=va;this._alpha=Za}function e(va){this._context=va}function c(va,Za,pb){var Sb=va._x1-va._x0;Za-=va._x1;var uc=(va._y1-va._y0)/(Sb||0>Za&&-0);va=(pb-va._y1)/(Za||0>Sb&&-0);return((0>uc?-1:1)+(0>va?-1:1))*Math.min(Math.abs(uc),Math.abs(va),.5*Math.abs((uc*
Za+va*Sb)/(Sb+Za)))||0}function f(va,Za){var pb=va._x1-va._x0;return pb?(3*(va._y1-va._y0)/pb-Za)/2:Za}function l(va,Za,pb){var Sb=va._x0,uc=va._x1,Ac=va._y1,Kc=(uc-Sb)/3;va._context.bezierCurveTo(Sb+Kc,va._y0+Kc*Za,uc-Kc,Ac-Kc*pb,uc,Ac)}function m(va){this._context=va}function q(va){this._context=new w(va)}function w(va){this._context=va}function F(va){this._context=va}function U(va){var Za,pb=va.length-1,Sb=Array(pb),uc=Array(pb),Ac=Array(pb);Sb[0]=0;uc[0]=2;Ac[0]=va[0]+2*va[1];for(Za=1;Za<pb-1;++Za)Sb[Za]=
1,uc[Za]=4,Ac[Za]=4*va[Za]+2*va[Za+1];Sb[pb-1]=2;uc[pb-1]=7;Ac[pb-1]=8*va[pb-1]+va[pb];for(Za=1;Za<pb;++Za){var Kc=Sb[Za]/uc[Za-1];uc[Za]-=Kc;Ac[Za]-=Kc*Ac[Za-1]}Sb[pb-1]=Ac[pb-1]/uc[pb-1];for(Za=pb-2;0<=Za;--Za)Sb[Za]=(Ac[Za]-Sb[Za+1])/uc[Za];uc[pb-1]=(va[pb]+Sb[pb-1])/2;for(Za=0;Za<pb-1;++Za)uc[Za]=2*va[Za+1]-Sb[Za+1];return[Sb,uc]}function wa(va,Za){this._context=va;this._t=Za}function cb(va,Za){if(1<(Kc=va.length))for(var pb=1,Sb,uc,Ac=va[Za[0]],Kc,Bb=Ac.length;pb<Kc;++pb)for(uc=Ac,Ac=va[Za[pb]],
Sb=0;Sb<Bb;++Sb)Ac[Sb][1]+=Ac[Sb][0]=isNaN(uc[Sb][1])?uc[Sb][0]:uc[Sb][1]}function gb(va){va=va.length;for(var Za=Array(va);0<=--va;)Za[va]=va;return Za}function Y(va,Za){return va[Za]}function ta(va){const Za=[];Za.key=va;return Za}function G(va){var Za=va.map(Q);return gb(va).sort(function(pb,Sb){return Za[pb]-Za[Sb]})}function Q(va){for(var Za=-1,pb=0,Sb=va.length,uc,Ac=-Infinity;++Za<Sb;)(uc=+va[Za][1])>Ac&&(Ac=uc,pb=Za);return pb}function ka(va){var Za=va.map(Da);return gb(va).sort(function(pb,
Sb){return Za[pb]-Za[Sb]})}function Da(va){for(var Za=0,pb=-1,Sb=va.length,uc;++pb<Sb;)if(uc=+va[pb][1])Za+=uc;return Za}var sb=Math.abs,Ya=Math.atan2,ob=Math.cos,Na=Math.max,yb=Math.min,Fb=Math.sin,eb=Math.sqrt,Lb=Math.PI,hc=Lb/2,Yb=2*Lb,Ic=Array.prototype.slice;Sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},
point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,Za):this._context.moveTo(va,Za);break;case 1:this._point=2;default:this._context.lineTo(va,Za)}}};var yc=za(xa);Qa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(va,Za){this._curve.point(Za*Math.sin(va),Za*-Math.cos(va))}};var hd={draw:function(va,
Za){Za=Math.sqrt(Za/Lb);va.moveTo(Za,0);va.arc(0,0,Za,0,Yb)}},Bd={draw:function(va,Za){Za=Math.sqrt(Za/5)/2;va.moveTo(-3*Za,-Za);va.lineTo(-Za,-Za);va.lineTo(-Za,-3*Za);va.lineTo(Za,-3*Za);va.lineTo(Za,-Za);va.lineTo(3*Za,-Za);va.lineTo(3*Za,Za);va.lineTo(Za,Za);va.lineTo(Za,3*Za);va.lineTo(-Za,3*Za);va.lineTo(-Za,Za);va.lineTo(-3*Za,Za);va.closePath()}},Gc=Math.sqrt(1/3),jd=2*Gc,fe={draw:function(va,Za){Za=Math.sqrt(Za/jd);var pb=Za*Gc;va.moveTo(0,-Za);va.lineTo(pb,0);va.lineTo(0,Za);va.lineTo(-pb,
0);va.closePath()}},Mc=Math.sin(Lb/10)/Math.sin(7*Lb/10),zd=Math.sin(Yb/10)*Mc,Rd=-Math.cos(Yb/10)*Mc,Db={draw:function(va,Za){Za=Math.sqrt(.8908130915292852*Za);var pb=zd*Za,Sb=Rd*Za;va.moveTo(0,-Za);va.lineTo(pb,Sb);for(var uc=1;5>uc;++uc){var Ac=Yb*uc/5,Kc=Math.cos(Ac);Ac=Math.sin(Ac);va.lineTo(Ac*Za,-Kc*Za);va.lineTo(Kc*pb-Ac*Sb,Ac*pb+Kc*Sb)}va.closePath()}},Zb={draw:function(va,Za){Za=Math.sqrt(Za);var pb=-Za/2;va.rect(pb,pb,Za,Za)}},jb=Math.sqrt(3),lc={draw:function(va,Za){Za=-Math.sqrt(Za/
(3*jb));va.moveTo(0,2*Za);va.lineTo(-jb*Za,-Za);va.lineTo(jb*Za,-Za);va.closePath()}},pc=Math.sqrt(3)/2,gd=1/Math.sqrt(12),xd=3*(gd/2+1),M={draw:function(va,Za){var pb=Math.sqrt(Za/xd);Za=pb/2;var Sb=pb*gd;pb=pb*gd+pb;var uc=-Za;va.moveTo(Za,Sb);va.lineTo(Za,pb);va.lineTo(uc,pb);va.lineTo(-.5*Za-pc*Sb,pc*Za+-.5*Sb);va.lineTo(-.5*Za-pc*pb,pc*Za+-.5*pb);va.lineTo(-.5*uc-pc*pb,pc*uc+-.5*pb);va.lineTo(-.5*Za+pc*Sb,-.5*Sb-pc*Za);va.lineTo(-.5*Za+pc*pb,-.5*pb-pc*Za);va.lineTo(-.5*uc+pc*pb,-.5*pb-pc*uc);
va.closePath()}},oa=[hd,Bd,fe,Zb,Db,lc,M];L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._line?
this._context.lineTo(va,Za):this._context.moveTo(va,Za);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x(this,va,Za)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Za}};J.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._x2=va;this._y2=Za;break;case 1:this._point=2;this._x3=va;this._y3=Za;break;case 2:this._point=3;this._x4=
va;this._y4=Za;this._context.moveTo((this._x0+4*this._x1+va)/6,(this._y0+4*this._y1+Za)/6);break;default:x(this,va,Za)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Za}};B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var pb=(this._x0+4*this._x1+va)/6,Sb=(this._y0+4*this._y1+Za)/6;this._line?this._context.lineTo(pb,Sb):this._context.moveTo(pb,Sb);break;case 3:this._point=4;default:x(this,va,Za)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Za}};class $a{constructor(va,Za){this._context=va;this._x=Za}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line}point(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,Za):this._context.moveTo(va,Za);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+va)/2,this._y0,this._x0,Za,va,Za):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+Za)/2,va,this._y0,va,Za)}this._x0=va;this._y0=Za}}R.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var va=this._x,
Za=this._y,pb=va.length-1;if(0<pb)for(var Sb=va[0],uc=Za[0],Ac=va[pb]-Sb,Kc=Za[pb]-uc,Bb=-1,Tb;++Bb<=pb;)Tb=Bb/pb,this._basis.point(this._beta*va[Bb]+(1-this._beta)*(Sb+Tb*Ac),this._beta*Za[Bb]+(1-this._beta)*(uc+Tb*Kc));this._x=this._y=null;this._basis.lineEnd()},point:function(va,Za){this._x.push(+va);this._y.push(+Za)}};var ub=function pb(Za){function Sb(uc){return 1===Za?new L(uc):new R(uc,Za)}Sb.beta=function(uc){return pb(+uc)};return Sb}(.85);ea.prototype={areaStart:function(){this._line=0},
areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:aa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Za,pb){Za=+Za;pb=+pb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Za,pb):this._context.moveTo(Za,pb);break;
case 1:this._point=2;this._x1=Za;this._y1=pb;break;case 2:this._point=3;default:aa(this,Za,pb)}this._x0=this._x1;this._x1=this._x2;this._x2=Za;this._y0=this._y1;this._y1=this._y2;this._y2=pb}};var Gb=function Sb(pb){function uc(Ac){return new ea(Ac,pb)}uc.tension=function(Ac){return Sb(+Ac)};return uc}(0);Ca.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(pb,Sb){pb=+pb;Sb=+Sb;switch(this._point){case 0:this._point=1;this._x3=pb;this._y3=Sb;break;case 1:this._point=2;this._context.moveTo(this._x4=pb,this._y4=Sb);break;case 2:this._point=3;this._x5=pb;this._y5=Sb;break;default:aa(this,pb,Sb)}this._x0=this._x1;this._x1=
this._x2;this._x2=pb;this._y0=this._y1;this._y1=this._y2;this._y2=Sb}};var Ib=function uc(Sb){function Ac(Kc){return new Ca(Kc,Sb)}Ac.tension=function(Kc){return uc(+Kc)};return Ac}(0);Ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Sb,uc){Sb=
+Sb;uc=+uc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aa(this,Sb,uc)}this._x0=this._x1;this._x1=this._x2;this._x2=Sb;this._y0=this._y1;this._y1=this._y2;this._y2=uc}};var bc=function Ac(uc){function Kc(Bb){return new Ia(Bb,uc)}Kc.tension=function(Bb){return Ac(+Bb)};return Kc}(0);da.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(uc,Ac){uc=+uc;Ac=+Ac;if(this._point){var Kc=this._x2-
uc,Bb=this._y2-Ac;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Kc*Kc+Bb*Bb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(uc,Ac):this._context.moveTo(uc,Ac);break;case 1:this._point=2;break;case 2:this._point=3;default:H(this,uc,Ac)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=uc;this._y0=this._y1;this._y1=this._y2;this._y2=Ac}};var Ub=function Kc(Ac){function Bb(Tb){return Ac?
new da(Tb,Ac):new ea(Tb,0)}Bb.alpha=function(Tb){return Kc(+Tb)};return Bb}(.5);ca.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);
this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ac,Kc){Ac=+Ac;Kc=+Kc;if(this._point){var Bb=this._x2-Ac,Tb=this._y2-Kc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Bb*Bb+Tb*Tb,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Ac;this._y3=Kc;break;case 1:this._point=2;this._context.moveTo(this._x4=Ac,this._y4=Kc);break;case 2:this._point=3;this._x5=Ac;this._y5=Kc;break;default:H(this,Ac,Kc)}this._l01_a=
this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ac;this._y0=this._y1;this._y1=this._y2;this._y2=Kc}};var sc=function Bb(Kc){function Tb(kc){return Kc?new ca(kc,Kc):new Ca(kc,0)}Tb.alpha=function(kc){return Bb(+kc)};return Tb}(.5);X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=
this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Kc,Bb){Kc=+Kc;Bb=+Bb;if(this._point){var Tb=this._x2-Kc,kc=this._y2-Bb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Tb*Tb+kc*kc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,
this._y2);break;case 3:this._point=4;default:H(this,Kc,Bb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Kc;this._y0=this._y1;this._y1=this._y2;this._y2=Bb}};var Cc=function Tb(Bb){function kc(jc){return Bb?new X(jc,Bb):new Ia(jc,0)}kc.alpha=function(jc){return Tb(+jc)};return kc}(.5);e.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},
point:function(Bb,Tb){Bb=+Bb;Tb=+Tb;this._point?this._context.lineTo(Bb,Tb):(this._point=1,this._context.moveTo(Bb,Tb))}};m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l(this,this._t0,f(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(Bb,Tb){var kc=NaN;Bb=+Bb;Tb=+Tb;if(Bb!==this._x1||Tb!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bb,Tb):this._context.moveTo(Bb,Tb);break;case 1:this._point=2;break;case 2:this._point=3;l(this,f(this,kc=c(this,Bb,Tb)),kc);break;default:l(this,this._t0,kc=c(this,Bb,Tb))}this._x0=this._x1;this._x1=Bb;this._y0=this._y1;this._y1=Tb;this._t0=kc}}};(q.prototype=Object.create(m.prototype)).point=function(Bb,Tb){m.prototype.point.call(this,
Tb,Bb)};w.prototype={moveTo:function(Bb,Tb){this._context.moveTo(Tb,Bb)},closePath:function(){this._context.closePath()},lineTo:function(Bb,Tb){this._context.lineTo(Tb,Bb)},bezierCurveTo:function(Bb,Tb,kc,jc,qc,ed){this._context.bezierCurveTo(Tb,Bb,jc,kc,ed,qc)}};F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Bb=this._x,Tb=this._y,kc=Bb.length;if(kc)if(this._line?this._context.lineTo(Bb[0],Tb[0]):
this._context.moveTo(Bb[0],Tb[0]),2===kc)this._context.lineTo(Bb[1],Tb[1]);else for(var jc=U(Bb),qc=U(Tb),ed=0,od=1;od<kc;++ed,++od)this._context.bezierCurveTo(jc[0][ed],qc[0][ed],jc[1][ed],qc[1][ed],Bb[od],Tb[od]);(this._line||0!==this._line&&1===kc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Bb,Tb){this._x.push(+Bb);this._y.push(+Tb)}};wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=
NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(Bb,Tb){Bb=+Bb;Tb=+Tb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bb,Tb):this._context.moveTo(Bb,Tb);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Tb),this._context.lineTo(Bb,Tb);
else{var kc=this._x*(1-this._t)+Bb*this._t;this._context.lineTo(kc,this._y);this._context.lineTo(kc,Tb)}}this._x=Bb;this._y=Tb}};h.arc=function(){function Bb(){var rd,Od=+Tb.apply(this,arguments),ee=+kc.apply(this,arguments),he=ed.apply(this,arguments)-hc,Jd=od.apply(this,arguments)-hc,De=sb(Jd-he),ne=Jd>he;md||(md=rd=r.path());if(ee<Od){var le=ee;ee=Od;Od=le}if(1E-12<ee)if(De>Yb-1E-12)md.moveTo(ee*ob(he),ee*Fb(he)),md.arc(0,0,ee,he,Jd,!ne),1E-12<Od&&(md.moveTo(Od*ob(Jd),Od*Fb(Jd)),md.arc(0,0,Od,
Jd,he,ne));else{var Dd=he,be=Jd;le=he;var V=Jd,qa=De,Ea=De,rb=ud.apply(this,arguments)/2,fb=1E-12<rb&&(qc?+qc.apply(this,arguments):eb(Od*Od+ee*ee)),Jb=yb(sb(ee-Od)/2,+jc.apply(this,arguments)),Rb=Jb,ic=Jb;if(1E-12<fb){var Wc=Ra(fb/Od*Fb(rb));rb=Ra(fb/ee*Fb(rb));1E-12<(qa-=2*Wc)?(Wc*=ne?1:-1,le+=Wc,V-=Wc):(qa=0,le=V=(he+Jd)/2);1E-12<(Ea-=2*rb)?(rb*=ne?1:-1,Dd+=rb,be-=rb):(Ea=0,Dd=be=(he+Jd)/2)}he=ee*ob(Dd);Jd=ee*Fb(Dd);Wc=Od*ob(V);rb=Od*Fb(V);if(1E-12<Jb){var xc=ee*ob(be),Nc=ee*Fb(be),Wb=Od*ob(le),
sd=Od*Fb(le);if(De=De<Lb){var cd=Wb-he;De=sd-Jd;fb=Wc-xc;var Vb=rb-Nc,oe=Vb*cd-fb*De;1E-12>oe*oe?cd=void 0:(oe=(fb*(Jd-Nc)-Vb*(he-xc))/oe,cd=[he+oe*cd,Jd+oe*De]);De=cd}De&&(Rb=he-cd[0],ic=Jd-cd[1],De=xc-cd[0],fb=Nc-cd[1],Rb=(Rb*De+ic*fb)/(eb(Rb*Rb+ic*ic)*eb(De*De+fb*fb)),ic=1/Fb((1<Rb?0:-1>Rb?Lb:Math.acos(Rb))/2),cd=eb(cd[0]*cd[0]+cd[1]*cd[1]),Rb=yb(Jb,(Od-cd)/(ic-1)),ic=yb(Jb,(ee-cd)/(ic+1)))}1E-12<Ea?1E-12<ic?(Dd=Ka(Wb,sd,he,Jd,ee,ic,ne),be=Ka(xc,Nc,Wc,rb,ee,ic,ne),md.moveTo(Dd.cx+Dd.x01,Dd.cy+
Dd.y01),ic<Jb?md.arc(Dd.cx,Dd.cy,ic,Ya(Dd.y01,Dd.x01),Ya(be.y01,be.x01),!ne):(md.arc(Dd.cx,Dd.cy,ic,Ya(Dd.y01,Dd.x01),Ya(Dd.y11,Dd.x11),!ne),md.arc(0,0,ee,Ya(Dd.cy+Dd.y11,Dd.cx+Dd.x11),Ya(be.cy+be.y11,be.cx+be.x11),!ne),md.arc(be.cx,be.cy,ic,Ya(be.y11,be.x11),Ya(be.y01,be.x01),!ne))):(md.moveTo(he,Jd),md.arc(0,0,ee,Dd,be,!ne)):md.moveTo(he,Jd);1E-12<Od&&1E-12<qa?1E-12<Rb?(Dd=Ka(Wc,rb,xc,Nc,Od,-Rb,ne),be=Ka(he,Jd,Wb,sd,Od,-Rb,ne),md.lineTo(Dd.cx+Dd.x01,Dd.cy+Dd.y01),Rb<Jb?md.arc(Dd.cx,Dd.cy,Rb,Ya(Dd.y01,
Dd.x01),Ya(be.y01,be.x01),!ne):(md.arc(Dd.cx,Dd.cy,Rb,Ya(Dd.y01,Dd.x01),Ya(Dd.y11,Dd.x11),!ne),md.arc(0,0,Od,Ya(Dd.cy+Dd.y11,Dd.cx+Dd.x11),Ya(be.cy+be.y11,be.cx+be.x11),ne),md.arc(be.cx,be.cy,Rb,Ya(be.y11,be.x11),Ya(be.y01,be.x01),!ne))):md.arc(0,0,Od,V,le,ne):md.lineTo(Wc,rb)}else md.moveTo(0,0);md.closePath();if(rd)return md=null,rd+""||null}var Tb=tb,kc=bb,jc=z(0),qc=null,ed=wb,od=Hb,ud=hb,md=null;Bb.centroid=function(){var rd=(+Tb.apply(this,arguments)+ +kc.apply(this,arguments))/2,Od=(+ed.apply(this,
arguments)+ +od.apply(this,arguments))/2-Lb/2;return[ob(Od)*rd,Fb(Od)*rd]};Bb.innerRadius=function(rd){return arguments.length?(Tb="function"===typeof rd?rd:z(+rd),Bb):Tb};Bb.outerRadius=function(rd){return arguments.length?(kc="function"===typeof rd?rd:z(+rd),Bb):kc};Bb.cornerRadius=function(rd){return arguments.length?(jc="function"===typeof rd?rd:z(+rd),Bb):jc};Bb.padRadius=function(rd){return arguments.length?(qc=null==rd?null:"function"===typeof rd?rd:z(+rd),Bb):qc};Bb.startAngle=function(rd){return arguments.length?
(ed="function"===typeof rd?rd:z(+rd),Bb):ed};Bb.endAngle=function(rd){return arguments.length?(od="function"===typeof rd?rd:z(+rd),Bb):od};Bb.padAngle=function(rd){return arguments.length?(ud="function"===typeof rd?rd:z(+rd),Bb):ud};Bb.context=function(rd){return arguments.length?(md=null==rd?null:rd,Bb):md};return Bb};h.area=Fa;h.areaRadial=ia;h.curveBasis=function(Bb){return new L(Bb)};h.curveBasisClosed=function(Bb){return new J(Bb)};h.curveBasisOpen=function(Bb){return new B(Bb)};h.curveBumpX=
function(Bb){return new $a(Bb,!0)};h.curveBumpY=function(Bb){return new $a(Bb,!1)};h.curveBundle=ub;h.curveCardinal=Gb;h.curveCardinalClosed=Ib;h.curveCardinalOpen=bc;h.curveCatmullRom=Ub;h.curveCatmullRomClosed=sc;h.curveCatmullRomOpen=Cc;h.curveLinear=xa;h.curveLinearClosed=function(Bb){return new e(Bb)};h.curveMonotoneX=function(Bb){return new m(Bb)};h.curveMonotoneY=function(Bb){return new q(Bb)};h.curveNatural=function(Bb){return new F(Bb)};h.curveStep=function(Bb){return new wa(Bb,.5)};h.curveStepAfter=
function(Bb){return new wa(Bb,1)};h.curveStepBefore=function(Bb){return new wa(Bb,0)};h.line=Ba;h.lineRadial=K;h.linkHorizontal=function(){return Oa(Aa)};h.linkRadial=function(){var Bb=Oa(Va);Bb.angle=Bb.x;delete Bb.x;Bb.radius=Bb.y;delete Bb.y;return Bb};h.linkVertical=function(){return Oa(ab)};h.pie=function(){function Bb(ud){var md,rd=(ud=Ha(ud)).length;var Od=0;var ee=Array(rd),he=Array(rd),Jd=+qc.apply(this,arguments);var De=Math.min(Yb,Math.max(-Yb,ed.apply(this,arguments)-Jd));var ne=Math.min(Math.abs(De)/
rd,od.apply(this,arguments)),le=ne*(0>De?-1:1),Dd;for(md=0;md<rd;++md)0<(Dd=he[ee[md]=md]=+Tb(ud[md],md,ud))&&(Od+=Dd);null!=kc?ee.sort(function(V,qa){return kc(he[V],he[qa])}):null!=jc&&ee.sort(function(V,qa){return jc(ud[V],ud[qa])});md=0;for(De=Od?(De-rd*le)/Od:0;md<rd;++md,Jd=be){Od=ee[md];Dd=he[Od];var be=Jd+(0<Dd?Dd*De:0)+le;he[Od]={data:ud[Od],index:md,value:Dd,startAngle:Jd,endAngle:be,padAngle:ne}}return he}var Tb=ra,kc=la,jc=null,qc=z(0),ed=z(Yb),od=z(0);Bb.value=function(ud){return arguments.length?
(Tb="function"===typeof ud?ud:z(+ud),Bb):Tb};Bb.sortValues=function(ud){return arguments.length?(kc=ud,jc=null,Bb):kc};Bb.sort=function(ud){return arguments.length?(jc=ud,kc=null,Bb):jc};Bb.startAngle=function(ud){return arguments.length?(qc="function"===typeof ud?ud:z(+ud),Bb):qc};Bb.endAngle=function(ud){return arguments.length?(ed="function"===typeof ud?ud:z(+ud),Bb):ed};Bb.padAngle=function(ud){return arguments.length?(od="function"===typeof ud?ud:z(+ud),Bb):od};return Bb};h.pointRadial=ya;h.radialArea=
ia;h.radialLine=K;h.stack=function(){function Bb(ed){var od=Array.from(Tb.apply(this,arguments),ta),ud=od.length,md=-1;for(const Od of ed){var rd=0;for(++md;rd<ud;++rd)(od[rd][md]=[0,+qc(Od,od[rd].key,md,ed)]).data=Od}rd=0;for(md=Ha(kc(od));rd<ud;++rd)od[md[rd]].index=rd;jc(od,md);return od}var Tb=z([]),kc=gb,jc=cb,qc=Y;Bb.keys=function(ed){return arguments.length?(Tb="function"===typeof ed?ed:z(Array.from(ed)),Bb):Tb};Bb.value=function(ed){return arguments.length?(qc="function"===typeof ed?ed:z(+ed),
Bb):qc};Bb.order=function(ed){return arguments.length?(kc=null==ed?gb:"function"===typeof ed?ed:z(Array.from(ed)),Bb):kc};Bb.offset=function(ed){return arguments.length?(jc=null==ed?cb:ed,Bb):jc};return Bb};h.stackOffsetDiverging=function(Bb,Tb){if(0<(md=Bb.length))for(var kc,jc=0,qc,ed,od,ud,md,rd=Bb[Tb[0]].length;jc<rd;++jc)for(kc=od=ud=0;kc<md;++kc)0<(ed=(qc=Bb[Tb[kc]][jc])[1]-qc[0])?(qc[0]=od,qc[1]=od+=ed):0>ed?(qc[1]=ud,qc[0]=ud+=ed):(qc[0]=0,qc[1]=ed)};h.stackOffsetExpand=function(Bb,Tb){if(0<
(jc=Bb.length)){for(var kc,jc,qc=0,ed=Bb[0].length,od;qc<ed;++qc){for(od=kc=0;kc<jc;++kc)od+=Bb[kc][qc][1]||0;if(od)for(kc=0;kc<jc;++kc)Bb[kc][qc][1]/=od}cb(Bb,Tb)}};h.stackOffsetNone=cb;h.stackOffsetSilhouette=function(Bb,Tb){if(0<(qc=Bb.length)){for(var kc=0,jc=Bb[Tb[0]],qc,ed=jc.length;kc<ed;++kc){for(var od=0,ud=0;od<qc;++od)ud+=Bb[od][kc][1]||0;jc[kc][1]+=jc[kc][0]=-ud/2}cb(Bb,Tb)}};h.stackOffsetWiggle=function(Bb,Tb){if(0<(od=Bb.length)&&0<(ed=(qc=Bb[Tb[0]]).length)){for(var kc=0,jc=1,qc,ed,
od;jc<ed;++jc){for(var ud=0,md=0,rd=0;ud<od;++ud){var Od=Bb[Tb[ud]],ee=Od[jc][1]||0;Od=(ee-(Od[jc-1][1]||0))/2;for(var he=0;he<ud;++he){var Jd=Bb[Tb[he]];Od+=(Jd[jc][1]||0)-(Jd[jc-1][1]||0)}md+=ee;rd+=Od*ee}qc[jc-1][1]+=qc[jc-1][0]=kc;md&&(kc-=rd/md)}qc[jc-1][1]+=qc[jc-1][0]=kc;cb(Bb,Tb)}};h.stackOrderAppearance=G;h.stackOrderAscending=ka;h.stackOrderDescending=function(Bb){return ka(Bb).reverse()};h.stackOrderInsideOut=function(Bb){var Tb=Bb.length,kc=Bb.map(Da),jc=G(Bb),qc=0,ed=0,od=[],ud=[];for(Bb=
0;Bb<Tb;++Bb){var md=jc[Bb];qc<ed?(qc+=kc[md],od.push(md)):(ed+=kc[md],ud.push(md))}return ud.reverse().concat(od)};h.stackOrderNone=gb;h.stackOrderReverse=function(Bb){return gb(Bb).reverse()};h.symbol=function(Bb,Tb){function kc(){var qc;jc||(jc=qc=r.path());Bb.apply(this,arguments).draw(jc,+Tb.apply(this,arguments));if(qc)return jc=null,qc+""||null}var jc=null;Bb="function"===typeof Bb?Bb:z(Bb||hd);Tb="function"===typeof Tb?Tb:z(void 0===Tb?64:+Tb);kc.type=function(qc){return arguments.length?
(Bb="function"===typeof qc?qc:z(qc),kc):Bb};kc.size=function(qc){return arguments.length?(Tb="function"===typeof qc?qc:z(+qc),kc):Tb};kc.context=function(qc){return arguments.length?(jc=null==qc?null:qc,kc):jc};return kc};h.symbolCircle=hd;h.symbolCross=Bd;h.symbolDiamond=fe;h.symbolSquare=Zb;h.symbolStar=Db;h.symbolTriangle=lc;h.symbolWye=M;h.symbols=oa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[35]=function(fd,Qb,Sc,zb){!function(h,r){"object"==typeof zb&&"undefined"!=typeof Sc?r(zb):"function"==typeof define&&define.amd?define(["exports"],r):r((h="undefined"!=typeof globalThis?globalThis:h||self).vega={})}(this,function(h){function r(z,Ra){if("undefined"!=typeof document&&document.createElement){const tb=document.createElement("canvas");if(tb&&tb.getContext)return tb.width=z,tb.height=Ra,tb}return null}h.canvas=r;h.domCanvas=r;h.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[36]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(m,q,w){m.prototype=q.prototype=w;w.constructor=m}function z(m,q){m=Object.create(m.prototype);for(var w in q)m[w]=q[w];return m}function Ra(){}function tb(){return this.rgb().formatHex()}function bb(){return this.rgb().formatRgb()}function wb(m){var q,w;m=(m+"").trim().toLowerCase();
return(q=J.exec(m))?(w=q[1].length,q=parseInt(q[1],16),6===w?Hb(q):3===w?new Sa(q>>8&15|q>>4&240,q>>4&15|q&240,(q&15)<<4|q&15,1):8===w?hb(q>>24&255,q>>16&255,q>>8&255,(q&255)/255):4===w?hb(q>>12&15|q>>8&240,q>>8&15|q>>4&240,q>>4&15|q&240,((q&15)<<4|q&15)/255):null):(q=B.exec(m))?new Sa(q[1],q[2],q[3],1):(q=R.exec(m))?new Sa(255*q[1]/100,255*q[2]/100,255*q[3]/100,1):(q=aa.exec(m))?hb(q[1],q[2],q[3],q[4]):(q=ea.exec(m))?hb(255*q[1]/100,255*q[2]/100,255*q[3]/100,q[4]):(q=Ca.exec(m))?Ba(q[1],q[2]/100,
q[3]/100,1):(q=Ia.exec(m))?Ba(q[1],q[2]/100,q[3]/100,q[4]):H.hasOwnProperty(m)?Hb(H[m]):"transparent"===m?new Sa(NaN,NaN,NaN,0):null}function Hb(m){return new Sa(m>>16&255,m>>8&255,m&255,1)}function hb(m,q,w,F){0>=F&&(m=q=w=NaN);return new Sa(m,q,w,F)}function Ka(m){m instanceof Ra||(m=wb(m));if(!m)return new Sa;m=m.rgb();return new Sa(m.r,m.g,m.b,m.opacity)}function Ha(m,q,w,F){return 1===arguments.length?Ka(m):new Sa(m,q,w,null==F?1:F)}function Sa(m,q,w,F){this.r=+m;this.g=+q;this.b=+w;this.opacity=
+F}function xa(){return"#"+na(this.r)+na(this.g)+na(this.b)}function ma(){var m=this.opacity;m=isNaN(m)?1:Math.max(0,Math.min(1,m));return(1===m?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===m?")":", "+m+")")}function na(m){m=Math.max(0,Math.min(255,Math.round(m)||0));return(16>m?"0":"")+m.toString(16)}function Ba(m,q,w,F){0>=F?m=q=w=NaN:0>=w||1<=w?m=q=NaN:0>=q&&(m=NaN);
return new ra(m,q,w,F)}function Fa(m){if(m instanceof ra)return new ra(m.h,m.s,m.l,m.opacity);m instanceof Ra||(m=wb(m));if(!m)return new ra;if(m instanceof ra)return m;m=m.rgb();var q=m.r/255,w=m.g/255,F=m.b/255,U=Math.min(q,w,F),wa=Math.max(q,w,F),cb=NaN,gb=wa-U,Y=(wa+U)/2;gb?(cb=q===wa?(w-F)/gb+6*(w<F):w===wa?(F-q)/gb+2:(q-w)/gb+4,gb/=.5>Y?wa+U:2-wa-U,cb*=60):gb=0<Y&&1>Y?0:cb;return new ra(cb,gb,Y,m.opacity)}function la(m,q,w,F){return 1===arguments.length?Fa(m):new ra(m,q,w,null==F?1:F)}function ra(m,
q,w,F){this.h=+m;this.s=+q;this.l=+w;this.opacity=+F}function Qa(m,q,w){return 255*(60>m?q+(w-q)*m/60:180>m?w:240>m?q+(w-q)*(240-m)/60:q)}function za(m){if(m instanceof K)return new K(m.l,m.a,m.b,m.opacity);if(m instanceof ab)return Va(m);m instanceof Sa||(m=Ka(m));var q=La(m.r),w=La(m.g),F=La(m.b),U=ia(.2225045*q+.7168786*w+.0606169*F);if(q===w&&w===F)var wa=q=U;else wa=ia((.4360747*q+.3850649*w+.1430804*F)/.96422),q=ia((.0139322*q+.0971045*w+.7141733*F)/.82521);return new K(116*U-16,500*(wa-U),
200*(U-q),m.opacity)}function Ta(m,q,w,F){return 1===arguments.length?za(m):new K(m,q,w,null==F?1:F)}function K(m,q,w,F){this.l=+m;this.a=+q;this.b=+w;this.opacity=+F}function ia(m){return m>f?Math.pow(m,1/3):m/c+X}function ya(m){return m>e?m*m*m:c*(m-X)}function ua(m){return 255*(.0031308>=m?12.92*m:1.055*Math.pow(m,1/2.4)-.055)}function La(m){return.04045>=(m/=255)?m/12.92:Math.pow((m+.055)/1.055,2.4)}function Oa(m){if(m instanceof ab)return new ab(m.h,m.c,m.l,m.opacity);m instanceof K||(m=za(m));
if(0===m.a&&0===m.b)return new ab(NaN,0<m.l&&100>m.l?0:NaN,m.l,m.opacity);var q=Math.atan2(m.b,m.a)*ca;return new ab(0>q?q+360:q,Math.sqrt(m.a*m.a+m.b*m.b),m.l,m.opacity)}function Aa(m,q,w,F){return 1===arguments.length?Oa(m):new ab(m,q,w,null==F?1:F)}function ab(m,q,w,F){this.h=+m;this.c=+q;this.l=+w;this.opacity=+F}function Va(m){if(isNaN(m.h))return new K(m.l,0,0,m.opacity);var q=m.h*da;return new K(m.l,Math.cos(q)*m.c,Math.sin(q)*m.c,m.opacity)}function I(m,q,w,F){if(1===arguments.length){var U=
m;if(U instanceof x)U=new x(U.h,U.s,U.l,U.opacity);else{U instanceof Sa||(U=Ka(U));var wa=U.g/255,cb=U.b/255,gb=(l*cb+U.r/255*-1.7884503806-3.5172982438*wa)/(l+-1.7884503806-3.5172982438);cb-=gb;var Y=(1.97294*(wa-gb)- -.29227*cb)/-.90649;cb=(wa=Math.sqrt(Y*Y+cb*cb)/(1.97294*gb*(1-gb)))?Math.atan2(Y,cb)*ca-120:NaN;U=new x(0>cb?cb+360:cb,wa,gb,U.opacity)}}else U=new x(m,q,w,null==F?1:F);return U}function x(m,q,w,F){this.h=+m;this.s=+q;this.l=+w;this.opacity=+F}var L=1/.7,J=/^#([0-9a-f]{3,8})$/,B=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,
R=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,aa=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ea=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ca=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Ia=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,H={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r(Ra,wb,{copy:function(m){return Object.assign(new this.constructor,this,m)},displayable:function(){return this.rgb().displayable()},hex:tb,formatHex:tb,formatHsl:function(){return Fa(this).formatHsl()},
formatRgb:bb,toString:bb});r(Sa,Ha,z(Ra,{brighter:function(m){m=null==m?L:Math.pow(L,m);return new Sa(this.r*m,this.g*m,this.b*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new Sa(this.r*m,this.g*m,this.b*m,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:xa,formatHex:xa,formatRgb:ma,toString:ma}));r(ra,la,z(Ra,{brighter:function(m){m=
null==m?L:Math.pow(L,m);return new ra(this.h,this.s,this.l*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new ra(this.h,this.s,this.l*m,this.opacity)},rgb:function(){var m=this.h%360+360*(0>this.h),q=isNaN(m)||isNaN(this.s)?0:this.s,w=this.l;q=w+(.5>w?w:1-w)*q;w=2*w-q;return new Sa(Qa(240<=m?m-240:m+120,w,q),Qa(m,w,q),Qa(120>m?m+240:m-120,w,q),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var m=this.opacity;m=isNaN(m)?1:Math.max(0,Math.min(1,m));return(1===m?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===m?")":", "+m+")")}}));const da=Math.PI/180,ca=180/Math.PI,X=4/29,e=6/29,c=3*e*e,f=e*e*e;r(K,Ta,z(Ra,{brighter:function(m){return new K(this.l+18*(null==m?1:m),this.a,this.b,this.opacity)},darker:function(m){return new K(this.l-18*(null==m?1:m),this.a,this.b,this.opacity)},rgb:function(){var m=(this.l+16)/116,q=isNaN(this.a)?m:m+
this.a/500,w=isNaN(this.b)?m:m-this.b/200;q=.96422*ya(q);m=1*ya(m);w=.82521*ya(w);return new Sa(ua(3.1338561*q-1.6168667*m-.4906146*w),ua(-.9787684*q+1.9161415*m+.033454*w),ua(.0719453*q-.2289914*m+1.4052427*w),this.opacity)}}));r(ab,Aa,z(Ra,{brighter:function(m){return new ab(this.h,this.c,this.l+18*(null==m?1:m),this.opacity)},darker:function(m){return new ab(this.h,this.c,this.l-18*(null==m?1:m),this.opacity)},rgb:function(){return Va(this).rgb()}}));var l=1.78277*-.29227-.1347134789;r(x,I,z(Ra,
{brighter:function(m){m=null==m?L:Math.pow(L,m);return new x(this.h,this.s,this.l*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new x(this.h,this.s,this.l*m,this.opacity)},rgb:function(){var m=isNaN(this.h)?0:(this.h+120)*da,q=+this.l,w=isNaN(this.s)?0:this.s*q*(1-q),F=Math.cos(m);m=Math.sin(m);return new Sa(255*(q+w*(-.14861*F+1.78277*m)),255*(q+w*(-.29227*F+-.90649*m)),255*(q+1.97294*w*F),this.opacity)}}));h.color=wb;h.cubehelix=I;h.gray=function(m,q){return new K(m,0,0,
null==q?1:q)};h.hcl=Aa;h.hsl=la;h.lab=Ta;h.lch=function(m,q,w,F){return 1===arguments.length?Oa(m):new ab(w,q,m,null==F?1:F)};h.rgb=Ha;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[37]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(36)):"function"===typeof define&&define.amd?define(["exports","d3-color"],r):(h=h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function z(e,c,f,l,m){var q=e*e,w=q*e;return((1-3*e+3*q-w)*c+(4-6*q+3*w)*f+(1+3*e+3*q-3*w)*l+w*m)/6}function Ra(e){var c=e.length-1;return function(f){var l=0>=f?f=0:1<=f?(f=1,c-1):Math.floor(f*c),m=e[l],q=e[l+1];return z((f-l/c)*c,0<l?e[l-1]:2*m-q,m,q,l<c-1?
e[l+2]:2*q-m)}}function tb(e){var c=e.length;return function(f){var l=Math.floor((0>(f%=1)?++f:f)*c);return z((f-l/c)*c,e[(l+c-1)%c],e[l%c],e[(l+1)%c],e[(l+2)%c])}}function bb(e,c){return function(f){return e+f*c}}function wb(e,c,f){return e=Math.pow(e,f),c=Math.pow(c,f)-e,f=1/f,function(l){return Math.pow(e+l*c,f)}}function Hb(e,c){var f=c-e;return f?bb(e,180<f||-180>f?f-360*Math.round(f/360):f):Oa(isNaN(e)?c:e)}function hb(e){return 1===(e=+e)?Ka:function(c,f){return f-c?wb(c,f,e):Oa(isNaN(c)?f:
c)}}function Ka(e,c){var f=c-e;return f?bb(e,f):Oa(isNaN(e)?c:e)}function Ha(e){return function(c){var f=c.length,l=Array(f),m=Array(f),q=Array(f),w;for(w=0;w<f;++w){var F=r.rgb(c[w]);l[w]=F.r||0;m[w]=F.g||0;q[w]=F.b||0}l=e(l);m=e(m);q=e(q);F.opacity=1;return function(U){F.r=l(U);F.g=m(U);F.b=q(U);return F+""}}}function Sa(e,c){c||(c=[]);var f=e?Math.min(c.length,e.length):0,l=c.slice(),m;return function(q){for(m=0;m<f;++m)l[m]=e[m]*(1-q)+c[m]*q;return l}}function xa(e){return ArrayBuffer.isView(e)&&
!(e instanceof DataView)}function ma(e,c){var f=c?c.length:0,l=e?Math.min(f,e.length):0,m=Array(l),q=Array(f),w;for(w=0;w<l;++w)m[w]=za(e[w],c[w]);for(;w<f;++w)q[w]=c[w];return function(F){for(w=0;w<l;++w)q[w]=m[w](F);return q}}function na(e,c){var f=new Date;return e=+e,c=+c,function(l){return f.setTime(e*(1-l)+c*l),f}}function Ba(e,c){return e=+e,c=+c,function(f){return e*(1-f)+c*f}}function Fa(e,c){var f={},l={},m;if(null===e||"object"!==typeof e)e={};if(null===c||"object"!==typeof c)c={};for(m in c)m in
e?f[m]=za(e[m],c[m]):l[m]=c[m];return function(q){for(m in f)l[m]=f[m](q);return l}}function la(e){return function(){return e}}function ra(e){return function(c){return e(c)+""}}function Qa(e,c){var f=I.lastIndex=x.lastIndex=0,l,m,q,w=-1,F=[],U=[];e+="";for(c+="";(l=I.exec(e))&&(m=x.exec(c));)(q=m.index)>f&&(q=c.slice(f,q),F[w]?F[w]+=q:F[++w]=q),(l=l[0])===(m=m[0])?F[w]?F[w]+=m:F[++w]=m:(F[++w]=null,U.push({i:w,x:Ba(l,m)})),f=x.lastIndex;f<c.length&&(q=c.slice(f),F[w]?F[w]+=q:F[++w]=q);return 2>F.length?
U[0]?ra(U[0].x):la(c):(c=U.length,function(wa){for(var cb=0,gb;cb<c;++cb)F[(gb=U[cb]).i]=gb.x(wa);return F.join("")})}function za(e,c){var f=typeof c,l;return null==c||"boolean"===f?Oa(c):("number"===f?Ba:"string"===f?(l=r.color(c))?(c=l,Aa):Qa:c instanceof r.color?Aa:c instanceof Date?na:xa(c)?Sa:Array.isArray(c)?ma:"function"!==typeof c.valueOf&&"function"!==typeof c.toString||isNaN(c)?Fa:Ba)(e,c)}function Ta(e,c,f,l,m,q){var w,F,U;if(w=Math.sqrt(e*e+c*c))e/=w,c/=w;if(U=e*f+c*l)f-=e*U,l-=c*U;if(F=
Math.sqrt(f*f+l*l))f/=F,l/=F,U/=F;e*l<c*f&&(e=-e,c=-c,U=-U,w=-w);return{translateX:m,translateY:q,rotate:Math.atan2(c,e)*L,skewX:Math.atan(U)*L,scaleX:w,scaleY:F}}function K(e,c,f,l){function m(wa){return wa.length?wa.pop()+" ":""}function q(wa,cb,gb,Y,ta,G){wa!==gb||cb!==Y?(ta=ta.push("translate(",null,c,null,f),G.push({i:ta-4,x:Ba(wa,gb)},{i:ta-2,x:Ba(cb,Y)})):(gb||Y)&&ta.push("translate("+gb+c+Y+f)}function w(wa,cb,gb,Y){wa!==cb?(180<wa-cb?cb+=360:180<cb-wa&&(wa+=360),Y.push({i:gb.push(m(gb)+"rotate(",
null,l)-2,x:Ba(wa,cb)})):cb&&gb.push(m(gb)+"rotate("+cb+l)}function F(wa,cb,gb,Y){wa!==cb?Y.push({i:gb.push(m(gb)+"skewX(",null,l)-2,x:Ba(wa,cb)}):cb&&gb.push(m(gb)+"skewX("+cb+l)}function U(wa,cb,gb,Y,ta,G){wa!==gb||cb!==Y?(ta=ta.push(m(ta)+"scale(",null,",",null,")"),G.push({i:ta-4,x:Ba(wa,gb)},{i:ta-2,x:Ba(cb,Y)})):1===gb&&1===Y||ta.push(m(ta)+"scale("+gb+","+Y+")")}return function(wa,cb){var gb=[],Y=[];wa=e(wa);cb=e(cb);q(wa.translateX,wa.translateY,cb.translateX,cb.translateY,gb,Y);w(wa.rotate,
cb.rotate,gb,Y);F(wa.skewX,cb.skewX,gb,Y);U(wa.scaleX,wa.scaleY,cb.scaleX,cb.scaleY,gb,Y);wa=cb=null;return function(ta){for(var G=-1,Q=Y.length,ka;++G<Q;)gb[(ka=Y[G]).i]=ka.x(ta);return gb.join("")}}}function ia(e){return((e=Math.exp(e))+1/e)/2}function ya(e){return function(c,f){var l=e((c=r.hsl(c)).h,(f=r.hsl(f)).h),m=Ka(c.s,f.s),q=Ka(c.l,f.l),w=Ka(c.opacity,f.opacity);return function(F){c.h=l(F);c.s=m(F);c.l=q(F);c.opacity=w(F);return c+""}}}function ua(e){return function(c,f){var l=e((c=r.hcl(c)).h,
(f=r.hcl(f)).h),m=Ka(c.c,f.c),q=Ka(c.l,f.l),w=Ka(c.opacity,f.opacity);return function(F){c.h=l(F);c.c=m(F);c.l=q(F);c.opacity=w(F);return c+""}}}function La(e){return function l(f){function m(q,w){var F=e((q=r.cubehelix(q)).h,(w=r.cubehelix(w)).h),U=Ka(q.s,w.s),wa=Ka(q.l,w.l),cb=Ka(q.opacity,w.opacity);return function(gb){q.h=F(gb);q.s=U(gb);q.l=wa(Math.pow(gb,f));q.opacity=cb(gb);return q+""}}f=+f;m.gamma=l;return m}(1)}var Oa=e=>()=>e,Aa=function f(c){function l(q,w){var F=m((q=r.rgb(q)).r,(w=r.rgb(w)).r),
U=m(q.g,w.g),wa=m(q.b,w.b),cb=Ka(q.opacity,w.opacity);return function(gb){q.r=F(gb);q.g=U(gb);q.b=wa(gb);q.opacity=cb(gb);return q+""}}var m=hb(c);l.gamma=f;return l}(1),ab=Ha(Ra),Va=Ha(tb),I=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(I.source,"g"),L=180/Math.PI,J={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},B,R=K(function(c){c=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(c+"");return c.isIdentity?J:Ta(c.a,c.b,c.c,c.d,c.e,c.f)},"px, ","px)","deg)"),
aa=K(function(c){if(null==c)return J;B||(B=document.createElementNS("http://www.w3.org/2000/svg","g"));B.setAttribute("transform",c);if(!(c=B.transform.baseVal.consolidate()))return J;c=c.matrix;return Ta(c.a,c.b,c.c,c.d,c.e,c.f)},", ",")",")"),ea=function q(f,l,m){function w(F,U){var wa=F[0],cb=F[1],gb=F[2];F=U[2];var Y=U[0]-wa,ta=U[1]-cb,G=Y*Y+ta*ta;if(1E-12>G){var Q=Math.log(F/gb)/f;F=function(sb){return[wa+sb*Y,cb+sb*ta,gb*Math.exp(f*sb*Q)]}}else{var ka=Math.sqrt(G);U=(F*F-gb*gb+m*G)/(2*gb*l*
ka);F=(F*F-gb*gb-m*G)/(2*F*l*ka);var Da=Math.log(Math.sqrt(U*U+1)-U);Q=(Math.log(Math.sqrt(F*F+1)-F)-Da)/f;F=function(sb){sb*=Q;var Ya=ia(Da),ob=f*sb+Da;var Na=((ob=Math.exp(2*ob))-1)/(ob+1);var yb=Da;ob=((yb=Math.exp(yb))-1/yb)/2;Na=gb/(l*ka)*(Ya*Na-ob);return[wa+Na*Y,cb+Na*ta,gb*Ya/ia(f*sb+Da)]}}F.duration=1E3*Q*f/Math.SQRT2;return F}w.rho=function(F){F=Math.max(.001,+F);var U=F*F;return q(F,U,U*U)};return w}(Math.SQRT2,2,4),Ca=ya(Hb),Ia=ya(Ka),H=ua(Hb),da=ua(Ka),ca=La(Hb),X=La(Ka);h.interpolate=
za;h.interpolateArray=function(f,l){return(xa(l)?Sa:ma)(f,l)};h.interpolateBasis=Ra;h.interpolateBasisClosed=tb;h.interpolateCubehelix=ca;h.interpolateCubehelixLong=X;h.interpolateDate=na;h.interpolateDiscrete=function(f){var l=f.length;return function(m){return f[Math.max(0,Math.min(l-1,Math.floor(m*l)))]}};h.interpolateHcl=H;h.interpolateHclLong=da;h.interpolateHsl=Ca;h.interpolateHslLong=Ia;h.interpolateHue=function(f,l){var m=Hb(+f,+l);return function(q){q=m(q);return q-360*Math.floor(q/360)}};
h.interpolateLab=function(f,l){var m=Ka((f=r.lab(f)).l,(l=r.lab(l)).l),q=Ka(f.a,l.a),w=Ka(f.b,l.b),F=Ka(f.opacity,l.opacity);return function(U){f.l=m(U);f.a=q(U);f.b=w(U);f.opacity=F(U);return f+""}};h.interpolateNumber=Ba;h.interpolateNumberArray=Sa;h.interpolateObject=Fa;h.interpolateRgb=Aa;h.interpolateRgbBasis=ab;h.interpolateRgbBasisClosed=Va;h.interpolateRound=function(f,l){return f=+f,l=+l,function(m){return Math.round(f*(1-m)+l*m)}};h.interpolateString=Qa;h.interpolateTransformCss=R;h.interpolateTransformSvg=
aa;h.interpolateZoom=ea;h.piecewise=function(f,l){void 0===l&&(l=f,f=za);for(var m=0,q=l.length-1,w=l[0],F=Array(0>q?0:q);m<q;)F[m]=f(w,w=l[++m]);return function(U){var wa=Math.max(0,Math.min(q-1,Math.floor(U*=q)));return F[wa](U-wa)}};h.quantize=function(f,l){for(var m=Array(l),q=0;q<l;++q)m[q]=f(q/(l-1));return m};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[38]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(18),Qb(37),Qb(19),Qb(20),Qb(22)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{},h.d3,h.d3,h.d3,h.d3,h.d3))})(this,function(h,r,z,Ra,tb,bb){function wb(Na,yb){switch(arguments.length){case 0:break;case 1:this.range(Na);break;default:this.range(yb).domain(Na)}return this}
function Hb(Na,yb){switch(arguments.length){case 0:break;case 1:"function"===typeof Na?this.interpolator(Na):this.range(Na);break;default:this.domain(Na),"function"===typeof yb?this.interpolator(yb):this.range(yb)}return this}function hb(){function Na(hc){var Yb=hc+"",Ic=yb.get(Yb);if(!Ic){if(Lb!==Ya)return Lb;yb.set(Yb,Ic=Fb.push(hc))}return eb[(Ic-1)%eb.length]}var yb=new Map,Fb=[],eb=[],Lb=Ya;Na.domain=function(hc){if(!arguments.length)return Fb.slice();Fb=[];yb=new Map;for(const Yb of hc){const Ic=
Yb+"";yb.has(Ic)||yb.set(Ic,Fb.push(Yb))}return Na};Na.range=function(hc){return arguments.length?(eb=Array.from(hc),Na):eb.slice()};Na.unknown=function(hc){return arguments.length?(Lb=hc,Na):Lb};Na.copy=function(){return hb(Fb,eb).unknown(Lb)};wb.apply(Na,arguments);return Na}function Ka(){function Na(){var jd=Fb().length,fe=hc<Lb,Mc=fe?hc:Lb,zd=fe?Lb:hc;Yb=(zd-Mc)/Math.max(1,jd-hd+2*Bd);yc&&(Yb=Math.floor(Yb));Mc+=(zd-Mc-Yb*(jd-hd))*Gc;Ic=Yb*(1-hd);yc&&(Mc=Math.round(Mc),Ic=Math.round(Ic));jd=r.range(jd).map(function(Rd){return Mc+
Yb*Rd});return eb(fe?jd.reverse():jd)}var yb=hb().unknown(void 0),Fb=yb.domain,eb=yb.range,Lb=0,hc=1,Yb,Ic,yc=!1,hd=0,Bd=0,Gc=.5;delete yb.unknown;yb.domain=function(jd){return arguments.length?(Fb(jd),Na()):Fb()};yb.range=function(jd){return arguments.length?([Lb,hc]=jd,Lb=+Lb,hc=+hc,Na()):[Lb,hc]};yb.rangeRound=function(jd){return[Lb,hc]=jd,Lb=+Lb,hc=+hc,yc=!0,Na()};yb.bandwidth=function(){return Ic};yb.step=function(){return Yb};yb.round=function(jd){return arguments.length?(yc=!!jd,Na()):yc};
yb.padding=function(jd){return arguments.length?(hd=Math.min(1,Bd=+jd),Na()):hd};yb.paddingInner=function(jd){return arguments.length?(hd=Math.min(1,jd),Na()):hd};yb.paddingOuter=function(jd){return arguments.length?(Bd=+jd,Na()):Bd};yb.align=function(jd){return arguments.length?(Gc=Math.max(0,Math.min(1,jd)),Na()):Gc};yb.copy=function(){return Ka(Fb(),[Lb,hc]).round(yc).paddingInner(hd).paddingOuter(Bd).align(Gc)};return wb.apply(Na(),arguments)}function Ha(Na){var yb=Na.copy;Na.padding=Na.paddingOuter;
delete Na.paddingInner;delete Na.paddingOuter;Na.copy=function(){return Ha(yb())};return Na}function Sa(Na){return function(){return Na}}function xa(Na){return+Na}function ma(Na){return Na}function na(Na,yb){return(yb-=Na=+Na)?function(Fb){return(Fb-Na)/yb}:Sa(isNaN(yb)?NaN:.5)}function Ba(Na,yb){if(Na>yb){var Fb=Na;Na=yb;yb=Fb}return function(eb){return Math.max(Na,Math.min(yb,eb))}}function Fa(Na,yb,Fb){var eb=Na[0];Na=Na[1];var Lb=yb[0];yb=yb[1];Na<eb?(eb=na(Na,eb),Lb=Fb(yb,Lb)):(eb=na(eb,Na),
Lb=Fb(Lb,yb));return function(hc){return Lb(eb(hc))}}function la(Na,yb,Fb){var eb=Math.min(Na.length,yb.length)-1,Lb=Array(eb),hc=Array(eb),Yb=-1;Na[eb]<Na[0]&&(Na=Na.slice().reverse(),yb=yb.slice().reverse());for(;++Yb<eb;)Lb[Yb]=na(Na[Yb],Na[Yb+1]),hc[Yb]=Fb(yb[Yb],yb[Yb+1]);return function(Ic){var yc=r.bisect(Na,Ic,1,eb)-1;return hc[yc](Lb[yc](Ic))}}function ra(Na,yb){return yb.domain(Na.domain()).range(Na.range()).interpolate(Na.interpolate()).clamp(Na.clamp()).unknown(Na.unknown())}function Qa(){function Na(){var jd=
Math.min(Fb.length,eb.length);yc!==ma&&(yc=Ba(Fb[0],Fb[jd-1]));hd=2<jd?la:Fa;Bd=Gc=null;return yb}function yb(jd){return null==jd||isNaN(jd=+jd)?Ic:(Bd||(Bd=hd(Fb.map(hc),eb,Lb)))(hc(yc(jd)))}var Fb=ob,eb=ob,Lb=z.interpolate,hc,Yb,Ic,yc=ma,hd,Bd,Gc;yb.invert=function(jd){return yc(Yb((Gc||(Gc=hd(eb,Fb.map(hc),z.interpolateNumber)))(jd)))};yb.domain=function(jd){return arguments.length?(Fb=Array.from(jd,xa),Na()):Fb.slice()};yb.range=function(jd){return arguments.length?(eb=Array.from(jd),Na()):eb.slice()};
yb.rangeRound=function(jd){return eb=Array.from(jd),Lb=z.interpolateRound,Na()};yb.clamp=function(jd){return arguments.length?(yc=jd?!0:ma,Na()):yc!==ma};yb.interpolate=function(jd){return arguments.length?(Lb=jd,Na()):Lb};yb.unknown=function(jd){return arguments.length?(Ic=jd,yb):Ic};return function(jd,fe){hc=jd;Yb=fe;return Na()}}function za(Na,yb,Fb,eb){Fb=r.tickStep(Na,yb,Fb);var Lb;eb=Ra.formatSpecifier(null==eb?",f":eb);switch(eb.type){case "s":return Na=Math.max(Math.abs(Na),Math.abs(yb)),
null!=eb.precision||isNaN(Lb=Ra.precisionPrefix(Fb,Na))||(eb.precision=Lb),Ra.formatPrefix(eb,Na);case "":case "e":case "g":case "p":case "r":null!=eb.precision||isNaN(Lb=Ra.precisionRound(Fb,Math.max(Math.abs(Na),Math.abs(yb))))||(eb.precision=Lb-("e"===eb.type));break;case "f":case "%":null!=eb.precision||isNaN(Lb=Ra.precisionFixed(Fb))||(eb.precision=Lb-2*("%"===eb.type))}return Ra.format(eb)}function Ta(Na){var yb=Na.domain;Na.ticks=function(Fb){var eb=yb();return r.ticks(eb[0],eb[eb.length-1],
null==Fb?10:Fb)};Na.tickFormat=function(Fb,eb){var Lb=yb();return za(Lb[0],Lb[Lb.length-1],null==Fb?10:Fb,eb)};Na.nice=function(Fb){null==Fb&&(Fb=10);var eb=yb(),Lb=0,hc=eb.length-1,Yb=eb[Lb],Ic=eb[hc],yc=10;if(Ic<Yb){var hd=Yb;Yb=Ic;Ic=hd;hd=Lb;Lb=hc;hc=hd}for(;0<yc--;){hd=r.tickIncrement(Yb,Ic,Fb);if(hd===Bd)return eb[Lb]=Yb,eb[hc]=Ic,yb(eb);if(0<hd)Yb=Math.floor(Yb/hd)*hd,Ic=Math.ceil(Ic/hd)*hd;else if(0>hd)Yb=Math.ceil(Yb*hd)/hd,Ic=Math.floor(Ic*hd)/hd;else break;var Bd=hd}return Na};return Na}
function K(){var Na=Qa()(ma,ma);Na.copy=function(){return ra(Na,K())};wb.apply(Na,arguments);return Ta(Na)}function ia(Na){function yb(eb){return null==eb||isNaN(eb=+eb)?Fb:eb}var Fb;yb.invert=yb;yb.domain=yb.range=function(eb){return arguments.length?(Na=Array.from(eb,xa),yb):Na.slice()};yb.unknown=function(eb){return arguments.length?(Fb=eb,yb):Fb};yb.copy=function(){return ia(Na).unknown(Fb)};Na=arguments.length?Array.from(Na,xa):[0,1];return Ta(yb)}function ya(Na,yb){Na=Na.slice();var Fb=0,eb=
Na.length-1,Lb=Na[Fb],hc=Na[eb];if(hc<Lb){var Yb=Fb;Fb=eb;eb=Yb;Yb=Lb;Lb=hc;hc=Yb}Na[Fb]=yb.floor(Lb);Na[eb]=yb.ceil(hc);return Na}function ua(Na){return Math.log(Na)}function La(Na){return Math.exp(Na)}function Oa(Na){return-Math.log(-Na)}function Aa(Na){return-Math.exp(-Na)}function ab(Na){return isFinite(Na)?+("1e"+Na):0>Na?0:Na}function Va(Na){return 10===Na?ab:Na===Math.E?Math.exp:function(yb){return Math.pow(Na,yb)}}function I(Na){return Na===Math.E?Math.log:10===Na&&Math.log10||2===Na&&Math.log2||
(Na=Math.log(Na),function(yb){return Math.log(yb)/Na})}function x(Na){return function(yb){return-Na(-yb)}}function L(Na){function yb(){hc=I(Lb);Yb=Va(Lb);0>eb()[0]?(hc=x(hc),Yb=x(Yb),Na(Oa,Aa)):Na(ua,La);return Fb}var Fb=Na(ua,La),eb=Fb.domain,Lb=10,hc,Yb;Fb.base=function(Ic){return arguments.length?(Lb=+Ic,yb()):Lb};Fb.domain=function(Ic){return arguments.length?(eb(Ic),yb()):eb()};Fb.ticks=function(Ic){var yc=eb(),hd=yc[0];yc=yc[yc.length-1];var Bd;if(Bd=yc<hd)Gc=hd,hd=yc,yc=Gc;var Gc=hc(hd),jd=
hc(yc),fe=null==Ic?10:+Ic,Mc=[];if(!(Lb%1)&&jd-Gc<fe){Gc=Math.floor(Gc);jd=Math.ceil(jd);if(0<hd)for(;Gc<=jd;++Gc){var zd=1;for(Ic=Yb(Gc);zd<Lb;++zd){var Rd=Ic*zd;if(!(Rd<hd)){if(Rd>yc)break;Mc.push(Rd)}}}else for(;Gc<=jd;++Gc)for(zd=Lb-1,Ic=Yb(Gc);1<=zd;--zd)if(Rd=Ic*zd,!(Rd<hd)){if(Rd>yc)break;Mc.push(Rd)}2*Mc.length<fe&&(Mc=r.ticks(hd,yc,fe))}else Mc=r.ticks(Gc,jd,Math.min(jd-Gc,fe)).map(Yb);return Bd?Mc.reverse():Mc};Fb.tickFormat=function(Ic,yc){null==yc&&(yc=10===Lb?".0e":",");"function"!==
typeof yc&&(yc=Ra.format(yc));if(Infinity===Ic)return yc;null==Ic&&(Ic=10);var hd=Math.max(1,Lb*Ic/Fb.ticks().length);return function(Bd){var Gc=Bd/Yb(Math.round(hc(Bd)));Gc*Lb<Lb-.5&&(Gc*=Lb);return Gc<=hd?yc(Bd):""}};Fb.nice=function(){return eb(ya(eb(),{floor:function(Ic){return Yb(Math.floor(hc(Ic)))},ceil:function(Ic){return Yb(Math.ceil(hc(Ic)))}}))};return Fb}function J(){var Na=L(Qa()).domain([1,10]);Na.copy=function(){return ra(Na,J()).base(Na.base())};wb.apply(Na,arguments);return Na}function B(Na){return function(yb){return Math.sign(yb)*
Math.log1p(Math.abs(yb/Na))}}function R(Na){return function(yb){return Math.sign(yb)*Math.expm1(Math.abs(yb))*Na}}function aa(Na){var yb=1,Fb=Na(B(yb),R(yb));Fb.constant=function(eb){return arguments.length?Na(B(yb=+eb),R(yb)):yb};return Ta(Fb)}function ea(){var Na=aa(Qa());Na.copy=function(){return ra(Na,ea()).constant(Na.constant())};return wb.apply(Na,arguments)}function Ca(Na){return function(yb){return 0>yb?-Math.pow(-yb,Na):Math.pow(yb,Na)}}function Ia(Na){return 0>Na?-Math.sqrt(-Na):Math.sqrt(Na)}
function H(Na){return 0>Na?-Na*Na:Na*Na}function da(Na){var yb=Na(ma,ma),Fb=1;yb.exponent=function(eb){return arguments.length?(Fb=+eb,1===Fb?Na(ma,ma):.5===Fb?Na(Ia,H):Na(Ca(Fb),Ca(1/Fb))):Fb};return Ta(yb)}function ca(){var Na=da(Qa());Na.copy=function(){return ra(Na,ca()).exponent(Na.exponent())};wb.apply(Na,arguments);return Na}function X(Na){return Math.sign(Na)*Na*Na}function e(){function Na(hc){hc=yb(hc);hc=Math.sign(hc)*Math.sqrt(Math.abs(hc));return isNaN(hc)?Lb:eb?Math.round(hc):hc}var yb=
Qa()(ma,ma),Fb=[0,1],eb=!1,Lb;Na.invert=function(hc){return yb.invert(X(hc))};Na.domain=function(hc){return arguments.length?(yb.domain(hc),Na):yb.domain()};Na.range=function(hc){return arguments.length?(yb.range((Fb=Array.from(hc,xa)).map(X)),Na):Fb.slice()};Na.rangeRound=function(hc){return Na.range(hc).round(!0)};Na.round=function(hc){return arguments.length?(eb=!!hc,Na):eb};Na.clamp=function(hc){return arguments.length?(yb.clamp(hc),Na):yb.clamp()};Na.unknown=function(hc){return arguments.length?
(Lb=hc,Na):Lb};Na.copy=function(){return e(yb.domain(),Fb).round(eb).clamp(yb.clamp()).unknown(Lb)};wb.apply(Na,arguments);return Ta(Na)}function c(){function Na(){var Yb=0,Ic=Math.max(1,eb.length);for(Lb=Array(Ic-1);++Yb<Ic;)Lb[Yb-1]=r.quantileSorted(Fb,Yb/Ic);return yb}function yb(Yb){return null==Yb||isNaN(Yb=+Yb)?hc:eb[r.bisect(Lb,Yb)]}var Fb=[],eb=[],Lb=[],hc;yb.invertExtent=function(Yb){Yb=eb.indexOf(Yb);return 0>Yb?[NaN,NaN]:[0<Yb?Lb[Yb-1]:Fb[0],Yb<Lb.length?Lb[Yb]:Fb[Fb.length-1]]};yb.domain=
function(Yb){if(!arguments.length)return Fb.slice();Fb=[];for(let Ic of Yb)null==Ic||isNaN(Ic=+Ic)||Fb.push(Ic);Fb.sort(r.ascending);return Na()};yb.range=function(Yb){return arguments.length?(eb=Array.from(Yb),Na()):eb.slice()};yb.unknown=function(Yb){return arguments.length?(hc=Yb,yb):hc};yb.quantiles=function(){return Lb.slice()};yb.copy=function(){return c().domain(Fb).range(eb).unknown(hc)};return wb.apply(yb,arguments)}function f(){function Na(yc){return null!=yc&&yc<=yc?Yb[r.bisect(hc,yc,0,
Lb)]:Ic}function yb(){var yc=-1;for(hc=Array(Lb);++yc<Lb;)hc[yc]=((yc+1)*eb-(yc-Lb)*Fb)/(Lb+1);return Na}var Fb=0,eb=1,Lb=1,hc=[.5],Yb=[0,1],Ic;Na.domain=function(yc){return arguments.length?([Fb,eb]=yc,Fb=+Fb,eb=+eb,yb()):[Fb,eb]};Na.range=function(yc){return arguments.length?(Lb=(Yb=Array.from(yc)).length-1,yb()):Yb.slice()};Na.invertExtent=function(yc){yc=Yb.indexOf(yc);return 0>yc?[NaN,NaN]:1>yc?[Fb,hc[0]]:yc>=Lb?[hc[Lb-1],eb]:[hc[yc-1],hc[yc]]};Na.unknown=function(yc){return arguments.length?
(Ic=yc,Na):Na};Na.thresholds=function(){return hc.slice()};Na.copy=function(){return f().domain([Fb,eb]).range(Yb).unknown(Ic)};return wb.apply(Ta(Na),arguments)}function l(){function Na(hc){return null!=hc&&hc<=hc?Fb[r.bisect(yb,hc,0,Lb)]:eb}var yb=[.5],Fb=[0,1],eb,Lb=1;Na.domain=function(hc){return arguments.length?(yb=Array.from(hc),Lb=Math.min(yb.length,Fb.length-1),Na):yb.slice()};Na.range=function(hc){return arguments.length?(Fb=Array.from(hc),Lb=Math.min(yb.length,Fb.length-1),Na):Fb.slice()};
Na.invertExtent=function(hc){hc=Fb.indexOf(hc);return[yb[hc-1],yb[hc]]};Na.unknown=function(hc){return arguments.length?(eb=hc,Na):eb};Na.copy=function(){return l().domain(yb).range(Fb).unknown(eb)};return wb.apply(Na,arguments)}function m(Na){return new Date(Na)}function q(Na){return Na instanceof Date?+Na:+new Date(+Na)}function w(Na,yb,Fb,eb,Lb,hc,Yb,Ic,yc,hd){function Bd(gd){return(yc(gd)<gd?Mc:Ic(gd)<gd?zd:Yb(gd)<gd?Rd:hc(gd)<gd?Db:eb(gd)<gd?Lb(gd)<gd?Zb:jb:Fb(gd)<gd?lc:pc)(gd)}var Gc=Qa()(ma,
ma),jd=Gc.invert,fe=Gc.domain,Mc=hd(".%L"),zd=hd(":%S"),Rd=hd("%I:%M"),Db=hd("%I %p"),Zb=hd("%a %d"),jb=hd("%b %d"),lc=hd("%B"),pc=hd("%Y");Gc.invert=function(gd){return new Date(jd(gd))};Gc.domain=function(gd){return arguments.length?fe(Array.from(gd,q)):fe().map(m)};Gc.ticks=function(gd){var xd=fe();return Na(xd[0],xd[xd.length-1],null==gd?10:gd)};Gc.tickFormat=function(gd,xd){return null==xd?Bd:hd(xd)};Gc.nice=function(gd){var xd=fe();gd&&"function"===typeof gd.range||(gd=yb(xd[0],xd[xd.length-
1],null==gd?10:gd));return gd?fe(ya(xd,gd)):Gc};Gc.copy=function(){return ra(Gc,w(Na,yb,Fb,eb,Lb,hc,Yb,Ic,yc,hd))};return Gc}function F(){function Na(Gc){return null==Gc||isNaN(Gc=+Gc)?Bd:yc(0===Yb?.5:(Gc=(Ic(Gc)-Lb)*Yb,hd?Math.max(0,Math.min(1,Gc)):Gc))}function yb(Gc){return function(jd){var fe,Mc;return arguments.length?([fe,Mc]=jd,yc=Gc(fe,Mc),Na):[yc(0),yc(1)]}}var Fb=0,eb=1,Lb,hc,Yb,Ic,yc=ma,hd=!1,Bd;Na.domain=function(Gc){return arguments.length?([Fb,eb]=Gc,Lb=Ic(Fb=+Fb),hc=Ic(eb=+eb),Yb=Lb===
hc?0:1/(hc-Lb),Na):[Fb,eb]};Na.clamp=function(Gc){return arguments.length?(hd=!!Gc,Na):hd};Na.interpolator=function(Gc){return arguments.length?(yc=Gc,Na):yc};Na.range=yb(z.interpolate);Na.rangeRound=yb(z.interpolateRound);Na.unknown=function(Gc){return arguments.length?(Bd=Gc,Na):Bd};return function(Gc){Ic=Gc;Lb=Gc(Fb);hc=Gc(eb);Yb=Lb===hc?0:1/(hc-Lb);return Na}}function U(Na,yb){return yb.domain(Na.domain()).interpolator(Na.interpolator()).clamp(Na.clamp()).unknown(Na.unknown())}function wa(){var Na=
Ta(F()(ma));Na.copy=function(){return U(Na,wa())};return Hb.apply(Na,arguments)}function cb(){var Na=L(F()).domain([1,10]);Na.copy=function(){return U(Na,cb()).base(Na.base())};return Hb.apply(Na,arguments)}function gb(){var Na=aa(F());Na.copy=function(){return U(Na,gb()).constant(Na.constant())};return Hb.apply(Na,arguments)}function Y(){var Na=da(F());Na.copy=function(){return U(Na,Y()).exponent(Na.exponent())};return Hb.apply(Na,arguments)}function ta(){function Na(eb){if(null!=eb&&!isNaN(eb=+eb))return Fb((r.bisect(yb,
eb,1)-1)/(yb.length-1))}var yb=[],Fb=ma;Na.domain=function(eb){if(!arguments.length)return yb.slice();yb=[];for(let Lb of eb)null==Lb||isNaN(Lb=+Lb)||yb.push(Lb);yb.sort(r.ascending);return Na};Na.interpolator=function(eb){return arguments.length?(Fb=eb,Na):Fb};Na.range=function(){return yb.map((eb,Lb)=>Fb(Lb/(yb.length-1)))};Na.quantiles=function(eb){return Array.from({length:eb+1},(Lb,hc)=>r.quantile(yb,hc/eb))};Na.copy=function(){return ta(Fb).domain(yb)};return Hb.apply(Na,arguments)}function G(){function Na(zd){return isNaN(zd=
+zd)?Mc:(zd=.5+((zd=+jd(zd))-Ic)*(hc*zd<hc*Ic?hd:Bd),Gc(fe?Math.max(0,Math.min(1,zd)):zd))}function yb(zd){return function(Rd){var Db,Zb,jb;return arguments.length?([Db,Zb,jb]=Rd,Gc=z.piecewise(zd,[Db,Zb,jb]),Na):[Gc(0),Gc(.5),Gc(1)]}}var Fb=0,eb=.5,Lb=1,hc=1,Yb,Ic,yc,hd,Bd,Gc=ma,jd,fe=!1,Mc;Na.domain=function(zd){return arguments.length?([Fb,eb,Lb]=zd,Yb=jd(Fb=+Fb),Ic=jd(eb=+eb),yc=jd(Lb=+Lb),hd=Yb===Ic?0:.5/(Ic-Yb),Bd=Ic===yc?0:.5/(yc-Ic),hc=Ic<Yb?-1:1,Na):[Fb,eb,Lb]};Na.clamp=function(zd){return arguments.length?
(fe=!!zd,Na):fe};Na.interpolator=function(zd){return arguments.length?(Gc=zd,Na):Gc};Na.range=yb(z.interpolate);Na.rangeRound=yb(z.interpolateRound);Na.unknown=function(zd){return arguments.length?(Mc=zd,Na):Mc};return function(zd){jd=zd;Yb=zd(Fb);Ic=zd(eb);yc=zd(Lb);hd=Yb===Ic?0:.5/(Ic-Yb);Bd=Ic===yc?0:.5/(yc-Ic);hc=Ic<Yb?-1:1;return Na}}function Q(){var Na=Ta(G()(ma));Na.copy=function(){return U(Na,Q())};return Hb.apply(Na,arguments)}function ka(){var Na=L(G()).domain([.1,1,10]);Na.copy=function(){return U(Na,
ka()).base(Na.base())};return Hb.apply(Na,arguments)}function Da(){var Na=aa(G());Na.copy=function(){return U(Na,Da()).constant(Na.constant())};return Hb.apply(Na,arguments)}function sb(){var Na=da(G());Na.copy=function(){return U(Na,sb()).exponent(Na.exponent())};return Hb.apply(Na,arguments)}const Ya=Symbol("implicit");var ob=[0,1];h.scaleBand=Ka;h.scaleDiverging=Q;h.scaleDivergingLog=ka;h.scaleDivergingPow=sb;h.scaleDivergingSqrt=function(){return sb.apply(null,arguments).exponent(.5)};h.scaleDivergingSymlog=
Da;h.scaleIdentity=ia;h.scaleImplicit=Ya;h.scaleLinear=K;h.scaleLog=J;h.scaleOrdinal=hb;h.scalePoint=function(){return Ha(Ka.apply(null,arguments).paddingInner(1))};h.scalePow=ca;h.scaleQuantile=c;h.scaleQuantize=f;h.scaleRadial=e;h.scaleSequential=wa;h.scaleSequentialLog=cb;h.scaleSequentialPow=Y;h.scaleSequentialQuantile=ta;h.scaleSequentialSqrt=function(){return Y.apply(null,arguments).exponent(.5)};h.scaleSequentialSymlog=gb;h.scaleSqrt=function(){return ca.apply(null,arguments).exponent(.5)};
h.scaleSymlog=ea;h.scaleThreshold=l;h.scaleTime=function(){return wb.apply(w(tb.timeTicks,tb.timeTickInterval,tb.timeYear,tb.timeMonth,tb.timeWeek,tb.timeDay,tb.timeHour,tb.timeMinute,tb.timeSecond,bb.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};h.scaleUtc=function(){return wb.apply(w(tb.utcTicks,tb.utcTickInterval,tb.utcYear,tb.utcMonth,tb.utcWeek,tb.utcDay,tb.utcHour,tb.utcMinute,tb.utcSecond,bb.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};h.tickFormat=
za;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[39]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17),Qb(18),Qb(38),Qb(37),Qb(21)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.d3,h.d3,h.d3,h.vega))})(this,function(h,r,z,Ra,tb,bb){function wb(c,f,l){f=c-f+2*l;return c?0<f?f:1:0}function Hb(c){return function(f){let l=f[0];f=f[1];let m;
f<l&&(m=l,l=f,f=m);return[c.invert(l),c.invert(f)]}}function hb(c){return function(f){const l=c.range();let m=f[0];f=f[1];let q=-1,w;let F;if(f<m){var U=m;m=f;f=U}U=0;for(F=l.length;U<F;++U)l[U]>=m&&l[U]<=f&&(0>q&&(q=U),w=U);if(!(0>q))return m=c.invertExtent(l[q]),f=c.invertExtent(l[w]),[void 0===m[0]?m[1]:m[0],void 0===f[1]?f[0]:f[1]]}}function Ka(){function c(){var Y=l().length;const ta=q[1]<q[0],G=q[1-ta],Q=wb(Y,wa,cb);let ka=q[ta-0];w=(G-ka)/(Q||1);U&&(w=Math.floor(w));ka+=(G-ka-w*(Y-wa))*gb;
F=w*(1-wa);U&&(ka=Math.round(ka),F=Math.round(F));Y=z.range(Y).map(Da=>ka+w*Da);return m(ta?Y.reverse():Y)}const f=Ra.scaleOrdinal().unknown(void 0),l=f.domain,m=f.range;let q=[0,1],w,F,U=!1,wa=0,cb=0,gb=.5;delete f.unknown;f.domain=function(Y){return arguments.length?(l(Y),c()):l()};f.range=function(Y){return arguments.length?(q=[+Y[0],+Y[1]],c()):q.slice()};f.rangeRound=function(Y){q=[+Y[0],+Y[1]];U=!0;return c()};f.bandwidth=function(){return F};f.step=function(){return w};f.round=function(Y){return arguments.length?
(U=!!Y,c()):U};f.padding=function(Y){return arguments.length?(wa=cb=Math.max(0,Math.min(1,Y)),c()):wa};f.paddingInner=function(Y){return arguments.length?(wa=Math.max(0,Math.min(1,Y)),c()):wa};f.paddingOuter=function(Y){return arguments.length?(cb=Math.max(0,Math.min(1,Y)),c()):cb};f.align=function(Y){return arguments.length?(gb=Math.max(0,Math.min(1,Y)),c()):gb};f.invertRange=function(Y){if(null!=Y[0]&&null!=Y[1]){var ta=q[1]<q[0],G=ta?m().reverse():m(),Q=G.length-1,ka=+Y[0],Da=+Y[1];if(ka===ka&&
Da===Da){if(Da<ka){var sb=ka;ka=Da;Da=sb}if(!(Da<G[0]||ka>q[1-ta]))return Y=Math.max(0,z.bisectRight(G,ka)-1),Da=ka===Da?Y:z.bisectRight(G,Da)-1,ka-G[Y]>F+1E-10&&++Y,ta&&(sb=Y,Y=Q-Da,Da=Q-sb),Y>Da?void 0:l().slice(Y,Da+1)}}};f.invert=function(Y){return(Y=f.invertRange([Y,Y]))?Y[0]:Y};f.copy=function(){return Ka().domain(l()).range(q).round(U).paddingInner(wa).paddingOuter(cb).align(gb)};return c()}function Ha(c){const f=c.copy;c.padding=c.paddingOuter;delete c.paddingInner;c.copy=function(){return Ha(f())};
return c}function Sa(){function c(m){return null==m||m!==m?void 0:l[(z.bisect(f,m)-1)%l.length]}let f=[],l=[];c.domain=function(m){return arguments.length?(f=L.call(m,r.toNumber),c):f.slice()};c.range=function(m){return arguments.length?(l=J.call(m),c):l.slice()};c.tickFormat=function(m,q){return Ra.tickFormat(f[0],r.peek(f),null==m?10:m,q)};c.copy=function(){return Sa().domain(c.domain()).range(c.range())};return c}function xa(c,f,l){const m=function(){const q=f();q.invertRange||(q.invertRange=q.invert?
Hb(q):q.invertExtent?hb(q):void 0);q.type=c;return q};m.metadata=r.toSet(r.array(l));return m}function ma(c,f,l){return 1<arguments.length?(B[c]=xa(c,f,l),this):na(c)?B[c]:void 0}function na(c){return r.hasOwnProperty(B,c)}function Ba(c,f){return(c=B[c])&&c.metadata[f]}function Fa(c){return Ba(c,"discrete")}function la(c){return Ba(c,"discretizing")}function ra(c){return Ba(c,"log")}function Qa(c){return Ba(c,"temporal")}function za(c,f,l){return tb.piecewise(Ta(f||"rgb",l),c)}function Ta(c,f){c=
x[K(c)];return null!=f&&c&&c.gamma?c.gamma(f):c}function K(c){return"interpolate"+c.toLowerCase().split("-").map(f=>f[0].toUpperCase()+f.slice(1)).join("")}function ia(c){const f=c.length/6|0,l=Array(f);for(let m=0;m<f;)l[m]="#"+c.slice(6*m,6*++m);return l}function ya(c,f){for(const l in c)ua(l,f(c[l]))}function ua(c,f){c=c&&c.toLowerCase();return 1<arguments.length?(aa[c]=f,this):aa[c]}function La(c,f,l){var m=c.range();let q=m[0],w=r.peek(m);m=Ca;q>w&&(m=w,w=q,q=m,m=Ia);q=Math.floor(q);w=Math.ceil(w);
f=f.map(F=>[F,c(F)]).filter(F=>q<=F[1]&&F[1]<=w).sort(m).map(F=>F[0]);if(0<l&&1<f.length){for(m=[f[0],r.peek(f)];f.length>l&&3<=f.length;)f=f.filter((F,U)=>!(U%2));3>f.length&&(f=m)}return f}function Oa(c,f){return c.bins?La(c,c.bins):c.ticks?c.ticks(f):c.domain()}function Aa(c,f,l,m,q,w){const F=f.type;let U=ea;if("time"===F||"time"===q)U=c.timeFormat(m);else if("utc"===F||"utc"===q)U=c.utcFormat(m);else if(ra(F)){const wa=c.formatFloat(m);if(w||f.bins)U=wa;else{const cb=ab(f,l,!1);U=gb=>cb(gb)?
wa(gb):""}}else f.tickFormat?(f=f.domain(),U=c.formatSpan(f[0],f[f.length-1],l,m)):m&&(U=c.format(m));return U}function ab(c,f,l){const m=Oa(c,f),q=c.base(),w=Math.log(q),F=Math.max(1,q*f/m.length);c=U=>{U/=Math.pow(q,Math.round(Math.log(U)/w));U*q<q-.5&&(U*=q);return U<=F};return l?m.filter(c):c}function Va(c,f){c.bins?(c=c.bins,f=c.slice(0,-1),f.max=r.peek(c),c=f):"log"===c.type?c=ab(c,f,!0):H[c.type]?(c=c[H[c.type]](),c=[-Infinity].concat(c),c.max=Infinity):c=Oa(c,f);return c}function I(c,f,l,
m,q,w,F){if(da[f.type]&&"time"!==w&&"utc"!==w){l=f[da[f.type]]();w=l.length;F=1<w?l[1]-l[0]:l[0];let U;for(U=1;U<w;++U)F=Math.min(F,l[U]-l[U-1]);c=c.formatSpan(0,F,30,q)}else c=Aa(c,f,l,q,w,F);return"symbol"===m&&(H[f.type]||f.bins)?ca(c):"discrete"===m?X(c):e(c)}var x=function(c){if(c&&c.__esModule)return c;var f=Object.create(null);c&&Object.keys(c).forEach(function(l){if("default"!==l){var m=Object.getOwnPropertyDescriptor(c,l);Object.defineProperty(f,l,m.get?m:{enumerable:!0,get:function(){return c[l]}})}});
f["default"]=c;return Object.freeze(f)}(tb),L=Array.prototype.map;const J=Array.prototype.slice,B={};ma("identity",Ra.scaleIdentity);ma("linear",Ra.scaleLinear,"continuous");ma("log",Ra.scaleLog,["continuous","log"]);ma("pow",Ra.scalePow,"continuous");ma("sqrt",Ra.scaleSqrt,"continuous");ma("symlog",Ra.scaleSymlog,"continuous");ma("time",Ra.scaleTime,["continuous","temporal"]);ma("utc",Ra.scaleUtc,["continuous","temporal"]);ma("sequential",Ra.scaleSequential,["continuous","interpolating"]);ma("sequential-linear",
Ra.scaleSequential,["continuous","interpolating"]);ma("sequential-log",Ra.scaleSequentialLog,["continuous","interpolating","log"]);ma("sequential-pow",Ra.scaleSequentialPow,["continuous","interpolating"]);ma("sequential-sqrt",Ra.scaleSequentialSqrt,["continuous","interpolating"]);ma("sequential-symlog",Ra.scaleSequentialSymlog,["continuous","interpolating"]);ma("diverging-linear",Ra.scaleDiverging,["continuous","interpolating"]);ma("diverging-log",Ra.scaleDivergingLog,["continuous","interpolating",
"log"]);ma("diverging-pow",Ra.scaleDivergingPow,["continuous","interpolating"]);ma("diverging-sqrt",Ra.scaleDivergingSqrt,["continuous","interpolating"]);ma("diverging-symlog",Ra.scaleDivergingSymlog,["continuous","interpolating"]);ma("quantile",Ra.scaleQuantile,["discretizing","quantile"]);ma("quantize",Ra.scaleQuantize,"discretizing");ma("threshold",Ra.scaleThreshold,"discretizing");ma("bin-ordinal",Sa,["discrete","discretizing"]);ma("ordinal",Ra.scaleOrdinal,"discrete");ma("band",Ka,"discrete");
ma("point",function(){return Ha(Ka().paddingInner(1))},"discrete");const R=["clamp","base","constant","exponent"],aa={};ya({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",
tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",
set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ia);ya({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",
purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",
purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",
brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",
redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",
inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},c=>za(ia(c)));const ea=c=>r.isArray(c)?c.map(f=>String(f)):String(c),Ca=(c,f)=>c[1]-f[1],Ia=(c,f)=>f[1]-c[1],H={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},da={["quantile"]:"quantiles",["quantize"]:"domain"},ca=c=>(f,l,m)=>{l=m[l+1];m=m.max;m=null!=m?m:Infinity;l=null!=l?l:m;
f=Number.isFinite(f)?c(f):null;l=Number.isFinite(l)?c(l):null;return f&&l?f+" – "+l:l?"\x3c "+l:"≥ "+f},X=c=>(f,l)=>l?c(f):null,e=c=>f=>c(f);Object.defineProperty(h,"scaleImplicit",{enumerable:!0,get:function(){return Ra.scaleImplicit}});h.Band="band";h.BinOrdinal="bin-ordinal";h.DiscreteLegend="discrete";h.Diverging="diverging";h.GradientLegend="gradient";h.Identity="identity";h.Linear="linear";h.Log="log";h.Ordinal="ordinal";h.Point="point";h.Pow="pow";h.Quantile="quantile";h.Quantize="quantize";
h.Sequential="sequential";h.Sqrt="sqrt";h.SymbolLegend="symbol";h.Symlog="symlog";h.Threshold="threshold";h.Time="time";h.UTC="utc";h.bandSpace=wb;h.domainCaption=function(c,f,l){l=l||{};var m=Math.max(3,l.maxlen||7),q=l.format;const w=(l=l.formatType)||f.type;r.isString(q)&&Qa(w)&&(q=q.replace(/%a/g,"%A").replace(/%b/g,"%B"));c=q||"time"!==w?q||"utc"!==w?I(c,f,5,null,q,l,!0):c.utcFormat("%A, %d %B %Y, %X UTC"):c.timeFormat("%A, %d %B %Y, %X");if(la(f.type))return m=Va(f).slice(1).map(c),f=m.length,
`${f} boundar${1===f?"y":"ies"}: ${m.join(", ")}`;if(Fa(f.type))return q=f.domain(),f=q.length,m=f>m?q.slice(0,m-2).map(c).join(", ")+", ending with "+q.slice(-1).map(c):q.map(c).join(", "),`${f} value${1===f?"":"s"}: ${m}`;m=f.domain();return`values from ${c(m[0])} to ${c(r.peek(m))}`};h.interpolate=Ta;h.interpolateColors=za;h.interpolateRange=function(c,f){const l=f[0],m=r.peek(f)-l;return function(q){return c(l+q*m)}};h.isContinuous=function(c){return Ba(c,"continuous")};h.isDiscrete=Fa;h.isDiscretizing=
la;h.isInterpolating=function(c){return Ba(c,"interpolating")};h.isLogarithmic=ra;h.isQuantile=function(c){return Ba(c,"quantile")};h.isTemporal=Qa;h.isValidScaleType=na;h.labelFormat=I;h.labelFraction=function(c){var f=c.domain();const l=f.length-1;let m=+f[0];f=+r.peek(f);let q=f-m;"threshold"===c.type&&(c=l?q/l:.1,m-=c,f+=c,q=f-m);return w=>(w-m)/q};h.labelValues=Va;h.quantizeInterpolator=function(c,f){const l=Array(f),m=f+1;for(let q=0;q<f;)l[q]=c(++q/m);return l};h.scale=ma;h.scaleCopy=function(c){const f=
c.type;c=c.copy();c.type=f;return c};h.scaleFraction=function(c,f,l){var m=l-f;let q,w;return m&&Number.isFinite(m)?(m=(q=c.type).indexOf("-"),q=0>m?q:q.slice(m+1),w=ma(q)().domain([f,l]).range([0,1]),R.forEach(F=>c[F]?w[F](c[F]()):0),w):r.constant(.5)};h.scheme=ua;h.tickCount=function(c,f,l){let m;r.isNumber(f)&&(c.bins&&(f=Math.max(f,c.bins.length)),null!=l&&(f=Math.min(f,Math.floor(r.span(c.domain())/l||1))));r.isObject(f)&&(m=f.step,f=f.interval);r.isString(f)&&(f="time"===c.type?bb.timeInterval(f):
"utc"==c.type?bb.utcInterval(f):r.error("Only time and utc scales accept interval strings."),m&&(f=f.every(m)));return f};h.tickFormat=Aa;h.tickValues=Oa;h.validTicks=La;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[40]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17),Qb(34),Qb(33),Qb(35),Qb(28),Qb(39)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.d3,h.d3,h.vega,h.vega,h.vega))})(this,function(h,r,z,Ra,tb,bb,wb){function Hb(t,y,S){const ba=t.gradient;let Wa=t.id,vb="radial"===ba?"p_":"";Wa||
(Wa=t.id="gradient_"+ic++,"radial"===ba?(t.x1=hb(t.x1,.5),t.y1=hb(t.y1,.5),t.r1=hb(t.r1,0),t.x2=hb(t.x2,.5),t.y2=hb(t.y2,.5),t.r2=hb(t.r2,.5),vb="p_"):(t.x1=hb(t.x1,0),t.y1=hb(t.y1,0),t.x2=hb(t.x2,1),t.y2=hb(t.y2,0)));y[Wa]=t;return"url("+(S||"")+"#"+vb+Wa+")"}function hb(t,y){return null!=t?t:y}function Ka(t,y,S){t=r.hasOwnProperty(Wc,t)&&Wc[t];var ba=null;t&&(ba=t.curve||t[y||"vertical"],t.tension&&null!=S&&(ba=ba[t.tension](S)));return ba}function Ha(t){const y=[];let S,ba,Wa,vb;var Eb;const Nb=
t.slice().replace(Nc[0],"###$1").split(Nc[1]).slice(1);t=0;for(vb=Nb.length;t<vb;++t){var cc=Nb[t];var Dc=cc.slice(1).trim().replace(Nc[2],"$1###$2").replace(Nc[3],"$1###$2").split(Nc[4]);ba=cc.charAt(0);cc=[ba];Wa=0;for(Eb=Dc.length;Wa<Eb;++Wa)(S=+Dc[Wa])===S&&cc.push(S);Dc=xc[ba.toLowerCase()];if(cc.length-1>Dc)for(Eb=cc.length,Wa=1,y.push([ba].concat(cc.slice(Wa,Wa+=Dc))),ba="M"===ba?"L":"m"===ba?"l":ba;Wa<Eb;Wa+=Dc)y.push([ba].concat(cc.slice(Wa,Wa+Dc)));else y.push(cc)}return y}function Sa(t,
y,S,ba,Wa,vb,Eb,Nb,cc){const Dc=Wd.call(arguments);if(oe[Dc])return oe[Dc];var zc=Eb*Wb;const td=Math.sin(zc);zc=Math.cos(zc);S=Math.abs(S);ba=Math.abs(ba);var Id=zc*(Nb-t)*.5+td*(cc-y)*.5,Rc=zc*(cc-y)*.5-td*(Nb-t)*.5;Id=Id*Id/(S*S)+Rc*Rc/(ba*ba);1<Id&&(Id=Math.sqrt(Id),S*=Id,ba*=Id);var Hd=zc/S,Vd=td/S,ve=-td/ba,Z=zc/ba;Id=Hd*Nb+Vd*cc;Rc=ve*Nb+Z*cc;Hd=Hd*t+Vd*y;Vd=ve*t+Z*y;ve=1/((Hd-Id)*(Hd-Id)+(Vd-Rc)*(Vd-Rc))-.25;0>ve&&(ve=0);Z=Math.sqrt(ve);vb==Wa&&(Z=-Z);ve=.5*(Id+Hd)-Z*(Vd-Rc);Z=.5*(Rc+Vd)+
Z*(Hd-Id);Id=Math.atan2(Rc-Z,Id-ve);Rc=Math.atan2(Vd-Z,Hd-ve)-Id;0>Rc&&1===vb?Rc+=cd:0<Rc&&0===vb&&(Rc-=cd);Hd=Math.ceil(Math.abs(Rc/(sd+.001)));Vd=[];for(let sa=0;sa<Hd;++sa)Vd[sa]=[ve,Z,Id+sa*Rc/Hd,Id+(sa+1)*Rc/Hd,S,ba,td,zc];return oe[Dc]=Vd}function xa(t,y,S,ba,Wa,vb){var Eb=null,Nb=0,cc=0,Dc=0,zc=0;null==S&&(S=0);null==ba&&(ba=0);null==Wa&&(Wa=1);null==vb&&(vb=Wa);t.beginPath&&t.beginPath();for(var td=0,Id=y.length;td<Id;++td){var Rc=y[td];if(1!==Wa||1!==vb){var Hd=Wa;var Vd=vb;var ve=ie[0]=
Rc[0];if("a"===ve||"A"===ve)ie[1]=Hd*Rc[1],ie[2]=Vd*Rc[2],ie[3]=Rc[3],ie[4]=Rc[4],ie[5]=Rc[5],ie[6]=Hd*Rc[6],ie[7]=Vd*Rc[7];else if("h"===ve||"H"===ve)ie[1]=Hd*Rc[1];else if("v"===ve||"V"===ve)ie[1]=Vd*Rc[1];else{ve=1;for(var Z=Rc.length;ve<Z;++ve)ie[ve]=(1==ve%2?Hd:Vd)*Rc[ve]}Rc=ie}switch(Rc[0]){case "l":Nb+=Rc[1];cc+=Rc[2];t.lineTo(Nb+S,cc+ba);break;case "L":Nb=Rc[1];cc=Rc[2];t.lineTo(Nb+S,cc+ba);break;case "h":Nb+=Rc[1];t.lineTo(Nb+S,cc+ba);break;case "H":Nb=Rc[1];t.lineTo(Nb+S,cc+ba);break;case "v":cc+=
Rc[1];t.lineTo(Nb+S,cc+ba);break;case "V":cc=Rc[1];t.lineTo(Nb+S,cc+ba);break;case "m":Nb+=Rc[1];cc+=Rc[2];t.moveTo(Nb+S,cc+ba);break;case "M":Nb=Rc[1];cc=Rc[2];t.moveTo(Nb+S,cc+ba);break;case "c":Hd=Nb+Rc[5];Vd=cc+Rc[6];Dc=Nb+Rc[3];zc=cc+Rc[4];t.bezierCurveTo(Nb+Rc[1]+S,cc+Rc[2]+ba,Dc+S,zc+ba,Hd+S,Vd+ba);Nb=Hd;cc=Vd;break;case "C":Nb=Rc[5];cc=Rc[6];Dc=Rc[3];zc=Rc[4];t.bezierCurveTo(Rc[1]+S,Rc[2]+ba,Dc+S,zc+ba,Nb+S,cc+ba);break;case "s":Hd=Nb+Rc[3];Vd=cc+Rc[4];Dc=2*Nb-Dc;zc=2*cc-zc;t.bezierCurveTo(Dc+
S,zc+ba,Nb+Rc[1]+S,cc+Rc[2]+ba,Hd+S,Vd+ba);Dc=Nb+Rc[1];zc=cc+Rc[2];Nb=Hd;cc=Vd;break;case "S":Hd=Rc[3];Vd=Rc[4];Dc=2*Nb-Dc;zc=2*cc-zc;t.bezierCurveTo(Dc+S,zc+ba,Rc[1]+S,Rc[2]+ba,Hd+S,Vd+ba);Nb=Hd;cc=Vd;Dc=Rc[1];zc=Rc[2];break;case "q":Hd=Nb+Rc[3];Vd=cc+Rc[4];Dc=Nb+Rc[1];zc=cc+Rc[2];t.quadraticCurveTo(Dc+S,zc+ba,Hd+S,Vd+ba);Nb=Hd;cc=Vd;break;case "Q":Hd=Rc[3];Vd=Rc[4];t.quadraticCurveTo(Rc[1]+S,Rc[2]+ba,Hd+S,Vd+ba);Nb=Hd;cc=Vd;Dc=Rc[1];zc=Rc[2];break;case "t":Hd=Nb+Rc[1];Vd=cc+Rc[2];null===Eb[0].match(/[QqTt]/)?
(Dc=Nb,zc=cc):"t"===Eb[0]?(Dc=2*Nb-sa,zc=2*cc-Ja):"q"===Eb[0]&&(Dc=2*Nb-Dc,zc=2*cc-zc);var sa=Dc;var Ja=zc;t.quadraticCurveTo(Dc+S,zc+ba,Hd+S,Vd+ba);Nb=Hd;cc=Vd;Dc=Nb+Rc[1];zc=cc+Rc[2];break;case "T":Hd=Rc[1];Vd=Rc[2];Dc=2*Nb-Dc;zc=2*cc-zc;t.quadraticCurveTo(Dc+S,zc+ba,Hd+S,Vd+ba);Nb=Hd;cc=Vd;break;case "a":ma(t,Nb+S,cc+ba,[Rc[1],Rc[2],Rc[3],Rc[4],Rc[5],Rc[6]+Nb+S,Rc[7]+cc+ba]);Nb+=Rc[6];cc+=Rc[7];break;case "A":ma(t,Nb+S,cc+ba,[Rc[1],Rc[2],Rc[3],Rc[4],Rc[5],Rc[6]+S,Rc[7]+ba]);Nb=Rc[6];cc=Rc[7];break;
case "z":case "Z":t.closePath()}Eb=Rc}}function ma(t,y,S,ba){y=Sa(ba[5],ba[6],ba[0],ba[1],ba[3],ba[4],ba[2],y,S);for(S=0;S<y.length;++S){a:{var Wa=y[S];ba=Wd.call(Wa);if(qd[ba]){ba=qd[ba];break a}var vb=Wa[0],Eb=Wa[1],Nb=Wa[2],cc=Wa[3],Dc=Wa[4],zc=Wa[5],td=Wa[6],Id=Wa[7];Wa=Id*Dc;const Hd=-td*zc;Dc*=td;zc*=Id;var Rc=Math.cos(Nb);const Vd=Math.sin(Nb);td=Math.cos(cc);Id=Math.sin(cc);Nb=.5*(cc-Nb);cc=Math.sin(.5*Nb);cc=8/3*cc*cc/Math.sin(Nb);Nb=vb+Rc-cc*Vd;Rc=Eb+Vd+cc*Rc;vb+=td;Eb+=Id;Id=vb+cc*Id;td=
Eb-cc*td;ba=qd[ba]=[Wa*Nb+Hd*Rc,Dc*Nb+zc*Rc,Wa*Id+Hd*td,Dc*Id+zc*td,Wa*vb+Hd*Eb,Dc*vb+zc*Eb]}t.bezierCurveTo(ba[0],ba[1],ba[2],ba[3],ba[4],ba[5])}}function na(t){return r.hasOwnProperty(we,t)?we[t]:Ba(t)}function Ba(t){if(!r.hasOwnProperty(lf,t)){const y=Ha(t);lf[t]={draw:function(S,ba){xa(S,y,0,0,Math.sqrt(ba)/2)}}}return lf[t]}function Fa(t){return t.x}function la(t){return t.y}function ra(t){return t.width}function Qa(t){return t.height}function za(t){return"function"===typeof t?t:()=>+t}function Ta(t,
y,S){return Math.max(y,Math.min(t,S))}function K(){function t(zc,td,Id){var Rc;td=null!=td?td:+y.call(this,zc);Id=null!=Id?Id:+S.call(this,zc);var Hd=+ba.call(this,zc),Vd=+Wa.call(this,zc),ve=Math.min(Hd,Vd)/2,Z=Ta(+vb.call(this,zc),0,ve),sa=Ta(+Eb.call(this,zc),0,ve),Ja=Ta(+Nb.call(this,zc),0,ve);zc=Ta(+cc.call(this,zc),0,ve);Dc||(Dc=Rc=Ra.path());0>=Z&&0>=sa&&0>=Ja&&0>=zc?Dc.rect(td,Id,Hd,Vd):(Hd=td+Hd,Vd=Id+Vd,Dc.moveTo(td+Z,Id),Dc.lineTo(Hd-sa,Id),Dc.bezierCurveTo(Hd-.448084975506*sa,Id,Hd,Id+
.448084975506*sa,Hd,Id+sa),Dc.lineTo(Hd,Vd-zc),Dc.bezierCurveTo(Hd,Vd-.448084975506*zc,Hd-.448084975506*zc,Vd,Hd-zc,Vd),Dc.lineTo(td+Ja,Vd),Dc.bezierCurveTo(td+.448084975506*Ja,Vd,td,Vd-.448084975506*Ja,td,Vd-Ja),Dc.lineTo(td,Id+Z),Dc.bezierCurveTo(td,Id+.448084975506*Z,td+.448084975506*Z,Id,td+Z,Id),Dc.closePath());if(Rc)return Dc=null,Rc+""||null}var y=Fa,S=la,ba=ra,Wa=Qa,vb=za(0),Eb=vb,Nb=vb,cc=vb,Dc=null;t.x=function(zc){return arguments.length?(y=za(zc),t):y};t.y=function(zc){return arguments.length?
(S=za(zc),t):S};t.width=function(zc){return arguments.length?(ba=za(zc),t):ba};t.height=function(zc){return arguments.length?(Wa=za(zc),t):Wa};t.cornerRadius=function(zc,td,Id,Rc){return arguments.length?(vb=za(zc),Eb=null!=td?za(td):vb,cc=null!=Id?za(Id):vb,Nb=null!=Rc?za(Rc):Eb,t):vb};t.context=function(zc){return arguments.length?(Dc=null==zc?null:zc,t):Dc};return t}function ia(){function t(zc){var td,Id=zc.length,Rc,Hd=!1,Vd;null==vb&&(vb=Vd=Ra.path());for(td=0;td<=Id;++td)if(!(td<Id&&Wa(Rc=zc[td],
td,zc))===Hd&&(Hd=!Hd)&&(Eb=0),Hd){var ve=+y(Rc,td,zc),Z=+S(Rc,td,zc);const dc=+ba(Rc,td,zc)/2;if(Eb){var sa=cc-Z,Ja=ve-Nb;if(sa||Ja){var ib=Math.sqrt(sa*sa+Ja*Ja),xb=(sa/=ib)*Dc;ib=(Ja/=ib)*Dc;var ac=Math.atan2(Ja,sa);vb.moveTo(Nb-xb,cc-ib);vb.lineTo(ve-sa*dc,Z-Ja*dc);vb.arc(ve,Z,dc,ac-Math.PI,ac);vb.lineTo(Nb+xb,cc+ib);vb.arc(Nb,cc,Dc,ac,ac+Math.PI)}else vb.arc(ve,Z,dc,0,cd);vb.closePath()}else Eb=1;Nb=ve;cc=Z;Dc=dc}if(Vd)return vb=null,Vd+""||null}var y,S,ba,Wa,vb=null,Eb,Nb,cc,Dc;t.x=function(zc){return arguments.length?
(y=zc,t):y};t.y=function(zc){return arguments.length?(S=zc,t):S};t.size=function(zc){return arguments.length?(ba=zc,t):ba};t.defined=function(zc){return arguments.length?(Wa=zc,t):Wa};t.context=function(zc){return arguments.length?(vb=null==zc?null:zc,t):vb};return t}function ya(t,y){return null!=t?t:y}function ua(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function La(t,y,S,ba){return xe.context(t)(y,S,ba)}function Oa(t,
y,S){var ba=y.clip;t=t._defs;y=y.clip_id||(y.clip_id="clip"+Ge++);t=t.clipping[y]||(t.clipping[y]={id:y});r.isFunction(ba)?t.path=ba(null):ua(S)?t.path=La(null,S,0,0):(t.width=S.width||0,t.height=S.height||0);return"url(#"+y+")"}function Aa(t){this.clear();t&&this.union(t)}function ab(t){this.mark=t;this.bounds=this.bounds||new Aa}function Va(t){ab.call(this,t);this.items=this.items||[]}function I(t){this._pending=0;this._loader=t||bb.loader()}function x(t,y,S){if(y.stroke&&0!==y.opacity&&0!==y.strokeOpacity){const ba=
null!=y.strokeWidth?+y.strokeWidth:1;t.expand(ba+(S?y.strokeJoin&&"miter"!==y.strokeJoin?0:ba:0))}return t}function L(t,y){vd=t;y?(dd=y*Wb,Ee=ye=Math.cos(dd),Ce=Math.sin(dd),pe=-Ce):(Ee=ye=1,dd=Ce=pe=0);return Pb}function J(t,y,S,ba){S=(t-y)/(t+S-2*y);0<S&&1>S&&ba(t+(y-t)*S)}function B(t,y,S,ba,Wa){const vb=ba-t+3*y-3*S,Eb=t+S-2*y;var Nb=t-y;let cc=0,Dc=0;1E-14<Math.abs(vb)?(Nb=Eb*Eb+Nb*vb,0<=Nb&&(Nb=Math.sqrt(Nb),cc=(-Eb+Nb)/vb,Dc=(-Eb-Nb)/vb)):cc=.5*Nb/Eb;0<cc&&1>cc&&Wa(R(cc,t,y,S,ba));0<Dc&&1>
Dc&&Wa(R(Dc,t,y,S,ba))}function R(t,y,S,ba,Wa){const vb=1-t,Eb=vb*vb,Nb=t*t;return Eb*vb*y+3*Eb*t*S+3*vb*Nb*ba+Nb*t*Wa}function aa(t){return function(y,S){if(!wc)return!0;t(wc,y);fc.clear().union(y.bounds).intersect(S).round();const {x1:ba,y1:Wa,x2:vb,y2:Eb}=fc;for(y=Wa;y<=Eb;++y)for(S=ba;S<=vb;++S)if(wc.isPointInPath(S,y))return!0;return!1}}function ea(t,y){return y.contains(t.x||0,t.y||0)}function Ca(t,y){const S=t.x||0,ba=t.y||0;return y.intersects(fc.set(S,ba,S+(t.width||0),ba+(t.height||0)))}
function Ia(t,y){const S=t.x||0,ba=t.y||0;return H(y,S,ba,null!=t.x2?t.x2:S,null!=t.y2?t.y2:ba)}function H(t,y,S,ba,Wa){const {x1:vb,y1:Eb,x2:Nb,y2:cc}=t;t=ba-y;Wa-=S;ba=0;let Dc=1,zc,td,Id,Rc;for(Rc=0;4>Rc;++Rc){0===Rc&&(zc=-t,td=-(vb-y));1===Rc&&(zc=t,td=Nb-y);2===Rc&&(zc=-Wa,td=-(Eb-S));3===Rc&&(zc=Wa,td=cc-S);if(1E-10>Math.abs(zc)&&0>td)return!1;Id=td/zc;if(0>zc){if(Id>Dc)return!1;Id>ba&&(ba=Id)}else if(0<zc){if(Id<ba)return!1;Id<Dc&&(Dc=Id)}}return!0}function da(t,y){t.globalCompositeOperation=
y.blend||"source-over"}function ca(t,y){return null==t?y:t}function X(t,y){const S=y.length;for(let ba=0;ba<S;++ba)t.addColorStop(y[ba].offset,y[ba].color);return t}function e(t,y,S){const ba=S.width(),Wa=S.height();if("radial"===y.gradient)t=t.createRadialGradient(S.x1+ca(y.x1,.5)*ba,S.y1+ca(y.y1,.5)*Wa,Math.max(ba,Wa)*ca(y.r1,0),S.x1+ca(y.x2,.5)*ba,S.y1+ca(y.y2,.5)*Wa,Math.max(ba,Wa)*ca(y.r2,.5));else{const vb=ca(y.x1,0),Eb=ca(y.y1,0),Nb=ca(y.x2,1),cc=ca(y.y2,0);if(vb===Nb||Eb===cc||ba===Wa)t=t.createLinearGradient(S.x1+
vb*ba,S.y1+Eb*Wa,S.x1+Nb*ba,S.y1+cc*Wa);else{S=tb.canvas(Math.ceil(ba),Math.ceil(Wa));const Dc=S.getContext("2d");Dc.scale(ba,Wa);Dc.fillStyle=X(Dc.createLinearGradient(vb,Eb,Nb,cc),y.stops);Dc.fillRect(0,0,ba,Wa);return t.createPattern(S,"no-repeat")}}return X(t,y.stops)}function c(t,y,S){S*=null==y.fillOpacity?1:y.fillOpacity;return 0<S?(t.globalAlpha=S,y=(S=y.fill)&&S.gradient?e(t,S,y.bounds):S,t.fillStyle=y,!0):!1}function f(t,y,S){var ba=null!=(ba=y.strokeWidth)?ba:1;if(0>=ba)return!1;S*=null==
y.strokeOpacity?1:y.strokeOpacity;return 0<S?(t.globalAlpha=S,S=(S=y.stroke)&&S.gradient?e(t,S,y.bounds):S,t.strokeStyle=S,t.lineWidth=ba,t.lineCap=y.strokeCap||"butt",t.lineJoin=y.strokeJoin||"miter",t.miterLimit=y.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(y.strokeDash||Tc),t.lineDashOffset=y.strokeDashOffset||0),!0):!1}function l(t,y){return t.zindex-y.zindex||t.index-y.index}function m(t){if(!t.zdirty)return t.zitems;var y=t.items,S=[],ba;var Wa=0;for(ba=y.length;Wa<ba;++Wa){var vb=y[Wa];
vb.index=Wa;vb.zindex&&S.push(vb)}t.zdirty=!1;return t.zitems=S.sort(l)}function q(t,y){var S=t.items,ba;if(S&&S.length){var Wa=m(t);if(Wa&&Wa.length){t=0;for(ba=S.length;t<ba;++t)S[t].zindex||y(S[t]);S=Wa}t=0;for(ba=S.length;t<ba;++t)y(S[t])}}function w(t,y){var S=t.items,ba,Wa;if(!S||!S.length)return null;const vb=m(t);vb&&vb.length&&(S=vb);for(Wa=S.length;0<=--Wa;)if(ba=y(S[Wa]))return ba;if(S===vb)for(S=t.items,Wa=S.length;0<=--Wa;)if(!S[Wa].zindex&&(ba=y(S[Wa])))return ba;return null}function F(t){return function(y,
S,ba){q(S,Wa=>{ba&&!ba.intersects(Wa.bounds)||wa(t,y,Wa,Wa)})}}function U(t){return function(y,S,ba){!S.items.length||ba&&!ba.intersects(S.bounds)||wa(t,y,S.items[0],S.items)}}function wa(t,y,S,ba){var Wa=null==S.opacity?1:S.opacity;0===Wa||t(y,ba)||(da(y,S),S.fill&&c(y,S,Wa)&&y.fill(),S.stroke&&f(y,S,Wa)&&y.stroke())}function cb(t){t=t||r.truthy;return function(y,S,ba,Wa,vb,Eb){ba*=y.pixelRatio;Wa*=y.pixelRatio;return w(S,Nb=>{const cc=Nb.bounds;if((!cc||cc.contains(vb,Eb))&&cc&&t(y,Nb,ba,Wa,vb,
Eb))return Nb})}}function gb(t,y){return function(S,ba,Wa,vb){var Eb=Array.isArray(ba)?ba[0]:ba,Nb=null==y?Eb.fill:y,cc=Eb.stroke&&S.isPointInStroke;if(cc){var Dc=Eb.strokeWidth;Eb=Eb.strokeCap;S.lineWidth=null!=Dc?Dc:1;S.lineCap=null!=Eb?Eb:"butt"}return t(S,ba)?!1:Nb&&S.isPointInPath(Wa,vb)||cc&&S.isPointInStroke(Wa,vb)}}function Y(t,y){return"translate("+t+","+y+")"}function ta(t,y,S){function ba(Wa,vb){var Eb=vb.x||0,Nb=vb.y||0,cc=vb.angle||0;Wa.translate(Eb,Nb);cc&&Wa.rotate(cc*=Wb);Wa.beginPath();
y(Wa,vb);cc&&Wa.rotate(-cc);Wa.translate(-Eb,-Nb)}return{type:t,tag:"path",nested:!1,attr:function(Wa,vb){var Eb=Y(vb.x||0,vb.y||0)+(vb.angle?" rotate("+(vb.angle+")"):"");Wa("transform",Eb);Wa("d",y(null,vb))},bound:function(Wa,vb){y(L(Wa,vb.angle),vb);return x(Wa,vb).translate(vb.x||0,vb.y||0)},draw:F(ba),pick:cb(gb(ba)),isect:S||aa(ba)}}function G(t,y,S){function ba(vb,Eb){vb.beginPath();y(vb,Eb)}const Wa=gb(ba);return{type:t,tag:"path",nested:!0,attr:function(vb,Eb){Eb=Eb.mark.items;Eb.length&&
vb("d",y(null,Eb))},bound:function(vb,Eb){Eb=Eb.items;if(0===Eb.length)return vb;y(L(vb),Eb);return x(vb,Eb[0])},draw:U(ba),pick:function(vb,Eb,Nb,cc,Dc,zc){var td=Eb.items;Eb=Eb.bounds;if(!td||!td.length||Eb&&!Eb.contains(Dc,zc))return null;Nb*=vb.pixelRatio;cc*=vb.pixelRatio;return Wa(vb,td,Nb,cc)?td[0]:null},isect:ea,tip:S}}function Q(t,y){t.beginPath();ua(y)?La(t,y,0,0):t.rect(0,0,y.width||0,y.height||0);t.clip()}function ka(t){const y=ca(t.strokeWidth,1);return null!=t.strokeOffset?t.strokeOffset:
t.stroke&&.5<y&&1.5>y?.5-Math.abs(y-1):0}function Da(t,y,S,ba){const Wa=ka(y);t.beginPath();La(t,y,(S||0)+Wa,(ba||0)+Wa)}function sb(t,y){var S=t.image;if(!S||t.url&&t.url!==S.url)S={complete:!1,width:0,height:0},y.loadImage(t.url).then(ba=>{t.image=ba;t.image.url=t.url});return S}function Ya(t,y){return null!=t.width?t.width:y&&y.width?!1!==t.aspect&&t.height?t.height*y.width/y.height:y.width:0}function ob(t,y){return null!=t.height?t.height:y&&y.height?!1!==t.aspect&&t.width?t.width*y.height/y.width:
y.height:0}function Na(t,y){return"center"===t?y/2:"right"===t?y:0}function yb(t,y){return"middle"===t?y/2:"bottom"===t?y:0}function Fb(t,y){var S=y.path;if(null==S)return!0;var ba=y.x||0,Wa=y.y||0,vb=y.scaleX||1,Eb=y.scaleY||1,Nb=(y.angle||0)*Wb,cc=y.pathCache;cc&&cc.path===S||((y.pathCache=cc=Ha(S)).path=S);Nb&&t.rotate&&t.translate?(t.translate(ba,Wa),t.rotate(Nb),xa(t,cc,0,0,vb,Eb),t.rotate(-Nb),t.translate(-ba,-Wa)):xa(t,cc,ba,Wa,vb,Eb)}function eb(t,y){t.beginPath();La(t,y)}function Lb(t,y,
S){if(y.stroke&&f(t,y,S)){S=y.x||0;var ba=y.y||0;var Wa=null!=y.x2?y.x2:S;y=null!=y.y2?y.y2:ba;t.beginPath();t.moveTo(S,ba);t.lineTo(Wa,y);return!0}return!1}function hc(t){gf.width=t&&wc?Ic:Yb}function Yb(t,y){y=jd(t,y);t=hd(t);return~~(.8*y.length*t)}function Ic(t,y){return 0>=hd(t)||!(y=jd(t,y))?0:yc(y,zd(t))}function yc(t,y){const S=`(${y}) ${t}`;let ba=ff.get(S);void 0===ba&&(wc.font=y,ba=wc.measureText(t).width,ff.set(S,ba));return ba}function hd(t){return null!=t.fontSize?+t.fontSize||0:11}
function Bd(t){return null!=t.lineHeight?t.lineHeight:hd(t)+2}function Gc(t){t=t.lineBreak&&t.text&&!r.isArray(t.text)?t.text.split(t.lineBreak):t.text;return r.isArray(t)?1<t.length?t:t[0]:t}function jd(t,y){y=null==y?"":(y+"").trim();if(0<t.limit&&y.length){var S=+t.limit,ba=fe(t);if(!(ba(y)<S)){var Wa=t.ellipsis||"…",vb="rtl"===t.dir;t=0;var Eb=y.length;S-=ba(Wa);if(vb){for(;t<Eb;)vb=t+Eb>>>1,ba(y.slice(vb))>S?t=vb+1:Eb=vb;y=Wa+y.slice(t)}else{for(;t<Eb;)vb=1+(t+Eb>>>1),ba(y.slice(0,vb))<S?t=vb:
Eb=vb-1;y=y.slice(0,t)+Wa}}}return y}function fe(t){if(gf.width===Ic){const S=zd(t);return ba=>yc(ba,S)}const y=hd(t);return S=>~~(.8*S.length*y)}function Mc(t,y){t=t.font;return(y&&t?String(t).replace(/"/g,"'"):t)||"sans-serif"}function zd(t,y){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+hd(t)+"px "+Mc(t,y)}function Rd(t){var y=t.baseline,S=hd(t);return Math.round("top"===y?.79*S:"middle"===y?.3*S:"bottom"===y?-.21*S:"line-top"===
y?.29*S+.5*Bd(t):"line-bottom"===y?.29*S-.5*Bd(t):0)}function Db(t){var y=t.x||0,S=t.y||0,ba=t.radius||0;ba&&(t=(t.theta||0)-sd,y+=ba*Math.cos(t),S+=ba*Math.sin(t));Je.x1=y;Je.y1=S;return Je}function Zb(t,y,S){var ba=gf.height(y),Wa=y.align,vb=Db(y),Eb=vb.x1;vb=vb.y1;var Nb=y.dx||0,cc=(y.dy||0)+Rd(y)-Math.round(.8*ba),Dc=Gc(y);r.isArray(Dc)?(ba+=Bd(y)*(Dc.length-1),Dc=Dc.reduce((zc,td)=>Math.max(zc,gf.width(y,td)),0)):Dc=gf.width(y,Dc);"center"===Wa?Nb-=Dc/2:"right"===Wa&&(Nb-=Dc);t.set(Nb+=Eb,cc+=
vb,Nb+Dc,cc+ba);if(y.angle&&!S)t.rotate(y.angle*Wb,Eb,vb);else if(2===S)return t.rotatedPoints(y.angle*Wb,Eb,vb);return t}function jb(t,y,S){var ba=Ue[t.mark.marktype];y=y||ba.bound;ba.nested&&(t=t.mark);return y(t.bounds||(t.bounds=new Aa),t,S)}function lc(t,y,S){var ba=Ue[t.marktype],Wa=ba.bound,vb=t.items,Eb=vb&&vb.length;if(ba.nested)return Eb?t=vb[0]:(zf.mark=t,t=zf),S=jb(t,Wa,S),y=y&&y.union(S)||S;y=y||t.bounds&&t.bounds.clear()||new Aa;if(Eb)for(ba=0,Eb=vb.length;ba<Eb;++ba)y.union(jb(vb[ba],
Wa,S));return t.bounds=y}function pc(t,y){return JSON.stringify(t,bf,y)}function gd(t){t="string"===typeof t?JSON.parse(t):t;return xd(t)}function xd(t){var y=t.marktype,S=t.items,ba;if(S){var Wa=0;for(ba=S.length;Wa<ba;++Wa){var vb=y?"mark":"group";S[Wa][vb]=t;S[Wa].zindex&&(S[Wa][vb].zdirty=!0);"group"===(y||vb)&&xd(S[Wa])}}y&&lc(t);return t}function M(t){arguments.length?this.root=gd(t):(this.root=oa({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Va(this.root)])}function oa(t,
y){y={bounds:new Aa,clip:!!t.clip,group:y,interactive:!1===t.interactive?!1:!0,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};null!=t.aria&&(y.aria=t.aria);t.description&&(y.description=t.description);return y}function $a(t,y,S){!t&&"undefined"!==typeof document&&document.createElement&&(t=document);return t?S?t.createElementNS(S,y):t.createElement(y):null}function ub(t,y){y=y.toLowerCase();t=t.childNodes;for(var S=0,ba=t.length;S<ba;++S)if(t[S].tagName.toLowerCase()===
y)return t[S]}function Gb(t,y,S,ba){y=t.childNodes[y];if(!y||y.tagName.toLowerCase()!==S.toLowerCase()){var Wa=y||null;y=$a(t.ownerDocument,S,ba);t.insertBefore(y,Wa)}return y}function Ib(t,y){for(var S=t.childNodes,ba=S.length;ba>y;)t.removeChild(S[--ba]);return t}function bc(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function Ub(t,y){const S=y.getBoundingClientRect();return[t.clientX-S.left-(y.clientLeft||0),t.clientY-S.top-(y.clientTop||0)]}function sc(t,y){this._active=
null;this._handlers={};this._loader=t||bb.loader();this._tooltip=y||Cc}function Cc(t,y,S,ba){t.element().setAttribute("title",ba||"")}function va(t){this._bgcolor=this._el=null;this._loader=new I(t)}function Za(t,y){sc.call(this,t,y);this._touch=this._down=null;this._first=!0;this._events={}}function pb(t,y){("touchstart"===y||"touchmove"===y||"touchend"===y?["touchstart","touchmove","touchend"]:[y]).forEach(S=>Sb(t,S))}function Sb(t,y){const S=t.canvas();S&&!t._events[y]&&(t._events[y]=1,S.addEventListener(y,
t[y]?ba=>t[y](ba):ba=>t.fire(y,ba)))}function uc(t,y,S){return function(ba){const Wa=this._active,vb=this.pickEvent(ba);vb!==Wa&&(Wa&&Wa.exit||this.fire(S,ba),this._active=vb,this.fire(y,ba));this.fire(t,ba)}}function Ac(t){return function(y){this.fire(t,y);this._active=null}}function Kc(t){va.call(this,t);this._options={};this._redraw=!1;this._dirty=new Aa;this._tempb=new Aa}function Bb(t,y){sc.call(this,t,y);const S=this;S._hrefHandler=Df(S,(ba,Wa)=>{Wa&&Wa.href&&S.handleHref(ba,Wa,Wa.href)});S._tooltipHandler=
Df(S,(ba,Wa)=>{S.handleTooltip(ba,Wa,"mouseout"!==ba.type)})}function Tb(t,y){var S=!1===y.aria;t("aria-hidden",S||void 0);if(S||null==y.description)for(const ba in T)t(T[ba],void 0);else S=y.mark.marktype,t("aria-label",y.description),t("role",y.ariaRole||("group"===S?"graphics-object":"graphics-symbol")),t("aria-roledescription",y.ariaRoleDescription||`${S} mark`)}function kc(t){return!1===t.aria?{["aria-hidden"]:!0}:D[t.role]?null:N[t.role]?qc(t,N[t.role]):jc(t)}function jc(t){const y=t.marktype,
S="group"===y||"text"===y||t.items.some(ba=>null!=ba.description&&!1!==ba.aria);return A(S?"graphics-object":"graphics-symbol",`${y} mark container`,t.description)}function qc(t,y){try{const S=t.items[0],ba=y.caption||(()=>"");return A(y.role||"graphics-symbol",y.desc,S.description||ba(S))}catch(S){return null}}function ed(t){try{return r.array(r.peek(t.items).items[0].text).join(" ")}catch(y){return null}}function od(t){t=t.map(y=>y+("fill"===y||"stroke"===y?" color":""));return 2>t.length?t[0]:
t.slice(0,-1).join(", ")+" and "+r.peek(t)}function ud(){let t="",y="",S="";const ba=[],Wa=(Eb,Nb)=>{null!=Nb&&(y+=` ${Eb}="${ha(Nb).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return vb},vb={open(Eb,...Nb){y&&(t+=`${y}>${S}`,y=S="");ba.push(Eb);y="\x3c"+Eb;for(const cc of Nb)for(const Dc in cc)Wa(Dc,cc[Dc]);return vb},close(){const Eb=ba.pop();t=y?t+(y+(S?`>${S}</${Eb}>`:"/\x3e")):t+`</${Eb}>`;y=S="";return vb},attr:Wa,text:Eb=>(S+=
ha(Eb),vb),toString:()=>t};return vb}function md(t,y){t.open(y.tagName);if(y.hasAttributes()){var S=y.attributes,ba=S.length;for(var Wa=0;Wa<ba;++Wa)t.attr(S[Wa].name,S[Wa].value)}if(y.hasChildNodes())for(y=y.childNodes,S=y.length,ba=0;ba<S;ba++)Wa=y[ba],3===Wa.nodeType?t.text(Wa.nodeValue):md(t,Wa);return t.close()}function rd(t){va.call(this,t);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Od(t,y){for(;t&&t.dirty!==y;t=t.mark.group)if(t.dirty=y,t.mark&&t.mark.dirty!==
y)t.mark.dirty=y;else break}function ee(t,y,S){y=y.lastChild.previousSibling;let ba,Wa=0;q(S,vb=>{ba=t.mark(y,vb,ba);++Wa});Ib(y,1+Wa)}function he(t,y,S,ba,Wa){let vb=t._svg;if(!vb){var Eb=y.ownerDocument;vb=$a(Eb,ba,Ua);t._svg=vb;t.mark&&(vb.__data__=t,vb.__values__={fill:"default"},"g"===ba&&(ba=$a(Eb,"path",Ua),vb.appendChild(ba),ba.__data__=t,ba=$a(Eb,"g",Ua),vb.appendChild(ba),ba.__data__=t,Eb=$a(Eb,"path",Ua),vb.appendChild(Eb),Eb.__data__=t,Eb.__values__={fill:"default"}))}(vb.ownerSVGElement!==
Wa||vb.parentNode&&1<vb.parentNode.childNodes.length&&vb.previousSibling!=S)&&y.insertBefore(vb,S?S.nextSibling:y.firstChild);return vb}function Jd(t,y,S){if(y!==Ab[t]){if(S){var ba=nb;null!=y?ba.setAttributeNS(S,t,y):ba.removeAttributeNS(S,t)}else le(nb,t,y);Ab[t]=y}}function De(t,y,S){S!==Ab[y]&&(null==S?t.style.removeProperty(y):t.style.setProperty(y,S+""),Ab[y]=S)}function ne(t,y){for(const S in y)le(t,S,y[S])}function le(t,y,S){null!=S?t.setAttribute(y,S):t.removeAttribute(y)}function Dd(){let t;
return"undefined"===typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function be(t){va.call(this,t);this._text=null;this._defs={gradient:{},clipping:{}}}function V(t,y,S,ba,Wa){if(null==y)return t;"bgrect"===ba&&!1===S.interactive&&(t["pointer-events"]="none");if("bgfore"===ba&&(!1===S.interactive&&(t["pointer-events"]="none"),t.display="none",null!==y.fill))return t;"image"===ba&&!1===y.smooth&&(t.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");
"text"===ba&&(t["font-family"]=Mc(y),t["font-size"]=hd(y)+"px",t["font-style"]=y.fontStyle,t["font-variant"]=y.fontVariant,t["font-weight"]=y.fontWeight);for(const vb in Ga)S=y[vb],ba=Ga[vb],("transparent"!==S||"fill"!==ba&&"stroke"!==ba)&&null!=S&&(S&&S.gradient&&(S=Hb(S,Wa.gradient,"")),t[ba]=S);return t}function qa(t,y,S,ba){if(t.bounds&&y.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!S||S(t)))){const vb=t.items;var Wa=t.marktype;t=vb.length;let Eb=0;if("group"===Wa)for(;Eb<
t;++Eb)Ea(vb[Eb],y,S,ba);else for(S=Ue[Wa].isect;Eb<t;++Eb)Wa=vb[Eb],rb(Wa,y,S)&&ba.push(Wa)}return ba}function Ea(t,y,S,ba){S&&S(t.mark)&&rb(t,y,Ue.group.isect)&&ba.push(t);const Wa=t.items,vb=Wa&&Wa.length;if(vb){const Eb=t.x||0;t=t.y||0;y.translate(-Eb,-t);for(let Nb=0;Nb<vb;++Nb)qa(Wa[Nb],y,S,ba);y.translate(Eb,t)}return ba}function rb(t,y,S){const ba=t.bounds;return y.encloses(ba)||y.intersects(ba)&&S(t,y)}function fb(t,y,S){return t===y?!0:"path"===S?Jb(t,y):t instanceof Date&&y instanceof Date?
+t===+y:r.isNumber(t)&&r.isNumber(y)?1E-9>=Math.abs(t-y):t&&y&&(r.isObject(t)||r.isObject(y))?Rb(t,y):t==y}function Jb(t,y){return fb(Ha(t),Ha(y))}function Rb(t,y){var S=Object.keys(t),ba=Object.keys(y),Wa;if(S.length!==ba.length)return!1;S.sort();ba.sort();for(Wa=S.length-1;0<=Wa;Wa--)if(S[Wa]!=ba[Wa])return!1;for(Wa=S.length-1;0<=Wa;Wa--)if(ba=S[Wa],!fb(t[ba],y[ba],ba))return!1;return typeof t===typeof y}let ic=0;const Wc={basis:{curve:z.curveBasis},"basis-closed":{curve:z.curveBasisClosed},"basis-open":{curve:z.curveBasisOpen},
bundle:{curve:z.curveBundle,tension:"beta",value:.85},cardinal:{curve:z.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:z.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:z.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:z.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:z.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:z.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:z.curveLinear},
"linear-closed":{curve:z.curveLinearClosed},monotone:{horizontal:z.curveMonotoneY,vertical:z.curveMonotoneX},natural:{curve:z.curveNatural},step:{curve:z.curveStep},"step-after":{curve:z.curveStepAfter},"step-before":{curve:z.curveStepBefore}},xc={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Nc=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Wb=Math.PI/180,sd=Math.PI/2,cd=2*Math.PI,Vb=Math.sqrt(3)/2;var oe={},qd={},Wd=[].join;const ie=["l",0,0,0,0,0,0,0],we={circle:{draw:function(t,
y){y=Math.sqrt(y)/2;t.moveTo(y,0);t.arc(0,0,y,0,cd)}},cross:{draw:function(t,y){y=Math.sqrt(y)/2;var S=y/2.5;t.moveTo(-y,-S);t.lineTo(-y,S);t.lineTo(-S,S);t.lineTo(-S,y);t.lineTo(S,y);t.lineTo(S,S);t.lineTo(y,S);t.lineTo(y,-S);t.lineTo(S,-S);t.lineTo(S,-y);t.lineTo(-S,-y);t.lineTo(-S,-S);t.closePath()}},diamond:{draw:function(t,y){y=Math.sqrt(y)/2;t.moveTo(-y,0);t.lineTo(0,-y);t.lineTo(y,0);t.lineTo(0,y);t.closePath()}},square:{draw:function(t,y){y=Math.sqrt(y);var S=-y/2;t.rect(S,S,y,y)}},arrow:{draw:function(t,
y){y=Math.sqrt(y)/2;var S=y/7,ba=y/2.5,Wa=y/8;t.moveTo(-S,y);t.lineTo(S,y);t.lineTo(S,-Wa);t.lineTo(ba,-Wa);t.lineTo(0,-y);t.lineTo(-ba,-Wa);t.lineTo(-S,-Wa);t.closePath()}},wedge:{draw:function(t,y){var S=Math.sqrt(y)/2;y=Vb*S;var ba=y-.5773502691896257*S;S/=4;t.moveTo(0,-y-ba);t.lineTo(-S,y-ba);t.lineTo(S,y-ba);t.closePath()}},triangle:{draw:function(t,y){y=Math.sqrt(y)/2;var S=Vb*y,ba=S-.5773502691896257*y;t.moveTo(0,-S-ba);t.lineTo(-y,S-ba);t.lineTo(y,S-ba);t.closePath()}},"triangle-up":{draw:function(t,
y){y=Math.sqrt(y)/2;var S=Vb*y;t.moveTo(0,-S);t.lineTo(-y,S);t.lineTo(y,S);t.closePath()}},"triangle-down":{draw:function(t,y){y=Math.sqrt(y)/2;var S=Vb*y;t.moveTo(0,S);t.lineTo(-y,-S);t.lineTo(y,-S);t.closePath()}},"triangle-right":{draw:function(t,y){y=Math.sqrt(y)/2;var S=Vb*y;t.moveTo(S,0);t.lineTo(-S,-y);t.lineTo(-S,y);t.closePath()}},"triangle-left":{draw:function(t,y){y=Math.sqrt(y)/2;var S=Vb*y;t.moveTo(-S,0);t.lineTo(S,-y);t.lineTo(S,y);t.closePath()}},stroke:{draw:function(t,y){y=Math.sqrt(y)/
2;t.moveTo(-y,0);t.lineTo(y,0)}}};var lf={};const Ze=t=>t.x||0,Qd=t=>t.y||0,$b=t=>!1!==t.defined,ce=z.arc().startAngle(t=>t.startAngle||0).endAngle(t=>t.endAngle||0).padAngle(t=>t.padAngle||0).innerRadius(t=>t.innerRadius||0).outerRadius(t=>t.outerRadius||0).cornerRadius(t=>t.cornerRadius||0),gc=z.area().x(Ze).y1(Qd).y0(t=>(t.y||0)+(t.height||0)).defined($b),Uc=z.area().y(Qd).x1(Ze).x0(t=>(t.x||0)+(t.width||0)).defined($b),Xd=z.line().x(Ze).y(Qd).defined($b),xe=K().x(Ze).y(Qd).width(t=>t.width||0).height(t=>
t.height||0).cornerRadius(t=>ya(t.cornerRadiusTopLeft,t.cornerRadius)||0,t=>ya(t.cornerRadiusTopRight,t.cornerRadius)||0,t=>ya(t.cornerRadiusBottomRight,t.cornerRadius)||0,t=>ya(t.cornerRadiusBottomLeft,t.cornerRadius)||0),Yd=z.symbol().type(t=>na(t.shape||"circle")).size(t=>ya(t.size,64)),ge=ia().x(Ze).y(Qd).defined($b).size(t=>t.size||1);var Ge=1;Aa.prototype={clone(){return new Aa(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;
return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,y,S,ba){S<t?(this.x2=t,this.x1=S):(this.x1=t,this.x2=S);ba<y?(this.y2=y,this.y1=ba):(this.y1=y,this.y2=ba);return this},add(t,y){t<this.x1&&(this.x1=t);y<this.y1&&(this.y1=y);t>this.x2&&(this.x2=t);y>this.y2&&(this.y2=y);return this},expand(t){this.x1-=t;this.y1-=t;this.x2+=
t;this.y2+=t;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(t){this.x1*=t;this.y1*=t;this.x2*=t;this.y2*=t;return this},translate(t,y){this.x1+=t;this.x2+=t;this.y1+=y;this.y2+=y;return this},rotate(t,y,S){t=this.rotatedPoints(t,y,S);return this.clear().add(t[0],t[1]).add(t[2],t[3]).add(t[4],t[5]).add(t[6],t[7])},rotatedPoints(t,y,S){var {x1:ba,y1:Wa,x2:vb,y2:Eb}=this,Nb=Math.cos(t);t=Math.sin(t);
var cc=y-y*Nb+S*t;y=S-y*t-S*Nb;return[Nb*ba-t*Wa+cc,t*ba+Nb*Wa+y,Nb*ba-t*Eb+cc,t*ba+Nb*Eb+y,Nb*vb-t*Wa+cc,t*vb+Nb*Wa+y,Nb*vb-t*Eb+cc,t*vb+Nb*Eb+y]},union(t){t.x1<this.x1&&(this.x1=t.x1);t.y1<this.y1&&(this.y1=t.y1);t.x2>this.x2&&(this.x2=t.x2);t.y2>this.y2&&(this.y2=t.y2);return this},intersect(t){t.x1>this.x1&&(this.x1=t.x1);t.y1>this.y1&&(this.y1=t.y1);t.x2<this.x2&&(this.x2=t.x2);t.y2<this.y2&&(this.y2=t.y2);return this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=
t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,y){return!(t<this.x1||t>this.x2||y<this.y1||y>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};r.inherits(Va,ab);I.prototype={pending(){return this._pending},sanitizeURL(t){const y=this;y._pending+=1;return y._loader.sanitize(t,{context:"href"}).then(S=>{--y._pending;return S}).catch(()=>
{--y._pending;return null})},loadImage(t){const y=this,S=tb.image();y._pending+=1;return y._loader.sanitize(t,{context:"image"}).then(ba=>{const Wa=ba.href;if(!Wa||!S)throw{url:Wa};const vb=new S;ba=r.hasOwnProperty(ba,"crossOrigin")?ba.crossOrigin:"anonymous";null!=ba&&(vb.crossOrigin=ba);vb.onload=()=>{--y._pending};vb.onerror=()=>{--y._pending};vb.src=Wa;return vb}).catch(ba=>{--y._pending;return{complete:!1,width:0,height:0,src:ba&&ba.url||""}})},ready(){const t=this;return new Promise(y=>{function S(ba){t.pending()?
setTimeout(()=>{S(!0)},10):y(ba)}S(!1)})}};const Ed=cd-1E-8;let vd,te,Se,dd,Ee,Ce,pe,ye;const E=(t,y)=>{t=te=t;y=Se=y;return vd.add(t,y)},W=t=>vd.add(t,vd.y1),Ma=t=>vd.add(vd.x1,t),Cb=(t,y)=>vd.add(Ee*t+pe*y,Ce*t+ye*y),Ob=(t,y)=>E(Ee*t+pe*y,Ce*t+ye*y),Pb={beginPath(){},closePath(){},moveTo:Ob,lineTo:Ob,rect(t,y,S,ba){dd?(Cb(t+S,y),Cb(t+S,y+ba),Cb(t,y+ba),Ob(t,y)):(vd.add(t+S,y+ba),E(t,y))},quadraticCurveTo(t,y,S,ba){const Wa=Ce*t+ye*y,vb=Ee*S+pe*ba;S=Ce*S+ye*ba;J(te,Ee*t+pe*y,vb,W);J(Se,Wa,S,Ma);
E(vb,S)},bezierCurveTo(t,y,S,ba,Wa,vb){const Eb=Ce*t+ye*y,Nb=Ce*S+ye*ba,cc=Ee*Wa+pe*vb;Wa=Ce*Wa+ye*vb;B(te,Ee*t+pe*y,Ee*S+pe*ba,cc,W);B(Se,Eb,Nb,Wa,Ma);E(cc,Wa)},arc(t,y,S,ba,Wa,vb){ba+=dd;Wa+=dd;te=S*Math.cos(Wa)+t;Se=S*Math.sin(Wa)+y;if(Math.abs(Wa-ba)>Ed)vd.add(t-S,y-S),vd.add(t+S,y+S);else{const Eb=cc=>vd.add(S*Math.cos(cc)+t,S*Math.sin(cc)+y);let Nb;Eb(ba);Eb(Wa);if(Wa!==ba)if(ba%=cd,0>ba&&(ba+=cd),Wa%=cd,0>Wa&&(Wa+=cd),Wa<ba&&(vb=!vb,Nb=ba,ba=Wa,Wa=Nb),vb)for(Wa-=cd,Nb=ba-ba%sd,ba=0;4>ba&&Nb>
Wa;++ba,Nb-=sd)Eb(Nb);else for(Nb=ba-ba%sd+sd,ba=0;4>ba&&Nb<Wa;++ba,Nb+=sd)Eb(Nb)}}};var wc=(wc=tb.canvas(1,1))?wc.getContext("2d"):null;const fc=new Aa;var Tc=[],Ad=ta("arc",function(t,y){return ce.context(t)(y)}),Gd=G("area",function(t,y){const S=y[0];return("horizontal"===S.orient?Uc:gc).curve(Ka(S.interpolate||"linear",S.orient,S.tension)).context(t)(y)},function(t,y){y="horizontal"===t[0].orient?y[1]:y[0];for(var S="horizontal"===t[0].orient?"y":"x",ba=t.length,Wa=Infinity,vb,Eb;0<=--ba;)!1!==
t[ba].defined&&(Eb=Math.abs(t[ba][S]-y),Eb<Wa&&(Wa=Eb,vb=t[ba]));return vb});const Ld=gb(Da),ue=gb(Da,!1),ke=gb(Da,!0);var qe={type:"group",tag:"g",nested:!1,attr:function(t,y){t("transform",Y(y.x||0,y.y||0))},bound:function(t,y){if(!y.clip&&y.items){const S=y.items,ba=S.length;for(let Wa=0;Wa<ba;++Wa)t.union(S[Wa].bounds)}(y.clip||y.width||y.height)&&!y.noBound&&t.add(0,0).add(y.width||0,y.height||0);x(t,y);return t.translate(y.x||0,y.y||0)},draw:function(t,y,S){q(y,ba=>{const Wa=ba.x||0,vb=ba.y||
0,Eb=ba.strokeForeground,Nb=null==ba.opacity?1:ba.opacity;(ba.stroke||ba.fill)&&Nb&&(Da(t,ba,Wa,vb),da(t,ba),ba.fill&&c(t,ba,Nb)&&t.fill(),ba.stroke&&!Eb&&f(t,ba,Nb)&&t.stroke());t.save();t.translate(Wa,vb);ba.clip&&Q(t,ba);S&&S.translate(-Wa,-vb);q(ba,cc=>{this.draw(t,cc,S)});S&&S.translate(Wa,vb);t.restore();Eb&&ba.stroke&&Nb&&(Da(t,ba,Wa,vb),da(t,ba),f(t,ba,Nb)&&t.stroke())})},pick:function(t,y,S,ba,Wa,vb){if(y.bounds&&!y.bounds.contains(Wa,vb)||!y.items)return null;const Eb=S*t.pixelRatio,Nb=
ba*t.pixelRatio;return w(y,cc=>{let Dc,zc;var td=cc.bounds;if(!td||td.contains(Wa,vb)){Dc=cc.x||0;zc=cc.y||0;td=Dc+(cc.width||0);var Id=zc+(cc.height||0),Rc=cc.clip;if(!Rc||!(Wa<Dc||Wa>td||vb<zc||vb>Id)){t.save();t.translate(Dc,zc);Dc=Wa-Dc;zc=vb-zc;if(Rc&&ua(cc)&&!ke(t,cc,Eb,Nb))return t.restore(),null;Id=cc.strokeForeground;if((Rc=!1!==y.interactive)&&Id&&cc.stroke&&ue(t,cc,Eb,Nb))return t.restore(),cc;td=w(cc,Hd=>(!1!==Hd.interactive||"group"===Hd.marktype)&&Hd.bounds&&Hd.bounds.contains(Dc,zc)?
this.pick(Hd,S,ba,Dc,zc):null);!td&&Rc&&(cc.fill||!Id&&cc.stroke)&&Ld(t,cc,Eb,Nb)&&(td=cc);t.restore();return td||null}}})},isect:Ca,content:function(t,y,S){y=y.clip?Oa(S,y,y):null;t("clip-path",y)},background:function(t,y){t("class","background");t("aria-hidden",!0);const S=ka(y);t("d",La(null,y,S,S))},foreground:function(t,y){t("class","foreground");t("aria-hidden",!0);if(y.strokeForeground){const S=ka(y);t("d",La(null,y,S,S))}else t("d","")}},Nd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",
version:"1.1"},je={type:"image",tag:"image",nested:!1,attr:function(t,y,S){var ba=sb(y,S);S=Ya(y,ba);const Wa=ob(y,ba),vb=(y.x||0)-Na(y.align,S),Eb=(y.y||0)-yb(y.baseline,Wa);ba=!ba.src&&ba.toDataURL?ba.toDataURL():ba.src||"";t("href",ba,Nd["xmlns:xlink"],"xlink:href");t("transform",Y(vb,Eb));t("width",S);t("height",Wa);t("preserveAspectRatio",!1===y.aspect?"none":"xMidYMid")},bound:function(t,y){var S=y.image;const ba=Ya(y,S);S=ob(y,S);const Wa=(y.x||0)-Na(y.align,ba);y=(y.y||0)-yb(y.baseline,S);
return t.set(Wa,y,Wa+ba,y+S)},draw:function(t,y,S){q(y,ba=>{if(!S||S.intersects(ba.bounds)){var Wa=sb(ba,this),vb=Ya(ba,Wa),Eb=ob(ba,Wa);if(0!==vb&&0!==Eb){var Nb=(ba.x||0)-Na(ba.align,vb),cc=(ba.y||0)-yb(ba.baseline,Eb),Dc;if(!1!==ba.aspect){var zc=Wa.width/Wa.height;var td=ba.width/ba.height;zc===zc&&td===td&&zc!==td&&(td<zc?(zc=vb/zc,cc+=(Eb-zc)/2,Eb=zc):(zc*=Eb,Nb+=(vb-zc)/2,vb=zc))}if(Wa.complete||Wa.toDataURL)da(t,ba),t.globalAlpha=null!=(Dc=ba.opacity)?Dc:1,t.imageSmoothingEnabled=!1!==ba.smooth,
t.drawImage(Wa,Nb,cc,vb,Eb)}}})},pick:cb(),isect:r.truthy,get:sb,xOffset:Na,yOffset:yb},ze=G("line",function(t,y){const S=y[0];return Xd.curve(Ka(S.interpolate||"linear",S.orient,S.tension)).context(t)(y)},function(t,y){for(var S=Math.pow(t[0].strokeWidth||1,2),ba=t.length,Wa,vb;0<=--ba;)if(!1!==t[ba].defined&&(Wa=t[ba].x-y[0],vb=t[ba].y-y[1],Wa=Wa*Wa+vb*vb,Wa<S))return t[ba];return null}),Me={type:"path",tag:"path",nested:!1,attr:function(t,y){var S=y.scaleY||1;1===(y.scaleX||1)&&1===S||t("vector-effect",
"non-scaling-stroke");S=Y(y.x||0,y.y||0)+(y.angle?" rotate("+(y.angle+")"):"")+(y.scaleX||y.scaleY?" scale("+((y.scaleX||1)+","+(y.scaleY||1)+")"):"");t("transform",S);t("d",y.path)},bound:function(t,y){return Fb(L(t,y.angle),y)?t.set(0,0,0,0):x(t,y,!0)},draw:F(Fb),pick:cb(gb(Fb)),isect:aa(Fb)},Xe={type:"rect",tag:"path",nested:!1,attr:function(t,y){t("d",La(null,y))},bound:function(t,y){var S,ba;return x(t.set(S=y.x||0,ba=y.y||0,S+y.width||0,ba+y.height||0),y)},draw:F(eb),pick:cb(gb(eb)),isect:Ca},
pf={type:"rule",tag:"line",nested:!1,attr:function(t,y){t("transform",Y(y.x||0,y.y||0));t("x2",null!=y.x2?y.x2-(y.x||0):0);t("y2",null!=y.y2?y.y2-(y.y||0):0)},bound:function(t,y){var S,ba;return x(t.set(S=y.x||0,ba=y.y||0,null!=y.x2?y.x2:S,null!=y.y2?y.y2:ba),y)},draw:function(t,y,S){q(y,ba=>{if(!S||S.intersects(ba.bounds)){var Wa=null==ba.opacity?1:ba.opacity;Wa&&Lb(t,ba,Wa)&&(da(t,ba),t.stroke())}})},pick:cb(function(t,y,S,ba){return t.isPointInStroke?Lb(t,y,1)&&t.isPointInStroke(S,ba):!1}),isect:Ia},
wf=ta("shape",function(t,y){return(y.mark.shape||y.shape).context(t)(y)}),qf=ta("symbol",function(t,y){return Yd.context(t)(y)},ea);const ff=r.lruCache();var gf={height:hd,measureWidth:Ic,estimateWidth:Yb,width:Yb,canvas:hc};hc(!0);const If={left:"start",center:"middle",right:"end"},Je=new Aa;var af={type:"text",tag:"text",nested:!1,attr:function(t,y){var S=y.dx||0,ba=(y.dy||0)+Rd(y),Wa=Db(y),vb=Wa.x1;Wa=Wa.y1;var Eb=y.angle||0;t("text-anchor",If[y.align]||"start");if(Eb){if(y=Y(vb,Wa)+" rotate("+
(Eb+")"),S||ba)y+=" "+Y(S,ba)}else y=Y(vb+S,Wa+ba);t("transform",y)},bound:Zb,draw:function(t,y,S){q(y,ba=>{var Wa=null==ba.opacity?1:ba.opacity,vb;if(!(S&&!S.intersects(ba.bounds)||0===Wa||0>=ba.fontSize||null==ba.text||0===ba.text.length)){t.font=zd(ba);t.textAlign=ba.align||"left";var Eb=Db(ba);var Nb=Eb.x1;Eb=Eb.y1;ba.angle&&(t.save(),t.translate(Nb,Eb),t.rotate(ba.angle*Wb),Nb=Eb=0);Nb+=ba.dx||0;Eb+=(ba.dy||0)+Rd(ba);var cc=Gc(ba);da(t,ba);if(r.isArray(cc)){var Dc=Bd(ba);for(vb=0;vb<cc.length;++vb){var zc=
jd(ba,cc[vb]);ba.fill&&c(t,ba,Wa)&&t.fillText(zc,Nb,Eb);ba.stroke&&f(t,ba,Wa)&&t.strokeText(zc,Nb,Eb);Eb+=Dc}}else zc=jd(ba,cc),ba.fill&&c(t,ba,Wa)&&t.fillText(zc,Nb,Eb),ba.stroke&&f(t,ba,Wa)&&t.strokeText(zc,Nb,Eb);ba.angle&&t.restore()}})},pick:cb(function(t,y,S,ba,Wa,vb){if(0>=y.fontSize)return!1;if(!y.angle)return!0;S=Db(y);t=S.x1;S=S.y1;ba=Zb(Je,y,1);var Eb=-y.angle*Wb;y=Math.cos(Eb);Eb=Math.sin(Eb);return ba.contains(y*Wa-Eb*vb+(t-y*t+Eb*S),Eb*Wa+y*vb+(S-Eb*t-y*S))}),isect:function(t,y){t=Zb(Je,
t,2);return H(y,t[0],t[1],t[2],t[3])||H(y,t[0],t[1],t[4],t[5])||H(y,t[4],t[5],t[6],t[7])||H(y,t[2],t[3],t[6],t[7])}},Qe=G("trail",function(t,y){return ge.context(t)(y)},function(t,y){for(var S=t.length,ba,Wa;0<=--S;)if(!1!==t[S].defined&&(ba=t[S].x-y[0],Wa=t[S].y-y[1],Wa=ba*ba+Wa*Wa,ba=t[S].size||1,Wa<ba*ba))return t[S];return null}),Ue={arc:Ad,area:Gd,group:qe,image:je,line:ze,path:Me,rect:Xe,rule:pf,shape:wf,symbol:qf,text:af,trail:Qe},zf={mark:null};const bf="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
M.prototype={toJSON(t){return pc(this.root,t||0)},mark(t,y,S){y=y||this.root.items[0];t=oa(t,y);y.items[S]=t;t.zindex&&(t.group.zdirty=!0);return t}};sc.prototype={initialize(t,y,S){this._el=t;this._obj=S||null;return this.origin(y)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){if(!arguments.length)return this._scene;this._scene=t;return this},on(){},off(){},_handlerIndex(t,y,
S){for(let ba=t?t.length:0;0<=--ba;)if(t[ba].type===y&&(!S||t[ba].handler===S))return ba;return-1},handlers(t){const y=this._handlers,S=[];if(t)S.push(...y[this.eventName(t)]);else for(const ba in y)S.push(...y[ba]);return S},eventName(t){const y=t.indexOf(".");return 0>y?t:t.slice(0,y)},handleHref(t,y,S){this._loader.sanitize(S,{context:"href"}).then(ba=>{const Wa=new MouseEvent(t.type,t),vb=$a(null,"a");for(const Eb in ba)vb.setAttribute(Eb,ba[Eb]);vb.dispatchEvent(Wa)}).catch(()=>{})},handleTooltip(t,
y,S){if(y&&null!=y.tooltip){var ba=this.canvas(),Wa=this._origin,vb=y&&y.mark,Eb;if(vb&&(Eb=Ue[vb.marktype]).tip){ba=Ub(t,ba);ba[0]-=Wa[0];for(ba[1]-=Wa[1];y=y.mark.group;)ba[0]-=y.x||0,ba[1]-=y.y||0;y=Eb.tip(vb.items,ba)}this._tooltip.call(this._obj,this,t,y,S&&y&&y.tooltip||null)}},getItemBoundingClientRect(t){var y=this.canvas();if(y){var S=y.getBoundingClientRect(),ba=this._origin,Wa=t.bounds;y=Wa.width();var vb=Wa.height(),Eb=Wa.x1+ba[0]+S.left;for(S=Wa.y1+ba[1]+S.top;t.mark&&(t=t.mark.group);)Eb+=
t.x||0,S+=t.y||0;return{x:Eb,y:S,width:y,height:vb,left:Eb,top:S,right:Eb+y,bottom:S+vb}}}};va.prototype={initialize(t,y,S,ba,Wa){this._el=t;return this.resize(y,S,ba,Wa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){if(0===arguments.length)return this._bgcolor;this._bgcolor=t;return this},resize(t,y,S,ba){this._width=t;this._height=y;this._origin=S||[0,0];this._scale=ba||1;return this},dirty(){},render(t){const y=this;y._call=function(){y._render(t)};y._call();
y._call=null;return y},_render(){},renderAsync(t){const y=this.render(t);return this._ready?this._ready.then(()=>y):Promise.resolve(y)},_load(t,y){var S=this;t=S._loader[t](y);if(!S._ready){const ba=S._call;S._ready=S._loader.ready().then(Wa=>{Wa&&ba();S._ready=null})}return t},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};r.inherits(Za,sc,{initialize(t,y,S){this._canvas=t&&ub(t,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(ba=>
pb(this,ba));return sc.prototype.initialize.call(this,t,y,S)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(t){this.fire("mousewheel",t)},mousemove:uc("mousemove","mouseover","mouseout"),dragover:uc("dragover","dragenter","dragleave"),mouseout:Ac("mouseout"),dragleave:Ac("dragleave"),
mousedown(t){this._down=this._active;this.fire("mousedown",t)},click(t){this._down===this._active&&(this.fire("click",t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",t,!0)},touchmove(t){this.fire("touchmove",t,!0)},touchend(t){this.fire("touchend",t,!0);this._touch=null},fire(t,y,S){S=S?this._touch:this._active;const ba=this._handlers[t];y.vegaType=t;"click"===t&&S&&S.href?this.handleHref(y,
S,S.href):("mousemove"===t||"mouseout"===t)&&this.handleTooltip(y,S,"mouseout"!==t);if(ba)for(let Wa=0,vb=ba.length;Wa<vb;++Wa)ba[Wa].handler.call(this._obj,y,S)},on(t,y){const S=this.eventName(t),ba=this._handlers;0>this._handlerIndex(ba[S],t,y)&&(pb(this,t),(ba[S]||(ba[S]=[])).push({type:t,handler:y}));return this},off(t,y){var S=this.eventName(t);S=this._handlers[S];t=this._handlerIndex(S,t,y);0<=t&&S.splice(t,1);return this},pickEvent(t){t=Ub(t,this._canvas);const y=this._origin;return this.pick(this._scene,
t[0],t[1],t[0]-y[0],t[1]-y[1])},pick(t,y,S,ba,Wa){const vb=this.context();return Ue[t.marktype].pick.call(this,vb,t,y,S,ba,Wa)}});var Af="undefined"!==typeof window?window.devicePixelRatio||1:1;const Jf=va.prototype;r.inherits(Kc,va,{initialize(t,y,S,ba,Wa,vb){this._options=vb||{};this._canvas=this._options.externalContext?null:tb.canvas(1,1,this._options.type);t&&this._canvas&&(Ib(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Jf.initialize.call(this,t,y,S,ba,Wa)},
resize(t,y,S,ba){Jf.resize.call(this,t,y,S,ba);if(this._canvas){t=this._canvas;y=this._width;S=this._height;ba=this._origin;var Wa=this._scale,vb=this._options.context;const Nb="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,cc=t.getContext("2d");Wa=Nb?Af:Wa;t.width=y*Wa;t.height=S*Wa;for(var Eb in vb)cc[Eb]=vb[Eb];Nb&&1!==Wa&&(t.style.width=y+"px",t.style.height=S+"px");cc.pixelRatio=Wa;cc.setTransform(Wa,0,0,Wa,Wa*ba[0],Wa*ba[1])}else(Eb=this._options.externalContext)||
r.error("CanvasRenderer is missing a valid canvas or context"),Eb.scale(this._scale,this._scale),Eb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const y=this._tempb.clear().union(t.bounds);for(t=t.mark.group;t;)y.translate(t.x||0,t.y||0),t=t.mark.group;this._dirty.union(y)},_render(t){const y=this.context(),S=this._origin,ba=this._width,
Wa=this._height,vb=this._dirty;var Eb=(new Aa).set(0,0,ba,Wa).translate(-S[0],-S[1]);y.save();this._redraw||vb.empty()?Eb=(this._redraw=!1,Eb.expand(1)):(Eb=Eb.intersect(vb),Eb.expand(1).round(),y.pixelRatio%1&&Eb.scale(y.pixelRatio).round().scale(1/y.pixelRatio),Eb.translate(-(S[0]%1),-(S[1]%1)),y.beginPath(),y.rect(Eb.x1,Eb.y1,Eb.width(),Eb.height()),y.clip());this.clear(-S[0],-S[1],ba,Wa);this.draw(y,t,Eb);y.restore();vb.clear();return this},draw(t,y,S){const ba=Ue[y.marktype];if(y.clip){var Wa=
y.clip;t.save();r.isFunction(Wa)?(t.beginPath(),Wa(t),t.clip()):Q(t,y.group)}ba.draw.call(this,t,y,S);y.clip&&t.restore()},clear(t,y,S,ba){const Wa=this._options,vb=this.context();"pdf"===Wa.type||Wa.externalContext||vb.clearRect(t,y,S,ba);null!=this._bgcolor&&(vb.fillStyle=this._bgcolor,vb.fillRect(t,y,S,ba))}});const Df=(t,y)=>S=>{let ba=S.target.__data__;ba=Array.isArray(ba)?ba[0]:ba;S.vegaType=S.type;y.call(t._obj,S,ba)};r.inherits(Bb,sc,{initialize(t,y,S){let ba=this._svg;ba&&(ba.removeEventListener("click",
this._hrefHandler),ba.removeEventListener("mousemove",this._tooltipHandler),ba.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ba=t&&ub(t,"svg"))ba.addEventListener("click",this._hrefHandler),ba.addEventListener("mousemove",this._tooltipHandler),ba.addEventListener("mouseout",this._tooltipHandler);return sc.prototype.initialize.call(this,t,y,S)},canvas(){return this._svg},on(t,y){const S=this.eventName(t),ba=this._handlers;0>this._handlerIndex(ba[S],t,y)&&(t={type:t,handler:y,listener:Df(this,
y)},(ba[S]||(ba[S]=[])).push(t),this._svg&&this._svg.addEventListener(S,t.listener));return this},off(t,y){const S=this.eventName(t),ba=this._handlers[S];t=this._handlerIndex(ba,t,y);0<=t&&(this._svg&&this._svg.removeEventListener(S,ba[t].listener),ba.splice(t,1));return this}});const A=(t,y,S)=>({["role"]:t,["aria-roledescription"]:y,["aria-label"]:S||void 0}),D=r.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
N={axis:{desc:"axis",caption:function(t){var y=t.datum;const S=t.orient,ba=y.title?ed(t):null;var Wa=t.context;y=Wa.scales[y.scale].value;Wa=Wa.dataflow.locale();const vb=y.type;return`${"left"===S||"right"===S?"Y":"X"}-axis`+(ba?` titled '${ba}'`:"")+` for a ${wb.isDiscrete(vb)?"discrete":vb} scale`+` with ${wb.domainCaption(Wa,y,t)}`}},legend:{desc:"legend",caption:function(t){var y=t.datum;const S=y.title?ed(t):null,ba=`${y.type||""} legend`.trim();var Wa=y.scales;y=Object.keys(Wa);var vb=t.context;
Wa=vb.scales[Wa[y[0]]].value;vb=vb.dataflow.locale();return(ba.length?ba[0].toUpperCase()+ba.slice(1):ba)+(S?` titled '${S}'`:"")+` for ${od(y)}`+` with ${wb.domainCaption(vb,Wa,t)}`}},"title-text":{desc:"title",caption:t=>`Title text '${r.array(t.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${r.array(t.text).join(" ")}'`}},T={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},ha=t=>(t+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),pa=t=>md(ud(),t)+"",Ga={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},db={fill:"none","stroke-miterlimit":10},Ua=Nd.xmlns,lb=va.prototype;r.inherits(rd,va,{initialize(t,y,S,ba,Wa){this._defs={};this._clearDefs();
t&&(this._svg=Gb(t,0,"svg",Ua),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Ua),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Nd["xmlns:xlink"]),this._svg.setAttribute("version",Nd.version),this._svg.setAttribute("class","marks"),Ib(t,1),this._root=Gb(this._svg,0,"g",Ua),ne(this._root,db),Ib(this._svg,1));this.background(this._bgcolor);return lb.initialize.call(this,t,y,S,ba,Wa)},background(t){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
t);return lb.background.apply(this,arguments)},resize(t,y,S,ba){lb.resize.call(this,t,y,S,ba);this._svg&&(ne(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const t=this._svg,y=this._bgcolor;if(!t)return null;let S;y&&(t.removeAttribute("style"),S=Gb(t,0,"rect",Ua),ne(S,{width:this._width,height:this._height,
fill:y}));const ba=pa(t);y&&(t.removeChild(S),this._svg.style.setProperty("background-color",y));return ba},_render(t){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),Ib(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;
const y=++this._dirtyID;let S;let ba,Wa,vb,Eb;vb=0;for(Eb=t.length;vb<Eb;++vb){S=t[vb];var Nb=S.mark;Nb.marktype!==ba&&(ba=Nb.marktype,Wa=Ue[ba]);Nb.zdirty&&Nb.dirty!==y&&(this._dirtyAll=!1,Od(S,y),Nb.items.forEach(cc=>{cc.dirty=y}));Nb.zdirty||(S.exit?(Wa.nested&&Nb.items.length?(Nb=Nb.items[0],Nb._svg&&this._update(Wa,Nb._svg,Nb)):S._svg&&(Nb=S._svg.parentNode)&&Nb.removeChild(S._svg),S._svg=null):(S=Wa.nested?Nb.items[0]:S,S._update!==y&&(S._svg&&S._svg.ownerSVGElement?this._update(Wa,S._svg,S):
(this._dirtyAll=!1,Od(S,y)),S._update=y)))}return!this._dirtyAll},mark(t,y,S){if(!this.isDirty(y))return y._svg;const ba=this._svg,Wa=Ue[y.marktype];var vb=!1===y.interactive?"none":null;const Eb="g"===Wa.tag;let Nb=null,cc=0;const Dc=he(y,t,S,"g",ba);Dc.setAttribute("class",bc(y));t=kc(y);for(const zc in t)le(Dc,zc,t[zc]);Eb||le(Dc,"pointer-events",vb);le(Dc,"clip-path",y.clip?Oa(this,y,y.group):null);vb=zc=>{const td=this.isDirty(zc),Id=he(zc,Dc,Nb,Wa.tag,ba);td&&(this._update(Wa,Id,zc),Eb&&ee(this,
Id,zc));Nb=Id;++cc};Wa.nested?y.items.length&&vb(y.items[0]):q(y,vb);Ib(Dc,cc);return Dc},_update(t,y,S){nb=y;Ab=y.__values__;Tb(Jd,S);t.attr(Jd,S,this);const ba=Xb[t.type];ba&&ba.call(this,t,y,S);nb&&this.style(nb,S)},style(t,y){if(null!=y)for(const S in Ga){let ba="font"===S?Mc(y):y[S];if(ba===Ab[S])continue;const Wa=Ga[S];null==ba?t.removeAttribute(Wa):(ba&&ba.gradient&&(ba=Hb(ba,this._defs.gradient,Dd())),t.setAttribute(Wa,ba+""));Ab[S]=ba}},defs(){const t=this._svg,y=this._defs;let S=y.el;var ba=
0;for(var Wa in y.gradient){S||(y.el=S=Gb(t,1,"defs",Ua));var vb=void 0;let cc,Dc;var Eb=S,Nb=y.gradient[Wa];"radial"===Nb.gradient?(vb=Gb(Eb,ba++,"pattern",Ua),ne(vb,{id:"p_"+Nb.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),vb=Gb(vb,0,"rect",Ua),ne(vb,{width:1,height:1,fill:`url(${Dd()}#${Nb.id})`}),Eb=Gb(Eb,ba++,"radialGradient",Ua),ne(Eb,{id:Nb.id,fx:Nb.x1,fy:Nb.y1,fr:Nb.r1,cx:Nb.x2,cy:Nb.y2,r:Nb.r2})):(Eb=Gb(Eb,ba++,"linearGradient",Ua),ne(Eb,{id:Nb.id,
x1:Nb.x1,x2:Nb.x2,y1:Nb.y1,y2:Nb.y2}));Dc=0;for(cc=Nb.stops.length;Dc<cc;++Dc)vb=Gb(Eb,Dc,"stop",Ua),vb.setAttribute("offset",Nb.stops[Dc].offset),vb.setAttribute("stop-color",Nb.stops[Dc].color);Ib(Eb,Dc)}for(const cc in y.clipping)S||(y.el=S=Gb(t,1,"defs",Ua)),Eb=S,Nb=y.clipping[cc],Wa=ba,Eb=Gb(Eb,Wa,"clipPath",Ua),Eb.setAttribute("id",Nb.id),Nb.path?(ba=Gb(Eb,0,"path",Ua),ba.setAttribute("d",Nb.path)):(ba=Gb(Eb,0,"rect",Ua),ne(ba,{x:0,y:0,width:Nb.width,height:Nb.height})),Ib(Eb,1),ba=Wa+1;S&&
(0===ba?(t.removeChild(S),y.el=null):Ib(S,ba))},_clearDefs(){const t=this._defs;t.gradient={};t.clipping={}}});let nb=null,Ab=null;const Xb={group(t,y,S){const ba=nb=y.childNodes[2];Ab=ba.__values__;t.foreground(Jd,S,this);Ab=y.__values__;nb=y.childNodes[1];t.content(Jd,S,this);y=nb=y.childNodes[0];t.background(Jd,S,this);t=!1===S.mark.interactive?"none":null;t!==Ab.events&&(le(ba,"pointer-events",t),le(y,"pointer-events",t),Ab.events=t);S.strokeForeground&&S.stroke?(t=S.fill,le(ba,"display",null),
this.style(y,S),le(y,"stroke",null),t&&(S.fill=null),Ab=ba.__values__,this.style(ba,S),t&&(S.fill=t),nb=null):le(ba,"display","none")},image(t,y,S){!1===S.smooth?(De(y,"image-rendering","optimizeSpeed"),De(y,"image-rendering","pixelated")):De(y,"image-rendering",null)},text(t,y,S){t=Gc(S);let ba,Wa,vb;r.isArray(t)?(ba=t.map(Eb=>jd(S,Eb)),t=ba.join("\n"),t!==Ab.text&&(Ib(y,0),Wa=y.ownerDocument,vb=Bd(S),ba.forEach((Eb,Nb)=>{const cc=$a(Wa,"tspan",Ua);cc.__data__=S;cc.textContent=Eb;Nb&&(cc.setAttribute("x",
0),cc.setAttribute("dy",vb));y.appendChild(cc)}),Ab.text=t)):(ba=jd(S,t),ba!==Ab.text&&(y.textContent=ba,Ab.text=ba));le(y,"font-family",Mc(S));le(y,"font-size",hd(S)+"px");le(y,"font-style",S.fontStyle);le(y,"font-variant",S.fontVariant);le(y,"font-weight",S.fontWeight)}};r.inherits(be,va,{svg(){return this._text},_render(t){const y=ud();y.open("svg",r.extend({},Nd,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const S=
this._bgcolor;S&&"transparent"!==S&&"none"!==S&&y.open("rect",{width:this._width,height:this._height,fill:S}).close();y.open("g",db,{transform:"translate("+this._origin+")"});this.mark(y,t);y.close();this.defs(y);this._text=y.close()+"";return this},mark(t,y){const S=Ue[y.marktype],ba=S.tag,Wa=[Tb,S.attr];t.open("g",{"class":bc(y),"clip-path":y.clip?Oa(this,y,y.group):null},kc(y),{"pointer-events":"g"!==ba&&!1===y.interactive?"none":null});const vb=Eb=>{const Nb=this.href(Eb);Nb&&t.open("a",Nb);t.open(ba,
this.attr(y,Eb,Wa,"g"!==ba?ba:null));if("text"===ba){var cc=Gc(Eb);if(r.isArray(cc)){var Dc={x:0,dy:Bd(Eb)};for(var zc=0;zc<cc.length;++zc)t.open("tspan",zc?Dc:null).text(jd(Eb,cc[zc])).close()}else t.text(jd(Eb,cc))}else"g"===ba&&(cc=Eb.strokeForeground,Dc=Eb.fill,zc=Eb.stroke,cc&&zc&&(Eb.stroke=null),t.open("path",this.attr(y,Eb,S.background,"bgrect")).close(),t.open("g",this.attr(y,Eb,S.content)),q(Eb,td=>this.mark(t,td)),t.close(),cc&&zc?(Dc&&(Eb.fill=null),Eb.stroke=zc,t.open("path",this.attr(y,
Eb,S.foreground,"bgrect")).close(),Dc&&(Eb.fill=Dc)):t.open("path",this.attr(y,Eb,S.foreground,"bgfore")).close());t.close();Nb&&t.close()};S.nested?y.items&&y.items.length&&vb(y.items[0]):q(y,vb);return t.close()},href(t){const y=t.href;if(y){if(t=this._hrefs&&this._hrefs[y])return t;this.sanitizeURL(y).then(S=>{S["xlink:href"]=S.href;S.href=null;(this._hrefs||(this._hrefs={}))[y]=S})}return null},attr(t,y,S,ba){const Wa={},vb=(Eb,Nb,cc,Dc)=>{Wa[Dc||Eb]=Nb};Array.isArray(S)?S.forEach(Eb=>Eb(vb,y,
this)):S(vb,y,this);ba&&V(Wa,y,t,ba,this._defs);return Wa},defs(t){var y=this._defs.gradient;const S=this._defs.clipping;if(0!==Object.keys(y).length+Object.keys(S).length){t.open("defs");for(const Wa in y){var ba=y[Wa];const vb=ba.stops;"radial"===ba.gradient?(t.open("pattern",{id:"p_"+Wa,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+Wa+")"}).close(),t.close(),t.open("radialGradient",{id:Wa,fx:ba.x1,fy:ba.y1,fr:ba.r1,
cx:ba.x2,cy:ba.y2,r:ba.r2})):t.open("linearGradient",{id:Wa,x1:ba.x1,x2:ba.x2,y1:ba.y1,y2:ba.y2});for(ba=0;ba<vb.length;++ba)t.open("stop",{offset:vb[ba].offset,"stop-color":vb[ba].color}).close();t.close()}for(const Wa in S)y=S[Wa],t.open("clipPath",{id:Wa}),y.path?t.open("path",{d:y.path}).close():t.open("rect",{x:0,y:0,width:y.width,height:y.height}).close(),t.close();t.close()}}});const mc={};mc.canvas=mc.png={renderer:Kc,headless:Kc,handler:Za};mc.svg={renderer:rd,headless:be,handler:Bb};mc.none=
{};const Jc=new Aa;h.Bounds=Aa;h.CanvasHandler=Za;h.CanvasRenderer=Kc;h.Gradient=function(t,y){var S=[],ba;return ba={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:y?y[0]:1,y2:y?y[1]:0,stops:S,stop:function(Wa,vb){S.push({offset:Wa,color:vb});return ba}}};h.GroupItem=Va;h.Handler=sc;h.Item=ab;h.Marks=Ue;h.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};h.Renderer=va;h.ResourceLoader=I;h.SVGHandler=Bb;h.SVGRenderer=rd;h.SVGStringRenderer=be;h.Scenegraph=M;h.boundClip=function(t){const y=
t.clip;if(r.isFunction(y))y(L(Jc.clear()));else if(y)Jc.set(0,0,t.group.width,t.group.height);else return;t.bounds.intersect(Jc)};h.boundContext=L;h.boundItem=jb;h.boundMark=lc;h.boundStroke=x;h.domChild=Gb;h.domClear=Ib;h.domCreate=$a;h.domFind=ub;h.font=zd;h.fontFamily=Mc;h.fontSize=hd;h.intersect=function(t,y,S){const ba=[];y=(new Aa).union(y);const Wa=t.marktype;return Wa?qa(t,y,S,ba):"group"===Wa?Ea(t,y,S,ba):r.error("Intersect scene must be mark node or group item.")};h.intersectBoxLine=H;h.intersectPath=
aa;h.intersectPoint=ea;h.intersectRule=Ia;h.lineHeight=Bd;h.markup=ud;h.multiLineOffset=function(t){const y=Gc(t);return(r.isArray(y)?y.length-1:0)*Bd(t)};h.pathCurves=Ka;h.pathEqual=Jb;h.pathParse=Ha;h.pathRectangle=K;h.pathRender=xa;h.pathSymbols=na;h.pathTrail=ia;h.point=Ub;h.renderModule=function(t,y){t=String(t||"").toLowerCase();return 1<arguments.length?(mc[t]=y,this):mc[t]};h.resetSVGClipId=function(){Ge=1};h.resetSVGDefIds=function(){Ge=1;ic=0};h.sceneEqual=fb;h.sceneFromJSON=gd;h.scenePickVisit=
w;h.sceneToJSON=pc;h.sceneVisit=q;h.sceneZOrder=m;h.serializeXML=pa;h.textMetrics=gf;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[41]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(29),Qb(40),Qb(17)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega))})(this,function(h,r,z,Ra){function tb(f){r.Transform.call(this,null,f)}function bb(f,l,m){return l(f.bounds.clear(),f,m)}function wb(f){r.Transform.call(this,
0,f)}function Hb(f){return f._signals[":vega_identifier:"]||(f._signals[":vega_identifier:"]=f.add(0))}function hb(f){r.Transform.call(this,null,f)}function Ka(f){const l=f.groups;f=f.parent;return l&&1===l.size?l.get(Object.keys(l.object)[0]):l&&f?l.lookup(f):null}function Ha(f){r.Transform.call(this,null,f)}function Sa(f){r.Transform.call(this,null,f)}function xa(f,l,m){return f[l]===m?0:(f[l]=m,1)}function ma(f){f=f.items[0].orient;return"left"===f||"right"===f}function na(f,l,m,q){l=l.items[0];
var w=l.datum,F=null!=l.translate?l.translate:.5,U=l.orient,wa=+w.grid;var cb=[w.ticks?wa++:-1,w.labels?wa++:-1,wa+ +w.domain];wa=l.range;var gb=l.offset,Y=l.position,ta=l.minExtent,G=l.maxExtent;w=w.title&&l.items[cb[2]].items[0];var Q=l.titlePadding,ka=l.bounds,Da=w&&z.multiLineOffset(w),sb;X.clear().union(ka);ka.clear();-1<(sb=cb[0])&&ka.union(l.items[sb].bounds);-1<(sb=cb[1])&&ka.union(l.items[sb].bounds);switch(U){case "top":m=Y||0;q=-gb;ta=Math.max(ta,Math.min(G,-ka.y1));ka.add(0,-ta).add(wa,
0);w&&Ba(f,w,ta,Q,Da,0,-1,ka);break;case "left":m=-gb;q=Y||0;ta=Math.max(ta,Math.min(G,-ka.x1));ka.add(-ta,0).add(0,wa);w&&Ba(f,w,ta,Q,Da,1,-1,ka);break;case "right":m+=gb;q=Y||0;ta=Math.max(ta,Math.min(G,ka.x2));ka.add(0,0).add(ta,wa);w&&Ba(f,w,ta,Q,Da,1,1,ka);break;case "bottom":m=Y||0;q+=gb;ta=Math.max(ta,Math.min(G,ka.y2));ka.add(0,0).add(wa,ta);w&&Ba(f,w,ta,Q,0,0,1,ka);break;default:m=l.x,q=l.y}z.boundStroke(ka.translate(m,q),l);xa(l,"x",m+F)|xa(l,"y",q+F)&&(l.bounds=X,f.dirty(l),l.bounds=ka,
f.dirty(l));return l.mark.bounds.clear().union(ka)}function Ba(f,l,m,q,w,F,U,wa){const cb=l.bounds;l.auto&&(m=U*(m+w+q),w=q=0,f.dirty(l),F?q=(l.x||0)-(l.x=m):w=(l.y||0)-(l.y=m),l.mark.bounds.clear().union(cb.translate(-q,-w)),f.dirty(l));wa.union(cb)}function Fa(f){return(new z.Bounds).set(0,0,f.width||0,f.height||0)}function la(f){const l=f.bounds.clone();return l.empty()?l.set(0,0,0,0):l.translate(-(f.x||0),-(f.y||0))}function ra(f,l,m){f=Ra.isObject(f)?f[l]:f;return null!=f?f:void 0!==m?m:0}function Qa(f){return 0>
f?Math.ceil(-f):0}function za(f,l,m){var q=!m.nodirty,w="flush"===m.bounds?Fa:la,F=X.set(0,0,0,0),U=ra(m.align,"column"),wa=ra(m.align,"row"),cb=ra(m.padding,"column"),gb=ra(m.padding,"row"),Y=m.columns||l.length,ta=0>=Y?1:Math.ceil(l.length/Y),G=l.length,Q=Array(G),ka=Array(Y),Da=0,sb=Array(G),Ya=Array(ta),ob=0,Na=Array(G),yb=Array(G),Fb=Array(G),eb,Lb,hc;for(eb=0;eb<Y;++eb)ka[eb]=0;for(eb=0;eb<ta;++eb)Ya[eb]=0;for(eb=0;eb<G;++eb){var Yb=l[eb];var Ic=Fb[eb]=w(Yb);Yb.x=Yb.x||0;Na[eb]=0;Yb.y=Yb.y||
0;yb[eb]=0;Yb=eb%Y;var yc=~~(eb/Y);Da=Math.max(Da,Lb=Math.ceil(Ic.x2));ob=Math.max(ob,hc=Math.ceil(Ic.y2));ka[Yb]=Math.max(ka[Yb],Lb);Ya[yc]=Math.max(Ya[yc],hc);Q[eb]=cb+Qa(Ic.x1);sb[eb]=gb+Qa(Ic.y1);q&&f.dirty(l[eb])}for(eb=0;eb<G;++eb)0===eb%Y&&(Q[eb]=0),eb<Y&&(sb[eb]=0);if("each"===U)for(Yb=1;Yb<Y;++Yb){w=0;for(eb=Yb;eb<G;eb+=Y)w<Q[eb]&&(w=Q[eb]);for(eb=Yb;eb<G;eb+=Y)Q[eb]=w+ka[Yb-1]}else if("all"===U){for(eb=w=0;eb<G;++eb)eb%Y&&w<Q[eb]&&(w=Q[eb]);for(eb=0;eb<G;++eb)eb%Y&&(Q[eb]=w+Da)}else for(U=
!1,Yb=1;Yb<Y;++Yb)for(eb=Yb;eb<G;eb+=Y)Q[eb]+=ka[Yb-1];if("each"===wa)for(yc=1;yc<ta;++yc){w=0;eb=yc*Y;for(Yb=eb+Y;eb<Yb;++eb)w<sb[eb]&&(w=sb[eb]);for(eb=yc*Y;eb<Yb;++eb)sb[eb]=w+Ya[yc-1]}else if("all"===wa){w=0;for(eb=Y;eb<G;++eb)w<sb[eb]&&(w=sb[eb]);for(eb=Y;eb<G;++eb)sb[eb]=w+ob}else for(wa=!1,yc=1;yc<ta;++yc)for(eb=yc*Y,Yb=eb+Y;eb<Yb;++eb)sb[eb]+=Ya[yc-1];for(eb=yc=0;eb<G;++eb)yc=Q[eb]+(eb%Y?yc:0),Na[eb]+=yc-l[eb].x;for(Yb=0;Yb<Y;++Yb)for(Q=0,eb=Yb;eb<G;eb+=Y)Q+=sb[eb],yb[eb]+=Q-l[eb].y;if(U&&
ra(m.center,"column")&&1<ta)for(eb=0;eb<G;++eb)Ic="all"===U?Da:ka[eb%Y],yc=Ic-Fb[eb].x2-l[eb].x-Na[eb],0<yc&&(Na[eb]+=yc/2);if(wa&&ra(m.center,"row")&&1!==Y)for(eb=0;eb<G;++eb)Ic="all"===wa?ob:Ya[~~(eb/Y)],Q=Ic-Fb[eb].y2-l[eb].y-yb[eb],0<Q&&(yb[eb]+=Q/2);for(eb=0;eb<G;++eb)F.union(Fb[eb].translate(Na[eb],yb[eb]));yc=ra(m.anchor,"x");Q=ra(m.anchor,"y");switch(ra(m.anchor,"column")){case "end":yc-=F.width();break;case "middle":yc-=F.width()/2}switch(ra(m.anchor,"row")){case "end":Q-=F.height();break;
case "middle":Q-=F.height()/2}yc=Math.round(yc);Q=Math.round(Q);F.clear();for(eb=0;eb<G;++eb)l[eb].mark.bounds.clear();for(eb=0;eb<G;++eb)Yb=l[eb],Yb.x+=Na[eb]+=yc,Yb.y+=yb[eb]+=Q,F.union(Yb.mark.bounds.union(Yb.bounds.translate(Na[eb],yb[eb]))),q&&f.dirty(Yb);return F}function Ta(f,l){return"x1"===l?f.x||0:"y1"===l?f.y||0:"x2"===l?(f.x||0)+(f.width||0):"y2"===l?(f.y||0)+(f.height||0):void 0}function K(f,l){return f.bounds[l]}function ia(f,l,m,q,w,F,U,wa,cb,gb,Y,ta,G,Q){var ka=m.length,Da=q=0,sb,
Ya;if(!ka)return q;for(sb=Y;sb<ka;sb+=ta)m[sb]&&(q=U(q,cb(m[sb],gb)));if(!l.length)return q;l.length>w&&(f.warn("Grid headers exceed limit: "+w),l=l.slice(0,w));q+=F;w=0;for(F=l.length;w<F;++w)f.dirty(l[w]),l[w].mark.bounds.clear();sb=Y;w=0;for(F=l.length;w<F;++w,sb+=ta){cb=l[w];Y=cb.mark.bounds;for(ka=sb;0<=ka&&null==(Ya=m[ka]);ka-=G);if(wa){ka=null==Q?Ya.x:Math.round(Ya.bounds.x1+Q*Ya.bounds.width());var ob=q}else ka=q,ob=null==Q?Ya.y:Math.round(Ya.bounds.y1+Q*Ya.bounds.height());Y.union(cb.bounds.translate(ka-
(cb.x||0),ob-(cb.y||0)));cb.x=ka;cb.y=ob;f.dirty(cb);Da=U(Da,Y[gb])}return Da}function ya(f,l,m,q,w,F){if(l){f.dirty(l);var U=m;q?U=Math.round(w.x1+F*w.width()):m=Math.round(w.y1+F*w.height());l.bounds.translate(U-(l.x||0),m-(l.y||0));l.mark.bounds.clear().union(l.bounds);l.x=U;l.y=m;f.dirty(l)}}function ua(f,l){const m=f[l]||{};return(q,w)=>null!=m[q]?m[q]:null!=f[q]?f[q]:w}function La(f,l){let m=-Infinity;f.forEach(q=>{null!=q.offset&&(m=Math.max(m,q.offset))});return-Infinity<m?m:l}function Oa(f,
l,m,q,w,F,U){const wa=ua(m,l);m=La(f,wa("offset",0));const cb=wa("anchor","start"),gb="end"===cb?1:"middle"===cb?.5:0;f={align:"each",bounds:wa("bounds","flush"),columns:"vertical"===wa("direction")?1:f.length,padding:wa("margin",8),center:wa("center"),nodirty:!0};switch(l){case "left":f.anchor={x:Math.floor(q.x1)-m,column:"end",y:gb*(U||q.height()+2*q.y1),row:cb};break;case "right":f.anchor={x:Math.ceil(q.x2)+m,y:gb*(U||q.height()+2*q.y1),row:cb};break;case "top":f.anchor={y:Math.floor(w.y1)-m,row:"end",
x:gb*(F||w.width()+2*w.x1),column:cb};break;case "bottom":f.anchor={y:Math.ceil(w.y2)+m,x:gb*(F||w.width()+2*w.x1),column:cb};break;case "top-left":f.anchor={x:m,y:m};break;case "top-right":f.anchor={x:F-m,y:m,column:"end"};break;case "bottom-left":f.anchor={x:m,y:U-m,row:"end"};break;case "bottom-right":f.anchor={x:F-m,y:U-m,column:"end",row:"end"}}return f}function Aa(f,l){l=l.items[0];var m=l.datum,q=l.orient,w=l.bounds,F=l.x,U=l.y;l._bounds?l._bounds.clear().union(w):l._bounds=w.clone();w.clear();
var wa=l.items[0].items[0];var cb=l.padding,gb=cb-wa.x,Y=cb-wa.y;if(l.datum.title){var ta=l.items[1].items[0],G=ta.anchor,Q=l.titlePadding||0,ka=cb-ta.x,Da=cb-ta.y;switch(ta.orient){case "left":gb+=Math.ceil(ta.bounds.width())+Q;break;case "right":case "bottom":break;default:Y+=ta.bounds.height()+Q}(gb||Y)&&I(f,wa,gb,Y);switch(ta.orient){case "left":Da+=Va(l,wa,ta,G,1,1);break;case "right":ka+=Va(l,wa,ta,"end",0,0)+Q;Da+=Va(l,wa,ta,G,1,1);break;case "bottom":ka+=Va(l,wa,ta,G,0,0);Da+=Va(l,wa,ta,"end",
-1,0,1)+Q;break;default:ka+=Va(l,wa,ta,G,0,0)}(ka||Da)&&I(f,ta,ka,Da);0>(ka=Math.round(ta.bounds.x1-cb))&&(I(f,wa,-ka,0),I(f,ta,-ka,0))}else(gb||Y)&&I(f,wa,gb,Y);w=ab(l,w);f=2*l.padding;wa=2*l.padding;w.empty()||(f=Math.ceil(w.width()+f),wa=Math.ceil(w.height()+wa));"symbol"===m.type&&x(l.items[0].items[0].items[0].items);"none"!==q&&(l.x=F=0,l.y=U=0);l.width=f;l.height=wa;z.boundStroke(w.set(F,U,F+f,U+wa),l);l.mark.bounds.clear().union(w);return l}function ab(f,l){f.items.forEach(m=>l.union(m.bounds));
l.x1=f.padding;l.y1=f.padding;return l}function Va(f,l,m,q,w,F,U){const wa=m.datum.vgrad;f=("symbol"===f.datum.type||!F&&wa||U?l:l.items[0]).bounds[w?"y2":"x2"]-f.padding;l=wa&&F?f:0;F=wa&&F?0:f;m=0>=w?0:z.multiLineOffset(m);return Math.round("start"===q?l:"end"===q?F-m:.5*(f-m))}function I(f,l,m,q){l.x+=m;l.y+=q;l.bounds.translate(m,q);l.mark.bounds.translate(m,q);f.dirty(l)}function x(f){const l=f.reduce((m,q)=>{m[q.column]=Math.max(q.bounds.x2-q.x,m[q.column]||0);return m},{});f.forEach(m=>{m.width=
l[m.column];m.height=m.bounds.y2-m.y})}function L(f,l,m,q,w){var F=l.items[0],U=F.orient,wa=F.anchor,cb=F.offset,gb=F.padding,Y=F.items[0].items[0],ta=F.items[1]&&F.items[1].items[0],G="left"===U||"right"===U?q:m,Q=0,ka=m=0;"group"!==F.frame?"left"===U?(Q=w.y2,G=w.y1):"right"===U?(Q=w.y1,G=w.y2):(Q=w.x1,G=w.x2):"left"===U&&(Q=q,G=0);q="start"===wa?Q:"end"===wa?G:(Q+G)/2;if(ta&&ta.text){switch(U){case "top":case "bottom":ka=Y.bounds.height()+gb;break;case "left":m=Y.bounds.width()+gb;break;case "right":m=
-Y.bounds.width()-gb}X.clear().union(ta.bounds);X.translate(m-(ta.x||0),ka-(ta.y||0));xa(ta,"x",m)|xa(ta,"y",ka)&&(f.dirty(ta),ta.bounds.clear().union(X),ta.mark.bounds.clear().union(X),f.dirty(ta));X.clear().union(ta.bounds)}else X.clear();X.union(Y.bounds);switch(U){case "top":U=q;w=w.y1-X.height()-cb;break;case "left":U=w.x1-X.width()-cb;w=q;break;case "right":U=w.x2+X.width()+cb;w=q;break;case "bottom":U=q;w=w.y2+cb;break;default:U=F.x,w=F.y}xa(F,"x",U)|xa(F,"y",w)&&(X.translate(U,w),f.dirty(F),
F.bounds.clear().union(X),l.bounds.clear().union(X),f.dirty(F));return F.bounds}function J(f){r.Transform.call(this,null,f)}function B(f){return f&&"legend-entry"!==f.mark.role}function R(f,l,m){var q=l.items,w=Math.max(0,l.width||0),F=Math.max(0,l.height||0),U=(new z.Bounds).set(0,0,w,F),wa=U.clone(),cb=U.clone(),gb=[],Y,ta;var G=0;for(ta=q.length;G<ta;++G){var Q=q[G];switch(Q.role){case "axis":var ka=ma(Q)?wa:cb;ka.union(na(f,Q,w,F));break;case "title":var Da=Q;break;case "legend":gb.push(Aa(f,
Q));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":wa.union(Q.bounds);cb.union(Q.bounds);break;default:U.union(Q.bounds)}}if(gb.length){const sb={};gb.forEach(Ya=>{Y=Ya.orient||"right";"none"!==Y&&(sb[Y]||(sb[Y]=[])).push(Ya)});for(const Ya in sb)q=sb[Ya],za(f,q,Oa(q,Ya,m.legends,wa,cb,w,F));gb.forEach(Ya=>{const ob=Ya.bounds;ob.equals(Ya._bounds)||(Ya.bounds=Ya._bounds,f.dirty(Ya),Ya.bounds=ob,f.dirty(Ya));
if(m.autosize&&"fit"===m.autosize.type)switch(Ya.orient){case "left":case "right":U.add(ob.x1,0).add(ob.x2,0);break;case "top":case "bottom":U.add(0,ob.y1).add(0,ob.y2)}else U.union(ob)})}U.union(wa).union(cb);Da&&U.union(L(f,Da,w,F,U));l.clip&&U.set(0,0,l.width||0,l.height||0);aa(f,l,U,m)}function aa(f,l,m,q){q=q.autosize||{};const w=q.type;if(!(1>f._autosize)&&w){var F=f._width,U=f._height,wa=Math.max(0,l.width||0),cb=Math.max(0,Math.ceil(-m.x1));l=Math.max(0,l.height||0);var gb=Math.max(0,Math.ceil(-m.y1)),
Y=Math.max(0,Math.ceil(m.x2-wa));m=Math.max(0,Math.ceil(m.y2-l));if("padding"===q.contains){const ta=f.padding();F-=ta.left+ta.right;U-=ta.top+ta.bottom}"none"===w?(gb=cb=0,wa=F,l=U):"fit"===w?(wa=Math.max(0,F-cb-Y),l=Math.max(0,U-gb-m)):"fit-x"===w?(wa=Math.max(0,F-cb-Y),U=l+gb+m):"fit-y"===w?(F=wa+cb+Y,l=Math.max(0,U-gb-m)):"pad"===w&&(F=wa+cb+Y,U=l+gb+m);f._resizeView(F,U,wa,l,[cb,gb],q.resize)}}Ra.inherits(tb,r.Transform,{transform(f,l){const m=l.dataflow,q=f.mark,w=q.marktype,F=z.Marks[w],U=
F.bound;let wa=q.bounds,cb;if(F.nested)q.items.length&&m.dirty(q.items[0]),wa=bb(q,U),q.items.forEach(gb=>{gb.bounds.clear().union(wa)});else if("group"===w||f.modified())switch(l.visit(l.MOD,gb=>m.dirty(gb)),wa.clear(),q.items.forEach(gb=>wa.union(bb(gb,U))),q.role){case "axis":case "legend":case "title":l.reflow()}else cb=l.changed(l.REM),l.visit(l.ADD,gb=>{wa.union(bb(gb,U))}),l.visit(l.MOD,gb=>{cb=cb||wa.alignsWith(gb.bounds);m.dirty(gb);wa.union(bb(gb,U))}),cb&&(wa.clear(),q.items.forEach(gb=>
wa.union(gb.bounds)));z.boundClip(q);return l.modifies("bounds")}});wb.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ra.inherits(wb,r.Transform,{transform(f,l){const m=Hb(l.dataflow),q=f.as;let w=m.value;l.visit(l.ADD,F=>F[q]=F[q]||++w);m.set(this.value=w);return l}});Ra.inherits(hb,r.Transform,{transform(f,l){let m=this.value;m||(m=l.dataflow.scenegraph().mark(f.markdef,Ka(f),f.index),m.group.context=f.context,f.context.group||(f.context.group=
m.group),m.source=this.source,m.clip=f.clip,m.interactive=f.interactive,this.value=m);const q="group"===m.marktype?z.GroupItem:z.Item;l.visit(l.ADD,w=>q.call(w,m));if(f.modified("clip")||f.modified("interactive"))m.clip=f.clip,m.interactive=!!f.interactive,m.zdirty=!0,l.reflow();m.items=l.source;return l}});const ea={parity:f=>f.filter((l,m)=>m%2?l.opacity=0:1),greedy:(f,l)=>{let m;return f.filter((q,w)=>w&&Ca(m.bounds,q.bounds,l)?q.opacity=0:(m=q,1))}},Ca=(f,l,m)=>m>Math.max(l.x1-f.x2,f.x1-l.x2,
l.y1-f.y2,f.y1-l.y2),Ia=(f,l)=>{for(var m=1,q=f.length,w=f[0].bounds;m<q;++m)if(Ca(w,w=f[m].bounds,l))return!0},H=f=>{f=f.bounds;return 1<f.width()&&1<f.height()},da=(f,l,m)=>{f=f.range();var q=new z.Bounds;"top"===l||"bottom"===l?q.set(f[0],-Infinity,f[1],Infinity):q.set(-Infinity,f[0],Infinity,f[1]);q.expand(m||1);return w=>q.encloses(w.bounds)},ca=f=>{f.forEach(l=>l.opacity=1);return f};Ra.inherits(Ha,r.Transform,{transform(f,l){const m=ea[f.method]||ea.parity,q=f.separation||0;let w=l.materialize(l.SOURCE).source,
F,U;if(w&&w.length){if(!f.method)return f.modified("method")&&(ca(w),l=l.reflow(f.modified()).modifies("opacity")),l;w=w.filter(H);if(w.length){f.sort&&(w=w.slice().sort(f.sort));F=ca(w);l=l.reflow(f.modified()).modifies("opacity");if(3<=F.length&&Ia(F,q)){do F=m(F,q);while(3<=F.length&&Ia(F,q));3>F.length&&!Ra.peek(w).opacity&&(1<F.length&&(Ra.peek(F).opacity=0),Ra.peek(w).opacity=1)}f.boundScale&&0<=f.boundTolerance&&(U=da(f.boundScale,f.boundOrient,+f.boundTolerance),w.forEach(cb=>{U(cb)||(cb.opacity=
0)}));var wa=F[0].mark.bounds.clear();w.forEach(cb=>{cb.opacity&&wa.union(cb.bounds)});return l}}}});Ra.inherits(Sa,r.Transform,{transform(f,l){const m=l.dataflow;l.visit(l.ALL,q=>m.dirty(q));l.fields&&l.fields.zindex&&(f=l.source&&l.source[0])&&(f.mark.zdirty=!0)}});const X=new z.Bounds,e=(f,l)=>Math.floor(Math.min(f,l)),c=(f,l)=>Math.ceil(Math.max(f,l));Ra.inherits(J,r.Transform,{transform(f,l){const m=l.dataflow;f.mark.items.forEach(q=>{if(f.layout){var w=f.layout;var F=q.items;for(var U=F.length,
wa=0,cb,gb,Y={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};wa<U;++wa)if(cb=F[wa],gb=cb.items,"group"===cb.marktype)switch(cb.role){case "axis":case "legend":case "title":break;case "row-header":Y.rowheaders.push(...gb);break;case "row-footer":Y.rowfooters.push(...gb);break;case "column-header":Y.colheaders.push(...gb);break;case "column-footer":Y.colfooters.push(...gb);break;case "row-title":Y.rowtitle=gb[0];break;case "column-title":Y.coltitle=gb[0];
break;default:Y.marks.push(...gb)}F=Y;gb=F.marks;Y="flush"===w.bounds?Ta:K;U=w.offset;var ta=w.columns||gb.length,G=0>=ta?1:Math.ceil(gb.length/ta),Q=G*ta;wa=za(m,gb,w);wa.empty()&&wa.set(0,0,0,0);if(F.rowheaders){cb=ra(w.headerBand,"row",null);var ka=ia(m,F.rowheaders,gb,ta,G,-ra(U,"rowHeader"),e,0,Y,"x1",0,ta,1,cb)}if(F.colheaders){cb=ra(w.headerBand,"column",null);var Da=ia(m,F.colheaders,gb,ta,ta,-ra(U,"columnHeader"),e,1,Y,"y1",0,1,ta,cb)}if(F.rowfooters){cb=ra(w.footerBand,"row",null);var sb=
ia(m,F.rowfooters,gb,ta,G,ra(U,"rowFooter"),c,0,Y,"x2",ta-1,ta,1,cb)}if(F.colfooters){cb=ra(w.footerBand,"column",null);var Ya=ia(m,F.colfooters,gb,ta,ta,ra(U,"columnFooter"),c,1,Y,"y2",Q-ta,1,ta,cb)}F.rowtitle&&(cb=ra(w.titleAnchor,"row"),gb=ra(U,"rowTitle"),gb="end"===cb?sb+gb:ka-gb,cb=ra(w.titleBand,"row",.5),ya(m,F.rowtitle,gb,0,wa,cb));F.coltitle&&(cb=ra(w.titleAnchor,"column"),gb=ra(U,"columnTitle"),gb="end"===cb?Ya+gb:Da-gb,cb=ra(w.titleBand,"column",.5),ya(m,F.coltitle,gb,1,wa,cb))}R(m,q,
f)});return B(f.mark.group)?l.reflow():l}});h.bound=tb;h.identifier=wb;h.mark=hb;h.overlap=Ha;h.render=Sa;h.viewlayout=J;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[42]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(29),Qb(39),Qb(17),Qb(18),Qb(37)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.d3,h.d3))})(this,function(h,r,z,Ra,tb,bb){function wb(B){r.Transform.call(this,null,B)}function Hb(B){r.Transform.call(this,null,B)}function hb(){return r.ingest({})}
function Ka(B){const R=Ra.fastmap().test(aa=>aa.exit);R.lookup=aa=>R.get(B(aa));return R}function Ha(B){r.Transform.call(this,null,B)}function Sa(B){r.Transform.call(this,[],B)}function xa(B){r.Transform.call(this,{},B)}function ma(B){r.Transform.call(this,null,B)}function na(B){return z.isContinuous(B)&&B!==z.Sequential}function Ba(B){r.Transform.call(this,null,B);this.modified(!0)}function Fa(B,R,aa){z.isLogarithmic(B)&&Math.abs(R.reduce((ea,Ca)=>ea+(0>Ca?-1:0<Ca?1:0),0))!==R.length&&aa.warn("Log scale domain includes zero: "+
Ra.stringValue(R));return R}function la(B,R,aa){return Ra.isFunction(B)&&(R||aa)?z.interpolateRange(B,ra(R||[0,1],aa)):B}function ra(B,R){return R?B.slice().reverse():B}function Qa(B){r.Transform.call(this,null,B)}function za(B){r.Transform.call(this,null,B)}function Ta(B,R,aa,ea,Ca){R=(R-B.sum)/2;for(var Ia=B.length,H=0,da;H<Ia;++H)da=B[H],da[ea]=R,da[Ca]=R+=Math.abs(aa(da))}function K(B,R,aa,ea,Ca){R=1/B.sum;for(var Ia=0,H=B.length,da=0,ca=0,X;da<H;++da)X=B[da],X[ea]=Ia,X[Ca]=Ia=R*(ca+=Math.abs(aa(X)))}
function ia(B,R,aa,ea,Ca){for(var Ia=R=0,H=B.length,da=0,ca,X;da<H;++da)X=B[da],ca=+aa(X),0>ca?(X[ea]=Ia,X[Ca]=Ia+=ca):(X[ea]=R,X[Ca]=R+=ca)}function ya(B,R,aa,ea){var Ca=[],Ia=f=>f(X),H;if(null==R)Ca.push(B.slice());else{var da={};var ca=0;for(H=B.length;ca<H;++ca){var X=B[ca];var e=R.map(Ia);var c=da[e];c||(da[e]=c=[],Ca.push(c));c.push(X)}}Ia=e=0;for(B=Ca.length;e<B;++e){c=Ca[e];R=ca=0;for(H=c.length;ca<H;++ca)R+=Math.abs(ea(c[ca]));c.sum=R;R>Ia&&(Ia=R);aa&&c.sort(aa)}Ca.max=Ia;return Ca}Ra.inherits(wb,
r.Transform,{transform(B,R){if(this.value&&!B.modified())return R.StopPropagation;var aa=R.dataflow.locale();R=R.fork(R.NO_SOURCE|R.NO_FIELDS);var ea=this.value,Ca=B.scale,Ia=z.tickCount(Ca,null==B.count?B.values?B.values.length:10:B.count,B.minstep),H=B.format||z.tickFormat(aa,Ca,Ia,B.formatSpecifier,B.formatType,!!B.values),da=B.values?z.validTicks(Ca,B.values,Ia):z.tickValues(Ca,Ia);ea&&(R.rem=ea);ea=da.map((ca,X)=>r.ingest({index:X/(da.length-1||1),value:ca,label:H(ca)}));B.extra&&ea.length&&
ea.push(r.ingest({index:-1,extra:{value:ea[0].value},label:""}));R.source=ea;this.value=R.add=ea;return R}});Ra.inherits(Hb,r.Transform,{transform(B,R){var aa=R.dataflow,ea=R.fork(R.NO_SOURCE|R.NO_FIELDS),Ca=B.item||hb,Ia=B.key||r.tupleid,H=this.value;Ra.isArray(ea.encode)&&(ea.encode=null);H&&(B.modified("key")||R.modified(Ia))&&Ra.error("DataJoin does not support modified key function or fields.");H||(R=R.addAll(),this.value=H=Ka(Ia));R.visit(R.ADD,da=>{const ca=Ia(da);let X=H.get(ca);X?X.exit?
(H.empty--,ea.add.push(X)):ea.mod.push(X):(X=Ca(da),H.set(ca,X),ea.add.push(X));X.datum=da;X.exit=!1});R.visit(R.MOD,da=>{var ca=Ia(da);if(ca=H.get(ca))ca.datum=da,ea.mod.push(ca)});R.visit(R.REM,da=>{var ca=Ia(da);ca=H.get(ca);da!==ca.datum||ca.exit||(ea.rem.push(ca),ca.exit=!0,++H.empty)});R.changed(R.ADD_MOD)&&ea.modifies("datum");(R.clean()||B.clean&&H.empty>aa.cleanThreshold)&&aa.runAfter(H.clean);return ea}});Ra.inherits(Ha,r.Transform,{transform(B,R){var aa=R.fork(R.ADD_REM),ea=B.mod||!1,Ca=
B.encoders,Ia=R.encode;if(Ra.isArray(Ia))if(aa.changed()||Ia.every(c=>Ca[c]))Ia=Ia[0],aa.encode=null;else return R.StopPropagation;var H="enter"===Ia,da=Ca.update||Ra.falsy,ca=Ca.enter||Ra.falsy,X=Ca.exit||Ra.falsy,e=(Ia&&!H?Ca[Ia]:da)||Ra.falsy;R.changed(R.ADD)&&(R.visit(R.ADD,c=>{ca(c,B);da(c,B)}),aa.modifies(ca.output),aa.modifies(da.output),e!==Ra.falsy&&e!==da&&(R.visit(R.ADD,c=>{e(c,B)}),aa.modifies(e.output)));R.changed(R.REM)&&X!==Ra.falsy&&(R.visit(R.REM,c=>{X(c,B)}),aa.modifies(X.output));
if(H||e!==Ra.falsy)Ia=R.MOD|(B.modified()?R.REFLOW:0),H?(R.visit(Ia,c=>{const f=ca(c,B)||ea;(e(c,B)||f)&&aa.mod.push(c)}),aa.mod.length&&aa.modifies(ca.output)):R.visit(Ia,c=>{(e(c,B)||ea)&&aa.mod.push(c)}),aa.mod.length&&aa.modifies(e.output);return aa.changed()?aa:R.StopPropagation}});Ra.inherits(Sa,r.Transform,{transform(B,R){if(null!=this.value&&!B.modified())return R.StopPropagation;var aa=R.dataflow.locale(),ea=R.fork(R.NO_SOURCE|R.NO_FIELDS),Ca=this.value,Ia=B.type||z.SymbolLegend,H=B.scale,
da=+B.limit,ca=z.tickCount(H,null==B.count?5:B.count,B.minstep),X=!!B.values||Ia===z.SymbolLegend,e=B.format||z.labelFormat(aa,H,ca,Ia,B.formatSpecifier,B.formatType,X),c=B.values||z.labelValues(H,ca),f;Ca&&(ea.rem=Ca);if(Ia===z.SymbolLegend){if(da&&c.length>da){R.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ca=c.slice(0,da-1);var l=!0}else Ca=c;if(Ra.isFunction(f=B.size)){B.values||0!==H(Ca[0])||(Ca=Ca.slice(1));var m=Ca.reduce((w,F)=>Math.max(w,f(F,B)),0)}else f=Ra.constant(m=
f||8);Ca=Ca.map((w,F)=>r.ingest({index:F,label:e(w,F,Ca),value:w,offset:m,size:f(w,B)}));l&&(l=c[Ca.length],Ca.push(r.ingest({index:Ca.length,label:`\u2026${c.length-Ca.length} entries`,value:l,offset:m,size:f(l,B)})))}else if(Ia===z.GradientLegend){R=H.domain();var q=z.scaleFraction(H,R[0],Ra.peek(R));3>c.length&&!B.values&&R[0]!==Ra.peek(R)&&(c=[R[0],Ra.peek(R)]);Ca=c.map((w,F)=>r.ingest({index:F,label:e(w,F,c),value:w,perc:q(w)}))}else f=c.length-1,q=z.labelFraction(H),Ca=c.map((w,F)=>r.ingest({index:F,
label:e(w,F,c),value:w,perc:F?q(w):0,perc2:F===f?1:q(c[F+1])}));ea.source=Ca;this.value=ea.add=Ca;return ea}});const ua=B=>B.source.x,La=B=>B.source.y,Oa=B=>B.target.x,Aa=B=>B.target.y;xa.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Ra.inherits(xa,r.Transform,{transform(B,R){var aa=B.sourceX||ua,ea=B.sourceY||La,Ca=B.targetX||Oa,Ia=B.targetY||Aa,H=B.as||"path",da=B.shape||"line",ca=x.get(da+"-"+(B.orient||"vertical"))||x.get(da);ca||Ra.error("LinkPath unsupported type: "+B.shape+(B.orient?"-"+B.orient:""));R.visit(R.SOURCE,X=>{X[H]=
ca(aa(X),ea(X),Ca(X),Ia(X))});return R.reflow(B.modified()).modifies(H)}});const ab=(B,R,aa,ea)=>"M"+B+","+R+"L"+aa+","+ea,Va=(B,R,aa,ea)=>{var Ca=aa-B,Ia=ea-R,H=Math.sqrt(Ca*Ca+Ia*Ia)/2;return"M"+B+","+R+"A"+H+","+H+" "+180*Math.atan2(Ia,Ca)/Math.PI+" 0 1 "+aa+","+ea},I=(B,R,aa,ea)=>{var Ca=aa-B;const Ia=ea-R,H=.2*(Ca+Ia);Ca=.2*(Ia-Ca);return"M"+B+","+R+"C"+(B+H)+","+(R+Ca)+" "+(aa+Ca)+","+(ea-H)+" "+aa+","+ea},x=Ra.fastmap({line:ab,"line-radial":(B,R,aa,ea)=>ab(R*Math.cos(B),R*Math.sin(B),ea*Math.cos(aa),
ea*Math.sin(aa)),arc:Va,"arc-radial":(B,R,aa,ea)=>Va(R*Math.cos(B),R*Math.sin(B),ea*Math.cos(aa),ea*Math.sin(aa)),curve:I,"curve-radial":(B,R,aa,ea)=>I(R*Math.cos(B),R*Math.sin(B),ea*Math.cos(aa),ea*Math.sin(aa)),"orthogonal-horizontal":(B,R,aa,ea)=>"M"+B+","+R+"V"+ea+"H"+aa,"orthogonal-vertical":(B,R,aa,ea)=>"M"+B+","+R+"H"+aa+"V"+ea,"orthogonal-radial":(B,R,aa,ea)=>{const Ca=Math.cos(aa),Ia=Math.sin(aa);return"M"+R*Math.cos(B)+","+R*Math.sin(B)+"A"+R+","+R+" 0 0,"+((Math.abs(aa-B)>Math.PI?aa<=B:
aa>B)?1:0)+" "+R*Ca+","+R*Ia+"L"+ea*Ca+","+ea*Ia},"diagonal-horizontal":(B,R,aa,ea)=>{const Ca=(B+aa)/2;return"M"+B+","+R+"C"+Ca+","+R+" "+Ca+","+ea+" "+aa+","+ea},"diagonal-vertical":(B,R,aa,ea)=>{const Ca=(R+ea)/2;return"M"+B+","+R+"C"+B+","+Ca+" "+aa+","+Ca+" "+aa+","+ea},"diagonal-radial":(B,R,aa,ea)=>{const Ca=Math.cos(B);B=Math.sin(B);const Ia=Math.cos(aa);aa=Math.sin(aa);const H=(R+ea)/2;return"M"+R*Ca+","+R*B+"C"+H*Ca+","+H*B+" "+H*Ia+","+H*aa+" "+ea*Ia+","+ea*aa}});ma.Definition={type:"Pie",
metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Ra.inherits(ma,r.Transform,{transform(B,R){var aa=B.as||["startAngle","endAngle"],ea=aa[0],Ca=aa[1],Ia=B.startAngle||0,H=null!=B.endAngle?B.endAngle:2*Math.PI,da=R.source,ca=da.map(B.field||Ra.one),X=ca.length,e=
Ia;Ia=(H-Ia)/tb.sum(ca);H=tb.range(X);var c;B.sort&&H.sort((m,q)=>ca[m]-ca[q]);for(c=0;c<X;++c){var f=ca[H[c]];var l=da[H[c]];l[ea]=e;l[Ca]=e+=f*Ia}this.value=ca;return R.reflow(B.modified()).modifies(aa)}});const L=Ra.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));Ra.inherits(Ba,r.Transform,{transform(B,R){var aa=R.dataflow,ea=this.value;
var Ca=B.type;var Ia="";if(Ca===z.Sequential)Ca=z.Sequential+"-"+z.Linear;else{var H=B.type;z.isContinuous(H)&&H!==z.Time&&H!==z.UTC&&(B.scheme||B.range&&B.range.length&&B.range.every(Ra.isString))&&(Ia=B.rawDomain?B.rawDomain.length:B.domain?B.domain.length+ +(null!=B.domainMid):0,Ia=2===Ia?z.Sequential+"-":3===Ia?z.Diverging+"-":"");Ca=(Ia+Ca||z.Linear).toLowerCase()}ea&&Ca===ea.type||(this.value=ea=z.scale(Ca)());for(Ca in B)L[Ca]||"padding"===Ca&&na(ea.type)||(Ra.isFunction(ea[Ca])?ea[Ca](B[Ca]):
aa.warn("Unsupported scale property: "+Ca));Ia=Ca=ea;(H=B.domainRaw)?(ea.domain(Fa(ea.type,H,aa)),H=H.length):H=-1;if(-1<H)aa=H;else{var da=B.domain;H=ea.type;var ca;!(ca=B.zero)&&(ca=void 0===B.zero)&&(ca=ea.type,ca=!ea.bins&&(ca===z.Linear||ca===z.Pow||ca===z.Sqrt));if(da){if(na(H)&&B.padding&&da[0]!==Ra.peek(da)){var X=B.range,e=B.padding;var c=B.exponent;var f=B.constant;X=Math.abs(Ra.peek(X)-X[0]);e=X/(X-2*e);c=H===z.Log?Ra.zoomLog(da,null,e):H===z.Sqrt?Ra.zoomPow(da,null,e,.5):H===z.Pow?Ra.zoomPow(da,
null,e,c||1):H===z.Symlog?Ra.zoomSymlog(da,null,e,f||1):Ra.zoomLinear(da,null,e);da=da.slice();da[0]=c[0];da[da.length-1]=c[1]}if(ca||null!=B.domainMin||null!=B.domainMax||null!=B.domainMid)c=(da=da.slice()).length-1||1,ca&&(0<da[0]&&(da[0]=0),0>da[c]&&(da[c]=0)),null!=B.domainMin&&(da[0]=B.domainMin),null!=B.domainMax&&(da[c]=B.domainMax),null!=B.domainMid&&(ca=B.domainMid,f=ca>da[c]?c+1:ca<da[0]?0:c,f!==c&&aa.warn("Scale domainMid exceeds domain min or max.",ca),da.splice(f,0,ca));ea.domain(Fa(H,
da,aa));H===z.Ordinal&&ea.unknown(B.domainImplicit?z.scaleImplicit:void 0);B.nice&&ea.nice&&ea.nice(!0!==B.nice&&z.tickCount(ea,B.nice)||null);aa=da.length}else aa=0}(H=B.bins)&&!Ra.isArray(H)&&(ca=Ia.domain(),ea=ca[0],ca=Ra.peek(ca),da=H.step,c=null==H.start?ea:H.start,H=null==H.stop?ca:H.stop,da||Ra.error("Scale bins parameter missing step property."),c<ea&&(c=da*Math.ceil(ea/da)),H>ca&&(H=da*Math.floor(ca/da)),H=tb.range(c,H+da/2,da));H?Ia.bins=H:Ia.bins&&delete Ia.bins;Ia.type===z.BinOrdinal&&
(H?B.domain||B.domainRaw||(Ia.domain(H),aa=H.length):Ia.bins=Ia.domain());ea=aa;a:{Ia=Ca.type;aa=B.round||!1;H=B.range;if(null!=B.rangeStep)Ia!==z.Band&&Ia!==z.Point&&Ra.error("Only band and point scales support rangeStep."),H=[0,B.rangeStep*z.bandSpace(ea,Ia===z.Point?1:(null!=B.paddingInner?B.paddingInner:B.padding)||0,(null!=B.paddingOuter?B.paddingOuter:B.padding)||0)];else if(B.scheme&&(H=B.schemeExtent,Ra.isArray(B.scheme)?ca=z.interpolateColors(B.scheme,B.interpolate,B.interpolateGamma):(ca=
B.scheme.toLowerCase(),(ca=z.scheme(ca))||Ra.error(`Unrecognized scheme name: ${B.scheme}`)),ea=Ia===z.Threshold?ea+1:Ia===z.BinOrdinal?ea-1:Ia===z.Quantile||Ia===z.Quantize?+B.schemeCount||5:ea,H=z.isInterpolating(Ia)?la(ca,H,B.reverse):Ra.isFunction(ca)?z.quantizeInterpolator(la(ca,H),ea):Ia===z.Ordinal?ca:ca.slice(0,ea),Ra.isFunction(H)))if(Ca.interpolator){Ca.interpolator(H);break a}else Ra.error(`Scale type ${Ia} does not support interpolating color schemes.`);H&&z.isInterpolating(Ia)?Ca.interpolator(z.interpolateColors(ra(H,
B.reverse),B.interpolate,B.interpolateGamma)):(H&&B.interpolate&&Ca.interpolate?Ca.interpolate(z.interpolate(B.interpolate,B.interpolateGamma)):Ra.isFunction(Ca.round)?Ca.round(aa):Ra.isFunction(Ca.rangeRound)&&Ca.interpolate(aa?bb.interpolateRound:bb.interpolate),H&&Ca.range(ra(H,B.reverse)))}return R.fork(R.NO_SOURCE|R.NO_FIELDS)}});Ra.inherits(Qa,r.Transform,{transform(B,R){const aa=B.modified("sort")||R.changed(R.ADD)||R.modified(B.sort.fields)||R.modified("datum");aa&&R.source.sort(r.stableCompare(B.sort));
this.modified(aa);return R}});const J=["y0","y1"];za.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":J}]};Ra.inherits(za,r.Transform,{transform(B,R){var aa=B.as||J,ea=aa[0],Ca=aa[1],Ia=r.stableCompare(B.sort),H=B.field||Ra.one,da="center"===B.offset?Ta:"normalize"===
B.offset?K:ia,ca;Ia=ya(R.source,B.groupby,Ia,H);var X=0;var e=Ia.length;for(ca=Ia.max;X<e;++X)da(Ia[X],ca,H,ea,Ca);return R.reflow(B.modified()).modifies(aa)}});h.axisticks=wb;h.datajoin=Hb;h.encode=Ha;h.legendentries=Sa;h.linkpath=xa;h.pie=ma;h.scale=Ba;h.sortitems=Qa;h.stack=za;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[43]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(18)):"function"===typeof define&&define.amd?define(["exports","d3-array"],r):(h=h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function z(Z){return 1<Z?0:-1>Z?qa:Math.acos(Z)}function Ra(Z){return 1<Z?Ea:-1>Z?-Ea:Math.asin(Z)}function tb(Z){return(Z=qd(Z/2))*Z}function bb(){}function wb(Z,sa){if(Z&&Ze.hasOwnProperty(Z.type))Ze[Z.type](Z,sa)}function Hb(Z,sa,Ja){var ib=-1;Ja=Z.length-
Ja;for(sa.lineStart();++ib<Ja;){var xb=Z[ib];sa.point(xb[0],xb[1],xb[2])}sa.lineEnd()}function hb(Z,sa){var Ja=-1,ib=Z.length;for(sa.polygonStart();++Ja<ib;)Hb(Z[Ja],sa,1);sa.polygonEnd()}function Ka(Z,sa){if(Z&&lf.hasOwnProperty(Z.type))lf[Z.type](Z,sa);else wb(Z,sa)}function Ha(){Yd.point=xa}function Sa(){ma(ce,gc)}function xa(Z,sa){Yd.point=ma;ce=Z;gc=sa;Z*=Rb;sa*=Rb;Uc=Z;Xd=Nc(sa=sa/2+rb);xe=qd(sa)}function ma(Z,sa){Z*=Rb;sa*=Rb;sa=sa/2+rb;var Ja=Z-Uc,ib=0<=Ja?1:-1,xb=ib*Ja;Ja=Nc(sa);sa=qd(sa);
var ac=xe*sa,dc=Xd*Ja+ac*Nc(xb);ib=ac*ib*qd(xb);Qd.add(xc(ib,dc));Uc=Z;Xd=Ja;xe=sa}function na(Z){return[xc(Z[1],Z[0]),Ra(Z[2])]}function Ba(Z){var sa=Z[0];Z=Z[1];var Ja=Nc(Z);return[Ja*Nc(sa),Ja*qd(sa),qd(Z)]}function Fa(Z,sa){return Z[0]*sa[0]+Z[1]*sa[1]+Z[2]*sa[2]}function la(Z,sa){return[Z[1]*sa[2]-Z[2]*sa[1],Z[2]*sa[0]-Z[0]*sa[2],Z[0]*sa[1]-Z[1]*sa[0]]}function ra(Z,sa){Z[0]+=sa[0];Z[1]+=sa[1];Z[2]+=sa[2]}function Qa(Z,sa){return[Z[0]*sa,Z[1]*sa,Z[2]*sa]}function za(Z){var sa=ie(Z[0]*Z[0]+Z[1]*
Z[1]+Z[2]*Z[2]);Z[0]/=sa;Z[1]/=sa;Z[2]/=sa}function Ta(Z,sa){pe.push(ye=[ge=Z,Ed=Z]);sa<Ge&&(Ge=sa);sa>vd&&(vd=sa)}function K(Z,sa){var Ja=Ba([Z*Rb,sa*Rb]);if(Ee){var ib=la(Ee,Ja);ib=la([ib[1],-ib[0],0],ib);za(ib);ib=na(ib);var xb=Z-te,ac=0<xb?1:-1,dc=ib[0]*Jb*ac;xb=180<ic(xb);xb^(ac*te<dc&&dc<ac*Z)?(ib=ib[1]*Jb,ib>vd&&(vd=ib)):(dc=(dc+360)%360-180,xb^(ac*te<dc&&dc<ac*Z))?(ib=-ib[1]*Jb,ib<Ge&&(Ge=ib)):(sa<Ge&&(Ge=sa),sa>vd&&(vd=sa));xb?Z<te?Aa(ge,Z)>Aa(ge,Ed)&&(Ed=Z):Aa(Z,Ed)>Aa(ge,Ed)&&(ge=Z):Ed>=
ge?(Z<ge&&(ge=Z),Z>Ed&&(Ed=Z)):Z>te?Aa(ge,Z)>Aa(ge,Ed)&&(Ed=Z):Aa(Z,Ed)>Aa(ge,Ed)&&(ge=Z)}else pe.push(ye=[ge=Z,Ed=Z]);sa<Ge&&(Ge=sa);sa>vd&&(vd=sa);Ee=Ja;te=Z}function ia(){E.point=K}function ya(){ye[0]=ge;ye[1]=Ed;E.point=Ta;Ee=null}function ua(Z,sa){if(Ee){var Ja=Z-te;Ce.add(180<ic(Ja)?Ja+(0<Ja?360:-360):Ja)}else Se=Z,dd=sa;Yd.point(Z,sa);K(Z,sa)}function La(){Yd.lineStart()}function Oa(){ua(Se,dd);Yd.lineEnd();1E-6<ic(Ce)&&(ge=-(Ed=180));ye[0]=ge;ye[1]=Ed;Ee=null}function Aa(Z,sa){return 0>(sa-=
Z)?sa+360:sa}function ab(Z,sa){return Z[0]-sa[0]}function Va(Z,sa){return Z[0]<=Z[1]?Z[0]<=sa&&sa<=Z[1]:sa<Z[0]||Z[1]<sa}function I(Z,sa){Z*=Rb;sa*=Rb;var Ja=Nc(sa);x(Ja*Nc(Z),Ja*qd(Z),qd(sa))}function x(Z,sa,Ja){++W;Cb+=(Z-Cb)/W;Ob+=(sa-Ob)/W;Pb+=(Ja-Pb)/W}function L(){ze.point=J}function J(Z,sa){Z*=Rb;sa*=Rb;var Ja=Nc(sa);qe=Ja*Nc(Z);Nd=Ja*qd(Z);je=qd(sa);ze.point=B;x(qe,Nd,je)}function B(Z,sa){Z*=Rb;sa*=Rb;var Ja=Nc(sa),ib=Ja*Nc(Z);Z=Ja*qd(Z);sa=qd(sa);var xb=xc(ie((xb=Nd*sa-je*Z)*xb+(xb=je*ib-
qe*sa)*xb+(xb=qe*Z-Nd*ib)*xb),qe*ib+Nd*Z+je*sa);Ma+=xb;wc+=xb*(qe+(qe=ib));fc+=xb*(Nd+(Nd=Z));Tc+=xb*(je+(je=sa));x(qe,Nd,je)}function R(){ze.point=I}function aa(){ze.point=Ca}function ea(){Ia(ue,ke);ze.point=I}function Ca(Z,sa){ue=Z;ke=sa;Z*=Rb;sa*=Rb;ze.point=Ia;var Ja=Nc(sa);qe=Ja*Nc(Z);Nd=Ja*qd(Z);je=qd(sa);x(qe,Nd,je)}function Ia(Z,sa){Z*=Rb;sa*=Rb;var Ja=Nc(sa),ib=Ja*Nc(Z);Z=Ja*qd(Z);sa=qd(sa);Ja=Nd*sa-je*Z;var xb=je*ib-qe*sa,ac=qe*Z-Nd*ib,dc=cd(Ja,xb,ac),ec=Ra(dc);dc=dc&&-ec/dc;Ad.add(dc*Ja);
Gd.add(dc*xb);Ld.add(dc*ac);Ma+=ec;wc+=ec*(qe+(qe=ib));fc+=ec*(Nd+(Nd=Z));Tc+=ec*(je+(je=sa));x(qe,Nd,je)}function H(Z){return function(){return Z}}function da(Z,sa){function Ja(ib,xb){return ib=Z(ib,xb),sa(ib[0],ib[1])}Z.invert&&sa.invert&&(Ja.invert=function(ib,xb){return ib=sa.invert(ib,xb),ib&&Z.invert(ib[0],ib[1])});return Ja}function ca(Z,sa){return[ic(Z)>qa?Z+Math.round(-Z/fb)*fb:Z,sa]}function X(Z,sa,Ja){return(Z%=fb)?sa||Ja?da(c(Z),f(sa,Ja)):c(Z):sa||Ja?f(sa,Ja):ca}function e(Z){return function(sa,
Ja){return sa+=Z,[sa>qa?sa-fb:sa<-qa?sa+fb:sa,Ja]}}function c(Z){var sa=e(Z);sa.invert=e(-Z);return sa}function f(Z,sa){function Ja(ec,nc){var rc=Nc(nc),ad=Nc(ec)*rc;ec=qd(ec)*rc;nc=qd(nc);rc=nc*ib+ad*xb;return[xc(ec*ac-rc*dc,ad*ib-nc*xb),Ra(rc*ac+ec*dc)]}var ib=Nc(Z),xb=qd(Z),ac=Nc(sa),dc=qd(sa);Ja.invert=function(ec,nc){var rc=Nc(nc),ad=Nc(ec)*rc;ec=qd(ec)*rc;nc=qd(nc);rc=nc*ac-ec*dc;return[xc(ec*ac+nc*dc,ad*ib+rc*xb),Ra(rc*ib-ad*xb)]};return Ja}function l(Z){function sa(Ja){Ja=Z(Ja[0]*Rb,Ja[1]*
Rb);return Ja[0]*=Jb,Ja[1]*=Jb,Ja}Z=X(Z[0]*Rb,Z[1]*Rb,2<Z.length?Z[2]*Rb:0);sa.invert=function(Ja){Ja=Z.invert(Ja[0]*Rb,Ja[1]*Rb);return Ja[0]*=Jb,Ja[1]*=Jb,Ja};return sa}function m(Z,sa,Ja,ib,xb,ac){if(Ja){var dc=Nc(sa),ec=qd(sa);Ja*=ib;if(null==xb)xb=sa+ib*fb,ac=sa-Ja/2;else if(xb=q(dc,xb),ac=q(dc,ac),0<ib?xb<ac:xb>ac)xb+=ib*fb;for(;0<ib?xb>ac:xb<ac;xb-=Ja)sa=na([dc,-ec*Nc(xb),-ec*qd(xb)]),Z.point(sa[0],sa[1])}}function q(Z,sa){sa=Ba(sa);sa[0]-=Z;za(sa);Z=z(-sa[1]);return((0>-sa[2]?-Z:Z)+fb-1E-6)%
fb}function w(){var Z=[],sa;return{point:function(Ja,ib,xb){sa.push([Ja,ib,xb])},lineStart:function(){Z.push(sa=[])},lineEnd:bb,rejoin:function(){1<Z.length&&Z.push(Z.pop().concat(Z.shift()))},result:function(){var Ja=Z;Z=[];sa=null;return Ja}}}function F(Z,sa){return 1E-6>ic(Z[0]-sa[0])&&1E-6>ic(Z[1]-sa[1])}function U(Z,sa,Ja,ib){this.x=Z;this.z=sa;this.o=Ja;this.e=ib;this.v=!1;this.n=this.p=null}function wa(Z,sa,Ja,ib,xb){var ac=[],dc=[];Z.forEach(function(Lc){if(!(0>=(Oc=Lc.length-1))){var Oc,
Vc=Lc[0],bd=Lc[Oc];if(F(Vc,bd)){if(!Vc[2]&&!bd[2]){xb.lineStart();for(ec=0;ec<Oc;++ec)xb.point((Vc=Lc[ec])[0],Vc[1]);xb.lineEnd();return}bd[0]+=2E-6}ac.push(Oc=new U(Vc,Lc,null,!0));dc.push(Oc.o=new U(Vc,null,Oc,!1));ac.push(Oc=new U(bd,Lc,null,!1));dc.push(Oc.o=new U(bd,null,Oc,!0))}});if(ac.length){dc.sort(sa);cb(ac);cb(dc);var ec=0;for(Z=dc.length;ec<Z;++ec)dc[ec].e=Ja=!Ja;Ja=ac[0];for(var nc;;){for(var rc=Ja,ad=!0;rc.v;)if((rc=rc.n)===Ja)return;sa=rc.z;xb.lineStart();do{rc.v=rc.o.v=!0;if(rc.e){if(ad)for(ec=
0,Z=sa.length;ec<Z;++ec)xb.point((nc=sa[ec])[0],nc[1]);else ib(rc.x,rc.n.x,1,xb);rc=rc.n}else{if(ad)for(sa=rc.p.z,ec=sa.length-1;0<=ec;--ec)xb.point((nc=sa[ec])[0],nc[1]);else ib(rc.x,rc.p.x,-1,xb);rc=rc.p}rc=rc.o;sa=rc.z;ad=!ad}while(!rc.v);xb.lineEnd()}}}function cb(Z){if(sa=Z.length){for(var sa,Ja=0,ib=Z[0],xb;++Ja<sa;)ib.n=xb=Z[Ja],xb.p=ib,ib=xb;ib.n=xb=Z[0];xb.p=ib}}function gb(Z){return ic(Z[0])<=qa?Z[0]:Wd(Z[0])*((ic(Z[0])+qa)%fb-qa)}function Y(Z,sa){var Ja=gb(sa);sa=sa[1];var ib=qd(sa),xb=
[qd(Ja),-Nc(Ja),0],ac=0,dc=0,ec=new r.Adder;1===ib?sa=Ea+1E-6:-1===ib&&(sa=-Ea-1E-6);ib=0;for(var nc=Z.length;ib<nc;++ib)if(ad=(rc=Z[ib]).length){var rc,ad,Lc=rc[ad-1],Oc=gb(Lc),Vc=Lc[1]/2+rb,bd=qd(Vc),ld=Nc(Vc);for(Vc=0;Vc<ad;++Vc,Oc=Td,bd=Kd,ld=yd,Lc=Zd){var Zd=rc[Vc],Td=gb(Zd);yd=Zd[1]/2+rb;var Kd=qd(yd),yd=Nc(yd),kd=Td-Oc,Md=0<=kd?1:-1,se=Md*kd,Ne=se>qa;bd*=Kd;ec.add(xc(bd*Md*qd(se),ld*yd+bd*Nc(se)));ac+=Ne?kd+Md*fb:kd;Ne^Oc>=Ja^Td>=Ja&&(Lc=la(Ba(Lc),Ba(Zd)),za(Lc),Oc=la(xb,Lc),za(Oc),Oc=(Ne^
0<=kd?-1:1)*Ra(Oc[2]),sa>Oc||sa===Oc&&(Lc[0]||Lc[1]))&&(dc+=Ne^0<=kd?1:-1)}}return(-1E-6>ac||1E-6>ac&&-1E-12>ec)^dc&1}function ta(Z,sa,Ja,ib){return function(xb){function ac(kd,Md){Z(kd,Md)&&xb.point(kd,Md)}function dc(kd,Md){Oc.point(kd,Md)}function ec(){yd.point=dc;Oc.lineStart()}function nc(){yd.point=ac;Oc.lineEnd()}function rc(kd,Md){Kd.push([kd,Md]);bd.point(kd,Md)}function ad(){bd.lineStart();Kd=[]}function Lc(){rc(Kd[0][0],Kd[0][1]);bd.lineEnd();var kd=bd.clean(),Md=Vc.result(),se=Md.length,
Ne;Kd.pop();Zd.push(Kd);Kd=null;if(se)if(kd&1){if(se=Md[0],0<(Md=se.length-1)){ld||(xb.polygonStart(),ld=!0);xb.lineStart();for(kd=0;kd<Md;++kd)xb.point((Ne=se[kd])[0],Ne[1]);xb.lineEnd()}}else 1<se&&kd&2&&Md.push(Md.pop().concat(Md.shift())),Td.push(Md.filter(G))}var Oc=sa(xb),Vc=w(),bd=sa(Vc),ld=!1,Zd,Td,Kd,yd={point:ac,lineStart:ec,lineEnd:nc,polygonStart:function(){yd.point=rc;yd.lineStart=ad;yd.lineEnd=Lc;Td=[];Zd=[]},polygonEnd:function(){yd.point=ac;yd.lineStart=ec;yd.lineEnd=nc;Td=r.merge(Td);
var kd=Y(Zd,ib);Td.length?(ld||(xb.polygonStart(),ld=!0),wa(Td,Q,kd,Ja,xb)):kd&&(ld||(xb.polygonStart(),ld=!0),xb.lineStart(),Ja(null,null,1,xb),xb.lineEnd());ld&&(xb.polygonEnd(),ld=!1);Td=Zd=null},sphere:function(){xb.polygonStart();xb.lineStart();Ja(null,null,1,xb);xb.lineEnd();xb.polygonEnd()}};return yd}}function G(Z){return 1<Z.length}function Q(Z,sa){return(0>(Z=Z.x)[0]?Z[1]-Ea-1E-6:Ea-Z[1])-(0>(sa=sa.x)[0]?sa[1]-Ea-1E-6:Ea-sa[1])}function ka(Z){function sa(nc,rc){return Nc(nc)*Nc(rc)>xb}function Ja(nc,
rc,ad){var Lc=Ba(nc),Oc=Ba(rc),Vc=[1,0,0];Oc=la(Lc,Oc);var bd=Fa(Oc,Oc);Lc=Oc[0];var ld=bd-Lc*Lc;if(!ld)return!ad&&nc;bd=xb*bd/ld;ld=-xb*Lc/ld;Lc=la(Vc,Oc);Vc=Qa(Vc,bd);Oc=Qa(Oc,ld);ra(Vc,Oc);Oc=Fa(Vc,Lc);bd=Fa(Lc,Lc);ld=Oc*Oc-bd*(Fa(Vc,Vc)-1);if(!(0>ld)){var Zd=ie(ld);ld=Qa(Lc,(-Oc-Zd)/bd);ra(ld,Vc);ld=na(ld);if(!ad)return ld;ad=nc[0];var Td=rc[0];nc=nc[1];rc=rc[1];if(Td<ad){var Kd=ad;ad=Td;Td=Kd}var yd=Td-ad,kd=1E-6>ic(yd-qa);!kd&&rc<nc&&(Kd=nc,nc=rc,rc=Kd);if(kd||1E-6>yd?kd?0<nc+rc^ld[1]<(1E-6>
ic(ld[0]-ad)?nc:rc):nc<=ld[1]&&ld[1]<=rc:yd>qa^(ad<=ld[0]&&ld[0]<=Td))return rc=Qa(Lc,(-Oc+Zd)/bd),ra(rc,Vc),[ld,na(rc)]}}function ib(nc,rc){var ad=dc?Z:qa-Z,Lc=0;nc<-ad?Lc|=1:nc>ad&&(Lc|=2);rc<-ad?Lc|=4:rc>ad&&(Lc|=8);return Lc}var xb=Nc(Z),ac=6*Rb,dc=0<xb,ec=1E-6<ic(xb);return ta(sa,function(nc){var rc,ad,Lc,Oc,Vc;return{lineStart:function(){Oc=Lc=!1;Vc=1},point:function(bd,ld){var Zd=[bd,ld],Td=sa(bd,ld);ld=dc?Td?0:ib(bd,ld):Td?ib(bd+(0>bd?qa:-qa),ld):0;!rc&&(Oc=Lc=Td)&&nc.lineStart();Td!==Lc&&
(bd=Ja(rc,Zd),!bd||F(rc,bd)||F(Zd,bd))&&(Zd[2]=1);if(Td!==Lc)Vc=0,Td?(nc.lineStart(),bd=Ja(Zd,rc),nc.point(bd[0],bd[1])):(bd=Ja(rc,Zd),nc.point(bd[0],bd[1],2),nc.lineEnd()),rc=bd;else if(ec&&rc&&dc^Td){var Kd;ld&ad||!(Kd=Ja(Zd,rc,!0))||(Vc=0,dc?(nc.lineStart(),nc.point(Kd[0][0],Kd[0][1]),nc.point(Kd[1][0],Kd[1][1]),nc.lineEnd()):(nc.point(Kd[1][0],Kd[1][1]),nc.lineEnd(),nc.lineStart(),nc.point(Kd[0][0],Kd[0][1],3)))}!Td||rc&&F(rc,Zd)||nc.point(Zd[0],Zd[1]);rc=Zd;Lc=Td;ad=ld},lineEnd:function(){Lc&&
nc.lineEnd();rc=null},clean:function(){return Vc|(Oc&&Lc)<<1}}},function(nc,rc,ad,Lc){m(Lc,Z,ac,ad,nc,rc)},dc?[0,-Z]:[-qa,Z-qa])}function Da(Z,sa,Ja,ib,xb,ac){var dc=Z[0],ec=Z[1],nc=0,rc=1,ad=sa[0]-dc,Lc=sa[1]-ec;Ja-=dc;if(ad||!(0<Ja)){Ja/=ad;if(0>ad){if(Ja<nc)return;Ja<rc&&(rc=Ja)}else if(0<ad){if(Ja>rc)return;Ja>nc&&(nc=Ja)}Ja=xb-dc;if(ad||!(0>Ja)){Ja/=ad;if(0>ad){if(Ja>rc)return;Ja>nc&&(nc=Ja)}else if(0<ad){if(Ja<nc)return;Ja<rc&&(rc=Ja)}Ja=ib-ec;if(Lc||!(0<Ja)){Ja/=Lc;if(0>Lc){if(Ja<nc)return;
Ja<rc&&(rc=Ja)}else if(0<Lc){if(Ja>rc)return;Ja>nc&&(nc=Ja)}Ja=ac-ec;if(Lc||!(0>Ja)){Ja/=Lc;if(0>Lc){if(Ja>rc)return;Ja>nc&&(nc=Ja)}else if(0<Lc){if(Ja<nc)return;Ja<rc&&(rc=Ja)}0<nc&&(Z[0]=dc+nc*ad,Z[1]=ec+nc*Lc);1>rc&&(sa[0]=dc+rc*ad,sa[1]=ec+rc*Lc);return!0}}}}}function sb(Z,sa,Ja,ib){function xb(nc,rc,ad,Lc){var Oc=0,Vc=0;if(null==nc||(Oc=ac(nc,ad))!==(Vc=ac(rc,ad))||0>ec(nc,rc)^0<ad){do Lc.point(0===Oc||3===Oc?Z:Ja,1<Oc?ib:sa);while((Oc=(Oc+ad+4)%4)!==Vc)}else Lc.point(rc[0],rc[1])}function ac(nc,
rc){return 1E-6>ic(nc[0]-Z)?0<rc?0:3:1E-6>ic(nc[0]-Ja)?0<rc?2:1:1E-6>ic(nc[1]-sa)?0<rc?1:0:0<rc?3:2}function dc(nc,rc){return ec(nc.x,rc.x)}function ec(nc,rc){var ad=ac(nc,1),Lc=ac(rc,1);return ad!==Lc?ad-Lc:0===ad?rc[1]-nc[1]:1===ad?nc[0]-rc[0]:2===ad?nc[1]-rc[1]:rc[0]-nc[0]}return function(nc){function rc(re,Fe){Z<=re&&re<=Ja&&sa<=Fe&&Fe<=ib&&Lc.point(re,Fe)}function ad(re,Fe){var Ye=Z<=re&&re<=Ja&&sa<=Fe&&Fe<=ib;bd&&ld.push([re,Fe]);if(se)Zd=re,Td=Fe,Kd=Ye,se=!1,Ye&&(Lc.lineStart(),Lc.point(re,
Fe));else if(Ye&&Md)Lc.point(re,Fe);else{var mf=[yd=Math.max(-1E9,Math.min(1E9,yd)),kd=Math.max(-1E9,Math.min(1E9,kd))],tf=[re=Math.max(-1E9,Math.min(1E9,re)),Fe=Math.max(-1E9,Math.min(1E9,Fe))];Da(mf,tf,Z,sa,Ja,ib)?(Md||(Lc.lineStart(),Lc.point(mf[0],mf[1])),Lc.point(tf[0],tf[1]),Ye||Lc.lineEnd(),Ne=!1):Ye&&(Lc.lineStart(),Lc.point(re,Fe),Ne=!1)}yd=re;kd=Fe;Md=Ye}var Lc=nc,Oc=w(),Vc,bd,ld,Zd,Td,Kd,yd,kd,Md,se,Ne,Ke={point:rc,lineStart:function(){Ke.point=ad;bd&&bd.push(ld=[]);se=!0;Md=!1;yd=kd=NaN},
lineEnd:function(){Vc&&(ad(Zd,Td),Kd&&Md&&Oc.rejoin(),Vc.push(Oc.result()));Ke.point=rc;Md&&Lc.lineEnd()},polygonStart:function(){Lc=Oc;Vc=[];bd=[];Ne=!0},polygonEnd:function(){for(var re,Fe=re=0,Ye=bd.length;Fe<Ye;++Fe){var mf=bd[Fe],tf=1,Gg=mf.length,Cd=mf[0],hf=Cd[0];for(Cd=Cd[1];tf<Gg;++tf){var Xf=hf;var rh=Cd;Cd=mf[tf];hf=Cd[0];Cd=Cd[1];rh<=ib?Cd>ib&&(hf-Xf)*(ib-rh)>(Cd-rh)*(Z-Xf)&&++re:Cd<=ib&&(hf-Xf)*(ib-rh)<(Cd-rh)*(Z-Xf)&&--re}}Fe=Ne&&re;Ye=(Vc=r.merge(Vc)).length;if(Fe||Ye)nc.polygonStart(),
Fe&&(nc.lineStart(),xb(null,null,1,nc),nc.lineEnd()),Ye&&wa(Vc,dc,re,xb,nc),nc.polygonEnd();Lc=nc;Vc=bd=ld=null}};return Ke}}function Ya(){ff.point=ff.lineEnd=bb}function ob(Z,sa){Z*=Rb;sa*=Rb;pf=Z;wf=qd(sa);qf=Nc(sa);ff.point=Na}function Na(Z,sa){Z*=Rb;sa*=Rb;var Ja=qd(sa);sa=Nc(sa);var ib=ic(Z-pf),xb=Nc(ib);ib=qd(ib);ib*=sa;var ac=qf*Ja-wf*sa*xb;xb=wf*Ja+qf*sa*xb;Xe.add(xc(ie(ib*ib+ac*ac),xb));pf=Z;wf=Ja;qf=sa}function yb(Z){Xe=new r.Adder;Ka(Z,ff);return+Xe}function Fb(Z,sa){gf[0]=Z;gf[1]=sa;return yb(If)}
function eb(Z,sa){return Z&&af.hasOwnProperty(Z.type)?af[Z.type](Z,sa):!1}function Lb(Z,sa){for(var Ja,ib,xb,ac=0,dc=Z.length;ac<dc;ac++){ib=Fb(Z[ac],sa);if(0===ib||0<ac&&(xb=Fb(Z[ac],Z[ac-1]),0<xb&&Ja<=xb&&ib<=xb&&(Ja+ib-xb)*(1-Math.pow((Ja-ib)/xb,2))<1E-12*xb))return!0;Ja=ib}return!1}function hc(Z,sa){return!!Y(Z.map(Yb),Ic(sa))}function Yb(Z){return Z=Z.map(Ic),Z.pop(),Z}function Ic(Z){return[Z[0]*Rb,Z[1]*Rb]}function yc(Z,sa,Ja){var ib=r.range(Z,sa-1E-6,Ja).concat(sa);return function(xb){return ib.map(function(ac){return[xb,
ac]})}}function hd(Z,sa,Ja){var ib=r.range(Z,sa-1E-6,Ja).concat(sa);return function(xb){return ib.map(function(ac){return[ac,xb]})}}function Bd(){function Z(){return{type:"MultiLineString",coordinates:sa()}}function sa(){return r.range(Wb(ac/Oc)*Oc,xb,Oc).map(Zd).concat(r.range(Wb(rc/Vc)*Vc,nc,Vc).map(Td)).concat(r.range(Wb(ib/ad)*ad,Ja,ad).filter(function(yd){return 1E-6<ic(yd%Oc)}).map(bd)).concat(r.range(Wb(ec/Lc)*Lc,dc,Lc).filter(function(yd){return 1E-6<ic(yd%Vc)}).map(ld))}var Ja,ib,xb,ac,dc,
ec,nc,rc,ad=10,Lc=ad,Oc=90,Vc=360,bd,ld,Zd,Td,Kd=2.5;Z.lines=function(){return sa().map(function(yd){return{type:"LineString",coordinates:yd}})};Z.outline=function(){return{type:"Polygon",coordinates:[Zd(ac).concat(Td(nc).slice(1),Zd(xb).reverse().slice(1),Td(rc).reverse().slice(1))]}};Z.extent=function(yd){return arguments.length?Z.extentMajor(yd).extentMinor(yd):Z.extentMinor()};Z.extentMajor=function(yd){if(!arguments.length)return[[ac,rc],[xb,nc]];ac=+yd[0][0];xb=+yd[1][0];rc=+yd[0][1];nc=+yd[1][1];
ac>xb&&(yd=ac,ac=xb,xb=yd);rc>nc&&(yd=rc,rc=nc,nc=yd);return Z.precision(Kd)};Z.extentMinor=function(yd){if(!arguments.length)return[[ib,ec],[Ja,dc]];ib=+yd[0][0];Ja=+yd[1][0];ec=+yd[0][1];dc=+yd[1][1];ib>Ja&&(yd=ib,ib=Ja,Ja=yd);ec>dc&&(yd=ec,ec=dc,dc=yd);return Z.precision(Kd)};Z.step=function(yd){return arguments.length?Z.stepMajor(yd).stepMinor(yd):Z.stepMinor()};Z.stepMajor=function(yd){if(!arguments.length)return[Oc,Vc];Oc=+yd[0];Vc=+yd[1];return Z};Z.stepMinor=function(yd){if(!arguments.length)return[ad,
Lc];ad=+yd[0];Lc=+yd[1];return Z};Z.precision=function(yd){if(!arguments.length)return Kd;Kd=+yd;bd=yc(ec,dc,90);ld=hd(ib,Ja,Kd);Zd=yc(rc,nc,90);Td=hd(ac,xb,Kd);return Z};return Z.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Gc(){A.point=jd}function jd(Z,sa){A.point=fe;bf=Jf=Z;Af=Df=sa}function fe(Z,sa){zf.add(Df*Z-Jf*sa);Jf=Z;Df=sa}function Mc(){fe(bf,Af)}function zd(Z,sa){Ga+=Z;db+=sa;++Ua}function Rd(){Wa.point=Db}function Db(Z,sa){Wa.point=
Zb;zd(S=Z,ba=sa)}function Zb(Z,sa){var Ja=Z-S,ib=sa-ba;Ja=ie(Ja*Ja+ib*ib);lb+=Ja*(S+Z)/2;nb+=Ja*(ba+sa)/2;Ab+=Ja;zd(S=Z,ba=sa)}function jb(){Wa.point=zd}function lc(){Wa.point=gd}function pc(){xd(t,y)}function gd(Z,sa){Wa.point=xd;zd(t=S=Z,y=ba=sa)}function xd(Z,sa){var Ja=Z-S,ib=sa-ba;Ja=ie(Ja*Ja+ib*ib);lb+=Ja*(S+Z)/2;nb+=Ja*(ba+sa)/2;Ab+=Ja;Ja=ba*Z-S*sa;Xb+=Ja*(S+Z);mc+=Ja*(ba+sa);Jc+=3*Ja;zd(S=Z,ba=sa)}function M(Z){this._context=Z}function oa(Z,sa){td.point=$a;Nb=Dc=Z;cc=zc=sa}function $a(Z,sa){Dc-=
Z;zc-=sa;vb.add(ie(Dc*Dc+zc*zc));Dc=Z;zc=sa}function ub(){this._string=[]}function Gb(Z){return"m0,"+Z+"a"+Z+","+Z+" 0 1,1 0,"+-2*Z+"a"+Z+","+Z+" 0 1,1 0,"+2*Z+"z"}function Ib(Z){return function(sa){var Ja=new bc,ib;for(ib in Z)Ja[ib]=Z[ib];Ja.stream=sa;return Ja}}function bc(){}function Ub(Z,sa,Ja){var ib=Z.clipExtent&&Z.clipExtent();Z.scale(150).translate([0,0]);null!=ib&&Z.clipExtent(null);Ka(Ja,Z.stream(pa));sa(pa.result());null!=ib&&Z.clipExtent(ib);return Z}function sc(Z,sa,Ja){return Ub(Z,
function(ib){var xb=sa[1][0]-sa[0][0],ac=sa[1][1]-sa[0][1],dc=Math.min(xb/(ib[1][0]-ib[0][0]),ac/(ib[1][1]-ib[0][1]));xb=+sa[0][0]+(xb-dc*(ib[1][0]+ib[0][0]))/2;ib=+sa[0][1]+(ac-dc*(ib[1][1]+ib[0][1]))/2;Z.scale(150*dc).translate([xb,ib])},Ja)}function Cc(Z,sa,Ja){return Ub(Z,function(ib){var xb=+sa,ac=xb/(ib[1][0]-ib[0][0]);xb=(xb-ac*(ib[1][0]+ib[0][0]))/2;ib=-ac*ib[0][1];Z.scale(150*ac).translate([xb,ib])},Ja)}function va(Z,sa,Ja){return Ub(Z,function(ib){var xb=+sa,ac=xb/(ib[1][1]-ib[0][1]),dc=
-ac*ib[0][0];ib=(xb-ac*(ib[1][1]+ib[0][1]))/2;Z.scale(150*ac).translate([dc,ib])},Ja)}function Za(Z){return Ib({point:function(sa,Ja){sa=Z(sa,Ja);this.stream.point(sa[0],sa[1])}})}function pb(Z,sa){function Ja(ib,xb,ac,dc,ec,nc,rc,ad,Lc,Oc,Vc,bd,ld,Zd){var Td=rc-ib,Kd=ad-xb,yd=Td*Td+Kd*Kd;if(yd>4*sa&&ld--){var kd=dc+Oc,Md=ec+Vc,se=nc+bd,Ne=ie(kd*kd+Md*Md+se*se),Ke=Ra(se/=Ne),re=1E-6>ic(ic(se)-1)||1E-6>ic(ac-Lc)?(ac+Lc)/2:xc(Md,kd),Fe=Z(re,Ke);Ke=Fe[0];Fe=Fe[1];var Ye=Ke-ib,mf=Fe-xb,tf=Kd*Ye-Td*mf;
if(tf*tf/yd>sa||.3<ic((Td*Ye+Kd*mf)/yd-.5)||dc*Oc+ec*Vc+nc*bd<Id)Ja(ib,xb,ac,dc,ec,nc,Ke,Fe,re,kd/=Ne,Md/=Ne,se,ld,Zd),Zd.point(Ke,Fe),Ja(Ke,Fe,re,kd,Md,se,rc,ad,Lc,Oc,Vc,bd,ld,Zd)}}return function(ib){function xb(Ke,re){Ke=Z(Ke,re);ib.point(Ke[0],Ke[1])}function ac(){Kd=NaN;Ne.point=dc;ib.lineStart()}function dc(Ke,re){var Fe=Ba([Ke,re]);re=Z(Ke,re);Ja(Kd,yd,Td,kd,Md,se,Kd=re[0],yd=re[1],Td=Ke,kd=Fe[0],Md=Fe[1],se=Fe[2],16,ib);ib.point(Kd,yd)}function ec(){Ne.point=xb;ib.lineEnd()}function nc(){ac();
Ne.point=rc;Ne.lineEnd=ad}function rc(Ke,re){dc(Lc=Ke,re);Oc=Kd;Vc=yd;bd=kd;ld=Md;Zd=se;Ne.point=dc}function ad(){Ja(Kd,yd,Td,kd,Md,se,Oc,Vc,Lc,bd,ld,Zd,16,ib);Ne.lineEnd=ec;ec()}var Lc,Oc,Vc,bd,ld,Zd,Td,Kd,yd,kd,Md,se,Ne={point:xb,lineStart:ac,lineEnd:ec,polygonStart:function(){ib.polygonStart();Ne.lineStart=nc},polygonEnd:function(){ib.polygonEnd();Ne.lineStart=ac}};return Ne}}function Sb(Z){return Ib({point:function(sa,Ja){sa=Z(sa,Ja);return this.stream.point(sa[0],sa[1])}})}function uc(Z,sa,Ja,
ib,xb){function ac(dc,ec){dc*=ib;ec*=xb;return[sa+Z*dc,Ja-Z*ec]}ac.invert=function(dc,ec){return[(dc-sa)/Z*ib,(Ja-ec)/Z*xb]};return ac}function Ac(Z,sa,Ja,ib,xb,ac){function dc(bd,ld){bd*=ib;ld*=xb;return[nc*bd-rc*ld+sa,Ja-rc*bd-nc*ld]}if(!ac)return uc(Z,sa,Ja,ib,xb);var ec=Nc(ac);ac=qd(ac);var nc=ec*Z,rc=ac*Z,ad=ec/Z,Lc=ac/Z,Oc=(ac*Ja-ec*sa)/Z,Vc=(ac*sa+ec*Ja)/Z;dc.invert=function(bd,ld){return[ib*(ad*bd-Lc*ld+Oc),xb*(Vc-Lc*bd-ad*ld)]};return dc}function Kc(Z){return Bb(function(){return Z})()}function Bb(Z){function sa(Cd){return mf(Cd[0]*
Rb,Cd[1]*Rb)}function Ja(Cd){return(Cd=mf.invert(Cd[0],Cd[1]))&&[Cd[0]*Jb,Cd[1]*Jb]}function ib(){var Cd=Ac(dc,0,0,Zd,Td,ld).apply(null,ac(rc,ad));Cd=Ac(dc,ec-Cd[0],nc-Cd[1],Zd,Td,ld);bd=X(Lc,Oc,Vc);Ye=da(ac,Cd);mf=da(bd,Ye);Cd=Ye;Fe=+re?pb(Cd,re):Za(Cd);return xb()}function xb(){tf=Gg=null;return sa}var ac,dc=150,ec=480,nc=250,rc=0,ad=0,Lc=0,Oc=0,Vc=0,bd,ld=0,Zd=1,Td=1,Kd=null,yd=Me,kd=null,Md,se,Ne,Ke=Qe,re=.5,Fe,Ye,mf,tf,Gg;sa.stream=function(Cd){return tf&&Gg===Cd?tf:tf=Rc(Sb(bd)(yd(Fe(Ke(Gg=
Cd)))))};sa.preclip=function(Cd){return arguments.length?(yd=Cd,Kd=void 0,xb()):yd};sa.postclip=function(Cd){return arguments.length?(Ke=Cd,kd=Md=se=Ne=null,xb()):Ke};sa.clipAngle=function(Cd){return arguments.length?(yd=+Cd?ka(Kd=Cd*Rb):(Kd=null,Me),xb()):Kd*Jb};sa.clipExtent=function(Cd){return arguments.length?(Ke=null==Cd?(kd=Md=se=Ne=null,Qe):sb(kd=+Cd[0][0],Md=+Cd[0][1],se=+Cd[1][0],Ne=+Cd[1][1]),xb()):null==kd?null:[[kd,Md],[se,Ne]]};sa.scale=function(Cd){return arguments.length?(dc=+Cd,ib()):
dc};sa.translate=function(Cd){return arguments.length?(ec=+Cd[0],nc=+Cd[1],ib()):[ec,nc]};sa.center=function(Cd){return arguments.length?(rc=Cd[0]%360*Rb,ad=Cd[1]%360*Rb,ib()):[rc*Jb,ad*Jb]};sa.rotate=function(Cd){return arguments.length?(Lc=Cd[0]%360*Rb,Oc=Cd[1]%360*Rb,Vc=2<Cd.length?Cd[2]%360*Rb:0,ib()):[Lc*Jb,Oc*Jb,Vc*Jb]};sa.angle=function(Cd){return arguments.length?(ld=Cd%360*Rb,ib()):ld*Jb};sa.reflectX=function(Cd){return arguments.length?(Zd=Cd?-1:1,ib()):0>Zd};sa.reflectY=function(Cd){return arguments.length?
(Td=Cd?-1:1,ib()):0>Td};sa.precision=function(Cd){if(arguments.length){var hf=Ye;var Xf=re=Cd*Cd;hf=(Fe=+Xf?pb(hf,Xf):Za(hf),xb())}else hf=ie(re);return hf};sa.fitExtent=function(Cd,hf){return sc(sa,Cd,hf)};sa.fitSize=function(Cd,hf){return sc(sa,[[0,0],Cd],hf)};sa.fitWidth=function(Cd,hf){return Cc(sa,Cd,hf)};sa.fitHeight=function(Cd,hf){return va(sa,Cd,hf)};return function(){ac=Z.apply(this,arguments);sa.invert=ac.invert&&Ja;return ib()}}function Tb(Z){var sa=0,Ja=qa/3,ib=Bb(Z);Z=ib(sa,Ja);Z.parallels=
function(xb){return arguments.length?ib(sa=xb[0]*Rb,Ja=xb[1]*Rb):[sa*Jb,Ja*Jb]};return Z}function kc(Z){function sa(ib,xb){return[ib*Ja,qd(xb)/Ja]}var Ja=Nc(Z);sa.invert=function(ib,xb){return[ib/Ja,Ra(xb*Ja)]};return sa}function jc(Z,sa){function Ja(ec,nc){nc=ie(ac-2*xb*qd(nc))/xb;return[nc*qd(ec*=xb),dc-nc*Nc(ec)]}var ib=qd(Z),xb=(ib+qd(sa))/2;if(1E-6>ic(xb))return kc(Z);var ac=1+ib*(2*xb-ib),dc=ie(ac)/xb;Ja.invert=function(ec,nc){nc=dc-nc;var rc=xc(ec,ic(nc))*Wd(nc);0>nc*xb&&(rc-=qa*Wd(ec)*Wd(nc));
return[rc/xb,Ra((ac-(ec*ec+nc*nc)*xb*xb)/(2*xb))]};return Ja}function qc(){return Tb(jc).scale(155.424).center([0,33.6442])}function ed(){return qc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function od(Z){var sa=Z.length;return{point:function(Ja,ib){for(var xb=-1;++xb<sa;)Z[xb].point(Ja,ib)},sphere:function(){for(var Ja=-1;++Ja<sa;)Z[Ja].sphere()},lineStart:function(){for(var Ja=-1;++Ja<sa;)Z[Ja].lineStart()},lineEnd:function(){for(var Ja=-1;++Ja<
sa;)Z[Ja].lineEnd()},polygonStart:function(){for(var Ja=-1;++Ja<sa;)Z[Ja].polygonStart()},polygonEnd:function(){for(var Ja=-1;++Ja<sa;)Z[Ja].polygonEnd()}}}function ud(Z){return function(sa,Ja){var ib=Nc(sa),xb=Nc(Ja);ib=Z(ib*xb);return Infinity===ib?[2,0]:[ib*xb*qd(sa),ib*qd(Ja)]}}function md(Z){return function(sa,Ja){var ib=ie(sa*sa+Ja*Ja),xb=Z(ib),ac=qd(xb);xb=Nc(xb);return[xc(sa*ac,ib*xb),Ra(ib&&Ja*ac/ib)]}}function rd(Z,sa){return[Z,Vb(we((Ea+sa)/2))]}function Od(Z){function sa(){var Lc=qa*xb(),
Oc=Ja(l(Ja.rotate()).invert([0,0]));return dc(null==ec?[[Oc[0]-Lc,Oc[1]-Lc],[Oc[0]+Lc,Oc[1]+Lc]]:Z===rd?[[Math.max(Oc[0]-Lc,ec),nc],[Math.min(Oc[0]+Lc,rc),ad]]:[[ec,Math.max(Oc[1]-Lc,nc)],[rc,Math.min(Oc[1]+Lc,ad)]])}var Ja=Kc(Z),ib=Ja.center,xb=Ja.scale,ac=Ja.translate,dc=Ja.clipExtent,ec=null,nc,rc,ad;Ja.scale=function(Lc){return arguments.length?(xb(Lc),sa()):xb()};Ja.translate=function(Lc){return arguments.length?(ac(Lc),sa()):ac()};Ja.center=function(Lc){return arguments.length?(ib(Lc),sa()):
ib()};Ja.clipExtent=function(Lc){return arguments.length?(null==Lc?ec=nc=rc=ad=null:(ec=+Lc[0][0],nc=+Lc[0][1],rc=+Lc[1][0],ad=+Lc[1][1]),sa()):null==ec?null:[[ec,nc],[rc,ad]]};return sa()}function ee(Z,sa){function Ja(dc,ec){0<ac?ec<-Ea+1E-6&&(ec=-Ea+1E-6):ec>Ea-1E-6&&(ec=Ea-1E-6);ec=ac/oe(we((Ea+ec)/2),xb);return[ec*qd(xb*dc),ac-ec*Nc(xb*dc)]}var ib=Nc(Z),xb=Z===sa?qd(Z):Vb(ib/Nc(sa))/Vb(we((Ea+sa)/2)/we((Ea+Z)/2)),ac=ib*oe(we((Ea+Z)/2),xb)/xb;if(!xb)return rd;Ja.invert=function(dc,ec){ec=ac-ec;
var nc=Wd(xb)*ie(dc*dc+ec*ec),rc=xc(dc,ic(ec))*Wd(ec);0>ec*xb&&(rc-=qa*Wd(dc)*Wd(ec));return[rc/xb,2*Wc(oe(ac/nc,1/xb))-Ea]};return Ja}function he(Z,sa){return[Z,sa]}function Jd(Z,sa){function Ja(dc,ec){ec=ac-ec;dc*=xb;return[ec*qd(dc),ac-ec*Nc(dc)]}var ib=Nc(Z),xb=Z===sa?qd(Z):(ib-Nc(sa))/(sa-Z),ac=ib/xb+Z;if(1E-6>ic(xb))return he;Ja.invert=function(dc,ec){ec=ac-ec;var nc=xc(dc,ic(ec))*Wd(ec);0>ec*xb&&(nc-=qa*Wd(dc)*Wd(ec));return[nc/xb,ac-Wd(xb)*ie(dc*dc+ec*ec)]};return Ja}function De(Z,sa){sa=
Ra(ve*qd(sa));var Ja=sa*sa,ib=Ja*Ja*Ja;return[Z*Nc(sa)/(ve*(1.340264+3*-.081106*Ja+ib*(7*8.93E-4+.034164*Ja))),sa*(1.340264+-.081106*Ja+ib*(8.93E-4+.003796*Ja))]}function ne(Z,sa){var Ja=Nc(sa),ib=Nc(Z)*Ja;return[Ja*qd(Z)/ib,qd(sa)/ib]}function le(Z,sa){var Ja=sa*sa,ib=Ja*Ja;return[Z*(.8707-.131979*Ja+ib*(-.013791+ib*(.003971*Ja-.001529*ib))),sa*(1.007226+Ja*(.015085+ib*(-.044475+.028874*Ja-.005916*ib)))]}function Dd(Z,sa){return[Nc(sa)*qd(Z),qd(sa)]}function be(Z,sa){var Ja=Nc(sa),ib=1+Nc(Z)*Ja;
return[Ja*qd(Z)/ib,qd(sa)/ib]}function V(Z,sa){return[Vb(we((Ea+sa)/2)),-Z]}var qa=Math.PI,Ea=qa/2,rb=qa/4,fb=2*qa,Jb=180/qa,Rb=qa/180,ic=Math.abs,Wc=Math.atan,xc=Math.atan2,Nc=Math.cos,Wb=Math.ceil,sd=Math.exp,cd=Math.hypot,Vb=Math.log,oe=Math.pow,qd=Math.sin,Wd=Math.sign||function(Z){return 0<Z?1:0>Z?-1:0},ie=Math.sqrt,we=Math.tan,lf={Feature:function(Z,sa){wb(Z.geometry,sa)},FeatureCollection:function(Z,sa){Z=Z.features;for(var Ja=-1,ib=Z.length;++Ja<ib;)wb(Z[Ja].geometry,sa)}},Ze={Sphere:function(Z,
sa){sa.sphere()},Point:function(Z,sa){Z=Z.coordinates;sa.point(Z[0],Z[1],Z[2])},MultiPoint:function(Z,sa){for(var Ja=Z.coordinates,ib=-1,xb=Ja.length;++ib<xb;)Z=Ja[ib],sa.point(Z[0],Z[1],Z[2])},LineString:function(Z,sa){Hb(Z.coordinates,sa,0)},MultiLineString:function(Z,sa){Z=Z.coordinates;for(var Ja=-1,ib=Z.length;++Ja<ib;)Hb(Z[Ja],sa,0)},Polygon:function(Z,sa){hb(Z.coordinates,sa)},MultiPolygon:function(Z,sa){Z=Z.coordinates;for(var Ja=-1,ib=Z.length;++Ja<ib;)hb(Z[Ja],sa)},GeometryCollection:function(Z,
sa){Z=Z.geometries;for(var Ja=-1,ib=Z.length;++Ja<ib;)wb(Z[Ja],sa)}},Qd=new r.Adder,$b=new r.Adder,ce,gc,Uc,Xd,xe,Yd={point:bb,lineStart:bb,lineEnd:bb,polygonStart:function(){Qd=new r.Adder;Yd.lineStart=Ha;Yd.lineEnd=Sa},polygonEnd:function(){var Z=+Qd;$b.add(0>Z?fb+Z:Z);this.lineStart=this.lineEnd=this.point=bb},sphere:function(){$b.add(fb)}},ge,Ge,Ed,vd,te,Se,dd,Ee,Ce,pe,ye,E={point:Ta,lineStart:ia,lineEnd:ya,polygonStart:function(){E.point=ua;E.lineStart=La;E.lineEnd=Oa;Ce=new r.Adder;Yd.polygonStart()},
polygonEnd:function(){Yd.polygonEnd();E.point=Ta;E.lineStart=ia;E.lineEnd=ya;0>Qd?(ge=-(Ed=180),Ge=-(vd=90)):1E-6<Ce?vd=90:-1E-6>Ce&&(Ge=-90);ye[0]=ge;ye[1]=Ed},sphere:function(){ge=-(Ed=180);Ge=-(vd=90)}},W,Ma,Cb,Ob,Pb,wc,fc,Tc,Ad,Gd,Ld,ue,ke,qe,Nd,je,ze={sphere:bb,point:I,lineStart:L,lineEnd:R,polygonStart:function(){ze.lineStart=aa;ze.lineEnd=ea},polygonEnd:function(){ze.lineStart=L;ze.lineEnd=R}};ca.invert=ca;var Me=ta(function(){return!0},function(Z){var sa=NaN,Ja=NaN,ib=NaN,xb;return{lineStart:function(){Z.lineStart();
xb=1},point:function(ac,dc){var ec=0<ac?qa:-qa,nc=ic(ac-sa);if(1E-6>ic(nc-qa))Z.point(sa,Ja=0<(Ja+dc)/2?Ea:-Ea),Z.point(ib,Ja),Z.lineEnd(),Z.lineStart(),Z.point(ec,Ja),Z.point(ac,Ja),xb=0;else if(ib!==ec&&nc>=qa){1E-6>ic(sa-ib)&&(sa-=1E-6*ib);1E-6>ic(ac-ec)&&(ac-=1E-6*ec);nc=sa;var rc=Ja,ad=ac,Lc,Oc,Vc=qd(nc-ad);Ja=1E-6<ic(Vc)?Wc((qd(rc)*(Oc=Nc(dc))*qd(ad)-qd(dc)*(Lc=Nc(rc))*qd(nc))/(Lc*Oc*Vc)):(rc+dc)/2;Z.point(ib,Ja);Z.lineEnd();Z.lineStart();Z.point(ec,Ja);xb=0}Z.point(sa=ac,Ja=dc);ib=ec},lineEnd:function(){Z.lineEnd();
sa=Ja=NaN},clean:function(){return 2-xb}}},function(Z,sa,Ja,ib){null==Z?(Ja*=Ea,ib.point(-qa,Ja),ib.point(0,Ja),ib.point(qa,Ja),ib.point(qa,0),ib.point(qa,-Ja),ib.point(0,-Ja),ib.point(-qa,-Ja),ib.point(-qa,0),ib.point(-qa,Ja)):1E-6<ic(Z[0]-sa[0])?(Z=Z[0]<sa[0]?qa:-qa,Ja=Ja*Z/2,ib.point(-Z,Ja),ib.point(0,Ja),ib.point(Z,Ja)):ib.point(sa[0],sa[1])},[-qa,-Ea]),Xe,pf,wf,qf,ff={sphere:bb,point:bb,lineStart:function(){ff.point=ob;ff.lineEnd=Ya},lineEnd:bb,polygonStart:bb,polygonEnd:bb},gf=[null,null],If=
{type:"LineString",coordinates:gf},Je={Feature:function(Z,sa){return eb(Z.geometry,sa)},FeatureCollection:function(Z,sa){Z=Z.features;for(var Ja=-1,ib=Z.length;++Ja<ib;)if(eb(Z[Ja].geometry,sa))return!0;return!1}},af={Sphere:function(){return!0},Point:function(Z,sa){return 0===Fb(Z.coordinates,sa)},MultiPoint:function(Z,sa){Z=Z.coordinates;for(var Ja=-1,ib=Z.length;++Ja<ib;)if(0===Fb(Z[Ja],sa))return!0;return!1},LineString:function(Z,sa){return Lb(Z.coordinates,sa)},MultiLineString:function(Z,sa){Z=
Z.coordinates;for(var Ja=-1,ib=Z.length;++Ja<ib;)if(Lb(Z[Ja],sa))return!0;return!1},Polygon:function(Z,sa){return hc(Z.coordinates,sa)},MultiPolygon:function(Z,sa){Z=Z.coordinates;for(var Ja=-1,ib=Z.length;++Ja<ib;)if(hc(Z[Ja],sa))return!0;return!1},GeometryCollection:function(Z,sa){Z=Z.geometries;for(var Ja=-1,ib=Z.length;++Ja<ib;)if(eb(Z[Ja],sa))return!0;return!1}},Qe=Z=>Z,Ue=new r.Adder,zf=new r.Adder,bf,Af,Jf,Df,A={point:bb,lineStart:bb,lineEnd:bb,polygonStart:function(){A.lineStart=Gc;A.lineEnd=
Mc},polygonEnd:function(){A.lineStart=A.lineEnd=A.point=bb;Ue.add(ic(zf));zf=new r.Adder},result:function(){var Z=Ue/2;Ue=new r.Adder;return Z}},D=Infinity,N=D,T=-D,ha=T,pa={point:function(Z,sa){Z<D&&(D=Z);Z>T&&(T=Z);sa<N&&(N=sa);sa>ha&&(ha=sa)},lineStart:bb,lineEnd:bb,polygonStart:bb,polygonEnd:bb,result:function(){var Z=[[D,N],[T,ha]];T=ha=-(N=D=Infinity);return Z}},Ga=0,db=0,Ua=0,lb=0,nb=0,Ab=0,Xb=0,mc=0,Jc=0,t,y,S,ba,Wa={point:zd,lineStart:Rd,lineEnd:jb,polygonStart:function(){Wa.lineStart=lc;
Wa.lineEnd=pc},polygonEnd:function(){Wa.point=zd;Wa.lineStart=Rd;Wa.lineEnd=jb},result:function(){var Z=Jc?[Xb/Jc,mc/Jc]:Ab?[lb/Ab,nb/Ab]:Ua?[Ga/Ua,db/Ua]:[NaN,NaN];Ga=db=Ua=lb=nb=Ab=Xb=mc=Jc=0;return Z}};M.prototype={_radius:4.5,pointRadius:function(Z){return this._radius=Z,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Z,sa){switch(this._point){case 0:this._context.moveTo(Z,
sa);this._point=1;break;case 1:this._context.lineTo(Z,sa);break;default:this._context.moveTo(Z+this._radius,sa),this._context.arc(Z,sa,this._radius,0,fb)}},result:bb};var vb=new r.Adder,Eb,Nb,cc,Dc,zc,td={point:bb,lineStart:function(){td.point=oa},lineEnd:function(){Eb&&$a(Nb,cc);td.point=bb},polygonStart:function(){Eb=!0},polygonEnd:function(){Eb=null},result:function(){var Z=+vb;vb=new r.Adder;return Z}};ub.prototype={_radius:4.5,_circle:Gb(4.5),pointRadius:function(Z){(Z=+Z)!==this._radius&&(this._radius=
Z,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Z,sa){switch(this._point){case 0:this._string.push("M",Z,",",sa);this._point=1;break;case 1:this._string.push("L",Z,",",sa);break;default:null==this._circle&&(this._circle=Gb(this._radius)),this._string.push("M",Z,",",sa,this._circle)}},result:function(){if(this._string.length){var Z=
this._string.join("");this._string=[];return Z}return null}};bc.prototype={constructor:bc,point:function(Z,sa){this.stream.point(Z,sa)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Id=Nc(30*Rb),Rc=Ib({point:function(Z,sa){this.stream.point(Z*Rb,sa*Rb)}}),Hd=ud(function(Z){return ie(2/(1+Z))});Hd.invert=md(function(Z){return 2*
Ra(Z/2)});var Vd=ud(function(Z){return(Z=z(Z))&&Z/qd(Z)});Vd.invert=md(function(Z){return Z});rd.invert=function(Z,sa){return[Z,2*Wc(sd(sa))-Ea]};he.invert=he;var ve=ie(3)/2;De.invert=function(Z,sa){for(var Ja=sa,ib=Ja*Ja,xb=ib*ib*ib,ac=0,dc;12>ac&&!(dc=Ja*(1.340264+-.081106*ib+xb*(8.93E-4+.003796*ib))-sa,ib=1.340264+3*-.081106*ib+xb*(7*8.93E-4+.034164*ib),Ja-=dc/=ib,ib=Ja*Ja,xb=ib*ib*ib,1E-12>ic(dc));++ac);return[ve*Z*(1.340264+3*-.081106*ib+xb*(7*8.93E-4+.034164*ib))/Nc(Ja),Ra(qd(Ja)/ve)]};ne.invert=
md(Wc);le.invert=function(Z,sa){var Ja=sa,ib=25;do{var xb=Ja*Ja;var ac=xb*xb;Ja-=ac=(Ja*(1.007226+xb*(.015085+ac*(-.044475+.028874*xb-.005916*ac)))-sa)/(1.007226+xb*(.045255+ac*(-.311325+.259866*xb-.005916*11*ac)))}while(1E-6<ic(ac)&&0<--ib);return[Z/(.8707+(xb=Ja*Ja)*(-.131979+xb*(-.013791+xb*xb*xb*(.003971-.001529*xb)))),Ja]};Dd.invert=md(Ra);be.invert=md(function(Z){return 2*Wc(Z)});V.invert=function(Z,sa){return[-sa,2*Wc(sd(Z))-Ea]};h.geoAlbers=ed;h.geoAlbersUsa=function(){function Z(Oc){var Vc=
Oc[0];Oc=Oc[1];return ad=null,(ac.point(Vc,Oc),ad)||(ec.point(Vc,Oc),ad)||(rc.point(Vc,Oc),ad)}function sa(){Ja=ib=null;return Z}var Ja,ib,xb=ed(),ac,dc=qc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ec,nc=qc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),rc,ad,Lc={point:function(Oc,Vc){ad=[Oc,Vc]}};Z.invert=function(Oc){var Vc=xb.scale(),bd=xb.translate(),ld=(Oc[0]-bd[0])/Vc;Vc=(Oc[1]-bd[1])/Vc;return(.12<=Vc&&.234>Vc&&-.425<=ld&&-.214>ld?dc:.166<=Vc&&.234>Vc&&-.214<=ld&&-.115>
ld?nc:xb).invert(Oc)};Z.stream=function(Oc){return Ja&&ib===Oc?Ja:Ja=od([xb.stream(ib=Oc),dc.stream(Oc),nc.stream(Oc)])};Z.precision=function(Oc){if(!arguments.length)return xb.precision();xb.precision(Oc);dc.precision(Oc);nc.precision(Oc);return sa()};Z.scale=function(Oc){if(!arguments.length)return xb.scale();xb.scale(Oc);dc.scale(.35*Oc);nc.scale(Oc);return Z.translate(xb.translate())};Z.translate=function(Oc){if(!arguments.length)return xb.translate();var Vc=xb.scale(),bd=+Oc[0],ld=+Oc[1];ac=
xb.translate(Oc).clipExtent([[bd-.455*Vc,ld-.238*Vc],[bd+.455*Vc,ld+.238*Vc]]).stream(Lc);ec=dc.translate([bd-.307*Vc,ld+.201*Vc]).clipExtent([[bd-.425*Vc+1E-6,ld+.12*Vc+1E-6],[bd-.214*Vc-1E-6,ld+.234*Vc-1E-6]]).stream(Lc);rc=nc.translate([bd-.205*Vc,ld+.212*Vc]).clipExtent([[bd-.214*Vc+1E-6,ld+.166*Vc+1E-6],[bd-.115*Vc-1E-6,ld+.234*Vc-1E-6]]).stream(Lc);return sa()};Z.fitExtent=function(Oc,Vc){return sc(Z,Oc,Vc)};Z.fitSize=function(Oc,Vc){return sc(Z,[[0,0],Oc],Vc)};Z.fitWidth=function(Oc,Vc){return Cc(Z,
Oc,Vc)};Z.fitHeight=function(Oc,Vc){return va(Z,Oc,Vc)};return Z.scale(1070)};h.geoArea=function(Z){$b=new r.Adder;Ka(Z,Yd);return 2*$b};h.geoAzimuthalEqualArea=function(){return Kc(Hd).scale(124.75).clipAngle(179.999)};h.geoAzimuthalEqualAreaRaw=Hd;h.geoAzimuthalEquidistant=function(){return Kc(Vd).scale(79.4188).clipAngle(179.999)};h.geoAzimuthalEquidistantRaw=Vd;h.geoBounds=function(Z){var sa,Ja,ib;vd=Ed=-(ge=Ge=Infinity);pe=[];Ka(Z,E);if(sa=pe.length){pe.sort(ab);Z=1;var xb=pe[0];for(Ja=[xb];Z<
sa;++Z){var ac=pe[Z];Va(xb,ac[0])||Va(xb,ac[1])?(Aa(xb[0],ac[1])>Aa(xb[0],xb[1])&&(xb[1]=ac[1]),Aa(ac[0],xb[1])>Aa(xb[0],xb[1])&&(xb[0]=ac[0])):Ja.push(xb=ac)}var dc=-Infinity;sa=Ja.length-1;Z=0;for(xb=Ja[sa];Z<=sa;xb=ac,++Z)ac=Ja[Z],(ib=Aa(xb[1],ac[0]))>dc&&(dc=ib,ge=ac[0],Ed=xb[1])}pe=ye=null;return Infinity===ge||Infinity===Ge?[[NaN,NaN],[NaN,NaN]]:[[ge,Ge],[Ed,vd]]};h.geoCentroid=function(Z){W=Ma=Cb=Ob=Pb=wc=fc=Tc=0;Ad=new r.Adder;Gd=new r.Adder;Ld=new r.Adder;Ka(Z,ze);Z=+Ad;var sa=+Gd,Ja=+Ld,
ib=cd(Z,sa,Ja);return 1E-12>ib&&(Z=wc,sa=fc,Ja=Tc,1E-6>Ma&&(Z=Cb,sa=Ob,Ja=Pb),ib=cd(Z,sa,Ja),1E-12>ib)?[NaN,NaN]:[xc(sa,Z)*Jb,Ra(Ja/ib)*Jb]};h.geoCircle=function(){function Z(){var ec=sa.apply(this,arguments),nc=Ja.apply(this,arguments)*Rb,rc=ib.apply(this,arguments)*Rb;xb=[];ac=X(-ec[0]*Rb,-ec[1]*Rb,0).invert;m(dc,nc,rc,1);ec={type:"Polygon",coordinates:[xb]};xb=ac=null;return ec}var sa=H([0,0]),Ja=H(90),ib=H(6),xb,ac,dc={point:function(ec,nc){xb.push(ec=ac(ec,nc));ec[0]*=Jb;ec[1]*=Jb}};Z.center=
function(ec){return arguments.length?(sa="function"===typeof ec?ec:H([+ec[0],+ec[1]]),Z):sa};Z.radius=function(ec){return arguments.length?(Ja="function"===typeof ec?ec:H(+ec),Z):Ja};Z.precision=function(ec){return arguments.length?(ib="function"===typeof ec?ec:H(+ec),Z):ib};return Z};h.geoClipAntimeridian=Me;h.geoClipCircle=ka;h.geoClipExtent=function(){var Z=0,sa=0,Ja=960,ib=500,xb,ac,dc;return dc={stream:function(ec){return xb&&ac===ec?xb:xb=sb(Z,sa,Ja,ib)(ac=ec)},extent:function(ec){return arguments.length?
(Z=+ec[0][0],sa=+ec[0][1],Ja=+ec[1][0],ib=+ec[1][1],xb=ac=null,dc):[[Z,sa],[Ja,ib]]}}};h.geoClipRectangle=sb;h.geoConicConformal=function(){return Tb(ee).scale(109.5).parallels([30,30])};h.geoConicConformalRaw=ee;h.geoConicEqualArea=qc;h.geoConicEqualAreaRaw=jc;h.geoConicEquidistant=function(){return Tb(Jd).scale(131.154).center([0,13.9389])};h.geoConicEquidistantRaw=Jd;h.geoContains=function(Z,sa){return(Z&&Je.hasOwnProperty(Z.type)?Je[Z.type]:eb)(Z,sa)};h.geoDistance=Fb;h.geoEqualEarth=function(){return Kc(De).scale(177.158)};
h.geoEqualEarthRaw=De;h.geoEquirectangular=function(){return Kc(he).scale(152.63)};h.geoEquirectangularRaw=he;h.geoGnomonic=function(){return Kc(ne).scale(144.049).clipAngle(60)};h.geoGnomonicRaw=ne;h.geoGraticule=Bd;h.geoGraticule10=function(){return Bd()()};h.geoIdentity=function(){function Z(){bd=Ja*ac;ld=Ja*dc;Kd=yd=null;return sa}function sa(kd){var Md=kd[0]*bd;kd=kd[1]*ld;if(ec){var se=kd*nc-Md*rc;Md=Md*nc+kd*rc;kd=se}return[Md+ib,kd+xb]}var Ja=1,ib=0,xb=0,ac=1,dc=1,ec=0,nc,rc,ad=null,Lc,Oc,
Vc,bd=1,ld=1,Zd=Ib({point:function(kd,Md){kd=sa([kd,Md]);this.stream.point(kd[0],kd[1])}}),Td=Qe,Kd,yd;sa.invert=function(kd){var Md=kd[0]-ib;kd=kd[1]-xb;if(ec){var se=kd*nc+Md*rc;Md=Md*nc-kd*rc;kd=se}return[Md/bd,kd/ld]};sa.stream=function(kd){return Kd&&yd===kd?Kd:Kd=Zd(Td(yd=kd))};sa.postclip=function(kd){return arguments.length?(Td=kd,ad=Lc=Oc=Vc=null,Z()):Td};sa.clipExtent=function(kd){return arguments.length?(Td=null==kd?(ad=Lc=Oc=Vc=null,Qe):sb(ad=+kd[0][0],Lc=+kd[0][1],Oc=+kd[1][0],Vc=+kd[1][1]),
Z()):null==ad?null:[[ad,Lc],[Oc,Vc]]};sa.scale=function(kd){return arguments.length?(Ja=+kd,Z()):Ja};sa.translate=function(kd){return arguments.length?(ib=+kd[0],xb=+kd[1],Z()):[ib,xb]};sa.angle=function(kd){return arguments.length?(ec=kd%360*Rb,rc=qd(ec),nc=Nc(ec),Z()):ec*Jb};sa.reflectX=function(kd){return arguments.length?(ac=kd?-1:1,Z()):0>ac};sa.reflectY=function(kd){return arguments.length?(dc=kd?-1:1,Z()):0>dc};sa.fitExtent=function(kd,Md){return sc(sa,kd,Md)};sa.fitSize=function(kd,Md){return sc(sa,
[[0,0],kd],Md)};sa.fitWidth=function(kd,Md){return Cc(sa,kd,Md)};sa.fitHeight=function(kd,Md){return va(sa,kd,Md)};return sa};h.geoInterpolate=function(Z,sa){var Ja=Z[0]*Rb,ib=Z[1]*Rb;Z=sa[0]*Rb;sa=sa[1]*Rb;var xb=Nc(ib),ac=qd(ib),dc=Nc(sa),ec=qd(sa),nc=xb*Nc(Ja),rc=xb*qd(Ja),ad=dc*Nc(Z),Lc=dc*qd(Z),Oc=2*Ra(ie(tb(sa-ib)+xb*dc*tb(Z-Ja))),Vc=qd(Oc);Z=Oc?function(bd){var ld=qd(bd*=Oc)/Vc,Zd=qd(Oc-bd)/Vc;bd=Zd*nc+ld*ad;var Td=Zd*rc+ld*Lc;ld=Zd*ac+ld*ec;return[xc(Td,bd)*Jb,xc(ld,ie(bd*bd+Td*Td))*Jb]}:
function(){return[Ja*Jb,ib*Jb]};Z.distance=Oc;return Z};h.geoLength=yb;h.geoMercator=function(){return Od(rd).scale(961/fb)};h.geoMercatorRaw=rd;h.geoNaturalEarth1=function(){return Kc(le).scale(175.295)};h.geoNaturalEarth1Raw=le;h.geoOrthographic=function(){return Kc(Dd).scale(249.5).clipAngle(90.000001)};h.geoOrthographicRaw=Dd;h.geoPath=function(Z,sa){function Ja(dc){dc&&("function"===typeof ib&&ac.pointRadius(+ib.apply(this,arguments)),Ka(dc,xb(ac)));return ac.result()}var ib=4.5,xb,ac;Ja.area=
function(dc){Ka(dc,xb(A));return A.result()};Ja.measure=function(dc){Ka(dc,xb(td));return td.result()};Ja.bounds=function(dc){Ka(dc,xb(pa));return pa.result()};Ja.centroid=function(dc){Ka(dc,xb(Wa));return Wa.result()};Ja.projection=function(dc){return arguments.length?(xb=null==dc?(Z=null,Qe):(Z=dc).stream,Ja):Z};Ja.context=function(dc){if(!arguments.length)return sa;ac=null==dc?(sa=null,new ub):new M(sa=dc);"function"!==typeof ib&&ac.pointRadius(ib);return Ja};Ja.pointRadius=function(dc){if(!arguments.length)return ib;
ib="function"===typeof dc?dc:(ac.pointRadius(+dc),+dc);return Ja};return Ja.projection(Z).context(sa)};h.geoProjection=Kc;h.geoProjectionMutator=Bb;h.geoRotation=l;h.geoStereographic=function(){return Kc(be).scale(250).clipAngle(142)};h.geoStereographicRaw=be;h.geoStream=Ka;h.geoTransform=function(Z){return{stream:Ib(Z)}};h.geoTransverseMercator=function(){var Z=Od(V),sa=Z.center,Ja=Z.rotate;Z.center=function(ib){return arguments.length?sa([-ib[1],ib[0]]):(ib=sa(),[ib[1],-ib[0]])};Z.rotate=function(ib){return arguments.length?
Ja([ib[0],ib[1],2<ib.length?ib[2]+90:90]):(ib=Ja(),[ib[0],ib[1],ib[2]-90])};return Ja([0,0,90]).scale(159.155)};h.geoTransverseMercatorRaw=V;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[44]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(43),Qb(18)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],r):r(h.d3=h.d3||{},h.d3,h.d3)})(this,function(h,r,z){function Ra(A){return 1<A?Uc:-1>A?-Uc:Math.asin(A)}function tb(A){return 1<A?0:-1>A?gc:Math.acos(A)}function bb(A){return 0<A?Math.sqrt(A):0}function wb(A){return(oe(A)-oe(-A))/2}function Hb(A){return(oe(A)+oe(-A))/2}function hb(A){function D(ha,pa){var Ga=
Vb(ha),db=Vb(pa);pa=$b(pa);Ga*=db;Ga=-((1-Ga?Wd((1+Ga)/2)/(1-Ga):-.5)+T/(1+Ga));return[Ga*db*$b(ha),Ga*pa]}var N=ce(A/2),T=2*Wd(Vb(A/2))/(N*N);D.invert=function(ha,pa){var Ga=bb(ha*ha+pa*pa),db=-A/2,Ua=50;if(!Ga)return[0,0];do{var lb=db/2;var nb=Vb(lb);lb=$b(lb);var Ab=lb/nb,Xb=-Wd(Wb(nb));db-=nb=(2/Ab*Xb-T*Ab-Ga)/(-Xb/(lb*lb)+1-T/(2*nb*nb))*(0>nb?.7:1)}while(1E-6<Wb(nb)&&0<--Ua);Ua=$b(db);return[cd(ha*Ua,Ga*Vb(db)),Ra(pa*Ua/Ga)]};return D}function Ka(A,D){var N=Vb(D);var T=(T=tb(N*Vb(A/=2)))?T/Math.sin(T):
1;return[2*N*$b(A)*T,$b(D)*T]}function Ha(A){function D(db,Ua){var lb=Vb(Ua),nb=Vb(db/=2);return[(1+lb)*$b(db),(ha*Ua>-cd(nb,pa)-.001?0:10*-ha)+Ga+$b(Ua)*T-(1+lb)*N*nb]}var N=$b(A),T=Vb(A),ha=0<=A?1:-1,pa=ce(ha*A),Ga=(1+N-T)/2;D.invert=function(db,Ua){var lb=0,nb=0,Ab=50;do{var Xb=Vb(lb),mc=$b(lb),Jc=Vb(nb),t=$b(nb),y=1+Jc,S=y*mc-db,ba=Ga+t*T-y*N*Xb-Ua,Wa=y*Xb/2,vb=-mc*t;mc=N*y*mc/2;Jc=T*Jc+N*Xb*t;Xb=vb*mc-Jc*Wa;vb=(ba*vb-S*Jc)/Xb/2;S=(S*mc-ba*Wa)/Xb;2<Wb(S)&&(S/=2);lb-=vb;nb-=S}while((1E-6<Wb(vb)||
1E-6<Wb(S))&&0<--Ab);return ha*nb>-cd(Vb(lb),pa)-.001?[2*lb,nb]:null};return D}function Sa(A,D){D=ce(D/2);var N=bb(1-D*D),T=1+N*Vb(A/=2);A=$b(A)*N/T;D/=T;T=A*A;N=D*D;return[4/3*A*(3+T-3*N),4/3*D*(3+3*T-N)]}function xa(A,D){var N=Wb(D);return N<Xd?[A,Wd(ce(Xd+D/2))]:[A*Vb(N)*(2*Yd-1/$b(N)),Qd(D)*(2*Yd*(N-Xd)-Wd(ce(N/2)))]}function ma(A){function D(T,ha){ha=r.geoAzimuthalEquidistantRaw(T,ha);if(Wb(T)>Uc){T=cd(ha[1],ha[0]);var pa=bb(ha[0]*ha[0]+ha[1]*ha[1]),Ga=N*Ze((T-Uc)/N)+Uc,db=cd($b(T-=Ga),2-Vb(T));
T=Ga+Ra(gc/pa*$b(db))-db;ha[0]=pa*Vb(T);ha[1]=pa*$b(T)}return ha}var N=2*gc/A;D.invert=function(T,ha){var pa=bb(T*T+ha*ha);if(pa>Uc){var Ga=cd(ha,T);T=N*Ze((Ga-Uc)/N)+Uc;ha=Ga>T?-1:1;Ga=pa*Vb(T-Ga);Ga=1/ce(ha*tb((Ga-gc)/bb(gc*(gc-2*Ga)+pa*pa)));Ga=T+2*sd((Ga+ha*bb(Ga*Ga-3))/3);T=pa*Vb(Ga);ha=pa*$b(Ga)}return r.geoAzimuthalEquidistantRaw.invert(T,ha)};return D}function na(A,D){function N(T,ha){T=r.geoAzimuthalEqualAreaRaw(T/D,ha);T[0]*=A;return T}2>arguments.length&&(D=A);if(1===D)return r.geoAzimuthalEqualAreaRaw;
if(Infinity===D)return Ba;N.invert=function(T,ha){T=r.geoAzimuthalEqualAreaRaw.invert(T/A,ha);T[0]*=D;return T};return N}function Ba(A,D){return[A*Vb(D)/Vb(D/=2),2*$b(D)]}function Fa(A,D,N){var T=100;N=void 0===N?0:+N;D=+D;do{var ha=A(N);var pa=A(N+1E-6);ha===pa&&(pa=ha+1E-6);N-=ha=-1E-6*(ha-D)/(ha-pa)}while(0<T--&&1E-6<Wb(ha));return 0>T?NaN:N}function la(A,D,N){void 0===D&&(D=40);void 0===N&&(N=1E-12);return function(T,ha,pa,Ga){pa=void 0===pa?0:+pa;Ga=void 0===Ga?0:+Ga;for(var db=0;db<D;db++){var Ua=
A(pa,Ga),lb=Ua[0]-T,nb=Ua[1]-ha;if(Wb(lb)<N&&Wb(nb)<N)break;var Ab=lb*lb+nb*nb;if(Ab>Xb)pa-=Jc/=2,Ga-=y/=2;else{var Xb=Ab;Ab=(0<pa?-1:1)*N;var mc=(0<Ga?-1:1)*N;var Jc=A(pa+Ab,Ga);var t=A(pa,Ga+mc);var y=(Jc[0]-Ua[0])/Ab;Ab=(Jc[1]-Ua[1])/Ab;Jc=(t[0]-Ua[0])/mc;Ua=(t[1]-Ua[1])/mc;mc=Ua*y-Ab*Jc;mc=(.5>Wb(mc)?.5:1)/mc;Jc=(nb*Jc-lb*Ua)*mc;y=(lb*Ab-nb*y)*mc;pa+=Jc;Ga+=y;if(Wb(Jc)<N&&Wb(y)<N)break}}return[pa,Ga]}}function ra(){function A(N,T){if(-1.4>N+T){var ha=(N-T+1.6)*(N+T+1.4)/8;N+=ha;T-=.8*ha*$b(T+
gc/2)}ha=D(N,T);N=(1-Vb(N*T))/12;0>ha[1]&&(ha[0]*=1+N);0<ha[1]&&(ha[1]*=1+N/1.5*ha[0]*ha[0]);return ha}var D=na(1.68,2);A.invert=la(A);return A}function Qa(A,D){A*=$b(D);var N=30,T;do D-=T=(D+$b(D)-A)/(1+Vb(D));while(1E-6<Wb(T)&&0<--N);return D/2}function za(A,D,N){function T(ha,pa){return[A*ha*Vb(pa=Qa(N,pa)),D*$b(pa)]}T.invert=function(ha,pa){return pa=Ra(pa/D),[ha/(A*Vb(pa)),Ra((2*pa+$b(2*pa))/N)]};return T}function Ta(A,D){var N=Qa(gc,D);return[2.00276*A/(1/Vb(D)+1.11072/Vb(N)),(D+Yd*$b(N))/2.00276]}
function K(A){var D=0,N=r.geoProjectionMutator(A);A=N(D);A.parallel=function(T){return arguments.length?N(D=T*vd):D*Ed};return A}function ia(A,D){return[A*Vb(D),D]}function ya(A){function D(T,ha){var pa=N+A-ha;T=pa?T*Vb(ha)/pa:pa;return[pa*$b(T),N-pa*Vb(T)]}if(!A)return ia;var N=1/ce(A);D.invert=function(T,ha){var pa=bb(T*T+(ha=N-ha)*ha),Ga=N+A-pa;return[pa/Vb(Ga)*cd(T,ha),Ga]};return D}function ua(A){function D(N,T){N=(T=Uc-T)?N*A*$b(T)/T:T;return[T*$b(N)/A,Uc-T*Vb(N)]}D.invert=function(N,T){N*=
A;var ha=Uc-T;T=bb(N*N+ha*ha);N=cd(N,ha);return[(T?T/$b(T):1)*N/A,Uc-T]};return D}function La(A,D,N,T,ha,pa){var Ga=Vb(pa);if(1<Wb(A)||1<Wb(pa))A=tb(N*ha+D*T*Ga);else{A=$b(A/2);var db=$b(pa/2);A=2*Ra(bb(A*A+D*T*db*db))}return 1E-6<Wb(A)?[A,cd(T*$b(pa),D*ha-N*T*Ga)]:[0,0]}function Oa(A,D,N){return tb((A*A+D*D-N*N)/(2*A*D))}function Aa(A,D,N){var T=[[A[0],A[1],$b(A[1]),Vb(A[1])],[D[0],D[1],$b(D[1]),Vb(D[1])],[N[0],N[1],$b(N[1]),Vb(N[1])]];A=T[2];for(N=0;3>N;++N,A=D)D=T[N],A.v=La(D[1]-A[1],A[3],A[2],
D[3],D[2],D[0]-A[0]),A.point=[0,0];A=Oa(T[0].v[0],T[2].v[0],T[1].v[0]);var ha=Oa(T[0].v[0],T[1].v[0],T[2].v[0]),pa=gc-A;T[2].point[1]=0;T[0].point[0]=-(T[1].point[0]=T[0].v[0]/2);var Ga=[T[2].point[0]=T[0].point[0]+T[2].v[0]*Vb(A),2*(T[0].point[1]=T[1].point[1]=T[2].v[0]*$b(A))];return function(db,Ua){var lb=$b(Ua),nb=Vb(Ua),Ab=Array(3),Xb;for(Xb=0;3>Xb;++Xb){var mc=T[Xb];Ab[Xb]=La(Ua-mc[1],mc[3],mc[2],nb,lb,db-mc[0]);if(!Ab[Xb][0])return mc.point;var Jc=Ab[Xb];mc=Ab[Xb][1]-mc.v[1];mc-=2*gc*qd((mc+
gc)/(2*gc));Jc[1]=mc}db=Ga.slice();for(Xb=0;3>Xb;++Xb)Ua=Oa(T[Xb].v[0],Ab[Xb][0],Ab[2==Xb?0:Xb+1][0]),0>Ab[Xb][1]&&(Ua=-Ua),Xb?1==Xb?(Ua=ha-Ua,db[0]-=Ab[Xb][0]*Vb(Ua),db[1]-=Ab[Xb][0]*$b(Ua)):(Ua=pa-Ua,db[0]+=Ab[Xb][0]*Vb(Ua),db[1]+=Ab[Xb][0]*$b(Ua)):(db[0]+=Ab[Xb][0]*Vb(Ua),db[1]-=Ab[Xb][0]*$b(Ua));db[0]/=3;db[1]/=3;return db}}function ab(A){return A[0]*=vd,A[1]*=vd,A}function Va(A,D,N){var T=r.geoCentroid({type:"MultiPoint",coordinates:[A,D,N]});T=[-T[0],-T[1]];var ha=r.geoRotation(T);A=Aa(ab(ha(A)),
ab(ha(D)),ab(ha(N)));A.invert=la(A);A=r.geoProjection(A).rotate(T);var pa=A.center;delete A.rotate;A.center=function(Ga){return arguments.length?pa(ha(Ga)):ha.invert(pa())};return A.clipAngle(90)}function I(A,D){D=bb(1-$b(D));return[2/ge*A*D,ge*(1-D)]}function x(A){function D(T,ha){return[T,(T?T/$b(T):1)*($b(ha)*Vb(T)-N*Vb(ha))]}var N=ce(A);D.invert=N?function(T,ha){T&&(ha*=$b(T)/T);var pa=Vb(T);return[T,2*cd(bb(pa*pa+N*N-ha*ha)-pa,N-ha)]}:function(T,ha){return[T,Ra(T?ha*ce(T)/T:ha)]};return D}function L(A,
D){return[Ce*A*(2*Vb(2*D/3)-1)/ge,Ce*ge*$b(D/3)]}function J(A){function D(T,ha){return[T*N,$b(ha)/N]}var N=Vb(A);D.invert=function(T,ha){return[T/N,Ra(ha*N)]};return D}function B(A){function D(T,ha){return[T*N,(1+N)*ce(ha/2)]}var N=Vb(A);D.invert=function(T,ha){return[T/N,2*sd(ha/(1+N))]};return D}function R(A,D){var N=bb(8/(3*gc));return[N*A*(1-Wb(D)/gc),N*D]}function aa(A,D){var N=bb(4-3*$b(Wb(D)));return[2/bb(6*gc)*A*N,Qd(D)*bb(2*gc/3)*(2-N)]}function ea(A,D){var N=bb(gc*(4+gc));return[2/N*A*(1+
bb(1-4*D*D/(gc*gc))),4/N*D]}function Ca(A,D){var N=(2+Uc)*$b(D);D/=2;for(var T=0,ha=Infinity;10>T&&1E-6<Wb(ha);T++)ha=Vb(D),D-=ha=(D+$b(D)*(ha+2)-N)/(2*ha*(1+ha));return[2/bb(gc*(4+gc))*A*(1+Vb(D)),2*bb(gc/(4+gc))*$b(D)]}function Ia(A,D){return[A*(1+Vb(D))/bb(2+gc),2*D/bb(2+gc)]}function H(A,D){for(var N=(1+Uc)*$b(D),T=0,ha=Infinity;10>T&&1E-6<Wb(ha);T++)D-=ha=(D+$b(D)-N)/(1+Vb(D));N=bb(2+gc);return[A*(1+Vb(D))/N,2*D/N]}function da(A,D){var N=$b(A/=2);A=Vb(A);var T=bb(Vb(D)),ha=Vb(D/=2);D=$b(D)/(ha+
Yd*A*T);var pa=bb(2/(1+D*D));N=bb((Yd*ha+(A+N)*T)/(Yd*ha+(A-N)*T));return[pe*(pa*(N-1/N)-2*Wd(N)),pe*(pa*D*(N+1/N)-2*sd(D))]}function ca(A,D){D=ce(D/2);return[A*ye*bb(1-D*D),(1+ye)*D]}function X(A,D){var N=D/2,T=Vb(N);return[2*A/ge*Vb(D)*T*T,ge*ce(N)]}function e(A){function D(Ua,lb){var nb=Vb(lb),Ab=$b(lb);return[nb/(ha+A*nb)*Ua,ha*lb+A*Ab]}function N(Ua,lb){Ua=D(Ua,lb);return[Ua[0]*db,Ua[1]/db]}function T(Ua){return N(0,Ua)[1]}var ha=1-A,pa=D(gc,0)[0]-D(-gc,0)[0],Ga=D(0,Uc)[1]-D(0,-Uc)[1],db=bb(2*
Ga/pa);N.invert=function(Ua,lb){lb=Fa(T,lb);return[Ua/db*(A+ha/Vb(lb)),lb]};return N}function c(A){return[2*A[0],2*sd($b(A[1]*vd))*Ed]}function f(A,D){function N(pa,Ga){pa=r.geoAzimuthalEquidistantRaw(pa,Ga);Ga=pa[0];var db=pa[1],Ua=Ga*Ga+db*db;if(Ua>ha){var lb=bb(Ua);Ga=cd(db,Ga);Ua=T*Ze(Ga/T);db=Ga-Ua;var nb=A*Vb(db),Ab=(A*$b(db)-db*$b(nb))/(Uc-nb),Xb=l(db,Ab),mc=(gc-A)/m(Xb,nb,gc);Ga=lb;var Jc=50,t;do Ga-=t=(A+m(Xb,nb,Ga)*mc-lb)/(Xb(Ga)*mc);while(1E-6<Wb(t)&&0<--Jc);db*=$b(Ga);Ga<Uc&&(db-=Ab*(Ga-
Uc));lb=$b(Ua);Ua=Vb(Ua);pa[0]=Ga*Ua-db*lb;pa[1]=Ga*lb+db*Ua}return pa}var T=2*gc/D,ha=A*A;N.invert=function(pa,Ga){var db=pa*pa+Ga*Ga;if(db>ha){var Ua=bb(db);Ga=cd(Ga,pa);db=T*Ze(Ga/T);Ga-=db;pa=Ua*Vb(Ga);Ga=Ua*$b(Ga);Ua=pa-Uc;for(var lb=$b(pa),nb=Ga/lb,Ab=pa<Uc?Infinity:0,Xb=10;;){var mc=A*$b(nb),Jc=A*Vb(nb),t=$b(Jc),y=Uc-Jc,S=(mc-nb*t)/y,ba=l(nb,S);if(1E-12>Wb(Ab)||!--Xb)break;nb-=Ab=(nb*lb-S*Ua-Ga)/(lb-2*Ua*(y*(Jc+nb*mc*Vb(Jc)-t)-mc*(mc-nb*t))/(y*y))}Ua=A+m(ba,Jc,pa)*(gc-A)/m(ba,Jc,gc);Ga=db+
nb;pa=Ua*Vb(Ga);Ga=Ua*$b(Ga)}return r.geoAzimuthalEquidistantRaw.invert(pa,Ga)};return N}function l(A,D){return function(N){var T=A*Vb(N);N<Uc&&(T-=D);return bb(1+T*T)}}function m(A,D,N){var T=(N-D)/50;N=A(D)+A(N);for(var ha=1;50>ha;++ha)N+=2*A(D+=T);return.5*N*T}function q(A,D,N,T,ha,pa,Ga,db){function Ua(lb,nb){if(!nb)return[A*lb/gc,0];var Ab=nb*nb,Xb=A+Ab*(D+Ab*(N+Ab*T)),mc=nb*(ha-1+Ab*(pa-db+Ab*Ga));mc=(Xb*Xb+mc*mc)/(2*mc);lb=lb*Ra(Xb/mc)/gc;return[mc*$b(lb),nb*(1+Ab*db)+mc*(1-Vb(lb))]}8>arguments.length&&
(db=0);Ua.invert=function(lb,nb){var Ab=gc*lb/A,Xb=nb,mc=50;do{var Jc=Xb*Xb,t=A+Jc*(D+Jc*(N+Jc*T)),y=Xb*(ha-1+Jc*(pa-db+Jc*Ga)),S=t*t+y*y,ba=2*y;var Wa=S/ba;var vb=Wa*Wa;var Eb=Ra(t/Wa)/gc;var Nb=Ab*Eb,cc=t*t,Dc=(2*D+Jc*(4*N+6*Jc*T))*Xb,zc=ha+Jc*(3*pa+5*Jc*Ga);y=(2*(t*Dc+y*(zc-1))*ba-2*S*(zc-1))/(ba*ba);S=Vb(Nb);zc=$b(Nb);ba=Wa*S;Nb=Wa*zc;vb=Ab/gc*(1/bb(1-cc/vb))*(Dc*Wa-t*y)/vb;t=Nb-lb;Jc=Xb*(1+Jc*db)+Wa-ba-nb;Wa=y*zc+ba*vb;cc=ba*Eb;y=1+y-(y*S-Nb*vb);Eb*=Nb;S=Wa*Eb-y*cc;if(!S)break;Ab-=Wa=(Jc*Wa-
t*y)/S;Xb-=Eb=(t*Eb-Jc*cc)/S}while((1E-6<Wb(Wa)||1E-6<Wb(Eb))&&0<--mc);return[Ab,Xb]};return Ua}function w(A,D){var N=A*A,T=D*D;return[A*(1-.162388*T)*(.87-9.52426E-4*N*N),D*(1+T/12)]}function F(A){function D(T,ha){var pa=0<T?-.5:.5;T=A(T+pa*gc,ha);T[0]-=pa*N;return T}var N=A(Uc,0)[0]-A(-Uc,0)[0];A.invert&&(D.invert=function(T,ha){var pa=0<T?-.5:.5;T=A.invert(T+pa*N,ha);pa=T[0]-pa*gc;pa<-gc?pa+=2*gc:pa>gc&&(pa-=2*gc);T[0]=pa;return T});return D}function U(A,D){var N=Qd(A),T=Qd(D),ha=Vb(D),pa=Vb(A)*
ha;A=$b(A)*ha;D=$b(T*D);A=Wb(cd(A,D));D=Ra(pa);1E-6<Wb(A-Uc)&&(A%=Uc);pa=wa(A>gc/4?Uc-A:A,D);A>gc/4&&(D=pa[0],pa[0]=-pa[1],pa[1]=-D);return pa[0]*=N,pa[1]*=-T,pa}function wa(A,D){if(D===Uc)return[0,0];var N=$b(D),T=N*N,ha=T*T,pa=1+ha,Ga=1+3*ha,db=1-ha,Ua=Ra(1/bb(pa)),lb=db+T*pa*Ua,nb=(1-N)/lb,Ab=bb(nb),Xb=nb*pa,mc=bb(Xb),Jc=Ab*db;if(0===A)return[0,-(Jc+T*mc)];var t=Vb(D),y=1/t,S=2*N*t;Ua=(-lb*t-(1-N)*(-3*T+Ua*Ga)*S)/(lb*lb);N=-y*S;pa=-y*(T*pa*Ua+nb*Ga*S);db=-2*y*(.5*Ua/Ab*db-2*T*Ab*S);Ab=4*A/gc;if(A>
.222*gc||D<gc/4&&A>.175*gc){D=(Jc+T*bb(Xb*(1+ha)-Jc*Jc))/(1+ha);if(A>gc/4)return[D,D];ha=D;y=.5*D;D=.5*(y+ha);A=50;do{S=bb(Xb-D*D);S=D*(db+N*S)+pa*Ra(D/mc)-Ab;if(!S)break;0>S?y=D:ha=D;D=.5*(y+ha)}while(1E-6<Wb(ha-y)&&0<--A)}else{D=1E-6;A=25;do S=D*D,ha=bb(Xb-S),Ga=db+N*ha,y=D*Ga+pa*Ra(D/mc)-Ab,S=Ga+(pa-N*S)/ha,D-=ha=ha?y/S:0;while(1E-6<Wb(ha)&&0<--A)}return[D,-Jc-T*bb(Xb-D*D)]}function cb(A,D){if(1E-6>D){var N=$b(A);var T=Vb(A);var ha=D*(A-N*T)/4;return[N-ha*T,T+ha*N,1-D*N*N/2,A-ha]}if(.999999<=D){ha=
(1-D)/4;T=Hb(A);N=oe(2*A);N=(N-1)/(N+1);D=1/T;var pa=T*wb(A);return[N+ha*(pa-A)/(T*T),D-ha*N*D*(pa-A),D+ha*N*D*(pa+A),2*sd(oe(A))-Uc+ha*(pa-A)/T]}var Ga=[1,0,0,0,0,0,0,0,0],db=[bb(D),0,0,0,0,0,0,0,0],Ua=0;T=bb(1-D);for(pa=1;1E-6<Wb(db[Ua]/Ga[Ua])&&8>Ua;)ha=Ga[Ua++],db[Ua]=(ha-T)/2,Ga[Ua]=(ha+T)/2,T=bb(ha*T),pa*=2;D=pa*Ga[Ua]*A;do N=db[Ua]*$b(T=D)/Ga[Ua],D=(Ra(N)+D)/2;while(--Ua);return[$b(D),N=Vb(D),N/Vb(D-T),D]}function gb(A,D){if(!D)return A;if(1===D)return Wd(ce(A/2+Xd));var N=1,T=bb(1-D),ha=bb(D);
for(D=0;1E-6<Wb(ha);D++)A%gc?(ha=sd(T*ce(A)/N),0>ha&&(ha+=gc),A+=ha+~~(A/gc)*gc):A+=A,ha=(N+T)/2,T=bb(N*T),ha=((N=ha)-T)/2;return A/(lf(2,D)*N)}function Y(A,D){var N=(Yd-1)/(Yd+1),T=bb(1-N*N),ha=gb(Uc,T*T),pa=Wd(ce(gc/4+Wb(D)/2));pa=oe(-1*pa)/bb(N);N=pa*Vb(-1*A);var Ga=pa*$b(-1*A);A=N*N;pa=Ga+1;Ga=1-A-Ga*Ga;A=[.5*((0<=N?Uc:-Uc)-cd(Ga,2*N)),-.25*Wd(Ga*Ga+4*A)+.5*Wd(pa*pa+A)];N=A[0];A=A[1];T*=T;pa=Wb(N);Ga=Wb(A);Ga=wb(Ga);if(pa){var db=1/$b(pa);pa=1/(ce(pa)*ce(pa));Ga=-(pa+T*Ga*Ga*db*db-1+T);Ga=(-Ga+
bb(Ga*Ga-4*(T-1)*pa))/2;T=[gb(sd(1/bb(Ga)),T)*Qd(N),gb(sd(bb((Ga/pa-1)/T)),1-T)*Qd(A)]}else T=[0,gb(sd(Ga),1-T)*Qd(A)];return[-T[1],(0<=D?1:-1)*(.5*ha-T[0])]}function ta(A){function D(pa,Ga){var db=ha(pa,Ga);pa=db[0];Ga=db[1];db=$b(Ga);Ga=Vb(Ga);var Ua=Vb(pa),lb=tb(N*db+T*Ga*Ua),nb=$b(lb);lb=1E-6<Wb(nb)?lb/nb:1;return[lb*T*$b(pa),(Wb(pa)>Uc?lb:-lb)*(N*Ga-T*db*Ua)]}var N=$b(A),T=Vb(A),ha=G(A);ha.invert=G(-A);D.invert=function(pa,Ga){var db=bb(pa*pa+Ga*Ga),Ua=-$b(db),lb=Vb(db),nb=db*lb,Ab=-Ga*Ua,Xb=
db*N,mc=bb(nb*nb+Ab*Ab-Xb*Xb);nb=cd(nb*Xb+Ab*mc,Ab*Xb-nb*mc);pa=(db>Uc?-1:1)*cd(pa*Ua,db*Vb(nb)*lb+Ga*$b(nb)*Ua);return ha.invert(pa,nb)};return D}function G(A){var D=$b(A),N=Vb(A);return function(T,ha){var pa=Vb(ha),Ga=Vb(T)*pa;T=$b(T)*pa;ha=$b(ha);return[cd(T,Ga*N-ha*D),Ra(ha*N+Ga*D)]}}function Q(A){function D(nb,Ab){var Xb=Wb(Ab);if(Xb>N){var mc=we(A-1,ie(0,qd((nb+gc)/db)));nb+=gc*(A-1)/A-mc*db;nb=I(nb,Xb);nb[0]=nb[0]*Ge/T-Ge*(A-1)/(2*A)+mc*Ge/A;nb[1]=ha+4*(nb[1]-pa)*Ga/Ge;0>Ab&&(nb[1]=-nb[1])}else nb=
Pb(nb,Ab);nb[0]*=Ua;nb[1]/=lb;return nb}var N=Ob*vd,T=I(gc,N)[0]-I(-gc,N)[0],ha=Pb(0,N)[1],pa=I(0,N)[1],Ga=ge-pa,db=Ge/A,Ua=4/Ge,lb=ha+Ga*Ga*4/Ge;D.invert=function(nb,Ab){nb/=Ua;Ab*=lb;var Xb=Wb(Ab);if(Xb>ha){var mc=we(A-1,ie(0,qd((nb+gc)/db)));nb=(nb+gc*(A-1)/A-mc*db)*T/Ge;nb=I.invert(nb,.25*(Xb-ha)*Ge/Ga+pa);nb[0]-=gc*(A-1)/A-mc*db;0>Ab&&(nb[1]=-nb[1]);return nb}return Pb.invert(nb,Ab)};return D}function ka(A,D){return[A,D&1?89.999999:Ob]}function Da(A,D){return[A,D&1?-89.999999:-Ob]}function sb(A){return[.999999*
A[0],A[1]]}function Ya(A){function D(nb,Ab){var Xb=1-$b(Ab);if(Xb&&2>Xb){var mc=Uc-Ab,Jc=25;do{var t=$b(mc);var y=Vb(mc);Ab=ha+cd(t,N-y);y=1+lb-2*N*y;mc-=t=(mc-Ua*ha-N*t+y*Ab-.5*Xb*Ga)/(2*N*t*Ab)}while(1E-12<Wb(t)&&0<--Jc);Xb=pa*bb(y);nb=nb*Ab/gc}else Xb=pa*(A+Xb),nb=nb*ha/gc;return[Xb*$b(nb),db-Xb*Vb(nb)]}var N=1+A,T=$b(1/N),ha=Ra(T),pa=2*bb(gc/(Ga=gc+4*ha*N)),Ga,db=.5*pa*(N+bb(A*(2+A))),Ua=A*A,lb=N*N;D.invert=function(nb,Ab){var Xb=nb*nb+(Ab-=db)*Ab;Ab=(1+lb-Xb/(pa*pa))/(2*N);var mc=tb(Ab),Jc=$b(mc),
t=ha+cd(Jc,N-Ab);return[Ra(nb/bb(Xb))*gc/t,Ra(1-2*(mc-Ua*ha-N*Jc+(1+lb-2*N*Ab)*t)/Ga)]};return D}function ob(A,D){return-.7109889596207567<D?(A=dd(A,D),A[1]+=.0528035274542,A):ia(A,D)}function Na(A,D){return.7109889596207567<Wb(D)?(A=dd(A,D),A[1]-=0<D?.0528035274542:-.0528035274542,A):ia(A,D)}function yb(A,D,N,T){function ha(Ab){return bb(1+A*Vb(2*Ab)+D*Vb(4*Ab))}function pa(Ab){Ab*=N;return(2*Ab+(1+A-D/2)*$b(2*Ab)+(A+D)/2*$b(4*Ab)+D/2*$b(6*Ab))/N}function Ga(Ab){return ha(Ab)*$b(Ab)}var db=bb(4*
gc/(2*N+(1+A-D/2)*$b(2*N)+(A+D)/2*$b(4*N)+D/2*$b(6*N))),Ua=bb(T*$b(N)*bb((1+A*Vb(2*N)+D*Vb(4*N))/(1+A+D))),lb=N*pa(1),nb=function(Ab,Xb){var mc=N*Fa(pa,lb*$b(Xb)/N,Xb/gc);isNaN(mc)&&(mc=N*Qd(Xb));Xb=db*ha(mc);return[Xb*Ua*Ab/gc*Vb(mc),Xb/Ua*$b(mc)]};nb.invert=function(Ab,Xb){Xb=Fa(Ga,Xb*Ua/db);return[Ab*gc/(Vb(Xb)*db*Ua*ha(Xb)),Ra(N*pa(Xb/N)/lb)]};0===N&&(db=bb(T/gc),nb=function(Ab,Xb){return[Ab*db,$b(Xb)/db]},nb.invert=function(Ab,Xb){return[Ab/db,Ra(Xb*db)]});return nb}function Fb(A,D,N,T,ha,pa,
Ga,db,Ua,lb,nb){if(nb.nanEncountered)return NaN;var Ab=N-D;var Xb=A(D+.25*Ab);var mc=A(N-.25*Ab);if(isNaN(Xb))nb.nanEncountered=!0;else if(isNaN(mc))nb.nanEncountered=!0;else{var Jc=Ab*(T+4*Xb+ha)/12;var t=Ab*(ha+4*mc+pa)/12;var y=Jc+t;Ga=(y-Ga)/15;if(lb>Ua)return nb.maxDepthCount++,y+Ga;if(Math.abs(Ga)<db)return y+Ga;Ab=D+.5*Ab;D=Fb(A,D,Ab,T,Xb,ha,Jc,.5*db,Ua,lb+1,nb);if(isNaN(D))return nb.nanEncountered=!0,NaN;A=Fb(A,Ab,N,ha,mc,pa,t,.5*db,Ua,lb+1,nb);return isNaN(A)?(nb.nanEncountered=!0,NaN):D+
A}}function eb(A,D,N,T,ha){void 0===T&&(T=1E-8);void 0===ha&&(ha=20);var pa=A(D),Ga=A(.5*(D+N)),db=A(N);return Fb(A,D,N,pa,Ga,db,(pa+4*Ga+db)*(N-D)/6,T,ha,1,{maxDepthCount:0,nanEncountered:!1})}function Lb(A,D,N){function T(nb){return A+(1-A)*lf(1-lf(nb,D),1/D)}function ha(nb){var Ab=0,Xb=1E3,mc=500;do db[mc]>nb?Xb=mc:Ab=mc,mc=Ab+Xb>>1;while(mc>Ab);(Ab=db[mc+1]-db[mc])&&(Ab=(nb-db[mc+1])/Ab);return(mc+1+Ab)/1E3}for(var pa=1/eb(T,0,1,1E-4),Ga=1.00000001*pa,db=[],Ua=0;1E3>=Ua;Ua++)db.push(eb(T,0,Ua/
1E3,1E-4)*Ga);var lb=2*ha(1)/gc*pa/N;N=function(nb,Ab){var Xb=ha(Wb($b(Ab)));nb*=T(Xb);Xb/=lb;return[nb,0<=Ab?Xb:-Xb]};N.invert=function(nb,Ab){var Xb;Ab*=lb;1>Wb(Ab)&&(Xb=Qd(Ab)*Ra(eb(T,0,Wb(Ab),1E-4)*pa));return[nb/T(Wb(Ab)),Xb]};return N}function hc(A,D){for(var N=-1,T=A.length,ha=A[0],pa,Ga,db,Ua=[];++N<T;){pa=A[N];Ga=(pa[0]-ha[0])/D;db=(pa[1]-ha[1])/D;for(var lb=0;lb<D;++lb)Ua.push([ha[0]+lb*Ga,ha[1]+lb*db]);ha=pa}Ua.push(pa);return Ua}function Yb(A){var D=[],N,T=A[0].length;for(N=0;N<T;++N){var ha=
A[0][N];var pa=ha[0][0];var Ga=ha[0][1];var db=ha[1][1];var Ua=ha[2][0];ha=ha[2][1];D.push(hc([[pa+1E-6,Ga+1E-6],[pa+1E-6,db-1E-6],[Ua-1E-6,db-1E-6],[Ua-1E-6,ha+1E-6]],30))}for(N=A[1].length-1;0<=N;--N)ha=A[1][N],pa=ha[0][0],Ga=ha[0][1],db=ha[1][1],Ua=ha[2][0],ha=ha[2][1],D.push(hc([[Ua-1E-6,ha-1E-6],[Ua-1E-6,db+1E-6],[pa+1E-6,db+1E-6],[pa+1E-6,Ga-1E-6]],30));return{type:"Polygon",coordinates:[z.merge(D)]}}function Ic(A,D,N){function T(Ua,lb){for(var nb=0>lb?-1:1,Ab=D[+(0>lb)],Xb=0,mc=Ab.length-1;Xb<
mc&&Ua>Ab[Xb][2][0];++Xb);Ua=A(Ua-Ab[Xb][1][0],lb);Ua[0]+=A(Ab[Xb][1][0],nb*lb>nb*Ab[Xb][0][1]?Ab[Xb][0][1]:lb)[0];return Ua}var ha,pa;N?T.invert=N(T):A.invert&&(T.invert=function(Ua,lb){for(var nb=pa[+(0>lb)],Ab=D[+(0>lb)],Xb=0,mc=nb.length;Xb<mc;++Xb){var Jc=nb[Xb];if(Jc[0][0]<=Ua&&Ua<Jc[1][0]&&Jc[0][1]<=lb&&lb<Jc[1][1])return nb=A.invert(Ua-A(Ab[Xb][1][0],0)[0],lb),nb[0]+=Ab[Xb][1][0],Ab=T(nb[0],nb[1]),Ua=[Ua,lb],1E-6>Wb(Ab[0]-Ua[0])&&1E-6>Wb(Ab[1]-Ua[1])?nb:null}});var Ga=r.geoProjection(T),db=
Ga.stream;Ga.stream=function(Ua){var lb=Ga.rotate(),nb=db(Ua),Ab=(Ga.rotate([0,0]),db(Ua));Ga.rotate(lb);nb.sphere=function(){r.geoStream(ha,Ab)};return nb};Ga.lobes=function(Ua){if(!arguments.length)return D.map(function(lb){return lb.map(function(nb){return[[nb[0][0]*Ed,nb[0][1]*Ed],[nb[1][0]*Ed,nb[1][1]*Ed],[nb[2][0]*Ed,nb[2][1]*Ed]]})});ha=Yb(Ua);D=Ua.map(function(lb){return lb.map(function(nb){return[[nb[0][0]*vd,nb[0][1]*vd],[nb[1][0]*vd,nb[1][1]*vd],[nb[2][0]*vd,nb[2][1]*vd]]})});pa=D.map(function(lb){return lb.map(function(nb){var Ab=
A(nb[0][0],nb[0][1])[0],Xb=A(nb[2][0],nb[2][1])[0],mc=A(nb[1][0],nb[0][1])[1];nb=A(nb[1][0],nb[1][1])[1];if(mc>nb){var Jc=mc;mc=nb;nb=Jc}return[[Ab,mc],[Xb,nb]]})});return Ga};null!=D&&Ga.lobes(D);return Ga}function yc(A,D){return[3/Ge*A*bb(gc*gc/3-D*D),D]}function hd(A){function D(N,T){if(1E-6>Wb(Wb(T)-Uc))return[0,0>T?-2:2];T=$b(T);T=lf((1+T)/(1-T),A/2);var ha=.5*(T+1/T)+Vb(N*=A);return[2*$b(N)/ha,(T-1/T)/ha]}D.invert=function(N,T){var ha=Wb(T);if(1E-6>Wb(ha-2))return N?null:[0,Qd(T)*Uc];if(2<ha)return null;
N/=2;T/=2;ha=N*N;var pa=T*T;T=2*T/(1+ha+pa);T=lf((1+T)/(1-T),1/A);return[cd(2*N,1-ha-pa)/A,Ra((T-1)/(T+1))]};return D}function Bd(A,D){return[A*(1+bb(Vb(D)))/2,D/(Vb(D/2)*Vb(A/6))]}function Gc(A,D){var N=A*A,T=D*D;return[A*(.975534+T*(-.119161+-.0143059*N+-.0547009*T)),D*(1.00384+N*(.0802894+-.02855*T+1.99025E-4*N)+T*(.0998909+-.0491032*T))]}function jd(A,D){return[$b(A)/Vb(D),ce(D)*Vb(A)]}function fe(A){function D(ha,pa){var Ga=pa-A,db=1E-6>Wb(Ga)?ha*N:1E-6>Wb(db=Xd+pa/2)||1E-6>Wb(Wb(db)-Uc)?0:ha*
Ga/Wd(ce(db)/T);return[db,Ga]}var N=Vb(A),T=ce(Xd+A/2);D.invert=function(ha,pa){var Ga,db=pa+A;return[1E-6>Wb(pa)?ha/N:1E-6>Wb(Ga=Xd+db/2)||1E-6>Wb(Wb(Ga)-Uc)?0:ha*Wd(ce(Ga)/T)/pa,db]};return D}function Mc(A,D){return[A,1.25*Wd(ce(Xd+.4*D))]}function zd(A){function D(T,ha){var pa=Vb(ha),Ga=2/(1+pa*Vb(T));T=Ga*pa*$b(T);ha=Ga*$b(ha);Ga=N;pa=A[Ga];for(var db=pa[0],Ua=pa[1],lb;0<=--Ga;)pa=A[Ga],db=pa[0]+T*(lb=db)-ha*Ua,Ua=pa[1]+T*Ua+ha*lb;db=T*(lb=db)-ha*Ua;return[db,T*Ua+ha*lb]}var N=A.length-1;D.invert=
function(T,ha){var pa=20,Ga=T,db=ha;do{for(var Ua=N,lb=A[Ua],nb=lb[0],Ab=lb[1],Xb=0,mc=0,Jc;0<=--Ua;)lb=A[Ua],Xb=nb+Ga*(Jc=Xb)-db*mc,mc=Ab+Ga*mc+db*Jc,nb=lb[0]+Ga*(Jc=nb)-db*Ab,Ab=lb[1]+Ga*Ab+db*Jc;Xb=nb+Ga*(Jc=Xb)-db*mc;mc=Ab+Ga*mc+db*Jc;nb=Ga*(Jc=nb)-db*Ab-T;Ab=Ga*Ab+db*Jc-ha;lb=Xb*Xb+mc*mc;Ga-=Ua=(nb*Xb+Ab*mc)/lb;db-=nb=(Ab*Xb-nb*mc)/lb}while(1E-12<Wb(Ua)+Wb(nb)&&0<--pa);if(pa)return T=bb(Ga*Ga+db*db),ha=2*sd(.5*T),pa=$b(ha),[cd(Ga*pa,T*Vb(ha)),T?Ra(db*pa/T):0]};return D}function Rd(A,D){A=r.geoProjection(zd(A)).rotate(D).clipAngle(90);
var N=r.geoRotation(D),T=A.center;delete A.rotate;A.center=function(ha){return arguments.length?T(N(ha)):N.invert(T())};return A}function Db(A,D){D=Ra(7*$b(D)/(3*Me));return[Me*A*(2*Vb(2*D/3)-1)/Xe,9*$b(D/3)/Xe]}function Zb(A,D){for(var N=(1+xe)*$b(D),T=0,ha;25>T&&!(D-=ha=($b(D/2)+$b(D)-N)/(.5*Vb(D/2)+Vb(D)),1E-6>Wb(ha));T++);return[A*(1+2*Vb(D)/Vb(D/2))/(3*Yd),2*bb(3)*$b(D/2)/bb(2+Yd)]}function jb(A,D){var N=bb(6/(4+gc)),T=(1+gc/4)*$b(D);D/=2;for(var ha=0,pa;25>ha&&!(D-=pa=(D/2+$b(D)-T)/(.5+Vb(D)),
1E-6>Wb(pa));ha++);return[N*(.5+Vb(D))*A/1.5,N*D]}function lc(A,D){var N=D*D,T=N*N,ha=N*T;return[A*(.84719-.13063*N+ha*ha*(-.04515+.05494*N-.02326*T+.00331*ha)),D*(1.01183+T*T*(-.02625+.01926*N-.00396*T))]}function pc(A,D){return[A*(1+Vb(D))/2,2*(D-ce(D/2))]}function gd(A,D){var N=$b(D),T=Vb(D),ha=Qd(A);if(0===A||Wb(D)===Uc)return[0,D];if(0===D)return[A,0];if(Wb(A)===Uc)return[A*T,Uc*N];A=gc/(2*A)-2*A/gc;var pa=2*D/gc,Ga=(1-pa*pa)/(N-pa),db=A*A,Ua=Ga*Ga;pa=1+db/Ua;var lb=1+Ua/db,nb=(A*N/Ga-A/2)/pa,
Ab=(Ua*N/db+Ga/2)/lb;N=Ab*Ab-(Ua*N*N/db+Ga*N-1)/lb;return[Uc*(nb+bb(nb*nb+T*T/pa)*ha),Uc*(Ab+bb(0>N?0:N)*Qd(-D*A)*ha)]}function xd(A,D){var N=D*D;return[A,D*(1.0148+N*N*(.23185+N*(-.14499+.02406*N)))]}function M(A,D){if(1E-6>Wb(D))return[A,0];var N=ce(D);A*=$b(D);return[$b(A)/N,D+(1-Vb(A))/N]}function oa(A,D){var N=ub(A[1],A[0]),T=ub(D[1],D[0]),ha=cd(N[0]*T[1]-N[1]*T[0],N[0]*T[0]+N[1]*T[1]);N=bb(N[0]*N[0]+N[1]*N[1])/bb(T[0]*T[0]+T[1]*T[1]);return $a([1,0,A[0][0],0,1,A[0][1]],$a([N,0,0,0,N,0],$a([Vb(ha),
$b(ha),0,-$b(ha),Vb(ha),0],[1,0,-D[0][0],0,1,-D[0][1]])))}function $a(A,D){return[A[0]*D[0]+A[1]*D[3],A[0]*D[1]+A[1]*D[4],A[0]*D[2]+A[1]*D[5]+A[2],A[3]*D[0]+A[4]*D[3],A[3]*D[1]+A[4]*D[4],A[3]*D[2]+A[4]*D[5]+A[5]]}function ub(A,D){return[A[0]-D[0],A[1]-D[1]]}function Gb(A,D){function N(db,Ua){db.edges=sc(db.face);if(Ua.face){var lb=db.shared=Ub(db.face,Ua.face),nb=oa(lb.map(Ua.project),lb.map(db.project));db.transform=Ua.transform?$a(Ua.transform,nb):nb;nb=Ua.edges;for(var Ab=0,Xb=nb.length;Ab<Xb;++Ab)bc(lb[0],
nb[Ab][1])&&bc(lb[1],nb[Ab][0])&&(nb[Ab]=db),bc(lb[0],nb[Ab][0])&&bc(lb[1],nb[Ab][1])&&(nb[Ab]=db);nb=db.edges;Ab=0;for(Xb=nb.length;Ab<Xb;++Ab)bc(lb[0],nb[Ab][0])&&bc(lb[1],nb[Ab][1])&&(nb[Ab]=Ua),bc(lb[0],nb[Ab][1])&&bc(lb[1],nb[Ab][0])&&(nb[Ab]=Ua)}else db.transform=Ua.transform;db.children&&db.children.forEach(function(mc){N(mc,db)});return db}function T(db,Ua){var lb=D(db,Ua);db=lb.project([db*Ed,Ua*Ed]);if(lb=lb.transform)return[lb[0]*db[0]+lb[1]*db[1]+lb[2],-(lb[3]*db[0]+lb[4]*db[1]+lb[5])];
db[1]=-db[1];return db}function ha(db,Ua){var lb=db.project.invert,nb=db.transform,Ab=Ua;if(nb){var Xb=1/(nb[0]*nb[4]-nb[1]*nb[3]);nb=[Xb*nb[4],-Xb*nb[1],Xb*(nb[1]*nb[5]-nb[2]*nb[4]),-Xb*nb[3],Xb*nb[0],Xb*(nb[2]*nb[3]-nb[0]*nb[5])];Ab=[nb[0]*Ab[0]+nb[1]*Ab[1]+nb[2],nb[3]*Ab[0]+nb[4]*Ab[1]+nb[5]]}if(nb=lb)lb=mc=lb(Ab),lb=D(lb[0]*vd,lb[1]*vd),nb=db===lb;if(nb)return mc;var mc;db=db.children;lb=0;for(Ab=db&&db.length;lb<Ab;++lb)if(mc=ha(db[lb],Ua))return mc}N(A,{transform:null});Cc(A)&&(T.invert=function(db,
Ua){return(db=ha(A,[db,-Ua]))&&(db[0]*=vd,db[1]*=vd,db)});var pa=r.geoProjection(T),Ga=pa.stream;pa.stream=function(db){var Ua=pa.rotate(),lb=Ga(db),nb=(pa.rotate([0,0]),Ga(db));pa.rotate(Ua);lb.sphere=function(){nb.polygonStart();nb.lineStart();Ib(nb,A);nb.lineEnd();nb.polygonEnd()};return lb};return pa.angle(-30)}function Ib(A,D,N){var T,ha=D.edges,pa=ha.length;var Ga={type:"MultiPoint",coordinates:D.face};var db=D.face.filter(function(Ab){return 90!==Wb(Ab[1])}),Ua=r.geoBounds({type:"MultiPoint",
coordinates:db});db=!1;var lb=-1,nb=Ua[1][0]-Ua[0][0];Ua=180===nb||360===nb?[(Ua[0][0]+Ua[1][0])/2,(Ua[0][1]+Ua[1][1])/2]:r.geoCentroid(Ga);if(N)for(;++lb<pa&&ha[lb]!==N;);++lb;for(nb=0;nb<pa;++nb)Ga=ha[(nb+lb)%pa],Array.isArray(Ga)?(db||(A.point((T=r.geoInterpolate(Ga[0],Ua)(1E-6))[0],T[1]),db=!0),A.point((T=r.geoInterpolate(Ga[1],Ua)(1E-6))[0],T[1])):(db=!1,Ga!==N&&Ib(A,Ga,D))}function bc(A,D){return A&&D&&A[0]===D[0]&&A[1]===D[1]}function Ub(A,D){for(var N,T,ha=A.length,pa=null,Ga=0;Ga<ha;++Ga){N=
A[Ga];for(var db=D.length;0<=--db;)if(T=D[db],N[0]===T[0]&&N[1]===T[1]){if(pa)return[pa,N];pa=N}}}function sc(A){for(var D=A.length,N=[],T=A[D-1],ha=0;ha<D;++ha)N.push([T,T=A[ha]]);return N}function Cc(A){return A.project.invert||A.children&&A.children.some(Cc)}function va(A,D){A=I(A,D);return[A[0]*gf,A[1]]}function Za(A,D){for(var N=0,T=A.length,ha=0;N<T;++N)ha+=A[N]*D[N];return ha}function pb(A){return[cd(A[1],A[0])*Ed,Ra(ie(-1,we(1,A[2])))*Ed]}function Sb(A){var D=A[0]*vd;A=A[1]*vd;var N=Vb(A);
return[N*Vb(D),N*$b(D),$b(A)]}function uc(A,D){return{type:"FeatureCollection",features:A.features.map(function(N){return Ac(N,D)})}}function Ac(A,D){return{type:"Feature",id:A.id,properties:A.properties,geometry:Bb(A.geometry,D)}}function Kc(A,D){return{type:"GeometryCollection",geometries:A.geometries.map(function(N){return Bb(N,D)})}}function Bb(A,D){if(!A)return null;if("GeometryCollection"===A.type)return Kc(A,D);switch(A.type){case "Point":var N=Qe;break;case "MultiPoint":N=Qe;break;case "LineString":N=
Ue;break;case "MultiLineString":N=Ue;break;case "Polygon":N=zf;break;case "MultiPolygon":N=zf;break;case "Sphere":N=zf;break;default:return null}r.geoStream(A,D(N));return N.result()}function Tb(A){function D(T,ha){var pa=Wb(T)<Uc;ha=A(pa?T:0<T?T-gc:T+gc,ha);T=(ha[0]-ha[1])*xe;ha=(ha[0]+ha[1])*xe;if(pa)return[T,ha];pa=N*xe;var Ga=0<T^0<ha?-1:1;return[Ga*T-Qd(ha)*pa,Ga*ha-Qd(T)*pa]}var N=A(Uc,0)[0]-A(-Uc,0)[0];A.invert&&(D.invert=function(T,ha){var pa=(T+ha)*xe,Ga=(ha-T)*xe,db=Wb(pa)<.5*N&&Wb(Ga)<
.5*N;if(!db){var Ua=N*xe,lb=0<pa^0<Ga?-1:1;T=-lb*T+(0<Ga?1:-1)*Ua;ha=-lb*ha+(0<pa?1:-1)*Ua;pa=(-T-ha)*xe;Ga=(T-ha)*xe}ha=A.invert(pa,Ga);db||(ha[0]+=0<pa?gc:-gc);return ha});return r.geoProjection(D).rotate([-90,-90,45]).clipAngle(179.999)}function kc(A){function D(T,ha){T=N?ce(T*N/2)/N:T/2;if(!ha)return[2*T,-A];T=2*sd(T*$b(ha));var pa=1/ce(ha);return[$b(T)*pa,ha+(1-Vb(T))*pa-A]}var N=$b(A);D.invert=function(T,ha){if(1E-6>Wb(ha+=A))return[N?2*sd(N*T/2)/N:T,0];var pa=T*T+ha*ha,Ga=0,db=10;do{var Ua=
ce(Ga);var lb=1/Vb(Ga),nb=pa-2*ha*Ga+Ga*Ga;Ga-=Ua=(Ua*nb+2*(Ga-ha))/(2+nb*lb*lb+2*(Ga-ha)*Ua)}while(1E-6<Wb(Ua)&&0<--db);T*=Ua=ce(Ga);ha=ce(Wb(ha)<Wb(Ga+1/Ua)?.5*Ra(T):.5*tb(T)+gc/4)/$b(Ga);return[N?2*sd(N*ha)/N:2*ha,Ga]};return D}function jc(A,D){var N=we(18,36*Wb(D)/gc),T=qd(N);N-=T;var ha=(Ua=bf[T])[0],pa=Ua[1],Ga=(Ua=bf[++T])[0],db=Ua[1];T=(Ua=bf[we(19,++T)])[0];Ua=Ua[1];var Ua;return[A*(Ga+N*(T-ha)/2+N*N*(T-2*Ga+ha)/2),(0<D?Uc:-Uc)*(db+N*(Ua-pa)/2+N*N*(Ua-2*db+pa)/2)]}function qc(A){function D(N,
T){var ha=Vb(T),pa=(A-1)/(A-ha*Vb(N));return[pa*ha*$b(N),pa*$b(T)]}D.invert=function(N,T){var ha=N*N+T*T,pa=bb(ha);ha=(A-bb(1-ha*(A+1)/(A-1)))/((A-1)/pa+pa/(A-1));return[cd(N*ha,pa*bb(1-ha*ha)),pa?Ra(T*ha/pa):0]};return D}function ed(A,D){function N(Ga,db){Ga=T(Ga,db);db=Ga[1];var Ua=db*pa/(A-1)+ha;return[Ga[0]*ha/Ua,db/Ua]}var T=qc(A);if(!D)return T;var ha=Vb(D),pa=$b(D);N.invert=function(Ga,db){var Ua=(A-1)/(A-1-db*pa);return T.invert(Ua*Ga,Ua*db*ha)};return N}function od(A){return 0<A.length}function ud(A){return-90===
A||90===A?[0,A]:[-180,Math.floor(1E4*A)/1E4]}function md(A){var D=A[0],N=A[1],T=!1;-179.9999>=D?(D=-180,T=!0):179.9999<=D&&(D=180,T=!0);-89.9999>=N?(N=-90,T=!0):89.9999<=N&&(N=90,T=!0);return T?[D,N]:A}function rd(A){return A.map(md)}function Od(A,D,N){for(var T=0,ha=A.length;T<ha;++T){var pa=A[T].slice();N.push({index:-1,polygon:D,ring:pa});for(var Ga=0,db=pa.length;Ga<db;++Ga){var Ua=pa[Ga],lb=Ua[0],nb=Ua[1];if(-179.9999>=lb||179.9999<=lb||-89.9999>=nb||89.9999<=nb){pa[Ga]=md(Ua);for(Ua=Ga+1;Ua<
db;++Ua){var Ab=pa[Ua];lb=Ab[0];Ab=Ab[1];if(-179.9999<lb&&179.9999>lb&&-89.9999<Ab&&89.9999>Ab)break}if(Ua!==Ga+1){Ga?(Ga={index:-1,polygon:D,ring:pa.slice(0,Ga+1)},Ga.ring[Ga.ring.length-1]=ud(nb),N[N.length-1]=Ga):N.pop();if(Ua>=db)break;N.push({index:-1,polygon:D,ring:pa=pa.slice(Ua-1)});pa[0]=ud(pa[0][1]);Ga=-1;db=pa.length}}}}}function ee(A){var D,N=A.length,T={},ha={};for(D=0;D<N;++D){var pa=A[D];var Ga=pa.ring[0];var db=pa.ring[pa.ring.length-1];Ga[0]===db[0]&&Ga[1]===db[1]?(pa.polygon.push(pa.ring),
A[D]=null):(pa.index=D,T[Ga]=ha[db]=pa)}for(D=0;D<N;++D)if(pa=A[D]){Ga=pa.ring[0];db=pa.ring[pa.ring.length-1];var Ua=ha[Ga];var lb=T[db];delete T[Ga];delete ha[db];Ga[0]===db[0]&&Ga[1]===db[1]?pa.polygon.push(pa.ring):Ua?(delete ha[Ga],delete T[Ua.ring[0]],Ua.ring.pop(),A[Ua.index]=null,pa={index:-1,polygon:Ua.polygon,ring:Ua.ring.concat(pa.ring)},Ua===lb?pa.polygon.push(pa.ring):(pa.index=N++,A.push(T[pa.ring[0]]=ha[pa.ring[pa.ring.length-1]]=pa))):lb?(delete T[db],delete ha[lb.ring[lb.ring.length-
1]],pa.ring.pop(),pa={index:N++,polygon:lb.polygon,ring:pa.ring.concat(lb.ring)},A[lb.index]=null,A.push(T[pa.ring[0]]=ha[pa.ring[pa.ring.length-1]]=pa)):(pa.ring.push(pa.ring[0]),pa.polygon.push(pa.ring))}}function he(A){var D={type:"Feature",geometry:Jd(A.geometry)};null!=A.id&&(D.id=A.id);null!=A.bbox&&(D.bbox=A.bbox);null!=A.properties&&(D.properties=A.properties);return D}function Jd(A){if(null==A)return A;switch(A.type){case "GeometryCollection":var D={type:"GeometryCollection",geometries:A.geometries.map(Jd)};
break;case "Point":D={type:"Point",coordinates:md(A.coordinates)};break;case "MultiPoint":case "LineString":D={type:A.type,coordinates:rd(A.coordinates)};break;case "MultiLineString":D={type:"MultiLineString",coordinates:A.coordinates.map(rd)};break;case "Polygon":var N=[];Od(A.coordinates,N,D=[]);ee(D);D={type:"Polygon",coordinates:N};break;case "MultiPolygon":D=[];N=-1;var T=A.coordinates.length;for(var ha=Array(T);++N<T;)Od(A.coordinates[N],ha[N]=[],D);ee(D);D={type:"MultiPolygon",coordinates:ha.filter(od)};
break;default:return A}null!=A.bbox&&(D.bbox=A.bbox);return D}function De(A,D){D=ce(D/2);var N=$b(Xd*D);return[A*(.74482-.34588*N*N),1.70711*D]}function ne(A,D,N){var T=r.geoInterpolate(D,N);N=T(.5);D=r.geoRotation([-N[0],-N[1]])(D);T=T.distance/2;var ha=-Ra($b(D[1]*vd)/$b(T));N=[-N[0],-N[1],-(0<D[0]?gc-ha:ha)*Ed];A=r.geoProjection(A(T)).rotate(N);var pa=r.geoRotation(N),Ga=A.center;delete A.rotate;A.center=function(db){return arguments.length?Ga(pa(db)):pa.invert(Ga())};return A.clipAngle(90)}function le(A){function D(T,
ha){T=r.geoGnomonicRaw(T,ha);T[0]*=N;return T}var N=Vb(A);D.invert=function(T,ha){return r.geoGnomonicRaw.invert(T/N,ha)};return D}function Dd(A,D){return ne(le,A,D)}function be(A){function D(db,Ua){var lb=tb(Vb(Ua)*Vb(db-N));db=tb(Vb(Ua)*Vb(db-T));lb*=lb;db*=db;return[(lb-db)/(2*A),(0>Ua?-1:1)*bb(4*ha*db-(ha-lb+db)*(ha-lb+db))/(2*A)]}if(!(A*=2))return r.geoAzimuthalEquidistantRaw;var N=-A/2,T=-N,ha=A*A,pa=ce(T),Ga=.5/$b(T);D.invert=function(db,Ua){var lb=Ua*Ua,nb=Vb(bb(lb+(Ab=db+N)*Ab));db=Vb(bb(lb+
(Ab=db+T)*Ab));var Ab,Xb;return[cd(Xb=nb-db,Ab=(nb+db)*pa),(0>Ua?-1:1)*tb(bb(Ab*Ab+Xb*Xb)*Ga)]};return D}function V(A,D){return ne(be,A,D)}function qa(A,D){if(1E-6>Wb(D))return[A,0];var N=Wb(D/Uc),T=Ra(N);if(1E-6>Wb(A)||1E-6>Wb(Wb(D)-Uc))return[0,Qd(D)*gc*ce(T/2)];var ha=Vb(T);T=Wb(gc/A-A/gc)/2;var pa=T*T;ha/=N+ha-1;N=ha*(2/N-1);var Ga=N*N,db=Ga+pa,Ua=ha-Ga,lb=pa+ha;return[Qd(A)*gc*(T*Ua+bb(pa*Ua*Ua-db*(ha*ha-Ga)))/db,Qd(D)*gc*(N*lb-T*bb((pa+1)*db-lb*lb))/db]}function Ea(A,D){if(1E-6>Wb(D))return[A,
0];var N=Wb(D/Uc),T=Ra(N);if(1E-6>Wb(A)||1E-6>Wb(Wb(D)-Uc))return[0,Qd(D)*gc*ce(T/2)];var ha=Vb(T);T=Wb(gc/A-A/gc)/2;var pa=T*T;N=ha*(bb(1+pa)-T*ha)/(1+pa*N*N);return[Qd(A)*gc*N,Qd(D)*gc*bb(1-N*(2*T+N))]}function rb(A,D){if(1E-6>Wb(D))return[A,0];var N=D/Uc,T=Ra(N);if(1E-6>Wb(A)||1E-6>Wb(Wb(D)-Uc))return[0,gc*ce(T/2)];D=(gc/A-A/gc)/2;N/=1+Vb(T);return[gc*(Qd(A)*bb(D*D+1-N*N)-D),gc*N]}function fb(A,D){if(!D)return[A,0];var N=Wb(D);if(!A||N===Uc)return[0,D];var T=N/Uc;N=T*T;var ha=(8*T-N*(N+2)-5)/(2*
N*(T-1)),pa=ha*ha,Ga=T*ha,db=N+pa+2*Ga;T+=3*ha;ha=A/Uc;ha+=1/ha;ha=Qd(Wb(A)-Uc)*bb(ha*ha-4);var Ua=ha*ha;N=(ha*(db+pa-1)+2*bb(db*(N+pa*Ua-1)+(1-N)*(N*(T*T+4*pa)+12*Ga*pa+4*pa*pa)))/(4*db+Ua);return[Qd(A)*Uc*N,Qd(D)*Uc*bb(1+ha*Wb(N)-N*N)]}function Jb(A,D,N,T,ha){function pa(Ga,db){db=N*$b(T*db);var Ua=bb(1-db*db),lb=bb(2/(1+Ua*Vb(Ga*=ha)));return[A*Ua*lb*$b(Ga),D*db*lb]}pa.invert=function(Ga,db){var Ua=Ga/A,lb=db/D;Ua=bb(Ua*Ua+lb*lb);lb=2*Ra(Ua/2);return[cd(Ga*ce(lb),A*Ua)/ha,Ua&&Ra(db*$b(lb)/(D*N*
Ua))/T]};return pa}function Rb(A,D,N,T){var ha=gc/3;A=ie(A,1E-6);D=ie(D,1E-6);A=we(A,Uc);D=we(D,gc-1E-6);N=ie(N,0);N=we(N,99.999999);T=ie(T,1E-6);var pa=T/100;N=tb((N/100+1)*Vb(ha))/ha;ha=$b(A)/$b(N*Uc);T=D/gc;D=bb(pa*$b(A/2)/$b(D/2));A=D/bb(T*ha*N);D=1/(D*bb(T*ha*N));return Jb(A,D,ha,N,T)}function ic(){var A=65*vd,D=60*vd,N=20,T=200,ha=r.geoProjectionMutator(Rb),pa=ha(A,D,N,T);pa.poleline=function(Ga){return arguments.length?ha(A=+Ga*vd,D,N,T):A*Ed};pa.parallels=function(Ga){return arguments.length?
ha(A,D=+Ga*vd,N,T):D*Ed};pa.inflation=function(Ga){return arguments.length?ha(A,D,N=+Ga,T):N};pa.ratio=function(Ga){return arguments.length?ha(A,D,N,T=+Ga):T};return pa.scale(163.775)}function Wc(A,D){return[A*bb(1-3*D*D/(gc*gc)),D]}function xc(A,D){var N=Vb(D),T=Vb(A)*N,ha=1-T;D=Vb(A=cd($b(A)*N,-$b(D)));A=$b(A);N=bb(1-T*T);return[A*N-D*ha,-D*N-A*ha]}function Nc(A,D){var N=Ka(A,D);return[(N[0]+A/Uc)/2,(N[1]+D)/2]}var Wb=Math.abs,sd=Math.atan,cd=Math.atan2,Vb=Math.cos,oe=Math.exp,qd=Math.floor,Wd=
Math.log,ie=Math.max,we=Math.min,lf=Math.pow,Ze=Math.round,Qd=Math.sign||function(A){return 0<A?1:0>A?-1:0},$b=Math.sin,ce=Math.tan,gc=Math.PI,Uc=gc/2,Xd=gc/4,xe=Math.SQRT1_2,Yd=bb(2),ge=bb(gc),Ge=2*gc,Ed=180/gc,vd=gc/180;Ka.invert=function(A,D){if(!(A*A+4*D*D>gc*gc+1E-6)){var N=A,T=D,ha=25;do{var pa=$b(N),Ga=$b(N/2),db=Vb(N/2),Ua=$b(T),lb=Vb(T),nb=$b(2*T),Ab=Ua*Ua,Xb=lb*lb,mc=Ga*Ga,Jc=1-Xb*db*db,t=Jc?tb(lb*db)*bb(y=1/Jc):y=0,y;Jc=2*t*lb*Ga-A;var S=t*Ua-D,ba=y*(Xb*mc+t*lb*db*Ab),Wa=y*(.5*pa*nb-2*
t*Ua*Ga);pa=.25*y*(nb*Ga-t*Ua*Xb*pa);lb=y*(Ab*db+t*mc*lb);db=Wa*pa-lb*ba;if(!db)break;Wa=(S*Wa-Jc*lb)/db;Jc=(Jc*pa-S*ba)/db;N-=Wa;T-=Jc}while((1E-6<Wb(Wa)||1E-6<Wb(Jc))&&0<--ha);return[N,T]}};Sa.invert=function(A,D){A*=.375;D*=.375;if(!A&&1<Wb(D))return null;var N=1+A*A+D*D,T=bb((N-bb(N*N-4*D*D))/2);N=Ra(T)/3;T?(T=Wb(D/T),T=Wd(T+bb(T*T-1))/3):(T=Wb(A),T=Wd(T+bb(T*T+1))/3);var ha=Vb(N),pa=Hb(T),Ga=pa*pa-ha*ha;return[2*Qd(A)*cd(wb(T)*ha,.25-Ga),2*Qd(D)*cd(pa*$b(N),.25+Ga)]};var te=bb(8),Se=Wd(1+Yd);
xa.invert=function(A,D){if((ha=Wb(D))<Se)return[A,2*sd(oe(D))-Uc];var N=Xd,T=25,ha;do{var pa=Vb(N/2);var Ga=ce(N/2);N-=pa=(te*(N-Xd)-Wd(Ga)-ha)/(te-pa*pa/(2*Ga))}while(1E-12<Wb(pa)&&0<--T);return[A/(Vb(N)*(te-1/$b(N))),Qd(D)*N]};Ba.invert=function(A,D){D=2*Ra(D/2);return[A*Vb(D/2)/Vb(D),D]};var dd=za(Yd/Uc,Yd,gc);Ta.invert=function(A,D){var N=2.00276*D;D=0>D?-Xd:Xd;var T=25;do{var ha=N-Yd*$b(D);D-=ha=($b(2*D)+2*D-gc*$b(ha))/(2*Vb(2*D)+2+gc*Vb(ha)*Yd*Vb(D))}while(1E-6<Wb(ha)&&0<--T);ha=N-Yd*$b(D);
return[A*(1/Vb(ha)+1.11072/Vb(D))/2.00276,ha]};ia.invert=function(A,D){return[A/Vb(D),D]};var Ee=za(1,4/gc,gc);I.invert=function(A,D){var N=(N=D/ge-1)*N;return[0<N?A*bb(gc/N)/2:0,Ra(1-N)]};var Ce=bb(3);L.invert=function(A,D){D=3*Ra(D/(Ce*ge));return[ge*A/(Ce*(2*Vb(2*D/3)-1)),D]};R.invert=function(A,D){var N=bb(8/(3*gc));D/=N;return[A/(N*(1-Wb(D)/gc)),D]};aa.invert=function(A,D){var N=2-Wb(D)/bb(2*gc/3);return[A*bb(6*gc)/(2*N),Qd(D)*Ra((4-N*N)/3)]};ea.invert=function(A,D){var N=bb(gc*(4+gc))/2;return[A*
N/(1+bb(1-D*D*(4+gc)/(4*gc))),D*N/2]};Ca.invert=function(A,D){D=D*bb((4+gc)/gc)/2;var N=Ra(D),T=Vb(N);return[A/(2/bb(gc*(4+gc))*(1+T)),Ra((N+D*(T+2))/(2+Uc))]};Ia.invert=function(A,D){var N=bb(2+gc);D=D*N/2;return[N*A/(1+Vb(D)),D]};H.invert=function(A,D){var N=1+Uc,T=bb(N/2);return[2*A*T/(1+Vb(D*=T)),Ra((D+$b(D))/N)]};var pe=3+2*Yd;da.invert=function(A,D){if(!(ha=Sa.invert(A/1.2,1.065*D)))return null;var N=ha[0];ha=ha[1];var T=20,ha;A/=pe;D/=pe;do{var pa=N/2,Ga=ha/2,db=$b(pa),Ua=Vb(pa),lb=$b(Ga),
nb=Vb(Ga),Ab=Vb(ha),Xb=bb(Ab),mc=lb/(nb+Yd*Ua*Xb),Jc=mc*mc,t=bb(2/(1+Jc)),y=(Yd*nb+(Ua+db)*Xb)/(Yd*nb+(Ua-db)*Xb),S=bb(y),ba=S-1/S,Wa=S+1/S;Ga=t*ba-2*Wd(S)-A;pa=t*mc*Wa-2*sd(mc)-D;var vb=lb&&xe*Xb*db*Jc/lb,Eb=(Yd*Ua*nb+Xb)/(2*(nb+Yd*Ua*Xb)*(nb+Yd*Ua*Xb)*Xb),Nb=-.5*mc*t*t*t,cc=Nb*vb;Nb*=Eb;var Dc=(Dc=2*nb+Yd*Xb*(Ua-db))*Dc*S;Ua=(Yd*Ua*nb*Xb+Ab)/Dc;lb=-(Yd*db*lb)/(Xb*Dc);db=ba*cc-2*Ua/S+t*(Ua+Ua/y);S=ba*Nb-2*lb/S+t*(lb+lb/y);vb=mc*Wa*cc-2*vb/(1+Jc)+t*Wa*vb+t*mc*(Ua-Ua/y);Jc=mc*Wa*Nb-2*Eb/(1+Jc)+t*Wa*
Eb+t*mc*(lb-lb/y);mc=S*vb-Jc*db;if(!mc)break;Jc=(pa*S-Ga*Jc)/mc;Ga=(Ga*vb-pa*db)/mc;N-=Jc;ha=ie(-Uc,we(Uc,ha-Ga))}while((1E-6<Wb(Jc)||1E-6<Wb(Ga))&&0<--T);return 1E-6>Wb(Wb(ha)-Uc)?[0,ha]:T&&[N,ha]};var ye=Vb(35*vd);ca.invert=function(A,D){D/=1+ye;return[A&&A/(ye*bb(1-D*D)),2*sd(D)]};X.invert=function(A,D){var N=sd(D/ge);D=Vb(N);N*=2;return[A*ge/2/(Vb(N)*D*D),N]};var E=q(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),W=q(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Ma=q(5/
6*gc,-.62636,-.0344,0,1.3493,-.05524,0,.045);w.invert=function(A,D){var N=A,T=D,ha=50,pa;do{var Ga=T*T;T-=pa=(T*(1+Ga/12)-D)/(1+Ga/4)}while(1E-6<Wb(pa)&&0<--ha);ha=50;A/=1-.162388*Ga;do{var db=(db=N*N)*db;N-=pa=(N*(.87-9.52426E-4*db)-A)/(.87-.00476213*db)}while(1E-6<Wb(pa)&&0<--ha);return[N,T]};var Cb=q(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);U.invert=function(A,D){1<Wb(A)&&(A=2*Qd(A)-A);1<Wb(D)&&(D=2*Qd(D)-D);var N=Qd(A),T=Qd(D),ha=-N*A,pa=-T*D;D=1>pa/ha;A=D?pa:ha;var Ga=D?ha:pa,
db=0,Ua=1;ha=.5;for(var lb=50;;){pa=ha*ha;var nb=bb(ha),Ab=Ra(1/bb(1+pa)),Xb=1-pa+ha*(1+pa)*Ab,mc=(1-nb)/Xb,Jc=bb(mc),t=mc*(1+pa),y=Jc*(1-pa),S=bb(t-A*A);y=Ga+y+ha*S;if(1E-12>Wb(Ua-db)||0===--lb||0===y)break;0<y?db=ha:Ua=ha;ha=.5*(db+Ua)}lb?(Ga=Ra(nb),lb=Vb(Ga),db=1/lb,Ua=2*nb*lb,nb=(-Xb*lb-(1-nb)*(-3*ha+Ab*(1+3*pa))*Ua)/(Xb*Xb),ha=[gc/4*(A*(-2*db*(.5*nb/Jc*(1-pa)-2*ha*Jc*Ua)+-db*Ua*S)+-db*(ha*(1+pa)*nb+mc*(1+3*pa)*Ua)*Ra(A/bb(t))),Ga]):ha=null;A=ha[0];ha=ha[1];pa=Vb(ha);D&&(A=-Uc-A);return[N*(cd($b(A)*
pa,-$b(ha))+gc),T*Ra(Vb(A)*pa)]};Y.invert=function(A,D){var N=(Yd-1)/(Yd+1),T=bb(1-N*N);D=.5*gb(Uc,T*T)-D;A=-A;T*=T;if(D)if(D=cb(D,T),A){A=cb(A,1-T);var ha=A[1]*A[1]+T*D[0]*D[0]*A[0]*A[0];D=[[D[0]*A[2]/ha,D[1]*D[2]*A[0]*A[1]/ha],[D[1]*A[1]/ha,-D[0]*D[2]*A[0]*A[2]/ha],[D[2]*A[1]*A[2]/ha,-T*D[0]*D[1]*A[0]/ha]]}else D=[[D[0],0],[D[1],0],[D[2],0]];else A=cb(A,1-T),D=[[0,A[0]/A[1]],[1/A[1],0],[A[2]/A[1],0]];T=D[0];D=D[1];A=D[0]*D[0]+D[1]*D[1];T=[(T[0]*D[0]+T[1]*D[1])/A,(T[1]*D[0]-T[0]*D[1])/A];return[cd(T[1],
T[0])/-1,2*sd(oe(-.5*Wd(N*T[0]*T[0]+N*T[1]*T[1])))-Uc]};var Ob=Ra(1-1/3)*Ed,Pb=J(0);ob.invert=function(A,D){return-.7109889596207567<D?dd.invert(A,D-.0528035274542):ia.invert(A,D)};Na.invert=function(A,D){return.7109889596207567<Wb(D)?dd.invert(A,D+(0<D?.0528035274542:-.0528035274542)):ia.invert(A,D)};var wc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],fc=[[[[-180,0],[-100,
90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Tc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ad=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Gd=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],
[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Ld=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];yc.invert=function(A,D){return[Ge/3*A/bb(gc*gc/3-D*D),D]};var ue=gc/Yd;Bd.invert=function(A,D){var N=Wb(A),T=Wb(D),ha=1E-6,pa=Uc;T<ue?pa*=T/ue:ha+=6*tb(ue/T);for(var Ga=0;25>Ga;Ga++){var db=$b(pa),Ua=bb(Vb(pa)),lb=$b(pa/2),nb=Vb(pa/2),
Ab=$b(ha/6),Xb=Vb(ha/6),mc=.5*ha*(1+Ua)-N,Jc=pa/(nb*Xb)-T;db=Ua?-.25*ha*db/Ua:0;Ua=.5*(1+Ua);lb=(1+.5*pa*lb/nb)/(nb*Xb);Ab=pa/nb*(Ab/6)/(Xb*Xb);nb=db*Ab-lb*Ua;Ab=(mc*Ab-Jc*Ua)/nb;mc=(Jc*db-mc*lb)/nb;pa-=Ab;ha-=mc;if(1E-6>Wb(Ab)&&1E-6>Wb(mc))break}return[0>A?-ha:ha,0>D?-pa:pa]};Gc.invert=function(A,D){var N=Qd(A)*gc,T=D/2,ha=50;do{var pa=N*N,Ga=T*T,db=N*T,Ua=N*(.975534+Ga*(-.119161+-.0143059*pa+-.0547009*Ga))-A,lb=T*(1.00384+pa*(.0802894+-.02855*Ga+1.99025E-4*pa)+Ga*(.0998909+-.0491032*Ga))-D,nb=.975534-
Ga*(.119161+.0429177*pa+.0547009*Ga),Ab=-db*(.238322+.2188036*Ga+.0286118*pa);db*=.1605788+7.961E-4*pa+-.0571*Ga;Ga=1.00384+pa*(.0802894+1.99025E-4*pa)+Ga*(3*(.0998909-.02855*pa)-.245516*Ga);pa=Ab*db-Ga*nb;Ab=(lb*Ab-Ua*Ga)/pa;Ua=(Ua*db-lb*nb)/pa;N-=Ab;T-=Ua}while((1E-6<Wb(Ab)||1E-6<Wb(Ua))&&0<--ha);return ha&&[N,T]};jd.invert=function(A,D){var N=A*A,T=D*D+1,ha=N+T;N=A?xe*bb((ha-bb(ha*ha-4*N))/N):1/bb(T);return[Ra(A*N),Qd(D)*tb(N)]};Mc.invert=function(A,D){return[A,2.5*sd(oe(.8*D))-.625*gc]};var ke=
[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],qe=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Nd=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],je=[[.9245,0],[0,0],[.01943,0]],ze=[[.721316,0],[0,0],[-.00881625,-.00617325]],Me=bb(6),Xe=bb(7);Db.invert=function(A,D){D=3*
Ra(D*Xe/9);return[A*Xe/(Me*(2*Vb(2*D/3)-1)),Ra(3*$b(D)*Me/7)]};Zb.invert=function(A,D){D=D*bb(2+Yd)/(2*bb(3));var N=2*Ra(D);return[3*Yd*A/(1+2*Vb(N)/Vb(N/2)),Ra((D+$b(N))/(1+xe))]};jb.invert=function(A,D){var N=bb(6/(4+gc));D/=N;1E-6>Wb(Wb(D)-Uc)&&(D=0>D?-Uc:Uc);return[1.5*A/(N*(.5+Vb(D))),Ra((D/2+$b(D))/(1+gc/4))]};lc.invert=function(A,D){var N=D,T=25;do{var ha=N*N;var pa=ha*ha;N-=ha=(N*(1.01183+pa*pa*(-.02625+.01926*ha-.00396*pa))-D)/(1.01183+pa*pa*(-.23625+.21186*ha+-.05148*pa))}while(1E-12<Wb(ha)&&
0<--T);ha=N*N;pa=ha*ha;D=ha*pa;return[A/(.84719-.13063*ha+D*D*(-.04515+.05494*ha-.02326*pa+.00331*D)),N]};pc.invert=function(A,D){for(var N=D/2,T=0,ha=Infinity;10>T&&1E-6<Wb(ha);++T)ha=Vb(D/2),D-=ha=(D-ce(D/2)-N)/(1-.5/(ha*ha));return[2*A/(1+Vb(D)),D]};var pf=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];gd.invert=function(A,D){A/=Uc;D/=Uc;var N=A*A,T=N+D*D,ha=gc*gc;return[A?(T-1+bb((1-T)*(1-T)+4*N))/(2*A)*Uc:0,Fa(function(pa){return T*
(gc*$b(pa)-2*pa)*gc+4*pa*pa*(D-$b(pa))+2*gc*pa-ha*D},0)]};var wf=5*.23185;xd.invert=function(A,D){1.790857183<D?D=1.790857183:-1.790857183>D&&(D=-1.790857183);var N=D;do{var T=N*N;N-=T=(N*(1.0148+T*T*(.23185+T*(-.14499+.02406*T)))-D)/(1.0148+T*T*(wf+T*(-1.01493+.21654*T)))}while(1E-6<Wb(T));return[A,N]};M.invert=function(A,D){if(1E-6>Wb(D))return[A,0];var N=A*A+D*D,T=.5*D,ha=10;do{var pa=ce(T);var Ga=1/Vb(T),db=N-2*D*T+T*T;T-=pa=(pa*db+2*(T-D))/(2+db*Ga*Ga+2*(T-D)*pa)}while(1E-6<Wb(pa)&&0<--ha);pa=
ce(T);return[(Wb(D)<Wb(T+1/pa)?Ra(A*pa):Qd(D)*Qd(A)*(tb(Wb(A*pa))+Uc))/$b(T),T]};var qf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ff=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(A){return A.map(function(D){return qf[D]})}),gf=2/bb(3);va.invert=function(A,D){return I.invert(A/gf,D)};var If=()=>{},Je=[],af=[],Qe={point:function(A,D){Je.push([A,D])},result:function(){var A=Je.length?2>Je.length?{type:"Point",coordinates:Je[0]}:{type:"MultiPoint",coordinates:Je}:
null;Je=[];return A}},Ue={lineStart:If,point:function(A,D){Je.push([A,D])},lineEnd:function(){Je.length&&(af.push(Je),Je=[])},result:function(){var A=af.length?2>af.length?{type:"LineString",coordinates:af[0]}:{type:"MultiLineString",coordinates:af}:null;af=[];return A}},zf={polygonStart:If,lineStart:If,point:function(A,D){Je.push([A,D])},lineEnd:function(){var A=Je.length;if(A){do Je.push(Je[0].slice());while(4>++A);af.push(Je);Je=[]}},polygonEnd:If,result:function(){if(!af.length)return null;var A=
[],D=[];af.forEach(function(N){if(4>(ha=N.length))var T=!1;else{T=0;for(var ha,pa=N[ha-1][1]*N[0][0]-N[ha-1][0]*N[0][1];++T<ha;)pa+=N[T-1][1]*N[T][0]-N[T-1][0]*N[T][1];T=0>=pa}T?A.push([N]):D.push(N)});D.forEach(function(N){var T=N[0];A.some(function(ha){for(var pa=ha[0],Ga=T[0],db=T[1],Ua=!1,lb=0,nb=pa.length,Ab=nb-1;lb<nb;Ab=lb++){var Xb=pa[lb],mc=Xb[0];Xb=Xb[1];var Jc=pa[Ab];Ab=Jc[0];Jc=Jc[1];Xb>db^Jc>db&&Ga<(Ab-mc)*(db-Xb)/(Jc-Xb)+mc&&(Ua=!Ua)}if(Ua)return ha.push(N),!0})||A.push([N])});af=[];
return A.length?1<A.length?{type:"MultiPolygon",coordinates:A}:{type:"Polygon",coordinates:A[0]}:null}},bf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];bf.forEach(function(A){A[1]*=1.0144});jc.invert=function(A,D){var N=D/Uc,T=90*N,ha=we(18,Wb(T/5)),pa=ie(0,qd(ha));do{var Ga=bf[pa][1],db=bf[pa+
1][1],Ua=bf[we(19,pa+2)][1],lb=Ua-Ga;Ga=Ua-2*db+Ga;db=2*(Wb(N)-db)/lb;lb=Ga/lb;lb=db*(1-lb*db*(1-2*lb*db));if(0<=lb||1===pa){T=(0<=D?5:-5)*(lb+ha);N=50;do ha=we(18,Wb(T)/5),pa=qd(ha),lb=ha-pa,Ga=bf[pa][1],db=bf[pa+1][1],Ua=bf[we(19,pa+2)][1],T-=(ha=(0<=D?Uc:-Uc)*(db+lb*(Ua-Ga)/2+lb*lb*(Ua-2*db+Ga)/2)-D)*Ed;while(1E-12<Wb(ha)&&0<--N);break}}while(0<=--pa);D=bf[pa][0];ha=bf[pa+1][0];pa=bf[we(19,pa+2)][0];return[A/(ha+lb*(pa-D)/2+lb*lb*(pa-2*ha+D)/2),T*vd]};De.invert=function(A,D){D/=1.70711;var N=$b(Xd*
D);return[A/(.74482-.34588*N*N),2*sd(D)]};qa.invert=function(A,D){if(1E-6>Wb(D))return[A,0];if(1E-6>Wb(A))return[0,Uc*$b(2*sd(D/gc))];var N=(A/=gc)*A,T=(D/=gc)*D,ha=N+T,pa=ha*ha,Ga=-Wb(D)*(1+ha),db=Ga-2*T+N,Ua=-2*Ga+1+2*T+pa,lb=T/Ua+(2*db*db*db/(Ua*Ua*Ua)-9*Ga*db/(Ua*Ua))/27,nb=(Ga-db*db/(3*Ua))/Ua;Ga=2*bb(-nb/3);lb=tb(3*lb/(nb*Ga))/3;return[gc*(ha-1+bb(1+2*(N-T)+pa))/(2*A),Qd(D)*gc*(-Ga*Vb(lb+gc/3)-db/(3*Ua))]};Ea.invert=function(A,D){if(!A)return[0,Uc*$b(2*sd(D/gc))];var N=Wb(A/gc),T=(1-N*N-(D/=
gc)*D)/(2*N),ha=bb(T*T+1);return[Qd(A)*gc*(ha-T),Qd(D)*Uc*$b(2*cd(bb((1-2*T*N)*(T+ha)-N),bb(ha+T+N)))]};rb.invert=function(A,D){if(!D)return[A,0];D/=gc;var N=(gc*gc*(1-D*D)-A*A)/(2*gc*A);return[A?gc*(Qd(A)*bb(N*N+1)-N):0,Uc*$b(2*sd(D))]};fb.invert=function(A,D){if(!A||!D)return[A,D];var N=Qd(D);D=Wb(D)/gc;var T=Qd(A)*A/Uc,ha=(T*T-1+4*D*D)/Wb(T),pa=ha*ha,Ga=D*(2-(.5<D?we(D,Wb(A)):0));D=A*A+D*D;var db=50;do{var Ua=Ga*Ga;var lb=(8*Ga-Ua*(Ua+2)-5)/(2*Ua*(Ga-1));var nb=(3*Ga-Ua*Ga-10)/(2*Ua*Ga),Ab=lb*
lb,Xb=Ga*lb,mc=Ga+lb,Jc=mc*mc,t=Ga+3*lb,y=-2*mc*(4*Xb*Ab+(1-4*Ua+3*Ua*Ua)*(1+nb)+Ab*(-6+14*Ua-pa+(-8+8*Ua-2*pa)*nb)+Xb*(-8+12*Ua+(-10+10*Ua-pa)*nb));Ua=bb(Jc*(Ua+Ab*pa-1)+(1-Ua)*(Ua*(t*t+4*Ab)+Ab*(12*Xb+4*Ab)));Ga-=lb=(ha*(Jc+Ab-1)+2*Ua-T*(4*Jc+pa))/(ha*(2*lb*nb+2*mc*(1+nb))+y/Ua-8*mc*(ha*(-1+Ab+Jc)+2*Ua)*(1+nb)/(pa+4*Jc))}while(1E-6<lb*D*D&&0<--db);return[Qd(A)*(bb(ha*ha+4)+ha)*gc/4,N*Uc*Ga]};var Af=4*gc+3*bb(3),Jf=2*bb(2*gc*bb(3)/Af),Df=za(Jf*bb(3)/gc,Jf,Af/6);Wc.invert=function(A,D){return[A/bb(1-
3*D*D/(gc*gc)),D]};xc.invert=function(A,D){var N=(A*A+D*D)/-2,T=bb(-N*(2+N)),ha=D*N+A*T;A=A*N-D*T;D=bb(A*A+ha*ha);return[cd(T*ha,D*(1+N)),D?-Ra(T*A/D):0]};Nc.invert=function(A,D){var N=A,T=D,ha=25;do{var pa=Vb(T),Ga=$b(T),db=$b(2*T),Ua=Ga*Ga,lb=pa*pa,nb=$b(N),Ab=Vb(N/2),Xb=$b(N/2),mc=Xb*Xb,Jc=1-lb*Ab*Ab,t=Jc?tb(pa*Ab)*bb(y=1/Jc):y=0,y;Jc=.5*(2*t*pa*Xb+N/Uc)-A;var S=.5*(t*Ga+T)-D,ba=.5*y*(lb*mc+t*pa*Ab*Ua)+.5/Uc,Wa=y*(nb*db/4-t*Ga*Xb);Ga=.125*y*(db*Xb-t*Ga*lb*nb);Ua=.5*y*(Ua*Ab+t*mc*pa)+.5;pa=Wa*Ga-
Ua*ba;Wa=(S*Wa-Jc*Ua)/pa;Jc=(Jc*Ga-S*ba)/pa;N-=Wa;T-=Jc}while((1E-6<Wb(Wa)||1E-6<Wb(Jc))&&0<--ha);return[N,T]};h.geoAiry=function(){var A=Uc,D=r.geoProjectionMutator(hb),N=D(A);N.radius=function(T){return arguments.length?D(A=T*vd):A*Ed};return N.scale(179.976).clipAngle(147)};h.geoAiryRaw=hb;h.geoAitoff=function(){return r.geoProjection(Ka).scale(152.63)};h.geoAitoffRaw=Ka;h.geoArmadillo=function(){var A=20*vd,D=0<=A?1:-1,N=ce(D*A),T=r.geoProjectionMutator(Ha),ha=T(A),pa=ha.stream;ha.parallel=function(Ga){if(!arguments.length)return A*
Ed;N=ce((D=0<=(A=Ga*vd)?1:-1)*A);return T(A)};ha.stream=function(Ga){var db=ha.rotate(),Ua=pa(Ga),lb=(ha.rotate([0,0]),pa(Ga)),nb=ha.precision();ha.rotate(db);Ua.sphere=function(){lb.polygonStart();lb.lineStart();for(var Ab=-180*D;180>D*Ab;Ab+=90*D)lb.point(Ab,90*D);if(A)for(;-180<=D*(Ab-=3*D*nb);)lb.point(Ab,D*-cd(Vb(Ab*vd/2),N)*Ed);lb.lineEnd();lb.polygonEnd()};return Ua};return ha.scale(218.695).center([0,28.0974])};h.geoArmadilloRaw=Ha;h.geoAugust=function(){return r.geoProjection(Sa).scale(66.1603)};
h.geoAugustRaw=Sa;h.geoBaker=function(){return r.geoProjection(xa).scale(112.314)};h.geoBakerRaw=xa;h.geoBerghaus=function(){var A=5,D=r.geoProjectionMutator(ma),N=D(A),T=N.stream,ha=-Vb(.01*vd),pa=$b(.01*vd);N.lobes=function(Ga){return arguments.length?D(A=+Ga):A};N.stream=function(Ga){var db=N.rotate(),Ua=T(Ga),lb=(N.rotate([0,0]),T(Ga));N.rotate(db);Ua.sphere=function(){lb.polygonStart();lb.lineStart();for(var nb=0,Ab=360/A,Xb=2*gc/A,mc=90-180/A,Jc=Uc;nb<A;++nb,mc-=Ab,Jc-=Xb)lb.point(cd(pa*Vb(Jc),
ha)*Ed,Ra(pa*$b(Jc))*Ed),-90>mc?(lb.point(-90,-180-mc-.01),lb.point(-90,-180-mc+.01)):(lb.point(90,mc+.01),lb.point(90,mc-.01));lb.lineEnd();lb.polygonEnd()};return Ua};return N.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};h.geoBerghausRaw=ma;h.geoBertin1953=function(){return r.geoProjection(ra()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};h.geoBertin1953Raw=ra;h.geoBoggs=function(){return r.geoProjection(Ta).scale(160.857)};h.geoBoggsRaw=Ta;h.geoBonne=function(){return K(ya).scale(123.082).center([0,
26.1441]).parallel(45)};h.geoBonneRaw=ya;h.geoBottomley=function(){var A=.5,D=r.geoProjectionMutator(ua),N=D(A);N.fraction=function(T){return arguments.length?D(A=+T):A};return N.scale(158.837)};h.geoBottomleyRaw=ua;h.geoBromley=function(){return r.geoProjection(Ee).scale(152.63)};h.geoBromleyRaw=Ee;h.geoChamberlin=Va;h.geoChamberlinRaw=Aa;h.geoChamberlinAfrica=function(){return Va([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};h.geoCollignon=function(){return r.geoProjection(I).scale(95.6464).center([0,
30])};h.geoCollignonRaw=I;h.geoCraig=function(){return K(x).scale(249.828).clipAngle(90)};h.geoCraigRaw=x;h.geoCraster=function(){return r.geoProjection(L).scale(156.19)};h.geoCrasterRaw=L;h.geoCylindricalEqualArea=function(){return K(J).parallel(38.58).scale(195.044)};h.geoCylindricalEqualAreaRaw=J;h.geoCylindricalStereographic=function(){return K(B).scale(124.75)};h.geoCylindricalStereographicRaw=B;h.geoEckert1=function(){return r.geoProjection(R).scale(165.664)};h.geoEckert1Raw=R;h.geoEckert2=
function(){return r.geoProjection(aa).scale(165.664)};h.geoEckert2Raw=aa;h.geoEckert3=function(){return r.geoProjection(ea).scale(180.739)};h.geoEckert3Raw=ea;h.geoEckert4=function(){return r.geoProjection(Ca).scale(180.739)};h.geoEckert4Raw=Ca;h.geoEckert5=function(){return r.geoProjection(Ia).scale(173.044)};h.geoEckert5Raw=Ia;h.geoEckert6=function(){return r.geoProjection(H).scale(173.044)};h.geoEckert6Raw=H;h.geoEisenlohr=function(){return r.geoProjection(da).scale(62.5271)};h.geoEisenlohrRaw=
da;h.geoFahey=function(){return r.geoProjection(ca).scale(137.152)};h.geoFaheyRaw=ca;h.geoFoucaut=function(){return r.geoProjection(X).scale(135.264)};h.geoFoucautRaw=X;h.geoFoucautSinusoidal=function(){var A=.5,D=r.geoProjectionMutator(e),N=D(A);N.alpha=function(T){return arguments.length?D(A=+T):A};return N.scale(168.725)};h.geoFoucautSinusoidalRaw=e;h.geoGilbert=function(A){function D(pa){return T([pa[0]/2,Ra(ce(pa[1]/2*vd))*Ed])}function N(pa){D[pa]=function(){return arguments.length?(T[pa].apply(T,
arguments),D):T[pa]()}}null==A&&(A=r.geoOrthographic);var T=A(),ha=r.geoEquirectangular().scale(Ed).precision(0).clipAngle(null).translate([0,0]);T.invert&&(D.invert=function(pa){return c(T.invert(pa))});D.stream=function(pa){var Ga=T.stream(pa);pa=ha.stream({point:function(db,Ua){Ga.point(db/2,Ra(ce(-Ua/2*vd))*Ed)},lineStart:function(){Ga.lineStart()},lineEnd:function(){Ga.lineEnd()},polygonStart:function(){Ga.polygonStart()},polygonEnd:function(){Ga.polygonEnd()}});pa.sphere=Ga.sphere;return pa};
D.rotate=function(pa){return arguments.length?(ha.rotate(pa),D):ha.rotate()};D.center=function(pa){return arguments.length?(T.center([pa[0]/2,Ra(ce(pa[1]/2*vd))*Ed]),D):c(T.center())};N("angle");N("clipAngle");N("clipExtent");N("fitExtent");N("fitHeight");N("fitSize");N("fitWidth");N("scale");N("translate");N("precision");return D.scale(249.5)};h.geoGingery=function(){var A=6,D=30*vd,N=Vb(D),T=$b(D),ha=r.geoProjectionMutator(f),pa=ha(D,A),Ga=pa.stream,db=-Vb(.01*vd),Ua=$b(.01*vd);pa.radius=function(lb){if(!arguments.length)return D*
Ed;N=Vb(D=lb*vd);T=$b(D);return ha(D,A)};pa.lobes=function(lb){return arguments.length?ha(D,A=+lb):A};pa.stream=function(lb){var nb=pa.rotate(),Ab=Ga(lb),Xb=(pa.rotate([0,0]),Ga(lb));pa.rotate(nb);Ab.sphere=function(){Xb.polygonStart();Xb.lineStart();for(var mc=0,Jc=2*gc/A,t=0;mc<A;++mc,t-=Jc)Xb.point(cd(Ua*Vb(t),db)*Ed,Ra(Ua*$b(t))*Ed),Xb.point(cd(T*Vb(t-Jc/2),N)*Ed,Ra(T*$b(t-Jc/2))*Ed);Xb.lineEnd();Xb.polygonEnd()};return Ab};return pa.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};h.geoGingeryRaw=
f;h.geoGinzburg4=function(){return r.geoProjection(E).scale(149.995)};h.geoGinzburg4Raw=E;h.geoGinzburg5=function(){return r.geoProjection(W).scale(153.93)};h.geoGinzburg5Raw=W;h.geoGinzburg6=function(){return r.geoProjection(Ma).scale(130.945)};h.geoGinzburg6Raw=Ma;h.geoGinzburg8=function(){return r.geoProjection(w).scale(131.747)};h.geoGinzburg8Raw=w;h.geoGinzburg9=function(){return r.geoProjection(Cb).scale(131.087)};h.geoGinzburg9Raw=Cb;h.geoGringorten=function(){return r.geoProjection(F(U)).scale(239.75)};
h.geoGringortenRaw=U;h.geoGuyou=function(){return r.geoProjection(F(Y)).scale(151.496)};h.geoGuyouRaw=Y;h.geoHammer=function(){var A=2,D=r.geoProjectionMutator(na),N=D(A);N.coefficient=function(T){return arguments.length?D(A=+T):A};return N.scale(169.529)};h.geoHammerRaw=na;h.geoHammerRetroazimuthal=function(){var A=0,D=r.geoProjectionMutator(ta),N=D(A),T=N.rotate,ha=N.stream,pa=r.geoCircle();N.parallel=function(Ga){if(!arguments.length)return A*Ed;var db=N.rotate();return D(A=Ga*vd).rotate(db)};
N.rotate=function(Ga){if(!arguments.length)return Ga=T.call(N),Ga[1]+=A*Ed,Ga;T.call(N,[Ga[0],Ga[1]-A*Ed]);pa.center([-Ga[0],-Ga[1]]);return N};N.stream=function(Ga){Ga=ha(Ga);Ga.sphere=function(){Ga.polygonStart();var db=pa.radius(89.99)().coordinates[0],Ua=db.length-1,lb=-1,nb;for(Ga.lineStart();++lb<Ua;)Ga.point((nb=db[lb])[0],nb[1]);Ga.lineEnd();db=pa.radius(90.01)().coordinates[0];for(Ga.lineStart();0<=--lb;)Ga.point((nb=db[lb])[0],nb[1]);Ga.lineEnd();Ga.polygonEnd()};return Ga};return N.scale(79.4187).parallel(45).clipAngle(179.999)};
h.geoHammerRetroazimuthalRaw=ta;h.geoHealpix=function(){var A=4,D=r.geoProjectionMutator(Q),N=D(A),T=N.stream;N.lobes=function(ha){return arguments.length?D(A=+ha):A};N.stream=function(ha){var pa=N.rotate(),Ga=T(ha),db=(N.rotate([0,0]),T(ha));N.rotate(pa);Ga.sphere=function(){var Ua=r.geoStream;var lb=180/A;var nb=[].concat(z.range(-180,180+lb/2,lb).map(ka),z.range(180,-180-lb/2,-lb).map(Da));lb={type:"Polygon",coordinates:[180===lb?nb.map(sb):nb]};Ua.call(r,lb,db)};return Ga};return N.scale(239.75)};
h.geoHealpixRaw=Q;h.geoHill=function(){var A=1,D=r.geoProjectionMutator(Ya),N=D(A);N.ratio=function(T){return arguments.length?D(A=+T):A};return N.scale(167.774).center([0,18.67])};h.geoHillRaw=Ya;h.geoHomolosine=function(){return r.geoProjection(Na).scale(152.63)};h.geoHomolosineRaw=Na;h.geoHufnagel=function(){var A=1,D=0,N=45*vd,T=2,ha=r.geoProjectionMutator(yb),pa=ha(A,D,N,T);pa.a=function(Ga){return arguments.length?ha(A=+Ga,D,N,T):A};pa.b=function(Ga){return arguments.length?ha(A,D=+Ga,N,T):
D};pa.psiMax=function(Ga){return arguments.length?ha(A,D,N=+Ga*vd,T):N*Ed};pa.ratio=function(Ga){return arguments.length?ha(A,D,N,T=+Ga):T};return pa.scale(180.739)};h.geoHufnagelRaw=yb;h.geoHyperelliptical=function(){var A=0,D=2.5,N=1.183136,T=r.geoProjectionMutator(Lb),ha=T(A,D,N);ha.alpha=function(pa){return arguments.length?T(A=+pa,D,N):A};ha.k=function(pa){return arguments.length?T(A,D=+pa,N):D};ha.gamma=function(pa){return arguments.length?T(A,D,N=+pa):N};return ha.scale(152.63)};h.geoHyperellipticalRaw=
Lb;h.geoInterrupt=Ic;h.geoInterruptedBoggs=function(){return Ic(Ta,wc).scale(160.857)};h.geoInterruptedHomolosine=function(){return Ic(Na,fc).scale(152.63)};h.geoInterruptedMollweide=function(){return Ic(dd,Tc).scale(169.529)};h.geoInterruptedMollweideHemispheres=function(){return Ic(dd,Ad).scale(169.529).rotate([20,0])};h.geoInterruptedSinuMollweide=function(){return Ic(ob,Gd,la).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};h.geoInterruptedSinusoidal=function(){return Ic(ia,Ld).scale(152.63).rotate([-20,
0])};h.geoKavrayskiy7=function(){return r.geoProjection(yc).scale(158.837)};h.geoKavrayskiy7Raw=yc;h.geoLagrange=function(){var A=.5,D=r.geoProjectionMutator(hd),N=D(A);N.spacing=function(T){return arguments.length?D(A=+T):A};return N.scale(124.75)};h.geoLagrangeRaw=hd;h.geoLarrivee=function(){return r.geoProjection(Bd).scale(97.2672)};h.geoLarriveeRaw=Bd;h.geoLaskowski=function(){return r.geoProjection(Gc).scale(139.98)};h.geoLaskowskiRaw=Gc;h.geoLittrow=function(){return r.geoProjection(jd).scale(144.049).clipAngle(89.999)};
h.geoLittrowRaw=jd;h.geoLoximuthal=function(){return K(fe).parallel(40).scale(158.837)};h.geoLoximuthalRaw=fe;h.geoMiller=function(){return r.geoProjection(Mc).scale(108.318)};h.geoMillerRaw=Mc;h.geoModifiedStereographic=Rd;h.geoModifiedStereographicRaw=zd;h.geoModifiedStereographicAlaska=function(){return Rd(ke,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};h.geoModifiedStereographicGs48=function(){return Rd(qe,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};
h.geoModifiedStereographicGs50=function(){return Rd(Nd,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};h.geoModifiedStereographicMiller=function(){return Rd(je,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};h.geoModifiedStereographicLee=function(){return Rd(ze,[165,10]).scale(250).clipAngle(130).center([-165,-10])};h.geoMollweide=function(){return r.geoProjection(dd).scale(169.529)};h.geoMollweideRaw=dd;h.geoMtFlatPolarParabolic=function(){return r.geoProjection(Db).scale(164.859)};
h.geoMtFlatPolarParabolicRaw=Db;h.geoMtFlatPolarQuartic=function(){return r.geoProjection(Zb).scale(188.209)};h.geoMtFlatPolarQuarticRaw=Zb;h.geoMtFlatPolarSinusoidal=function(){return r.geoProjection(jb).scale(166.518)};h.geoMtFlatPolarSinusoidalRaw=jb;h.geoNaturalEarth2=function(){return r.geoProjection(lc).scale(175.295)};h.geoNaturalEarth2Raw=lc;h.geoNellHammer=function(){return r.geoProjection(pc).scale(152.63)};h.geoNellHammerRaw=pc;h.geoInterruptedQuarticAuthalic=function(){return Ic(na(Infinity),
pf).rotate([20,0]).scale(152.63)};h.geoNicolosi=function(){return r.geoProjection(gd).scale(127.267)};h.geoNicolosiRaw=gd;h.geoPatterson=function(){return r.geoProjection(xd).scale(139.319)};h.geoPattersonRaw=xd;h.geoPolyconic=function(){return r.geoProjection(M).scale(103.74)};h.geoPolyconicRaw=M;h.geoPolyhedral=Gb;h.geoPolyhedralButterfly=function(A){A=A||function(N){N=r.geoCentroid({type:"MultiPoint",coordinates:N});return r.geoGnomonic().scale(1).translate([0,0]).rotate([-N[0],-N[1]])};var D=
ff.map(function(N){return{face:N,project:A(N)}});[-1,0,0,1,0,1,4,5].forEach(function(N,T){(N=D[N])&&(N.children||(N.children=[])).push(D[T])});return Gb(D[0],function(N,T){return D[N<-gc/2?0>T?6:4:0>N?0>T?2:0:N<gc/2?0>T?3:1:0>T?7:5]}).angle(-30).scale(101.858).center([0,45])};h.geoPolyhedralCollignon=function(A){A=A||function(N){N=r.geoCentroid({type:"MultiPoint",coordinates:N});return r.geoProjection(va).translate([0,0]).scale(1).rotate(0<N[1]?[-N[0],0]:[180-N[0],180])};var D=ff.map(function(N){return{face:N,
project:A(N)}});[-1,0,0,1,0,1,4,5].forEach(function(N,T){(N=D[N])&&(N.children||(N.children=[])).push(D[T])});return Gb(D[0],function(N,T){return D[N<-gc/2?0>T?6:4:0>N?0>T?2:0:N<gc/2?0>T?3:1:0>T?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};h.geoPolyhedralWaterman=function(A){A=A||function(pa){pa=6===pa.length?r.geoCentroid({type:"MultiPoint",coordinates:pa}):pa[0];return r.geoGnomonic().scale(1).translate([0,0]).rotate([-pa[0],-pa[1]])};var D=ff.map(function(pa){pa=pa.map(Sb);for(var Ga=
pa.length,db=pa[Ga-1],Ua,lb=[],nb=0;nb<Ga;++nb)Ua=pa[nb],lb.push(pb([.9486832980505138*db[0]+.31622776601683794*Ua[0],.9486832980505138*db[1]+.31622776601683794*Ua[1],.9486832980505138*db[2]+.31622776601683794*Ua[2]]),pb([.9486832980505138*Ua[0]+.31622776601683794*db[0],.9486832980505138*Ua[1]+.31622776601683794*db[1],.9486832980505138*Ua[2]+.31622776601683794*db[2]])),db=Ua;return lb}),N=[],T=[-1,0,0,1,0,1,4,5];D.forEach(function(pa,Ga){for(var db=ff[Ga],Ua=db.length,lb=N[Ga]=[],nb=0;nb<Ua;++nb){D.push([db[nb],
pa[(2*nb+2)%(2*Ua)],pa[(2*nb+1)%(2*Ua)]]);T.push(Ga);var Ab=lb,Xb=Ab.push,mc=Sb(pa[(2*nb+2)%(2*Ua)]),Jc=Sb(pa[(2*nb+1)%(2*Ua)]);Xb.call(Ab,[mc[1]*Jc[2]-mc[2]*Jc[1],mc[2]*Jc[0]-mc[0]*Jc[2],mc[0]*Jc[1]-mc[1]*Jc[0]])}});var ha=D.map(function(pa){return{project:A(pa),face:pa}});T.forEach(function(pa,Ga){(pa=ha[pa])&&(pa.children||(pa.children=[])).push(ha[Ga])});return Gb(ha[0],function(pa,Ga){var db=Vb(Ga);db=[db*Vb(pa),db*$b(pa),$b(Ga)];pa=pa<-gc/2?0>Ga?6:4:0>pa?0>Ga?2:0:pa<gc/2?0>Ga?3:1:0>Ga?7:5;Ga=
N[pa];return ha[0>Za(Ga[0],db)?8+3*pa:0>Za(Ga[1],db)?3*pa+9:0>Za(Ga[2],db)?3*pa+10:pa]}).angle(-30).scale(110.625).center([0,45])};h.geoProject=function(A,D){D=D.stream;if(!D)throw Error("invalid projection");switch(A&&A.type){case "Feature":var N=Ac;break;case "FeatureCollection":N=uc;break;default:N=Bb}return N(A,D)};h.geoGringortenQuincuncial=function(){return Tb(U).scale(176.423)};h.geoPeirceQuincuncial=function(){return Tb(Y).scale(111.48)};h.geoQuantize=function(A,D){function N(Ua){var lb=Ua.length,
nb=2,Ab=Array(lb);Ab[0]=+Ua[0].toFixed(D);for(Ab[1]=+Ua[1].toFixed(D);nb<lb;)Ab[nb]=Ua[nb],++nb;return Ab}function T(Ua){for(var lb=N(Ua[0]),nb=[lb],Ab=1;Ab<Ua.length;Ab++){var Xb=N(Ua[Ab]);if(2<Xb.length||Xb[0]!=lb[0]||Xb[1]!=lb[1])nb.push(Xb),lb=Xb}1===nb.length&&1<Ua.length&&nb.push(N(Ua[Ua.length-1]));return nb}function ha(Ua){return Ua.map(T)}function pa(Ua){if(null==Ua)return Ua;switch(Ua.type){case "GeometryCollection":var lb={type:"GeometryCollection",geometries:Ua.geometries.map(pa)};break;
case "Point":lb={type:"Point",coordinates:N(Ua.coordinates)};break;case "MultiPoint":lb={type:Ua.type,coordinates:Ua.coordinates.map(N)};break;case "LineString":lb={type:Ua.type,coordinates:T(Ua.coordinates)};break;case "MultiLineString":case "Polygon":lb={type:Ua.type,coordinates:ha(Ua.coordinates)};break;case "MultiPolygon":lb={type:"MultiPolygon",coordinates:Ua.coordinates.map(ha)};break;default:return Ua}null!=Ua.bbox&&(lb.bbox=Ua.bbox);return lb}function Ga(Ua){var lb={type:"Feature",properties:Ua.properties,
geometry:pa(Ua.geometry)};null!=Ua.id&&(lb.id=Ua.id);null!=Ua.bbox&&(lb.bbox=Ua.bbox);return lb}if(!(0<=(D=+D)&&20>=D))throw Error("invalid digits");if(null!=A)switch(A.type){case "Feature":return Ga(A);case "FeatureCollection":var db={type:"FeatureCollection",features:A.features.map(Ga)};null!=A.bbox&&(db.bbox=A.bbox);return db;default:return pa(A)}return A};h.geoQuincuncial=Tb;h.geoRectangularPolyconic=function(){return K(kc).scale(131.215)};h.geoRectangularPolyconicRaw=kc;h.geoRobinson=function(){return r.geoProjection(jc).scale(152.63)};
h.geoRobinsonRaw=jc;h.geoSatellite=function(){var A=2,D=0,N=r.geoProjectionMutator(ed),T=N(A,D);T.distance=function(ha){return arguments.length?N(A=+ha,D):A};T.tilt=function(ha){return arguments.length?N(A,D=ha*vd):D*Ed};return T.scale(432.147).clipAngle(tb(1/A)*Ed-1E-6)};h.geoSatelliteRaw=ed;h.geoSinuMollweide=function(){return r.geoProjection(ob).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};h.geoSinuMollweideRaw=ob;h.geoSinusoidal=function(){return r.geoProjection(ia).scale(152.63)};h.geoSinusoidalRaw=
ia;h.geoStitch=function(A){if(null==A)return A;switch(A.type){case "Feature":return he(A);case "FeatureCollection":var D={type:"FeatureCollection",features:A.features.map(he)};null!=A.bbox&&(D.bbox=A.bbox);return D;default:return Jd(A)}};h.geoTimes=function(){return r.geoProjection(De).scale(146.153)};h.geoTimesRaw=De;h.geoTwoPointAzimuthal=Dd;h.geoTwoPointAzimuthalRaw=le;h.geoTwoPointAzimuthalUsa=function(){return Dd([-158,21.5],[-77,39]).clipAngle(60).scale(400)};h.geoTwoPointEquidistant=V;h.geoTwoPointEquidistantRaw=
be;h.geoTwoPointEquidistantUsa=function(){return V([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};h.geoVanDerGrinten=function(){return r.geoProjection(qa).scale(79.4183)};h.geoVanDerGrintenRaw=qa;h.geoVanDerGrinten2=function(){return r.geoProjection(Ea).scale(79.4183)};h.geoVanDerGrinten2Raw=Ea;h.geoVanDerGrinten3=function(){return r.geoProjection(rb).scale(79.4183)};h.geoVanDerGrinten3Raw=rb;h.geoVanDerGrinten4=function(){return r.geoProjection(fb).scale(127.16)};h.geoVanDerGrinten4Raw=fb;
h.geoWagner=ic;h.geoWagner7=function(){return ic().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};h.geoWagnerRaw=Rb;h.geoWagner4=function(){return r.geoProjection(Df).scale(176.84)};h.geoWagner4Raw=Df;h.geoWagner6=function(){return r.geoProjection(Wc).scale(152.63)};h.geoWagner6Raw=Wc;h.geoWiechel=function(){return r.geoProjection(xc).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};h.geoWiechelRaw=xc;h.geoWinkel3=function(){return r.geoProjection(Nc).scale(158.837)};h.geoWinkel3Raw=
Nc;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[45]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(43),Qb(44)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.d3,h.d3))})(this,function(h,r,z){function Ra(hb,Ka){return function Sa(){const xa=Ka();xa.type=hb;xa.path=r.geoPath().projection(xa);xa.copy=xa.copy||function(){const ma=Sa();wb.forEach(na=>{if(xa[na])ma[na](xa[na]())});ma.path.pointRadius(xa.path.pointRadius());
return ma};return xa}}function tb(hb,Ka){if(!hb||"string"!==typeof hb)throw Error("Projection type must be a name string.");hb=hb.toLowerCase();return 1<arguments.length?(Hb[hb]=Ra(hb,Ka),this):Hb[hb]||null}const bb=r.geoPath(),wb="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Hb={albers:r.geoAlbers,albersusa:r.geoAlbersUsa,azimuthalequalarea:r.geoAzimuthalEqualArea,azimuthalequidistant:r.geoAzimuthalEquidistant,
conicconformal:r.geoConicConformal,conicequalarea:r.geoConicEqualArea,conicequidistant:r.geoConicEquidistant,equalEarth:r.geoEqualEarth,equirectangular:r.geoEquirectangular,gnomonic:r.geoGnomonic,identity:r.geoIdentity,mercator:r.geoMercator,mollweide:z.geoMollweide,naturalEarth1:r.geoNaturalEarth1,orthographic:r.geoOrthographic,stereographic:r.geoStereographic,transversemercator:r.geoTransverseMercator};for(const hb in Hb)tb(hb,Hb[hb]);h.getProjectionPath=function(hb){return hb&&hb.path||bb};h.projection=
tb;h.projectionProperties=wb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[46]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(29),Qb(17),Qb(18),Qb(31),Qb(45),Qb(43),Qb(36),Qb(35)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3,h.vega,h.vega,h.d3,h.d3,h.vega))})(this,function(h,r,z,Ra,
tb,bb,wb,Hb,hb){function Ka(){}function Ha(){function X(w,F){return F.map(U=>e(w,U))}function e(w,F){var U=[],wa=[];c(w,F,cb=>{q(cb,w,F);for(var gb=0,Y=cb.length,ta=cb[Y-1][1]*cb[0][0]-cb[Y-1][0]*cb[0][1];++gb<Y;)ta+=cb[gb-1][1]*cb[gb][0]-cb[gb-1][0]*cb[gb][1];0<ta?U.push([cb]):wa.push(cb)});wa.forEach(cb=>{for(var gb=0,Y=U.length,ta;gb<Y;++gb){a:{var G=(ta=U[gb])[0];for(var Q=cb,ka=-1,Da=Q.length;++ka<Da;){b:{var sb=G;for(var Ya=Q[ka],ob=Ya[0],Na=Ya[1],yb=-1,Fb=0,eb=sb.length,Lb=eb-1;Fb<eb;Lb=Fb++){var hc=
sb[Fb],Yb=hc[0],Ic=hc[1],yc=sb[Lb];Lb=yc[0];var hd=yc[1],Bd,Gc=hc;hc=yc;yc=Ya;if(Bd=(hc[0]-Gc[0])*(yc[1]-Gc[1])===(yc[0]-Gc[0])*(hc[1]-Gc[1]))Gc=Gc[Bd=+(Gc[0]===hc[0])],yc=yc[Bd],hc=hc[Bd],Bd=Gc<=yc&&yc<=hc||hc<=yc&&yc<=Gc;if(Bd){sb=0;break b}Ic>Na!==hd>Na&&ob<(Lb-Yb)*(Na-Ic)/(hd-Ic)+Yb&&(yb=-yb)}sb=yb}if(sb){G=sb;break a}}G=0}if(-1!==G){ta.push(cb);break}}});return{type:"MultiPolygon",value:F,coordinates:U}}function c(w,F,U){function wa(sb){var Ya=[sb[0][0]+ta,sb[0][1]+Y];sb=[sb[1][0]+ta,sb[1][1]+
Y];var ob=2*Ya[0]+Ya[1]*(l+1)*4,Na=2*sb[0]+sb[1]*(l+1)*4,yb,Fb;(yb=gb[ob])?(Fb=cb[Na])?(delete gb[yb.end],delete cb[Fb.start],yb===Fb?(yb.ring.push(sb),U(yb.ring)):cb[yb.start]=gb[Fb.end]={start:yb.start,end:Fb.end,ring:yb.ring.concat(Fb.ring)}):(delete gb[yb.end],yb.ring.push(sb),gb[yb.end=Na]=yb):(yb=cb[Na])?(Fb=gb[ob])?(delete cb[yb.start],delete gb[Fb.end],yb===Fb?(yb.ring.push(sb),U(yb.ring)):cb[Fb.start]=gb[yb.end]={start:Fb.start,end:yb.end,ring:Fb.ring.concat(yb.ring)}):(delete cb[yb.start],
yb.ring.unshift(Ya),cb[yb.start=ob]=yb):cb[ob]=gb[Na]={start:ob,end:Na,ring:[Ya,sb]}}var cb=[],gb=[],Y;var ta=Y=-1;var G=w[0]>=F;for(da[G<<1].forEach(wa);++ta<l-1;){var Q=G;G=w[ta+1]>=F;da[Q|G<<1].forEach(wa)}for(da[G<<0].forEach(wa);++Y<m-1;){ta=-1;G=w[Y*l+l]>=F;var ka=w[Y*l]>=F;for(da[G<<1|ka<<2].forEach(wa);++ta<l-1;){Q=G;G=w[Y*l+l+ta+1]>=F;var Da=ka;ka=w[Y*l+ta+1]>=F;da[Q|G<<1|ka<<2|Da<<3].forEach(wa)}da[G|ka<<3].forEach(wa)}ta=-1;ka=w[Y*l]>=F;for(da[ka<<2].forEach(wa);++ta<l-1;)Da=ka,ka=w[Y*
l+ta+1]>=F,da[ka<<2|Da<<3].forEach(wa);da[ka<<3].forEach(wa)}function f(w,F,U){w.forEach(wa=>{var cb=wa[0],gb=wa[1],Y=cb|0,ta=gb|0,G=F[ta*l+Y];if(0<cb&&cb<l&&Y===cb){var Q=F[ta*l+Y-1];wa[0]=cb+(U-Q)/(G-Q)-.5}0<gb&&gb<m&&ta===gb&&(Q=F[(ta-1)*l+Y],wa[1]=gb+(U-Q)/(G-Q)-.5)})}var l=1,m=1,q=f;X.contour=e;X.size=function(w){if(!arguments.length)return[l,m];var F=Math.floor(w[0]),U=Math.floor(w[1]);0<=F&&0<=U||z.error("invalid size");return l=F,m=U,X};X.smooth=function(w){return arguments.length?(q=w?f:
Ka,X):q===f};return X}function Sa(X,e,c){return function(f){var l=z.extent(f);f=c?Math.min(l[0],0):l[0];l=l[1];var m=l-f;m=e?Ra.tickStep(f,l,X):m/(X+1);return Ra.range(f+m,l,m)}}function xa(X){r.Transform.call(this,null,X)}function ma(X,e,c){const f=Sa(c.levels||10,c.nice,!1!==c.zero);return"shared"!==c.resolve?f:f(X.map(l=>Ra.max(e(l).values)))}function na(X,e,c,f){var l=f.scale||e.scale;let m=f.translate||e.translate;z.isFunction(l)&&(l=l(c,f));z.isFunction(m)&&(m=m(c,f));if(1!==l&&null!=l||m)c=
(z.isNumber(l)?l:l[0])||1,l=(z.isNumber(l)?l:l[1])||1,X.forEach(Ba(e,c,l,m&&m[0]||0,m&&m[1]||0))}function Ba(X,e,c,f,l){function m(cb){cb.forEach(q)}function q(cb){wa&&cb.reverse();cb.forEach(w)}function w(cb){cb[0]=(cb[0]-F)*e+f;cb[1]=(cb[1]-U)*c+l}const F=X.x1||0,U=X.y1||0,wa=0>e*c;return function(cb){cb.coordinates.forEach(m);return cb}}function Fa(X,e,c){X=0<=X?X:tb.bandwidthNRD(e,c);return Math.round((Math.sqrt(4*X*X+1)-1)/2)}function la(X){return z.isFunction(X)?X:z.constant(+X)}function ra(){function X(F,
U){const wa=Fa(l[0],F,e)>>w,cb=Fa(l[1],F,c)>>w,gb=wa?wa+2:0,Y=cb?cb+2:0,ta=2*gb+(m>>w),G=2*Y+(q>>w),Q=new Float32Array(ta*G),ka=new Float32Array(ta*G);let Da=Q;F.forEach(sb=>{const Ya=gb+(+e(sb)>>w),ob=Y+(+c(sb)>>w);0<=Ya&&Ya<ta&&0<=ob&&ob<G&&(Q[Ya+ob*ta]+=+f(sb))});0<wa&&0<cb?(Qa(ta,G,Q,ka,wa),za(ta,G,ka,Q,cb),Qa(ta,G,Q,ka,wa),za(ta,G,ka,Q,cb),Qa(ta,G,Q,ka,wa),za(ta,G,ka,Q,cb)):0<wa?(Qa(ta,G,Q,ka,wa),Qa(ta,G,ka,Q,wa),Qa(ta,G,Q,ka,wa),Da=ka):0<cb&&(za(ta,G,Q,ka,cb),za(ta,G,ka,Q,cb),za(ta,G,Q,ka,cb),
Da=ka);F=U?Math.pow(2,-2*w):1/Ra.sum(Da);for(let sb=0,Ya=ta*G;sb<Ya;++sb)Da[sb]*=F;return{values:Da,scale:1<<w,width:ta,height:G,x1:gb,y1:Y,x2:gb+(m>>w),y2:Y+(q>>w)}}var e=F=>F[0],c=F=>F[1],f=z.one,l=[-1,-1],m=960,q=500,w=2;X.x=function(F){return arguments.length?(e=la(F),X):e};X.y=function(F){return arguments.length?(c=la(F),X):c};X.weight=function(F){return arguments.length?(f=la(F),X):f};X.size=function(F){if(!arguments.length)return[m,q];var U=+F[0],wa=+F[1];0<=U&&0<=wa||z.error("invalid size");
return m=U,q=wa,X};X.cellSize=function(F){if(!arguments.length)return 1<<w;1<=(F=+F)||z.error("invalid cell size");w=Math.floor(Math.log(F)/Math.LN2);return X};X.bandwidth=function(F){if(!arguments.length)return l;F=z.array(F);1===F.length&&(F=[+F[0],+F[0]]);2!==F.length&&z.error("invalid bandwidth");return l=F,X};return X}function Qa(X,e,c,f,l){const m=(l<<1)+1;for(let q=0;q<e;++q)for(let w=0,F=0;w<X+l;++w)w<X&&(F+=c[w+q*X]),w>=l&&(w>=m&&(F-=c[w-m+q*X]),f[w-l+q*X]=F/Math.min(w+1,X-1+m-w,m))}function za(X,
e,c,f,l){const m=(l<<1)+1;for(let q=0;q<X;++q)for(let w=0,F=0;w<e+l;++w)w<e&&(F+=c[q+w*X]),w>=l&&(w>=m&&(F-=c[q+(w-m)*X]),f[q+(w-l)*X]=F/Math.min(w+1,e-1+m-w,m))}function Ta(X){r.Transform.call(this,null,X)}function K(X,e){ca.forEach(c=>null!=e[c]?X[c](e[c]):0);return X}function ia(X,e){var c=[],f=wa=>wa(w),l;if(null==e)c.push(X);else{var m={};var q=0;for(l=X.length;q<l;++q){var w=X[q];var F=e.map(f);var U=m[F];U||(m[F]=U=[],U.dims=F,c.push(U));U.push(w)}}return c}function ya(X){r.Transform.call(this,
null,X)}function ua(X){r.Transform.call(this,null,X)}function La(X){r.Transform.call(this,null,X)}function Oa(X,e){const c=X.pointRadius();X.context(null);null!=e&&X.pointRadius(e);return c}function Aa(X){r.Transform.call(this,null,X)}function ab(X){r.Transform.call(this,null,X)}function Va(X,e,c){const f=null==c?l=>X(e(l)):l=>{var m=X.pointRadius();l=X.pointRadius(c)(e(l));X.pointRadius(m);return l};f.context=l=>{X.context(l);return f};return f}function I(X){r.Transform.call(this,[],X);this.generator=
wb.geoGraticule()}function x(X){r.Transform.call(this,null,X)}function L(X,e){let c;z.isFunction(X)?(c=f=>Hb.rgb(X(f,e)),c.dep=B(X)):c=z.constant(Hb.rgb(X||"#888"));return c}function J(X,e){let c;z.isFunction(X)?(c=f=>X(f,e),c.dep=B(X)):X?c=z.constant(X):(c=f=>f.$value/f.$max||0,c.dep=!0);return c}function B(X){if(!z.isFunction(X))return!1;X=z.toSet(z.accessorFields(X));return X.$x||X.$y||X.$value||X.$max}function R(X,e,c,f){const l=X.width;var m=X.height;const q=X.x1||0,w=X.y1||0,F=X.x2||l;m=X.y2||
m;const U=X.values;X=U?ta=>U[ta]:z.zero;const wa=hb.canvas(F-q,m-w),cb=wa.getContext("2d"),gb=cb.getImageData(0,0,F-q,m-w),Y=gb.data;for(let ta=w,G=0;ta<m;++ta){e.$y=ta-w;for(let Q=q,ka=ta*l;Q<F;++Q,G+=4){e.$x=Q-q;e.$value=X(Q+ka);const Da=c(e);Y[G+0]=Da.r;Y[G+1]=Da.g;Y[G+2]=Da.b;Y[G+3]=~~(255*f(e))}}cb.putImageData(gb,0,0);return wa}function aa(X){r.Transform.call(this,null,X);this.modified(!0)}function ea(X,e){const c=Ia(e.fit);e.extent?X.fitExtent(e.extent,c):e.size?X.fitSize(e.size,c):0}function Ca(X){const e=
bb.projection((X||"mercator").toLowerCase());e||z.error("Unrecognized projection type: "+X);return e()}function Ia(X){X=z.array(X);return 1===X.length?X[0]:{type:"FeatureCollection",features:X.reduce((e,c)=>e.concat(H(c)),[])}}function H(X){return"FeatureCollection"===X.type?X.features:z.array(X).filter(e=>null!=e).map(e=>"Feature"===e.type?e:{type:"Feature",geometry:e})}const da=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,
.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];xa.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean",
"default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};z.inherits(xa,r.Transform,{transform(X,e){if(this.value&&!e.changed()&&!X.modified())return e.StopPropagation;var c=e.fork(e.NO_SOURCE|e.NO_FIELDS);e=e.materialize(e.SOURCE).source;var f=X.field||z.identity,l=Ha().smooth(!1!==X.smooth),m=X.thresholds||ma(e,f,X),q=null===X.as?null:X.as||"contour",w=
[];e.forEach(F=>{const U=f(F),wa=l.size([U.width,U.height])(U.values,z.isArray(m)?m:m(U.values));na(wa,U,F,X);wa.forEach(cb=>{w.push(r.rederive(F,r.ingest(null!=q?{[q]:cb}:cb)))})});this.value&&(c.rem=this.value);this.value=c.source=c.add=w;return c}});Ta.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const ca="x y weight size cellSize bandwidth".split(" ");z.inherits(Ta,r.Transform,{transform(X,e){if(this.value&&!e.changed()&&!X.modified())return e.StopPropagation;var c=e.fork(e.NO_SOURCE|e.NO_FIELDS);e=e.materialize(e.SOURCE).source;e=ia(e,X.groupby);var f=(X.groupby||[]).map(z.accessorName),l=K(ra(),X),m=X.as||"grid",
q=[];q=e.map(w=>{var F=r.ingest,U={[m]:l(w,X.counts)};w=w.dims;for(let wa=0;wa<f.length;++wa)U[f[wa]]=w[wa];return F.call(r,U)});this.value&&(c.rem=this.value);this.value=c.source=c.add=q;return c}});ya.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},
{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};z.inherits(ya,r.Transform,{transform(X,e){if(this.value&&!e.changed()&&!X.modified())return e.StopPropagation;var c=e.fork(e.NO_SOURCE|e.NO_FIELDS),f=Ha().smooth(!1!==X.smooth),l=X.values,m=X.thresholds||Sa(X.count||10,X.nice,!!l),q=X.size;if(!l){l=e.materialize(e.SOURCE).source;X=K(ra(),X)(l,!0);var w=Ba(X,X.scale||1,X.scale||1,0,0);q=[X.width,
X.height];l=X.values}m=z.isArray(m)?m:m(l);l=f.size(q)(l,m);w&&l.forEach(w);this.value&&(c.rem=this.value);this.value=c.source=c.add=(l||[]).map(r.ingest);return c}});ua.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};z.inherits(ua,r.Transform,{transform(X,e){var c=this._features,f=this._points,l=X.fields,m=l&&l[0],q=l&&l[1],w=X.geojson||!l&&z.identity;l=e.ADD;X=X.modified()||e.changed(e.REM)||e.modified(z.accessorFields(w))||
m&&e.modified(z.accessorFields(m))||q&&e.modified(z.accessorFields(q));if(!this.value||X)l=e.SOURCE,this._features=c=[],this._points=f=[];w&&e.visit(l,F=>c.push(w(F)));m&&q&&(e.visit(l,F=>{var U=m(F);F=q(F);null!=U&&null!=F&&(U=+U)===U&&(F=+F)===F&&f.push([U,F])}),c=c.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:f}}));this.value={type:"FeatureCollection",features:c}}});La.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",
type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};z.inherits(La,r.Transform,{transform(X,e){var c=e.fork(e.ALL),f=this.value,l=X.field||z.identity,m=X.as||"path",q=c.SOURCE;!f||X.modified()?(this.value=f=bb.getProjectionPath(X.projection),c.materialize().reflow()):q=l===z.identity||e.modified(l.fields)?c.ADD_MOD:c.ADD;X=Oa(f,X.pointRadius);c.visit(q,w=>w[m]=f(l(w)));f.pointRadius(X);return c.modifies(m)}});Aa.Definition={type:"GeoPoint",metadata:{modifies:!0},
params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};z.inherits(Aa,r.Transform,{transform(X,e){function c(U){const wa=f([l(U),m(U)]);wa?(U[w]=wa[0],U[F]=wa[1]):(U[w]=void 0,U[F]=void 0)}var f=X.projection,l=X.fields[0],m=X.fields[1],q=X.as||["x","y"],w=q[0],F=q[1];X.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,c):(X=e.modified(l.fields)||e.modified(m.fields),
e.visit(X?e.ADD_MOD:e.ADD,c));return e.modifies(q)}});ab.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};z.inherits(ab,r.Transform,{transform(X,e){e=e.fork(e.ALL);var c=this.value,f=X.as||"shape",l=e.ADD;if(!c||X.modified())this.value=c=Va(bb.getProjectionPath(X.projection),X.field||z.field("datum"),X.pointRadius),
e.materialize().reflow(),l=e.SOURCE;e.visit(l,m=>m[f]=c);return e.modifies(f)}});I.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",
array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};z.inherits(I,r.Transform,{transform(X,e){var c=this.value,f=this.generator;if(!c.length||X.modified())for(const l in X)if(z.isFunction(f[l]))f[l](X[l]);X=f();c.length?e.mod.push(r.replace(c[0],X)):e.add.push(r.ingest(X));c[0]=X;return e}});x.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",
expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};z.inherits(x,r.Transform,{transform(X,e){if(!e.changed()&&!X.modified())return e.StopPropagation;var c=e.materialize(e.SOURCE).source,f="shared"===X.resolve,l=X.field||z.identity,m=J(X.opacity,X),q=L(X.color,X),w=X.as||"image",F={$x:0,$y:0,$value:0,$max:f?Ra.max(c.map(U=>Ra.max(l(U).values))):0};c.forEach(U=>{const wa=l(U),
cb=z.extend({},U,F);f||(cb.$max=Ra.max(wa.values||[]));U[w]=R(wa,cb,q.dep?q:z.constant(q(cb)),m.dep?m:z.constant(m(cb)))});return e.reflow(!0).modifies(w)}});z.inherits(aa,r.Transform,{transform(X,e){let c=this.value;!c||X.modified("type")?(this.value=c=Ca(X.type),bb.projectionProperties.forEach(f=>{if(null!=X[f]){var l=c,m=X[f];if(z.isFunction(l[f]))l[f](m)}})):bb.projectionProperties.forEach(f=>{if(X.modified(f)){var l=c,m=X[f];if(z.isFunction(l[f]))l[f](m)}});null!=X.pointRadius&&c.path.pointRadius(X.pointRadius);
X.fit&&ea(c,X);return e.fork(e.NO_SOURCE|e.NO_FIELDS)}});h.contour=ya;h.geojson=ua;h.geopath=La;h.geopoint=Aa;h.geoshape=ab;h.graticule=I;h.heatmap=x;h.isocontour=xa;h.kde2d=Ta;h.projection=aa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[47]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(Ka,Ha,Sa,xa){if(isNaN(Ha)||isNaN(Sa))return Ka;var ma,na=Ka._root;xa={data:xa};var Ba=Ka._x0,Fa=Ka._y0,la=Ka._x1,ra=Ka._y1,Qa,za,Ta,K;if(!na)return Ka._root=xa,Ka;for(;na.length;)if((Ta=Ha>=(Qa=(Ba+la)/2))?Ba=Qa:la=Qa,(K=Sa>=(za=(Fa+ra)/2))?Fa=za:ra=za,ma=na,!(na=na[Ta|=K<<
1]))return ma[Ta]=xa,Ka;var ia=+Ka._x.call(null,na.data);var ya=+Ka._y.call(null,na.data);if(Ha===ia&&Sa===ya)return xa.next=na,ma?ma[Ta]=xa:Ka._root=xa,Ka;do ma=ma?ma[Ta]=Array(4):Ka._root=Array(4),(Ta=Ha>=(Qa=(Ba+la)/2))?Ba=Qa:la=Qa,(K=Sa>=(za=(Fa+ra)/2))?Fa=za:ra=za;while((Ta|=K<<1)===(K=(ya>=za)<<1|ia>=Qa));return ma[K]=na,ma[Ta]=xa,Ka}function z(Ka,Ha,Sa,xa,ma){this.node=Ka;this.x0=Ha;this.y0=Sa;this.x1=xa;this.y1=ma}function Ra(Ka){return Ka[0]}function tb(Ka){return Ka[1]}function bb(Ka,Ha,
Sa){Ha=new wb(null==Ha?Ra:Ha,null==Sa?tb:Sa,NaN,NaN,NaN,NaN);return null==Ka?Ha:Ha.addAll(Ka)}function wb(Ka,Ha,Sa,xa,ma,na){this._x=Ka;this._y=Ha;this._x0=Sa;this._y0=xa;this._x1=ma;this._y1=na;this._root=void 0}function Hb(Ka){for(var Ha={data:Ka.data},Sa=Ha;Ka=Ka.next;)Sa=Sa.next={data:Ka.data};return Ha}var hb=bb.prototype=wb.prototype;hb.copy=function(){var Ka=new wb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ha=this._root,Sa,xa;if(!Ha)return Ka;if(!Ha.length)return Ka._root=Hb(Ha),
Ka;for(Sa=[{source:Ha,target:Ka._root=Array(4)}];Ha=Sa.pop();)for(var ma=0;4>ma;++ma)if(xa=Ha.source[ma])xa.length?Sa.push({source:xa,target:Ha.target[ma]=Array(4)}):Ha.target[ma]=Hb(xa);return Ka};hb.add=function(Ka){const Ha=+this._x.call(null,Ka),Sa=+this._y.call(null,Ka);return r(this.cover(Ha,Sa),Ha,Sa,Ka)};hb.addAll=function(Ka){var Ha,Sa,xa=Ka.length,ma,na,Ba=Array(xa),Fa=Array(xa),la=Infinity,ra=Infinity,Qa=-Infinity,za=-Infinity;for(Sa=0;Sa<xa;++Sa)isNaN(ma=+this._x.call(null,Ha=Ka[Sa]))||
isNaN(na=+this._y.call(null,Ha))||(Ba[Sa]=ma,Fa[Sa]=na,ma<la&&(la=ma),ma>Qa&&(Qa=ma),na<ra&&(ra=na),na>za&&(za=na));if(la>Qa||ra>za)return this;this.cover(la,ra).cover(Qa,za);for(Sa=0;Sa<xa;++Sa)r(this,Ba[Sa],Fa[Sa],Ka[Sa]);return this};hb.cover=function(Ka,Ha){if(isNaN(Ka=+Ka)||isNaN(Ha=+Ha))return this;var Sa=this._x0,xa=this._y0,ma=this._x1,na=this._y1;if(isNaN(Sa))ma=(Sa=Math.floor(Ka))+1,na=(xa=Math.floor(Ha))+1;else{for(var Ba=ma-Sa||1,Fa=this._root,la,ra;Sa>Ka||Ka>=ma||xa>Ha||Ha>=na;)switch(ra=
(Ha<xa)<<1|Ka<Sa,la=Array(4),la[ra]=Fa,Fa=la,Ba*=2,ra){case 0:ma=Sa+Ba;na=xa+Ba;break;case 1:Sa=ma-Ba;na=xa+Ba;break;case 2:ma=Sa+Ba;xa=na-Ba;break;case 3:Sa=ma-Ba,xa=na-Ba}this._root&&this._root.length&&(this._root=Fa)}this._x0=Sa;this._y0=xa;this._x1=ma;this._y1=na;return this};hb.data=function(){var Ka=[];this.visit(function(Ha){if(!Ha.length){do Ka.push(Ha.data);while(Ha=Ha.next)}});return Ka};hb.extent=function(Ka){return arguments.length?this.cover(+Ka[0][0],+Ka[0][1]).cover(+Ka[1][0],+Ka[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};hb.find=function(Ka,Ha,Sa){var xa=this._x0,ma=this._y0,na,Ba,Fa,la,ra=this._x1,Qa=this._y1,za=[],Ta=this._root,K;Ta&&za.push(new z(Ta,xa,ma,ra,Qa));null==Sa?Sa=Infinity:(xa=Ka-Sa,ma=Ha-Sa,ra=Ka+Sa,Qa=Ha+Sa,Sa*=Sa);for(;K=za.pop();)if(!(!(Ta=K.node)||(na=K.x0)>ra||(Ba=K.y0)>Qa||(Fa=K.x1)<xa||(la=K.y1)<ma))if(Ta.length){K=(na+Fa)/2;var ia=(Ba+la)/2;za.push(new z(Ta[3],K,ia,Fa,la),new z(Ta[2],na,ia,K,la),new z(Ta[1],K,Ba,Fa,ia),new z(Ta[0],
na,Ba,K,ia));if(Ta=(Ha>=ia)<<1|Ka>=K)K=za[za.length-1],za[za.length-1]=za[za.length-1-Ta],za[za.length-1-Ta]=K}else if(K=Ka-+this._x.call(null,Ta.data),ia=Ha-+this._y.call(null,Ta.data),K=K*K+ia*ia,K<Sa){var ya=Math.sqrt(Sa=K);xa=Ka-ya;ma=Ha-ya;ra=Ka+ya;Qa=Ha+ya;ya=Ta.data}return ya};hb.remove=function(Ka){if(isNaN(la=+this._x.call(null,Ka))||isNaN(ra=+this._y.call(null,Ka)))return this;var Ha,Sa=this._root,xa,ma=this._x0,na=this._y0,Ba=this._x1,Fa=this._y1,la,ra,Qa,za,Ta,K;if(!Sa)return this;if(Sa.length)for(;;){(Ta=
la>=(Qa=(ma+Ba)/2))?ma=Qa:Ba=Qa;(K=ra>=(za=(na+Fa)/2))?na=za:Fa=za;if(!(Ha=Sa,Sa=Sa[Ta|=K<<1]))return this;if(!Sa.length)break;if(Ha[Ta+1&3]||Ha[Ta+2&3]||Ha[Ta+3&3]){var ia=Ha;var ya=Ta}}for(;Sa.data!==Ka;)if(!(xa=Sa,Sa=Sa.next))return this;(Ka=Sa.next)&&delete Sa.next;if(xa)return Ka?xa.next=Ka:delete xa.next,this;if(!Ha)return this._root=Ka,this;Ka?Ha[Ta]=Ka:delete Ha[Ta];(Sa=Ha[0]||Ha[1]||Ha[2]||Ha[3])&&Sa===(Ha[3]||Ha[2]||Ha[1]||Ha[0])&&!Sa.length&&(ia?ia[ya]=Sa:this._root=Sa);return this};hb.removeAll=
function(Ka){for(var Ha=0,Sa=Ka.length;Ha<Sa;++Ha)this.remove(Ka[Ha]);return this};hb.root=function(){return this._root};hb.size=function(){var Ka=0;this.visit(function(Ha){if(!Ha.length){do++Ka;while(Ha=Ha.next)}});return Ka};hb.visit=function(Ka){var Ha=[],Sa,xa=this._root,ma,na,Ba,Fa;for(xa&&Ha.push(new z(xa,this._x0,this._y0,this._x1,this._y1));Sa=Ha.pop();)if(!Ka(xa=Sa.node,na=Sa.x0,Ba=Sa.y0,Fa=Sa.x1,Sa=Sa.y1)&&xa.length){var la=(na+Fa)/2,ra=(Ba+Sa)/2;(ma=xa[3])&&Ha.push(new z(ma,la,ra,Fa,Sa));
(ma=xa[2])&&Ha.push(new z(ma,na,ra,la,Sa));(ma=xa[1])&&Ha.push(new z(ma,la,Ba,Fa,ra));(ma=xa[0])&&Ha.push(new z(ma,na,Ba,la,ra))}return this};hb.visitAfter=function(Ka){var Ha=[],Sa=[],xa;for(this._root&&Ha.push(new z(this._root,this._x0,this._y0,this._x1,this._y1));xa=Ha.pop();){var ma=xa.node;if(ma.length){var na,Ba=xa.x0,Fa=xa.y0,la=xa.x1,ra=xa.y1,Qa=(Ba+la)/2,za=(Fa+ra)/2;(na=ma[0])&&Ha.push(new z(na,Ba,Fa,Qa,za));(na=ma[1])&&Ha.push(new z(na,Qa,Fa,la,za));(na=ma[2])&&Ha.push(new z(na,Ba,za,Qa,
ra));(na=ma[3])&&Ha.push(new z(na,Qa,za,la,ra))}Sa.push(xa)}for(;xa=Sa.pop();)Ka(xa.node,xa.x0,xa.y0,xa.x1,xa.y1);return this};hb.x=function(Ka){return arguments.length?(this._x=Ka,this):this._x};hb.y=function(Ka){return arguments.length?(this._y=Ka,this):this._y};h.quadtree=bb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[48]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(){for(var wb=0,Hb=arguments.length,hb={},Ka;wb<Hb;++wb){if(!(Ka=arguments[wb]+"")||Ka in hb||/[\s.]/.test(Ka))throw Error("illegal type: "+Ka);hb[Ka]=[]}return new z(hb)}function z(wb){this._=wb}function Ra(wb,Hb){return wb.trim().split(/^|\s+/).map(function(hb){var Ka="",
Ha=hb.indexOf(".");0<=Ha&&(Ka=hb.slice(Ha+1),hb=hb.slice(0,Ha));if(hb&&!Hb.hasOwnProperty(hb))throw Error("unknown type: "+hb);return{type:hb,name:Ka}})}function tb(wb,Hb,hb){for(var Ka=0,Ha=wb.length;Ka<Ha;++Ka)if(wb[Ka].name===Hb){wb[Ka]=bb;wb=wb.slice(0,Ka).concat(wb.slice(Ka+1));break}null!=hb&&wb.push({name:Hb,value:hb});return wb}var bb={value:()=>{}};z.prototype=r.prototype={constructor:z,on:function(wb,Hb){var hb=this._,Ka=Ra(wb+"",hb),Ha,Sa=-1,xa=Ka.length;if(2>arguments.length)for(;++Sa<
xa;){var ma;if(ma=Ha=(wb=Ka[Sa]).type){a:{ma=hb[Ha];for(var na=0,Ba=ma.length;na<Ba;++na)if((Ha=ma[na]).name===wb.name){Ha=Ha.value;break a}Ha=void 0}ma=Ha}if(ma)return Ha}else{if(null!=Hb&&"function"!==typeof Hb)throw Error("invalid callback: "+Hb);for(;++Sa<xa;)if(Ha=(wb=Ka[Sa]).type)hb[Ha]=tb(hb[Ha],wb.name,Hb);else if(null==Hb)for(Ha in hb)hb[Ha]=tb(hb[Ha],wb.name,null);return this}},copy:function(){var wb={},Hb=this._,hb;for(hb in Hb)wb[hb]=Hb[hb].slice();return new z(wb)},call:function(wb,Hb){if(0<
(Ha=arguments.length-2))for(var hb=Array(Ha),Ka=0,Ha,Sa;Ka<Ha;++Ka)hb[Ka]=arguments[Ka+2];if(!this._.hasOwnProperty(wb))throw Error("unknown type: "+wb);Sa=this._[wb];Ka=0;for(Ha=Sa.length;Ka<Ha;++Ka)Sa[Ka].value.apply(Hb,hb)},apply:function(wb,Hb,hb){if(!this._.hasOwnProperty(wb))throw Error("unknown type: "+wb);wb=this._[wb];for(var Ka=0,Ha=wb.length;Ka<Ha;++Ka)wb[Ka].value.apply(Hb,hb)}};h.dispatch=r;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[49]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(){return Ba||(ra(z),Ba=la.now()+Fa)}function z(){Ba=0}function Ra(){this._call=this._time=this._next=null}function tb(Qa,za,Ta){var K=new Ra;K.restart(Qa,za,Ta);return K}function bb(){r();++Ka;for(var Qa=xa,za;Qa;)0<=(za=Ba-Qa._time)&&Qa._call.call(null,za),Qa=Qa._next;--Ka}
function wb(){Ba=(na=la.now())+Fa;Ka=Ha=0;try{bb()}finally{Ka=0;for(var Qa,za=xa,Ta,K=Infinity;za;)za._call?(K>za._time&&(K=za._time),Qa=za,za=za._next):(Ta=za._next,za._next=null,za=Qa?Qa._next=Ta:xa=Ta);ma=Qa;hb(K);Ba=0}}function Hb(){var Qa=la.now(),za=Qa-na;1E3<za&&(Fa-=za,na=Qa)}function hb(Qa){Ka||(Ha&&(Ha=clearTimeout(Ha)),24<Qa-Ba?(Infinity>Qa&&(Ha=setTimeout(wb,Qa-la.now()-Fa)),Sa&&(Sa=clearInterval(Sa))):(Sa||(na=la.now(),Sa=setInterval(Hb,1E3)),Ka=1,ra(wb)))}var Ka=0,Ha=0,Sa=0,xa,ma,na=
0,Ba=0,Fa=0,la="object"===typeof performance&&performance.now?performance:Date,ra="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Qa){setTimeout(Qa,17)};Ra.prototype=tb.prototype={constructor:Ra,restart:function(Qa,za,Ta){if("function"!==typeof Qa)throw new TypeError("callback is not a function");Ta=(null==Ta?r():+Ta)+(null==za?0:+za);this._next||ma===this||(ma?ma._next=this:xa=this,ma=this);this._call=Qa;this._time=Ta;hb()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,hb())}};h.interval=function(Qa,za,Ta){var K=new Ra,ia=za;if(null==za)return K.restart(Qa,za,Ta),K;K._restart=K.restart;K.restart=function(ya,ua,La){ua=+ua;La=null==La?r():+La;K._restart(function ab(Aa){Aa+=ia;K._restart(ab,ia+=ua,La);ya(Aa)},ua,La)};K.restart(Qa,za,Ta);return K};h.now=r;h.timeout=function(Qa,za,Ta){var K=new Ra;za=null==za?0:+za;K.restart(ia=>{K.stop();Qa(ia+za)},za,Ta);return K};h.timer=tb;h.timerFlush=bb;Object.defineProperty(h,"__esModule",
{value:!0})})};
shadow$provide[50]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(47),Qb(48),Qb(49)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],r):(h=h||self,r(h.d3=h.d3||{},h.d3,h.d3,h.d3))})(this,function(h,r,z,Ra){function tb(ma){return function(){return ma}}function bb(ma){return ma.x+ma.vx}function wb(ma){return ma.y+ma.vy}function Hb(ma){return ma.index}function hb(ma,na){ma=ma.get(na);if(!ma)throw Error("node not found: "+
na);return ma}function Ka(){let ma=1;return()=>(ma=(1664525*ma+1013904223)%4294967296)/4294967296}function Ha(ma){return ma.x}function Sa(ma){return ma.y}var xa=Math.PI*(3-Math.sqrt(5));h.forceCenter=function(ma,na){function Ba(){var ra,Qa=Fa.length,za=0,Ta=0;for(ra=0;ra<Qa;++ra){var K=Fa[ra];za+=K.x;Ta+=K.y}za=(za/Qa-ma)*la;Ta=(Ta/Qa-na)*la;for(ra=0;ra<Qa;++ra)K=Fa[ra],K.x-=za,K.y-=Ta}var Fa,la=1;null==ma&&(ma=0);null==na&&(na=0);Ba.initialize=function(ra){Fa=ra};Ba.x=function(ra){return arguments.length?
(ma=+ra,Ba):ma};Ba.y=function(ra){return arguments.length?(na=+ra,Ba):na};Ba.strength=function(ra){return arguments.length?(la=+ra,Ba):la};return Ba};h.forceCollide=function(ma){function na(){function K(x,L,J,B,R){var aa=x.data;x=x.r;var ea=ab+x;if(aa)aa.index>La.index&&(L=Oa-aa.x-aa.vx,J=Aa-aa.y-aa.vy,B=L*L+J*J,B<ea*ea&&(0===L&&(L=1E-6*(Qa()-.5),B+=L*L),0===J&&(J=1E-6*(Qa()-.5),B+=J*J),B=(ea-(B=Math.sqrt(B)))/B*za,La.vx+=(L*=B)*(ea=(x*=x)/(Va+x)),La.vy+=(J*=B)*ea,aa.vx-=L*(ea=1-ea),aa.vy-=J*ea));
else return L>Oa+ea||B<Oa-ea||J>Aa+ea||R<Aa-ea}for(var ia,ya=la.length,ua,La,Oa,Aa,ab,Va,I=0;I<Ta;++I)for(ua=r.quadtree(la,bb,wb).visitAfter(Ba),ia=0;ia<ya;++ia)La=la[ia],ab=ra[La.index],Va=ab*ab,Oa=La.x+La.vx,Aa=La.y+La.vy,ua.visit(K)}function Ba(K){if(K.data)return K.r=ra[K.data.index];for(var ia=K.r=0;4>ia;++ia)K[ia]&&K[ia].r>K.r&&(K.r=K[ia].r)}function Fa(){if(la){var K,ia=la.length;ra=Array(ia);for(K=0;K<ia;++K){var ya=la[K];ra[ya.index]=+ma(ya,K,la)}}}var la,ra,Qa,za=1,Ta=1;"function"!==typeof ma&&
(ma=tb(null==ma?1:+ma));na.initialize=function(K,ia){la=K;Qa=ia;Fa()};na.iterations=function(K){return arguments.length?(Ta=+K,na):Ta};na.strength=function(K){return arguments.length?(za=+K,na):za};na.radius=function(K){return arguments.length?(ma="function"===typeof K?K:tb(+K),Fa(),na):ma};return na};h.forceLink=function(ma){function na(Aa){for(var ab=0,Va=ma.length;ab<Oa;++ab)for(var I=0,x,L,J,B,R;I<Va;++I)x=ma[I],L=x.source,x=x.target,J=x.x+x.vx-L.x-L.vx||1E-6*(La()-.5),B=x.y+x.vy-L.y-L.vy||1E-6*
(La()-.5),R=Math.sqrt(J*J+B*B),R=(R-K[I])/R*Aa*za[I],J*=R,B*=R,x.vx-=J*(R=ua[I]),x.vy-=B*R,L.vx+=J*(R=1-R),L.vy+=B*R}function Ba(){if(ia){var Aa=ia.length,ab=ma.length,Va=new Map(ia.map((x,L)=>[ra(x,L,ia),x]));var I=0;for(ya=Array(Aa);I<ab;++I)Aa=ma[I],Aa.index=I,"object"!==typeof Aa.source&&(Aa.source=hb(Va,Aa.source)),"object"!==typeof Aa.target&&(Aa.target=hb(Va,Aa.target)),ya[Aa.source.index]=(ya[Aa.source.index]||0)+1,ya[Aa.target.index]=(ya[Aa.target.index]||0)+1;I=0;for(ua=Array(ab);I<ab;++I)Aa=
ma[I],ua[I]=ya[Aa.source.index]/(ya[Aa.source.index]+ya[Aa.target.index]);za=Array(ab);Fa();K=Array(ab);la()}}function Fa(){if(ia)for(var Aa=0,ab=ma.length;Aa<ab;++Aa)za[Aa]=+Qa(ma[Aa],Aa,ma)}function la(){if(ia)for(var Aa=0,ab=ma.length;Aa<ab;++Aa)K[Aa]=+Ta(ma[Aa],Aa,ma)}var ra=Hb,Qa=function(Aa){return 1/Math.min(ya[Aa.source.index],ya[Aa.target.index])},za,Ta=tb(30),K,ia,ya,ua,La,Oa=1;null==ma&&(ma=[]);na.initialize=function(Aa,ab){ia=Aa;La=ab;Ba()};na.links=function(Aa){return arguments.length?
(ma=Aa,Ba(),na):ma};na.id=function(Aa){return arguments.length?(ra=Aa,na):ra};na.iterations=function(Aa){return arguments.length?(Oa=+Aa,na):Oa};na.strength=function(Aa){return arguments.length?(Qa="function"===typeof Aa?Aa:tb(+Aa),Fa(),na):Qa};na.distance=function(Aa){return arguments.length?(Ta="function"===typeof Aa?Aa:tb(+Aa),la(),na):Ta};return na};h.forceManyBody=function(){function ma(La){var Oa=la.length,Aa=r.quadtree(la,Ha,Sa).visitAfter(Ba);za=La;for(La=0;La<Oa;++La)ra=la[La],Aa.visit(Fa)}
function na(){if(la){var La,Oa=la.length;K=Array(Oa);for(La=0;La<Oa;++La){var Aa=la[La];K[Aa.index]=+Ta(Aa,La,la)}}}function Ba(La){var Oa=0,Aa,ab,Va=0,I,x,L;if(La.length){for(I=x=L=0;4>L;++L)(Aa=La[L])&&(ab=Math.abs(Aa.value))&&(Oa+=Aa.value,Va+=ab,I+=ab*Aa.x,x+=ab*Aa.y);La.x=I/Va;La.y=x/Va}else{Aa=La;Aa.x=Aa.data.x;Aa.y=Aa.data.y;do Oa+=K[Aa.data.index];while(Aa=Aa.next)}La.value=Oa}function Fa(La,Oa,Aa,ab){if(!La.value)return!0;Aa=La.x-ra.x;var Va=La.y-ra.y;Oa=ab-Oa;ab=Aa*Aa+Va*Va;if(Oa*Oa/ua<
ab)return ab<ya&&(0===Aa&&(Aa=1E-6*(Qa()-.5),ab+=Aa*Aa),0===Va&&(Va=1E-6*(Qa()-.5),ab+=Va*Va),ab<ia&&(ab=Math.sqrt(ia*ab)),ra.vx+=Aa*La.value*za/ab,ra.vy+=Va*La.value*za/ab),!0;if(!(La.length||ab>=ya)){if(La.data!==ra||La.next)0===Aa&&(Aa=1E-6*(Qa()-.5),ab+=Aa*Aa),0===Va&&(Va=1E-6*(Qa()-.5),ab+=Va*Va),ab<ia&&(ab=Math.sqrt(ia*ab));do La.data!==ra&&(Oa=K[La.data.index]*za/ab,ra.vx+=Aa*Oa,ra.vy+=Va*Oa);while(La=La.next)}}var la,ra,Qa,za,Ta=tb(-30),K,ia=1,ya=Infinity,ua=.81;ma.initialize=function(La,
Oa){la=La;Qa=Oa;na()};ma.strength=function(La){return arguments.length?(Ta="function"===typeof La?La:tb(+La),na(),ma):Ta};ma.distanceMin=function(La){return arguments.length?(ia=La*La,ma):Math.sqrt(ia)};ma.distanceMax=function(La){return arguments.length?(ya=La*La,ma):Math.sqrt(ya)};ma.theta=function(La){return arguments.length?(ua=La*La,ma):Math.sqrt(ua)};return ma};h.forceRadial=function(ma,na,Ba){function Fa(K){for(var ia=0,ya=ra.length;ia<ya;++ia){var ua=ra[ia],La=ua.x-na||1E-6,Oa=ua.y-Ba||1E-6,
Aa=Math.sqrt(La*La+Oa*Oa);Aa=(Ta[ia]-Aa)*za[ia]*K/Aa;ua.vx+=La*Aa;ua.vy+=Oa*Aa}}function la(){if(ra){var K,ia=ra.length;za=Array(ia);Ta=Array(ia);for(K=0;K<ia;++K)Ta[K]=+ma(ra[K],K,ra),za[K]=isNaN(Ta[K])?0:+Qa(ra[K],K,ra)}}var ra,Qa=tb(.1),za,Ta;"function"!==typeof ma&&(ma=tb(+ma));null==na&&(na=0);null==Ba&&(Ba=0);Fa.initialize=function(K){ra=K;la()};Fa.strength=function(K){return arguments.length?(Qa="function"===typeof K?K:tb(+K),la(),Fa):Qa};Fa.radius=function(K){return arguments.length?(ma="function"===
typeof K?K:tb(+K),la(),Fa):ma};Fa.x=function(K){return arguments.length?(na=+K,Fa):na};Fa.y=function(K){return arguments.length?(Ba=+K,Fa):Ba};return Fa};h.forceSimulation=function(ma){function na(){Ba();La.call("tick",ra);Qa<za&&(ua.stop(),La.call("end",ra))}function Ba(Aa){var ab,Va=ma.length;void 0===Aa&&(Aa=1);for(var I=0;I<Aa;++I)for(Qa+=(K-Qa)*Ta,ya.forEach(function(L){L(Qa)}),ab=0;ab<Va;++ab){var x=ma[ab];null==x.fx?x.x+=x.vx*=ia:(x.x=x.fx,x.vx=0);null==x.fy?x.y+=x.vy*=ia:(x.y=x.fy,x.vy=0)}return ra}
function Fa(){for(var Aa=0,ab=ma.length,Va;Aa<ab;++Aa){Va=ma[Aa];Va.index=Aa;null!=Va.fx&&(Va.x=Va.fx);null!=Va.fy&&(Va.y=Va.fy);if(isNaN(Va.x)||isNaN(Va.y)){var I=10*Math.sqrt(.5+Aa),x=Aa*xa;Va.x=I*Math.cos(x);Va.y=I*Math.sin(x)}if(isNaN(Va.vx)||isNaN(Va.vy))Va.vx=Va.vy=0}}function la(Aa){Aa.initialize&&Aa.initialize(ma,Oa);return Aa}var ra,Qa=1,za=.001,Ta=1-Math.pow(za,1/300),K=0,ia=.6,ya=new Map,ua=Ra.timer(na),La=z.dispatch("tick","end"),Oa=Ka();null==ma&&(ma=[]);Fa();return ra={tick:Ba,restart:function(){return ua.restart(na),
ra},stop:function(){return ua.stop(),ra},nodes:function(Aa){return arguments.length?(ma=Aa,Fa(),ya.forEach(la),ra):ma},alpha:function(Aa){return arguments.length?(Qa=+Aa,ra):Qa},alphaMin:function(Aa){return arguments.length?(za=+Aa,ra):za},alphaDecay:function(Aa){return arguments.length?(Ta=+Aa,ra):+Ta},alphaTarget:function(Aa){return arguments.length?(K=+Aa,ra):K},velocityDecay:function(Aa){return arguments.length?(ia=1-Aa,ra):1-ia},randomSource:function(Aa){return arguments.length?(Oa=Aa,ya.forEach(la),
ra):Oa},force:function(Aa,ab){return 1<arguments.length?(null==ab?ya.delete(Aa):ya.set(Aa,la(ab)),ra):ya.get(Aa)},find:function(Aa,ab,Va){var I,x=ma.length;Va=null==Va?Infinity:Va*Va;for(I=0;I<x;++I){var L=ma[I];var J=Aa-L.x;var B=ab-L.y;J=J*J+B*B;if(J<Va){var R=L;Va=J}}return R},on:function(Aa,ab){return 1<arguments.length?(La.on(Aa,ab),ra):La.on(Aa)}}};h.forceX=function(ma){function na(za){for(var Ta=0,K=la.length,ia;Ta<K;++Ta)ia=la[Ta],ia.vx+=(Qa[Ta]-ia.x)*ra[Ta]*za}function Ba(){if(la){var za,
Ta=la.length;ra=Array(Ta);Qa=Array(Ta);for(za=0;za<Ta;++za)ra[za]=isNaN(Qa[za]=+ma(la[za],za,la))?0:+Fa(la[za],za,la)}}var Fa=tb(.1),la,ra,Qa;"function"!==typeof ma&&(ma=tb(null==ma?0:+ma));na.initialize=function(za){la=za;Ba()};na.strength=function(za){return arguments.length?(Fa="function"===typeof za?za:tb(+za),Ba(),na):Fa};na.x=function(za){return arguments.length?(ma="function"===typeof za?za:tb(+za),Ba(),na):ma};return na};h.forceY=function(ma){function na(za){for(var Ta=0,K=la.length,ia;Ta<
K;++Ta)ia=la[Ta],ia.vy+=(Qa[Ta]-ia.y)*ra[Ta]*za}function Ba(){if(la){var za,Ta=la.length;ra=Array(Ta);Qa=Array(Ta);for(za=0;za<Ta;++za)ra[za]=isNaN(Qa[za]=+ma(la[za],za,la))?0:+Fa(la[za],za,la)}}var Fa=tb(.1),la,ra,Qa;"function"!==typeof ma&&(ma=tb(null==ma?0:+ma));na.initialize=function(za){la=za;Ba()};na.strength=function(za){return arguments.length?(Fa="function"===typeof za?za:tb(+za),Ba(),na):Fa};na.y=function(za){return arguments.length?(ma="function"===typeof za?za:tb(+za),Ba(),na):ma};return na};
Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[51]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(29),Qb(17),Qb(50)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3))})(this,function(h,r,z,Ra){function tb(ma){r.Transform.call(this,null,ma)}function bb(ma,na){return()=>ma.touch(na).run()}function wb(ma,na){ma=Ra.forceSimulation(ma);
const Ba=ma.stop,Fa=ma.restart;let la=!1;ma.stopped=()=>la;ma.restart=()=>(la=!1,Fa());ma.stop=()=>(la=!0,Ba());return Hb(ma,na,!0).on("end",()=>la=!0)}function Hb(ma,na,Ba,Fa){var la=z.array(na.forces),ra;var Qa=0;for(ra=Ha.length;Qa<ra;++Qa){var za=Ha[Qa];if("forces"!==za&&na.modified(za))ma[za](na[za])}Qa=0;for(ra=la.length;Qa<ra;++Qa){var Ta="forces"+Qa;if(Ba||na.modified("forces",Qa)){za=void 0;var K=la[Qa];z.hasOwnProperty(Ka,K.force)||z.error("Unrecognized force: "+K.force);var ia=Ka[K.force]();
for(za in K)z.isFunction(ia[za])&&hb(ia[za],K[za],K);za=ia}else{if(za=Fa)a:{ia=za=void 0;K=la[Qa];var ya=Fa;for(ia in K)if(z.isFunction(za=K[ia])&&ya.modified(z.accessorFields(za))){za=1;break a}za=0}za=za?ma.force(Ta):null}za&&ma.force(Ta,za)}for(ra=ma.numForces||0;Qa<ra;++Qa)ma.force("forces"+Qa,null);ma.numForces=la.length;return ma}function hb(ma,na,Ba){ma(z.isFunction(na)?Fa=>na(Fa,Ba):na)}const Ka={center:Ra.forceCenter,collide:Ra.forceCollide,nbody:Ra.forceManyBody,link:Ra.forceLink,x:Ra.forceX,
y:Ra.forceY},Ha=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Sa=["static","iterations"],xa=["x","y","vx","vy"];tb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},
{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":xa}]};z.inherits(tb,r.Transform,
{transform(ma,na){var Ba=this.value,Fa=na.changed(na.ADD_REM),la=ma.modified(Ha),ra=ma.iterations||300;Ba?(Fa&&(na.modifies("index"),Ba.nodes(na.source)),(la||na.changed(na.MOD))&&Hb(Ba,ma,0,na)):(this.value=Ba=wb(na.source,ma),Ba.on("tick",bb(na.dataflow,this)),ma.static||(Fa=!0,Ba.tick()),na.modifies("index"));if(la||Fa||ma.modified(Sa)||na.changed()&&ma.restart)if(Ba.alpha(Math.max(Ba.alpha(),ma.alpha||1)).alphaDecay(1-Math.pow(Ba.alphaMin(),1/ra)),ma.static)for(Ba.stop();0<=--ra;)Ba.tick();else if(Ba.stopped()&&
Ba.restart(),!Fa)return na.StopPropagation;return this.finish(ma,na)},finish(ma,na){const Ba=na.dataflow;for(let za=this._argops,Ta=0,K=za.length,ia;Ta<K;++Ta)if(ia=za[Ta],"forces"===ia.name&&"link"===ia.op._argval.force)for(var Fa=ia.op._argops,la=0,ra=Fa.length,Qa;la<ra;++la)if("links"===Fa[la].name&&(Qa=Fa[la].op.source)){Ba.pulse(Qa,Ba.changeset().reflow());break}return na.reflow(ma.modified()).modifies(xa)}});h.force=tb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[52]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(c,f){return c.parent===f.parent?1:2}function z(c,f){return c+f.x}function Ra(c,f){return Math.max(c,f.y)}function tb(c){for(var f;f=c.children;)c=f[0];return c}function bb(c){for(var f;f=c.children;)c=f[f.length-1];return c}function wb(c){var f=0,l=c.children,m=l&&l.length;
if(m)for(;0<=--m;)f+=l[m].value;else f=1;c.value=f}function Hb(c,f){c instanceof Map?(c=[void 0,c],void 0===f&&(f=Ka)):void 0===f&&(f=hb);c=new xa(c);for(var l,m=[c],q,w,F,U;l=m.pop();)if((w=f(l.data))&&(U=(w=Array.from(w)).length))for(l.children=w,F=U-1;0<=F;--F)m.push(q=w[F]=new xa(w[F])),q.parent=l,q.depth=l.depth+1;return c.eachBefore(Sa)}function hb(c){return c.children}function Ka(c){return Array.isArray(c)?c[1]:null}function Ha(c){void 0!==c.data.value&&(c.value=c.data.value);c.data=c.data.data}
function Sa(c){var f=0;do c.height=f;while((c=c.parent)&&c.height<++f)}function xa(c){this.data=c;this.depth=this.height=0;this.parent=null}function ma(c){var f=0;c=Array.from(c);for(var l=c.length,m,q;l;)q=Math.random()*l--|0,m=c[l],c[l]=c[q],c[q]=m;l=c.length;m=[];for(var w;f<l;)if(q=c[f],w&&Ba(w,q))++f;else{a:if(f=m,Fa(q,f))f=[q];else{for(m=0;m<f.length;++m)if(na(q,f[m])&&Fa(la(f[m],q),f)){f=[f[m],q];break a}for(m=0;m<f.length-1;++m)for(w=m+1;w<f.length;++w)if(na(la(f[m],f[w]),q)&&na(la(f[m],q),
f[w])&&na(la(f[w],q),f[m])&&Fa(ra(f[m],f[w],q),f)){f=[f[m],f[w],q];break a}throw Error();}a:{f=m=f;switch(f.length){case 1:f=f[0];f={x:f.x,y:f.y,r:f.r};break a;case 2:f=la(f[0],f[1]);break a;case 3:f=ra(f[0],f[1],f[2]);break a}f=void 0}w=f;f=0}return w}function na(c,f){var l=c.r-f.r,m=f.x-c.x;c=f.y-c.y;return 0>l||l*l<m*m+c*c}function Ba(c,f){var l=c.r-f.r+1E-9*Math.max(c.r,f.r,1),m=f.x-c.x;c=f.y-c.y;return 0<l&&l*l>m*m+c*c}function Fa(c,f){for(var l=0;l<f.length;++l)if(!Ba(c,f[l]))return!1;return!0}
function la(c,f){var l=c.x,m=c.y;c=c.r;var q=f.x,w=f.y;f=f.r;var F=q-l,U=w-m,wa=f-c,cb=Math.sqrt(F*F+U*U);return{x:(l+q+F/cb*wa)/2,y:(m+w+U/cb*wa)/2,r:(cb+c+f)/2}}function ra(c,f,l){var m=c.x,q=c.y;c=c.r;var w=f.x,F=f.y,U=f.r,wa=l.x,cb=l.y,gb=l.r;l=m-w;f=m-wa;var Y=q-F,ta=q-cb,G=U-c,Q=gb-c,ka=m*m+q*q-c*c;F=ka-w*w-F*F+U*U;cb=ka-wa*wa-cb*cb+gb*gb;wa=f*Y-l*ta;w=(Y*cb-ta*F)/(2*wa)-m;Y=(ta*G-Y*Q)/wa;ta=(f*F-l*cb)/(2*wa)-q;l=(l*Q-f*G)/wa;f=Y*Y+l*l-1;G=2*(c+w*Y+ta*l);c=w*w+ta*ta-c*c;c=-(f?(G+Math.sqrt(G*
G-4*f*c))/(2*f):c/G);return{x:m+w+Y*c,y:q+ta+l*c,r:c}}function Qa(c,f,l){var m=c.x-f.x,q=c.y-f.y,w=m*m+q*q;if(w){var F=f.r+l.r;F*=F;var U=c.r+l.r;U*=U;if(F>U){var wa=(w+U-F)/(2*w);F=Math.sqrt(Math.max(0,U/w-wa*wa));l.x=c.x-wa*m-F*q;l.y=c.y-wa*q+F*m}else wa=(w+F-U)/(2*w),F=Math.sqrt(Math.max(0,F/w-wa*wa)),l.x=f.x+wa*m-F*q,l.y=f.y+wa*q+F*m}else l.x=f.x+l.r,l.y=f.y}function za(c,f){var l=c.r+f.r-1E-6,m=f.x-c.x;c=f.y-c.y;return 0<l&&l*l>m*m+c*c}function Ta(c){var f=c._,l=c.next._,m=f.r+l.r;c=(f.x*l.r+
l.x*f.r)/m;f=(f.y*l.r+l.y*f.r)/m;return c*c+f*f}function K(c){this._=c;this.previous=this.next=null}function ia(c){if(!(l=(c="object"===typeof c&&"length"in c?c:Array.from(c)).length))return 0;var f,l;var m=c[0];m.x=0;m.y=0;if(!(1<l))return m.r;var q=c[1];m.x=-q.r;q.x=m.r;q.y=0;if(!(2<l))return m.r+q.r;Qa(q,m,f=c[2]);m=new K(m);q=new K(q);f=new K(f);m.next=f.previous=q;q.next=m.previous=f;f.next=q.previous=m;var w=3;a:for(;w<l;++w){Qa(m._,q._,f=c[w]);f=new K(f);var F=q.next;var U=m.previous;var wa=
q._.r;var cb=m._.r;do if(wa<=cb){if(za(F._,f._)){q=F;m.next=q;q.previous=m;--w;continue a}wa+=F._.r;F=F.next}else{if(za(U._,f._)){m=U;m.next=q;q.previous=m;--w;continue a}cb+=U._.r;U=U.previous}while(F!==U.next);f.previous=m;f.next=q;m.next=q.previous=q=f;for(F=Ta(m);(f=f.next)!==q;)(U=Ta(f))<F&&(m=f,F=U);q=m.next}m=[q._];for(f=q;(f=f.next)!==q;)m.push(f._);f=ma(m);for(w=0;w<l;++w)m=c[w],m.x-=f.x,m.y-=f.y;return f.r}function ya(c){if("function"!==typeof c)throw Error();return c}function ua(){return 0}
function La(c){return function(){return c}}function Oa(c){return Math.sqrt(c.value)}function Aa(c){return function(f){f.children||(f.r=Math.max(0,+c(f)||0))}}function ab(c,f){return function(l){if(m=l.children){var m,q,w=m.length,F=c(l)*f||0;if(F)for(q=0;q<w;++q)m[q].r+=F;var U=ia(m);if(F)for(q=0;q<w;++q)m[q].r-=F;l.r=U+F}}}function Va(c){return function(f){var l=f.parent;f.r*=c;l&&(f.x=l.x+c*f.x,f.y=l.y+c*f.y)}}function I(c){c.x0=Math.round(c.x0);c.y0=Math.round(c.y0);c.x1=Math.round(c.x1);c.y1=
Math.round(c.y1)}function x(c,f,l,m,q){var w=c.children,F=-1,U=w.length;for(m=c.value&&(m-f)/c.value;++F<U;)c=w[F],c.y0=l,c.y1=q,c.x0=f,c.x1=f+=c.value*m}function L(c){return c.id}function J(c){return c.parentId}function B(c,f){return c.parent===f.parent?1:2}function R(c){var f=c.children;return f?f[0]:c.t}function aa(c){var f=c.children;return f?f[f.length-1]:c.t}function ea(c,f){this._=c;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=f}function Ca(c){c=
new ea(c,0);for(var f,l=[c],m,q,w;f=l.pop();)if(q=f._.children)for(f.children=Array(m=q.length),w=m-1;0<=w;--w)l.push(m=f.children[w]=new ea(q[w],w)),m.parent=f;(c.parent=new ea(null,0)).children=[c];return c}function Ia(c,f,l,m,q){var w=c.children,F=-1,U=w.length;for(q=c.value&&(q-l)/c.value;++F<U;)c=w[F],c.x0=f,c.x1=m,c.y0=l,c.y1=l+=c.value*q}function H(c,f,l,m,q,w){for(var F=[],U=f.children,wa,cb,gb=wa=0,Y=U.length,ta,G=f.value,Q,ka,Da,sb,Ya,ob;wa<Y;){f=q-l;ta=w-m;do Q=U[gb++].value;while(!Q&&
gb<Y);ka=Da=Q;ob=Math.max(ta/f,f/ta)/(G*c);sb=Q*Q*ob;for(Ya=Math.max(Da/sb,sb/ka);gb<Y;++gb){Q+=cb=U[gb].value;cb<ka&&(ka=cb);cb>Da&&(Da=cb);sb=Q*Q*ob;sb=Math.max(Da/sb,sb/ka);if(sb>Ya){Q-=cb;break}Ya=sb}F.push(wa={value:Q,dice:f<ta,children:U.slice(wa,gb)});wa.dice?x(wa,l,m,q,G?m+=ta*Q/G:w):Ia(wa,l,m,G?l+=f*Q/G:q,w);G-=Q;wa=gb}return F}xa.prototype=Hb.prototype={constructor:xa,count:function(){return this.eachAfter(wb)},each:function(c,f){let l=-1;for(const m of this)c.call(f,m,++l,this);return this},
eachAfter:function(c,f){for(var l,m=[this],q=[],w,F,U=-1;l=m.pop();)if(q.push(l),l=l.children)for(w=0,F=l.length;w<F;++w)m.push(l[w]);for(;l=q.pop();)c.call(f,l,++U,this);return this},eachBefore:function(c,f){for(var l,m=[this],q,w=-1;l=m.pop();)if(c.call(f,l,++w,this),l=l.children)for(q=l.length-1;0<=q;--q)m.push(l[q]);return this},find:function(c,f){let l=-1;for(const m of this)if(c.call(f,m,++l,this))return m},sum:function(c){return this.eachAfter(function(f){for(var l=+c(f.data)||0,m=f.children,
q=m&&m.length;0<=--q;)l+=m[q].value;f.value=l})},sort:function(c){return this.eachBefore(function(f){f.children&&f.children.sort(c)})},path:function(c){var f=this;var l=f;var m=c;if(l!==m){var q=l.ancestors(),w=m.ancestors(),F=null;l=q.pop();for(m=w.pop();l===m;)F=l,l=q.pop(),m=w.pop();l=F}for(m=[f];f!==l;)f=f.parent,m.push(f);for(f=m.length;c!==l;)m.splice(f,0,c),c=c.parent;return m},ancestors:function(){for(var c=this,f=[c];c=c.parent;)f.push(c);return f},descendants:function(){return Array.from(this)},
leaves:function(){var c=[];this.eachBefore(function(f){f.children||c.push(f)});return c},links:function(){var c=this,f=[];c.each(function(l){l!==c&&f.push({source:l.parent,target:l})});return f},copy:function(){return Hb(this).eachBefore(Ha)},[Symbol.iterator]:function*(){var c,f=[this],l;do{var m=f.reverse();for(f=[];c=m.pop();)if(yield c,c=c.children){var q=0;for(l=c.length;q<l;++q)f.push(c[q])}}while(f.length)}};var da={depth:-1},ca={};ea.prototype=Object.create(xa.prototype);var X=(1+Math.sqrt(5))/
2,e=function l(f){function m(q,w,F,U,wa){H(f,q,w,F,U,wa)}m.ratio=function(q){return l(1<(q=+q)?q:1)};return m}(X);X=function m(l){function q(w,F,U,wa,cb){if((gb=w._squarify)&&gb.ratio===l)for(var gb,Y,ta,G=-1,Q,ka=gb.length,Da=w.value;++G<ka;){w=gb[G];Y=w.children;ta=w.value=0;for(Q=Y.length;ta<Q;++ta)w.value+=Y[ta].value;w.dice?x(w,F,U,wa,Da?U+=(cb-U)*w.value/Da:cb):Ia(w,F,U,Da?F+=(wa-F)*w.value/Da:wa,cb);Da-=w.value}else w._squarify=gb=H(l,w,F,U,wa,cb),gb.ratio=l}q.ratio=function(w){return m(1<
(w=+w)?w:1)};return q}(X);h.cluster=function(){function l(U){var wa,cb=0;U.eachAfter(function(Q){var ka=Q.children;if(ka){var Da=ka.reduce(z,0)/ka.length;Q.x=Da;Q.y=1+ka.reduce(Ra,0)}else Q.x=wa?cb+=m(Q,wa):0,Q.y=0,wa=Q});var gb=tb(U),Y=bb(U),ta=gb.x-m(gb,Y)/2,G=Y.x+m(Y,gb)/2;return U.eachAfter(F?function(Q){Q.x=(Q.x-U.x)*q;Q.y=(U.y-Q.y)*w}:function(Q){Q.x=(Q.x-ta)/(G-ta)*q;Q.y=(1-(U.y?Q.y/U.y:1))*w})}var m=r,q=1,w=1,F=!1;l.separation=function(U){return arguments.length?(m=U,l):m};l.size=function(U){return arguments.length?
(F=!1,q=+U[0],w=+U[1],l):F?null:[q,w]};l.nodeSize=function(U){return arguments.length?(F=!0,q=+U[0],w=+U[1],l):F?[q,w]:null};return l};h.hierarchy=Hb;h.pack=function(){function l(U){U.x=q/2;U.y=w/2;m?U.eachBefore(Aa(m)).eachAfter(ab(F,.5)).eachBefore(Va(1)):U.eachBefore(Aa(Oa)).eachAfter(ab(ua,1)).eachAfter(ab(F,U.r/Math.min(q,w))).eachBefore(Va(Math.min(q,w)/(2*U.r)));return U}var m=null,q=1,w=1,F=ua;l.radius=function(U){return arguments.length?(m=null==U?null:ya(U),l):m};l.size=function(U){return arguments.length?
(q=+U[0],w=+U[1],l):[q,w]};l.padding=function(U){return arguments.length?(F="function"===typeof U?U:La(+U),l):F};return l};h.packEnclose=ma;h.packSiblings=function(l){ia(l);return l};h.partition=function(){function l(wa){var cb=wa.height+1;wa.x0=wa.y0=F;wa.x1=q;wa.y1=w/cb;wa.eachBefore(m(w,cb));U&&wa.eachBefore(I);return wa}function m(wa,cb){return function(gb){gb.children&&x(gb,gb.x0,wa*(gb.depth+1)/cb,gb.x1,wa*(gb.depth+2)/cb);var Y=gb.x0,ta=gb.y0,G=gb.x1-F,Q=gb.y1-F;G<Y&&(Y=G=(Y+G)/2);Q<ta&&(ta=
Q=(ta+Q)/2);gb.x0=Y;gb.y0=ta;gb.x1=G;gb.y1=Q}}var q=1,w=1,F=0,U=!1;l.round=function(wa){return arguments.length?(U=!!wa,l):U};l.size=function(wa){return arguments.length?(q=+wa[0],w=+wa[1],l):[q,w]};l.padding=function(wa){return arguments.length?(F=+wa,l):F};return l};h.stratify=function(){function l(w){var F=Array.from(w),U=F.length,wa,cb,gb=new Map;for(wa=0;wa<U;++wa){var Y=F[wa];var ta=F[wa]=new xa(Y);if(null!=(cb=m(Y,wa,w))&&(cb+="")){var G=ta.id=cb;gb.set(G,gb.has(G)?ca:ta)}null!=(cb=q(Y,wa,
w))&&(cb+="")&&(ta.parent=cb)}for(wa=0;wa<U;++wa)if(ta=F[wa],cb=ta.parent){w=gb.get(cb);if(!w)throw Error("missing: "+cb);if(w===ca)throw Error("ambiguous: "+cb);w.children?w.children.push(ta):w.children=[ta];ta.parent=w}else{if(Q)throw Error("multiple roots");var Q=ta}if(!Q)throw Error("no root");Q.parent=da;Q.eachBefore(function(ka){ka.depth=ka.parent.depth+1;--U}).eachBefore(Sa);Q.parent=null;if(0<U)throw Error("cycle");return Q}var m=L,q=J;l.id=function(w){return arguments.length?(m=ya(w),l):
m};l.parentId=function(w){return arguments.length?(q=ya(w),l):q};return l};h.tree=function(){function l(gb){var Y=Ca(gb);Y.eachAfter(m);Y.parent.m=-Y.z;Y.eachBefore(q);if(cb)gb.eachBefore(w);else{var ta=gb,G=gb,Q=gb;gb.eachBefore(function(Ya){Ya.x<ta.x&&(ta=Ya);Ya.x>G.x&&(G=Ya);Ya.depth>Q.depth&&(Q=Ya)});Y=ta===G?1:F(ta,G)/2;var ka=Y-ta.x,Da=U/(G.x+Y+ka),sb=wa/(Q.depth||1);gb.eachBefore(function(Ya){Ya.x=(Ya.x+ka)*Da;Ya.y=Ya.depth*sb})}return gb}function m(gb){var Y=gb.children,ta=gb.parent.children,
G=gb.i?ta[gb.i-1]:null;if(Y){for(var Q=0,ka=0,Da=gb.children,sb=Da.length,Ya;0<=--sb;)Ya=Da[sb],Ya.z+=Q,Ya.m+=Q,Q+=Ya.s+(ka+=Ya.c);Y=(Y[0].z+Y[Y.length-1].z)/2;G?(gb.z=G.z+F(gb._,G._),gb.m=gb.z-Y):gb.z=Y}else G&&(gb.z=G.z+F(gb._,G._));Y=gb.parent;ta=gb.parent.A||ta[0];if(G){ka=Q=gb;Da=Q.parent.children[0];sb=Q.m;Ya=ka.m;for(var ob=G.m,Na=Da.m,yb;G=aa(G),Q=R(Q),G&&Q;){Da=R(Da);ka=aa(ka);ka.a=gb;yb=G.z+ob-Q.z-sb+F(G._,Q._);if(0<yb){var Fb=G.a.parent===gb.parent?G.a:ta,eb=gb,Lb=yb,hc=Lb/(eb.i-Fb.i);
eb.c-=hc;eb.s+=Lb;Fb.c+=hc;eb.z+=Lb;eb.m+=Lb;sb+=yb;Ya+=yb}ob+=G.m;sb+=Q.m;Na+=Da.m;Ya+=ka.m}G&&!aa(ka)&&(ka.t=G,ka.m+=ob-Ya);Q&&!R(Da)&&(Da.t=Q,Da.m+=sb-Na,ta=gb)}Y.A=ta}function q(gb){gb._.x=gb.z+gb.parent.m;gb.m+=gb.parent.m}function w(gb){gb.x*=U;gb.y=gb.depth*wa}var F=B,U=1,wa=1,cb=null;l.separation=function(gb){return arguments.length?(F=gb,l):F};l.size=function(gb){return arguments.length?(cb=!1,U=+gb[0],wa=+gb[1],l):cb?null:[U,wa]};l.nodeSize=function(gb){return arguments.length?(cb=!0,U=
+gb[0],wa=+gb[1],l):cb?[U,wa]:null};return l};h.treemap=function(){function l(Q){Q.x0=Q.y0=0;Q.x1=F;Q.y1=U;Q.eachBefore(m);wa=[0];w&&Q.eachBefore(I);return Q}function m(Q){var ka=wa[Q.depth],Da=Q.x0+ka,sb=Q.y0+ka,Ya=Q.x1-ka,ob=Q.y1-ka;Ya<Da&&(Da=Ya=(Da+Ya)/2);ob<sb&&(sb=ob=(sb+ob)/2);Q.x0=Da;Q.y0=sb;Q.x1=Ya;Q.y1=ob;Q.children&&(ka=wa[Q.depth+1]=cb(Q)/2,Da+=G(Q)-ka,sb+=gb(Q)-ka,Ya-=Y(Q)-ka,ob-=ta(Q)-ka,Ya<Da&&(Da=Ya=(Da+Ya)/2),ob<sb&&(sb=ob=(sb+ob)/2),q(Q,Da,sb,Ya,ob))}var q=e,w=!1,F=1,U=1,wa=[0],
cb=ua,gb=ua,Y=ua,ta=ua,G=ua;l.round=function(Q){return arguments.length?(w=!!Q,l):w};l.size=function(Q){return arguments.length?(F=+Q[0],U=+Q[1],l):[F,U]};l.tile=function(Q){return arguments.length?(q=ya(Q),l):q};l.padding=function(Q){return arguments.length?l.paddingInner(Q).paddingOuter(Q):l.paddingInner()};l.paddingInner=function(Q){return arguments.length?(cb="function"===typeof Q?Q:La(+Q),l):cb};l.paddingOuter=function(Q){return arguments.length?l.paddingTop(Q).paddingRight(Q).paddingBottom(Q).paddingLeft(Q):
l.paddingTop()};l.paddingTop=function(Q){return arguments.length?(gb="function"===typeof Q?Q:La(+Q),l):gb};l.paddingRight=function(Q){return arguments.length?(Y="function"===typeof Q?Q:La(+Q),l):Y};l.paddingBottom=function(Q){return arguments.length?(ta="function"===typeof Q?Q:La(+Q),l):ta};l.paddingLeft=function(Q){return arguments.length?(G="function"===typeof Q?Q:La(+Q),l):G};return l};h.treemapBinary=function(l,m,q,w,F){function U(G,Q,ka,Da,sb,Ya,ob){if(G>=Q-1)G=wa[G],G.x0=Da,G.y0=sb,G.x1=Ya,
G.y1=ob;else{for(var Na=ta[G],yb=ka/2+Na,Fb=G+1,eb=Q-1;Fb<eb;){var Lb=Fb+eb>>>1;ta[Lb]<yb?Fb=Lb+1:eb=Lb}yb-ta[Fb-1]<ta[Fb]-yb&&G+1<Fb&&--Fb;Na=ta[Fb]-Na;yb=ka-Na;Ya-Da>ob-sb?(ka=ka?(Da*yb+Ya*Na)/ka:Ya,U(G,Fb,Na,Da,sb,ka,ob),U(Fb,Q,yb,ka,sb,Ya,ob)):(ka=ka?(sb*yb+ob*Na)/ka:ob,U(G,Fb,Na,Da,sb,Ya,ka),U(Fb,Q,yb,Da,ka,Ya,ob))}}var wa=l.children,cb,gb=wa.length,Y,ta=Array(gb+1);for(ta[0]=Y=cb=0;cb<gb;++cb)ta[cb+1]=Y+=wa[cb].value;U(0,gb,l.value,m,q,w,F)};h.treemapDice=x;h.treemapResquarify=X;h.treemapSlice=
Ia;h.treemapSliceDice=function(l,m,q,w,F){(l.depth&1?Ia:x)(l,m,q,w,F)};h.treemapSquarify=e;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[53]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(29),Qb(17),Qb(52)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.d3))})(this,function(h,r,z,Ra){function tb(za,Ta,K){const ia={};za.each(ya=>{const ua=ya.data;K(ua)&&(ia[Ta(ua)]=ya)});za.lookup=ia;return za}function bb(za){r.Transform.call(this,null,za)}
function wb(){function za(ya,ua){if(ua>=K.length)return ya;const La=ya.length,Oa=K[ua++],Aa={},ab={};let Va=-1,I,x,L;for(;++Va<La;)I=Oa(x=ya[Va])+"",(L=Aa[I])?L.push(x):Aa[I]=[x];for(I in Aa)ab[I]=za(Aa[I],ua);return ab}function Ta(ya,ua){if(++ua>K.length)return ya;const La=[];for(const Oa in ya)La.push({key:Oa,values:Ta(ya[Oa],ua)});return La}const K=[],ia={entries:ya=>Ta(za(ya,0),0),key:ya=>(K.push(ya),ia)};return ia}function Hb(za){r.Transform.call(this,null,za)}function hb(za,Ta,K){for(let ia,
ya=0,ua=Ta.length;ya<ua;++ya)if(ia=Ta[ya],ia in K)za[ia](K[ia])}function Ka(za){Hb.call(this,za)}function Ha(za){Hb.call(this,za)}function Sa(za){r.Transform.call(this,null,za)}function xa(za){Hb.call(this,za)}function ma(za){r.Transform.call(this,[],za)}function na(za){Hb.call(this,za)}bb.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Ba=za=>za.values;z.inherits(bb,r.Transform,{transform(za,Ta){Ta.source||
z.error("Nest transform requires an upstream data source.");var K=za.generate,ia=za.modified(),ya=Ta.clone(),ua=this.value;if(!ua||ia||Ta.changed())ua&&ua.each(La=>{La.children&&r.isTuple(La.data)&&ya.rem.push(La.data)}),this.value=ua=Ra.hierarchy({values:z.array(za.keys).reduce((La,Oa)=>{La.key(Oa);return La},wb()).entries(ya.source)},Ba),K&&ua.each(La=>{La.children&&(La=r.ingest(La.data),ya.add.push(La),ya.source.push(La))}),tb(ua,r.tupleid,r.tupleid);ya.source.root=ua;return ya}});const Fa=(za,
Ta)=>za.parent===Ta.parent?1:2;z.inherits(Hb,r.Transform,{transform(za,Ta){Ta.source&&Ta.source.root||z.error(this.constructor.name+" transform requires a backing tree data source.");const K=this.layout(za.method),ia=this.fields,ya=Ta.source.root,ua=za.as||ia;za.field?ya.sum(za.field):ya.count();za.sort&&ya.sort(r.stableCompare(za.sort,La=>La.data));hb(K,this.params,za);K.separation&&K.separation(!1!==za.separation?Fa:z.one);try{this.value=K(ya)}catch(La){z.error(La)}ya.each(La=>{const Oa=La.data,
Aa=ia.length-1;for(let ab=0;ab<Aa;++ab)Oa[ua[ab]]=La[ia[ab]];Oa[ua[Aa]]=La.children?La.children.length:0});return Ta.reflow(za.modified()).modifies(ua).modifies("leaf")}});var la=["x","y","r","depth","children"];Ka.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,
length:la.length,"default":la}]};z.inherits(Ka,Hb,{layout:Ra.pack,params:["radius","size","padding"],fields:la});la="x0 y0 x1 y1 depth children".split(" ");Ha.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};z.inherits(Ha,Hb,{layout:Ra.partition,
params:["size","round","padding"],fields:la});Sa.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};z.inherits(Sa,r.Transform,{transform(za,Ta){Ta.source||z.error("Stratify transform requires an upstream data source.");let K=this.value;const ia=za.modified(),ya=Ta.fork(Ta.ALL).materialize(Ta.SOURCE);Ta=!K||ia||Ta.changed(Ta.ADD_REM)||Ta.modified(za.key.fields)||Ta.modified(za.parentKey.fields);ya.source=
ya.source.slice();Ta&&(K=ya.source.length?tb(Ra.stratify().id(za.key).parentId(za.parentKey)(ya.source),za.key,z.truthy):tb(Ra.stratify()([{}]),za.key,za.key));ya.source.root=this.value=K;return ya}});const ra={tidy:Ra.tree,cluster:Ra.cluster};la=["x","y","depth","children"];xa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,
length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};z.inherits(xa,Hb,{layout(za){za=za||"tidy";if(z.hasOwnProperty(ra,za))return ra[za]();z.error("Unrecognized Tree layout method: "+za)},params:["size","nodeSize"],fields:la});ma.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};z.inherits(ma,r.Transform,{transform(za,Ta){za=this.value;const K=
Ta.source&&Ta.source.root,ia=Ta.fork(Ta.NO_SOURCE),ya={};K||z.error("TreeLinks transform requires a tree data source.");Ta.changed(Ta.ADD_REM)?(ia.rem=za,Ta.visit(Ta.SOURCE,ua=>ya[r.tupleid(ua)]=1),K.each(ua=>{const La=ua.data;(ua=ua.parent&&ua.parent.data)&&ya[r.tupleid(La)]&&ya[r.tupleid(ua)]&&ia.add.push(r.ingest({source:ua,target:La}))}),this.value=ia.add):Ta.changed(Ta.MOD)&&(Ta.visit(Ta.MOD,ua=>ya[r.tupleid(ua)]=1),za.forEach(ua=>{(ya[r.tupleid(ua.source)]||ya[r.tupleid(ua.target)])&&ia.mod.push(ua)}));
return ia}});const Qa={binary:Ra.treemapBinary,dice:Ra.treemapDice,slice:Ra.treemapSlice,slicedice:Ra.treemapSliceDice,squarify:Ra.treemapSquarify,resquarify:Ra.treemapResquarify};la="x0 y0 x1 y1 depth children".split(" ");na.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},
{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};z.inherits(na,
Hb,{layout(){const za=Ra.treemap();za.ratio=Ta=>{const K=za.tile();K.ratio&&za.tile(K.ratio(Ta))};za.method=Ta=>{z.hasOwnProperty(Qa,Ta)?za.tile(Qa[Ta]):z.error("Unrecognized Treemap layout method: "+Ta)};return za},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:la});h.nest=bb;h.pack=Ka;h.partition=Ha;h.stratify=Sa;h.tree=xa;h.treelinks=ma;h.treemap=na;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[54]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(35),Qb(29),Qb(40),Qb(17)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega,h.vega))})(this,function(h,r,z,Ra,tb){function bb(Va,I){const x=Va.bitmap();(I||[]).forEach(L=>x.set(Va(L.boundary[0]),Va(L.boundary[3])));
return[x,void 0]}function wb(Va,I,x,L){const J=Va.width,B=Va.height,R=x||L,aa=r.canvas(J,B).getContext("2d");I.forEach(X=>Hb(aa,X,R));I=new Uint32Array(aa.getImageData(0,0,J,B).data.buffer);x=Va.bitmap();const ea=R&&Va.bitmap();let Ca,Ia,H,da,ca;for(Ia=0;Ia<B;++Ia)for(Ca=0;Ca<J;++Ca)if(ca=I[Ia*J+Ca]&4278190080)H=Va(Ca),da=Va(Ia),L||x.set(H,da),R&&ca^268435456&&ea.set(H,da);return[x,ea]}function Hb(Va,I,x){if(I.length){var L=I[0].mark.marktype;"group"===L?I.forEach(J=>{J.items.forEach(B=>Hb(Va,B.items,
x))}):Ra.Marks[L].draw(Va,{items:x?I.map(hb):I})}}function hb(Va){Va=z.rederive(Va,{});Va.stroke&&(Va.strokeOpacity=1);Va.fill&&(Va.fillOpacity=.0625,Va.stroke="#000",Va.strokeOpacity=1,Va.strokeWidth=2);return Va}function Ka(Va,I){const x=new Uint32Array(~~((Va*I+32)/32));return{array:x,get:(L,J)=>{L=J*Va+L;return x[L>>>5]&1<<(L&31)},set:(L,J)=>{L=J*Va+L;x[L>>>5]|=1<<(L&31)},clear:(L,J)=>{L=J*Va+L;x[L>>>5]&=~(1<<(L&31))},getRange:(L,J,B,R)=>{let aa,ea,Ca;for(;R>=J;--R){var Ia=R*Va+L;aa=R*Va+B;ea=
Ia>>>5;Ca=aa>>>5;if(ea===Ca){if(x[ea]&za[Ia&31]&Ta[(aa&31)+1])return!0}else{if(x[ea]&za[Ia&31]||x[Ca]&Ta[(aa&31)+1])return!0;for(Ia=ea+1;Ia<Ca;++Ia)if(x[Ia])return!0}}return!1},setRange:(L,J,B,R)=>{let aa,ea,Ca;for(;J<=R;++J){var Ia=J*Va+L;aa=J*Va+B;ea=Ia>>>5;Ca=aa>>>5;if(ea===Ca)x[ea]|=za[Ia&31]&Ta[(aa&31)+1];else for(x[ea]|=za[Ia&31],x[Ca]|=Ta[(aa&31)+1],Ia=ea+1;Ia<Ca;++Ia)x[Ia]|=4294967295}},clearRange:(L,J,B,R)=>{let aa,ea,Ca;for(;J<=R;++J){var Ia=J*Va+L;aa=J*Va+B;ea=Ia>>>5;Ca=aa>>>5;if(ea===
Ca)x[ea]&=Ta[Ia&31]|za[(aa&31)+1];else for(x[ea]&=Ta[Ia&31],x[Ca]&=za[(aa&31)+1],Ia=ea+1;Ia<Ca;++Ia)x[Ia]&=0}},outOfBounds:(L,J,B,R)=>0>L||0>J||R>=I||B>=Va}}function Ha(Va,I,x){const L=Math.max(1,Math.sqrt(Va*I/1E6)),J=~~((Va+2*x+L)/L),B=~~((I+2*x+L)/L),R=aa=>~~((aa+x)/L);R.invert=aa=>aa*L-x;R.bitmap=()=>Ka(J,B);R.ratio=L;R.padding=x;R.width=Va;R.height=I;return R}function Sa(Va,I,x,L,J,B){x/=2;return 0>Va-x||Va+x>J||0>I-(x=L/2)||I+x>B}function xa(Va,I,x,L,J,B,R,aa){J=J*B/(2*L);L=Va(I-J);I=Va(I+J);
J=Va(x-(B/=2));Va=Va(x+B);return R.outOfBounds(L,J,I,Va)||R.getRange(L,J,I,Va)||aa&&aa.getRange(L,J,I,Va)}function ma(Va,I,x,L){const J=Va.width,B=Va.height,R=I[0],aa=I[1],ea=L.length;return function(Ca){const Ia=Ca.boundary,H=Ca.datum.fontSize;if(0>Ia[2]||0>Ia[5]||Ia[0]>J||Ia[3]>B)return!1;let da=0,ca,X;let e,c;let f;let l;let m,q;for(let Fb=0;Fb<ea;++Fb){ca=(x[Fb]&3)-1;X=(x[Fb]>>>2&3)-1;var w=0===ca&&0===X||0>L[Fb];var F=ca&&X?Math.SQRT1_2:1;e=0>L[Fb]?-1:1;c=Ia[1+ca]+L[Fb]*ca*F;l=Ia[4+X]+e*H*X/
2+L[Fb]*X*F;F=l-H/2;f=l+H/2;var U=Va(c);m=Va(F);q=Va(f);if(!da){var wa=U;var cb=m;var gb=q;var Y=R,ta=aa,G=c,Q=c,ka=F,Da=f,sb=Ia,Ya=w;if(!Y.outOfBounds(wa,cb,U,gb)&&(Ya&&ta?!ta.getRange(wa,cb,U,gb)&&sb[0]<=G&&Q<=sb[2]&&sb[3]<=ka&&Da<=sb[5]:!Y.getRange(wa,cb,U,gb)))da=Ra.textMetrics.width(Ca.datum,Ca.datum.text);else continue}cb=c+e*da*ca/2;c=cb-da/2;wa=cb+da/2;U=Va(c);gb=Va(wa);Y=U;ta=gb;G=m;Q=q;ka=R;Da=aa;sb=c;Ya=wa;var ob=F,Na=f,yb=Ia;if(!ka.outOfBounds(Y,G,ta,Q)&&(w&&Da?!Da.getRange(Y,G,ta,Q)&&
yb[0]<=sb&&Ya<=yb[2]&&yb[3]<=ob&&Na<=yb[5]:!ka.getRange(Y,G,ta,Q)))return Ca.x=ca?0>ca*e?wa:c:cb,Ca.y=X?0>X*e?f:F:l,Ca.align=ya[ca*e+1],Ca.baseline=ua[X*e+1],R.setRange(U,m,gb,q),!0}return!1}}function na(Va,I,x,L,J,B,R,aa,ea,Ca,Ia){if(!Va.length)return Va;var H=Math.max(L.length,J.length);L=Ba(L,H);J=Fa(J,H);H=la(Va[0].datum);const da="group"===H&&Va[0].datum.items[ea].marktype,ca="area"===da,X=ra(H,da,aa,ea);I=Ha(I[0],I[1],Ca);Ca=ca&&"naive"===Ia;aa=Va.map(f=>({datum:f,opacity:0,x:void 0,y:void 0,
align:void 0,baseline:void 0,boundary:X(f)}));if(!Ca){x&&aa.sort((f,l)=>x(f.datum,l.datum));var e=!1;for(Ca=0;Ca<J.length&&!e;++Ca)e=5===J[Ca]||0>L[Ca];H&&(R||ca)&&(B=[Va.map(f=>f.datum)].concat(B));e=B.length?wb(I,B,e,ca):bb(I,R&&aa)}const c=ca?Oa[Ia](I,e,R,ea):ma(I,e,J,L);aa.forEach(f=>f.opacity=+c(f));return aa}function Ba(Va,I){const x=new Float64Array(I),L=Va.length;for(let J=0;J<L;++J)x[J]=Va[J]||0;for(Va=L;Va<I;++Va)x[Va]=x[L-1];return x}function Fa(Va,I){const x=new Int8Array(I),L=Va.length;
for(let J=0;J<L;++J)x[J]|=La[Va[J]];for(Va=L;Va<I;++Va)x[Va]=x[L-1];return x}function la(Va){return Va&&Va.mark&&Va.mark.marktype}function ra(Va,I,x,L){const J=B=>[B.x,B.x,B.x,B.y,B.y,B.y];return Va?"line"===Va||"area"===Va?B=>J(B.datum):"line"===I?B=>{B=B.datum.items[L].items;return J(B.length?B["start"===x?0:B.length-1]:{x:NaN,y:NaN})}:B=>{B=B.datum.bounds;return[B.x1,(B.x1+B.x2)/2,B.x2,B.y1,(B.y1+B.y2)/2,B.y2]}:J}function Qa(Va){z.Transform.call(this,null,Va)}const za=new Uint32Array(33),Ta=new Uint32Array(33);
Ta[0]=0;za[0]=~Ta[0];for(let Va=1;32>=Va;++Va)Ta[Va]=Ta[Va-1]<<1|1,za[Va]=~Ta[Va];const K=[-1,-1,1,1],ia=[-1,1,-1,1],ya=["right","center","left"],ua=["bottom","middle","top"],La={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Oa={naive:function(Va,I,x,L){const J=Va.width,B=Va.height;return function(R){const aa=R.datum.datum.items[L].items,ea=aa.length,Ca=R.datum.fontSize,Ia=Ra.textMetrics.width(R.datum,R.datum.text);let H=0;let da,ca,X,e,c;for(let l=
0;l<ea;++l){var f=aa[l].x;ca=aa[l].y;da=void 0===aa[l].x2?f:aa[l].x2;X=void 0===aa[l].y2?ca:aa[l].y2;e=(f+da)/2;c=(ca+X)/2;f=Math.abs(da-f+X-ca);f>=H&&(H=f,R.x=e,R.y=c)}e=Ia/2;c=Ca/2;f=R.x-e;da=R.x+e;ca=R.y-c;X=R.y+c;R.align="center";0>f&&da<=J?R.align="left":0<=f&&J<da&&(R.align="right");R.baseline="middle";0>ca&&X<=B?R.baseline="top":0<=ca&&B<X&&(R.baseline="bottom");return!0}},"reduced-search":function(Va,I,x,L){function J(Ca,Ia,H,da,ca){Ca=Va.invert(Ca);Ia=Va.invert(Ia);let X=H,e=R,c;if(!Sa(Ca,
Ia,da,ca,B,R)&&!xa(Va,Ca,Ia,ca,da,X,aa,ea)&&!xa(Va,Ca,Ia,ca,da,ca,aa,null)){for(;1<=e-X;)c=(X+e)/2,xa(Va,Ca,Ia,ca,da,c,aa,ea)?e=c:X=c;if(X>H)return[Ca,Ia,X,!0]}}const B=Va.width,R=Va.height,aa=I[0],ea=I[1];return function(Ca){const Ia=Ca.datum.datum.items[L].items,H=Ia.length,da=Ca.datum.fontSize,ca=Ra.textMetrics.width(Ca.datum,Ca.datum.text);let X=x?da:0,e=!1,c=!1,f=0;let l;let m;let q,w,F,U,wa,cb,gb,Y;for(let ka=0;ka<H;++ka){var ta=Ia[ka].x;var G=Ia[ka].y;l=void 0===Ia[ka].x2?ta:Ia[ka].x2;m=void 0===
Ia[ka].y2?G:Ia[ka].y2;if(ta>l){var Q=ta;ta=l;l=Q}G>m&&(Q=G,G=m,m=Q);w=Va(ta);U=Va(l);F=~~((w+U)/2);wa=Va(G);gb=Va(m);cb=~~((wa+gb)/2);for(Q=F;Q>=w;--Q)for(q=cb;q>=wa;--q)(Y=J(Q,q,X,ca,da))&&([Ca.x,Ca.y,X,e]=Y);for(Q=F;Q<=U;++Q)for(q=cb;q<=gb;++q)(Y=J(Q,q,X,ca,da))&&([Ca.x,Ca.y,X,e]=Y);e||x||(Q=Math.abs(l-ta+m-G),ta=(ta+l)/2,G=(G+m)/2,Q>=f&&!Sa(ta,G,ca,da,B,R)&&!xa(Va,ta,G,da,ca,da,aa,null)&&(f=Q,Ca.x=ta,Ca.y=G,c=!0))}return e||c?(ta=ca/2,G=da/2,aa.setRange(Va(Ca.x-ta),Va(Ca.y-G),Va(Ca.x+ta),Va(Ca.y+
G)),Ca.align="center",Ca.baseline="middle",!0):!1}},floodfill:function(Va,I,x,L){const J=Va.width,B=Va.height,R=I[0],aa=I[1],ea=Va.bitmap();return function(Ca){const Ia=Ca.datum.datum.items[L].items,H=Ia.length,da=Ca.datum.fontSize,ca=Ra.textMetrics.width(Ca.datum,Ca.datum.text),X=[];let e=x?da:0,c=!1,f=!1,l=0,m,q,w,F,U,wa;var cb;for(let ta=0;ta<H;++ta){m=Ia[ta].x;w=Ia[ta].y;q=void 0===Ia[ta].x2?m:Ia[ta].x2;F=void 0===Ia[ta].y2?w:Ia[ta].y2;for(X.push([Va((m+q)/2),Va((w+F)/2)]);X.length;)if([gb,Y]=
X.pop(),!(R.get(gb,Y)||aa.get(gb,Y)||ea.get(gb,Y))){ea.set(gb,Y);for(cb=0;4>cb;++cb)U=gb+K[cb],wa=Y+ia[cb],ea.outOfBounds(U,wa,U,wa)||X.push([U,wa]);U=Va.invert(gb);wa=Va.invert(Y);var gb=e;var Y=B;if(!Sa(U,wa,ca,da,J,B)&&!xa(Va,U,wa,da,ca,gb,R,aa)&&!xa(Va,U,wa,da,ca,da,R,null)){for(;1<=Y-gb;)cb=(gb+Y)/2,xa(Va,U,wa,da,ca,cb,R,aa)?Y=cb:gb=cb;gb>e&&(Ca.x=U,Ca.y=wa,e=gb,c=!0)}}c||x||(gb=Math.abs(q-m+F-w),U=(m+q)/2,wa=(w+F)/2,gb>=l&&!Sa(U,wa,ca,da,J,B)&&!xa(Va,U,wa,da,ca,da,R,null)&&(l=gb,Ca.x=U,Ca.y=
wa,f=!0))}return c||f?(U=ca/2,wa=da/2,R.setRange(Va(Ca.x-U),Va(Ca.y-wa),Va(Ca.x+U),Va(Ca.y+wa)),Ca.align="center",Ca.baseline="middle",!0):!1}}},Aa=["x","y","opacity","align","baseline"],ab="top-left left bottom-left top bottom top-right right bottom-right".split(" ");Qa.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ab},{name:"offset",type:"number",array:!0,
default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Aa.length,default:Aa}]};tb.inherits(Qa,z.Transform,{transform(Va,I){function x(B){B=Va[B];return tb.isFunction(B)&&I.modified(B.fields)}const L=Va.modified();
if(L||I.changed(I.ADD_REM)||x("sort")){Va.size&&2===Va.size.length||tb.error("Size parameter should be specified as a [width, height] array.");var J=Va.as||Aa;na(I.materialize(I.SOURCE).source,Va.size,Va.sort,tb.array(Va.offset||1),tb.array(Va.anchor||ab),Va.avoidMarks||[],!1===Va.avoidBaseMark?!1:!0,Va.lineAnchor||"end",Va.markIndex||0,Va.padding||0,Va.method||"naive").forEach(B=>{const R=B.datum;R[J[0]]=B.x;R[J[1]]=B.y;R[J[2]]=B.opacity;R[J[3]]=B.align;R[J[4]]=B.baseline});return I.reflow(L).modifies(J)}}});
h.label=Qa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[55]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(31),Qb(29),Qb(17)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega))})(this,function(h,r,z,Ra){function tb(hb,Ka){var Ha=[],Sa=function(ra){return ra(Ba)},xa;if(null==Ka)Ha.push(hb);else{var ma={};var na=0;for(xa=hb.length;na<xa;++na){var Ba=hb[na];
var Fa=Ka.map(Sa);var la=ma[Fa];la||(ma[Fa]=la=[],la.dims=Fa,Ha.push(la));la.push(Ba)}}return Ha}function bb(hb){z.Transform.call(this,null,hb)}function wb(hb){z.Transform.call(this,null,hb)}bb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Ra.inherits(bb,z.Transform,{transform(hb,Ka){const Ha=Ka.fork(Ka.NO_SOURCE|
Ka.NO_FIELDS);if(!this.value||Ka.changed()||hb.modified()){Ka=Ka.materialize(Ka.SOURCE).source;Ka=tb(Ka,hb.groupby);const Sa=(hb.groupby||[]).map(Ra.accessorName),xa=Sa.length,ma=hb.as||[Ra.accessorName(hb.x),Ra.accessorName(hb.y)],na=[];Ka.forEach(Ba=>{r.regressionLoess(Ba,hb.x,hb.y,hb.bandwidth||.3).forEach(Fa=>{const la={};for(let ra=0;ra<xa;++ra)la[Sa[ra]]=Ba.dims[ra];la[ma[0]]=Fa[0];la[ma[1]]=Fa[1];na.push(z.ingest(la))})});this.value&&(Ha.rem=this.value);this.value=Ha.add=Ha.source=na}return Ha}});
const Hb={linear:r.regressionLinear,log:r.regressionLog,exp:r.regressionExp,pow:r.regressionPow,quad:r.regressionQuad,poly:r.regressionPoly};wb.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Hb)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0}]};Ra.inherits(wb,z.Transform,{transform(hb,Ka){const Ha=Ka.fork(Ka.NO_SOURCE|Ka.NO_FIELDS);if(!this.value||Ka.changed()||hb.modified()){var Sa=Ka.materialize(Ka.SOURCE).source;Sa=tb(Sa,hb.groupby);const xa=(hb.groupby||[]).map(Ra.accessorName),ma=hb.method||"linear",na=hb.order||3,Ba="poly"===ma?na:"quad"===ma?2:1,Fa=hb.as||[Ra.accessorName(hb.x),Ra.accessorName(hb.y)],la=Hb[ma],ra=[];let Qa=hb.extent;Ra.hasOwnProperty(Hb,ma)||Ra.error("Invalid regression method: "+
ma);null!=Qa&&"log"===ma&&0>=Qa[0]&&(Ka.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),Qa=null);Sa.forEach(za=>{if(za.length<=Ba)Ka.dataflow.warn("Skipping regression with more parameters than data points.");else{var Ta=la(za,hb.x,hb.y,na);if(hb.params)ra.push(z.ingest({keys:za.dims,coef:Ta.coef,rSquared:Ta.rSquared}));else{var K=Qa||Ra.extent(za,hb.x),ia=ya=>{const ua={};for(let La=0;La<xa.length;++La)ua[xa[La]]=za.dims[La];ua[Fa[0]]=ya[0];ua[Fa[1]]=ya[1];ra.push(z.ingest(ua))};
"linear"===ma?K.forEach(ya=>ia([ya,Ta.predict(ya)])):r.sampleCurve(Ta.predict,K,25,200).forEach(ia)}}});this.value&&(Ha.rem=this.value);this.value=Ha.add=Ha.source=ra}return Ha}});h.loess=bb;h.regression=wb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[56]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(K,ia,ya,ua){K-=ya;ia-=ua;return K*K+ia*ia}function z(K,ia,ya,ua,La,Oa){ua=(ua-ia)*(La-K);K=(ya-K)*(Oa-ia);return Math.abs(ua-K)>=3.3306690738754716E-16*Math.abs(ua+K)?ua-K:0}function Ra(K,ia,ya,ua,La,Oa){return 0>(z(La,Oa,K,ia,ya,ua)||z(K,ia,ya,ua,La,Oa)||z(ya,ua,La,Oa,K,ia))}
function tb(K,ia,ya,ua){if(20>=ua-ya)for(var La=ya+1;La<=ua;La++){for(var Oa=K[La],Aa=ia[Oa],ab=La-1;ab>=ya&&ia[K[ab]]>Aa;)K[ab+1]=K[ab--];K[ab+1]=Oa}else{La=ya+1;Oa=ua;bb(K,ya+ua>>1,La);ia[K[ya]]>ia[K[ua]]&&bb(K,ya,ua);ia[K[La]]>ia[K[ua]]&&bb(K,La,ua);ia[K[ya]]>ia[K[La]]&&bb(K,ya,La);Aa=K[La];for(ab=ia[Aa];;){do La++;while(ia[K[La]]<ab);do Oa--;while(ia[K[Oa]]>ab);if(Oa<La)break;bb(K,La,Oa)}K[ya+1]=K[Oa];K[Oa]=Aa;ua-La+1>=Oa-ya?(tb(K,ia,La,ua),tb(K,ia,ya,Oa-1)):(tb(K,ia,ya,Oa-1),tb(K,ia,La,ua))}}
function bb(K,ia,ya){const ua=K[ia];K[ia]=K[ya];K[ya]=ua}function wb(K){return K[0]}function Hb(K){return K[1]}function hb(K){return K[0]}function Ka(K){return K[1]}function Ha(K){const {triangles:ia,coords:ya}=K;for(K=0;K<ia.length;K+=3){const ua=2*ia[K],La=2*ia[K+1],Oa=2*ia[K+2];if(1E-10<(ya[Oa]-ya[ua])*(ya[La+1]-ya[ua+1])-(ya[La]-ya[ua])*(ya[Oa+1]-ya[ua+1]))return!1}return!0}function Sa(K,ia,ya){return[K+Math.sin(K+ia)*ya,ia+Math.cos(K-ia)*ya]}function*xa(K,ia,ya,ua){let La=0;for(const Oa of K)yield ia.call(ua,
Oa,La,K),yield ya.call(ua,Oa,La,K),++La}const ma=Math.pow(2,-52),na=new Uint32Array(512);class Ba{static from(K,ia=wb,ya=Hb){const ua=K.length,La=new Float64Array(2*ua);for(let Oa=0;Oa<ua;Oa++){const Aa=K[Oa];La[2*Oa]=ia(Aa);La[2*Oa+1]=ya(Aa)}return new Ba(La)}constructor(K){const ia=K.length>>1;if(0<ia&&"number"!==typeof K[0])throw Error("Expected coords to contain numbers.");this.coords=K;K=Math.max(2*ia-5,0);this._triangles=new Uint32Array(3*K);this._halfedges=new Int32Array(3*K);this._hashSize=
Math.ceil(Math.sqrt(ia));this._hullPrev=new Uint32Array(ia);this._hullNext=new Uint32Array(ia);this._hullTri=new Uint32Array(ia);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(ia);this._dists=new Float64Array(ia);this.update()}update(){const {coords:K,_hullPrev:ia,_hullNext:ya,_hullTri:ua,_hullHash:La}=this;var Oa=K.length>>1,Aa=Infinity,ab=Infinity,Va=-Infinity,I=-Infinity;for(var x=0;x<Oa;x++){var L=K[2*x];var J=K[2*x+1];L<Aa&&(Aa=L);J<ab&&(ab=J);L>Va&&(Va=L);
J>I&&(I=J);this._ids[x]=x}Va=(Aa+Va)/2;ab=(ab+I)/2;Aa=Infinity;for(I=0;I<Oa;I++)if(x=r(Va,ab,K[2*I],K[2*I+1]),x<Aa){var B=I;Aa=x}ab=K[2*B];I=K[2*B+1];Aa=Infinity;for(Va=0;Va<Oa;Va++)if(Va!==B&&(x=r(ab,I,K[2*Va],K[2*Va+1]),x<Aa&&0<x)){var R=Va;Aa=x}Aa=K[2*R];Va=K[2*R+1];J=Infinity;for(x=0;x<Oa;x++)if(x!==B&&x!==R){L=Aa-ab;var aa=Va-I;var ea=K[2*x]-ab;var Ca=K[2*x+1]-I,Ia=L*L+aa*aa,H=ea*ea+Ca*Ca,da=.5/(L*Ca-aa*ea);aa=(Ca*Ia-aa*H)*da;L=(L*H-ea*Ia)*da;L=aa*aa+L*L;if(L<J){var ca=x;J=L}}x=K[2*ca];L=K[2*
ca+1];if(Infinity===J){for(B=0;B<Oa;B++)this._dists[B]=K[2*B]-K[0]||K[2*B+1]-K[1];tb(this._ids,this._dists,0,Oa-1);B=new Uint32Array(Oa);R=0;for(let X=0,e=-Infinity;X<Oa;X++)ca=this._ids[X],this._dists[ca]>e&&(B[R++]=ca,e=this._dists[ca]);this.hull=B.subarray(0,R);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Ra(ab,I,Aa,Va,x,L)&&(J=R,ea=Aa,Ia=Va,R=ca,Aa=x,Va=L,ca=J,x=ea,L=Ia);ea=Aa-ab;J=Va-I;Ia=x-ab;Ca=L-I;H=ea*ea+J*J;da=Ia*Ia+Ca*Ca;aa=.5/(ea*Ca-J*Ia);J=ab+(Ca*H-J*da)*aa;
ea=I+(ea*da-Ia*H)*aa;this._cx=J;this._cy=ea;for(Ia=0;Ia<Oa;Ia++)this._dists[Ia]=r(K[2*Ia],K[2*Ia+1],J,ea);tb(this._ids,this._dists,0,Oa-1);this._hullStart=B;Oa=3;ya[B]=ia[ca]=R;ya[R]=ia[B]=ca;ya[ca]=ia[R]=B;ua[B]=0;ua[R]=1;ua[ca]=2;La.fill(-1);La[this._hashKey(ab,I)]=B;La[this._hashKey(Aa,Va)]=R;La[this._hashKey(x,L)]=ca;this.trianglesLen=0;this._addTriangle(B,R,ca,-1,-1,-1);for(let X=0,e,c;X<this._ids.length;X++){ab=this._ids[X];I=K[2*ab];Aa=K[2*ab+1];if(0<X&&Math.abs(I-e)<=ma&&Math.abs(Aa-c)<=ma)continue;
e=I;c=Aa;if(ab===B||ab===R||ab===ca)continue;Va=0;for(let l=0,m=this._hashKey(I,Aa);l<this._hashSize&&(Va=La[(m+l)%this._hashSize],-1===Va||Va===ya[Va]);l++);x=Va=ia[Va];let f;for(;f=ya[x],!Ra(I,Aa,K[2*x],K[2*x+1],K[2*f],K[2*f+1]);)if(x=f,x===Va){x=-1;break}if(-1!==x){L=this._addTriangle(x,ab,ya[x],-1,-1,ua[x]);ua[ab]=this._legalize(L+2);ua[x]=L;Oa++;for(J=ya[x];f=ya[J],Ra(I,Aa,K[2*J],K[2*J+1],K[2*f],K[2*f+1]);)L=this._addTriangle(J,ab,f,ua[ab],-1,ua[J]),ua[ab]=this._legalize(L+2),ya[J]=J,Oa--,J=
f;if(x===Va)for(;f=ia[x],Ra(I,Aa,K[2*f],K[2*f+1],K[2*x],K[2*x+1]);)L=this._addTriangle(f,ab,x,-1,ua[x],ua[f]),this._legalize(L+2),ua[f]=L,ya[x]=x,Oa--,x=f;this._hullStart=ia[ab]=x;ya[x]=ia[J]=ab;ya[ab]=J;La[this._hashKey(I,Aa)]=ab;La[this._hashKey(K[2*x],K[2*x+1])]=x}}this.hull=new Uint32Array(Oa);for(let X=0,e=this._hullStart;X<Oa;X++)this.hull[X]=e,e=ya[e];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(K,ia){var ya=
Math;K-=this._cx;ia-=this._cy;K/=Math.abs(K)+Math.abs(ia);return ya.floor.call(ya,(0<ia?3-K:1+K)/4*this._hashSize)%this._hashSize}_legalize(K){const {_triangles:ia,_halfedges:ya,coords:ua}=this;let La=0;for(var Oa;;){const J=ya[K];var Aa=K-K%3;Oa=Aa+(K+2)%3;if(-1===J){if(0===La)break;K=na[--La];continue}const B=J-J%3,R=B+(J+2)%3;var ab=ia[Oa],Va=ia[K],I=ia[Aa+(K+1)%3];Aa=ia[R];var x=ua[2*Aa],L=ua[2*Aa+1];const aa=ua[2*ab]-x,ea=ua[2*ab+1]-L,Ca=ua[2*Va]-x;Va=ua[2*Va+1]-L;x=ua[2*I]-x;L=ua[2*I+1]-L;I=
Ca*Ca+Va*Va;const Ia=x*x+L*L;if(0>aa*(Va*Ia-I*L)-ea*(Ca*Ia-I*x)+(aa*aa+ea*ea)*(Ca*L-Va*x)){ia[K]=Aa;ia[J]=ab;ab=ya[R];if(-1===ab){Aa=this._hullStart;do{if(this._hullTri[Aa]===R){this._hullTri[Aa]=K;break}Aa=this._hullPrev[Aa]}while(Aa!==this._hullStart)}this._link(K,ab);this._link(J,ya[Oa]);this._link(Oa,R);Oa=B+(J+1)%3;La<na.length&&(na[La++]=Oa)}else{if(0===La)break;K=na[--La]}}return Oa}_link(K,ia){this._halfedges[K]=ia;-1!==ia&&(this._halfedges[ia]=K)}_addTriangle(K,ia,ya,ua,La,Oa){const Aa=this.trianglesLen;
this._triangles[Aa]=K;this._triangles[Aa+1]=ia;this._triangles[Aa+2]=ya;this._link(Aa,ua);this._link(Aa+1,La);this._link(Aa+2,Oa);this.trianglesLen+=3;return Aa}}class Fa{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(K,ia){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+ia}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(K,ia){this._+=`L${this._x1=+K},${this._y1=+ia}`}arc(K,ia,ya){K=+K;ia=+ia;ya=+ya;const ua=K+ya,La=ia;if(0>ya)throw Error("negative radius");
if(null===this._x1)this._+=`M${ua},${La}`;else if(1E-6<Math.abs(this._x1-ua)||1E-6<Math.abs(this._y1-La))this._+="L"+ua+","+La;ya&&(this._+=`A${ya},${ya},0,1,1,${K-ya},${ia}A${ya},${ya},0,1,1,${this._x1=ua},${this._y1=La}`)}rect(K,ia,ya,ua){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+ia}h${+ya}v${+ua}h${-ya}Z`}value(){return this._||null}}class la{constructor(){this._=[]}moveTo(K,ia){this._.push([K,ia])}closePath(){this._.push(this._[0].slice())}lineTo(K,ia){this._.push([K,ia])}value(){return this._.length?
this._:null}}class ra{constructor(K,[ia,ya,ua,La]=[0,0,960,500]){if(!((ua=+ua)>=(ia=+ia)&&(La=+La)>=(ya=+ya)))throw Error("invalid bounds");this.delaunay=K;this._circumcenters=new Float64Array(2*K.points.length);this.vectors=new Float64Array(2*K.points.length);this.xmax=ua;this.xmin=ia;this.ymax=La;this.ymin=ya;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:K,hull:ia,triangles:ya},vectors:ua}=this;var La=this.circumcenters=this._circumcenters.subarray(0,
ya.length/3*2);for(let J=0,B=0,R=ya.length,aa,ea;J<R;J+=3,B+=2){var Oa=2*ya[J],Aa=2*ya[J+1],ab=2*ya[J+2],Va=K[Oa];Oa=K[Oa+1];var I=K[ab],x=K[ab+1];ab=K[Aa]-Va;Aa=K[Aa+1]-Oa;var L=I-Va;const Ca=x-Oa,Ia=ab*ab+Aa*Aa,H=L*L+Ca*Ca,da=2*(ab*Ca-Aa*L);da?1E-8>Math.abs(da)?(aa=(Va+I)/2,ea=(Oa+x)/2):(I=1/da,aa=Va+(Ca*Ia-Aa*H)*I,ea=Oa+(ab*H-L*Ia)*I):(aa=(Va+I)/2-1E8*Ca,ea=(Oa+x)/2+1E8*L);La[B]=aa;La[B+1]=ea}La=ia[ia.length-1];Oa=4*La;ab=K[2*La];Aa=K[2*La+1];ua.fill(0);for(L=0;L<ia.length;++L)La=ia[L],Va=Oa,I=
ab,x=Aa,Oa=4*La,ab=K[2*La],Aa=K[2*La+1],ua[Va+2]=ua[Oa]=x-Aa,ua[Va+3]=ua[Oa+1]=ab-I}render(K){const ia=null==K?K=new Fa:void 0,{delaunay:{halfedges:ya,inedges:ua,hull:La},circumcenters:Oa,vectors:Aa}=this;if(1>=La.length)return null;for(let L=0,J=ya.length;L<J;++L){var ab=ya[L];if(!(ab<L)){var Va=2*Math.floor(L/3);ab=2*Math.floor(ab/3);this._renderSegment(Oa[Va],Oa[Va+1],Oa[ab],Oa[ab+1],K)}}Va=La[La.length-1];for(ab=0;ab<La.length;++ab){var I=Va;Va=La[ab];var x=2*Math.floor(ua[Va]/3);const L=Oa[x];
x=Oa[x+1];I*=4;(I=this._project(L,x,Aa[I+2],Aa[I+3]))&&this._renderSegment(L,x,I[0],I[1],K)}return ia&&ia.value()}renderBounds(K){const ia=null==K?K=new Fa:void 0;K.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return ia&&ia.value()}renderCell(K,ia){const ya=null==ia?ia=new Fa:void 0;K=this._clip(K);if(null!==K&&K.length){ia.moveTo(K[0],K[1]);for(var ua=K.length;K[0]===K[ua-2]&&K[1]===K[ua-1]&&1<ua;)ua-=2;for(let La=2;La<ua;La+=2)K[La]===K[La-2]&&K[La+1]===K[La-1]||ia.lineTo(K[La],
K[La+1]);ia.closePath();return ya&&ya.value()}}*cellPolygons(){var {delaunay:{points:K}}=this;for(let ia=0,ya=K.length/2;ia<ya;++ia)if(K=this.cellPolygon(ia))K.index=ia,yield K}cellPolygon(K){const ia=new la;this.renderCell(K,ia);return ia.value()}_renderSegment(K,ia,ya,ua,La){const Oa=this._regioncode(K,ia),Aa=this._regioncode(ya,ua);if(0===Oa&&0===Aa)La.moveTo(K,ia),La.lineTo(ya,ua);else if(K=this._clipSegment(K,ia,ya,ua,Oa,Aa))La.moveTo(K[0],K[1]),La.lineTo(K[2],K[3])}contains(K,ia,ya){return(ia=
+ia,ia!==ia)||(ya=+ya,ya!==ya)?!1:this.delaunay._step(K,ia,ya)===K}*neighbors(K){const ia=this._clip(K);if(ia)for(const ya of this.delaunay.neighbors(K))if(K=this._clip(ya))a:for(let ua=0,La=ia.length;ua<La;ua+=2)for(let Oa=0,Aa=K.length;Oa<Aa;Oa+=2)if(ia[ua]==K[Oa]&&ia[ua+1]==K[Oa+1]&&ia[(ua+2)%La]==K[(Oa+Aa-2)%Aa]&&ia[(ua+3)%La]==K[(Oa+Aa-1)%Aa]){yield ya;break a}}_cell(K){const {circumcenters:ia,delaunay:{inedges:ya,halfedges:ua,triangles:La}}=this,Oa=ya[K];if(-1===Oa)return null;const Aa=[];let ab=
Oa;do{const Va=Math.floor(ab/3);Aa.push(ia[2*Va],ia[2*Va+1]);ab=2===ab%3?ab-2:ab+1;if(La[ab]!==K)break;ab=ua[ab]}while(ab!==Oa&&-1!==ab);return Aa}_clip(K){if(0===K&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const ia=this._cell(K);if(null===ia)return null;const {vectors:ya}=this,ua=4*K;return ya[ua]||ya[ua+1]?this._clipInfinite(K,ia,ya[ua],ya[ua+1],ya[ua+2],ya[ua+3]):this._clipFinite(K,ia)}_clipFinite(K,ia){const ya=ia.length;
let ua=null;let La=ia[ya-2],Oa=ia[ya-1];let Aa=this._regioncode(La,Oa),ab;for(let L=0;L<ya;L+=2){var Va=La;var I=Oa;La=ia[L];Oa=ia[L+1];var x=Aa;Aa=this._regioncode(La,Oa);if(0===x&&0===Aa)ab=0,ua?ua.push(La,Oa):ua=[La,Oa];else{let J,B;if(0===x){if(null===(Va=this._clipSegment(Va,I,La,Oa,x,Aa)))continue;[I,x,J,B]=Va}else{if(null===(Va=this._clipSegment(La,Oa,Va,I,Aa,x)))continue;[J,B,I,x]=Va;Va=ab;ab=this._edgecode(I,x);Va&&ab&&this._edge(K,Va,ab,ua,ua.length);ua?ua.push(I,x):ua=[I,x]}Va=ab;ab=this._edgecode(J,
B);Va&&ab&&this._edge(K,Va,ab,ua,ua.length);ua?ua.push(J,B):ua=[J,B]}}if(ua)Va=ab,ab=this._edgecode(ua[0],ua[1]),Va&&ab&&this._edge(K,Va,ab,ua,ua.length);else if(this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ua}_clipSegment(K,ia,ya,ua,La,Oa){for(;;){if(0===La&&0===Oa)return[K,ia,ya,ua];if(La&Oa)return null;var Aa=void 0;let ab;Aa=La||Oa;Aa&8?(Aa=K+(ya-K)*(this.ymax-ia)/(ua-ia),ab=this.ymax):
Aa&4?(Aa=K+(ya-K)*(this.ymin-ia)/(ua-ia),ab=this.ymin):Aa&2?(ab=ia+(ua-ia)*(this.xmax-K)/(ya-K),Aa=this.xmax):(ab=ia+(ua-ia)*(this.xmin-K)/(ya-K),Aa=this.xmin);La?(K=Aa,ia=ab,La=this._regioncode(K,ia)):(ya=Aa,ua=ab,Oa=this._regioncode(ya,ua))}}_clipInfinite(K,ia,ya,ua,La,Oa){ia=Array.from(ia);let Aa;(Aa=this._project(ia[0],ia[1],ya,ua))&&ia.unshift(Aa[0],Aa[1]);(Aa=this._project(ia[ia.length-2],ia[ia.length-1],La,Oa))&&ia.push(Aa[0],Aa[1]);if(ia=this._clipFinite(K,ia))for(let ab=0,Va=ia.length,I,
x=this._edgecode(ia[Va-2],ia[Va-1]);ab<Va;ab+=2)I=x,x=this._edgecode(ia[ab],ia[ab+1]),I&&x&&(ab=this._edge(K,I,x,ia,ab),Va=ia.length);else this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(ia=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return ia}_edge(K,ia,ya,ua,La){for(;ia!==ya;){let Oa,Aa;switch(ia){case 5:ia=4;continue;case 4:ia=6;Oa=this.xmax;Aa=this.ymin;break;case 6:ia=2;continue;case 2:ia=10;Oa=this.xmax;Aa=this.ymax;break;case 10:ia=
8;continue;case 8:ia=9;Oa=this.xmin;Aa=this.ymax;break;case 9:ia=1;continue;case 1:ia=5,Oa=this.xmin,Aa=this.ymin}ua[La]===Oa&&ua[La+1]===Aa||!this.contains(K,Oa,Aa)||(ua.splice(La,0,Oa,Aa),La+=2)}if(4<ua.length)for(K=0;K<ua.length;K+=2)if(ia=(K+2)%ua.length,ya=(K+4)%ua.length,ua[K]===ua[ia]&&ua[ia]===ua[ya]||ua[K+1]===ua[ia+1]&&ua[ia+1]===ua[ya+1])ua.splice(ia,2),K-=2;return La}_project(K,ia,ya,ua){let La=Infinity,Oa,Aa,ab;if(0>ua){if(ia<=this.ymin)return null;(Oa=(this.ymin-ia)/ua)<La&&(ab=this.ymin,
Aa=K+(La=Oa)*ya)}else if(0<ua){if(ia>=this.ymax)return null;(Oa=(this.ymax-ia)/ua)<La&&(ab=this.ymax,Aa=K+(La=Oa)*ya)}if(0<ya){if(K>=this.xmax)return null;(Oa=(this.xmax-K)/ya)<La&&(Aa=this.xmax,ab=ia+Oa*ua)}else if(0>ya){if(K<=this.xmin)return null;(Oa=(this.xmin-K)/ya)<La&&(Aa=this.xmin,ab=ia+Oa*ua)}return[Aa,ab]}_edgecode(K,ia){return(K===this.xmin?1:K===this.xmax?2:0)|(ia===this.ymin?4:ia===this.ymax?8:0)}_regioncode(K,ia){return(K<this.xmin?1:K>this.xmax?2:0)|(ia<this.ymin?4:ia>this.ymax?8:0)}}
const Qa=2*Math.PI,za=Math.pow;class Ta{static from(K,ia=hb,ya=Ka,ua){if("length"in K){const La=K.length,Oa=new Float64Array(2*La);for(let Aa=0;Aa<La;++Aa){const ab=K[Aa];Oa[2*Aa]=ia.call(ua,ab,Aa,K);Oa[2*Aa+1]=ya.call(ua,ab,Aa,K)}K=Oa}else K=Float64Array.from(xa(K,ia,ya,ua));return new Ta(K)}constructor(K){this._delaunator=new Ba(K);this.inedges=new Int32Array(K.length/2);this._hullIndex=new Int32Array(K.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();
this._init();return this}_init(){var K=this._delaunator;const ia=this.points;if(K.hull&&2<K.hull.length&&Ha(K)){this.collinear=Int32Array.from({length:ia.length/2},(Aa,ab)=>ab).sort((Aa,ab)=>ia[2*Aa]-ia[2*ab]||ia[2*Aa+1]-ia[2*ab+1]);K=this.collinear[0];var ya=this.collinear[this.collinear.length-1];K=[ia[2*K],ia[2*K+1],ia[2*ya],ia[2*ya+1]];K=1E-8*Math.hypot(K[3]-K[1],K[2]-K[0]);for(let Aa=0,ab=ia.length/2;Aa<ab;++Aa)ya=Sa(ia[2*Aa],ia[2*Aa+1],K),ia[2*Aa]=ya[0],ia[2*Aa+1]=ya[1];this._delaunator=new Ba(ia)}else delete this.collinear;
K=this.halfedges=this._delaunator.halfedges;ya=this.hull=this._delaunator.hull;const ua=this.triangles=this._delaunator.triangles,La=this.inedges.fill(-1),Oa=this._hullIndex.fill(-1);for(let Aa=0,ab=K.length;Aa<ab;++Aa){const Va=ua[2===Aa%3?Aa-2:Aa+1];if(-1===K[Aa]||-1===La[Va])La[Va]=Aa}for(let Aa=0,ab=ya.length;Aa<ab;++Aa)Oa[ya[Aa]]=Aa;2>=ya.length&&0<ya.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=ya[0],this.triangles[1]=ya[1],
this.triangles[2]=ya[1],La[ya[0]]=1,2===ya.length&&(La[ya[1]]=0))}voronoi(K){return new ra(this,K)}*neighbors(K){const {inedges:ia,hull:ya,_hullIndex:ua,halfedges:La,triangles:Oa,collinear:Aa}=this;if(Aa){var ab=Aa.indexOf(K);0<ab&&(yield Aa[ab-1]);ab<Aa.length-1&&(yield Aa[ab+1])}else{var Va=ia[K];if(-1!==Va){var I=Va;do{yield(ab=Oa[I]);I=2===I%3?I-2:I+1;if(Oa[I]!==K)break;I=La[I];if(-1===I){K=ya[(ua[K]+1)%ya.length];K!==ab&&(yield K);break}}while(I!==Va)}}}find(K,ia,ya=0){if((K=+K,K!==K)||(ia=+ia,
ia!==ia))return-1;const ua=ya;let La;for(;0<=(La=this._step(ya,K,ia))&&La!==ya&&La!==ua;)ya=La;return La}_step(K,ia,ya){const {inedges:ua,hull:La,_hullIndex:Oa,halfedges:Aa,triangles:ab,points:Va}=this;if(-1===ua[K]||!Va.length)return(K+1)%(Va.length>>1);let I=K,x=za(ia-Va[2*K],2)+za(ya-Va[2*K+1],2);const L=ua[K];let J=L;do{let B=ab[J];const R=za(ia-Va[2*B],2)+za(ya-Va[2*B+1],2);R<x&&(x=R,I=B);J=2===J%3?J-2:J+1;if(ab[J]!==K)break;J=Aa[J];if(-1===J){J=La[(Oa[K]+1)%La.length];if(J!==B&&za(ia-Va[2*J],
2)+za(ya-Va[2*J+1],2)<x)return J;break}}while(J!==L);return I}render(K){const ia=null==K?K=new Fa:void 0,{points:ya,halfedges:ua,triangles:La}=this;for(let Aa=0,ab=ua.length;Aa<ab;++Aa){var Oa=ua[Aa];if(Oa<Aa)continue;const Va=2*La[Aa];Oa=2*La[Oa];K.moveTo(ya[Va],ya[Va+1]);K.lineTo(ya[Oa],ya[Oa+1])}this.renderHull(K);return ia&&ia.value()}renderPoints(K,ia=2){const ya=null==K?K=new Fa:void 0,{points:ua}=this;for(let La=0,Oa=ua.length;La<Oa;La+=2){const Aa=ua[La],ab=ua[La+1];K.moveTo(Aa+ia,ab);K.arc(Aa,
ab,ia,0,Qa)}return ya&&ya.value()}renderHull(K){const ia=null==K?K=new Fa:void 0,{hull:ya,points:ua}=this;var La=2*ya[0];const Oa=ya.length;K.moveTo(ua[La],ua[La+1]);for(La=1;La<Oa;++La){const Aa=2*ya[La];K.lineTo(ua[Aa],ua[Aa+1])}K.closePath();return ia&&ia.value()}hullPolygon(){const K=new la;this.renderHull(K);return K.value()}renderTriangle(K,ia){const ya=null==ia?ia=new Fa:void 0,{points:ua,triangles:La}=this,Oa=2*La[K*=3],Aa=2*La[K+1];K=2*La[K+2];ia.moveTo(ua[Oa],ua[Oa+1]);ia.lineTo(ua[Aa],
ua[Aa+1]);ia.lineTo(ua[K],ua[K+1]);ia.closePath();return ya&&ya.value()}*trianglePolygons(){const {triangles:K}=this;for(let ia=0,ya=K.length/3;ia<ya;++ia)yield this.trianglePolygon(ia)}trianglePolygon(K){const ia=new la;this.renderTriangle(K,ia);return ia.value()}}h.Delaunay=Ta;h.Voronoi=ra;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[57]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(29),Qb(17),Qb(56)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3))})(this,function(h,r,z,Ra){function tb(wb){r.Transform.call(this,null,wb)}tb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const bb=[-1E5,-1E5,1E5,1E5];z.inherits(tb,r.Transform,{transform(wb,Hb){const hb=wb.as||"path",Ka=Hb.source;if(!Ka||!Ka.length)return Hb;var Ha=wb.size;Ha=Ha?[0,0,Ha[0],Ha[1]]:(Ha=wb.extent)?[Ha[0][0],Ha[0][1],Ha[1][0],Ha[1][1]]:bb;Ha=this.value=
Ra.Delaunay.from(Ka,wb.x,wb.y).voronoi(Ha);for(let ma=0,na=Ka.length;ma<na;++ma){var Sa=Ha.cellPolygon(ma),xa=Ka[ma];if(Sa){const Ba=Sa[0][0],Fa=Sa[0][1];let la=Sa.length-1;for(;Sa[la][0]===Ba&&Sa[la][1]===Fa;--la);Sa="M"+Sa.slice(0,la+1).join("L")+"Z"}else Sa=null;xa[hb]=Sa}return Hb.reflow(wb.modified()).modifies(hb)}});h.voronoi=tb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[58]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(35),Qb(29),Qb(17),Qb(39),Qb(31)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega,h.vega,h.vega))})(this,function(h,r,z,Ra,tb,bb){function wb(){function la(I){I.width=I.height=1;var x=Math.sqrt(I.getContext("2d").getImageData(0,
0,1,1).data.length>>2);I.width=2048/x;I.height=2048/x;I=I.getContext("2d");I.fillStyle=I.strokeStyle="red";I.textAlign="center";return{context:I,ratio:x}}function ra(I,x,L){for(var J=x.x,B=x.y,R=Math.sqrt(Qa[0]*Qa[0]+Qa[1]*Qa[1]),aa=Oa(Qa),ea=.5>ab()?1:-1,Ca=-ea,Ia,H;Ia=aa(Ca+=ea);){H=~~Ia[0];Ia=~~Ia[1];if(Math.min(Math.abs(H),Math.abs(Ia))>=R)break;x.x=J+H;x.y=B+Ia;if(!(0>x.x+x.x0||0>x.y+x.y0||x.x+x.x1>Qa[0]||x.y+x.y1>Qa[1])){if(!(H=!L)){a:{H=Qa[0];H>>=5;Ia=x.sprite;var da=x.width>>5;var ca=x.x-
(da<<4);for(var X=ca&127,e=32-X,c=x.y1-x.y0,f=(x.y+x.y0)*H+(ca>>5),l=0;l<c;l++){for(var m=ca=0;m<=da;m++)if((ca<<e|(m<da?(ca=Ia[l*da+m])>>>X:0))&I[f+m]){H=!0;break a}f+=H}H=!1}H=!H}if(H&&(!L||x.x+x.x1>L[0].x&&x.x+x.x0<L[1].x&&x.y+x.y1>L[0].y&&x.y+x.y0<L[1].y)){L=x.sprite;J=x.width>>5;B=Qa[0]>>5;Ca=x.x-(J<<4);R=Ca&127;aa=32-R;ea=x.y1-x.y0;Ca=(x.y+x.y0)*B+(Ca>>5);for(Ia=0;Ia<ea;Ia++){for(da=H=0;da<=J;da++)I[Ca+da]=I[Ca+da]|H<<aa|(da<J?(H=L[Ia*J+da])>>>R:0);Ca+=B}x.sprite=null;return!0}}}return!1}var Qa=
[256,256],za,Ta,K,ia,ya,ua,La,Oa=Ka,Aa=[],ab=Math.random,Va={layout:function(){for(var I=la(r.canvas()),x=Ha((Qa[0]>>5)*Qa[1]),L=null,J=Aa.length,B=-1,R=[],aa=Aa.map(Ca=>({text:za(Ca),font:Ta(Ca),style:ia(Ca),weight:ya(Ca),rotate:ua(Ca),size:~~(K(Ca)+1E-14),padding:La(Ca),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Ca})).sort((Ca,Ia)=>Ia.size-Ca.size);++B<J;){var ea=aa[B];ea.x=Qa[0]*(ab()+.5)>>1;ea.y=Qa[1]*(ab()+.5)>>1;Hb(I,ea,aa,B);ea.hasText&&ra(x,ea,L)&&(R.push(ea),L?hb(L,ea):
L=[{x:ea.x+ea.x0,y:ea.y+ea.y0},{x:ea.x+ea.x1,y:ea.y+ea.y1}],ea.x-=Qa[0]>>1,ea.y-=Qa[1]>>1)}return R},words:function(I){return arguments.length?(Aa=I,Va):Aa},size:function(I){return arguments.length?(Qa=[+I[0],+I[1]],Va):Qa},font:function(I){return arguments.length?(Ta=Sa(I),Va):Ta},fontStyle:function(I){return arguments.length?(ia=Sa(I),Va):ia},fontWeight:function(I){return arguments.length?(ya=Sa(I),Va):ya},rotate:function(I){return arguments.length?(ua=Sa(I),Va):ua},text:function(I){return arguments.length?
(za=Sa(I),Va):za},spiral:function(I){return arguments.length?(Oa=na[I]||I,Va):Oa},fontSize:function(I){return arguments.length?(K=Sa(I),Va):K},padding:function(I){return arguments.length?(La=Sa(I),Va):La},random:function(I){return arguments.length?(ab=I,Va):ab}};return Va}function Hb(la,ra,Qa,za){if(!ra.sprite){var Ta=la.context,K=la.ratio;Ta.clearRect(0,0,2048/K,2048/K);var ia=la=0,ya=0,ua=Qa.length;for(--za;++za<ua;){ra=Qa[za];Ta.save();Ta.font=ra.style+" "+ra.weight+" "+~~((ra.size+1)/K)+"px "+
ra.font;var La=Ta.measureText(ra.text+"m").width*K;var Oa=ra.size<<1;if(ra.rotate){var Aa=Math.sin(ra.rotate*ma),ab=Math.cos(ra.rotate*ma),Va=La*ab,I=La*Aa;ab*=Oa;La=Oa*Aa;La=Math.max(Math.abs(Va+La),Math.abs(Va-La))+31>>5<<5;Oa=~~Math.max(Math.abs(I+ab),Math.abs(I-ab))}else La=La+31>>5<<5;Oa>ya&&(ya=Oa);2048<=la+La&&(la=0,ia+=ya,ya=0);if(2048<=ia+Oa)break;Ta.translate((la+(La>>1))/K,(ia+(Oa>>1))/K);ra.rotate&&Ta.rotate(ra.rotate*ma);Ta.fillText(ra.text,0,0);ra.padding&&(Ta.lineWidth=2*ra.padding,
Ta.strokeText(ra.text,0,0));Ta.restore();ra.width=La;ra.height=Oa;ra.xoff=la;ra.yoff=ia;ra.x1=La>>1;ra.y1=Oa>>1;ra.x0=-ra.x1;ra.y0=-ra.y1;ra.hasText=!0;la+=La}ua=Ta.getImageData(0,0,2048/K,2048/K).data;for(Va=[];0<=--za;)if(ra=Qa[za],ra.hasText){La=ra.width;Ta=La>>5;Oa=ra.y1-ra.y0;for(K=0;K<Oa*Ta;K++)Va[K]=0;la=ra.xoff;if(null==la)break;ia=ra.yoff;I=0;Aa=-1;for(ya=0;ya<Oa;ya++){for(K=0;K<La;K++)ab=ua[2048*(ia+ya)+(la+K)<<2]?1<<31-K%32:0,Va[Ta*ya+(K>>5)]|=ab,I|=ab;I?Aa=ya:(ra.y0++,Oa--,ya--,ia++)}ra.y1=
ra.y0+Aa;ra.sprite=Va.slice(0,(ra.y1-ra.y0)*Ta)}}}function hb(la,ra){var Qa=la[0];la=la[1];ra.x+ra.x0<Qa.x&&(Qa.x=ra.x+ra.x0);ra.y+ra.y0<Qa.y&&(Qa.y=ra.y+ra.y0);ra.x+ra.x1>la.x&&(la.x=ra.x+ra.x1);ra.y+ra.y1>la.y&&(la.y=ra.y+ra.y1)}function Ka(la){var ra=la[0]/la[1];return function(Qa){return[ra*(Qa*=.1)*Math.cos(Qa),Qa*Math.sin(Qa)]}}function Ha(la){for(var ra=[],Qa=-1;++Qa<la;)ra[Qa]=0;return ra}function Sa(la){return"function"===typeof la?la:function(){return la}}function xa(la){z.Transform.call(this,
wb(),la)}var ma=Math.PI/180,na={archimedean:Ka,rectangular:function(la){var ra=4*la[0]/la[1],Qa=0,za=0;return function(Ta){var K=0>Ta?-1:1;switch(Math.sqrt(1+4*K*Ta)-K&3){case 0:Qa+=ra;break;case 1:za+=4;break;case 2:Qa-=ra;break;default:za-=4}return[Qa,za]}}};const Ba="x y font fontSize fontStyle fontWeight angle".split(" "),Fa="text font rotate fontSize fontStyle fontWeight".split(" ");xa.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",
type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,
length:7,"default":Ba}]};Ra.inherits(xa,z.Transform,{transform(la,ra){function Qa(La){La=la[La];return Ra.isFunction(La)&&ra.modified(La.fields)}!la.size||la.size[0]&&la.size[1]||Ra.error("Wordcloud size dimensions must be non-zero.");const za=la.modified();if(za||ra.changed(ra.ADD_REM)||Fa.some(Qa)){var Ta=ra.materialize(ra.SOURCE).source,K=this.value,ia=la.as||Ba,ya=la.fontSize||14,ua;Ra.isFunction(ya)?ua=la.fontSizeRange:ya=Ra.constant(ya);if(ua){const La=ya,Oa=tb.scale("sqrt")().domain(Ra.extent(Ta,
La)).range(ua);ya=Aa=>Oa(La(Aa))}Ta.forEach(La=>{La[ia[0]]=NaN;La[ia[1]]=NaN;La[ia[3]]=0});Ta=K.words(Ta).text(la.text).size(la.size||[500,500]).padding(la.padding||1).spiral(la.spiral||"archimedean").rotate(la.rotate||0).font(la.font||"sans-serif").fontStyle(la.fontStyle||"normal").fontWeight(la.fontWeight||"normal").fontSize(ya).random(bb.random).layout();ya=K.size();K=ya[0]>>1;ya=ya[1]>>1;ua=Ta.length;for(let La=0,Oa,Aa;La<ua;++La)Oa=Ta[La],Aa=Oa.datum,Aa[ia[0]]=Oa.x+K,Aa[ia[1]]=Oa.y+ya,Aa[ia[2]]=
Oa.font,Aa[ia[3]]=Oa.size,Aa[ia[4]]=Oa.style,Aa[ia[5]]=Oa.weight,Aa[ia[6]]=Oa.rotate;return ra.reflow(za).modifies(ia)}}});h.wordcloud=xa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[59]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(18),Qb(29),Qb(17)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.d3,h.vega,h.vega))})(this,function(h,r,z,Ra){function tb(){let na=8,Ba=[],Fa=new Uint32Array(0),la=bb(0,na),ra=bb(0,na);return{data:()=>Ba,seen:()=>{var Qa=Fa;var za=Ba.length;
Qa.length>=za||(za=new Qa.constructor(za),za.set(Qa),Qa=za);return Fa=Qa},add(Qa){for(let za=0,Ta=Ba.length,K=Qa.length,ia;za<K;++za)ia=Qa[za],ia._index=Ta++,Ba.push(ia)},remove(Qa,za){const Ta=Ba.length;Qa=Array(Ta-Qa);const K=Ba;let ia,ya,ua;for(ya=0;!za[ya]&&ya<Ta;++ya)Qa[ya]=Ba[ya],K[ya]=ya;for(ua=ya;ya<Ta;++ya)ia=Ba[ya],za[ya]?K[ya]=-1:(K[ya]=ua,la[ua]=la[ya],ra[ua]=ra[ya],Qa[ua]=ia,ia._index=ua++),la[ya]=0;Ba=Qa;return K},size:()=>Ba.length,curr:()=>la,prev:()=>ra,reset:Qa=>ra[Qa]=la[Qa],all:()=>
257>na?255:65537>na?65535:4294967295,set(Qa,za){la[Qa]|=za},clear(Qa,za){la[Qa]&=~za},resize(Qa,za){if(Qa>la.length||za>na)na=Math.max(za,na),la=bb(Qa,na,la),ra=bb(Qa,na)}}}function bb(na,Ba,Fa){na=(257>Ba?Sa:65537>Ba?xa:ma)(na);Fa&&na.set(Fa);return na}function wb(na,Ba,Fa){const la=1<<Ba;return{one:la,zero:~la,range:Fa.slice(),bisect:na.bisect,index:na.index,size:na.size,onAdd(ra,Qa){var za=this.bisect(this.range,ra.value);ra=ra.index;const Ta=za[0];za=za[1];const K=ra.length;let ia;for(ia=0;ia<
Ta;++ia)Qa[ra[ia]]|=la;for(ia=za;ia<K;++ia)Qa[ra[ia]]|=la;return this}}}function Hb(){let na=new Uint32Array(0),Ba=[],Fa=0;return{insert:function(la,ra,Qa){if(!ra.length)return[];const za=Fa,Ta=ra.length,K=new Uint32Array(Ta);let ia=Array(Ta);var ya;for(ya=0;ya<Ta;++ya)ia[ya]=la(ra[ya]),K[ya]=ya;ia=hb(ia,K);if(za){la=Ba;ra=na;Ba=Array(za+Ta);na=new Uint32Array(za+Ta);ya=ia;var ua=Ba,La=na;let Oa=0,Aa=0,ab;for(ab=0;Oa<za&&Aa<Ta;++ab)la[Oa]<ya[Aa]?(ua[ab]=la[Oa],La[ab]=ra[Oa++]):(ua[ab]=ya[Aa],La[ab]=
K[Aa++]+Qa);for(;Oa<za;++Oa,++ab)ua[ab]=la[Oa],La[ab]=ra[Oa];for(;Aa<Ta;++Aa,++ab)ua[ab]=ya[Aa],La[ab]=K[Aa]+Qa}else{if(0<Qa)for(ya=0;ya<Ta;++ya)K[ya]+=Qa;Ba=ia;na=K}Fa=za+Ta;return{index:K,value:ia}},remove:function(la,ra){const Qa=Fa;let za,Ta,K;for(Ta=0;!ra[na[Ta]]&&Ta<Qa;++Ta);for(K=Ta;Ta<Qa;++Ta)ra[za=na[Ta]]||(na[K]=za,Ba[K]=Ba[Ta],++K);Fa=Qa-la},bisect:function(la,ra){let Qa;ra?Qa=ra.length:(ra=Ba,Qa=Fa);return[r.bisectLeft(ra,la[0],0,Qa),r.bisectRight(ra,la[1],0,Qa)]},reindex:function(la){for(let ra=
0,Qa=Fa;ra<Qa;++ra)na[ra]=la[na[ra]]},index:()=>na,size:()=>Fa}}function hb(na,Ba){na.sort.call(Ba,(Fa,la)=>{Fa=na[Fa];la=na[la];return Fa<la?-1:Fa>la?1:0});return r.permute(na,Ba)}function Ka(na){z.Transform.call(this,tb(),na);this._dims=this._indices=null}function Ha(na){z.Transform.call(this,null,na)}const Sa=na=>new Uint8Array(na),xa=na=>new Uint16Array(na),ma=na=>new Uint32Array(na);Ka.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",
type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ra.inherits(Ka,z.Transform,{transform(na,Ba){return this._dims?na.modified("fields")||na.fields.some(Fa=>Ba.modified(Fa.fields))?this.reinit(na,Ba):this.eval(na,Ba):this.init(na,Ba)},init(na,Ba){const Fa=na.fields,la=na.query,ra=this._indices={},Qa=this._dims=[],za=la.length;let Ta=0;for(var K;Ta<za;++Ta)K=Fa[Ta].fname,K=ra[K]||(ra[K]=Hb()),Qa.push(wb(K,Ta,la[Ta]));return this.eval(na,Ba)},reinit(na,Ba){const Fa=Ba.materialize().fork(),
la=na.fields,ra=na.query,Qa=this._indices,za=this._dims,Ta=this.value,K=Ta.curr(),ia=Ta.prev(),ya=Ta.all(),ua=Fa.rem=Fa.add,La=Fa.mod,Oa=ra.length,Aa={};let ab;var Va;let I,x,L,J;ia.set(K);Ba.rem.length&&(I=this.remove(na,Ba,Fa));Ba.add.length&&Ta.add(Ba.add);if(Ba.mod.length){x={};var B=Ba.mod;L=0;for(Va=B.length;L<Va;++L)x[B[L]._index]=1}for(L=0;L<Oa;++L)if(J=la[L],!za[L]||na.modified("fields",L)||Ba.modified(J.fields))Va=J.fname,(B=Aa[Va])||(Qa[Va]=ab=Hb(),Aa[Va]=B=ab.insert(J,Ba.source,0)),za[L]=
wb(ab,L,ra[L]).onAdd(B,K);L=0;for(Va=Ta.data().length;L<Va;++L)I[L]||(ia[L]!==K[L]?ua.push(L):x[L]&&K[L]!==ya&&La.push(L));Ta.mask=(1<<Oa)-1;return Fa},eval(na,Ba){const Fa=Ba.materialize().fork(),la=this._dims.length;let ra=0;Ba.rem.length&&(this.remove(na,Ba,Fa),ra|=(1<<la)-1);na.modified("query")&&!na.modified("fields")&&(ra|=this.update(na,Ba,Fa));Ba.add.length&&(this.insert(na,Ba,Fa),ra|=(1<<la)-1);Ba.mod.length&&(this.modify(Ba,Fa),ra|=(1<<la)-1);this.value.mask=ra;return Fa},insert(na,Ba,Fa){Ba=
Ba.add;var la=this.value;const ra=this._dims,Qa=this._indices;na=na.fields;const za={};Fa=Fa.add;const Ta=la.size()+Ba.length,K=ra.length;let ia=la.size();la.resize(Ta,K);la.add(Ba);const ya=la.curr(),ua=la.prev(),La=la.all();for(la=0;la<K;++la){var Oa=na[la].fname;Oa=za[Oa]||(za[Oa]=Qa[Oa].insert(na[la],Ba,ia));ra[la].onAdd(Oa,ya)}for(;ia<Ta;++ia)ua[ia]=La,ya[ia]!==La&&Fa.push(ia)},modify(na,Ba){Ba=Ba.mod;var Fa=this.value;const la=Fa.curr();Fa=Fa.all();na=na.mod;let ra,Qa,za;ra=0;for(Qa=na.length;ra<
Qa;++ra)za=na[ra]._index,la[za]!==Fa&&Ba.push(za)},remove(na,Ba,Fa){na=this._indices;var la=this.value;const ra=la.curr(),Qa=la.prev();la=la.all();const za={};Fa=Fa.rem;const Ta=Ba.rem;let K,ia,ya,ua;K=0;for(ia=Ta.length;K<ia;++K)ya=Ta[K]._index,za[ya]=1,Qa[ya]=ua=ra[ya],ra[ya]=la,ua!==la&&Fa.push(ya);for(ya in na)na[ya].remove(ia,za);this.reindex(Ba,ia,za);return za},reindex(na,Ba,Fa){const la=this._indices,ra=this.value;na.runAfter(()=>{const Qa=ra.remove(Ba,Fa);for(const za in la)la[za].reindex(Qa)})},
update(na,Ba,Fa){const la=this._dims,ra=na.query;Ba=Ba.stamp;const Qa=la.length;let za=0,Ta,K;for(K=Fa.filters=0;K<Qa;++K)na.modified("query",K)&&(Ta=K,++za);if(1===za)za=la[Ta].one,this.incrementOne(la[Ta],ra[Ta],Fa.add,Fa.rem);else for(za=K=0;K<Qa;++K)na.modified("query",K)&&(za|=la[K].one,this.incrementAll(la[K],ra[K],Ba,Fa.add),Fa.rem=Fa.add);return za},incrementAll(na,Ba,Fa,la){var ra=this.value;const Qa=ra.seen(),za=ra.curr();ra=ra.prev();const Ta=na.index();var K=na.bisect(na.range),ia=na.bisect(Ba);
const ya=ia[0];ia=ia[1];const ua=K[0];K=K[1];const La=na.one;let Oa,Aa,ab;if(ya<ua)for(Oa=ya,Aa=Math.min(ua,ia);Oa<Aa;++Oa)ab=Ta[Oa],Qa[ab]!==Fa&&(ra[ab]=za[ab],Qa[ab]=Fa,la.push(ab)),za[ab]^=La;else if(ya>ua)for(Oa=ua,Aa=Math.min(ya,K);Oa<Aa;++Oa)ab=Ta[Oa],Qa[ab]!==Fa&&(ra[ab]=za[ab],Qa[ab]=Fa,la.push(ab)),za[ab]^=La;if(ia>K)for(Oa=Math.max(ya,K),Aa=ia;Oa<Aa;++Oa)ab=Ta[Oa],Qa[ab]!==Fa&&(ra[ab]=za[ab],Qa[ab]=Fa,la.push(ab)),za[ab]^=La;else if(ia<K)for(Oa=Math.max(ua,ia),Aa=K;Oa<Aa;++Oa)ab=Ta[Oa],
Qa[ab]!==Fa&&(ra[ab]=za[ab],Qa[ab]=Fa,la.push(ab)),za[ab]^=La;na.range=Ba.slice()},incrementOne(na,Ba,Fa,la){const ra=this.value.curr(),Qa=na.index();var za=na.bisect(na.range),Ta=na.bisect(Ba);const K=Ta[0];Ta=Ta[1];const ia=za[0];za=za[1];const ya=na.one;let ua,La,Oa;if(K<ia)for(ua=K,La=Math.min(ia,Ta);ua<La;++ua)Oa=Qa[ua],ra[Oa]^=ya,Fa.push(Oa);else if(K>ia)for(ua=ia,La=Math.min(K,za);ua<La;++ua)Oa=Qa[ua],ra[Oa]^=ya,la.push(Oa);if(Ta>za)for(ua=Math.max(K,za),La=Ta;ua<La;++ua)Oa=Qa[ua],ra[Oa]^=
ya,Fa.push(Oa);else if(Ta<za)for(ua=Math.max(ia,Ta),La=za;ua<La;++ua)Oa=Qa[ua],ra[Oa]^=ya,la.push(Oa);na.range=Ba.slice()}});Ha.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ra.inherits(Ha,z.Transform,{transform(na,Ba){const Fa=~(na.ignore||0);na=na.filter;const la=na.mask;if(0===
(la&Fa))return Ba.StopPropagation;Ba=Ba.fork(Ba.ALL);const ra=na.data(),Qa=na.curr(),za=na.prev(),Ta=K=>Qa[K]&Fa?null:ra[K];Ba.filter(Ba.MOD,Ta);la&la-1?(Ba.filter(Ba.ADD,K=>{const ia=Qa[K]&Fa;return!ia&&ia^za[K]&Fa?ra[K]:null}),Ba.filter(Ba.REM,K=>{const ia=Qa[K]&Fa;return!ia||ia^ia^za[K]&Fa?null:ra[K]})):(Ba.filter(Ba.ADD,Ta),Ba.filter(Ba.REM,K=>(Qa[K]&Fa)===la?ra[K]:null));return Ba.filter(Ba.SOURCE,K=>Ta(K._index))}});h.crossfilter=Ka;h.resolvefilter=Ha;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[60]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(e,c,f){e.fields=c||[];e.fname=f;return e}function z(e){return null==e?null:e.fields}function Ra(e){return 1===e.length?ya(e[0]):ua(e)}function tb(e){throw Error(e);}function bb(e){function c(){f.push(w+e.substring(F,U));w="";F=U+1}const f=
[],l=e.length;let m=null,q=0,w="",F,U,wa;e+="";for(F=U=0;U<l;++U)(wa=e[U],"\\"===wa)?(w+=e.substring(F,U),w+=e.substring(++U,++U),F=U):wa===m?(c(),m=null,q=-1):m||(F===q&&'"'===wa?(F=U+1,m=wa):F===q&&"'"===wa?(F=U+1,m=wa):"."!==wa||q?"["===wa?(U>F&&c(),q=F=U+1):"]"===wa&&(q||tb("Access path missing open bracket: "+e),0<q&&c(),q=0,F=U+1):U>F?c():F=U+1);q&&tb("Access path missing closing bracket: "+e);m&&tb("Access path missing closing quote: "+e);U>F&&(U++,c());return f}function wb(e,c,f){const l=
bb(e);e=1===l.length?l[0]:e;return r((f&&f.get||Ra)(l),[e],c||e)}function Hb(e,c,f){c=[c].concat([].slice.call(f));console[e].apply(console,c)}function hb(e){return e===Object(e)}function Ka(e,c,f,l){if("__proto__"!==c){var m;if(hb(f)&&!x(f))for(m in e=hb(e[c])?e[c]:e[c]={},f)l&&(!0===l||l[m])?Ka(e,m,f[m]):"__proto__"!==m&&(e[m]=f[m]);else e[c]=f}}function Ha(e,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==e)return c;const l={},m=[];c.forEach(f);e.forEach(f);return m}function Sa(e){return e[e.length-
1]}function xa(e){return null==e||""===e?null:+e}function ma(e,c,f,l){const m=f(e[0]);e=f(Sa(e));c*=e-m;return[l(m-c),l(e-c)]}function na(e,c,f,l,m){const q=l(e[0]);e=l(Sa(e));c=null!=c?l(c):(q+e)/2;return[m(c+(q-c)*f),m(c+(e-c)*f)]}function Ba(e){return null!=e?x(e)?e:[e]:[]}function Fa(e){return"function"===typeof e}function la(e){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)e[f]=c[f];return e}function ra(e,c){return da.call(e,c)}function Qa(e){return"[object Date]"===Object.prototype.toString.call(e)}
function za(e){return"number"===typeof e}function Ta(e){return"string"===typeof e}function K(e,c){let f="";for(;0<=--c;)f+=e;return f}function ia(e){return x(e)?"["+e.map(ia)+"]":hb(e)||Ta(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}const ya=e=>function(c){return c[e]},ua=e=>{const c=e.length;return function(f){for(let l=0;l<c;++l)f=f[e[l]];return f}},La=wb("id"),Oa=r(e=>e,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const L=e=>c=>e*Math.exp(c),J=e=>c=>Math.log(e*c),B=e=>c=>Math.sign(c)*Math.log1p(Math.abs(c/e)),R=e=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*e,aa=e=>c=>0>c?-Math.pow(-c,e):Math.pow(c,e),ea=(e,c)=>(e<c||null==e)&&null!=c?-1:(e>c||null==c)&&null!=e?1:(c=c instanceof Date?+c:c,e=e instanceof Date?+e:e)!==e&&c===c?-1:c!==c&&e===e?1:0,Ca=(e,c)=>1===e.length?Ia(e[0],c[0]):H(e,c,e.length),Ia=(e,c)=>function(f,l){return ea(e(f),e(l))*c},H=(e,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=e[w],q=ea(q(l),q(m));return q*c[w]}},da=Object.prototype.hasOwnProperty,ca={},X=e=>za(e)?e:Qa(e)?e:Date.parse(e);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=z;h.accessorName=function(e){return null==e?null:e.fname};h.array=Ba;h.ascending=ea;h.clampRange=function(e,c,f){let l=e[0];e=e[1];let m;e<l&&(m=e,e=l,l=m);m=e-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(e,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Ca;Ba(e).forEach((F,U)=>{null!=F&&(l.push("descending"===c[U]?-1:1),m.push(F=Fa(F)?F:wb(F,null,f)),(z(F)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(e){return Fa(e)?e:()=>e};h.debounce=function(e,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),e)}};h.error=tb;h.extend=la;h.extent=function(e,c){let f=0,l,m,q,w;if(e&&(l=e.length))if(null==c){for(m=e[f];f<l&&(null==m||m!==m);m=e[++f]);for(q=w=m;f<
l;++f)m=e[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(e[f]);f<l&&(null==m||m!==m);m=c(e[++f]));for(q=w=m;f<l;++f)m=c(e[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(e,c){const f=e.length;let l=-1,m,q,w,F,U;if(null==c){for(;++l<f;)if(q=e[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=e[l],null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(e[l],l,e),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=c(e[l],l,e),
null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}return[F,U]};h.falsy=I;h.fastmap=function(e){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const F in f){const U=f[F];U===ca||l&&l(U)||(q[F]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};e&&Object.keys(e).forEach(q=>{m.set(q,e[q])});return m};h.field=wb;h.flush=function(e,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=e[0],F=Sa(e);F<w&&(e=w,w=F,F=e);e=Math.abs(c-w);c=Math.abs(F-c);return e<c&&e<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=La;h.identity=Oa;h.inherits=function(e,c,f){c=e.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(e,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=e:m<e)&&(void 0===l||l?e<=c:e<c)};h.isArray=x;h.isBoolean=function(e){return"boolean"===typeof e};h.isDate=Qa;h.isFunction=Fa;h.isIterable=function(e){return e&&Fa(e[Symbol.iterator])};h.isNumber=za;h.isObject=hb;h.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};h.isString=Ta;h.key=function(e,c,f){e&&(e=c?Ba(e).map(q=>q.replace(/\\(.)/g,"$1")):Ba(e));const l=e&&e.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(e[0]);f=function(w){return""+q(w)}}else{const q=e.map(f);f=function(w){let F=""+q[0](w),U=0;for(;++U<l;)F+="|"+q[U](w);return F}}else f=function(){return""};return r(f,e,"key")};h.lerp=function(e,c){const f=e[0];e=Sa(e);return(c=+c)?1===c?e:f+c*(e-f):f};h.logger=function(e,c){let f=e||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Hb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Hb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Hb(c||"log","INFO",arguments);return this},debug(){4<=f&&Hb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(e){e=+e||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,F)=>{++l>e&&(f=c,c={},l=1);return c[w]=F};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,F)=>ra(c,w)?c[w]=F:q(w,F)}};h.merge=function(e,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,F=0,U=0;for(;w<m&&F<q;++U)l[U]=0<e(c[w],
f[F])?f[F++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;F<q;++F,++U)l[U]=f[F];return l};h.mergeConfig=function(...e){return e.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ha(c.signals,f.signals):Ka(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(e,c,f,l){f=f||" ";e+="";c-=e.length;return 0>=c?e:"left"===l?K(f,c)+e:"center"===l?K(f,~~(c/2))+e+K(f,Math.ceil(c/2)):e+K(f,c)};h.panLinear=function(e,c){return ma(e,c,xa,Oa)};h.panLog=function(e,c){var f=
Math.sign(e[0]);return ma(e,c,J(f),L(f))};h.panPow=function(e,c,f){return ma(e,c,aa(f),aa(1/f))};h.panSymlog=function(e,c,f){return ma(e,c,B(f),R(f))};h.peek=Sa;h.quarter=function(e){return 1+~~((new Date(e)).getMonth()/3)};h.repeat=K;h.span=function(e){return e&&Sa(e)-e[0]||0};h.splitAccessPath=bb;h.stringValue=ia;h.toBoolean=function(e){return null==e||""===e?null:e&&"false"!==e&&"0"!==e?!!e:!1};h.toDate=function(e,c){c=c||X;return null==e||""===e?null:c(e)};h.toNumber=xa;h.toSet=function(e){const c=
{},f=e.length;for(let l=0;l<f;++l)c[e[l]]=!0;return c};h.toString=function(e){return null==e||""===e?null:e+""};h.truncate=function(e,c,f,l){l=null!=l?l:"…";e+="";const m=e.length,q=Math.max(0,c-l.length);return m<=c?e:"left"===f?l+e.slice(m-q):"center"===f?e.slice(0,Math.ceil(q/2))+l+e.slice(m-~~(q/2)):e.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(e){return 1+~~((new Date(e)).getUTCMonth()/3)};h.visitArray=function(e,c,f){if(e)if(c){const l=e.length;for(let m=0;m<l;++m){const q=c(e[m]);q&&f(q,
m,e)}}else e.forEach(f)};h.writeConfig=Ka;h.zero=Aa;h.zoomLinear=function(e,c,f){return na(e,c,f,xa,Oa)};h.zoomLog=function(e,c,f){const l=Math.sign(e[0]);return na(e,c,f,J(l),L(l))};h.zoomPow=function(e,c,f,l){return na(e,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(e,c,f,l){return na(e,c,f,B(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[61]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17)):"function"===typeof define&&define.amd?define(["exports","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega))})(this,function(h,r){function z(c){this.type=c}function Ra(c){switch(c.type){case "ArrayExpression":return c.elements;case "BinaryExpression":case "LogicalExpression":return[c.left,c.right];case "CallExpression":return[c.callee].concat(c.arguments);
case "ConditionalExpression":return[c.test,c.consequent,c.alternate];case "MemberExpression":return[c.object,c.property];case "ObjectExpression":return c.properties;case "Property":return[c.key,c.value];case "UnaryExpression":return[c.argument];default:return[]}}function tb(c,f){if(!c)throw Error("ASSERT: "+f);}function bb(c){return 48<=c&&57>=c}function wb(c){return 0<="0123456789abcdefABCDEF".indexOf(c)}function Hb(c){return 0<="01234567".indexOf(c)}function hb(c){return 10===c||13===c||8232===
c||8233===c}function Ka(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||92===c||128<=c&&H.test(String.fromCharCode(c))}function Ha(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||48<=c&&57>=c||92===c||128<=c&&da.test(String.fromCharCode(c))}function Sa(){for(;ea<Ca;){const c=aa.charCodeAt(ea);if(32===c||9===c||11===c||12===c||160===c||5760<=c&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(c)||hb(c))++ea;else break}}function xa(c){var f=
0;var l="u"===c?4:2;for(c=0;c<l;++c)if(ea<Ca&&wb(aa[ea])){var m=aa[ea++];f=16*f+"0123456789abcdef".indexOf(m.toLowerCase())}else ua({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(f)}function ma(){var c=aa.charCodeAt(ea++);var f=String.fromCharCode(c);92===c&&(117!==aa.charCodeAt(ea)&&ua({},"Unexpected token %0","ILLEGAL"),++ea,(c=xa("u"))&&"\\"!==c&&Ka(c.charCodeAt(0))||ua({},"Unexpected token %0","ILLEGAL"),f=c);for(;ea<Ca;){c=aa.charCodeAt(ea);if(!Ha(c))break;++ea;f+=String.fromCharCode(c);
92===c&&(f=f.substr(0,f.length-1),117!==aa.charCodeAt(ea)&&ua({},"Unexpected token %0","ILLEGAL"),++ea,(c=xa("u"))&&"\\"!==c&&Ha(c.charCodeAt(0))||ua({},"Unexpected token %0","ILLEGAL"),f+=c)}return f}function na(){var c=ea,f=aa.charCodeAt(ea),l=aa[ea];switch(f){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ea,{type:7,value:String.fromCharCode(f),start:c,end:ea};default:var m=aa.charCodeAt(ea+1);if(61===m)switch(f){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ea+=
2,{type:7,value:String.fromCharCode(f)+String.fromCharCode(m),start:c,end:ea};case 33:case 61:return ea+=2,61===aa.charCodeAt(ea)&&++ea,{type:7,value:aa.slice(c,ea),start:c,end:ea}}}f=aa.substr(ea,4);if("\x3e\x3e\x3e\x3d"===f)return ea+=4,{type:7,value:f,start:c,end:ea};f=f.substr(0,3);if("\x3e\x3e\x3e"===f||"\x3c\x3c\x3d"===f||"\x3e\x3e\x3d"===f)return ea+=3,{type:7,value:f,start:c,end:ea};f=f.substr(0,2);if(l===f[1]&&0<="+-\x3c\x3e\x26|".indexOf(l)||"\x3d\x3e"===f)return ea+=2,{type:7,value:f,start:c,
end:ea};"//"===f&&ua({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(l))return++ea,{type:7,value:l,start:c,end:ea};ua({},"Unexpected token %0","ILLEGAL")}function Ba(){var c=aa[ea];tb(bb(c.charCodeAt(0))||"."===c,"Numeric literal must start with a decimal digit or a decimal point");var f=ea;var l="";if("."!==c){l=aa[ea++];c=aa[ea];if("0"===l){if("x"===c||"X"===c){++ea;for(l="";ea<Ca&&wb(aa[ea]);)l+=aa[ea++];0===l.length&&ua({},"Unexpected token %0","ILLEGAL");Ka(aa.charCodeAt(ea))&&
ua({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+l,16),start:f,end:ea}}if(Hb(c)){for(l="0"+aa[ea++];ea<Ca&&Hb(aa[ea]);)l+=aa[ea++];(Ka(aa.charCodeAt(ea))||bb(aa.charCodeAt(ea)))&&ua({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(l,8),octal:!0,start:f,end:ea}}c&&bb(c.charCodeAt(0))&&ua({},"Unexpected token %0","ILLEGAL")}for(;bb(aa.charCodeAt(ea));)l+=aa[ea++];c=aa[ea]}if("."===c){for(l+=aa[ea++];bb(aa.charCodeAt(ea));)l+=aa[ea++];c=aa[ea]}if("e"===c||"E"===
c){l+=aa[ea++];c=aa[ea];if("+"===c||"-"===c)l+=aa[ea++];if(bb(aa.charCodeAt(ea)))for(;bb(aa.charCodeAt(ea));)l+=aa[ea++];else ua({},"Unexpected token %0","ILLEGAL")}Ka(aa.charCodeAt(ea))&&ua({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(l),start:f,end:ea}}function Fa(c,f){let l=c;0<=f.indexOf("u")&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}/g,(m,q)=>{if(1114111>=parseInt(q,16))return"x";ua({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(l)}catch(m){ua({},
"Invalid regular expression")}try{return new RegExp(c,f)}catch(m){return null}}function la(){Sa();if(ea>=Ca)return{type:2,start:ea,end:ea};var c=aa.charCodeAt(ea);if(Ka(c)){c=ea;if(92===aa.charCodeAt(ea))var f=ma();else a:{for(f=ea++;ea<Ca;){var l=aa.charCodeAt(ea);if(92===l){ea=f;f=ma();break a}if(Ha(l))++ea;else break}f=aa.slice(f,ea)}return{type:1===f.length?3:ca.hasOwnProperty(f)?4:"null"===f?5:"true"===f||"false"===f?1:3,value:f,start:c,end:ea}}if(40===c||41===c||59===c)return na();if(39===c||
34===c){var m="";l=!1;c=aa[ea];tb("'"===c||'"'===c,"String literal must starts with a quote");f=ea;for(++ea;ea<Ca;){var q=aa[ea++];if(q===c){c="";break}else if("\\"===q)if((q=aa[ea++])&&hb(q.charCodeAt(0)))"\r"===q&&"\n"===aa[ea]&&++ea;else switch(q){case "u":case "x":if("{"===aa[ea]){++ea;var w=aa[ea];q=0;for("}"===w&&ua({},"Unexpected token %0","ILLEGAL");ea<Ca;){w=aa[ea++];if(!wb(w))break;q=16*q+"0123456789abcdef".indexOf(w.toLowerCase())}(1114111<q||"}"!==w)&&ua({},"Unexpected token %0","ILLEGAL");
q=65535>=q?String.fromCharCode(q):String.fromCharCode((q-65536>>10)+55296,(q-65536&1023)+56320);m+=q}else m+=xa(q);break;case "n":m+="\n";break;case "r":m+="\r";break;case "t":m+="\t";break;case "b":m+="\b";break;case "f":m+="\f";break;case "v":m+="\x0B";break;default:Hb(q)?(w="01234567".indexOf(q),0!==w&&(l=!0),ea<Ca&&Hb(aa[ea])&&(l=!0,w=8*w+"01234567".indexOf(aa[ea++]),0<="0123".indexOf(q)&&ea<Ca&&Hb(aa[ea])&&(w=8*w+"01234567".indexOf(aa[ea++]))),m+=String.fromCharCode(w)):m+=q}else if(hb(q.charCodeAt(0)))break;
else m+=q}""!==c&&ua({},"Unexpected token %0","ILLEGAL");return{type:8,value:m,octal:l,start:f,end:ea}}return 46===c?bb(aa.charCodeAt(ea+1))?Ba():na():bb(c)?Ba():na()}function ra(){const c=Ia;ea=c.end;Ia=la();ea=c.end;return c}function Qa(){const c=ea;Ia=la();ea=c}function za(c,f,l){const m=new z("||"===c||"\x26\x26"===c?"LogicalExpression":"BinaryExpression");m.operator=c;m.left=f;m.right=l;return m}function Ta(c){const f=new z("Identifier");f.name=c;return f}function K(c){const f=new z("Literal");
f.value=c.value;f.raw=aa.slice(c.start,c.end);c.regex&&("//"===f.raw&&(f.raw="/(?:)/"),f.regex=c.regex);return f}function ia(c,f,l){const m=new z("MemberExpression");m.computed="["===c;m.object=f;m.property=l;m.computed||(l.member=!0);return m}function ya(c,f,l){const m=new z("Property");m.key=f;m.value=l;m.kind=c;return m}function ua(c,f){var l=Array.prototype.slice.call(arguments,2),m=f.replace(/%(\d)/g,(w,F)=>{tb(F<l.length,"Message reference must be in range");return l[F]});var q=Error(m);q.index=
ea;q.description=m;throw q;}function La(c){2===c.type&&ua(c,"Unexpected end of input");6===c.type&&ua(c,"Unexpected number");8===c.type&&ua(c,"Unexpected string");3===c.type&&ua(c,"Unexpected identifier");4===c.type&&ua(c,"Unexpected reserved word");ua(c,"Unexpected token %0",c.value)}function Oa(c){const f=ra();7===f.type&&f.value===c||La(f)}function Aa(c){return 7===Ia.type&&Ia.value===c}function ab(){ea=Ia.start;const c=ra();return 8===c.type||6===c.type?(c.octal&&ua(c,"Octal literals are not allowed in strict mode."),
K(c)):Ta(c.value)}function Va(){if(Aa("(")){Oa("(");var c=B();Oa(")");return c}if(Aa("[")){c=[];ea=Ia.start;for(Oa("[");!Aa("]");)Aa(",")?(ra(),c.push(null)):(c.push(J()),Aa("]")||Oa(","));ra();var f=new z("ArrayExpression");f.elements=c;return f}if(Aa("{")){c=[];f={};var l=String;ea=Ia.start;for(Oa("{");!Aa("}");){ea=Ia.start;var m=Ia;if(3===m.type){var q=ab();Oa(":");m=J();m=ya("init",q,m)}else 2===m.type||7===m.type?(La(m),m=void 0):(q=ab(),Oa(":"),m=J(),m=ya("init",q,m));q="Identifier"===m.key.type?
m.key.name:l(m.key.value);q="$"+q;Object.prototype.hasOwnProperty.call(f,q)?ua({},"Duplicate data property in object literal not allowed in strict mode"):f[q]=!0;c.push(m);Aa("}")||Oa(",")}Oa("}");f=new z("ObjectExpression");f.properties=c;return f}c=Ia.type;ea=Ia.start;if(3===c||X[Ia.value])f=Ta(ra().value);else if(8===c||6===c)Ia.octal&&ua(Ia,"Octal literals are not allowed in strict mode."),f=K(ra());else{if(4===c)throw Error("Disabled.");if(1===c)c=ra(),c.value="true"===c.value,f=K(c);else if(5===
c)c=ra(),c.value=null,f=K(c);else if(Aa("/")||Aa("/\x3d")){var w;Ia=null;Sa();c=ea;f=aa[ea];tb("/"===f,"Regular expression literal must start with a slash");l=aa[ea++];for(q=m=!1;ea<Ca;)if(f=aa[ea++],l+=f,"\\"===f)f=aa[ea++],hb(f.charCodeAt(0))&&ua({},"Invalid regular expression: missing /"),l+=f;else if(hb(f.charCodeAt(0)))ua({},"Invalid regular expression: missing /");else if(m)"]"===f&&(m=!1);else if("/"===f){q=!0;break}else"["===f&&(m=!0);q||ua({},"Invalid regular expression: missing /");f=l.substr(1,
l.length-2);for(w=q="";ea<Ca;){m=aa[ea];if(!Ha(m.charCodeAt(0)))break;++ea;"\\"===m&&ea<Ca?ua({},"Unexpected token %0","ILLEGAL"):(w+=m,q+=m)}0<=w.search(/[^gimuy]/g)&&ua({},"Invalid regular expression",w);m=w;w=Fa(f,m);f=K({literal:l+q,value:w,regex:{pattern:f,flags:m},start:c,end:ea});Qa()}else La(ra())}return f}function I(){var c;for(c=Va();;)if(Aa(".")){Oa(".");ea=Ia.start;var f=ra();3===f.type||4===f.type||1===f.type||5===f.type||La(f);f=Ta(f.value);c=ia(".",c,f)}else if(Aa("(")){f=[];Oa("(");
if(!Aa(")"))for(;ea<Ca;){f.push(J());if(Aa(")"))break;Oa(",")}Oa(")");const l=new z("CallExpression");l.callee=c;l.arguments=f;c=l}else if(Aa("["))Oa("["),f=B(),Oa("]"),c=ia("[",c,f);else break;if(7===Ia.type&&(Aa("++")||Aa("--")))throw Error("Disabled.");return c}function x(){if(7!==Ia.type&&4!==Ia.type)var c=I();else{if(Aa("++")||Aa("--"))throw Error("Disabled.");if(Aa("+")||Aa("-")||Aa("~")||Aa("!")){var f=ra();c=x();f=f.value;const l=new z("UnaryExpression");l.operator=f;l.argument=c;l.prefix=
!0;c=l}else{if(4===Ia.type&&"delete"===Ia.value||4===Ia.type&&"void"===Ia.value||4===Ia.type&&"typeof"===Ia.value)throw Error("Disabled.");c=I()}}return c}function L(c){let f=0;if(7!==c.type&&4!==c.type)return 0;switch(c.value){case "||":f=1;break;case "\x26\x26":f=2;break;case "|":f=3;break;case "^":f=4;break;case "\x26":f=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":f=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":f=7;break;
case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":f=8;break;case "+":case "-":f=9;break;case "*":case "/":case "%":f=11}return f}function J(){var c=Ia;var f=x();var l=Ia;var m=L(l);if(0===m)var q=f;else{l.prec=m;ra();c=[c,Ia];var w=x();for(q=[f,l,w];0<(m=L(Ia));){for(;2<q.length&&m<=q[q.length-2].prec;)w=q.pop(),l=q.pop().value,f=q.pop(),c.pop(),f=za(l,f,w),q.push(f);l=ra();l.prec=m;q.push(l);c.push(Ia);f=x();q.push(f)}m=q.length-1;f=q[m];for(c.pop();1<m;)c.pop(),f=za(q[m-1].value,q[m-2],f),m-=
2;q=f}Aa("?")&&(ra(),c=J(),Oa(":"),m=J(),f=new z("ConditionalExpression"),f.test=q,f.consequent=c,f.alternate=m,q=f);return q}function B(){const c=J();if(Aa(","))throw Error("Disabled.");return c}function R(c){function f(l,m,q){return w=>{let F=c(w[0]);m&&(F=m+"("+F+")",0===m.lastIndexOf("new ",0)&&(F="("+F+")"));return F+"."+l+(0>q?"":0===q?"()":"("+w.slice(1).map(c).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",
atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(l){3>l.length&&r.error("Missing arguments to clamp function.");3<l.length&&r.error("Too many arguments to clamp function.");l=l.map(c);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:f("getDate",
"new Date",0),day:f("getDay","new Date",0),year:f("getFullYear","new Date",0),month:f("getMonth","new Date",0),hours:f("getHours","new Date",0),minutes:f("getMinutes","new Date",0),seconds:f("getSeconds","new Date",0),milliseconds:f("getMilliseconds","new Date",0),time:f("getTime","new Date",0),timezoneoffset:f("getTimezoneOffset","new Date",0),utcdate:f("getUTCDate","new Date",0),utcday:f("getUTCDay","new Date",0),utcyear:f("getUTCFullYear","new Date",0),utcmonth:f("getUTCMonth","new Date",0),utchours:f("getUTCHours",
"new Date",0),utcminutes:f("getUTCMinutes","new Date",0),utcseconds:f("getUTCSeconds","new Date",0),utcmilliseconds:f("getUTCMilliseconds","new Date",0),length:f("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:f("toUpperCase","String",0),lower:f("toLowerCase","String",0),substring:f("substring","String"),split:f("split","String"),trim:f("trim","String",0),regexp:"RegExp",test:f("test","RegExp"),if:function(l){3>l.length&&r.error("Missing arguments to if function.");3<l.length&&
r.error("Too many arguments to if function.");l=l.map(c);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}z.prototype.visit=function(c){let f,l,m;if(c(this))return 1;f=Ra(this);l=0;for(m=f.length;l<m;++l)if(f[l].visit(c))return 1};var aa,ea,Ca,Ia,H=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
da=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const ca={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},X={"if":1};var e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};h.ASTNode=z;h.ArrayExpression="ArrayExpression";h.BinaryExpression="BinaryExpression";h.CallExpression="CallExpression";h.ConditionalExpression="ConditionalExpression";h.Identifier="Identifier";h.Literal="Literal";h.LogicalExpression="LogicalExpression";h.MemberExpression="MemberExpression";h.ObjectExpression="ObjectExpression";
h.Property="Property";h.RawCode="RawCode";h.UnaryExpression="UnaryExpression";h.codegen=function(c){function f(Q){if(r.isString(Q))return Q;const ka=G[Q.type];null==ka&&r.error("Unsupported type: "+Q.type);return ka(Q)}function l(Q){Q={code:f(Q),globals:Object.keys(gb),fields:Object.keys(Y)};gb={};Y={};return Q}c=c||{};const m=c.allowed?r.toSet(c.allowed):{},q=c.forbidden?r.toSet(c.forbidden):{},w=c.constants||e,F=(c.functions||R)(f),U=c.globalvar,wa=c.fieldvar,cb=r.isFunction(U)?U:Q=>`${U}["${Q}"]`;
let gb={},Y={},ta=0;const G={Literal:Q=>Q.raw,Identifier:Q=>{Q=Q.name;if(0<ta)return Q;if(r.hasOwnProperty(q,Q))return r.error("Illegal identifier: "+Q);if(r.hasOwnProperty(w,Q))return w[Q];if(r.hasOwnProperty(m,Q))return Q;gb[Q]=1;return cb(Q)},MemberExpression:Q=>{const ka=!Q.computed,Da=f(Q.object);ka&&(ta+=1);Q=f(Q.property);if(Da===wa){var sb=Y;var Ya=(Ya=Q&&Q.length-1)&&('"'===Q[0]&&'"'===Q[Ya]||"'"===Q[0]&&"'"===Q[Ya])?Q.slice(1,-1):Q;sb[Ya]=1}ka&&--ta;return Da+(ka?"."+Q:"["+Q+"]")},CallExpression:Q=>
{"Identifier"!==Q.callee.type&&r.error("Illegal callee type: "+Q.callee.type);const ka=Q.callee.name;Q=Q.arguments;const Da=r.hasOwnProperty(F,ka)&&F[ka];Da||r.error("Unrecognized function: "+ka);return r.isFunction(Da)?Da(Q):Da+"("+Q.map(f).join(",")+")"},ArrayExpression:Q=>"["+Q.elements.map(f).join(",")+"]",BinaryExpression:Q=>"("+f(Q.left)+" "+Q.operator+" "+f(Q.right)+")",UnaryExpression:Q=>"("+Q.operator+f(Q.argument)+")",ConditionalExpression:Q=>"("+f(Q.test)+"?"+f(Q.consequent)+":"+f(Q.alternate)+
")",LogicalExpression:Q=>"("+f(Q.left)+Q.operator+f(Q.right)+")",ObjectExpression:Q=>"{"+Q.properties.map(f).join(",")+"}",Property:Q=>{ta+=1;const ka=f(Q.key);--ta;return ka+":"+f(Q.value)}};l.functions=F;l.constants=w;return l};h.constants=e;h.functions=R;h.parse=function(c){aa=c;ea=0;Ca=aa.length;Ia=null;Qa();c=B();if(2!==Ia.type)throw Error("Unexpect token after expression.");return c};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[62]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17),Qb(61)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega))})(this,function(h,r,z){function Ra(Ha){return(Sa,xa)=>{Sa=Ha(Sa);return Sa<xa?-1:Sa>xa?1:Sa>=xa?0:NaN}}function tb(Ha,Sa){var xa=Sa.fields;Sa=Sa.values;for(var ma=xa.length,na=0,Ba,Fa;na<ma;++na)if(Fa=xa[na],
Fa.getter=r.field.getter||r.field(Fa.field),Ba=Fa.getter(Ha),r.isDate(Ba)&&(Ba=r.toNumber(Ba)),r.isDate(Sa[na])&&(Sa[na]=r.toNumber(Sa[na])),r.isDate(Sa[na][0])&&(Sa[na]=Sa[na].map(r.toNumber)),"E"===Fa.type){if(r.isArray(Sa[na])?0>Sa[na].indexOf(Ba):Ba!==Sa[na])return!1}else if("R"===Fa.type){if(!r.inrange(Ba,Sa[na]))return!1}else if("R-RE"===Fa.type){if(!r.inrange(Ba,Sa[na],!0,!1))return!1}else if("R-E"===Fa.type){if(!r.inrange(Ba,Sa[na],!1,!1))return!1}else if("R-LE"===Fa.type&&!r.inrange(Ba,Sa[na],
!1,!0))return!1;return!0}const bb=r.field("_vgsid_"),wb=function(Ha){function Sa(na,Ba,Fa,la){null==Fa&&(Fa=0);null==la&&(la=na.length);for(;Fa<la;){const ra=Fa+la>>>1;0>ma(na[ra],Ba)?Fa=ra+1:la=ra}return Fa}let xa=Ha,ma=Ha;1===Ha.length&&(xa=(na,Ba)=>Ha(na)-Ba,ma=Ra(Ha));return{left:Sa,center:function(na,Ba,Fa,la){null==Fa&&(Fa=0);null==la&&(la=na.length);la=Sa(na,Ba,Fa,la-1);return la>Fa&&xa(na[la-1],Ba)>-xa(na[la],Ba)?la-1:la},right:function(na,Ba,Fa,la){null==Fa&&(Fa=0);null==la&&(la=na.length);
for(;Fa<la;){const ra=Fa+la>>>1;0<ma(na[ra],Ba)?la=ra:Fa=ra+1}return Fa}}}(bb),Hb=wb.left,hb=wb.right;var Ka={E_union:function(Ha,Sa){if(!Ha.length)return Sa;for(var xa=0,ma=Sa.length;xa<ma;++xa)0>Ha.indexOf(Sa[xa])&&Ha.push(Sa[xa]);return Ha},E_intersect:function(Ha,Sa){return Ha.length?Ha.filter(xa=>0<=Sa.indexOf(xa)):Sa},R_union:function(Ha,Sa){var xa=r.toNumber(Sa[0]),ma=r.toNumber(Sa[1]);xa>ma&&(xa=Sa[1],ma=Sa[0]);if(!Ha.length)return[xa,ma];Ha[0]>xa&&(Ha[0]=xa);Ha[1]<ma&&(Ha[1]=ma);return Ha},
R_intersect:function(Ha,Sa){var xa=r.toNumber(Sa[0]),ma=r.toNumber(Sa[1]);xa>ma&&(xa=Sa[1],ma=Sa[0]);if(!Ha.length)return[xa,ma];if(ma<Ha[0]||Ha[1]<xa)return[];Ha[0]<xa&&(Ha[0]=xa);Ha[1]>ma&&(Ha[1]=ma);return Ha}};h.selectionIdTest=function(Ha,Sa,xa){var ma=this.context.data[Ha];Ha=ma?ma.values.value:[];ma=ma?ma["index:unit"]&&ma["index:unit"].value:void 0;xa="intersect"===xa;Sa=bb(Sa);const na=Hb(Ha,Sa);if(na===Ha.length||bb(Ha[na])!==Sa)return!1;if(ma&&xa){if(1===ma.size)return!0;if(hb(Ha,Sa)-na<
ma.size)return!1}return!0};h.selectionResolve=function(Ha,Sa,xa,ma){Ha=(Ha=this.context.data[Ha])?Ha.values.value:[];for(var na={},Ba={},Fa={},la,ra,Qa,za,Ta,K,ia=Ha.length,ya=0,ua,La;ya<ia;++ya){la=Ha[ya];Qa=la.unit;ra=la.fields;la=la.values;ua=0;for(La=ra.length;ua<La;++ua)za=ra[ua],Ta=na[za.field]||(na[za.field]={}),K=Ta[Qa]||(Ta[Qa]=[]),Fa[za.field]=za=za.type.charAt(0),za=Ka[za+"_union"],Ta[Qa]=za(K,r.array(la[ua]));xa&&(K=Ba[Qa]||(Ba[Qa]=[]),K.push(r.array(la).reduce((Oa,Aa,ab)=>(Oa[ra[ab].field]=
Aa,Oa),{})))}Sa=Sa||"union";Object.keys(na).forEach(Oa=>{na[Oa]=Object.keys(na[Oa]).map(Aa=>na[Oa][Aa]).reduce((Aa,ab)=>void 0===Aa?ab:Ka[Fa[Oa]+"_"+Sa](Aa,ab))});Ha=Object.keys(Ba);xa&&Ha.length&&(na[ma?"vlPoint":"vlMulti"]="union"===Sa?{["or"]:Ha.reduce((Oa,Aa)=>(Oa.push(...Ba[Aa]),Oa),[])}:{["and"]:Ha.map(Oa=>({["or"]:Ba[Oa]}))});return na};h.selectionTest=function(Ha,Sa,xa){var ma=this.context.data[Ha];Ha=ma?ma.values.value:[];ma=ma?ma["index:unit"]&&ma["index:unit"].value:void 0;xa="intersect"===
xa;for(var na=Ha.length,Ba=0,Fa,la,ra,Qa;Ba<na;++Ba)if(Fa=Ha[Ba],ma&&xa){if(la=la||{},ra=la[Qa=Fa.unit]||0,-1!==ra){Fa=tb(Sa,Fa);la[Qa]=Fa?-1:++ra;if(Fa&&1===ma.size)return!0;if(!Fa&&ra===ma.get(Qa).count)return!1}}else if(Fa=tb(Sa,Fa),xa^Fa)return Fa;return na&&xa};h.selectionTuples=function(Ha,Sa){return Ha.map(xa=>r.extend({values:Sa.fields.map(ma=>(ma.getter||(ma.getter=r.field(ma.field)))(xa.datum))},Sa))};h.selectionVisitor=function(Ha,Sa,xa,ma){Sa[0].type!==z.Literal&&r.error("First argument to selection functions must be a string literal.");
Ha=Sa[0].value;Sa=2<=Sa.length&&r.peek(Sa).value;const na=":"+Ha;"intersect"!==Sa||r.hasOwnProperty(ma,"@unit")||(ma["@unit"]=xa.getData(Ha).indataRef(xa,"unit"));r.hasOwnProperty(ma,na)||(ma[na]=xa.getData(Ha).tuplesRef())};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[63]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17),Qb(61),Qb(43),Qb(36),Qb(29),Qb(39),Qb(40),Qb(62),Qb(31),Qb(21),Qb(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.d3,h.d3,h.vega,h.vega,h.vega,h.vega,
h.vega,h.vega,h.d3))})(this,function(h,r,z,Ra,tb,bb,wb,Hb,hb,Ka,Ha,Sa){function xa(jb){return(jb=this.context.data[jb])?jb.values.value:[]}function ma(jb,lc,pc){return(pc=(jb=this.context.data[jb]["index:"+lc])?jb.value.get(pc):void 0)?pc.count:pc}function na(jb,lc){const pc=this.context.dataflow;pc.pulse(this.context.data[jb].input,pc.changeset().remove(r.truthy).insert(lc));return 1}function Ba(jb,lc,pc){if(jb){const gd=this.context.dataflow;gd.pulse(jb.mark.source,gd.changeset().encode(jb,lc))}return void 0!==
pc?pc:jb}function Fa(jb,lc,pc){if(!Number.isInteger(jb)||!Number.isInteger(lc))return"";hd.setYear(2E3);hd.setMonth(jb);hd.setDate(lc);return Yb.call(this,hd,pc)}function la(jb){return Fa.call(this,jb,1,"%B")}function ra(jb){return Fa.call(this,jb,1,"%b")}function Qa(jb){return Fa.call(this,0,2+jb,"%A")}function za(jb){return Fa.call(this,0,2+jb,"%a")}function Ta(jb,lc,pc,gd){lc[0].type!==z.Literal&&r.error("First argument to data functions must be a string literal.");jb=lc[0].value;lc=":"+jb;if(!r.hasOwnProperty(lc,
gd))try{gd[lc]=pc.getData(jb).tuplesRef()}catch(xd){}}function K(jb,lc,pc,gd){lc[0].type!==z.Literal&&r.error("First argument to indata must be a string literal.");lc[1].type!==z.Literal&&r.error("Second argument to indata must be a string literal.");jb=lc[0].value;lc=lc[1].value;const xd="@"+lc;r.hasOwnProperty(xd,gd)||(gd[xd]=pc.getData(jb).indataRef(pc,lc))}function ia(jb,lc,pc,gd){if(lc[0].type===z.Literal)ya(pc,gd,lc[0].value);else for(jb in pc.scales)ya(pc,gd,jb)}function ya(jb,lc,pc){const gd=
"%"+pc;if(!r.hasOwnProperty(lc,gd))try{lc[gd]=jb.scaleRef(pc)}catch(xd){}}function ua(jb,lc){let pc;return r.isFunction(jb)?jb:r.isString(jb)?(pc=lc.scales[jb])&&pc.value:void 0}function La(jb,lc,pc){lc.__bandwidth=xd=>xd&&xd.bandwidth?xd.bandwidth():0;pc._bandwidth=ia;pc._range=ia;pc._scale=ia;const gd=xd=>"_["+(xd.type===z.Literal?r.stringValue("%"+xd.value):r.stringValue("%")+"+"+jb(xd))+"]";return{_bandwidth:xd=>`this.__bandwidth(${gd(xd[0])})`,_range:xd=>`${gd(xd[0])}.range()`,_scale:xd=>`${gd(xd[0])}(${jb(xd[1])})`}}
function Oa(jb,lc){return function(pc,gd,xd){return pc?(pc=ua(pc,(xd||this).context))&&pc.path[jb](gd):lc(gd)}}function Aa(jb){const lc=this.context.group;let pc=!1;if(lc)for(;jb;){if(jb===lc){pc=!0;break}jb=jb.mark.group}return pc}function ab(jb,lc,pc){try{jb[lc].apply(jb,["EXPRESSION"].concat([].slice.call(pc)))}catch(gd){jb.warn(gd)}return pc[pc.length-1]}function Va(){return ab(this.context.dataflow,"warn",arguments)}function I(){return ab(this.context.dataflow,"info",arguments)}function x(){return ab(this.context.dataflow,
"debug",arguments)}function L(jb){jb/=255;return.03928>=jb?jb/12.92:Math.pow((jb+.055)/1.055,2.4)}function J(jb){var lc=tb.rgb(jb);jb=L(lc.r);const pc=L(lc.g);lc=L(lc.b);return.2126*jb+.7152*pc+.0722*lc}function B(jb,lc){jb=J(jb);lc=J(lc);return(Math.max(jb,lc)+.05)/(Math.min(jb,lc)+.05)}function R(){const jb=[].slice.call(arguments);jb.unshift({});return r.extend(...jb)}function aa(jb,lc){if(jb===lc||jb!==jb&&lc!==lc)jb=!0;else if(r.isArray(jb))if(r.isArray(lc)&&jb.length===lc.length)a:{for(let pc=
0,gd=jb.length;pc<gd;++pc)if(!aa(jb[pc],lc[pc])){jb=!1;break a}jb=!0}else jb=!1;else jb=r.isObject(jb)&&r.isObject(lc)?ea(jb,lc):!1;return jb}function ea(jb,lc){for(const pc in jb)if(!aa(jb[pc],lc[pc]))return!1;return!0}function Ca(jb){return lc=>ea(jb,lc)}function Ia(jb,lc,pc,gd,xd,M){const oa=this.context.dataflow,$a=this.context.data[jb],ub=$a.input;jb=oa.stamp();let Gb=$a.changes,Ib;if(!1===oa._trigger||!(ub.value.length||lc||gd))return 0;if(!Gb||Gb.stamp<jb)$a.changes=Gb=oa.changeset(),Gb.stamp=
jb,oa.runAfter(()=>{$a.modified=!0;oa.pulse(ub,Gb).run()},!0,1);pc&&(pc=!0===pc?r.truthy:r.isArray(pc)||bb.isTuple(pc)?pc:Ca(pc),Gb.remove(pc));lc&&Gb.insert(lc);gd&&(pc=Ca(gd),ub.value.some(pc)?Gb.remove(pc):Gb.insert(gd));if(xd)for(Ib in M)Gb.modify(xd,Ib,M[Ib]);return 1}function H(jb){var lc=jb.touches;jb=lc[0].clientX-lc[1].clientX;lc=lc[0].clientY-lc[1].clientY;return Math.sqrt(jb*jb+lc*lc)}function da(jb){jb=jb.touches;return Math.atan2(jb[0].clientY-jb[1].clientY,jb[0].clientX-jb[1].clientX)}
function ca(jb,lc){lc=jd[lc]||(jd[lc]=r.field(lc));return r.isArray(jb)?jb.map(lc):lc(jb)}function X(jb){return r.isArray(jb)||ArrayBuffer.isView(jb)?jb:null}function e(jb){return X(jb)||(r.isString(jb)?jb:null)}function c(jb,...lc){return X(jb).join(...lc)}function f(jb,...lc){return e(jb).indexOf(...lc)}function l(jb,...lc){return e(jb).lastIndexOf(...lc)}function m(jb,...lc){return e(jb).slice(...lc)}function q(jb,lc,pc){r.isFunction(pc)&&r.error("Function argument passed to replace.");return String(jb).replace(lc,
pc)}function w(jb){return X(jb).slice().reverse()}function F(jb,lc,pc){return wb.bandSpace(jb||0,lc||0,pc||0)}function U(jb,lc){return(jb=ua(jb,(lc||this).context))&&jb.bandwidth?jb.bandwidth():0}function wa(jb,lc){return(jb=ua(jb,(lc||this).context))?jb.copy():void 0}function cb(jb,lc){return(jb=ua(jb,(lc||this).context))?jb.domain():[]}function gb(jb,lc,pc){return(jb=ua(jb,(pc||this).context))?r.isArray(lc)?(jb.invertRange||jb.invert)(lc):(jb.invert||jb.invertExtent)(lc):void 0}function Y(jb,lc){return(jb=
ua(jb,(lc||this).context))&&jb.range?jb.range():[]}function ta(jb,lc,pc){return(jb=ua(jb,(pc||this).context))?jb(lc):void 0}function G(jb,lc,pc,gd,xd){jb=ua(jb,(xd||this).context);const M=Hb.Gradient(lc,pc);lc=jb.domain();pc=lc[0];xd=r.peek(lc);let oa=r.identity;xd-pc?oa=wb.scaleFraction(jb,pc,xd):jb=(jb.interpolator?wb.scale("sequential")().interpolator(jb.interpolator()):wb.scale("linear")().interpolate(jb.interpolate()).range(jb.range())).domain([pc=0,xd=1]);jb.ticks&&(lc=jb.ticks(+gd||15),pc!==
lc[0]&&lc.unshift(pc),xd!==r.peek(lc)&&lc.push(xd));lc.forEach($a=>M.stop(oa($a),jb($a)));return M}function Q(jb,lc,pc){const gd=ua(jb,(pc||this).context);return function(xd){return gd?gd.path.context(xd)(lc):""}}function ka(jb){let lc=null;return function(pc){return pc?Hb.pathRender(pc,lc=lc||Hb.pathParse(jb)):jb}}function Da(jb,lc){jb=xa.call(lc,jb);return jb.root&&jb.root.lookup||{}}function sb(jb,lc,pc){jb=Da(jb,this);lc=jb[lc];pc=jb[pc];return lc&&pc?lc.path(pc).map(fe):void 0}function Ya(jb,
lc){return(jb=Da(jb,this)[lc])?jb.ancestors().map(fe):void 0}function ob(){const jb="undefined"!==typeof window&&window||null;return jb?jb.screen:{}}function Na(){const jb="undefined"!==typeof window&&window||null;return jb?[jb.innerWidth,jb.innerHeight]:[void 0,void 0]}function yb(){var jb=this.context.dataflow;return(jb=jb.container&&jb.container())?[jb.clientWidth,jb.clientHeight]:[void 0,void 0]}function Fb(jb){let lc=null;if(jb){const pc=r.array(jb.marktype),gd=r.array(jb.markname);lc=xd=>(!pc.length||
pc.some(M=>xd.marktype===M))&&(!gd.length||gd.some(M=>xd.name===M))}return lc}function eb(jb,lc,pc){if(1===arguments.length)return Mc[jb];Mc[jb]=lc;pc&&(Rd[jb]=pc);Zb&&(Zb.functions[jb]="this."+jb);return this}var Lb=jb=>function(lc,pc){return this.context.dataflow.locale()[jb](pc)(lc)};const hc=Lb("format"),Yb=Lb("timeFormat"),Ic=Lb("utcFormat"),yc=Lb("timeParse");Lb=Lb("utcParse");const hd=new Date(2E3,0,1),Bd=Oa("area",Ra.geoArea),Gc=Oa("bounds",Ra.geoBounds);Ra=Oa("centroid",Ra.geoCentroid);const jd=
{},fe=jb=>jb.data,Mc={random(){return Ka.random()},cumulativeNormal:Ka.cumulativeNormal,cumulativeLogNormal:Ka.cumulativeLogNormal,cumulativeUniform:Ka.cumulativeUniform,densityNormal:Ka.densityNormal,densityLogNormal:Ka.densityLogNormal,densityUniform:Ka.densityUniform,quantileNormal:Ka.quantileNormal,quantileLogNormal:Ka.quantileLogNormal,quantileUniform:Ka.quantileUniform,sampleNormal:Ka.sampleNormal,sampleLogNormal:Ka.sampleLogNormal,sampleUniform:Ka.sampleUniform,isArray:r.isArray,isBoolean:r.isBoolean,
isDate:r.isDate,isDefined(jb){return void 0!==jb},isNumber:r.isNumber,isObject:r.isObject,isRegExp:r.isRegExp,isString:r.isString,isTuple:bb.isTuple,isValid(jb){return null!=jb&&jb===jb},toBoolean:r.toBoolean,toDate:r.toDate,toNumber:r.toNumber,toString:r.toString,indexof:f,join:c,lastindexof:l,replace:q,reverse:w,slice:m,flush:r.flush,lerp:r.lerp,merge:R,pad:r.pad,peek:r.peek,pluck:ca,span:r.span,inrange:r.inrange,truncate:r.truncate,rgb:tb.rgb,lab:tb.lab,hcl:tb.hcl,hsl:tb.hsl,luminance:J,contrast:B,
sequence:Sa.range,format:hc,utcFormat:Ic,utcParse:Lb,utcOffset:Ha.utcOffset,utcSequence:Ha.utcSequence,timeFormat:Yb,timeParse:yc,timeOffset:Ha.timeOffset,timeSequence:Ha.timeSequence,timeUnitSpecifier:Ha.timeUnitSpecifier,monthFormat:la,monthAbbrevFormat:ra,dayFormat:Qa,dayAbbrevFormat:za,quarter:r.quarter,utcquarter:r.utcquarter,week:Ha.week,utcweek:Ha.utcweek,dayofyear:Ha.dayofyear,utcdayofyear:Ha.utcdayofyear,warn:Va,info:I,debug:x,extent:r.extent,inScope:Aa,intersect:function(jb,lc,pc){if(!jb)return[];
const [gd,xd]=jb;jb=(new Hb.Bounds).set(gd[0],gd[1],xd[0],xd[1]);pc=pc||this.context.dataflow.scenegraph().root;return Hb.intersect(pc,jb,Fb(lc))},clampRange:r.clampRange,pinchDistance:H,pinchAngle:da,screen:ob,containerSize:yb,windowSize:Na,bandspace:F,setdata:na,pathShape:ka,panLinear:r.panLinear,panLog:r.panLog,panPow:r.panPow,panSymlog:r.panSymlog,zoomLinear:r.zoomLinear,zoomLog:r.zoomLog,zoomPow:r.zoomPow,zoomSymlog:r.zoomSymlog,encode:Ba,modify:Ia},zd="view item group xy x y".split(" "),Rd=
{},Db={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:jb=>`_[${r.stringValue("$"+jb)}]`,functions:function(jb){const lc=z.functions(jb);zd.forEach(pc=>lc[pc]="event.vega."+pc);for(const pc in Mc)lc[pc]="this."+pc;r.extend(lc,La(jb,Mc,Rd));return lc},constants:z.constants,visitors:Rd},Zb=z.codegen(Db);eb("bandwidth",U,ia);eb("copy",wa,ia);eb("domain",cb,ia);eb("range",Y,ia);eb("invert",gb,ia);eb("scale",ta,ia);eb("gradient",G,ia);eb("geoArea",Bd,ia);eb("geoBounds",Gc,ia);
eb("geoCentroid",Ra,ia);eb("geoShape",Q,ia);eb("indata",ma,K);eb("data",xa,Ta);eb("treePath",sb,Ta);eb("treeAncestors",Ya,Ta);eb("vlSelectionTest",hb.selectionTest,hb.selectionVisitor);eb("vlSelectionIdTest",hb.selectionIdTest,hb.selectionVisitor);eb("vlSelectionResolve",hb.selectionResolve,hb.selectionVisitor);eb("vlSelectionTuples",hb.selectionTuples);h.DataPrefix=":";h.IndexPrefix="@";h.ScalePrefix="%";h.SignalPrefix="$";h.bandspace=F;h.bandwidth=U;h.codeGenerator=Zb;h.codegenParams=Db;h.containerSize=
yb;h.contrast=B;h.copy=wa;h.data=xa;h.dataVisitor=Ta;h.dayAbbrevFormat=za;h.dayFormat=Qa;h.debug=x;h.domain=cb;h.encode=Ba;h.expressionFunction=eb;h.format=hc;h.functionContext=Mc;h.geoArea=Bd;h.geoBounds=Gc;h.geoCentroid=Ra;h.geoShape=Q;h.inScope=Aa;h.indata=ma;h.indataVisitor=K;h.indexof=f;h.info=I;h.invert=gb;h.join=c;h.lastindexof=l;h.luminance=J;h.merge=R;h.modify=Ia;h.monthAbbrevFormat=ra;h.monthFormat=la;h.parseExpression=function(jb,lc){const pc={};let gd;try{jb=r.isString(jb)?jb:r.stringValue(jb)+
"",gd=z.parse(jb)}catch(xd){r.error("Expression parse error: "+jb)}gd.visit(xd=>{if(xd.type===z.CallExpression){var M=xd.callee.name,oa=Db.visitors[M];oa&&oa(M,xd.arguments,lc,pc)}});jb=Zb(gd);jb.globals.forEach(xd=>{const M="$"+xd;!r.hasOwnProperty(pc,M)&&lc.getSignal(xd)&&(pc[M]=lc.signalRef(xd))});return{$expr:r.extend({code:jb.code},lc.options.ast?{ast:gd}:null),$fields:jb.fields,$params:pc}};h.pathShape=ka;h.pinchAngle=da;h.pinchDistance=H;h.pluck=ca;h.range=Y;h.replace=q;h.reverse=w;h.scale=
ta;h.scaleGradient=G;h.scaleVisitor=ia;h.screen=ob;h.setdata=na;h.slice=m;h.timeFormat=Yb;h.timeParse=yc;h.treeAncestors=Ya;h.treePath=sb;h.utcFormat=Ic;h.utcParse=Lb;h.warn=Va;h.windowSize=Na;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[64]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17),Qb(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega))})(this,function(h,r,z){function Ra(xa,ma,na){";"!==na[na.length-1]&&(na="return("+na+");");ma=Function(...ma.concat(na));return xa&&xa.functions?ma.bind(xa.functions):ma}function tb(xa,ma,na){if(!xa||!r.isObject(xa))return xa;
for(let Ba=0,Fa=Ha.length,la;Ba<Fa;++Ba)if(la=Ha[Ba],r.hasOwnProperty(xa,la.key))return la.parse(xa,ma,na);return xa}function bb(xa,ma,na,Ba){this.dataflow=xa;this.transforms=ma;this.events=xa.events.bind(xa);this.expr=Ba||Ka;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};na&&(this.functions=Object.create(na),this.functions.context=this)}function wb(xa){this.dataflow=xa.dataflow;this.transforms=xa.transforms;this.events=xa.events;this.expr=xa.expr;this.signals=Object.create(xa.signals);
this.scales=Object.create(xa.scales);this.nodes=Object.create(xa.nodes);this.data=Object.create(xa.data);this.fn=Object.create(xa.fn);xa.functions&&(this.functions=Object.create(xa.functions),this.functions.context=this)}const Hb=r.toSet(["rule"]),hb=r.toSet(["group","image","rect"]);var Ka={operator:(xa,ma)=>Ra(xa,["_"],ma.code),parameter:(xa,ma)=>Ra(xa,["datum","_"],ma.code),event:(xa,ma)=>Ra(xa,["event"],ma.code),handler:(xa,ma)=>Ra(xa,["_","event"],`var datum=event.item&&event.item.datum;return ${ma.code};`),
encode:(xa,ma)=>{const {marktype:na,channels:Ba}=ma;ma="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Fa in Ba){const la="o["+r.stringValue(Fa)+"]";ma+=`$=${Ba[Fa].code};if(${la}!==$)${la}=$,m=1;`}Fa="";Hb[na]||(Ba.x2&&(Ba.x?(hb[na]&&(Fa+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Fa+="o.width\x3do.x2-o.x;"):Fa+="o.x\x3do.x2-(o.width||0);"),Ba.xc&&(Fa+="o.x\x3do.xc-(o.width||0)/2;"),Ba.y2&&(Ba.y?(hb[na]&&(Fa+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Fa+="o.height\x3do.y2-o.y;"):
Fa+="o.y\x3do.y2-(o.height||0);"),Ba.yc&&(Fa+="o.y\x3do.yc-(o.height||0)/2;"));ma+=Fa;return Ra(xa,["item","_"],ma+"return m;")},codegen:{get(xa){xa=`[${xa.map(r.stringValue).join("][")}]`;const ma=Function("_",`return _${xa};`);ma.path=xa;return ma},comparator(xa,ma){let na;xa=Function("a","b","var u, v; return "+xa.map((Ba,Fa)=>{const la=ma[Fa];let ra;Ba.path?(ra=`a${Ba.path}`,Ba=`b${Ba.path}`):((na=na||{})["f"+Fa]=Ba,ra=`this.f${Fa}(a)`,Ba=`this.f${Fa}(b)`);Fa=-la;return`((u = ${ra}) < (v = ${Ba}) || u == null) && v != null ? ${Fa}
  : (u > v || v == null) && u != null ? ${la}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Fa}
  : v !== v && u === u ? ${la} : `}).join("")+"0;");return na?xa.bind(na):xa}}},Ha=[{key:"$ref",parse:function(xa,ma){return ma.get(xa.$ref)||r.error("Operator not defined: "+xa.$ref)}},{key:"$key",parse:function(xa,ma){const na="k:"+xa.$key+"_"+!!xa.$flat;return ma.fn[na]||(ma.fn[na]=r.key(xa.$key,xa.$flat,ma.expr.codegen))}},{key:"$expr",parse:function(xa,ma,na){xa.$params&&ma.parseParameters(xa.$params,na);na="e:"+xa.$expr.code+"_"+xa.$name;return ma.fn[na]||(ma.fn[na]=r.accessor(ma.parameterExpression(xa.$expr),
xa.$fields,xa.$name))}},{key:"$field",parse:function(xa,ma){if(!xa.$field)return null;const na="f:"+xa.$field+"_"+xa.$name;return ma.fn[na]||(ma.fn[na]=r.field(xa.$field,xa.$name,ma.expr.codegen))}},{key:"$encode",parse:function(xa,ma){xa=xa.$encode;const na={};for(const Ba in xa){const Fa=xa[Ba];na[Ba]=r.accessor(ma.encodeExpression(Fa.$expr),Fa.$fields);na[Ba].output=Fa.$output}return na}},{key:"$compare",parse:function(xa,ma){const na="c:"+xa.$compare+"_"+xa.$order,Ba=r.array(xa.$compare).map(Fa=>
Fa&&Fa.$tupleid?z.tupleid:Fa);return ma.fn[na]||(ma.fn[na]=r.compare(Ba,xa.$order,ma.expr.codegen))}},{key:"$context",parse:function(xa,ma){return ma}},{key:"$subflow",parse:function(xa,ma){const na=xa.$subflow;return function(Ba,Fa,la){const ra=ma.fork().parse(na);Ba=ra.get(na.operators[0].id);(Fa=ra.signals.parent)&&Fa.set(la);Ba.detachSubflow=()=>ma.detach(ra);return Ba}}},{key:"$tupleid",parse:function(){return z.tupleid}}];const Sa={skip:!0};bb.prototype=wb.prototype={fork(){const xa=new wb(this);
(this.subcontext||(this.subcontext=[])).push(xa);return xa},detach(xa){this.subcontext=this.subcontext.filter(na=>na!==xa);const ma=Object.keys(xa.nodes);for(const na of ma)xa.nodes[na]._targets=null;for(const na of ma)xa.nodes[na].detach();xa.nodes=null},get(xa){return this.nodes[xa]},set(xa,ma){return this.nodes[xa]=ma},add(xa,ma){const na=this,Ba=na.dataflow,Fa=xa.value;na.set(xa.id,ma);"collect"===(xa.type+"").toLowerCase()&&Fa&&(Fa.$ingest?Ba.ingest(ma,Fa.$ingest,Fa.$format):Fa.$request?Ba.preload(ma,
Fa.$request,Fa.$format):Ba.pulse(ma,Ba.changeset().insert(Fa)));xa.root&&(na.root=ma);if(xa.parent){let la=na.get(xa.parent.$ref);la?(Ba.connect(la,[ma]),ma.targets().add(la)):(na.unresolved=na.unresolved||[]).push(()=>{la=na.get(xa.parent.$ref);Ba.connect(la,[ma]);ma.targets().add(la)})}xa.signal&&(na.signals[xa.signal]=ma);xa.scale&&(na.scales[xa.scale]=ma);if(xa.data)for(const la in xa.data){const ra=na.data[la]||(na.data[la]={});xa.data[la].forEach(Qa=>ra[Qa]=ma)}},resolve(){(this.unresolved||
[]).forEach(xa=>xa());delete this.unresolved;return this},operator(xa,ma){this.add(xa,this.dataflow.add(xa.value,ma))},transform(xa,ma){this.add(xa,this.dataflow.add(this.transforms[(ma+"").toLowerCase()]))},stream(xa,ma){this.set(xa.id,ma)},update(xa,ma,na,Ba,Fa){this.dataflow.on(ma,na,Ba,Fa,xa.options)},operatorExpression(xa){return this.expr.operator(this,xa)},parameterExpression(xa){return this.expr.parameter(this,xa)},eventExpression(xa){return this.expr.event(this,xa)},handlerExpression(xa){return this.expr.handler(this,
xa)},encodeExpression(xa){return this.expr.encode(this,xa)},parse:function(xa){const ma=this,na=xa.operators||[];xa.background&&(ma.background=xa.background);xa.eventConfig&&(ma.eventConfig=xa.eventConfig);xa.locale&&(ma.locale=xa.locale);na.forEach(Ba=>ma.parseOperator(Ba));na.forEach(Ba=>ma.parseOperatorParameters(Ba));(xa.streams||[]).forEach(Ba=>ma.parseStream(Ba));(xa.updates||[]).forEach(Ba=>ma.parseUpdate(Ba));return ma.resolve()},parseOperator:function(xa){"operator"!==(xa.type+"").toLowerCase()&&
xa.type?this.transform(xa,xa.type):this.operator(xa,xa.update?this.operatorExpression(xa.update):null)},parseOperatorParameters:function(xa){if(xa.params){const ma=this.get(xa.id);ma||r.error("Invalid operator id: "+xa.id);this.dataflow.connect(ma,ma.parameters(this.parseParameters(xa.params),xa.react,xa.initonly))}},parseParameters:function(xa,ma){ma=ma||{};const na=this;for(const Ba in xa){const Fa=xa[Ba];ma[Ba]=r.isArray(Fa)?Fa.map(la=>tb(la,na,ma)):tb(Fa,na,ma)}return ma},parseStream:function(xa){var ma=
this,na=null!=xa.filter?ma.eventExpression(xa.filter):void 0,Ba=null!=xa.stream?ma.get(xa.stream):void 0;if(xa.source)Ba=ma.events(xa.source,xa.type,na);else if(xa.merge){var Fa=xa.merge.map(la=>ma.get(la));Ba=Fa[0].merge.apply(Fa[0],Fa.slice(1))}xa.between&&(Fa=xa.between.map(la=>ma.get(la)),Ba=Ba.between(Fa[0],Fa[1]));xa.filter&&(Ba=Ba.filter(na));null!=xa.throttle&&(Ba=Ba.throttle(+xa.throttle));null!=xa.debounce&&(Ba=Ba.debounce(+xa.debounce));null==Ba&&r.error("Invalid stream definition: "+JSON.stringify(xa));
xa.consume&&Ba.consume(!0);ma.stream(xa,Ba)},parseUpdate:function(xa){var ma=r.isObject(ma=xa.source)?ma.$ref:ma;ma=this.get(ma);var na=xa.update,Ba=void 0;ma||r.error("Source not defined: "+xa.source);var Fa=xa.target&&xa.target.$expr?this.eventExpression(xa.target.$expr):this.get(xa.target);na&&na.$expr&&(na.$params&&(Ba=this.parseParameters(na.$params)),na=this.handlerExpression(na.$expr));this.update(xa,ma,Fa,na,Ba)},getState:function(xa){var ma=this,na={};if(xa.signals){var Ba=na.signals={};
Object.keys(ma.signals).forEach(la=>{const ra=ma.signals[la];xa.signals(la,ra)&&(Ba[la]=ra.value)})}if(xa.data){var Fa=na.data={};Object.keys(ma.data).forEach(la=>{const ra=ma.data[la];xa.data(la,ra)&&(Fa[la]=ra.input.value)})}ma.subcontext&&!1!==xa.recurse&&(na.subcontext=ma.subcontext.map(la=>la.getState(xa)));return na},setState:function(xa){var ma=this,na=ma.dataflow,Ba=xa.data,Fa=xa.signals;Object.keys(Fa||{}).forEach(la=>{na.update(ma.signals[la],Fa[la],Sa)});Object.keys(Ba||{}).forEach(la=>
{na.pulse(ma.data[la].input,na.changeset().remove(r.truthy).insert(Ba[la]))});(xa.subcontext||[]).forEach((la,ra)=>{(ra=ma.subcontext[ra])&&ra.setState(la)})}};h.context=function(xa,ma,na,Ba){return new bb(xa,ma,na,Ba)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[65]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(60),Qb(29),Qb(40),Qb(18),Qb(63),Qb(64),Qb(49),Qb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.d3,h.vega,h.vega,h.d3,h.vega))})(this,function(h,r,z,Ra,tb,bb,wb,Hb,hb){function Ka(G){const Q=
G.container();Q&&(Q.setAttribute("role","graphics-document"),Q.setAttribute("aria-roleDescription","visualization"),Ha(Q,G.description()))}function Ha(G,Q){G&&(null==Q?G.removeAttribute("aria-label"):G.setAttribute("aria-label",Q))}function Sa(G){G.add(null,Q=>{G._background=Q.bg;G._resize=1;return Q.bg},{bg:G._signals.background})}function xa(G){const Q=G._signals.cursor||(G._signals.cursor=G.add({user:"default",item:null}));G.on(G.events("view","mousemove"),Q,(ka,Da)=>{const sb=(ka=Q.value)?r.isString(ka)?
ka:ka.user:"default";Da=Da.item&&Da.item.cursor||null;return ka&&sb===ka.user&&Da==ka.item?ka:{user:sb,item:Da}});G.add(null,function(ka){ka=ka.cursor;let Da=this.value;r.isString(ka)||(Da=ka.item,ka=ka.user);ma(G,ka&&"default"!==ka?ka:Da||ka);return Da},{cursor:Q})}function ma(G,Q){if(G=G.globalCursor()?"undefined"!==typeof document&&document.body:G.container())return null==Q?G.style.removeProperty("cursor"):G.style.cursor=Q}function na(G,Q){G=G._runtime.data;r.hasOwnProperty(G,Q)||r.error("Unrecognized data set: "+
Q);return G[Q]}function Ba(G,Q){z.isChangeSet(Q)||r.error("Second argument to changes must be a changeset.");G=na(this,G);G.modified=!0;return this.pulse(G.input,Q)}function Fa(G){var Q=G.padding();return Math.max(0,G._viewWidth+Q.left+Q.right)}function la(G){var Q=G.padding();return Math.max(0,G._viewHeight+Q.top+Q.bottom)}function ra(G){var Q=G.padding();G=G._origin;return[Q.left+G[0],Q.top+G[1]]}function Qa(G){var Q=ra(G),ka=Fa(G),Da=la(G);G._renderer.background(G.background());G._renderer.resize(ka,
Da,Q);G._handler.origin(Q);G._resizeListeners.forEach(sb=>{try{sb(ka,Da)}catch(Ya){G.error(Ya)}})}function za(G,Q,ka){function Da(ob){var Na=Ya,yb;if(ob)for(yb=Q;yb;yb=yb.mark.group)if(yb.mark.name===ob){Na=yb;break}return Na&&Na.mark&&Na.mark.interactive?Na:{}}function sb(ob){if(!ob)return ka;r.isString(ob)&&(ob=Da(ob));const Na=ka.slice();for(;ob;)Na[0]-=ob.x||0,Na[1]-=ob.y||0,ob=ob.mark&&ob.mark.group;return Na}const Ya=Q?"group"===Q.mark.marktype?Q:Q.mark.group:null;return{view:r.constant(G),
item:r.constant(Q||{}),group:Da,xy:sb,x:ob=>sb(ob)[0],y:ob=>sb(ob)[1]}}function Ta(G){G=r.extend({defaults:{}},G);const Q=(ka,Da)=>{Da.forEach(sb=>{r.isArray(ka[sb])&&(ka[sb]=r.toSet(ka[sb]))})};Q(G.defaults,["prevent","allow"]);Q(G,["view","window","selector"]);return G}function K(G,Q,ka,Da){G._eventListeners.push({type:ka,sources:r.array(Q),handler:Da})}function ia(G,Q,ka){const Da=G._eventConfig&&G._eventConfig[Q];return!1===Da||r.isObject(Da)&&!Da[ka]?(G.warn(`Blocked ${Q} ${ka} event listener.`),
!1):!0}function ya(G){return G.item}function ua(G){return G.item.mark.source}function La(G){return function(Q,ka){return ka.vega.view().changeset().encode(ka.item,G)}}function Oa(G,Q,ka){G=document.createElement(G);for(const Da in Q)G.setAttribute(Da,Q[Da]);null!=ka&&(G.textContent=ka);return G}function Aa(G,Q,ka){if(Q){var Da=ka.param,sb=ka.state;sb||(sb=ka.state={elements:null,active:!1,set:null,update:Ya=>{Ya!=G.signal(Da.signal)&&G.runAsync(null,()=>{sb.source=!0;G.signal(Da.signal,Ya)})}},Da.debounce&&
(sb.update=r.debounce(Da.debounce,sb.update)));(null==Da.input&&Da.element?ab:Va)(sb,Q,Da,G);sb.active||(G.on(G._signals[Da.signal],null,()=>{sb.source?sb.source=!1:sb.set(G.signal(Da.signal))}),sb.active=!0);return sb}}function ab(G,Q,ka,Da){const sb=ka.event||"input",Ya=()=>G.update(Q.value);Da.signal(ka.signal,Q.value);Q.addEventListener(sb,Ya);K(Da,Q,sb,Ya);G.set=ob=>{Q.value=ob;ob=Q.dispatchEvent;var Na="undefined"!==typeof Event?new Event(sb):{type:sb};ob.call(Q,Na)}}function Va(G,Q,ka,Da){Da=
Da.signal(ka.signal);const sb=Oa("div",{"class":"vega-bind"}),Ya="radio"===ka.input?sb:sb.appendChild(Oa("label"));Ya.appendChild(Oa("span",{"class":"vega-bind-name"},ka.name||ka.signal));Q.appendChild(sb);Q=I;switch(ka.input){case "checkbox":Q=x;break;case "select":Q=L;break;case "radio":Q=J;break;case "range":Q=B}Q(G,Ya,ka,Da)}function I(G,Q,ka,Da){const sb=Oa("input");for(const Ya in ka)"signal"!==Ya&&"element"!==Ya&&sb.setAttribute("input"===Ya?"type":Ya,ka[Ya]);sb.setAttribute("name",ka.signal);
sb.value=Da;Q.appendChild(sb);sb.addEventListener("input",()=>G.update(sb.value));G.elements=[sb];G.set=Ya=>sb.value=Ya}function x(G,Q,ka,Da){ka={type:"checkbox",name:ka.signal};Da&&(ka.checked=!0);const sb=Oa("input",ka);Q.appendChild(sb);sb.addEventListener("change",()=>G.update(sb.checked));G.elements=[sb];G.set=Ya=>sb.checked=!!Ya||null}function L(G,Q,ka,Da){const sb=Oa("select",{name:ka.signal}),Ya=ka.labels||[];ka.options.forEach((ob,Na)=>{const yb={value:ob};R(ob,Da)&&(yb.selected=!0);sb.appendChild(Oa("option",
yb,(Ya[Na]||ob)+""))});Q.appendChild(sb);sb.addEventListener("change",()=>{G.update(ka.options[sb.selectedIndex])});G.elements=[sb];G.set=ob=>{for(let Na=0,yb=ka.options.length;Na<yb;++Na)if(R(ka.options[Na],ob)){sb.selectedIndex=Na;break}}}function J(G,Q,ka,Da){const sb=Oa("span",{"class":"vega-bind-radio"}),Ya=ka.labels||[];Q.appendChild(sb);G.elements=ka.options.map((ob,Na)=>{var yb={type:"radio",name:ka.signal,value:ob};R(ob,Da)&&(yb.checked=!0);yb=Oa("input",yb);yb.addEventListener("change",
()=>G.update(ob));Na=Oa("label",{},(Ya[Na]||ob)+"");Na.prepend(yb);sb.appendChild(Na);return yb});G.set=ob=>{const Na=G.elements,yb=Na.length;for(let Fb=0;Fb<yb;++Fb)R(Na[Fb].value,ob)&&(Na[Fb].checked=!0)}}function B(G,Q,ka,Da){Da=void 0!==Da?Da:(+ka.max+ +ka.min)/2;const sb=null!=ka.max?ka.max:Math.max(100,+Da)||100,Ya=ka.min||Math.min(0,sb,+Da)||0,ob=ka.step||tb.tickStep(Ya,sb,100),Na=Oa("input",{type:"range",name:ka.signal,min:Ya,max:sb,step:ob});Na.value=Da;const yb=Oa("span",{},+Da);Q.appendChild(Na);
Q.appendChild(yb);Q=()=>{yb.textContent=Na.value;G.update(+Na.value)};Na.addEventListener("input",Q);Na.addEventListener("change",Q);G.elements=[Na];G.set=Fb=>{Na.value=Fb;yb.textContent=Fb}}function R(G,Q){return G===Q||G+""===Q+""}function aa(G,Q,ka,Da,sb,Ya){Q=Q||new Da(G.loader());return Q.initialize(ka,Fa(G),la(G),ra(G),sb,Ya).background(G.background())}function ea(G,Q){return Q?function(){try{Q.apply(this,arguments)}catch(ka){G.error(ka)}}:null}function Ca(G,Q,ka,Da){const sb=(new Da(G.loader(),
ea(G,G.tooltip()))).scene(G.scenegraph().root).initialize(ka,ra(G),G);Q&&Q.handlers().forEach(Ya=>{sb.on(Ya.type,Ya.handler)});return sb}function Ia(G,Q,ka){if("string"===typeof Q)if("undefined"!==typeof document){if(Q=document.querySelector(Q),!Q)return G.error("Signal bind element not found: "+Q),null}else return G.error("DOM document instance not found."),null;if(Q&&ka)try{Q.innerHTML=""}catch(Da){Q=null,G.error(Da)}return Q}function H(G){r.isObject(G)?G={top:+G.top||0,bottom:+G.bottom||0,left:+G.left||
0,right:+G.right||0}:(G=+G||0,G={top:G,bottom:G,left:G,right:G});return G}async function da(G,Q,ka,Da){var sb=Ra.renderModule(Q);(sb=sb&&sb.headless)||r.error("Unrecognized renderer type: "+Q);await G.runAsync();return aa(G,null,null,sb,ka,Da).renderAsync(G._scenegraph.root)}function ca(G,Q,ka){return wb.context(G,z.transforms,bb.functionContext,ka).parse(Q)}function X(G,Q){var ka=G.autosize();G=G.padding();return Q-(ka&&"padding"===ka.contains?G.left+G.right:0)}function e(G,Q){var ka=G.autosize();
G=G.padding();return Q-(ka&&"padding"===ka.contains?G.top+G.bottom:0)}function c(G){function Q(){G._autosize=G._resize=1}var ka=G._signals,Da=ka.width,sb=ka.height;ka=ka.padding;G._resizeWidth=G.add(null,ob=>{G._width=ob.size;G._viewWidth=X(G,ob.size);Q()},{size:Da});G._resizeHeight=G.add(null,ob=>{G._height=ob.size;G._viewHeight=e(G,ob.size);Q()},{size:sb});const Ya=G.add(null,Q,{pad:ka});G._resizeWidth.rank=Da.rank+1;G._resizeHeight.rank=sb.rank+1;Ya.rank=ka.rank+1}function f(G,Q){return Q.modified&&
r.isArray(Q.input.value)&&G.indexOf("_:vega:_")}function l(G,Q){return!("parent"===G||Q instanceof z.transforms.proxy)}function m(G,Q,ka,Da){if(G=G.element())Q=G.setAttribute,Da=null==Da?"":r.isArray(Da)?"["+Da.map(w).join(", ")+"]":r.isObject(Da)&&!r.isDate(Da)?q(Da):Da+"",Q.call(G,"title",Da)}function q(G){return Object.keys(G).map(Q=>{const ka=G[Q];return Q+": "+(r.isArray(ka)?"["+ka.map(w).join(", ")+"]":w(ka))}).join("\n")}function w(G){return r.isArray(G)?"[…]":r.isObject(G)&&!r.isDate(G)?"{…}":
G}function F(G,Q){Q=Q||{};z.Dataflow.call(this);Q.loader&&this.loader(Q.loader);Q.logger&&this.logger(Q.logger);null!=Q.logLevel&&this.logLevel(Q.logLevel);if(Q.locale||G.locale){var ka=r.extend({},G.locale,Q.locale);this.locale(hb.locale(ka.number,ka.time))}this._elBind=this._el=null;this._renderType=Q.renderer||Ra.RenderType.Canvas;this._scenegraph=new Ra.Scenegraph;ka=this._scenegraph.root;this._renderer=null;this._tooltip=Q.tooltip||m;this._redraw=!0;this._handler=(new Ra.CanvasHandler).scene(ka);
this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=Ta(G.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const Da=ca(this,G,Q.expr);this._runtime=Da;this._signals=Da.signals;this._bind=(G.bindings||[]).map(sb=>({state:null,param:r.extend({},sb)}));Da.root&&Da.root.set(ka);ka.source=Da.data.root.input;this.pulse(Da.data.root.input,this.changeset().insert(ka.items));this._width=this.width();this._height=this.height();
this._viewWidth=X(this,this._width);this._viewHeight=e(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;c(this);Sa(this);xa(this);this.description(G.description);Q.hover&&this.hover();Q.container&&this.initialize(Q.container,Q.bind)}function U(G,Q){return r.hasOwnProperty(G._signals,Q)?G._signals[Q]:r.error("Unrecognized signal name: "+r.stringValue(Q))}function wa(G,Q){G=(G._targets||[]).filter(ka=>ka._update&&ka._update.handler===Q);return G.length?G[0]:null}function cb(G,Q,
ka,Da){let sb=wa(ka,Da);sb||(sb=ea(G,()=>Da(Q,ka.value)),sb.handler=Da,G.on(ka,null,sb));return G}function gb(G,Q,ka){(ka=wa(Q,ka))&&Q._targets.remove(ka);return G}const Y={trap:!1};var ta={skip:!0};r.inherits(F,z.Dataflow,{async evaluate(G,Q,ka){await z.Dataflow.prototype.evaluate.call(this,G,Q);if(this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Qa(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(Da){this.error(Da)}ka&&z.asyncCallback(this,
ka);return this},dirty(G){this._redraw=!0;this._renderer&&this._renderer.dirty(G)},description(G){if(arguments.length){const Q=null!=G?G+"":null;Q!==this._desc&&Ha(this._el,this._desc=Q);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(G,Q,ka){const Da=U(this,G);return 1===arguments.length?Da.value:this.update(Da,Q,ka)},width(G){return arguments.length?this.signal("width",G):this.signal("width")},height(G){return arguments.length?
this.signal("height",G):this.signal("height")},padding(G){return arguments.length?this.signal("padding",H(G)):H(this.signal("padding"))},autosize(G){return arguments.length?this.signal("autosize",G):this.signal("autosize")},background(G){return arguments.length?this.signal("background",G):this.signal("background")},renderer(G){if(!arguments.length)return this._renderType;Ra.renderModule(G)||r.error("Unrecognized renderer type: "+G);G!==this._renderType&&(this._renderType=G,this._resetRenderer());
return this},tooltip(G){if(!arguments.length)return this._tooltip;G!==this._tooltip&&(this._tooltip=G,this._resetRenderer());return this},loader(G){if(!arguments.length)return this._loader;G!==this._loader&&(z.Dataflow.prototype.loader.call(this,G),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(U(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(G,Q,ka,Da,sb,Ya){this.runAfter(ob=>
{let Na=0;ob._autosize=0;ob.width()!==ka&&(Na=1,ob.signal("width",ka,ta),ob._resizeWidth.skip(!0));ob.height()!==Da&&(Na=1,ob.signal("height",Da,ta),ob._resizeHeight.skip(!0));ob._viewWidth!==G&&(ob._resize=1,ob._viewWidth=G);ob._viewHeight!==Q&&(ob._resize=1,ob._viewHeight=Q);if(ob._origin[0]!==sb[0]||ob._origin[1]!==sb[1])ob._resize=1,ob._origin=sb;Na&&ob.run("enter");Ya&&ob.runAfter(yb=>yb.resize())},!1,1)},addEventListener(G,Q,ka){let Da=Q;ka&&!1===ka.trap||(Da=ea(this,Q),Da.raw=Q);this._handler.on(G,
Da);return this},removeEventListener(G,Q){for(var ka=this._handler.handlers(G),Da=ka.length,sb,Ya;0<=--Da;)if(Ya=ka[Da].type,sb=ka[Da].handler,G===Ya&&(Q===sb||Q===sb.raw)){this._handler.off(Ya,sb);break}return this},addResizeListener(G){const Q=this._resizeListeners;0>Q.indexOf(G)&&Q.push(G);return this},removeResizeListener(G){var Q=this._resizeListeners;G=Q.indexOf(G);0<=G&&Q.splice(G,1);return this},addSignalListener(G,Q){return cb(this,G,U(this,G),Q)},removeSignalListener(G,Q){return gb(this,
U(this,G),Q)},addDataListener(G,Q){return cb(this,G,na(this,G).values,Q)},removeDataListener(G,Q){return gb(this,na(this,G).values,Q)},globalCursor(G){if(arguments.length){if(this._globalCursor!==!!G){const Q=ma(this,null);this._globalCursor=!!G;Q&&ma(this,Q)}return this}return this._globalCursor},preventDefault(G){return arguments.length?(this._preventDefault=G,this):this._preventDefault},timer:function(G,Q){this._timers.push(Hb.interval(function(ka){G({timestamp:Date.now(),elapsed:ka})},Q))},events:function(G,
Q,ka){var Da=this,sb=new z.EventStream(ka);ka=function(yb,Fb){Da.runAsync(null,()=>{var eb;if(eb="view"===G){var Lb=Da._eventConfig.defaults;eb=Lb.prevent;Lb=Lb.allow;eb=!1===eb||!0===Lb?!1:!0===eb||!1===Lb?!0:eb?eb[Q]:Lb?!Lb[Q]:Da.preventDefault()}eb&&yb.preventDefault();eb=sb.receive;Lb=(Lb=Da._renderer)&&Lb.canvas();if(Lb){var hc=ra(Da);var Yb=yb.changedTouches?yb.changedTouches[0]:yb;Yb=Ra.point(Yb,Lb);Yb[0]-=hc[0];Yb[1]-=hc[1]}yb.dataflow=Da;yb.item=Fb;yb.vega=za(Da,Fb,Yb);eb.call(sb,yb)})};
var Ya;if("timer"===G)ia(Da,"timer",Q)&&Da.timer(ka,Q);else if("view"===G)ia(Da,"view",Q)&&Da.addEventListener(Q,ka,Y);else if("window"===G?ia(Da,"window",Q)&&"undefined"!==typeof window&&(Ya=[window]):"undefined"!==typeof document&&ia(Da,"selector",Q)&&(Ya=document.querySelectorAll(G)),Ya){for(var ob=0,Na=Ya.length;ob<Na;++ob)Ya[ob].addEventListener(Q,ka);K(Da,Ya,Q,ka)}else Da.warn("Can not resolve event source: "+G);return sb},finalize:function(){var G=this._tooltip,Q=this._timers,ka=this._eventListeners,
Da;for(Da=Q.length;0<=--Da;)Q[Da].stop();for(Da=ka.length;0<=--Da;){var sb=ka[Da];for(Q=sb.sources.length;0<=--Q;)sb.sources[Q].removeEventListener(sb.type,sb.handler)}G&&G.call(this,this._handler,null,null,null);return this},hover:function(G,Q){G=[G||"hover"];Q=[Q||"update",G[0]];this.on(this.events("view","mouseover",ya),ua,La(G));this.on(this.events("view","mouseout",ya),ua,La(Q));return this},data:function(G,Q){return 2>arguments.length?na(this,G).values.value:Ba.call(this,G,z.changeset().remove(r.truthy).insert(Q))},
change:Ba,insert:function(G,Q){return Ba.call(this,G,z.changeset().insert(Q))},remove:function(G,Q){return Ba.call(this,G,z.changeset().remove(Q))},scale:function(G){var Q=this._runtime.scales;r.hasOwnProperty(Q,G)||r.error("Unrecognized scale or projection: "+G);return Q[G].value},initialize:function(G,Q){const ka=this;var Da=ka._renderType;const sb=ka._eventConfig.bind;var Ya=Ra.renderModule(Da);G=ka._el=G?Ia(ka,G,!0):null;Ka(ka);Ya||ka.error("Unrecognized renderer type: "+Da);Da=Ya.handler||Ra.CanvasHandler;
Ya=G?Ya.renderer:Ya.headless;ka._renderer=Ya?aa(ka,ka._renderer,G,Ya):null;ka._handler=Ca(ka,ka._handler,G,Da);ka._redraw=!0;G&&"none"!==sb&&(Q=Q?ka._elBind=Ia(ka,Q,!0):G.appendChild(Oa("form",{"class":"vega-bindings"})),ka._bind.forEach(ob=>{ob.param.element&&"container"!==sb&&(ob.element=Ia(ka,ob.param.element,!!ob.param.input))}),ka._bind.forEach(ob=>{Aa(ka,ob.element||Q,ob)}));return ka},toImageURL:async function(G,Q){G!==Ra.RenderType.Canvas&&G!==Ra.RenderType.SVG&&G!==Ra.RenderType.PNG&&r.error("Unrecognized image type: "+
G);Q=await da(this,G,Q);G===Ra.RenderType.SVG?(G=Q.svg(),G=new Blob([G],{type:"image/svg+xml"}),G=window.URL.createObjectURL(G)):G=Q.canvas().toDataURL("image/png");return G},toCanvas:async function(G,Q){return(await da(this,Ra.RenderType.Canvas,G,Q)).canvas()},toSVG:async function(G){return(await da(this,Ra.RenderType.SVG,G)).svg()},getState:function(G){return this._runtime.getState(G||{data:f,signals:l,recurse:!0})},setState:function(G){this.runAsync(null,Q=>{Q._trigger=!1;Q._runtime.setState(G)},
Q=>{Q._trigger=!0});return this}});h.View=F;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[66]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(Ka,Ha,Sa,xa,ma){const na=Ka.length;let Ba=0,Fa;for(;Ha<na;++Ha)if(Fa=Ka[Ha],Ba||Fa!==Sa)ma&&0<=ma.indexOf(Fa)?--Ba:xa&&0<=xa.indexOf(Fa)&&++Ba;else break;return Ha}function z(Ka){const Ha=[],Sa=Ka.length;let xa=0,ma=0;for(;ma<Sa;)ma=r(Ka,
ma,",","[{","]}"),Ha.push(Ka.substring(xa,ma).trim()),xa=++ma;if(0===Ha.length)throw"Empty event selector: "+Ka;return Ha}function Ra(Ka){if("["===Ka[0]){var Ha=Ka;var Sa=Ha.length;Ka=r(Ha,1,"]","[","]");if(Ka===Sa)throw"Empty between selector: "+Ha;Sa=z(Ha.substring(1,Ka));if(2!==Sa.length)throw"Between selector must have two elements: "+Ha;Ha=Ha.slice(Ka+1).trim();if("\x3e"!==Ha[0])throw"Expected '\x3e' after between selector: "+Ha;Sa=Sa.map(Ra);Ha=Ra(Ha.slice(1).trim());Ha.between?Ha={between:Sa,
stream:Ha}:Ha.between=Sa}else{Sa={source:Hb};const xa=[];let ma=[0,0],na=0,Ba=0,Fa=Ka.length,la=0,ra;if("}"===Ka[Fa-1]){la=Ka.lastIndexOf("{");if(0<=la){try{ma=tb(Ka.substring(la+1,Fa-1))}catch(Qa){throw"Invalid throttle specification: "+Ka;}Ka=Ka.slice(0,la).trim();Fa=Ka.length}else throw"Unmatched right brace: "+Ka;la=0}if(!Fa)throw Ka;"@"===Ka[0]&&(na=++la);ra=r(Ka,la,":");ra<Fa&&(xa.push(Ka.substring(Ba,ra).trim()),Ba=la=++ra);la=r(Ka,la,"[");if(la===Fa)xa.push(Ka.substring(Ba,Fa).trim());else if(xa.push(Ka.substring(Ba,
la).trim()),Ha=[],Ba=++la,Ba===Fa)throw"Unmatched left bracket: "+Ka;for(;la<Fa;){la=r(Ka,la,"]");if(la===Fa)throw"Unmatched left bracket: "+Ka;Ha.push(Ka.substring(Ba,la).trim());if(la<Fa-1&&"["!==Ka[++la])throw"Expected left bracket: "+Ka;Ba=++la}if(!(Fa=xa.length)||bb.test(xa[Fa-1]))throw"Invalid event selector: "+Ka;1<Fa?(Sa.type=xa[1],na?Sa.markname=xa[0].slice(1):hb[xa[0]]?Sa.marktype=xa[0]:Sa.source=xa[0]):Sa.type=xa[0];"!"===Sa.type.slice(-1)&&(Sa.consume=!0,Sa.type=Sa.type.slice(0,-1));null!=
Ha&&(Sa.filter=Ha);ma[0]&&(Sa.throttle=ma[0]);ma[1]&&(Sa.debounce=ma[1]);Ha=Sa}return Ha}function tb(Ka){const Ha=Ka.split(",");if(!Ka.length||2<Ha.length)throw Ka;return Ha.map(Sa=>{Sa=+Sa;if(Sa!==Sa)throw Ka;return Sa})}const bb=/[[\]{}]/,wb={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Hb,hb;h.selector=function(Ka,Ha,Sa){Hb=Ha||"view";hb=Sa||wb;return z(Ka.trim()).map(Ra)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[67]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb,Qb(17),Qb(63),Qb(66),Qb(39),Qb(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.vega,h.vega))})(this,function(h,r,z,Ra,tb,bb){function wb(E){return r.isObject(E)?E:{type:E||"pad"}}function Hb(E){r.isObject(E)?
E=E.signal?E:{top:+E.top||0,bottom:+E.bottom||0,left:+E.left||0,right:+E.right||0}:(E=+E||0,E={top:E,bottom:E,left:E,right:E});return E}function hb(E,W,Ma,Cb){return null!=Ma?(r.isObject(Ma)&&!r.isArray(Ma)||r.isArray(Ma)&&Ma.length&&r.isObject(Ma[0])?E.update[W]=Ma:E[Cb||"enter"][W]={value:Ma},1):0}function Ka(E,W,Ma){for(const Cb in W)hb(E,Cb,W[Cb]);for(const Cb in Ma)hb(E,Cb,Ma[Cb],"update")}function Ha(E,W,Ma){for(const Cb in W)Ma&&r.hasOwnProperty(Ma,Cb)||(E[Cb]=r.extend(E[Cb]||{},W[Cb]));return E}
function Sa(E,W){return W&&(W.enter&&W.enter[E]||W.update&&W.update[E])}function xa(E,W,Ma,Cb,Ob){const Pb={},wc={};let fc,Tc;Tc="lineBreak";"text"!==W||null==Ob[Tc]||Sa(Tc,E)||ma(Pb,Tc,Ob[Tc]);if("legend"==Ma||String(Ma).startsWith("axis"))Ma=null;Ma="frame"===Ma?Ob.group:"mark"===Ma?r.extend({},Ob.mark,Ob[W]):null;for(Tc in Ma)(W=Sa(Tc,E)||("fill"===Tc||"stroke"===Tc)&&(Sa("fill",E)||Sa("stroke",E)))||ma(Pb,Tc,Ma[Tc]);r.array(Cb).forEach(Ad=>{Ad=Ob.style&&Ob.style[Ad];for(const Gd in Ad)Sa(Gd,E)||
ma(Pb,Gd,Ad[Gd])});E=r.extend({},E);for(Tc in Pb)Ma=Pb[Tc],Ma.signal?(fc=fc||{})[Tc]=Ma:wc[Tc]=Ma;E.enter=r.extend(wc,E.enter);fc&&(E.update=r.extend(fc,E.update));return E}function ma(E,W,Ma){E[W]=Ma&&Ma.signal?{signal:Ma.signal}:{value:Ma}}function na(E){if(null!=E.gradient)return Ba(E);if(E.signal)var W=`(${E.signal})`;else E.color?(W=E.color,W=W.c?rd("hcl",W.h,W.c,W.l):W.h||W.s?rd("hsl",W.h,W.s,W.l):W.l||W.a?rd("lab",W.l,W.a,W.b):W.r||W.g||W.b?rd("rgb",W.r,W.g,W.b):null):W=null!=E.field?la(E.field):
void 0!==E.value?r.stringValue(E.value):void 0;if(null!=E.scale){const Ma=md(E.scale);null!=E.range?W=`lerp(_range(${Ma}), ${+E.range})`:(void 0!==W&&(W=`_scale(${Ma}, ${W})`),E.band&&(W=(W?W+"+":"")+`_bandwidth(${Ma})`+(1===+E.band?"":"*"+Fa(E.band)),E.extra&&(W=`(datum.extra ? _scale(${Ma}, datum.extra.value) : ${W})`)),null==W&&(W="0"))}void 0===W&&(W=null);null!=E.exponent&&(W=`pow(${W},${Fa(E.exponent)})`);null!=E.mult&&(W+=`*${Fa(E.mult)}`);null!=E.offset&&(W+=`+${Fa(E.offset)}`);E.round&&(W=
`round(${W})`);return W}function Ba(E){const W=[E.start,E.stop,E.count].map(Ma=>null==Ma?null:r.stringValue(Ma));for(;W.length&&null==r.peek(W);)W.pop();W.unshift(md(E.gradient));return`gradient(${W.join(",")})`}function Fa(E){return r.isObject(E)?"("+na(E)+")":E}function la(E){return ra(r.isObject(E)?E:{datum:E})}function ra(E){let W;if(E.signal){W="datum";var Ma=E.signal}else if(E.group||E.parent){Ma=Math.max(1,E.level||1);for(W="item";0<Ma--;)W+=".mark.group";E.parent?(Ma=E.parent,W+=".datum"):
Ma=E.group}else E.datum?(W="datum",Ma=E.datum):r.error("Invalid field reference: "+r.stringValue(E));E.signal||(Ma=r.isString(Ma)?r.splitAccessPath(Ma).map(r.stringValue).join("]["):ra(Ma));return W+"["+Ma+"]"}function Qa(E){let W="";E.forEach(Ma=>{const Cb=na(Ma);W+=Ma.test?`(${Ma.test})?${Cb}:`:Cb});":"===r.peek(W)&&(W+="null");return W}function za(E,W,Ma,Cb,Ob,Pb){const wc={};Pb=Pb||{};Pb.encoders={$encode:wc};E=xa(E,W,Ma,Cb,Ob.config);for(const Gd in E){Ma=E[Gd];Cb=W;var fc=Pb,Tc=Ob;const Ld=
{},ue={};for(const ke in Ma)if(null!=Ma[ke]){var Ad=Ma[ke];Ad=r.isArray(Ad)?Qa(Ad):na(Ad);Ld[ke]=Ta(Ad,Tc,fc,ue)}Ma={$expr:{marktype:Cb,channels:Ld},$fields:Object.keys(ue),$output:Object.keys(Ma)};wc[Gd]=Ma}return Pb}function Ta(E,W,Ma,Cb){E=z.parseExpression(E,W);E.$fields.forEach(Ob=>Cb[Ob]=1);r.extend(Ma,E.$params);return E.$expr}function K(E,W){r.error(E+' for "outer" push: '+r.stringValue(W))}function ia(E,W){const Ma=E.name;if("outer"===E.push)W.signals[Ma]||K("No prior signal definition",
Ma),Od.forEach(Cb=>{void 0!==E[Cb]&&K("Invalid property ",Cb)});else{const Cb=W.addSignal(Ma,E.value);!1===E.react&&(Cb.react=!1);E.bind&&W.addBinding(Ma,E.bind)}}function ya(E,W,Ma,Cb){this.id=-1;this.type=E;this.value=W;this.params=Ma;Cb&&(this.parent=Cb)}function ua(E){const W={$ref:E.id};0>E.id&&(E.refs=E.refs||[]).push(W);return W}function La(E,W){return W?{$field:E,$name:W}:{$field:E}}function Oa(E,W){E={$key:E};W&&(E.$flat=!0);return E}function Aa(E,W){return(E&&E.signal?"$"+E.signal:E||"")+
(E&&W?"_":"")+(W&&W.signal?"$"+W.signal:W||"")}function ab(E){return E&&E.signal}function Va(E){if(ab(E))return!0;if(r.isObject(E))for(const W in E)if(Va(E[W]))return!0;return!1}function I(E,W){return null!=E?E:W}function x(E){return E&&E.signal||E}function L(E,W){return(E.merge?J:E.stream?B:E.type?R:r.error("Invalid stream specification: "+r.stringValue(E)))(E,W)}function J(E,W){const Ma=E.merge.map(Cb=>L(Cb,W));E=aa({merge:Ma},E,W);return W.addStream(E).id}function B(E,W){const Ma=L(E.stream,W);
E=aa({stream:Ma},E,W);return W.addStream(E).id}function R(E,W){if("timer"===E.type){var Ma=W.event("timer",E.throttle);E={between:E.between,filter:E.filter}}else Ma=E.source,Ma=W.event.call(W,"scope"===Ma?"view":Ma||"view",E.type);E=aa({stream:Ma},E,W);return 1===Object.keys(E).length?Ma:W.addStream(E).id}function aa(E,W,Ma){let Cb=W.between;Cb&&(2!==Cb.length&&r.error('Stream "between" parameter must have 2 entries: '+r.stringValue(W)),E.between=[L(Cb[0],Ma),L(Cb[1],Ma)]);Cb=W.filter?[].concat(W.filter):
[];if(W.marktype||W.markname||W.markrole){var Ob=Cb,Pb=W.marktype,wc=W.markname,fc=W.markrole;Ob.push.call(Ob,"event.item"+(Pb&&"*"!==Pb?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Pb+"'":"")+(fc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+fc+"'":"")+(wc?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+wc+"'":""))}"scope"===W.source&&Cb.push("inScope(event.item)");Cb.length&&(E.filter=z.parseExpression("("+Cb.join(")\x26\x26(")+")",Ma).$expr);null!=(Cb=W.throttle)&&(E.throttle=+Cb);null!=(Cb=W.debounce)&&
(E.debounce=+Cb);W.consume&&(E.consume=!0);return E}function ea(E,W,Ma){const Cb=E.encode,Ob={target:Ma};Ma=E.events;let Pb=E.update,wc=[];Ma||r.error("Signal update missing events specification.");r.isString(Ma)&&(Ma=Ra.selector(Ma,W.isSubscope()?"scope":"view"));Ma=r.array(Ma).filter(fc=>fc.signal||fc.scale?(wc.push(fc),0):1);1<wc.length&&(wc=[Ca(wc)]);Ma.length&&wc.push(1<Ma.length?{merge:Ma}:Ma[0]);null!=Cb&&(Pb&&r.error("Signal encode and update are mutually exclusive."),Pb="encode(item(),"+
r.stringValue(Cb)+")");Ob.update=r.isString(Pb)?z.parseExpression(Pb,W):null!=Pb.expr?z.parseExpression(Pb.expr,W):null!=Pb.value?Pb.value:null!=Pb.signal?{$expr:he,$params:{$value:W.signalRef(Pb.signal)}}:r.error("Invalid signal update specification.");E.force&&(Ob.options={force:!0});wc.forEach(fc=>{var Tc=W.addUpdate,Ad=r.extend;fc={source:fc.signal?W.signalRef(fc.signal):fc.scale?W.scaleRef(fc.scale):L(fc,W)};return Tc.call(W,Ad.call(r,fc,Ob))})}function Ca(E){return{signal:"["+E.map(W=>W.scale?
'scale("'+W.scale+'")':W.signal)+"]"}}function Ia(E,W){const Ma=W.getSignal(E.name);let Cb=E.update;E.init&&(Cb?r.error("Signals can not include both init and update expressions."):(Cb=E.init,Ma.initonly=!0));Cb&&(Cb=z.parseExpression(Cb,W),Ma.update=Cb.$expr,Ma.params=Cb.$params);E.on&&E.on.forEach(Ob=>ea(Ob,W,Ma.id))}function H(E,W){return r.isObject(E)?E.signal?W.signalRef(E.signal):r.error("Unsupported object: "+r.stringValue(E)):E}function da(E,W){return E.signal?W.signalRef(E.signal):E.map(Ma=>
H(Ma,W))}function ca(E){r.error("Can not find data set: "+r.stringValue(E))}function X(E,W,Ma){if(E)return E.signal?Ma.signalRef(E.signal):(r.isArray(E)?e:E.fields?f:c)(E,W,Ma);null==W.domainMin&&null==W.domainMax||r.error("No scale domain defined for domainMin/domainMax to override.")}function e(E,W,Ma){return E.map(Cb=>H(Cb,Ma))}function c(E,W,Ma){const Cb=Ma.getData(E.data);Cb||ca(E.data);return tb.isDiscrete(W.type)?Cb.valuesRef(Ma,E.field,m(E.sort,!1)):tb.isQuantile(W.type)?Cb.domainRef(Ma,E.field):
Cb.extentRef(Ma,E.field)}function f(E,W,Ma){const Cb=E.data,Ob=E.fields.reduce((Pb,wc)=>{if(r.isString(wc))wc={data:Cb,field:wc};else if(r.isArray(wc)||wc.signal){var fc=wc;wc="_:vega:_"+$b++;const Tc=Dd({});r.isArray(fc)?Tc.value={$ingest:fc}:fc.signal&&(fc="setdata("+r.stringValue(wc)+","+fc.signal+")",Tc.params.input=Ma.signalRef(fc));Ma.addDataPipeline(wc,[Tc,we({})]);wc={data:wc,field:"data"}}Pb.push(wc);return Pb},[]);return(tb.isDiscrete(W.type)?l:tb.isQuantile(W.type)?q:w)(E,Ma,Ob)}function l(E,
W,Ma){const Cb=m(E.sort,!0);E=Ma.map(Pb=>{const wc=W.getData(Pb.data);wc||ca(Pb.data);return wc.countsRef(W,Pb.field,Cb)});const Ob={groupby:ee,pulse:E};Cb&&(E=Cb.op||"count",Ma=Cb.field?Aa(E,Cb.field):"count",Ob.ops=[ce[E]],Ob.fields=[W.fieldRef(Ma)],Ob.as=[Ma]);E=W.add(De(Ob));E=W.add(Dd({pulse:ua(E)}));Ma=W.add(Qd({field:ee,sort:W.sortRef(Cb),pulse:ua(E)}));return ua(Ma)}function m(E,W){E&&(E.field||E.op?E.field||"count"===E.op?W&&E.field&&E.op&&!ce[E.op]&&r.error("Multiple domain scales can not be sorted using "+
E.op):r.error("No field provided for sort aggregate op: "+E.op):r.isObject(E)?E.field="key":E={field:"key"});return E}function q(E,W,Ma){E=Ma.map(Cb=>{const Ob=W.getData(Cb.data);Ob||ca(Cb.data);return Ob.domainRef(W,Cb.field)});return ua(W.add(Nc({values:E})))}function w(E,W,Ma){E=Ma.map(Cb=>{const Ob=W.getData(Cb.data);Ob||ca(Cb.data);return Ob.extentRef(W,Cb.field)});return ua(W.add(xc({extents:E})))}function F(E,W,Ma){const Cb=W.config.range;let Ob=E.range;if(Ob.signal)return W.signalRef(Ob.signal);
if(r.isString(Ob)){if(Cb&&r.hasOwnProperty(Cb,Ob))return E=r.extend({},E,{range:Cb[Ob]}),F(E,W,Ma);"width"===Ob?Ob=[0,{signal:"width"}]:"height"===Ob?Ob=tb.isDiscrete(E.type)?[0,{signal:"height"}]:[{signal:"height"},0]:r.error("Unrecognized scale range value: "+r.stringValue(Ob))}else{if(Ob.scheme){Ma.scheme=r.isArray(Ob.scheme)?da(Ob.scheme,W):H(Ob.scheme,W);Ob.extent&&(Ma.schemeExtent=da(Ob.extent,W));Ob.count&&(Ma.schemeCount=H(Ob.count,W));return}if(Ob.step){Ma.rangeStep=H(Ob.step,W);return}if(tb.isDiscrete(E.type)&&
!r.isArray(Ob))return X(Ob,E,W);r.isArray(Ob)||r.error("Unsupported range type: "+r.stringValue(Ob))}return Ob.map(Pb=>(r.isArray(Pb)?da:H)(Pb,W))}function U(E,W,Ma){return r.isArray(E)?E.map(Cb=>U(Cb,W,Ma)):r.isObject(E)?E.signal?Ma.signalRef(E.signal):"fit"===W?E:r.error("Unsupported parameter object: "+r.stringValue(E)):E}function wa(E){E.type="group";E.interactive=E.interactive||!1;return E}function cb(E,W){const Ma=(Cb,Ob)=>I(E[Cb],I(W[Cb],Ob));Ma.isVertical=Cb=>"vertical"===I(E.direction,W.direction||
(Cb?W.symbolDirection:W.gradientDirection));Ma.gradientLength=()=>I(E.gradientLength,W.gradientLength||W.gradientWidth);Ma.gradientThickness=()=>I(E.gradientThickness,W.gradientThickness||W.gradientHeight);Ma.entryColumns=()=>I(E.columns,I(W.columns,+Ma.isVertical(!0)));return Ma}function gb(E,W){return(E=W&&(W.update&&W.update[E]||W.enter&&W.enter[E]))&&E.signal?E:E?E.value:null}function Y(E,W,Ma){return`item.anchor === '${"start"}' ? ${E} : item.anchor === '${"end"}' ? ${W} : ${Ma}`}function ta(E,
W){return W?E?r.isObject(E)?Object.assign({},E,{offset:ta(E.offset,W)}):{value:E,offset:W}:W:E}function G(E,W){W?(E.name=W.name,E.style=W.style||E.style,E.interactive=!!W.interactive,E.encode=Ha(E.encode,W,Uc)):E.interactive=!1;return E}function Q(E,W,Ma,Cb){E=cb(E,Ma);var Ob=E.isVertical();Ma=E.gradientThickness();const Pb=E.gradientLength();let wc,fc,Tc;Ob?(Ob=[0,1],fc=[0,0],Tc=Ma,Ma=Pb):(Ob=[0,0],fc=[1,0],Tc=Pb);W={enter:wc={opacity:Xd,x:Xd,y:Xd,width:ud(Tc),height:ud(Ma)},update:r.extend({},wc,
{opacity:xe,fill:{gradient:W,start:Ob,stop:fc}}),exit:{opacity:Xd}};Ka(W,{stroke:E("gradientStrokeColor"),strokeWidth:E("gradientStrokeWidth")},{opacity:E("gradientOpacity")});return G({type:"rect",role:"legend-gradient",encode:W},Cb)}function ka(E,W,Ma,Cb,Ob){E=cb(E,Ma);const Pb=E.isVertical();Ma=E.gradientThickness();const wc=E.gradientLength();var fc;let Tc,Ad,Gd,Ld="";Pb?(fc="y",Ad="y2",Tc="x",Gd="width",Ld="1-"):(fc="x",Ad="x2",Tc="y",Gd="height");W={opacity:Xd,fill:{scale:W,field:"value"}};
W[fc]={signal:Ld+"datum.perc",mult:wc};W[Tc]=Xd;W[Ad]={signal:Ld+"datum.perc2",mult:wc};W[Gd]=ud(Ma);fc={enter:W,update:r.extend({},W,{opacity:xe}),exit:{opacity:Xd}};Ka(fc,{stroke:E("gradientStrokeColor"),strokeWidth:E("gradientStrokeWidth")},{opacity:E("gradientOpacity")});return G({type:"rect",role:"legend-band",key:"value",from:Ob,encode:fc},Cb)}function Da(E,W,Ma,Cb){const Ob=cb(E,W);var Pb=Ob.isVertical();const wc=ud(Ob.gradientThickness()),fc=Ob.gradientLength();let Tc=Ob("labelOverlap"),Ad,
Gd,Ld,ue="";const ke={enter:Ad={opacity:Xd},update:Gd={opacity:xe,text:{field:"label"}},exit:{opacity:Xd}};Ka(ke,{fill:Ob("labelColor"),fillOpacity:Ob("labelOpacity"),font:Ob("labelFont"),fontSize:Ob("labelFontSize"),fontStyle:Ob("labelFontStyle"),fontWeight:Ob("labelFontWeight"),limit:I(E.labelLimit,W.gradientLabelLimit)});Pb?(Ad.align={value:"left"},Ad.baseline=Gd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Pb="y",Ld="x",ue="1-"):(Ad.align=Gd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},
Ad.baseline={value:"top"},Pb="x",Ld="y");Ad[Pb]=Gd[Pb]={signal:ue+"datum.perc",mult:fc};Ad[Ld]=Gd[Ld]=wc;wc.offset=I(E.labelOffset,W.gradientLabelOffset)||0;Tc=Tc?{separation:Ob("labelSeparation"),method:Tc,order:"datum.index"}:void 0;return G({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Cb,encode:ke,overlap:Tc},Ma)}function sb(E,W,Ma,Cb,Ob){var Pb=cb(E,W);const wc=Ma.entries,fc=!(!wc||!wc.interactive),Tc=wc?wc.name:void 0,Ad=Pb("clipHeight"),Gd=Pb("symbolOffset"),Ld={data:"value"},
ue=`(${Ob}) ? datum.${"offset"} : datum.${"size"}`,ke=Ad?ud(Ad):{field:"size"},qe=`max(1, ${Ob})`;let Nd,je;ke.mult=.5;var ze={enter:Nd={opacity:Xd,x:{signal:ue,mult:.5,offset:Gd},y:ke},update:je={opacity:xe,x:Nd.x,y:Nd.y},exit:{opacity:Xd}};let Me=null,Xe=null;E.fill||(Me=W.symbolBaseFillColor,Xe=W.symbolBaseStrokeColor);Ka(ze,{fill:Pb("symbolFillColor",Me),shape:Pb("symbolType"),size:Pb("symbolSize"),stroke:Pb("symbolStrokeColor",Xe),strokeDash:Pb("symbolDash"),strokeDashOffset:Pb("symbolDashOffset"),
strokeWidth:Pb("symbolStrokeWidth")},{opacity:Pb("symbolOpacity")});gc.forEach(pf=>{E[pf]&&(je[pf]=Nd[pf]={scale:E[pf],field:"value"})});W=G({type:"symbol",role:"legend-symbol",key:"value",from:Ld,clip:Ad?!0:void 0,encode:ze},Ma.symbols);ze=ud(Gd);ze.offset=Pb("labelOffset");ze={enter:Nd={opacity:Xd,x:{signal:ue,offset:ze},y:ke},update:je={opacity:xe,text:{field:"label"},x:Nd.x,y:Nd.y},exit:{opacity:Xd}};Ka(ze,{align:Pb("labelAlign"),baseline:Pb("labelBaseline"),fill:Pb("labelColor"),fillOpacity:Pb("labelOpacity"),
font:Pb("labelFont"),fontSize:Pb("labelFontSize"),fontStyle:Pb("labelFontStyle"),fontWeight:Pb("labelFontWeight"),limit:Pb("labelLimit")});Ma=G({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Ld,encode:ze},Ma.labels);ze={enter:{noBound:{value:!Ad},width:Xd,height:Ad?ud(Ad):Xd,opacity:Xd},exit:{opacity:Xd},update:je={opacity:xe,row:{signal:null},column:{signal:null}}};Pb.isVertical(!0)?(Pb=`ceil(item.mark.items.length / ${qe})`,je.row.signal=`${"datum.index"}%${Pb}`,je.column.signal=
`floor(${"datum.index"} / ${Pb})`,Pb={field:["row","datum.index"]}):(je.row.signal=`floor(${"datum.index"} / ${qe})`,je.column.signal=`${"datum.index"} % ${qe}`,Pb={field:"datum.index"});je.column.signal=`(${Ob})?${je.column.signal}:${"datum.index"}`;Cb={facet:{data:Cb,name:"value",groupby:"index"}};return wa({role:"scope",from:Cb,encode:Ha(ze,wc,Uc),marks:[W,Ma],name:Tc,interactive:fc,sort:Pb})}function Ya(E,W){E=cb(E,W);return{align:E("gridAlign"),columns:E.entryColumns(),center:{row:!0,column:!1},
padding:{row:E("rowPadding"),column:E("columnPadding")}}}function ob(E,W,Ma,Cb){W=cb(E,W);const Ob={enter:{opacity:Xd},update:{opacity:xe,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Xd}};Ka(Ob,{orient:W("titleOrient"),_anchor:W("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Ge},baseline:{signal:Ed},text:E.title,fill:W("titleColor"),fillOpacity:W("titleOpacity"),font:W("titleFont"),fontSize:W("titleFontSize"),fontStyle:W("titleFontStyle"),fontWeight:W("titleFontWeight"),limit:W("titleLimit"),lineHeight:W("titleLineHeight")},{align:W("titleAlign"),baseline:W("titleBaseline")});return G({type:"text",role:"legend-title",style:"guide-title",from:Cb,encode:Ob},Ma)}function Na(E,W){let Ma;r.isObject(E)&&(E.signal?Ma=E.signal:E.path?Ma="pathShape("+yb(E.path)+
")":E.sphere&&(Ma="geoShape("+yb(E.sphere)+', {type: "Sphere"})'));return Ma?W.signalRef(Ma):!!E}function yb(E){return r.isObject(E)&&E.signal?E.signal:r.stringValue(E)}function Fb(E){const W=E.role||"";return W.indexOf("axis")&&W.indexOf("legend")&&W.indexOf("title")?"group"===E.type?"scope":W||"mark":W}function eb(E){return{marktype:E.type,name:E.name||void 0,role:E.role||Fb(E),zindex:+E.zindex||void 0,aria:E.aria,description:E.description}}function Lb(E,W){return E&&E.signal?W.signalRef(E.signal):
!1===E?!1:!0}function hc(E,W){const Ma=bb.definition(E.type);Ma||r.error("Unrecognized transform type: "+r.stringValue(E.type));var Cb=Ma.type.toLowerCase();var Ob=Yb(Ma,E,W);Cb=new ya(Cb,null,Ob,void 0);E.signal&&W.addSignal(E.signal,W.proxy(Cb));Cb.metadata=Ma.metadata||{};return Cb}function Yb(E,W,Ma){const Cb={},Ob=E.params.length;for(let Pb=0;Pb<Ob;++Pb){const wc=E.params[Pb];Cb[wc.name]=Ic(wc,W,Ma)}return Cb}function Ic(E,W,Ma){const Cb=E.type,Ob=W[E.name];if("index"===Cb)return hd(E,W,Ma);
if(void 0===Ob)E.required&&r.error("Missing required "+r.stringValue(W.type)+" parameter: "+r.stringValue(E.name));else return"param"===Cb?Bd(E,W,Ma):"projection"===Cb?Ma.projectionRef(W[E.name]):E.array&&!ab(Ob)?Ob.map(Pb=>yc(E,Pb,Ma)):yc(E,Ob,Ma)}function yc(E,W,Ma){const Cb=E.type;return ab(W)?"expr"===Cb?r.error("Expression references can not be signals."):"field"===Cb?Ma.fieldRef(W):"compare"===Cb?Ma.compareRef(W):Ma.signalRef(W.signal):(E=E.expr||"field"===Cb)&&W&&W.expr?Ma.exprRef(W.expr,W.as):
E&&W&&W.field?La(W.field,W.as):"expr"===Cb?z.parseExpression(W,Ma):"data"===Cb?ua(Ma.getData(W).values):"field"===Cb?La(W):"compare"===Cb?Ma.compareRef(W):W}function hd(E,W,Ma){r.isString(W.from)||r.error('Lookup "from" parameter must be a string literal.');return Ma.getData(W.from).lookupRef(Ma,W.key)}function Bd(E,W,Ma){W=W[E.name];return E.array?(r.isArray(W)||r.error("Expected an array of sub-parameters. Instead: "+r.stringValue(W)),W.map(Cb=>Gc(E,Cb,Ma))):Gc(E,W,Ma)}function Gc(E,W,Ma){const Cb=
E.params.length;let Ob;for(let Pb=0;Pb<Cb;++Pb){Ob=E.params[Pb];for(const wc in Ob.key)if(Ob.key[wc]!==W[wc]){Ob=null;break}if(Ob)break}Ob||r.error("Unsupported parameter: "+r.stringValue(W));E=r.extend(Yb(Ob,W,Ma),Ob.key);return ua(Ma.add(sd(E)))}function jd(E,W,Ma){let Cb,Ob,Pb,wc;if(!E)Pb=ua(Ma.add(Dd(null,[{}])));else if(Cb=E.facet)W||r.error("Only group marks can be faceted."),null!=Cb.field?Pb=wc=fe(Cb,Ma):(E.data?wc=ua(Ma.getData(E.data).aggregate):(W=hc(r.extend({type:"aggregate",groupby:r.array(Cb.groupby)},
Cb.aggregate),Ma),W.params.key=Ma.keyRef(Cb.groupby),W.params.pulse=fe(Cb,Ma),Pb=wc=ua(Ma.add(W))),Ob=Ma.keyRef(Cb.groupby,!0));Pb||(Pb=fe(E,Ma));return{key:Ob,pulse:Pb,parent:wc}}function fe(E,W){return E.$ref?E:E.data&&E.data.$ref?E.data:ua(W.getData(E.data).output)}function Mc(E,W,Ma,Cb,Ob){this.scope=E;this.input=W;this.output=Ma;this.values=Cb;this.aggregate=Ob;this.index={}}function zd(E){return r.isString(E)?E:null}function Rd(E,W,Ma){const Cb=Aa(Ma.op,Ma.field);let Ob;if(W.ops)for(let Pb=
0,wc=W.as.length;Pb<wc;++Pb){if(W.as[Pb]===Cb)return}else W.ops=["count"],W.fields=[null],W.as=["count"];Ma.op&&(W.ops.push((Ob=Ma.op.signal)?E.signalRef(Ob):Ma.op),W.fields.push(E.fieldRef(Ma.field)),W.as.push(Cb))}function Db(E,W,Ma,Cb,Ob,Pb,wc){Ma=W[Ma]||(W[Ma]={});var fc=r.isObject(Pb)?("descending"===Pb.order?"-":"+")+Aa(Pb.op,Pb.field):"";let Tc=zd(Ob);if(null!=Tc){E=W.scope;Tc+=fc?"|"+fc:"";var Ad=Ma[Tc]}Ad||(Ad=Pb?{field:ee,pulse:W.countsRef(E,Ob,Pb)}:{field:E.fieldRef(Ob),pulse:ua(W.output)},
fc&&(Ad.sort=E.sortRef(Pb)),E=E.add(new ya(Cb,void 0,Ad,void 0)),wc&&(W.index[Ob]=E),Ad=ua(E),null!=Tc&&(Ma[Tc]=Ad));return Ad}function Zb(E,W,Ma){var Cb=E.from.facet;const Ob=Cb.name,Pb=fe(Cb,W);let wc;Cb.name||r.error("Facet must have a name: "+r.stringValue(Cb));Cb.data||r.error("Facet must reference a data set: "+r.stringValue(Cb));Cb.field?wc=W.add(cd({field:W.fieldRef(Cb.field),pulse:Pb})):Cb.groupby?wc=W.add(rb({key:W.keyRef(Cb.groupby),group:ua(W.proxy(Ma.parent)),pulse:Pb})):r.error("Facet must specify groupby or field: "+
r.stringValue(Cb));W=W.fork();Ma=W.add(Dd());Cb=W.add(we({pulse:ua(Ma)}));W.addData(Ob,new Mc(W,Ma,Ma,Cb));W.addSignal("parent",null);wc.params.subflow={$subflow:W.parse(E).toRuntime()}}function jb(E,W,Ma){Ma=W.add(cd({pulse:Ma.pulse}));W=W.fork();W.add(we());W.addSignal("parent",null);Ma.params.subflow={$subflow:W.parse(E).toRuntime()}}function lc(E,W,Ma){const Cb=E.remove,Ob=E.insert,Pb=E.toggle,wc=E.modify,fc=E.values,Tc=W.add(new ya("operator",void 0,void 0,void 0));E="if("+E.trigger+',modify("'+
Ma+'",'+[Ob,Cb,Pb,wc,fc].map(Ad=>null==Ad?"null":Ad).join(",")+"),0)";W=z.parseExpression(E,W);Tc.update=W.$expr;Tc.params=W.$params}function pc(E,W){var Ma=Fb(E),Cb="group"===E.type,Ob=E.from&&E.from.facet;const Pb=E.overlap;let wc=E.layout||"scope"===Ma||"frame"===Ma,fc,Tc,Ad,Gd,Ld,ue;const ke="mark"===Ma||wc||Ob,qe=jd(E.from,Cb,W);Tc=W.add(V({key:qe.key||(E.key?La(E.key):void 0),pulse:qe.pulse,clean:!Cb}));const Nd=ua(Tc);Tc=Ad=W.add(Dd({pulse:Nd}));Tc=W.add(Wc({markdef:eb(E),interactive:Lb(E.interactive,
W),clip:Na(E.clip,W),context:{$context:!0},groups:W.lookup(),parent:W.signals.parent?W.signalRef("parent"):null,index:W.markpath(),pulse:ua(Tc)}));var je=ua(Tc);Tc=Gd=W.add(qa(za(E.encode,E.type,Ma,E.style,W,{mod:!1,pulse:je})));Tc.params.parent=W.encode();E.transform&&E.transform.forEach(Me=>{Me=hc(Me,W);const Xe=Me.metadata;(Xe.generates||Xe.changes)&&r.error("Mark transforms should not generate new data.");Xe.nomod||(Gd.params.mod=!0);Me.params.pulse=ua(Tc);W.add(Tc=Me)});E.sort&&(Tc=W.add(lf({sort:W.compareRef(E.sort),
pulse:ua(Tc)})));Ma=ua(Tc);if(Ob||wc)wc=W.add(Ze({layout:W.objectProperty(E.layout),legends:W.legends,mark:je,pulse:Ma})),ue=ua(wc);const ze=W.add(le({mark:je,pulse:ue||Ma}));je=ua(ze);Cb&&(ke&&(fc=W.operators,fc.pop(),wc&&fc.pop()),W.pushState(Ma,ue||je,Nd),Ob?Zb(E,W,qe):ke?jb(E,W,qe):W.parse(E),W.popState(),ke&&(wc&&fc.push(wc),fc.push(ze)));Pb&&(je=gd(Pb,je,W));Cb=W.add(Wd({pulse:je}));Ob=W.add(we({pulse:ua(Cb)},void 0,W.parent()));null!=E.name&&(Ld=E.name,W.addData(Ld,new Mc(W,Ad,Cb,Ob)),E.on&&
E.on.forEach(Me=>{(Me.insert||Me.remove||Me.toggle)&&r.error("Marks only support modify triggers.");lc(Me,W,Ld)}))}function gd(E,W,Ma){const Cb=E.method,Ob=E.bound,Pb=E.separation;W={separation:ab(Pb)?Ma.signalRef(Pb.signal):Pb,method:ab(Cb)?Ma.signalRef(Cb.signal):Cb,pulse:W};E.order&&(W.sort=Ma.compareRef({field:E.order}));Ob&&(E=Ob.tolerance,W.boundTolerance=ab(E)?Ma.signalRef(E.signal):+E,W.boundScale=Ma.scaleRef(Ob.scale),W.boundOrient=Ob.orient);return ua(Ma.add(Wb(W)))}function xd(E,W){const Ma=
W.config.legend,Cb=E.encode||{},Ob=cb(E,Ma),Pb=Cb.legend||{},wc=Pb.name||void 0,fc=Pb.interactive,Tc=Pb.style,Ad={};let Gd=0,Ld,ue;gc.forEach(ze=>E[ze]?(Ad[ze]=E[ze],Gd=Gd||E[ze]):0);Gd||r.error("Missing valid scale for legend.");var ke=M(E,W.scaleType(Gd));const qe={title:null!=E.title,scales:Ad,type:ke,vgrad:"symbol"!==ke&&Ob.isVertical()},Nd=ua(W.add(Dd(null,[qe]))),je=ua(W.add(Rb(ue={type:ke,scale:W.scaleRef(Gd),count:W.objectProperty(Ob("tickCount")),limit:W.property(Ob("symbolLimit")),values:W.objectProperty(E.values),
minstep:W.property(E.tickMinStep),formatType:W.property(E.formatType),formatSpecifier:W.property(E.format)})));"gradient"===ke?(ke=[Q(E,Gd,Ma,Cb.gradient),Da(E,Ma,Cb.labels,je)],ue.count=ue.count||W.signalRef(`max(2,2*floor((${x(Ob.gradientLength())})/100))`)):"discrete"===ke?ke=[ka(E,Gd,Ma,Cb.gradient,je),Da(E,Ma,Cb.labels,je)]:(Ld=Ya(E,Ma),ke=[sb(E,Ma,Cb,je,x(Ld.columns))],ue.size=ub(E,W,ke[0].marks));ke=[wa({role:"legend-entry",from:Nd,encode:{enter:{x:{value:0},y:{value:0}}},marks:ke,layout:Ld,
interactive:fc})];qe.title&&ke.push(ob(E,Ma,Cb.title,Nd));return pc(wa({role:"legend",from:Nd,encode:Ha($a(Ob,E,Ma),Pb,Uc),marks:ke,aria:Ob("aria"),description:Ob("description"),zindex:Ob("zindex"),name:wc,interactive:fc,style:Tc}),W)}function M(E,W){let Ma=E.type||"symbol";E.type||1!==oa(E)||!E.fill&&!E.stroke||(Ma=tb.isContinuous(W)?"gradient":tb.isDiscretizing(W)?"discrete":"symbol");return"gradient"!==Ma?Ma:tb.isDiscretizing(W)?"discrete":"gradient"}function oa(E){return gc.reduce((W,Ma)=>W+(E[Ma]?
1:0),0)}function $a(E,W,Ma){const Cb={enter:{},update:{}};Ka(Cb,{orient:E("orient"),offset:E("offset"),padding:E("padding"),titlePadding:E("titlePadding"),cornerRadius:E("cornerRadius"),fill:E("fillColor"),stroke:E("strokeColor"),strokeWidth:Ma.strokeWidth,strokeDash:Ma.strokeDash,x:E("legendX"),y:E("legendY"),format:W.format,formatType:W.formatType});return Cb}function ub(E,W,Ma){const Cb=x(Gb("size",E,Ma));E=x(Gb("strokeWidth",E,Ma));(Ma=gb("fontSize",Ma[1].encode))||(Ma=(Ma=W.config.style["guide-label"])&&
Ma.fontSize);Ma=x(Ma);return z.parseExpression(`max(ceil(sqrt(${Cb})+${E}),${Ma})`,W)}function Gb(E,W,Ma){return W[E]?`scale("${W[E]}",datum)`:gb(E,Ma[0].encode)}function Ib(E,W){E=r.isString(E)?{text:E}:E;const Ma=cb(E,W.config.title);var Cb=E.encode||{},Ob=Cb.group||{};const Pb=Ob.name||void 0,wc=Ob.interactive,fc=Ob.style,Tc=[],Ad=ua(W.add(Dd(null,[{}])));var Gd=Tc.push,Ld=E;var ue=(ue=E.encode)&&ue.title||r.extend({name:E.name,interactive:E.interactive,style:E.style},ue);var ke={value:0};ke={enter:{opacity:ke},
update:{opacity:{value:1}},exit:{opacity:ke}};Ka(ke,{text:Ld.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ma("dx"),dy:Ma("dy"),fill:Ma("color"),font:Ma("font"),fontSize:Ma("fontSize"),fontStyle:Ma("fontStyle"),fontWeight:Ma("fontWeight"),lineHeight:Ma("lineHeight")},{align:Ma("align"),angle:Ma("angle"),baseline:Ma("baseline")});Ld=G({type:"text",role:"title-text",style:"group-title",from:Ad,encode:ke},ue);
Gd.call(Tc,Ld);E.subtitle&&(Gd=Tc.push,Cb=Cb.subtitle,Ld={value:0},Ld={enter:{opacity:Ld},update:{opacity:{value:1}},exit:{opacity:Ld}},Ka(Ld,{text:E.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ma("dx"),dy:Ma("dy"),fill:Ma("subtitleColor"),font:Ma("subtitleFont"),fontSize:Ma("subtitleFontSize"),fontStyle:Ma("subtitleFontStyle"),fontWeight:Ma("subtitleFontWeight"),lineHeight:Ma("subtitleLineHeight")},
{align:Ma("align"),angle:Ma("angle"),baseline:Ma("baseline")}),E=G({type:"text",role:"title-subtitle",style:"group-subtitle",from:Ad,encode:Ld},Cb),Gd.call(Tc,E));E={enter:{},update:{}};Ka(E,{orient:Ma("orient"),anchor:Ma("anchor"),align:{signal:Yd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:Ma("limit"),frame:Ma("frame"),offset:Ma("offset")||0,padding:Ma("subtitlePadding")});Ob=Ha(E,Ob,Uc);return pc(wa({role:"title",from:Ad,encode:Ob,marks:Tc,aria:Ma("aria"),
description:Ma("description"),zindex:Ma("zindex"),name:Pb,interactive:wc,style:fc}),W)}function bc(E,W){const Ma=[];E.transform&&E.transform.forEach(Cb=>{Ma.push(hc(Cb,W))});E.on&&E.on.forEach(Cb=>{lc(Cb,W,E.name)});W.addDataPipeline(E.name,Ub(E,W,Ma))}function Ub(E,W,Ma){const Cb=[];let Ob=null,Pb=!1,wc=!1,fc,Tc,Ad,Gd;E.values?ab(E.values)||Va(E.format)?(Cb.push(Cc(W,E)),Cb.push(Ob=sc())):Cb.push(Ob=sc({$ingest:E.values,$format:E.format})):E.url?Va(E.url)||Va(E.format)?(Cb.push(Cc(W,E)),Cb.push(Ob=
sc())):Cb.push(Ob=sc({$request:E.url,$format:E.format})):E.source&&(Ob=fc=r.array(E.source).map(Ld=>ua(W.getData(Ld).output)),Cb.push(null));E=0;for(Tc=Ma.length;E<Tc;++E)Ad=Ma[E],Gd=Ad.metadata,Ob||Gd.source||Cb.push(Ob=sc()),Cb.push(Ad),Gd.generates&&(wc=!0),Gd.modifies&&!wc&&(Pb=!0),Gd.source?Ob=Ad:Gd.changes&&(Ob=null);fc&&(Tc=fc.length-1,Cb[0]=qd({derive:Pb,pulse:Tc?fc:fc[0]}),(Pb||Tc)&&Cb.splice(1,0,sc()));Ob||Cb.push(sc());Cb.push(we({}));return Cb}function sc(E){E=Dd({},E);E.metadata={source:!0};
return E}function Cc(E,W){return ic({url:W.url?E.property(W.url):void 0,async:W.async?E.property(W.async):void 0,values:W.values?E.property(W.values):void 0,format:E.objectProperty(W.format)})}function va(E,W,Ma,Cb){let Ob;if(W&&r.hasOwnProperty(W,E))return W[E];if(r.hasOwnProperty(Ma,E))return Ma[E];if(E.startsWith("title")){switch(E){case "titleColor":Ob="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Ob=E[5].toLowerCase()+E.slice(6)}return Cb["guide-title"][Ob]}if(E.startsWith("label")){switch(E){case "labelColor":Ob=
"fill";break;case "labelFont":case "labelFontSize":Ob=E[5].toLowerCase()+E.slice(6)}return Cb["guide-label"][Ob]}return null}function Za(E){const W={};for(const Ma of E)if(Ma)for(const Cb in Ma)W[Cb]=1;return Object.keys(W)}function pb(E,W,Ma,Cb,Ob){return{signal:'flush(range("'+E+'"), scale("'+E+'", datum.value), '+W+","+Ma+","+Cb+","+Ob+")"}}function Sb(E,W,Ma,Cb){const Ob=(wc,fc)=>null!=wc?(Ma.update[fc]=ye(ud(wc),Ma.update[fc]),!1):Sa(fc,Cb)?!1:!0,Pb=Ob(E("titleX"),"x");E=Ob(E("titleY"),"y");
Ma.enter.auto=E===Pb?ud(E):te(W,ud(E),ud(Pb))}function uc(E,W,Ma){const Cb=r.array(E.signals),Ob=r.array(E.scales);Ma||Cb.forEach(Pb=>ia(Pb,W));r.array(E.projections).forEach(Pb=>{const wc=W.config.projection||{},fc={};for(const Tc in Pb)"name"!==Tc&&(fc[Tc]=U(Pb[Tc],Tc,W));for(const Tc in wc)null==fc[Tc]&&(fc[Tc]=U(wc[Tc],Tc,W));W.addProjection(Pb.name,fc)});Ob.forEach(Pb=>{const wc=Pb.type||"linear";tb.isValidScaleType(wc)||r.error("Unrecognized scale type: "+r.stringValue(wc));W.addScale(Pb.name,
{type:wc,domain:void 0})});r.array(E.data).forEach(Pb=>bc(Pb,W));Ob.forEach(Pb=>{const wc=W.getScale(Pb.name).params;let fc;wc.domain=X(Pb.domain,Pb,W);null!=Pb.range&&(wc.range=F(Pb,W,wc));if(null!=Pb.interpolate){var Tc=Pb.interpolate;wc.interpolate=H(Tc.type||Tc);null!=Tc.gamma&&(wc.interpolateGamma=H(Tc.gamma))}null!=Pb.nice&&(Tc=Pb.nice,Tc=r.isObject(Tc)?{interval:H(Tc.interval),step:H(Tc.step)}:H(Tc),wc.nice=Tc);null!=Pb.bins&&(Tc=Pb.bins,Tc=Tc.signal||r.isArray(Tc)?da(Tc,W):W.objectProperty(Tc),
wc.bins=Tc);for(fc in Pb)r.hasOwnProperty(wc,fc)||"name"===fc||(wc[fc]=H(Pb[fc],W))});(Ma||Cb).forEach(Pb=>Ia(Pb,W));r.array(E.axes).forEach(Pb=>{var wc=W.config,fc=wc.style,Tc=wc.axis,Ad="band"===W.scaleType(Pb.scale)&&wc.axisBand,Gd=Pb.orient,Ld;if(ab(Gd)){const sa=Za([wc.axisX,wc.axisY]),Ja=Za([wc.axisTop,wc.axisBottom,wc.axisLeft,wc.axisRight]);var ue={};for(Ld of sa)ue[Ld]=te(Gd,va(Ld,wc.axisX,Tc,fc),va(Ld,wc.axisY,Tc,fc));var ke={};for(Ld of Ja){var qe=ke,Nd=Ld,je=Gd.signal,ze=va(Ld,wc.axisTop,
Tc,fc),Me=va(Ld,wc.axisBottom,Tc,fc),Xe=va(Ld,wc.axisLeft,Tc,fc),pf=va(Ld,wc.axisRight,Tc,fc);var wf={signal:(null!=Xe?`${je} === '${"left"}' ? (${pe(Xe)}) : `:"")+(null!=Me?`${je} === '${"bottom"}' ? (${pe(Me)}) : `:"")+(null!=pf?`${je} === '${"right"}' ? (${pe(pf)}) : `:"")+(null!=ze?`${je} === '${"top"}' ? (${pe(ze)}) : `:"")+"(null)"};qe[Nd]=wf}}else ue="top"===Gd||"bottom"===Gd?wc.axisX:wc.axisY,ke=wc["axis"+Gd[0].toUpperCase()+Gd.slice(1)];var qf=ue||ke||Ad?r.extend({},Tc,ue,ke,Ad):Tc;const ff=
Pb.encode||{},gf=ff.axis||{},If=gf.name||void 0,Je=gf.interactive,af=gf.style,Qe=cb(Pb,qf),Ue=Qe("tickBand");let zf=Qe("tickOffset"),bf,Af;Ue?Ue.signal?(bf={signal:`(${Ue.signal}) === 'extent' ? 1 : 0.5`},Af={signal:`(${Ue.signal}) === 'extent'`},r.isObject(zf)||(zf={signal:`(${Ue.signal}) === 'extent' ? 0 : ${zf}`})):"extent"===Ue?(bf=1,Af=!0,zf=0):(bf=.5,Af=!1):(bf=Qe("bandPosition"),Af=Qe("tickExtra"));var Jf=Af;var Df=bf;var A=zf;const D={scale:Pb.scale,ticks:!!Qe("ticks"),labels:!!Qe("labels"),
grid:!!Qe("grid"),domain:!!Qe("domain"),title:null!=Pb.title},N=ua(W.add(Dd({},[D]))),T=ua(W.add(ne({scale:W.scaleRef(Pb.scale),extra:W.property(Jf),count:W.objectProperty(Pb.tickCount),values:W.objectProperty(Pb.values),minstep:W.property(Pb.tickMinStep),formatType:W.property(Pb.formatType),formatSpecifier:W.property(Pb.format)}))),ha=[];let pa;if(D.grid){var Ga=ha.push,db=ff.grid;const sa=cb(Pb,qf),Ja=Pb.orient,ib=Pb.gridScale,xb=vd(Ja,1,-1);a:{var Ua=Pb.offset,lb=xb;if(1!==lb)if(r.isObject(Ua)){let bd=
Ua=r.extend({},Ua);for(;null!=bd.mult;)if(r.isObject(bd.mult))bd=bd.mult=r.extend({},bd.mult);else{bd.mult=ab(lb)?{signal:`(${bd.mult}) * (${lb.signal})`}:bd.mult*lb;var nb=Ua;break a}bd.mult=lb}else Ua=ab(lb)?{signal:`(${lb.signal}) * (${Ua||0})`}:lb*(Ua||0);nb=Ua}const ac=nb;let dc,ec,nc;const rc={enter:dc={opacity:Xd},update:nc={opacity:xe},exit:ec={opacity:Xd}};Ka(rc,{stroke:sa("gridColor"),strokeCap:sa("gridCap"),strokeDash:sa("gridDash"),strokeDashOffset:sa("gridDashOffset"),strokeOpacity:sa("gridOpacity"),
strokeWidth:sa("gridWidth")});const ad={scale:Pb.scale,field:"value",band:Df,extra:Jf,offset:A,round:sa("tickRound")},Lc=te(Ja,{signal:"height"},{signal:"width"}),Oc=ib?{scale:ib,range:0,mult:xb,offset:ac}:{value:0,offset:ac},Vc=ib?{scale:ib,range:1,mult:xb,offset:ac}:r.extend(Lc,{mult:xb,offset:ac});dc.x=nc.x=te(Ja,ad,Oc);dc.y=nc.y=Se(Ja,ad,Oc);dc.x2=nc.x2=Se(Ja,Vc);dc.y2=nc.y2=te(Ja,Vc);ec.x=te(Ja,ad);ec.y=Se(Ja,ad);var Ab=G({type:"rule",role:"axis-grid",key:"value",from:T,encode:rc},db);Ga.call(ha,
Ab)}if(D.ticks){pa=Qe("tickSize");var Xb=ha.push,mc=ff.ticks,Jc=pa;const sa=cb(Pb,qf),Ja=Pb.orient,ib=vd(Ja,-1,1);let xb,ac,dc;const ec={enter:xb={opacity:Xd},update:dc={opacity:xe},exit:ac={opacity:Xd}};Ka(ec,{stroke:sa("tickColor"),strokeCap:sa("tickCap"),strokeDash:sa("tickDash"),strokeDashOffset:sa("tickDashOffset"),strokeOpacity:sa("tickOpacity"),strokeWidth:sa("tickWidth")});const nc=ud(Jc);nc.mult=ib;const rc={scale:Pb.scale,field:"value",band:Df,extra:Jf,offset:A,round:sa("tickRound")};dc.y=
xb.y=te(Ja,Xd,rc);dc.y2=xb.y2=te(Ja,nc);ac.x=te(Ja,rc);dc.x=xb.x=Se(Ja,Xd,rc);dc.x2=xb.x2=Se(Ja,nc);ac.y=Se(Ja,rc);var t=G({type:"rule",role:"axis-tick",key:"value",from:T,encode:ec},mc);Xb.call(ha,t)}if(D.labels){pa=D.ticks?pa:0;var y=ha.push,S=ff.labels,ba=pa;const sa=cb(Pb,qf),Ja=Pb.orient,ib=Pb.scale,xb=vd(Ja,-1,1),ac=x(sa("labelFlush")),dc=x(sa("labelFlushOffset")),ec=sa("labelAlign"),nc=sa("labelBaseline");let rc=0===ac||!!ac,ad;const Lc=ud(ba);Lc.mult=xb;Lc.offset=ud(sa("labelPadding")||0);
Lc.offset.mult=xb;const Oc={scale:ib,field:"value",band:.5,offset:ta(A,sa("labelOffset"))};var Wa=rc?pb(ib,ac,'"left"','"right"','"center"'):{value:"center"},vb=Ja;var Eb=ab(vb)?Ce(`${vb.signal} === '${"right"}'`,"left","right"):"right"===vb?{value:"left"}:{value:"right"};const Vc=te(Ja,Wa,Eb),bd=te(Ja,dd(Ja,"bottom","top"),rc?pb(ib,ac,'"top"','"bottom"','"middle"'):{value:"middle"}),ld=pb(ib,ac,`-(${dc})`,dc,0);rc=rc&&dc;const Zd={opacity:Xd,x:te(Ja,Oc,Lc),y:Se(Ja,Oc,Lc)},Td={enter:Zd,update:ad=
{opacity:xe,text:{field:"label"},x:Zd.x,y:Zd.y,align:Vc,baseline:bd},exit:{opacity:Xd,x:Zd.x,y:Zd.y}};Ka(Td,{dx:!ec&&rc?te(Ja,ld):null,dy:!nc&&rc?Se(Ja,ld):null});Ka(Td,{angle:sa("labelAngle"),fill:sa("labelColor"),fillOpacity:sa("labelOpacity"),font:sa("labelFont"),fontSize:sa("labelFontSize"),fontWeight:sa("labelFontWeight"),fontStyle:sa("labelFontStyle"),limit:sa("labelLimit"),lineHeight:sa("labelLineHeight")},{align:ec,baseline:nc});const Kd=sa("labelBound");let yd=sa("labelOverlap");yd=yd||Kd?
{separation:sa("labelSeparation"),method:yd,order:"datum.index",bound:Kd?{scale:ib,orient:Ja,tolerance:Kd}:null}:void 0;ad.align!==Vc&&(ad.align=ye(ad.align,Vc));ad.baseline!==bd&&(ad.baseline=ye(ad.baseline,bd));var Nb=G({type:"text",role:"axis-label",style:"guide-label",key:"value",from:T,encode:Td,overlap:yd},S);y.call(ha,Nb)}if(D.domain){var cc=ha.push,Dc=ff.domain;const sa=cb(Pb,qf),Ja=Pb.orient;let ib,xb;const ac={enter:ib={opacity:Xd},update:xb={opacity:xe},exit:{opacity:Xd}};Ka(ac,{stroke:sa("domainColor"),
strokeCap:sa("domainCap"),strokeDash:sa("domainDash"),strokeDashOffset:sa("domainDashOffset"),strokeWidth:sa("domainWidth"),strokeOpacity:sa("domainOpacity")});const dc={scale:Pb.scale,range:0},ec={scale:Pb.scale,range:1};ib.x=xb.x=te(Ja,dc,Xd);ib.x2=xb.x2=te(Ja,ec);ib.y=xb.y=Se(Ja,dc,Xd);ib.y2=xb.y2=Se(Ja,ec);var zc=G({type:"rule",role:"axis-domain",from:N,encode:ac},Dc);cc.call(ha,zc)}if(D.title){var td=ha.push,Id=ff.title;const sa=cb(Pb,qf),Ja=Pb.orient,ib=vd(Ja,-1,1);let xb,ac;const dc={enter:xb=
{opacity:Xd,anchor:ud(sa("titleAnchor",null)),align:{signal:Yd}},update:ac=r.extend({},xb,{opacity:xe,text:ud(Pb.title)}),exit:{opacity:Xd}},ec={signal:`lerp(range("${Pb.scale}"), ${Y(0,1,.5)})`};ac.x=te(Ja,ec);ac.y=Se(Ja,ec);var Rc=xb,Hd=ib;var Vd=ab(Hd)?{signal:`(${Hd.signal}) * ${90}`}:{value:90*Hd};Rc.angle=te(Ja,Xd,Vd);xb.baseline=te(Ja,dd(Ja,"bottom","top"),{value:"bottom"});ac.angle=xb.angle;ac.baseline=xb.baseline;Ka(dc,{fill:sa("titleColor"),fillOpacity:sa("titleOpacity"),font:sa("titleFont"),
fontSize:sa("titleFontSize"),fontStyle:sa("titleFontStyle"),fontWeight:sa("titleFontWeight"),limit:sa("titleLimit"),lineHeight:sa("titleLineHeight")},{align:sa("titleAlign"),angle:sa("titleAngle"),baseline:sa("titleBaseline")});Sb(sa,Ja,dc,Id);dc.update.align=ye(dc.update.align,xb.align);dc.update.angle=ye(dc.update.angle,xb.angle);dc.update.baseline=ye(dc.update.baseline,xb.baseline);var ve=G({type:"text",role:"axis-title",style:"guide-title",from:N,encode:dc},Id);td.call(ha,ve)}const Z={enter:{},
update:{}};Ka(Z,{orient:Qe("orient"),offset:Qe("offset")||0,position:I(Pb.position,0),titlePadding:Qe("titlePadding"),minExtent:Qe("minExtent"),maxExtent:Qe("maxExtent"),range:{signal:`abs(span(range("${Pb.scale}")))`},translate:Qe("translate"),format:Pb.format,formatType:Pb.formatType});return pc(wa({role:"axis",from:N,encode:Ha(Z,gf,Uc),marks:ha,aria:Qe("aria"),description:Qe("description"),zindex:Qe("zindex"),name:If,interactive:Je,style:af}),W)});r.array(E.marks).forEach(Pb=>pc(Pb,W));r.array(E.legends).forEach(Pb=>
xd(Pb,W));E.title&&Ib(E.title,W);W.parseLambdas();return W}function Ac(E,W){var Ma=W.config;const Cb=ua(W.root=W.add(new ya("operator",void 0,void 0,void 0))),Ob=Bb(E,Ma);Ob.forEach(fc=>ia(fc,W));W.description=E.description||Ma.description;W.eventConfig=Ma.events;W.legends=W.objectProperty(Ma.legend&&Ma.legend.layout);W.locale=Ma.locale;Ma=W.add(Dd());const Pb=W.add(qa(za(Ha({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},E.encode),"group","frame",E.style,
W,{pulse:ua(Ma)}))),wc=W.add(Ze({layout:W.objectProperty(E.layout),legends:W.legends,autosize:W.signalRef("autosize"),mark:Cb,pulse:ua(Pb)}));W.operators.pop();W.pushState(ua(Pb),ua(wc),null);uc(E,W,Ob);W.operators.push(wc);E=W.add(le({mark:Cb,pulse:ua(wc)}));E=W.add(Wd({pulse:ua(E)}));E=W.add(we({pulse:ua(E)}));W.addData("root",new Mc(W,Ma,Ma,E));return W}function Kc(E,W){return W&&W.signal?{name:E,update:W.signal}:{name:E,value:W}}function Bb(E,W){const Ma=wc=>I(E[wc],W[wc]),Cb=[Kc("background",
Ma("background")),Kc("autosize",wb(Ma("autosize"))),Kc("padding",Hb(Ma("padding"))),Kc("width",Ma("width")||0),Kc("height",Ma("height")||0)],Ob=Cb.reduce((wc,fc)=>(wc[fc.name]=fc,wc),{}),Pb={};r.array(E.signals).forEach(wc=>{r.hasOwnProperty(Ob,wc.name)?wc=r.extend(Ob[wc.name],wc):Cb.push(wc);Pb[wc.name]=wc});r.array(W.signals).forEach(wc=>{r.hasOwnProperty(Pb,wc.name)||r.hasOwnProperty(Ob,wc.name)||Cb.push(wc)});return Cb}function Tb(E,W){this.config=E||{};this.options=W||{};this.bindings=[];this.field=
{};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function kc(E){this.config=E.config;this.options=E.options;this.legends=E.legends;this.field=Object.create(E.field);this.signals=Object.create(E.signals);this.lambdas=Object.create(E.lambdas);this.scales=Object.create(E.scales);this.events=
Object.create(E.events);this.data=Object.create(E.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++E._nextsub[0];this._nextsub=E._nextsub;this._parent=E._parent.slice();this._encode=E._encode.slice();this._lookup=E._lookup.slice();this._markpath=E._markpath}function jc(E){return(r.isArray(E)?qc:ed)(E)}function qc(E){const W=E.length;let Ma="[";for(let Cb=0;Cb<W;++Cb){const Ob=E[Cb];Ma+=(0<Cb?",":"")+(r.isObject(Ob)?Ob.signal||jc(Ob):r.stringValue(Ob))}return Ma+"]"}
function ed(E){let W="{",Ma=0,Cb,Ob;for(Cb in E)Ob=E[Cb],W+=(1<++Ma?",":"")+r.stringValue(Cb)+":"+(r.isObject(Ob)?Ob.signal||jc(Ob):r.stringValue(Ob));return W+"}"}function od(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",
size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",
stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,
symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},
right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const ud=E=>r.isObject(E)&&!r.isArray(E)?r.extend({},E):{value:E},md=E=>r.isString(E)?r.stringValue(E):E.signal?`(${E.signal})`:la(E),rd=(E,W,Ma,Cb)=>`(${E}(${[W,Ma,Cb].map(na).join(",")})+'')`,Od=["value",
"update","init","react","bind"],ee=La("key"),he={code:"_.$value",ast:{type:"Identifier",value:"value"}},Jd=E=>(W,Ma,Cb)=>new ya(E,Ma,W||void 0,Cb),De=Jd("aggregate"),ne=Jd("axisticks"),le=Jd("bound"),Dd=Jd("collect"),be=Jd("compare"),V=Jd("datajoin"),qa=Jd("encode"),Ea=Jd("expression"),rb=Jd("facet"),fb=Jd("field"),Jb=Jd("key"),Rb=Jd("legendentries"),ic=Jd("load"),Wc=Jd("mark"),xc=Jd("multiextent"),Nc=Jd("multivalues"),Wb=Jd("overlap"),sd=Jd("params"),cd=Jd("prefacet"),Vb=Jd("projection"),oe=Jd("proxy"),
qd=Jd("relay"),Wd=Jd("render"),ie=Jd("scale"),we=Jd("sieve"),lf=Jd("sortitems"),Ze=Jd("viewlayout"),Qd=Jd("values");let $b=0;const ce={min:"min",max:"max",count:"sum"},gc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Uc={name:1,style:1,interactive:1},Xd={value:0},xe={value:1},Yd=Y(r.stringValue("left"),r.stringValue("right"),r.stringValue("center")),ge=Y('"top"','"bottom"','"middle"'),Ge=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Y('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Yd}`,
Ed=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${ge}) : "top"`;Mc.fromEntries=function(E,W){const Ma=W.length,Cb=W[Ma-1],Ob=W[Ma-2];let Pb=W[0],wc=null,fc=1;Pb&&"load"===Pb.type&&(Pb=W[1]);for(E.add(W[0]);fc<Ma;++fc)W[fc].params.pulse=ua(W[fc-1]),E.add(W[fc]),"aggregate"===W[fc].type&&(wc=W[fc]);return new Mc(E,Pb,Ob,Cb,wc)};Mc.prototype={countsRef(E,W,Ma){const Cb=this.counts||(this.counts=
{}),Ob=zd(W);if(null!=Ob){E=this.scope;var Pb=Cb[Ob]}Pb?Ma&&Ma.field&&Rd(E,Pb.agg.params,Ma):(Pb={groupby:E.fieldRef(W,"key"),pulse:ua(this.output)},Ma&&Ma.field&&Rd(E,Pb,Ma),Ma=E.add(De(Pb)),Pb=E.add(Dd({pulse:ua(Ma)})),Pb={agg:Ma,ref:ua(Pb)},null!=Ob&&(Cb[Ob]=Pb));return Pb.ref},tuplesRef(){return ua(this.values)},extentRef(E,W){return Db(E,this,"extent","extent",W,!1)},domainRef(E,W){return Db(E,this,"domain","values",W,!1)},valuesRef(E,W,Ma){return Db(E,this,"vals","values",W,Ma||!0)},lookupRef(E,
W){return Db(E,this,"lookup","tupleindex",W,!1)},indataRef(E,W){return Db(E,this,"indata","tupleindex",W,!0,!0)}};const vd=(E,W,Ma)=>{ab(E)?(E=E.signal,W=Ce(`${E} === '${"left"}' || ${E} === '${"top"}'`,W,Ma)):W="left"===E||"top"===E?W:Ma;return W},te=(E,W,Ma)=>{ab(E)?(E=E.signal,W=Ee(`${E} === '${"top"}' || ${E} === '${"bottom"}'`,W,Ma)):W="bottom"===E||"top"===E?W:Ma;return W},Se=(E,W,Ma)=>{ab(E)?(E=E.signal,W=Ee(`${E} !== '${"top"}' && ${E} !== '${"bottom"}'`,W,Ma)):W="bottom"===E||"top"===E?Ma:
W;return W},dd=(E,W,Ma)=>ab(E)?Ce(`${E.signal} === '${"top"}'`,W,Ma):"top"===E?{value:W}:{value:Ma},Ee=(E,W,Ma)=>{W=null!=W?ud(W):W;Ma=null!=Ma?ud(Ma):Ma;if(null!=W&&1!==Object.keys(W).length||null!=Ma&&1!==Object.keys(Ma).length)return[r.extend({test:E},W)].concat(Ma||[]);W=W?W.signal||r.stringValue(W.value):null;Ma=Ma?Ma.signal||r.stringValue(Ma.value):null;return{signal:`${E} ? (${W}) : (${Ma})`}},Ce=(E,W,Ma)=>({signal:`${E} ? (${pe(W)}) : (${pe(Ma)})`}),pe=E=>ab(E)?E.signal:null==E?null:r.stringValue(E),
ye=(E,W)=>{const Ma=E.signal;return Ma&&Ma.endsWith("(null)")?{signal:Ma.slice(0,-6)+W.signal}:E};Tb.prototype=kc.prototype={parse(E){return uc(E,this)},fork(){return new kc(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(E){this.operators.push(E);
E.id=this.id();E.refs&&(E.refs.forEach(W=>{W.$ref=E.id}),E.refs=null);return E},proxy(E){E=E instanceof ya?ua(E):E;return this.add(oe({value:E}))},addStream(E){this.streams.push(E);E.id=this.id();return E},addUpdate(E){this.updates.push(E);return E},finish(){function E(Cb,Ob,Pb){Cb&&(Cb=Cb.data||(Cb.data={}),Ob=Cb[Ob]||(Cb[Ob]=[]),Ob.push(Pb))}let W,Ma;this.root&&(this.root.root=!0);for(W in this.signals)this.signals[W].signal=W;for(W in this.scales)this.scales[W].scale=W;for(W in this.data){Ma=this.data[W];
E(Ma.input,W,"input");E(Ma.output,W,"output");E(Ma.values,W,"values");for(const Cb in Ma.index)E(Ma.index[Cb],W,"index:"+Cb)}return this},pushState(E,W,Ma){this._encode.push(ua(this.add(we({pulse:E}))));this._parent.push(W);this._lookup.push(Ma?ua(this.proxy(Ma)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return r.peek(this._parent)},encode(){return r.peek(this._encode)},lookup(){return r.peek(this._lookup)},markpath(){const E=
this._markpath;return++E[E.length-1]},fieldRef(E,W){if(r.isString(E))return La(E,W);E.signal||r.error("Unsupported field reference: "+r.stringValue(E));E=E.signal;var Ma=this.field[E];Ma||(Ma={name:this.signalRef(E)},W&&(Ma.as=W),this.field[E]=Ma=ua(this.add(fb(Ma))));return Ma},compareRef(E){let W=!1;const Ma=Ob=>ab(Ob)?(W=!0,this.signalRef(Ob.signal)):Ob&&Ob.expr?(W=!0,this.exprRef(Ob.expr)):Ob,Cb=r.array(E.field).map(Ma);E=r.array(E.order).map(Ma);return W?ua(this.add(be({fields:Cb,orders:E}))):
{$compare:Cb,$order:E}},keyRef(E,W){let Ma=!1;const Cb=this.signals;E=r.array(E).map(Ob=>ab(Ob)?(Ma=!0,ua(Cb[Ob.signal])):Ob);return Ma?ua(this.add(Jb({fields:E,flat:W}))):Oa(E,W)},sortRef(E){if(!E)return E;const W=Aa(E.op,E.field);E=E.order||"ascending";return E.signal?ua(this.add(be({fields:W,orders:this.signalRef(E.signal)}))):{$compare:W,$order:E}},event(E,W){const Ma=E+":"+W;if(!this.events[Ma]){const Cb=this.id();this.streams.push({id:Cb,source:E,type:W});this.events[Ma]=Cb}return this.events[Ma]},
hasOwnSignal(E){return r.hasOwnProperty(this.signals,E)},addSignal(E,W){this.hasOwnSignal(E)&&r.error("Duplicate signal name: "+r.stringValue(E));W=W instanceof ya?W:this.add(new ya("operator",W,void 0,void 0));return this.signals[E]=W},getSignal(E){this.signals[E]||r.error("Unrecognized signal name: "+r.stringValue(E));return this.signals[E]},signalRef(E){if(this.signals[E])return ua(this.signals[E]);r.hasOwnProperty(this.lambdas,E)||(this.lambdas[E]=this.add(new ya("operator",null,void 0,void 0)));
return ua(this.lambdas[E])},parseLambdas(){const E=Object.keys(this.lambdas);for(let Ma=0,Cb=E.length;Ma<Cb;++Ma){var W=E[Ma];const Ob=z.parseExpression(W,this);W=this.lambdas[W];W.params=Ob.$params;W.update=Ob.$expr}},property(E){return E&&E.signal?this.signalRef(E.signal):E},objectProperty(E){return E&&r.isObject(E)?this.signalRef(E.signal||jc(E)):E},exprRef(E,W){E={expr:z.parseExpression(E,this)};W&&(E.expr.$name=W);return ua(this.add(Ea(E)))},addBinding(E,W){this.bindings||r.error("Nested signals do not support binding: "+
r.stringValue(E));this.bindings.push(r.extend({signal:E},W))},addScaleProj(E,W){r.hasOwnProperty(this.scales,E)&&r.error("Duplicate scale or projection name: "+r.stringValue(E));this.scales[E]=this.add(W)},addScale(E,W){this.addScaleProj(E,ie(W))},addProjection(E,W){this.addScaleProj(E,Vb(W))},getScale(E){this.scales[E]||r.error("Unrecognized scale name: "+r.stringValue(E));return this.scales[E]},scaleRef(E){return ua(this.getScale(E))},scaleType(E){return this.getScale(E).params.type},projectionRef(E){return this.scaleRef(E)},
projectionType(E){return this.scaleType(E)},addData(E,W){r.hasOwnProperty(this.data,E)&&r.error("Duplicate data set name: "+r.stringValue(E));return this.data[E]=W},getData(E){this.data[E]||r.error("Undefined data set name: "+r.stringValue(E));return this.data[E]},addDataPipeline(E,W){r.hasOwnProperty(this.data,E)&&r.error("Duplicate data set name: "+r.stringValue(E));return this.addData(E,Mc.fromEntries(this,W))}};h.AxisDomainRole="axis-domain";h.AxisGridRole="axis-grid";h.AxisLabelRole="axis-label";
h.AxisRole="axis";h.AxisTickRole="axis-tick";h.AxisTitleRole="axis-title";h.DataScope=Mc;h.FrameRole="frame";h.LegendEntryRole="legend-entry";h.LegendLabelRole="legend-label";h.LegendRole="legend";h.LegendSymbolRole="legend-symbol";h.LegendTitleRole="legend-title";h.MarkRole="mark";h.Scope=Tb;h.ScopeRole="scope";h.config=od;h.parse=function(E,W,Ma){r.isObject(E)||r.error("Input Vega specification must be an object.");W=r.mergeConfig(od(),W,E.config);return Ac(E,new Tb(W,Ma)).toRuntime()};h.signal=
ia;h.signalUpdates=Ia;h.stream=L;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[68]=function(fd,Qb,Sc,zb){function h(ua){if(ua&&ua.__esModule)return ua;var La=Object.create(null);ua&&Object.keys(ua).forEach(function(Oa){if("default"!==Oa){var Aa=Object.getOwnPropertyDescriptor(ua,Oa);Object.defineProperty(La,Oa,Aa.get?Aa:{enumerable:!0,get:function(){return ua[Oa]}})}});La["default"]=ua;return Object.freeze(La)}Object.defineProperty(zb,"__esModule",{value:!0});var r=Qb(15),z=Qb(29),Ra=Qb(32),tb=Qb(41),bb=Qb(42),wb=Qb(46),Hb=Qb(51),hb=Qb(53),Ka=Qb(54),Ha=Qb(55),
Sa=Qb(57);Sc=Qb(58);fd=Qb(59);var xa=Qb(31),ma=Qb(21),na=Qb(28),Ba=Qb(40),Fa=Qb(39),la=Qb(45),ra=Qb(65),Qa=Qb(23),za=Qb(63),Ta=Qb(67),K=Qb(64),ia=Qb(61),ya=Qb(66);Qb=h(Ra);tb=h(tb);bb=h(bb);wb=h(wb);Hb=h(Hb);hb=h(hb);Ka=h(Ka);Ha=h(Ha);Sa=h(Sa);Sc=h(Sc);fd=h(fd);r.extend(z.transforms,Qb,tb,bb,wb,Hb,Ka,hb,Ha,Sa,Sc,fd);Object.defineProperty(zb,"Dataflow",{enumerable:!0,get:function(){return z.Dataflow}});Object.defineProperty(zb,"EventStream",{enumerable:!0,get:function(){return z.EventStream}});Object.defineProperty(zb,
"MultiPulse",{enumerable:!0,get:function(){return z.MultiPulse}});Object.defineProperty(zb,"Operator",{enumerable:!0,get:function(){return z.Operator}});Object.defineProperty(zb,"Parameters",{enumerable:!0,get:function(){return z.Parameters}});Object.defineProperty(zb,"Pulse",{enumerable:!0,get:function(){return z.Pulse}});Object.defineProperty(zb,"Transform",{enumerable:!0,get:function(){return z.Transform}});Object.defineProperty(zb,"changeset",{enumerable:!0,get:function(){return z.changeset}});
Object.defineProperty(zb,"definition",{enumerable:!0,get:function(){return z.definition}});Object.defineProperty(zb,"ingest",{enumerable:!0,get:function(){return z.ingest}});Object.defineProperty(zb,"isTuple",{enumerable:!0,get:function(){return z.isTuple}});Object.defineProperty(zb,"transform",{enumerable:!0,get:function(){return z.transform}});Object.defineProperty(zb,"transforms",{enumerable:!0,get:function(){return z.transforms}});Object.defineProperty(zb,"tupleid",{enumerable:!0,get:function(){return z.tupleid}});
Object.defineProperty(zb,"interpolate",{enumerable:!0,get:function(){return Fa.interpolate}});Object.defineProperty(zb,"interpolateColors",{enumerable:!0,get:function(){return Fa.interpolateColors}});Object.defineProperty(zb,"interpolateRange",{enumerable:!0,get:function(){return Fa.interpolateRange}});Object.defineProperty(zb,"quantizeInterpolator",{enumerable:!0,get:function(){return Fa.quantizeInterpolator}});Object.defineProperty(zb,"scale",{enumerable:!0,get:function(){return Fa.scale}});Object.defineProperty(zb,
"scheme",{enumerable:!0,get:function(){return Fa.scheme}});Object.defineProperty(zb,"projection",{enumerable:!0,get:function(){return la.projection}});Object.defineProperty(zb,"View",{enumerable:!0,get:function(){return ra.View}});Object.defineProperty(zb,"defaultLocale",{enumerable:!0,get:function(){return Qa.defaultLocale}});Object.defineProperty(zb,"formatLocale",{enumerable:!0,get:function(){return Qa.numberFormatDefaultLocale}});Object.defineProperty(zb,"locale",{enumerable:!0,get:function(){return Qa.locale}});
Object.defineProperty(zb,"resetDefaultLocale",{enumerable:!0,get:function(){return Qa.resetDefaultLocale}});Object.defineProperty(zb,"timeFormatLocale",{enumerable:!0,get:function(){return Qa.timeFormatDefaultLocale}});Object.defineProperty(zb,"expressionFunction",{enumerable:!0,get:function(){return za.expressionFunction}});Object.defineProperty(zb,"parse",{enumerable:!0,get:function(){return Ta.parse}});Object.defineProperty(zb,"runtimeContext",{enumerable:!0,get:function(){return K.context}});
Object.defineProperty(zb,"codegenExpression",{enumerable:!0,get:function(){return ia.codegen}});Object.defineProperty(zb,"parseExpression",{enumerable:!0,get:function(){return ia.parse}});Object.defineProperty(zb,"parseSelector",{enumerable:!0,get:function(){return ya.selector}});zb.version="5.20.0";Object.keys(r).forEach(function(ua){"default"===ua||zb.hasOwnProperty(ua)||Object.defineProperty(zb,ua,{enumerable:!0,get:function(){return r[ua]}})});Object.keys(xa).forEach(function(ua){"default"===
ua||zb.hasOwnProperty(ua)||Object.defineProperty(zb,ua,{enumerable:!0,get:function(){return xa[ua]}})});Object.keys(ma).forEach(function(ua){"default"===ua||zb.hasOwnProperty(ua)||Object.defineProperty(zb,ua,{enumerable:!0,get:function(){return ma[ua]}})});Object.keys(na).forEach(function(ua){"default"===ua||zb.hasOwnProperty(ua)||Object.defineProperty(zb,ua,{enumerable:!0,get:function(){return na[ua]}})});Object.keys(Ba).forEach(function(ua){"default"===ua||zb.hasOwnProperty(ua)||Object.defineProperty(zb,
ua,{enumerable:!0,get:function(){return Ba[ua]}})})};
shadow$provide[69]=function(fd,Qb,Sc,zb){(function(h,r){"object"===typeof zb&&"undefined"!==typeof Sc?r(zb):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(e,c,f){e.fields=c||[];e.fname=f;return e}function z(e){return null==e?null:e.fields}function Ra(e){return 1===e.length?ya(e[0]):ua(e)}function tb(e){throw Error(e);}function bb(e){function c(){f.push(w+e.substring(F,U));w="";F=U+1}const f=
[],l=e.length;let m=null,q=0,w="",F,U,wa;e+="";for(F=U=0;U<l;++U)(wa=e[U],"\\"===wa)?(w+=e.substring(F,U),w+=e.substring(++U,++U),F=U):wa===m?(c(),m=null,q=-1):m||(F===q&&'"'===wa?(F=U+1,m=wa):F===q&&"'"===wa?(F=U+1,m=wa):"."!==wa||q?"["===wa?(U>F&&c(),q=F=U+1):"]"===wa&&(q||tb("Access path missing open bracket: "+e),0<q&&c(),q=0,F=U+1):U>F?c():F=U+1);q&&tb("Access path missing closing bracket: "+e);m&&tb("Access path missing closing quote: "+e);U>F&&(U++,c());return f}function wb(e,c,f){const l=
bb(e);e=1===l.length?l[0]:e;return r((f&&f.get||Ra)(l),[e],c||e)}function Hb(e,c,f){c=[c].concat([].slice.call(f));console[e].apply(console,c)}function hb(e){return e===Object(e)}function Ka(e,c,f,l){if("__proto__"!==c){var m;if(hb(f)&&!x(f))for(m in e=hb(e[c])?e[c]:e[c]={},f)l&&(!0===l||l[m])?Ka(e,m,f[m]):"__proto__"!==m&&(e[m]=f[m]);else e[c]=f}}function Ha(e,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==e)return c;const l={},m=[];c.forEach(f);e.forEach(f);return m}function Sa(e){return e[e.length-
1]}function xa(e){return null==e||""===e?null:+e}function ma(e,c,f,l){const m=f(e[0]);e=f(Sa(e));c*=e-m;return[l(m-c),l(e-c)]}function na(e,c,f,l,m){const q=l(e[0]);e=l(Sa(e));c=null!=c?l(c):(q+e)/2;return[m(c+(q-c)*f),m(c+(e-c)*f)]}function Ba(e){return null!=e?x(e)?e:[e]:[]}function Fa(e){return"function"===typeof e}function la(e){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)e[f]=c[f];return e}function ra(e,c){return da.call(e,c)}function Qa(e){return"[object Date]"===Object.prototype.toString.call(e)}
function za(e){return"number"===typeof e}function Ta(e){return"string"===typeof e}function K(e,c){let f="";for(;0<=--c;)f+=e;return f}function ia(e){return x(e)?"["+e.map(ia)+"]":hb(e)||Ta(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}const ya=e=>function(c){return c[e]},ua=e=>{const c=e.length;return function(f){for(let l=0;l<c;++l)f=f[e[l]];return f}},La=wb("id"),Oa=r(e=>e,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const L=e=>c=>e*Math.exp(c),J=e=>c=>Math.log(e*c),B=e=>c=>Math.sign(c)*Math.log1p(Math.abs(c/e)),R=e=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*e,aa=e=>c=>0>c?-Math.pow(-c,e):Math.pow(c,e),ea=(e,c)=>(e<c||null==e)&&null!=c?-1:(e>c||null==c)&&null!=e?1:(c=c instanceof Date?+c:c,e=e instanceof Date?+e:e)!==e&&c===c?-1:c!==c&&e===e?1:0,Ca=(e,c)=>1===e.length?Ia(e[0],c[0]):H(e,c,e.length),Ia=(e,c)=>function(f,l){return ea(e(f),e(l))*c},H=(e,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=e[w],q=ea(q(l),q(m));return q*c[w]}},da=Object.prototype.hasOwnProperty,ca={},X=e=>za(e)?e:Qa(e)?e:Date.parse(e);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=z;h.accessorName=function(e){return null==e?null:e.fname};h.array=Ba;h.ascending=ea;h.clampRange=function(e,c,f){let l=e[0];e=e[1];let m;e<l&&(m=e,e=l,l=m);m=e-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(e,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Ca;Ba(e).forEach((F,U)=>{null!=F&&(l.push("descending"===c[U]?-1:1),m.push(F=Fa(F)?F:wb(F,null,f)),(z(F)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(e){return Fa(e)?e:()=>e};h.debounce=function(e,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),e)}};h.error=tb;h.extend=la;h.extent=function(e,c){let f=0,l,m,q,w;if(e&&(l=e.length))if(null==c){for(m=e[f];f<l&&(null==m||m!==m);m=e[++f]);for(q=w=m;f<
l;++f)m=e[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(e[f]);f<l&&(null==m||m!==m);m=c(e[++f]));for(q=w=m;f<l;++f)m=c(e[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(e,c){const f=e.length;let l=-1,m,q,w,F,U;if(null==c){for(;++l<f;)if(q=e[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=e[l],null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(e[l],l,e),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(F=U=l;++l<f;)q=c(e[l],l,e),
null!=q&&(m>q&&(m=q,F=l),w<q&&(w=q,U=l))}return[F,U]};h.falsy=I;h.fastmap=function(e){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const F in f){const U=f[F];U===ca||l&&l(U)||(q[F]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};e&&Object.keys(e).forEach(q=>{m.set(q,e[q])});return m};h.field=wb;h.flush=function(e,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=e[0],F=Sa(e);F<w&&(e=w,w=F,F=e);e=Math.abs(c-w);c=Math.abs(F-c);return e<c&&e<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=La;h.identity=Oa;h.inherits=function(e,c,f){c=e.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(e,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=e:m<e)&&(void 0===l||l?e<=c:e<c)};h.isArray=x;h.isBoolean=function(e){return"boolean"===typeof e};h.isDate=Qa;h.isFunction=Fa;h.isIterable=function(e){return e&&Fa(e[Symbol.iterator])};h.isNumber=za;h.isObject=hb;h.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};h.isString=Ta;h.key=function(e,c,f){e&&(e=c?Ba(e).map(q=>q.replace(/\\(.)/g,"$1")):Ba(e));const l=e&&e.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(e[0]);f=function(w){return""+q(w)}}else{const q=e.map(f);f=function(w){let F=""+q[0](w),U=0;for(;++U<l;)F+="|"+q[U](w);return F}}else f=function(){return""};return r(f,e,"key")};h.lerp=function(e,c){const f=e[0];e=Sa(e);return(c=+c)?1===c?e:f+c*(e-f):f};h.logger=function(e,c){let f=e||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Hb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Hb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Hb(c||"log","INFO",arguments);return this},debug(){4<=f&&Hb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(e){e=+e||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,F)=>{++l>e&&(f=c,c={},l=1);return c[w]=F};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,F)=>ra(c,w)?c[w]=F:q(w,F)}};h.merge=function(e,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,F=0,U=0;for(;w<m&&F<q;++U)l[U]=0<e(c[w],
f[F])?f[F++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;F<q;++F,++U)l[U]=f[F];return l};h.mergeConfig=function(...e){return e.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ha(c.signals,f.signals):Ka(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(e,c,f,l){f=f||" ";e+="";c-=e.length;return 0>=c?e:"left"===l?K(f,c)+e:"center"===l?K(f,~~(c/2))+e+K(f,Math.ceil(c/2)):e+K(f,c)};h.panLinear=function(e,c){return ma(e,c,xa,Oa)};h.panLog=function(e,c){var f=
Math.sign(e[0]);return ma(e,c,J(f),L(f))};h.panPow=function(e,c,f){return ma(e,c,aa(f),aa(1/f))};h.panSymlog=function(e,c,f){return ma(e,c,B(f),R(f))};h.peek=Sa;h.quarter=function(e){return 1+~~((new Date(e)).getMonth()/3)};h.repeat=K;h.span=function(e){return e&&Sa(e)-e[0]||0};h.splitAccessPath=bb;h.stringValue=ia;h.toBoolean=function(e){return null==e||""===e?null:e&&"false"!==e&&"0"!==e?!!e:!1};h.toDate=function(e,c){c=c||X;return null==e||""===e?null:c(e)};h.toNumber=xa;h.toSet=function(e){const c=
{},f=e.length;for(let l=0;l<f;++l)c[e[l]]=!0;return c};h.toString=function(e){return null==e||""===e?null:e+""};h.truncate=function(e,c,f,l){l=null!=l?l:"…";e+="";const m=e.length,q=Math.max(0,c-l.length);return m<=c?e:"left"===f?l+e.slice(m-q):"center"===f?e.slice(0,Math.ceil(q/2))+l+e.slice(m-~~(q/2)):e.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(e){return 1+~~((new Date(e)).getUTCMonth()/3)};h.visitArray=function(e,c,f){if(e)if(c){const l=e.length;for(let m=0;m<l;++m){const q=c(e[m]);q&&f(q,
m,e)}}else e.forEach(f)};h.writeConfig=Ka;h.zero=Aa;h.zoomLinear=function(e,c,f){return na(e,c,f,xa,Oa)};h.zoomLog=function(e,c,f){const l=Math.sign(e[0]);return na(e,c,f,J(l),L(l))};h.zoomPow=function(e,c,f,l){return na(e,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(e,c,f,l){return na(e,c,f,B(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[70]=function(fd,Qb,Sc,zb){var h=Qb(27).Buffer;(function(r,z){"object"===typeof zb&&"undefined"!==typeof Sc?z(zb,Qb(69),Qb(68)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega"],z):(r="undefined"!==typeof globalThis?globalThis:r||self,z(r.vegaLite={},r.vega,r.vega))})(this,function(r,z,Ra){function tb(b,n){if(b.not)tb(b.not,n);else if(b.and)for(const a of b.and)tb(a,n);else if(b.or)for(const a of b.or)tb(a,n);else n(b)}function bb(b,n){return b.not?{not:bb(b.not,
n)}:b.and?{and:b.and.map(a=>bb(a,n))}:b.or?{or:b.or.map(a=>bb(a,n))}:n(b)}function wb(b,n){const a={};for(const g of n)z.hasOwnProperty(b,g)&&(a[g]=b[g]);return a}function Hb(b,n){b={...b};for(const a of n)delete b[a];return b}function hb(b){if(z.isNumber(b))return b;b=z.isString(b)?b:Lh(b);if(250>b.length)return b;let n=0;for(let a=0;a<b.length;a++){const g=b.charCodeAt(a);n=(n<<5)-n+g;n&=n}return n}function Ka(b){return!1===b||null===b}function Ha(b,n){return b.includes(n)}function Sa(b,n){let a=
0;for(const [g,p]of b.entries())if(n(p,g,a++))return!0;return!1}function xa(b,n){let a=0;for(const [g,p]of b.entries())if(!n(p,g,a++))return!1;return!0}function ma(b,...n){for(const g of n){n=b;var a=null!==g&&void 0!==g?g:{};for(const p of id(a))z.writeConfig(n,p,a[p],!0)}return b}function na(b,n){const a=[],g={};for(const p of b)b=n(p),b in g||(g[b]=1,a.push(p));return a}function Ba(b,n){if(b.size!==n.size)return!1;for(const a of b)if(!n.has(a))return!1;return!0}function Fa(b,n){for(const a of b)if(n.has(a))return!0;
return!1}function la(b){const n=new Set;for(const a of b){const g=z.splitAccessPath(a).map((p,v)=>0===v?p:`[${p}]`);b=g.map((p,v)=>g.slice(0,v+1).join(""));for(const p of b)n.add(p)}return n}function ra(b,n){return void 0===b||void 0===n?!0:Fa(la(b),la(n))}function Qa(b){return 0===id(b).length}function za(b){return!0===b||!1===b}function Ta(b){const n=b.replace(/\W/g,"_");return(b.match(/^\d+/)?"_":"")+n}function K(b,n){return b.not?`!(${K(b.not,n)})`:b.and?`(${b.and.map(a=>K(a,n)).join(") \x26\x26 (")})`:
b.or?`(${b.or.map(a=>K(a,n)).join(") || (")})`:n(b)}function ia(b,n){if(0===n.length)return!0;const a=n.shift();a in b&&ia(b[a],n)&&delete b[a];return Qa(b)}function ya(b){return b.charAt(0).toUpperCase()+b.substr(1)}function ua(b,n="datum"){b=z.splitAccessPath(b);const a=[];for(let g=1;g<=b.length;g++){const p=`[${b.slice(0,g).map(z.stringValue).join("][")}]`;a.push(`${n}${p}`)}return a.join(" \x26\x26 ")}function La(b,n="datum"){return`${n}[${z.stringValue(z.splitAccessPath(b).join("."))}]`}function Oa(b){return b.replace(/(\[|\]|\.|'|")/g,
"\\$1")}function Aa(b){return`${z.splitAccessPath(b).map(Oa).join("\\.")}`}function ab(b,n,a){return b.replace(new RegExp(n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),a)}function Va(b){return`${z.splitAccessPath(b).join(".")}`}function I(b){return b?z.splitAccessPath(b).length:0}function x(...b){for(const n of b)if(void 0!==n)return n}function L(b){const n=++rf;return b?String(b)+n:n}function J(b){return B(b)?b:`__${b}`}function B(b){return b.startsWith("__")}function R(b){if(void 0!==b)return(b%
360+360)%360}function aa(b){return z.isNumber(b)?!0:!isNaN(b)&&!isNaN(parseFloat(b))}function ea(b){switch(b){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Ca(b){return"color"===b||"fill"===b||"stroke"===b}function Ia(b){return H(b)!==b}function H(b){switch(b){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return b}
function da(b){if(b in Mh)switch(b){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return b}function ca(b){switch(b){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function X(b){switch(b){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function e(b){switch(b){case "x":return"xOffset";
case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function c(b){return"width"===b?"x":"y"}function f(b){switch(b){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Vi;
case "x":case "y":case "latitude":case "longitude":return $d;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",
rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function l(b){switch(b){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function m(b){return!!b&&!!b.argmin}function q(b){return!!b&&!!b.argmax}function w(b){return z.isString(b)&&!!Wi[b]}function F(b){return z.isString(b)&&Ug.includes(b)}function U(b){z.isBoolean(b)&&(b=Xe(b,void 0));return"bin"+id(b).map(n=>gb(b[n])?Ta(`_${n}_${dg(b[n])}`):Ta(`_${n}_${b[n]}`)).join("")}function wa(b){return!0===b||z.isObject(b)&&!b.binned}function cb(b){return"binned"===b||z.isObject(b)&&!0===b.binned}function gb(b){return null===
b||void 0===b?void 0:b.param}function Y(b){switch(b){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function ta(b){return b&&!!b.expr}function G(b){const n=id(b||{}),a={};for(const g of n)a[g]=Na(b[g]);return a}function Q(b){const {anchor:n,frame:a,offset:g,orient:p,color:v,subtitleColor:C,subtitleFont:P,subtitleFontSize:fa,subtitleFontStyle:Pa,
subtitleFontWeight:Xa,subtitleLineHeight:kb,subtitlePadding:Kb,...oc}=b;b={...oc,...(v?{fill:v}:{})};const tc={...(n?{anchor:n}:{}),...(a?{frame:a}:{}),...(g?{offset:g}:{}),...(p?{orient:p}:{})},Qc={...(C?{subtitleColor:C}:{}),...(P?{subtitleFont:P}:{}),...(fa?{subtitleFontSize:fa}:{}),...(Pa?{subtitleFontStyle:Pa}:{}),...(Xa?{subtitleFontWeight:Xa}:{}),...(kb?{subtitleLineHeight:kb}:{}),...(Kb?{subtitlePadding:Kb}:{})},Xc=wb(b,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:b,subtitleMarkConfig:Xc,
nonMark:tc,subtitle:Qc}}function ka(b){return z.isString(b)||z.isArray(b)&&z.isString(b[0])}function Da(b){return b&&!!b.signal}function sb(b){return!!b.step}function Ya(b){return z.isArray(b)?!1:"field"in b&&"data"in b}function ob(b){const n=z.isArray(b.condition)?b.condition.map(yb):yb(b.condition);return{...Na(b),condition:n}}function Na(b){if(ta(b)){const {expr:n,...a}=b;return{signal:n,...a}}return b}function yb(b){if(ta(b)){const {expr:n,...a}=b;return{signal:n,...a}}return b}function Fb(b){if(ta(b)){const {expr:n,
...a}=b;return{signal:n,...a}}return Da(b)?b:void 0!==b?{value:b}:void 0}function eb(b){return Da(b)?b.signal:z.stringValue(b.value)}function Lb(b){return Da(b)?b.signal:null==b?null:z.stringValue(b)}function hc(b){var n;return[].concat(b.type,null!==(n=b.style)&&void 0!==n?n:[])}function Yb(b,n,a,g={}){const {vgChannel:p,ignoreVgConfig:v}=g;if(p&&void 0!==n[p])return n[p];if(void 0!==n[b])return n[b];if(!v||p&&p!==b)return Ic(b,n,a,g)}function Ic(b,n,a,{vgChannel:g}={}){return x(g?yc(b,n,a.style):
void 0,yc(b,n,a.style),g?a[n.type][g]:void 0,a[n.type][b],g?a.mark[g]:a.mark[b])}function yc(b,n,a){return hd(b,hc(n),a)}function hd(b,n,a){n=z.array(n);let g;for(const p of n)(n=a[p])&&void 0!==n[b]&&(g=n[b]);return g}function Bd(b,n){return z.array(b).reduce((a,g)=>{var p;a.field.push(fc(g,n));a.order.push(null!==(p=g.sort)&&void 0!==p?p:"ascending");return a},{field:[],order:[]})}function Gc(b,n){const a=[...b];n.forEach(g=>{for(const p of a)if(Tf(p,g))return;a.push(g)});return a}function jd(b,
n){return Tf(b,n)||!n?b:b?[...z.array(b),...z.array(n)].join(", "):n}function fe(b,n){const a=b.value;n=n.value;if(null==a||null===n)return{explicit:b.explicit,value:null};if((ka(a)||Da(a))&&(ka(n)||Da(n)))return{explicit:b.explicit,value:jd(a,n)};if(ka(a)||Da(a))return{explicit:b.explicit,value:a};if(ka(n)||Da(n))return{explicit:b.explicit,value:n};if(!(ka(a)||Da(a)||ka(n)||Da(n)))return{explicit:b.explicit,value:Gc(a,n)};throw Error("It should never reach here");}function Mc(b,n,a){n in b?Object.defineProperty(b,
n,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[n]=a;return b}function zd(b,n,a){n=Rd(b,n,"set");if(n.set)n.set.call(b,a);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=a}return a}function Rd(b,n,a){if(!n.has(b))throw new TypeError("attempted to "+a+" private field on non-instance");return n.get(b)}function Db(b){return`Invalid specification ${Te(b)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Zb(b){return`${"width"==b?"Width":"Height"} "container" only works for single views and layered views.`}function jb(b){return`${"width"==b?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==b?"x":"y"}".`}function lc(b){return b?`Dropping "fit-${b}" because spec has discrete ${X(b)}.`:'Dropping "fit" because spec has discrete size.'}function pc(b){return`Unknown field for ${b}. Cannot calculate view size.`}function gd(b){return`Cannot project a selection on encoding channel "${b}", which has no field.`}
function xd(b){return`Selection not supported for ${b} yet.`}function M(b){return`The "columns" property cannot be used when "${b}" has nested row/column.`}function oa(b,n,a){return`An ancestor parsed field "${b}" as ${a} but a child wants to parse the field as ${n}.`}function $a(b){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${b} are dropped.`}function ub(b,n){const {fill:a,stroke:g}=n;return`Dropping color ${b} as the plot also has ${a&&g?"fill and stroke":
a?"fill":"stroke"}.`}function Gb(b,n){return`Dropping ${Te(b)} from channel "${n}" since it does not contain any data field, datum, value, or signal.`}function Ib(b,n,a){return`${b} dropped as it is incompatible with "${n}"${a?` when ${a}`:""}.`}function bc(b,n){return`Using discrete channel "${b}" to encode "${n}" field can be misleading as it does not encode ${"ordinal"===n?"order":"magnitude"}.`}function Ub(b,n,a){return`${a}-scale's "${n}" is dropped as it does not work with ${b} scale.`}function sc(b){return`The step for "${b}" is dropped because the ${"width"===
b?"x":"y"} is continuous.`}function Cc(b,n){return`Invalid ${b}: ${Te(n)}.`}function va(b){return`1D error band does not support ${b}.`}function Za(b){return`Channel ${b} is required for "binned" bin.`}function pb(...b){nh.warn(...b)}function Sb(b){if(b&&z.isObject(b))for(const n of yj)if(n in b)return!0;return!1}function uc(b){aa(b)&&(b=+b);if(z.isNumber(b))return b-1;var n=b.toLowerCase();const a=yk.indexOf(n);if(-1!==a)return a;n=n.substr(0,3);n=Wj.indexOf(n);if(-1!==n)return n;throw Error(Cc("month",
b));}function Ac(b){aa(b)&&(b=+b);if(z.isNumber(b))return b%7;var n=b.toLowerCase();const a=Ui.indexOf(n);if(-1!==a)return a;n=n.substr(0,3);n=$k.indexOf(n);if(-1!==n)return n;throw Error(Cc("day",b));}function Kc(b,n){const a=[];n&&void 0!==b.day&&1<id(b).length&&(pb(`Dropping day from datetime ${Te(b)} as day cannot be combined with other units.`),b=Ae(b),delete b.day);void 0!==b.year?a.push(b.year):a.push(2012);if(void 0!==b.month){var g=n?uc(b.month):b.month;a.push(g)}else if(void 0!==b.quarter){if(n)if(g=
b.quarter,aa(g)&&(g=+g),z.isNumber(g))4<g&&pb(Cc("quarter",g)),--g;else throw Error(Cc("quarter",g));else g=b.quarter;a.push(z.isNumber(g)?3*g:`${g}*3`)}else a.push(0);void 0!==b.date?a.push(b.date):void 0!==b.day?(n=n?Ac(b.day):b.day,a.push(z.isNumber(n)?n+1:`${n}+1`)):a.push(1);for(const p of["hours","minutes","seconds","milliseconds"])n=b[p],a.push("undefined"===typeof n?0:n);return a}function Bb(b){const n=Kc(b,!0).join(", ");return b.utc?`utc(${n})`:`datetime(${n})`}function Tb(b){const n=Kc(b,
!0);return b.utc?+new Date(Date.UTC(...n)):+new Date(...n)}function kc(b){return yj.filter(n=>jc(b,n))}function jc(b,n){const a=b.indexOf(n);return 0>a||0<a&&"seconds"===n&&"i"===b.charAt(a-1)||b.length>a+3&&"day"===n&&"o"===b.charAt(a+3)||0<a&&"year"===n&&"f"===b.charAt(a-1)?!1:!0}function qc(b,n,{end:a}={end:!1}){const g=ua(n),p=b.startsWith("utc")?"utc":"";n={};for(const C of yj)if(jc(b,C)){var v="quarter"===C?`(${p}quarter(${g})-1)`:`${p}${C}(${g})`;n[C]=v;v=C}a&&(n[v]+="+1");b=Kc(n,!1).join(", ");
return n.utc?`utc(${b})`:`datetime(${b})`}function ed(b){if(b)return b=kc(b),`timeUnitSpecifier(${Te(b)}, ${Te(wl)})`}function od(b){if(b){var n;z.isString(b)?n={unit:b}:z.isObject(b)&&(n={...b,...(b.unit?{unit:b.unit}:{})});n.unit.startsWith("utc")&&(n.utc=!0,n.unit=n.unit.substr(3));return n}}function ud(b){const {utc:n,...a}=od(b);return a.unit?(n?"utc":"")+id(a).map(g=>Ta(`${"unit"===g?"":`_${g}_`}${a[g]}`)).join(""):(n?"utc":"")+"timeunit"+id(a).map(g=>Ta(`_${g}_${a[g]}`)).join("")}function md(b){return b&&
!!b.field&&void 0!==b.equal}function rd(b){return b&&!!b.field&&void 0!==b.lt}function Od(b){return b&&!!b.field&&void 0!==b.lte}function ee(b){return b&&!!b.field&&void 0!==b.gt}function he(b){return b&&!!b.field&&void 0!==b.gte}function Jd(b){return b&&b.field&&(z.isArray(b.range)&&2===b.range.length||Da(b.range))?!0:!1}function De(b){return b&&!!b.field&&(z.isArray(b.oneOf)||z.isArray(b.in))}function ne(b){return De(b)||md(b)||Jd(b)||rd(b)||ee(b)||Od(b)||he(b)}function le(b,n){return qf(b,{timeUnit:n,
wrapTime:!0})}function Dd(b,n){return b.map(a=>le(a,n))}function be(b,n=!0){var a,{field:g}=b;const p=null===(a=od(b.timeUnit))||void 0===a?void 0:a.unit;a=p?`time(${qc(p,g)})`:fc(b,{expr:"datum"});if(md(b))return`${a}===${le(b.equal,p)}`;if(rd(b))return`${a}<${le(b.lt,p)}`;if(ee(b))return`${a}>${le(b.gt,p)}`;if(Od(b))return`${a}<=${le(b.lte,p)}`;if(he(b))return`${a}>=${le(b.gte,p)}`;if(De(b))return`indexof([${Dd(b.oneOf,p).join(",")}], ${a}) !== -1`;if(b&&b.field&&void 0!==b.valid)return V(a,b.valid);
if(Jd(b)){({range:g}=b);b=Da(g)?{signal:`${g.signal}[0]`}:g[0];g=Da(g)?{signal:`${g.signal}[1]`}:g[1];if(null!==b&&null!==g&&n)return"inrange("+a+", ["+le(b,p)+", "+le(g,p)+"])";n=[];null!==b&&n.push(`${a} >= ${le(b,p)}`);null!==g&&n.push(`${a} <= ${le(g,p)}`);return 0<n.length?n.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${Te(b)}`);}function V(b,n=!0){return n?`isValid(${b}) && isFinite(+${b})`:`!isValid(${b}) || !isFinite(+${b})`}function qa(b){if(ne(b)&&b.timeUnit){var n;return{...b,
timeUnit:null===(n=od(b.timeUnit))||void 0===n?void 0:n.unit}}return b}function Ea(b){if(b)switch(b=b.toLowerCase(),b){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function rb(b){return null===b||void 0===b?void 0:b.param}function fb(b,n){switch(n){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point",
"band","identity"].includes(b);case "bins":return!["point","band","identity","ordinal"].includes(b);case "round":return b in ja||"band"===b||"point"===b;case "padding":case "rangeMin":case "rangeMax":return b in ja||["point","band"].includes(b);case "paddingOuter":case "align":return["point","band"].includes(b);case "paddingInner":return"band"===b;case "domainMax":case "domainMid":case "domainMin":case "clamp":return b in ja;case "nice":return b in ja||"quantize"===b||"threshold"===b;case "exponent":return"pow"===
b;case "base":return"log"===b;case "constant":return"symlog"===b;case "zero":return b in Hc&&!Ha(["log","time","utc","threshold","quantile"],b)}}function Jb(b,n){switch(n){case "interpolate":case "scheme":case "domainMid":if(!Ca(b))return`Cannot use the scale property "${b}" with non-color channel.`}}function Rb(b,n){if(!Zf[b])return!1;switch(b){case "x":case "y":case "theta":case "radius":return n in ja||Ha(["band","point"],n);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return n in
ja||n in qb||Ha(["band","point","ordinal"],n);case "color":case "fill":case "stroke":return"band"!==n;case "strokeDash":case "shape":return"ordinal"===n||n in qb}}function ic(b){return["line","area","trail"].includes(b)}function Wc(b){return b.type}function xc(b){return b&&void 0!=b.band}function Nc(b){const {channel:n,channelDef:a,markDef:g,scale:p,config:v}=b;b=oe(b);return dd(a)&&!F(a.aggregate)&&p&&p.get("type")in ja&&!1===p.get("zero")?Wb({fieldDef:a,channel:n,markDef:g,ref:b,config:v}):b}function Wb({fieldDef:b,
channel:n,markDef:a,ref:g,config:p}){if(ic(a.type)||null===Yb("invalid",a,p))return g;b=sd(b,!0);n="y"===H(n)?{field:{group:"height"}}:{value:0};return[{test:b,...n},g]}function sd(b,n=!0){return V(z.isString(b)?b:fc(b,{expr:"datum"}),!n)}function cd(b,n,a,g){const p={};n&&(p.scale=n);Ce(b)?({datum:b}=b,Sb(b)?p.signal=Bb(b):Da(b)?p.signal=b.signal:ta(b)?p.signal=b.expr:p.value=b):p.field=fc(b,a);if(g){const {offset:v,band:C}=g;v&&(p.offset=v);C&&(p.band=C)}return p}function Vb({scaleName:b,fieldOrDatumDef:n,
fieldOrDatumDef2:a,offset:g,startSuffix:p,bandPosition:v=.5}){const C=0<v&&1>v?"datum":void 0;p=fc(n,{expr:C,suffix:p});a=void 0!==a?fc(a,{expr:C}):fc(n,{suffix:"end",expr:C});n={};0===v||1===v?(n.scale=b,n.field=0===v?p:a):(v=Da(v)?`${v.signal} * ${p} + (1-${v.signal}) * ${a}`:`${v} * ${p} + ${1-v} * ${a}`,n.signal=`scale("${b}", ${v})`);g&&(n.offset=g);return n}function oe({channel:b,channelDef:n,channel2Def:a,markDef:g,config:p,scaleName:v,scale:C,stack:P,offset:fa,defaultRef:Pa,bandPosition:Xa}){if(n){if(E(n)){var kb,
Kb;if(W(n)){var oc;null!==(oc=Xa)&&void 0!==oc?oc:Xa=ge({fieldDef:n,fieldDef2:a,markDef:g,config:p});const {bin:tc,timeUnit:Qc,type:Xc}=n;if(wa(tc)||Xa&&Qc&&"temporal"===Xc)return P&&P.impute?cd(n,v,{binSuffix:"mid"},{offset:fa}):Xa?Vb({scaleName:v,fieldOrDatumDef:n,bandPosition:Xa,offset:fa}):cd(n,v,gf(n,b)?{binSuffix:"range"}:{},{offset:fa});if(cb(tc)){if(dd(a))return Vb({scaleName:v,fieldOrDatumDef:n,fieldOrDatumDef2:a,bandPosition:Xa,offset:fa});pb(Za("x"===b?"x2":"y2"))}}b=null===C||void 0===
C?void 0:C.get("type");return cd(n,v,b in Fc?{binSuffix:"range"}:{},{offset:fa,band:"band"===b?null!==(kb=null!==(Kb=Xa)&&void 0!==Kb?Kb:n.bandPosition)&&void 0!==kb?kb:.5:void 0})}if(Ma(n))return v=fa?{offset:fa}:{},{...qd(b,n.value),...v}}z.isFunction(Pa)&&(Pa=Pa());return Pa?{...Pa,...(fa?{offset:fa}:{})}:Pa}function qd(b,n){return Ha(["x","x2"],b)&&"width"===n?{field:{group:"width"}}:Ha(["y","y2"],b)&&"height"===n?{field:{group:"height"}}:Fb(n)}function Wd(b){return b&&"number"!==b&&"time"!==
b}function ie({fieldOrDatumDef:b,format:n,formatType:a,expr:g,normalizeStack:p,config:v}){if(Wd(a))return lf({fieldOrDatumDef:b,format:n,formatType:a,expr:g,config:v});p=we(b,g,p);if(wf(b)){var C,P;a=dd(b)?null===(C=od(b.timeUnit))||void 0===C?void 0:C.unit:void 0;v=v.timeFormat;b=Cb(b)&&(null===(P=b.scale)||void 0===P?void 0:P.type)===d.UTC;!a||n?(n=z.isString(n)?n:v,p=`${b?"utc":"time"}Format(${p}, '${n}')`):a?(P=ed(a),p=`${b||a.startsWith("utc")?"utc":"time"}Format(${p}, ${P})`):p=void 0;return p?
{signal:p}:void 0}n=$b(Ee(b),n,v);return dd(b)&&wa(b.bin)?(P=fc(b,{expr:g,binSuffix:"end"}),{signal:gc(p,P,n,a,v)}):n||"quantitative"===Ee(b)?{signal:`${`format(${p}, "${n||""}")`}`}:{signal:`isValid(${p}) ? ${p} : ""+${p}`}}function we(b,n,a){if(dd(b))return a?`${fc(b,{expr:n,suffix:"end"})}-${fc(b,{expr:n,suffix:"start"})}`:fc(b,{expr:n});({datum:b}=b);b=Sb(b)?Bb(b):`${Te(b)}`;return b}function lf({fieldOrDatumDef:b,format:n,formatType:a,expr:g,normalizeStack:p,config:v,field:C}){var P;null!==(P=
C)&&void 0!==P?P:C=we(b,g,p);return dd(b)&&wa(b.bin)?(b=fc(b,{expr:g,binSuffix:"end"}),{signal:gc(C,b,n,a,v)}):{signal:`${a}(${C}${n?`, ${Te(n)}`:""})`}}function Ze(b,n,a,g,p,v){if(!Wd(g)){if(wf(b)){var C;b=dd(b)?null===(C=od(b.timeUnit))||void 0===C?void 0:C.unit:void 0;a=a?a:b?{signal:ed(b)}:v?void 0:p.timeFormat;return a}return $b(n,a,p)}}function Qd(b,n,a){if(b&&(Da(b)||"number"===b||"time"===b))return b;if(wf(n)&&"time"!==a&&"utc"!==a)return"time"}function $b(b,n,a){if(z.isString(n))return n;
if("quantitative"===b)return a.numberFormat}function ce(b,n,a,g){var p;if(Wd(a))return`${a}(${b}${n?`, ${Te(n)}`:""})`;n=null!==(p=z.isString(n)?n:void 0)&&void 0!==p?p:g.numberFormat;return`format(${b}, "${n||""}")`}function gc(b,n,a,g,p){const v=ce(b,a,g,p);n=ce(n,a,g,p);return`${V(b,!1)} ? "null" : ${v} + "${" – "}" + ${n}`}function Uc(b){return!!b&&("count"===b.op||!!b.field)}function Xd(b){return!!b&&z.isArray(b)}function xe(b){return"row"in b||"column"in b}function Yd(b){const {field:n,timeUnit:a,
bin:g,aggregate:p}=b;return{...(a?{timeUnit:a}:{}),...(g?{bin:g}:{}),...(p?{aggregate:p}:{}),field:n}}function ge({fieldDef:b,fieldDef2:n,markDef:a,config:g}){if(E(b)&&void 0!==b.bandPosition)return b.bandPosition;if(dd(b)){const {timeUnit:p,bin:v}=b;if(p&&!n)return["rect","bar","image","arc"].includes(a.type)?0:Ic("timeUnitBandPosition",a,g);if(wa(v))return.5}}function Ge({channel:b,fieldDef:n,fieldDef2:a,markDef:g,config:p,scaleType:v,useVlSizeChannel:C}){b=X(b);C=Yb(C?"size":b,g,p,{vgChannel:b});
if(void 0!==C)return C;if(dd(n)){const {timeUnit:Xa,bin:kb}=n;if(Xa&&!a)return{band:Ic("timeUnitBandSize",g,p)};if(wa(kb)&&!(v in Fc))return{band:1}}if(["rect","bar","image","arc"].includes(g.type)){var P;if(v){if(v in Fc){var fa;return(null===(fa=p[g.type])||void 0===fa?void 0:fa.discreteBandSize)||{band:1}}var Pa;return null===(Pa=p[g.type])||void 0===Pa?void 0:Pa.continuousBandSize}return null===(P=p[g.type])||void 0===P?void 0:P.discreteBandSize}}function Ed(b,n,a,g){return wa(b.bin)||b.timeUnit&&
W(b)&&"temporal"===b.type?void 0!==ge({fieldDef:b,fieldDef2:n,markDef:a,config:g}):!1}function vd(b){return!!b&&"condition"in b}function te(b){b=b&&b.condition;return!!b&&!z.isArray(b)&&dd(b)}function Se(b){b=b&&b.condition;return!!b&&!z.isArray(b)&&E(b)}function dd(b){return!!b&&(!!b.field||"count"===b.aggregate)}function Ee(b){return b&&b.type}function Ce(b){return!!b&&"datum"in b}function pe(b){return W(b)&&!Tc(b)||ye(b)}function ye(b){return Ce(b)&&z.isNumber(b.datum)}function E(b){return dd(b)||
Ce(b)}function W(b){return!!b&&("field"in b||"count"===b.aggregate)&&"type"in b}function Ma(b){return b&&"value"in b&&"value"in b}function Cb(b){return!!b&&("scale"in b||"sort"in b)}function Ob(b){return b&&("axis"in b||"stack"in b||"impute"in b)}function Pb(b){return!!b&&("format"in b||"formatType"in b)}function wc(b){return Hb(b,["legend","axis","header","scale"])}function fc(b,n={}){let a=b.field;const g=n.prefix;let p=n.suffix,v="";if("count"===b.aggregate)a=J("count");else{let Pa;if(!n.nofn)if("op"in
b)Pa=b.op;else{const {bin:Xa,aggregate:kb,timeUnit:Kb}=b;if(wa(Xa)){var C,P;Pa=U(Xa);p=(null!==(C=n.binSuffix)&&void 0!==C?C:"")+(null!==(P=n.suffix)&&void 0!==P?P:"")}else if(kb)q(kb)?(v=`["${a}"]`,a=`argmax_${kb.argmax}`):m(kb)?(v=`["${a}"]`,a=`argmin_${kb.argmin}`):Pa=String(kb);else if(Kb){var fa;Pa=ud(Kb);p=(!["range","mid"].includes(n.binSuffix)&&n.binSuffix||"")+(null!==(fa=n.suffix)&&void 0!==fa?fa:"")}}Pa&&(a=a?`${Pa}_${a}`:Pa)}p&&(a=`${a}_${p}`);g&&(a=`${g}_${a}`);return n.forAs?Va(a):n.expr?
La(a,n.expr)+v:Aa(a)+v}function Tc(b){switch(b.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return dd(b)&&!!b.bin;case "temporal":return!1}throw Error(`Invalid field type "${b.type}".`);}function Ad(b,n){const {field:a,bin:g,timeUnit:p,aggregate:v}=b;if("count"===v)return n.countTitle;if(wa(g))return`${a} (binned)`;if(p){var C;if(b=null===(C=od(p))||void 0===C?void 0:C.unit)return`${a} (${kc(b).join("-")})`}else if(v)return q(v)?`${a} for max ${v.argmax}`:m(v)?`${a} for min ${v.argmin}`:
`${ya(v)} of ${a}`;return a}function Gd(b,n,{allowDisabling:a,includeDefault:g=!0}){var p;const v=null===(p=Ld(b))||void 0===p?void 0:p.title;if(!dd(b))return v;n=g?ck(b,n):void 0;if(a)return x(v,b.title,n);var C;return null!==(C=null!==v&&void 0!==v?v:b.title)&&void 0!==C?C:n}function Ld(b){if(Ob(b)&&b.axis)return b.axis;if(b&&"legend"in b&&b.legend)return b.legend;if(b&&"header"in b&&b.header)return b.header}function ue(b){if(Pb(b)){const {format:p,formatType:v}=b;return{format:p,formatType:v}}var n;
b=null!==(n=Ld(b))&&void 0!==n?n:{};const {format:a,formatType:g}=b;return{format:a,formatType:g}}function ke(b,n){var a;switch(n){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in b&&z.isArray(b.sort))return"ordinal";const {aggregate:g,bin:p,timeUnit:v}=b;if(v)return"temporal";if(p||g&&!q(g)&&!m(g))return"quantitative";if(Cb(b)&&null!==(a=b.scale)&&void 0!==a&&a.type)switch(k[b.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function qe(b){if(dd(b))return b;if(te(b))return b.condition}function Nd(b){if(E(b))return b;if(Se(b))return b.condition}function je(b,n,a,g={}){return z.isString(b)||z.isNumber(b)||z.isBoolean(b)?(a=z.isString(b)?"string":z.isNumber(b)?"number":"boolean",pb(`Channel ${n} is a ${a}. Converted to {value: ${Te(b)}}.`),{value:b}):E(b)?ze(b,n,a,g):Se(b)?{...b,condition:ze(b.condition,n,a,g)}:b}function ze(b,n,a,g){if(Pb(b)){const {format:p,formatType:v,...C}=
b;if(Wd(v)&&!a.customFormatTypes)return pb($a(n)),ze(C,n,a,g)}else{const p=Ob(b)?"axis":b&&"legend"in b?"legend":b&&"header"in b?"header":null;if(p&&b[p]){const {format:v,formatType:C,...P}=b[p];if(Wd(C)&&!a.customFormatTypes)return pb($a(n)),ze({...b,[p]:P},n,a,g)}}if(dd(b))return Me(b,n,g);n=b.type;n||({datum:n}=b,n=z.isNumber(n)?"quantitative":z.isString(n)?"nominal":Sb(n)?"temporal":void 0,b={...b,type:n});return b}function Me(b,n,{compositeMark:a=!1}={}){const {aggregate:g,timeUnit:p,bin:v,field:C}=
b;b={...b};a||!g||w(g)||q(g)||m(g)||(pb(`Invalid aggregation operator "${g}".`),delete b.aggregate);p&&(b.timeUnit=od(p));C&&(b.field=`${C}`);wa(v)&&(b.bin=Xe(v,n));!cb(v)||n in xf||pb(`Channel ${n} should not be used with "binned" bin.`);if(W(b)){({type:a}=b);const P=Ea(a);a!==P&&(b.type=P);"quantitative"!==a&&F(g)&&(pb(`Invalid field type "${a}" for aggregate: "${g}", using "quantitative" instead.`),b.type="quantitative")}else Ia(n)||(a=ke(b,n),b.type=a);if(W(b)){const {compatible:P,warning:fa}=
pf(b,n)||{};!1===P&&pb(fa)}if("sort"in b&&z.isString(b.sort)){({sort:n}=b);if(n in am)return{...b,sort:{encoding:n}};a=n.substr(1);if("-"===n.charAt(0)&&a in am)return{...b,sort:{encoding:a,order:"descending"}}}if(b&&"header"in b&&({header:n}=b,n)){const {orient:P,...fa}=n;if(P)return{...b,header:{...fa,labelOrient:n.labelOrient||P,titleOrient:n.titleOrient||P}}}return b}function Xe(b,n){return z.isBoolean(b)?{maxbins:Y(n)}:"binned"===b?{binned:!0}:b.maxbins||b.step?b:{...b,maxbins:Y(n)}}function pf(b,
n){var a=b.type;if("geojson"===a&&"shape"!==n)return{compatible:!1,warning:`Channel ${n} should not be used with a geojson data.`};switch(n){case "row":case "column":case "facet":return Tc(b)?mj:{compatible:!1,warning:`${n} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return mj;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==
a?{compatible:!1,warning:`Channel ${n} should be used with a quantitative field only, not ${b.type} field.`}:mj;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==a||b.sort?mj:{compatible:!1,warning:`Channel ${n} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(a=!Tc(b)){var g;a=!(Cb(b)&&(null===(g=b.scale)||void 0===g?void 0:g.type)in qb)}return a?{compatible:!1,
warning:`${n} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:mj;case "order":return"nominal"!==b.type||"sort"in b?mj:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function wf(b){var {formatType:n}=ue(b),a;if(!(a="time"===n)){if(n=!n)n=b&&("temporal"===b.type||dd(b)&&!!b.timeUnit);a=n}return a}function qf(b,{timeUnit:n,type:a,wrapTime:g,undefinedIfExprNotRequired:p}){var v;a=(n=n&&
(null===(v=od(n))||void 0===v?void 0:v.unit))||"temporal"===a;let C;ta(b)?C=b.expr:Da(b)?C=b.signal:Sb(b)?(a=!0,C=Bb(b)):(z.isString(b)||z.isNumber(b))&&a&&(C=`datetime(${Te(b)})`,xj[n]&&(z.isNumber(b)&&1E4>b||z.isString(b)&&isNaN(Date.parse(b)))&&(C=Bb({[n]:b})));return C?g&&a?`time(${C})`:C:p?void 0:Te(b)}function ff(b,n){const {type:a}=b;return n.map(g=>{const p=qf(g,{timeUnit:dd(b)?b.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==p?{signal:p}:g})}function gf(b,n){return wa(b.bin)?
!!Zf[n]&&["ordinal","nominal"].includes(b.type):(console.warn("Only call this method for binned field defs."),!1)}function If(b){return b&&b.condition}function Je(b){return"mark"in b}function af(b,n){return(b=b&&b[n])?z.isArray(b)?Sa(b,a=>!!a.field):dd(b)||te(b):!1}function Qe(b){return Sa(Si,n=>af(b,n)?(n=b[n],z.isArray(n)?Sa(n,a=>!!a.aggregate):(n=qe(n))&&!!n.aggregate):!1)}function Ue(b,n){const a=[],g=[],p=[],v=[],C={};Df(b,(P,fa)=>{if(dd(P)){const {field:Xa,aggregate:kb,bin:Kb,timeUnit:oc,...tc}=
P;if(kb||oc||Kb){var Pa=Ld(P);Pa=Pa&&Pa.title;let Qc=fc(P,{forAs:!0});Pa={...(Pa?[]:{title:Gd(P,n,{allowDisabling:!0})}),...tc,field:Qc};if(kb){let Xc;q(kb)?(Xc="argmax",Qc=fc({op:"argmax",field:kb.argmax},{forAs:!0}),Pa.field=`${Qc}.${Xa}`):m(kb)?(Xc="argmin",Qc=fc({op:"argmin",field:kb.argmin},{forAs:!0}),Pa.field=`${Qc}.${Xa}`):"boxplot"!==kb&&"errorbar"!==kb&&"errorband"!==kb&&(Xc=kb);Xc&&(P={op:Xc,as:Qc},Xa&&(P.field=Xa),v.push(P))}else a.push(Qc),W(P)&&wa(Kb)?(g.push({bin:Kb,field:Xa,as:Qc}),
a.push(fc(P,{binSuffix:"end"})),gf(P,fa)&&a.push(fc(P,{binSuffix:"range"})),fa in xf&&(C[`${fa}2`]={field:`${Qc}_end`}),Pa.bin="binned",Ia(fa)||(Pa.type="quantitative")):oc&&(p.push({timeUnit:oc,field:Xa,as:Qc}),(P=W(P)&&"temporal"!==P.type&&"time")&&("text"===fa||"tooltip"===fa?Pa.formatType=P:gg[fa]?Pa.legend={formatType:P,...Pa.legend}:fa in xf&&(Pa.axis={formatType:P,...Pa.axis})));C[fa]=Pa}else a.push(Xa),C[fa]=b[fa]}else C[fa]=b[fa]});return{bins:g,timeUnits:p,aggregate:v,groupby:a,encoding:C}}
function zf(b,n,a){a=f(n)[a];return a&&("binned"!==a||(a=b["x2"===n?"x":"y"],dd(a)&&dd(b[n])&&cb(a.bin)))?!0:!1}function bf(b,n,a,g){return id(b).reduce((p,v)=>{if(!ih[v])return pb(`${v}-encoding is dropped as ${v} is not a valid encoding channel.`),p;const C=b[v];"angle"!==v||"arc"!==n||b.theta||(pb("Arc marks uses theta channel rather than angle, replacing angle with theta."),v="theta");if(!zf(b,v,n))return pb(Ib(v,n)),p;if("size"===v&&"line"===n){const P=qe(b[v]);if(null!==P&&void 0!==P&&P.aggregate)return pb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),
p}if("color"===v&&(a?"fill"in b:"stroke"in b))return pb(ub("encoding",{fill:"fill"in b,stroke:"stroke"in b})),p;if("detail"===v||"order"===v&&!z.isArray(C)&&!Ma(C)||"tooltip"===v&&z.isArray(C))C&&(p[v]=z.array(C).reduce((P,fa)=>{dd(fa)?P.push(Me(fa,v)):pb(Gb(fa,v));return P},[]));else{if("tooltip"===v&&null===C)p[v]=null;else if(!(dd(C)||Ce(C)||Ma(C)||vd(C)||Da(C)))return pb(Gb(C,v)),p;p[v]=je(C,v,g)}return p},{})}function Af(b,n){const a={};for(const g of id(b)){const p=je(b[g],g,n,{compositeMark:!0});
a[g]=p}return a}function Jf(b){const n=[];for(const a of id(b))if(af(b,a)){const g=z.array(b[a]);for(const p of g)dd(p)?n.push(p):te(p)&&n.push(p.condition)}return n}function Df(b,n,a){if(b)for(const g of id(b)){const p=b[g];if(z.isArray(p))for(const v of p)n.call(a,v,g);else n.call(a,p,g)}}function A(b,n,a,g){return b?id(b).reduce((p,v)=>{const C=b[v];return z.isArray(C)?C.reduce((P,fa)=>n.call(g,P,fa,v),p):n.call(g,p,C,v)},a):a}function D(b,n){return id(n).reduce((a,g)=>{switch(g){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;
case "order":if("line"===b||"trail"===b)return a;case "detail":case "key":g=n[g];if(z.isArray(g)||dd(g))for(var p of z.array(g))p.aggregate||a.push(fc(p,{}));return a;case "size":if("trail"===b)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(p=qe(n[g]))&&!p.aggregate&&a.push(fc(p,{})),a}},[])}function N(b,n,a,g=!0){if("tooltip"in a)return{tooltip:a.tooltip};b=b.map(({fieldPrefix:p,titlePrefix:v})=>{const C=
g?` of ${T(n)}`:"";return{field:p+n.field,type:n.type,title:Da(v)?{signal:`${v}"${escape(C)}"`}:v+C}});a=Jf(a).map(wc);return{tooltip:[...b,...na(a,hb)]}}function T(b){const {title:n,field:a}=b;return x(n,a)}function ha(b,n,a,g,p){const {scale:v,axis:C}=a;return({partName:P,mark:fa,positionPrefix:Pa,endPositionPrefix:Xa,extraEncoding:kb={}})=>{const Kb=T(a);return pa(b,P,p,{mark:fa,encoding:{[n]:{field:`${Pa}_${a.field}`,type:a.type,...(void 0!==Kb?{title:Kb}:{}),...(void 0!==v?{scale:v}:{}),...(void 0!==
C?{axis:C}:{})},...(z.isString(Xa)?{[`${n}2`]:{field:`${Xa}_${a.field}`}}:{}),...g,...kb}})}}function pa(b,n,a,g){const {clip:p,color:v,opacity:C}=b,P=b.type;return b[n]||void 0===b[n]&&a[n]?[{...g,mark:{...a[n],...(p?{clip:p}:{}),...(v?{color:v}:{}),...(C?{opacity:C}:{}),...(Wc(g.mark)?g.mark:{type:g.mark}),style:`${P}-${n}`,...(z.isBoolean(b[n])?{}:b[n])}}]:[]}function Ga(b,n,a){({encoding:b}=b);n="vertical"===n?"y":"x";const g=b[`${n}2`],p=b[`${n}Error`],v=b[`${n}Error2`];return{continuousAxisChannelDef:db(b[n],
a),continuousAxisChannelDef2:db(g,a),continuousAxisChannelDefError:db(p,a),continuousAxisChannelDefError2:db(v,a),continuousAxis:n}}function db(b,n){if(b&&b.aggregate){const {aggregate:a,...g}=b;a!==n&&pb(`Continuous axis should not have customized aggregation function ${a}; ${n} already agregates the axis.`);return g}return b}function Ua(b,n){const {mark:a,encoding:g}=b,{x:p,y:v}=g;if(Wc(a)&&a.orient)return a.orient;if(pe(p)){if(pe(v)){b=dd(p)&&p.aggregate;const C=dd(v)&&v.aggregate;if(!b&&C===n)return"vertical";
if(C||b!==n){if(b===n&&C===n)throw Error("Both x and y cannot have aggregate");return wf(v)&&!wf(p)?"horizontal":"vertical"}}return"horizontal"}if(pe(v))return"vertical";throw Error(`Need a valid continuous axis for ${n}s`);}function lb(b){return z.isNumber(b)?"tukey":b}function nb(b,{config:n}){var a;b={...b,encoding:Af(b.encoding,n)};const {mark:g,encoding:p,params:v,projection:C,...P}=b;var fa=Wc(g)?g:{type:g};v&&pb(xd("boxplot"));var Pa=null!==(a=fa.extent)&&void 0!==a?a:n.boxplot.extent,Xa=Yb("size",
fa,n);a=lb(Pa);var kb=b;b=Ua(kb,"boxplot");const {continuousAxisChannelDef:Kb,continuousAxis:oc}=Ga(kb,b,"boxplot");var tc=Kb.field;const Qc=lb(Pa);var Xc=[...Ab(tc),{op:"median",field:tc,as:`mid_box_${tc}`},{op:"min",field:tc,as:("min-max"===Qc?"lower_whisker_":"min_")+tc},{op:"max",field:tc,as:("min-max"===Qc?"upper_whisker_":"max_")+tc}];tc="min-max"===Qc||"tukey"===Qc?[]:[{calculate:`datum["upper_box_${tc}"] - datum["lower_box_${tc}"]`,as:`iqr_${tc}`},{calculate:`min(datum["upper_box_${tc}"] + datum["iqr_${tc}"] * ${Pa}, datum["max_${tc}"])`,
as:`upper_whisker_${tc}`},{calculate:`max(datum["lower_box_${tc}"] - datum["iqr_${tc}"] * ${Pa}, datum["min_${tc}"])`,as:`lower_whisker_${tc}`}];({...kb}=kb.encoding);var Ec;{const {tooltip:nj,...Ok}=kb;if(nj){var Yc;if(z.isArray(nj)){for(var pd of nj)pd.aggregate?(Ec||(Ec=[]),Ec.push(pd)):(Yc||(Yc=[]),Yc.push(pd));Ec&&(Ok.tooltip=Ec)}else nj.aggregate?Ok.tooltip=nj:Yc=nj;z.isArray(Yc)&&1===Yc.length&&(Yc=Yc[0]);Ec={customTooltipWithoutAggregatedField:Yc,filteredEncoding:Ok}}else Ec={filteredEncoding:Ok}}const {customTooltipWithoutAggregatedField:$c,
filteredEncoding:ae}=Ec,{bins:nd,timeUnits:jf,aggregate:Oe,groupby:Qf,encoding:Uf}=Ue(ae,n);Ec=[...nd,...jf,{aggregate:[...Oe,...Xc],groupby:Qf},...tc];const {bins:pg,timeUnits:sh,transform:Yh,continuousAxisChannelDef:vf,continuousAxis:vi,groupby:bm,aggregate:Qm,encodingWithoutContinuousAxis:Pk,ticksOrient:cm,boxOrient:Rm,customTooltipWithoutAggregatedField:dm}={bins:nd,timeUnits:jf,transform:Ec,groupby:Qf,aggregate:Oe,continuousAxisChannelDef:Kb,continuousAxis:oc,encodingWithoutContinuousAxis:Uf,
ticksOrient:"vertical"===b?"horizontal":"vertical",boxOrient:b,customTooltipWithoutAggregatedField:$c},{color:em,size:fm,...xl}=Pk;b=ha(fa,vi,vf,xl,n.boxplot);Ec=ha(fa,vi,vf,Pk,n.boxplot);Yc=ha(fa,vi,vf,{...xl,...(fm?{size:fm}:{})},n.boxplot);pd=N([{fieldPrefix:"min-max"===a?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===a?"lower_whisker_":"min_",
titlePrefix:"Min"}],vf,Pk);Xc={type:"tick",color:"black",opacity:1,orient:cm,invalid:null,aria:!1};kb="min-max"===a?pd:N([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],vf,Pk);b=[...b({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:kb}),...b({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",
extraEncoding:kb}),...b({partName:"ticks",mark:Xc,positionPrefix:"lower_whisker",extraEncoding:kb}),...b({partName:"ticks",mark:Xc,positionPrefix:"upper_whisker",extraEncoding:kb})];Xa=[...("tukey"!==a?b:[]),...Ec({partName:"box",mark:{type:"bar",...(Xa?{size:Xa}:{}),orient:Rm,invalid:null,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:pd}),...Yc({partName:"median",mark:{type:"tick",invalid:null,...(z.isObject(n.boxplot.median)&&n.boxplot.median.color?
{color:n.boxplot.median.color}:{}),...(Xa?{size:Xa}:{}),orient:cm,aria:!1},positionPrefix:"mid_box",extraEncoding:pd})];if("min-max"===a){var th;return{...P,transform:(null!==(th=P.transform)&&void 0!==th?th:[]).concat(Yh),layer:Xa}}th=`datum["lower_box_${vf.field}"]`;a=`datum["upper_box_${vf.field}"]`;Ec=`(${a} - ${th})`;th=`${th} - ${Pa} * ${Ec}`;Ec=`${a} + ${Pa} * ${Ec}`;Yc=`datum["${vf.field}"]`;Pa={joinaggregate:Ab(vf.field),groupby:bm};a={transform:[{filter:`(${th} <= ${Yc}) && (${Yc} <= ${Ec})`},
{aggregate:[{op:"min",field:vf.field,as:`lower_whisker_${vf.field}`},{op:"max",field:vf.field,as:`upper_whisker_${vf.field}`},{op:"min",field:`lower_box_${vf.field}`,as:`lower_box_${vf.field}`},{op:"max",field:`upper_box_${vf.field}`,as:`upper_box_${vf.field}`},...Qm],groupby:bm}],layer:b};const {tooltip:Zn,...Sm}=xl,{scale:gm,axis:Tm}=vf;b=T(vf);pd=Hb(Tm,["title"]);n=pa(fa,"outliers",n.boxplot,{transform:[{filter:`(${Yc} < ${th}) || (${Yc} > ${Ec})`}],mark:"point",encoding:{[vi]:{field:vf.field,
type:vf.type,...(void 0!==b?{title:b}:{}),...(void 0!==gm?{scale:gm}:{}),...(Qa(pd)?{}:{axis:pd})},...Sm,...(em?{color:em}:{}),...(dm?{tooltip:dm}:{})}})[0];fa=[...pg,...sh,Pa];n?n={transform:fa,layer:[n,a]}:(n=a,n.transform.unshift(...fa));return{...P,layer:[n,{transform:Yh,layer:Xa}]}}function Ab(b){return[{op:"q1",field:b,as:`lower_box_${b}`},{op:"q3",field:b,as:`upper_box_${b}`}]}function Xb(b,{config:n}){b={...b,encoding:Af(b.encoding,n)};const {transform:a,continuousAxisChannelDef:g,continuousAxis:p,
encodingWithoutContinuousAxis:v,ticksOrient:C,markDef:P,outerSpec:fa,tooltipEncoding:Pa}=Jc(b,"errorbar",n);delete v.size;b=ha(P,p,g,v,n.errorbar);n=P.thickness;var Xa=P.size;Xa={type:"tick",orient:C,aria:!1,...(void 0!==n?{thickness:n}:{}),...(void 0!==Xa?{size:Xa}:{})};b=[...b({partName:"ticks",mark:Xa,positionPrefix:"lower",extraEncoding:Pa}),...b({partName:"ticks",mark:Xa,positionPrefix:"upper",extraEncoding:Pa}),...b({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...(void 0!==
n?{size:n}:{})},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Pa})];return{...fa,transform:a,...(1<b.length?{layer:b}:{...b[0]})}}function mc(b,n){var {encoding:a}=b;if(!(!E(a.x)&&!E(a.y)||E(a.x2)||E(a.y2)||E(a.xError)||E(a.xError2)||E(a.yError)||E(a.yError2)))return{orient:Ua(b,n),inputType:"raw"};var g=E(a.x2)||E(a.y2);var p=E(a.xError)||E(a.xError2)||E(a.yError)||E(a.yError2);b=a.x;const v=a.y;if(g){if(p)throw Error(`${n} cannot be both type aggregated-upper-lower and aggregated-error`);
g=a.x2;a=a.y2;if(E(g)&&E(a))throw Error(`${n} cannot have both x2 and y2`);if(E(g)){if(pe(b))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${n}`);}if(E(a)){if(pe(v))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${n}`);}}else{g=a.xError;p=a.yError;const C=a.yError2;if(E(a.xError2)&&!E(g))throw Error(`${n} cannot have xError2 without xError`);if(E(C)&&!E(p))throw Error(`${n} cannot have yError2 without yError`);
if(E(g)&&E(p))throw Error(`${n} cannot have both xError and yError with both are quantiative`);if(E(g)){if(pe(b))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(E(p)){if(pe(v))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Jc(b,n,a){var g;const {mark:p,encoding:v,params:C,projection:P,
...fa}=b,Pa=Wc(p)?p:{type:p};C&&pb(xd(n));const {orient:Xa,inputType:kb}=mc(b,n),{continuousAxisChannelDef:Kb,continuousAxisChannelDef2:oc,continuousAxisChannelDefError:tc,continuousAxisChannelDefError2:Qc,continuousAxis:Xc}=Ga(b,Xa,n);b=[];var Ec=[],Yc=Kb.field,pd=!1;if("raw"===kb){var $c=Pa.center?Pa.center:Pa.extent?"iqr"===Pa.extent?"median":"mean":a.errorbar.center;var ae=Pa.extent?Pa.extent:"mean"===$c?"stderr":"iqr";"median"===$c!==("iqr"===ae)&&pb(`${$c} is not usually used with ${ae} for ${n}.`);
"stderr"===ae||"stdev"===ae?(b=[{op:ae,field:Yc,as:`extent_${Yc}`},{op:$c,field:Yc,as:`center_${Yc}`}],Ec=[{calculate:`datum["center_${Yc}"] + datum["extent_${Yc}"]`,as:`upper_${Yc}`},{calculate:`datum["center_${Yc}"] - datum["extent_${Yc}"]`,as:`lower_${Yc}`}],Yc={fieldPrefix:"center_",titlePrefix:ya($c)},pd=ae,pd={fieldPrefix:"upper_",titlePrefix:`${ya($c)} ${"+"} ${pd}`},n=ae,$c=`${ya($c)} ${"-"} ${n}`,$c=[Yc,pd,{fieldPrefix:"lower_",titlePrefix:$c}],pd=!0):("ci"===ae?($c="mean",n="ci0",ae="ci1"):
($c="median",n="q1",ae="q3"),b=[{op:n,field:Yc,as:`lower_${Yc}`},{op:ae,field:Yc,as:`upper_${Yc}`},{op:$c,field:Yc,as:`center_${Yc}`}],$c=[{fieldPrefix:"upper_",titlePrefix:Gd({field:Yc,aggregate:ae,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Gd({field:Yc,aggregate:n,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Gd({field:Yc,aggregate:$c,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(Pa.center||Pa.extent){n=Pa.center;var nd=
Pa.extent;pb(`${nd?"extent ":""}${nd&&n?"and ":""}${n?"center ":""}${nd&&n?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===kb?($c=[],Ec=[{calculate:`datum["${oc.field}"]`,as:`upper_${Yc}`},{calculate:`datum["${Yc}"]`,as:`lower_${Yc}`}]):"aggregated-error"===kb&&($c=[{fieldPrefix:"",titlePrefix:Yc}],Ec=[{calculate:`datum["${Yc}"] + datum["${tc.field}"]`,as:`upper_${Yc}`}],Qc?Ec.push({calculate:`datum["${Yc}"] + datum["${Qc.field}"]`,as:`lower_${Yc}`}):Ec.push({calculate:`datum["${Yc}"] - datum["${tc.field}"]`,
as:`lower_${Yc}`}));for(ae of Ec)$c.push({fieldPrefix:ae.as.substring(0,6),titlePrefix:ab(ab(ae.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:jf,postAggregateCalculates:Oe,tooltipSummary:Qf,tooltipTitleWithFieldName:Uf}={postAggregateCalculates:Ec,errorBarSpecificAggregate:b,tooltipSummary:$c,tooltipTitleWithFieldName:pd};({...b}=v);const {bins:pg,timeUnits:sh,aggregate:Yh,groupby:vf,encoding:vi}=Ue(b,a);a=[...Yh,...jf];b="raw"!==kb?[]:vf;Ec=N(Qf,Kb,vi,Uf);return{transform:[...(null!==
(g=fa.transform)&&void 0!==g?g:[]),...pg,...sh,...(0===a.length?[]:[{aggregate:a,groupby:b}]),...Oe],groupby:b,continuousAxisChannelDef:Kb,continuousAxis:Xc,encodingWithoutContinuousAxis:vi,ticksOrient:"vertical"===Xa?"horizontal":"vertical",markDef:Pa,outerSpec:fa,tooltipEncoding:Ec}}function t(b,{config:n}){b={...b,encoding:Af(b.encoding,n)};const {transform:a,continuousAxisChannelDef:g,continuousAxis:p,encodingWithoutContinuousAxis:v,markDef:C,outerSpec:P,tooltipEncoding:fa}=Jc(b,"errorband",n);
n=ha(C,p,g,v,n.errorband);b=void 0!==b.encoding.x&&void 0!==b.encoding.y;let Pa={type:b?"area":"rect"},Xa={type:b?"line":"rule"};const kb={...(C.interpolate?{interpolate:C.interpolate}:{}),...(C.tension&&C.interpolate?{tension:C.tension}:{})};b?(Pa={...Pa,...kb,ariaRoleDescription:"errorband"},Xa={...Xa,...kb,aria:!1}):C.interpolate?pb(va("interpolate")):C.tension&&pb(va("tension"));return{...P,transform:a,layer:[...n({partName:"band",mark:Pa,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:fa}),
...n({partName:"borders",mark:Xa,positionPrefix:"lower",extraEncoding:fa}),...n({partName:"borders",mark:Xa,positionPrefix:"upper",extraEncoding:fa})]}}function y(b,n,a){n=new Qk(b,n);hm[b]={normalizer:n,parts:a}}function S(b){return!!b&&("legend"===b||!!b.legend)}function ba(b){return S(b)&&z.isObject(b)}function Wa(b){const n=[];for(const a of b||[]){if(a.select)continue;const {expr:g,bind:p,...v}=a;p&&g?n.push({...v,bind:p,init:g}):n.push({...v,...(g?{update:g}:{}),...(p?{bind:p}:{})})}return n}
function vb(b,n){const a={};for(const g of Um)b&&void 0!==b[g]&&(a[g]=Na(b[g]));n&&(a.params=b.params);return a}function Eb(b){return z.isObject(b)&&void 0!==b.step}function Nb(b){return b.view||b.width||b.height}function cc(b,n,a){const g={},{spacing:p,columns:v}=a[n];void 0!==p&&(g.spacing=p);void 0!==v&&("facet"in b&&!xe(b.facet)||"concat"in b)&&(g.columns=v);"vconcat"in b&&(g.columns=1);for(const fa of Vm)if(void 0!==b[fa])if("spacing"===fa){var C,P;n=b[fa];g[fa]=z.isNumber(n)?n:{row:null!==(C=
n.row)&&void 0!==C?C:p,column:null!==(P=n.column)&&void 0!==P?P:p}}else g[fa]=b[fa];return g}function Dc(b,n){var a;return null!==(a=b[n])&&void 0!==a?a:b["width"===n?"continuousWidth":"continuousHeight"]}function zc(b,n){b=td(b,n);return Eb(b)?b.step:20}function td(b,n){var a;n=null!==(a=b[n])&&void 0!==a?a:b["width"===n?"discreteWidth":"discreteHeight"];return x(n,{step:b.step})}function Id(b={}){return{signals:[{name:"color",value:z.isObject(b)?{...im,...b}:im}],mark:{color:{signal:"color.blue"}},
rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},
{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Rc(b){var n=id(b||{});const a={};for(const g of n)n=b[g],a[g]=If(n)?ob(n):Na(n);return a}function Hd(b={}){const {color:n,font:a,fontSize:g,...p}=b;b=z.mergeConfig;var v=a?{text:{font:a},style:{"guide-label":{font:a},"guide-title":{font:a},"group-title":{font:a},"group-subtitle":{font:a}}}:{},C=n?Id(n):{};var P=g?{signals:[{name:"fontSize",value:z.isObject(g)?
{...jm,...g}:jm}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};b=b.call(z,{},Wm,v,C,P,p||{});v=Hb(b,Xm);for(var fa of["background","lineBreak","padding"])b[fa]&&(v[fa]=Na(b[fa]));for(var Pa of km)b[Pa]&&(v[Pa]=G(b[Pa]));for(var Xa of lm)b[Xa]&&(v[Xa]=Rc(b[Xa]));for(const kb of mm)b[kb]&&
(v[kb]=G(b[kb]));b.legend&&(v.legend=G(b.legend));b.scale&&(v.scale=G(b.scale));if(b.style){fa=b.style;Pa=id(fa);Xa={};for(const kb of Pa)Xa[kb]=Rc(fa[kb]);v.style=Xa}b.title&&(v.title=G(b.title));b.view&&(v.view=G(b.view));return v}function Vd(b){b=Ae(b);for(var n of Ym)delete b[n];if(b.axis)for(var a in b.axis)If(b.axis[a])&&delete b.axis[a];if(b.legend)for(var g of Zm)delete b.legend[g];if(b.mark){for(var p of nm)delete b.mark[p];b.mark.tooltip&&z.isObject(b.mark.tooltip)&&delete b.mark.tooltip}b.params&&
(b.signals=(b.signals||[]).concat(Wa(b.params)),delete b.params);for(var v of $m){for(const kb of nm)delete b[v][kb];if(n=an[v])for(const kb of n)delete b[v][kb];a=n=void 0;g=b;p=v;var C=void 0,P=g[p];"view"===p&&(C="cell");P={...P,...g.style[null!==(a=C)&&void 0!==a?a:p]};Qa(P)||(g.style[null!==(n=C)&&void 0!==n?n:p]=P);delete g[p]}for(const kb of id(hm))delete b[kb];v=b;const {titleMarkConfig:fa,subtitleMarkConfig:Pa,subtitle:Xa}=Q(v.title);Qa(fa)||(v.style["group-title"]={...v.style["group-title"],
...fa});Qa(Pa)||(v.style["group-subtitle"]={...v.style["group-subtitle"],...Pa});Qa(Xa)?delete v.title:v.title=Xa;for(const kb in b)z.isObject(b[kb])&&Qa(b[kb])&&delete b[kb];return Qa(b)?void 0:b}function ve(b,n){const a="x"===n?"y":"radius";var g=b[n];b=b[a];if(dd(g)&&dd(b))if("quantitative"===Ee(g)&&"quantitative"===Ee(b)){if(g.stack)return n;if(b.stack)return a;const C=dd(g)&&!!g.aggregate,P=dd(b)&&!!b.aggregate;if(C!==P)return C?n:a;var p,v;g=null===(p=g.scale)||void 0===p?void 0:p.type;p=null===
(v=b.scale)||void 0===v?void 0:v.type;if(g&&"linear"!==g)return a;if(p&&"linear"!==p)return n}else{if("quantitative"===Ee(g))return n;if("quantitative"===Ee(b))return a}else{if("quantitative"===Ee(g))return n;if("quantitative"===Ee(b))return a}}function Z(b){switch(b){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function sa(b,n,a={}){var g,p;b=Wc(b)?b.type:b;if(!bn.has(b))return null;const v=ve(n,"x")||ve(n,"theta");if(!v)return null;const C=n[v];
var P=dd(C)?fc(C,{}):void 0;let fa=Z(v),Pa=n[fa],Xa=dd(Pa)?fc(Pa,{}):void 0;Xa===P&&(fa=Pa=Xa=void 0);P=kh.reduce((Kb,oc)=>{if("tooltip"!==oc&&af(n,oc)){var tc=n[oc];for(const Qc of z.array(tc)){tc=qe(Qc);if(tc.aggregate)continue;const Xc=fc(tc,{});Xc&&Xc===Xa||Kb.push({channel:oc,fieldDef:tc})}}return Kb},[]);let kb;void 0!==C.stack?kb=z.isBoolean(C.stack)?C.stack?"zero":null:C.stack:cn.has(b)&&(kb="zero");if(!(kb&&kb in dn)||Qe(n)&&0===P.length)return null;if(null!==C&&void 0!==C&&null!==(g=C.scale)&&
void 0!==g&&g.type&&(null===C||void 0===C?void 0:null===(p=C.scale)||void 0===p?void 0:p.type)!==d.LINEAR){if(a.disallowNonLinearStack)return null;pb(`Cannot stack non-linear scale (${C.scale.type}).`)}if(E(n[ca(v)]))return void 0!==C.stack&&pb(`Cannot stack "${v}" if there is already "${v}2".`),null;dd(C)&&C.aggregate&&!$i.includes(C.aggregate)&&pb(`Stacking is applied even though the aggregate function is non-summative ("${C.aggregate}").`);return{groupbyChannel:Pa?fa:void 0,groupbyField:Xa,fieldChannel:v,
impute:null===C.impute?!1:ic(b),stackBy:P,offset:kb}}function Ja(b,n={},a){if("transparent"===b.point)return{opacity:0};if(b.point)return z.isObject(b.point)?b.point:{};if(void 0!==b.point)return null;if(n.point||a.shape)return z.isObject(n.point)?n.point:{}}function ib(b,n={}){if(b.line)return!0===b.line?{}:b.line;if(void 0!==b.line)return null;if(n.line)return!0===n.line?{}:n.line}function xb(b,n){return n?rc(b,n):b}function ac(b,n,a){const g=n[b];if(g&&!z.isString(g)&&"repeat"in g){if(g.repeat in
a)return{...n,[b]:a[g.repeat]};pb(`Unknown repeated value "${g.repeat}".`)}else return n}function dc(b,n){b=ac("field",b,n);if(void 0!==b){if(null===b)return null;"sort"in b&&Uc(b.sort)&&(n=ac("field",b.sort,n),b={...b,...(n?{sort:n}:{})});return b}}function ec(b,n){if(dd(b))return dc(b,n);n=ac("datum",b,n);n===b||n.type||(n.type="nominal");return n}function nc(b,n){if(E(b)){if(n=ec(b,n))return n;if(vd(b))return{condition:b.condition}}else{if(Se(b)){if(n=ec(b.condition,n))return{...b,condition:n};
const {condition:a,...g}=b;return g}return b}}function rc(b,n){const a={};for(const p in b)if(z.hasOwnProperty(b,p)){var g=b[p];z.isArray(g)?a[p]=g.map(v=>nc(v,n)).filter(v=>v):(g=nc(g,n),void 0!==g&&(a[p]=g))}return a}function ad({parentEncoding:b,encoding:n={},layer:a}){let g={};if(b){var p=new Set([...id(b),...id(n)]);for(const v of p){p=n[v];const C=b[v];if(E(p))g[v]={...C,...p};else if(Se(p))g[v]={...p,condition:{...C,...p.condition}};else if(p||null===p)g[v]=p;else if(a||Ma(C)||Da(C)||E(C)||
z.isArray(C))g[v]=C}}else g=n;return!g||Qa(g)?void 0:g}function Lc(b){const {parentProjection:n,projection:a}=b;if(n&&a){const {parentProjection:g,projection:p}={parentProjection:n,projection:a};b=`Layer's shared projection ${Te(g)} is overridden by a child projection ${Te(p)}.`;pb(b)}return null!==a&&void 0!==a?a:n}function Oc(b){return b.map(n=>"filter"in n?{filter:bb(n.filter,qa)}:n)}function Vc(b,n){const {transform:a,...g}=b;return a?(b=a.map(p=>{if("filter"in p)return{filter:Zd(p,n)};if("bin"in
p&&z.isObject(p.bin))return{...p,bin:ld(p.bin)};if("lookup"in p){const {selection:v,...C}=p.from;return v?{...p,from:{param:v,...C}}:p}return p}),{...g,transform:b}):b}function bd(b,n){var a,g;b=Ae(b);dd(b)&&z.isObject(b.bin)&&(b.bin=ld(b.bin));if(Cb(b)&&null!==(a=b.scale)&&void 0!==a&&null!==(g=a.domain)&&void 0!==g&&g.selection){const {selection:p,...v}=b.scale.domain;b.scale.domain={...v,...(p?{param:p}:{})}}if(vd(b))if(Ra.isArray(b.condition))b.condition=b.condition.map(p=>{const {selection:v,
param:C,test:P,...fa}=p;return C?p:{...fa,test:Zd(p,n)}});else{const {selection:p,param:v,test:C,...P}=bd(b.condition,n);b.condition=v?b.condition:{...P,test:Zd(b.condition,n)}}return b}function ld(b){const n=b.extent;if(null!==n&&void 0!==n&&n.selection){const {selection:a,...g}=n;return{...b,extent:{...g,param:a}}}return b}function Zd(b,n){const a=g=>bb(g,p=>{var v,C,P;const fa=null!==(v=n.emptySelections[p])&&void 0!==v?v:!0;v={param:p,empty:fa};null!==(P=(C=n.selectionPredicates)[p])&&void 0!==
P?P:C[p]=[];n.selectionPredicates[p].push(v);return v});return b.selection?a(b.selection):bb(b.test||b.filter,g=>g.selection?a(g.selection):g)}function Td(b,n){var a;return b.name?{...n,path:(null!==(a=n.path)&&void 0!==a?a:[]).concat(b.name)}:n}function Kd(b,n){void 0===n&&(n=Hd(b.config));const a=yd(b,n),{width:g,height:p}=b;{let {width:v,height:C}={width:g,height:p,autosize:b.autosize};b=Je(a)||"layer"in a;const P={};b?"container"==v&&"container"==C?(P.type="fit",P.contains="padding"):"container"==
v?(P.type="fit-x",P.contains="padding"):"container"==C&&(P.type="fit-y",P.contains="padding"):("container"==v&&(pb(Zb("width")),v=void 0),"container"==C&&(pb(Zb("height")),C=void 0));n={type:"pad",...P,...(n?kd(n.autosize):{}),...kd(a.autosize)};"fit"!==n.type||b||(pb('Autosize "fit" only works for single views and layered views.'),n.type="pad");"container"==v&&"fit"!=n.type&&"fit-x"!=n.type&&pb(jb("width"));"container"==C&&"fit"!=n.type&&"fit-y"!=n.type&&pb(jb("height"));n=Tf(n,{type:"pad"})?void 0:
n}return{...a,...(n?{autosize:n}:{})}}function yd(b,n={}){n={config:n};return en.map(fn.map(gn.map(b,n),n),n)}function kd(b){return z.isString(b)?{type:b}:null!==b&&void 0!==b?b:{}}function Md(b){return{explicit:!0,value:b}}function se(b){return{explicit:!1,value:b}}function Ne(b){return(n,a,g,p)=>{const v=b(n.value,a.value);return 0<v?n:0>v?a:Ke(n,a,g,p)}}function Ke(b,n,a,g){if(b.explicit&&n.explicit){var p=b.value;n=n.value;a=`Conflicting ${g.toString()} property "${a.toString()}" (${Te(p)} and ${Te(n)}). Using ${Te(p)}.`;
pb(a)}return b}function re(b,n,a,g,p=Ke){return void 0===b||void 0===b.value?n:b.explicit&&!n.explicit?b:n.explicit&&!b.explicit?n:Tf(b.value,n.value)?b:p(b,n,a,g)}function Fe(b){return"name"in b&&!("url"in b)&&!("values"in b)&&!Ye(b)}function Ye(b){return b&&("sequence"in b||"sphere"in b||"graticule"in b)}function mf(b,n,a){om=n||"view";pm=a||hn;return Gg(b.trim()).map(Cd)}function tf(b,n,a,g,p){const v=b.length;let C=0,P;for(;n<v;++n)if(P=b[n],C||P!==a)p&&0<=p.indexOf(P)?--C:g&&0<=g.indexOf(P)&&
++C;else break;return n}function Gg(b){const n=[],a=b.length;let g=0,p=0;for(;p<a;)p=tf(b,p,",","[{","]}"),n.push(b.substring(g,p).trim()),g=++p;if(0===n.length)throw"Empty event selector: "+b;return n}function Cd(b){if("["===b[0]){var n=b;var a=n.length;b=tf(n,1,"]","[","]");if(b===a)throw"Empty between selector: "+n;a=Gg(n.substring(1,b));if(2!==a.length)throw"Between selector must have two elements: "+n;n=n.slice(b+1).trim();if("\x3e"!==n[0])throw"Expected '\x3e' after between selector: "+n;a=
a.map(Cd);n=Cd(n.slice(1).trim());n.between?n={between:a,stream:n}:n.between=a}else{a={source:om};const g=[];let p=[0,0],v=0,C=0,P=b.length,fa=0,Pa;if("}"===b[P-1]){fa=b.lastIndexOf("{");if(0<=fa){try{p=hf(b.substring(fa+1,P-1))}catch(Xa){throw"Invalid throttle specification: "+b;}b=b.slice(0,fa).trim();P=b.length}else throw"Unmatched right brace: "+b;fa=0}if(!P)throw b;"@"===b[0]&&(v=++fa);Pa=tf(b,fa,":");Pa<P&&(g.push(b.substring(C,Pa).trim()),C=fa=++Pa);fa=tf(b,fa,"[");if(fa===P)g.push(b.substring(C,
P).trim());else if(g.push(b.substring(C,fa).trim()),n=[],C=++fa,C===P)throw"Unmatched left bracket: "+b;for(;fa<P;){fa=tf(b,fa,"]");if(fa===P)throw"Unmatched left bracket: "+b;n.push(b.substring(C,fa).trim());if(fa<P-1&&"["!==b[++fa])throw"Expected left bracket: "+b;C=++fa}if(!(P=g.length)||jn.test(g[P-1]))throw"Invalid event selector: "+b;1<P?(a.type=g[1],v?a.markname=g[0].slice(1):pm[g[0]]?a.marktype=g[0]:a.source=g[0]):a.type=g[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));
null!=n&&(a.filter=n);p[0]&&(a.throttle=p[0]);p[1]&&(a.debounce=p[1]);n=a}return n}function hf(b){const n=b.split(",");if(!b.length||2<n.length)throw b;return n.map(a=>{a=+a;if(a!==a)throw b;return a})}function Xf(b,n=!0,a=z.identity){return z.isArray(b)?(b=b.map(g=>Xf(g,n,a)),n?`[${b.join(", ")}]`:b):Sb(b)?n?a(Bb(b)):a(Tb(b)):n?a(Te(b)):b}function rh(b,n){b.component.selection&&id(b.component.selection).length&&(b=z.stringValue(b.getName("cell")),n.unshift({name:"facet",value:{},on:[{events:mf("mousemove",
"scope"),update:`isTuple(facet) ? facet : group(${b}).datum`}]}));return Uj(n)}function Ph(b,n){var a=!1;for(const p of yf(null!==(g=b.component.selection)&&void 0!==g?g:{})){var g;const v=p.name;a=z.stringValue(v+"_store");0===n.filter(C=>C.name===v).length&&(g="point"===p.type?", true, true)":")",n.push({name:p.name,update:`${"vlSelectionResolve"}(${a}, ${z.stringValue("global"===p.resolve?"union":p.resolve)}${g}`}));a=!0;for(const C of Rk)C.defined(p)&&C.topLevelSignals&&(n=C.topLevelSignals(b,
p,n))}a&&0===n.filter(p=>"unit"===p.name).length&&n.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Uj(n)}function jl(b,n){n=[...n];for(const g of yf(null!==(a=b.component.selection)&&void 0!==a?a:{})){var a;a={name:g.name+"_store"};if(g.init){const p=g.project.items.map(v=>{const {signals:C,...P}=v;return P});a.values=g.init.map(v=>({unit:Zg(b,{escape:!1}),fields:p,values:Xf(v,!1)}))}n.filter(p=>p.name===g.name+"_store").length||n.push(a)}return n}
function Xj(b,n){for(const g of yf(null!==(a=b.component.selection)&&void 0!==a?a:{})){var a;for(const p of Rk)p.defined(g)&&p.marks&&(n=p.marks(b,g,n))}return n}function mh(b,n){for(const a of b.children)of(a)&&(n=Xj(a,n));return n}function Uj(b){return b.map(n=>{n.on&&!n.on.length&&delete n.on;return n})}function Oj(b,n){return`domain(${z.stringValue(b.scaleName(n))})`}function Yj(b){var n;return b.parent&&uf(b.parent)&&(null!==(n=!b.parent.parent)&&void 0!==n?n:Yj(b.parent.parent))}function kl(b,
n,a,g){const p=a.channel,v=a.signals.visual;a=a.signals.data;const C=Zh.defined(n),P=z.stringValue(b.scaleName(p));var fa=b.getScaleComponent(p);fa=fa?fa.get("type"):void 0;const Pa=Kb=>`scale(${P}, ${Kb})`,Xa=b.getSizeSignalRef("x"===p?"width":"height").signal,kb=`${p}(unit)`;b=lg(n,(Kb,oc)=>[...Kb,{events:oc.between[0],update:`[${kb}, ${kb}]`},{events:oc,update:`[${v}[0], clamp(${kb}, 0, ${Xa})]`}]);b.push({events:{signal:n.name+"_scale_trigger"},update:fa in Hc?`[${Pa(`${a}[0]`)}, ${Pa(`${a}[1]`)}]`:
"[0, 0]"});return C?[{name:a,on:[]}]:[{name:v,...(g?{init:Xf(g,!0,Pa)}:{value:[]}),on:b},{name:a,...(g?{init:Xf(g)}:{}),on:[{events:{signal:v},update:`${v}[0] === ${v}[1] ? null : invert(${P}, ${v})`}]}]}function lg(b,n){return b.events.reduce((a,g)=>g.between?n(a,g):(pb(`${g} is not an ordered event stream for interval selections.`),a),[])}function Tg(b,n,a,g){var p=vd(n)&&n.condition;n=g(n);return p?(p=z.array(p).map(v=>{const C=g(v);if(v.param){const {param:P,empty:fa}=v;return{test:Ei(b,{param:P,
empty:fa}),...C}}return{test:ti(b,v.test),...C}}),{[a]:[...p,...(void 0!==n?[n]:[])]}):void 0!==n?{[a]:n}:{}}function Zj(b,n="text"){return Tg(b,b.encoding[n],n,a=>yg(a,b.config))}function yg(b,n,a="datum"){if(b){if(Ma(b))return Fb(b.value);if(E(b)){const {format:g,formatType:p}=ue(b);return ie({fieldOrDatumDef:b,format:g,formatType:p,expr:a,config:n})}}}function oi(b,n={}){const {encoding:a,markDef:g,config:p,stack:v}=b,C=a.tooltip;if(z.isArray(C))return{tooltip:Ri({tooltip:C},v,p,n)};const P=n.reactiveGeom?
"datum.datum":"datum";return Tg(b,C,"tooltip",fa=>{const Pa=yg(fa,p,P);if(Pa)return Pa;if(null!==fa){fa=Yb("tooltip",g,p);!0===fa&&(fa={content:"encoding"});if(z.isString(fa))return{value:fa};if(z.isObject(fa))return Da(fa)?fa:"encoding"===fa.content?Ri(a,v,p,n):{signal:P}}})}function Eg(b,n,a,{reactiveGeom:g}={}){function p(fa,Pa){var Xa,kb=H(Pa);fa=W(fa)?fa:{...fa,type:b[kb].type};kb=fa.title||ck(fa,a);kb=z.array(kb).join(", ");if(Pa in xf){const tc="x"===Pa?"x2":"y2";var Kb=qe(b[tc]);if(cb(fa.bin)&&
Kb){var oc=fc(fa,{expr:C});Kb=fc(Kb,{expr:C});const {format:Qc,formatType:Xc}=ue(fa);oc=gc(oc,Kb,Qc,Xc,a);v[tc]=!0}else if(n&&n.fieldChannel===Pa&&"normalize"===n.offset){const {format:Qc,formatType:Xc}=ue(fa);oc=ie({fieldOrDatumDef:fa,format:Qc,formatType:Xc,expr:C,config:a,normalizeStack:!0}).signal}}null!==(Xa=oc)&&void 0!==Xa?Xa:oc=yg(fa,a,C).signal;P.push({channel:Pa,key:kb,value:oc})}const v={},C=g?"datum.datum":"datum",P=[];Df(b,(fa,Pa)=>{dd(fa)?p(fa,Pa):te(fa)&&p(fa.condition,Pa)});g={};for(const {channel:fa,
key:Pa,value:Xa}of P)v[fa]||g[Pa]||(g[Pa]=Xa);return g}function Ri(b,n,a,{reactiveGeom:g}={}){b=Eg(b,n,a,{reactiveGeom:g});b=dg(b).map(([p,v])=>`"${p}": ${v}`);return 0<b.length?{signal:`{${b.join(", ")}}`}:void 0}function Lj(b){const {encoding:n,markDef:a,config:g,stack:p}=b;var v=n.description;if(v)return Tg(b,v,"description",C=>yg(C,b.config));v=Yb("description",a,g);if(null!=v)return{description:Fb(v)};if(!1===g.aria)return{};v=Eg(n,p,g);if(!Qa(v))return{description:{signal:dg(v).map(([C,P],fa)=>
`"${0<fa?"; ":""}${C}: " + (${P})`).join(" + ")}}}function Ff(b,n,a={}){const {markDef:g,encoding:p,config:v}=n,{vgChannel:C}=a;let {defaultRef:P,defaultValue:fa}=a;if(void 0===P){var Pa;null!==(Pa=fa)&&void 0!==Pa?Pa:fa=Yb(b,g,v,{vgChannel:C,ignoreVgConfig:!0});void 0!==fa&&(P=Fb(fa))}return Tg(n,p[b],null!==C&&void 0!==C?C:b,Xa=>oe({channel:b,channelDef:Xa,markDef:g,config:v,scaleName:n.scaleName(b),scale:n.getScaleComponent(b),stack:null,defaultRef:P}))}function Qj(b,n={filled:void 0}){var a,g,
p,v;const {markDef:C,encoding:P,config:fa}=b,{type:Pa}=C;n=null!==(a=n.filled)&&void 0!==a?a:Yb("filled",C,fa);a=Ha(["bar","point","circle","square","geoshape"],Pa)?"transparent":void 0;a=null!==(g=null!==(p=Yb(!0===n?"color":void 0,C,fa,{vgChannel:"fill"}))&&void 0!==p?p:fa.mark[!0===n&&"color"])&&void 0!==g?g:a;g=null!==(v=Yb(!1===n?"color":void 0,C,fa,{vgChannel:"stroke"}))&&void 0!==v?v:fa.mark[!1===n&&"color"];v=n?"fill":"stroke";p={...(a?{fill:Fb(a)}:{}),...(g?{stroke:Fb(g)}:{})};C.color&&(n?
C.fill:C.stroke)&&pb(ub("property",{fill:"fill"in C,stroke:"stroke"in C}));return{...p,...Ff("color",b,{vgChannel:v,defaultValue:n?a:g}),...Ff("fill",b,{defaultValue:P.fill?a:void 0}),...Ff("stroke",b,{defaultValue:P.stroke?g:void 0})}}function lh(b){const {encoding:n,mark:a}=b,g=n.order;return!ic(a)&&Ma(g)?Tg(b,g,"zindex",p=>Fb(p.value)):{}}function Oh(b,n){b=e(b);if(n=n[b])return n}function Ef(b,n,{defaultPos:a,vgChannel:g}){const {encoding:p,markDef:v,config:C,stack:P}=n,fa=p[b],Pa=p[ca(b)],Xa=
n.scaleName(b),kb=n.getScaleComponent(b),Kb=Oh(b,v);a=Rh({model:n,defaultPos:a,channel:b,scaleName:Xa,scale:kb});if(!fa&&b in xf&&(p.latitude||p.longitude))n={field:n.getName(b)};else a:{n={channel:b,channelDef:fa,channel2Def:Pa,markDef:v,config:C,scaleName:Xa,scale:kb,stack:P,offset:Kb,defaultRef:a};const {channel:oc,channelDef:tc,scaleName:Qc,stack:Xc,offset:Ec,markDef:Yc}=n;if(E(tc)&&Xc&&oc===Xc.fieldChannel){if(dd(tc)&&(n=tc.bandPosition,void 0!==n||"text"!==Yc.type||"radius"!==oc&&"theta"!==
oc||(n=.5),void 0!==n)){n=Vb({scaleName:Qc,fieldOrDatumDef:tc,startSuffix:"start",bandPosition:n,offset:Ec});break a}n=cd(tc,Qc,{suffix:"end"},{offset:Ec})}else n=Nc(n)}return n?{[g||b]:n}:void 0}function Rh({model:b,defaultPos:n,channel:a,scaleName:g,scale:p}){const {markDef:v,config:C}=b;return()=>{const P=H(a);var fa=da(a);fa=Yb(a,v,C,{vgChannel:fa});if(void 0!==fa)return qd(a,fa);switch(n){case "zeroOrMin":case "zeroOrMax":if(g&&(fa=p.get("type"),!Ha([d.LOG,d.TIME,d.UTC],fa)&&p.domainDefinitelyIncludesZero()))return{scale:g,
value:0};if("zeroOrMin"===n)return"y"===P?{field:{group:"height"}}:{value:0};switch(P){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return{...b[X(a)],mult:.5}}}}function aj(b,n,a,g="middle"){if("radius"===b||"theta"===b)return da(b);var p="x"===b?"align":"baseline";n=Yb(p,n,a);Da(n)?(pb(`The ${p} for range marks cannot be an expression`),p=void 0):p=n;return"x"===
b?kn[p||("top"===g?"left":"center")]:ln[p||g]}function ri(b,n,{defaultPos:a,defaultPos2:g,range:p}){return p?bj(b,n,{defaultPos:a,defaultPos2:g}):Ef(b,n,{defaultPos:a})}function bj(b,n,{defaultPos:a,defaultPos2:g}){const {markDef:p,config:v}=n;var C=ca(b),P=X(b);{const {encoding:kb,mark:Kb,markDef:oc,stack:tc,config:Qc}=n;var fa=H(C),Pa=X(C);const Xc=da(C);var Xa=kb[fa];const Ec=n.scaleName(fa),Yc=n.getScaleComponent(fa);fa=C in kb||C in oc?Oh(C,n.markDef):Oh(fa,n.markDef);Xa||"x2"!==C&&"y2"!==C||
!kb.latitude&&!kb.longitude?(Xa=ak({channel:C,channelDef:Xa,channel2Def:kb[C],markDef:oc,config:Qc,scaleName:Ec,scale:Yc,stack:tc,offset:fa,defaultRef:void 0}),C=void 0!==Xa?{[Xc]:Xa}:Wg(C,oc)||Wg(C,{[C]:yc(C,oc,Qc.style),[Pa]:yc(Pa,oc,Qc.style)})||Wg(C,Qc[Kb])||Wg(C,Qc.mark)||{[Xc]:Rh({model:n,defaultPos:g,channel:C,scaleName:Ec,scale:Yc})()}):(g=X(C),Pa=n.markDef[g],C=null!=Pa?{[g]:{value:Pa}}:{[Xc]:{field:n.getName(C)}})}P=C[P]?aj(b,p,v):da(b);return{...Ef(b,n,{defaultPos:a,vgChannel:P}),...C}}
function ak({channel:b,channelDef:n,channel2Def:a,markDef:g,config:p,scaleName:v,scale:C,stack:P,offset:fa,defaultRef:Pa}){return E(n)&&P&&b.charAt(0)===P.fieldChannel.charAt(0)?cd(n,v,{suffix:"start"},{offset:fa}):Nc({channel:b,channelDef:a,scaleName:v,scale:C,stack:P,markDef:g,config:p,offset:fa,defaultRef:Pa})}function Wg(b,n){const a=X(b),g=da(b);if(void 0!==n[g])return{[g]:qd(b,n[g])};if(void 0!==n[b])return{[g]:qd(b,n[b])};if(n[a])if(n=n[a],xc(n))pb(`Position range does not support relative band size for ${a}.`);
else return{[a]:qd(b,n)}}function Xg(b,n,a){var g,p;const {config:v,encoding:C,markDef:P}=b;var fa=ca(n),Pa=X(n),Xa=C[n];fa=C[fa];var kb=b.getScaleComponent(n);const Kb=kb?kb.get("type"):void 0;var oc=b.scaleName(n);const tc=P.orient;Pa=null!==(g=null!==(p=C[Pa])&&void 0!==p?p:C.size)&&void 0!==g?g:Yb("size",P,v,{vgChannel:Pa});a="bar"===a&&("x"===n?"vertical"===tc:"horizontal"===tc);if(!dd(Xa)||!(wa(Xa.bin)||cb(Xa.bin)||Xa.timeUnit&&!fa)||Pa&&!xc(Pa)||Kb in Fc){if((E(Xa)&&Kb in Fc||a)&&!fa){{const {markDef:Yc,
encoding:pd,config:$c,stack:ae}=b;kb=Yc.orient;oc=b.scaleName(n);var Qc=b.getScaleComponent(n),Xc=X(n);fa=ca(n);kb="horizontal"===kb&&"y"===n||"vertical"===kb&&"x"===n;var Ec;if(pd.size||Yc.size)kb?Ec=Ff("size",b,{vgChannel:Xc,defaultRef:Fb(Yc.size)}):pb(`Cannot apply size to non-oriented mark "${Yc.type}".`);g=Ge({channel:n,fieldDef:Xa,markDef:Yc,config:$c,scaleType:null===Qc||void 0===Qc?void 0:Qc.get("type"),useVlSizeChannel:kb});Ec=Ec||{[Xc]:cj(Xc,oc,Qc,$c,g)};kb="band"===(null===Qc||void 0===
Qc?void 0:Qc.get("type"))&&"band"in Ec[Xc]?"top":"middle";kb=aj(n,Yc,$c,kb);p="xc"===kb||"yc"===kb;a=Oh(n,Yc);n=Nc({channel:n,channelDef:Xa,markDef:Yc,config:$c,scaleName:oc,scale:Qc,stack:ae,offset:a,defaultRef:Rh({model:b,defaultPos:"mid",channel:n,scaleName:oc,scale:Qc}),bandPosition:p?.5:Da(g)?{signal:`(1-${g})/2`}:xc(g)?(1-g.band)/2:0});Xc?n={[kb]:n,...Ec}:(Xa=da(fa),Ec=Ec[Xc],Ec=a?{...Ec,offset:a}:Ec,n={[kb]:n,[Xa]:z.isArray(n)?[n[0],{...n[1],offset:Ec}]:{...n,offset:Ec}})}return n}return bj(n,
b,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}Ec=Ge({channel:n,fieldDef:Xa,markDef:P,config:v,scaleType:Kb});b=null===(Qc=b.component.axes[n])||void 0===Qc?void 0:Qc[0];b=null!==(Xc=null===b||void 0===b?void 0:b.get("translate"))&&void 0!==Xc?Xc:.5;return Ak({fieldDef:Xa,fieldDef2:fa,channel:n,markDef:P,scaleName:oc,bandSize:Ec,axisTranslate:b,spacing:n in xf?Yb("binSpacing",P,v):void 0,reverse:kb.get("reverse"),config:v})}function cj(b,n,a,g,p){if(xc(p))if(a){const v=a.get("type");if("band"===
v)return{scale:n,band:p.band};1!==p.band&&pb(`Cannot use the relative band size with ${v} scale.`)}else return{mult:p.band,field:{group:b}};else{if(Da(p))return p;if(p)return{value:p}}return a&&(n=a.get("range"),sb(n)&&z.isNumber(n.step))?{value:n.step-2}:{value:zc(g.view,b)-2}}function si(b,n,a,g,p){if(b in Mh)return 0;b="x"===b||"y2"===b?-n/2:n/2;if(Da(a)||Da(p)||Da(g))return a=Lb(a),p=Lb(p),g=Lb(g),{signal:(g?`${g} + `:"")+(a?`(${a} ? -1 : 1) * `:"")+(p?`(${p} + ${b})`:b)};p=p||0;return g+(a?-p-
b:+p+b)}function Ak({fieldDef:b,fieldDef2:n,channel:a,bandSize:g,scaleName:p,markDef:v,spacing:C=0,axisTranslate:P,reverse:fa,config:Pa}){const Xa=ca(a),kb=da(a),Kb=da(Xa),oc=Oh(a,v);g=Da(g)?{signal:`(1-${g.signal})/2`}:xc(g)?(1-g.band)/2:.5;if(wa(b.bin)||b.timeUnit)return{[Kb]:fi({channel:a,fieldDef:b,scaleName:p,markDef:v,bandPosition:g,offset:si(Xa,C,fa,P,oc),config:Pa}),[kb]:fi({channel:a,fieldDef:b,scaleName:p,markDef:v,bandPosition:Da(g)?{signal:`1-${g.signal}`}:1-g,offset:si(a,C,fa,P,oc),config:Pa})};
if(cb(b.bin)){v=cd(b,p,{},{offset:si(Xa,C,fa,P,oc)});if(dd(n))return{[Kb]:v,[kb]:cd(n,p,{},{offset:si(a,C,fa,P,oc)})};if(z.isObject(b.bin)&&b.bin.step)return{[Kb]:v,[kb]:{signal:`scale("${p}", ${fc(b,{expr:"datum"})} + ${b.bin.step})`,offset:si(a,C,fa,P,oc)}}}pb(Za(Xa))}function fi({channel:b,fieldDef:n,scaleName:a,markDef:g,bandPosition:p,offset:v,config:C}){a=Vb({scaleName:a,fieldOrDatumDef:n,bandPosition:p,offset:v});return Wb({fieldDef:n,channel:b,markDef:g,ref:a,config:C})}function df(b,n){const {fill:a,
stroke:g}="include"===n.color?Qj(b):{};n={...bi(b.markDef,n)};var p={...Cf(b,"fill",a)},v={...Cf(b,"stroke",g)},C={...Ff("opacity",b)},P={...Ff("fillOpacity",b)},fa={...Ff("strokeOpacity",b)},Pa={...Ff("strokeWidth",b)},Xa={...Ff("strokeDash",b)},kb={...lh(b)},Kb={...oi(b)},oc={...Zj(b,"href")};{const {markDef:Qc,config:Xc}=b,Ec=Yb("aria",Qc,Xc);if(!1===Ec)b={};else{{const {mark:Yc,markDef:pd,config:$c}=b;if(!1===$c.aria)var tc={};else tc=Yb("ariaRoleDescription",pd,$c),tc=null!=tc?{ariaRoleDescription:{value:tc}}:
Yc in ph?{}:{ariaRoleDescription:{value:Yc}}}b={...(Ec?{aria:Ec}:{}),...tc,...Lj(b)}}}return{...n,...p,...v,...C,...P,...fa,...Pa,...Xa,...kb,...Kb,...oc,...b}}function Cf(b,n,a){const {config:g,mark:p,markDef:v}=b;return"hide"===Yb("invalid",v,g)&&a&&!ic(p)&&(b=zi(b,{invalid:!0,channels:qh}))?{[n]:[{test:b,value:null},...z.array(a)]}:a?{[n]:a}:{}}function bi(b,n){return qi.reduce((a,g)=>{mn.has(g)||void 0===b[g]||"ignore"===n[g]||(a[g]=Fb(b[g]));return a},{})}function zi(b,{invalid:n=!1,channels:a}){a=
a.reduce((g,p)=>{var v=b.getScaleComponent(p);v&&(v=v.get("type"),(p=b.vgField(p,{expr:"datum"}))&&v in Hc&&(g[p]=!0));return g},{});a=id(a);if(0<a.length){const g=n?"||":"\x26\x26";return a.map(p=>sd(p,n)).join(` ${g} `)}}function xh(b){const {config:n,markDef:a}=b;return Yb("invalid",a,n)&&(b=rj(b,{channels:ng}))?{defined:{signal:b}}:{}}function rj(b,{invalid:n=!1,channels:a}){a=a.reduce((g,p)=>{var v=b.getScaleComponent(p);v&&(v=v.get("type"),(p=b.vgField(p,{expr:"datum"}))&&v in Hc&&(g[p]=!0));
return g},{});a=id(a);if(0<a.length){const g=n?"||":"\x26\x26";return a.map(p=>sd(p,n)).join(` ${g} `)}}function hk(b,n){if(void 0!==n)return{[b]:Fb(n)}}function Ai(b,n,a,g,p){var v,C,P=n.name,fa=P+"_translate_anchor";P+="_translate_delta";var Pa=a.channel;const Xa=Zh.defined(n);n=p.filter(Kb=>Kb.name===a.signals[Xa?"data":"visual"])[0];g=b.getSizeSignalRef(g).signal;b=b.getScaleComponent(Pa);p=b.get("type");var kb=b.get("reverse");fa=`${fa}.extent_${Pa}`;Pa=`${Xa?"x"===Pa?kb?"":"-":kb?"-":"":""}${P}.${Pa} / ${Xa?
`${g}`:`span(${fa})`}`;kb=Xa?"log"===p?"panLog":"symlog"===p?"panSymlog":"pow"===p?"panPow":"panLinear":"panLinear";b=Xa?"pow"===p?`, ${null!==(v=b.get("exponent"))&&void 0!==v?v:1}`:"symlog"===p?`, ${null!==(C=b.get("constant"))&&void 0!==C?C:1}`:"":"";v=`${kb}(${fa}, ${Pa}${b})`;n.on.push({events:{signal:P},update:Xa?v:`clampRange(${v}, 0, ${g})`})}function tj(b,n,a,g,p){var v,C,P=n.name,fa=a.channel;const Pa=Zh.defined(n);n=p.filter(Kb=>Kb.name===a.signals[Pa?"data":"visual"])[0];g=b.getSizeSignalRef(g).signal;
p=b.getScaleComponent(fa);const Xa=p.get("type"),kb=Pa?Oj(b,fa):n.name;b=P+"_zoom_delta";P=`${P}${"_zoom_anchor"}.${fa}`;fa=Pa?"log"===Xa?"zoomLog":"symlog"===Xa?"zoomSymlog":"pow"===Xa?"zoomPow":"zoomLinear":"zoomLinear";p=Pa?"pow"===Xa?`, ${null!==(v=p.get("exponent"))&&void 0!==v?v:1}`:"symlog"===Xa?`, ${null!==(C=p.get("constant"))&&void 0!==C?C:1}`:"":"";v=`${fa}(${kb}, ${P}, ${b}${p})`;n.on.push({events:{signal:b},update:Pa?v:`clampRange(${v}, 0, ${g})`})}function Zg(b,{escape:n}={escape:!0}){n=
n?z.stringValue(b.name):b.name;for(b=b.parent;b&&!Mf(b);)b=b.parent;if(b){const {facet:a}=b;for(const g of $e)a[g]&&(n+=` + '__facet_${g}_' + (facet[${z.stringValue(b.vgField(g))}])`)}return n}function yh(b){var n;return yf(null!==(n=b.component.selection)&&void 0!==n?n:{}).reduce((a,g)=>a||g.project.items.some(p=>"_vgsid_"===p.field),!1)}function $g(b,n){!Ra.isString(n.select)&&n.select.on||delete b.events;!Ra.isString(n.select)&&n.select.clear||delete b.clear;!Ra.isString(n.select)&&n.select.toggle||
delete b.toggle}function Vf(b){this.type=b}function sj(b){switch(b.type){case "ArrayExpression":return b.elements;case "BinaryExpression":case "LogicalExpression":return[b.left,b.right];case "CallExpression":return[b.callee].concat(b.arguments);case "ConditionalExpression":return[b.test,b.consequent,b.alternate];case "MemberExpression":return[b.object,b.property];case "ObjectExpression":return b.properties;case "Property":return[b.key,b.value];case "UnaryExpression":return[b.argument];default:return[]}}
function Ag(b,n){if(!b)throw Error("ASSERT: "+n);}function ig(b){return 48<=b&&57>=b}function tg(b){return 0<="0123456789abcdefABCDEF".indexOf(b)}function ah(b){return 0<="01234567".indexOf(b)}function rg(b){return 10===b||13===b||8232===b||8233===b}function sg(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||92===b||128<=b&&nn.test(String.fromCharCode(b))}function di(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||48<=b&&57>=b||92===b||128<=b&&on.test(String.fromCharCode(b))}function Mg(){for(;Zc<
Yf;){const b=de.charCodeAt(Zc);if(32===b||9===b||11===b||12===b||160===b||5760<=b&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)||rg(b))++Zc;else break}}function ci(b){var n=0;var a="u"===b?4:2;for(b=0;b<a;++b)if(Zc<Yf&&tg(de[Zc])){var g=de[Zc++];n=16*n+"0123456789abcdef".indexOf(g.toLowerCase())}else Re({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(n)}function jk(){var b=de.charCodeAt(Zc++);var n=String.fromCharCode(b);92===
b&&(117!==de.charCodeAt(Zc)&&Re({},"Unexpected token %0","ILLEGAL"),++Zc,(b=ci("u"))&&"\\"!==b&&sg(b.charCodeAt(0))||Re({},"Unexpected token %0","ILLEGAL"),n=b);for(;Zc<Yf;){b=de.charCodeAt(Zc);if(!di(b))break;++Zc;n+=String.fromCharCode(b);92===b&&(n=n.substr(0,n.length-1),117!==de.charCodeAt(Zc)&&Re({},"Unexpected token %0","ILLEGAL"),++Zc,(b=ci("u"))&&"\\"!==b&&di(b.charCodeAt(0))||Re({},"Unexpected token %0","ILLEGAL"),n+=b)}return n}function Bi(){var b=Zc,n=de.charCodeAt(Zc),a=de[Zc];switch(n){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Zc,
{type:7,value:String.fromCharCode(n),start:b,end:Zc};default:var g=de.charCodeAt(Zc+1);if(61===g)switch(n){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Zc+=2,{type:7,value:String.fromCharCode(n)+String.fromCharCode(g),start:b,end:Zc};case 33:case 61:return Zc+=2,61===de.charCodeAt(Zc)&&++Zc,{type:7,value:de.slice(b,Zc),start:b,end:Zc}}}n=de.substr(Zc,4);if("\x3e\x3e\x3e\x3d"===n)return Zc+=4,{type:7,value:n,start:b,end:Zc};n=n.substr(0,3);if("\x3e\x3e\x3e"===
n||"\x3c\x3c\x3d"===n||"\x3e\x3e\x3d"===n)return Zc+=3,{type:7,value:n,start:b,end:Zc};n=n.substr(0,2);if(a===n[1]&&0<="+-\x3c\x3e\x26|".indexOf(a)||"\x3d\x3e"===n)return Zc+=2,{type:7,value:n,start:b,end:Zc};"//"===n&&Re({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(a))return++Zc,{type:7,value:a,start:b,end:Zc};Re({},"Unexpected token %0","ILLEGAL")}function uj(){var b=de[Zc];Ag(ig(b.charCodeAt(0))||"."===b,"Numeric literal must start with a decimal digit or a decimal point");
var n=Zc;var a="";if("."!==b){a=de[Zc++];b=de[Zc];if("0"===a){if("x"===b||"X"===b){++Zc;for(a="";Zc<Yf&&tg(de[Zc]);)a+=de[Zc++];0===a.length&&Re({},"Unexpected token %0","ILLEGAL");sg(de.charCodeAt(Zc))&&Re({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+a,16),start:n,end:Zc}}if(ah(b)){for(a="0"+de[Zc++];Zc<Yf&&ah(de[Zc]);)a+=de[Zc++];(sg(de.charCodeAt(Zc))||ig(de.charCodeAt(Zc)))&&Re({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(a,8),octal:!0,start:n,end:Zc}}b&&
ig(b.charCodeAt(0))&&Re({},"Unexpected token %0","ILLEGAL")}for(;ig(de.charCodeAt(Zc));)a+=de[Zc++];b=de[Zc]}if("."===b){for(a+=de[Zc++];ig(de.charCodeAt(Zc));)a+=de[Zc++];b=de[Zc]}if("e"===b||"E"===b){a+=de[Zc++];b=de[Zc];if("+"===b||"-"===b)a+=de[Zc++];if(ig(de.charCodeAt(Zc)))for(;ig(de.charCodeAt(Zc));)a+=de[Zc++];else Re({},"Unexpected token %0","ILLEGAL")}sg(de.charCodeAt(Zc))&&Re({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(a),start:n,end:Zc}}function ik(b,n){let a=b;
0<=n.indexOf("u")&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,(g,p)=>{if(1114111>=parseInt(p,16))return"x";Re({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(g){Re({},"Invalid regular expression")}try{return new RegExp(b,n)}catch(g){return null}}function Bf(){Mg();if(Zc>=Yf)return{type:2,start:Zc,end:Zc};var b=de.charCodeAt(Zc);if(sg(b)){b=Zc;if(92===de.charCodeAt(Zc))var n=jk();else a:{for(n=Zc++;Zc<Yf;){var a=de.charCodeAt(Zc);if(92===a){Zc=
n;n=jk();break a}if(di(a))++Zc;else break}n=de.slice(n,Zc)}return{type:1===n.length?3:pn.hasOwnProperty(n)?4:"null"===n?5:"true"===n||"false"===n?1:3,value:n,start:b,end:Zc}}if(40===b||41===b||59===b)return Bi();if(39===b||34===b){var g="";a=!1;b=de[Zc];Ag("'"===b||'"'===b,"String literal must starts with a quote");n=Zc;for(++Zc;Zc<Yf;){var p=de[Zc++];if(p===b){b="";break}else if("\\"===p)if((p=de[Zc++])&&rg(p.charCodeAt(0)))"\r"===p&&"\n"===de[Zc]&&++Zc;else switch(p){case "u":case "x":if("{"===
de[Zc]){++Zc;var v=de[Zc];p=0;for("}"===v&&Re({},"Unexpected token %0","ILLEGAL");Zc<Yf;){v=de[Zc++];if(!tg(v))break;p=16*p+"0123456789abcdef".indexOf(v.toLowerCase())}(1114111<p||"}"!==v)&&Re({},"Unexpected token %0","ILLEGAL");p=65535>=p?String.fromCharCode(p):String.fromCharCode((p-65536>>10)+55296,(p-65536&1023)+56320);g+=p}else g+=ci(p);break;case "n":g+="\n";break;case "r":g+="\r";break;case "t":g+="\t";break;case "b":g+="\b";break;case "f":g+="\f";break;case "v":g+="\x0B";break;default:ah(p)?
(v="01234567".indexOf(p),0!==v&&(a=!0),Zc<Yf&&ah(de[Zc])&&(a=!0,v=8*v+"01234567".indexOf(de[Zc++]),0<="0123".indexOf(p)&&Zc<Yf&&ah(de[Zc])&&(v=8*v+"01234567".indexOf(de[Zc++]))),g+=String.fromCharCode(v)):g+=p}else if(rg(p.charCodeAt(0)))break;else g+=p}""!==b&&Re({},"Unexpected token %0","ILLEGAL");return{type:8,value:g,octal:a,start:n,end:Zc}}return 46===b?ig(de.charCodeAt(Zc+1))?uj():Bi():ig(b)?uj():Bi()}function Of(){const b=Ve;Zc=b.end;Ve=Bf();Zc=b.end;return b}function hg(){const b=Zc;Ve=Bf();
Zc=b}function lk(b,n,a){const g=new Vf("||"===b||"\x26\x26"===b?"LogicalExpression":"BinaryExpression");g.operator=b;g.left=n;g.right=a;return g}function Pf(b){const n=new Vf("Identifier");n.name=b;return n}function Qg(b){const n=new Vf("Literal");n.value=b.value;n.raw=de.slice(b.start,b.end);b.regex&&("//"===n.raw&&(n.raw="/(?:)/"),n.regex=b.regex);return n}function bh(b,n,a){const g=new Vf("MemberExpression");g.computed="["===b;g.object=n;g.property=a;g.computed||(a.member=!0);return g}function Ig(b,
n,a){const g=new Vf("Property");g.key=n;g.value=a;g.kind=b;return g}function Re(b,n){var a=Array.prototype.slice.call(arguments,2),g=n.replace(/%(\d)/g,(v,C)=>{Ag(C<a.length,"Message reference must be in range");return a[C]});var p=Error(g);p.index=Zc;p.description=g;throw p;}function ch(b){2===b.type&&Re(b,"Unexpected end of input");6===b.type&&Re(b,"Unexpected number");8===b.type&&Re(b,"Unexpected string");3===b.type&&Re(b,"Unexpected identifier");4===b.type&&Re(b,"Unexpected reserved word");Re(b,
"Unexpected token %0",b.value)}function Gf(b){const n=Of();7===n.type&&n.value===b||ch(n)}function cf(b){return 7===Ve.type&&Ve.value===b}function zk(){Zc=Ve.start;const b=Of();return 8===b.type||6===b.type?(b.octal&&Re(b,"Octal literals are not allowed in strict mode."),Qg(b)):Pf(b.value)}function vj(){if(cf("(")){Gf("(");var b=Di();Gf(")");return b}if(cf("[")){b=[];Zc=Ve.start;for(Gf("[");!cf("]");)cf(",")?(Of(),b.push(null)):(b.push(Jg()),cf("]")||Gf(","));Of();var n=new Vf("ArrayExpression");
n.elements=b;return n}if(cf("{")){b=[];n={};var a=String;Zc=Ve.start;for(Gf("{");!cf("}");){Zc=Ve.start;var g=Ve;if(3===g.type){var p=zk();Gf(":");g=Jg();g=Ig("init",p,g)}else 2===g.type||7===g.type?(ch(g),g=void 0):(p=zk(),Gf(":"),g=Jg(),g=Ig("init",p,g));p="Identifier"===g.key.type?g.key.name:a(g.key.value);p="$"+p;Object.prototype.hasOwnProperty.call(n,p)?Re({},"Duplicate data property in object literal not allowed in strict mode"):n[p]=!0;b.push(g);cf("}")||Gf(",")}Gf("}");n=new Vf("ObjectExpression");
n.properties=b;return n}b=Ve.type;Zc=Ve.start;if(3===b||qn[Ve.value])n=Pf(Of().value);else if(8===b||6===b)Ve.octal&&Re(Ve,"Octal literals are not allowed in strict mode."),n=Qg(Of());else{if(4===b)throw Error("Disabled.");if(1===b)b=Of(),b.value="true"===b.value,n=Qg(b);else if(5===b)b=Of(),b.value=null,n=Qg(b);else if(cf("/")||cf("/\x3d")){var v;Ve=null;Mg();b=Zc;n=de[Zc];Ag("/"===n,"Regular expression literal must start with a slash");a=de[Zc++];for(p=g=!1;Zc<Yf;)if(n=de[Zc++],a+=n,"\\"===n)n=
de[Zc++],rg(n.charCodeAt(0))&&Re({},"Invalid regular expression: missing /"),a+=n;else if(rg(n.charCodeAt(0)))Re({},"Invalid regular expression: missing /");else if(g)"]"===n&&(g=!1);else if("/"===n){p=!0;break}else"["===n&&(g=!0);p||Re({},"Invalid regular expression: missing /");n=a.substr(1,a.length-2);for(v=p="";Zc<Yf;){g=de[Zc];if(!di(g.charCodeAt(0)))break;++Zc;"\\"===g&&Zc<Yf?Re({},"Unexpected token %0","ILLEGAL"):(v+=g,p+=g)}0<=v.search(/[^gimuy]/g)&&Re({},"Invalid regular expression",v);g=
v;v=ik(n,g);n=Qg({literal:a+p,value:v,regex:{pattern:n,flags:g},start:b,end:Zc});hg()}else ch(Of())}return n}function ei(){var b;for(b=vj();;)if(cf(".")){Gf(".");Zc=Ve.start;var n=Of();3===n.type||4===n.type||1===n.type||5===n.type||ch(n);n=Pf(n.value);b=bh(".",b,n)}else if(cf("(")){n=[];Gf("(");if(!cf(")"))for(;Zc<Yf;){n.push(Jg());if(cf(")"))break;Gf(",")}Gf(")");const a=new Vf("CallExpression");a.callee=b;a.arguments=n;b=a}else if(cf("["))Gf("["),n=Di(),Gf("]"),b=bh("[",b,n);else break;if(7===
Ve.type&&(cf("++")||cf("--")))throw Error("Disabled.");return b}function zh(){if(7!==Ve.type&&4!==Ve.type)var b=ei();else{if(cf("++")||cf("--"))throw Error("Disabled.");if(cf("+")||cf("-")||cf("~")||cf("!")){var n=Of();b=zh();n=n.value;const a=new Vf("UnaryExpression");a.operator=n;a.argument=b;a.prefix=!0;b=a}else{if(4===Ve.type&&"delete"===Ve.value||4===Ve.type&&"void"===Ve.value||4===Ve.type&&"typeof"===Ve.value)throw Error("Disabled.");b=ei()}}return b}function Ci(b){let n=0;if(7!==b.type&&4!==
b.type)return 0;switch(b.value){case "||":n=1;break;case "\x26\x26":n=2;break;case "|":n=3;break;case "^":n=4;break;case "\x26":n=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":n=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":n=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":n=8;break;case "+":case "-":n=9;break;case "*":case "/":case "%":n=11}return n}function Jg(){var b=Ve;var n=zh();var a=Ve;var g=Ci(a);if(0===
g)var p=n;else{a.prec=g;Of();b=[b,Ve];var v=zh();for(p=[n,a,v];0<(g=Ci(Ve));){for(;2<p.length&&g<=p[p.length-2].prec;)v=p.pop(),a=p.pop().value,n=p.pop(),b.pop(),n=lk(a,n,v),p.push(n);a=Of();a.prec=g;p.push(a);b.push(Ve);n=zh();p.push(n)}g=p.length-1;n=p[g];for(b.pop();1<g;)b.pop(),n=lk(p[g-1].value,p[g-2],n),g-=2;p=n}cf("?")&&(Of(),b=Jg(),Gf(":"),g=Jg(),n=new Vf("ConditionalExpression"),n.test=p,n.consequent=b,n.alternate=g,p=n);return p}function Di(){const b=Jg();if(cf(","))throw Error("Disabled.");
return b}function kk(b){de=b;Zc=0;Yf=de.length;Ve=null;hg();b=Di();if(2!==Ve.type)throw Error("Unexpect token after expression.");return b}function Sh(b){const n=[];if("Identifier"===b.type)return[b.name];if("Literal"===b.type)return[b.value];"MemberExpression"===b.type&&(n.push(...Sh(b.object)),n.push(...Sh(b.property)));return n}function Nj(b){return"MemberExpression"===b.object.type?Nj(b.object):"datum"===b.object.name}function dh(b){b=kk(b);const n=new Set;b.visit(a=>{"MemberExpression"===a.type&&
Nj(a)&&n.add(Sh(a).slice(1).join("."))});return n}function Ei(b,n,a,g="datum"){const p=z.isString(n)?n:n.param,v=Ta(p);var C=z.stringValue(v+"_store");let P;try{P=b.getSelectionComponent(v,p)}catch(fa){return`!!${v}`}P.project.timeUnit&&(b=null!==a&&void 0!==a?a:b.component.data.raw,a=P.project.timeUnit.clone(),b.parent?a.insertAsParentOf(b):b.parent=a);g=`vlSelectionTest(${C}, ${g}${"global"===P.resolve?")":`, ${z.stringValue(P.resolve)})`}`;C=`length(data(${C}))`;return!1===n.empty?`${C} && ${g}`:
`!${C} || ${g}`}function wj(b,n,a){const g=Ta(n),p=a.encoding;let v=a.field,C;try{C=b.getSelectionComponent(g,n)}catch(P){return g}p||v?p&&!v&&(b=C.project.items.filter(P=>P.channel===p),!b.length||1<b.length?(v=C.project.items[0].field,pb((b.length?"Multiple ":"No ")+`matching ${z.stringValue(p)} encoding found for selection ${z.stringValue(a.param)}. `+`Using "field": ${z.stringValue(v)}.`)):v=b[0].field):(v=C.project.items[0].field,1<C.project.items.length&&pb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
`Using "field": ${z.stringValue(v)}.`));return`${C.name}[${z.stringValue(Aa(v))}]`}function ti(b,n,a){return K(n,g=>z.isString(g)?g:(null===g||void 0===g?0:g.param)?Ei(b,g,a):be(g))}function Bk(b,n){if(b)return z.isArray(b)&&!ka(b)?b.map(a=>ck(a,n)).join(", "):b}function dj(b,n,a,g){var p,v,C,P,fa;null!==(p=b.encode)&&void 0!==p?p:b.encode={};null!==(C=(v=b.encode)[n])&&void 0!==C?C:v[n]={};null!==(fa=(P=b.encode[n]).update)&&void 0!==fa?fa:P.update={};b.encode[n].update[a]=g}function Th(b,n,a,g=
{header:!1}){const {disable:p,orient:v,scale:C,labelExpr:P,title:fa,zindex:Pa,...Xa}=b.combine();if(!p){for(const Qc in Xa){var kb=rn[Qc],Kb=Xa[Qc];if(kb&&kb!==n&&"both"!==kb)delete Xa[Qc];else if(If(Kb)){const {condition:Xc,...Ec}=Kb;Kb=z.array(Xc);if(kb=qm[Qc]){const {vgProp:Yc,part:pd}=kb;Kb=[...Kb.map($c=>{const {test:ae,...nd}=$c;return{test:ti(null,ae),...nd}}),Ec];dj(Xa,pd,Yc,Kb);delete Xa[Qc]}else null===kb&&(Kb={signal:Kb.map(Yc=>{const {test:pd,...$c}=Yc;return`${ti(null,pd)} ? ${eb($c)} : `}).join("")+
eb(Ec)},Xa[Qc]=Kb)}else if(Da(Kb)&&(kb=qm[Qc])){const {vgProp:Xc,part:Ec}=kb;dj(Xa,Ec,Xc,Kb);delete Xa[Qc]}Ha(["labelAlign","labelBaseline"],Qc)&&null===Xa[Qc]&&delete Xa[Qc]}if("grid"===n){if(Xa.grid)return Xa.encode&&({grid:a}=Xa.encode,Xa.encode={...(a?{grid:a}:{})},Qa(Xa.encode)&&delete Xa.encode),{scale:C,orient:v,...Xa,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:x(Pa,0)}}else if(g.header||!b.mainExtracted){if(void 0!==P){var oc,tc;n=P;null!==(oc=Xa.encode)&&void 0!==
oc&&null!==(tc=oc.labels)&&void 0!==tc&&tc.update&&Da(Xa.encode.labels.update.text)&&(n=ab(P,"datum.label",Xa.encode.labels.update.text.signal));dj(Xa,"labels","text",{signal:n})}null===Xa.labelAlign&&delete Xa.labelAlign;if(Xa.encode){for(const Qc of rm)b.hasAxisPart(Qc)||delete Xa.encode[Qc];Qa(Xa.encode)&&delete Xa.encode}b=Bk(fa,a);return{scale:C,orient:v,grid:!1,...(b?{title:b}:{}),...Xa,...(!1===a.aria?{aria:!1}:{}),zindex:x(Pa,0)}}}}function Bh(b){const {axes:n}=b.component,a=[];for(const g of ng)if(n[g])for(const p of n[g])if(!p.get("disable")&&
!p.get("gridScale")){const v="x"===g?"height":"width",C=b.getSizeSignalRef(v).signal;v!==C&&a.push({name:v,update:C})}return a}function mk(b,n){const {x:a=[],y:g=[]}=b;return[...a.map(p=>Th(p,"grid",n)),...g.map(p=>Th(p,"grid",n)),...a.map(p=>Th(p,"main",n)),...g.map(p=>Th(p,"main",n))].filter(p=>p)}function Ah(b,n,a,g){return Object.assign.apply(null,[{},...b.map(p=>{if("axisOrient"===p){p="x"===a?"bottom":"left";const v=n["x"===a?"axisBottom":"axisLeft"]||{},C=n["x"===a?"axisTop":"axisRight"]||
{},P=new Set([...id(v),...id(C)]),fa={};for(const Pa of P.values())fa[Pa]={signal:`${g.signal} === "${p}" ? ${Lb(v[Pa])} : ${Lb(C[Pa])}`};return fa}return n[p]})])}function Fi(b,n,a,g){var p="band"===n?["axisDiscrete","axisBand"]:"point"===n?["axisDiscrete","axisPoint"]:n in mb?["axisQuantitative"]:"time"===n||"utc"===n?["axisTemporal"]:[];const v="x"===b?"axisX":"axisY";n=Da(a)?"axisOrient":`axis${ya(a)}`;p=[...p,...p.map(C=>v+C.substr(4))];n=["axis",n,v];return{vlOnlyAxisConfig:Ah(p,g,b,a),vgAxisConfig:Ah(n,
g,b,a),axisConfigStyle:zj([...n,...p],g)}}function zj(b,n){const a=[{}];for(const p of b){var g;if(b=null===(g=n[p])||void 0===g?void 0:g.style){b=z.array(b);for(const v of b)a.push(n.style[v])}}return Object.assign.apply(null,a)}function cg(b,n,a,g={}){n=hd(b,a,n);if(void 0!==n)return{configFrom:"style",configValue:n};for(const v of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var p;if(void 0!==(null===(p=g[v])||void 0===p?void 0:p[b]))return{configFrom:v,configValue:g[v][b]}}return{}}function Lg(b,
n,a,g,p){const v=null===n||void 0===n?void 0:n.labelAngle;if(void 0!==v)return Da(v)?v:R(v);({configValue:n}=cg("labelAngle",g,null===n||void 0===n?void 0:n.style,p));if(void 0!==n)return R(n);if("x"===a&&Ha(["nominal","ordinal"],b.type)&&(!dd(b)||!b.timeUnit))return 270}function ug(b){return`(((${b.signal} % 360) + 360) % 360)`}function Bg(b,n,a,g){if(void 0!==b)return"x"===a?Da(b)?(g=ug(b),n=Da(n)?`(${n.signal} === "top")`:"top"===n,{signal:`(45 < ${g} && ${g} < 135) || (225 < ${g} && ${g} < 315) ? "middle" :`+
`(${g} <= 45 || 315 <= ${g}) === ${n} ? "bottom" : "top"`}):45<b&&135>b||225<b&&315>b?"middle":Da(n)?{signal:`${n.signal} ${45>=b||315<=b?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=b||315<=b)===("top"===n)?"bottom":"top":Da(b)?(b=ug(b),n=Da(n)?`(${n.signal} === "left")`:"left"===n,{signal:`${b} <= 45 || 315 <= ${b} || (135 <= ${b} && ${b} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${b} && ${b} <= 135) === ${n} ? "top" : "bottom"`}):45>=b||315<=b||135<=b&&225>=b?g?"middle":null:Da(n)?
{signal:`${n.signal} ${45<=b&&135>=b?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=b&&135>=b)===("left"===n)?"top":"bottom"}function Ch(b,n,a){if(void 0!==b){var g=(a="x"===a)?0:90,p=a?"bottom":"left";return Da(b)?(b=ug(b),n=Da(n)?`(${n.signal} === "${p}")`:n===p,{signal:`(${g?`(${b} + 90)`:b} % 180 === 0) ? ${a?null:'"center"'} :`+`(${g} < ${b} && ${b} < ${180+g}) === ${n} ? "left" : "right"`}):0===(b+g)%180?a?null:"center":Da(n)?{signal:`${`${n.signal} ${g<b&&b<180+g?"\x3d\x3d\x3d":
"!\x3d\x3d"} "${p}"`} ? "left" : "right"`}:(g<b&&b<180+g)===(n===p)?"left":"right"}}function gi({fieldOrDatumDef:b,scaleType:n,size:a,values:g}){if(!(g||n in Fc)&&"log"!==n){if(dd(b)){var p;if(wa(b.bin))return{signal:`ceil(${a.signal}/10)`};if(b.timeUnit&&Ha(["month","hours","day","quarter"],null===(p=od(b.timeUnit))||void 0===p?void 0:p.unit))return}return{signal:`ceil(${a.signal}/40)`}}}function Dh(b,n){var a="x"===n?"x2":"y2";n=b.fieldDef(n);b=b.fieldDef(a);a=n?n.title:void 0;b=b?b.title:void 0;
if(a&&b)return jd(a,b);if(a)return a;if(b)return b;if(void 0!==a)return a;if(void 0!==b)return b}function Kg(b,n,a){return fc(b,{prefix:n,suffix:"sort_index",...(null!==a&&void 0!==a?a:{})})}function Gi(b,n){return Ha(["top","bottom"],n)?"column":Ha(["left","right"],n)?"row":"row"===b?"row":"column"}function eh(b,n,a,g){return x((n||{})[b],("row"===g?a.headerRow:"column"===g?a.headerColumn:a.headerFacet)[b],a.header[b])}function hi(b,n,a,g){const p={};for(const v of b)b=eh(v,n||{},a,g),void 0!==b&&
(p[v]=b);return p}function Hi(b,n,a="middle"){switch(a){case "start":return{align:"left"};case "end":return{align:"right"}}return(b=Ch(n,"row"===b?"left":"top","row"===b?"y":"x"))?{align:b}:{}}function Ck(b,n){return(b=Bg(b,"row"===n?"left":"top","row"===n?"y":"x",!0))?{baseline:b}:{}}function ej(b,n,a){const {format:g,formatType:p,labelAngle:v,labelAnchor:C,labelOrient:P,labelExpr:fa}=hi("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),b.header,a,n),Pa=ie({fieldOrDatumDef:b,
format:g,formatType:p,expr:"parent",config:a}).signal,Xa=Gi(n,P);return{text:{signal:fa?ab(ab(fa,"datum.label",Pa),"datum.value",fc(b,{expr:"parent"})):Pa},...("row"===n?{orient:"left"}:{}),style:"guide-label",frame:"group",...Ck(v,Xa),...Hi(Xa,v,C),...fj(a,b,n,sn,sm)}}function fj(b,n,a,g,p){const v={};for(const C of g)p[C]&&(g=eh(C,null===n||void 0===n?void 0:n.header,b,a),void 0!==g&&(v[p[C]]=g));return v}function Aj(b){return[...Ii(b,"width"),...Ii(b,"height"),...Ii(b,"childWidth"),...Ii(b,"childHeight")]}
function Ii(b,n){var a="width"===n?"x":"y",g=b.component.layoutSize.get(n);if(!g||"merged"===g)return[];n=b.getSizeSignalRef(n).signal;if("step"===g){if(g=b.getScaleComponent(a)){var p=g.get("type");const v=g.get("range");if(p in Fc&&sb(v))return p=b.scaleName(a),Mf(b.parent)&&"independent"===b.parent.component.resolve.scale[a]?[{name:`${p}_step`,value:v.step}]:[{name:`${p}_step`,value:v.step},{name:n,update:ii(p,g,`domain('${p}').length`)}]}throw Error("layout size is step although width/height is not step.");
}return"container"==g?(a=(g=n.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",b=Dc(b.config.view,g?"width":"height"),b=`isFinite(${a}) ? ${a} : ${b}`,[{name:n,init:b,on:[{update:b,events:"window:resize"}]}]):[{name:n,value:g}]}function ii(b,n,a){const g=n.get("type"),p=n.get("padding"),v=x(n.get("paddingOuter"),p);n=n.get("paddingInner");return`bandspace(${a}, ${Lb("band"===g?void 0!==n?n:p:1)}, ${Lb(v)}) * ${b}_step`}function Eh(b){return"childWidth"===b?"width":"childHeight"===b?"height":
b}function Dk(b,n){return id(b).reduce((a,g)=>({...a,...Tg(n,b[g],g,p=>Fb(p.value))}),{})}function nk(b,n){if(uf(n)||Mf(n))return"shared";if(wg(n))return b in xf?"independent":"shared";throw Error("invalid model type for resolve");}function Ji(b,n){const a=n in xf?"axis":"legend";return"independent"===b.scale[n]?("shared"===b[a][n]&&pb(`Setting the scale to be independent for "${n}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):b[a][n]||"shared"}function Bj(b){return Ki(b,
(n,a)=>Math.max(n,a.value))}function ji(b){return Ki(b,(n,a)=>x(n,a.value))}function Ki(b,n){const a=b&&b.condition;if(a&&(z.isArray(a)||Ma(a)))return z.array(b.condition).reduce(n,b.value);if(Ma(b))return b.value}function Zi(b,n,a){b=n.get("selections");if(null!==b&&void 0!==b&&b.length){var g=z.stringValue(a.field);return b.map(p=>`(!length(data(${z.stringValue(Ta(p)+"_store")})) || (${p}[${g}] && indexof(${p}[${g}], datum.value) >= 0))`).join(" || ")}}function Vj({channel:b,timeUnit:n,scaleType:a}){if(Ca(b)){if(Ha(["quarter",
"month","day"],n))return"symbol";if(a in ja)return"gradient"}return"symbol"}function Tj({legendConfig:b,legendType:n,orient:a,legend:g}){var p,v;if(null!==(p=null!==(v=g.direction)&&void 0!==v?v:b[n?"gradientDirection":"symbolDirection"])&&void 0!==p)b=p;else a:switch(a){case "top":case "bottom":b="horizontal";break a;case "left":case "right":case "none":case void 0:b=void 0;break a;default:b="gradient"===n?"horizontal":void 0}return b}function gl({legendConfig:b,model:n,direction:a,orient:g,scaleType:p}){const {gradientHorizontalMaxLength:v,
gradientHorizontalMinLength:C,gradientVerticalMaxLength:P,gradientVerticalMinLength:fa}=b;if(p in ja)return"horizontal"===a?"top"===g||"bottom"===g?gj(n,"width",C,v):C:gj(n,"height",fa,P)}function gj(b,n,a,g){return{signal:`clamp(${b.getSizeSignalRef(n).signal}, ${a}, ${g})`}}function Cg(b){var n;if(of(b)){var {encoding:a}=b,g={};for(const pd of["color",...tm]){var p=Nd(a[pd]);if(p&&b.getScaleComponent(pd)&&("shape"!==pd||!dd(p)||"geojson"!==p.type)){{p=void 0;var v=void 0,C=void 0,P=void 0;var fa=
void 0;var Pa=b,Xa=pd;let $c=Pa.legend(Xa);const {markDef:ae,encoding:nd,config:jf}=Pa;var kb=jf.legend;b:{var Kb=Pa;var oc=Xa,tc=Kb.scaleName(oc);if("trail"===Kb.mark){if("color"===oc){Kb={stroke:tc};break b}if("size"===oc){Kb={strokeWidth:tc};break b}}Kb="color"===oc?Kb.markDef.filled?{fill:tc}:{stroke:tc}:{[oc]:tc}}Kb=new tn({},Kb);oc=null===(v=Pa.fieldDef(Xa))||void 0===v?void 0:v.field;for(const Oe of yf(null!==(n=Pa.component.selection)&&void 0!==n?n:{})){var Qc;if((v=null!==(Qc=Oe.project.hasField[oc])&&
void 0!==Qc?Qc:Oe.project.hasChannel[Xa])&&um.defined(Oe)){var Xc;tc=null!==(Xc=Kb.get("selections"))&&void 0!==Xc?Xc:[];tc.push(Oe.name);Kb.set("selections",tc,!1);v.hasLegend=!0}}v=void 0!==$c?!$c:kb.disable;Kb.set("disable",v,void 0!==$c);if(v)p=Kb;else{$c=$c||{};oc=Pa.getScaleComponent(Xa).get("type");v=Nd(nd[Xa]);var Ec=dd(v)?null===(fa=od(v.timeUnit))||void 0===fa?void 0:fa.unit:void 0;tc=$c.orient||jf.legend.orient||"right";fa={legend:$c,channel:Xa,timeUnit:Ec,scaleType:oc};({legend:Ec}=fa);
fa=x(Ec.type,Vj(fa));Ec=Tj({legend:$c,legendType:fa,orient:tc,legendConfig:kb});kb={legend:$c,channel:Xa,model:Pa,markDef:ae,encoding:nd,fieldOrDatumDef:v,legendConfig:kb,config:jf,scaleType:oc,orient:tc,legendType:fa,direction:Ec};for(const Oe of vm)if(!("gradient"===fa&&Oe.startsWith("symbol")||"symbol"===fa&&Oe.startsWith("gradient"))&&(oc=Oe in wm?wm[Oe](kb):$c[Oe],void 0!==oc)){b:{tc=Pa.fieldDef(Xa);switch(Oe){case "disable":tc=void 0!==$c;break b;case "values":tc=!(null===$c||void 0===$c||!$c.values);
break b;case "title":if("title"===Oe&&oc===(null===tc||void 0===tc?void 0:tc.title)){tc=!0;break b}}tc=oc===($c||{})[Oe]}(tc||void 0===jf.legend[Oe])&&Kb.set(Oe,oc,tc)}kb=null!==(P=null===(C=$c)||void 0===C?void 0:C.encoding)&&void 0!==P?P:{};C=Kb.get("selections");P={};Xa={fieldOrDatumDef:v,model:Pa,channel:Xa,legendCmpt:Kb,legendType:fa};for(const Oe of"labels legend title symbols gradient entries".split(" ")){var Yc;fa=Dk(null!==(Yc=kb[Oe])&&void 0!==Yc?Yc:{},Pa);fa=Oe in xm?xm[Oe](fa,Xa):fa;void 0===
fa||Qa(fa)||(P[Oe]={...(null!==C&&void 0!==C&&C.length&&dd(v)?{name:`${Ta(v.field)}_legend_${Oe}`}:{}),...(null!==C&&void 0!==C&&C.length?{interactive:!!C}:{}),update:fa})}Qa(P)||Kb.set("encode",P,!(null===(p=$c)||void 0===p||!p.encoding));p=Kb}}g[pd]=p}}n=g}else{const {legends:pd,resolve:$c}=b.component;for(a of b.children){Cg(a);for(g of id(a.component.legends))$c.legend[g]=Ji(b.component.resolve,g),"shared"===$c.legend[g]&&(pd[g]=ki(pd[g],a.component.legends[g]),pd[g]||($c.legend[g]="independent",
delete pd[g]))}for(p of id(pd))for(Pa of b.children)Pa.component.legends[p]&&"shared"===$c.legend[p]&&delete Pa.component.legends[p];n=pd}return b.component.legends=n}function ki(b,n){if(!b)return n.clone();var a=b.getWithExplicit("orient");const g=n.getWithExplicit("orient");if(!a.explicit||!g.explicit||a.value===g.value){var p=!1;for(const Pa of vm)a=re(b.getWithExplicit(Pa),n.getWithExplicit(Pa),Pa,"legend",(Xa,kb)=>{switch(Pa){case "symbolType":return Xa="circle"===kb.value?kb:Xa,Xa;case "title":return fe(Xa,
kb);case "type":return p=!0,se("symbol")}return Ke(Xa,kb,Pa,"legend")}),b.setWithExplicit(Pa,a);if(p){var v,C,P,fa;null!==(v=b.implicit)&&void 0!==v&&null!==(C=v.encode)&&void 0!==C&&C.gradient&&ia(b.implicit,["encode","gradient"]);null!==(P=b.explicit)&&void 0!==P&&null!==(fa=P.encode)&&void 0!==fa&&fa.gradient&&ia(b.explicit,["encode","gradient"])}return b}}function Fh(b){const n=b.component.legends,a={};for(const p of id(n)){var g=b.getScaleComponent(p);g=Te(g.get("domains"));if(a[g])for(const v of a[g])ki(v,
n[p])||a[g].push(n[p]);else a[g]=[n[p].clone()]}return yf(a).flat().map(p=>{{var v=b.config,C;const {disable:Qc,labelExpr:Xc,selections:Ec,...Yc}=p.combine();if(Qc)var P=void 0;else{!1===v.aria&&void 0==Yc.aria&&(Yc.aria=!1);if(null!==(C=Yc.encode)&&void 0!==C&&C.symbols){p=Yc.encode.symbols.update;!p.fill||"transparent"===p.fill.value||p.stroke||Yc.stroke||(p.stroke={value:"transparent"});for(var fa of tm)Yc[fa]&&delete p[fa]}Yc.title||delete Yc.title;if(void 0!==Xc){var Pa,Xa;fa=Xc;null!==(Pa=Yc.encode)&&
void 0!==Pa&&null!==(Xa=Pa.labels)&&void 0!==Xa&&Xa.update&&Da(Yc.encode.labels.update.text)&&(fa=ab(Xc,"datum.label",Yc.encode.labels.update.text.signal));Pa=Yc;Xa={signal:fa};var kb,Kb,oc,tc;null!==(P=Pa.encode)&&void 0!==P?P:Pa.encode={};null!==(Kb=(kb=Pa.encode).labels)&&void 0!==Kb?Kb:kb.labels={};null!==(tc=(oc=Pa.encode.labels).update)&&void 0!==tc?tc:oc.update={};Pa.encode.labels.update.text=Xa}P=Yc}}return P}).filter(p=>void 0!==p)}function Ng(b){return b.children.reduce((n,a)=>n.concat(a.assembleProjections()),
Li(b))}function Li(b){var n=b.component.projection;if(!n||n.merged)return[];const a=n.combine(),{name:g}=a;if(n.data){const p={signal:`[${n.size.map(v=>v.signal).join(", ")}]`};n=n.data.reduce((v,C)=>{C=Da(C)?C.signal:`data('${b.lookupDataSource(C)}')`;v.includes(C)||v.push(C);return v},[]);if(0>=n.length)throw Error("Projection's fit didn't find any data sources");return[{name:g,size:p,fit:{signal:1<n.length?`[${n.join(", ")}]`:n[0]},...a}]}return[{name:g,translate:{signal:"[width / 2, height / 2]"},
...a}]}function li(b){var n=b.component,a;if(of(b))if(b.hasProjection){const v=G(b.specifiedProjection);var g=!(v&&(null!=v.scale||null!=v.translate));const C=g?[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]:void 0;if(g){g=[];const {encoding:P}=b;for(p of[["longitude","latitude"],["longitude2","latitude2"]])(Nd(P[p[0]])||Nd(P[p[1]]))&&g.push({signal:b.getName(`geojson_${g.length}`)});b.channelHasField("shape")&&"geojson"===b.typedFieldDef("shape").type&&g.push({signal:b.getName(`geojson_${g.length}`)});
0===g.length&&g.push(b.requestDataName(nf.Main));var p=g}else p=void 0;b=new ym(b.projectionName(!0),{...(null!==(a=G(b.config.projection))&&void 0!==a?a:{}),...(null!==v&&void 0!==v?v:{})},C,p);b.get("type")||b.set("type","equalEarth",!1);a=b}else a=void 0;else a=ml(b);n.projection=a}function ll(b,n){const a=xa(un,g=>!z.hasOwnProperty(b.explicit,g)&&!z.hasOwnProperty(n.explicit,g)||z.hasOwnProperty(b.explicit,g)&&z.hasOwnProperty(n.explicit,g)&&Tf(b.get(g),n.get(g))?!0:!1);if(Tf(b.size,n.size)){if(a)return b;
if(Tf(b.explicit,{}))return n;if(Tf(n.explicit,{}))return b}return null}function ml(b){if(0!==b.children.length){var n;for(var a of b.children)li(a);a=xa(b.children,g=>{if(g=g.component.projection){if(n)return(g=ll(n,g))&&(n=g),!!g;n=g}return!0});if(n&&a){a=b.projectionName(!0);const g=new ym(a,n.specifiedProjection,n.size,Ae(n.data));for(const p of b.children)if(b=p.component.projection)b.isFit&&g.data.push(...p.component.projection.data),p.renameProjection(b.get("name"),a),b.merged=!0;return g}}}
function Cj(b,n,a){var g;a=null!==(g=Xe(a,void 0))&&void 0!==g?g:{};n=`${U(a)}_${n}`;return b.getName(`${n}_bins`)}function Mi(b,n,a){let g;g="as"in b?z.isString(b.as)?[b.as,`${b.as}_end`]:[b.as[0],b.as[1]]:[fc(b,{forAs:!0}),fc(b,{binSuffix:"end",forAs:!0})];n={...Xe(n,void 0)};var p=b.field;p=`${U(n)}_${p}`;var v={signal:a.getName(`${p}_bins`),extentSignal:a.getName(`${p}_extent`)};const {signal:C,extentSignal:P}=v;if(gb(n.extent)){var fa=n.extent;fa=wj(a,fa.param,fa);delete n.extent}return{key:p,
binComponent:{bin:n,field:b.field,as:[g],...(C?{signal:C}:{}),...(P?{extentSignal:P}:{}),...(fa?{span:fa}:{})}}}function Uh(b){return"'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):b}function nl(b,n){b=ua(b);if("number"===n)return`toNumber(${b})`;if("boolean"===n)return`toBoolean(${b})`;if("string"===n)return`toString(${b})`;if("date"===n)return`toDate(${b})`;if("flatten"===n)return b;if(n.startsWith("date:"))return n=Uh(n.slice(5,n.length)),`timeParse(${b},'${n}')`;
if(n.startsWith("utc:"))return n=Uh(n.slice(4,n.length)),`utcParse(${b},'${n}')`;pb(`Unrecognized parse "${n}".`);return null}function qk(b){const n={};tb(b.filter,a=>{if(ne(a)){let p=null;if(md(a))p=Na(a.equal);else if(Od(a))p=Na(a.lte);else if(rd(a))p=Na(a.lt);else if(ee(a))p=Na(a.gt);else if(he(a))p=Na(a.gte);else if(Jd(a))p=a.range[0];else if(De(a)){var g;p=(null!==(g=a.oneOf)&&void 0!==g?g:a["in"])[0]}p&&(Sb(p)?n[a.field]="date":z.isNumber(p)?n[a.field]="number":z.isString(p)&&(n[a.field]="string"));
a.timeUnit&&(n[a.field]="date")}});return n}function pk(b){function n(g){if(wf(g))a[g.field]="date";else{var p;if(p="quantitative"===g.type)p=g.aggregate,p=z.isString(p)&&Ha(["min","max"],p);p?a[g.field]="number":1<I(g.field)?g.field in a||(a[g.field]="flatten"):Cb(g)&&Uc(g.sort)&&1<I(g.sort.field)&&(g.sort.field in a||(a[g.sort.field]="flatten"))}}const a={};(of(b)||Mf(b))&&b.forEachFieldDef((g,p)=>{W(g)?n(g):(p=H(p),p=b.fieldDef(p),n({...g,type:p.type}))});if(of(b)){const {mark:g,markDef:p,encoding:v}=
b;if(ic(g)&&!b.encoding.order){const C=v["horizontal"===p.orient?"y":"x"];!dd(C)||"quantitative"!==C.type||C.field in a||(a[C.field]="number")}}return a}function og(b){return b instanceof wi||b instanceof Sk||b instanceof Tk}function ok(b){return b.stack.stackBy.reduce((n,a)=>{(a=fc(a.fieldDef))&&n.push(a);return n},[])}function Gh(b){return z.isArray(b)&&b.every(n=>z.isString(n))&&1<b.length}function ol(b){function n(a){if(!(a instanceof oj)){const g=a.clone();if(g instanceof ag){const p="scale_"+
g.getSource();g.setSource(p);b.model.component.data.outputNodes[p]=g}else(g instanceof Yg||g instanceof $h||g instanceof dk||g instanceof pj)&&g.addDimensions(b.fields);for(const p of a.children.flatMap(n))p.parent=g;return[g]}return a.children.flatMap(n)}return n}function Dj(b){if(b instanceof oj)if(1!==b.numChildren()||b.children[0]instanceof ag){var n=b.model.component.data.main;Ej(n);const a=ol(b);b=b.children.map(a).flat();for(const g of b)g.parent=n}else n=b.children[0],(n instanceof Yg||n instanceof
$h||n instanceof dk||n instanceof pj)&&n.addDimensions(b.fields),n.swapWithParent(),Dj(b);else b.children.map(Dj)}function Ej(b){if(b instanceof ag&&b.type===nf.Main&&1===b.numChildren()){const n=b.children[0];n instanceof oj||(n.swapWithParent(),Ej(b))}}function fh(b){for(const n of b){for(const a of n.children)if(a.parent!==n)return!1;if(!fh(n.children))return!1}return!0}function Rf(b,n){let a=!1;for(const g of n)a=b.optimize(g)||a;return a}function hj(b,n,a){let g=b.sources,p=!1;p=Rf(new vn,g)||
p;p=Rf(new wn(n),g)||p;g=g.filter(v=>0<v.numChildren());p=Rf(new xn,g)||p;g=g.filter(v=>0<v.numChildren());a||(p=Rf(new yn,g)||p,p=Rf(new zn(n),g)||p,p=Rf(new An,g)||p,p=Rf(new Bn,g)||p,p=Rf(new Cn,g)||p,p=Rf(new Dn,g)||p,p=Rf(new En,g)||p,p=Rf(new Fn,g)||p);b.sources=g;return p}function Ek(b){const n=b.component.scales;for(const Pa of id(n)){var a=b,g=Pa,p=a.getScaleComponent(g).get("type"),{encoding:v}=a;var C=a.scaleDomain(g);var P=a.typedFieldDef(g),fa=a.config.scale;if("unaggregated"===C){const {valid:Xa,
reason:kb}=Wh(P,p);Xa||(pb(kb),C=void 0)}else void 0===C&&fa.useUnaggregatedDomain&&({valid:P}=Wh(P,p),P&&(C="unaggregated"));C!==a.scaleDomain(g)&&(a.specifiedScales[g]={...a.specifiedScales[g],domain:C});a="x"===g&&Nd(v.x2)?Nd(v.x)?re(Hg(p,C,a,"x"),Hg(p,C,a,"x2"),"domain","scale",kj):Hg(p,C,a,"x2"):"y"===g&&Nd(v.y2)?Nd(v.y)?re(Hg(p,C,a,"y"),Hg(p,C,a,"y2"),"domain","scale",kj):Hg(p,C,a,"y2"):Hg(p,C,a,g);n[Pa].setWithExplicit("domains",a);v=void 0;g=b.component.scales[Pa];C=b.specifiedScales[Pa].domain;
p=null===(v=b.fieldDef(Pa))||void 0===v?void 0:v.bin;v=rb(C)&&C;p=z.isObject(p)&&gb(p.extent)&&p.extent;(v||p)&&g.set("selectionExtent",null!==v&&void 0!==v?v:p,!0);if(b.component.data.isFaceted){for(g=b;!Mf(g)&&g.parent;)g=g.parent;if("shared"===g.component.resolve.scale[Pa])for(const Xa of a.value)Ya(Xa)&&(Xa.data="scale_"+Xa.data.replace("scale_",""))}}}function Vh(b){for(var n of b.children){var a=n;of(a)?Ek(a):Vh(a)}a=b.component.scales;for(const p of id(a)){let v;n=null;for(const C of b.children){var g=
C.component.scales[p];g&&(v=void 0===v?g.getWithExplicit("domains"):re(v,g.getWithExplicit("domains"),"domains","scale",kj),g=g.get("selectionExtent"),n&&g&&n.param!==g.param&&pb("The same selection must be used to override scale domains in a layered view."),n=g)}a[p].setWithExplicit("domains",v);n&&a[p].set("selectionExtent",n,!0)}}function al(b,n,a){return b.map(g=>({signal:`{data: ${qf(g,{timeUnit:a,type:n})}}`}))}function ij(b,n,a){var g;a=null===(g=od(a))||void 0===g?void 0:g.unit;return"temporal"===
n||a?al(b,n,a):[b]}function Hg(b,n,a,g){var {encoding:p}=a;p=Nd(p[g]);const {type:v}=p,C=p.timeUnit;if(n&&n.unionWith)return g=Hg(b,void 0,a,g),n=ij(n.unionWith,v,C),Md([...g.value,...n]);if(Da(n))return Md([n]);if(n&&"unaggregated"!==n&&!rb(n))return Md(ij(n,v,C));var P=a.stack;if(P&&g===P.fieldChannel){if("normalize"===P.offset)return se([[0,1]]);n=a.requestDataName(nf.Main);return se([{data:n,field:a.vgField(g,{suffix:"start"})},{data:n,field:a.vgField(g,{suffix:"end"})}])}P=Zf[g]&&dd(p)?Fk(a,
g,b):void 0;if(Ce(p))return g=ij([p.datum],v,C),se(g);if("unaggregated"===n)return g=a.requestDataName(nf.Main),{field:n}=p,se([{data:g,field:fc({field:n,aggregate:"min"})},{data:g,field:fc({field:n,aggregate:"max"})}]);if(wa(p.bin)){if(b in Fc)return"bin-ordinal"===b?se([]):se([{data:za(P)?a.requestDataName(nf.Main):a.requestDataName(nf.Raw),field:a.vgField(g,gf(p,g)?{binSuffix:"range"}:{}),sort:!0!==P&&z.isObject(P)?P:{field:a.vgField(g,{}),op:"min"}}]);({bin:n}=p);if(wa(n)){const fa=Cj(a,p.field,
n);return se([new qg(()=>{const Pa=a.getSignalName(fa);return`[${Pa}.start, ${Pa}.stop]`})])}return se([{data:a.requestDataName(nf.Main),field:a.vgField(g,{})}])}return p.timeUnit&&Ha(["time","utc"],b)&&Ed(p,of(a)?a.encoding[ca(g)]:void 0,a.markDef,a.config)?(n=a.requestDataName(nf.Main),se([{data:n,field:a.vgField(g)},{data:n,field:a.vgField(g,{suffix:"end"})}])):P?se([{data:za(P)?a.requestDataName(nf.Main):a.requestDataName(nf.Raw),field:a.vgField(g),sort:P}]):se([{data:a.requestDataName(nf.Main),
field:a.vgField(g)}])}function jj(b,n){const {op:a,field:g,order:p}=b;return{op:null!==a&&void 0!==a?a:n?"sum":"min",...(g?{field:Aa(g)}:{}),...(p?{order:p}:{})}}function Fk(b,n,a){if(a in Fc){var g=b.fieldDef(n);a=g.sort;if(Xd(a))return{op:"min",field:Kg(g,n),order:"ascending"};({stack:g}=b);var p=g?[...(g.groupbyField?[g.groupbyField]:[]),...g.stackBy.map(v=>v.fieldDef.field)]:void 0;if(Uc(a))return b=g&&!p.includes(a.field),jj(a,b);if(a&&a.encoding){const {encoding:v,order:C}=a;b=b.fieldDef(v);
const {aggregate:P,field:fa}=b;n=g&&!p.includes(fa);if(m(P)||q(P))return jj({field:fc(b),order:C},n);if(w(P)||!P)return jj({op:P,field:fa,order:C},n)}else{if("descending"===a)return{op:"min",field:b.vgField(n),order:"descending"};if(Ha(["ascending",void 0],a))return!0}}}function Wh(b,n){const {aggregate:a,type:g}=b;return a?z.isString(a)&&!pi[a]?{valid:!1,reason:`Unaggregated domain not applicable for "${a}" since it produces values outside the origin domain of the source data.`}:"quantitative"===
g&&"log"===n?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${Te(b)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${Te(b)}).`}}function kj(b,n,a,g){if(b.explicit&&n.explicit){var p=n.value;a=`Conflicting ${g.toString()} property "${a.toString()}" (${Te(b.value)} and ${Te(p)}). Using the union of the two domains.`;pb(a)}return{explicit:b.explicit,value:[...b.value,...n.value]}}function ui(b){var n=na(b.map(p=>{if(Ya(p)){const {sort:v,
...C}=p;return C}return p}),hb),a=na(b.map(p=>{if(Ya(p))return p=p.sort,void 0===p||za(p)||("op"in p&&"count"===p.op&&delete p.field,"ascending"===p.order&&delete p.order),p}).filter(p=>void 0!==p),hb);if(0!==n.length){if(1===n.length){n=b[0];if(Ya(n)&&0<a.length){var g=a[0];1<a.length?(pb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0):z.isObject(g)&&"field"in g&&n.field===g.field&&(g=g.order?{order:g.order}:!0);return{...n,sort:g}}return n}a=na(a.map(p=>
{if(za(p)||!("op"in p)||z.isString(p.op)&&p.op in Pj)return p;pb(`Dropping sort property ${Te(p)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),hb);1===a.length?g=a[0]:1<a.length&&(pb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0);a=na(b.map(p=>Ya(p)?p.data:null),p=>p);return 1===a.length&&null!==a[0]?{data:a[0],fields:n.map(p=>p.field),...(g?{sort:g}:{})}:{fields:n,...(g?{sort:g}:{})}}}function bk(b){if(Ya(b)&&
z.isString(b.field))return b.field;var n=z.isArray(b)?!1:"fields"in b&&!("data"in b);if(n){let a;for(const g of b.fields)if(Ya(g)&&z.isString(g.field))if(!a)a=g.field;else if(a!==g.field)return pb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),a;pb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return a}n=z.isArray(b)?!1:"fields"in b&&"data"in b;if(n)return pb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),b=b.fields[0],z.isString(b)?b:void 0}function vg(b,n){n=b.component.scales[n].get("domains").map(a=>{Ya(a)&&(a.data=b.lookupDataSource(a.data));return a});return ui(n)}function rk(b){return uf(b)||wg(b)?b.children.reduce((n,a)=>n.concat(rk(a)),Gk(b)):Gk(b)}function Gk(b){return id(b.component.scales).reduce((n,
a)=>{var g=b.component.scales[a];if(g.merged)return n;var p=g.combine();const {name:v,type:C,selectionExtent:P,domains:fa,range:Pa,reverse:Xa,...kb}=p;p=p.range;a in xf?sb(p)&&(p={step:{signal:`${v}_step`}}):z.isObject(p)&&Ya(p)&&(p={...p,data:b.lookupDataSource(p.data)});a=vg(b,a);if(P){const Kb=wj(b,P.param,P);g={signal:g.get("type")in Hc&&z.isArray(a)&&a[0]>a[1]?`isValid(${Kb}) && reverse(${Kb})`:Kb}}else g=null;n.push({name:v,type:C,...(a?{domain:a}:{}),...(g?{domainRaw:g}:{}),range:p,...(void 0!==
Xa?{reverse:Xa}:{}),...kb});return n},[])}function Gj(b){return"x"===b?"width":"y"===b?"height":void 0}function gh(b,n){var a=b.fieldDef(n);if(null!==a&&void 0!==a&&a.bin){const {bin:g,field:p}=a;a=Gj(n);const v=b.getName(a);if(z.isObject(g)&&g.binned&&void 0!==g.step)return new qg(()=>{var C=b.scaleName(n);C=`(domain("${C}")[1] - domain("${C}")[0]) / ${g.step}`;return`${b.getSignalName(v)} / (${C})`});if(wa(g)){const C=Cj(b,p,g);return new qg(()=>{var P=b.getSignalName(C);P=`(${P}.stop - ${P}.start) / ${P}.step`;
return`${b.getSignalName(v)} / (${P})`})}}}function Hj(b,n){const a=n.specifiedScales[b];var {size:g}=n,p=n.getScaleComponent(b).get("type");for(var v of Gn)if(void 0!==a[v]){const fa=fb(p,v),Pa=Jb(b,v);if(fa)if(Pa)pb(Pa);else switch(v){case "range":p=a.range;if(z.isArray(p)){if(b in xf)return Md(p.map(Xa=>{if("width"===Xa||"height"===Xa){Xa=n.getName(Xa);const kb=n.getSignalName.bind(n);return qg.fromName(kb,Xa)}return Xa}))}else if(z.isObject(p))return Md({data:n.requestDataName(nf.Main),field:p.field,
sort:{op:"min",field:n.vgField(b)}});return Md(p);case "scheme":return Md(mi(a[v]))}else pb(Ub(p,v,b))}if("x"===b||"y"===b)if(v="x"===b?"width":"height",g=g[v],Eb(g)){if(p in Fc)return Md({step:g.step});pb(sc(v))}const {rangeMin:C,rangeMax:P}=a;b=Fj(b,n);return(void 0!==C||void 0!==P)&&fb(p,"rangeMin")&&z.isArray(b)&&2===b.length?Md([null!==C&&void 0!==C?C:b[0],null!==P&&void 0!==P?P:b[1]]):se(b)}function mi(b){return!z.isString(b)&&b.name?{scheme:b.name,...Hb(b,["name"])}:{scheme:b}}function Fj(b,
n){const {size:a,config:g,mark:p,encoding:v}=n;var C=n.getSignalName.bind(n),{type:P}=Nd(v[b]);const fa=n.getScaleComponent(b).get("type"),{domain:Pa,domainMid:Xa}=n.specifiedScales[b];switch(b){case "x":case "y":if(Ha(["point","band"],fa))if("x"===b&&!a.width){if(P=td(g.view,"width"),Eb(P))return P}else if("y"===b&&!a.height&&(P=td(g.view,"height"),Eb(P)))return P;P=Gj(b);P=n.getName(P);return"y"===b&&fa in Hc?[qg.fromName(C,P),0]:[0,qg.fromName(C,P)];case "size":return C=n.component.scales[b].get("zero"),
C=Hk(p,C,g),P=rl(p,a,n,g),fa in qb?ql(C,P,pl(fa,g,Pa,b)):[C,P];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new qg(()=>{const kb=n.getSignalName("width"),Kb=n.getSignalName("height");return`min(${kb},${Kb})/2`})];case "strokeWidth":return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===fa?"nominal"===P?"category":"ordinal":
void 0!==Xa?"diverging":"rect"===p||"geoshape"===p?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[g.scale.minOpacity,g.scale.maxOpacity]}throw Error(`Scale range undefined for channel ${b}`);}function pl(b,n,a,g){switch(b){case "quantile":return n.scale.quantileCount;case "quantize":return n.scale.quantizeCount;case "threshold":if(void 0!==a&&z.isArray(a))return a.length+1;pb(`Domain for ${g} is required for threshold scale.`);return 3}}function ql(b,n,a){const g=()=>
{const p=Lb(n),v=Lb(b),C=`(${p} - ${v}) / (${a} - 1)`;return`sequence(${v}, ${p} + ${C}, ${C})`};return Da(n)?new qg(g):{signal:g()}}function Hk(b,n,a){if(n)return Da(n)?{signal:`${n.signal} ? 0 : ${Hk(b,!1,a)}`}:0;switch(b){case "bar":case "tick":return a.scale.minBandSize;case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;case "point":case "square":case "circle":return a.scale.minSize}throw Error(Ib("size",b));}function rl(b,n,a,g){a={x:gh(a,
"x"),y:gh(a,"y")};switch(b){case "bar":case "tick":if(void 0!==g.scale.maxBandSize)return g.scale.maxBandSize;const p=Ik(n,a,g.view);return z.isNumber(p)?p-1:new qg(()=>`${p.signal} - 1`);case "line":case "trail":case "rule":return g.scale.maxStrokeWidth;case "text":return g.scale.maxFontSize;case "point":case "square":case "circle":if(g.scale.maxSize)return g.scale.maxSize;const v=Ik(n,a,g.view);return z.isNumber(v)?Math.pow(.95*v,2):new qg(()=>`pow(${.95} * ${v.signal}, 2)`)}throw Error(Ib("size",
b));}function Ik(b,n,a){const g=Eb(b.width)?b.width.step:zc(a,"width"),p=Eb(b.height)?b.height.step:zc(a,"height");return n.x||n.y?new qg(()=>`min(${[n.x?n.x.signal:g,n.y?n.y.signal:p].join(", ")})`):Math.min(g,p)}function Jk(b,n){if(of(b)){const C=b.component.scales,{config:P,encoding:fa,markDef:Pa,specifiedScales:Xa}=b;for(const kb of id(C)){var a=Xa[kb];const Kb=C[kb];var g=b.getScaleComponent(kb),p=Nd(fa[kb]),v=a[n];const oc=g.get("type"),tc=g.get("padding");g=g.get("paddingInner");const Qc=fb(oc,
n),Xc=Jb(kb,n);void 0!==v&&(Qc?Xc&&pb(Xc):pb(Ub(oc,n,kb)));if(Qc&&void 0===Xc)if(void 0!==v)switch(v=p.timeUnit,p=p.type,n){case "domainMax":case "domainMin":Sb(a[n])||"temporal"===p||v?Kb.set(n,{signal:qf(a[n],{type:p,timeUnit:v})},!0):Kb.set(n,a[n],!0);break;default:Kb.copyKeyFromObject(n,a)}else a=n in zm?zm[n]({model:b,channel:kb,fieldOrDatumDef:p,scaleType:oc,scalePadding:tc,scalePaddingInner:g,domain:a.domain,markDef:Pa,config:P}):P.scale[n],void 0!==a&&Kb.set(n,a,!1)}}else Lk(b,n)}function Kk(b){if(of(b)){const n=
b.component.scales;for(const a of qh){const g=n[a];if(!g)continue;const p=Hj(a,b);g.setWithExplicit("range",p)}}else Lk(b,"range")}function Lk(b,n){const a=b.component.scales;for(var g of b.children)"range"===n?Kk(g):Jk(g,n);for(const p of id(a)){let v;for(const C of b.children)if(g=C.component.scales[p])g=g.getWithExplicit(n),v=re(v,g,n,"scale",Ne((P,fa)=>{switch(n){case "range":if(P.step&&fa.step)return P.step-fa.step}return 0}));a[p].setWithExplicit(n,v)}}function sl(b,n){const a=n.bin;if(wa(a)){const g=
Cj(b,n.field,a);return new qg(()=>b.getSignalName(g))}if(cb(a)&&z.isObject(a)&&void 0!==a.step)return{step:a.step}}function tl(b,n,a){switch(n.type){case "nominal":case "ordinal":var g;if(Ca(b)||"discrete"===l(b))return"shape"===b&&"ordinal"===n.type&&pb(bc(b,"ordinal")),"ordinal";if(b in xf){if(Ha(["rect","bar","image","rule"],a.type))return"band"}else if("arc"===a.type&&b in Nh)return"band";b=a[X(b)];return xc(b)||Ob(n)&&null!==(g=n.axis)&&void 0!==g&&g.tickBand?"band":"point";case "temporal":if(!Ca(b)){if("discrete"===
l(b))return pb(bc(b,"temporal")),"ordinal";if(dd(n)&&n.timeUnit&&od(n.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Ca(b)){if(dd(n)&&wa(n.bin))return"bin-ordinal"}else if("discrete"===l(b))return pb(bc(b,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${n.type}".`);}function ul(b,{ignoreRange:n}={}){Mk(b);of(b)?Ek(b):Vh(b);for(const a of vc)Jk(b,a);n||Kk(b)}function Mk(b){if(of(b))b.component.scales=vl(b);else{var n=b.component;const p=
b.component.scales={},v={},C=b.component.resolve;for(const P of b.children){Mk(P);for(const fa of id(P.component.scales)){var a,g;null!==(g=(a=C.scale)[fa])&&void 0!==g?g:a[fa]=nk(fa,b);if("shared"===C.scale[fa]){const Pa=v[fa],Xa=P.component.scales[fa].getWithExplicit("type");if(Pa){const kb=k[Pa.value],Kb=k[Xa.value];kb===Kb||"ordinal-position"===kb&&"time"===Kb||"ordinal-position"===Kb&&"time"===kb?v[fa]=re(Pa,Xa,"type","scale",Hn):(C.scale[fa]="independent",delete v[fa])}else v[fa]=Xa}}}for(const P of id(v)){a=
b.scaleName(P,!0);p[P]=new Am(a,v[P]);for(const fa of b.children)if(g=fa.component.scales[P])fa.renameScale(g.get("name"),a),g.merged=!0}n.scales=p}}function vl(b){const {encoding:n,mark:a,markDef:g}=b;return qh.reduce((p,v)=>{var C=Nd(n[v]);if(C&&a===Bm&&"shape"===v&&"geojson"===C.type)return p;let P=C&&C.scale;if(C&&null!==P&&!1!==P){var fa;null!==(fa=P)&&void 0!==fa?fa:P={};var Pa=P;fa=tl(v,C,g);({type:Pa}=Pa);if(Zf[v])if(void 0!==Pa)if(Rb(v,Pa)){var Xa;if(Xa=dd(C))Xa=Pa,C=C.type,Xa=!(Ha(["ordinal",
"nominal"],C)?void 0===Xa||Xa in Fc:"temporal"===C?Ha([d.TIME,d.UTC,void 0],Xa):"quantitative"===C?Ha([d.LOG,d.POW,d.SQRT,d.SYMLOG,d.QUANTILE,d.QUANTIZE,d.THRESHOLD,d.LINEAR,void 0],Xa):1);Xa?(pb(`FieldDef does not work with "${Pa}" scale. We are using "${fa}" scale instead.`),C=fa):C=Pa}else pb(`Channel "${v}" does not work with "${Pa}" scale. We are using "${fa}" scale instead.`),C=fa;else C=fa;else C=null;p[v]=new Am(b.scaleName(`${v}`,!0),{value:C,explicit:P.type===C})}return p},{})}function of(b){return"unit"===
(null===b||void 0===b?void 0:b.type)}function Mf(b){return"facet"===(null===b||void 0===b?void 0:b.type)}function wg(b){return"concat"===(null===b||void 0===b?void 0:b.type)}function uf(b){return"layer"===(null===b||void 0===b?void 0:b.type)}function Sf(b){function n(g,p){g instanceof wi&&!(g.isGenerator||"url"in g.data)&&(b.push(p),p={name:null,source:p.name,transform:[]});if(g instanceof bg)if(g.parent instanceof wi&&!p.source){var v;p.format={...(null!==(v=p.format)&&void 0!==v?v:{}),parse:g.assembleFormatParse()};
p.transform.push(...g.assembleTransforms(!0))}else p.transform.push(...g.assembleTransforms());if(g instanceof oj)p.name||(p.name=`data_${a++}`),!p.source||0<p.transform.length?(b.push(p),g.data=p.name):g.data=p.source,b.push(...g.assemble());else switch((g instanceof Sk||g instanceof Tk||g instanceof Uk||g instanceof ek||g instanceof fk||g instanceof Vk||g instanceof Yg||g instanceof Wk||g instanceof dk||g instanceof pj||g instanceof yl||g instanceof zl||g instanceof Al||g instanceof Bl||g instanceof
Cl||g instanceof Dl||g instanceof xi||g instanceof El||g instanceof Fl)&&p.transform.push(g.assemble()),(g instanceof uh||g instanceof vh||g instanceof qj||g instanceof $h||g instanceof gk)&&p.transform.push(...g.assemble()),g instanceof ag&&(p.source&&0===p.transform.length?g.setSource(p.source):g.parent instanceof ag?g.setSource(p.name):(p.name||(p.name=`data_${a++}`),g.setSource(p.name),1===g.numChildren()&&(b.push(p),p={name:null,source:p.name,transform:[]}))),g.numChildren()){case 0:g instanceof
ag&&(!p.source||0<p.transform.length)&&b.push(p);break;case 1:n(g.children[0],p);break;default:p.name||(p.name=`data_${a++}`);v=p.name;!p.source||0<p.transform.length?b.push(p):v=p.source;for(const C of g.children)n(C,{name:null,source:v,transform:[]})}}let a=0;return n}function hh(b){const n=[],a=Sf(n);for(const g of b.children)a(g,{source:b.name,name:null,transform:[]});return n}function cl(b,n){const a=[];var g=Sf(a);let p=0;for(const P of b.sources){P.hasName()||(P.dataName=`source_${p++}`);const fa=
P.assemble();g(P,fa)}for(const P of a)0===P.transform.length&&delete P.transform;g=0;for(const [P,fa]of a.entries()){var v;0!==(null!==(v=fa.transform)&&void 0!==v?v:[]).length||fa.source||a.splice(g++,0,a.splice(P,1)[0])}for(const P of a)for(const fa of null!==(C=P.transform)&&void 0!==C?C:[]){var C;"lookup"===fa.type&&(fa.from=b.outputNodes[fa.from].getSource())}for(const P of a)P.name in n&&(P.values=n[P.name]);return a}function Ni(b,n,a){n="row"===n?"height":"width";return{labels:a,sizeSignal:b.child.component.layoutSize.get(n)?
b.child.getSizeSignalRef(n):void 0,axes:[]}}function Jj(b,n){var {child:a}=b;if(a.component.axes[n]){const {layoutHeaders:p,resolve:v}=b.component;v.axis[n]=Ji(v,n);if("shared"===v.axis[n]){const C="x"===n?"column":"row",P=p[C];for(const fa of a.component.axes[n]){var g;n=fa.get("orient");n="top"===n||"left"===n||Da(n)?"header":"footer";null!==(g=P[n])&&void 0!==g?g:P[n]=[Ni(b,C,!1)];(a=Th(fa,"main",b.config,{header:!0}))&&P[n][0].axes.push(a);fa.mainExtracted=!0}}}}function lj(b){for(const n of b.children)n.parseLayoutSize()}
function Xh(b,n){const a=Eh(n),g=c(a),p=b.component.resolve,v=b.component.layoutSize;let C;for(const fa of b.children){var P;const Pa=fa.component.layoutSize.getWithExplicit(a),Xa=null!==(P=p.scale[g])&&void 0!==P?P:nk(g,b);if("independent"===Xa&&"step"===Pa.value){C=void 0;break}if(C){if("independent"===Xa&&C.value!==Pa.value){C=void 0;break}C=re(C,Pa,a,"")}else C=Pa}if(C){for(const fa of b.children)b.renameSignal(fa.getName(a),b.getName(n)),fa.component.layoutSize.set(a,"merged",!1);v.setWithExplicit(n,
C)}else v.setWithExplicit(n,{explicit:!1,value:void 0})}function bl(b,n){const a=b.config;var g=b.getScaleComponent("width"===n?"x":"y");if(g)return b=g.get("type"),g=g.get("range"),b in Fc?(n=td(a.view,n),sb(g)||Eb(n)?"step":n):Dc(a.view,n);if(b.hasProjection||"arc"===b.mark)return Dc(a.view,n);n=td(a.view,n);return Eb(n)?n.step:n}function Hh(b,n,a){return fc(n,{suffix:`by_${fc(b)}`,...(null!==a&&void 0!==a?a:{})})}function Ij(b,n){for(const P of n){var a,g,p,v;n=P.data;if(b.name&&P.hasName()&&b.name!==
P.dataName)continue;const fa=null===(a=b.format)||void 0===a?void 0:a.mesh;var C=null===(g=n.format)||void 0===g?void 0:g.feature;if(fa&&C)continue;const Pa=null===(p=b.format)||void 0===p?void 0:p.feature;if(!Pa&&!C||Pa===C)if(C=null===(v=n.format)||void 0===v?void 0:v.mesh,!fa&&!C||fa===C)if("values"in b&&"values"in n){if(Tf(b.values,n.values))return P}else if("url"in b&&"url"in n){if(b.url===n.url)return P}else if(Fe(b)&&b.name===P.dataName)return P}return null}function sk(b,n){if(b.data||!b.parent){if(null===
b.data)return b=new wi({values:[]}),n.push(b),b;const a=Ij(b.data,n);if(a)return Ye(b.data)||(a.data.format=ma({},b.data.format,a.data.format)),!a.hasName()&&b.data.name&&(a.dataName=b.data.name),a;b=new wi(b.data);n.push(b);return b}return b.parent.component.data.facetRoot?b.parent.component.data.facetRoot:b.parent.component.data.main}function ni(b){var n,a,g,p=sk(b,b.component.data.sources);const {outputNodes:v,outputNodeRefCounts:C}=b.component.data,P=b.parent?b.parent.component.data.ancestorParse.clone():
new In,fa=b.data;Ye(fa)?("sequence"in fa?p=new Tk(p,fa.sequence):"graticule"in fa&&(p=new Sk(p,fa.graticule)),P.parseNothing=!0):null===(null===fa||void 0===fa?void 0:null===(n=fa.format)||void 0===n?void 0:n.parse)&&(P.parseNothing=!0);p=null!==(a=bg.makeExplicit(p,b,P))&&void 0!==a?a:p;p=new xi(p);n=b.parent&&uf(b.parent);if((of(b)||Mf(b))&&n){var Pa;p=null!==(Pa=uh.makeFromEncoding(p,b))&&void 0!==Pa?Pa:p}if(0<b.transforms.length){Pa=0;for(const nd of b.transforms){var Xa=a=void 0;if("calculate"in
nd)Xa=p=new fk(p,nd),a="derived";else if("filter"in nd){var kb;Xa=qk(nd);Xa=p=null!==(kb=bg.makeWithAncestors(p,{},Xa,P))&&void 0!==kb?kb:p;p=new ek(p,b,nd.filter)}else if("bin"in nd)Xa=p=uh.makeFromTransform(p,nd,b),a="number";else if("timeUnit"in nd)a="date",void 0===P.getWithExplicit(nd.field).value&&(p=new bg(p,{[nd.field]:a}),P.set(nd.field,a,!1)),Xa=p=vh.makeFromTransform(p,nd);else if("aggregate"in nd)Xa=p=Yg.makeFromTransform(p,nd),a="number",yh(b)&&(p=new xi(p));else if("lookup"in nd)Xa=
p=Wk.make(p,b,nd,Pa++),a="derived";else if("window"in nd)Xa=p=new dk(p,nd),a="number";else if("joinaggregate"in nd)Xa=p=new pj(p,nd),a="number";else if("stack"in nd)Xa=p=$h.makeFromTransform(p,nd),a="derived";else if("fold"in nd)Xa=p=new yl(p,nd),a="derived";else if("flatten"in nd)Xa=p=new zl(p,nd),a="derived";else if("pivot"in nd)Xa=p=new Fl(p,nd),a="derived";else if("sample"in nd)p=new El(p,nd);else if("impute"in nd)Xa=p=qj.makeFromTransform(p,nd),a="derived";else if("density"in nd)Xa=p=new Al(p,
nd),a="derived";else if("quantile"in nd)Xa=p=new Cl(p,nd),a="derived";else if("regression"in nd)Xa=p=new Dl(p,nd),a="derived";else if("loess"in nd)Xa=p=new Bl(p,nd),a="derived";else{pb(`Ignoring an invalid transform: ${Te(nd)}.`);continue}if(Xa&&void 0!==a)for(const jf of null!==(Kb=Xa.producedFields())&&void 0!==Kb?Kb:[]){var Kb;P.set(jf,a,!1)}}}kb={};if(of(b)&&b.component.selection)for(var oc of id(b.component.selection)){Kb=b.component.selection[oc];for(const nd of Kb.project.items)!nd.channel&&
1<I(nd.field)&&(kb[nd.field]="flatten")}oc=pk(b);p=null!==(g=bg.makeWithAncestors(p,{},{...kb,...oc},P))&&void 0!==g?g:p;of(b)&&(p=gk.parseAll(p,b),p=Vk.parseAll(p,b));if(of(b)||Mf(b)){var tc;if(!n){var Qc;p=null!==(Qc=uh.makeFromEncoding(p,b))&&void 0!==Qc?Qc:p}p=null!==(tc=vh.makeFromEncoding(p,b))&&void 0!==tc?tc:p;p=fk.parseAllForSortIndex(p,b)}tc=b.getDataName(nf.Raw);g=new ag(p,tc,nf.Raw,C);p=v[tc]=g;if(of(b)){var Xc,Ec;if(tc=Yg.makeFromEncoding(p,b))p=tc,yh(b)&&(p=new xi(p));p=null!==(Xc=qj.makeFromEncoding(p,
b))&&void 0!==Xc?Xc:p;p=null!==(Ec=$h.makeFromEncoding(p,b))&&void 0!==Ec?Ec:p}if(of(b)){var Yc;p=null!==(Yc=Uk.make(p,b))&&void 0!==Yc?Yc:p}Ec=b.getDataName(nf.Main);Xc=new ag(p,Ec,nf.Main,C);p=v[Ec]=Xc;if(of(b))for(const [nd,jf]of dg(null!==(pd=b.component.selection)&&void 0!==pd?pd:{})){var pd;pd=b.getName(`lookup_${nd}`);b.component.data.outputNodes[pd]=jf.materialized=new ag(new ek(Xc,b,{param:nd}),pd,nf.Lookup,b.component.data.outputNodeRefCounts)}Ec=null;if(Mf(b)){var $c;pd=b.getName("facet");
{Ec=p;const {row:nd,column:jf}=b.facet;if(nd&&jf){Yc=null;for(ae of[nd,jf])if(Uc(ae.sort)){const {field:Oe,op:Qf="min"}=ae.sort;Ec=Yc=new pj(Ec,{joinaggregate:[{op:Qf,field:Oe,as:Hh(ae,ae.sort,{forAs:!0})}],groupby:[fc(ae)]})}var ae=Yc}else ae=null}p=null!==($c=ae)&&void 0!==$c?$c:p;Ec=new oj(p,b,pd,Xc.getSource());v[pd]=Ec}return{...b.component.data,outputNodes:v,outputNodeRefCounts:C,raw:g,main:Xc,facetRoot:Ec,ancestorParse:P}}function tk(b){return ng.reduce((n,a)=>{b.component.scales[a]&&(n[a]=
[Dg(a,b)]);return n},{})}function uk(b,n){if(b){if(b.length!==n.length)return;const a=b.length;for(let g=0;g<a;g++){const p=b[g],v=n[g];if(!!p!==!!v)return;if(p&&v){const C=p.getWithExplicit("orient"),P=v.getWithExplicit("orient");if(C.explicit&&P.explicit&&C.value!==P.value)return;b[g]=el(p,v)}}}else return n.map(a=>a.clone());return b}function el(b,n){for(const a of Cm){const g=re(b.getWithExplicit(a),n.getWithExplicit(a),a,"axis",(p,v)=>{switch(a){case "title":return fe(p,v);case "gridScale":return{explicit:p.explicit,
value:x(p.value,v.value)}}return Ke(p,v,a,"axis")});b.setWithExplicit(a,g)}return b}function il(b,n,a,g,p){if("disable"===n)return void 0!==a;a=a||{};switch(n){case "titleAngle":case "labelAngle":return b===(Da(a.labelAngle)?a.labelAngle:R(a.labelAngle));case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(b===Dh(g,p))return!0}return b===a[n]}function Dg(b,n){var a,g,p,v,C;let P=n.axis(b);const fa=new Dm;var Pa=Nd(n.encoding[b]);const {mark:Xa,config:kb}=
n;var Kb=(null===(a=P)||void 0===a?void 0:a.orient)||(null===(g=kb["x"===b?"axisX":"axisY"])||void 0===g?void 0:g.orient)||(null===(p=kb.axis)||void 0===p?void 0:p.orient)||("x"===b?"bottom":"left");g=n.getScaleComponent(b).get("type");a=Fi(b,g,Kb,n.config);p=void 0!==P?!P:cg("disable",kb.style,null===(v=P)||void 0===v?void 0:v.style,a).configValue;fa.set("disable",p,void 0!==P);if(p)return fa;P=P||{};v=Lg(Pa,P,b,kb.style,a);Pa={fieldOrDatumDef:Pa,axis:P,channel:b,model:n,scaleType:g,orient:Kb,labelAngle:v,
mark:Xa,config:kb};for(const tc of Cm)if(Kb=tc in Em?Em[tc](Pa):Fm[tc]?P[tc]:void 0,v=void 0!==Kb,g=il(Kb,tc,P,n,b),v&&g)fa.set(tc,Kb,g);else{const {configValue:Qc,configFrom:Xc}=Fm[tc]&&"values"!==tc?cg(tc,kb.style,P.style,a):{};p=void 0!==Qc;v&&!p?fa.set(tc,Kb,g):("vgAxisConfig"!==Xc||Jn.has(tc)&&p||If(Qc)||Da(Qc))&&fa.set(tc,Qc,!1)}const oc=null!==(C=P.encoding)&&void 0!==C?C:{};C=rm.reduce((tc,Qc)=>{var Xc;if(!fa.hasAxisPart(Qc))return tc;var Ec=Dk(null!==(Xc=oc[Qc])&&void 0!==Xc?Xc:{},n);if("labels"===
Qc){{var Yc;const {encoding:pd,config:$c}=n;Xc=null!==(Yc=Nd(pd[b]))&&void 0!==Yc?Yc:Nd(pd[ca(b)]);Yc=n.axis(b)||{};const {format:ae,formatType:nd}=Yc;Ec=Wd(nd)?{text:lf({fieldOrDatumDef:Xc,field:"datum.value",format:ae,formatType:nd,config:$c}),...Ec}:Ec}}void 0===Ec||Qa(Ec)||(tc[Qc]={update:Ec});return tc},{});Qa(C)||fa.set("encode",C,!!P.encoding||void 0!==P.labelAngle);return fa}function Oi({encoding:b,size:n}){for(const a of ng){const g=X(a);Eb(n[g])&&pe(b[a])&&(delete n[g],pb(sc(g)))}return n}
function Kj(b,n,a){b=G(b);var g=Yb("orient",b,a);b.orient=fg(b.type,n,g);void 0!==g&&g!==b.orient&&pb(`Specified orient "${b.orient}" overridden with "${g}".`);if("bar"===b.type&&b.orient&&(g=Yb("cornerRadiusEnd",b,a),void 0!==g)){const v="horizontal"===b.orient&&n.x2||"vertical"===b.orient&&n.y2?["cornerRadius"]:Kn[b.orient];for(var p of v)b[p]=g;void 0!==b.cornerRadiusEnd&&delete b.cornerRadiusEnd}void 0===Yb("opacity",b,a)&&(p=Ha([ef,Gl,Hl,Il],b.type)&&!Qe(n)?.7:void 0,b.opacity=p);void 0===Yb("cursor",
b,a)&&(n=n.href||b.href||Yb("href",b,a)?"pointer":b.cursor,b.cursor=n);return b}function Nk(b,n,{graticule:a}){if(a)return!1;n=Ic("filled",b,n);b=b.type;return x(n,b!==ef&&b!==Le&&b!==kg)}function fg(b,n,a){switch(b){case ef:case Hl:case Il:case vk:case Ie:case me:return}const {x:g,y:p,x2:v,y2:C}=n;switch(b){case Ud:if(dd(g)&&(cb(g.bin)||dd(p)&&p.aggregate&&!g.aggregate))break;if(dd(p)&&(cb(p.bin)||dd(g)&&g.aggregate&&!p.aggregate))return"horizontal";if(C||v){if(a)return a;if(!v&&(dd(g)&&"quantitative"===
g.type&&!wa(g.bin)||ye(g)))return"horizontal";if(!C&&(dd(p)&&"quantitative"===p.type&&!wa(p.bin)||ye(p)))break}case kg:if(!(!v||dd(g)&&cb(g.bin)||!C||dd(p)&&cb(p.bin)))return;case Fd:if(C){if(dd(p)&&cb(p.bin))return"horizontal";break}else if(v)if(dd(g)&&cb(g.bin))break;else return"horizontal";else if(b===kg)if(g&&!p)break;else if(p&&!g)return"horizontal";case Le:case Gl:n=pe(g);const P=pe(p);if(a)return a;if(n&&!P)return"tick"!==b?"horizontal":"vertical";if(!n&&P)return"tick"!==b?"vertical":"horizontal";
if(n&&P){a="temporal"===g.type;n="temporal"===p.type;if(a&&!n)return"tick"!==b?"vertical":"horizontal";if(!a&&n)return"tick"!==b?"horizontal":"vertical";if(!g.aggregate&&p.aggregate)return"tick"!==b?"vertical":"horizontal";if(g.aggregate&&!p.aggregate)return"tick"!==b?"horizontal":"vertical"}else return}return"vertical"}function Ih(b,n){var a={...df(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})},g={...Ef("x",b,{defaultPos:"mid"})},p={...Ef("y",
b,{defaultPos:"mid"})},v={...Ff("size",b)},C={...Ff("angle",b)};b=n?{shape:{value:n}}:Ff("shape",b);return{...a,...g,...p,...v,...C,...b}}function Jh(b){if(Ha([Le,Fd,Ln],b.mark)){var n=D(b.mark,b.encoding);if(0<n.length)return Og(b,n)}else if(b.mark===Ud&&(n=oh.some(a=>Yb(a,b.markDef,b.config)),b.stack&&!b.fieldDef("size")&&n))return Kh(b);return jh(b)}function Og(b,n){return[{name:b.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+b.requestDataName(nf.Main),data:b.requestDataName(nf.Main),
groupby:n}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:jh(b,{fromPrefix:"faceted_path_"})}]}function Kh(b){const [n]=jh(b,{fromPrefix:"stack_group_"}),a=b.scaleName(b.stack.fieldChannel),g=(fa={})=>b.vgField(b.stack.fieldChannel,fa);var p=(fa,Pa)=>{Pa=[g({prefix:"min",suffix:"start",expr:Pa}),g({prefix:"max",suffix:"start",expr:Pa}),g({prefix:"min",suffix:"end",expr:Pa}),g({prefix:"max",suffix:"end",expr:Pa})];return`${fa}(${Pa.map(Xa=>`scale('${a}',${Xa})`).join(",")})`};
let v;"x"===b.stack.fieldChannel?(p={...wb(n.encode.update,["y","yc","y2","height",...oh]),x:{signal:p("min","datum")},x2:{signal:p("max","datum")},clip:{value:!0}},v={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update={...Hb(n.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(p={...wb(n.encode.update,["x","xc","x2","width"]),y:{signal:p("min","datum")},y2:{signal:p("max","datum")},clip:{value:!0}},v={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},
n.encode.update={...Hb(n.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(var C of oh){var P=Ic(C,b.markDef,b.config);n.encode.update[C]?(p[C]=n.encode.update[C],delete n.encode.update[C]):P&&(p[C]=Fb(P));P&&(n.encode.update[C]={value:0})}C=[];if(b.stack.groupbyChannel){P=b.fieldDef(b.stack.groupbyChannel);const fa=fc(P);fa&&C.push(fa);(null!==P&&void 0!==P&&P.bin||null!==P&&void 0!==P&&P.timeUnit)&&C.push(fc(P,{binSuffix:"end"}))}p="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((fa,
Pa)=>{if(n.encode.update[Pa])return{...fa,[Pa]:n.encode.update[Pa]};const Xa=Ic(Pa,b.markDef,b.config);return void 0!==Xa?{...fa,[Pa]:Fb(Xa)}:fa},p);p.stroke&&(p.strokeForeground={value:!0},p.strokeOffset={value:0});return[{type:"group",from:{facet:{data:b.requestDataName(nf.Main),name:"stack_group_"+b.requestDataName(nf.Main),groupby:C,aggregate:{fields:[g({suffix:"start"}),g({suffix:"start"}),g({suffix:"end"}),g({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:p},marks:[{type:"group",
encode:{update:v},marks:[n]}]}]}function Pg(b){const {encoding:n,stack:a,mark:g,markDef:p,config:v}=b;var C=n.order;if(!(!z.isArray(C)&&Ma(C)&&Ka(C.value)||!C&&Ka(Yb("order",p,v)))){if((z.isArray(C)||dd(C))&&!a)return Bd(C,{expr:"datum"});if(ic(g)){const P="horizontal"===p.orient?"y":"x",fa=n[P];if(dd(fa)){C=fa.sort;if(z.isArray(C))return{field:fc(fa,{prefix:P,suffix:"sort_index",expr:"datum"})};if(Uc(C))return{field:fc({aggregate:Qe(b.encoding)?C.op:void 0,field:C.field},{expr:"datum"})};if(C&&C.encoding)return b=
b.fieldDef(C.encoding),{field:fc(b,{expr:"datum"}),order:C.order};if(null!==C)return{field:fc(fa,{binSuffix:b.stack&&b.stack.impute?"mid":void 0,expr:"datum"})}}}}}function jh(b,n={fromPrefix:""}){const {mark:a,markDef:g,encoding:p,config:v}=b;var C=g.clip;var P=b.getScaleComponent("x");var fa=b.getScaleComponent("y");P=P&&P.get("selectionExtent")||fa&&fa.get("selectionExtent")?!0:void 0;fa=b.component.projection;C=x(C,P,fa&&!fa.isFit?!0:void 0);P=hc(g);fa=p.key;const Pa=Pg(b);var Xa;if(b.component.selection){for(var kb=
Xa=id(b.component.selection).length,Kb=b.parent;Kb&&0===kb;)kb=id(Kb.component.selection).length,Kb=Kb.parent;Xa=kb?{interactive:0<Xa||!!b.encoding.tooltip}:null}else Xa=null;kb=Yb("aria",g,v);Kb=Xk[a].postEncodingTransform?Xk[a].postEncodingTransform(b):null;return[{name:b.getName("marks"),type:Xk[a].vgMark,...(C?{clip:!0}:{}),...(P?{style:P}:{}),...(fa?{key:fa.field}:{}),...(Pa?{sort:Pa}:{}),...(Xa?Xa:{}),...(!1===kb?{aria:kb}:{}),from:{data:n.fromPrefix+b.requestDataName(nf.Main)},encode:{update:Xk[a].encodeEntry(b)},
...(Kb?{transform:Kb}:{})}]}function Qi(b,n,a,g,p){if("facet"in b)return new Yk(b,n,a,p);if("layer"in b)return new Gm(b,n,a,g,p);if(Je(b))return new Hm(b,n,a,g,p);if("vconcat"in b||"hconcat"in b||"concat"in b)return new Mn(b,n,a,p);throw Error(Db(b));}function Pi(b,n,a={},g){const p=b.config?Vd(b.config):void 0;a=[].concat(b.assembleSelectionData([]),cl(b.component.data,a));const v=b.assembleProjections(),C=b.assembleTitle(),P=b.assembleGroupStyle(),fa=b.assembleGroupEncodeEntry(!0);let Pa=b.assembleLayoutSignals();
Pa=Pa.filter(Kb=>"width"!==Kb.name&&"height"!==Kb.name||void 0===Kb.value?!0:(n[Kb.name]=+Kb.value,!1));const {params:Xa,...kb}=n;return{$schema:"https://vega.github.io/schema/vega/v5.json",...(b.description?{description:b.description}:{}),...kb,...(C?{title:C}:{}),...(P?{style:P}:{}),...(fa?{encode:{update:fa}}:{}),data:a,...(0<v.length?{projections:v}:{}),...b.assembleGroup([...Pa,...b.assembleSelectionTopLevelSignals([]),...Wa(Xa)]),...(p?{config:p}:{}),...(g?{usermeta:g}:{})}}Array.prototype.flat||
Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(n){var g=isNaN(n)?1:Number(n);return g?Array.prototype.reduce.call(this,function(p,v){return Array.isArray(v)?p.push.apply(p,a.call(v,g-1)):p.push(v),p},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(n){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Lh=function(n,a){a||(a={});"function"===
typeof a&&(a={cmp:a});var g="boolean"===typeof a.cycles?a.cycles:!1,p=a.cmp&&function(C){return function(P){return function(fa,Pa){return C({key:fa,value:P[fa]},{key:Pa,value:P[Pa]})}}}(a.cmp),v=[];return function fa(P){P&&P.toJSON&&"function"===typeof P.toJSON&&(P=P.toJSON());if(void 0!==P){if("number"==typeof P)return isFinite(P)?""+P:"null";if("object"!==typeof P)return JSON.stringify(P);var Pa;if(Array.isArray(P)){var Xa="[";for(Pa=0;Pa<P.length;Pa++)Pa&&(Xa+=","),Xa+=fa(P[Pa])||"null";return Xa+
"]"}if(null===P)return"null";if(-1!==v.indexOf(P)){if(g)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var kb=v.push(P)-1,Kb=Object.keys(P).sort(p&&p(P));Xa="";for(Pa=0;Pa<Kb.length;Pa++){var oc=Kb[Pa],tc=fa(P[oc]);tc&&(Xa&&(Xa+=","),Xa+=JSON.stringify(oc)+":"+tc)}v.splice(kb,1);return"{"+Xa+"}"}}(n)};const Tf=function p(a,g){if(a===g)return!0;if(a&&g&&"object"==typeof a&&"object"==typeof g){if(a.constructor!==g.constructor)return!1;var v;if(Array.isArray(a)){var C=
a.length;if(C!=g.length)return!1;for(v=C;0!==v--;)if(!p(a[v],g[v]))return!1;return!0}if(a.constructor===RegExp)return a.source===g.source&&a.flags===g.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===g.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===g.toString();var P=Object.keys(a);C=P.length;if(C!==Object.keys(g).length)return!1;for(v=C;0!==v--;)if(!Object.prototype.hasOwnProperty.call(g,P[v]))return!1;for(v=C;0!==v--;)if(C=P[v],!p(a[C],g[C]))return!1;
return!0}return a!==a&&g!==g},Ae=function(a){var g={exports:{}};return a(g,g.exports),g.exports}(function(a){var g=function(){function p(kb,Kb){return null!=Kb&&kb instanceof Kb}function v(kb,Kb,oc,tc,Qc){function Xc($c,ae){if(null===$c)return null;if(0===ae||"object"!=typeof $c)return $c;if(p($c,fa))var nd=new fa;else if(p($c,Pa))nd=new Pa;else if(p($c,Xa))nd=new Xa(function(pg,sh){$c.then(function(Yh){pg(Xc(Yh,ae-1))},function(Yh){sh(Xc(Yh,ae-1))})});else if(v.__isArray($c))nd=[];else if(v.__isRegExp($c))nd=
new RegExp($c.source,P($c)),$c.lastIndex&&(nd.lastIndex=$c.lastIndex);else if(v.__isDate($c))nd=new Date($c.getTime());else{if(pd&&h.isBuffer($c))return nd=h.allocUnsafe?h.allocUnsafe($c.length):new h($c.length),$c.copy(nd),nd;if(p($c,Error))nd=Object.create($c);else if("undefined"==typeof tc){var jf=Object.getPrototypeOf($c);nd=Object.create(jf)}else nd=Object.create(tc),jf=tc}if(Kb){var Oe=Ec.indexOf($c);if(-1!=Oe)return Yc[Oe];Ec.push($c);Yc.push(nd)}p($c,fa)&&$c.forEach(function(pg,sh){sh=Xc(sh,
ae-1);pg=Xc(pg,ae-1);nd.set(sh,pg)});p($c,Pa)&&$c.forEach(function(pg){pg=Xc(pg,ae-1);nd.add(pg)});for(var Qf in $c){var Uf;jf&&(Uf=Object.getOwnPropertyDescriptor(jf,Qf));Uf&&null==Uf.set||(nd[Qf]=Xc($c[Qf],ae-1))}if(Object.getOwnPropertySymbols)for(Oe=Object.getOwnPropertySymbols($c),Qf=0;Qf<Oe.length;Qf++)if(Uf=Oe[Qf],jf=Object.getOwnPropertyDescriptor($c,Uf),!jf||jf.enumerable||Qc)nd[Uf]=Xc($c[Uf],ae-1),jf.enumerable||Object.defineProperty(nd,Uf,{enumerable:!1});if(Qc)for(Oe=Object.getOwnPropertyNames($c),
Qf=0;Qf<Oe.length;Qf++)Uf=Oe[Qf],jf=Object.getOwnPropertyDescriptor($c,Uf),jf&&jf.enumerable||(nd[Uf]=Xc($c[Uf],ae-1),Object.defineProperty(nd,Uf,{enumerable:!1}));return nd}"object"===typeof Kb&&(oc=Kb.depth,tc=Kb.prototype,Qc=Kb.includeNonEnumerable,Kb=Kb.circular);var Ec=[],Yc=[],pd="undefined"!=typeof h;"undefined"==typeof Kb&&(Kb=!0);"undefined"==typeof oc&&(oc=Infinity);return Xc(kb,oc)}function C(kb){return Object.prototype.toString.call(kb)}function P(kb){var Kb="";kb.global&&(Kb+="g");kb.ignoreCase&&
(Kb+="i");kb.multiline&&(Kb+="m");return Kb}try{var fa=Map}catch(kb){fa=function(){}}try{var Pa=Set}catch(kb){Pa=function(){}}try{var Xa=Promise}catch(kb){Xa=function(){}}v.clonePrototype=function(kb){if(null===kb)return null;var Kb=function(){};Kb.prototype=kb;return new Kb};v.__objToStr=C;v.__isDate=function(kb){return"object"===typeof kb&&"[object Date]"===C(kb)};v.__isArray=function(kb){return"object"===typeof kb&&"[object Array]"===C(kb)};v.__isRegExp=function(kb){return"object"===typeof kb&&
"[object RegExp]"===C(kb)};v.__getRegExpFlags=P;return v}();a.exports&&(a.exports=g)});Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>Lh(a)).join(",")})`};const Te=Lh,id=Object.keys,yf=Object.values,dg=Object.entries;let rf=42;const Mh={theta:1,theta2:1,radius:1,radius2:1},Wf={longitude:1,longitude2:1,latitude:1,latitude2:1},Rg=id(Wf),sf={x:1,y:1,x2:1,y2:1,...Mh,...Wf,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,
text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1},Hf={row:1,column:1,facet:1},$e=id(Hf),ih={...sf,...Hf},Si=id(ih),{order:Rl,detail:Sl,tooltip:Tl,...mg}=ih,{row:Fg,column:Sg,facet:Ul,...xg}=mg,Mj="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),{x:Wl,y:dl,x2:Vl,y2:Xl,latitude:Yl,longitude:$l,latitude2:Zl,longitude2:Rj,theta:hl,theta2:Lf,radius:wk,radius2:zg,...gg}=sf,kh=id(gg),xf={x:1,y:1},ng=id(xf),Nh={theta:1,radius:1},Ti=id(Nh),{text:xk,tooltip:Be,href:eg,url:He,description:$f,
detail:Kf,key:Sj,order:Vg,...Qh}=gg,Yi=id(Qh),Zf={...xf,...Nh,...Qh},qh=id(Zf),Vi={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:fl,...$d}=Vi,Wi={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},
Pj={count:1,min:1,max:1},Ug=["count","valid","missing","distinct"],$i=["count","sum","distinct","valid","missing"],pi=z.toSet("mean average median q1 q3 min max".split(" ")),qi=id({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,
orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),ph={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},oh=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight",
"cornerRadiusBottomLeft","cornerRadiusBottomRight"],Xi=z.logger(z.Warn);let nh=Xi;const yk="january february march april may june july august september october november december".split(" "),Wj=yk.map(a=>a.substr(0,3)),Ui="sunday monday tuesday wednesday thursday friday saturday".split(" "),$k=Ui.map(a=>a.substr(0,3)),xj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},yj=id(xj),wl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},d={LINEAR:"linear",
LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},k={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",
quantize:"discretizing",threshold:"discretizing"},u={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},O="linear log pow sqrt symlog time utc".split(" "),ja=z.toSet(O),mb=z.toSet(["linear","log","pow","sqrt","symlog"]),qb=z.toSet(["quantile","quantize","threshold"]),Mb=O.concat(["quantile","quantize","threshold","sequential","identity"]),Hc=z.toSet(Mb),Fc=z.toSet(["ordinal","bin-ordinal","point",
"band"]),{type:Pd,domain:Sd,range:Pe,rangeMax:We,rangeMin:jg,scheme:Nf,...Bc}={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},vc=id(Bc),Pc={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},
wd=Pc.arc,Fd=Pc.area,Ud=Pc.bar,me=Pc.image,Le=Pc.line,ef=Pc.point,Ie=Pc.rect,kg=Pc.rule,vk=Pc.text,Gl=Pc.tick,Ln=Pc.trail,Hl=Pc.circle,Il=Pc.square,Bm=Pc.geoshape,Im=id(Pc);z.toSet(Im);const Nn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),nm=id({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),km=id({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,
text:1,tick:1,trail:1,geoshape:1}),Kn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},am={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Jm=(a,g)=>{switch(g.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:p,bin:v,timeUnit:C,field:P}=a;q(p)?a=`${P} for argmax(${p.argmax})`:m(p)?a=`${P} for argmin(${p.argmin})`:(a=od(C),a=(a=p||(null===a||
void 0===a?void 0:a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||wa(v)&&"bin")?`${a.toUpperCase()}(${P})`:P)}return a;default:return Ad(a,g)}};let ck=Jm;const mj={compatible:!0},qm={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},
labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,
tickWidth:{part:"ticks",vgProp:"strokeWidth"}},rm=["domain","grid","labels","ticks","title"],rn={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",
labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",
tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Km={orient:1,aria:1,
bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,
maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Fm={...Km,style:1,labelExpr:1,encoding:1},
lm=id({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class Qk{constructor(a,g){this.name=a;this.run=g}hasMatchingType(a){return Je(a)?(a=a.mark,(Wc(a)?a.type:a)===this.name):!1}}const On=new Qk("boxplot",nb),Pn=new Qk("errorbar",Xb),Qn=new Qk("errorband",
t),hm={};y("boxplot",nb,["box","median","outliers","rule","ticks"]);y("errorbar",Xb,["ticks","rule"]);y("errorband",t,["band","borders"]);const Zm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Lm={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},sm={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Rn=id(Lm),sn=id(sm),mm=id({header:1,headerRow:1,headerColumn:1,headerFacet:1}),tm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Um=["background","padding"],Vm=id({align:1,bounds:1,center:1,columns:1,spacing:1}),Wm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},
text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",
clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},wh="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),jm={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},im={blue:wh[0],orange:wh[1],red:wh[2],teal:wh[3],green:wh[4],yellow:wh[5],purple:wh[6],pink:wh[7],brown:wh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",
gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Xm=[...km,...lm,...mm,"background","padding","legend","lineBreak","scale","style","title","view"],$m=["view",...Im],Ym="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),an={view:["continuousWidth",
"continuousHeight","discreteWidth","discreteHeight","step"],area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]};class Jl{map(a,g){return"facet"in a?this.mapFacet(a,g):"repeat"in a?this.mapRepeat(a,g):"hconcat"in a?this.mapHConcat(a,g):"vconcat"in a?this.mapVConcat(a,g):"concat"in a?this.mapConcat(a,g):this.mapLayerOrUnit(a,g)}mapLayerOrUnit(a,g){if("layer"in a)return this.mapLayer(a,
g);if(Je(a))return this.mapUnit(a,g);throw Error(Db(a));}mapLayer(a,g){return{...a,layer:a.layer.map(p=>this.mapLayerOrUnit(p,g))}}mapHConcat(a,g){return{...a,hconcat:a.hconcat.map(p=>this.map(p,g))}}mapVConcat(a,g){return{...a,vconcat:a.vconcat.map(p=>this.map(p,g))}}mapConcat(a,g){const {concat:p,...v}=a;return{...v,concat:p.map(C=>this.map(C,g))}}mapFacet(a,g){return{...a,spec:this.map(a.spec,g)}}mapRepeat(a,g){return{...a,spec:this.map(a.spec,g)}}}const dn={zero:1,center:1,normalize:1},bn=new Set([wd,
Ud,Fd,kg,ef,Hl,Il,Le,vk,Gl]),cn=new Set([Ud,Fd,wd]);class Sn{constructor(){Mc(this,"name","path-overlay")}hasMatchingType(a,g){if(Je(a)){const {mark:p,encoding:v}=a;a=Wc(p)?p:{type:p};switch(a.type){case "line":case "rule":case "trail":return!!Ja(a,g[a.type],v);case "area":return!!Ja(a,g[a.type],v)||!!ib(a,g[a.type])}}return!1}run(a,g,p){var {config:v}=g;const {params:C,projection:P,mark:fa,encoding:Pa,...Xa}=a;a=Af(Pa,v);const kb=Wc(fa)?fa:{type:fa},Kb=Ja(kb,v[kb.type],a),oc="area"===kb.type&&ib(kb,
v[kb.type]);const {point:tc,line:Qc,...Xc}={...("area"===kb.type&&void 0===kb.opacity&&void 0===kb.fillOpacity?{opacity:.7}:{}),...kb};var Ec=1<id(Xc).length?Xc:Xc.type;Ec=[{...(C?{params:C}:{}),mark:Ec,encoding:Hb(a,["shape"])}];const Yc=sa(kb,a);let pd=a;if(Yc){const {fieldChannel:$c,offset:ae}=Yc;pd={...a,[$c]:{...a[$c],...(ae?{stack:ae}:{})}}}oc&&Ec.push({...(P?{projection:P}:{}),mark:{type:"line",...wb(kb,["clip","interpolate","tension","tooltip"]),...oc},encoding:pd});Kb&&Ec.push({...(P?{projection:P}:
{}),mark:{type:"point",opacity:1,filled:!0,...wb(kb,["clip","tooltip"]),...Kb},encoding:pd});for(const $c of["line","area","rule","trail"])v[$c]&&(v={...v,[$c]:Hb(v[$c],["point","line"])});return p({...Xa,layer:Ec},{...g,config:v})}}class Tn{constructor(){Mc(this,"name","RuleForRangedLine")}hasMatchingType(a){if(Je(a)){const {encoding:g,mark:p}=a;if("line"===p||Wc(p)&&"line"===p.type)for(const v of Mj)if(a=H(v),a=g[a],g[v]&&(dd(a)&&!cb(a.bin)||Ce(a)))return!0}return!1}run(a,g,p){const {encoding:v,
mark:C}=a;var P=!!v.x2;pb(`Line mark is for continuous lines and thus cannot be used with ${P&&v.y2?"x2 and y2":P?"x2":"y2"}. We will use the rule mark (line segments) instead.`);console.log(C);return p({...a,mark:z.isObject(C)?{...C,type:"rule"}:"rule"},g)}}class Un extends Jl{constructor(...a){super(...a);Mc(this,"nonFacetUnitNormalizers",[On,Pn,Qn,new Sn,new Tn])}map(a,g){if(Je(a)){const p=af(a.encoding,"row"),v=af(a.encoding,"column"),C=af(a.encoding,"facet");if(p||v||C)return this.mapFacetedUnit(a,
g)}return super.map(a,g)}mapUnit(a,g){const {parentEncoding:p,parentProjection:v}=g;var C=xb(a.encoding,g.repeater);a={...a,...(C?{encoding:C}:{})};if(p||v)return this.mapUnitWithParentEncodingOrProjection(a,g);C=this.mapLayerOrUnit.bind(this);for(const P of this.nonFacetUnitNormalizers)if(P.hasMatchingType(a,g.config))return P.run(a,g,C);return a}mapRepeat(a,g){return!z.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,g):this.mapNonLayerRepeat(a,g)}mapLayerRepeat(a,g){const {repeat:p,spec:v,
...C}=a,{row:P,column:fa,layer:Pa}=p,{repeater:Xa={},repeaterPrefix:kb=""}=g;return P||fa?this.mapRepeat({...a,repeat:{...(P?{row:P}:{}),...(fa?{column:fa}:{})},spec:{repeat:{layer:Pa},spec:v}},g):{...C,layer:Pa.map(Kb=>{var oc={...Xa,layer:Kb};Kb=`${(v.name||"")+kb}child__layer_${Ta(Kb)}`;oc=this.mapLayerOrUnit(v,{...g,repeater:oc,repeaterPrefix:Kb});oc.name=Kb;return oc})}}mapNonLayerRepeat(a,g){var p;const {repeat:v,spec:C,data:P,...fa}=a;!z.isArray(v)&&a.columns&&(a=Hb(a,["columns"]),pb(M("repeat")));
const Pa=[],{repeater:Xa={},repeaterPrefix:kb=""}=g,Kb=!z.isArray(v)&&v.row||[Xa?Xa.row:null],oc=!z.isArray(v)&&v.column||[Xa?Xa.column:null];var tc=z.isArray(v)&&v||[Xa?Xa.repeat:null];for(const Xc of tc)for(const Ec of Kb)for(const Yc of oc){var Qc={repeat:Xc,row:Ec,column:Yc,layer:Xa.layer};tc=(C.name||"")+kb+"child__"+(z.isArray(v)?`${Ta(Xc)}`:(v.row?`row_${Ta(Ec)}`:"")+(v.column?`column_${Ta(Yc)}`:""));Qc=this.map(C,{...g,repeater:Qc,repeaterPrefix:tc});Qc.name=tc;Pa.push(Hb(Qc,["data"]))}a=
z.isArray(v)?a.columns:v.column?v.column.length:1;return{data:null!==(p=C.data)&&void 0!==p?p:P,align:"all",...fa,columns:a,concat:Pa}}mapFacet(a,g){const {facet:p}=a;xe(p)&&a.columns&&(a=Hb(a,["columns"]),pb(M("facet")));return super.mapFacet(a,g)}mapUnitWithParentEncodingOrProjection(a,g){const {encoding:p,projection:v}=a,{parentEncoding:C,parentProjection:P,config:fa}=g,Pa=Lc({parentProjection:P,projection:v});g=ad({parentEncoding:C,encoding:xb(p,g.repeater)});return this.mapUnit({...a,...(Pa?
{projection:Pa}:{}),...(g?{encoding:g}:{})},{config:fa})}mapFacetedUnit(a,g){const {row:p,column:v,facet:C,...P}=a.encoding,{mark:fa,width:Pa,projection:Xa,height:kb,view:Kb,params:oc,encoding:tc,...Qc}=a,{facetMapping:Xc,layout:Ec}=this.getFacetMappingAndLayout({row:p,column:v,facet:C},g);a=xb(P,g.repeater);return this.mapFacet({...Qc,...Ec,facet:Xc,spec:{...(Pa?{width:Pa}:{}),...(kb?{height:kb}:{}),...(Kb?{view:Kb}:{}),...(Xa?{projection:Xa}:{}),mark:fa,encoding:a,...(oc?{params:oc}:{})}},g)}getFacetMappingAndLayout(a,
g){const {row:p,column:v,facet:C}=a;if(p||v){C&&(g=[...(p?["row"]:[]),...(v?["column"]:[])],g=`Facet encoding dropped as ${g.join(" and ")} ${1<g.length?"are":"is"} also specified.`,pb(g));g={};const oc={};for(const tc of["row","column"]){const Qc=a[tc];if(Qc){const {align:Xc,center:Ec,spacing:Yc,columns:pd,...$c}=Qc;g[tc]=$c;for(const ae of["align","center","spacing"])if(void 0!==Qc[ae]){var P;null!==(P=oc[ae])&&void 0!==P?P:oc[ae]={};oc[ae][tc]=Qc[ae]}}}return{facetMapping:g,layout:oc}}const {align:fa,
center:Pa,spacing:Xa,columns:kb,...Kb}=C;a=(a=g.repeater)?xe(Kb)?rc(Kb,a):dc(Kb,a):Kb;return{facetMapping:a,layout:{...(fa?{align:fa}:{}),...(Pa?{center:Pa}:{}),...(Xa?{spacing:Xa}:{}),...(kb?{columns:kb}:{})}}}mapLayer(a,{parentEncoding:g,parentProjection:p,...v}){const {encoding:C,projection:P,...fa}=a;a={...v,parentEncoding:ad({parentEncoding:g,encoding:C,layer:!0}),parentProjection:Lc({parentProjection:p,projection:P})};return super.mapLayer(fa,a)}}class Vn extends Jl{map(a,g){var p,v;null!==
(p=g.emptySelections)&&void 0!==p?p:g.emptySelections={};null!==(v=g.selectionPredicates)&&void 0!==v?v:g.selectionPredicates={};a=Vc(a,g);return super.map(a,g)}mapLayerOrUnit(a,g){a=Vc(a,g);if(a.encoding){const p={};for(const [v,C]of dg(a.encoding))p[v]=bd(C,g);a={...a,encoding:p}}return super.mapLayerOrUnit(a,g)}mapUnit(a,g){const {selection:p,...v}=a;return p?{...v,params:dg(p).map(([C,P])=>{const {init:fa,bind:Pa,empty:Xa,...kb}=P;"single"===kb.type?(kb.type="point",kb.toggle=!1):"multi"===kb.type&&
(kb.type="point");g.emptySelections[C]="none"!==Xa;for(const oc of yf(null!==(Kb=g.selectionPredicates[C])&&void 0!==Kb?Kb:{})){var Kb;oc.empty="none"!==Xa}return{name:C,value:fa,select:kb,bind:Pa}})}:a}}class Kl extends Jl{map(a,g){var p;const v=null!==(p=g.selections)&&void 0!==p?p:[];if(a.params&&!Je(a)){p=[];for(const C of a.params)C.select?v.push(C):p.push(C);a.params=p}g.selections=v;return super.map(a,Td(a,g))}mapUnit(a,g){var p;const v=g.selections;if(!v||!v.length)return a;const C=(null!==
(p=g.path)&&void 0!==p?p:[]).concat(a.name);g=[];for(const P of v)if(P.views&&P.views.length)for(const fa of P.views)(Ra.isString(fa)&&(fa===a.name||0<=C.indexOf(fa))||Ra.isArray(fa)&&fa.map(Pa=>C.indexOf(Pa)).every((Pa,Xa,kb)=>-1!==Pa&&(0===Xa||Pa>kb[Xa-1])))&&g.push(P);else g.push(P);g.length&&(a.params=g);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const g=Kl.prototype[a];Kl.prototype[a]=function(p,v){return g.call(this,p,Td(p,v))}}const fn=new Un,gn=
new Vn,en=new Kl;class ai{constructor(a={},g={}){this.explicit=a;this.implicit=g}clone(){return new ai(Ae(this.explicit),Ae(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(a){return x(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,{value:g,explicit:p}){void 0!==g&&this.set(a,g,p)}set(a,g,p){delete this[p?
"implicit":"explicit"][a];this[p?"explicit":"implicit"][a]=g;return this}copyKeyFromSplit(a,{explicit:g,implicit:p}){void 0!==g[a]?this.set(a,g[a],!0):void 0!==p[a]&&this.set(a,p[a],!1)}copyKeyFromObject(a,g){void 0!==g[a]&&this.set(a,g[a],!0)}copyAll(a){for(const g of id(a.combine())){const p=a.getWithExplicit(g);this.setWithExplicit(g,p)}}}class In extends ai{constructor(a={},g={},p=!1){super(a,g);this.explicit=a;this.implicit=g;this.parseNothing=p}clone(){const a=super.clone();a.parseNothing=this.parseNothing;
return a}}let nf;(function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup"})(nf||(nf={}));const jn=/[[\]{}]/,hn={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let om,pm;class kf{constructor(a,g){this.debugName=g;Mc(this,"_children",[]);Mc(this,"_parent",null);Mc(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=
a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,g){this._children.includes(a)?pb("Attempt to add the same child twice."):void 0!==g?this._children.splice(g,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const g of this._children)g._parent=this._parent,this._parent.addChild(g,a++)}insertAsParentOf(a){const g=a.parent;g.removeChild(this);
this.parent=g;a.parent=this}swapWithParent(){const a=this._parent,g=a.parent;for(const p of this._children)p.parent=a;this._children=[];a.removeChild(this);a.parent.removeChild(a);this.parent=g;a.parent=this}}class ag extends kf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,g,p,v){super(a,g);this.type=p;this.refCounts=v;Mc(this,
"_source",void 0);Mc(this,"_name",void 0);this._source=this._name=g;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${L()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class vh extends kf{clone(){return new vh(null,Ae(this.formula))}constructor(a,
g){super(a);this.formula=g}static makeFromEncoding(a,g){g=g.reduceFieldDef((p,v)=>{const {field:C,timeUnit:P}=v;P&&(v=fc(v,{forAs:!0}),p[hb({as:v,field:C,timeUnit:P})]={as:v,field:C,timeUnit:P});return p},{});return Qa(g)?null:new vh(a,g)}static makeFromTransform(a,g){const {timeUnit:p,...v}={...g};g=od(p);g={...v,timeUnit:g};return new vh(a,{[hb(g)]:g})}merge(a){this.formula={...this.formula};for(const g in a.formula)this.formula[g]||(this.formula[g]=a.formula[g]);for(const g of a.children)a.removeChild(g),
g.parent=this;a.remove()}removeFormulas(a){const g={};for(const [p,v]of dg(this.formula))a.has(v.as)||(g[p]=v);this.formula=g}producedFields(){return new Set(yf(this.formula).map(a=>a.as))}dependentFields(){return new Set(yf(this.formula).map(a=>a.field))}hash(){return`TimeUnit ${hb(this.formula)}`}assemble(){const a=[];for(const g of yf(this.formula)){const {field:p,as:v,timeUnit:C}=g,{unit:P,utc:fa,...Pa}=od(C);a.push({field:Aa(p),type:"timeunit",...(P?{units:kc(P)}:{}),...(fa?{timezone:"utc"}:
{}),...Pa,as:[v,`${v}_end`]})}return a}}class Wn{constructor(...a){Mc(this,"hasChannel",void 0);Mc(this,"hasField",void 0);Mc(this,"timeUnit",void 0);Mc(this,"items",void 0);this.items=a;this.hasChannel={};this.hasField={}}}const Zh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,g)=>{const p=g.scales=[];for(const C of g.project.items){var v=C.channel;if(!Zf[v])continue;const P=(v=a.getScaleComponent(v))?v.get("type"):void 0;v&&P in Hc?(v.set("selectionExtent",
{param:g.name,field:C.field},!0),p.push(C)):pb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,g,p)=>{const v=g.scales.filter(P=>0===p.filter(fa=>fa.name===P.signals.data).length);if(!a.parent||Yj(a)||0===v.length)return p;a=p.filter(P=>P.name===g.name)[0];let C=a.update;if(0<=C.indexOf("vlSelectionResolve"))a.update=`{${v.map(P=>`${z.stringValue(Aa(P.field))}: ${P.signals.data}`).join(", ")}}`;else{for(const P of v){const fa=`${z.stringValue(Aa(P.field))}: ${P.signals.data}`;
C.includes(fa)||(C=`${C.substring(0,C.length-1)}, ${fa}}`)}a.update=C}return p.concat(v.map(P=>({name:P.signals.data})))},signals:(a,g,p)=>{if(a.parent&&!Yj(a))for(const v of g.scales)a=p.filter(C=>C.name===v.signals.data)[0],a.push="outer",delete a.value,delete a.update;return p}},kn={left:"x",center:"xc",right:"x2"},ln={top:"y",middle:"yc",bottom:"y2"},mn=new Set(["aria","width","height"]),Mm={defined:a=>"point"===a.type&&a.nearest,parse:(a,g)=>{if(g.events)for(const p of g.events)p.markname=a.getName("voronoi")},
marks:(a,g,p)=>{const {x:v,y:C}=g.project.hasChannel;g=a.mark;if(ic(g))return pb(`The "nearest" transform is not supported for ${g} marks.`),p;g={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...oi(a,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:v||!C?"datum.datum.x || 0":"0"},y:{expr:C||!v?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),
a.getSizeSignalRef("height")]}]};let P=0,fa=!1;p.forEach((Pa,Xa)=>{var kb;Pa=null!==(kb=Pa.name)&&void 0!==kb?kb:"";Pa===a.component.mark[0].name?P=Xa:0<=Pa.indexOf("voronoi")&&(fa=!0)});fa||p.splice(P+1,0,g);return p}},Nm={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!S(a.bind),parse:(a,g,p)=>$g(g,p),topLevelSignals:(a,g,p)=>{const v=g.name;a=g.project;const C=g.bind,P=g.init&&g.init[0],fa=Mm.defined(g)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((Pa,
Xa)=>{const kb=Ta(`${v}_${Pa.field}`);if(!p.filter(tc=>tc.name===kb).length){var Kb,oc;p.unshift({name:kb,...(P?{init:Xf(P[Xa])}:{value:null}),on:g.events?[{events:g.events,update:`datum && item().mark.marktype !== 'group' ? ${fa}[${z.stringValue(Pa.field)}] : null`}]:[],bind:null!==(Kb=null!==(oc=C[Pa.field])&&void 0!==oc?oc:C[Pa.channel])&&void 0!==Kb?Kb:C})}});return p},signals:(a,g,p)=>{const v=g.name;var C=g.project;a=p.filter(fa=>fa.name===v+"_tuple")[0];g=v+"_tuple_fields";C=C.items.map(fa=>
Ta(`${v}_${fa.field}`));const P=C.map(fa=>`${fa} !== null`).join(" \x26\x26 ");C.length&&(a.update=`${P} ? {fields: ${g}, values: [${C.join(", ")}]} : null`);delete a.value;delete a.on;return p}},Om={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,g,p)=>p.concat({name:g.name+"_toggle",value:!1,on:[{events:g.events,update:g.toggle}]}),modifyExpr:(a,g)=>{const p=g.name+"_tuple",v=g.name+"_toggle";return`${v} ? null : ${p}, `+("global"===g.resolve?`${v} ? null : true, `:`${v} ? null : {unit: ${Zg(a)}}, `)+
`${v} ? ${p} : null`}},um={defined:a=>{const g="global"===a.resolve&&a.bind&&S(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;g&&!a&&pb("Legend bindings are only supported for selections over an individual field or encoding channel.");return g&&a},parse:(a,g,p)=>{a=Ae(p);a.select=z.isString(a.select)?{type:a.select,toggle:g.toggle}:{...a.select,toggle:g.toggle};$g(g,a);if(Ra.isObject(p.select)&&(p.select.on||p.select.clear))for(const C of g.events){var v;C.filter=z.array(null!==
(v=C.filter)&&void 0!==v?v:[]);C.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||C.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}p=ba(g.bind)?g.bind.legend:"click";p=z.isString(p)?mf(p,"view"):z.array(p);g.bind={legend:{merge:p}}},topLevelSignals:(a,g,p)=>{a=g.name;const v=ba(g.bind)&&g.bind.legend,C=fa=>Pa=>{Pa=Ae(Pa);Pa.markname=fa;return Pa};for(const fa of g.project.items){if(!fa.hasLegend)continue;var P=`${Ta(fa.field)}_legend`;
const Pa=`${a}_${P}`;0===p.filter(Xa=>Xa.name===Pa).length&&(P=v.merge.map(C(`${P}_symbols`)).concat(v.merge.map(C(`${P}_labels`))).concat(v.merge.map(C(`${P}_entries`))),p.unshift({name:Pa,...(g.init?{}:{value:null}),on:[{events:P,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:v.merge,update:`!event.item || !datum ? null : ${Pa}`,force:!0}]}))}return p},signals:(a,g,p)=>{const v=g.name;var C=g.project;a=p.find(fa=>fa.name===v+"_tuple");var P=v+"_tuple_fields";C=C.items.filter(fa=>
fa.hasLegend).map(fa=>Ta(`${v}_${Ta(fa.field)}_legend`));P=`${C.map(fa=>`${fa} !== null`).join(" \x26\x26 ")} ? {fields: ${P}, values: [${C.join(", ")}]} : null`;g.events&&0<C.length?a.on.push({events:C.map(fa=>({signal:fa})),update:P}):0<C.length&&(a.update=P,delete a.value,delete a.on);a=p.find(fa=>fa.name===v+"_toggle");P=ba(g.bind)&&g.bind.legend;a&&(g.events?a.on.push({...a.on[0],events:P}):a.on[0].events=P);return p}},Rk=[{defined:a=>"point"===a.type,signals:(a,g,p)=>{const v=g.name;var C=v+
"_tuple_fields";const P=g.project.items.map(fa=>{const Pa=a.fieldDef(fa.channel);return Pa&&Pa.bin?`[${"(item().isVoronoi ? datum.datum : datum)"}[${z.stringValue(a.vgField(fa.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${z.stringValue(a.vgField(fa.channel,{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${z.stringValue(fa.field)}]`}).join(", ");C=`unit: ${Zg(a)}, fields: ${C}, values`;g=g.events;return p.concat([{name:v+"_tuple",on:g?[{events:g,update:`datum && item().mark.marktype !== 'group' ? {${C}: [${P}]} : null`,
force:!0}]:[]}])}},{defined:a=>"interval"===a.type,signals:(a,g,p)=>{const v=g.name;var C=v+"_tuple_fields";const P=Zh.defined(g),fa=g.init?g.init[0]:null,Pa=[],Xa=[];if(g.translate&&!P){const kb=`!event.item || event.item.mark.name !== ${z.stringValue(v+"_brush")}`;lg(g,(Kb,oc)=>{var tc,Qc;oc=z.array(null!==(Qc=(tc=oc.between[0]).filter)&&void 0!==Qc?Qc:tc.filter=[]);oc.includes(kb)||oc.push(kb);return Kb})}g.project.items.forEach((kb,Kb)=>{const oc=kb.channel;if("x"!==oc&&"y"!==oc)pb("Interval selections only support x and y encoding channels.");
else{Kb=kl(a,g,kb,fa?fa[Kb]:null);var tc=kb.signals.data;kb=kb.signals.visual;var Qc=z.stringValue(a.scaleName(oc)),Xc=a.getScaleComponent(oc).get("type")in Hc?"+":"";p.push(...Kb);Pa.push(tc);Xa.push({scaleName:a.scaleName(oc),expr:`(!isArray(${tc}) || `+`(${Xc}invert(${Qc}, ${kb})[0] === ${Xc}${tc}[0] && `+`${Xc}invert(${Qc}, ${kb})[1] === ${Xc}${tc}[1]))`})}});P||p.push({name:v+"_scale_trigger",value:{},on:[{events:Xa.map(kb=>({scale:kb.scaleName})),update:`${Xa.map(kb=>kb.expr).join(" \x26\x26 ")} ? ${v+
"_scale_trigger"} : {}`}]});C=`unit: ${Zg(a)}, fields: ${C}, values`;return p.concat({name:v+"_tuple",...(fa?{init:`{${C}: ${Xf(fa)}}`}:{}),on:[{events:[{signal:Pa.join(" || ")}],update:`${Pa.join(" \x26\x26 ")} ? {${C}: [${Pa}]} : null`}]})},marks:(a,g,p)=>{const v=g.name,{x:C,y:P}=g.project.hasChannel,fa=C&&C.signals.visual,Pa=P&&P.signals.visual,Xa=`data(${z.stringValue(g.name+"_store")})`;if(Zh.defined(g))return p;const kb={x:void 0!==C?{signal:`${fa}[0]`}:{value:0},y:void 0!==P?{signal:`${Pa}[0]`}:
{value:0},x2:void 0!==C?{signal:`${fa}[1]`}:{field:{group:"width"}},y2:void 0!==P?{signal:`${Pa}[1]`}:{field:{group:"height"}}};if("global"===g.resolve)for(const Xc of id(kb))kb[Xc]=[{test:`${Xa}.length && ${Xa}[0].unit === ${Zg(a)}`,...kb[Xc]},{value:0}];const {fill:Kb,fillOpacity:oc,cursor:tc,...Qc}=g.mark;a=id(Qc).reduce((Xc,Ec)=>{Xc[Ec]=[{test:[void 0!==C&&`${fa}[0] !== ${fa}[1]`,void 0!==P&&`${Pa}[0] !== ${Pa}[1]`].filter(Yc=>Yc).join(" \x26\x26 "),value:Qc[Ec]},{value:null}];return Xc},{});
return[{name:`${v+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:Kb},fillOpacity:{value:oc}},update:kb}},...p,{name:v+"_brush",type:"rect",clip:!0,encode:{enter:{...(tc?{cursor:{value:tc}}:{}),fill:{value:"transparent"}},update:{...kb,...a}}}]}},{defined:()=>!0,parse:(a,g,p)=>{var v;const C=g.name,P=null!==(v=g.project)&&void 0!==v?v:g.project=new Wn,fa={};v={};const Pa=new Set,Xa=(pd,$c)=>{pd="visual"===$c?pd.channel:pd.field;let ae=Ta(`${C}_${pd}`);for(let nd=1;Pa.has(ae);nd++)ae=
Ta(`${C}_${pd}_${nd}`);Pa.add(ae);return{[$c]:ae}},kb=g.type,Kb=a.config.selection[kb],oc=void 0!==p.value?z.array(p.value):null;let {fields:tc,encodings:Qc}=z.isObject(p.select)?p.select:{};if(!tc&&!Qc&&oc)for(var Xc of oc)if(z.isObject(Xc))for(const pd of id(Xc))xg[pd]?(Qc||(Qc=[])).push(pd):"interval"===kb?(pb('Interval selections should be initialized using "x" and/or "y" keys.'),Qc=Kb.encodings):(tc||(tc=[])).push(pd);tc||Qc||(Qc=Kb.encodings,tc=Kb.fields);for(const pd of null!==(Ec=Qc)&&void 0!==
Ec?Ec:[]){var Ec;(Ec=a.fieldDef(pd))?(p=Ec.field,Ec.aggregate?pb(`Cannot project a selection on encoding channel "${pd}" as it uses an aggregate function ("${Ec.aggregate}").`):p?(Ec.timeUnit&&(p=a.vgField(pd),Xc={timeUnit:Ec.timeUnit,as:p,field:Ec.field},v[hb(Xc)]=Xc),fa[p]||(Xc="E","interval"===kb?a.getScaleComponent(pd).get("type")in Hc&&(Xc="R"):Ec.bin&&(Xc="R-RE"),Ec={field:p,channel:pd,type:Xc},Ec.signals={...Xa(Ec,"data"),...Xa(Ec,"visual")},P.items.push(fa[p]=Ec),P.hasField[p]=P.hasChannel[pd]=
fa[p])):pb(gd(pd))):pb(gd(pd))}for(const pd of null!==(Yc=tc)&&void 0!==Yc?Yc:[]){var Yc;P.hasField[pd]||(a={type:"E",field:pd},a.signals={...Xa(a,"data")},P.items.push(a),P.hasField[pd]=a)}oc&&(g.init=oc.map(pd=>P.items.map($c=>z.isObject(pd)?void 0!==pd[$c.channel]?pd[$c.channel]:pd[$c.field]:pd)));Qa(v)||(P.timeUnit=new vh(null,v))},signals:(a,g,p)=>{const v=g.name+"_tuple_fields";return 0<p.filter(C=>C.name===v).length?p:p.concat({name:v,value:g.project.items.map(C=>{const {signals:P,hasLegend:fa,
...Pa}=C;Pa.field=Aa(Pa.field);return Pa})})}},Om,Nm,Zh,um,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,g)=>{g.clear&&(g.clear=z.isString(g.clear)?mf(g.clear,"view"):g.clear)},topLevelSignals:(a,g,p)=>{if(Nm.defined(g))for(const v of g.project.items)a=p.findIndex(C=>C.name===Ta(`${g.name}_${v.field}`)),-1!==a&&p[a].on.push({events:g.clear,update:"null"});return p},signals:(a,g,p)=>{function v(C,P){-1!==C&&p[C].on&&p[C].on.push({events:g.clear,update:P})}if("interval"===g.type)for(const C of g.project.items)a=
p.findIndex(P=>P.name===C.signals.visual),v(a,"[0, 0]"),-1===a&&(a=p.findIndex(P=>P.name===C.signals.data),v(a,"null"));else a=p.findIndex(C=>C.name===g.name+"_tuple"),v(a,"null"),Om.defined(g)&&(a=p.findIndex(C=>C.name===g.name+"_toggle"),v(a,"false"));return p}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,g,p)=>{const v=g.name,C=Zh.defined(g),P=v+"_translate_anchor",{x:fa,y:Pa}=g.project.hasChannel;let Xa=mf(g.translate,"scope");C||(Xa=Xa.map(kb=>(kb.between[0].markname=v+"_brush",kb)));
p.push({name:P,value:{},on:[{events:Xa.map(kb=>kb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==fa?`, extent_x: ${C?Oj(a,"x"):`slice(${fa.signals.visual})`}`:"")+(void 0!==Pa?`, extent_y: ${C?Oj(a,"y"):`slice(${Pa.signals.visual})`}`:"")+"}"}]},{name:v+"_translate_delta",value:{},on:[{events:Xa,update:`{x: ${P}.x - x(unit), y: ${P}.y - y(unit)}`}]});void 0!==fa&&Ai(a,g,fa,"width",p);void 0!==Pa&&Ai(a,g,Pa,"height",p);return p}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,g,p)=>{const v=
g.name,C=Zh.defined(g),P=v+"_zoom_delta",{x:fa,y:Pa}=g.project.hasChannel,Xa=z.stringValue(a.scaleName("x")),kb=z.stringValue(a.scaleName("y"));let Kb=mf(g.zoom,"scope");C||(Kb=Kb.map(oc=>(oc.markname=v+"_brush",oc)));p.push({name:v+"_zoom_anchor",on:[{events:Kb,update:C?"{"+[Xa?`x: invert(${Xa}, x(unit))`:"",kb?`y: invert(${kb}, y(unit))`:""].filter(oc=>!!oc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:P,on:[{events:Kb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});
void 0!==fa&&tj(a,g,fa,"width",p);void 0!==Pa&&tj(a,g,Pa,"height",p);return p}},Mm];Vf.prototype.visit=function(a){let g,p,v;if(a(this))return 1;g=sj(this);p=0;for(v=g.length;p<v;++p)if(g[p].visit(a))return 1};var de,Zc,Yf,Ve,nn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
on=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const pn={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},qn={"if":1};class ek extends kf{clone(){return new ek(null,
this.model,Ae(this.filter))}constructor(a,g,p){super(a);this.model=g;this.filter=p;Mc(this,"expr",void 0);Mc(this,"_dependentFields",void 0);this.expr=ti(this.model,this.filter,this);this._dependentFields=dh(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const Em={scale:({model:a,channel:g})=>a.scaleName(g),format:({fieldOrDatumDef:a,config:g,axis:p})=>{const {format:v,formatType:C}=
p;return Ze(a,a.type,v,C,g,!0)},formatType:({axis:a,fieldOrDatumDef:g,scaleType:p})=>{({formatType:a}=a);return Qd(a,g,p)},grid:({fieldOrDatumDef:a,axis:g,scaleType:p})=>{var v;return null!==(v=g.grid)&&void 0!==v?v:!(p in Fc)&&dd(a)&&!wa(null===a||void 0===a?void 0:a.bin)&&!cb(null===a||void 0===a?void 0:a.bin)},gridScale:({model:a,channel:g})=>{g="x"===g?"y":"x";a=a.getScaleComponent(g)?a.scaleName(g):void 0;return a},labelAlign:({axis:a,labelAngle:g,orient:p,channel:v})=>a.labelAlign||Ch(g,p,v),
labelAngle:({labelAngle:a})=>a,labelBaseline:({axis:a,labelAngle:g,orient:p,channel:v})=>a.labelBaseline||Bg(g,p,v),labelFlush:({axis:a,fieldOrDatumDef:g,channel:p})=>{var v;a=null!==(v=a.labelFlush)&&void 0!==v?v:"x"===p&&Ha(["quantitative","temporal"],g.type)?!0:void 0;return a},labelOverlap:({axis:a,fieldOrDatumDef:g,scaleType:p})=>{var v;null!==(v=a.labelOverlap)&&void 0!==v?p=v:(a=g.type,v=dd(g)&&!!g.timeUnit,g=dd(g)?g.sort:void 0,p=v&&!z.isObject(g)||"nominal"!==a&&"ordinal"!==a?"log"===p||
"symlog"===p?"greedy":!0:void 0);return p},orient:({orient:a})=>a,tickCount:({channel:a,model:g,axis:p,fieldOrDatumDef:v,scaleType:C})=>{var P;g=(a="x"===a?"width":"y"===a?"height":void 0)?g.getSizeSignalRef(a):void 0;return null!==(P=p.tickCount)&&void 0!==P?P:gi({fieldOrDatumDef:v,scaleType:C,size:g,values:p.values})},title:({axis:a,model:g,channel:p})=>{if(void 0!==a.title)return a.title;a=Dh(g,p);if(void 0!==a)return a;a=g.typedFieldDef(p);g=g.fieldDef("x"===p?"x2":"y2");return Gc(a?[Yd(a)]:[],
dd(g)?[Yd(g)]:[])},values:({axis:a,fieldOrDatumDef:g})=>{a=a.values;g=z.isArray(a)?ff(g,a):Da(a)?a:void 0;return g},zindex:({axis:a,fieldOrDatumDef:g,mark:p})=>{var v;a=null!==(v=a.zindex)&&void 0!==v?v:"rect"===p&&Tc(g)?1:0;return a}};class fk extends kf{clone(){return new fk(null,Ae(this.transform))}constructor(a,g){super(a);this.transform=g;Mc(this,"_dependentFields",void 0);this._dependentFields=dh(this.transform.calculate)}static parseAllForSortIndex(a,g){g.forEachFieldDef((p,v)=>{if(Cb(p)&&
Xd(p.sort)){const {field:P,timeUnit:fa}=p;var C=p.sort;C=C.map((Pa,Xa)=>`${be({field:P,timeUnit:fa,equal:Pa})} ? ${Xa} : `).join("")+C.length;a=new fk(a,{calculate:C,as:Kg(p,v,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${hb(this.transform)}`}}const Ll=["row","column"],Ml=["header","footer"],Xn={column:{start:0,
end:1},row:{start:1,end:0}},vm=id({aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,
rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,
fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1});class tn extends ai{}const xm={symbols:function(a,{fieldOrDatumDef:g,model:p,channel:v,legendCmpt:C,legendType:P}){var fa,Pa,Xa,kb;if("symbol"===P){var {markDef:Kb,encoding:oc,config:tc,mark:Qc}=p;P=Kb.filled&&"trail"!==Qc;var Xc={};for(var Ec of Nn){const nd=Ic(Ec,p.markDef,p.config);void 0!==nd&&(Xc[Ec]=Fb(nd))}Ec={...Xc,...Qj(p,{filled:P})};Xc=null!==(fa=C.get("symbolOpacity"))&&void 0!==fa?fa:tc.legend.symbolOpacity;fa=null!==(Pa=C.get("symbolFillColor"))&&
void 0!==Pa?Pa:tc.legend.symbolFillColor;Pa=null!==(Xa=C.get("symbolStrokeColor"))&&void 0!==Xa?Xa:tc.legend.symbolStrokeColor;Xa=void 0===Xc?null!==(kb=Bj(oc.opacity))&&void 0!==kb?kb:Kb.opacity:void 0;if(Ec.fill)if("fill"===v||P&&"color"===v)delete Ec.fill;else if(Ec.fill.field)if(fa)delete Ec.fill;else{var Yc;Ec.fill=Fb(null!==(Yc=tc.legend.symbolBaseFillColor)&&void 0!==Yc?Yc:"black");Ec.fillOpacity=Fb(null!==Xa&&void 0!==Xa?Xa:1)}else if(z.isArray(Ec.fill)){var pd,$c,ae;if(kb=null!==(pd=null!==
($c=ji(null!==(ae=oc.fill)&&void 0!==ae?ae:oc.color))&&void 0!==$c?$c:Kb.fill)&&void 0!==pd?pd:P&&Kb.color)Ec.fill=Fb(kb)}Ec.stroke&&("stroke"===v||!P&&"color"===v?delete Ec.stroke:Ec.stroke.field||Pa?delete Ec.stroke:z.isArray(Ec.stroke)&&(pd=x(ji(oc.stroke||oc.color),Kb.stroke,P?Kb.color:void 0))&&(Ec.stroke={value:pd}));"opacity"!==v&&((g=dd(g)&&Zi(p,C,g))?Ec.opacity=[{test:g,...Fb(null!==Xa&&void 0!==Xa?Xa:1)},Fb(tc.legend.unselectedOpacity)]:Xa&&(Ec.opacity=Fb(Xa)));Ec={...Ec,...a};return Qa(Ec)?
void 0:Ec}},gradient:function(a,{model:g,legendType:p,legendCmpt:v}){var C;if("gradient"===p){var {config:P,markDef:fa,encoding:Pa}=g;g={};if(v=void 0===(null!==(C=v.get("gradientOpacity"))&&void 0!==C?C:P.legend.gradientOpacity)?Bj(Pa.opacity)||fa.opacity:void 0)g.opacity=Fb(v);g={...g,...a};return Qa(g)?void 0:g}},labels:function(a,{fieldOrDatumDef:g,model:p,channel:v,legendCmpt:C}){v=p.legend(v)||{};const P=p.config;p=(p=dd(g)?Zi(p,C,g):void 0)?[{test:p,value:1},{value:P.legend.unselectedOpacity}]:
void 0;const {format:fa,formatType:Pa}=v;g=Wd(Pa)?lf({fieldOrDatumDef:g,field:"datum.value",format:fa,formatType:Pa,config:P}):void 0;a={...(p?{opacity:p}:{}),...(g?{text:g}:{}),...a};return Qa(a)?void 0:a},entries:function(a,{legendCmpt:g}){g=g.get("selections");return null!==g&&void 0!==g&&g.length?{...a,fill:{value:"transparent"}}:a}},wm={direction:({direction:a})=>a,format:({fieldOrDatumDef:a,legend:g,config:p})=>{const {format:v,formatType:C}=g;return Ze(a,a.type,v,C,p,!1)},formatType:({legend:a,
fieldOrDatumDef:g,scaleType:p})=>{({formatType:a}=a);return Qd(a,g,p)},gradientLength:a=>{var g,p;const {legend:v,legendConfig:C}=a;return null!==(g=null!==(p=v.gradientLength)&&void 0!==p?p:C.gradientLength)&&void 0!==g?g:gl(a)},labelOverlap:({legend:a,legendConfig:g,scaleType:p})=>{var v,C;a=null!==(v=null!==(C=a.labelOverlap)&&void 0!==C?C:g.labelOverlap)&&void 0!==v?v:Ha(["quantile","threshold","log","symlog"],p)?"greedy":void 0;return a},symbolType:({legend:a,markDef:g,channel:p,encoding:v})=>
{var C;if(null!==(C=a.symbolType)&&void 0!==C)var P=C;else a:{a=g.type;g=g.shape;if("shape"!==p&&(p=null!==(P=ji(v.shape))&&void 0!==P?P:g)){P=p;break a}switch(a){case "bar":case "rect":case "image":case "square":P="square";break a;case "line":case "trail":case "rule":P="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":P="circle";break a}P=void 0}return P},title:({fieldOrDatumDef:a,config:g})=>Gd(a,g,{allowDisabling:!0}),type:({legendType:a,
scaleType:g,channel:p})=>{if(Ca(p)&&g in ja){if("gradient"===a)return}else if("symbol"===a)return;return a},values:({fieldOrDatumDef:a,legend:g})=>{g=g.values;a=z.isArray(g)?ff(a,g):Da(g)?g:void 0;return a}},un="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class ym extends ai{constructor(a,g,p,v){super({...g},{name:a});this.specifiedProjection=g;this.size=p;this.data=v;Mc(this,"merged",!1)}get isFit(){return!!this.data}}
class uh extends kf{clone(){return new uh(null,Ae(this.bins))}constructor(a,g){super(a);this.bins=g}static makeFromEncoding(a,g){const p=g.reduceFieldDef((v,C,P)=>{if(W(C)&&wa(C.bin)){const {key:Kb,binComponent:oc}=Mi(C,C.bin,g);var fa={...v[Kb]};var Pa=g.config;if(gf(C,P)){var Xa,kb;P=of(g)?null!==(Xa=null!==(kb=g.axis(P))&&void 0!==kb?kb:g.legend(P))&&void 0!==Xa?Xa:{}:{};Xa=fc(C,{expr:"datum"});kb=fc(C,{expr:"datum",binSuffix:"end"});C={formulaAs:fc(C,{binSuffix:"range",forAs:!0}),formula:gc(Xa,
kb,P.format,P.formatType,Pa)}}else C={};v[Kb]={...oc,...fa,...C}}return v},{});return Qa(p)?null:new uh(a,p)}static makeFromTransform(a,g,p){const {key:v,binComponent:C}=Mi(g,g.bin,p);return new uh(a,{[v]:C})}merge(a,g){for(const p of id(a.bins))p in this.bins?(g(a.bins[p].signal,this.bins[p].signal),this.bins[p].as=na([...this.bins[p].as,...a.bins[p].as],hb)):this.bins[p]=a.bins[p];for(const p of a.children)a.removeChild(p),p.parent=this;a.remove()}producedFields(){return new Set(yf(this.bins).map(a=>
a.as).flat(2))}dependentFields(){return new Set(yf(this.bins).map(a=>a.field))}hash(){return`Bin ${hb(this.bins)}`}assemble(){return yf(this.bins).flatMap(a=>{const g=[],[p,...v]=a.as,{extent:C,...P}=a.bin;var fa={type:"bin",field:Aa(a.field),as:p,signal:a.signal,...(gb(C)?{extent:null}:{extent:C}),...(a.span?{span:{signal:`span(${a.span})`}}:{}),...P};!C&&a.extentSignal&&(g.push({type:"extent",field:Aa(a.field),signal:a.extentSignal}),fa.extent={signal:a.extentSignal});g.push(fa);for(const Pa of v)for(fa=
0;2>fa;fa++)g.push({type:"formula",expr:fc({field:p[fa]},{expr:"datum"}),as:Pa[fa]});a.formula&&g.push({type:"formula",expr:a.formula,as:a.formulaAs});return g})}}class Yg extends kf{clone(){return new Yg(null,new Set(this.dimensions),Ae(this.measures))}constructor(a,g,p){super(a);this.dimensions=g;this.measures=p}get groupBy(){return this.dimensions}static makeFromEncoding(a,g){let p=!1;g.forEachFieldDef(P=>{P.aggregate&&(p=!0)});const v={},C=new Set;if(!p)return null;g.forEachFieldDef((P,fa)=>{const {aggregate:Pa,
field:Xa}=P;if(Pa)if("count"===Pa){var kb;null!==(kb=v["*"])&&void 0!==kb?kb:v["*"]={};v["*"].count=new Set([fc(P,{forAs:!0})])}else{if(m(Pa)||q(Pa)){var Kb;P=m(Pa)?"argmin":"argmax";kb=Pa[P];null!==(Kb=v[kb])&&void 0!==Kb?Kb:v[kb]={};v[kb][P]=new Set([fc({op:P,field:kb},{forAs:!0})])}else{var oc;null!==(oc=v[Xa])&&void 0!==oc?oc:v[Xa]={};v[Xa][Pa]=new Set([fc(P,{forAs:!0})])}if(Zf[fa]&&"unaggregated"===g.scaleDomain(fa)){var tc;null!==(tc=v[Xa])&&void 0!==tc?tc:v[Xa]={};v[Xa].min=new Set([fc({field:Xa,
aggregate:"min"},{forAs:!0})]);v[Xa].max=new Set([fc({field:Xa,aggregate:"max"},{forAs:!0})])}}else Kb=of(g)?g.encoding[ca(fa)]:void 0,W(P)&&of(g)&&Ed(P,Kb,g.markDef,g.config)?(C.add(fc(P,{})),C.add(fc(P,{suffix:"end"})),P.bin&&gf(P,fa)&&C.add(fc(P,{binSuffix:"range"}))):fa in Wf?(fa=ea(fa),C.add(g.getName(fa))):C.add(fc(P))});return 0===C.size+id(v).length?null:new Yg(a,C,v)}static makeFromTransform(a,g){const p=new Set,v={};for(const Pa of g.aggregate){const {op:Xa,field:kb,as:Kb}=Pa;if(Xa)if("count"===
Xa){var C;null!==(C=v["*"])&&void 0!==C?C:v["*"]={};v["*"].count=new Set([Kb?Kb:fc(Pa,{forAs:!0})])}else{var P;null!==(P=v[kb])&&void 0!==P?P:v[kb]={};v[kb][Xa]=new Set([Kb?Kb:fc(Pa,{forAs:!0})])}}for(const Pa of null!==(fa=g.groupby)&&void 0!==fa?fa:[]){var fa;p.add(Pa)}return 0===p.size+id(v).length?null:new Yg(a,p,v)}merge(a){if(Ba(this.dimensions,a.dimensions)){var g=this.measures;a=a.measures;for(const v of id(a)){const C=a[v];for(const P of id(C))if(v in g){var p;g[v][P]=new Set([...(null!==
(p=g[v][P])&&void 0!==p?p:[]),...C[P]])}else g[v]={[P]:C[P]}}return!0}nh.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...id(this.measures)])}producedFields(){const a=new Set;for(const g of id(this.measures))for(const p of id(this.measures[g])){const v=this.measures[g][p];0===v.size?a.add(`${p}_${g}`):v.forEach(a.add,a)}return a}hash(){return`Aggregate ${hb({dimensions:this.dimensions,
measures:this.measures})}`}assemble(){const a=[],g=[],p=[];for(const v of id(this.measures))for(const C of id(this.measures[v]))for(const P of this.measures[v][C])p.push(P),a.push(C),g.push("*"===v?null:Aa(v));return{type:"aggregate",groupby:[...this.dimensions].map(Aa),ops:a,fields:g,as:p}}}class oj extends kf{constructor(a,g,p,v){super(a);this.model=g;this.name=p;this.data=v;Mc(this,"column",void 0);Mc(this,"row",void 0);Mc(this,"facet",void 0);Mc(this,"childModel",void 0);for(const C of $e)if(a=
g.facet[C]){const {bin:P,sort:fa}=a;this[C]={name:g.getName(`${C}_domain`),fields:[fc(a),...(wa(P)?[fc(a,{binSuffix:"end"})]:[])],...(Uc(fa)?{sortField:fa}:z.isArray(fa)?{sortIndexField:Kg(a,C)}:{})}}this.childModel=g.child}hash(){let a="Facet";for(const g of $e)this[g]&&(a+=` ${g.charAt(0)}:${hb(this[g])}`);return a}get fields(){const a=[];for(const p of $e){var g;null!==(g=this[p])&&void 0!==g&&g.fields&&a.push(...this[p].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const g of $e)this[g]&&
(this[g].sortField&&a.add(this[g].sortField.field),this[g].sortIndexField&&a.add(this[g].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const v of ng){var g=this.childModel.component.scales[v];if(g&&!g.merged){var p=g.get("type");g=g.get("range");p in Fc&&sb(g)&&(p=vg(this.childModel,v),(p=bk(p))?a[v]=p:pb(pc(v)))}}return a}assembleRowColumnHeaderData(a,g,p){const v={row:"y",column:"x",facet:void 0}[a],C=[],
P=[],fa=[];v&&p&&p[v]&&(g?(C.push(`distinct_${p[v]}`),P.push("max")):(C.push(p[v]),P.push("distinct")),fa.push(`distinct_${p[v]}`));const {sortField:Pa,sortIndexField:Xa}=this[a];if(Pa){const {op:kb="min",field:Kb}=Pa;C.push(Kb);P.push(kb);fa.push(fc(Pa,{forAs:!0}))}else Xa&&(C.push(Xa),P.push("max"),fa.push(Xa));return{name:this[a].name,source:null!==g&&void 0!==g?g:this.data,transform:[{type:"aggregate",groupby:this[a].fields,...(C.length?{fields:C,ops:P,as:fa}:{})}]}}assembleFacetHeaderData(a){const {columns:g}=
this.model.layout,{layoutHeaders:p}=this.model.component,v=[],C={};for(const Kb of Ll){for(const oc of Ml){var P,fa=null!==(P=p[Kb]&&p[Kb][oc])&&void 0!==P?P:[];for(const tc of fa){var Pa;if(0<(null===(Pa=tc.axes)||void 0===Pa?void 0:Pa.length)){C[Kb]=!0;break}}}C[Kb]&&(fa=`length(data("${this.facet.name}"))`,v.push({name:`${this.facet.name}_${Kb}`,transform:[{type:"sequence",start:0,stop:"row"===Kb?g?{signal:`ceil(${fa} / ${g})`}:1:g?{signal:`min(${fa}, ${g})`}:{signal:fa}}]}))}const {row:Xa,column:kb}=
C;(Xa||kb)&&v.unshift(this.assembleRowColumnHeaderData("facet",null,a));return v}assemble(){const a=[];var g=null;const p=this.getChildIndependentFieldsWithStep(),{column:v,row:C,facet:P}=this;if(v&&C&&(p.x||p.y)){var fa,Pa;g=`cross_${this.column.name}_${this.row.name}`;const Xa=[].concat(null!==(fa=p.x)&&void 0!==fa?fa:[],null!==(Pa=p.y)&&void 0!==Pa?Pa:[]);fa=Xa.map(()=>"distinct");a.push({name:g,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Xa,ops:fa}]})}for(const Xa of["column",
"row"])this[Xa]&&a.push(this.assembleRowColumnHeaderData(Xa,g,p));P&&(g=this.assembleFacetHeaderData(p))&&a.push(...g);return a}}class bg extends kf{clone(){return new bg(null,Ae(this._parse))}constructor(a,g){super(a);Mc(this,"_parse",void 0);this._parse=g}hash(){return`Parse ${hb(this._parse)}`}static makeExplicit(a,g,p){let v={};g=g.data;!Ye(g)&&g&&g.format&&g.format.parse&&(v=g.format.parse);return this.makeWithAncestors(a,v,{},p)}static makeWithAncestors(a,g,p,v){for(var C of id(p)){const fa=
v.getWithExplicit(C);void 0!==fa.value&&(fa.explicit||fa.value===p[C]||"derived"===fa.value||"flatten"===p[C]?delete p[C]:pb(oa(C,p[C],fa.value)))}for(var P of id(g))C=v.get(P),void 0!==C&&(C===g[P]?delete g[P]:pb(oa(P,g[P],C)));g=new ai(g,p);v.copyAll(g);p={};for(const fa of id(g.combine()))P=g.get(fa),null!==P&&(p[fa]=P);return 0===id(p).length||v.parseNothing?null:new bg(a,p)}get parse(){return this._parse}merge(a){this._parse={...this._parse,...a.parse};a.remove()}assembleFormatParse(){const a=
{};for(const g of id(this._parse)){const p=this._parse[g];1===I(g)&&(a[g]=p)}return a}producedFields(){return new Set(id(this._parse))}dependentFields(){return new Set(id(this._parse))}assembleTransforms(a=!1){return id(this._parse).filter(g=>a?1<I(g):!0).map(g=>{const p=nl(g,this._parse[g]);return p?{type:"formula",expr:p,as:Va(g)}:null}).filter(g=>null!==g)}}class xi extends kf{clone(){return new xi(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class Sk extends kf{clone(){return new Sk(null,this.params)}constructor(a,g){super(a);this.params=g}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${hb(this.params)}`}assemble(){return{type:"graticule",...(!0===this.params?{}:this.params)}}}class Tk extends kf{clone(){return new Tk(null,this.params)}constructor(a,g){super(a);this.params=g}dependentFields(){return new Set}producedFields(){var a;return new Set([null!==(a=this.params.as)&&void 0!==a?a:"data"])}hash(){return`Hash ${hb(this.params)}`}assemble(){return{type:"sequence",
...this.params}}}class wi extends kf{constructor(a){var g;super(null);Mc(this,"_data",void 0);Mc(this,"_name",void 0);Mc(this,"_generator",void 0);null!==(g=a)&&void 0!==g?g:a={name:"source"};let p;Ye(a)||(p=a.format?{...Hb(a.format,["parse"])}:{});if("values"in a)this._data={values:a.values};else if("url"in a)this._data={url:a.url},p.type||(g=/(?:\.([^.]+))?$/.exec(a.url)[1],Ha(["json","csv","tsv","dsv","topojson"],g)||(g="json"),p.type=g);else if("sphere"in a)this._data={values:[{type:"Sphere"}]};
else if(Fe(a)||Ye(a))this._data={};this._generator=Ye(a);a.name&&(this._name=a.name);p&&!Qa(p)&&(this._data.format=p)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");
}assemble(){return{name:this._name,...this._data,transform:[]}}}var Zk=new WeakMap;class Nl{constructor(){Zk.set(this,{writable:!0,value:void 0});zd(this,Zk,!1)}setModified(){zd(this,Zk,!0)}get modifiedFlag(){var a=Rd(this,Zk,"get");return a.get?a.get.call(this):a.value}}class yi extends Nl{getNodeDepths(a,g,p){p.set(a,g);for(const v of a.children)this.getNodeDepths(v,g+1,p);return p}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((g,p)=>p[1]-g[1]);for(const g of a)this.run(g[0]);
return this.modifiedFlag}}class Ol extends Nl{optimize(a){this.run(a);for(const g of a.children)this.optimize(g);return this.modifiedFlag}}class En extends Ol{mergeNodes(a,g){const p=g.shift();for(const v of g)a.removeChild(v),v.parent=p,v.remove()}run(a){const g=a.children.map(v=>v.hash()),p={};for(let v=0;v<g.length;v++)void 0===p[g[v]]?p[g[v]]=[a.children[v]]:p[g[v]].push(a.children[v]);for(const v of id(p))1<p[v].length&&(this.setModified(),this.mergeNodes(a,p[v]))}}class wn extends Ol{constructor(a){super();
Mc(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&yh(a)}run(a){!(a instanceof xi)||this.requiresSelectionId&&(og(a.parent)||a.parent instanceof Yg||a.parent instanceof bg)||(this.setModified(),a.remove())}}class An extends Nl{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,g){let p=new Set;a instanceof vh&&(p=a.producedFields(),Fa(p,g)&&(this.setModified(),a.removeFormulas(g),0===a.producedFields.length&&a.remove()));for(const v of a.children)this.run(v,new Set([...g,
...p]))}}class vn extends Ol{constructor(){super()}run(a){a instanceof ag&&!a.isRequired()&&(this.setModified(),a.remove())}}class yn extends yi{run(a){if(!(og(a)||1<a.numChildren()))for(const g of a.children)g instanceof bg&&(a instanceof bg?(this.setModified(),a.merge(g)):ra(a.producedFields(),g.dependentFields())||(this.setModified(),g.swapWithParent()))}}class Bn extends yi{run(a){const g=[...a.children];var p=a.children.filter(C=>C instanceof bg);if(1<a.numChildren()&&1<=p.length){const C={};
var v=new Set;for(const P of p){p=P.parse;for(const fa of id(p))fa in C?C[fa]!==p[fa]&&v.add(fa):C[fa]=p[fa]}for(const P of v)delete C[P];if(!Qa(C)){this.setModified();v=new bg(a,C);for(const P of g){if(P instanceof bg)for(const fa of id(C))delete P.parse[fa];a.removeChild(P);P.parent=v;P instanceof bg&&0===id(P.parse).length&&P.remove()}}}}}class xn extends yi{run(a){a instanceof ag||0<a.numChildren()||a instanceof oj||a instanceof wi||(this.setModified(),a.remove())}}class Dn extends yi{run(a){a=
a.children.filter(p=>p instanceof vh);const g=a.pop();for(const p of a)this.setModified(),g.merge(p)}}class Cn extends yi{run(a){var g=a.children.filter(C=>C instanceof Yg);const p={};for(var v of g)g=hb(v.groupBy),g in p||(p[g]=[]),p[g].push(v);for(const C of id(p))if(v=p[C],1<v.length){g=v.pop();for(const P of v)g.merge(P)&&(a.removeChild(P),P.parent=g,P.remove(),this.setModified())}}}class zn extends yi{constructor(a){super();this.model=a}run(a){var g=!(og(a)||a instanceof ek||a instanceof bg||
a instanceof xi);const p=[],v=[];for(const C of a.children)C instanceof uh&&(g&&!ra(a.producedFields(),C.dependentFields())?p.push(C):v.push(C));if(0<p.length){g=p.pop();for(const C of p)g.merge(C,this.model.renameSignal.bind(this.model));this.setModified();a instanceof uh?a.merge(g,this.model.renameSignal.bind(this.model)):g.swapWithParent()}if(1<v.length){a=v.pop();for(const C of v)a.merge(C,this.model.renameSignal.bind(this.model));this.setModified()}}}class Fn extends yi{run(a){var g=[...a.children];
if(Sa(g,C=>C instanceof ag)&&!(1>=a.numChildren())){var p=[];for(const C of g)if(C instanceof ag){for(g=C;1===g.numChildren();){const [P]=g.children;if(P instanceof ag)g=P;else break}p.push(...g.children);if(v)a.removeChild(C),C.parent=v.parent,v.parent.removeChild(v),v.parent=g,this.setModified();else var v=g}else p.push(C);if(p.length){this.setModified();for(const C of p)C.parent.removeChild(C),C.parent=v}}}}class pj extends kf{clone(){return new pj(null,Ae(this.transform))}constructor(a,g){super(a);
this.transform=g}addDimensions(a){this.transform.groupby=na(this.transform.groupby.concat(a),g=>g)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(g=>g.field).filter(g=>void 0!==g).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){var g;return null!==(g=a.as)&&void 0!==g?g:fc(a)}hash(){return`JoinAggregateTransform ${hb(this.transform)}`}assemble(){const a=
[],g=[],p=[];for(var v of this.transform.joinaggregate)g.push(v.op),p.push(this.getDefaultName(v)),a.push(void 0===v.field?null:v.field);v=this.transform.groupby;return{type:"joinaggregate",as:p,ops:g,fields:a,...(void 0!==v?{groupby:v}:{})}}}class $h extends kf{clone(){return new $h(null,Ae(this._stack))}constructor(a,g){super(a);Mc(this,"_stack",void 0);this._stack=g}static makeFromTransform(a,g){const {stack:p,groupby:v,as:C,offset:P="zero"}=g;var fa=[];const Pa=[];if(void 0!==g.sort)for(const Xa of g.sort)fa.push(Xa.field),
Pa.push(x(Xa.order,"ascending"));fa={field:fa,order:Pa};g=Gh(C)?C:z.isString(C)?[C,`${C}_end`]:[`${g.stack}_start`,`${g.stack}_end`];return new $h(a,{stackField:p,groupby:v,offset:P,sort:fa,facetby:[],as:g})}static makeFromEncoding(a,g){var p=g.stack,{encoding:v}=g;if(!p)return null;const {groupbyChannel:C,fieldChannel:P,offset:fa,impute:Pa}=p;let Xa;C&&(Xa=qe(v[C]));p=ok(g);v=g.encoding.order;v=z.isArray(v)||dd(v)?Bd(v):p.reduce((kb,Kb)=>{kb.field.push(Kb);kb.order.push("y"===P?"descending":"ascending");
return kb},{field:[],order:[]});return new $h(a,{dimensionFieldDef:Xa,stackField:g.vgField(P),facetby:[],stackby:p,sort:v,offset:fa,impute:Pa,as:[g.vgField(P,{suffix:"start",forAs:!0}),g.vgField(P,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${hb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDef:a,
impute:g,groupby:p}=this._stack;return a?a.bin?g?[fc(a,{binSuffix:"mid"})]:[fc(a,{}),fc(a,{binSuffix:"end"})]:[fc(a)]:null!==p&&void 0!==p?p:[]}assemble(){const a=[],{facetby:g,dimensionFieldDef:p,stackField:v,stackby:C,sort:P,offset:fa,impute:Pa,as:Xa}=this._stack;if(Pa&&p){const {bandPosition:kb=.5,bin:Kb}=p;Kb&&a.push({type:"formula",expr:`${kb}*`+fc(p,{expr:"datum"})+`+${1-kb}*`+fc(p,{expr:"datum",binSuffix:"end"}),as:fc(p,{binSuffix:"mid",forAs:!0})});a.push({type:"impute",field:v,groupby:[...C,
...g],key:fc(p,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...g],field:v,sort:P,as:Xa,offset:fa});return a}}class dk extends kf{clone(){return new dk(null,Ae(this.transform))}constructor(a,g){super(a);this.transform=g}addDimensions(a){this.transform.groupby=na(this.transform.groupby.concat(a),g=>g)}dependentFields(){var a,g;const p=new Set;(null!==(a=this.transform.groupby)&&void 0!==a?a:[]).forEach(p.add,p);(null!==(g=this.transform.sort)&&
void 0!==g?g:[]).forEach(v=>p.add(v.field));this.transform.window.map(v=>v.field).filter(v=>void 0!==v).forEach(p.add,p);return p}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){var g;return null!==(g=a.as)&&void 0!==g?g:fc(a)}hash(){return`WindowTransform ${hb(this.transform)}`}assemble(){const a=[],g=[],p=[],v=[];for(var C of this.transform.window)g.push(C.op),p.push(this.getDefaultName(C)),v.push(void 0===C.param?null:C.param),a.push(void 0===C.field?
null:C.field);C=this.transform.frame;const P=this.transform.groupby;if(C&&null===C[0]&&null===C[1]&&g.every(kb=>w(kb)))return{type:"joinaggregate",as:p,ops:g,fields:a,...(void 0!==P?{groupby:P}:{})};const fa=[],Pa=[];if(void 0!==this.transform.sort)for(const kb of this.transform.sort){var Xa;fa.push(kb.field);Pa.push(null!==(Xa=kb.order)&&void 0!==Xa?Xa:"ascending")}Xa=this.transform.ignorePeers;return{type:"window",params:v,as:p,ops:g,fields:a,sort:{field:fa,order:Pa},...(void 0!==Xa?{ignorePeers:Xa}:
{}),...(void 0!==P?{groupby:P}:{}),...(void 0!==C?{frame:C}:{})}}}class qg{constructor(a){Mc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,g){return new qg(()=>a(g))}}class Am extends ai{constructor(a,g){super({},{name:a});Mc(this,"merged",!1);this.setWithExplicit("type",g)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:Sa(this.get("domains"),a=>z.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const Gn=["range","scheme"],zm={bins:({model:a,
fieldOrDatumDef:g})=>dd(g)?sl(a,g):void 0,interpolate:({channel:a,fieldOrDatumDef:g})=>{g=g.type;a=Ha(["color","fill","stroke"],a)&&"nominal"!==g?"hcl":void 0;return a},nice:({scaleType:a,channel:g,domain:p,fieldOrDatumDef:v})=>{var C;a=null!==(C=qe(v))&&void 0!==C&&C.bin||z.isArray(p)||Ha([d.TIME,d.UTC],a)?void 0:g in xf?!0:void 0;return a},padding:({channel:a,scaleType:g,fieldOrDatumDef:p,markDef:v,config:C})=>{a:{var P=C.scale;C=C.bar;if(a in xf){if(g in ja){if(void 0!==P.continuousPadding){a=
P.continuousPadding;break a}const {type:fa,orient:Pa}=v;if("bar"===fa&&(!dd(p)||!p.bin&&!p.timeUnit)&&("vertical"===Pa&&"x"===a||"horizontal"===Pa&&"y"===a)){a=C.continuousBandSize;break a}}if(g===d.POINT){a=P.pointPadding;break a}}a=void 0}return a},paddingInner:({scalePadding:a,channel:g,markDef:p,config:v})=>{if(void 0!==a)a=void 0;else if(g in xf){const {bandPaddingInner:C,barBandPaddingInner:P,rectBandPaddingInner:fa}=v.scale;a=x(C,"bar"===p.type?P:fa)}else a=void 0;return a},paddingOuter:({scalePadding:a,
channel:g,scaleType:p,scalePaddingInner:v,config:C})=>{void 0!==a?v=void 0:g in xf&&p===d.BAND?({bandPaddingOuter:a}=C.scale,v=x(a,Da(v)?{signal:`${v.signal}/2`}:v/2)):v=void 0;return v},reverse:({fieldOrDatumDef:a,scaleType:g,channel:p,config:v})=>{a=dd(a)?a.sort:void 0;v=v.scale;g="x"===p&&void 0!==v.xReverse?g in Hc&&"descending"===a?Da(v.xReverse)?{signal:`!${v.xReverse.signal}`}:!v.xReverse:v.xReverse:g in Hc&&"descending"===a?!0:void 0;return g},zero:({channel:a,fieldOrDatumDef:g,domain:p,markDef:v,
scaleType:C})=>{a:if(p&&"unaggregated"!==p&&C in Hc){if(z.isArray(p)&&(a=p[p.length-1],0>=p[0]&&0<=a)){p=!0;break a}p=!1}else if("size"!==a||"quantitative"!==g.type||C in qb)if(dd(g)&&g.bin||!Ha([...ng,...Ti],a))p=!1;else{const {orient:P,type:fa}=v;p=Ha(["bar","area","line","trail"],fa)&&("horizontal"===P&&"y"===a||"vertical"===P&&"x"===a)?!1:!0}else p=!0;return p}},Hn=Ne((a,g)=>u[a]-u[g]);class Pl{constructor(){Mc(this,"nameMap",void 0);this.nameMap={}}rename(a,g){this.nameMap[a]=g}has(a){return void 0!==
this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class Ql{constructor(a,g,p,v,C,P,fa){var Pa,Xa;this.type=g;this.parent=p;this.config=C;Mc(this,"name",void 0);Mc(this,"size",void 0);Mc(this,"title",void 0);Mc(this,"description",void 0);Mc(this,"data",void 0);Mc(this,"transforms",void 0);Mc(this,"layout",void 0);Mc(this,"scaleNameMap",void 0);Mc(this,"projectionNameMap",void 0);Mc(this,"signalNameMap",void 0);Mc(this,"component",void 0);Mc(this,"view",void 0);
Mc(this,"children",[]);Mc(this,"correctDataNames",kb=>{kb.from&&kb.from.data&&(kb.from.data=this.lookupDataSource(kb.from.data));kb.from&&kb.from.facet&&kb.from.facet.data&&(kb.from.facet.data=this.lookupDataSource(kb.from.facet.data));return kb});this.parent=p;this.config=C;this.view=G(fa);this.name=null!==(Pa=a.name)&&void 0!==Pa?Pa:v;this.title=ka(a.title)?{text:a.title}:a.title?G(a.title):void 0;this.scaleNameMap=p?p.scaleNameMap:new Pl;this.projectionNameMap=p?p.projectionNameMap:new Pl;this.signalNameMap=
p?p.signalNameMap:new Pl;this.data=a.data;this.description=a.description;this.transforms=Oc(null!==(Xa=a.transform)&&void 0!==Xa?Xa:[]);this.layout="layer"===g||"unit"===g?{}:cc(a,g,C);this.component={data:{sources:p?p.component.data.sources:[],outputNodes:p?p.component.data.outputNodes:{},outputNodeRefCounts:p?p.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||p&&p.component.data.isFaceted&&void 0===a.data},layoutSize:new ai,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},
axis:{},legend:{},...(P?Ae(P):{})},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){ul(this)}parseProjection(){li(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Cg(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var a,g;return null!==(a=null===(g=this.view)||void 0===g?void 0:g.style)&&void 0!==a?a:"cell"}}assembleEncodeFromView(a){const {style:g,...p}=a;a={};for(const v of id(p)){const C=p[v];void 0!==C&&(a[v]=Fb(C))}return a}assembleGroupEncodeEntry(a){let g={};
this.view&&(g=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(g.description=Fb(this.description)),"unit"===this.type||"layer"===this.type)){var p;return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...(null!==(p=g)&&void 0!==p?p:{})}}return Qa(g)?void 0:g}assembleLayout(){if(this.layout){var {spacing:a,...g}=this.layout,{component:p,config:v}=this;var C=p.layoutHeaders;var P={};for(const Pa of $e){var fa=C[Pa];if(null!==fa&&void 0!==fa&&fa.facetFieldDef){const {titleAnchor:Xa,
titleOrient:kb}=hi(["titleAnchor","titleOrient"],fa.facetFieldDef.header,v,Pa);fa=Gi(Pa,kb);const Kb=Xn[fa][Xa];void 0!==Kb&&(P[fa]=Kb)}}C=Qa(P)?void 0:P;return{padding:a,...this.assembleDefaultLayout(),...g,...(C?{titleBand:C}:{})}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,g=[];for(var p of $e)if(a[p].title){var v=g,C=v.push;var P=p;var fa=this.component.layoutHeaders[P].title,Pa=this.config?this.config:void 0,Xa=this.component.layoutHeaders[P].facetFieldDef?
this.component.layoutHeaders[P].facetFieldDef:void 0;const {titleAnchor:Xc,titleAngle:Ec,titleOrient:Yc}=hi(["titleAnchor","titleAngle","titleOrient"],Xa.header,Pa,P);var kb=Gi(P,Yc),Kb=R(Ec);P={name:`${P}-title`,type:"group",role:`${kb}-title`,title:{text:fa,...("row"===P?{orient:"left"}:{}),style:"guide-title",...Ck(Kb,kb),...Hi(kb,Kb,Xc),...fj(Pa,Xa,P,Rn,Lm)}};C.call(v,P)}for(const Xc of Ll){a=g;g=a.concat;v=Xc;C=this.component.layoutHeaders[v];p=[];for(const Ec of Ml)if(C[Ec])for(const Yc of C[Ec]){a:{kb=
void 0;P=v;fa=Ec;var oc=C;if(Pa=Yc){Xa=null;({facetFieldDef:Qc}=oc);Kb=this.config?this.config:void 0;if(Qc&&Pa.labels){var {labelOrient:tc}=hi(["labelOrient"],Qc.header,Kb,P);if("row"===P&&!Ha(["top","bottom"],tc)||"column"===P&&!Ha(["left","right"],tc))Xa=ej(Qc,P,Kb)}tc=Mf(this)&&!xe(this.facet);const pd=Pa.axes,$c=0<(null===pd||void 0===pd?void 0:pd.length);if(Xa||$c){const ae="row"===P?"height":"width";Kb=this.getName(`${P}_${fa}`);if(oc.facetFieldDef){oc={data:this.getName(`${P}_domain`)};{const {sort:nd}=
Qc;var Qc=Uc(nd)?{field:fc(nd,{expr:"datum"}),order:null!==(kb=nd.order)&&void 0!==kb?kb:"ascending"}:z.isArray(nd)?{field:Kg(Qc,P,{expr:"datum"}),order:"ascending"}:{field:fc(Qc,{expr:"datum"}),order:null!==nd&&void 0!==nd?nd:"ascending"}}kb={from:oc,sort:Qc}}else kb={};P={name:Kb,type:"group",role:`${P}-${fa}`,...kb,...($c&&tc?{from:{data:this.getName(`facet_domain_${P}`)}}:{}),...(Xa?{title:Xa}:{}),...(Pa.sizeSignal?{encode:{update:{[ae]:Pa.sizeSignal}}}:{}),...($c?{axes:pd}:{})};break a}}P=null}null!=
P&&p.push(P)}g=g.call(a,p)}return g}assembleAxes(){return mk(this.component.axes,this.config)}assembleLegends(){return Fh(this)}assembleProjections(){var a=uf(this)||wg(this)?Ng(this):Li(this);return a}assembleTitle(){var a;const {encoding:g,...p}=null!==(a=this.title)&&void 0!==a?a:{};a={...Q(this.config.title).nonMark,...p,...(g?{encode:{update:g}}:{})};if(a.text){if(Ha(["unit","layer"],this.type)){if(Ha(["middle",void 0],a.anchor)){var v;null!==(v=a.frame)&&void 0!==v?v:a.frame="group"}}else{var C;
null!==(C=a.anchor)&&void 0!==C?C:a.anchor="start"}return Qa(a)?void 0:a}}assembleGroup(a=[]){const g={};a=a.concat(this.assembleSignals());0<a.length&&(g.signals=a);if(a=this.assembleLayout())g.layout=a;g.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||Mf(this.parent)?rk(this):[];0<a.length&&(g.scales=a);a=this.assembleAxes();0<a.length&&(g.axes=a);a=this.assembleLegends();0<a.length&&(g.legends=a);return g}getName(a){return Ta((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(nf[a].toLowerCase())}requestDataName(a){a=
this.getDataName(a);const g=this.component.data.outputNodeRefCounts;g[a]=(g[a]||0)+1;return a}getSizeSignalRef(a){if(Mf(this.parent)){var g=Eh(a),p=c(g);if((g=this.component.scales[p])&&!g.merged){var v=g.get("type");const C=g.get("range");if(v in Fc&&sb(C)){a=g.get("name");v=vg(this,p);if(v=bk(v))return p=fc({aggregate:"distinct",field:v},{expr:"datum"}),{signal:ii(a,g,p)};pb(pc(p));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const g=this.component.data.outputNodes[a];
return g?g.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,g){this.signalNameMap.rename(a,g)}renameScale(a,g){this.scaleNameMap.rename(a,g)}renameProjection(a,g){this.projectionNameMap.rename(a,g)}scaleName(a,g){if(g)return this.getName(a);if(ih[a]&&Zf[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const g=this.component.scales[a];return g&&!g.merged?g:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,g){let p=this.component.selection[a];!p&&this.parent&&(p=this.parent.getSelectionComponent(a,
g));if(!p)throw Error(`Cannot find a selection named "${g}".`);return p}hasAxisOrientSignalRef(){var a,g;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(p=>p.hasOrientSignalRef()))||(null===(g=this.component.axes.y)||void 0===g?void 0:g.some(p=>p.hasOrientSignalRef()))}}class Pm extends Ql{vgField(a,g={}){if(a=this.fieldDef(a))return fc(a,g)}reduceFieldDef(a,g){return A(this.getMapping(),(p,v,C)=>(v=qe(v))?a(p,v,C):p,g)}forEachFieldDef(a,g){Df(this.getMapping(),(p,v)=>{(p=qe(p))&&
a(p,v)},g)}}class Al extends kf{clone(){return new Al(null,Ae(this.transform))}constructor(a,g){var p,v,C;super(a);this.transform=g;this.transform=Ae(g);a=null!==(p=this.transform.as)&&void 0!==p?p:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:"value",null!==(C=a[1])&&void 0!==C?C:"density"]}dependentFields(){var a;return new Set([this.transform.density,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${hb(this.transform)}`}assemble(){const {density:a,
...g}=this.transform;return{type:"kde",field:a,...g}}}class Uk extends kf{clone(){return new Uk(null,{...this.filter})}constructor(a,g){super(a);this.filter=g}static make(a,g){const {config:p,mark:v,markDef:C}=g;if("filter"!==Yb("invalid",C,p))return null;const P=g.reduceFieldDef((fa,Pa,Xa)=>{(Xa=!!Zf[Xa]&&g.getScaleComponent(Xa))&&Xa.get("type")in Hc&&"count"!==Pa.aggregate&&!ic(v)&&(fa[Pa.field]=Pa);return fa},{});return id(P).length?new Uk(a,P):null}dependentFields(){return new Set(id(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${hb(this.filter)}`}assemble(){const a=
id(this.filter).reduce((g,p)=>{p=this.filter[p];const v=fc(p,{expr:"datum"});null!==p&&("temporal"===p.type?g.push(`(isDate(${v}) || (isValid(${v}) && isFinite(+${v})))`):"quantitative"===p.type&&(g.push(`isValid(${v})`),g.push(`isFinite(+${v})`)));return g},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class zl extends kf{clone(){return new zl(this.parent,Ae(this.transform))}constructor(a,g){super(a);this.transform=g;this.transform=Ae(g);const {flatten:p,as:v=[]}=this.transform;
this.transform.as=p.map((C,P)=>{var fa;return null!==(fa=v[P])&&void 0!==fa?fa:C})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${hb(this.transform)}`}assemble(){const {flatten:a,as:g}=this.transform;return{type:"flatten",fields:a,as:g}}}class yl extends kf{clone(){return new yl(null,Ae(this.transform))}constructor(a,g){var p,v,C;super(a);this.transform=g;this.transform=Ae(g);a=null!==(p=this.transform.as)&&
void 0!==p?p:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:"key",null!==(C=a[1])&&void 0!==C?C:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${hb(this.transform)}`}assemble(){const {fold:a,as:g}=this.transform;return{type:"fold",fields:a,as:g}}}class gk extends kf{clone(){return new gk(null,Ae(this.fields),this.geojson,this.signal)}static parseAll(a,g){if(g.component.projection&&!g.component.projection.isFit)return a;
let p=0;for(var v of[["longitude","latitude"],["longitude2","latitude2"]]){const C=v.map(P=>{P=Nd(g.encoding[P]);return dd(P)?P.field:Ce(P)?{expr:`${P.datum}`}:Ma(P)?{expr:`${P.value}`}:void 0});if(C[0]||C[1])a=new gk(a,C,null,g.getName(`geojson_${p++}`))}g.channelHasField("shape")&&(v=g.typedFieldDef("shape"),"geojson"===v.type&&(a=new gk(a,null,v.field,g.getName(`geojson_${p++}`))));return a}constructor(a,g,p,v){super(a);this.fields=g;this.geojson=p;this.signal=v}dependentFields(){var a;const g=
(null!==(a=this.fields)&&void 0!==a?a:[]).filter(z.isString);return new Set([...(this.geojson?[this.geojson]:[]),...g])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${hb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[]),{type:"geojson",...(this.fields?{fields:this.fields}:{}),...(this.geojson?{geojson:this.geojson}:{}),signal:this.signal}]}}class Vk extends kf{clone(){return new Vk(null,this.projection,
Ae(this.fields),Ae(this.as))}constructor(a,g,p,v){super(a);this.projection=g;this.fields=p;this.as=v}static parseAll(a,g){if(!g.projectionName())return a;for(const p of[["longitude","latitude"],["longitude2","latitude2"]]){const v=p.map(P=>{P=Nd(g.encoding[P]);return dd(P)?P.field:Ce(P)?{expr:`${P.datum}`}:Ma(P)?{expr:`${P.value}`}:void 0}),C="longitude2"===p[0]?"2":"";if(v[0]||v[1])a=new Vk(a,g.projectionName(),v,[g.getName(`x${C}`),g.getName(`y${C}`)])}return a}dependentFields(){return new Set(this.fields.filter(z.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${hb(this.fields)} ${hb(this.as)}`}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class qj extends kf{clone(){return new qj(null,Ae(this.transform))}constructor(a,g){super(a);this.transform=g}dependentFields(){var a;return new Set([this.transform.impute,this.transform.key,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:g=0,stop:p,step:v}=a;return{signal:`sequence(${[g,p,...(v?[v]:[])].join()})`}}static makeFromTransform(a,
g){return new qj(a,g)}static makeFromEncoding(a,g){const p=g.encoding;var v=p.x;const C=p.y;if(dd(v)&&dd(C)){const P=v.impute?v:C.impute?C:void 0;if(void 0===P)return;v=v.impute?C:C.impute?v:void 0;const {method:fa,value:Pa,frame:Xa,keyvals:kb}=P.impute;g=D(g.mark,p);return new qj(a,{impute:P.field,key:v.field,...(fa?{method:fa}:{}),...(void 0!==Pa?{value:Pa}:{}),...(Xa?{frame:Xa}:{}),...(void 0!==kb?{keyvals:kb}:{}),...(g.length?{groupby:g}:{})})}return null}hash(){return`Impute ${hb(this.transform)}`}assemble(){const {impute:a,
key:g,keyvals:p,method:v,groupby:C,value:P,frame:fa=[null,null]}=this.transform,Pa={type:"impute",field:a,key:g,...(p?{keyvals:void 0!==(null===p||void 0===p?void 0:p.stop)?this.processSequence(p):p}:{}),method:"value",...(C?{groupby:C}:{}),value:v&&"value"!==v?null:P};return v&&"value"!==v?[Pa,{type:"window",as:[`imputed_${a}_value`],ops:[v],fields:[a],frame:fa,ignorePeers:!1,...(C?{groupby:C}:{})},{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]:[Pa]}}class Bl extends kf{clone(){return new Bl(null,
Ae(this.transform))}constructor(a,g){var p,v,C;super(a);this.transform=g;this.transform=Ae(g);a=null!==(p=this.transform.as)&&void 0!==p?p:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:g.on,null!==(C=a[1])&&void 0!==C?C:g.loess]}dependentFields(){var a;return new Set([this.transform.loess,this.transform.on,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${hb(this.transform)}`}assemble(){const {loess:a,
on:g,...p}=this.transform;return{type:"loess",x:g,y:a,...p}}}class Wk extends kf{clone(){return new Wk(null,Ae(this.transform),this.secondary)}constructor(a,g,p){super(a);this.transform=g;this.secondary=p}static make(a,g,p,v){const C=g.component.data.sources,{from:P}=p;var fa=null;if("data"in P)fa=Ij(P.data,C),fa||(fa=new wi(P.data),C.push(fa)),v=g.getName(`lookup_${v}`),fa=new ag(fa,v,nf.Lookup,g.component.data.outputNodeRefCounts),g.component.data.outputNodes[v]=fa;else if("param"in P){v=P.param;
p={as:v,...p};let Pa;try{Pa=g.getSelectionComponent(Ta(v),v)}catch(Xa){throw Error(`Lookups can only be performed on selection parameters. "${v}" is a variable parameter.`);}fa=Pa.materialized;if(!fa)throw Error(`Cannot define and lookup the "${v}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Wk(a,p,fa.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?z.array(this.transform.as):
this.transform.from.fields)}hash(){return`Lookup ${hb({transform:this.transform,secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a={values:this.transform.from.fields,...(this.transform.as?{as:z.array(this.transform.as)}:{})};else a=this.transform.as,z.isString(a)||(pb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return{type:"lookup",from:this.secondary,key:this.transform.from.key,
fields:[this.transform.lookup],...a,...(this.transform.default?{default:this.transform.default}:{})}}}class Cl extends kf{clone(){return new Cl(null,Ae(this.transform))}constructor(a,g){var p,v,C;super(a);this.transform=g;this.transform=Ae(g);a=null!==(p=this.transform.as)&&void 0!==p?p:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:"prob",null!==(C=a[1])&&void 0!==C?C:"value"]}dependentFields(){var a;return new Set([this.transform.quantile,...(null!==(a=this.transform.groupby)&&
void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${hb(this.transform)}`}assemble(){const {quantile:a,...g}=this.transform;return{type:"quantile",field:a,...g}}}class Dl extends kf{clone(){return new Dl(null,Ae(this.transform))}constructor(a,g){var p,v,C;super(a);this.transform=g;this.transform=Ae(g);a=null!==(p=this.transform.as)&&void 0!==p?p:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:g.on,null!==(C=a[1])&&void 0!==C?C:g.regression]}dependentFields(){var a;
return new Set([this.transform.regression,this.transform.on,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${hb(this.transform)}`}assemble(){const {regression:a,on:g,...p}=this.transform;return{type:"regression",x:g,y:a,...p}}}class Fl extends kf{clone(){return new Fl(null,Ae(this.transform))}constructor(a,g){super(a);this.transform=g}addDimensions(a){var g;this.transform.groupby=na((null!==(g=this.transform.groupby)&&
void 0!==g?g:[]).concat(a),p=>p)}producedFields(){}dependentFields(){var a;return new Set([this.transform.pivot,this.transform.value,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}hash(){return`PivotTransform ${hb(this.transform)}`}assemble(){const {pivot:a,value:g,groupby:p,limit:v,op:C}=this.transform;return{type:"pivot",field:a,value:g,...(void 0!==v?{limit:v}:{}),...(void 0!==C?{op:C}:{}),...(void 0!==p?{groupby:p}:{})}}}class El extends kf{clone(){return new El(null,Ae(this.transform))}constructor(a,
g){super(a);this.transform=g}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${hb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Yk extends Pm{constructor(a,g,p,v){super(a,"facet",g,p,v,a.resolve);Mc(this,"facet",void 0);Mc(this,"child",void 0);Mc(this,"children",void 0);this.child=Qi(a.spec,this,this.getName("child"),void 0,v);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!xe(a))return{facet:this.initFacetFieldDef(a,
"facet")};var g=id(a);const p={};for(const v of g){if(!["row","column"].includes(v)){pb(Ib(v,"facet"));break}g=a[v];if(void 0===g.field){pb(Gb(g,v));break}p[v]=this.initFacetFieldDef(g,v)}return p}initFacetFieldDef(a,g){a=Me(a,g);a.header?a.header=G(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=ni(this);this.child.parseData()}parseLayoutSize(){lj(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const v of $e){var a=void 0,g=v;const {facet:C,config:P,child:fa,component:Pa}=this;if(this.channelHasField(g)){const Xa=C[g];var p=eh("title",null,P,g);p=Gd(Xa,P,{allowDisabling:!0,includeDefault:void 0===p||!!p});fa.component.layoutHeaders[g].title&&(p=z.isArray(p)?p.join(", "):p,p+=` / ${fa.component.layoutHeaders[g].title}`,fa.component.layoutHeaders[g].title=
null);const kb=eh("labelOrient",Xa.header,P,g),Kb=null!==Xa.header?x(null===(a=Xa.header)||void 0===a?void 0:a.labels,P.header.labels,!0):!1;a=Ha(["bottom","right"],kb)?"footer":"header";Pa.layoutHeaders[g]={title:null!==Xa.header?p:null,facetFieldDef:Xa,[a]:"facet"===g?[]:[Ni(this,g,Kb)]}}}Jj(this,"x");Jj(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const fa of $e)for(const Pa of Ml){const Xa=this.component.layoutHeaders[fa];var g=Xa[Pa],{facetFieldDef:p}=Xa;if(p&&(p=eh("titleOrient",p.header,this.config,fa),["right","bottom"].includes(p))){var v;p=Gi(fa,p);null!==(v=a.titleAnchor)&&void 0!==v?v:a.titleAnchor={};a.titleAnchor[p]="end"}if(null!==g&&void 0!==g&&g[0]){g="row"===fa?"height":"width";p="header"===Pa?"headerBand":"footerBand";if("facet"!==fa&&!this.child.component.layoutSize.get(g)){var C;null!==(C=a[p])&&void 0!==C?C:a[p]={};
a[p][fa]=.5}if(Xa.title){var P;null!==(P=a.offset)&&void 0!==P?P:a.offset={};a.offset["row"===fa?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:g}=this.facet,p=a?this.columnDistinctSignal():g?1:void 0;let v="all";g||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(v="none"):v="none";return{...this.getHeaderLayoutMixins(),...(p?{columns:p}:{}),bounds:"full",align:v}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Yk))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(a){return this.parent&&this.parent instanceof Yk?{...(this.channelHasField("column")?{encode:{update:{columns:{field:fc(this.facet.column,{prefix:"distinct"})}}}}:{}),...super.assembleGroup(a)}:super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],g=[],p=[];if(this.child instanceof Yk){if(this.child.channelHasField("column")){var v=fc(this.child.facet.column);a.push(v);g.push("distinct");
p.push(`distinct_${v}`)}}else for(v of ng){var C=this.child.component.scales[v];if(C&&!C.merged){var P=C.get("type");C=C.get("range");P in Fc&&sb(C)&&(P=vg(this.child,v),(P=bk(P))?(a.push(P),g.push("distinct"),p.push(`distinct_${P}`)):pb(pc(v)))}}return{fields:a,ops:g,as:p}}assembleFacet(){const {name:a,data:g}=this.component.data.facetRoot,{row:p,column:v}=this.facet,{fields:C,ops:P,as:fa}=this.getCardinalityAggregateForChild(),Pa=[];for(var Xa of $e){var kb=this.facet[Xa];if(kb){Pa.push(fc(kb));
const {bin:Kb,sort:oc}=kb;wa(Kb)&&Pa.push(fc(kb,{binSuffix:"end"}));if(Uc(oc)){const {field:tc,op:Qc="min"}=oc;kb=Hh(kb,oc);p&&v?(C.push(kb),P.push("max")):(C.push(tc),P.push(Qc));fa.push(kb)}else z.isArray(oc)&&(kb=Kg(kb,Xa),C.push(kb),P.push("max"),fa.push(kb))}}Xa=!!p&&!!v;return{name:a,data:g,groupby:Pa,...(Xa||0<C.length?{aggregate:{...(Xa?{cross:Xa}:{}),...(C.length?{fields:C,ops:P,as:fa}:{})}}:{})}}facetSortFields(a){var {facet:g}=this;return(g=g[a])?Uc(g.sort)?[Hh(g,g.sort,{expr:"datum"})]:
z.isArray(g.sort)?[Kg(g,a,{expr:"datum"})]:[fc(g,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:g}=this;return(a=g[a])?({sort:a}=a,[(Uc(a)?a.order:!z.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:g}=this;if(a.facet)return ej(a.facet,"facet",g);const p={row:["top","bottom"],column:["left","right"]};for(const C of Ll)if(a[C]){var v;const P=eh("labelOrient",null===(v=a[C])||void 0===v?void 0:v.header,g,C);if(p[C].includes(P))return ej(a[C],C,g)}}assembleMarks(){const {child:a}=
this,g=hh(this.component.data.facetRoot),p=a.assembleGroupEncodeEntry(!1),v=this.assembleLabelTitle()||a.assembleTitle(),C=a.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...(v?{title:v}:{}),...(C?{style:C}:{}),from:{facet:this.assembleFacet()},sort:{field:$e.map(P=>this.facetSortFields(P)).flat(),order:$e.map(P=>this.facetSortOrder(P)).flat()},...(0<g.length?{data:g}:{}),...(p?{encode:{update:p}}:{}),...a.assembleGroup(rh(this,[]))}]}getMapping(){return this.facet}}class Mn extends Ql{constructor(a,
g,p,v){var C,P,fa,Pa;super(a,"concat",g,p,v,a.resolve);Mc(this,"children",void 0);"shared"!==(null===(C=a.resolve)||void 0===C?void 0:null===(P=C.axis)||void 0===P?void 0:P.x)&&"shared"!==(null===(fa=a.resolve)||void 0===fa?void 0:null===(Pa=fa.axis)||void 0===Pa?void 0:Pa.y)||pb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Xa,kb)=>Qi(Xa,this,this.getName(`concat_${kb}`),void 0,v))}parseData(){this.component.data=
ni(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const g of id(a.component.selection))this.component.selection[g]=a.component.selection[g]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){lj(this);const a=void 0===
this.layout.columns?"height":"childHeight";Xh(this,1===this.layout.columns?"width":"childWidth");Xh(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((g,p)=>p.assembleSelectionTopLevelSignals(g),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=Aj(this);for(const g of this.children)a.push(...g.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((g,p)=>p.assembleSelectionData(g),
a)}assembleMarks(){return this.children.map(a=>{const g=a.assembleTitle(),p=a.assembleGroupStyle(),v=a.assembleGroupEncodeEntry(!1);return{type:"group",name:a.getName("group"),...(g?{title:g}:{}),...(p?{style:p}:{}),...(v?{encode:{update:v}}:{}),...a.assembleGroup()}})}assembleDefaultLayout(){const a=this.layout.columns;return{...(null!=a?{columns:a}:{}),bounds:"full",align:"each"}}}const Cm=id({disable:1,gridScale:1,scale:1,...Km,labelExpr:1,encode:1});class Dm extends ai{constructor(a={},g={},p=
!1){super();this.explicit=a;this.implicit=g;this.mainExtracted=p}clone(){return new Dm(Ae(this.explicit),Ae(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Da(this.explicit.orient)}}const Yn={bottom:"top",top:"bottom",left:"right",right:"left"},Jn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Xk={arc:{vgMark:"arc",
encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ef("x",a,{defaultPos:"mid"}),...Ef("y",a,{defaultPos:"mid"}),...Xg(a,"radius","arc"),...Xg(a,"theta","arc")})},area:{vgMark:"area",encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...ri("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),...ri("y",a,{defaultPos:"zeroOrMin",
defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),...xh(a)})},bar:{vgMark:"rect",encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Xg(a,"x","bar"),...Xg(a,"y","bar")})},circle:{vgMark:"symbol",encodeEntry:a=>Ih(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:a=>{var {encoding:g}=
a;g=g.shape;return[{type:"geoshape",projection:a.projectionName(),...(g&&dd(g)&&"geojson"===g.type?{field:fc(g,{expr:"datum"})}:{})}]}},image:{vgMark:"image",encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Xg(a,"x","image"),...Xg(a,"y","image"),...Zj(a,"url")})},line:{vgMark:"line",encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ef("x",a,{defaultPos:"mid"}),
...Ef("y",a,{defaultPos:"mid"}),...Ff("size",a,{vgChannel:"strokeWidth"}),...xh(a)})},point:{vgMark:"symbol",encodeEntry:a=>Ih(a)},rect:{vgMark:"rect",encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Xg(a,"x","rect"),...Xg(a,"y","rect")})},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:g}=a;g=g.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?{...df(a,{align:"ignore",baseline:"ignore",
color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...ri("x",a,{defaultPos:"horizontal"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==g}),...ri("y",a,{defaultPos:"vertical"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==g}),...Ff("size",a,{vgChannel:"strokeWidth"})}:{}}},square:{vgMark:"symbol",encodeEntry:a=>Ih(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:g}=a,p={...df(a,{align:"include",baseline:"include",color:"include",size:"ignore",
orient:"ignore",theta:"include"})},v={...Ef("x",a,{defaultPos:"mid"})},C={...Ef("y",a,{defaultPos:"mid"})},P={...Zj(a)},fa={...Ff("size",a,{vgChannel:"fontSize"})},Pa={...Ff("angle",a)};var Xa=void 0===Yb("align",a.markDef,g)?"center":void 0;Xa={...hk("align",Xa)};g=void 0===Yb("baseline",a.markDef,g)?"middle":void 0;return{...p,...v,...C,...P,...fa,...Pa,...Xa,...hk("baseline",g),...Ef("radius",a,{defaultPos:null}),...Ef("theta",a,{defaultPos:null})}}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:g,
markDef:p}=a;var v=p.orient;const C="horizontal"===v?"width":"height";v="horizontal"===v?"height":"width";var P={...df(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})},fa={...Ef("x",a,{defaultPos:"mid",vgChannel:"xc"})},Pa={...Ef("y",a,{defaultPos:"mid",vgChannel:"yc"})},Xa;{const {config:Kb,markDef:oc}=a;var {orient:kb}=oc;const tc="horizontal"===kb?"width":"height";kb=a.getScaleComponent("horizontal"===kb?"x":"y");const Qc=null!==(Xa=Yb("size",
oc,Kb,{vgChannel:tc}))&&void 0!==Xa?Xa:Kb.tick.bandSize;Xa=void 0!==Qc?Qc:(Xa=kb?kb.get("range"):void 0)&&sb(Xa)&&z.isNumber(Xa.step)?3*Xa.step/4:3*zc(Kb.view,tc)/4}return{...P,...fa,...Pa,...Ff("size",a,{defaultValue:Xa,vgChannel:C}),[v]:Fb(Yb("thickness",p,g))}}},trail:{vgMark:"trail",encodeEntry:a=>({...df(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ef("x",a,{defaultPos:"mid"}),...Ef("y",a,{defaultPos:"mid"}),...Ff("size",a),...xh(a)})}};
class Hm extends Pm{constructor(a,g,p,v={},C){var P;super(a,"unit",g,p,C,void 0,Nb(a)?a.view:void 0);Mc(this,"markDef",void 0);Mc(this,"encoding",void 0);Mc(this,"specifiedScales",{});Mc(this,"stack",void 0);Mc(this,"specifiedAxes",{});Mc(this,"specifiedLegends",{});Mc(this,"specifiedProjection",{});Mc(this,"selection",[]);Mc(this,"children",[]);g=Wc(a.mark)?{...a.mark}:{type:a.mark};p=g.type;void 0===g.filled&&(g.filled=Nk(g,C,{graticule:a.data&&"graticule"in a.data}));const fa=this.encoding=bf(a.encoding||
{},p,g.filled,C);this.markDef=Kj(g,fa,C);this.size=Oi({encoding:fa,size:Nb(a)?{...v,...(a.width?{width:a.width}:{}),...(a.height?{height:a.height}:{})}:v});this.stack=sa(p,fa);this.specifiedScales=this.initScales(p,fa);this.specifiedAxes=this.initAxes(fa);this.specifiedLegends=this.initLegends(fa);this.specifiedProjection=a.projection;this.selection=(null!==(P=a.params)&&void 0!==P?P:[]).filter(Pa=>!!Pa.select)}get hasProjection(){const {encoding:a}=this,g=this.mark===Bm,p=a&&Rg.some(v=>E(a[v]));
return g||p}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,g){return qh.reduce((p,v)=>{const C=Nd(g[v]);if(C){var P;p[v]=this.initScale(null!==(P=C.scale)&&void 0!==P?P:{})}return p},{})}initScale(a){const {domain:g,range:p}=a;a=G(a);z.isArray(g)&&(a.domain=g.map(Na));z.isArray(p)&&(a.range=p.map(Na));return a}initAxes(a){return ng.reduce((g,p)=>{var v=a[p];if(E(v)||"x"===p&&E(a.x2)||"y"===
p&&E(a.y2))v=E(v)?v.axis:void 0,g[p]=v?this.initAxis({...v}):v;return g},{})}initAxis(a){var g=id(a);const p={};for(const v of g)g=a[v],p[v]=If(g)?ob(g):Na(g);return p}initLegends(a){return Yi.reduce((g,p)=>{var v=Nd(a[p]),C;if(C=v)a:{switch(p){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":C=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":C=!1;break a}C=void 0}C&&(v=v.legend,g[p]=v?G(v):v);return g},{})}parseData(){this.component.data=
ni(this)}parseLayoutSize(){const {size:a,component:g}=this;for(const v of ng){const C=X(v);if(a[C]){var p=a[C];g.layoutSize.set(C,Eb(p)?"step":p,!0)}else p=bl(this,C),g.layoutSize.set(C,p,!1)}}parseSelections(){var a=this.component,g;{var p=this.selection;const C={},P=this.config.selection;if(p&&p.length)for(const fa of p){p=Ta(fa.name);var v=fa.select;const Pa=z.isString(v)?v:v.type;v=z.isObject(v)?Ae(v):{type:Pa};const {fields:Xa,encodings:kb,...Kb}=P[Pa];for(const oc in Kb)if("mark"===oc&&(v[oc]=
{...Kb[oc],...v[oc]}),void 0===v[oc]||!0===v[oc])v[oc]=null!==(g=Kb[oc])&&void 0!==g?g:v[oc];p=C[p]={...v,name:p,type:Pa,init:fa.value,bind:fa.bind,events:z.isString(v.on)?mf(v.on,"scope"):z.array(Ae(v.on))};for(const oc of Rk)oc.defined(p)&&oc.parse&&oc.parse(this,p,fa)}g=C}a.selection=g}parseMarkGroup(){this.component.mark=Jh(this)}parseAxesAndHeaders(){this.component.axes=tk(this)}assembleSelectionTopLevelSignals(a){return Ph(this,a)}assembleSignals(){var a=[...Bh(this)];var g=[];for(const v of yf(null!==
(p=this.component.selection)&&void 0!==p?p:{})){var p;p=v.name;let C=`${p}${"_tuple"}, ${"global"===v.resolve?"true":`{unit: ${Zg(this)}}`}`;for(const P of Rk)P.defined(v)&&(P.signals&&(g=P.signals(this,v,g)),P.modifyExpr&&(C=P.modifyExpr(this,v,C)));g.push({name:p+"_modify",on:[{events:{signal:v.name+"_tuple"},update:`modify(${z.stringValue(v.name+"_store")}, ${C})`}]})}g=Uj(g);return[...a,...g]}assembleSelectionData(a){return jl(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return Aj(this)}assembleMarks(){var a;
let g=null!==(a=this.component.mark)&&void 0!==a?a:[];this.parent&&uf(this.parent)||(g=Xj(this,g));return g.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return af(this.encoding,a)}fieldDef(a){return qe(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return W(a)?a:null}}class Gm extends Ql{constructor(a,g,p,v,C){super(a,"layer",g,p,C,a.resolve,a.view);Mc(this,"children",void 0);const P={...v,...(a.width?{width:a.width}:{}),
...(a.height?{height:a.height}:{})};this.children=a.layer.map((fa,Pa)=>{if("layer"in fa)return new Gm(fa,this,this.getName(`layer_${Pa}`),P,C);if(Je(fa))return new Hm(fa,this,this.getName(`layer_${Pa}`),P,C);throw Error(Db(fa));})}parseData(){this.component.data=ni(this);for(const a of this.children)a.parseData()}parseLayoutSize(){lj(this);Xh(this,"width");Xh(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const g of id(a.component.selection))this.component.selection[g]=
a.component.selection[g]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:g}=this.component,p={top:0,bottom:0,right:0,left:0};for(var v of this.children){v.parseAxesAndHeaders();for(const P of id(v.component.axes))g.axis[P]=Ji(this.component.resolve,P),"shared"===g.axis[P]&&(a[P]=uk(a[P],v.component.axes[P]),a[P]||(g.axis[P]="independent",delete a[P]))}for(const P of ng){for(const fa of this.children)if(fa.component.axes[P]){if("independent"===
g.axis[P]){var C;a[P]=(null!==(C=a[P])&&void 0!==C?C:[]).concat(fa.component.axes[P]);for(const Pa of fa.component.axes[P]){const {value:Xa,explicit:kb}=Pa.getWithExplicit("orient");Da(Xa)||(0<p[Xa]&&!kb&&(v=Yn[Xa],p[Xa]>p[v]&&Pa.set("orient",v,!1)),p[Xa]++)}}delete fa.component.axes[P]}if("independent"===g.axis[P]&&a[P]&&1<a[P].length)for(const fa of a[P])fa.get("grid")&&!fa.explicit.grid&&(fa.implicit.grid=!1)}}assembleSelectionTopLevelSignals(a){return this.children.reduce((g,p)=>p.assembleSelectionTopLevelSignals(g),
a)}assembleSignals(){return this.children.reduce((a,g)=>a.concat(g.assembleSignals()),Bh(this))}assembleLayoutSignals(){return this.children.reduce((a,g)=>a.concat(g.assembleLayoutSignals()),Aj(this))}assembleSelectionData(a){return this.children.reduce((g,p)=>p.assembleSelectionData(g),a)}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const g of this.children)if(a=g.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return mh(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,
g)=>a.concat(g.assembleLegends()),Fh(this))}}r.accessPathDepth=I;r.accessPathWithDatum=ua;r.compile=function(a,g={}){g.logger&&(nh=g.logger);g.fieldTitle&&(ck=g.fieldTitle);try{const Kb=Hd(z.mergeConfig(g.config,a.config)),oc=Kd(a,Kb),tc=Qi(oc,null,"",void 0,Kb);tc.parse();var p=tc.component.data,v=tc;fh(p.sources);let Qc=0,Xc=0;for(var C=0;5>C&&hj(p,v,!0);C++)Qc++;p.sources.map(Dj);for(C=0;5>C&&hj(p,v,!1);C++)Xc++;fh(p.sources);5===Math.max(Qc,Xc)&&pb("Maximum optimization runs(5) reached.");var P=
oc.autosize;p=Kb;v=tc;const Ec=v.component.layoutSize.get("width"),Yc=v.component.layoutSize.get("height");void 0===P?(P={type:"pad"},v.hasAxisOrientSignalRef()&&(P.resize=!0)):z.isString(P)&&(P={type:P});var fa;if(fa=Ec&&Yc){var Pa=P.type;fa="fit"===Pa||"fit-x"===Pa||"fit-y"===Pa}if(fa)if("step"===Ec&&"step"===Yc)pb(lc()),P.type="pad";else if("step"===Ec||"step"===Yc){Pa="step"===Ec?"width":"height";pb(lc(c(Pa)));fa=P;var Xa=(Pa="width"===Pa?"height":"width",`fit-${c(Pa)}`);fa.type=Xa}var kb={...(1===
id(P).length&&P.type?"pad"===P.type?{}:{autosize:P.type}:{autosize:P}),...vb(p,!1),...vb(a,!0)};return{spec:Pi(tc,kb,a.datasets,a.usermeta),normalized:oc}}finally{g.logger&&(nh=Xi),g.fieldTitle&&(ck=Jm)}};r.contains=Ha;r.deepEqual=Tf;r.deleteNestedProperty=ia;r.duplicate=Ae;r.entries=dg;r.every=xa;r.fieldIntersection=ra;r.flatAccessWithDatum=La;r.getFirstDefined=x;r.hasIntersection=Fa;r.hash=hb;r.internalField=J;r.isBoolean=za;r.isEmpty=Qa;r.isEqual=function(a,g){const p=id(a),v=id(g);if(p.length!==
v.length)return!1;for(const C of p)if(a[C]!==g[C])return!1;return!0};r.isInternalField=B;r.isNullOrFalse=Ka;r.isNumeric=aa;r.keys=id;r.logicalExpr=K;r.mergeDeep=ma;r.normalize=Kd;r.normalizeAngle=R;r.omit=Hb;r.pick=wb;r.prefixGenerator=la;r.removePathFromField=Va;r.replaceAll=ab;r.replacePathInField=Aa;r.resetIdCounter=function(){rf=42};r.setEqual=Ba;r.some=Sa;r.stringify=Te;r.titleCase=ya;r.unique=na;r.uniqueId=L;r.vals=yf;r.varName=Ta;r.version="5.1.0";Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[71]=function(fd,Qb,Sc,zb){function h(){throw Error("setTimeout has not been defined");}function r(){throw Error("clearTimeout has not been defined");}function z(na){if(hb===setTimeout)return setTimeout(na,0);if((hb===h||!hb)&&setTimeout)return hb=setTimeout,setTimeout(na,0);try{return hb(na,0)}catch(Ba){try{return hb.call(null,na,0)}catch(Fa){return hb.call(this,na,0)}}}function Ra(na){if(Ka===clearTimeout)return clearTimeout(na);if((Ka===r||!Ka)&&clearTimeout)return Ka=clearTimeout,
clearTimeout(na);try{return Ka(na)}catch(Ba){try{return Ka.call(null,na)}catch(Fa){return Ka.call(this,na)}}}function tb(){Sa&&xa&&(Sa=!1,xa.length?Ha=xa.concat(Ha):ma=-1,Ha.length&&bb())}function bb(){if(!Sa){var na=z(tb);Sa=!0;for(var Ba=Ha.length;Ba;){xa=Ha;for(Ha=[];++ma<Ba;)xa&&xa[ma].run();ma=-1;Ba=Ha.length}xa=null;Sa=!1;Ra(na)}}function wb(na,Ba){this.fun=na;this.array=Ba}function Hb(){}fd=Sc.exports={};try{var hb="function"===typeof setTimeout?setTimeout:h}catch(na){hb=h}try{var Ka="function"===
typeof clearTimeout?clearTimeout:r}catch(na){Ka=r}var Ha=[],Sa=!1,xa,ma=-1;fd.nextTick=function(na){var Ba=Array(arguments.length-1);if(1<arguments.length)for(var Fa=1;Fa<arguments.length;Fa++)Ba[Fa-1]=arguments[Fa];Ha.push(new wb(na,Ba));1!==Ha.length||Sa||z(bb)};wb.prototype.run=function(){this.fun.apply(null,this.array)};fd.title="browser";fd.browser=!0;fd.env={};fd.argv=[];fd.version="";fd.versions={};fd.on=Hb;fd.addListener=Hb;fd.once=Hb;fd.off=Hb;fd.removeListener=Hb;fd.removeAllListeners=Hb;
fd.emit=Hb;fd.prependListener=Hb;fd.prependOnceListener=Hb;fd.listeners=function(na){return[]};fd.binding=function(na){throw Error("process.binding is not supported");};fd.cwd=function(){return"/"};fd.chdir=function(na){throw Error("process.chdir is not supported");};fd.umask=function(){return 0}};
shadow$provide[72]=function(fd,Qb,Sc,zb){var h=Qb(71);(function(r,z){"object"===typeof zb&&"undefined"!==typeof Sc?Sc.exports=z(Qb(68),Qb(70)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],z):(r="undefined"!==typeof globalThis?globalThis:r||self,r.vegaEmbed=z(r.vega,r.vegaLite))})(this,function(r,z){function Ra(V){if(V&&V.__esModule)return V;var qa=Object.create(null);V&&Object.keys(V).forEach(function(Ea){if("default"!==Ea){var rb=Object.getOwnPropertyDescriptor(V,Ea);Object.defineProperty(qa,
Ea,rb.get?rb:{enumerable:!0,get:function(){return V[Ea]}})}});qa["default"]=V;return Object.freeze(qa)}function tb(V,qa,Ea,rb){function fb(Jb){return Jb instanceof Ea?Jb:new Ea(function(Rb){Rb(Jb)})}return new (Ea||(Ea=Promise))(function(Jb,Rb){function ic(Nc){try{xc(rb.next(Nc))}catch(Wb){Rb(Wb)}}function Wc(Nc){try{xc(rb["throw"](Nc))}catch(Wb){Rb(Wb)}}function xc(Nc){Nc.done?Jb(Nc.value):fb(Nc.value).then(ic,Wc)}xc((rb=rb.apply(V,qa||[])).next())})}function bb(V,qa){function Ea(xc){return function(Nc){return rb([xc,
Nc])}}function rb(xc){if(Jb)throw new TypeError("Generator is already executing.");for(;fb;)try{if(Jb=1,Rb&&(ic=xc[0]&2?Rb["return"]:xc[0]?Rb["throw"]||((ic=Rb["return"])&&ic.call(Rb),0):Rb.next)&&!(ic=ic.call(Rb,xc[1])).done)return ic;if(Rb=0,ic)xc=[xc[0]&2,ic.value];switch(xc[0]){case 0:case 1:ic=xc;break;case 4:return fb.label++,{value:xc[1],done:!1};case 5:fb.label++;Rb=xc[1];xc=[0];continue;case 7:xc=fb.ops.pop();fb.trys.pop();continue;default:if(!(ic=fb.trys,ic=0<ic.length&&ic[ic.length-1])&&
(6===xc[0]||2===xc[0])){fb=0;continue}if(3===xc[0]&&(!ic||xc[1]>ic[0]&&xc[1]<ic[3]))fb.label=xc[1];else if(6===xc[0]&&fb.label<ic[1])fb.label=ic[1],ic=xc;else if(ic&&fb.label<ic[2])fb.label=ic[2],fb.ops.push(xc);else{ic[2]&&fb.ops.pop();fb.trys.pop();continue}}xc=qa.call(V,fb)}catch(Nc){xc=[6,Nc],Rb=0}finally{Jb=ic=0}if(xc[0]&5)throw xc[1];return{value:xc[0]?xc[1]:void 0,done:!0}}var fb={label:0,sent:function(){if(ic[0]&1)throw ic[1];return ic[1]},trys:[],ops:[]},Jb,Rb,ic,Wc;return Wc={next:Ea(0),
"throw":Ea(1),"return":Ea(2)},"function"===typeof Symbol&&(Wc[Symbol.iterator]=function(){return this}),Wc}function wb(V){if(Array.isArray(V)){var qa=Array(V.length);for(V=0;V<qa.length;V++)qa[V]=""+V;return qa}if(Object.keys)return Object.keys(V);qa=[];for(var Ea in V)H.call(V,Ea)&&qa.push(Ea);return qa}function Hb(V){switch(typeof V){case "object":return JSON.parse(JSON.stringify(V));case "undefined":return null;default:return V}}function hb(V){for(var qa=0,Ea=V.length,rb;qa<Ea;)if(rb=V.charCodeAt(qa),
48<=rb&&57>=rb)qa++;else return!1;return!0}function Ka(V){return-1===V.indexOf("/")&&-1===V.indexOf("~")?V:V.replace(/~/g,"~0").replace(/\//g,"~1")}function Ha(V){return V.replace(/~1/g,"/").replace(/~0/g,"~")}function Sa(V){if(void 0===V)return!0;if(V)if(Array.isArray(V))for(var qa=0,Ea=V.length;qa<Ea;qa++){if(Sa(V[qa]))return!0}else if("object"===typeof V){Ea=wb(V);var rb=Ea.length;for(qa=0;qa<rb;qa++)if(Sa(V[Ea[qa]]))return!0}return!1}function xa(V,qa){V=[V];for(var Ea in qa){var rb="object"===
typeof qa[Ea]?JSON.stringify(qa[Ea],null,2):qa[Ea];"undefined"!==typeof rb&&V.push(Ea+": "+rb)}return V.join("\n")}function ma(V,qa){if(""==qa)return V;qa={op:"_get",path:qa};na(V,qa);return qa.value}function na(V,qa,Ea,rb,fb,Jb){void 0===Ea&&(Ea=!1);void 0===rb&&(rb=!0);void 0===fb&&(fb=!0);void 0===Jb&&(Jb=0);Ea&&("function"==typeof Ea?Ea(qa,0,V,qa.path):Fa(qa,0));if(""===qa.path){fb={newDocument:V};if("add"===qa.op)return fb.newDocument=qa.value,fb;if("replace"===qa.op)return fb.newDocument=qa.value,
fb.removed=V,fb;if("move"===qa.op||"copy"===qa.op)return fb.newDocument=ma(V,qa.from),"move"===qa.op&&(fb.removed=V),fb;if("test"===qa.op){fb.test=ra(V,qa.value);if(!1===fb.test)throw new ca("Test operation failed","TEST_OPERATION_FAILED",Jb,qa,V);fb.newDocument=V;return fb}if("remove"===qa.op)return fb.removed=V,fb.newDocument=null,fb;if("_get"===qa.op)return qa.value=V,fb;if(Ea)throw new ca("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Jb,qa,V);return fb}rb||
(V=Hb(V));rb=(qa.path||"").split("/");var Rb=V,ic=1,Wc=rb.length,xc=void 0,Nc;for(Nc="function"==typeof Ea?Ea:Fa;;){var Wb=rb[ic];if(fb&&"__proto__"==Wb)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Ea&&void 0===xc&&(void 0===Rb[Wb]?xc=rb.slice(0,ic).join("/"):ic==Wc-1&&(xc=qa.path),void 0!==xc&&Nc(qa,0,V,xc));ic++;
if(Array.isArray(Rb)){if("-"===Wb)Wb=Rb.length;else{if(Ea&&!hb(Wb))throw new ca("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Jb,qa,V);hb(Wb)&&(Wb=~~Wb)}if(ic>=Wc){if(Ea&&"add"===qa.op&&Wb>Rb.length)throw new ca("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Jb,qa,V);fb=e[qa.op].call(qa,Rb,Wb,V);if(!1===fb.test)throw new ca("Test operation failed",
"TEST_OPERATION_FAILED",Jb,qa,V);return fb}}else if(Wb&&-1!=Wb.indexOf("~")&&(Wb=Ha(Wb)),ic>=Wc){fb=X[qa.op].call(qa,Rb,Wb,V);if(!1===fb.test)throw new ca("Test operation failed","TEST_OPERATION_FAILED",Jb,qa,V);return fb}Rb=Rb[Wb]}}function Ba(V,qa,Ea,rb,fb){void 0===rb&&(rb=!0);void 0===fb&&(fb=!0);if(Ea&&!Array.isArray(qa))throw new ca("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");rb||(V=Hb(V));rb=Array(qa.length);for(var Jb=0,Rb=qa.length;Jb<Rb;Jb++)rb[Jb]=na(V,qa[Jb],Ea,!0,fb,Jb),
V=rb[Jb].newDocument;rb.newDocument=V;return rb}function Fa(V,qa,Ea,rb){if("object"!==typeof V||null===V||Array.isArray(V))throw new ca("Operation is not an object","OPERATION_NOT_AN_OBJECT",qa,V,Ea);if(X[V.op]){if("string"!==typeof V.path)throw new ca("Operation `path` property is not a string","OPERATION_PATH_INVALID",qa,V,Ea);if(0!==V.path.indexOf("/")&&0<V.path.length)throw new ca('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",qa,V,Ea);if("move"!==V.op&&"copy"!==V.op||
"string"===typeof V.from)if("add"!==V.op&&"replace"!==V.op&&"test"!==V.op||void 0!==V.value){if(("add"===V.op||"replace"===V.op||"test"===V.op)&&Sa(V.value))throw new ca("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",qa,V,Ea);if(Ea)if("add"==V.op){var fb=V.path.split("/").length;rb=rb.split("/").length;if(fb!==rb+1&&fb!==rb)throw new ca("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",
qa,V,Ea);}else if("replace"===V.op||"remove"===V.op||"_get"===V.op){if(V.path!==rb)throw new ca("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",qa,V,Ea);}else if(("move"===V.op||"copy"===V.op)&&(fb=la([{op:"_get",path:V.from,value:void 0}],Ea))&&"OPERATION_PATH_UNRESOLVABLE"===fb.name)throw new ca("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",qa,V,Ea);}else throw new ca("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",qa,V,Ea);else throw new ca("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",qa,V,Ea);}else throw new ca("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",qa,V,Ea);}function la(V,qa,Ea){try{if(!Array.isArray(V))throw new ca("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(qa)Ba(Hb(qa),Hb(V),Ea||!0);else{Ea=Ea||Fa;for(var rb=0;rb<V.length;rb++)Ea(V[rb],
rb,qa,void 0)}}catch(fb){if(fb instanceof ca)return fb;throw fb;}}function ra(V,qa){if(V===qa)return!0;if(V&&qa&&"object"==typeof V&&"object"==typeof qa){var Ea=Array.isArray(V),rb=Array.isArray(qa);if(Ea&&rb){var fb=V.length;if(fb!=qa.length)return!1;for(Ea=fb;0!==Ea--;)if(!ra(V[Ea],qa[Ea]))return!1;return!0}if(Ea!=rb)return!1;rb=Object.keys(V);fb=rb.length;if(fb!==Object.keys(qa).length)return!1;for(Ea=fb;0!==Ea--;)if(!qa.hasOwnProperty(rb[Ea]))return!1;for(Ea=fb;0!==Ea--;)if(fb=rb[Ea],!ra(V[fb],
qa[fb]))return!1;return!0}return V!==V&&qa!==qa}function Qa(V,qa){void 0===qa&&(qa=!1);var Ea=f.get(V.object);za(Ea.value,V.object,V.patches,"",qa);V.patches.length&&Ba(Ea.value,V.patches);qa=V.patches;0<qa.length&&(V.patches=[],V.callback&&V.callback(qa));return qa}function za(V,qa,Ea,rb,fb){if(qa!==V){"function"===typeof qa.toJSON&&(qa=qa.toJSON());for(var Jb=wb(qa),Rb=wb(V),ic=!1,Wc=Rb.length-1;0<=Wc;Wc--){var xc=Rb[Wc],Nc=V[xc];if(!H.call(qa,xc)||void 0===qa[xc]&&void 0!==Nc&&!1===Array.isArray(qa))Array.isArray(V)===
Array.isArray(qa)?(fb&&Ea.push({op:"test",path:rb+"/"+Ka(xc),value:Hb(Nc)}),Ea.push({op:"remove",path:rb+"/"+Ka(xc)}),ic=!0):(fb&&Ea.push({op:"test",path:rb,value:V}),Ea.push({op:"replace",path:rb,value:qa}));else{var Wb=qa[xc];"object"==typeof Nc&&null!=Nc&&"object"==typeof Wb&&null!=Wb?za(Nc,Wb,Ea,rb+"/"+Ka(xc),fb):Nc!==Wb&&(fb&&Ea.push({op:"test",path:rb+"/"+Ka(xc),value:Hb(Nc)}),Ea.push({op:"replace",path:rb+"/"+Ka(xc),value:Hb(Wb)}))}}if(ic||Jb.length!=Rb.length)for(Wc=0;Wc<Jb.length;Wc++)xc=
Jb[Wc],H.call(V,xc)||void 0===qa[xc]||Ea.push({op:"add",path:rb+"/"+Ka(xc),value:Hb(qa[xc])})}}function Ta(V){const [qa,Ea]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(V).slice(1,3);return{library:qa,version:Ea}}function K(V,qa,Ea){V.fields=qa||[];V.fname=Ea;return V}function ia(V){return 1===V.length?qc(V[0]):ed(V)}function ya(V){function qa(){Ea.push(Rb+V.substring(ic,Wc));Rb="";ic=Wc+1}const Ea=[],rb=V.length;let fb=null,Jb=0,Rb="",ic,Wc,xc;V+="";for(ic=Wc=0;Wc<rb;++Wc)if(xc=V[Wc],"\\"===xc)Rb+=
V.substring(ic,Wc),Rb+=V.substring(++Wc,++Wc),ic=Wc;else if(xc===fb)qa(),fb=null,Jb=-1;else if(!fb)if(ic===Jb&&'"'===xc)ic=Wc+1,fb=xc;else if(ic===Jb&&"'"===xc)ic=Wc+1,fb=xc;else if("."===xc&&!Jb)Wc>ic?qa():ic=Wc+1;else if("["===xc)Wc>ic&&qa(),Jb=ic=Wc+1;else if("]"===xc){if(!Jb)throw Error("Access path missing open bracket: "+V);0<Jb&&qa();Jb=0;ic=Wc+1}if(Jb)throw Error("Access path missing closing bracket: "+V);if(fb)throw Error("Access path missing closing quote: "+V);Wc>ic&&(Wc++,qa());return Ea}
function ua(V,qa){var Ea={},rb;for(rb in V)Object.prototype.hasOwnProperty.call(V,rb)&&0>qa.indexOf(rb)&&(Ea[rb]=V[rb]);if(null!=V&&"function"===typeof Object.getOwnPropertySymbols){var fb=0;for(rb=Object.getOwnPropertySymbols(V);fb<rb.length;fb++)0>qa.indexOf(rb[fb])&&Object.prototype.propertyIsEnumerable.call(V,rb[fb])&&(Ea[rb[fb]]=V[rb[fb]])}return Ea}function La(V,qa,Ea){if(od(V))return`[${V.map(fb=>qa("string"===typeof fb?fb:JSON.stringify(fb,Oa(Ea)))).join(", ")}]`;if(V===Object(V)){let fb=
"";const {title:Jb,image:Rb}=V;V=ua(V,["title","image"]);Jb&&(fb+=`<h2>${qa(Jb)}</h2>`);Rb&&(fb+=`<img src="${qa(Rb)}">`);var rb=Object.keys(V);if(0<rb.length){fb+="\x3ctable\x3e";for(const ic of rb)rb=V[ic],void 0!==rb&&(rb===Object(rb)&&(rb=JSON.stringify(rb,Oa(Ea))),fb+=`<tr><td class="key">${qa(ic)}:</td><td class="value">${qa(rb)}</td></tr>`);fb+="\x3c/table\x3e"}return fb||"{}"}return qa(V)}function Oa(V){const qa=[];return function(Ea,rb){if("object"!==typeof rb||null===rb)return rb;Ea=qa.indexOf(this)+
1;qa.length=Ea;if(qa.length>V)return"[Object]";if(0<=qa.indexOf(rb))return"[Circular]";qa.push(rb);return rb}}function Aa(V,qa,Ea){function rb(Wc){Wc.source===Jb&&(ic=0,V.removeEventListener("message",rb,!1))}function fb(){0>=ic||(Jb.postMessage(Ea,Rb),setTimeout(fb,250),--ic)}var Jb=V.open(qa),Rb=(new URL(qa)).origin,ic=40;V.addEventListener("message",rb,!1);setTimeout(fb,250)}function ab(V){for(var qa=[],Ea=1;Ea<arguments.length;Ea++)qa[Ea-1]=arguments[Ea];for(Ea=0;Ea<qa.length;Ea++)for(var rb=
V,fb=qa[Ea],Jb=0,Rb=Object.keys(fb);Jb<Rb.length;Jb++){var ic=Rb[Jb];r.writeConfig(rb,ic,fb[ic],!0)}return V}function Va(V,qa,Ea,rb){qa="\x3chtml\x3e\x3chead\x3e"+qa+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Ea="\x3c/code\x3e\x3c/pre\x3e"+Ea+"\x3c/body\x3e\x3c/html\x3e";var fb=window.open("");fb.document.write(qa+V+Ea);fb.document.title=ne[rb]+" JSON Source"}function I(V,qa){var Ea;return V.$schema?(V=Ta(V.$schema),qa&&qa!==V.library&&console.warn("The given visualization spec is written in "+
ne[V.library]+", but mode argument sets "+(null!==(Ea=ne[qa])&&void 0!==Ea?Ea:qa)+"."),qa=V.library,Bb.satisfies(le[qa],"^"+V.version.slice(1))||console.warn("The input spec uses "+ne[qa]+" "+V.version+", but the current version of "+ne[qa]+" is v"+le[qa]+"."),qa):"mark"in V||"encoding"in V||"layer"in V||"hconcat"in V||"vconcat"in V||"facet"in V||"repeat"in V?"vega-lite":"marks"in V||"signals"in V||"scales"in V||"axes"in V?"vega":null!==qa&&void 0!==qa?qa:"vega"}function x(V,qa,Ea){var rb,fb,Jb;void 0===
Ea&&(Ea={});return tb(this,void 0,void 0,function(){var Rb,ic,Wc,xc,Nc,Wb,sd,cd;return bb(this,function(Vb){switch(Vb.label){case 0:Rb=(Vb=Ea.loader)&&"load"in Vb?Ea.loader:Od.loader(Ea.loader);if(!r.isString(qa))return[3,2];Nc=(xc=JSON).parse;return[4,Rb.load(qa)];case 1:return Wc=Nc.apply(xc,[Vb.sent()]),[3,3];case 2:Wc=qa,Vb.label=3;case 3:return ic=Wc,[4,L(null!==(rb=ic.usermeta&&ic.usermeta.embedOptions)&&void 0!==rb?rb:{},Rb)];case 4:return Wb=Vb.sent(),[4,L(Ea,Rb)];case 5:return sd=Vb.sent(),
cd=Ca(Ca({},ab(sd,Wb)),{config:r.mergeConfig(null!==(fb=sd.config)&&void 0!==fb?fb:{},null!==(Jb=Wb.config)&&void 0!==Jb?Jb:{})}),[4,B(V,ic,cd,Rb)];case 6:return[2,Vb.sent()]}})})}function L(V,qa){var Ea;return tb(this,void 0,void 0,function(){var rb,fb,Jb,Rb,ic,Wc,xc,Nc;return bb(this,function(Wb){switch(Wb.label){case 0:if(!r.isString(V.config))return[3,2];Rb=(Jb=JSON).parse;return[4,qa.load(V.config)];case 1:return fb=Rb.apply(Jb,[Wb.sent()]),[3,3];case 2:fb=null!==(Ea=V.config)&&void 0!==Ea?Ea:
{},Wb.label=3;case 3:rb=fb;if(!r.isString(V.patch))return[3,5];Nc=(xc=JSON).parse;return[4,qa.load(V.patch)];case 4:return Wc=Nc.apply(xc,[Wb.sent()]),[3,6];case 5:Wc=V.patch,Wb.label=6;case 6:return ic=Wc,[2,Ca(Ca(Ca({},V),ic?{patch:ic}:{}),rb?{config:rb}:{})]}})})}function J(V){var qa;V=V.getRootNode?V.getRootNode():document;return V instanceof ShadowRoot?{root:V,rootContainer:V}:{root:document,rootContainer:null!==(qa=document.head)&&void 0!==qa?qa:document.body}}function B(V,qa,Ea,rb){var fb,
Jb,Rb,ic,Wc,xc;void 0===Ea&&(Ea={});return tb(this,void 0,void 0,function(){function Nc(){dd&&document.removeEventListener("click",dd);ge.finalize()}var Wb,sd,cd,Vb,oe,qd,Wd,ie,we,lf,Ze,Qd,$b,ce,gc,Uc,Xd,xe,Yd,ge,Ge,Ed,vd,te,Se,dd,Ee,Ce,pe,ye,E,W,Ma,Cb,Ob,Pb,wc,fc;return bb(this,function(Tc){switch(Tc.label){case 0:Wb=Ea.theme?r.mergeConfig(jc[Ea.theme],null!==(fb=Ea.config)&&void 0!==fb?fb:{}):Ea.config;sd=r.isBoolean(Ea.actions)?Ea.actions:ab({},Jd,null!==(Jb=Ea.actions)&&void 0!==Jb?Jb:{});cd=
Ca(Ca({},De),Ea.i18n);Vb=null!==(Rb=Ea.renderer)&&void 0!==Rb?Rb:"canvas";oe=null!==(ic=Ea.logLevel)&&void 0!==ic?ic:Od.Warn;qd=null!==(Wc=Ea.downloadFileName)&&void 0!==Wc?Wc:"visualization";Wd="string"===typeof V?document.querySelector(V):V;if(!Wd)throw Error(V+" does not exist");!1!==Ea.defaultStyle&&(ie=J(Wd),we=ie.root,lf=ie.rootContainer,we.getElementById("vega-embed-style")||(Ze=document.createElement("style"),Ze.id="vega-embed-style",Ze.innerText=void 0===Ea.defaultStyle||!0===Ea.defaultStyle?
'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Ea.defaultStyle,lf.appendChild(Ze)));Qd=I(qa,Ea.mode);$b=Dd[Qd](qa,Wb);"vega-lite"===Qd&&$b.$schema&&(ce=Ta($b.$schema),Bb.satisfies(le.vega,"^"+ce.version.slice(1))||console.warn("The compiled spec uses Vega "+ce.version+", but current version is v"+le.vega+"."));Wd.classList.add("vega-embed");sd&&Wd.classList.add("has-actions");Wd.innerHTML="";gc=Wd;sd&&(Uc=document.createElement("div"),Uc.classList.add("chart-wrapper"),Wd.appendChild(Uc),gc=Uc);(Xd=Ea.patch)&&($b=Xd instanceof Function?Xd($b):
Ba($b,Xd,!0,!1).newDocument);Ea.formatLocale&&Od.formatLocale(Ea.formatLocale);Ea.timeFormatLocale&&Od.timeFormatLocale(Ea.timeFormatLocale);xe=Ea.ast;Yd=Od.parse($b,"vega-lite"===Qd?{}:Wb,{ast:xe});ge=new Od.View(Yd,Ca({loader:rb,logLevel:oe,renderer:Vb},xe?{expr:Od.expressionInterpreter}:{}));!1!==Ea.tooltip&&(Ge=void 0,Ge="function"===typeof Ea.tooltip?Ea.tooltip:(new md(!0===Ea.tooltip?{}:Ea.tooltip)).call,ge.tooltip(Ge));Ed=Ea.hover;void 0===Ed&&(Ed="vega"===Qd);Ed&&(vd="boolean"===typeof Ed?
{}:Ed,te=vd.hoverSet,Se=vd.updateSet,ge.hover(te,Se));Ea&&(null!=Ea.width&&ge.width(Ea.width),null!=Ea.height&&ge.height(Ea.height),null!=Ea.padding&&ge.padding(Ea.padding));return[4,ge.initialize(gc).runAsync()];case 1:Tc.sent();if(!1!==sd){Ee=Wd;!1!==Ea.defaultStyle&&(Ce=document.createElement("details"),Ce.title=cd.CLICK_TO_VIEW_ACTIONS,Wd.append(Ce),Ee=Ce,pe=document.createElement("summary"),pe.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
Ce.append(pe),dd=function(Ad){Ce.contains(Ad.target)||Ce.removeAttribute("open")},document.addEventListener("click",dd));ye=document.createElement("div");Ee.append(ye);ye.classList.add("vega-actions");if(!0===sd||!1!==sd["export"])for(E=function(Ad){if(!0===sd||!0===sd["export"]||sd["export"][Ad]){var Gd=cd[Ad.toUpperCase()+"_ACTION"],Ld=document.createElement("a");Ld.text=Gd;Ld.href="#";Ld.target="_blank";Ld.download=qd+"."+Ad;Ld.addEventListener("mousedown",function(ue){return tb(this,void 0,void 0,
function(){var ke;return bb(this,function(qe){switch(qe.label){case 0:return ue.preventDefault(),[4,ge.toImageURL(Ad,Ea.scaleFactor)];case 1:return this.href=ke=qe.sent(),[2]}})})});ye.append(Ld)}},W=0,Ma=["svg","png"];W<Ma.length;W++)Cb=Ma[W],E(Cb);if(!0===sd||!1!==sd.source)Ob=document.createElement("a"),Ob.text=cd.SOURCE_ACTION,Ob.href="#",Ob.addEventListener("click",function(Ad){var Gd,Ld;Va(F(qa),null!==(Gd=Ea.sourceHeader)&&void 0!==Gd?Gd:"",null!==(Ld=Ea.sourceFooter)&&void 0!==Ld?Ld:"",Qd);
Ad.preventDefault()}),ye.append(Ob);"vega-lite"!==Qd||!0!==sd&&!1===sd.compiled||(Pb=document.createElement("a"),Pb.text=cd.COMPILED_ACTION,Pb.href="#",Pb.addEventListener("click",function(Ad){var Gd,Ld;Va(F($b),null!==(Gd=Ea.sourceHeader)&&void 0!==Gd?Gd:"",null!==(Ld=Ea.sourceFooter)&&void 0!==Ld?Ld:"","vega");Ad.preventDefault()}),ye.append(Pb));if(!0===sd||!1!==sd.editor)wc=null!==(xc=Ea.editorUrl)&&void 0!==xc?xc:"https://vega.github.io/editor/",fc=document.createElement("a"),fc.text=cd.EDITOR_ACTION,
fc.href="#",fc.addEventListener("click",function(Ad){Aa(window,wc,{config:Wb,mode:Qd,renderer:Vb,spec:F(qa)});Ad.preventDefault()}),ye.append(fc)}return[2,{view:ge,spec:qa,vgSpec:$b,finalize:Nc}]}})})}function R(V,qa){var Ea;void 0===qa&&(qa={});return tb(this,void 0,void 0,function(){var rb,fb,Jb,Rb;return bb(this,function(ic){switch(ic.label){case 0:return rb=document.createElement("div"),rb.classList.add("vega-embed-wrapper"),fb=document.createElement("div"),rb.appendChild(fb),Jb=!0===qa.actions||
!1===qa.actions?qa.actions:Ca({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Ea=qa.actions)&&void 0!==Ea?Ea:{}),[4,x(fb,V,Ca({actions:Jb},null!==qa&&void 0!==qa?qa:{}))];case 1:return Rb=ic.sent(),rb.value=Rb.view,[2,rb]}})})}var aa=Ra(r),ea=Ra(z),Ca=function(){Ca=Object.assign||function(V){for(var qa,Ea=1,rb=arguments.length;Ea<rb;Ea++){qa=arguments[Ea];for(var fb in qa)Object.prototype.hasOwnProperty.call(qa,fb)&&(V[fb]=qa[fb])}return V};return Ca.apply(this,arguments)},Ia=function(){var V=
function(qa,Ea){V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rb,fb){rb.__proto__=fb}||function(rb,fb){for(var Jb in fb)fb.hasOwnProperty(Jb)&&(rb[Jb]=fb[Jb])};return V(qa,Ea)};return function(qa,Ea){function rb(){this.constructor=qa}V(qa,Ea);qa.prototype=null===Ea?Object.create(Ea):(rb.prototype=Ea.prototype,new rb)}}(),H=Object.prototype.hasOwnProperty,da=function(V){function qa(Ea,rb,fb,Jb,Rb){var ic=this.constructor,Wc=V.call(this,xa(Ea,{name:rb,index:fb,operation:Jb,tree:Rb}))||
this;Wc.name=rb;Wc.index=fb;Wc.operation=Jb;Wc.tree=Rb;Object.setPrototypeOf(Wc,ic.prototype);Wc.message=xa(Ea,{name:rb,index:fb,operation:Jb,tree:Rb});return Wc}Ia(qa,V);return qa}(Error),ca=da,X={add:function(V,qa,Ea){V[qa]=this.value;return{newDocument:Ea}},remove:function(V,qa,Ea){var rb=V[qa];delete V[qa];return{newDocument:Ea,removed:rb}},replace:function(V,qa,Ea){var rb=V[qa];V[qa]=this.value;return{newDocument:Ea,removed:rb}},move:function(V,qa,Ea){(V=ma(Ea,this.path))&&(V=Hb(V));qa=na(Ea,
{op:"remove",path:this.from}).removed;na(Ea,{op:"add",path:this.path,value:qa});return{newDocument:Ea,removed:V}},copy:function(V,qa,Ea){V=ma(Ea,this.from);na(Ea,{op:"add",path:this.path,value:Hb(V)});return{newDocument:Ea}},test:function(V,qa,Ea){return{newDocument:Ea,test:ra(V[qa],this.value)}},_get:function(V,qa,Ea){this.value=V[qa];return{newDocument:Ea}}},e={add:function(V,qa,Ea){hb(qa)?V.splice(qa,0,this.value):V[qa]=this.value;return{newDocument:Ea,index:qa}},remove:function(V,qa,Ea){V=V.splice(qa,
1);return{newDocument:Ea,removed:V[0]}},replace:function(V,qa,Ea){var rb=V[qa];V[qa]=this.value;return{newDocument:Ea,removed:rb}},move:X.move,copy:X.copy,test:X.test,_get:X._get},c=Object.freeze({__proto__:null,JsonPatchError:ca,deepClone:Hb,getValueByPointer:ma,applyOperation:na,applyPatch:Ba,applyReducer:function(V,qa,Ea){var rb=na(V,qa);if(!1===rb.test)throw new ca("Test operation failed","TEST_OPERATION_FAILED",Ea,qa,V);return rb.newDocument},validator:Fa,validate:la,_areEquals:ra}),f=new WeakMap,
l=function(){return function(V){this.observers=new Map;this.obj=V}}(),m=function(){return function(V,qa){this.callback=V;this.observer=qa}}(),q=Object.freeze({__proto__:null,unobserve:function(V,qa){qa.unobserve()},observe:function(V,qa){var Ea=f.get(V);if(Ea){var rb=Ea.observers.get(qa);var fb=rb&&rb.observer}else Ea=new l(V),f.set(V,Ea);if(fb)return fb;fb={};Ea.value=Hb(V);if(qa){fb.callback=qa;fb.next=null;var Jb=function(){Qa(fb)},Rb=function(){clearTimeout(fb.next);fb.next=setTimeout(Jb)};"undefined"!==
typeof window&&(window.addEventListener("mouseup",Rb),window.addEventListener("keyup",Rb),window.addEventListener("mousedown",Rb),window.addEventListener("keydown",Rb),window.addEventListener("change",Rb))}fb.patches=[];fb.object=V;fb.unobserve=function(){Qa(fb);clearTimeout(fb.next);Ea.observers.delete(fb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Rb),window.removeEventListener("keyup",Rb),window.removeEventListener("mousedown",Rb),window.removeEventListener("keydown",
Rb),window.removeEventListener("change",Rb))};Ea.observers.set(qa,new m(qa,fb));return fb},generate:Qa,compare:function(V,qa,Ea){void 0===Ea&&(Ea=!1);var rb=[];za(V,qa,rb,"",Ea);return rb}});Object.assign({},c,q,{JsonPatchError:da,deepClone:Hb,escapePathComponent:Ka,unescapePathComponent:Ha});var w=/("(?:[^\\"]|\\.)*")|[:,]/g,F=function(V,qa){qa=qa||{};var Ea=JSON.stringify([1],void 0,void 0===qa.indent?2:qa.indent).slice(2,-3);var rb=""===Ea?Infinity:void 0===qa.maxLength?80:qa.maxLength;var fb=
qa.replacer;return function xc(Rb,ic,Wc){Rb&&"function"===typeof Rb.toJSON&&(Rb=Rb.toJSON());var Nc=JSON.stringify(Rb,fb);if(void 0===Nc)return Nc;Wc=rb-ic.length-Wc;if(Nc.length<=Wc){var Wb=Nc.replace(w,function(we,lf){return lf||we+" "});if(Wb.length<=Wc)return Wb}null!=fb&&(Rb=JSON.parse(Nc),fb=void 0);if("object"===typeof Rb&&null!==Rb){var sd=ic+Ea;var cd=[];var Vb=0;if(Array.isArray(Rb)){var oe="[";Wb="]";for(Wc=Rb.length;Vb<Wc;Vb++)cd.push(xc(Rb[Vb],sd,Vb===Wc-1?0:1)||"null")}else{oe="{";Wb=
"}";var qd=Object.keys(Rb);for(Wc=qd.length;Vb<Wc;Vb++){var Wd=qd[Vb];var ie=JSON.stringify(Wd)+": ";Wd=xc(Rb[Wd],sd,ie.length+(Vb===Wc-1?0:1));void 0!==Wd&&cd.push(ie+Wd)}}if(0<cd.length)return[oe,Ea+cd.join(",\n"+sd),Wb].join("\n"+ic)}return Nc}(V,"",0)},U={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},wa="object"===typeof h&&h.env&&h.env.NODE_DEBUG&&/\bsemver\b/i.test(h.env.NODE_DEBUG)?(...V)=>console.error("SEMVER",
...V):()=>{},cb=function(V,qa,Ea){return Ea={path:qa,exports:{},require:function(rb,fb){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},V(Ea,Ea.exports),Ea.exports}(function(V,qa){const {MAX_SAFE_COMPONENT_LENGTH:Ea}=U;qa=V.exports={};const rb=qa.re=[],fb=qa.src=[],Jb=qa.t={};let Rb=0;V=(ic,Wc,xc)=>{const Nc=Rb++;wa(Nc,Wc);Jb[ic]=Nc;fb[Nc]=Wc;rb[Nc]=new RegExp(Wc,xc?"g":void 0)};V("NUMERICIDENTIFIER","0|[1-9]\\d*");V("NUMERICIDENTIFIERLOOSE","[0-9]+");V("NONNUMERICIDENTIFIER",
"\\d*[a-zA-Z-][a-zA-Z0-9-]*");V("MAINVERSION",`(${fb[Jb.NUMERICIDENTIFIER]})\\.`+`(${fb[Jb.NUMERICIDENTIFIER]})\\.`+`(${fb[Jb.NUMERICIDENTIFIER]})`);V("MAINVERSIONLOOSE",`(${fb[Jb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${fb[Jb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${fb[Jb.NUMERICIDENTIFIERLOOSE]})`);V("PRERELEASEIDENTIFIER",`(?:${fb[Jb.NUMERICIDENTIFIER]}|${fb[Jb.NONNUMERICIDENTIFIER]})`);V("PRERELEASEIDENTIFIERLOOSE",`(?:${fb[Jb.NUMERICIDENTIFIERLOOSE]}|${fb[Jb.NONNUMERICIDENTIFIER]})`);V("PRERELEASE",`(?:-(${fb[Jb.PRERELEASEIDENTIFIER]}(?:\\.${fb[Jb.PRERELEASEIDENTIFIER]})*))`);
V("PRERELEASELOOSE",`(?:-?(${fb[Jb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fb[Jb.PRERELEASEIDENTIFIERLOOSE]})*))`);V("BUILDIDENTIFIER","[0-9A-Za-z-]+");V("BUILD",`(?:\\+(${fb[Jb.BUILDIDENTIFIER]}(?:\\.${fb[Jb.BUILDIDENTIFIER]})*))`);V("FULLPLAIN",`v?${fb[Jb.MAINVERSION]}${fb[Jb.PRERELEASE]}?${fb[Jb.BUILD]}?`);V("FULL",`^${fb[Jb.FULLPLAIN]}$`);V("LOOSEPLAIN",`[v=\\s]*${fb[Jb.MAINVERSIONLOOSE]}${fb[Jb.PRERELEASELOOSE]}?${fb[Jb.BUILD]}?`);V("LOOSE",`^${fb[Jb.LOOSEPLAIN]}$`);V("GTLT","((?:\x3c|\x3e)?\x3d?)");
V("XRANGEIDENTIFIERLOOSE",`${fb[Jb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);V("XRANGEIDENTIFIER",`${fb[Jb.NUMERICIDENTIFIER]}|x|X|\\*`);V("XRANGEPLAIN",`[v=\\s]*(${fb[Jb.XRANGEIDENTIFIER]})`+`(?:\\.(${fb[Jb.XRANGEIDENTIFIER]})`+`(?:\\.(${fb[Jb.XRANGEIDENTIFIER]})`+`(?:${fb[Jb.PRERELEASE]})?${fb[Jb.BUILD]}?`+")?)?");V("XRANGEPLAINLOOSE",`[v=\\s]*(${fb[Jb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${fb[Jb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${fb[Jb.XRANGEIDENTIFIERLOOSE]})`+`(?:${fb[Jb.PRERELEASELOOSE]})?${fb[Jb.BUILD]}?`+
")?)?");V("XRANGE",`^${fb[Jb.GTLT]}\\s*${fb[Jb.XRANGEPLAIN]}$`);V("XRANGELOOSE",`^${fb[Jb.GTLT]}\\s*${fb[Jb.XRANGEPLAINLOOSE]}$`);V("COERCE",`${"(^|[^\\d])(\\d{1,"}${Ea}})`+`(?:\\.(\\d{1,${Ea}}))?`+`(?:\\.(\\d{1,${Ea}}))?`+"(?:$|[^\\d])");V("COERCERTL",fb[Jb.COERCE],!0);V("LONETILDE","(?:~\x3e?)");V("TILDETRIM",`(\\s*)${fb[Jb.LONETILDE]}\\s+`,!0);qa.tildeTrimReplace="$1~";V("TILDE",`^${fb[Jb.LONETILDE]}${fb[Jb.XRANGEPLAIN]}$`);V("TILDELOOSE",`^${fb[Jb.LONETILDE]}${fb[Jb.XRANGEPLAINLOOSE]}$`);V("LONECARET",
"(?:\\^)");V("CARETTRIM",`(\\s*)${fb[Jb.LONECARET]}\\s+`,!0);qa.caretTrimReplace="$1^";V("CARET",`^${fb[Jb.LONECARET]}${fb[Jb.XRANGEPLAIN]}$`);V("CARETLOOSE",`^${fb[Jb.LONECARET]}${fb[Jb.XRANGEPLAINLOOSE]}$`);V("COMPARATORLOOSE",`^${fb[Jb.GTLT]}\\s*(${fb[Jb.LOOSEPLAIN]})$|^$`);V("COMPARATOR",`^${fb[Jb.GTLT]}\\s*(${fb[Jb.FULLPLAIN]})$|^$`);V("COMPARATORTRIM",`(\\s*)${fb[Jb.GTLT]}\\s*(${fb[Jb.LOOSEPLAIN]}|${fb[Jb.XRANGEPLAIN]})`,!0);qa.comparatorTrimReplace="$1$2$3";V("HYPHENRANGE",`^\\s*(${fb[Jb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${fb[Jb.XRANGEPLAIN]})`+"\\s*$");V("HYPHENRANGELOOSE",`^\\s*(${fb[Jb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${fb[Jb.XRANGEPLAINLOOSE]})`+"\\s*$");V("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");V("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");V("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const gb=/^[0-9]+$/,Y=(V,qa)=>{const Ea=gb.test(V),rb=gb.test(qa);Ea&&rb&&(V=+V,qa=+qa);return V===qa?0:Ea&&!rb?-1:rb&&!Ea?1:V<qa?-1:1};var ta={compareIdentifiers:Y,rcompareIdentifiers:(V,qa)=>Y(qa,V)};const {MAX_LENGTH:G,
MAX_SAFE_INTEGER:Q}=U,{re:ka,t:Da}=cb,{compareIdentifiers:sb}=ta;class Ya{constructor(V,qa){qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof Ya){if(V.loose===!!qa.loose&&V.includePrerelease===!!qa.includePrerelease)return V;V=V.version}else if("string"!==typeof V)throw new TypeError(`Invalid Version: ${V}`);if(V.length>G)throw new TypeError(`version is longer than ${G} characters`);wa("SemVer",V,qa);this.options=qa;this.loose=!!qa.loose;this.includePrerelease=!!qa.includePrerelease;
qa=V.trim().match(qa.loose?ka[Da.LOOSE]:ka[Da.FULL]);if(!qa)throw new TypeError(`Invalid Version: ${V}`);this.raw=V;this.major=+qa[1];this.minor=+qa[2];this.patch=+qa[3];if(this.major>Q||0>this.major)throw new TypeError("Invalid major version");if(this.minor>Q||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>Q||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=qa[4]?qa[4].split(".").map(Ea=>{if(/^[0-9]+$/.test(Ea)){const rb=+Ea;if(0<=rb&&rb<Q)return rb}return Ea}):
[];this.build=qa[5]?qa[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(V){wa("SemVer.compare",this.version,this.options,V);if(!(V instanceof Ya)){if("string"===typeof V&&V===this.version)return 0;V=new Ya(V,this.options)}return V.version===this.version?0:this.compareMain(V)||this.comparePre(V)}compareMain(V){V instanceof
Ya||(V=new Ya(V,this.options));return sb(this.major,V.major)||sb(this.minor,V.minor)||sb(this.patch,V.patch)}comparePre(V){V instanceof Ya||(V=new Ya(V,this.options));if(this.prerelease.length&&!V.prerelease.length)return-1;if(!this.prerelease.length&&V.prerelease.length)return 1;if(!this.prerelease.length&&!V.prerelease.length)return 0;let qa=0;do{const Ea=this.prerelease[qa],rb=V.prerelease[qa];wa("prerelease compare",qa,Ea,rb);if(void 0===Ea&&void 0===rb)return 0;if(void 0===rb)return 1;if(void 0===
Ea)return-1;if(Ea!==rb)return sb(Ea,rb)}while(++qa)}compareBuild(V){V instanceof Ya||(V=new Ya(V,this.options));let qa=0;do{const Ea=this.build[qa],rb=V.build[qa];wa("prerelease compare",qa,Ea,rb);if(void 0===Ea&&void 0===rb)return 0;if(void 0===rb)return 1;if(void 0===Ea)return-1;if(Ea!==rb)return sb(Ea,rb)}while(++qa)}inc(V,qa){switch(V){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",qa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;
this.inc("pre",qa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",qa);this.inc("pre",qa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",qa);this.inc("pre",qa);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;
this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(V=this.prerelease.length;0<=--V;)"number"===typeof this.prerelease[V]&&(this.prerelease[V]++,V=-2);-1===V&&this.prerelease.push(0)}qa&&(this.prerelease[0]===qa?isNaN(this.prerelease[1])&&(this.prerelease=[qa,0]):this.prerelease=[qa,0]);break;default:throw Error(`invalid increment argument: ${V}`);}this.format();this.raw=this.version;return this}}var ob=Ya;const {MAX_LENGTH:Na}=U,{re:yb,t:Fb}=cb;var eb=(V,
qa)=>{qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof ob)return V;if("string"!==typeof V||V.length>Na||!(qa.loose?yb[Fb.LOOSE]:yb[Fb.FULL]).test(V))return null;try{return new ob(V,qa)}catch(Ea){return null}},Lb=(V,qa,Ea)=>(new ob(V,Ea)).compare(new ob(qa,Ea)),hc=(V,qa,Ea)=>{V=new ob(V,Ea);qa=new ob(qa,Ea);return V.compare(qa)||V.compareBuild(qa)},Yb=(V,qa,Ea)=>0<Lb(V,qa,Ea),Ic=(V,qa,Ea)=>0>Lb(V,qa,Ea),yc=(V,qa,Ea)=>0<=Lb(V,qa,Ea),hd=(V,qa,Ea)=>0>=Lb(V,qa,Ea),Bd=(V,
qa,Ea,rb)=>{switch(qa){case "\x3d\x3d\x3d":return"object"===typeof V&&(V=V.version),"object"===typeof Ea&&(Ea=Ea.version),V===Ea;case "!\x3d\x3d":return"object"===typeof V&&(V=V.version),"object"===typeof Ea&&(Ea=Ea.version),V!==Ea;case "":case "\x3d":case "\x3d\x3d":return 0===Lb(V,Ea,rb);case "!\x3d":return 0!==Lb(V,Ea,rb);case "\x3e":return 0<Lb(V,Ea,rb);case "\x3e\x3d":return 0<=Lb(V,Ea,rb);case "\x3c":return 0>Lb(V,Ea,rb);case "\x3c\x3d":return 0>=Lb(V,Ea,rb);default:throw new TypeError(`Invalid operator: ${qa}`);
}};const {re:Gc,t:jd}=cb;class fe{constructor(V,qa){qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof fe)return V.loose===!!qa.loose&&V.includePrerelease===!!qa.includePrerelease?V:new fe(V.raw,qa);if(V instanceof Ub)return this.raw=V.value,this.set=[[V]],this.format(),this;this.options=qa;this.loose=!!qa.loose;this.includePrerelease=!!qa.includePrerelease;this.raw=V;this.set=V.split(/\s*\|\|\s*/).map(Ea=>this.parseRange(Ea.trim())).filter(Ea=>Ea.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${V}`);
this.format()}format(){return this.range=this.set.map(V=>V.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(V){const qa=this.options.loose;V=V.trim();V=V.replace(qa?zd[Rd.HYPHENRANGELOOSE]:zd[Rd.HYPHENRANGE],Gb(this.options.includePrerelease));wa("hyphen replace",V);V=V.replace(zd[Rd.COMPARATORTRIM],Db);wa("comparator trim",V,zd[Rd.COMPARATORTRIM]);V=V.replace(zd[Rd.TILDETRIM],Zb);V=V.replace(zd[Rd.CARETTRIM],jb);V=V.split(/\s+/).join(" ");const Ea=qa?zd[Rd.COMPARATORLOOSE]:
zd[Rd.COMPARATOR];return V.split(" ").map(rb=>{var fb=rb;rb=this.options;wa("comp",fb,rb);fb=M(fb,rb);wa("caret",fb);fb=gd(fb,rb);wa("tildes",fb);fb=$a(fb,rb);wa("xrange",fb);wa("replaceStars",fb,rb);fb=fb.trim().replace(zd[Rd.STAR],"");wa("stars",fb);return fb}).join(" ").split(/\s+/).map(rb=>{var fb=this.options;wa("replaceGTE0",rb,fb);return rb.trim().replace(zd[fb.includePrerelease?Rd.GTE0PRE:Rd.GTE0],"")}).filter(this.options.loose?rb=>!!rb.match(Ea):()=>!0).map(rb=>new Ub(rb,this.options))}intersects(V,
qa){if(!(V instanceof fe))throw new TypeError("a Range is required");return this.set.some(Ea=>lc(Ea,qa)&&V.set.some(rb=>lc(rb,qa)&&Ea.every(fb=>rb.every(Jb=>fb.intersects(Jb,qa)))))}test(V){if(!V)return!1;if("string"===typeof V)try{V=new ob(V,this.options)}catch(Jb){return!1}for(let Jb=0;Jb<this.set.length;Jb++){a:{var qa=this.set[Jb];var Ea=V,rb=this.options;for(var fb=0;fb<qa.length;fb++)if(!qa[fb].test(Ea)){qa=!1;break a}if(Ea.prerelease.length&&!rb.includePrerelease){for(rb=0;rb<qa.length;rb++)if(wa(qa[rb].semver),
qa[rb].semver!==Ub.ANY&&0<qa[rb].semver.prerelease.length&&(fb=qa[rb].semver,fb.major===Ea.major&&fb.minor===Ea.minor&&fb.patch===Ea.patch)){qa=!0;break a}qa=!1}else qa=!0}if(qa)return!0}return!1}}var Mc=fe;const {re:zd,t:Rd,comparatorTrimReplace:Db,tildeTrimReplace:Zb,caretTrimReplace:jb}=cb,lc=(V,qa)=>{let Ea=!0;V=V.slice();let rb=V.pop();for(;Ea&&V.length;)Ea=V.every(fb=>rb.intersects(fb,qa)),rb=V.pop();return Ea},pc=V=>!V||"x"===V.toLowerCase()||"*"===V,gd=(V,qa)=>V.trim().split(/\s+/).map(Ea=>
xd(Ea,qa)).join(" "),xd=(V,qa)=>V.replace(qa.loose?zd[Rd.TILDELOOSE]:zd[Rd.TILDE],(Ea,rb,fb,Jb,Rb)=>{wa("tilde",V,Ea,rb,fb,Jb,Rb);pc(rb)?Ea="":pc(fb)?Ea=`>=${rb}.0.0 <${+rb+1}.0.0-0`:pc(Jb)?Ea=`>=${rb}.${fb}.0 <${rb}.${+fb+1}.0-0`:Rb?(wa("replaceTilde pr",Rb),Ea=`>=${rb}.${fb}.${Jb}-${Rb} <${rb}.${+fb+1}.0-0`):Ea=`>=${rb}.${fb}.${Jb} <${rb}.${+fb+1}.0-0`;wa("tilde return",Ea);return Ea}),M=(V,qa)=>V.trim().split(/\s+/).map(Ea=>oa(Ea,qa)).join(" "),oa=(V,qa)=>{wa("caret",V,qa);const Ea=qa.includePrerelease?
"-0":"";return V.replace(qa.loose?zd[Rd.CARETLOOSE]:zd[Rd.CARET],(rb,fb,Jb,Rb,ic)=>{wa("caret",V,rb,fb,Jb,Rb,ic);pc(fb)?rb="":pc(Jb)?rb=`>=${fb}.0.0${Ea} <${+fb+1}.0.0-0`:pc(Rb)?rb="0"===fb?`>=${fb}.${Jb}.0${Ea} <${fb}.${+Jb+1}.0-0`:`>=${fb}.${Jb}.0${Ea} <${+fb+1}.0.0-0`:ic?(wa("replaceCaret pr",ic),rb="0"===fb?"0"===Jb?`>=${fb}.${Jb}.${Rb}-${ic} <${fb}.${Jb}.${+Rb+1}-0`:`>=${fb}.${Jb}.${Rb}-${ic} <${fb}.${+Jb+1}.0-0`:`>=${fb}.${Jb}.${Rb}-${ic} <${+fb+1}.0.0-0`):(wa("no pr"),rb="0"===fb?"0"===Jb?
`>=${fb}.${Jb}.${Rb}${Ea} <${fb}.${Jb}.${+Rb+1}-0`:`>=${fb}.${Jb}.${Rb}${Ea} <${fb}.${+Jb+1}.0-0`:`>=${fb}.${Jb}.${Rb} <${+fb+1}.0.0-0`);wa("caret return",rb);return rb})},$a=(V,qa)=>{wa("replaceXRanges",V,qa);return V.split(/\s+/).map(Ea=>ub(Ea,qa)).join(" ")},ub=(V,qa)=>{V=V.trim();return V.replace(qa.loose?zd[Rd.XRANGELOOSE]:zd[Rd.XRANGE],(Ea,rb,fb,Jb,Rb,ic)=>{wa("xRange",V,Ea,rb,fb,Jb,Rb,ic);const Wc=pc(fb),xc=Wc||pc(Jb);Rb=xc||pc(Rb);"\x3d"===rb&&Rb&&(rb="");ic=qa.includePrerelease?"-0":"";Wc?
Ea="\x3e"===rb||"\x3c"===rb?"\x3c0.0.0-0":"*":rb&&Rb?(xc&&(Jb=0),Rb=0,"\x3e"===rb?(rb="\x3e\x3d",xc?(fb=+fb+1,Jb=0):Jb=+Jb+1,Rb=0):"\x3c\x3d"===rb&&(rb="\x3c",xc?fb=+fb+1:Jb=+Jb+1),"\x3c"===rb&&(ic="-0"),Ea=`${rb+fb}.${Jb}.${Rb}${ic}`):xc?Ea=`>=${fb}.0.0${ic} <${+fb+1}.0.0-0`:Rb&&(Ea=`>=${fb}.${Jb}.0${ic} <${fb}.${+Jb+1}.0-0`);wa("xRange return",Ea);return Ea})},Gb=V=>(qa,Ea,rb,fb,Jb,Rb,ic,Wc,xc,Nc,Wb,sd,cd)=>{Ea=pc(rb)?"":pc(fb)?`>=${rb}.0.0${V?"-0":""}`:pc(Jb)?`>=${rb}.${fb}.0${V?"-0":""}`:Rb?`>=${Ea}`:
`>=${Ea}${V?"-0":""}`;Wc=pc(xc)?"":pc(Nc)?`<${+xc+1}.0.0-0`:pc(Wb)?`<${xc}.${+Nc+1}.0-0`:sd?`<=${xc}.${Nc}.${Wb}-${sd}`:V?`<${xc}.${Nc}.${+Wb+1}-0`:`<=${Wc}`;return`${Ea} ${Wc}`.trim()},Ib=Symbol("SemVer ANY");class bc{static get ANY(){return Ib}constructor(V,qa){qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof bc){if(V.loose===!!qa.loose)return V;V=V.value}wa("comparator",V,qa);this.options=qa;this.loose=!!qa.loose;this.parse(V);this.value=this.semver===Ib?"":this.operator+
this.semver.version;wa("comp",this)}parse(V){const qa=V.match(this.options.loose?sc[Cc.COMPARATORLOOSE]:sc[Cc.COMPARATOR]);if(!qa)throw new TypeError(`Invalid comparator: ${V}`);this.operator=void 0!==qa[1]?qa[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=qa[2]?new ob(qa[2],this.options.loose):Ib}toString(){return this.value}test(V){wa("Comparator.test",V,this.options.loose);if(this.semver===Ib||V===Ib)return!0;if("string"===typeof V)try{V=new ob(V,this.options)}catch(qa){return!1}return Bd(V,
this.operator,this.semver,this.options)}intersects(V,qa){if(!(V instanceof bc))throw new TypeError("a Comparator is required");qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Mc(V.value,qa)).test(this.value);if(""===V.operator)return""===V.value?!0:(new Mc(this.value,qa)).test(V.semver);const Ea=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===V.operator||"\x3e"===V.operator),rb=("\x3c\x3d"===this.operator||"\x3c"===
this.operator)&&("\x3c\x3d"===V.operator||"\x3c"===V.operator),fb=this.semver.version===V.semver.version,Jb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===V.operator||"\x3c\x3d"===V.operator),Rb=Bd(this.semver,"\x3c",V.semver,qa)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===V.operator||"\x3c"===V.operator);V=Bd(this.semver,"\x3e",V.semver,qa)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===V.operator||"\x3e"===V.operator);return Ea||
rb||fb&&Jb||Rb||V}}var Ub=bc;const {re:sc,t:Cc}=cb;var va=(V,qa,Ea)=>{try{qa=new Mc(qa,Ea)}catch(rb){return!1}return qa.test(V)};const {ANY:Za}=Ub;var pb=(V,qa,Ea,rb)=>{V=new ob(V,rb);qa=new Mc(qa,rb);let fb,Jb,Rb,ic;switch(Ea){case "\x3e":fb=Yb;Ea=hd;Jb=Ic;Rb="\x3e";ic="\x3e\x3d";break;case "\x3c":fb=Ic;Ea=yc;Jb=Yb;Rb="\x3c";ic="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(va(V,qa,rb))return!1;for(let Wc=0;Wc<qa.set.length;++Wc){let xc=null,Nc=null;
qa.set[Wc].forEach(Wb=>{Wb.semver===Za&&(Wb=new Ub("\x3e\x3d0.0.0"));xc=xc||Wb;Nc=Nc||Wb;fb(Wb.semver,xc.semver,rb)?xc=Wb:Jb(Wb.semver,Nc.semver,rb)&&(Nc=Wb)});if(xc.operator===Rb||xc.operator===ic||(!Nc.operator||Nc.operator===Rb)&&Ea(V,Nc.semver)||Nc.operator===ic&&Jb(V,Nc.semver))return!1}return!0};const {ANY:Sb}=Ub,uc=(V,qa,Ea)=>{if(1===V.length&&V[0].semver===Sb)return 1===qa.length&&qa[0].semver===Sb;const rb=new Set;let fb,Jb;for(const xc of V)"\x3e"===xc.operator||"\x3e\x3d"===xc.operator?
fb=Ac(fb,xc,Ea):"\x3c"===xc.operator||"\x3c\x3d"===xc.operator?Jb=Kc(Jb,xc,Ea):rb.add(xc.semver);if(1<rb.size)return null;let Rb;if(fb&&Jb&&(Rb=Lb(fb.semver,Jb.semver,Ea),0<Rb||0===Rb&&("\x3e\x3d"!==fb.operator||"\x3c\x3d"!==Jb.operator)))return null;for(const xc of rb){if(fb&&!va(xc,String(fb),Ea)||Jb&&!va(xc,String(Jb),Ea))return null;for(const Nc of qa)if(!va(xc,String(Nc),Ea))return!1;return!0}let ic,Wc;for(const xc of qa){Wc=Wc||"\x3e"===xc.operator||"\x3e\x3d"===xc.operator;ic=ic||"\x3c"===
xc.operator||"\x3c\x3d"===xc.operator;if(fb)if("\x3e"===xc.operator||"\x3e\x3d"===xc.operator){if(V=Ac(fb,xc,Ea),V===xc)return!1}else if("\x3e\x3d"===fb.operator&&!va(fb.semver,String(xc),Ea))return!1;if(Jb)if("\x3c"===xc.operator||"\x3c\x3d"===xc.operator){if(V=Kc(Jb,xc,Ea),V===xc)return!1}else if("\x3c\x3d"===Jb.operator&&!va(Jb.semver,String(xc),Ea))return!1;if(!xc.operator&&(Jb||fb)&&0!==Rb)return!1}return fb&&ic&&!Jb&&0!==Rb||Jb&&Wc&&!fb&&0!==Rb?!1:!0},Ac=(V,qa,Ea)=>{if(!V)return qa;Ea=Lb(V.semver,
qa.semver,Ea);return 0<Ea?V:0>Ea?qa:"\x3e"===qa.operator&&"\x3e\x3d"===V.operator?qa:V},Kc=(V,qa,Ea)=>{if(!V)return qa;Ea=Lb(V.semver,qa.semver,Ea);return 0>Ea?V:0<Ea?qa:"\x3c"===qa.operator&&"\x3c\x3d"===V.operator?qa:V};var Bb={re:cb.re,src:cb.src,tokens:cb.t,SEMVER_SPEC_VERSION:U.SEMVER_SPEC_VERSION,SemVer:ob,compareIdentifiers:ta.compareIdentifiers,rcompareIdentifiers:ta.rcompareIdentifiers,parse:eb,valid:(V,qa)=>(V=eb(V,qa))?V.version:null,clean:(V,qa)=>(V=eb(V.trim().replace(/^[=v]+/,""),qa))?
V.version:null,inc:(V,qa,Ea,rb)=>{"string"===typeof Ea&&(rb=Ea,Ea=void 0);try{return(new ob(V,Ea)).inc(qa,rb).version}catch(fb){return null}},diff:(V,qa)=>{if(0===Lb(V,qa,void 0))return null;V=eb(V);qa=eb(qa);const Ea=V.prerelease.length||qa.prerelease.length,rb=Ea?"pre":"";for(const fb in V)if(("major"===fb||"minor"===fb||"patch"===fb)&&V[fb]!==qa[fb])return rb+fb;return Ea?"prerelease":""},major:(V,qa)=>(new ob(V,qa)).major,minor:(V,qa)=>(new ob(V,qa)).minor,patch:(V,qa)=>(new ob(V,qa)).patch,prerelease:(V,
qa)=>(V=eb(V,qa))&&V.prerelease.length?V.prerelease:null,compare:Lb,rcompare:(V,qa,Ea)=>Lb(qa,V,Ea),compareLoose:(V,qa)=>Lb(V,qa,!0),compareBuild:hc,sort:(V,qa)=>V.sort((Ea,rb)=>hc(Ea,rb,qa)),rsort:(V,qa)=>V.sort((Ea,rb)=>hc(rb,Ea,qa)),gt:Yb,lt:Ic,eq:(V,qa,Ea)=>0===Lb(V,qa,Ea),neq:(V,qa,Ea)=>0!==Lb(V,qa,Ea),gte:yc,lte:hd,cmp:Bd,coerce:(V,qa)=>{if(V instanceof ob)return V;"number"===typeof V&&(V=String(V));if("string"!==typeof V)return null;qa=qa||{};let Ea=null;if(qa.rtl){let rb;for(;(rb=Gc[jd.COERCERTL].exec(V))&&
(!Ea||Ea.index+Ea[0].length!==V.length);)Ea&&rb.index+rb[0].length===Ea.index+Ea[0].length||(Ea=rb),Gc[jd.COERCERTL].lastIndex=rb.index+rb[1].length+rb[2].length;Gc[jd.COERCERTL].lastIndex=-1}else Ea=V.match(Gc[jd.COERCE]);return null===Ea?null:eb(`${Ea[2]}.${Ea[3]||"0"}.${Ea[4]||"0"}`,qa)},Comparator:Ub,Range:Mc,satisfies:va,toComparators:(V,qa)=>(new Mc(V,qa)).set.map(Ea=>Ea.map(rb=>rb.value).join(" ").trim().split(" ")),maxSatisfying:(V,qa,Ea)=>{let rb=null,fb=null,Jb=null;try{Jb=new Mc(qa,Ea)}catch(Rb){return null}V.forEach(Rb=>
{!Jb.test(Rb)||rb&&-1!==fb.compare(Rb)||(rb=Rb,fb=new ob(rb,Ea))});return rb},minSatisfying:(V,qa,Ea)=>{let rb=null,fb=null,Jb=null;try{Jb=new Mc(qa,Ea)}catch(Rb){return null}V.forEach(Rb=>{!Jb.test(Rb)||rb&&1!==fb.compare(Rb)||(rb=Rb,fb=new ob(rb,Ea))});return rb},minVersion:(V,qa)=>{V=new Mc(V,qa);let Ea=new ob("0.0.0");if(V.test(Ea))return Ea;Ea=new ob("0.0.0-0");if(V.test(Ea))return Ea;Ea=null;for(qa=0;qa<V.set.length;++qa)V.set[qa].forEach(rb=>{const fb=new ob(rb.semver.version);switch(rb.operator){case "\x3e":0===
fb.prerelease.length?fb.patch++:fb.prerelease.push(0),fb.raw=fb.format();case "":case "\x3e\x3d":if(!Ea||0<Lb(Ea,fb,void 0))Ea=fb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${rb.operator}`);}});return Ea&&V.test(Ea)?Ea:null},validRange:(V,qa)=>{try{return(new Mc(V,qa)).range||"*"}catch(Ea){return null}},outside:pb,gtr:(V,qa,Ea)=>pb(V,qa,"\x3e",Ea),ltr:(V,qa,Ea)=>pb(V,qa,"\x3c",Ea),intersects:(V,qa,Ea)=>{V=new Mc(V,Ea);qa=new Mc(qa,Ea);return V.intersects(qa)},
simplifyRange:(V,qa,Ea)=>{var rb=[],fb=null;let Jb=null;V=V.sort((Rb,ic)=>Lb(Rb,ic,Ea));for(const Rb of V)va(Rb,qa,Ea)?(Jb=Rb,fb||(fb=Rb)):(Jb&&rb.push([fb,Jb]),fb=Jb=null);fb&&rb.push([fb,null]);fb=[];for(const [Rb,ic]of rb)Rb===ic?fb.push(Rb):ic||Rb!==V[0]?ic?Rb===V[0]?fb.push(`<=${ic}`):fb.push(`${Rb} - ${ic}`):fb.push(`>=${Rb}`):fb.push("*");rb=fb.join(" || ");return rb.length<("string"===typeof qa.raw?qa.raw:String(qa)).length?rb:qa},subset:(V,qa,Ea)=>{V=new Mc(V,Ea);qa=new Mc(qa,Ea);let rb=
!1;a:for(const fb of V.set){for(const Jb of qa.set)if(V=uc(fb,Jb,Ea),rb=rb||null!==V,V)continue a;if(rb)return!1}return!0}};const Tb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},kc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var jc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",
strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",
labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Tb["category-6"],diverging:Tb["fireandice-6"],heatmap:Tb["fire-7"],ordinal:Tb["fire-7"],ramp:Tb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:kc["six-groups-cat-1"],diverging:kc["diverging-colors"],heatmap:kc["diverging-colors"],ordinal:kc["six-groups-seq"],ramp:kc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const qc=V=>function(qa){return qa[V]},ed=V=>{const qa=V.length;return function(Ea){for(let rb=0;rb<qa;++rb)Ea=Ea[V[rb]];return Ea}};(function(V,qa,Ea){const rb=ya(V);V=1===rb.length?rb[0]:V;return K((Ea&&Ea.get||ia)(rb),[V],qa||V)})("id");K(V=>V,[],"identity");K(()=>0,[],"zero");K(()=>1,[],"one");
K(()=>!0,[],"true");K(()=>!1,[],"false");var od=Array.isArray;const ud={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(V){return String(V).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class md{constructor(V){this.options=Object.assign(Object.assign({},ud),V);V=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const Ea=
document.createElement("style");Ea.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(V))throw Error("Invalid HTML ID");var qa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
V);Ea.innerHTML=qa;qa=document.head;0<qa.childNodes.length?qa.insertBefore(Ea,qa.childNodes[0]):qa.appendChild(Ea)}this.el=document.getElementById(V);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",V),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(V,qa,Ea,rb){if(null==rb||""===rb)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=La(rb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);V=this.el.getBoundingClientRect();var fb=this.options.offsetX;Ea=this.options.offsetY;rb=qa.clientX+fb;rb+V.width>window.innerWidth&&(rb=+qa.clientX-fb-V.width);fb=qa.clientY+Ea;fb+V.height>window.innerHeight&&(fb=+qa.clientY-Ea-V.height);var {x:Jb,y:Rb}={x:rb,y:fb};this.el.setAttribute("style",`top: ${Rb}px; left: ${Jb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(V,qa){return this.substr(!qa||0>qa?0:+qa,V.length)===V});var rd,Od=aa,ee=ea,
he="undefined"!==typeof window?window:void 0;void 0===ee&&(null===(rd=null===he||void 0===he?void 0:he.vl)||void 0===rd?0:rd.compile)&&(ee=he.vl);var Jd={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},De={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ne={vega:"Vega","vega-lite":"Vega-Lite"},le={vega:Od.version,"vega-lite":ee?ee.version:
"not available"},Dd={vega:function(V){return V},"vega-lite":function(V,qa){return ee.compile(V,{config:qa}).spec}},be=function(){for(var V=[],qa=0;qa<arguments.length;qa++)V[qa]=arguments[qa];if(qa=1<V.length){if(qa=r.isString(V[0]))qa=V[0],qa=!(qa.startsWith("http://")||qa.startsWith("https://")||qa.startsWith("//"));qa=qa||V[0]instanceof HTMLElement||3===V.length}return qa?x(V[0],V[1],V[2]):R(V[0],V[1])};be.vegaLite=ee;be.vl=ee;be.container=R;be.embed=x;be.vega=Od;be["default"]=x;be.version="6.12.2";
return be})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var h,aa=aa||{},ba=this||self;function ca(){}function p(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function da(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length}function fa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ha(a){return Object.prototype.hasOwnProperty.call(a,ia)&&a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}
function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function ma(a,b,c){ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return ma.apply(null,arguments)}
function na(a,b){function c(){}c.prototype=b.prototype;a.rc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};function pa(a){pa[" "](a);return a}pa[" "]=ca;function ra(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function sa(a,b){return new ta(a,b)}function ua(a){return 0<a?0x7fffffffffffffff<=a?va:new ta(a,a/4294967296):0>a?-9223372036854775808>=a?wa:xa(new ta(-a,-a/4294967296)):ya}
function za(a,b){if("-"==a.charAt(0))return xa(za(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new ta(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=ua(Math.pow(b,8));for(var d=ya,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=ua(Math.pow(b,
f)),d=d.multiply(f).add(ua(g))):(d=d.multiply(c),d=d.add(ua(g)))}return d}function xa(a){var b=~a.Ia+1|0;return sa(b,~a.Aa+!b|0)}
function Aa(a,b){if(Ba(b))throw Error("division by zero");if(0>a.Aa){if(a.equals(wa)){if(b.equals(Ca)||b.equals(Da))return wa;if(b.equals(wa))return Ca;var c=1;if(0==c)c=a;else{var d=a.Aa;c=32>c?sa(a.Ia>>>c|d<<32-c,d>>c):sa(d>>c-32,0<=d?0:-1)}c=Aa(c,b).shiftLeft(1);if(c.equals(ya))return 0>b.Aa?Ca:Da;d=b.multiply(c);a=a.add(xa(d));return c.add(Aa(a,b))}return 0>b.Aa?Aa(xa(a),xa(b)):xa(Aa(xa(a),b))}if(Ba(a))return ya;if(0>b.Aa)return b.equals(wa)?ya:xa(Aa(a,xa(b)));for(d=ya;0<=a.compare(b);){c=Math.max(1,
Math.floor(a.toNumber()/b.toNumber()));var e=Math.ceil(Math.log(c)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=ua(c),g=f.multiply(b);0>g.Aa||0<g.compare(a);)c-=e,f=ua(c),g=f.multiply(b);Ba(f)&&(f=Ca);d=d.add(f);a=a.add(xa(g))}return d}function Ba(a){return 0==a.Ia&&0==a.Aa}function Ea(a,b){b&=63;if(0==b)return a;var c=a.Aa;return 32>b?sa(a.Ia>>>b|c<<32-b,c>>>b):32==b?sa(c,0):sa(c>>>b-32,0)}
class ta{constructor(a,b){this.Ia=a|0;this.Aa=b|0}toNumber(){return 4294967296*this.Aa+(this.Ia>>>0)}isSafeInteger(){var a=this.Aa>>21;return 0==a||-1==a&&!(0==this.Ia&&-2097152==this.Aa)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=sa(c,c/4294967296);c=Aa(this,d);var e=Math,f=e.abs;d=c.multiply(d);d=this.add(xa(d));e=f.call(e,d.toNumber());f=10==a?""+e:e.toString(a);
f.length<b&&(f="0000000000000".substr(f.length-b)+f);e=c.toNumber();return(10==a?e:e.toString(a))+f}equals(a){return this.Ia==a.Ia&&this.Aa==a.Aa}compare(a){return this.Aa==a.Aa?this.Ia==a.Ia?0:this.Ia>>>0>a.Ia>>>0?1:-1:this.Aa>a.Aa?1:-1}add(a){var b=this.Aa>>>16,c=this.Aa&65535,d=this.Ia>>>16,e=a.Aa>>>16,f=a.Aa&65535,g=a.Ia>>>16;a=(this.Ia&65535)+(a.Ia&65535);g=(a>>>16)+(d+g);d=g>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return sa((g&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(Ba(this))return this;
if(Ba(a))return a;var b=this.Aa>>>16,c=this.Aa&65535,d=this.Ia>>>16,e=this.Ia&65535,f=a.Aa>>>16,g=a.Aa&65535,k=a.Ia>>>16;a=a.Ia&65535;var l=e*a;var m=(l>>>16)+d*a;var n=m>>>16;m=(m&65535)+e*k;n+=m>>>16;n+=c*a;var q=n>>>16;n=(n&65535)+d*k;q+=n>>>16;n=(n&65535)+e*g;q=q+(n>>>16)+(b*a+c*k+d*g+e*f)&65535;return sa((m&65535)<<16|l&65535,q<<16|n&65535)}not(){return sa(~this.Ia,~this.Aa)}and(a){return sa(this.Ia&a.Ia,this.Aa&a.Aa)}or(a){return sa(this.Ia|a.Ia,this.Aa|a.Aa)}xor(a){return sa(this.Ia^a.Ia,this.Aa^
a.Aa)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.Ia;return 32>a?sa(b<<a,this.Aa<<a|b>>>32-a):sa(0,b<<a-32)}}const ya=sa(0,0),Ca=sa(1,0),Da=sa(-1,-1),va=sa(4294967295,2147483647),wa=sa(0,2147483648);const Fa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ga=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,
c);for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Ha=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ia=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Ja=Array.prototype.every?function(a,
b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ka(a){a:{var b=La;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Ma(a){if(!Array.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Na(a,b){b=Fa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Oa(a){return Array.prototype.concat.apply([],arguments)}function Qa(a,b){a.sort(b||Ra)}function Sa(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Ra;Qa(c,function(f,g){return e(f.value,g.value)||f.index-g.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function Ra(a,b){return a>b?1:a<b?-1:0};function Ta(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function Va(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function Wa(a,b,c){return null!==a&&b in a?a[b]:c}var Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Za(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function $a(a,b){return 0==a.lastIndexOf(b,0)}function ab(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}var bb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function cb(a,b){return a<b?-1:a>b?1:0};var db;a:{var eb=ba.navigator;if(eb){var fb=eb.userAgent;if(fb){db=fb;break a}}db=""}function gb(a){return-1!=db.indexOf(a)};var hb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function ib(a){if(a.Wa&&"function"==typeof a.Wa)a=a.Wa();else if(da(a)||"string"===typeof a)a=a.length;else{let b=0;for(const c in a)b++;a=b}return a}function jb(a){if(a.sb&&"function"==typeof a.sb)return a.sb();if("string"===typeof a)return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ta(a)}
function kb(a){if(a.ob&&"function"==typeof a.ob)return a.ob();if(!a.sb||"function"!=typeof a.sb){if(da(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Va(a)}}function lb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(da(a)||"string"===typeof a)Ha(a,b,c);else for(var d=kb(a),e=jb(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}
function mb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(da(a)||"string"===typeof a)return Ja(a,b,void 0);for(var c=kb(a),d=jb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};var nb="StopIteration"in ba?ba.StopIteration:{message:"StopIteration",stack:""};function ob(){}ob.prototype.next=function(){throw nb;};ob.prototype.ud=function(){return this};function pb(a){if(a instanceof ob)return a;if("function"==typeof a.ud)return a.ud(!1);if(da(a)){var b=0,c=new ob;c.next=function(){for(;;){if(b>=a.length)throw nb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function qb(a,b,c){if(da(a))try{Ha(a,b,c)}catch(d){if(d!==nb)throw d;}else{a=pb(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(d){if(d!==nb)throw d;}}};function rb(a,b){this.Ya={};this.Xa=[];this.$d=this.Pa=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}h=rb.prototype;h.Wa=function(){return this.Pa};h.sb=function(){sb(this);for(var a=[],b=0;b<this.Xa.length;b++)a.push(this.Ya[this.Xa[b]]);return a};h.ob=function(){sb(this);return this.Xa.concat()};h.Jc=function(a){return tb(this.Ya,a)};
h.Gd=function(a){for(var b=0;b<this.Xa.length;b++){var c=this.Xa[b];if(tb(this.Ya,c)&&this.Ya[c]==a)return!0}return!1};h.equals=function(a,b){if(this===a)return!0;if(this.Pa!=a.Wa())return!1;b=b||ub;sb(this);for(var c,d=0;c=this.Xa[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function ub(a,b){return a===b}h.isEmpty=function(){return 0==this.Pa};h.clear=function(){this.Ya={};this.$d=this.Pa=this.Xa.length=0};
h.remove=function(a){return tb(this.Ya,a)?(delete this.Ya[a],this.Pa--,this.$d++,this.Xa.length>2*this.Pa&&sb(this),!0):!1};function sb(a){if(a.Pa!=a.Xa.length){for(var b=0,c=0;b<a.Xa.length;){var d=a.Xa[b];tb(a.Ya,d)&&(a.Xa[c++]=d);b++}a.Xa.length=c}if(a.Pa!=a.Xa.length){var e={};for(c=b=0;b<a.Xa.length;)d=a.Xa[b],tb(e,d)||(a.Xa[c++]=d,e[d]=1),b++;a.Xa.length=c}}h.get=function(a,b){return tb(this.Ya,a)?this.Ya[a]:b};
h.set=function(a,b){tb(this.Ya,a)||(this.Pa++,this.Xa.push(a),this.$d++);this.Ya[a]=b};h.addAll=function(a){if(a instanceof rb)for(var b=a.ob(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};h.forEach=function(a,b){for(var c=this.ob(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new rb(this)};h.transpose=function(){for(var a=new rb,b=0;b<this.Xa.length;b++){var c=this.Xa[b];a.set(this.Ya[c],c)}return a};
h.ud=function(a){sb(this);var b=0,c=this.$d,d=this,e=new ob;e.next=function(){if(c!=d.$d)throw Error("The map has changed since the iterator was created");if(b>=d.Xa.length)throw nb;var f=d.Xa[b++];return a?f:d.Ya[f]};return e};function tb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var wb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function yb(a,b){this.Pa=this.ab=null;this.Tb=a||null;this.dh=!!b}function zb(a){a.ab||(a.ab=new rb,a.Pa=0,a.Tb&&xb(a.Tb,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}h=yb.prototype;h.Wa=function(){zb(this);return this.Pa};h.add=function(a,b){zb(this);this.Tb=null;a=Ab(this,a);var c=this.ab.get(a);c||this.ab.set(a,c=[]);c.push(b);this.Pa+=1;return this};
h.remove=function(a){zb(this);a=Ab(this,a);return this.ab.Jc(a)?(this.Tb=null,this.Pa-=this.ab.get(a).length,this.ab.remove(a)):!1};h.clear=function(){this.ab=this.Tb=null;this.Pa=0};h.isEmpty=function(){zb(this);return 0==this.Pa};h.Jc=function(a){zb(this);a=Ab(this,a);return this.ab.Jc(a)};h.Gd=function(a){var b=this.sb();return 0<=Fa(b,a)};h.forEach=function(a,b){zb(this);this.ab.forEach(function(c,d){Ha(c,function(e){a.call(b,e,d,this)},this)},this)};
h.ob=function(){zb(this);for(var a=this.ab.sb(),b=this.ab.ob(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};h.sb=function(a){zb(this);var b=[];if("string"===typeof a)this.Jc(a)&&(b=Oa(b,this.ab.get(Ab(this,a))));else{a=this.ab.sb();for(var c=0;c<a.length;c++)b=Oa(b,a[c])}return b};h.set=function(a,b){zb(this);this.Tb=null;a=Ab(this,a);this.Jc(a)&&(this.Pa-=this.ab.get(a).length);this.ab.set(a,[b]);this.Pa+=1;return this};
h.get=function(a,b){if(!a)return b;a=this.sb(a);return 0<a.length?String(a[0]):b};h.toString=function(){if(this.Tb)return this.Tb;if(!this.ab)return"";for(var a=[],b=this.ab.ob(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.sb(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}}return this.Tb=a.join("\x26")};h.clone=function(){var a=new yb;a.Tb=this.Tb;this.ab&&(a.ab=this.ab.clone(),a.Pa=this.Pa);return a};
function Ab(a,b){b=String(b);a.dh&&(b=b.toLowerCase());return b}h.extend=function(a){for(var b=0;b<arguments.length;b++)lb(arguments[b],function(c,d){this.add(d,c)},this)};function Bb(a,b){null!=a&&this.append.apply(this,arguments)}h=Bb.prototype;h.Hc="";h.set=function(a){this.Hc=""+a};h.append=function(a,b,c){this.Hc+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Hc+=arguments[d];return this};h.clear=function(){this.Hc=""};h.getLength=function(){return this.Hc.length};h.toString=function(){return this.Hc};var Cb={},Db={},Eb,t={},Fb=null,Gb=null;function Hb(){return new v(null,5,[Ib,!0,Jb,!0,Kb,!1,Lb,!1,Mb,Fb],null)}function y(a){return null!=a&&!1!==a}function Nb(a){return null==a}function Ob(a){return a instanceof Array}function Pb(a){return null==a?!0:!1===a?!0:!1}function Qb(a,b){return a[p(null==b?null:b)]?!0:a._?!0:!1}function Sb(a){return null==a?null:a.constructor}
function z(a,b){var c=Sb(b);c=y(y(c)?c.pc:c)?c.Rb:p(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Tb(a){var b=a.Rb;return y(b)?b:A.j(a)}
var Ub="undefined"!==typeof Symbol&&"function"===p(Symbol)?Symbol.iterator:"@@iterator",Vb={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Wb=null;
function Yb(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Zb(a){function b(d,e){d.push(e);return d}var c=[];return $b.C?$b.C(b,c,a):$b.call(null,b,c,a)}function bc(a){return"symbol"===p(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function cc(){}function dc(){}
function ec(a){if(null!=a&&null!=a.gb)a=a.gb(a);else{var b=ec[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ec._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("ICloneable.-clone",a);}return a}function fc(){}function gc(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=gc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function hc(){}
function ic(a){if(null!=a&&null!=a.Ba)a=a.Ba(a);else{var b=ic[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ic._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function jc(){}function kc(a,b){if(null!=a&&null!=a.za)a=a.za(a,b);else{var c=kc[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=kc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function lc(){}
var nc=function(){function a(d,e,f){var g=mc[p(null==d?null:d)];if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);g=mc._;if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=mc[p(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=mc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.C=a;return c}(),mc=function mc(a){switch(arguments.length){case 2:return mc.B(arguments[0],arguments[1]);case 3:return mc.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};mc.B=function(a,b){return null!=a&&null!=a.ka?a.ka(a,b):nc(a,b)};mc.C=function(a,b,c){return null!=a&&null!=a.La?a.La(a,b,c):nc(a,b,c)};mc.O=3;function oc(){}
function pc(a){if(null!=a&&null!=a.Ra)a=a.Ra(a);else{var b=pc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=pc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function qc(a){if(null!=a&&null!=a.Va)a=a.Va(a);else{var b=qc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function rc(){}
function sc(a){if(null!=a&&null!=a.Ja)a=a.Ja(a);else{var b=sc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=sc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("INext.-next",a);}return a}function tc(){}
var vc=function(){function a(d,e,f){var g=uc[p(null==d?null:d)];if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);g=uc._;if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=uc[p(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=uc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.C=a;return c}(),uc=function uc(a){switch(arguments.length){case 2:return uc.B(arguments[0],arguments[1]);case 3:return uc.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};uc.B=function(a,b){return null!=a&&null!=a.Ma?a.Ma(a,b):vc(a,b)};uc.C=function(a,b,c){return null!=a&&null!=a.na?a.na(a,b,c):vc(a,b,c)};uc.O=3;function wc(){}
function xc(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=xc[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=xc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IAssociative.-contains-key?",a);}return a}function zc(a,b,c){if(null!=a&&null!=a.fb)a=a.fb(a,b,c);else{var d=zc[p(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=zc._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}
function Cc(a,b){if(null!=a&&null!=a.tc)a=a.tc(a,b);else{var c=Cc[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Cc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function Dc(){}function Ec(a,b){if(null!=a&&null!=a.Rc)a=a.Rc(a,b);else{var c=Ec[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ec._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}
function Fc(a){if(null!=a&&null!=a.Le)a=a.key;else{var b=Fc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Fc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}function Gc(a){if(null!=a&&null!=a.Me)a=a.G;else{var b=Gc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Gc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function Hc(){}
function Ic(a,b){if(null!=a&&null!=a.Oe)a=a.Oe(a,b);else{var c=Ic[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ic._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("ISet.-disjoin",a);}return a}function Jc(a){if(null!=a&&null!=a.wc)a=a.wc(a);else{var b=Jc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IStack.-peek",a);}return a}
function Kc(a){if(null!=a&&null!=a.xc)a=a.xc(a);else{var b=Kc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Kc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IStack.-pop",a);}return a}function Lc(){}function Mc(a,b,c){if(null!=a&&null!=a.Zb)a=a.Zb(a,b,c);else{var d=Mc[p(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Mc._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IVector.-assoc-n",a);}return a}
function B(a){if(null!=a&&null!=a.lb)a=a.lb(a);else{var b=B[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=B._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function Nc(){}function Pc(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=Pc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}
function Qc(a,b){if(null!=a&&null!=a.qa)a=a.qa(a,b);else{var c=Qc[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function Rc(){}
var Tc=function(){function a(d,e,f){var g=Sc[p(null==d?null:d)];if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);g=Sc._;if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=Sc[p(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.C=a;return c}(),Sc=function Sc(a){switch(arguments.length){case 2:return Sc.B(arguments[0],arguments[1]);case 3:return Sc.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Sc.B=function(a,b){return null!=a&&null!=a.Na?a.Na(a,b):Tc(a,b)};Sc.C=function(a,b,c){return null!=a&&null!=a.Oa?a.Oa(a,b,c):Tc(a,b,c)};Sc.O=3;function Uc(){}
function Vc(a,b,c){if(null!=a&&null!=a.uc)a=a.uc(a,b,c);else{var d=Vc[p(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Vc._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IKVReduce.-kv-reduce",a);}return a}function Wc(a,b){if(null!=a&&null!=a.R)a=a.R(a,b);else{var c=Wc[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Wc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function Xc(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=Xc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Xc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function Yc(){}function Zc(a){if(null!=a&&null!=a.sa)a=a.sa(a);else{var b=Zc[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Zc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function $c(){}function ad(){}function bd(){}function cd(){}
function dd(a){if(null!=a&&null!=a.vc)a=a.vc(a);else{var b=dd[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=dd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IReversible.-rseq",a);}return a}function ed(a,b){if(null!=a&&null!=a.Sf)a=a.Sf(a,b);else{var c=ed[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ed._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function fd(){}
function gd(a,b,c){if(null!=a&&null!=a.ea)a=a.ea(a,b,c);else{var d=gd[p(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=gd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}function hd(a,b,c){if(null!=a&&null!=a.he)a.he(a,b,c);else{var d=hd[p(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=hd._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IWatchable.-add-watch",a);}}
function id(a,b){if(null!=a&&null!=a.ie)a.ie(a,b);else{var c=id[p(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=id._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw z("IWatchable.-remove-watch",a);}}function jd(a){if(null!=a&&null!=a.fd)a=a.fd(a);else{var b=jd[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}
function kd(a,b){if(null!=a&&null!=a.jd)a=a.jd(a,b);else{var c=kd[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=kd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}function ld(a){if(null!=a&&null!=a.Cd)a=a.Cd(a);else{var b=ld[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ld._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}
function md(a,b,c){if(null!=a&&null!=a.hd)a=a.hd(a,b,c);else{var d=md[p(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=md._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}function nd(a,b){if(null!=a&&null!=a.Te)a=a.Te(a,b);else{var c=nd[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=nd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("ITransientMap.-dissoc!",a);}return a}
function od(){}function pd(a,b){if(null!=a&&null!=a.Qb)a=a.Qb(a,b);else{var c=pd[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}function rd(a){if(null!=a&&null!=a.Ie)a=a.Ie(a);else{var b=rd[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=rd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}
function sd(a){if(null!=a&&null!=a.yd)a=a.yd(a);else{var b=sd[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=sd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}function td(a){if(null!=a&&null!=a.Ic)a=a.Ic(a);else{var b=td[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=td._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}
function ud(a){if(null!=a&&null!=a.zd)a=a.zd(a);else{var b=ud[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ud._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("INamed.-name",a);}return a}function vd(a){if(null!=a&&null!=a.Ad)a=a.Ad(a);else{var b=vd[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=vd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("INamed.-namespace",a);}return a}
function wd(a,b){if(null!=a&&null!=a.Yb)a=a.Yb(a,b);else{var c=wd[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=wd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var yd=function(){function a(f,g,k,l,m){var n=xd[p(null==f?null:f)];if(null!=n)return n.wa?n.wa(f,g,k,l,m):n.call(null,f,g,k,l,m);n=xd._;if(null!=n)return n.wa?n.wa(f,g,k,l,m):n.call(null,f,g,k,l,m);throw z("ISwap.-swap!",f);}function b(f,g,k,l){var m=xd[p(null==f?null:f)];if(null!=m)return m.Y?m.Y(f,g,k,l):m.call(null,f,g,k,l);m=xd._;if(null!=m)return m.Y?m.Y(f,g,k,l):m.call(null,f,g,k,l);throw z("ISwap.-swap!",f);}function c(f,g,k){var l=xd[p(null==f?null:f)];if(null!=l)return l.C?l.C(f,g,k):l.call(null,
f,g,k);l=xd._;if(null!=l)return l.C?l.C(f,g,k):l.call(null,f,g,k);throw z("ISwap.-swap!",f);}function d(f,g){var k=xd[p(null==f?null:f)];if(null!=k)return k.B?k.B(f,g):k.call(null,f,g);k=xd._;if(null!=k)return k.B?k.B(f,g):k.call(null,f,g);throw z("ISwap.-swap!",f);}var e=null;e=function(f,g,k,l,m){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,k);case 4:return b.call(this,f,g,k,l);case 5:return a.call(this,f,g,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.C=c;e.Y=b;e.wa=a;return e}(),xd=function xd(a){switch(arguments.length){case 2:return xd.B(arguments[0],arguments[1]);case 3:return xd.C(arguments[0],arguments[1],arguments[2]);case 4:return xd.Y(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return xd.wa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};xd.B=function(a,b){return null!=a&&null!=a.Pe?a.Pe(a,b):yd(a,b)};
xd.C=function(a,b,c){return null!=a&&null!=a.Qe?a.Qe(a,b,c):yd(a,b,c)};xd.Y=function(a,b,c,d){return null!=a&&null!=a.Re?a.Re(a,b,c,d):yd(a,b,c,d)};xd.wa=function(a,b,c,d,e){return null!=a&&null!=a.Se?a.Se(a,b,c,d,e):yd(a,b,c,d,e)};xd.O=5;function zd(a,b){if(null!=a&&null!=a.yc)a.yc(a,b);else{var c=zd[p(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=zd._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw z("IVolatile.-vreset!",a);}}function Ad(){}
function Bd(a){if(null!=a&&null!=a.hb)a=a.hb(a);else{var b=Bd[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Bd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}function Cd(a){this.uh=a;this.I=1073741824;this.P=0}Cd.prototype.Sf=function(a,b){return this.uh.append(b)};function Dd(a){var b=new Bb;a.ea(null,new Cd(b),Hb());return A.j(b)}
var Ed="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Fd(a){a=Ed(a|0,-862048943);return Ed(a<<15|a>>>-15,461845907)}function Gd(a,b){a=(a|0)^(b|0);return Ed(a<<13|a>>>-13,5)+-430675100|0}function Hd(a,b){a=(a|0)^b;a=Ed(a^a>>>16,-2048144789);a=Ed(a^a>>>13,-1028477387);return a^a>>>16}
function Id(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Gd(c,Fd(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Hd(1===(a.length&1)?b^Fd(a.charCodeAt(a.length-1)):b,Ed(2,a.length))}var Jd={},Kd=0;function Ld(a){255<Kd&&(Jd={},Kd=0);if(null==a)return 0;var b=Jd[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Ed(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Jd[a]=b;Kd+=1;a=b}return a}
function Md(a){if(null!=a&&(a.I&4194304||t===a.Ke))return a.pa(null)^0;if("number"===typeof a){if(y(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Ld(a),a=0===a?a:Hd(Gd(0,Fd(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Xc(a)^0,a}function Od(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Pd(a,b){if(a.qb===b.qb)return 0;var c=Pb(a.kb);if(y(c?b.kb:c))return-1;if(y(a.kb)){if(Pb(b.kb))return 1;c=Ra(a.kb,b.kb);return 0===c?Ra(a.name,b.name):c}return Ra(a.name,b.name)}function Sd(a,b,c,d,e){this.kb=a;this.name=b;this.qb=c;this._hash=d;this.lc=e;this.I=2154168321;this.P=4096}h=Sd.prototype;h.toString=function(){return this.qb};h.equiv=function(a){return this.R(null,a)};h.R=function(a,b){return b instanceof Sd?this.qb===b.qb:!1};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return C.B?C.B(a,this):C.call(null,a,this)};h.B=function(a,b){return C.C?C.C(a,this,b):C.call(null,a,this,b)};h.oa=function(){return this.lc};
h.qa=function(a,b){return new Sd(this.kb,this.name,this.qb,this._hash,b)};h.pa=function(){var a=this._hash;return null!=a?a:this._hash=a=Od(Id(this.name),Ld(this.kb))};h.zd=function(){return this.name};h.Ad=function(){return this.kb};h.ea=function(a,b){return ed(b,this.qb)};var Td=function Td(a){switch(arguments.length){case 1:return Td.j(arguments[0]);case 2:return Td.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};
Td.j=function(a){for(;;){if(a instanceof Sd)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Td.B(null,a):Td.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof E)a=a.Ea;else throw Error("no conversion to symbol");}};Td.B=function(a,b){var c=null!=a?[A.j(a),"/",A.j(b)].join(""):b;return new Sd(a,b,c,null,null)};Td.O=2;function Ud(a){return null!=a?a.P&131072||t===a.Dh?!0:a.P?!1:Qb(Ad,a):Qb(Ad,a)}
function F(a){if(null==a)return null;if(null!=a&&(a.I&8388608||t===a.Qf))return a.sa(null);if(Ob(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[Ub])return a=Wa(a,Ub).call(a),Vd.j?Vd.j(a):Vd.call(null,a);if(Qb(Yc,a))return Zc(a);throw Error([A.j(a)," is not ISeqable"].join(""));}function I(a){if(null==a)return null;if(null!=a&&(a.I&64||t===a.gd))return a.Ra(null);a=F(a);return null==a?null:pc(a)}
function Wd(a){return null!=a?null!=a&&(a.I&64||t===a.gd)?a.Va(null):(a=F(a))?a.Va(null):Xd:Xd}function J(a){return null==a?null:null!=a&&(a.I&128||t===a.Bd)?a.Ja(null):F(Wd(a))}var K=function K(a){switch(arguments.length){case 1:return K.j(arguments[0]);case 2:return K.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return K.F(arguments[0],arguments[1],c)}};K.j=function(){return!0};
K.B=function(a,b){return null==a?null==b:a===b||Wc(a,b)};K.F=function(a,b,c){for(;;)if(K.B(a,b))if(J(c))a=b,b=I(c),c=J(c);else return K.B(b,I(c));else return!1};K.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};K.O=2;function Yd(a){this.s=a}Yd.prototype.next=function(){if(null!=this.s){var a=I(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Zd(a){return new Yd(F(a))}
function $d(a,b){this.value=a;this.nd=b;this.De=null;this.I=8388672;this.P=0}$d.prototype.sa=function(){return this};$d.prototype.Ra=function(){return this.value};$d.prototype.Va=function(){null==this.De&&(this.De=Vd.j?Vd.j(this.nd):Vd.call(null,this.nd));return this.De};function Vd(a){var b=a.next();return y(b.done)?null:new $d(b.value,a)}function ae(a){var b=0,c=1;for(a=F(a);;)if(null!=a)b+=1,c=Ed(31,c)+Md(I(a))|0,a=J(a);else return Hd(Gd(0,Fd(c)),b)}var be=Hd(Gd(0,Fd(1)),0);
function ce(a){var b=0,c=0;for(a=F(a);;)if(null!=a)b+=1,c=c+Md(I(a))|0,a=J(a);else return Hd(Gd(0,Fd(c)),b)}var de=Hd(Gd(0,Fd(0)),0);fc["null"]=!0;gc["null"]=function(){return 0};Date.prototype.R=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.oc=t;Date.prototype.Qb=function(a,b){if(b instanceof Date)return Ra(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};Wc.number=function(a,b){return a===b};cc["function"]=!0;
Nc["function"]=!0;Pc["function"]=function(){return null};Xc._=function(a){return ha(a)};function ee(a){return a+1}function fe(a){this.G=a;this.I=32768;this.P=0}fe.prototype.lb=function(){return this.G};function ge(a){return a instanceof fe}function he(a){return ge(a)?ie.j?ie.j(a):ie.call(null,a):a}function ie(a){return B(a)}
function je(a,b){var c=a.va(null);if(0===c)return b.K?b.K():b.call(null);for(var d=a.ka(null,0),e=1;;)if(e<c){var f=a.ka(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(ge(d))return B(d);e+=1}else return d}function ke(a,b,c){var d=a.va(null),e=c;for(c=0;;)if(c<d){var f=a.ka(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(ge(e))return B(e);c+=1}else return e}
function le(a,b){var c=a.length;if(0===a.length)return b.K?b.K():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(ge(d))return B(d);e+=1}else return d}function me(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(ge(e))return B(e);c+=1}else return e}function ne(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(ge(c))return B(c);d+=1}else return c}
function oe(a){return null!=a?a.I&2||t===a.Jg?!0:a.I?!1:Qb(fc,a):Qb(fc,a)}function pe(a){return null!=a?a.I&16||t===a.Pf?!0:a.I?!1:Qb(lc,a):Qb(lc,a)}function M(a,b,c){var d=O.j?O.j(a):O.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(K.B(qe?qe(a,c):re.call(null,a,c),b))return c;c+=1}else return-1}
function P(a,b,c){var d=O.j?O.j(a):O.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(K.B(qe?qe(a,c):re.call(null,a,c),b))return c;--c}else return-1}function se(a,b){this.D=a;this.i=b}se.prototype.Ca=function(){return this.i<this.D.length};se.prototype.next=function(){var a=this.D[this.i];this.i+=1;return a};function H(a,b,c){this.D=a;this.i=b;this.meta=c;this.I=166592766;this.P=139264}h=H.prototype;h.toString=function(){return Dd(this)};
h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O.j?O.j(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.ka=function(a,b){a=b+this.i;if(0<=a&&a<this.D.length)return this.D[a];throw Error("Index out of bounds");};h.La=function(a,b,c){a=b+this.i;return 0<=a&&a<this.D.length?this.D[a]:c};
h.hb=function(){return new se(this.D,this.i)};h.oa=function(){return this.meta};h.gb=function(){return new H(this.D,this.i,this.meta)};h.Ja=function(){return this.i+1<this.D.length?new H(this.D,this.i+1,null):null};h.va=function(){var a=this.D.length-this.i;return 0>a?0:a};h.vc=function(){var a=this.va(null);return 0<a?new te(this,a-1,null):null};h.pa=function(){return ae(this)};h.R=function(a,b){return ue.B?ue.B(this,b):ue.call(null,this,b)};h.Ba=function(){return Xd};
h.Na=function(a,b){return ne(this.D,b,this.D[this.i],this.i+1)};h.Oa=function(a,b,c){return ne(this.D,b,c,this.i)};h.Ra=function(){return this.D[this.i]};h.Va=function(){return this.i+1<this.D.length?new H(this.D,this.i+1,null):Xd};h.sa=function(){return this.i<this.D.length?this:null};h.qa=function(a,b){return b===this.meta?this:new H(this.D,this.i,b)};h.za=function(a,b){return ve.B?ve.B(b,this):ve.call(null,b,this)};H.prototype[Ub]=function(){return Zd(this)};
function Q(a){return 0<a.length?new H(a,0,null):null}function te(a,b,c){this.ci=a;this.i=b;this.meta=c;this.I=32374990;this.P=8192}h=te.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O.j?O.j(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.gb=function(){return new te(this.ci,this.i,this.meta)};h.Ja=function(){return 0<this.i?new te(this.ci,this.i-1,null):null};h.va=function(){return this.i+1};h.pa=function(){return ae(this)};
h.R=function(a,b){return ue.B?ue.B(this,b):ue.call(null,this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we?we(b,this):xe.call(null,b,this)};h.Oa=function(a,b,c){return ye?ye(b,c,this):xe.call(null,b,c,this)};h.Ra=function(){return mc(this.ci,this.i)};h.Va=function(){return 0<this.i?new te(this.ci,this.i-1,null):Xd};h.sa=function(){return this};h.qa=function(a,b){return b===this.meta?this:new te(this.ci,this.i,b)};h.za=function(a,b){return ve.B?ve.B(b,this):ve.call(null,b,this)};
te.prototype[Ub]=function(){return Zd(this)};function ze(a){for(;;){var b=J(a);if(null!=b)a=b;else return I(a)}}Wc._=function(a,b){return a===b};var Ae=function Ae(a){switch(arguments.length){case 0:return Ae.K();case 1:return Ae.j(arguments[0]);case 2:return Ae.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Ae.F(arguments[0],arguments[1],c)}};Ae.K=function(){return Be};Ae.j=function(a){return a};
Ae.B=function(a,b){return null!=a?kc(a,b):new Ce(null,b,null,1,null)};Ae.F=function(a,b,c){for(;;)if(y(c))a=Ae.B(a,b),b=I(c),c=J(c);else return Ae.B(a,b)};Ae.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Ae.O=2;function De(a){return null==a?null:null!=a&&(a.I&4||t===a.Lg)?a.Ba(null):(null!=a?a.I&4||t===a.Lg||(a.I?0:Qb(hc,a)):Qb(hc,a))?ic(a):null}
function O(a){if(null!=a)if(null!=a&&(a.I&2||t===a.Jg))a=a.va(null);else if(Ob(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.I&8388608||t===a.Qf))a:{a=F(a);for(var b=0;;){if(oe(a)){a=b+gc(a);break a}a=J(a);b+=1}}else a=gc(a);else a=0;return a}function Ee(a,b,c){for(;;){if(null==a)return c;if(0===b)return F(a)?I(a):c;if(pe(a))return mc(a,b,c);if(F(a))a=J(a),--b;else return c}}
function re(a){switch(arguments.length){case 2:return qe(arguments[0],arguments[1]);case 3:return R(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}
function qe(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.I&16||t===a.Pf))return a.ka(null,b);if(Ob(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.I&64||t===a.gd)||null!=a&&(a.I&16777216||t===a.Rf)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(F(a)){a=I(a);break a}throw Error("Index out of bounds");}if(pe(a)){a=mc(a,b);break a}if(F(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(Qb(lc,a))return mc(a,b);throw Error(["nth not supported on this type ",A.j(Tb(Sb(a)))].join(""));}
function R(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.I&16||t===a.Pf))return a.La(null,b,c);if(Ob(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.I&64||t===a.gd)||null!=a&&(a.I&16777216||t===a.Rf))return 0>b?c:Ee(a,b,c);if(Qb(lc,a))return mc(a,b,c);throw Error(["nth not supported on this type ",A.j(Tb(Sb(a)))].join(""));}
var C=function C(a){switch(arguments.length){case 2:return C.B(arguments[0],arguments[1]);case 3:return C.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};C.B=function(a,b){return null==a?null:null!=a&&(a.I&256||t===a.Qg)?a.Ma(null,b):Ob(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Qb(tc,a)?uc(a,b):null};
C.C=function(a,b,c){return null!=a?null!=a&&(a.I&256||t===a.Qg)?a.na(null,b,c):Ob(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Qb(tc,a)?uc(a,b,c):c:c};C.O=3;var S=function S(a){switch(arguments.length){case 3:return S.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(3),0,null);return S.F(arguments[0],arguments[1],arguments[2],c)}};
S.C=function(a,b,c){return null!=a&&(a.I&512||t===a.Ig)?a.fb(null,b,c):null!=a?zc(a,b,c):Fe([b,c])};S.F=function(a,b,c,d){for(;;)if(a=S.C(a,b,c),y(d))b=I(d),c=I(J(d)),d=J(J(d));else return a};S.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.F(b,a,c,d)};S.O=3;
var Ge=function Ge(a){switch(arguments.length){case 1:return Ge.j(arguments[0]);case 2:return Ge.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Ge.F(arguments[0],arguments[1],c)}};Ge.j=function(a){return a};Ge.B=function(a,b){return null==a?null:Ec(a,b)};Ge.F=function(a,b,c){for(;;){if(null==a)return null;a=Ge.B(a,b);if(y(c))b=I(c),c=J(c);else return a}};
Ge.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Ge.O=2;function He(a){var b="function"===typeof a;return b?b:null!=a?t===a.Hg?!0:a.Ye?!1:Qb(cc,a):Qb(cc,a)}function Ie(a,b){this.ba=a;this.meta=b;this.I=393217;this.P=0}h=Ie.prototype;h.oa=function(){return this.meta};h.qa=function(a,b){return new Ie(this.ba,b)};h.Hg=t;
h.call=function(a){switch(arguments.length-1){case 0:return this.K();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.Y(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Je(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.K=function(){return this.ba.K?this.ba.K():this.ba.call(null)};h.j=function(a){return this.ba.j?this.ba.j(a):this.ba.call(null,a)};h.B=function(a,b){return this.ba.B?this.ba.B(a,b):this.ba.call(null,a,b)};h.C=function(a,b,c){return this.ba.C?this.ba.C(a,b,c):this.ba.call(null,a,b,c)};
h.Y=function(a,b,c,d){return this.ba.Y?this.ba.Y(a,b,c,d):this.ba.call(null,a,b,c,d)};h.wa=function(a,b,c,d,e){return this.ba.wa?this.ba.wa(a,b,c,d,e):this.ba.call(null,a,b,c,d,e)};h.mb=function(a,b,c,d,e,f){return this.ba.mb?this.ba.mb(a,b,c,d,e,f):this.ba.call(null,a,b,c,d,e,f)};h.Kb=function(a,b,c,d,e,f,g){return this.ba.Kb?this.ba.Kb(a,b,c,d,e,f,g):this.ba.call(null,a,b,c,d,e,f,g)};h.tb=function(a,b,c,d,e,f,g,k){return this.ba.tb?this.ba.tb(a,b,c,d,e,f,g,k):this.ba.call(null,a,b,c,d,e,f,g,k)};
h.Lb=function(a,b,c,d,e,f,g,k,l){return this.ba.Lb?this.ba.Lb(a,b,c,d,e,f,g,k,l):this.ba.call(null,a,b,c,d,e,f,g,k,l)};h.zb=function(a,b,c,d,e,f,g,k,l,m){return this.ba.zb?this.ba.zb(a,b,c,d,e,f,g,k,l,m):this.ba.call(null,a,b,c,d,e,f,g,k,l,m)};h.Ab=function(a,b,c,d,e,f,g,k,l,m,n){return this.ba.Ab?this.ba.Ab(a,b,c,d,e,f,g,k,l,m,n):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n)};
h.Bb=function(a,b,c,d,e,f,g,k,l,m,n,q){return this.ba.Bb?this.ba.Bb(a,b,c,d,e,f,g,k,l,m,n,q):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q)};h.Cb=function(a,b,c,d,e,f,g,k,l,m,n,q,r){return this.ba.Cb?this.ba.Cb(a,b,c,d,e,f,g,k,l,m,n,q,r):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r)};h.Db=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u){return this.ba.Db?this.ba.Db(a,b,c,d,e,f,g,k,l,m,n,q,r,u):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u)};
h.Eb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w){return this.ba.Eb?this.ba.Eb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w)};h.Fb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x){return this.ba.Fb?this.ba.Fb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x)};h.Gb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D){return this.ba.Gb?this.ba.Gb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D)};
h.Hb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G){return this.ba.Hb?this.ba.Hb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G)};h.Ib=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N){return this.ba.Ib?this.ba.Ib(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N)};
h.Jb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T){return this.ba.Jb?this.ba.Jb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T):this.ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T)};h.Je=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V){return Je.Pg?Je.Pg(this.ba,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V):Je.call(null,this.ba,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V)};function Ke(a,b){return"function"===typeof a?new Ie(a,b):null==a?null:Qc(a,b)}
function Le(a){var b=null!=a;return(b?null!=a?a.I&131072||t===a.ge||(a.I?0:Qb(Nc,a)):Qb(Nc,a):b)?Pc(a):null}var Me=function Me(a){switch(arguments.length){case 1:return Me.j(arguments[0]);case 2:return Me.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Me.F(arguments[0],arguments[1],c)}};Me.j=function(a){return a};Me.B=function(a,b){return null==a?null:Ic(a,b)};
Me.F=function(a,b,c){for(;;){if(null==a)return null;a=Me.B(a,b);if(y(c))b=I(c),c=J(c);else return a}};Me.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Me.O=2;function Ne(a){return null==a||Pb(F(a))}function Oe(a){return null==a?!1:null!=a?a.I&8||t===a.Ah?!0:a.I?!1:Qb(jc,a):Qb(jc,a)}function Pe(a){return null==a?!1:null!=a?a.I&4096||t===a.Kh?!0:a.I?!1:Qb(Hc,a):Qb(Hc,a)}function Qe(a){return null!=a?a.I&16777216||t===a.Rf?!0:a.I?!1:Qb($c,a):Qb($c,a)}
function Re(a){return null==a?!1:null!=a?a.I&1024||t===a.Gh?!0:a.I?!1:Qb(Dc,a):Qb(Dc,a)}function Se(a){return null!=a?a.I&67108864||t===a.Ih?!0:a.I?!1:Qb(bd,a):Qb(bd,a)}function Te(a){return null!=a?a.I&16384||t===a.Lh?!0:a.I?!1:Qb(Lc,a):Qb(Lc,a)}function Ue(a){return null!=a?a.P&512||t===a.zh?!0:!1:!1}function Ve(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var We={};function Xe(a){return null==a?!1:null!=a?a.I&64||t===a.gd?!0:a.I?!1:Qb(oc,a):Qb(oc,a)}
function Ye(a){return null==a?!1:!1===a?!1:!0}function Ze(a){var b=He(a);return b?b:null!=a?a.I&1||t===a.Ch?!0:a.I?!1:Qb(dc,a):Qb(dc,a)}function $e(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function af(a,b){return null!=a&&(a.I&512||t===a.Ig)?a.yb(null,b):Qb(wc,a)?xc(a,b):C.C(a,b,We)===We?!1:!0}
function df(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Ra(a,b);throw Error(["Cannot compare ",A.j(a)," to ",A.j(b)].join(""));}if(null!=a?a.P&2048||t===a.oc||(a.P?0:Qb(od,a)):Qb(od,a))return pd(a,b);if("string"!==typeof a&&!Ob(a)&&!0!==a&&!1!==a||Sb(a)!==Sb(b))throw Error(["Cannot compare ",A.j(a)," to ",A.j(b)].join(""));return Ra(a,b)}
function ef(a,b){var c=O(a),d=O(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=df(qe(a,d),qe(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function ff(a){return K.B(a,df)?df:function(b,c){var d=a.B?a.B(b,c):a.call(null,b,c);return"number"===typeof d?d:y(d)?-1:y(a.B?a.B(c,b):a.call(null,c,b))?1:0}}function gf(a,b){if(F(b)){var c=hf.j?hf.j(b):hf.call(null,b);Sa(c,ff(a));return Ke(F(c),Le(b))}return Xd}
function jf(a,b){return gf(function(c,d){c=a.j?a.j(c):a.call(null,c);d=a.j?a.j(d):a.call(null,d);var e=ff(df);return e.B?e.B(c,d):e.call(null,c,d)},b)}function xe(a){switch(arguments.length){case 2:return we(arguments[0],arguments[1]);case 3:return ye(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}function we(a,b){var c=F(b);return c?(b=I(c),c=J(c),$b.C?$b.C(a,b,c):$b.call(null,a,b,c)):a.K?a.K():a.call(null)}
function ye(a,b,c){for(c=F(c);;)if(c){var d=I(c);b=a.B?a.B(b,d):a.call(null,b,d);if(ge(b))return B(b);c=J(c)}else return b}function kf(a,b){a=Bd(a);if(y(a.Ca()))for(var c=a.next();;)if(a.Ca()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(ge(c))return B(c)}else return c;else return b.K?b.K():b.call(null)}function lf(a,b,c){for(a=Bd(a);;)if(a.Ca()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(ge(c))return B(c)}else return c}
var $b=function $b(a){switch(arguments.length){case 2:return $b.B(arguments[0],arguments[1]);case 3:return $b.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};$b.B=function(a,b){return null!=b&&(b.I&524288||t===b.Rg)?b.Na(null,a):Ob(b)?le(b,a):"string"===typeof b?le(b,a):Qb(Rc,b)?Sc(b,a):Ud(b)?kf(b,a):we(a,b)};
$b.C=function(a,b,c){return null!=c&&(c.I&524288||t===c.Rg)?c.Oa(null,a,b):Ob(c)?me(c,a,b):"string"===typeof c?me(c,a,b):Qb(Rc,c)?Sc(c,a,b):Ud(c)?lf(c,a,b):ye(a,b,c)};$b.O=3;function mf(a,b,c){return null!=c?Vc(c,a,b):b}function nf(a){return a}
function of(a,b){return function(){function c(g,k){return a.B?a.B(g,k):a.call(null,g,k)}function d(g){return b.j?b.j(g):b.call(null,g)}function e(){return a.K?a.K():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.K=e;f.j=d;f.B=c;return f}()}function pf(a,b,c){return qf(a,b,b.K?b.K():b.call(null),c)}
function qf(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=$b.C(a,c,d);return a.j?a.j(c):a.call(null,c)}function rf(a){return a-1}function sf(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function tf(a){return 0<=a?Math.floor(a):Math.ceil(a)}function uf(a,b){return tf((a-a%b)/b)}function vf(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
function wf(a){switch(arguments.length){case 1:return!0;case 2:return Wc(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=new H(b.slice(2),0,null);a:for(b=arguments[0],c=arguments[1];;)if(b===c)if(J(d))b=c,c=I(d),d=J(d);else{b=c===I(d);break a}else{b=!1;break a}return b}}function xf(a,b){return Wc(a,b)}
var A=function A(a){switch(arguments.length){case 0:return A.K();case 1:return A.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(1),0,null);return A.F(arguments[0],c)}};A.K=function(){return""};A.j=function(a){return null==a?"":[a].join("")};A.F=function(a,b){for(a=new Bb(A.j(a));;)if(y(b))a=a.append(A.j(I(b))),b=J(b);else return a.toString()};A.T=function(a){var b=I(a);a=J(a);return this.F(b,a)};A.O=1;
function ue(a,b){if(Qe(b))if(oe(a)&&oe(b)&&O(a)!==O(b))a=!1;else a:for(a=F(a),b=F(b);;){if(null==a){a=null==b;break a}if(null!=b&&K.B(I(a),I(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Ye(a)}function Ce(a,b,c,d,e){this.meta=a;this.first=b;this.hc=c;this.count=d;this.N=e;this.I=65937646;this.P=8192}h=Ce.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.gb=function(){return new Ce(this.meta,this.first,this.hc,this.count,this.N)};h.Ja=function(){return 1===this.count?null:this.hc};h.va=function(){return this.count};h.wc=function(){return this.first};
h.xc=function(){return this.Va(null)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Qc(Xd,this.meta)};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return this.first};h.Va=function(){return 1===this.count?Xd:this.hc};h.sa=function(){return this};h.qa=function(a,b){return b===this.meta?this:new Ce(b,this.first,this.hc,this.count,this.N)};
h.za=function(a,b){return new Ce(this.meta,b,this,this.count+1,null)};function yf(a){return null!=a?a.I&33554432||t===a.Fh?!0:a.I?!1:Qb(ad,a):Qb(ad,a)}Ce.prototype[Ub]=function(){return Zd(this)};function zf(a){this.meta=a;this.I=65937614;this.P=8192}h=zf.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.gb=function(){return new zf(this.meta)};h.Ja=function(){return null};h.va=function(){return 0};h.wc=function(){return null};h.xc=function(){throw Error("Can't pop empty list");};h.pa=function(){return be};
h.R=function(a,b){return yf(b)||Qe(b)?null==F(b):!1};h.Ba=function(){return this};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return null};h.Va=function(){return Xd};h.sa=function(){return null};h.qa=function(a,b){return b===this.meta?this:new zf(b)};h.za=function(a,b){return new Ce(this.meta,b,null,1,null)};var Xd=new zf(null);zf.prototype[Ub]=function(){return Zd(this)};
function Af(a){return(null!=a?a.I&134217728||t===a.Jh||(a.I?0:Qb(cd,a)):Qb(cd,a))?(a=dd(a))?a:Xd:$b.C(Ae,Xd,a)}var Bf=function Bf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return Bf.F(c)};Bf.F=function(a){if(a instanceof H&&0===a.i)var b=a.D;else a:for(b=[];;)if(null!=a)b.push(pc(a)),a=sc(a);else break a;a=b.length;for(var c=Xd;;)if(0<a){var d=a-1;c=kc(c,b[a-1]);a=d}else return c};Bf.O=0;Bf.T=function(a){return this.F(F(a))};
function Cf(a,b,c,d){this.meta=a;this.first=b;this.hc=c;this.N=d;this.I=65929452;this.P=8192}h=Cf.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.gb=function(){return new Cf(this.meta,this.first,this.hc,this.N)};h.Ja=function(){return null==this.hc?null:F(this.hc)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return this.first};h.Va=function(){return null==this.hc?Xd:this.hc};h.sa=function(){return this};h.qa=function(a,b){return b===this.meta?this:new Cf(b,this.first,this.hc,this.N)};h.za=function(a,b){return new Cf(null,b,this,null)};Cf.prototype[Ub]=function(){return Zd(this)};
function ve(a,b){return null==b?new Ce(null,a,null,1,null):null!=b&&(b.I&64||t===b.gd)?new Cf(null,a,b,null):new Cf(null,a,F(b),null)}function Df(a,b){if(a.Ea===b.Ea)return 0;var c=Pb(a.kb);if(y(c?b.kb:c))return-1;if(y(a.kb)){if(Pb(b.kb))return 1;c=Ra(a.kb,b.kb);return 0===c?Ra(a.name,b.name):c}return Ra(a.name,b.name)}function E(a,b,c,d){this.kb=a;this.name=b;this.Ea=c;this._hash=d;this.I=2153775105;this.P=4096}h=E.prototype;h.toString=function(){return[":",A.j(this.Ea)].join("")};
h.equiv=function(a){return this.R(null,a)};h.R=function(a,b){return b instanceof E?this.Ea===b.Ea:!1};h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return C.B(a,this)};h.B=function(a,b){return C.C(a,this,b)};
h.pa=function(){var a=this._hash;return null!=a?a:this._hash=a=Od(Id(this.name),Ld(this.kb))+2654435769|0};h.zd=function(){return this.name};h.Ad=function(){return this.kb};h.ea=function(a,b){return ed(b,[":",A.j(this.Ea)].join(""))};function U(a,b){return a===b?!0:a instanceof E&&b instanceof E?a.Ea===b.Ea:!1}function Ef(a){if(null!=a&&(a.P&4096||t===a.Ne))return a.Ad(null);throw Error(["Doesn't support namespace: ",A.j(a)].join(""));}function Ff(a){return a instanceof E||a instanceof Sd}
var Gf=function Gf(a){switch(arguments.length){case 1:return Gf.j(arguments[0]);case 2:return Gf.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Gf.j=function(a){if(a instanceof E)return a;if(a instanceof Sd)return new E(Ef(a),Hf.j?Hf.j(a):Hf.call(null,a),a.qb,null);if(K.B("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
Gf.B=function(a,b){a=a instanceof E?Hf.j?Hf.j(a):Hf.call(null,a):a instanceof Sd?Hf.j?Hf.j(a):Hf.call(null,a):a;b=b instanceof E?Hf.j?Hf.j(b):Hf.call(null,b):b instanceof Sd?Hf.j?Hf.j(b):Hf.call(null,b):b;return new E(a,b,[y(a)?[A.j(a),"/"].join(""):null,A.j(b)].join(""),null)};Gf.O=2;function If(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.N=d;this.I=32374988;this.P=1}h=If.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
function Jf(a){null!=a.fn&&(a.s=a.fn.K?a.fn.K():a.fn.call(null),a.fn=null);return a.s}h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){this.sa(null);return null==this.s?null:J(this.s)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};
h.Ba=function(){return Qc(Xd,this.meta)};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){this.sa(null);return null==this.s?null:I(this.s)};h.Va=function(){this.sa(null);return null!=this.s?Wd(this.s):Xd};h.sa=function(){Jf(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof If)a=Jf(a);else return this.s=a,F(this.s)};h.qa=function(a,b){var c=this;return b===this.meta?c:new If(b,function(){return c.sa(null)},null,this.N)};
h.za=function(a,b){return ve(b,this)};If.prototype[Ub]=function(){return Zd(this)};function Kf(a){this.la=a;this.end=0;this.I=2;this.P=0}Kf.prototype.add=function(a){this.la[this.end]=a;return this.end+=1};Kf.prototype.ua=function(){var a=new Lf(this.la,0,this.end);this.la=null;return a};Kf.prototype.va=function(){return this.end};function Mf(a){return new Kf(Array(a))}function Lf(a,b,c){this.D=a;this.off=b;this.end=c;this.I=524306;this.P=0}h=Lf.prototype;h.va=function(){return this.end-this.off};
h.ka=function(a,b){return this.D[this.off+b]};h.La=function(a,b,c){return 0<=b&&b<this.end-this.off?this.D[this.off+b]:c};h.Ie=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Lf(this.D,this.off+1,this.end)};h.Na=function(a,b){return ne(this.D,b,this.D[this.off],this.off+1)};h.Oa=function(a,b,c){return ne(this.D,b,c,this.off)};function Nf(a,b,c,d){this.ua=a;this.ec=b;this.meta=c;this.N=d;this.I=31850732;this.P=1536}h=Nf.prototype;h.toString=function(){return Dd(this)};
h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){return 1<gc(this.ua)?new Nf(rd(this.ua),this.ec,null,null):null==this.ec?null:Zc(this.ec)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Ra=function(){return mc(this.ua,0)};h.Va=function(){return 1<gc(this.ua)?new Nf(rd(this.ua),this.ec,null,null):null==this.ec?Xd:this.ec};h.sa=function(){return this};h.yd=function(){return this.ua};h.Ic=function(){return null==this.ec?Xd:this.ec};h.qa=function(a,b){return b===this.meta?this:new Nf(this.ua,this.ec,b,this.N)};h.za=function(a,b){return ve(b,this)};h.fe=function(){return null==this.ec?null:this.ec};Nf.prototype[Ub]=function(){return Zd(this)};
function Of(a,b){return 0===gc(a)?b:new Nf(a,b,null,null)}function Pf(a,b){a.add(b)}function hf(a){var b=[];for(a=F(a);;)if(null!=a)b.push(I(a)),a=J(a);else return b}function Qf(a,b){if(oe(b))return O(b);var c=0;for(b=F(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var Rf=function Rf(a){if(null==a)return null;var c=J(a);return null==c?F(I(a)):ve(I(a),Rf.j?Rf.j(c):Rf.call(null,c))},Sf=function Sf(a){switch(arguments.length){case 0:return Sf.K();case 1:return Sf.j(arguments[0]);case 2:return Sf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Sf.F(arguments[0],arguments[1],c)}};Sf.K=function(){return new If(null,function(){return null},null,null)};
Sf.j=function(a){return new If(null,function(){return a},null,null)};Sf.B=function(a,b){return new If(null,function(){var c=F(a);return c?Ue(c)?Of(sd(c),Sf.B(td(c),b)):ve(I(c),Sf.B(Wd(c),b)):b},null,null)};Sf.F=function(a,b,c){return function g(e,f){return new If(null,function(){var k=F(e);return k?Ue(k)?Of(sd(k),g(td(k),f)):ve(I(k),g(Wd(k),f)):y(f)?g(I(f),J(f)):null},null,null)}(Sf.B(a,b),c)};Sf.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Sf.O=2;
function Tf(a){return jd(a)}function Uf(a){return ld(a)}var Vf=function Vf(a){switch(arguments.length){case 0:return Vf.K();case 1:return Vf.j(arguments[0]);case 2:return Vf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Vf.F(arguments[0],arguments[1],c)}};Vf.K=function(){return jd(Be)};Vf.j=function(a){return a};Vf.B=function(a,b){return kd(a,b)};
Vf.F=function(a,b,c){for(;;)if(a=kd(a,b),y(c))b=I(c),c=J(c);else return a};Vf.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Vf.O=2;function Wf(a,b,c){return md(a,b,c)}
function Xf(a,b,c){var d=F(c);if(0===b)return a.K?a.K():a.call(null);c=pc(d);var e=qc(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=pc(e);var f=qc(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=pc(f);var g=qc(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=pc(g);var k=qc(g);if(4===b)return a.Y?a.Y(c,d,e,f):a.call(null,c,d,e,f);g=pc(k);var l=qc(k);if(5===b)return a.wa?a.wa(c,d,e,f,g):a.call(null,c,d,e,f,g);k=pc(l);var m=qc(l);if(6===b)return a.mb?a.mb(c,d,e,f,g,k):a.call(null,c,d,e,f,g,
k);l=pc(m);var n=qc(m);if(7===b)return a.Kb?a.Kb(c,d,e,f,g,k,l):a.call(null,c,d,e,f,g,k,l);m=pc(n);var q=qc(n);if(8===b)return a.tb?a.tb(c,d,e,f,g,k,l,m):a.call(null,c,d,e,f,g,k,l,m);n=pc(q);var r=qc(q);if(9===b)return a.Lb?a.Lb(c,d,e,f,g,k,l,m,n):a.call(null,c,d,e,f,g,k,l,m,n);q=pc(r);var u=qc(r);if(10===b)return a.zb?a.zb(c,d,e,f,g,k,l,m,n,q):a.call(null,c,d,e,f,g,k,l,m,n,q);r=pc(u);var w=qc(u);if(11===b)return a.Ab?a.Ab(c,d,e,f,g,k,l,m,n,q,r):a.call(null,c,d,e,f,g,k,l,m,n,q,r);u=pc(w);var x=qc(w);
if(12===b)return a.Bb?a.Bb(c,d,e,f,g,k,l,m,n,q,r,u):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u);w=pc(x);var D=qc(x);if(13===b)return a.Cb?a.Cb(c,d,e,f,g,k,l,m,n,q,r,u,w):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w);x=pc(D);var G=qc(D);if(14===b)return a.Db?a.Db(c,d,e,f,g,k,l,m,n,q,r,u,w,x):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w,x);D=pc(G);var N=qc(G);if(15===b)return a.Eb?a.Eb(c,d,e,f,g,k,l,m,n,q,r,u,w,x,D):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D);G=pc(N);var T=qc(N);if(16===b)return a.Fb?a.Fb(c,d,e,f,g,k,l,
m,n,q,r,u,w,x,D,G):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G);N=pc(T);var V=qc(T);if(17===b)return a.Gb?a.Gb(c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N);T=pc(V);var oa=qc(V);if(18===b)return a.Hb?a.Hb(c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T);V=pc(oa);oa=qc(oa);if(19===b)return a.Ib?a.Ib(c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V);var Z=pc(oa);qc(oa);if(20===b)return a.Jb?
a.Jb(c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V,Z):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V,Z);throw Error("Only up to 20 arguments supported on functions");}function Yf(a){return null!=a&&(a.I&128||t===a.Bd)?a.Ja(null):F(Wd(a))}function Zf(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):$f(a,b,pc(c),Yf(c))}function $f(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):ag(a,b,c,pc(d),Yf(d))}function ag(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):bg(a,b,c,d,pc(e),Yf(e))}
function bg(a,b,c,d,e,f){if(null==f)return a.Y?a.Y(b,c,d,e):a.call(a,b,c,d,e);var g=pc(f),k=J(f);if(null==k)return a.wa?a.wa(b,c,d,e,g):a.call(a,b,c,d,e,g);f=pc(k);var l=J(k);if(null==l)return a.mb?a.mb(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);k=pc(l);var m=J(l);if(null==m)return a.Kb?a.Kb(b,c,d,e,g,f,k):a.call(a,b,c,d,e,g,f,k);l=pc(m);var n=J(m);if(null==n)return a.tb?a.tb(b,c,d,e,g,f,k,l):a.call(a,b,c,d,e,g,f,k,l);m=pc(n);var q=J(n);if(null==q)return a.Lb?a.Lb(b,c,d,e,g,f,k,l,m):a.call(a,b,c,d,e,g,f,
k,l,m);n=pc(q);var r=J(q);if(null==r)return a.zb?a.zb(b,c,d,e,g,f,k,l,m,n):a.call(a,b,c,d,e,g,f,k,l,m,n);q=pc(r);var u=J(r);if(null==u)return a.Ab?a.Ab(b,c,d,e,g,f,k,l,m,n,q):a.call(a,b,c,d,e,g,f,k,l,m,n,q);r=pc(u);var w=J(u);if(null==w)return a.Bb?a.Bb(b,c,d,e,g,f,k,l,m,n,q,r):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r);u=pc(w);var x=J(w);if(null==x)return a.Cb?a.Cb(b,c,d,e,g,f,k,l,m,n,q,r,u):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u);w=pc(x);var D=J(x);if(null==D)return a.Db?a.Db(b,c,d,e,g,f,k,l,m,n,q,r,u,w):a.call(a,
b,c,d,e,g,f,k,l,m,n,q,r,u,w);x=pc(D);var G=J(D);if(null==G)return a.Eb?a.Eb(b,c,d,e,g,f,k,l,m,n,q,r,u,w,x):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,w,x);D=pc(G);var N=J(G);if(null==N)return a.Fb?a.Fb(b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D);G=pc(N);var T=J(N);if(null==T)return a.Gb?a.Gb(b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G);N=pc(T);var V=J(T);if(null==V)return a.Hb?a.Hb(b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G,N):a.call(a,b,c,d,e,g,f,k,
l,m,n,q,r,u,w,x,D,G,N);T=pc(V);var oa=J(V);if(null==oa)return a.Ib?a.Ib(b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G,N,T):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G,N,T);V=pc(oa);oa=J(oa);if(null==oa)return a.Jb?a.Jb(b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G,N,T,V):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G,N,T,V);b=[b,c,d,e,g,f,k,l,m,n,q,r,u,w,x,D,G,N,T,V];for(c=oa;;)if(c)b.push(pc(c)),c=J(c);else break;return a.apply(a,b)}
function Je(a){switch(arguments.length){case 2:return cg(arguments[0],arguments[1]);case 3:return dg(arguments[0],arguments[1],arguments[2]);case 4:return eg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new H(b.slice(5),0,null);return gg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function cg(a,b){if(a.T){var c=a.O,d=Qf(c+1,b);return d<=c?Xf(a,d,b):a.T(b)}b=F(b);return null==b?a.K?a.K():a.call(a):Zf(a,pc(b),Yf(b))}function dg(a,b,c){if(a.T){b=ve(b,c);var d=a.O;c=Qf(d,c)+1;return c<=d?Xf(a,c,b):a.T(b)}return Zf(a,b,F(c))}function eg(a,b,c,d){return a.T?(b=ve(b,ve(c,d)),c=a.O,d=2+Qf(c-1,d),d<=c?Xf(a,d,b):a.T(b)):$f(a,b,c,F(d))}function fg(a,b,c,d,e){return a.T?(b=ve(b,ve(c,ve(d,e))),c=a.O,e=3+Qf(c-2,e),e<=c?Xf(a,e,b):a.T(b)):ag(a,b,c,d,F(e))}
function gg(a,b,c,d,e,f){return a.T?(f=Rf(f),b=ve(b,ve(c,ve(d,ve(e,f)))),c=a.O,f=4+Qf(c-3,f),f<=c?Xf(a,f,b):a.T(b)):bg(a,b,c,d,e,Rf(f))}function hg(a){return null!=a&&(a.I&64||t===a.gd)?cg(ig,a):a}function jg(a,b){return!K.B(a,b)}function kg(a){return F(a)?a:null}
function lg(){if("undefined"===typeof Cb||"undefined"===typeof Db||"undefined"===typeof Eb)Eb=function(a){this.fh=a;this.I=393216;this.P=0},Eb.prototype.qa=function(a,b){return new Eb(b)},Eb.prototype.oa=function(){return this.fh},Eb.prototype.Ca=function(){return!1},Eb.prototype.next=function(){return Error("No such element")},Eb.prototype.remove=function(){return Error("Unsupported operation")},Eb.pc=!0,Eb.Rb="cljs.core/t_cljs$core10358",Eb.zc=function(a){return ed(a,"cljs.core/t_cljs$core10358")};
return new Eb(W)}function mg(a){this.s=a;this.i=0}mg.prototype.Ca=function(){return this.i<this.s.length};mg.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};mg.prototype.remove=function(){return Error("Unsupported operation")};function ng(a){this.D=a;this.i=0}ng.prototype.Ca=function(){return this.i<this.D.length};ng.prototype.next=function(){var a=this.D[this.i];this.i+=1;return a};ng.prototype.remove=function(){return Error("Unsupported operation")};var og={},pg={};
function qg(a){this.wd=og;this._next=a}qg.prototype.Ca=function(){this.wd===og?(this.wd=pg,this._next=F(this._next)):this.wd===this._next&&(this._next=J(this.wd));return null!=this._next};qg.prototype.next=function(){if(this.Ca())return this.wd=this._next,I(this._next);throw Error("No such element");};qg.prototype.remove=function(){return Error("Unsupported operation")};
function rg(a){if(Ud(a))return Bd(a);if(null==a)return lg();if("string"===typeof a)return new mg(a);if(Ob(a))return new ng(a);var b=null==a;b||(b=(b=null!=a?a.I&8388608||t===a.Qf?!0:a.I?!1:Qb(Yc,a):Qb(Yc,a))?b:Ob(a)||"string"===typeof a);if(b)return new qg(a);throw Error(["Cannot create iterator from ",A.j(a)].join(""));}function sg(a){this.vals=a}sg.prototype.add=function(a){this.vals.push(a);return this};sg.prototype.remove=function(){return this.vals.shift()};
sg.prototype.isEmpty=function(){return 0===this.vals.length};sg.prototype.toString=function(){return["Many: ",A.j(this.vals)].join("")};var tg={};function ug(a){this.G=a}ug.prototype.add=function(a){return this.G===tg?(this.G=a,this):new sg([this.G,a])};ug.prototype.remove=function(){if(this.G===tg)throw Error("Removing object from empty buffer");var a=this.G;this.G=tg;return a};ug.prototype.isEmpty=function(){return this.G===tg};ug.prototype.toString=function(){return["Single: ",A.j(this.G)].join("")};
function vg(){}vg.prototype.add=function(a){return new ug(a)};vg.prototype.remove=function(){throw Error("Removing object from empty buffer");};vg.prototype.isEmpty=function(){return!0};vg.prototype.toString=function(){return"Empty"};var wg=new vg,xg=function xg(a){return new If(null,function(){if(a.Ca())for(var c=[],d=0;;){var e=a.Ca();if(y(y(e)?32>d:e))c[d]=a.next(),d+=1;else return Of(new Lf(c,0,d),xg.j?xg.j(a):xg.call(null,a))}else return null},null,null)};
function yg(a){this.buffer=wg;this._next=tg;this.af=!1;this.kc=null;this.xf=a;this.nh=!1}
yg.prototype.step=function(){if(this._next!==tg)return!0;for(;;)if(this._next===tg)if(this.buffer.isEmpty()){if(this.af)return!1;if(this.xf.Ca()){if(this.nh)var a=cg(this.kc,ve(null,this.xf.next()));else a=this.xf.next(),a=this.kc.B?this.kc.B(null,a):this.kc.call(null,null,a);ge(a)&&(this.kc.j?this.kc.j(null):this.kc.call(null,null),this.af=!0)}else this.kc.j?this.kc.j(null):this.kc.call(null,null),this.af=!0}else this._next=this.buffer.remove();else return!0};yg.prototype.Ca=function(){return this.step()};
yg.prototype.next=function(){if(this.Ca()){var a=this._next;this._next=tg;return a}throw Error("No such element");};yg.prototype.remove=function(){return Error("Unsupported operation")};yg.prototype[Ub]=function(){return Zd(this)};
function zg(a,b){var c=new yg(b);c.kc=function(){var d=function(){function e(g,k){c.buffer=c.buffer.add(k);return g}var f=null;f=function(g,k){switch(arguments.length){case 0:return null;case 1:return g;case 2:return e.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.K=function(){return null};f.j=function(g){return g};f.B=e;return f}();return a.j?a.j(d):a.call(null,d)}();return c}
function Ag(a,b){for(;;){if(null==F(b))return!0;var c=I(b);c=a.j?a.j(c):a.call(null,c);if(y(c))b=J(b);else return!1}}function Bg(a){for(var b=nf;;)if(a=F(a)){var c=I(a);c=b.j?b.j(c):b.call(null,c);if(y(c))return c;a=J(a)}else return null}function Cg(a){if($e(a))return 0===(a&1);throw Error(["Argument must be an integer: ",A.j(a)].join(""));}
function Dg(a){return function(){function b(g,k){return Pb(a.B?a.B(g,k):a.call(null,g,k))}function c(g){return Pb(a.j?a.j(g):a.call(null,g))}function d(){return Pb(a.K?a.K():a.call(null))}var e=null,f=function(){function g(l,m,n){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new H(r,0,null)}return k.call(this,l,m,q)}function k(l,m,n){return Pb(eg(a,l,m,n))}g.O=2;g.T=function(l){var m=I(l);l=J(l);var n=I(l);l=Wd(l);return k(m,n,l)};
g.F=k;return g}();e=function(g,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,g);case 2:return b.call(this,g,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return f.F(g,k,m)}throw Error("Invalid arity: "+arguments.length);};e.O=2;e.T=f.T;e.K=d;e.j=c;e.B=b;e.F=f.F;return e}()}
function Eg(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.O=0;b.T=function(c){F(c);return a};b.F=function(){return a};return b}()}
var Fg=function Fg(a){switch(arguments.length){case 0:return Fg.K();case 1:return Fg.j(arguments[0]);case 2:return Fg.B(arguments[0],arguments[1]);case 3:return Fg.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(3),0,null);return Fg.F(arguments[0],arguments[1],arguments[2],c)}};Fg.K=function(){return nf};Fg.j=function(a){return a};
Fg.B=function(a,b){return function(){function c(l,m,n){l=b.C?b.C(l,m,n):b.call(null,l,m,n);return a.j?a.j(l):a.call(null,l)}function d(l,m){l=b.B?b.B(l,m):b.call(null,l,m);return a.j?a.j(l):a.call(null,l)}function e(l){l=b.j?b.j(l):b.call(null,l);return a.j?a.j(l):a.call(null,l)}function f(){var l=b.K?b.K():b.call(null);return a.j?a.j(l):a.call(null,l)}var g=null,k=function(){function l(n,q,r,u){var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+
3],++w;w=new H(x,0,null)}return m.call(this,n,q,r,w)}function m(n,q,r,u){n=fg(b,n,q,r,u);return a.j?a.j(n):a.call(null,n)}l.O=3;l.T=function(n){var q=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=Wd(n);return m(q,r,u,n)};l.F=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+
3],++r;r=new H(u,0,null)}return k.F(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};g.O=3;g.T=k.T;g.K=f;g.j=e;g.B=d;g.C=c;g.F=k.F;return g}()};
Fg.C=function(a,b,c){return function(){function d(m,n,q){m=c.C?c.C(m,n,q):c.call(null,m,n,q);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function e(m,n){m=c.B?c.B(m,n):c.call(null,m,n);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function f(m){m=c.j?c.j(m):c.call(null,m);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function g(){var m=c.K?c.K():c.call(null);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}var k=null,l=function(){function m(q,
r,u,w){var x=null;if(3<arguments.length){x=0;for(var D=Array(arguments.length-3);x<D.length;)D[x]=arguments[x+3],++x;x=new H(D,0,null)}return n.call(this,q,r,u,x)}function n(q,r,u,w){q=fg(c,q,r,u,w);q=b.j?b.j(q):b.call(null,q);return a.j?a.j(q):a.call(null,q)}m.O=3;m.T=function(q){var r=I(q);q=J(q);var u=I(q);q=J(q);var w=I(q);q=Wd(q);return n(r,u,w,q)};m.F=n;return m}();k=function(m,n,q,r){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,q);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new H(w,0,null)}return l.F(m,n,q,u)}throw Error("Invalid arity: "+arguments.length);};k.O=3;k.T=l.T;k.K=g;k.j=f;k.B=e;k.C=d;k.F=l.F;return k}()};
Fg.F=function(a,b,c,d){var e=Af(ve(a,ve(b,ve(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new H(m,0,null)}return g.call(this,l)}function g(k){k=cg(I(e),k);for(var l=J(e);;)if(l){var m=I(l);k=m.j?m.j(k):m.call(null,k);l=J(l)}else return k}f.O=0;f.T=function(k){k=F(k);return g(k)};f.F=g;return f}()};Fg.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.F(b,a,c,d)};
Fg.O=3;var Gg=function Gg(a){switch(arguments.length){case 1:return Gg.j(arguments[0]);case 2:return Gg.B(arguments[0],arguments[1]);case 3:return Gg.C(arguments[0],arguments[1],arguments[2]);case 4:return Gg.Y(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(4),0,null);return Gg.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};Gg.j=function(a){return a};
Gg.B=function(a,b){return function(){function c(l,m,n){return a.Y?a.Y(b,l,m,n):a.call(null,b,l,m,n)}function d(l,m){return a.C?a.C(b,l,m):a.call(null,b,l,m)}function e(l){return a.B?a.B(b,l):a.call(null,b,l)}function f(){return a.j?a.j(b):a.call(null,b)}var g=null,k=function(){function l(n,q,r,u){var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new H(x,0,null)}return m.call(this,n,q,r,w)}function m(n,q,r,u){return gg(a,b,n,q,r,Q([u]))}
l.O=3;l.T=function(n){var q=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=Wd(n);return m(q,r,u,n)};l.F=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new H(u,0,null)}return k.F(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};g.O=3;g.T=k.T;g.K=
f;g.j=e;g.B=d;g.C=c;g.F=k.F;return g}()};
Gg.C=function(a,b,c){return function(){function d(m,n,q){return a.wa?a.wa(b,c,m,n,q):a.call(null,b,c,m,n,q)}function e(m,n){return a.Y?a.Y(b,c,m,n):a.call(null,b,c,m,n)}function f(m){return a.C?a.C(b,c,m):a.call(null,b,c,m)}function g(){return a.B?a.B(b,c):a.call(null,b,c)}var k=null,l=function(){function m(q,r,u,w){var x=null;if(3<arguments.length){x=0;for(var D=Array(arguments.length-3);x<D.length;)D[x]=arguments[x+3],++x;x=new H(D,0,null)}return n.call(this,q,r,u,x)}function n(q,r,u,w){return gg(a,
b,c,q,r,Q([u,w]))}m.O=3;m.T=function(q){var r=I(q);q=J(q);var u=I(q);q=J(q);var w=I(q);q=Wd(q);return n(r,u,w,q)};m.F=n;return m}();k=function(m,n,q,r){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m);case 2:return e.call(this,m,n);case 3:return d.call(this,m,n,q);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new H(w,0,null)}return l.F(m,n,q,u)}throw Error("Invalid arity: "+arguments.length);
};k.O=3;k.T=l.T;k.K=g;k.j=f;k.B=e;k.C=d;k.F=l.F;return k}()};
Gg.Y=function(a,b,c,d){return function(){function e(n,q,r){return a.mb?a.mb(b,c,d,n,q,r):a.call(null,b,c,d,n,q,r)}function f(n,q){return a.wa?a.wa(b,c,d,n,q):a.call(null,b,c,d,n,q)}function g(n){return a.Y?a.Y(b,c,d,n):a.call(null,b,c,d,n)}function k(){return a.C?a.C(b,c,d):a.call(null,b,c,d)}var l=null,m=function(){function n(r,u,w,x){var D=null;if(3<arguments.length){D=0;for(var G=Array(arguments.length-3);D<G.length;)G[D]=arguments[D+3],++D;D=new H(G,0,null)}return q.call(this,r,u,w,D)}function q(r,
u,w,x){return gg(a,b,c,d,r,Q([u,w,x]))}n.O=3;n.T=function(r){var u=I(r);r=J(r);var w=I(r);r=J(r);var x=I(r);r=Wd(r);return q(u,w,x,r)};n.F=q;return n}();l=function(n,q,r,u){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,n);case 2:return f.call(this,n,q);case 3:return e.call(this,n,q,r);default:var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new H(x,0,null)}return m.F(n,q,r,w)}throw Error("Invalid arity: "+
arguments.length);};l.O=3;l.T=m.T;l.K=k;l.j=g;l.B=f;l.C=e;l.F=m.F;return l}()};Gg.F=function(a,b,c,d,e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new H(m,0,null)}return g.call(this,l)}function g(k){return fg(a,b,c,d,Sf.B(e,k))}f.O=0;f.T=function(k){k=F(k);return g(k)};f.F=g;return f}()};Gg.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.F(b,a,c,d,e)};
Gg.O=4;function Hg(a,b){return new If(null,function(){var c=F(b);if(c){if(Ue(c)){for(var d=sd(c),e=O(d),f=Mf(e),g=0;;)if(g<e){var k=function(){var l=mc(d,g);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);g+=1}else break;return Of(f.ua(),Hg(a,td(c)))}e=function(){var l=I(c);return a.j?a.j(l):a.call(null,l)}();return null==e?Hg(a,Wd(c)):ve(e,Hg(a,Wd(c)))}return null},null,null)}function Ig(a){this.state=a;this.ib=this.validator=this.meta=null;this.P=16386;this.I=6455296}h=Ig.prototype;
h.equiv=function(a){return this.R(null,a)};h.R=function(a,b){return this===b};h.lb=function(){return this.state};h.oa=function(){return this.meta};h.Ue=function(a,b){for(var c=F(this.ib),d=null,e=0,f=0;;)if(f<e){var g=d.ka(null,f),k=R(g,0,null);g=R(g,1,null);g.Y?g.Y(k,this,a,b):g.call(null,k,this,a,b);f+=1}else if(c=F(c))Ue(c)?(d=sd(c),c=td(c),k=d,e=O(d),d=k):(d=I(c),k=R(d,0,null),g=R(d,1,null),g.Y?g.Y(k,this,a,b):g.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
h.he=function(a,b,c){this.ib=S.C(this.ib,b,c);return this};h.ie=function(a,b){return this.ib=Ge.B(this.ib,b)};h.pa=function(){return ha(this)};function Jg(a){return new Ig(a)}function Kg(a,b){if(a instanceof Ig){var c=a.validator;if(null!=c&&!y(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ib&&a.Ue(c,b);return b}return wd(a,b)}
var Lg=function Lg(a){switch(arguments.length){case 2:return Lg.B(arguments[0],arguments[1]);case 3:return Lg.C(arguments[0],arguments[1],arguments[2]);case 4:return Lg.Y(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(4),0,null);return Lg.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Lg.B=function(a,b){if(a instanceof Ig){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=Kg(a,b)}else a=xd(a,b);return a};Lg.C=function(a,b,c){if(a instanceof Ig){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=Kg(a,b)}else a=xd(a,b,c);return a};Lg.Y=function(a,b,c,d){if(a instanceof Ig){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=Kg(a,b)}else a=xd(a,b,c,d);return a};Lg.F=function(a,b,c,d,e){return a instanceof Ig?Kg(a,fg(b,a.state,c,d,e)):xd(a,b,c,d,e)};
Lg.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.F(b,a,c,d,e)};Lg.O=4;function Mg(a){return K.B(a.lb(null),!1)?(Kg(a,!0),!0):!1}function Ng(a){this.state=a;this.I=32768;this.P=0}Ng.prototype.yc=function(a,b){return this.state=b};Ng.prototype.lb=function(){return this.state};
var Pg=function Pg(a){switch(arguments.length){case 1:return Pg.j(arguments[0]);case 2:return Pg.B(arguments[0],arguments[1]);case 3:return Pg.C(arguments[0],arguments[1],arguments[2]);case 4:return Pg.Y(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(4),0,null);return Pg.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Pg.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.K?b.K():b.call(null)}var f=null,g=function(){function k(m,n,q){var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new H(u,0,null)}return l.call(this,m,n,r)}function l(m,n,q){n=dg(a,n,q);return b.B?b.B(m,n):b.call(null,m,n)}k.O=2;k.T=function(m){var n=
I(m);m=J(m);var q=I(m);m=Wd(m);return l(n,q,m)};k.F=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new H(q,0,null)}return g.F(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.O=2;f.T=g.T;f.K=e;f.j=d;f.B=c;f.F=g.F;return f}()}};
Pg.B=function(a,b){return new If(null,function(){var c=F(b);if(c){if(Ue(c)){for(var d=sd(c),e=O(d),f=Mf(e),g=0;;)if(g<e)Pf(f,function(){var k=mc(d,g);return a.j?a.j(k):a.call(null,k)}()),g+=1;else break;return Of(f.ua(),Pg.B(a,td(c)))}return ve(function(){var k=I(c);return a.j?a.j(k):a.call(null,k)}(),Pg.B(a,Wd(c)))}return null},null,null)};
Pg.C=function(a,b,c){return new If(null,function(){var d=F(b),e=F(c);if(d&&e){var f=I(d);var g=I(e);f=a.B?a.B(f,g):a.call(null,f,g);d=ve(f,Pg.C(a,Wd(d),Wd(e)))}else d=null;return d},null,null)};Pg.Y=function(a,b,c,d){return new If(null,function(){var e=F(b),f=F(c),g=F(d);if(e&&f&&g){var k=I(e);var l=I(f),m=I(g);k=a.C?a.C(k,l,m):a.call(null,k,l,m);e=ve(k,Pg.Y(a,Wd(e),Wd(f),Wd(g)))}else e=null;return e},null,null)};
Pg.F=function(a,b,c,d,e){return Pg.B(function(f){return cg(a,f)},function k(g){return new If(null,function(){var l=Pg.B(F,g);return Ag(nf,l)?ve(Pg.B(I,l),k(Pg.B(Wd,l))):null},null,null)}(Ae.F(e,d,Q([c,b]))))};Pg.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.F(b,a,c,d,e)};Pg.O=4;
var Qg=function Qg(a){switch(arguments.length){case 1:return Qg.j(arguments[0]);case 2:return Qg.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};
Qg.j=function(a){return function(b){var c=new Ng(a);return function(){function d(k,l){var m=B(c),n=c.yc(null,c.lb(null)-1);k=0<m?b.B?b.B(k,l):b.call(null,k,l):k;return 0<n?k:ge(k)?k:new fe(k)}function e(k){return b.j?b.j(k):b.call(null,k)}function f(){return b.K?b.K():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.K=f;g.j=e;g.B=d;return g}()}};
Qg.B=function(a,b){return new If(null,function(){if(0<a){var c=F(b);return c?ve(I(c),Qg.B(a-1,Wd(c))):null}return null},null,null)};Qg.O=2;function Rg(a,b){return new If(null,function(){a:for(var c=a,d=b;;)if(d=F(d),0<c&&d)--c,d=Wd(d);else break a;return d},null,null)}function Sg(a){return Pg.C(function(b){return b},a,Rg(2,a))}
function Tg(a,b){return new If(null,function(){a:for(var c=a,d=b;;){d=F(d);var e;if(e=d)e=I(d),e=c.j?c.j(e):c.call(null,e);if(y(e))d=Wd(d);else break a}return d},null,null)}function Ug(a,b,c,d,e){this.meta=a;this.count=b;this.G=c;this.next=d;this.N=e;this.I=32374988;this.P=1}h=Ug.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){return null==this.next?1<this.count?this.next=new Ug(null,this.count-1,this.G,null,null):-1===this.count?this:null:this.next};
h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.G,this.G):b.call(null,this.G,this.G);;){if(ge(c))return B(c);c=b.B?b.B(c,this.G):b.call(null,c,this.G)}else for(a=1,c=this.G;;)if(a<this.count){c=b.B?b.B(c,this.G):b.call(null,c,this.G);if(ge(c))return B(c);a+=1}else return c};
h.Oa=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.G):b.call(null,c,this.G);;){if(ge(c))return B(c);c=b.B?b.B(c,this.G):b.call(null,c,this.G)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.G):b.call(null,c,this.G);if(ge(c))return B(c);a+=1}else return c};h.Ra=function(){return this.G};h.Va=function(){return null==this.next?1<this.count?this.next=new Ug(null,this.count-1,this.G,null,null):-1===this.count?this:Xd:this.next};h.sa=function(){return this};
h.qa=function(a,b){return b===this.meta?this:new Ug(b,this.count,this.G,this.next,null)};h.za=function(a,b){return ve(b,this)};var Vg=function Vg(a){switch(arguments.length){case 0:return Vg.K();case 1:return Vg.j(arguments[0]);case 2:return Vg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return Vg.F(arguments[0],arguments[1],c)}};Vg.K=function(){return Xd};
Vg.j=function(a){return new If(null,function(){return a},null,null)};Vg.B=function(a,b){return new If(null,function(){var c=F(a),d=F(b);return c&&d?ve(I(c),ve(I(d),Vg.B(Wd(c),Wd(d)))):null},null,null)};Vg.F=function(a,b,c){return new If(null,function(){var d=Pg.B(F,Ae.F(c,b,Q([a])));return Ag(nf,d)?Sf.B(Pg.B(I,d),cg(Vg,Pg.B(Wd,d))):null},null,null)};Vg.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};Vg.O=2;
function Wg(){return function(a){var b=new Ng(!1);return function(){function c(g,k){if(y(B(b)))return g=a.B?a.B(g," "):a.call(null,g," "),ge(g)?g:a.B?a.B(g,k):a.call(null,g,k);zd(b,!0);return a.B?a.B(g,k):a.call(null,g,k)}function d(g){return a.j?a.j(g):a.call(null,g)}function e(){return a.K?a.K():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};
f.K=e;f.j=d;f.B=c;return f}()}}function Xg(a,b){return new If(null,function(){var c=F(b);if(c){if(Ue(c)){for(var d=sd(c),e=O(d),f=Mf(e),g=0;;)if(g<e){var k=mc(d,g);k=a.j?a.j(k):a.call(null,k);y(k)&&(k=mc(d,g),f.add(k));g+=1}else break;return Of(f.ua(),Xg(a,td(c)))}d=I(c);c=Wd(c);return y(a.j?a.j(d):a.call(null,d))?ve(d,Xg(a,c)):Xg(a,c)}return null},null,null)}function Yg(a,b){return Xg(Dg(a),b)}
var Zg=function Zg(a){switch(arguments.length){case 0:return Zg.K();case 1:return Zg.j(arguments[0]);case 2:return Zg.B(arguments[0],arguments[1]);case 3:return Zg.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Zg.K=function(){return Be};Zg.j=function(a){return a};Zg.B=function(a,b){return null!=a?null!=a&&(a.P&4||t===a.Kg)?Qc(ld($b.C(kd,jd(a),b)),Le(a)):$b.C(kc,a,b):$b.C(Ae,a,b)};
Zg.C=function(a,b,c){return null!=a&&(a.P&4||t===a.Kg)?Qc(ld(qf(b,Vf,jd(a),c)),Le(a)):qf(b,Ae,a,c)};Zg.O=3;function $g(a,b){return ld($b.C(function(c,d){return Vf.B(c,a.j?a.j(d):a.call(null,d))},jd(Be),b))}function ah(a,b){return ld($b.C(function(c,d){return y(a.j?a.j(d):a.call(null,d))?Vf.B(c,d):c},jd(Be),b))}function bh(a,b){return $b.C(C,a,b)}function ch(a,b){var c=We;for(b=F(b);;)if(null!=b){a=C.C(a,I(b),c);if(c===a)return null;b=J(b)}else return a}
var dh=function dh(a,b,c){var e=F(b);b=I(e);var f=J(e);if(f){e=S.C;var g=C.B(a,b);c=dh.C?dh.C(g,f,c):dh.call(null,g,f,c);a=e.call(S,a,b,c)}else a=S.C(a,b,c);return a},eh=function eh(a){switch(arguments.length){case 3:return eh.C(arguments[0],arguments[1],arguments[2]);case 4:return eh.Y(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return eh.wa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return eh.mb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(6),0,null);return eh.F(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};eh.C=function(a,b,c){var d=S.C,e=C.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(S,a,b,c)};eh.Y=function(a,b,c,d){var e=S.C,f=C.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(S,a,b,c)};
eh.wa=function(a,b,c,d,e){var f=S.C,g=C.B(a,b);c=c.C?c.C(g,d,e):c.call(null,g,d,e);return f.call(S,a,b,c)};eh.mb=function(a,b,c,d,e,f){var g=S.C,k=C.B(a,b);c=c.Y?c.Y(k,d,e,f):c.call(null,k,d,e,f);return g.call(S,a,b,c)};eh.F=function(a,b,c,d,e,f,g){return S.C(a,b,gg(c,C.B(a,b),d,e,f,Q([g])))};eh.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);var f=J(e);e=I(f);var g=J(f);f=I(g);g=J(g);return this.F(b,a,c,d,e,f,g)};eh.O=6;function fh(a,b){this.Da=a;this.D=b}
function gh(a){return new fh(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function hh(a){return new fh(a.Da,Yb(a.D))}function ih(a){a=a.J;return 32>a?0:a-1>>>5<<5}function jh(a,b,c){for(;;){if(0===b)return c;var d=gh(a);d.D[0]=c;c=d;b-=5}}
var kh=function kh(a,b,c,d){var f=hh(c),g=a.J-1>>>b&31;5===b?f.D[g]=d:(c=c.D[g],null!=c?(b-=5,a=kh.Y?kh.Y(a,b,c,d):kh.call(null,a,b,c,d)):a=jh(null,b-5,d),f.D[g]=a);return f};function lh(a,b){throw Error(["No item ",A.j(a)," in vector of length ",A.j(b)].join(""));}function mh(a,b){if(b>=ih(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.D[b>>>a&31];a=d}else return c.D}function nh(a,b){return 0<=b&&b<a.J?mh(a,b):lh(b,a.J)}
var oh=function oh(a,b,c,d,e){var g=hh(c);if(0===b)g.D[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.D[k];a=oh.wa?oh.wa(a,b,c,d,e):oh.call(null,a,b,c,d,e);g.D[k]=a}return g},ph=function ph(a,b,c){var e=a.J-2>>>b&31;if(5<b){b-=5;var f=c.D[e];a=ph.C?ph.C(a,b,f):ph.call(null,a,b,f);if(null==a&&0===e)return null;c=hh(c);c.D[e]=a;return c}if(0===e)return null;c=hh(c);c.D[e]=null;return c};function qh(a,b,c,d,e,f){this.i=a;this.base=b;this.D=c;this.v=d;this.start=e;this.end=f}
qh.prototype.Ca=function(){return this.i<this.end};qh.prototype.next=function(){32===this.i-this.base&&(this.D=mh(this.v,this.i),this.base+=32);var a=this.D[this.i&31];this.i+=1;return a};function rh(a,b,c){return new qh(b,b-b%32,b<O(a)?mh(a,b):null,a,b,c)}function sh(a,b,c,d){return c<d?th(a,b,qe(a,c),c+1,d):b.K?b.K():b.call(null)}
function th(a,b,c,d,e){var f=c;c=d;for(d=mh(a,d);;)if(c<e){var g=c&31;d=0===g?mh(a,c):d;g=d[g];f=b.B?b.B(f,g):b.call(null,f,g);if(ge(f))return B(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.J=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.I=167666463;this.P=139268}h=X.prototype;h.tc=function(a,b){return 0<=b&&b<this.J?new uh(b,mh(this,b)[b&31],null):null};h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){return"number"===typeof b?this.La(null,b,c):c};
h.uc=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=mh(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,k=e[f];d=b.C?b.C(d,g,k):b.call(null,d,g,k);if(ge(d)){e=d;break a}f+=1}else{e=d;break a}if(ge(e))return B(e);a+=c;d=e}else return d};h.He=t;h.ka=function(a,b){return nh(this,b)[b&31]};h.La=function(a,b,c){return 0<=b&&b<this.J?mh(this,b)[b&31]:c};
h.Zb=function(a,b,c){if(0<=b&&b<this.J)return ih(this)<=b?(a=Yb(this.tail),a[b&31]=c,new X(this.meta,this.J,this.shift,this.root,a,null)):new X(this.meta,this.J,this.shift,oh(this,this.shift,this.root,b,c),this.tail,null);if(b===this.J)return this.za(null,c);throw Error(["Index ",A.j(b)," out of bounds  [0,",A.j(this.J),"]"].join(""));};h.hb=function(){return rh(this,0,this.J)};h.oa=function(){return this.meta};h.gb=function(){return new X(this.meta,this.J,this.shift,this.root,this.tail,this.N)};
h.va=function(){return this.J};h.wc=function(){return 0<this.J?this.ka(null,this.J-1):null};h.xc=function(){if(0===this.J)throw Error("Can't pop empty vector");if(1===this.J)return Qc(Be,this.meta);if(1<this.J-ih(this))return new X(this.meta,this.J-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=mh(this,this.J-2),b=ph(this,this.shift,this.root);b=null==b?Y:b;var c=this.J-1;return 5<this.shift&&null==b.D[1]?new X(this.meta,c,this.shift-5,b.D[0],a,null):new X(this.meta,c,this.shift,b,a,null)};
h.vc=function(){return 0<this.J?new te(this,this.J-1,null):null};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){if(b instanceof X)if(this.J===O(b))for(a=this.hb(null),b=b.hb(null);;)if(a.Ca()){var c=a.next(),d=b.next();if(!K.B(c,d))return!1}else return!0;else return!1;else return ue(this,b)};h.fd=function(){return new vh(this.J,this.shift,wh.j?wh.j(this.root):wh.call(null,this.root),xh.j?xh.j(this.tail):xh.call(null,this.tail))};h.Ba=function(){return Qc(Be,this.meta)};
h.Na=function(a,b){return sh(this,b,0,this.J)};h.Oa=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=mh(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.B?b.B(d,g):b.call(null,d,g);if(ge(d)){e=d;break a}f+=1}else{e=d;break a}if(ge(e))return B(e);a+=c;d=e}else return d};h.fb=function(a,b,c){if("number"===typeof b)return this.Zb(null,b,c);throw Error("Vector's key for assoc must be a number.");};h.yb=function(a,b){return $e(b)?0<=b&&b<this.J:!1};
h.sa=function(){if(0===this.J)return null;if(32>=this.J)return new H(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.D[0];else{a=a.D;break a}}return yh?yh(this,a,0,0):zh.call(null,this,a,0,0)};h.qa=function(a,b){return b===this.meta?this:new X(b,this.J,this.shift,this.root,this.tail,this.N)};
h.za=function(a,b){if(32>this.J-ih(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.J+1,this.shift,this.root,c,null)}a=(c=this.J>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=gh(null),c.D[0]=this.root,d=jh(null,this.shift,new fh(null,this.tail)),c.D[1]=d):c=kh(this,this.shift,this.root,new fh(null,this.tail));return new X(this.meta,this.J+1,a,c,[b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.ka(null,a)};h.B=function(a,b){return this.La(null,a,b)};
var Y=new fh(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Be=new X(null,0,5,Y,[],be);function Ah(a,b){var c=a.length;a=b?a:Yb(a);if(32>c)return new X(null,c,5,Y,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Y,d,null)).fd(null);;)if(b<c)d=b+1,e=Vf.B(e,a[b]),b=d;else return ld(e)}X.prototype[Ub]=function(){return Zd(this)};
function Bh(a){return y(Ch.j?Ch.j(a):Ch.call(null,a))?new X(null,2,5,Y,[Dh.j?Dh.j(a):Dh.call(null,a),Eh.j?Eh.j(a):Eh.call(null,a)],null):Te(a)?Ke(a,null):Ob(a)?Ah(a,!0):ld($b.C(kd,jd(Be),a))}var Fh=function Fh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return Fh.F(c)};Fh.F=function(a){return a instanceof H&&0===a.i?Ah(a.D,!Ob(a.D)):Bh(a)};Fh.O=0;Fh.T=function(a){return this.F(F(a))};
function Gh(a,b,c,d,e,f){this.wb=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=f;this.I=32375020;this.P=1536}h=Gh.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){if(this.off+1<this.node.length){var a=this.wb;var b=this.node,c=this.i,d=this.off+1;a=yh?yh(a,b,c,d):zh.call(null,a,b,c,d);return null==a?null:a}return this.fe()};
h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return sh(this.wb,b,this.i+this.off,O(this.wb))};h.Oa=function(a,b,c){return th(this.wb,b,c,this.i+this.off,O(this.wb))};h.Ra=function(){return this.node[this.off]};h.Va=function(){if(this.off+1<this.node.length){var a=this.wb;var b=this.node,c=this.i,d=this.off+1;a=yh?yh(a,b,c,d):zh.call(null,a,b,c,d);return null==a?Xd:a}return this.Ic(null)};h.sa=function(){return this};
h.yd=function(){var a=this.node;return new Lf(a,this.off,a.length)};h.Ic=function(){var a=this.i+this.node.length;if(a<gc(this.wb)){var b=this.wb,c=mh(this.wb,a);return yh?yh(b,c,a,0):zh.call(null,b,c,a,0)}return Xd};h.qa=function(a,b){return b===this.meta?this:Hh?Hh(this.wb,this.node,this.i,this.off,b):zh.call(null,this.wb,this.node,this.i,this.off,b)};h.za=function(a,b){return ve(b,this)};
h.fe=function(){var a=this.i+this.node.length;if(a<gc(this.wb)){var b=this.wb,c=mh(this.wb,a);return yh?yh(b,c,a,0):zh.call(null,b,c,a,0)}return null};Gh.prototype[Ub]=function(){return Zd(this)};
function zh(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Gh(b,nh(b,c),c,d,null,null);case 4:return yh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Hh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}function yh(a,b,c,d){return new Gh(a,b,c,d,null,null)}function Hh(a,b,c,d,e){return new Gh(a,b,c,d,e,null)}
function Ih(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.I=167666463;this.P=139264}h=Ih.prototype;h.tc=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new uh(b,uc(this.v,a),null):null};h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){return"number"===typeof b?this.La(null,b,c):c};
h.uc=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=mc(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(ge(c))return B(c);d+=1;a+=1}else return c};h.ka=function(a,b){return 0>b||this.end<=this.start+b?lh(b,this.end-this.start):mc(this.v,this.start+b)};h.La=function(a,b,c){return 0>b||this.end<=this.start+b?c:mc(this.v,this.start+b,c)};
h.Zb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",A.j(b)," out of bounds [0,",A.j(this.va(null)),"]"].join(""));b=this.meta;c=S.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Jh.wa?Jh.wa(b,c,d,a,null):Jh.call(null,b,c,d,a,null)};h.hb=function(){return null!=this.v&&t===this.v.He?rh(this.v,this.start,this.end):new qg(this)};h.oa=function(){return this.meta};h.gb=function(){return new Ih(this.meta,this.v,this.start,this.end,this.N)};
h.va=function(){return this.end-this.start};h.wc=function(){return this.start===this.end?null:mc(this.v,this.end-1)};h.xc=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Jh.wa?Jh.wa(a,b,c,d,null):Jh.call(null,a,b,c,d,null)};h.vc=function(){return this.start!==this.end?new te(this,this.end-this.start-1,null):null};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};
h.Ba=function(){return Qc(Be,this.meta)};h.Na=function(a,b){return null!=this.v&&t===this.v.He?sh(this.v,b,this.start,this.end):je(this,b)};h.Oa=function(a,b,c){return null!=this.v&&t===this.v.He?th(this.v,b,c,this.start,this.end):ke(this,b,c)};h.fb=function(a,b,c){if("number"===typeof b)return this.Zb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};h.yb=function(a,b){return $e(b)?0<=b&&b<this.end-this.start:!1};
h.sa=function(){var a=this;return function d(c){return c===a.end?null:ve(mc(a.v,c),new If(null,function(){return d(c+1)},null,null))}(a.start)};h.qa=function(a,b){return b===this.meta?this:Jh.wa?Jh.wa(b,this.v,this.start,this.end,this.N):Jh.call(null,b,this.v,this.start,this.end,this.N)};h.za=function(a,b){a=this.meta;b=Mc(this.v,this.end,b);var c=this.start,d=this.end+1;return Jh.wa?Jh.wa(a,b,c,d,null):Jh.call(null,a,b,c,d,null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.ka(null,a)};h.B=function(a,b){return this.La(null,a,b)};Ih.prototype[Ub]=function(){return Zd(this)};
function Jh(a,b,c,d,e){for(;;)if(b instanceof Ih)c=b.start+c,d=b.start+d,b=b.v;else{if(!Te(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>O(b))throw Error("Index out of bounds");return new Ih(a,b,c,d,e)}}function Kh(a,b,c){return Jh(null,a,b|0,c|0,null)}function Lh(a,b){return a===b.Da?b:new fh(a,Yb(b.D))}function wh(a){return new fh({},Yb(a.D))}
function xh(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Ve(a,0,b,0,a.length);return b}var Mh=function Mh(a,b,c,d){c=Lh(a.root.Da,c);var f=a.J-1>>>b&31;if(5===b)a=d;else{var g=c.D[f];null!=g?(b-=5,a=Mh.Y?Mh.Y(a,b,g,d):Mh.call(null,a,b,g,d)):a=jh(a.root.Da,b-5,d)}c.D[f]=a;return c};function vh(a,b,c,d){this.J=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.I=275}h=vh.prototype;
h.jd=function(a,b){if(this.root.Da){if(32>this.J-ih(this))this.tail[this.J&31]=b;else{a=new fh(this.root.Da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.J>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=jh(this.root.Da,this.shift,a),this.root=new fh(this.root.Da,b),this.shift=c):this.root=Mh(this,this.shift,this.root,a)}this.J+=1;return this}throw Error("conj! after persistent!");};h.Cd=function(){if(this.root.Da){this.root.Da=null;var a=this.J-ih(this),b=Array(a);Ve(this.tail,0,b,0,a);return new X(null,this.J,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
h.hd=function(a,b,c){if("number"===typeof b)return Nh(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Nh(a,b,c){if(a.root.Da){if(0<=b&&b<a.J){if(ih(a)<=b)a.tail[b&31]=c;else{var d=function k(f,g){g=Lh(a.root.Da,g);if(0===f)g.D[b&31]=c;else{var l=b>>>f&31;f=k(f-5,g.D[l]);g.D[l]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.J)return a.jd(null,c);throw Error(["Index ",A.j(b)," out of bounds for TransientVector of length",A.j(a.J)].join(""));}throw Error("assoc! after persistent!");}h.va=function(){if(this.root.Da)return this.J;throw Error("count after persistent!");};
h.ka=function(a,b){if(this.root.Da)return nh(this,b)[b&31];throw Error("nth after persistent!");};h.La=function(a,b,c){return 0<=b&&b<this.J?this.ka(null,b):c};h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){if(this.root.Da)return"number"===typeof b?this.La(null,b,c):c;throw Error("lookup after persistent!");};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.Ma(null,a)};h.B=function(a,b){return this.na(null,a,b)};function Oh(a,b){this.md=a;this.Vd=b}
Oh.prototype.Ca=function(){var a=null!=this.md&&F(this.md);return a?a:(a=null!=this.Vd)?this.Vd.Ca():a};Oh.prototype.next=function(){if(null!=this.md){var a=I(this.md);this.md=J(this.md);return a}if(null!=this.Vd&&this.Vd.Ca())return this.Vd.next();throw Error("No such element");};Oh.prototype.remove=function(){return Error("Unsupported operation")};function Ph(a,b,c,d){this.meta=a;this.nb=b;this.ub=c;this.N=d;this.I=31850700;this.P=0}h=Ph.prototype;h.toString=function(){return Dd(this)};
h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){var a=J(this.nb);return a?new Ph(this.meta,a,this.ub,null):null!=this.ub?new Ph(this.meta,this.ub,null,null):null};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Qc(Xd,this.meta)};h.Ra=function(){return I(this.nb)};h.Va=function(){var a=J(this.nb);return a?new Ph(this.meta,a,this.ub,null):null==this.ub?this.Ba(null):new Ph(this.meta,this.ub,null,null)};h.sa=function(){return this};h.qa=function(a,b){return b===this.meta?this:new Ph(b,this.nb,this.ub,this.N)};h.za=function(a,b){return ve(b,this)};Ph.prototype[Ub]=function(){return Zd(this)};
function Qh(a,b,c,d,e){this.meta=a;this.count=b;this.nb=c;this.ub=d;this.N=e;this.P=139264;this.I=31858766}h=Qh.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,this.count.j?this.count.j(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.hb=function(){return new Oh(this.nb,Bd(this.ub))};h.oa=function(){return this.meta};h.gb=function(){return new Qh(this.meta,this.count,this.nb,this.ub,this.N)};h.va=function(){return this.count};
h.wc=function(){return I(this.nb)};h.xc=function(){if(y(this.nb)){var a=J(this.nb);return a?new Qh(this.meta,this.count-1,a,this.ub,null):new Qh(this.meta,this.count-1,F(this.ub),Be,null)}return this};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Qc(Rh,this.meta)};h.Ra=function(){return I(this.nb)};h.Va=function(){return Wd(F(this))};
h.sa=function(){var a=F(this.ub),b=this.nb;return y(y(b)?b:a)?new Ph(null,this.nb,F(a),null):null};h.qa=function(a,b){return b===this.meta?this:new Qh(b,this.count,this.nb,this.ub,this.N)};h.za=function(a,b){y(this.nb)?(a=this.ub,b=new Qh(this.meta,this.count+1,this.nb,Ae.B(y(a)?a:Be,b),null)):b=new Qh(this.meta,this.count+1,Ae.B(this.nb,b),Be,null);return b};var Rh=new Qh(null,0,null,Be,be);Qh.prototype[Ub]=function(){return Zd(this)};function Sh(){this.I=2097152;this.P=0}
Sh.prototype.equiv=function(a){return this.R(null,a)};Sh.prototype.R=function(){return!1};var Th=new Sh;function Uh(a,b){return Ye(Re(b)&&!Se(b)?O(a)===O(b)?(null!=a?a.I&1048576||t===a.Eh||(a.I?0:Qb(Uc,a)):Qb(Uc,a))?mf(function(c,d,e){return K.B(C.C(b,d,Th),e)?!0:new fe(!1)},!0,a):Ag(function(c){return K.B(C.C(b,I(c),Th),I(J(c)))},a):null:null)}function Vh(a,b,c,d){this.i=0;this.th=a;this.Lf=b;this.fields=c;this.dg=d}Vh.prototype.Ca=function(){var a=this.i<this.Lf;return a?a:this.dg.Ca()};
Vh.prototype.next=function(){if(this.i<this.Lf){var a=qe(this.fields,this.i);this.i+=1;return new uh(a,uc(this.th,a),null)}return this.dg.next()};Vh.prototype.remove=function(){return Error("Unsupported operation")};function Wh(a){this.s=a}Wh.prototype.next=function(){if(null!=this.s){var a=I(this.s),b=R(a,0,null);a=R(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xh(a){this.s=a}
Xh.prototype.next=function(){if(null!=this.s){var a=I(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Yh(a,b){if(b instanceof E)a:{var c=a.length;b=b.Ea;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].Ea){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Sd)a:for(c=a.length,b=b.qb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Sd&&b===a[d].qb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(K.B(b,a[d])){a=d;break a}d+=2}return a}function uh(a,b,c){this.key=a;this.G=b;this.N=c;this.I=166619935;this.P=0}h=uh.prototype;h.tc=function(a,b){switch(b){case 0:return new uh(0,this.key,null);case 1:return new uh(1,this.G,null);default:return null}};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.Ma=function(a,b){return this.La(null,b,null)};h.na=function(a,b,c){return this.La(null,b,c)};h.ka=function(a,b){if(0===b)return this.key;if(1===b)return this.G;throw Error("Index out of bounds");};
h.La=function(a,b,c){return 0===b?this.key:1===b?this.G:c};h.Zb=function(a,b,c){return(new X(null,2,5,Y,[this.key,this.G],null)).Zb(null,b,c)};h.oa=function(){return null};h.va=function(){return 2};h.Le=function(){return this.key};h.Me=function(){return this.G};h.wc=function(){return this.G};h.xc=function(){return new X(null,1,5,Y,[this.key],null)};h.vc=function(){return new H([this.G,this.key],0,null)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return null};h.Na=function(a,b){return je(this,b)};h.Oa=function(a,b,c){return ke(this,b,c)};h.fb=function(a,b,c){return S.C(new X(null,2,5,Y,[this.key,this.G],null),b,c)};h.yb=function(a,b){return 0===b||1===b};h.sa=function(){return new H([this.key,this.G],0,null)};h.qa=function(a,b){return Ke(new X(null,2,5,Y,[this.key,this.G],null),b)};h.za=function(a,b){return new X(null,3,5,Y,[this.key,this.G,b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.ka(null,a)};h.B=function(a,b){return this.La(null,a,b)};function Ch(a){return null!=a?a.I&2048||t===a.Hh?!0:!1:!1}function ei(a,b,c){this.D=a;this.i=b;this.lc=c;this.I=32374990;this.P=0}h=ei.prototype;
h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.lc};h.Ja=function(){return this.i<this.D.length-2?new ei(this.D,this.i+2,null):null};h.va=function(){return(this.D.length-this.i)/2};h.pa=function(){return ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return new uh(this.D[this.i],this.D[this.i+1],null)};h.Va=function(){return this.i<this.D.length-2?new ei(this.D,this.i+2,null):Xd};h.sa=function(){return this};h.qa=function(a,b){return b===this.lc?this:new ei(this.D,this.i,b)};h.za=function(a,b){return ve(b,this)};ei.prototype[Ub]=function(){return Zd(this)};
function fi(a,b){this.D=a;this.i=0;this.J=b}fi.prototype.Ca=function(){return this.i<this.J};fi.prototype.next=function(){var a=new uh(this.D[this.i],this.D[this.i+1],null);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.J=b;this.D=c;this.N=d;this.I=16647951;this.P=139268}h=v.prototype;h.tc=function(a,b){a=Yh(this.D,b);return-1===a?null:new uh(this.D[a],this.D[a+1],null)};h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.keys=function(){return Zd(gi.j?gi.j(this):gi.call(null,this))};h.entries=function(){return new Wh(F(F(this)))};h.values=function(){return Zd(hi.j?hi.j(this):hi.call(null,this))};h.has=function(a){return af(this,a)};h.get=function(a,b){return this.na(null,a,b)};
h.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e),g=R(f,0,null);f=R(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Ue(b)?(c=sd(b),b=td(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){a=Yh(this.D,b);return-1===a?c:this.D[a+1]};
h.uc=function(a,b,c){a=this.D.length;for(var d=0;;)if(d<a){var e=this.D[d],f=this.D[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(ge(c))return B(c);d+=2}else return c};h.hb=function(){return new fi(this.D,2*this.J)};h.oa=function(){return this.meta};h.gb=function(){return new v(this.meta,this.J,this.D,this.N)};h.va=function(){return this.J};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ce(this)};
h.R=function(a,b){if(Re(b)&&!Se(b))if(a=this.D.length,this.J===b.va(null))for(var c=0;;)if(c<a){var d=b.na(null,this.D[c],We);if(d!==We)if(K.B(this.D[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};h.fd=function(){return new ii(this.D.length,Yb(this.D))};h.Ba=function(){return Qc(W,this.meta)};h.Na=function(a,b){return kf(this,b)};h.Oa=function(a,b,c){return lf(this,b,c)};
h.Rc=function(a,b){if(0<=Yh(this.D,b)){a=this.D.length;var c=a-2;if(0===c)return this.Ba(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.J-1,c,null);K.B(b,this.D[d])?d+=2:(c[e]=this.D[d],c[e+1]=this.D[d+1],e+=2,d+=2)}}else return this};
h.fb=function(a,b,c){a=Yh(this.D,b);if(-1===a){if(this.J<ji){a=this.D;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.J+1,e,null)}return Qc(zc(Zg.B(ki,this),b,c),this.meta)}if(c===this.D[a+1])return this;b=Yb(this.D);b[a+1]=c;return new v(this.meta,this.J,b,null)};h.yb=function(a,b){return-1!==Yh(this.D,b)};h.sa=function(){var a=this.D;return 0<=a.length-2?new ei(a,0,null):null};
h.qa=function(a,b){return b===this.meta?this:new v(b,this.J,this.D,this.N)};h.za=function(a,b){if(Te(b))return this.fb(null,mc(b,0),mc(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=I(b);if(Te(c))a=zc(a,mc(c,0),mc(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.Ma(null,a)};h.B=function(a,b){return this.na(null,a,b)};var W=new v(null,0,[],de),ji=8;
function li(a,b,c){a=b?a:Yb(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===Yh(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new v(null,a.length/2,a,null)}function Fe(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Yh(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new v(null,b.length/2,b,null)}v.prototype[Ub]=function(){return Zd(this)};function ii(a,b){this.Vc={};this.dc=a;this.D=b;this.I=259;this.P=56}h=ii.prototype;
h.va=function(){if(this.Vc)return uf(this.dc,2);throw Error("count after persistent!");};h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){if(this.Vc)return a=Yh(this.D,b),-1===a?c:this.D[a+1];throw Error("lookup after persistent!");};
h.jd=function(a,b){if(this.Vc){if(Ch(b))return this.hd(null,Dh.j?Dh.j(b):Dh.call(null,b),Eh.j?Eh.j(b):Eh.call(null,b));if(Te(b))return this.hd(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=F(b);for(b=this;;){var c=I(a);if(y(c))a=J(a),b=md(b,Dh.j?Dh.j(c):Dh.call(null,c),Eh.j?Eh.j(c):Eh.call(null,c));else return b}}else throw Error("conj! after persistent!");};h.Cd=function(){if(this.Vc)return this.Vc=!1,new v(null,uf(this.dc,2),this.D,null);throw Error("persistent! called twice");};
h.hd=function(a,b,c){if(this.Vc){a=Yh(this.D,b);if(-1===a)return this.dc+2<=2*ji?(this.dc+=2,this.D.push(b),this.D.push(c),this):Wf(mi.B?mi.B(this.dc,this.D):mi.call(null,this.dc,this.D),b,c);c!==this.D[a+1]&&(this.D[a+1]=c);return this}throw Error("assoc! after persistent!");};h.Te=function(a,b){if(this.Vc)return a=Yh(this.D,b),0<=a&&(this.D[a]=this.D[this.dc-2],this.D[a+1]=this.D[this.dc-1],a=this.D,a.pop(),a.pop(),this.dc-=2),this;throw Error("dissoc! after persistent!");};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.na(null,a,null)};h.B=function(a,b){return this.na(null,a,b)};function mi(a,b){for(var c=jd(ki),d=0;;)if(d<a)c=md(c,b[d],b[d+1]),d+=2;else return c}function ni(){this.G=!1}
function oi(a,b){return a===b?!0:U(a,b)?!0:K.B(a,b)}function pi(a,b,c){a=Yb(a);a[b]=c;return a}function qi(a,b){var c=Array(a.length-2);Ve(a,0,c,0,2*b);Ve(a,2*(b+1),c,2*b,c.length-2*b);return c}function ri(a,b,c,d){a=a.Cc(b);a.D[c]=d;return a}function si(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.C?b.C(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.Zc(b,f):f;if(ge(c))return c;e+=2;f=c}else return f}function ti(a){this.D=a;this.i=0;this.fc=this.Sd=null}
ti.prototype.advance=function(){for(var a=this.D.length;;)if(this.i<a){var b=this.D[this.i],c=this.D[this.i+1];null!=b?b=this.Sd=new uh(b,c,null):null!=c?(b=Bd(c),b=b.Ca()?this.fc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};ti.prototype.Ca=function(){var a=null!=this.Sd;return a?a:(a=null!=this.fc)?a:this.advance()};
ti.prototype.next=function(){if(null!=this.Sd){var a=this.Sd;this.Sd=null;return a}if(null!=this.fc)return a=this.fc.next(),this.fc.Ca()||(this.fc=null),a;if(this.advance())return this.next();throw Error("No such element");};ti.prototype.remove=function(){return Error("Unsupported operation")};function ui(a,b,c){this.Da=a;this.bitmap=b;this.D=c;this.P=131072;this.I=0}h=ui.prototype;
h.Cc=function(a){if(a===this.Da)return this;var b=vf(this.bitmap),c=Array(0>b?4:2*(b+1));Ve(this.D,0,c,0,2*b);return new ui(a,this.bitmap,c)};h.Rd=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var g=vf(this.bitmap&f-1),k=this.D[2*g],l=this.D[2*g+1];return null==k?(b=l.Rd(a,b+5,c,d,e),b===l?this:null!=b?ri(this,a,2*g+1,b):this.bitmap===f?null:vi(this,a,f,g)):oi(d,k)?(e.G=!0,vi(this,a,f,g)):this};
function vi(a,b,c,d){if(a.bitmap===c)return null;a=a.Cc(b);b=a.D;var e=b.length;a.bitmap^=c;Ve(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}h.Pd=function(){return wi?wi(this.D):xi.call(null,this.D)};h.Zc=function(a,b){return si(this.D,a,b)};h.Nc=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=vf(this.bitmap&e-1);e=this.D[2*f];f=this.D[2*f+1];return null==e?f.Nc(a+5,b,c,d):oi(c,e)?f:d};
h.cc=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=vf(this.bitmap&g-1);if(0===(this.bitmap&g)){var l=vf(this.bitmap);if(2*l<this.D.length){a=this.Cc(a);b=a.D;f.G=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=g;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=yi.cc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.D[e]?yi.cc(a,b+5,Md(this.D[e]),this.D[e],this.D[e+1],f):this.D[e+1],e+=2,d+=1);else break;return new zi(a,l+1,k)}b=Array(2*(l+4));Ve(this.D,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Ve(this.D,2*k,b,2*(k+1),2*(l-k));f.G=!0;a=this.Cc(a);a.D=b;a.bitmap|=g;return a}l=this.D[2*k];g=this.D[2*k+1];if(null==l)return l=g.cc(a,b+5,c,d,e,f),l===g?this:ri(this,a,2*k+1,l);if(oi(d,l))return e===g?this:ri(this,a,2*k+1,e);f.G=!0;f=b+5;d=Ai?Ai(a,f,l,g,c,d,e):Bi.call(null,a,f,l,g,c,d,
e);e=2*k;k=2*k+1;a=this.Cc(a);a.D[e]=null;a.D[k]=d;return a};
h.bc=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=vf(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=vf(this.bitmap);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=yi.bc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(g[c]=null!=this.D[d]?yi.bc(a+5,Md(this.D[d]),this.D[d],this.D[d+1],e):this.D[d+1],d+=2,c+=1);else break;return new zi(null,k+1,g)}a=Array(2*
(k+1));Ve(this.D,0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Ve(this.D,2*g,a,2*(g+1),2*(k-g));e.G=!0;return new ui(null,this.bitmap|f,a)}var l=this.D[2*g];f=this.D[2*g+1];if(null==l)return k=f.bc(a+5,b,c,d,e),k===f?this:new ui(null,this.bitmap,pi(this.D,2*g+1,k));if(oi(c,l))return d===f?this:new ui(null,this.bitmap,pi(this.D,2*g+1,d));e.G=!0;e=this.bitmap;k=this.D;a+=5;a=Ci?Ci(a,l,f,b,c,d):Bi.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=Yb(k);d[c]=null;d[g]=a;return new ui(null,e,d)};
h.Od=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=vf(this.bitmap&e-1);e=this.D[2*f];f=this.D[2*f+1];return null==e?f.Od(a+5,b,c,d):oi(c,e)?new uh(e,f,null):d};
h.Qd=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=vf(this.bitmap&d-1),f=this.D[2*e],g=this.D[2*e+1];return null==f?(a=g.Qd(a+5,b,c),a===g?this:null!=a?new ui(null,this.bitmap,pi(this.D,2*e+1,a)):this.bitmap===d?null:new ui(null,this.bitmap^d,qi(this.D,e))):oi(c,f)?new ui(null,this.bitmap^d,qi(this.D,e)):this};h.hb=function(){return new ti(this.D)};var yi=new ui(null,0,[]);
function Di(a,b,c){var d=a.D,e=d.length;a=Array(2*(a.J-1));for(var f=0,g=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[g]=d[f],g+=2,k|=1<<f,f+=1):f+=1;else return new ui(b,k,a)}function Ei(a){this.D=a;this.i=0;this.fc=null}Ei.prototype.Ca=function(){for(var a=this.D.length;;){if(null!=this.fc&&this.fc.Ca())return!0;if(this.i<a){var b=this.D[this.i];this.i+=1;null!=b&&(this.fc=Bd(b))}else return!1}};Ei.prototype.next=function(){if(this.Ca())return this.fc.next();throw Error("No such element");};
Ei.prototype.remove=function(){return Error("Unsupported operation")};function zi(a,b,c){this.Da=a;this.J=b;this.D=c;this.P=131072;this.I=0}h=zi.prototype;h.Cc=function(a){return a===this.Da?this:new zi(a,this.J,Yb(this.D))};h.Rd=function(a,b,c,d,e){var f=c>>>b&31,g=this.D[f];if(null==g)return this;b=g.Rd(a,b+5,c,d,e);if(b===g)return this;if(null==b){if(8>=this.J)return Di(this,a,f);a=ri(this,a,f,b);--a.J;return a}return ri(this,a,f,b)};h.Pd=function(){return Fi?Fi(this.D):Gi.call(null,this.D)};
h.Zc=function(a,b){for(var c=this.D.length,d=0;;)if(d<c){var e=this.D[d];if(null!=e){b=e.Zc(a,b);if(ge(b))return b;d+=1}else d+=1}else return b};h.Nc=function(a,b,c,d){var e=this.D[b>>>a&31];return null!=e?e.Nc(a+5,b,c,d):d};h.cc=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.D[g];if(null==k)return a=ri(this,a,g,yi.cc(a,b+5,c,d,e,f)),a.J+=1,a;b=k.cc(a,b+5,c,d,e,f);return b===k?this:ri(this,a,g,b)};
h.bc=function(a,b,c,d,e){var f=b>>>a&31,g=this.D[f];if(null==g)return new zi(null,this.J+1,pi(this.D,f,yi.bc(a+5,b,c,d,e)));a=g.bc(a+5,b,c,d,e);return a===g?this:new zi(null,this.J,pi(this.D,f,a))};h.Od=function(a,b,c,d){var e=this.D[b>>>a&31];return null!=e?e.Od(a+5,b,c,d):d};h.Qd=function(a,b,c){var d=b>>>a&31,e=this.D[d];return null!=e?(a=e.Qd(a+5,b,c),a===e?this:null==a?8>=this.J?Di(this,null,d):new zi(null,this.J-1,pi(this.D,d,a)):new zi(null,this.J,pi(this.D,d,a))):this};h.hb=function(){return new Ei(this.D)};
function Hi(a,b,c){b*=2;for(var d=0;;)if(d<b){if(oi(c,a[d]))return d;d+=2}else return-1}function Ii(a,b,c,d){this.Da=a;this.Ac=b;this.J=c;this.D=d;this.P=131072;this.I=0}h=Ii.prototype;h.Cc=function(a){if(a===this.Da)return this;var b=Array(2*(this.J+1));Ve(this.D,0,b,0,2*this.J);return new Ii(a,this.Ac,this.J,b)};
h.Rd=function(a,b,c,d,e){b=Hi(this.D,this.J,d);if(-1===b)return this;e.G=!0;if(1===this.J)return null;a=this.Cc(a);e=a.D;e[b]=e[2*this.J-2];e[b+1]=e[2*this.J-1];e[2*this.J-1]=null;e[2*this.J-2]=null;--a.J;return a};h.Pd=function(){return wi?wi(this.D):xi.call(null,this.D)};h.Zc=function(a,b){return si(this.D,a,b)};h.Nc=function(a,b,c,d){a=Hi(this.D,this.J,c);return 0>a?d:oi(c,this.D[a])?this.D[a+1]:d};
h.cc=function(a,b,c,d,e,f){if(c===this.Ac){b=Hi(this.D,this.J,d);if(-1===b){if(this.D.length>2*this.J)return b=2*this.J,c=2*this.J+1,a=this.Cc(a),a.D[b]=d,a.D[c]=e,f.G=!0,a.J+=1,a;c=this.D.length;b=Array(c+2);Ve(this.D,0,b,0,c);b[c]=d;b[c+1]=e;f.G=!0;d=this.J+1;a===this.Da?(this.D=b,this.J=d,a=this):a=new Ii(this.Da,this.Ac,d,b);return a}return this.D[b+1]===e?this:ri(this,a,b+1,e)}return(new ui(a,1<<(this.Ac>>>b&31),[null,this,null,null])).cc(a,b,c,d,e,f)};
h.bc=function(a,b,c,d,e){return b===this.Ac?(a=Hi(this.D,this.J,c),-1===a?(a=2*this.J,b=Array(a+2),Ve(this.D,0,b,0,a),b[a]=c,b[a+1]=d,e.G=!0,new Ii(null,this.Ac,this.J+1,b)):K.B(this.D[a+1],d)?this:new Ii(null,this.Ac,this.J,pi(this.D,a+1,d))):(new ui(null,1<<(this.Ac>>>a&31),[null,this])).bc(a,b,c,d,e)};h.Od=function(a,b,c,d){a=Hi(this.D,this.J,c);return 0>a?d:oi(c,this.D[a])?new uh(this.D[a],this.D[a+1],null):d};
h.Qd=function(a,b,c){a=Hi(this.D,this.J,c);return-1===a?this:1===this.J?null:new Ii(null,this.Ac,this.J-1,qi(this.D,uf(a,2)))};h.hb=function(){return new ti(this.D)};function Bi(a){switch(arguments.length){case 6:return Ci(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Ai(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}
function Ci(a,b,c,d,e,f){var g=Md(b);if(g===d)return new Ii(null,g,2,[b,c,e,f]);var k=new ni;return yi.bc(a,g,b,c,k).bc(a,d,e,f,k)}function Ai(a,b,c,d,e,f,g){var k=Md(c);if(k===e)return new Ii(null,k,2,[c,d,f,g]);var l=new ni;return yi.cc(a,b,k,c,d,l).cc(a,b,e,f,g,l)}function Ji(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.I=32374988;this.P=0}h=Ji.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ki?Ki(a,b,null):xi.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return Ki?Ki(a,b,c):xi.call(null,a,b,c)};
h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return null==this.s?new uh(this.nodes[this.i],this.nodes[this.i+1],null):I(this.s)};
h.Va=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ki?Ki(c,d,null):xi.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return Ki?Ki(c,d,e):xi.call(null,c,d,e)}();return null!=b?b:Xd};h.sa=function(){return this};h.qa=function(a,b){return b===this.meta?this:new Ji(b,this.nodes,this.i,this.s,this.N)};h.za=function(a,b){return ve(b,this)};Ji.prototype[Ub]=function(){return Zd(this)};
function xi(a){switch(arguments.length){case 1:return wi(arguments[0]);case 3:return Ki(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}function wi(a){return Ki(a,0,null)}function Ki(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ji(null,a,b,null,null);var d=a[b+1];if(y(d)&&(d=d.Pd(),y(d)))return new Ji(null,a,b+2,d,null);b+=2}else return null;else return new Ji(null,a,b,c,null)}
function Li(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.I=32374988;this.P=0}h=Li.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){var a=this.nodes,b=this.i,c=J(this.s);return Mi?Mi(a,b,c):Gi.call(null,a,b,c)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return I(this.s)};h.Va=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=Mi?Mi(a,b,c):Gi.call(null,a,b,c);return null!=a?a:Xd};h.sa=function(){return this};h.qa=function(a,b){return b===this.meta?this:new Li(b,this.nodes,this.i,this.s,this.N)};h.za=function(a,b){return ve(b,this)};Li.prototype[Ub]=function(){return Zd(this)};
function Gi(a){switch(arguments.length){case 1:return Fi(arguments[0]);case 3:return Mi(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}function Fi(a){return Mi(a,0,null)}function Mi(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(y(d)&&(d=d.Pd(),y(d)))return new Li(null,a,b+1,d,null);b+=1}else return null;else return new Li(null,a,b,c,null)}function Ni(a,b){this.eb=a;this.rg=b;this.seen=!1}
Ni.prototype.Ca=function(){return!this.seen||this.rg.Ca()};Ni.prototype.next=function(){if(this.seen)return this.rg.next();this.seen=!0;return new uh(null,this.eb,null)};Ni.prototype.remove=function(){return Error("Unsupported operation")};function Oi(a,b,c,d,e,f){this.meta=a;this.J=b;this.root=c;this.$a=d;this.eb=e;this.N=f;this.I=16123663;this.P=139268}h=Oi.prototype;h.tc=function(a,b){return null==b?this.$a?new uh(null,this.eb,null):null:null==this.root?null:this.root.Od(0,Md(b),b,null)};
h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.keys=function(){return Zd(gi.j?gi.j(this):gi.call(null,this))};h.entries=function(){return new Wh(F(F(this)))};h.values=function(){return Zd(hi.j?hi.j(this):hi.call(null,this))};h.has=function(a){return af(this,a)};h.get=function(a,b){return this.na(null,a,b)};
h.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e),g=R(f,0,null);f=R(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Ue(b)?(c=sd(b),b=td(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){return null==b?this.$a?this.eb:c:null==this.root?c:this.root.Nc(0,Md(b),b,c)};
h.uc=function(a,b,c){a=this.$a?b.C?b.C(c,null,this.eb):b.call(null,c,null,this.eb):c;return ge(a)?B(a):null!=this.root?he(this.root.Zc(b,a)):a};h.hb=function(){var a=this.root?Bd(this.root):lg();return this.$a?new Ni(this.eb,a):a};h.oa=function(){return this.meta};h.gb=function(){return new Oi(this.meta,this.J,this.root,this.$a,this.eb,this.N)};h.va=function(){return this.J};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ce(this)};h.R=function(a,b){return Uh(this,b)};
h.fd=function(){return new Pi(this.root,this.J,this.$a,this.eb)};h.Ba=function(){return Qc(ki,this.meta)};h.Rc=function(a,b){if(null==b)return this.$a?new Oi(this.meta,this.J-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Qd(0,Md(b),b);return a===this.root?this:new Oi(this.meta,this.J-1,a,this.$a,this.eb,null)};
h.fb=function(a,b,c){if(null==b)return this.$a&&c===this.eb?this:new Oi(this.meta,this.$a?this.J:this.J+1,this.root,!0,c,null);a=new ni;b=(null==this.root?yi:this.root).bc(0,Md(b),b,c,a);return b===this.root?this:new Oi(this.meta,a.G?this.J+1:this.J,b,this.$a,this.eb,null)};h.yb=function(a,b){return null==b?this.$a:null==this.root?!1:this.root.Nc(0,Md(b),b,We)!==We};h.sa=function(){if(0<this.J){var a=null!=this.root?this.root.Pd():null;return this.$a?ve(new uh(null,this.eb,null),a):a}return null};
h.qa=function(a,b){return b===this.meta?this:new Oi(b,this.J,this.root,this.$a,this.eb,this.N)};h.za=function(a,b){if(Te(b))return this.fb(null,mc(b,0),mc(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=I(b);if(Te(c))a=zc(a,mc(c,0),mc(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.Ma(null,a)};h.B=function(a,b){return this.na(null,a,b)};var ki=new Oi(null,0,null,!1,null,de);
function Qi(a,b){for(var c=a.length,d=0,e=jd(ki);;)if(d<c){var f=d+1;e=md(e,a[d],b[d]);d=f}else return ld(e)}Oi.prototype[Ub]=function(){return Zd(this)};function Pi(a,b,c,d){this.Da={};this.root=a;this.count=b;this.$a=c;this.eb=d;this.I=259;this.P=56}function Ri(a,b,c){if(a.Da){if(null==b)a.eb!==c&&(a.eb=c),a.$a||(a.count+=1,a.$a=!0);else{var d=new ni;b=(null==a.root?yi:a.root).cc(a.Da,0,Md(b),b,c,d);b!==a.root&&(a.root=b);d.G&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}h=Pi.prototype;
h.va=function(){if(this.Da)return this.count;throw Error("count after persistent!");};h.Ma=function(a,b){return null==b?this.$a?this.eb:null:null==this.root?null:this.root.Nc(0,Md(b),b)};h.na=function(a,b,c){return null==b?this.$a?this.eb:c:null==this.root?c:this.root.Nc(0,Md(b),b,c)};
h.jd=function(a,b){a:if(this.Da)if(Ch(b))a=Ri(this,Dh.j?Dh.j(b):Dh.call(null,b),Eh.j?Eh.j(b):Eh.call(null,b));else if(Te(b))a=Ri(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=F(b),b=this;;){var c=I(a);if(y(c))a=J(a),b=Ri(b,Dh.j?Dh.j(c):Dh.call(null,c),Eh.j?Eh.j(c):Eh.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
h.Cd=function(){if(this.Da){this.Da=null;var a=new Oi(null,this.count,this.root,this.$a,this.eb,null)}else throw Error("persistent! called twice");return a};h.hd=function(a,b,c){return Ri(this,b,c)};h.Te=function(a,b){if(this.Da)null==b?this.$a&&(this.$a=!1,this.eb=null,--this.count):null!=this.root&&(a=new ni,b=this.root.Rd(this.Da,0,Md(b),b,a),b!==this.root&&(this.root=b),a.G&&--this.count);else throw Error("dissoc! after persistent!");return this};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.Ma(null,a)};h.B=function(a,b){return this.na(null,a,b)};function Si(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=Ae.B(d,a),a=b;else return d}
function Ti(a,b,c,d,e){this.meta=a;this.stack=b;this.Pc=c;this.J=d;this.N=e;this.I=32374990;this.P=0}h=Ti.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.meta};h.Ja=function(){var a=I(this.stack);a=Si(this.Pc?a.right:a.left,J(this.stack),this.Pc);return null==a?null:new Ti(null,a,this.Pc,this.J-1,null)};
h.va=function(){return 0>this.J?O(J(this))+1:this.J};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){var a=this.stack;return null==a?null:Jc(a)};h.Va=function(){var a=I(this.stack);a=Si(this.Pc?a.right:a.left,J(this.stack),this.Pc);return null!=a?new Ti(null,a,this.Pc,this.J-1,null):Xd};h.sa=function(){return this};
h.qa=function(a,b){return b===this.meta?this:new Ti(b,this.stack,this.Pc,this.J,this.N)};h.za=function(a,b){return ve(b,this)};Ti.prototype[Ub]=function(){return Zd(this)};function Ui(a,b,c){return new Ti(null,Si(a,null,b),b,c,null)}function Vi(a,b,c,d){return c instanceof Wi?c.left instanceof Wi?new Wi(c.key,c.G,c.left.sc(),new Xi(a,b,c.right,d)):c.right instanceof Wi?new Wi(c.right.key,c.right.G,new Xi(c.key,c.G,c.left,c.right.left),new Xi(a,b,c.right.right,d)):new Xi(a,b,c,d):new Xi(a,b,c,d)}
function Yi(a,b,c,d){return d instanceof Wi?d.right instanceof Wi?new Wi(d.key,d.G,new Xi(a,b,c,d.left),d.right.sc()):d.left instanceof Wi?new Wi(d.left.key,d.left.G,new Xi(a,b,c,d.left.left),new Xi(d.key,d.G,d.left.right,d.right)):new Xi(a,b,c,d):new Xi(a,b,c,d)}
function Zi(a,b,c,d){if(c instanceof Wi)return new Wi(a,b,c.sc(),d);if(d instanceof Xi)return Yi(a,b,c,d.Ud());if(d instanceof Wi&&d.left instanceof Xi)return new Wi(d.left.key,d.left.G,new Xi(a,b,c,d.left.left),Yi(d.key,d.G,d.left.right,d.right.Ud()));throw Error("red-black tree invariant violation");}
function $i(a,b,c,d){if(d instanceof Wi)return new Wi(a,b,c,d.sc());if(c instanceof Xi)return Vi(a,b,c.Ud(),d);if(c instanceof Wi&&c.right instanceof Xi)return new Wi(c.right.key,c.right.G,Vi(c.key,c.G,c.left.Ud(),c.right.left),new Xi(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var aj=function aj(a,b,c){var e=null!=a.left?function(){var k=a.left;return aj.C?aj.C(k,b,c):aj.call(null,k,b,c)}():c;if(ge(e))return e;var f=function(){var k=a.key,l=a.G;return b.C?b.C(e,k,l):b.call(null,e,k,l)}();if(ge(f))return f;if(null!=a.right){var g=a.right;return aj.C?aj.C(g,b,f):aj.call(null,g,b,f)}return f};function Xi(a,b,c,d){this.key=a;this.G=b;this.left=c;this.right=d;this.N=null;this.I=166619935;this.P=0}h=Xi.prototype;
h.tc=function(a,b){switch(b){case 0:return new uh(0,this.key,null);case 1:return new uh(1,this.G,null);default:return null}};h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();h.If=function(a){return a.Kf(this)};h.Ud=function(){return new Wi(this.key,this.G,this.left,this.right)};h.sc=function(){return this};h.Hf=function(a){return a.Jf(this)};h.replace=function(a,b,c,d){return new Xi(a,b,c,d)};
h.Jf=function(a){return new Xi(a.key,a.G,this,a.right)};h.Kf=function(a){return new Xi(a.key,a.G,a.left,this)};h.Zc=function(a,b){return aj(this,a,b)};h.Ma=function(a,b){return this.La(null,b,null)};h.na=function(a,b,c){return this.La(null,b,c)};h.ka=function(a,b){if(0===b)return this.key;if(1===b)return this.G;throw Error("Index out of bounds");};h.La=function(a,b,c){return 0===b?this.key:1===b?this.G:c};h.Zb=function(a,b,c){return(new X(null,2,5,Y,[this.key,this.G],null)).Zb(null,b,c)};h.oa=function(){return null};
h.va=function(){return 2};h.Le=function(){return this.key};h.Me=function(){return this.G};h.wc=function(){return this.G};h.xc=function(){return new X(null,1,5,Y,[this.key],null)};h.vc=function(){return new H([this.G,this.key],0,null)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return null};h.Na=function(a,b){return je(this,b)};h.Oa=function(a,b,c){return ke(this,b,c)};
h.fb=function(a,b,c){return S.C(new X(null,2,5,Y,[this.key,this.G],null),b,c)};h.yb=function(a,b){return 0===b||1===b};h.sa=function(){return new H([this.key,this.G],0,null)};h.qa=function(a,b){return Qc(new X(null,2,5,Y,[this.key,this.G],null),b)};h.za=function(a,b){return new X(null,3,5,Y,[this.key,this.G,b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.ka(null,a)};h.B=function(a,b){return this.La(null,a,b)};Xi.prototype[Ub]=function(){return Zd(this)};
function Wi(a,b,c,d){this.key=a;this.G=b;this.left=c;this.right=d;this.N=null;this.I=166619935;this.P=0}h=Wi.prototype;h.tc=function(a,b){switch(b){case 0:return new uh(0,this.key,null);case 1:return new uh(1,this.G,null);default:return null}};
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();h.If=function(a){return new Wi(this.key,this.G,this.left,a)};h.Ud=function(){throw Error("red-black tree invariant violation");};h.sc=function(){return new Xi(this.key,this.G,this.left,this.right)};
h.Hf=function(a){return new Wi(this.key,this.G,a,this.right)};h.replace=function(a,b,c,d){return new Wi(a,b,c,d)};h.Jf=function(a){return this.left instanceof Wi?new Wi(this.key,this.G,this.left.sc(),new Xi(a.key,a.G,this.right,a.right)):this.right instanceof Wi?new Wi(this.right.key,this.right.G,new Xi(this.key,this.G,this.left,this.right.left),new Xi(a.key,a.G,this.right.right,a.right)):new Xi(a.key,a.G,this,a.right)};
h.Kf=function(a){return this.right instanceof Wi?new Wi(this.key,this.G,new Xi(a.key,a.G,a.left,this.left),this.right.sc()):this.left instanceof Wi?new Wi(this.left.key,this.left.G,new Xi(a.key,a.G,a.left,this.left.left),new Xi(this.key,this.G,this.left.right,this.right)):new Xi(a.key,a.G,a.left,this)};h.Zc=function(a,b){return aj(this,a,b)};h.Ma=function(a,b){return this.La(null,b,null)};h.na=function(a,b,c){return this.La(null,b,c)};
h.ka=function(a,b){if(0===b)return this.key;if(1===b)return this.G;throw Error("Index out of bounds");};h.La=function(a,b,c){return 0===b?this.key:1===b?this.G:c};h.Zb=function(a,b,c){return(new X(null,2,5,Y,[this.key,this.G],null)).Zb(null,b,c)};h.oa=function(){return null};h.va=function(){return 2};h.Le=function(){return this.key};h.Me=function(){return this.G};h.wc=function(){return this.G};h.xc=function(){return new X(null,1,5,Y,[this.key],null)};
h.vc=function(){return new H([this.G,this.key],0,null)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return null};h.Na=function(a,b){return je(this,b)};h.Oa=function(a,b,c){return ke(this,b,c)};h.fb=function(a,b,c){return S.C(new X(null,2,5,Y,[this.key,this.G],null),b,c)};h.yb=function(a,b){return 0===b||1===b};h.sa=function(){return new H([this.key,this.G],0,null)};
h.qa=function(a,b){return Qc(new X(null,2,5,Y,[this.key,this.G],null),b)};h.za=function(a,b){return new X(null,3,5,Y,[this.key,this.G,b],null)};h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.ka(null,a)};
h.B=function(a,b){return this.La(null,a,b)};Wi.prototype[Ub]=function(){return Zd(this)};
var bj=function bj(a,b,c,d,e){if(null==b)return new Wi(c,d,null,null);var g=function(){var k=b.key;return a.B?a.B(c,k):a.call(null,c,k)}();if(0===g)return e[0]=b,null;if(0>g)return g=function(){var k=b.left;return bj.wa?bj.wa(a,k,c,d,e):bj.call(null,a,k,c,d,e)}(),null!=g?b.Hf(g):null;g=function(){var k=b.right;return bj.wa?bj.wa(a,k,c,d,e):bj.call(null,a,k,c,d,e)}();return null!=g?b.If(g):null},cj=function cj(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Wi){if(b instanceof Wi){var d=
function(){var e=a.right,f=b.left;return cj.B?cj.B(e,f):cj.call(null,e,f)}();return d instanceof Wi?new Wi(d.key,d.G,new Wi(a.key,a.G,a.left,d.left),new Wi(b.key,b.G,d.right,b.right)):new Wi(a.key,a.G,a.left,new Wi(b.key,b.G,d,b.right))}return new Wi(a.key,a.G,a.left,function(){var e=a.right;return cj.B?cj.B(e,b):cj.call(null,e,b)}())}if(b instanceof Wi)return new Wi(b.key,b.G,function(){var e=b.left;return cj.B?cj.B(a,e):cj.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;return cj.B?
cj.B(e,f):cj.call(null,e,f)}();return d instanceof Wi?new Wi(d.key,d.G,new Xi(a.key,a.G,a.left,d.left),new Xi(b.key,b.G,d.right,b.right)):Zi(a.key,a.G,a.left,new Xi(b.key,b.G,d,b.right))},dj=function dj(a,b,c,d){if(null!=b){var f=function(){var g=b.key;return a.B?a.B(c,g):a.call(null,c,g)}();if(0===f)return d[0]=b,cj(b.left,b.right);if(0>f)return f=function(){var g=b.left;return dj.Y?dj.Y(a,g,c,d):dj.call(null,a,g,c,d)}(),null!=f||null!=d[0]?b.left instanceof Xi?Zi(b.key,b.G,f,b.right):new Wi(b.key,
b.G,f,b.right):null;f=function(){var g=b.right;return dj.Y?dj.Y(a,g,c,d):dj.call(null,a,g,c,d)}();return null!=f||null!=d[0]?b.right instanceof Xi?$i(b.key,b.G,b.left,f):new Wi(b.key,b.G,b.left,f):null}return null},ej=function ej(a,b,c,d){var f=b.key,g=a.B?a.B(c,f):a.call(null,c,f);return 0===g?b.replace(f,d,b.left,b.right):0>g?b.replace(f,b.G,function(){var k=b.left;return ej.Y?ej.Y(a,k,c,d):ej.call(null,a,k,c,d)}(),b.right):b.replace(f,b.G,b.left,function(){var k=b.right;return ej.Y?ej.Y(a,k,c,
d):ej.call(null,a,k,c,d)}())};function fj(a,b,c,d,e){this.Mb=a;this.tree=b;this.J=c;this.meta=d;this.N=e;this.I=418776847;this.P=8192}h=fj.prototype;h.tc=function(a,b){return gj(this,b)};h.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e),g=R(f,0,null);f=R(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Ue(b)?(c=sd(b),b=td(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};
h.get=function(a,b){return this.na(null,a,b)};h.entries=function(){return new Wh(F(F(this)))};h.toString=function(){return Dd(this)};h.keys=function(){return Zd(gi.j?gi.j(this):gi.call(null,this))};h.values=function(){return Zd(hi.j?hi.j(this):hi.call(null,this))};h.equiv=function(a){return this.R(null,a)};function gj(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Mb.B?a.Mb.B(b,d):a.Mb.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}h.has=function(a){return af(this,a)};
h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){a=gj(this,b);return null!=a?a.G:c};h.uc=function(a,b,c){return null!=this.tree?he(aj(this.tree,b,c)):c};h.oa=function(){return this.meta};h.gb=function(){return new fj(this.Mb,this.tree,this.J,this.meta,this.N)};h.va=function(){return this.J};h.vc=function(){return 0<this.J?Ui(this.tree,!1,this.J):null};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ce(this)};h.R=function(a,b){return Uh(this,b)};
h.Ba=function(){return new fj(this.Mb,null,0,this.meta,0)};h.Rc=function(a,b){a=[null];b=dj(this.Mb,this.tree,b,a);return null==b?null==qe(a,0)?this:new fj(this.Mb,null,0,this.meta,null):new fj(this.Mb,b.sc(),this.J-1,this.meta,null)};h.fb=function(a,b,c){a=[null];var d=bj(this.Mb,this.tree,b,c,a);return null==d?(a=qe(a,0),K.B(c,a.G)?this:new fj(this.Mb,ej(this.Mb,this.tree,b,c),this.J,this.meta,null)):new fj(this.Mb,d.sc(),this.J+1,this.meta,null)};h.yb=function(a,b){return null!=gj(this,b)};
h.sa=function(){return 0<this.J?Ui(this.tree,!0,this.J):null};h.qa=function(a,b){return b===this.meta?this:new fj(this.Mb,this.tree,this.J,b,this.N)};h.za=function(a,b){if(Te(b))return this.fb(null,mc(b,0),mc(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=I(b);if(Te(c))a=zc(a,mc(c,0),mc(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.Ma(null,a)};h.B=function(a,b){return this.na(null,a,b)};fj.prototype[Ub]=function(){return Zd(this)};
var ig=function ig(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return ig.F(c)};ig.F=function(a){a=F(a);for(var b=jd(ki);;)if(a){var c=J(J(a));b=Wf(b,I(a),I(J(a)));a=c}else return ld(b)};ig.O=0;ig.T=function(a){return this.F(F(a))};var hj=function hj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return hj.F(c)};
hj.F=function(a){a=a instanceof H&&0===a.i?a.D:Zb(a);return Fe(a)};hj.O=0;hj.T=function(a){return this.F(F(a))};function ij(a,b){this.xa=a;this.lc=b;this.I=32374988;this.P=0}h=ij.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.lc};h.Ja=function(){var a=(null!=this.xa?this.xa.I&128||t===this.xa.Bd||(this.xa.I?0:Qb(rc,this.xa)):Qb(rc,this.xa))?this.xa.Ja(null):J(this.xa);return null==a?null:new ij(a,null)};h.pa=function(){return ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return this.xa.Ra(null).key};h.Va=function(){var a=(null!=this.xa?this.xa.I&128||t===this.xa.Bd||(this.xa.I?0:Qb(rc,this.xa)):Qb(rc,this.xa))?this.xa.Ja(null):J(this.xa);return null!=a?new ij(a,null):Xd};h.sa=function(){return this};h.qa=function(a,b){return b===this.lc?this:new ij(this.xa,b)};h.za=function(a,b){return ve(b,this)};
ij.prototype[Ub]=function(){return Zd(this)};function gi(a){return(a=F(a))?new ij(a,null):null}function Dh(a){return Fc(a)}function jj(a,b){this.xa=a;this.lc=b;this.I=32374988;this.P=0}h=jj.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.oa=function(){return this.lc};h.Ja=function(){var a=(null!=this.xa?this.xa.I&128||t===this.xa.Bd||(this.xa.I?0:Qb(rc,this.xa)):Qb(rc,this.xa))?this.xa.Ja(null):J(this.xa);return null==a?null:new jj(a,null)};h.pa=function(){return ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){return ye(b,c,this)};h.Ra=function(){return this.xa.Ra(null).G};h.Va=function(){var a=(null!=this.xa?this.xa.I&128||t===this.xa.Bd||(this.xa.I?0:Qb(rc,this.xa)):Qb(rc,this.xa))?this.xa.Ja(null):J(this.xa);return null!=a?new jj(a,null):Xd};h.sa=function(){return this};h.qa=function(a,b){return b===this.lc?this:new jj(this.xa,b)};h.za=function(a,b){return ve(b,this)};
jj.prototype[Ub]=function(){return Zd(this)};function hi(a){return(a=F(a))?new jj(a,null):null}function Eh(a){return Gc(a)}var kj=function kj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return kj.F(c)};kj.F=function(a){return y(Bg(a))?$b.B(function(b,c){return Ae.B(y(b)?b:W,c)},a):null};kj.O=0;kj.T=function(a){return this.F(F(a))};
var lj=function lj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new H(c.slice(1),0,null):null;return lj.F(arguments[0],c)};lj.F=function(a,b){if(y(Bg(b))){var c=function(d,e){var f=Fc(e),g=Gc(e);if(af(d,f)){e=S.C;var k=C.B(d,f);g=a.B?a.B(k,g):a.call(null,k,g);d=e.call(S,d,f,g)}else d=S.C(d,f,g);return d};return $b.B(function(d,e){return $b.C(c,y(d)?d:W,F(e))},b)}return null};lj.O=1;lj.T=function(a){var b=I(a);a=J(a);return this.F(b,a)};
function mj(a){for(var b=W,c=F(nj);;)if(c){var d=I(c),e=C.C(a,d,oj);b=jg(e,oj)?S.C(b,d,e):b;c=J(c)}else return Qc(b,Le(a))}function pj(a){this.nd=a}pj.prototype.Ca=function(){return this.nd.Ca()};pj.prototype.next=function(){if(this.nd.Ca())return this.nd.next().key;throw Error("No such element");};pj.prototype.remove=function(){return Error("Unsupported operation")};function qj(a,b,c){this.meta=a;this.qc=b;this.N=c;this.I=15077647;this.P=139268}h=qj.prototype;h.toString=function(){return Dd(this)};
h.equiv=function(a){return this.R(null,a)};h.keys=function(){return Zd(F(this))};h.entries=function(){return new Xh(F(F(this)))};h.values=function(){return Zd(F(this))};h.has=function(a){return af(this,a)};h.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e),g=R(f,0,null);f=R(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Ue(b)?(c=sd(b),b=td(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};
h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){a=Cc(this.qc,b);return y(a)?Fc(a):c};h.hb=function(){return new pj(Bd(this.qc))};h.oa=function(){return this.meta};h.gb=function(){return new qj(this.meta,this.qc,this.N)};h.va=function(){return gc(this.qc)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ce(this)};
h.R=function(a,b){if(a=Pe(b))if(a=O(this)===O(b))try{return mf(function(c,d){return(c=af(b,d))?c:new fe(!1)},!0,this.qc)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};h.fd=function(){return new rj(jd(this.qc))};h.Ba=function(){return Qc(sj,this.meta)};h.Oe=function(a,b){return new qj(this.meta,Ec(this.qc,b),null)};h.sa=function(){return gi(this.qc)};h.qa=function(a,b){return b===this.meta?this:new qj(b,this.qc,this.N)};
h.za=function(a,b){return new qj(this.meta,S.C(this.qc,b,null),null)};h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.Ma(null,a)};h.B=function(a,b){return this.na(null,a,b)};var sj=new qj(null,W,de);qj.prototype[Ub]=function(){return Zd(this)};
function rj(a){this.cd=a;this.P=136;this.I=259}h=rj.prototype;h.jd=function(a,b){this.cd=md(this.cd,b,null);return this};h.Cd=function(){return new qj(null,ld(this.cd),null)};h.va=function(){return O(this.cd)};h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){return uc(this.cd,b,We)===We?c:b};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return uc(this.cd,a,We)===We?null:a};h.B=function(a,b){return uc(this.cd,a,We)===We?b:a};function tj(a,b,c){this.meta=a;this.ic=b;this.N=c;this.I=417730831;this.P=8192}h=tj.prototype;h.toString=function(){return Dd(this)};
h.equiv=function(a){return this.R(null,a)};h.keys=function(){return Zd(F(this))};h.entries=function(){return new Xh(F(F(this)))};h.values=function(){return Zd(F(this))};h.has=function(a){return af(this,a)};h.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e),g=R(f,0,null);f=R(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Ue(b)?(c=sd(b),b=td(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};
h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){a=gj(this.ic,b);return null!=a?a.key:c};h.oa=function(){return this.meta};h.gb=function(){return new tj(this.meta,this.ic,this.N)};h.va=function(){return O(this.ic)};h.vc=function(){return 0<O(this.ic)?Pg.B(Dh,dd(this.ic)):null};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ce(this)};
h.R=function(a,b){if(a=Pe(b))if(a=O(this)===O(b))try{return mf(function(c,d){return(c=af(b,d))?c:new fe(!1)},!0,this.ic)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};h.Ba=function(){return new tj(this.meta,ic(this.ic),0)};h.Oe=function(a,b){return new tj(this.meta,Ge.B(this.ic,b),null)};h.sa=function(){return gi(this.ic)};h.qa=function(a,b){return b===this.meta?this:new tj(b,this.ic,this.N)};h.za=function(a,b){return new tj(this.meta,S.C(this.ic,b,null),null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.j=function(a){return this.Ma(null,a)};h.B=function(a,b){return this.na(null,a,b)};tj.prototype[Ub]=function(){return Zd(this)};
function uj(a){if(Pe(a))return Ke(a,null);a=F(a);if(null==a)return sj;if(a instanceof H&&0===a.i){a=a.D;for(var b=a.length,c=jd(sj),d=0;;)if(d<b)kd(c,a[d]),d+=1;else break;return ld(c)}for(c=jd(sj);;)if(null!=a)b=J(a),c=kd(c,pc(a)),a=b;else return ld(c)}function Aj(a){for(var b=Be;;)if(J(a))b=Ae.B(b,I(a)),a=J(a);else return F(b)}function Hf(a){if(null!=a&&(a.P&4096||t===a.Ne))return a.zd(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",A.j(a)].join(""));}
function Bj(a,b){var c=jd(W);a=F(a);for(b=F(b);;)if(a&&b)c=Wf(c,I(a),I(b)),a=J(a),b=J(b);else return ld(c)}var Cj=function Cj(a){switch(arguments.length){case 2:return Cj.B(arguments[0],arguments[1]);case 3:return Cj.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(3),0,null);return Cj.F(arguments[0],arguments[1],arguments[2],c)}};Cj.B=function(a,b){return b};
Cj.C=function(a,b,c){return(a.j?a.j(b):a.call(null,b))>(a.j?a.j(c):a.call(null,c))?b:c};Cj.F=function(a,b,c,d){return $b.C(function(e,f){return Cj.C(a,e,f)},Cj.C(a,b,c),d)};Cj.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.F(b,a,c,d)};Cj.O=3;function Dj(){this.D=[]}h=Dj.prototype;h.add=function(a){return this.D.push(a)};h.size=function(){return this.D.length};h.clear=function(){return this.D=[]};h.isEmpty=function(){return 0===this.D.length};h.toArray=function(){return this.D};
function Ej(){return function(a){var b=new Dj;return function(){function c(g,k){b.add(k);return 2===b.size()?(k=Bh(b.toArray()),b.clear(),a.B?a.B(g,k):a.call(null,g,k)):g}function d(g){if(!y(b.isEmpty())){var k=Bh(b.toArray());b.clear();g=he(a.B?a.B(g,k):a.call(null,g,k))}return a.j?a.j(g):a.call(null,g)}function e(){return a.K?a.K():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+
arguments.length);};f.K=e;f.j=d;f.B=c;return f}()}}function Fj(a,b){return new If(null,function(){var c=F(b);if(c){var d=I(c);d=a.j?a.j(d):a.call(null,d);c=y(d)?ve(I(c),Fj(a,Wd(c))):null}else c=null;return c},null,null)}function Gj(a,b,c){this.start=a;this.step=b;this.count=c;this.I=82;this.P=0}h=Gj.prototype;h.va=function(){return this.count};h.Ra=function(){return this.start};h.ka=function(a,b){return this.start+b*this.step};
h.La=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};h.Ie=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Gj(this.start+this.step,this.step,this.count-1)};function Hj(a,b,c){this.i=a;this.end=b;this.step=c}Hj.prototype.Ca=function(){return 0<this.step?this.i<this.end:this.i>this.end};Hj.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Ij(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.ua=e;this.Xb=f;this.N=g;this.I=32375006;this.P=140800}h=Ij.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.Kd=function(){if(null==this.ua){var a=this.va(null);32<a?(this.Xb=new Ij(null,this.start+32*this.step,this.end,this.step,null,null,null),this.ua=new Gj(this.start,this.step,32)):this.ua=new Gj(this.start,this.step,a)}};
h.ka=function(a,b){if(0<=b&&b<this.va(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};h.La=function(a,b,c){return 0<=b&&b<this.va(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};h.hb=function(){return new Hj(this.start,this.end,this.step)};h.oa=function(){return this.meta};h.gb=function(){return new Ij(this.meta,this.start,this.end,this.step,this.ua,this.Xb,this.N)};
h.Ja=function(){return 0<this.step?this.start+this.step<this.end?new Ij(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Ij(null,this.start+this.step,this.end,this.step,null,null,null):null};h.va=function(){return Math.ceil((this.end-this.start)/this.step)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return je(this,b)};
h.Oa=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(ge(c))return B(c);a+=this.step}else return c};h.Ra=function(){return this.start};h.Va=function(){var a=this.Ja(null);return null==a?Xd:a};h.sa=function(){return this};h.yd=function(){this.Kd();return this.ua};h.Ic=function(){this.Kd();return null==this.Xb?Xd:this.Xb};h.qa=function(a,b){return b===this.meta?this:new Ij(b,this.start,this.end,this.step,this.ua,this.Xb,this.N)};
h.za=function(a,b){return ve(b,this)};h.fe=function(){return F(this.Ic(null))};Ij.prototype[Ub]=function(){return Zd(this)};function Jj(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.ua=e;this.Xb=f;this.N=g;this.P=140800;this.I=32374988}h=Jj.prototype;h.toString=function(){return Dd(this)};h.equiv=function(a){return this.R(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();
h.Kd=function(){if(null==this.ua){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.ua=new Lf(a,0,b);break a}}else{b=c;break a}}null==this.ua&&(this.ua=new Lf(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.Xb=new Jj(null,b,this.end,this.step,null,null,null)))}};
h.hb=function(){return new Hj(this.start,this.end,this.step)};h.oa=function(){return this.meta};h.gb=function(){return new Jj(this.meta,this.start,this.end,this.step,this.ua,this.Xb,this.N)};h.Ja=function(){return 0<this.step?this.start+this.step<this.end?new Jj(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Jj(null,this.start+this.step,this.end,this.step,null,null,null):null};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=ae(this)};
h.R=function(a,b){return ue(this,b)};h.Ba=function(){return Xd};h.Na=function(a,b){return we(b,this)};h.Oa=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(ge(c))return B(c);a+=this.step}else return c};h.Ra=function(){return this.start};h.Va=function(){var a=this.Ja(null);return null==a?Xd:a};h.sa=function(){return this};h.yd=function(){this.Kd();return this.ua};h.Ic=function(){this.Kd();return null==this.Xb?Xd:this.Xb};
h.qa=function(a,b){return b===this.meta?this:new Jj(b,this.start,this.end,this.step,this.ua,this.Xb,this.N)};h.za=function(a,b){return ve(b,this)};h.fe=function(){return F(this.Ic(null))};Jj.prototype[Ub]=function(){return Zd(this)};function Kj(a,b,c){return 0<c?b<=a?Xd:$e(a)&&$e(b)&&$e(c)?new Ij(null,a,b,c,null,null,null):new Jj(null,a,b,c,null,null,null):0>c?b>=a?Xd:$e(a)&&$e(b)&&$e(c)?new Ij(null,a,b,c,null,null,null):new Jj(null,a,b,c,null,null,null):b===a?Xd:new Ug(null,-1,a,null,null)}
function Lj(a,b){return new If(null,function(){var c=F(b);return c?ve(I(c),Lj(a,Rg(a,c))):null},null,null)}function Mj(a){return ld($b.C(function(b,c){return Wf(b,c,C.C(b,c,0)+1)},jd(W),a))}
function Nj(a,b){return function(){function c(l,m,n){return new X(null,2,5,Y,[a.C?a.C(l,m,n):a.call(null,l,m,n),b.C?b.C(l,m,n):b.call(null,l,m,n)],null)}function d(l,m){return new X(null,2,5,Y,[a.B?a.B(l,m):a.call(null,l,m),b.B?b.B(l,m):b.call(null,l,m)],null)}function e(l){return new X(null,2,5,Y,[a.j?a.j(l):a.call(null,l),b.j?b.j(l):b.call(null,l)],null)}function f(){return new X(null,2,5,Y,[a.K?a.K():a.call(null),b.K?b.K():b.call(null)],null)}var g=null,k=function(){function l(n,q,r,u){var w=null;
if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new H(x,0,null)}return m.call(this,n,q,r,w)}function m(n,q,r,u){return new X(null,2,5,Y,[fg(a,n,q,r,u),fg(b,n,q,r,u)],null)}l.O=3;l.T=function(n){var q=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=Wd(n);return m(q,r,u,n)};l.F=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,
n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new H(u,0,null)}return k.F(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};g.O=3;g.T=k.T;g.K=f;g.j=e;g.B=d;g.C=c;g.F=k.F;return g}()}function Oj(a){a:for(var b=a;;)if(b=F(b))b=J(b);else break a;return a}
function Pj(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&K.B(a[0],b)?1===a.length?a[0]:Bh(a):null;throw new TypeError("re-matches must match against a string.");}function Qj(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Bh(a);throw new TypeError("re-find must match against a string.");}
var Rj=function Rj(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Bh(d);return ve(f,new If(null,function(){var g=e.length;g=d.index+(1>g?1:g);return g<=b.length?(g=b.substring(g),Rj.B?Rj.B(a,g):Rj.call(null,a,g)):null},null,null))};function Sj(a){if(a instanceof RegExp)return a;var b=Qj(/^\(\?([idmsux]*)\)/,a),c=R(b,0,null);b=R(b,1,null);a=a.substring(null==c?0:c.length);return new RegExp(a,y(b)?b:"")}
function Tj(a,b,c,d,e,f,g){var k=Gb;Gb=null==Gb?null:Gb-1;try{if(null!=Gb&&0>Gb)return ed(a,"#");ed(a,c);if(0===Mb.j(f))F(g)&&ed(a,function(){var u=Uj.j(f);return y(u)?u:"..."}());else{if(F(g)){var l=I(g);b.C?b.C(l,a,f):b.call(null,l,a,f)}for(var m=J(g),n=Mb.j(f)-1;;)if(!m||null!=n&&0===n){F(m)&&0===n&&(ed(a,d),ed(a,function(){var u=Uj.j(f);return y(u)?u:"..."}()));break}else{ed(a,d);var q=I(m);c=a;g=f;b.C?b.C(q,c,g):b.call(null,q,c,g);var r=J(m);c=n-1;m=r;n=c}}return ed(a,e)}finally{Gb=k}}
function Vj(a,b){b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e);ed(a,f);e+=1}else if(b=F(b))c=b,Ue(c)?(b=sd(c),d=td(c),c=b,f=O(b),b=d,d=f):(f=I(c),ed(a,f),b=J(c),c=null,d=0),e=0;else return null}var Wj={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Xj(a){return['"',A.j(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Wj[b]})),'"'].join("")}function Yj(a,b){return(a=Ye(C.B(a,Kb)))?(a=null!=b?b.I&131072||t===b.ge?!0:!1:!1)?null!=Le(b):a:a}
function Zj(a,b,c){if(null==a)return ed(b,"nil");if(Yj(c,a)){ed(b,"^");var d=Le(a);ak.C?ak.C(d,b,c):ak.call(null,d,b,c);ed(b," ")}if(a.pc)return a.zc(b);if(null!=a?a.I&2147483648||t===a.ya||(a.I?0:Qb(fd,a)):Qb(fd,a))return gd(a,b,c);if(!0===a||!1===a)return ed(b,A.j(a));if("number"===typeof a)return ed(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":A.j(a));if(null!=a&&a.constructor===Object)return ed(b,"#js "),d=Pg.B(function(f){return new uh(null!=Pj(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Gf.j(f):f,a[f],null)},Va(a)),bk.Y?bk.Y(d,ak,b,c):bk.call(null,d,ak,b,c);if(Ob(a))return Tj(b,ak,"#js ["," ","]",c,a);if("string"===typeof a)return y(Jb.j(c))?ed(b,Xj(a)):ed(b,a);if("function"===typeof a){var e=a.name;c=y(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Vj(b,Q(["#object[",c,y(!1)?[' "',A.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=A.j(f);;)if(f.length<g)f=["0",f].join("");else return f},Vj(b,Q(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Vj(b,Q(['#"',a.source,'"']));if(bc(a))return Vj(b,Q(["#object[",a.toString(),"]"]));if(y(function(){var f=null==a?null:a.constructor;return null==f?null:f.Rb}()))return Vj(b,Q(["#object[",a.constructor.Rb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==
f?null:f.name}();c=y(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Vj(b,Q(["#object[",c,"]"])):Vj(b,Q(["#object[",c," ",A.j(a),"]"]))}function ak(a,b,c){var d=ck.j(c);return y(d)?(c=S.C(c,dk,Zj),d.C?d.C(a,b,c):d.call(null,a,b,c)):Zj(a,b,c)}
function ek(a){var b=Hb();if(Ne(a))b="";else{var c=A,d=c.j,e=new Bb,f=new Cd(e);ak(I(a),f,b);a=F(J(a));for(var g=null,k=0,l=0;;)if(l<k){var m=g.ka(null,l);ed(f," ");ak(m,f,b);l+=1}else if(a=F(a))g=a,Ue(g)?(a=sd(g),k=td(g),g=a,m=O(a),a=k,k=m):(m=I(g),ed(f," "),ak(m,f,b),a=J(g),g=null,k=0),l=0;else break;b=d.call(c,e)}return b}function fk(a){return a instanceof Sd?Td.B(null,Hf(a)):Gf.B(null,Hf(a))}
function gk(a){if(y(!1)){var b=F(a),c=F(b),d=I(c);J(c);R(d,0,null);R(d,1,null);c=De(a);for(a=null;;){d=a;b=F(b);a=I(b);var e=J(b),f=a;a=R(f,0,null);b=R(f,1,null);if(y(f))if(a instanceof E||a instanceof Sd)if(y(d))if(K.B(d,Ef(a)))c=S.C(c,fk(a),b),a=d,b=e;else return null;else if(d=Ef(a),y(d))c=S.C(c,fk(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Y,[d,c],null)}}else return null}
function hk(a,b,c,d,e){return Tj(d,function(f,g,k){var l=Fc(f);c.C?c.C(l,g,k):c.call(null,l,g,k);ed(g," ");f=Gc(f);return c.C?c.C(f,g,k):c.call(null,f,g,k)},[A.j(a),"{"].join(""),", ","}",e,F(b))}function bk(a,b,c,d){var e=Re(a)?gk(a):null,f=R(e,0,null);e=R(e,1,null);return y(f)?hk(["#:",A.j(f)].join(""),e,b,c,d):hk(null,a,b,c,d)}Ng.prototype.ya=t;Ng.prototype.ea=function(a,b,c){ed(b,"#object[cljs.core.Volatile ");ak(new v(null,1,[ik,this.state],null),b,c);return ed(b,"]")};H.prototype.ya=t;
H.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};If.prototype.ya=t;If.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};uh.prototype.ya=t;uh.prototype.ea=function(a,b,c){return Tj(b,ak,"["," ","]",c,this)};Ti.prototype.ya=t;Ti.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Ji.prototype.ya=t;Ji.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Xi.prototype.ya=t;Xi.prototype.ea=function(a,b,c){return Tj(b,ak,"["," ","]",c,this)};
ei.prototype.ya=t;ei.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};$d.prototype.ya=t;$d.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};tj.prototype.ya=t;tj.prototype.ea=function(a,b,c){return Tj(b,ak,"#{"," ","}",c,this)};Gh.prototype.ya=t;Gh.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Cf.prototype.ya=t;Cf.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};te.prototype.ya=t;
te.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Ij.prototype.ya=t;Ij.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Oi.prototype.ya=t;Oi.prototype.ea=function(a,b,c){return bk(this,ak,b,c)};Li.prototype.ya=t;Li.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Ih.prototype.ya=t;Ih.prototype.ea=function(a,b,c){return Tj(b,ak,"["," ","]",c,this)};fj.prototype.ya=t;fj.prototype.ea=function(a,b,c){return bk(this,ak,b,c)};qj.prototype.ya=t;
qj.prototype.ea=function(a,b,c){return Tj(b,ak,"#{"," ","}",c,this)};Nf.prototype.ya=t;Nf.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Ig.prototype.ya=t;Ig.prototype.ea=function(a,b,c){ed(b,"#object[cljs.core.Atom ");ak(new v(null,1,[ik,this.state],null),b,c);return ed(b,"]")};jj.prototype.ya=t;jj.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Wi.prototype.ya=t;Wi.prototype.ea=function(a,b,c){return Tj(b,ak,"["," ","]",c,this)};Ug.prototype.ya=t;
Ug.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};X.prototype.ya=t;X.prototype.ea=function(a,b,c){return Tj(b,ak,"["," ","]",c,this)};Ph.prototype.ya=t;Ph.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};zf.prototype.ya=t;zf.prototype.ea=function(a,b){return ed(b,"()")};Qh.prototype.ya=t;Qh.prototype.ea=function(a,b,c){return Tj(b,ak,"#queue ["," ","]",c,F(this))};v.prototype.ya=t;v.prototype.ea=function(a,b,c){return bk(this,ak,b,c)};Jj.prototype.ya=t;
Jj.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};yg.prototype.ya=t;yg.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};ij.prototype.ya=t;ij.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Ce.prototype.ya=t;Ce.prototype.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};Sd.prototype.oc=t;Sd.prototype.Qb=function(a,b){if(b instanceof Sd)return Pd(this,b);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};E.prototype.oc=t;
E.prototype.Qb=function(a,b){if(b instanceof E)return Df(this,b);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};Ih.prototype.oc=t;Ih.prototype.Qb=function(a,b){if(Te(b))return ef(this,b);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};X.prototype.oc=t;X.prototype.Qb=function(a,b){if(Te(b))return ef(this,b);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};uh.prototype.oc=t;
uh.prototype.Qb=function(a,b){if(Te(b))return ef(this,b);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};Xi.prototype.oc=t;Xi.prototype.Qb=function(a,b){if(Te(b))return ef(this,b);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};Wi.prototype.oc=t;Wi.prototype.Qb=function(a,b){if(Te(b))return ef(this,b);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};function jk(a,b){hd(a,kk,b)}var lk=null;
function mk(a){this.f=a;this.value=null;this.I=2147516416;this.P=1}mk.prototype.lb=function(){y(this.f)&&(this.value=this.f.K?this.f.K():this.f.call(null),this.f=null);return this.value};mk.prototype.ea=function(a,b,c){ed(b,"#object[cljs.core.Delay ");ak(new v(null,2,[nk,null==this.f?ok:pk,ik,this.value],null),b,c);return ed(b,"]")};function qk(a){return a instanceof mk?B(a):a}function rk(a,b){this.Ae=a;this.le=b;this.I=2173173760;this.P=131072}h=rk.prototype;
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return M(this,b,0);case 2:return M(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return M(this,b,0)};a.B=function(b,c){return M(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return P(this,c,d)};return b}();h.hb=function(){var a=rg(this.le);return zg(this.Ae,a)};h.sa=function(){var a=rg(this.le);a=zg(this.Ae,a);a=xg(a);return F(y(a)?a:Xd)};h.Na=function(a,b){return pf(this.Ae,of(b,nf),this.le)};
h.Oa=function(a,b,c){return qf(this.Ae,of(b,nf),c,this.le)};h.ea=function(a,b,c){return Tj(b,ak,"("," ",")",c,this)};rk.prototype[Ub]=function(){return Zd(this)};function sk(){}function tk(a){if(null!=a&&null!=a.Og)a=a.Og(a);else{var b=tk[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=tk._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}
function uk(a,b){return(null!=a?t===a.Ng||(a.Ye?0:Qb(sk,a)):Qb(sk,a))?tk(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof Sd?b.j?b.j(a):b.call(null,a):ek(Q([a]))}var vk=function vk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new H(c.slice(1),0,null):null;return vk.F(arguments[0],c)};
vk.F=function(a,b){b=hg(b);var c=C.C(b,wk,Hf),d=function g(f){if(null==f)return null;if(null!=f?t===f.Ng||(f.Ye?0:Qb(sk,f)):Qb(sk,f))return tk(f);if(f instanceof E)return c.j?c.j(f):c.call(null,f);if(f instanceof Sd)return A.j(f);if(Re(f)){var k={};f=F(f);for(var l=null,m=0,n=0;;)if(n<m){var q=l.ka(null,n),r=R(q,0,null);q=R(q,1,null);r=uk(r,d);q=g(q);k[r]=q;n+=1}else if(f=F(f))Ue(f)?(m=sd(f),f=td(f),l=m,m=O(m)):(m=I(f),l=R(m,0,null),m=R(m,1,null),l=uk(l,d),m=g(m),k[l]=m,f=J(f),l=null,m=0),n=0;else break;
return k}if(Oe(f)){k=[];f=F(Pg.B(g,f));l=null;for(n=m=0;;)if(n<m)r=l.ka(null,n),k.push(r),n+=1;else if(f=F(f))l=f,Ue(l)?(f=sd(l),n=td(l),l=f,m=O(f),f=n):(f=I(l),k.push(f),f=J(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};vk.O=1;vk.T=function(a){var b=I(a);a=J(a);return this.F(b,a)};function xk(){}
function yk(a,b){if(null!=a&&null!=a.Mg)a=a.Mg(a,b);else{var c=yk[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=yk._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IEncodeClojure.-js-\x3eclj",a);}return a}
function zk(a){var b=Q([Ak,!1]),c=hg(b);c=C.B(c,Ak);var d=y(c)?Gf:A;return function g(f){return(null!=f?t===f.Bh||(f.Ye?0:Qb(xk,f)):Qb(xk,f))?yk(f,cg(hj,b)):Xe(f)?Oj(Pg.B(g,f)):Ch(f)?new uh(g(Fc(f)),g(Gc(f)),null):Oe(f)?Zg.C(De(f),Pg.j(g),f):Ob(f)?ld($b.C(function(k,l){return Vf.B(k,g(l))},jd(Be),f)):Sb(f)===Object?ld($b.C(function(k,l){return Wf(k,d.j?d.j(l):d.call(null,l),g(Wa(f,l)))},jd(W),Va(f))):f}(a)}var Bk=null;
function Ck(){null==Bk&&(Bk=Jg(new v(null,3,[Dk,W,Ek,W,Fk,W],null)));return Bk}function Gk(a,b,c){var d=K.B(b,c);if(d)return d;d=Fk.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=af(d,c))&&(d=Te(c)))if(d=Te(b))if(d=O(c)===O(b)){d=!0;for(var e=0;;)if(d&&e!==O(c))d=Gk(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Hk(a){var b=B(Ck());return kg(C.B(Dk.j(b),a))}
function Ik(a,b,c,d){Lg.B(a,function(){return B(b)});Lg.B(c,function(){return B(d)})}
var Jk=function Jk(a,b,c){var e=function(){var f=B(c);return f.j?f.j(a):f.call(null,a)}();e=y(y(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(y(e))return e;e=function(){for(var f=Hk(b);;)if(0<O(f)){var g=I(f);Jk.C?Jk.C(a,g,c):Jk.call(null,a,g,c);f=Wd(f)}else return null}();if(y(e))return e;e=function(){for(var f=Hk(a);;)if(0<O(f)){var g=I(f);Jk.C?Jk.C(g,b,c):Jk.call(null,g,b,c);f=Wd(f)}else return null}();return y(e)?e:!1};function Kk(a,b,c,d){c=Jk(a,b,c);return y(c)?c:Gk(d,a,b)}
var Lk=function Lk(a,b,c,d,e,f,g,k){var m=$b.C(function(q,r){var u=R(r,0,null);R(r,1,null);if(Gk(B(c),b,u)){q=null==q||Kk(u,I(q),e,B(c))?r:q;if(!Kk(I(q),u,e,B(c)))throw Error(["Multiple methods in multimethod '",A.j(a),"' match dispatch value: ",A.j(b)," -\x3e ",A.j(u)," and ",A.j(I(q)),", and neither is preferred"].join(""));return q}return q},null,B(d)),n=function(){var q;if(q=null==m)q=B(d),q=q.j?q.j(k):q.call(null,k);return y(q)?new X(null,2,5,Y,[k,q],null):m}();if(y(n)){if(K.B(B(g),B(c)))return Lg.Y(f,
S,b,I(J(n))),I(J(n));Ik(f,d,g,c);return Lk.tb?Lk.tb(a,b,c,d,e,f,g,k):Lk.call(null,a,b,c,d,e,f,g,k)}return null};function Mk(a,b){throw Error(["No method in multimethod '",A.j(a),"' for dispatch value: ",A.j(b)].join(""));}function Nk(a,b,c,d,e,f,g){var k=Ok;this.name=a;this.ca=b;this.ah=k;this.hierarchy=c;this.te=d;this.rh=e;this.se=f;this.de=g;this.I=4194305;this.P=4352}h=Nk.prototype;
h.call=function(a){switch(arguments.length-1){case 0:return this.K();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.Y(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.mb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Je(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Yb(b)))};h.K=function(){var a=this.ca.K?this.ca.K():this.ca.call(null),b=Pk(this,a);y(b)||Mk(this.name,a);return b.K?b.K():b.call(null)};h.j=function(a){var b=this.ca.j?this.ca.j(a):this.ca.call(null,a),c=Pk(this,b);y(c)||Mk(this.name,b);return c.j?c.j(a):c.call(null,a)};
h.B=function(a,b){var c=this.ca.B?this.ca.B(a,b):this.ca.call(null,a,b),d=Pk(this,c);y(d)||Mk(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};h.C=function(a,b,c){var d=this.ca.C?this.ca.C(a,b,c):this.ca.call(null,a,b,c),e=Pk(this,d);y(e)||Mk(this.name,d);return e.C?e.C(a,b,c):e.call(null,a,b,c)};h.Y=function(a,b,c,d){var e=this.ca.Y?this.ca.Y(a,b,c,d):this.ca.call(null,a,b,c,d),f=Pk(this,e);y(f)||Mk(this.name,e);return f.Y?f.Y(a,b,c,d):f.call(null,a,b,c,d)};
h.wa=function(a,b,c,d,e){var f=this.ca.wa?this.ca.wa(a,b,c,d,e):this.ca.call(null,a,b,c,d,e),g=Pk(this,f);y(g)||Mk(this.name,f);return g.wa?g.wa(a,b,c,d,e):g.call(null,a,b,c,d,e)};h.mb=function(a,b,c,d,e,f){var g=this.ca.mb?this.ca.mb(a,b,c,d,e,f):this.ca.call(null,a,b,c,d,e,f),k=Pk(this,g);y(k)||Mk(this.name,g);return k.mb?k.mb(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
h.Kb=function(a,b,c,d,e,f,g){var k=this.ca.Kb?this.ca.Kb(a,b,c,d,e,f,g):this.ca.call(null,a,b,c,d,e,f,g),l=Pk(this,k);y(l)||Mk(this.name,k);return l.Kb?l.Kb(a,b,c,d,e,f,g):l.call(null,a,b,c,d,e,f,g)};h.tb=function(a,b,c,d,e,f,g,k){var l=this.ca.tb?this.ca.tb(a,b,c,d,e,f,g,k):this.ca.call(null,a,b,c,d,e,f,g,k),m=Pk(this,l);y(m)||Mk(this.name,l);return m.tb?m.tb(a,b,c,d,e,f,g,k):m.call(null,a,b,c,d,e,f,g,k)};
h.Lb=function(a,b,c,d,e,f,g,k,l){var m=this.ca.Lb?this.ca.Lb(a,b,c,d,e,f,g,k,l):this.ca.call(null,a,b,c,d,e,f,g,k,l),n=Pk(this,m);y(n)||Mk(this.name,m);return n.Lb?n.Lb(a,b,c,d,e,f,g,k,l):n.call(null,a,b,c,d,e,f,g,k,l)};h.zb=function(a,b,c,d,e,f,g,k,l,m){var n=this.ca.zb?this.ca.zb(a,b,c,d,e,f,g,k,l,m):this.ca.call(null,a,b,c,d,e,f,g,k,l,m),q=Pk(this,n);y(q)||Mk(this.name,n);return q.zb?q.zb(a,b,c,d,e,f,g,k,l,m):q.call(null,a,b,c,d,e,f,g,k,l,m)};
h.Ab=function(a,b,c,d,e,f,g,k,l,m,n){var q=this.ca.Ab?this.ca.Ab(a,b,c,d,e,f,g,k,l,m,n):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n),r=Pk(this,q);y(r)||Mk(this.name,q);return r.Ab?r.Ab(a,b,c,d,e,f,g,k,l,m,n):r.call(null,a,b,c,d,e,f,g,k,l,m,n)};h.Bb=function(a,b,c,d,e,f,g,k,l,m,n,q){var r=this.ca.Bb?this.ca.Bb(a,b,c,d,e,f,g,k,l,m,n,q):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q),u=Pk(this,r);y(u)||Mk(this.name,r);return u.Bb?u.Bb(a,b,c,d,e,f,g,k,l,m,n,q):u.call(null,a,b,c,d,e,f,g,k,l,m,n,q)};
h.Cb=function(a,b,c,d,e,f,g,k,l,m,n,q,r){var u=this.ca.Cb?this.ca.Cb(a,b,c,d,e,f,g,k,l,m,n,q,r):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r),w=Pk(this,u);y(w)||Mk(this.name,u);return w.Cb?w.Cb(a,b,c,d,e,f,g,k,l,m,n,q,r):w.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r)};
h.Db=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u){var w=this.ca.Db?this.ca.Db(a,b,c,d,e,f,g,k,l,m,n,q,r,u):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u),x=Pk(this,w);y(x)||Mk(this.name,w);return x.Db?x.Db(a,b,c,d,e,f,g,k,l,m,n,q,r,u):x.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u)};
h.Eb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w){var x=this.ca.Eb?this.ca.Eb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w),D=Pk(this,x);y(D)||Mk(this.name,x);return D.Eb?D.Eb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w):D.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w)};
h.Fb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x){var D=this.ca.Fb?this.ca.Fb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x),G=Pk(this,D);y(G)||Mk(this.name,D);return G.Fb?G.Fb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x):G.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x)};
h.Gb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D){var G=this.ca.Gb?this.ca.Gb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D),N=Pk(this,G);y(N)||Mk(this.name,G);return N.Gb?N.Gb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D):N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D)};
h.Hb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G){var N=this.ca.Hb?this.ca.Hb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G),T=Pk(this,N);y(T)||Mk(this.name,N);return T.Hb?T.Hb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G):T.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G)};
h.Ib=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N){var T=this.ca.Ib?this.ca.Ib(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N),V=Pk(this,T);y(V)||Mk(this.name,T);return V.Ib?V.Ib(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N):V.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N)};
h.Jb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T){var V=this.ca.Jb?this.ca.Jb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T):this.ca.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T),oa=Pk(this,V);y(oa)||Mk(this.name,V);return oa.Jb?oa.Jb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T):oa.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T)};
h.Je=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V){var oa=gg(this.ca,a,b,c,d,Q([e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V])),Z=Pk(this,oa);y(Z)||Mk(this.name,oa);return gg(Z,a,b,c,d,Q([e,f,g,k,l,m,n,q,r,u,w,x,D,G,N,T,V]))};function Qk(a,b,c){Lg.Y(a.te,S,b,c);Ik(a.se,a.te,a.de,a.hierarchy)}function Pk(a,b){K.B(B(a.de),B(a.hierarchy))||Ik(a.se,a.te,a.de,a.hierarchy);var c=B(a.se);c=c.j?c.j(b):c.call(null,b);return y(c)?c:Lk(a.name,b,a.hierarchy,a.te,a.rh,a.se,a.de,a.ah)}h.zd=function(){return ud(this.name)};
h.Ad=function(){return vd(this.name)};h.pa=function(){return ha(this)};function Rk(a,b){this.jc=a;this.N=b;this.I=2153775104;this.P=2048}h=Rk.prototype;h.toString=function(){return this.jc};h.equiv=function(a){return this.R(null,a)};h.R=function(a,b){return b instanceof Rk&&this.jc===b.jc};h.ea=function(a,b){return ed(b,['#uuid "',A.j(this.jc),'"'].join(""))};h.pa=function(){null==this.N&&(this.N=Md(this.jc));return this.N};
h.Qb=function(a,b){if(b instanceof Rk)return Ra(this.jc,b.jc);throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};function Sk(a,b,c){var d=Error(a);this.message=a;this.data=b;this.Of=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}Sk.prototype.__proto__=Error.prototype;Sk.prototype.ya=t;
Sk.prototype.ea=function(a,b,c){ed(b,"#error {:message ");ak(this.message,b,c);y(this.data)&&(ed(b,", :data "),ak(this.data,b,c));y(this.Of)&&(ed(b,", :cause "),ak(this.Of,b,c));return ed(b,"}")};Sk.prototype.toString=function(){return Dd(this)};function Tk(a,b){return new Sk(a,b,null)}
function Uk(){y(Wb)||(Wb=function(){for(var a=gf(function(e,f){return f.length-e.length},Va(Vb)),b="";;)if(F(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),A.j(I(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Wb}
function Vk(a){var b=A.j(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(Uk(),"g");b=y(ab(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(y(f))f=R(f,0,null),d=[d,A.j(b.substring(e,c.lastIndex-f.length)),A.j("$"===f?"/":Wa(Vb,f))].join(""),e=c.lastIndex;else{c=[d,A.j(b.substring(e,b.length))].join("");break a}}}a=a instanceof Sd?Td:A;return a.j?a.j(c):a.call(null,c)};var Wk=new E(null,"expected","expected",1583670997),Xk=new E(null,"data-error","data-error",-1058016301),Yk=new E(null,"apparent-success","apparent-success",242592222),Zk=new E("chsk","error","chsk/error",-984175439),$k=new E(null,"table","table",-564943036),al=new E(null,"level","level",1290497552),bl=new E(null,"?err_","?err_",789480858),cl=new E(null,"ms","ms",-1152709733),dl=new E(null,"middleware-fn","middleware-fn",-61585752),el=new E(null,"readers","readers",-2118263030),fl=new E(null,"line",
"line",212345235),gl=new Sd(null,"p1__18876#","p1__18876#",780246883,null),hl=new E(null,"lp-timeout","lp-timeout",1149461302),il=new E(null,"on-dispose","on-dispose",2105306360),jl=new E(null,"descending","descending",-24766135),kl=new E(null,"form-str","form-str",871608859),ll=new E(null,"headers","headers",-835030129),ml=new E(null,"string","string",-1989541586),nl=new E(null,"factor","factor",-2103172748),ol=new Sd(null,"fn*","fn*",-752876845,null),pl=new E(null,"abort","abort",521193198),ql=
new E(null,"log-level","log-level",862121670),rl=new E(null,"handlers","handlers",79528781),sl=new E(null,"?status","?status",938730360),tl=new Sd("cljs.core","fn","cljs.core/fn",-1065745098,null),nk=new E(null,"status","status",-1997798413),ul=new E(null,"version","version",425292698),Ek=new E(null,"descendants","descendants",1824886031),vl=new E(null,"report","report",1394055010),wl=new E(null,"days","days",-1394072564),xl=new E(null,"ns-whitelist","ns-whitelist",-1717299774),yl=new E(null,"on-click",
"on-click",1632826543),zl=new E(null,"vega-lite","vega-lite",-650304770),Al=new E(null,"recur","recur",-437573268),Bl=new E(null,"port","port",1534937262),Cl=new E("chsk","timeout","chsk/timeout",-319776489),Dl=new E(null,"*?data*","*?data*",1047537922),El=new E(null,"http","http",382524695),Fl=new E(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Gl=new E(null,"udt","udt",2011712751),Hl=new E(null,"appender-id","appender-id",-1917983538),Il=new E(null,"timeout-ms","timeout-ms",754221406),Jl=new E(null,
"getInitialState","getInitialState",1541760916),kk=new E("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),Kl=new E(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),Ll=new E(null,"blacklist","blacklist",1248093170),Ml=new E(null,"state","state",-1988618099),oj=new E("cljs.core","not-found","cljs.core/not-found",-1572889185),Nl=new E(null,"no-cache","no-cache",1588056370),Ol=new E(null,"vargs_","vargs_",552132148),Pl=new E(null,"server","server",1499190120),Ql=new E(null,
"\x3c\x3e","\x3c\x3e",1280186386),Rl=new E(null,"safari","safari",497115653),Sl=new E(null,"raw-console?","raw-console?",-2061489061),Tl=new E(null,"exception","exception",-335277064),Ul=new Sd(null,"/","/",-1371932971,null),Vl=new E("ajax","bad-response-type","ajax/bad-response-type",789441015),Wl=new E(null,"clean?","clean?",-1675631009),Xl=new E(null,"illegal-argument","illegal-argument",-1845493170),Yl=new E(null,"data-table","data-table",-149582774),Zl=new E("mem","all","mem/all",892075139),
$l=new E(null,"first-open?","first-open?",396686530),am=new E("chsk","ws-ping","chsk/ws-ping",191675304),bm=new E("debug","timeout","debug/timeout",309499949),cm=new E(null,"wrong-id-type","wrong-id-type",-1213601689),dm=new E("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),em=new E(null,"uid","uid",-1447769400),fm=new E(null,"th","th",-545608566),gm=new E(null,"tr","tr",-1424774646),hm=new E(null,"qname","qname",-1983612179),im=new E("oz.app","chsk-connected?","oz.app/chsk-connected?",
-747783275),jm=new E(null,"set","set",304602554),km=new E(null,"flush?","flush?",-108887231),lm=new E(null,"handshake?","handshake?",-423743093),mm=new E("cljs.spec.alpha","name","cljs.spec.alpha/name",205233570),nm=new E(null,"td","td",1479933353),om=new E(null,"handshake","handshake",68079331),pm=new E(null,"error","error",-978969032),qm=new E(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Am=new E(null,"actual","actual",107306363),Bm=new E(null,"event","event",301435442),Cm=new E(null,
"noop","noop",-673731258),Dm=new E(null,"div","div",1057191632),Em=new E(null,"handshake-data","handshake-data",-278378864),Fm=new E(null,"function","function",-2127255473),Gm=new E(null,"canvas","canvas",-1798817489),Hm=new E(null,"margin-bottom","margin-bottom",388334941),Im=new E(null,"catch-exception","catch-exception",-1997306795),wk=new E(null,"keyword-fn","keyword-fn",-64566675),Jm=new E(null,"per-page","per-page",-54905429),Km=new E(null,"pathname","pathname",-1420497528),Lm=new E(null,"asset-path",
"asset-path",1500889617),Mm=new E(null,"component-will-unmount","component-will-unmount",-2058314698),Nm=new E(null,"ns-blacklist","ns-blacklist",1957763142),Om=new E(null,"?err","?err",549653299),Pm=new E(null,"?error","?error",1070752222),Qm=new E(null,"finally-block","finally-block",832982472),Rm=new E(null,"href","href",-793805698),Sm=new E(null,"type","type",1174270348),Tm=new E(null,"style","style",-496642736),Um=new E(null,"impl_","impl_",1218818179),Vm=new E(null,"reader-error","reader-error",
1610253121),Wm=new Sd(null,"v","v",1661996586,null),Xm=new E("cljs.spec.alpha","op","cljs.spec.alpha/op",-1269055252),Ym=new E(null,"ws","ws",86841443),Zm=new Sd(null,"k","k",-505765866,null),$m=new E(null,"span","span",1394872991),an=new E(null,"async?","async?",1523057758),bn=new E(null,"component-will-update","component-will-update",335247566),cn=new E(null,"no-stacktrace?","no-stacktrace?",1701072694),dn=new E(null,"code","code",1586293142),Kb=new E(null,"meta","meta",1499536964),en=new E(null,
"search","search",1564939822),fn=new E(null,"host","host",-1558485167),gn=new E(null,"err","err",-2089457205),hn=new E(null,"\x3cserver","\x3cserver",-2135373537),jn=new E(null,"auto","auto",-566279492),kn=new E(null,"fatal","fatal",1874419888),ln=new E(null,"rate-limit","rate-limit",1748082022),mn=new E(null,"namespaced-keyword","namespaced-keyword",131372895),nn=new E(null,"logLevel","logLevel",1131406165),on=new E(null,"your-version","your-version",-351781765),pn=new E(null,"col","col",-1959363084),
qn=new E(null,"?ns-str","?ns-str",2012733966),rn=new E(null,"ch-recv","ch-recv",-990916861),sn=new E(null,"instance-handle_","instance-handle_",-1923384457),tn=new E(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),un=new E(null,"instant","instant",655498374),vn=new E(null,"reagentRender","reagentRender",-358306383),wn=new E(null,"ex-kind","ex-kind",1581199296),xn=new E(null,"internal","internal",-854870097),yn=new E(null,"last-ws-error","last-ws-error",-820288502),zn=new E(null,"req-id","req-id",
-471642231),An=new E(null,"csrf-token","csrf-token",-1872302856),Bn=new E("chsk","state","chsk/state",-1991397620),Cn=new Sd(null,"-Inf","-Inf",-2123243689,null),Dn=new E(null,"client-uuid","client-uuid",-1717531965),Ok=new E(null,"default","default",-1987822328),En=new E(null,"secs","secs",1532330091),Fn=new E(null,"firefox","firefox",1283768880),Gn=new E(null,"unexpected","unexpected",-1137752424),Hn=new E(null,"elidable?","elidable?",248362249),Mb=new E(null,"print-length","print-length",1931866356),
In=new E(null,"nil","nil",99600501),Jn=new E(null,"json","json",1279968570),Kn=new E(null,"reader-exception","reader-exception",-1938323098),Ak=new E(null,"keywordize-keys","keywordize-keys",1310784252),Ln=new E("cljs.spec.alpha","v","cljs.spec.alpha/v",552625740),Mn=new E(null,"on-write","on-write",31519475),Nn=new E("cljs.spec.alpha","k","cljs.spec.alpha/k",-1602615178),On=new E(null,"info","info",-317069002),Pn=new E(null,"output-fn","output-fn",1600951539),Qn=new E("mem","del","mem/del",574870667),
Rn=new E(null,"total","total",1916810418),Sn=new Sd(null,"p1__18877#","p1__18877#",528170108,null),Tn=new E(null,"continue-block","continue-block",-1852047850),Un=new E(null,"?content","?content",1697782054),Vn=new Sd(null,"%","%",-950237169,null),Wn=new E(null,"length-computable?","length-computable?",1915473276),Xn=new E(null,"validator","validator",-1966190681),Yn=new E(null,"unnamespaced-id","unnamespaced-id",1976189772),Zn=new E("rl","all","rl/all",892118056),$n=new E(null,"ever-opened?","ever-opened?",
1128459732),pk=new E(null,"pending","pending",-220036727),Jb=new E(null,"readably","readably",1129599760),ao=new E(null,"contextTypes","contextTypes",-2023853910),bo=new E(null,"chsk","chsk",-863703081),co=new E(null,"file","file",-1269645878),eo=new E(null,"error-handler","error-handler",-484945776),fo=new E(null,"progress-fn","progress-fn",-1146547855),go=new E(null,"client-id","client-id",-464622140),ho=new E(null,"months","months",-45571637),io=new E(null,"send-fn","send-fn",351002041),jo=new E(null,
"text","text",-1790561697),ko=new E(null,"ns-str","ns-str",-2062616499),lo=new Sd(null,"uuid","uuid",-504564192,null),mo=new E(null,"udt-last-comms_","udt-last-comms_",-145799639),no=new Sd(null,"queue","queue",-1198599890,null),oo=new E(null,"relativize-url","relativize-url",621482324),po=new E(null,"params","params",710516235),Fk=new E(null,"ancestors","ancestors",-776045424),qo=new E(null,"retry-count_","retry-count_",20238093),ro=new E(null,"hostname","hostname",2105669933),so=new E(null,"asset-root",
"asset-root",1771735072),to=new E(null,"?data","?data",-9471433),uo=new E(null,"error-level?","error-level?",778415885),vo=new E(null,"ring-req","ring-req",-747861961),wo=new E(null,"loaded","loaded",-1246482293),xo=new E(null,"view-spec","view-spec",-1642989449),ik=new E(null,"val","val",128701612),yo=new Sd("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null),zo=new E(null,"render","render",-1408033454),Ao=new E(null,"timeout","timeout",-318625318),Bo=new E(null,"auto-run","auto-run",1958400437),
Co=new E(null,"min-version","min-version",-1697197126),Do=new E(null,"hours","hours",58380855),Eo=new E(null,"renderer","renderer",336841071),Fo=new E(null,"trace-evs?","trace-evs?",1502453512),Go=new E(null,"get","get",1683182755),Ho=new E("cljs.spec.alpha","kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Io=new E(null,"component-did-catch","component-did-catch",652725810),Jo=new E(null,"method","method",55703592),Ko=new E(null,"val-type","val-type",-279850094),Lo=new E(null,"years","years",
-1298579689),Mo=new E(null,"namespaced-map","namespaced-map",1235665380),No=new E(null,"constructor","constructor",-1953928811),Oo=new E(null,"childContextTypes","childContextTypes",578717991),Po=new E(null,"vega","vega",-1657843081),Qo=new E(null,"xhr","xhr",-177710851),Ro=new E(null,"mins","mins",467369676),So=new E(null,"tag","tag",-1290361223),To=new E(null,"hostname_","hostname_",-2091647379),Uo=new E(null,"?msg-fmt","?msg-fmt",-852453891),Vo=new E(null,"th-style","th-style",-1504296072),Wo=
new E(null,"edn","edn",1317840885),Xo=new E(null,"?line","?line",-631853385),ck=new E(null,"alt-impl","alt-impl",670969595),Yo=new E(null,"given","given",716253602),Zo=new E(null,"div.viz","div.viz",1155063891),$o=new E(null,"sort-order","sort-order",1853277479),ap=new E(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),bp=new E("oz.app","connection-established","oz.app/connection-established",-520291143),cp=new E(null,"location","location",1815599388),dp=new E(null,"xml","xml",-1170142052),
ep=new E(null,"?reply-fn","?reply-fn",-1479510592),Ib=new E(null,"flush-on-newline","flush-on-newline",-151457939),fp=new E(null,"wrong-length","wrong-length",1367572281),gp=new E(null,"character","character",380652989),hp=new E(null,"reagent-render","reagent-render",-985383853),ip=new E(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),jp=new E(null,"hierarchy","hierarchy",-1053470341),kp=new E(null,"f","f",-1597136552),lp=new E(null,"trace","trace",-1082747415),mp=new E(null,"ua-product","ua-product",
938384227),np=new E(null,"a","a",-2123407586),op=new E("rl","reset","rl/reset",-800926172),pp=new E(null,"ajax-cb","ajax-cb",-807060321),qp=new E(null,"last-close","last-close",-2054255782),rp=new E(null,"strable","strable",1877668047),sp=new E(null,"componentWillUnmount","componentWillUnmount",1573788814),tp=new E(null,"p","p",151049309),up=new E(null,"nodejs","nodejs",321212524),vp=new E(null,"contextType","contextType",1033066077),wp=new E(null,"symbol","symbol",-1038572696),xp=new E(null,"middleware",
"middleware",1462115504),yp=new E(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),zp=new E(null,"value","value",305978217),Ap=new E(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),dk=new E(null,"fallback-impl","fallback-impl",-1501286995),Bp=new E(null,"display-name","display-name",694513143),Cp=new E(null,"enabled?","enabled?",-1376075057),Dp=new E(null,"chs","chs",376886120),Ep=new E(null,"debug","debug",-1608172596),Fp=new E(null,"vector","vector",1902966158),Gp=new E(null,
"wrong-type","wrong-type",929556915),Hp=new E(null,"connected-uids","connected-uids",1454332231),Ip=new E(null,"appenders","appenders",1245583998),Jp=new E("rl","peek","rl/peek",-291391771),Kp=new E(null,"eof","eof",-489063237),Lp=new E(null,"ws-kalive-ms","ws-kalive-ms",1442179968),Mp=new Sd(null,"js","js",-886355190,null),Np=new Sd("cljs.spec.alpha","conformer","cljs.spec.alpha/conformer",2140085535,null),Op=new Sd("oz","start-server!","oz/start-server!",203433743,null),Pp=new E(null,"unknown",
"unknown",-935977881),Uj=new E(null,"more-marker","more-marker",-14717935),Qp=new E(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Rp=new E(null,"qualifier","qualifier",125841738),Sp=new E(null,"td-style","td-style",1948769874),Tp=new E("chsk","bad-package","chsk/bad-package",501893679),Up=new E(null,"cbs-waiting_","cbs-waiting_",-1519029061),ok=new E(null,"ready","ready",1086465795),Vp=new E(null,"hash_","hash_",-827203612),Wp=new E(null,"http-error","http-error",-1040049553),Xp=new E(null,"displayName",
"displayName",-809144601),Yp=new E(null,"?file","?file",1533429675),Zp=new E("cljs.spec.alpha","gfn","cljs.spec.alpha/gfn",-593120375),$p=new E(null,"map","map",1371690461),aq=new E(null,"open?","open?",1238443125),bq=new E(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),cq=new E(null,"mode","mode",654403691),dq=new E(null,"sort-key","sort-key",1285844623),eq=new E(null,"max","max",61366548),fq=new E(null,"host-port","host-port",1956551772),gq=new E(null,"last-ws-close","last-ws-close",
-798104932),hq=new E(null,"url","url",276297046),iq=new E(null,"ever-opened?_","ever-opened?_",1641338913),jq=new E(null,"state_","state_",957667102),kq=new E(null,"class","class",-2030961996),lq=new E(null,"packer","packer",66077544),mq=new E(null,"success?","success?",-122854052),nq=new E(null,"catch-block","catch-block",1175212748),oq=new Sd(null,"inst","inst",-2008473268,null),pq=new E(null,"tr-style","tr-style",1853585605),qq=new E(null,"?meta","?meta",-793560773),rq=new E(null,"cursor","cursor",
1011937484),sq=new E(null,"name","name",1843675177),tq=new E(null,"vargs","vargs",-966597273),uq=new E("chsk","bad-event","chsk/bad-event",-565206930),vq=new E(null,"page","page",849072397),wq=new E(null,"stacktrace-fonts","stacktrace-fonts",830799382),zq=new E(null,"warn","warn",-436710552),Aq=new E(null,"appender","appender",1267426510),Bq=new E("mem","fresh","mem/fresh",-1179989133),Cq=new E(null,"ajax","ajax",814345549),Dq=new E(null,"on-set","on-set",-140953470),Eq=new E(null,"parse-stacktrace",
"parse-stacktrace",-38208461),Fq=new E(null,"pointer","pointer",85071187),Gq=new E(null,"chrome","chrome",1718738387),Hq=new E(null,"ascending","ascending",-988350486),Iq=new E(null,"backoff-ms-fn","backoff-ms-fn",772895955),Jq=new E(null,"context","context",-830191113),Kq=new E(null,"chsk-url-fn","chsk-url-fn",1968894294),Lq=new E(null,"raw-resp","raw-resp",-1924342506),Mq=new E(null,"prev","prev",-1597069226),Nq=new Sd(null,"Inf","Inf",647172781,null),Oq=new Sd("cljs.core","map","cljs.core/map",
-338988913,null),Lb=new E(null,"dup","dup",556298533),Pq=new E(null,"timestamp_","timestamp_",-954533417),Qq=new E("ajax","resp-as-text","ajax/resp-as-text",141416819),Rq=new E(null,"socket_","socket_",-361048908),Sq=new E(null,"h2","h2",-372662728),Tq=new E(null,"h1","h1",-1896887462),Uq=new E(null,"fn","fn",-1175266204),Vq=new E(null,"args","args",1315556576),Wq=new E(null,"h3","h3",2067611163),Xq=new E(null,"output-dir","output-dir",-290956991),Yq=new E(null,"priority","priority",1431093715),Zq=
new E(null,"inherit","inherit",-1840815422),$q=new E(null,"component-did-update","component-did-update",-1468549173),ar=new E(null,"msg_","msg_",-1925147E3),br=new E(null,"ev","ev",-406827324),cr=new E(null,"component-did-mount","component-did-mount",-1126910518),dr=new E(null,"console","console",1228072057),er=new E(null,"hash","hash",-13781596),fr=new E(null,"?content-type","?content-type",-2129759049),gr=new E(null,"post","post",269697687),hr=new E(null,"simple-auto-threading?","simple-auto-threading?",
1950754184),ir=new E(null,"min-level","min-level",1634684919),jr=new E(null,"list","list",765357683),kr=new E(null,"dt","dt",-368444759),lr=new E(null,"min","min",444991522),mr=new E(null,"stub","stub",1339145807),nr=new E(null,"column","column",2078222095),or=new E(null,"key","key",-1516042587),pr=new E("chsk","recv","chsk/recv",561097091),qr=new E(null,"?ratio","?ratio",-1275760831),rr=new E(null,"resp-type","resp-type",1050675962),sr=new E(null,"weeks","weeks",1844596125),tr=new E(null,"cb","cb",
589947841),ur=new E("swap","dissoc","swap/dissoc",-605373782),vr=new E(null,"ppstr","ppstr",1557495252),Dk=new E(null,"parents","parents",-2027538891),wr=new E("chsk","handshake","chsk/handshake",64910686),xr=new E(null,"with-credentials?","with-credentials?",-1773202222),yr=new E(null,"protocol","protocol",652470118),zr=new E(null,"curr-xhr_","curr-xhr_",-1318773696),Ar=new E(null,"*assert*","*assert*",-160895053),Br=new E("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),Cr=new E(null,"padding-right",
"padding-right",-1250249681),Dr=new E("cljs.spec.alpha","unknown","cljs.spec.alpha/unknown",651034818),Er=new E(null,"output_","output_",-36797880),Fr=new E(null,"reason","reason",-2070751759),Gr=new E(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),Hr=new E(null,"config","config",994861415),Ir=new E(null,"id","id",-1388402092),Jr=new E(null,"ajax-opts","ajax-opts",-518239109),Kr=new Sd(null,"NaN","NaN",666918153,null),Lr=new E("chsk","closed","chsk/closed",-922855264),Mr=new E(null,
"msecs","msecs",1711980553),Nr=new E(null,"recv-buf-or-n","recv-buf-or-n",1363950355),Or=new E(null,"keyword","keyword",811389747),Pr=new E(null,"whitelist","whitelist",-979294437),Qr=new E(null,"errors","errors",-908790718);var Rr={},Sr={},Tr=[];function Ur(a,b){var c=Sr[a];if(void 0!==c)return c;try{Tr.push(a);var d=Rr[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};Rr[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ba,Ur,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Tr.pop()}return d.exports}Ur.cache={};Ur.resolve=function(a){return a};var Vr=Ur(5,{});function Wr(a,b,c){var d=RegExp,e=b.source,f=y(b.ignoreCase)?"gi":"g";f=y(b.multiline)?[f,"m"].join(""):f;b=y(b.Ph)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function Xr(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new H(f,0,null)}return c.call(this,e)}function c(d){d=Sg(d);if(K.B(O(d),1))return d=I(d),a.j?a.j(d):a.call(null,d);d=Bh(d);return a.j?a.j(d):a.call(null,d)}b.O=0;b.T=function(d){d=F(d);return c(d)};b.F=c;return b}()}
function Yr(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?Wr(a,b,c):Wr(a,b,Xr(c));throw["Invalid match arg: ",A.j(b)].join("");}function Zr(a,b){var c=new Bb;for(b=F(b);;)if(null!=b)c.append(A.j(I(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function $r(a,b){if(0>=b||b>=2+O(a))return Ae.B(Bh(ve("",Pg.B(A,F(a)))),"");if(y(xf?Wc(1,b):wf.call(null,1,b)))return new X(null,1,5,Y,[a],null);if(y(xf?Wc(2,b):wf.call(null,2,b)))return new X(null,2,5,Y,["",a],null);b-=2;return Ae.B(Bh(ve("",Kh(Bh(Pg.B(A,F(a))),0,b))),a.substring(b))}function as(a,b){return bs(a,b,0)}
function bs(a,b,c){if("/(?:)/"===A.j(b))b=$r(a,c);else if(1>c)b=Bh(A.j(a).split(b));else a:for(var d=c,e=Be;;){if(1===d){b=Ae.B(e,a);break a}var f=Qj(b,a);if(null!=f){var g=a.indexOf(f);f=a.substring(g+O(f));--d;e=Ae.B(e,a.substring(0,g));a=f}else{b=Ae.B(e,a);break a}}if(0===c&&1<O(b))a:for(c=b;;)if(""===(null==c?null:Jc(c)))c=null==c?null:Kc(c);else break a;else c=b;return c}function cs(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))};function ds(a,b,c){if(yf(c)){var d=cg(Bf,Pg.B(a,c));return b.j?b.j(d):b.call(null,d)}return Ch(c)?(d=new uh(function(){var e=Fc(c);return a.j?a.j(e):a.call(null,e)}(),function(){var e=Gc(c);return a.j?a.j(e):a.call(null,e)}(),null),b.j?b.j(d):b.call(null,d)):Xe(c)?(d=Oj(Pg.B(a,c)),b.j?b.j(d):b.call(null,d)):Se(c)?(d=$b.C(function(e,f){return Ae.B(e,a.j?a.j(f):a.call(null,f))},c,c),b.j?b.j(d):b.call(null,d)):Oe(c)?(d=Zg.B(De(c),Pg.B(a,c)),b.j?b.j(d):b.call(null,d)):b.j?b.j(c):b.call(null,c)}
var es=function es(a,b){return ds(Gg.B(es,a),nf,a.j?a.j(b):a.call(null,b))};var fs="undefined"!==typeof window&&null!=window.document,gs=new qj(null,new v(null,2,["aria",null,"data",null],null),null);function hs(a){return 2>O(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function is(a){if("string"===typeof a)return a;a=Hf(a);var b=as(a,/-/),c=F(b);b=I(c);c=J(c);return y(gs.j?gs.j(b):gs.call(null,b))?a:dg(A,b,Pg.B(hs,c))}
function js(a){var b=function(){var c=function(){var d=He(a);if(d){d=a.displayName;if(y(d))return d;d=a.name;return"string"===typeof d&&F(d)?d:null}return d}();if(y(c))return c;c=function(){var d=null!=a?a.P&4096||t===a.Ne?!0:!1:!1;return d?Hf(a):d}();if(y(c))return c;c=Le(a);return Re(c)?sq.j(c):null}();return y(b)?Yr(A.j(b),"$","."):null}function ks(a){return a instanceof E||a instanceof Sd}
var ls=function ls(a){switch(arguments.length){case 0:return ls.K();case 1:return ls.j(arguments[0]);case 2:return ls.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return ls.F(arguments[0],arguments[1],c)}};ls.K=function(){return null};ls.j=function(a){return Oe(a)?(a=Hg(function(b){return y(b)?ks(b)?Hf(b):b:null},a),F(a)?Zr(" ",a):null):ks(a)?Hf(a):a};
ls.B=function(a,b){return y(a)?y(b)?[A.j(ls.j(a))," ",A.j(ls.j(b))].join(""):ls.j(a):ls.j(b)};ls.F=function(a,b,c){return $b.C(ls,ls.B(a,b),c)};ls.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};ls.O=2;var ms=!1;var ns=0;function os(a){return setTimeout(a,16)}var ps=fs?function(){var a=window,b=a.requestAnimationFrame;if(y(b))return b;b=a.webkitRequestAnimationFrame;if(y(b))return b;b=a.mozRequestAnimationFrame;if(y(b))return b;a=a.msRequestAnimationFrame;return y(a)?a:os}():os;function qs(a,b){return a.Wf-b.Wf}function rs(){return null}function ss(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.K?d.K():d.call(null);c+=1}else return null}function ts(a,b,c){b.push(c);return a.schedule()}
function us(){this.ve=!1}h=us.prototype;h.flush_after_render=function(){var a=this.be;if(null==a)return null;this.be=null;return ss(a)};h.queue_render=function(a){null==this.me&&(this.me=[]);return ts(this,this.me,a)};h.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ve)return null;this.ve=!0;return ps.j?ps.j(a):ps.call(null,a)};h.flush_before_flush=function(){var a=this.ce;if(null==a)return null;this.ce=null;return ss(a)};
h.flush_queues=function(){this.flush_before_flush();rs();this.flush_render();return this.flush_after_render()};h.run_queues=function(){this.ve=!1;return this.flush_queues()};h.add_before_flush=function(a){null==this.ce&&(this.ce=[]);return ts(this,this.ce,a)};h.add_after_render=function(a){null==this.be&&(this.be=[]);return ts(this,this.be,a)};
h.flush_render=function(){var a=this.me;if(null==a)return null;this.me=null;a:{a.sort(qs);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var vs=new us;function ws(a){if(y(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return vs.queue_render(a)};function xs(a,b){var c=dg(Cj,a,b);return ve(c,Yg(function(d){return c===d},b))}var ys=function ys(a){switch(arguments.length){case 0:return ys.K();case 1:return ys.j(arguments[0]);case 2:return ys.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return ys.F(arguments[0],arguments[1],c)}};ys.K=function(){return sj};ys.j=function(a){return a};ys.B=function(a,b){return O(a)<O(b)?$b.C(Ae,b,a):$b.C(Ae,a,b)};
ys.F=function(a,b,c){a=xs(O,Ae.F(c,b,Q([a])));return $b.C(Zg,I(a),Wd(a))};ys.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};ys.O=2;var zs=function zs(a){switch(arguments.length){case 1:return zs.j(arguments[0]);case 2:return zs.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(2),0,null);return zs.F(arguments[0],arguments[1],c)}};zs.j=function(a){return a};
zs.B=function(a,b){return O(a)<O(b)?$b.C(function(c,d){return af(b,d)?Me.B(c,d):c},a,a):$b.C(Me,a,b)};zs.F=function(a,b,c){return $b.C(zs,a,Ae.B(c,b))};zs.T=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.F(b,a,c)};zs.O=2;var As;function Bs(a,b){b.captured=null;a:{var c=As;As=b;try{var d=a.K?a.K():a.call(null);break a}finally{As=c}d=void 0}a=b.captured;b.Lc=!1;a:{c=b.dd;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var g=f===e;if(g){c=g;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function Cs(a){var b=As;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function Ds(a,b,c){a.ib=S.C(a.ib,b,c);return a.Ef=null}
function Es(a,b){a.ib=Ge.B(a.ib,b);return a.Ef=null}function Fs(a,b,c){var d=a.Ef;d=null==d?a.Ef=mf(function(l,m,n){l.push(m);l.push(n);return l},[],a.ib):d;for(var e=d.length,f=0;;)if(f<e){var g=d[f],k=d[f+1];k.Y?k.Y(g,a,b,c):k.call(null,g,a,b,c);f=2+f}else break}function Gs(a,b,c,d){ed(b,["#\x3c",A.j(d)," "].join(""));a:{d=As;As=null;try{var e=B(a);break a}finally{As=d}e=void 0}ak(e,b,c);return ed(b,"\x3e")}var Hs=null;
function Is(){for(;;){var a=Hs;if(null==a)return null;Hs=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}rs=Is;function Js(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ib=d;this.I=2154201088;this.P=114690}h=Js.prototype;h.ea=function(a,b,c){return Gs(this,b,c,"Atom:")};h.oa=function(){return this.meta};h.pa=function(){return ha(this)};h.R=function(a,b){return this===b};h.Yb=function(a,b){a=this.state;this.state=b;null!=this.ib&&Fs(this,a,b);return b};
h.Pe=function(a,b){return this.Yb(null,b.j?b.j(this.state):b.call(null,this.state))};h.Qe=function(a,b,c){return this.Yb(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};h.Re=function(a,b,c,d){return this.Yb(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};h.Se=function(a,b,c,d,e){return this.Yb(null,fg(b,this.state,c,d,e))};h.Ue=function(a,b){Fs(this,a,b)};h.he=function(a,b,c){return Ds(this,b,c)};h.ie=function(a,b){return Es(this,b)};
h.qa=function(a,b){return new Js(this.state,b,this.validator,this.ib)};h.lb=function(){Cs(this);return this.state};var Ks=function Ks(a){switch(arguments.length){case 1:return Ks.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(1),0,null);return Ks.F(arguments[0],c)}};Ks.j=function(a){return new Js(a,null,null,null)};Ks.F=function(a,b){var c=hg(b);b=C.B(c,Kb);c=C.B(c,Xn);return new Js(a,b,c,null)};
Ks.T=function(a){var b=I(a);a=J(a);return this.F(b,a)};Ks.O=1;function Ls(a){if(null!=a&&null!=a.tf)a.tf(a);else{var b=Ls[p(null==a?null:a)];if(null!=b)b.j?b.j(a):b.call(null,a);else if(b=Ls._,null!=b)b.j?b.j(a):b.call(null,a);else throw z("IDisposable.dispose!",a);}}function Ms(a,b,c,d){return a._handle_change(b,c,d)}function Ns(a){this.f=a;this.state=null;this.Lc=!0;this.ig=!1;this.Ge=this.mc=this.ib=this.dd=null;this.I=2153807872;this.P=114690}h=Ns.prototype;
h._peek_at=function(){var a=As;As=null;try{return this.lb(null)}finally{As=a}};h._handle_change=function(a,b,c){return b===c||this.Lc?null:null==this.mc?(this.Lc=!0,null==Hs&&(Hs=[],!1===vs.ve&&vs.schedule()),Hs.push(this)):!0===this.mc?this._run(!1):this.mc.j?this.mc.j(this):this.mc.call(null,this)};
h._update_watching=function(a){var b=uj(a),c=uj(this.dd);this.dd=a;a=F(zs.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var g=d.ka(null,f);hd(g,this,Ms);f+=1}else if(a=F(a))d=a,Ue(d)?(a=sd(d),f=td(d),d=a,e=O(a),a=f):(a=I(d),hd(a,this,Ms),a=J(d),d=null,e=0),f=0;else break;b=F(zs.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ka(null,e),id(a,this),e+=1;else if(b=F(b))c=b,Ue(c)?(b=sd(c),d=td(c),c=b,a=O(b),b=d,d=a):(a=I(c),id(a,this),b=J(c),c=null,d=0),e=0;else return null};
h._queued_run=function(){return this.Lc&&null!=this.dd?this._run(!0):null};h._try_capture=function(a){try{return this.Ge=null,Bs(a,this)}catch(b){return this.Ge=this.state=a=b,this.Lc=!1}};h._run=function(a){var b=this.state;a=y(a)?this._try_capture(this.f):Bs(this.f,this);this.ig||(this.state=a,null==this.ib||K.B(b,a)||Fs(this,b,a));return a};
h._set_opts=function(a){var b=hg(a);a=C.B(b,Bo);var c=C.B(b,Dq),d=C.B(b,il);b=C.B(b,Nl);null!=a&&(this.mc=a);null!=c&&(this.qh=c);null!=d&&(this.mg=d);return null!=b?this.ig=b:null};h.ea=function(a,b,c){return Gs(this,b,c,["Reaction ",A.j(Md(this)),":"].join(""))};h.pa=function(){return ha(this)};h.R=function(a,b){return this===b};
h.tf=function(){var a=this.state,b=this.dd;this.mc=this.state=this.dd=null;this.Lc=!0;b=F(uj(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e);id(f,this);e+=1}else if(b=F(b))c=b,Ue(c)?(b=sd(c),e=td(c),c=b,d=O(b),b=e):(b=I(c),id(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.mg&&this.mg(a);a=this.Nh;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};h.Yb=function(a,b){a=this.state;this.state=b;this.qh(a,b);Fs(this,a,b);return b};
h.Pe=function(a,b){a=this.Yb;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};h.Qe=function(a,b,c){a=this.Yb;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};h.Re=function(a,b,c,d){a=this.Yb;var e=this._peek_at();b=b.C?b.C(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};h.Se=function(a,b,c,d,e){return this.Yb(null,fg(b,this._peek_at(),c,d,e))};h.Ue=function(a,b){Fs(this,a,b)};h.he=function(a,b,c){return Ds(this,b,c)};
h.ie=function(a,b){a=Ne(this.ib);Es(this,b);return!a&&Ne(this.ib)&&null==this.mc?this.tf(null):null};h.lb=function(){var a=this.Ge;if(null!=a)throw a;(a=null==As)&&Is();a&&null==this.mc?this.Lc&&(a=this.state,this.state=this.f.K?this.f.K():this.f.call(null),null==this.ib||K.B(a,this.state)||Fs(this,a,this.state)):(Cs(this),this.Lc&&this._run(!1));return this.state};
function Os(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new H(b.slice(1),0,null):null;b=arguments[0];var e=hg(c);c=C.B(e,Bo);d=C.B(e,Dq);e=C.B(e,il);b=new Ns(b);b._set_opts(new v(null,3,[Bo,c,Dq,d,il,e],null));return b}var Ps=Os(null);function Qs(a,b){var c=Rs,d=Ps,e=Bs(a,d);null!=d.dd&&(Ps=Os(null),d._set_opts(c),d.f=a,d.mc=function(){return ws.j?ws.j(b):ws.call(null,b)},b.cljsRatom=d);return e};var Ss;function Ts(a,b){var c=b.argv;if(null==c){c=Y;a=a.constructor;a:for(var d=Va(b),e=d.length,f=W,g=0;;)if(g<e){var k=d[g];f=S.C(f,Gf.j(k),Wa(b,k));g+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function Us(a){var b;if(b=He(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.uf);return b}var Vs=null;
function Ws(a){for(;;){var b=a.uf,c=!0===a.Vg?b.call(a,a):function(){var d=Ts(a,a.props);switch(O(d)){case 1:return b.call(a);case 2:return b.call(a,qe(d,1));case 3:return b.call(a,qe(d,1),qe(d,2));case 4:return b.call(a,qe(d,1),qe(d,2),qe(d,3));case 5:return b.call(a,qe(d,1),qe(d,2),qe(d,3),qe(d,4));default:return b.apply(a,Zb(d).slice(1))}}();if(Te(c))return Vs.j?Vs.j(c):Vs.call(null,c);if(Ze(c))c=Us(c)?function(d,e,f,g){return function(){function k(m){var n=null;if(0<arguments.length){n=0;for(var q=
Array(arguments.length-0);n<q.length;)q[n]=arguments[n+0],++n;n=new H(q,0,null)}return l.call(this,n)}function l(m){m=dg(Fh,g,m);return Vs.j?Vs.j(m):Vs.call(null,m)}k.O=0;k.T=function(m){m=F(m);return l(m)};k.F=l;return k}()}(a,b,null,c):c,a.uf=c;else return c}}var Rs=new v(null,1,[Nl,!0],null),Xs=new v(null,1,[zo,function(){var a=this,b=Wa(a,"cljsRatom");a.cljsIsDirty=!1;return null==b?Qs(function(){a:{var c=Ss;Ss=a;try{var d=Ws(a);break a}finally{Ss=c}d=void 0}return d},a):b._run(!1)}],null);
function Ys(a,b){switch(a instanceof E?a.Ea:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=R(f,1,null),c=Re(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.Xg;d=null!=d?d:c.Xg=Ks.j(null);return Kg(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,Ts(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,Ts(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,Ts(this,c))};case "shouldComponentUpdate":return function(c){var d=ms;if(y(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return jg(d,e)}catch(g){return!1}}else return f?b.call(this,this,Ts(this,this.props),Ts(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,Ts(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,Ts(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,Ts(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=Wa(this,"cljsRatom");null!=c&&Ls(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var Zs=new v(null,2,[Gr,null,sp,null],null),$s=function(a){var b=Jg(W);return function(c){var d=C.B(B(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);Lg.Y(b,S,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Hf(a);a=Yr(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=as(a,/-/);var b=F(a);a=I(b);b=J(b);return dg(A,a,Pg.B(hs,b))});function at(a){return mf(function(b,c,d){return S.C(b,Gf.j($s(c)),d)},W,a)}
function bt(a){var b=function(){var f=vn.j(a);return y(f)?f:zo.j(a)}(),c=null==vn.j(a),d=function(){var f=Xp.j(a);if(y(f))return f;f=js(b);if(!y(f)){f=A;var g=f.j;null==lk&&(lk=Jg(0));var k=Td.j([A.j("reagent"),A.j(Lg.B(lk,ee))].join(""));f=g.call(f,k)}return f}(),e=mf(function(f,g,k){var l=S.C,m=Ys(g,k);return l.call(S,f,g,y(m)?m:k)},W,a);return S.F(e,Xp,d,Q([tn,c,vn,b,zo,zo.j(Xs)]))}function ct(a){return mf(function(b,c,d){c=Hf(c);b[c]=d;return b},{},a)}
var nj=new X(null,5,5,Y,[Oo,ao,vp,yp,bq],null);
function dt(a){function b(k,l,m){Vr.Component.call(this,k,l,m);y(g)&&(g.B?g.B(this,k):g.call(null,this,k));y(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.Wf=ns+=1;return this}a=bt(kj.F(Q([Zs,at(a)])));var c=ct(gg(Ge,a,Xp,Jl,No,Q([zo,vn,nj]))),d=ct(mj(a)),e=Xp.j(a),f=Jl.j(a),g=No.j(a);Za(b.prototype,Vr.Component.prototype,c);y(zo.j(a))&&(b.prototype.render=zo.j(a));y(vn.j(a))&&(b.prototype.uf=vn.j(a));y(tn.j(a))&&(b.prototype.Vg=tn.j(a));Za(b,Vr.Component,d);y(e)&&(b.displayName=e,b.Rb=e,
b.zc=function(k){return ed(k,e)});b.pc=!0;return b.prototype.constructor=b};var et=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,ft={"class":"className","for":"htmlFor",charset:"charSet"};function gt(a,b){return a.hasOwnProperty(b)?Wa(a,b):null}function ht(a,b,c){if(ks(b)){var d=gt(ft,Hf(b));null==d?(d=is(b),b=Hf(b),b=ft[b]=d):b=d}c=it.j?it.j(c):it.call(null,c);a[b]=c;return a}
function it(a){return"object"!==p(a)?a:ks(a)?Hf(a):Re(a)?mf(ht,{},a):Oe(a)?vk(a):Ze(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new H(f,0,null)}return c.call(this,e)}function c(d){return cg(a,d)}b.O=0;b.T=function(d){d=F(d);return c(d)};b.F=c;return b}():vk(a)}var jt={};function kt(a,b,c){if(ks(b)){var d=gt(jt,Hf(b));null==d?(d=is(b),b=Hf(b),b=jt[b]=d):b=d}c=it(c);a[b]=c;return a}
function lt(a){return"object"!==p(a)?a:ks(a)?Hf(a):Re(a)?mf(kt,{},a):Oe(a)?vk(a):Ze(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new H(f,0,null)}return c.call(this,e)}function c(d){return cg(a,d)}b.O=0;b.T=function(d){d=F(d);return c(d)};b.F=c;return b}():vk(a)}var mt=null,nt=new qj(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function ot(a,b,c,d){var e=hg(W);e=C.B(e,Mn);if(a===document.activeElement&&af(nt,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(jg(f,c))return vs.add_after_render(function(){return pt.j?pt.j(d):pt.call(null,d)});c=O(f)-a.selectionStart;c=O(b)-c;d.ke=b;a.value=b;He(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.ke=b;a.value=b;return He(e)?e.j?e.j(b):e.call(null,b):null}
function pt(a){if(y(a.$e)){a.Vf=!1;var b=a.Wg,c=a.ke,d=mt.j?mt.j(a):mt.call(null,a);return jg(b,c)?ot(d,b,c,a):null}return null}function qt(a,b,c){a.ke=c.target.value;y(a.Vf)||(a.Vf=!0,vs.add_after_render(function(){return pt(a)}));return b.j?b.j(c):b.call(null,c)}
function rt(a){var b=Ss;if(y(function(){var e=null!=a;return e?(e=a.hasOwnProperty("onChange"),y(e)?a.hasOwnProperty("value"):e):e}())){var c=a.value;c=null==c?"":c;var d=a.onChange;y(b.$e)||(b.$e=!0,b.ke=c);b.Wg=c;delete a.value;a.defaultValue=c;a.onChange=function(e){return qt(b,d,e)}}}var st=null,ut=new v(null,4,[Bp,"ReagentInput",$q,pt,Mm,function(a){return a.$e=null},hp,function(a,b,c,d){rt(c);return tt.Y?tt.Y(a,b,c,d):tt.call(null,a,b,c,d)}],null);
function vt(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Zg=d}function wt(a){if(Re(a))try{var b=C.B(a,or)}catch(c){b=null}else b=null;return b}function xt(a){var b=wt(Le(a));return null==b?wt(R(a,1,null)):b}var yt={};
function zt(a,b,c){var d=a.tag,e=R(b,c,null),f=null==e||Re(e);e=f?e:null;var g=kq.j(e);e=y(g)?S.C(e,kq,ls.j(g)):e;var k=a.id;g=a.className;k=null!=k&&null==Ir.j(e)?S.C(e,Ir,k):e;e=y(g)?S.C(k,kq,ls.B(g,kq.j(e))):k;a=y(a.Zg)?lt(e):it(e);a=y(a)?a:{};c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=Y,null==st&&(st=dt(ut)),b=Ke(new X(null,5,5,f,[st,b,d,a,c],null),Le(b)),At.j?At.j(b):At.call(null,b);f=wt(Le(b));null!=f&&(a.key=f);return tt.Y?tt.Y(b,d,a,c):tt.call(null,
b,d,a,c)}
function Bt(a){for(;;){var b=R(a,0,null);if(U(Ql,b)){b=R(a,1,null);var c=null==b||Re(b);b=it(c?b:null);b=y(b)?b:{};c=1+(c?1:0);var d=xt(a);null!=d&&(b.key=d);return tt.Y?tt.Y(a,Vr.Fragment,b,c):tt.call(null,a,Vr.Fragment,b,c)}if(ks(b)||"string"===typeof b)switch(b=Hf(b),c=b.indexOf("\x3e"),c){case -1:c=gt(yt,b);if(null==c){var e=J(Pj(et,Hf(b)));c=R(e,0,null);d=R(e,1,null);e=R(e,2,null);e=null==e?null:Yr(e,/\./," ");var f=jg(-1,c.indexOf("-"));c=new vt(c,d,e,f);b=yt[b]=c}else b=c;return zt(b,a,1);
case 0:return b=R(a,1,null),zt(new vt(b,null,null,null),a,2);default:a=Ke(new X(null,2,5,Y,[b.substring(0,c),S.C(Ke(a,null),0,b.substring(c+1))],null),Le(a))}else return c=b.Xf,null==c?Us(b)?b=b.Xf=b:(c=Le(b),c=S.C(c,hp,b),c=dt(c),b=b.Xf=c):b=c,c={},c.argv=a,a=xt(a),null!=a&&(c.key=a),Vr.createElement(b,c)}}function At(a){return"object"!==p(a)?a:Te(a)?Bt(a):Xe(a)?Ct.j?Ct.j(a):Ct.call(null,a):ks(a)?Hf(a):(null!=a?a.I&2147483648||t===a.ya||(a.I?0:Qb(fd,a)):Qb(fd,a))?ek(Q([a])):a}Vs=At;
function Ct(a){return Zb(Pg.B(At,a))}function tt(a,b,c,d){switch(O(a)-d){case 0:return Vr.createElement(b,c);case 1:return Vr.createElement(b,c,At(R(a,d,null)));default:return Vr.createElement.apply(null,mf(function(e,f,g){f>=d&&e.push(At(g));return e},[b,c],a))}};var Dt=Ur(14,{});var Et=Jg(W);function Ft(a,b){var c=ms;ms=!0;try{Dt.render(a.K?a.K():a.call(null),b,function(){var d=ms;ms=!1;try{return Lg.Y(Et,S,b,new X(null,2,5,Y,[a,b],null)),vs.flush_after_render(),null}finally{ms=d}})}finally{ms=c}}function Gt(){var a=new X(null,2,5,Y,[Ht,new X(null,2,5,Y,[It,Jt],null)],null),b=document.getElementById("app");Is();Ft(function(){return At(He(a)?a.K?a.K():a.call(null):a)},b)}function Kt(a){return Dt.findDOMNode(a)}mt=Kt;var Lt={},Mt,Nt,Ot,Pt={};function Qt(a,b){if(null!=a&&null!=a.Xe)a=a.Xe(a,b);else{var c=Qt[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qt._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("ReadPort.take!",a);}return a}function Rt(a,b,c){if(null!=a&&null!=a.je)a=a.je(a,b,c);else{var d=Rt[p(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Rt._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("WritePort.put!",a);}return a}
function St(a){if(null!=a&&null!=a.Dd)a=a.Dd(a);else{var b=St[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=St._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("Channel.close!",a);}return a}function Tt(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=Tt[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Tt._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("Handler.active?",a);}return a}
function Ut(a){if(null!=a&&null!=a.rb)a=a.rb(a);else{var b=Ut[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ut._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("Handler.commit",a);}return a}function Vt(a,b){if(null!=a&&null!=a.Ve)a=a.Ve(a,b);else{var c=Vt[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Vt._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("Buffer.add!*",a);}return a}
var Wt=function Wt(a){switch(arguments.length){case 1:return Wt.j(arguments[0]);case 2:return Wt.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Wt.j=function(a){return a};Wt.B=function(a,b){return Vt(a,b)};Wt.O=2;function Xt(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function Yt(a){this.length=this.tail=this.head=0;this.D=a}h=Yt.prototype;h.pop=function(){if(0===this.length)return null;var a=this.D[this.tail];this.D[this.tail]=null;this.tail=(this.tail+1)%this.D.length;--this.length;return a};h.unshift=function(a){this.D[this.head]=a;this.head=(this.head+1)%this.D.length;this.length+=1;return null};h.unbounded_unshift=function(a){this.length+1===this.D.length&&this.resize();return this.unshift(a)};
h.resize=function(){var a=Array(2*this.D.length);return this.tail<this.head?(Xt(this.D,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.D=a):this.tail>this.head?(Xt(this.D,this.tail,a,0,this.D.length-this.tail),Xt(this.D,0,a,this.D.length-this.tail,this.head),this.tail=0,this.head=this.length,this.D=a):this.tail===this.head?(this.head=this.tail=0,this.D=a):null};
h.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.j?a.j(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function Zt(a){return new Yt(Array(a))}function $t(a,b){this.la=a;this.n=b;this.I=2;this.P=0}$t.prototype.We=function(){return this.la.length===this.n};$t.prototype.Ve=function(a,b){this.la.unbounded_unshift(b);return this};$t.prototype.va=function(){return this.la.length};function au(a,b){this.la=a;this.n=b;this.I=2;this.P=0}au.prototype.We=function(){return!1};
au.prototype.Ve=function(a,b){this.la.length===this.n&&this.la.pop();this.la.unshift(b);return this};au.prototype.va=function(){return this.la.length};function bu(a){return new au(Zt(a),a)};function cu(){return gb("iPhone")&&!gb("iPod")&&!gb("iPad")};var du=gb("Opera"),eu=gb("Trident")||gb("MSIE"),fu=gb("Edge"),gu=gb("Gecko")&&!(-1!=db.toLowerCase().indexOf("webkit")&&!gb("Edge"))&&!(gb("Trident")||gb("MSIE"))&&!gb("Edge"),hu=-1!=db.toLowerCase().indexOf("webkit")&&!gb("Edge");hu&&gb("Mobile");gb("Macintosh");gb("Windows");gb("Linux")||gb("CrOS");var iu=ba.navigator||null;iu&&(iu.appVersion||"").indexOf("X11");gb("Android");cu();gb("iPad");gb("iPod");cu()||gb("iPad")||gb("iPod");db.toLowerCase().indexOf("kaios");
function ju(){var a=ba.document;return a?a.documentMode:void 0}var ku;a:{var lu="",mu=function(){var a=db;if(gu)return/rv:([^\);]+)(\)|;)/.exec(a);if(fu)return/Edge\/([\d\.]+)/.exec(a);if(eu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(hu)return/WebKit\/(\S+)/.exec(a);if(du)return/(?:Version)[ \/]?(\S+)/.exec(a)}();mu&&(lu=mu?mu[1]:"");if(eu){var nu=ju();if(null!=nu&&nu>parseFloat(lu)){ku=String(nu);break a}}ku=lu}var ou={};
function pu(a){return ra(ou,a,function(){let b=0;const c=bb(String(ku)).split("."),d=bb(String(a)).split("."),e=Math.max(c.length,d.length);for(let k=0;0==b&&k<e;k++){var f=c[k]||"",g=d[k]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;b=cb(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||cb(0==f[2].length,0==g[2].length)||cb(f[2],g[2]);f=f[3];g=g[3]}while(0==b)}return 0<=b})}var qu;
if(ba.document&&eu){var ru=ju();qu=ru?ru:parseInt(ku,10)||void 0}else qu=void 0;var su=qu;!gu&&!eu||eu&&9<=Number(su)||gu&&pu("1.9.1");eu&&pu("9");function tu(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};var uu;
function vu(){var a=ba.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!gb("Presto")&&(a=function(){var e=tu();e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=ma(function(l){if(("*"==k||l.origin==k)&&l.data==g)this.port1.onmessage()},this);f.addEventListener("message",e,
!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,k)}}});if("undefined"!==typeof a&&!gb("Trident")&&!gb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.xd;c.xd=null;e()}};return function(e){d.next={xd:e};d=d.next;b.port2.postMessage(0)}}return function(e){ba.setTimeout(e,0)}};var wu=Zt(32),xu=!1,yu=!1;function zu(){xu=!0;yu=!1;for(var a=0;;){var b=wu.pop();if(null!=b&&(b.K?b.K():b.call(null),1024>a)){a+=1;continue}break}xu=!1;return 0<wu.length?Au.K?Au.K():Au.call(null):null}function Au(){if(yu&&xu)return null;yu=!0;"function"!==typeof ba.setImmediate||ba.Window&&ba.Window.prototype&&!gb("Edge")&&ba.Window.prototype.setImmediate==ba.setImmediate?(uu||(uu=vu()),uu(zu)):ba.setImmediate(zu)}function Bu(a){wu.unbounded_unshift(a);Au()}function Cu(a,b){setTimeout(a,b)};var Du={},Eu;
function Fu(a){if("undefined"===typeof Cb||"undefined"===typeof Db||"undefined"===typeof Lt||"undefined"===typeof Pt||"undefined"===typeof Du||"undefined"===typeof Eu)Eu=function(b,c){this.G=b;this.hh=c;this.I=425984;this.P=0},Eu.prototype.qa=function(b,c){return new Eu(this.G,c)},Eu.prototype.oa=function(){return this.hh},Eu.prototype.lb=function(){return this.G},Eu.pc=!0,Eu.Rb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels13098",Eu.zc=function(b){return ed(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels13098")};return new Eu(a,
W)}function Gu(a,b){this.handler=a;this.G=b}function Hu(a){return Tt(a.handler)}function Iu(a,b,c,d){this.rd=a;this.oe=0;this.Ec=b;this.ne=0;this.la=c;this.closed=!1;this.Pb=d}function Ju(a){for(;;){var b=a.Ec.pop();if(null!=b){var c=b.handler,d=b.G;if(c.vb(null)){var e=c.rb(null);Bu(function(f){return function(){return f.j?f.j(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.Ec.cleanup(Eg(!1));a.Dd(null)}
Iu.prototype.je=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.vb(null))return Fu(!f);if(y(function(){var q=d.la;return y(q)?Pb(d.la.We()):q}())){c.rb(null);var g=ge(d.Pb.B?d.Pb.B(d.la,b):d.Pb.call(null,d.la,b));c=function(){for(var q=Be;;)if(0<d.rd.length&&0<O(d.la)){var r=d.rd.pop();if(r.vb(null)){var u=r.rb(null),w=d.la.la.pop();q=Ae.B(q,function(x,D,G){return function(){return D.j?D.j(G):D.call(null,G)}}(q,u,w,r,g,f,e))}}else return q}();g&&Ju(e);if(F(c)){c=F(c);a=null;for(var k=0,l=0;;)if(l<
k){var m=a.ka(null,l);Bu(m);l+=1}else if(c=F(c))a=c,Ue(a)?(c=sd(a),l=td(a),a=c,k=O(c),c=l):(c=I(a),Bu(c),c=J(a),a=null,k=0),l=0;else break}return Fu(!0)}a=function(){for(;;){var q=d.rd.pop();if(y(q)){if(y(q.vb(null)))return q}else return null}}();if(y(a)){var n=a.rb(null);c.rb(null);Bu(function(){return n.j?n.j(b):n.call(null,b)});return Fu(!0)}64<d.ne?(d.ne=0,d.Ec.cleanup(Hu)):d.ne+=1;y(c.Ed())&&d.Ec.unbounded_unshift(new Gu(c,b));return null};
Iu.prototype.Xe=function(a,b){var c=this;if(b.vb(null)){if(null!=c.la&&0<O(c.la)){a=b.rb(null);if(y(a)){var d=c.la.la.pop(),e=0<c.Ec.length?function(){for(var x=Be;;){var D=c.Ec.pop(),G=D.handler;D=D.G;var N=G.vb(null);G=N?G.rb(null):N;x=y(G)?Ae.B(x,G):x;D=y(G)?ge(c.Pb.B?c.Pb.B(c.la,D):c.Pb.call(null,c.la,D)):null;if(!(Pb(D)&&Pb(c.la.We())&&0<c.Ec.length))return new X(null,2,5,Y,[D,x],null)}}():null,f=R(e,0,null),g=R(e,1,null);y(f)&&Ju(this);for(var k=F(g),l=null,m=0,n=0;;)if(n<m){var q=l.ka(null,
n);Bu(function(x,D,G,N,T){return function(){return T.j?T.j(!0):T.call(null,!0)}}(k,l,m,n,q,d,e,f,g,a,a,this));n+=1}else{var r=F(k);if(r){q=r;if(Ue(q))k=sd(q),n=td(q),l=k,m=O(k),k=n;else{var u=I(q);Bu(function(x,D,G,N,T){return function(){return T.j?T.j(!0):T.call(null,!0)}}(k,l,m,n,u,q,r,d,e,f,g,a,a,this));k=J(q);l=null;m=0}n=0}else break}return Fu(d)}return null}a=function(){for(;;){var x=c.Ec.pop();if(y(x)){if(Tt(x.handler))return x}else return null}}();if(y(a)){var w=Ut(a.handler);b.rb(null);Bu(function(){return w.j?
w.j(!0):w.call(null,!0)});return Fu(a.G)}if(y(c.closed))return y(c.la)&&(c.Pb.j?c.Pb.j(c.la):c.Pb.call(null,c.la)),y(function(){var x=b.vb(null);return y(x)?b.rb(null):x}())?(a=function(){var x=c.la;return y(x)?0<O(c.la):x}(),d=y(a)?c.la.la.pop():null,Fu(d)):null;64<c.oe?(c.oe=0,c.rd.cleanup(Tt)):c.oe+=1;y(b.Ed())&&c.rd.unbounded_unshift(b)}return null};
Iu.prototype.Dd=function(){var a=this;if(!a.closed)for(a.closed=!0,y(function(){var e=a.la;return y(e)?0===a.Ec.length:e}())&&(a.Pb.j?a.Pb.j(a.la):a.Pb.call(null,a.la));;){var b=a.rd.pop();if(null!=b){if(b.vb(null)){var c=b.rb(null),d=y(function(){var e=a.la;return y(e)?0<O(a.la):e}())?a.la.la.pop():null;Bu(function(e,f){return function(){return e.j?e.j(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function Ku(a){console.log(a);return null}
function Lu(a,b){var c=y(null)?null:Ku;b=c.j?c.j(b):c.call(null,b);return null==b?a:Wt.B(a,b)}
function Mu(a,b){return new Iu(Zt(32),Zt(32),a,function(){var c=y(b)?b.j?b.j(Wt):b.call(null,Wt):Wt;return function(){function d(g,k){try{return c.B?c.B(g,k):c.call(null,g,k)}catch(l){return Lu(g,l)}}function e(g){try{return c.j?c.j(g):c.call(null,g)}catch(k){return Lu(g,k)}}var f=null;f=function(g,k){switch(arguments.length){case 1:return e.call(this,g);case 2:return d.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=d;return f}()}())};function Nu(a,b,c){this.key=a;this.G=b;this.forward=c;this.I=2155872256;this.P=0}Nu.prototype.sa=function(){return new Ce(null,this.key,new Ce(null,this.G,null,1,null),2,null)};Nu.prototype.ea=function(a,b,c){return Tj(b,ak,"["," ","]",c,this)};function Ou(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new Nu(a,b,c)}
function Pu(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(y(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function Qu(){this.header=Ou(null,null,0);this.level=0;this.I=2155872256;this.P=0}h=Qu.prototype;
h.put=function(a,b){var c=Array(15),d=Pu(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.G=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}for(a=Ou(a,b,Array(d));;)return 0<=this.level?(c=c[0].forward,a.forward[0]=c[0],c[0]=a):null};
h.remove=function(a){var b=Array(15),c=Pu(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
h.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){d=c<d.forward.length?d.forward[c]:null;if(null==d){d=null;break a}if(d.key>=a)break a}null!=d?(--c,b=d):--c}};h.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}y(d)?(--c,b=d):--c}};
h.sa=function(){return function c(b){return new If(null,function(){return null==b?null:ve(new X(null,2,5,Y,[b.key,b.G],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};h.ea=function(a,b,c){return Tj(b,function(d){return Tj(b,ak,""," ","",c,d)},"{",", ","}",c,this)};var Ru=new Qu;function Su(a){var b=(new Date).valueOf()+a,c=Ru.ceilingEntry(b);c=y(y(c)?c.key<b+10:c)?c.G:null;if(y(c))return c;var d=Mu(null,null);Ru.put(b,d);Cu(function(){Ru.remove(b);return St(d)},a);return d};var Tu={},Uu;
function Vu(a){if("undefined"===typeof Cb||"undefined"===typeof Db||"undefined"===typeof Lt||"undefined"===typeof Pt||"undefined"===typeof Tu||"undefined"===typeof Uu)Uu=function(b,c){this.f=b;this.gh=c;this.I=393216;this.P=0},Uu.prototype.qa=function(b,c){return new Uu(this.f,c)},Uu.prototype.oa=function(){return this.gh},Uu.prototype.vb=function(){return!0},Uu.prototype.Ed=function(){return!0},Uu.prototype.rb=function(){return this.f},Uu.pc=!0,Uu.Rb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers13057",Uu.zc=
function(b){return ed(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers13057")};return new Uu(a,W)}function Wu(a){try{var b=a[0];return b.j?b.j(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].Dd(null),b;throw c;}}function Xu(a,b,c){c=c.Xe(null,Vu(function(d){a[2]=d;a[1]=b;return Wu(a)}));return y(c)?(a[2]=B(c),a[1]=b,Al):null}function Yu(a,b,c){b=b.je(null,c,Vu(function(d){a[2]=d;a[1]=11;return Wu(a)}));return y(b)?(a[2]=B(b),a[1]=11,Al):null}
function Zu(a,b){a=a[6];null!=b&&a.je(null,b,Vu(function(){return null}));a.Dd(null);return a}
function $u(a){for(;;){var b=a[4],c=nq.j(b),d=Im.j(b),e=a[5];if(y(function(){var f=e;return y(f)?Pb(b):f}()))throw e;if(y(function(){var f=e;return y(f)?(f=c,y(f)?K.B(Ok,d)||e instanceof d:f):f}())){a[1]=c;a[2]=e;a[5]=null;a[4]=S.F(b,nq,null,Q([Im,null]));break}if(y(function(){var f=e;return y(f)?Pb(c)&&Pb(Qm.j(b)):f}()))a[4]=Mq.j(b);else{if(y(function(){var f=e;return y(f)?(f=Pb(c))?Qm.j(b):f:f}())){a[1]=Qm.j(b);a[4]=S.C(b,Qm,null);break}if(y(function(){var f=Pb(e);return f?Qm.j(b):f}())){a[1]=Qm.j(b);
a[4]=S.C(b,Qm,null);break}if(Pb(e)&&Pb(Qm.j(b))){a[1]=Tn.j(b);a[4]=Mq.j(b);break}throw Error("No matching clause");}}};function av(a,b){return bv(a,b)}function bv(a,b){a=K.B(a,0)?null:a;return Mu("number"===typeof a?new $t(Zt(a),a):a,b)}
var cv=function(a){if("undefined"===typeof Cb||"undefined"===typeof Db||"undefined"===typeof Lt||"undefined"===typeof Mt)Mt=function(b,c,d){this.f=b;this.Mf=c;this.ih=d;this.I=393216;this.P=0},Mt.prototype.qa=function(b,c){return new Mt(this.f,this.Mf,c)},Mt.prototype.oa=function(){return this.ih},Mt.prototype.vb=function(){return!0},Mt.prototype.Ed=function(){return this.Mf},Mt.prototype.rb=function(){return this.f},Mt.pc=!0,Mt.Rb="cljs.core.async/t_cljs$core$async13551",Mt.zc=function(b){return ed(b,
"cljs.core.async/t_cljs$core$async13551")};return new Mt(a,!0,W)}(function(){return null});function dv(a,b){a=Rt(a,b,cv);return y(a)?B(a):!0}function ev(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=0,c+=1;else break;for(c=1;;){if(K.B(c,a))return b;var d=Math.floor(Math.random()*c);b[c]=b[d];b[d]=c;c+=1}}
function fv(){var a=Jg(!0);if("undefined"===typeof Cb||"undefined"===typeof Db||"undefined"===typeof Lt||"undefined"===typeof Nt)Nt=function(b,c){this.Wc=b;this.jh=c;this.I=393216;this.P=0},Nt.prototype.qa=function(b,c){return new Nt(this.Wc,c)},Nt.prototype.oa=function(){return this.jh},Nt.prototype.vb=function(){return B(this.Wc)},Nt.prototype.Ed=function(){return!0},Nt.prototype.rb=function(){Kg(this.Wc,null);return!0},Nt.pc=!0,Nt.Rb="cljs.core.async/t_cljs$core$async13687",Nt.zc=function(b){return ed(b,
"cljs.core.async/t_cljs$core$async13687")};return new Nt(a,W)}
function gv(a,b){if("undefined"===typeof Cb||"undefined"===typeof Db||"undefined"===typeof Lt||"undefined"===typeof Ot)Ot=function(c,d,e){this.Wc=c;this.xd=d;this.kh=e;this.I=393216;this.P=0},Ot.prototype.qa=function(c,d){return new Ot(this.Wc,this.xd,d)},Ot.prototype.oa=function(){return this.kh},Ot.prototype.vb=function(){return Tt(this.Wc)},Ot.prototype.Ed=function(){return!0},Ot.prototype.rb=function(){Ut(this.Wc);return this.xd},Ot.pc=!0,Ot.Rb="cljs.core.async/t_cljs$core$async13742",Ot.zc=function(c){return ed(c,
"cljs.core.async/t_cljs$core$async13742")};return new Ot(a,b,W)}
function hv(a,b,c){var d=fv(),e=O(b),f=ev(e),g=Yq.j(c),k=function(){for(var l=0;;)if(l<e){var m=y(g)?l:f[l],n=qe(b,m),q=Te(n)?n.j?n.j(0):n.call(null,0):null,r=y(q)?function(){var u=n.j?n.j(1):n.call(null,1);return Rt(q,u,gv(d,function(w,x,D,G,N){return function(T){T=new X(null,2,5,Y,[T,N],null);return a.j?a.j(T):a.call(null,T)}}(l,u,m,n,q,d,e,f,g)))}():Qt(n,gv(d,function(u,w,x){return function(D){D=new X(null,2,5,Y,[D,x],null);return a.j?a.j(D):a.call(null,D)}}(l,m,n,q,d,e,f,g)));if(y(r))return Fu(new X(null,
2,5,Y,[B(r),function(){var u=q;return y(u)?u:n}()],null));l+=1}else return null}();return y(k)?k:af(c,Ok)?(k=function(){var l=d.vb(null);return y(l)?d.rb(null):l}(),y(k)?Fu(new X(null,2,5,Y,[Ok.j(c),Ok],null)):null):null}
function iv(a,b){var c=bv(1,null);Bu(function(){var d=function(){function f(g){var k=g[1];return 7===k?(g[2]=g[2],g[1]=3,Al):1===k?(g[2]=null,g[1]=2,Al):4===k?(k=g[2],g[7]=k,g[1]=y(null==k)?5:6,Al):13===k?(g[2]=null,g[1]=14,Al):6===k?(k=g[7],Yu(g,b,k)):3===k?Zu(g,g[2]):12===k?(g[2]=null,g[1]=2,Al):2===k?Xu(g,4,a):11===k?(g[1]=y(g[2])?12:13,Al):9===k?(g[2]=null,g[1]=10,Al):5===k?(g[1]=y(!0)?8:9,Al):14===k||10===k?(g[2]=g[2],g[1]=7,Al):8===k?(k=St(b),g[2]=k,g[1]=10,Al):null}return function(){function g(m){for(;;){a:try{for(;;){var n=
f(m);if(!U(n,Al)){var q=n;break a}}}catch(r){if(r instanceof Object)m[5]=r,$u(m),q=Al;else throw r;}if(!U(q,Al))return q}}function k(){var m=[null,null,null,null,null,null,null,null];m[0]=l;m[1]=1;return m}var l=null;l=function(m){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,m)}throw Error("Invalid arity: "+arguments.length);};l.K=k;l.j=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return Wu(e)})}
function jv(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new H(b.slice(3),0,null):null;return kv(arguments[0],arguments[1],arguments[2],b)}function kv(a,b,c,d){d=hg(d);a[1]=b;b=hv(function(e){a[2]=e;return Wu(a)},c,d);return y(b)?(a[2]=B(b),Al):null}
function lv(a,b){var c=bv(b,null),d=bv(1,null);Bu(function(){var e=function(){function g(k){var l=k[1];if(7===l){l=k[8];l=k[2];var m=R(l,0,null),n=R(l,1,null);k[7]=l;k[9]=n;k[8]=m;k[1]=y(null==m)?8:9;return Al}return 1===l?(m=Bh(a),k[10]=m,k[2]=null,k[1]=2,Al):4===l?(m=k[10],jv(k,7,m)):6===l?(k[2]=k[2],k[1]=3,Al):3===l?Zu(k,k[2]):2===l?(m=k[10],l=0<O(m),k[1]=y(l)?4:5,Al):11===l?(m=k[10],k[11]=k[2],k[10]=m,k[2]=null,k[1]=2,Al):9===l?(l=k[8],Yu(k,c,l)):5===l?(l=St(c),k[2]=l,k[1]=6,Al):10===l?(k[2]=
k[2],k[1]=6,Al):8===l?(n=k[9],m=k[10],l=k[8],l=ah(function(){var q=n;return function(r){return jg(q,r)}}(),m),k[10]=l,k[2]=null,k[1]=2,Al):null}return function(){function k(n){for(;;){a:try{for(;;){var q=g(n);if(!U(q,Al)){var r=q;break a}}}catch(u){if(u instanceof Object)n[5]=u,$u(n),r=Al;else throw u;}if(!U(r,Al))return r}}function l(){var n=[null,null,null,null,null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return l.call(this);
case 1:return k.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.K=l;m.j=k;return m}()}(),f=function(){var g=e();g[6]=d;return g}();return Wu(f)});return c};var mv=/[\s]/;function nv(a){return null==a?null:","===a?!0:mv.test(a)}function ov(a){return null==a?null:!/[^0-9]/.test(a)}
function pv(a,b){return function e(d){return new If(null,function(){for(;;){var f=F(d);if(f){if(Ue(f)){var g=sd(f),k=O(g),l=Mf(k);return function(){for(var n=0;;)if(n<k){var q=mc(g,n),r=l;if(q instanceof Sd||q instanceof E){var u=Nj(Ef,Hf)(q),w=R(u,0,null);u=R(u,1,null);var x=q instanceof Sd?Td:Gf;q=null==w?x.B?x.B(a,u):x.call(null,a,u):K.B("_",w)?x.j?x.j(u):x.call(null,u):q}r.add(q);n+=1}else return!0}()?Of(l.ua(),e(td(f))):Of(l.ua(),null)}var m=I(f);return ve(m instanceof Sd||m instanceof E?function(){var n=
Nj(Ef,Hf)(m),q=R(n,0,null);n=R(n,1,null);var r=m instanceof Sd?Td:Gf;return null==q?r.B?r.B(a,n):r.call(null,a,n):K.B("_",q)?r.j?r.j(n):r.call(null,n):m}():m,e(Wd(f)))}return null}},null,null)}(b)}function qv(a,b){a=parseInt(a,b);return y(isNaN(a))?-1:a};function rv(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=rv[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=rv._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("Reader.read-char",a);}return a}function sv(a){if(null!=a&&null!=a.Fd)a=a.Fd(a);else{var b=sv[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=sv._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("Reader.peek-char",a);}return a}
function tv(a,b){if(null!=a&&null!=a.Uf)a.Uf(a,b);else{var c=tv[p(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=tv._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw z("IPushbackReader.unread",a);}}function uv(a){if(null!=a&&null!=a.Ug)a=a.Ug(a);else{var b=uv[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=uv._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IndexingReader.get-line-number",a);}return a}
function vv(a){if(null!=a&&null!=a.Sg)a=a.Sg(a);else{var b=vv[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=vv._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IndexingReader.get-column-number",a);}return a}function wv(a){if(null!=a&&null!=a.Tg)a=a.Tg(a);else{var b=wv[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wv._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IndexingReader.get-file-name",a);}return a}
function xv(a,b){this.s=a;this.sg=b;this.qd=0}xv.prototype.Uc=function(){if(this.sg>this.qd){var a=this.s.charAt(this.qd);this.qd+=1;return a}return null};xv.prototype.Fd=function(){return this.sg>this.qd?this.s.charAt(this.qd):null};function yv(a,b){this.pg=a;this.la=b;this.Wb=this.Fe=1}yv.prototype.Uc=function(){var a=this.Wb<this.Fe?this.la[this.Wb]:this.pg.Uc(null);this.Wb<this.Fe&&(this.Wb+=1);return null==a?null:sf(a)};
yv.prototype.Fd=function(){var a=this.Wb<this.Fe?this.la[this.Wb]:this.pg.Fd(null);return null==a?null:sf(a)};yv.prototype.Uf=function(a,b){if(y(b)){if(0===this.Wb)throw Error("Pushback buffer is full");--this.Wb;return this.la[this.Wb]=b}return null};function zv(a){return null!=a?t===a.Mh?!0:!1:!1};function Av(a,b,c,d){var e=O(b);a=y(a)?0:10<e?10:e;b=Pg.B(Gg.B(Bv,!0),Qg.B(a,b));b=cg(A,Rg(1,Vg.B(new Ug(null,-1," ",null,null),b)));e=a<e?"...":null;return[A.j(c),A.j(b),e,A.j(d)].join("")}var Bv,Cv=Jg(W),Dv=Jg(W),Ev=Jg(W),Fv=Jg(W),Gv=C.C(W,jp,Ck.K?Ck.K():Ck.call(null));
Bv=new Nk(Td.B("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?In:"string"===typeof b?ml:b instanceof E?rp:"number"===typeof b?rp:b instanceof Sd?rp:Te(b)?Fp:yf(b)?jr:Re(b)?$p:Pe(b)?jm:K.B(b,!0)?rp:K.B(b,!1)?rp:Sb(b)},Gv,Cv,Dv,Ev,Fv);Qk(Bv,ml,function(a,b){a=y(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',A.j(b.substring(0,a<d?a:d)),c].join("")});Qk(Bv,rp,function(a,b){return A.j(b)});Qk(Bv,H,function(){return"\x3cindexed seq\x3e"});Qk(Bv,ei,function(){return"\x3cmap seq\x3e"});
Qk(Bv,Ji,function(){return"\x3cmap seq\x3e"});Qk(Bv,Cf,function(){return"\x3ccons\x3e"});Qk(Bv,If,function(){return"\x3clazy seq\x3e"});Qk(Bv,In,function(){return"nil"});Qk(Bv,jr,function(a,b){return Av(a,b,"(",")")});Qk(Bv,$p,function(a,b){var c=O(b),d=y(a)?0:c;b=cg(Sf,Qg.B(d,b));return Av(a,b,"{",c>d?"...}":"}")});Qk(Bv,jm,function(a,b){return Av(a,b,"#{","}")});Qk(Bv,Fp,function(a,b){return Av(a,b,"[","]")});Qk(Bv,Ok,function(a,b){return ek(Q([Sb(b)]))});function Hv(a,b,c){b=new v(null,2,[Sm,Kn,wn,b],null);a=zv(a)?S.F(b,co,wv(a),Q([fl,uv(a),pn,vv(a)])):b;var d=co.j(a);b=fl.j(a);var e=pn.j(a);d=y(d)?[A.j(d)," "].join(""):null;b=y(b)?["[line ",A.j(b),", col ",A.j(e),"]"].join(""):null;c=fg(A,d,b,y(y(d)?d:b)?" ":null,c);throw Tk(c,a);}function Iv(a,b){return Hv(a,Vm,Q([cg(A,b)]))}function Jv(a,b){return Hv(a,Xl,Q([cg(A,b)]))}function Kv(a,b){return Hv(a,Kp,Q([cg(A,b)]))}
function Lv(a,b,c,d){Iv(a,Q(["The map literal starting with ",Bv.B(!1,I(d)),y(b)?[" on line ",A.j(b)," column ",A.j(c)].join(""):null," contains ",O(d)," form(s). Map literals must contain an even number of forms."]))}function Mv(a,b,c){return Iv(a,Q(["Invalid ",Hf(b),": ",c,"."]))}function Nv(a,b,c){return Iv(a,Q(["Invalid character: ",c," found while reading ",Hf(b),"."]))}
function Ov(a,b){a:{var c=ml instanceof E?ml.Ea:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",A.j(c)].join(""));}}return Kv(a,Q(["Unexpected EOF reading ",Hf(ml)," starting ",dg(A,c,b),"."]))}function Pv(a,b){return Jv(a,Q(["Invalid digit ",b," in unicode character."]))}function Qv(a){return Iv(a,Q(["Octal escape sequence must be in range [0, 377]."]))}
function Rv(a,b){b=function(c){return function f(e){return new If(null,function(){for(var g=e;;)if(g=F(g)){if(Ue(g)){var k=sd(g),l=O(k),m=Mf(l);a:for(var n=0;;)if(n<l){var q=mc(k,n),r=R(q,0,null);1<R(q,1,null)&&m.add(r);n+=1}else{k=!0;break a}return k?Of(m.ua(),f(td(g))):Of(m.ua(),null)}m=I(g);k=R(m,0,null);if(1<R(m,1,null))return ve(k,f(Wd(g)));g=Wd(g)}else return null},null,null)}(Mj(c))}(b);return fg(A,a,1<O(b)?"s":null,": ",Rg(1,Vg.B(new Ug(null,-1,", ",null,null),b)))}
function Sv(a,b,c){b=Hf(b);Iv(a,Q([Rv([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function Tv(a){for(var b=a.Uc(null);;)if(nv.j?nv.j(b):nv.call(null,b))b=a.Uc(null);else return b}var Uv=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,Vv=/([-+]?[0-9]+)\/([0-9]+)/,Wv=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function Xv(a,b){a=Qj(a,b);return R(a,0,null)===b}
function Yv(a){if(Xv(Uv,a)){var b=Bh(Qj(Uv,a));if(null!=(b.j?b.j(2):b.call(null,2)))a=0;else{a="-"===(b.j?b.j(1):b.call(null,1));b=null!=(b.j?b.j(3):b.call(null,3))?new X(null,2,5,Y,[b.j?b.j(3):b.call(null,3),10],null):null!=(b.j?b.j(4):b.call(null,4))?new X(null,2,5,Y,[b.j?b.j(4):b.call(null,4),16],null):null!=(b.j?b.j(5):b.call(null,5))?new X(null,2,5,Y,[b.j?b.j(5):b.call(null,5),8],null):null!=(b.j?b.j(7):b.call(null,7))?new X(null,2,5,Y,[b.j?b.j(7):b.call(null,7),parseInt(b.j?b.j(6):b.call(null,
6))],null):new X(null,2,5,Y,[null,null],null);var c=b.j?b.j(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.j?b.j(1):b.call(null,1)),a=a?-1*b:b,a=y(isNaN(a))?null:a)}}else Xv(Wv,a)?(b=Bh(Qj(Wv,a)),a=null!=(b.j?b.j(4):b.call(null,4))?parseFloat(b.j?b.j(1):b.call(null,1)):parseFloat(a)):Xv(Vv,a)?(b=Bh(Qj(Vv,a)),a=b.j?b.j(1):b.call(null,1),b=b.j?b.j(2):b.call(null,2),a=y(Qj(/^\+/,a))?a.substring(1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function Zv(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?a.substring(0,b):null;if(null!=c){b+=1;if(b===O(a))return null;a=a.substring(b);return ov(qe(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Y,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Y,[null,a],null):null}
var $v=function $v(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new H(c.slice(1),0,null):null;return $v.F(arguments[0],c)};$v.F=function(a){for(;;){var b=a.Uc(null);if("\n"===b||"\n"===b||null==b)break}return a};$v.O=1;$v.T=function(a){var b=I(a);a=J(a);return this.F(b,a)};
function aw(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new H(f,0,null)}return b.call(this,c,e)}function b(c){return Iv(c,Q(["Unreadable form"]))}a.O=1;a.T=function(c){var d=I(c);c=Wd(c);return b(d,c)};a.F=b;return a}()};new Bb;function bw(a){var b="#"!==a;return b?(b="'"!==a)?(b=":"!==a)?cw.j?cw.j(a):cw.call(null,a):b:b:b}function dw(a){return"@"===a||"`"===a||"~"===a}function ew(a,b,c,d){if(Pb(c))return Kv(a,Q(["Unexpected EOF while reading start of ",Hf(b),"."]));if(y(y(d)?dw(c):d))return Nv(a,b,c);d=new Bb;for(tv(a,c);;){if(nv(c)||bw(c)||null==c)return A.j(d);if(dw(c))return Nv(a,b,c);d.append(rv(a));c=sv(a)}}
function fw(a,b,c){b=rv(a);if(y(b)){var d=gw.j?gw.j(b):gw.call(null,b);if(y(d))return d.C?d.C(a,b,c):d.call(null,a,b,c);tv(a,b);c=hw.C?hw.C(a,b,c):hw.call(null,a,b,c);return y(c)?c:Iv(a,Q(["No dispatch macro for ",b,"."]))}return Kv(a,Q(["Unexpected EOF while reading dispatch character."]))}function mw(a,b){return Iv(a,Q(["Unmatched delimiter ",b,"."]))}
function nw(a,b,c){b=1+b;if(O(a)!==b)throw Jv(null,Q(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=qv(qe(a,d),c);if(-1===f)return c=qe(a,d),Jv(null,Q(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function ow(a,b,c,d,e){for(var f=1,g=qv(b,c);;){if(-1===g)return Pv(a,b);if(f!==d){var k=sv(a);var l=nv(k);l||(l=cw.j?cw.j(k):cw.call(null,k),l=y(l)?l:null==k);if(y(l))return y(e)?Jv(a,Q(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(g);l=qv(k,c);rv(a);if(-1===l)return Pv(a,k);g=l+g*c;f+=1}else return String.fromCharCode(g)}}
function pw(a){var b=rv(a);if(null!=b){b=bw(b)||dw(b)||nv(b)?A.j(b):ew(a,gp,b,!1);var c=b.length;if(1===c)return qe(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(y($a(b,"u")))return b=nw(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=Iv(a,Q(["Invalid character literal \\u",b,"."]))):a=b,a;if(y($a(b,"o"))){--c;if(3<c)return Iv(a,Q(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=nw(b,c,8);return 255<(b|0)?Qv(a):b}return Iv(a,Q(["Unsupported character: ",b,"."]))}return Kv(a,Q(["Unexpected EOF while reading character."]))}function qw(a){return zv(a)?new X(null,2,5,Y,[uv(a),(vv(a)|0)-1|0],null):null}
function rw(a,b,c,d){var e=qw(c),f=R(e,0,null);e=R(e,1,null);b=null==b?null:sf(b);for(var g=jd(Be);;){var k=Tv(c);if(!y(k)){var l=a,m=f,n=e,q=O(g);Kv(c,Q(["Unexpected EOF while reading ",y(q)?["item ",A.j(q)," of "].join(""):null,Hf(l),y(m)?[", starting at line ",A.j(m)," and column ",A.j(n)].join(""):null,"."]))}if(K.B(b,null==k?null:sf(k)))return ld(g);l=cw.j?cw.j(k):cw.call(null,k);y(l)?(k=l.C?l.C(c,k,d):l.call(null,c,k,d),g=k!==c?Vf.B(g,k):g):(tv(c,k),k=sw?sw(c,!0,null,d):tw.call(null,c,!0,null,
d),g=k!==c?Vf.B(g,k):g)}}function uw(a,b,c){a=rw(jr,")",a,c);return Ne(a)?Xd:cg(Bf,a)}function vw(a,b,c){return rw(Fp,"]",a,c)}function ww(a,b,c){var d=qw(a);b=R(d,0,null);d=R(d,1,null);c=rw($p,"}",a,c);var e=O(c),f=Lj(2,c),g=uj(f);!Cg(e)&&Lv(a,b,d,c);K.B(O(g),O(f))||Sv(a,$p,f);if(e<=2*ji)a=li(hf(c),!0,!0);else a:for(a=hf(c),b=a.length,d=0,e=jd(ki);;)if(d<b)c=d+2,e=md(e,a[d],a[d+1]),d=c;else{a=ld(e);break a}return a}
function xw(a,b){for(var c=function(){var g=new Bb;g.append(b);return g}(),d=rv(a);;){if(y(function(){var g=nv(d);if(g)return g;g=cw.j?cw.j(d):cw.call(null,d);return y(g)?g:null==d}())){var e=A.j(c);tv(a,d);var f=Yv(e);return y(f)?f:Iv(a,Q(["Invalid number: ",e,"."]))}e=function(){var g=c;g.append(d);return g}();f=rv(a);c=e;d=f}}
function yw(a){var b=rv(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=rv(a),-1===parseInt(b|0,16)?Iv(a,Q(["Invalid unicode escape: \\u",b,"."])):ow(a,b,16,4,!0);default:return ov(b)?(b=ow(a,b,8,3,!1),255<(b|0)?Qv(a):b):Iv(a,Q(["Unsupported escape character: \\",b,"."]))}}
function zw(a){for(var b=new Bb,c=rv(a);;){var d=c;if(K.B(null,d))return Ov(a,Q(['"',b]));if(K.B("\\",d)){d=function(){var f=b;f.append(yw(a));return f}();var e=rv(a);b=d;c=e}else{if(K.B('"',d))return A.j(b);d=function(){var f=b;f.append(c);return f}();e=rv(a);b=d;c=e}}}
function Aw(a,b){b=ew(a,wp,b,!0);if(y(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Ul;default:var c=Zv(b);c=y(c)?Td.B(c.j?c.j(0):c.call(null,0),c.j?c.j(1):c.call(null,1)):null;return y(c)?c:Mv(a,wp,b)}else return null}
function Bw(a){var b=rv(a);if(nv(b))return Iv(a,Q(["A single colon is not a valid keyword."]));b=ew(a,Or,b,!0);var c=Zv(b);if(y(y(c)?-1===b.indexOf("::"):c)){var d=c.j?c.j(0):c.call(null,0);c=c.j?c.j(1):c.call(null,1);return":"===qe(b,0)?Mv(a,Or,b):Gf.B(d,c)}return Mv(a,Or,b)}
function Cw(a,b,c){b=sw?sw(a,!0,null,c):tw.call(null,a,!0,null,c);b=b instanceof E?Fe([b,!0]):b instanceof Sd?new v(null,1,[So,b],null):"string"===typeof b?new v(null,1,[So,b],null):b;Re(b)||Iv(a,Q(["Metadata cannot be ",Bv.B(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=sw?sw(a,!0,null,c):tw.call(null,a,!0,null,c);return null!=c&&(c.I&131072||t===c.ge)?Ke(c,kj.F(Q([Le(c),b]))):Iv(a,Q(["Metadata can not be applied to ",Bv.B(!1,c),". ","Metadata can only be applied to IMetas."]))}
function Dw(a,b,c){b=rw(jm,"}",a,c);c=uj(b);K.B(O(b),O(c))||Sv(a,jm,b);return c}function Ew(a){sw?sw(a,!0,null,!0):tw.call(null,a,!0,null,!0);return a}
function Fw(a,b,c){b=rv(a);b=ew(a,Mo,b,!0);var d=null==b?null:Zv(b);if(null==d)var e=null;else e=R(d,0,null),d=R(d,1,null),e=y(e)?null:d;return y(e)?"{"===Tv(a)?(c=rw(Mo,"}",a,c),!Cg(O(c))&&Lv(a,null,null,c),b=pv(A.j(e),Lj(2,c)),c=Lj(2,Wd(c)),K.B(O(uj(b)),O(b))||Sv(a,Mo,b),Bj(b,c)):Iv(a,Q(["Namespaced map with namespace ",b," does not specify a map."])):Iv(a,Q(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function Gw(a,b,c){b=sw?sw(a,!0,null,c):tw.call(null,a,!0,null,c);return K.B(Kr,b)?Number.NaN:K.B(Cn,b)?Number.NEGATIVE_INFINITY:K.B(Nq,b)?Number.POSITIVE_INFINITY:Iv(a,Q([["Invalid token: ##",A.j(b)].join("")]))}function cw(a){switch(a){case '"':return zw;case ":":return Bw;case ";":return $v;case "^":return Cw;case "(":return uw;case ")":return mw;case "[":return vw;case "]":return mw;case "{":return ww;case "}":return mw;case "\\":return pw;case "#":return fw;default:return null}}
function gw(a){switch(a){case "^":return Cw;case "{":return Dw;case "\x3c":return aw();case "!":return $v;case "_":return Ew;case ":":return Fw;case "#":return Gw;default:return null}}
function hw(a,b,c){b=sw?sw(a,!0,null,c):tw.call(null,a,!0,null,c);var d=sw?sw(a,!0,null,c):tw.call(null,a,!0,null,c);b instanceof Sd||Iv(a,Q(["Invalid reader tag: ",Bv.B(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=C.B(el.j(c),b);e=y(e)?e:W.j?W.j(b):W.call(null,b);if(y(e))return e.j?e.j(d):e.call(null,d);c=Ok.j(c);return y(c)?c.B?c.B(b,d):c.call(null,b,d):Iv(a,Q(["No reader function for tag ",Bv.B(!1,b),"."]))}
function tw(a){switch(arguments.length){case 1:return Hw(W,arguments[0]);case 2:return Hw(arguments[0],arguments[1]);case 4:return sw(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}function Hw(a,b){a=hg(a);var c=C.B(a,Kp),d=!af(a,Kp);return sw(b,d,c,a)}
function sw(a,b,c,d){try{for(;;){var e=rv(a);if(!nv(e)){if(null==e){if(y(b)){b=a;var f=y(null)?Kv(b,Q(["EOF while reading, starting at line ",null,"."])):Kv(b,Q(["EOF while reading."]))}else f=c;return f}if(ov(e)||("+"===e||"-"===e)&&ov(a.Fd(null)))return xw(a,e);var g=cw(e);if(y(g)){var k=g.C?g.C(a,e,d):g.call(null,a,e,d);if(k!==a)return k}else return Aw(a,e)}}}catch(l){if(l instanceof Error){f=l;if(f instanceof Sk){b=f instanceof Sk?f.data:null;if(K.B(Kn,Sm.j(b)))throw f;a=kj.F(Q([new v(null,1,
[Sm,Kn],null),b,zv(a)?new v(null,3,[fl,uv(a),nr,vv(a),co,wv(a)],null):null]));throw new Sk(f.message,a,f);}a=kj.F(Q([new v(null,1,[Sm,Kn],null),zv(a)?new v(null,3,[fl,uv(a),nr,vv(a),co,wv(a)],null):null]));throw new Sk(f.message,a,f);}throw l;}};var Iw=function(){var a=new X(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return C.B(y(d)?b:a,c)}}(),Jw=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function Kw(a){a=parseInt(a,10);return Pb(isNaN(a))?a:null}
function Lw(a,b,c,d){if(!(a<=b&&b<=c))throw Error([A.j(d)," Failed:  ",A.j(a),"\x3c\x3d",A.j(b),"\x3c\x3d",A.j(c)].join(""));return b}
function Mw(a){var b=Pj(Jw,a);R(b,0,null);var c=R(b,1,null),d=R(b,2,null),e=R(b,3,null),f=R(b,4,null),g=R(b,5,null),k=R(b,6,null),l=R(b,7,null),m=R(b,8,null),n=R(b,9,null),q=R(b,10,null);if(Pb(b))throw Error(["Unrecognized date/time syntax: ",A.j(a)].join(""));a=Kw(c);b=function(){var D=Kw(d);return y(D)?D:1}();c=function(){var D=Kw(e);return y(D)?D:1}();var r=function(){var D=Kw(f);return y(D)?D:0}(),u=function(){var D=Kw(g);return y(D)?D:0}(),w=function(){var D=Kw(k);return y(D)?D:0}(),x=function(){a:if(K.B(3,
O(l)))var D=l;else if(3<O(l))D=l.substring(0,3);else for(D=new Bb(l);;)if(3>D.getLength())D=D.append("0");else{D=D.toString();break a}D=Kw(D);return y(D)?D:0}();m=(K.B(m,"-")?-1:1)*(60*function(){var D=Kw(n);return y(D)?D:0}()+function(){var D=Kw(q);return y(D)?D:0}());return new X(null,8,5,Y,[a,Lw(1,b,12,"timestamp month field must be in range 1..12"),Lw(1,c,Iw(b,0===(a%4+4)%4&&(0!==(a%100+100)%100||0===(a%400+400)%400)),"timestamp day field must be in range 1..last day in month"),Lw(0,r,23,"timestamp hour field must be in range 0..23"),
Lw(0,u,59,"timestamp minute field must be in range 0..59"),Lw(0,w,K.B(u,59)?60:59,"timestamp second field must be in range 0..60"),Lw(0,x,999,"timestamp millisecond field must be in range 0..999"),m],null)}
var Nw=Jg(null),Ow=Jg(kj.F(Q([new v(null,4,[oq,function(a){if("string"===typeof a){var b=Mw(a);if(y(b)){a=R(b,0,null);var c=R(b,1,null),d=R(b,2,null),e=R(b,3,null),f=R(b,4,null),g=R(b,5,null),k=R(b,6,null);b=R(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,g,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",A.j(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},lo,function(a){if("string"===typeof a)return new Rk(a.toLowerCase(),null);throw Error("UUID literal expects a string as its representation.");
},no,function(a){if(Te(a))return Zg.B(Rh,a);throw Error("Queue literal expects a vector for its elements.");},Mp,function(a){if(Te(a)){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e);b.push(f);e+=1}else if(a=F(a))c=a,Ue(c)?(a=sd(c),e=td(c),c=a,d=O(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(Re(a)){b={};a=F(a);c=null;for(e=d=0;;)if(e<d){var g=c.ka(null,e);f=R(g,0,null);g=R(g,1,null);f=Hf(f);b[f]=g;e+=1}else if(a=F(a))Ue(a)?(d=sd(a),a=td(a),c=d,d=O(d)):
(d=I(a),c=R(d,0,null),d=R(d,1,null),c=Hf(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function Pw(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,g,k,l,m,n,q){if("%"==m)return"%";var r=c.shift();if("undefined"==typeof r)throw Error("[goog.string.format] Not enough arguments");arguments[0]=r;return Pw.Bc[m].apply(null,arguments)})}Pw.Bc={};
Pw.Bc.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+hb(" ",Number(c)-a.length):hb(" ",Number(c)-a.length)+a};
Pw.Bc.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+hb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+hb(b,a)+d);return d};Pw.Bc.d=function(a,b,c,d,e,f,g,k){return Pw.Bc.f(parseInt(a,10),b,c,d,0,f,g,k)};
Pw.Bc.i=Pw.Bc.d;Pw.Bc.u=Pw.Bc.d;var Qw=!eu||9<=Number(su),Rw=eu&&!pu("9");!hu||pu("528");gu&&pu("1.9b")||eu&&pu("8")||du&&pu("9.5")||hu&&pu("528");gu&&!pu("8")||eu&&pu("9");var Sw=function(){if(!ba.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ba.addEventListener("test",ca,b),ba.removeEventListener("test",ca,b)}catch(c){}return a}();function Tw(){0!=Uw&&(Vw[ha(this)]=this);this.ld=this.ld;this.pd=this.pd}var Uw=0,Vw={};Tw.prototype.ld=!1;Tw.prototype.pe=function(){if(!this.ld&&(this.ld=!0,this.ac(),0!=Uw)){var a=ha(this);if(0!=Uw&&this.pd&&0<this.pd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Vw[a]}};Tw.prototype.ac=function(){if(this.pd)for(;this.pd.length;)this.pd.shift()()};function Ww(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ad=!1}Ww.prototype.stopPropagation=function(){this.ad=!0};Ww.prototype.preventDefault=function(){this.defaultPrevented=!0};function Xw(a,b){Ww.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Id=null;a&&this.init(a,b)}na(Xw,Ww);var Yw={2:"touch",3:"pen",4:"mouse"};
Xw.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(gu){a:{try{pa(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=hu||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=hu||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Yw[a.pointerType]||"";this.state=a.state;this.Id=a;a.defaultPrevented&&this.preventDefault()};Xw.prototype.stopPropagation=function(){Xw.rc.stopPropagation.call(this);this.Id.stopPropagation?this.Id.stopPropagation():this.Id.cancelBubble=!0};
Xw.prototype.preventDefault=function(){Xw.rc.preventDefault.call(this);var a=this.Id;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Rw)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Zw="closure_listenable_"+(1E6*Math.random()|0),$w=0;function ax(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++$w;this.removed=this.ee=!1}function bx(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function cx(a){this.src=a;this.listeners={};this.Yd=0}cx.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Yd++);var g=dx(a,b,d,e);-1<g?(b=a[g],c||(b.ee=!1)):(b=new ax(b,this.src,f,!!d,e),b.ee=c,a.push(b));return b};
cx.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=dx(e,b,c,d);return-1<b?(bx(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Yd--),!0):!1};function ex(a,b){var c=b.type;c in a.listeners&&Na(a.listeners[c],b)&&(bx(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Yd--))}
cx.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,bx(d[e]);delete this.listeners[c];this.Yd--}return b};cx.prototype.gf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=dx(a,b,c,d));return-1<e?a[e]:null};function dx(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};function fx(a,b){Tw.call(this);this.ag=this.bf=null;this.$c=b;this.jb=[];if(a>this.$c)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(b=0;b<a;b++)this.jb.push(this.Kc())}na(fx,Tw);function gx(a,b){a.bf=b}h=fx.prototype;h.Md=function(){return this.jb.length?this.jb.pop():this.Kc()};h.bd=function(a){this.jb.length<this.$c?this.jb.push(a):this.kd(a)};h.Kc=function(){return this.bf?this.bf():{}};
h.kd=function(a){if(this.ag)this.ag(a);else if(fa(a))if("function"===typeof a.pe)a.pe();else for(var b in a)delete a[b]};h.ac=function(){fx.rc.ac.call(this);for(var a=this.jb;a.length;)this.kd(a.pop());delete this.jb};function hx(){this.Jd=[];this.Td=new rb;this.xg=this.yg=this.zg=this.tg=0;this.Wd=new rb;this.Yf=this.wg=0;this.oh=1;this.ef=new fx(0,4E3);this.ef.Kc=function(){return new ix};this.ug=new fx(0,50);this.ug.Kc=function(){return new jx};var a=this;this.eg=new fx(0,2E3);gx(this.eg,function(){return a.oh++});this.Af={}}function jx(){this.Df=this.time=this.count=0}
jx.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Df&&a.push(" [VarAlloc \x3d ",this.Df,"]");return a.join("")};function ix(){}function kx(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(lx(a.cg-c));e.push(" ",mx(a.cg-b));0==a.ff?e.push(" Start        "):1==a.ff?(e.push(" Done "),e.push(lx(a.Oh-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.vh&&e.push("[VarAlloc ",a.vh,"] ");return e.join("")}
ix.prototype.toString=function(){return null==this.type?this.Yg:"["+this.type+"] "+this.Yg};var nx={Qh:!0};hx.prototype.removeAllListeners=function(){this.Af={}};function ox(a){a.Af.stop&&qb(a.Td,function(b){this.Af.stop(b.id,nx)},a);a.Td.clear()}
hx.prototype.reset=function(){ox(this);for(var a=0;a<this.Jd.length;a++){var b=this.Jd[a];b.id?this.Td.Jc(b.id)||(this.eg.bd(b.id),this.ef.bd(b)):this.ef.bd(b)}this.Jd.length=0;this.tg=Date.now();this.Yf=this.wg=this.xg=this.yg=this.zg=0;a=this.Wd.ob();for(b=0;b<a.length;b++){var c=this.Wd.get(a[b]);c.count=0;c.time=0;c.Df=0;this.ug.bd(c)}this.Wd.clear()};
hx.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.Jd.length;d++){var e=this.Jd[d];1==e.ff&&c.pop();a.push(" ",kx(e,this.tg,b,c.join("")));b=e.cg;a.push("\n");0==e.ff&&c.push("|  ")}if(0!=this.Td.Wa()){var f=Date.now();a.push(" Unstopped timers:\n");qb(this.Td,function(g){a.push("  ",g," (",f-g.startTime," ms, started at ",mx(g.startTime),")\n")})}b=this.Wd.ob();for(d=0;d<b.length;d++)c=this.Wd.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.wg,"\n",
"Total comments created ",this.Yf,"\n","Overhead start: ",this.zg," ms\n","Overhead end: ",this.yg," ms\n","Overhead comment: ",this.xg," ms\n");return a.join("")};function lx(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function mx(a){a=Math.round(a);var b=a%1E3;return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+b).substring(1,4)}new hx;var px="closure_lm_"+(1E6*Math.random()|0),qx={},rx=0;function sx(a,b,c,d,e){if(d&&d.once)return tx(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)sx(a,b[f],c,d,e);return null}c=ux(c);return a&&a[Zw]?a.Dc.add(String(b),c,!1,fa(d)?!!d.capture:!!d,e):vx(a,b,c,!1,d,e)}
function vx(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=fa(e)?!!e.capture:!!e,k=wx(a);k||(a[px]=k=new cx(a));c=k.add(b,c,d,g,f);if(c.proxy)return c;d=xx();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Sw||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(yx(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");rx++;return c}
function xx(){var a=zx,b=Qw?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function tx(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)tx(a,b[f],c,d,e);return null}c=ux(c);return a&&a[Zw]?a.Dc.add(String(b),c,!0,fa(d)?!!d.capture:!!d,e):vx(a,b,c,!0,d,e)}
function Ax(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Ax(a,b[f],c,d,e);else d=fa(d)?!!d.capture:!!d,c=ux(c),a&&a[Zw]?a.Dc.remove(String(b),c,d,e):a&&(a=wx(a))&&(b=a.gf(b,c,d,e))&&Bx(b)}
function Bx(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[Zw])ex(b.Dc,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(yx(c),d):b.addListener&&b.removeListener&&b.removeListener(d);rx--;(c=wx(b))?(ex(c,a),0==c.Yd&&(c.src=null,b[px]=null)):bx(a)}}}function yx(a){return a in qx?qx[a]:qx[a]="on"+a}
function Cx(a,b,c,d){var e=!0;if(a=wx(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=Dx(f,d),e=e&&!1!==f)}return e}function Dx(a,b){var c=a.listener,d=a.handler||a.src;a.ee&&Bx(a);return c.call(d,b)}
function zx(a,b){if(a.removed)return!0;if(!Qw){if(!b)a:{b=["window","event"];for(var c=ba,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Xw(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.ad&&0<=e;e--){b.currentTarget=d[e];var f=Cx(d[e],a,!0,b);c=c&&f}for(e=0;!b.ad&&e<d.length;e++)b.currentTarget=
d[e],f=Cx(d[e],a,!1,b),c=c&&f}return c}return Dx(a,new Xw(b,this))}function wx(a){a=a[px];return a instanceof cx?a:null}var Ex="__closure_events_fn_"+(1E9*Math.random()>>>0);function ux(a){if("function"===typeof a)return a;a[Ex]||(a[Ex]=function(b){return a.handleEvent(b)});return a[Ex]};function Fx(){Tw.call(this);this.Dc=new cx(this);this.Eg=this;this.rf=null}na(Fx,Tw);Fx.prototype[Zw]=!0;h=Fx.prototype;h.addEventListener=function(a,b,c,d){sx(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Ax(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.rf;if(c)for(b=[];c;c=c.rf)b.push(c);c=this.Eg;var d=a.type||a;if("string"===typeof a)a=new Ww(a,c);else if(a instanceof Ww)a.target=a.target||c;else{var e=a;a=new Ww(d,c);Za(a,e)}e=!0;if(b)for(var f=b.length-1;!a.ad&&0<=f;f--){var g=a.currentTarget=b[f];e=Gx(g,d,!0,a)&&e}a.ad||(g=a.currentTarget=c,e=Gx(g,d,!0,a)&&e,a.ad||(e=Gx(g,d,!1,a)&&e));if(b)for(f=0;!a.ad&&f<b.length;f++)g=a.currentTarget=b[f],e=Gx(g,d,!1,a)&&e;return e};
h.ac=function(){Fx.rc.ac.call(this);this.removeAllListeners();this.rf=null};h.removeAllListeners=function(a){return this.Dc?this.Dc.removeAll(a):0};function Gx(a,b,c,d){b=a.Dc.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var k=g.listener,l=g.handler||g.src;g.ee&&ex(a.Dc,g);e=!1!==k.call(l,d)&&e}}return e&&!d.defaultPrevented}h.gf=function(a,b,c,d){return this.Dc.gf(String(a),b,c,d)};function Hx(a,b,c){if("function"===typeof a)c&&(a=ma(a,c));else if(a&&"function"==typeof a.handleEvent)a=ma(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ba.setTimeout(a,b||0)};function Ix(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Jx(){}Jx.prototype.Nf=null;function Kx(a){var b;(b=a.Nf)||(b={},Lx(a)&&(b[0]=!0,b[1]=!0),b=a.Nf=b);return b};var Mx;function Nx(){}na(Nx,Jx);function Ox(a){return(a=Lx(a))?new ActiveXObject(a):new XMLHttpRequest}function Lx(a){if(!a.fg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){const b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];for(let c=0;c<b.length;c++){const d=b[c];try{return new ActiveXObject(d),a.fg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.fg}
Mx=new Nx;function Px(a){Fx.call(this);this.headers=new rb;this.Ce=a||null;this.Fc=!1;this.Be=this.ra=null;this.mf="";this.od=0;this.Xc=this.kf=this.qe=this.df=!1;this.ye=0;this.xe=null;this.qg=Qx;this.Cf=this.og=this.td=!1}na(Px,Fx);var Qx="",Rx=/^https?$/i,Sx=["POST","PUT"];h=Px.prototype;
h.send=function(a,b,c,d){if(this.ra)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.mf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.mf=a;this.od=0;this.df=!1;this.Fc=!0;this.ra=this.Ce?Ox(this.Ce):Ox(Mx);this.Be=this.Ce?Kx(this.Ce):Kx(Mx);this.ra.onreadystatechange=ma(this.lg,this);this.og&&"onprogress"in this.ra&&(this.ra.onprogress=ma(function(f){this.kg(f,!0)},this),this.ra.upload&&(this.ra.upload.onprogress=ma(this.kg,this)));try{this.kf=!0,this.ra.open(b,String(a),
!0),this.kf=!1}catch(f){Tx(this);return}a=c||"";const e=this.headers.clone();d&&lb(d,function(f,g){e.set(g,f)});d=Ka(e.ob());c=ba.FormData&&a instanceof ba.FormData;!(0<=Fa(Sx,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,g){this.ra.setRequestHeader(g,f)},this);this.qg&&(this.ra.responseType=this.qg);"withCredentials"in this.ra&&this.ra.withCredentials!==this.td&&(this.ra.withCredentials=this.td);try{Ux(this),0<this.ye&&((this.Cf=Vx(this.ra))?
(this.ra.timeout=this.ye,this.ra.ontimeout=ma(this.vg,this)):this.xe=Hx(this.vg,this.ye,this)),this.qe=!0,this.ra.send(a),this.qe=!1}catch(f){Tx(this)}};function Vx(a){return eu&&pu(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function La(a){return"content-type"==a.toLowerCase()}h.vg=function(){"undefined"!=typeof aa&&this.ra&&(this.od=8,this.dispatchEvent("timeout"),this.abort(8))};function Tx(a){a.Fc=!1;a.ra&&(a.Xc=!0,a.ra.abort(),a.Xc=!1);a.od=5;Wx(a);Xx(a)}
function Wx(a){a.df||(a.df=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}h.abort=function(a){this.ra&&this.Fc&&(this.Fc=!1,this.Xc=!0,this.ra.abort(),this.Xc=!1,this.od=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Xx(this))};h.ac=function(){this.ra&&(this.Fc&&(this.Fc=!1,this.Xc=!0,this.ra.abort(),this.Xc=!1),Xx(this,!0));Px.rc.ac.call(this)};h.lg=function(){this.ld||(this.kf||this.qe||this.Xc?Yx(this):this.ph())};h.ph=function(){Yx(this)};
function Yx(a){if(a.Fc&&"undefined"!=typeof aa&&(!a.Be[1]||4!=Zx(a)||2!=$x(a)))if(a.qe&&4==Zx(a))Hx(a.lg,0,a);else if(a.dispatchEvent("readystatechange"),4==Zx(a)){a.Fc=!1;try{ay(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.od=6,Wx(a))}finally{Xx(a)}}}h.kg=function(a,b){this.dispatchEvent(by(a,"progress"));this.dispatchEvent(by(a,b?"downloadprogress":"uploadprogress"))};function by(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function Xx(a,b){if(a.ra){Ux(a);const c=a.ra,d=a.Be[0]?ca:null;a.ra=null;a.Be=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function Ux(a){a.ra&&a.Cf&&(a.ra.ontimeout=null);a.xe&&(ba.clearTimeout(a.xe),a.xe=null)}
function ay(a){var b=$x(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.mf).match(wb)[1]||null,!a&&ba.self&&ba.self.location&&(a=ba.self.location.protocol,a=a.substr(0,a.length-1)),b=!Rx.test(a?a.toLowerCase():"");c=b}return c}function Zx(a){return a.ra?a.ra.readyState:0}function $x(a){try{return 2<Zx(a)?a.ra.status:-1}catch(b){return-1}}
function cy(a){try{return a.ra?a.ra.responseText:""}catch(b){return""}}h.getResponseHeader=function(a){if(this.ra&&4==Zx(this))return a=this.ra.getResponseHeader(a),null===a?void 0:a};h.getAllResponseHeaders=function(){return this.ra&&4==Zx(this)?this.ra.getAllResponseHeaders()||"":""};function dy(){this.Ub=[];this.nc=[]}function ey(a){0==a.Ub.length&&(a.Ub=a.nc,a.Ub.reverse(),a.nc=[])}h=dy.prototype;h.enqueue=function(a){this.nc.push(a)};h.Hd=function(){ey(this);return this.Ub.pop()};h.peek=function(){ey(this);var a=this.Ub;return a[a.length-1]};h.Wa=function(){return this.Ub.length+this.nc.length};h.isEmpty=function(){return 0==this.Ub.length&&0==this.nc.length};h.clear=function(){this.Ub=[];this.nc=[]};h.contains=function(a){return 0<=Fa(this.Ub,a)||0<=Fa(this.nc,a)};
h.remove=function(a){var b=this.Ub;var c=Ga(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Na(this.nc,a)};h.sb=function(){for(var a=[],b=this.Ub.length-1;0<=b;--b)a.push(this.Ub[b]);var c=this.nc.length;for(b=0;b<c;++b)a.push(this.nc[b]);return a};function fy(a){this.Ya=new rb;a&&this.addAll(a)}function gy(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ha(a):b.substr(0,1)+a}h=fy.prototype;h.Wa=function(){return this.Ya.Wa()};h.add=function(a){this.Ya.set(gy(a),a)};h.addAll=function(a){a=jb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};h.removeAll=function(a){a=jb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};h.remove=function(a){return this.Ya.remove(gy(a))};h.clear=function(){this.Ya.clear()};h.isEmpty=function(){return this.Ya.isEmpty()};
h.contains=function(a){return this.Ya.Jc(gy(a))};h.intersection=function(a){var b=new fy;a=jb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};h.difference=function(a){var b=this.clone();b.removeAll(a);return b};h.sb=function(){return this.Ya.sb()};h.clone=function(){return new fy(this)};h.equals=function(a){return this.Wa()==ib(a)&&hy(this,a)};
function hy(a,b){var c=ib(b);if(a.Wa()>c)return!1;!(b instanceof fy)&&5<c&&(b=new fy(b));return mb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.Gd&&"function"==typeof e.Gd)d=e.Gd(d);else if(da(e)||"string"===typeof e)d=0<=Fa(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})}h.ud=function(){return this.Ya.ud(!1)};function iy(a,b){Tw.call(this);this.hg=a||0;this.$c=b||10;if(this.hg>this.$c)throw Error(jy);this.jb=new dy;this.Mc=new fy;this.delay=0;this.lf=null;this.ae()}na(iy,Tw);var jy="[goog.structs.Pool] Min can not be greater than max";h=iy.prototype;h.Md=function(){var a=Date.now();if(!(null!=this.lf&&a-this.lf<this.delay)){for(var b;0<this.jb.Wa()&&(b=this.jb.Hd(),!this.qf(b));)this.ae();!b&&this.Wa()<this.$c&&(b=this.Kc());b&&(this.lf=a,this.Mc.add(b));return b}};
h.bd=function(a){return this.Mc.remove(a)?(this.Ee(a),!0):!1};h.Ee=function(a){this.Mc.remove(a);this.qf(a)&&this.Wa()<this.$c?this.jb.enqueue(a):this.kd(a)};h.ae=function(){for(var a=this.jb;this.Wa()<this.hg;)a.enqueue(this.Kc());for(;this.Wa()>this.$c&&0<this.jb.Wa();)this.kd(a.Hd())};h.Kc=function(){return{}};h.kd=function(a){if("function"==typeof a.pe)a.pe();else for(var b in a)a[b]=null};h.qf=function(a){return"function"==typeof a.Gg?a.Gg():!0};
h.contains=function(a){return this.jb.contains(a)||this.Mc.contains(a)};h.Wa=function(){return this.jb.Wa()+this.Mc.Wa()};h.isEmpty=function(){return this.jb.isEmpty()&&this.Mc.isEmpty()};h.ac=function(){iy.rc.ac.call(this);if(0<this.Mc.Wa())throw Error("[goog.structs.Pool] Objects not released");delete this.Mc;for(var a=this.jb;!a.isEmpty();)this.kd(a.Hd());delete this.jb};function ky(a,b){this.gg=a;this.Cg=b}ky.prototype.getKey=function(){return this.gg};ky.prototype.getValue=function(){return this.Cg};ky.prototype.clone=function(){return new ky(this.gg,this.Cg)};function ly(a){this.Nb=[];if(a)a:{if(a instanceof ly){var b=a.ob();a=a.sb();if(0>=this.Wa()){for(var c=this.Nb,d=0;d<b.length;d++)c.push(new ky(b[d],a[d]));break a}}else b=Va(a),a=Ta(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}h=ly.prototype;h.insert=function(a,b){var c=this.Nb;c.push(new ky(a,b));a=c.length-1;b=this.Nb;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
h.remove=function(){var a=this.Nb,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ma(a);else{a[0]=a.pop();a=0;b=this.Nb;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].getKey()<b[f].getKey()?g:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};h.peek=function(){var a=this.Nb;if(0!=a.length)return a[0].getValue()};h.sb=function(){for(var a=this.Nb,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
h.ob=function(){for(var a=this.Nb,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};h.Gd=function(a){return Ia(this.Nb,function(b){return b.getValue()==a})};h.Jc=function(a){return Ia(this.Nb,function(b){return b.getKey()==a})};h.clone=function(){return new ly(this)};h.Wa=function(){return this.Nb.length};h.isEmpty=function(){return 0==this.Nb.length};h.clear=function(){Ma(this.Nb)};function my(){ly.call(this)}na(my,ly);my.prototype.enqueue=function(a,b){this.insert(a,b)};my.prototype.Hd=function(){return this.remove()};function ny(a,b){this.$f=void 0;this.vf=new my;iy.call(this,a,b)}na(ny,iy);h=ny.prototype;h.Md=function(){var a=ny.rc.Md.call(this);a&&this.delay&&(this.$f=ba.setTimeout(ma(this.jf,this),this.delay));return a};h.jf=function(){for(var a=this.vf;0<a.Wa();){var b=this.Md();if(b)a.Hd().apply(this,[b]);else break}};h.Ee=function(a){ny.rc.Ee.call(this,a);this.jf()};h.ae=function(){ny.rc.ae.call(this);this.jf()};h.ac=function(){ny.rc.ac.call(this);ba.clearTimeout(this.$f);this.vf.clear();this.vf=null};function oy(a,b,c,d){this.bh=a;this.td=!!d;ny.call(this,b,c)}na(oy,ny);oy.prototype.Kc=function(){const a=new Px,b=this.bh;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.td&&(a.td=!0);return a};oy.prototype.qf=function(a){return!a.ld&&!a.ra};function py(a){a=B(a);throw Tk(B(ar.j(a)),Ge.B(a,ar));}var qy={};
function ry(a,b,c,d){if(y(py)){var e=new mk(function(){var f=new Date,g=y(a)?a:"?",k=A.j(b),l=null==c?"\x3ctruss/nil\x3e":ek(Q([c])),m=qy===d?null:d,n=new mk(function(){var r=y(m)?A.j(m):null;var u=["Invariant violation in `",A.j("taoensso.sente"),":",A.j(g),"`. Test form `",A.j(k),"` failed against input val `",A.j(l),"`."].join("");return Pb(m)?u:[u," An error was thrown while evaluating test form: [",r,"]."].join("")}),q=function(){if(y(null))try{return null.K?null.K():null.call(null)}catch(r){if(r instanceof
Error)return new v(null,1,[Xk,r],null);throw r;}else return null}();return Qi([Dl,ar,Hn,kr,ik,ko,Ko,Om,Ar,to,Xo,kl],[null,n,null,f,c,"taoensso.sente",Sb(c),m,!0,q,a,k])});return py.j?py.j(e):py.call(null,e)}return null};var sy=new X(null,3,5,Y,[2,120,0],null);
function ty(a){if(null==a||""===a)return null;if("string"===typeof a){var b=C.C(null,el,dm),c=C.C(null,Ok,dm);y(U.B?U.B(b,dm):U.call(null,b,dm))&&(b=B(Ow),b=uy.B?uy.B(Td,b):uy.call(null,Td,b));c=y(U.B?U.B(c,dm):U.call(null,c,dm))?B(Nw):c;c=S.F(null,el,b,Q([Ok,c]));if(y(y(a)?jg(a,""):a)){a=new xv(a,O(a));a:if(b=Array(1),Xe(null))for(var d=0,e=F(null);;)if(e&&1>d)b[d]=I(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)b[d]=null,d+=1;else break;c=Hw(c,new yv(a,b))}else c=null;return c}throw Tk("`read-edn` attempt against non-nil, non-string arg",
new v(null,2,[Yo,a,Sm,Sb(a)],null));}function vy(a){if(null!=a&&(a.P&4096||t===a.Ne)){var b=Hf(a);a=Ef(a);return y(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function wy(a){return"string"===typeof a?K.B(a,"")?null:a:null}function xy(a){return"number"===typeof a?tf(a):"string"===typeof a?(a=parseInt(a,10),y(isNaN(a))?null:a):null}function yy(a){var b=vy(a);if(!y(b))throw Tk(["`as-",Hf(hm),"` failed against: `",ek(Q([a])),"`"].join(""),new v(null,2,[Yo,a,Sm,Sb(a)],null));return b}
function zy(a,b,c){return qf(Ej(),of(function(d,e){var f=R(e,0,null);e=R(e,1,null);return a.C?a.C(d,f,e):a.call(null,d,f,e)},nf),b,c)}function Ay(a,b){return $b.C(function(c,d){c=a.j?a.j(d):a.call(null,d);return y(c)?new fe(c):null},null,b)}
function By(){var a=new Ng(-1);return function(){function b(e){return a.yc(null,a.lb(null)+e)}function c(){return a.yc(null,a.lb(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.K=c;d.j=b;return d}()}
var Cy=function Cy(a){switch(arguments.length){case 1:return Cy.j(arguments[0]);case 2:return Cy.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Cy.j=function(a){return Cy.B(a,null)};Cy.B=function(a,b){var c=hg(b),d=C.B(c,lr);b=C.B(c,eq);c=C.C(c,nl,1E3);a=Math.pow(2,36<a?36:a);a=tf(.5*(a+Math.random()*a)*c);d=tf(y(d)?a<d?d:a:a);return tf(y(b)?d>b?b:d:d)};Cy.O=2;K.B("default","nodejs");var Dy="undefined"!==typeof window?window:null;
function Ey(a){a=bs(A.j(a),/-/,2);var b=R(a,0,null);a=R(a,1,null);var c=/\d+/;if("string"===typeof b)b=Rj(c,b);else throw new TypeError("re-seq must match against a string.");b=y(b)?$g(xy,b):null;return new v(null,2,[ul,b,Rp,y(a)?a.toLowerCase():null],null)}
function Fy(a){var b=R(sy,0,null),c=R(sy,1,null),d=R(sy,2,null),e=Te(a)?a:ul.j(Ey(a));a=R(e,0,null);var f=R(e,1,null);e=R(e,2,null);e=$g(function(g){return y(g)?g:0},new X(null,3,5,Y,[a,f,e],null));a=R(e,0,null);f=R(e,1,null);e=R(e,2,null);if(!(b>a||K.B(b,a)&&(c>f||K.B(c,f)&&d>=e)))throw Tk("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new v(null,2,[Co,Zr(".",new X(null,3,5,Y,[a,f,e],null)),on,Zr(".",new X(null,3,5,Y,[b,c,
d],null))],null));}function Gy(a,b){return Wa(a,Hf(b),null)}function Hy(a,b){return null==b?null==a?W:a:S.C(a,"x-requested-with",b)}var Iy=function Iy(a){switch(arguments.length){case 3:return Iy.C(arguments[0],arguments[1],arguments[2]);case 2:return Iy.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new H(c.slice(3),0,null);return Iy.F(arguments[0],arguments[1],arguments[2],c)}};
Iy.C=function(a,b,c){return af(a,b)?a:S.C(a,b,c)};Iy.F=function(a,b,c,d){return zy(Iy,Iy.C(a,b,c),d)};Iy.T=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.F(b,a,c,d)};Iy.B=function(a,b){return mf(function(c,d,e){return af(c,d)?c:S.C(c,d,e)},null==a?W:a,b)};Iy.O=3;
var Jy=function Jy(a){switch(arguments.length){case 2:return Jy.B(arguments[0],arguments[1]);case 3:return Jy.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Jy.B=function(a,b){b=0>b?0:b;var c=O(a);return b>=c?Be:Kh(a,b,c)};Jy.C=function(a,b,c){b=0>b?0:b;var d=tf(O(a));c=c>d?d:c;return b>=c?Be:Kh(a,b,c)};Jy.O=3;
var Ky=function Ky(a){switch(arguments.length){case 2:return Ky.B(arguments[0],arguments[1]);case 3:return Ky.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Ky.B=function(a,b){var c=O(a);return 0>b?(b+=c,Kh(a,0>b?0:b,c)):b>=c?Be:Kh(a,b,c)};Ky.C=function(a,b,c){if(0>=c)return Be;var d=tf(O(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Kh(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?Be:Kh(a,b,d)};Ky.O=3;
function Ly(a,b){for(var c=Be;;){var d=F(b);b=I(d);if(d=J(d))c=Ae.B(c,b),b=d;else return a.B?a.B(c,b):a.call(null,c,b)}}Gg.B($b,Sf);function uy(a,b){b=mf(function(c,d,e){return Wf(c,a.j?a.j(d):a.call(null,d),e)},Tf.j?Tf.j(W):Tf.call(null,W),b);return Uf.j?Uf.j(b):Uf.call(null,b)}function My(a,b){return K.B(uj(gi(b)),uj.j?uj.j(a):uj.call(null,a))}
function Ny(a,b,c,d){var e=F(b);if(e){b=qe(b,0);if(e=J(e))return S.C(a,b,Ny(C.B(a,b),e,c,d));if(y(U.B?U.B(d,ur):U.call(null,d,ur)))return Ge.B(a,b);c=C.C(a,b,c);d=d.j?d.j(c):d.call(null,c);return y(U.B?U.B(d,ur):U.call(null,d,ur))?Ge.B(a,b):S.C(a,b,d)}return d.j?d.j(a):d.call(null,a)}function Oy(a,b,c){return Ny(a,b,null,function(d){return Ge.B(d,c)})}var Py={};
function Qy(a,b){return $b.C(function(c,d){return null==d?c:mf(function l(f,g,k){var m=C.C(f,g,Py);if(m===Py)return S.C(f,g,k);if(y(U.B?U.B(k,ur):U.call(null,k,ur)))return Ge.B(f,g);if(y(y(!1)?Re(k)&&Re(m):!1))return S.C(f,g,mf(l,m,k));k=a.B?a.B(m,k):a.call(null,m,k);return y(U.B?U.B(k,ur):U.call(null,k,ur))?Ge.B(f,g):S.C(f,g,k)},y(c)?c:W,d)},null,b)}function Ry(a){return Qy(function(b,c){return c},a)}function Sy(a,b){this.pf=a;this.wf=b}
function Ty(a,b,c){for(;;){var d=B(b);c=c.j?c.j(d):c.call(null,d);var e=c instanceof Sy,f=e?c.pf:c;Kg(b,f);return e?c.wf:a.B?a.B(d,f):a.call(null,d,f)}}
function Uy(a,b,c,d){if(y(U.B?U.B(d,ur):U.call(null,d,ur)))for(;;){var e=B(b);d=Ge.B(e,c);Kg(b,d);b=C.C(e,c,null);c=ur;return a.B?a.B(b,c):a.call(null,b,c)}else for(;;){e=B(b);var f=C.C(e,c,null),g=d.j?d.j(f):d.call(null,f),k=g instanceof Sy,l=k?g.pf:g;d=y(U.B?U.B(l,ur):U.call(null,l,ur))?Ge.B(e,c):S.C(e,c,l);Kg(b,d);return k?g.wf:a.B?a.B(f,l):a.call(null,f,l)}}
function Vy(a,b,c){var d=Wy,e=F(b);if(e)if(J(e))if(y(U.B?U.B(c,ur):U.call(null,c,ur)))for(;;){var f=B(a);e=Ly(function(m){return function(n,q){return Oy(m,n,q)}}(f,e,e),b);Kg(a,e);a=ch(f,b);b=ur;return d.B?d.B(a,b):d.call(null,a,b)}else for(;;){f=B(a);var g=ch(f,b);c=c.j?c.j(g):c.call(null,g);var k=c instanceof Sy,l=k?c.pf:c;e=y(U.B?U.B(l,ur):U.call(null,l,ur))?Ly(function(m){return function(n,q){return Oy(m,n,q)}}(f,g,c,k,l,e,e),b):dh(f,b,l);Kg(a,e);return k?c.wf:d.B?d.B(g,l):d.call(null,g,l)}else return Uy(d,
a,qe(b,0),c);else return Ty(d,a,c)}function Wy(a,b){return b}function Xy(a,b){return Ty(Wy,a,b)}function Yy(a,b,c){return Vy(a,b,c)}function Zy(a){return a}function $y(a,b,c){a:{var d=F(b);if(d)if(J(d))for(;;){d=B(a);var e=dh(d,b,c);Kg(a,e);a=ch(d,b);Zy.B?Zy.B(a,c):Zy.call(null,a,c);break a}else b:for(b=qe(b,0);;){d=B(a);e=S.C(d,b,c);Kg(a,e);a=C.C(d,b,null);Zy.B?Zy.B(a,c):Zy.call(null,a,c);break b}else b:for(;;){b=B(a);Kg(a,c);Zy.B?Zy.B(b,c):Zy.call(null,b,c);break b}}}
function az(){return(new Date).getTime()}(function(){var a=Gy(Dy,"performance");if(y(a)){var b=function(){var c=Gy(a,"now");if(y(c))return c;c=Gy(a,"mozNow");if(y(c))return c;c=Gy(a,"msNow");if(y(c))return c;c=Gy(a,"oNow");return y(c)?c:Gy(a,"webkitNow")}();return y(b)?function(){return 1E6*tf(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function bz(a){var b=new Ng(W),c={};return function(){function d(f){var g=null;if(0<arguments.length){g=0;for(var k=Array(arguments.length-0);g<k.length;)k[g]=arguments[g+0],++g;g=new H(k,0,null)}return e.call(this,g)}function e(f){var g=I(f);if(y(U.B?U.B(g,Qn):U.call(null,g,Qn)))return f=J(f),g=I(f),y(U.B?U.B(g,Zl):U.call(null,g,Zl))?zd(b,W):b.yc(null,Ge.B(b.lb(null),f)),null;if(y(U.B?U.B(g,Bq):U.call(null,g,Bq)))return f=J(f),g=cg(a,f),b.yc(null,S.C(b.lb(null),f,g)),g;g=C.C(B(b),f,c);return g===
c?(g=cg(a,f),b.yc(null,S.C(b.lb(null),f,g)),g):g}d.O=0;d.T=function(f){f=F(f);return e(f)};d.F=e;return d}()}function cz(a,b){this.n=a;this.nf=b}function dz(a,b){this.n=a;this.Bf=b}function ez(a,b,c){this.m=a;this.Dg=b;this.Ff=c}
function fz(a){if(Re(a))return mf(function(c,d,e){var f=R(e,0,null);e=R(e,1,null);return S.C(c,d,new cz(f,e))},W,a);if(Te(a)){var b=new Ng(-1);return $b.C(function(c,d){var e=R(d,0,null),f=R(d,1,null);d=R(d,2,null);return S.C(c,y(d)?d:b.yc(null,b.lb(null)+1),new cz(e,f))},W,a)}throw Tk("No matching `encore/cond!` clause",W);}
function gz(a){function b(f,g){var k=(new Date).getTime();Pb(g)&&6.25E-5>=Math.random()&&(Kg(c,null),Lg.B(d,function(q){return ld(mf(function(r,u,w){w=mf(function(x,D,G){var N=C.B(e,D);return y(N)?k>=G.Bf+N.nf?Ge.B(x,D):x:Ge.B(x,D)},w,w);return Ne(w)?nd(r,u):md(r,u,w)},jd(y(q)?q:W),q))}));for(;;){var l=B(d),m=C.B(l,f),n=null==m?null:mf(function(q,r,u,w,x,D){return function(G,N,T){var V=C.B(D,N);if(y(V)){if(T.n<V.n)return G;T=T.Bf+V.nf-u;return 0>=T?G:null==G?new ez(Fe([N,T]),N,T):T>G.Ff?new ez(S.C(G.m,
N,T),N,T):new ez(S.C(G.m,N,T),G.Dg,G.Ff)}return G}}(l,m,k,c,d,e),null,m);if(y(y(g)?g:n))return g=n,y(g)?(f=g,new X(null,3,5,Y,[f.Dg,f.Ff,f.m],null)):null;g=B(c);y(g)||(m=mf(function(q,r,u,w,x){return function(D,G,N){var T=S.C;var V=C.B(u,G);if(y(V)){var oa=V.Bf;N=x>=oa+N.nf?new dz(1,x):new dz(V.n+1,oa)}else N=new dz(1,x);return T.call(S,D,G,N)}}(g,l,m,n,k,c,d,e),m,e),Kg(d,S.C(l,f,m)));return null}}if(Ne(a))return new X(null,2,5,Y,[null,Eg(null)],null);var c=Jg(null),d=Jg(null),e=fz(a);return new X(null,
2,5,Y,[d,function(){function f(m,n){if(y(U.B?U.B(m,op):U.call(null,m,op)))return y(U.B?U.B(n,Zn):U.call(null,n,Zn))?Kg(d,null):Lg.C(d,Ge,n),null;if(y(U.B?U.B(m,Jp):U.call(null,m,Jp)))return b(n,!0);throw Tk("Unrecognized rate limiter command",new v(null,2,[Yo,m,zn,n],null));}function g(m){return b(m,!1)}function k(){return b(null,!1)}var l=null;l=function(m,n){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,m);case 2:return f.call(this,m,n)}throw Error("Invalid arity: "+
arguments.length);};l.K=k;l.j=g;l.B=f;return l}()],null)}
var hz=function(){function a(d){return new Bb(d)}function b(){return new Bb}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.K=b;c.j=a;return c}(),iz=function(){function a(e,f){e=e instanceof Bb?e:hz.j(A.j(e));f=A.j(f);return e.append(f)}function b(e){return e instanceof Bb?e:hz.j(A.j(e))}function c(){return hz.K()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.K=c;d.j=b;d.B=a;return d}();function jz(a,b){if(y(y(" ")?jg(" ",""):" ")){var c=Wg(),d=of(iz,A);return y(a)?pf(Fg.B(a,c),d,b):pf(c,d,b)}return y(a)?pf(a,of(iz,A),b):A.j($b.B(iz,b))}
var kz=function kz(a){switch(arguments.length){case 2:return kz.B(arguments[0],arguments[1]);case 3:return kz.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};kz.B=function(a,b){return a.substring(b)};kz.C=function(a,b,c){return b>=c?"":a.substring(b,c)};kz.O=3;
var lz=function lz(a){switch(arguments.length){case 2:return lz.B(arguments[0],arguments[1]);case 3:return lz.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};lz.B=function(a,b){return wy(a.substr(b))};lz.C=function(a,b,c){return wy(a.substr(b,c))};lz.O=3;function mz(a){return void 0===a||null==a?"nil":a}
function nz(a){if(cs("/"))return A.j($b.C(iz,"",a));var b=new Ng(!1),c=new Ng(!0);return A.j($b.C(function(d,e){e=A.j(e);var f=K.B(e,""),g=0===e.indexOf("/");var k=e.length;k=1<=k?jg(-1,e.indexOf("/",k-1)):null;var l=B(b),m=B(c);zd(b,k);y(m)&&zd(c,f);if(y(l))return g?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;g||y(y(m)?m:f)||d.append("/");return d.append(e)},hz.K(),a))}
function oz(){function a(){return Math.floor(16*Math.random()).toString(16)}var b=(8|3&Math.floor(16*Math.random())).toString(16);return[A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),"-",A.j(a()),A.j(a()),A.j(a()),A.j(a()),"-4",A.j(a()),A.j(a()),A.j(a()),"-",A.j(b),A.j(a()),A.j(a()),A.j(a()),"-",A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a()),A.j(a())].join("")}
var pz=function pz(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return pz.F(c)};pz.F=function(a){a=hg(a);var b=C.B(a,cl),c=C.B(a,sr),d=C.B(a,Mr),e=C.B(a,ho),f=C.B(a,En),g=C.B(a,Ro),k=C.B(a,wl),l=C.B(a,Do),m=C.B(a,Lo);gi(a);return Math.round((y(m)?31536E6*m:0)+(y(e)?2551392E3*e:0)+(y(c)?6048E5*c:0)+(y(k)?864E5*k:0)+(y(l)?36E5*l:0)+(y(g)?6E4*g:0)+(y(f)?1E3*f:0)+(y(d)?d:0)+(y(b)?b:0))};pz.O=0;pz.T=function(a){return this.F(F(a))};
Fg.B(function(a){return uf(tf(a),1E3)},pz);var qz=new mk(function(){return new oy});function rz(){var a=B(qz).Md();return void 0===a?null:a}
var sz="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},tz="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},uz=function(){function a(c,d){if(y(sz(d)))return new X(null,2,5,Y,[c,d],null);var e=(e="undefined"!==typeof FormData)?Ay(tz,hi(d)):e;if(y(e)){e=new FormData;d=F(d);for(var f=null,g=0,k=0;;)if(k<g){var l=f.ka(null,k),m=R(l,0,null);l=R(l,1,null);e.append(Hf(m),l);k+=1}else if(d=F(d))Ue(d)?(g=sd(d),d=td(d),f=
g,g=O(g)):(g=I(d),f=R(g,0,null),g=R(g,1,null),e.append(Hf(f),g),d=J(d),f=null,g=0),k=0;else break;return new X(null,2,5,Y,[c,e],null)}return new X(null,2,5,Y,[c,b(d)],null)}var b=function(){function c(f,g){g=e.j(g);f=cs(g)?f:[A.j(f),"?",A.j(g)].join("");return new X(null,2,5,Y,[f,null],null)}function d(f){if(F(f)){var g=vk(f);f=kb(g);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new yb(null,void 0);g=jb(g);for(var l=0;l<f.length;l++){var m=f[l],n=g[l];if(Array.isArray(n)){var q=
k,r=m;q.remove(r);if(0<n.length){q.Tb=null;m=q.ab;var u=m.set;r=Ab(q,r);var w=n;var x=w.length;if(0<x){for(var D=Array(x),G=0;G<x;G++)D[G]=w[G];w=D}else w=[];u.call(m,r,w);q.Pa+=n.length}}else k.add(m,n)}f=k.toString()}else f=null;return f}var e=null;e=function(f,g){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,g)}throw Error("Invalid arity: "+arguments.length);};e.j=d;e.B=c;return e}();return function(c,d,e){d=d instanceof E?d.Ea:null;switch(d){case "get":return b(c,
e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",A.j(d)].join(""));}}}();
function vz(a,b,c){var d=hg(b),e=C.C(d,Jo,Go);b=C.B(d,po);var f=C.B(d,ll),g=C.C(d,Il,1E4),k=C.C(d,rr,jn),l=C.B(d,xr),m=rz();if(y(m))try{var n=function(){var G=Ao.j(d);return y(G)?G:g}(),q=function(){var G=e instanceof E?e.Ea:null;switch(G){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",A.j(G)].join(""));}}(),r=uz(a,e,b),u=R(r,0,null),w=R(r,1,null),x=function(){var G=uy(function(N){return Hf(N).toLowerCase()},f);G=Hy(G,C.C(G,"x-requested-with",
"XMLHTTPRequest"));return vk(G)}(),D=function(){var G=fo.j(d);return y(G)?(m.og=!0,sx(m,"progress",function(N){var T=N.lengthComputable,V=N.loaded,oa=N.total,Z=y(y(T)?jg(oa,0):T)?V/oa:null;N=new v(null,5,[qr,Z,Wn,T,wo,V,Rn,oa,br,N],null);return G.j?G.j(N):G.call(null,N)})):null}();tx(m,"ready",function(){return B(qz).bd(m)});tx(m,"complete",function(G){var N=ay(m),T=$x(m),V=jg(T,-1)?function(){var ea=m.getResponseHeader("content-type"),qa=function(){if(jg(k,jn))var Ya=k;else null==ea?Ya=jo:(Ya=A.j(ea).toLowerCase(),
Ya=jg(-1,Ya.indexOf("/edn"))?Wo:jg(-1,Ya.indexOf("/json"))?Jn:jg(-1,Ya.indexOf("/xml"))?dp:jo);try{var Pa=Ya instanceof E?Ya.Ea:null;switch(Pa){case "edn":return ty(cy(m));case "json":if(m.ra){b:{var Ua=m.ra.responseText;if(ba.JSON)try{var yc=ba.JSON.parse(Ua);break b}catch(Rb){}yc=Ix(Ua)}var ac=yc}else ac=void 0;return ac;case "xml":try{var Xb=m.ra?m.ra.responseXML:null}catch(Rb){Xb=null}return Xb;case "text":return cy(m);default:throw Error(["No matching clause: ",A.j(Pa)].join(""));}}catch(Rb){if(Rb instanceof
Error)return new v(null,2,[Vl,Ya,Qq,cy(m)],null);throw Rb;}}();return new X(null,3,5,Y,[T,ea,qa],null)}():null,oa=R(V,0,null),Z=R(V,1,null);V=R(V,2,null);y(D)&&Bx(D);G=new v(null,7,[Lq,G,Qo,m,mq,N,sl,oa,fr,Z,Un,V,Pm,y(N)?null:y(oa)?oa:C.C(Fe([0,null,5,Tl,6,Wp,7,pl,8,Ao]),m.od,Pp)],null);return c.j?c.j(G):c.call(null,G)});m.ye=Math.max(0,y(n)?n:0);y(l)&&(m.td=!0);m.send(u,q,w,x);return m}catch(G){if(G instanceof Error)return a=G,B(qz).bd(m),a=new v(null,1,[Pm,a],null),c.j?c.j(a):c.call(null,a),null;
throw G;}else return a=new v(null,1,[Pm,qm],null),c.j?c.j(a):c.call(null,a),null}function wz(a){return y(a)?Yr(encodeURIComponent(A.j(a),a),"*","%2A"):null}function xz(a,b){R(b,0,null);return y(a)?decodeURIComponent(A.j(a)):null}
function yz(a){function b(c,d){c=wz(yy(c));var e=vy(d);d=y(e)?e:A.j(d);return[c,"\x3d",wz(d)].join("")}return Ne(a)?"":Zr("\x26",function(){return function e(d){return new If(null,function(){for(var f=d;;)if(f=F(f)){if(Ue(f)){var g=sd(f),k=O(g),l=Mf(k);return function(){for(var r=0;;)if(r<k){var u=mc(g,r),w=R(u,0,null),x=R(u,1,null);if(null!=x){u=l;if(Qe(x)){var D=$g;w=Gg.B(b,w);x=F(x);D=Zr("\x26",D(w,x?x:new X(null,1,5,Y,[""],null)))}else D=b(w,x);u.add(D)}r+=1}else return!0}()?Of(l.ua(),e(td(f))):
Of(l.ua(),null)}var m=I(f),n=R(m,0,null),q=R(m,1,null);if(null!=q)return ve(Qe(q)?Zr("\x26",$g(Gg.B(b,n),function(){var r=F(q);return r?r:new X(null,1,5,Y,[""],null)}())):b(n,q),e(Wd(f)));f=Wd(f)}else return null},null,null)}(a)}())}function zz(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new H(b.slice(1),0,null):null;return Az(arguments[0],b)}
function Az(a,b){var c=R(b,0,null),d=R(b,1,null);if(cs(a)||!jg(-1,a.indexOf("\x3d")))return W;a=0===a.indexOf("?")?a.substring(1):a;a=$b.C(function(e,f){var g=bs(f,/=/,2);if(y(g)){f=R(g,0,null);g=R(g,1,null);f=xz(f,Q([d]));var k=xz(g,Q([d]));g=S.C;var l=C.B(e,f);k=y(l)?Te(l)?Ae.B(l,k):new X(null,2,5,Y,[l,k],null):k;return g.call(S,e,f,k)}return e},W,as(a,/&/));return y(c)?uy(Gf,a):a}
function Bz(a,b){var c=bs(A.j(a),/\?/,2);a=R(c,0,null);c=R(c,1,null);b=Ry(Q([y(c)?uy(Gf,zz(c)):null,uy(Gf,b)]));b=yz(b);b="string"===typeof b?cs(b)?null:b:null;return y(b)?[A.j(a),"?",b].join(""):a}
var Cz=function(a){return new Ng(function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new H(f,0,null)}return c.call(this,e)}function c(d){throw Tk(["Attempting to call uninitialized stub fn (",A.j(a),")"].join(""),new v(null,2,[mr,a,Vq,d],null));}b.O=0;b.T=function(d){d=F(d);return c(d)};b.F=c;return b}())}("stub-test"),Dz;
if(He(nf))Dz=nf;else throw Tk("Unstub value must be a fn",new v(null,2,[Yo,nf,Sm,Sb(nf)],null));zd(Cz,Dz);
var Ez=function(){function a(b){if(b instanceof RegExp)return function(d){return Qj(b,d)};if("string"===typeof b){if(jg(-1,b.indexOf("*"))){var c=Sj(Yr(Yr(["^",b,"$"].join(""),".","\\."),"*","(.*)"));return function(d){return Qj(c,d)}}return function(d){return K.B(d,b)}}throw Tk("Unexpected ns-pattern type",new v(null,2,[Yo,b,Sm,Sb(b)],null));}return function(){function b(e,f){var g=F(e)?function(){var l=$g(a,e),m=F(l),n=I(m);return J(m)?function(q){return Ay(function(r){return r.j?r.j(q):r.call(null,
q)},l)}:function(q){return n.j?n.j(q):n.call(null,q)}}():null,k=F(f)?function(){var l=$g(a,f),m=F(l),n=I(m);return J(m)?function(q){return Pb(Ay(function(r){return r.j?r.j(q):r.call(null,q)},l))}:function(q){return Pb(n.j?n.j(q):n.call(null,q))}}():null;return y(y(g)?k:g)?function(l){l=A.j(l);return y(g.j?g.j(l):g.call(null,l))?y(k.j?k.j(l):k.call(null,l))?!0:null:null}:y(g)?function(l){return y(g(A.j(l)))?!0:null}:y(k)?function(l){return y(k(A.j(l)))?!0:null}:function(){return!0}}function c(e){if(Re(e))return d.B(Pr.j(e),
Ll.j(e));if(Te(e)||Pe(e))return d.B(e,null);if(K.B(e,"*"))return function(){return!0};var f=a(e);return function(g){return y(f(A.j(g)))?!0:null}}var d=null;d=function(e,f){switch(arguments.length){case 1:return c.call(this,e);case 2:return b.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.B=b;return d}()}();Fg.B(kg,Jy);Fg.B(kg,Ky);Fg.B(wy,kz);Fg.B(wy,lz);function Fz(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new H(b.slice(0),0,null):null;return Gz(b)}
function Gz(a){R(a,0,null);return new v(null,6,[Cp,!0,an,!1,ir,null,ln,null,Pn,Zq,Uq,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof E?c.Ea:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",A.j(e)].join(""));}}();return y(d)?
d:console.log}return function(c){var d=b(al.j(c));if(y(d)){if(y(function(){var g=Sl.j(c);return y(g)?g:bh(c,new X(null,2,5,Y,[qq,Sl],null))}())){var e=function(){var g=S.F(c,ar,"",Q([Om,null])),k=Pn.j(c);return k.j?k.j(g):k.call(null,g)}(),f=function(){var g=tq.j(c),k=Om.j(c);return y(k)?ve(e,ve(k,g)):ve(e,g)}();return d.apply(console,Zb(f))}return d.call(console,qk(Er.j(c)))}return null}}():function(){return null}],null)};Te(sy)?Fy(new X(null,3,5,Y,[2,87,0],null)):Fy(2.87);var Hz=function Hz(a){switch(arguments.length){case 1:return Hz.j(arguments[0]);case 2:return Hz.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};Hz.j=function(a){return Hz.B(null,a)};
Hz.B=function(a,b){var c=hg(a),d=C.B(c,cn);C.B(c,wq);var e=hg(b);b=C.B(e,al);c=C.B(e,Om);var f=C.B(e,ar),g=C.B(e,qn),k=C.B(e,Yp);C.B(e,To);C.B(e,Pq);e=C.B(e,Xo);return[Hf(b).toUpperCase()," [",A.j(y(g)?g:y(k)?k:"?"),":",A.j(y(e)?e:"?"),"] - ",A.j(qk(f)),y(d)?null:y(c)?["\n",A.j(Iz?Iz(c,a):Jz.call(null,c,a))].join(""):null].join("")};Hz.O=2;var Kz=new v(null,6,[al,Ep,xl,Be,Nm,Be,xp,Be,Pn,Hz,Ip,new v(null,1,[dr,Fz.j?Fz.j(W):Fz.call(null,W)],null)],null);
function Lz(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new H(b.slice(1),0,null):null;return Kz=dg(arguments[0],Kz,b)}var Mz=uj(new X(null,7,5,Y,[lp,Ep,On,zq,pm,kn,vl],null)),Nz=Bj(new X(null,7,5,Y,[lp,Ep,On,zq,pm,kn,vl],null),J(Kj(0,Number.MAX_VALUE,1)));function Oz(a){var b=Mz.j?Mz.j(a):Mz.call(null,a);if(y(b))return b;throw Tk("Invalid Timbre logging level",new v(null,1,[Yo,a],null));}
function Pz(a,b){return function(){var c=Oz(a);return Nz.j?Nz.j(c):Nz.call(null,c)}()>=function(){var c=Oz(b);return Nz.j?Nz.j(c):Nz.call(null,c)}()}var Qz=bz(Ez),Rz=bz(function(a,b,c){a=Qz(a,b);return a.j?a.j(c):a.call(null,c)});function Sz(a,b,c){c=y(c)?c:Kz;var d=C.C(c,al,vl);return Pz(a,d)&&Ye(Rz(C.B(c,xl),C.B(c,Nm),b))&&!0}function Tz(a){return jz(Pg.j(function(b){b=mz(b);return Se(b)?ek(Q([b])):b}),a)}var Uz=bz(function(a,b){a=gz(b);R(a,0,null);return R(a,1,null)});
function Vz(a){return 1<O(a)?Kh(a,1,O(a)):Be}
function Wz(a){var b=U.B?U.B(jn,jn):U.call(null,jn,jn),c=U.B?U.B(kp,kp):U.call(null,kp,kp),d=R(a,0,null);if(y(y(b)?d instanceof Error:b)){var e=d,f=null,g=Vz(a);a=y(c)?R(g,0,null):null;c=y(c)?Vz(g):g;return new X(null,4,5,Y,[e,f,a,c],null)}f=y(function(){var l=Re(d);return l?Kb.j(Le(d)):l}())?d:null;e=function(){var l=gn.j(f);return y(l)?l:y(b)?null:jn}();var k=Ge.B(f,gn);g=y(k)?Vz(a):a;a=y(c)?R(g,0,null):null;c=y(c)?Vz(g):g;return new X(null,4,5,Y,[e,k,a,c],null)}
function Xz(a,b,c,d,e){var f=Kz;if(Sz(a,b,f)){var g=new Date;d=B(d);d=Wz(d);var k=R(d,0,null),l=R(d,1,null),m=R(d,2,null);d=R(d,3,null);g=Ae.B(y(null)?null:W,Qi([un,Hr,tq,Yp,uo,qn,al,Om,Jq,Xo,bl,qq,Uo],[g,f,d,null,function(){var u=new qj(null,new v(null,2,[kn,null,pm,null],null),null);return u.j?u.j(a):u.call(null,a)}(),b,a,k,null,c,new mk(function(){return k}),l,m]));g=$b.C(function(u,w){u=w.j?w.j(u):w.call(null,u);return null==u?new fe(null):u},g,xp.j(f));if(y(g)){d=hg(g);var n=C.B(d,tq);g=S.C(g,
Ol,new mk(function(){return n}));var q=Iy.F(g,ar,new mk(function(){if(K.B(null,kp))return"";if(K.B(tp,kp))return Tz(n);if(K.B(kp,kp)){if("string"!==typeof m)throw Tk("Timbre format-style logging call without a format pattern (string)",new v(null,2,[al,a,cp,[A.j(y(b)?b:y(null)?null:"?"),":",A.j(y(c)?c:"?")].join("")],null));var u=y(m)?m:"",w=$g(mz,n);return dg(Pw,u,w)}throw Error(["No matching clause: ",A.j(kp)].join(""));}),Q([Vp,new mk(function(){return Md(new X(null,3,5,Y,[e,m,C.C(l,er,n)],null))})])),
r=bz(C.C(f,Pn,Hz));mf(function(u,w,x){if(y(function(){var V=Cp.j(x);y(V)&&(V=ir.j(x),V=Pz(a,y(V)?V:lp));return V}())&&y(Rz(xl.j(x),Nm.j(x),b))){var D=ln.j(x);if(function(){var V=Ne(D);if(V)return V;V=Uz(w,D);var oa=qk(Vp.j(q));V=V.j?V.j(oa):V.call(null,oa);return Pb(V)}()){var G=hg(x);u=C.B(G,Uq);C.B(G,an);var N=function(){var V=Pn.j(x);var oa=(oa=null==V)?oa:U.B?U.B(V,Zq):U.call(null,V,Zq);return y(oa)?r:V}(),T=Ae.B(q,new v(null,4,[Hl,w,Aq,x,Pn,N,Er,new mk(function(){return N.j?N.j(q):N.call(null,
q)})],null));G=function(){var V=dl.j(x);return y(V)?V.j?V.j(T):V.call(null,T):T}();return y(G)?u.j?u.j(G):u.call(null,G):null}}return null},null,Ip.j(f))}}return null}function Jz(a){switch(arguments.length){case 1:return Iz(arguments[0],null);case 2:return Iz(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}}function Iz(a){return A.j(a)};var Yz=function(){var a=Jg(W),b=Jg(W),c=Jg(W),d=Jg(W),e=C.C(W,jp,Ck.K?Ck.K():Ck.call(null));return new Nk(Td.B("cljs.stacktrace","parse-stacktrace"),function(f,g,k){return mp.j(k)},e,a,b,c,d)}();Qk(Yz,Ok,function(a,b){return b});
function Zz(a){if(Pb(Qj(/:/,a)))return new X(null,3,5,Y,[a,null,null],null);a=as(a,/:/);var b=$b.C(function(d,e){var f=R(d,0,null);d=R(d,1,null);var g=R(e,0,null);return 2>=R(e,1,null)?new X(null,2,5,Y,[f,Ae.B(d,g)],null):new X(null,2,5,Y,[Ae.B(f,g),d],null)},new X(null,2,5,Y,[Be,Be],null),Pg.C(Fh,a,Kj(O(a),0,-1)));a=R(b,0,null);var c=R(b,1,null);b=R(c,0,null);c=R(c,1,null);a=Zr(":",a);return new X(null,3,5,Y,[$a(a,"(")?Yr(a,"(",""):a,parseInt(ab(b,")")?Yr(b,")",""):b,10),parseInt(ab(c,")")?Yr(c,
")",""):c,10)],null)}function $z(a,b,c){a=hg(a);var d=C.B(a,fn),e=C.B(a,fq),f=C.B(a,Bl);c=hg(c);a=C.B(c,Lm);e=y(d)?new RegExp(["http://",A.j(d),":",A.j(y(e)?e:f),"/"].join("")):"";d=y(d)?Qj(e,b):af(c,Xq);if(y(d))return b=Yr(b,e,""),d=RegExp,e=A,f=e.j,a=y(a)?Yr(a,/^\//,""):a,y(a)?c=a:(c=Xq.j(c),c=y(c)?c:"out"),Yr(b,new d(["^",f.call(e,c),"/"].join("")),"");c=so.j(c);if(y(c))return Yr(b,c,"");throw Tk(["Could not relativize URL ",A.j(b)].join(""),new v(null,2,[Sm,Eq,Fr,oo],null));}
Qk(Yz,Gq,function(a,b,c,d){return Bh(Yg(Nb,Pg.B(function(e){e=as(Yr(e,/\s+at\s+/,""),/\s+/);var f=1===O(e)?new X(null,2,5,Y,[null,I(e)],null):new X(null,2,5,Y,[I(e),ze(e)],null);e=R(f,0,null);f=R(f,1,null);var g=Zz(f);f=R(g,0,null);var k=R(g,1,null);g=R(g,2,null);return y(y(f)?y(e)?y(k)?g:k:e:f)?new v(null,4,[co,$z(a,f,d),Fm,Yr(e,/Object\./,""),fl,k,nr,g],null):cs(e)?null:new v(null,4,[co,null,Fm,Yr(e,/Object\./,""),fl,null,nr,null],null)},Fj(function(e){return!$a(e,"    at eval")},Tg(function(e){return $a(e,
"Error")},as(b,/\n|\r\n/))))))});Qk(Yz,Rl,function(a,b,c,d){return Bh(Yg(Nb,Pg.B(function(e){var f=y(Qj(/@/,e))?as(e,/@/):new X(null,2,5,Y,[null,e],null);e=R(f,0,null);f=R(f,1,null);var g=Zz(f);f=R(g,0,null);var k=R(g,1,null);g=R(g,2,null);return y(y(f)?y(e)?y(k)?g:k:e:f)?new v(null,4,[co,$z(a,f,d),Fm,bb(e),fl,k,nr,g],null):cs(e)?null:new v(null,4,[co,null,Fm,bb(e),fl,null,nr,null],null)},Yg(cs,Fj(function(e){return!$a(e,"eval code")},Tg(function(e){return $a(e,"Error")},as(b,/\n|\r\n/)))))))});
function aA(a){if(cs(a))a=null;else if(jg(a.indexOf("\x3c/"),-1)){var b=a.indexOf("\x3c/");a=a.substring(b+2)}return Yr(Yr(a,/</,""),/\//,"")}
Qk(Yz,Fn,function(a,b,c,d){return Bh(Yg(Nb,Pg.B(function(e){var f=y(Qj(/@/,e))?as(e,/@/):new X(null,2,5,Y,[null,e],null);e=R(f,0,null);f=R(f,1,null);var g=Zz(f);f=R(g,0,null);var k=R(g,1,null);g=R(g,2,null);return y(y(f)?y(e)?y(k)?g:k:e:f)?new v(null,4,[co,$z(a,f,d),Fm,aA(e),fl,k,nr,g],null):cs(e)?null:new v(null,4,[co,null,Fm,aA(e),fl,null,nr,null],null)},Yg(cs,Fj(function(e){return K.B(e.indexOf("\x3e eval"),-1)},Tg(function(e){return $a(e,"Error")},as(b,/\n|\r\n/)))))))});
Qk(Yz,up,function(a,b,c,d){a=hg(d);var e=C.B(a,Xq);return Bh(Yg(Nb,Pg.B(function(f){if(cs(f)||null==Qj(/^\s+at/,f))return null;f=Yr(f,/\s+at\s+/,"");if($a(f,"repl:"))return null;var g=as(f,/\s+/);if(2===O(g)){f=Y;var k=I(g);var l=I(J(g));g=O(I(J(g)))-1;l=l.substring(1,g);f=new X(null,2,5,f,[k,l],null)}else f=new X(null,2,5,Y,[null,I(g)],null);k=f;f=R(k,0,null);k=R(k,1,null);g=as(k,/:/);k=R(g,0,null);l=R(g,1,null);g=R(g,2,null);return new v(null,4,[co,y(f)?y(e)?Yr(k,[A.j(e),"/"].join(""),""):k:k,Fm,
f,fl,y(y(l)?!cs(l):l)?parseInt(l,10):null,nr,y(y(g)?!cs(g):g)?parseInt(g,10):null],null)},as(b,/\n/))))});function bA(a,b){if(null!=a&&null!=a.yf)a=a.yf(a,b);else{var c=bA[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=bA._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IPacker.pack",a);}return a}function cA(a,b){if(null!=a&&null!=a.zf)a=a.zf(a,b);else{var c=cA[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cA._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IPacker.unpack",a);}return a};Te(sy)?Fy(new X(null,3,5,Y,[2,79,1],null)):Fy(2.79);var dA=K.B("default","nodejs"),eA=Jg(!1);function fA(a,b){return new v(null,2,[Wk,a,Am,new v(null,2,[Sm,Sb(b),zp,b],null)],null)}
function gA(a){if(Te(a)){var b=O(a);var c=new qj(null,new v(null,2,[1,null,2,null],null),null);b=c.j?c.j(b):c.call(null,b);if(Pb(b))return new v(null,1,[fp,fA(new qj(null,new v(null,2,[1,null,2,null],null),null),a)],null);b=R(a,0,null);R(a,1,null);return b instanceof E?Pb(Ef(b))?new v(null,1,[Yn,fA(mn,b)],null):null:new v(null,1,[cm,fA(Or,b)],null)}return new v(null,1,[Gp,fA(Fp,a)],null)}function hA(a){var b=gA(a);if(y(b))throw Tk("Invalid event",new v(null,2,[Yo,a,Qr,b],null));}
function iA(a,b){var c=0===b.indexOf("+"),d=b.substring(1),e=function(){try{return cA(a,d)}catch(l){var k=l;Xz(Ep,"taoensso.sente",208,new mk(function(){return new X(null,3,5,Y,["Bad package: %s (%s)",d,k],null)}),-138848386);return new X(null,2,5,Y,[Tp,d],null)}}();c=c?e:new X(null,2,5,Y,[e,null],null);var f=R(c,0,null);c=R(c,1,null);var g=K.B(0,c)?pp:c;Xz(lp,"taoensso.sente",214,new mk(function(){return new X(null,3,5,Y,["Unpacking: %s -\x3e %s",b,new X(null,2,5,Y,[f,g],null)],null)}),-642929300);
return new X(null,2,5,Y,[f,g],null)}function jA(a,b,c){c=K.B(c,pp)?0:c;var d=y(c)?new X(null,2,5,Y,[b,c],null):new X(null,1,5,Y,[b],null),e=["+",A.j(bA(a,d))].join("");Xz(lp,"taoensso.sente",230,new mk(function(){return new X(null,3,5,Y,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-22895241);return e}function kA(){}kA.prototype.yf=function(a,b){a:{a=Gb;var c=Fb;Fb=Gb=null;try{var d=ek(Q([b]));break a}finally{Fb=c,Gb=a}d=void 0}return d};kA.prototype.zf=function(a,b){return ty(b)};var lA=new kA;
function mA(a){return K.B(a,Wo)?lA:a}By.K&&By.K();function nA(a){if(null!=a&&null!=a.sd)a=a.sd(a);else{var b=nA[p(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=nA._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw z("IChSocket.-chsk-connect!",a);}return a}
function oA(a,b){if(null!=a&&null!=a.we)a=a.we(a,b);else{var c=oA[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=oA._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("IChSocket.-chsk-disconnect!",a);}return a}function pA(a,b,c){if(null!=a&&null!=a.Xd)a=a.Xd(a,b,c);else{var d=pA[p(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=pA._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IChSocket.-chsk-send!",a);}return a}
var qA=function qA(a){switch(arguments.length){case 2:return qA.B(arguments[0],arguments[1]);case 4:return qA.Y(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return qA.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};qA.B=function(a,b){return qA.C(a,b,W)};qA.Y=function(a,b,c,d){return qA.C(a,b,new v(null,2,[Il,c,tr,d],null))};
qA.C=function(a,b,c){Xz(lp,"taoensso.sente",773,new mk(function(){return new X(null,3,5,Y,["Chsk send: (%s) %s",S.C(c,tr,Ye(tr.j(c))),b],null)}),-2144718560);return pA(a,b,c)};qA.O=4;function rA(a){Xz(zq,"taoensso.sente",778,new mk(function(){return new X(null,1,5,Y,["Chsk send against closed chsk."],null)}),-171587133);y(a)&&(a.j?a.j(Lr):a.call(null,Lr));return!1}function sA(a,b){return y(b)?Yy(a,new X(null,1,5,Y,[b],null),function(c){return new Sy(ur,c)}):null}
function tA(a,b){var c=Xy(jq.j(a),function(e){var f=b.j?b.j(e):b.call(null,e);f=y($l.j(e))?S.C(f,$l,!1):f;f=y(aq.j(f))?Ge.B(f,ap):f;return new Sy(f,new X(null,2,5,Y,[e,f],null))}),d=R(c,0,null);c=R(c,1,null);return jg(d,c)?(d=new X(null,2,5,Y,[d,c],null),dv(bh(a,new X(null,2,5,Y,[Dp,Ml],null)),new X(null,2,5,Y,[Bn,d],null)),d):null}function uA(a,b){var c=aq.j(a);c=y(c)?c:jg(b,Gn);return y(c)?S.F(Ge.B(a,ap),aq,!1,Q([qp,new v(null,2,[Gl,az(),Fr,b],null)])):a}
function vA(a,b){if(null==a||Ze(a))return a;hA(b);var c=R(b,0,null);R(b,1,null);return function(d){return dv(a,new X(null,2,5,Y,[Gf.j([yy(c),".cb"].join("")),d],null))}}
function wA(a,b){Xz(lp,"taoensso.sente",858,new mk(function(){return new X(null,2,5,Y,["receive-buffered-evs!: %s",b],null)}),1476953700);for(var c=F(b),d=null,e=0,f=0;;)if(f<e){var g=d.ka(null,f);hA(g);R(g,0,null);dv(hn.j(a),g);f+=1}else if(c=F(c))d=c,Ue(d)?(c=sd(d),e=td(d),d=c,g=O(c),c=e,e=g):(g=I(d),hA(g),R(g,0,null),dv(hn.j(a),g),c=J(d),d=null,e=0),f=0;else return null}function xA(a){var b=Te(a);return b?(a=R(a,0,null),K.B(a,wr)):b}
function yA(a,b,c){Xz(lp,"taoensso.sente",875,new mk(function(){return new X(null,3,5,Y,["receive-handshake! (%s): %s",a,c],null)}),-1828707580);R(c,0,null);var d=R(c,1,null),e=R(d,0,null),f=R(d,1,null),g=R(d,2,null),k=hg(b);d=C.B(k,Dp);k=C.B(k,iq);k=Mg(k);var l=new v(null,7,[Sm,a,aq,!0,$n,!0,em,e,An,f,Em,g,$l,k],null);e=new X(null,2,5,Y,[wr,new X(null,4,5,Y,[e,f,g,k],null)],null);hA(e);cs(f)&&Xz(zq,"taoensso.sente",894,new mk(function(){return new X(null,1,5,Y,["SECURITY WARNING: no CSRF token available for use by Sente"],
null)}),64444578);tA(b,function(m){return kj.F(Q([m,l]))});dv(xn.j(d),e)}var zA=new mk(function(){if(dA&&"undefined"!==typeof require)try{return require("websocket")}catch(a){return null}else return null});function AA(a,b,c,d,e,f,g,k,l,m,n,q,r,u,w,x,D){this.ma=a;this.ja=b;this.params=c;this.ha=d;this.url=e;this.Za=f;this.da=g;this.fa=k;this.Sa=l;this.ta=m;this.ga=n;this.Ka=q;this.Ta=r;this.Qa=u;this.ia=w;this.aa=x;this.N=D;this.I=2230716170;this.P=139264}h=AA.prototype;
h.Ma=function(a,b){return this.na(null,b,null)};
h.na=function(a,b,c){switch(b instanceof E?b.Ea:null){case "client-id":return this.ma;case "chs":return this.ja;case "params":return this.params;case "packer":return this.ha;case "url":return this.url;case "ws-kalive-ms":return this.Za;case "state_":return this.da;case "instance-handle_":return this.fa;case "retry-count_":return this.Sa;case "ever-opened?_":return this.ta;case "backoff-ms-fn":return this.ga;case "cbs-waiting_":return this.Ka;case "socket_":return this.Ta;case "udt-last-comms_":return this.Qa;
default:return C.C(this.aa,b,c)}};h.uc=function(a,b,c){return $b.C(function(d,e){var f=R(e,0,null);e=R(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
h.ea=function(a,b,c){return Tj(b,function(d){return Tj(b,ak,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,Sf.B(new X(null,14,5,Y,[new X(null,2,5,Y,[go,this.ma],null),new X(null,2,5,Y,[Dp,this.ja],null),new X(null,2,5,Y,[po,this.params],null),new X(null,2,5,Y,[lq,this.ha],null),new X(null,2,5,Y,[hq,this.url],null),new X(null,2,5,Y,[Lp,this.Za],null),new X(null,2,5,Y,[jq,this.da],null),new X(null,2,5,Y,[sn,this.fa],null),new X(null,2,5,Y,[qo,this.Sa],null),new X(null,2,5,Y,[iq,this.ta],
null),new X(null,2,5,Y,[Iq,this.ga],null),new X(null,2,5,Y,[Up,this.Ka],null),new X(null,2,5,Y,[Rq,this.Ta],null),new X(null,2,5,Y,[mo,this.Qa],null)],null),this.aa))};h.hb=function(){return new Vh(this,14,new X(null,14,5,Y,[go,Dp,po,lq,hq,Lp,jq,sn,qo,iq,Iq,Up,Rq,mo],null),y(this.aa)?Bd(this.aa):lg())};h.oa=function(){return this.ia};h.gb=function(){return new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,this.N)};
h.va=function(){return 14+O(this.aa)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=1998688700^ce(this)};h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&K.B(this.ma,b.ma)&&K.B(this.ja,b.ja)&&K.B(this.params,b.params)&&K.B(this.ha,b.ha)&&K.B(this.url,b.url)&&K.B(this.Za,b.Za)&&K.B(this.da,b.da)&&K.B(this.fa,b.fa)&&K.B(this.Sa,b.Sa)&&K.B(this.ta,b.ta)&&K.B(this.ga,b.ga)&&K.B(this.Ka,b.Ka)&&K.B(this.Ta,b.Ta)&&K.B(this.Qa,b.Qa)&&K.B(this.aa,b.aa)};
h.Rc=function(a,b){return af(new qj(null,new v(null,14,[Lp,null,iq,null,go,null,lq,null,Dp,null,mo,null,po,null,qo,null,Iq,null,Rq,null,hq,null,sn,null,Up,null,jq,null],null),null),b)?Ge.B(Qc(Zg.B(W,this),this.ia),b):new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,kg(Ge.B(this.aa,b)),null)};
h.yb=function(a,b){switch(b instanceof E?b.Ea:null){case "client-id":case "chs":case "params":case "packer":case "url":case "ws-kalive-ms":case "state_":case "instance-handle_":case "retry-count_":case "ever-opened?_":case "backoff-ms-fn":case "cbs-waiting_":case "socket_":case "udt-last-comms_":return!0;default:return af(this.aa,b)}};
h.fb=function(a,b,c){return y(U.B?U.B(go,b):U.call(null,go,b))?new AA(c,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(Dp,b):U.call(null,Dp,b))?new AA(this.ma,c,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(po,b):U.call(null,po,b))?new AA(this.ma,this.ja,c,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,
this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(lq,b):U.call(null,lq,b))?new AA(this.ma,this.ja,this.params,c,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(hq,b):U.call(null,hq,b))?new AA(this.ma,this.ja,this.params,this.ha,c,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(Lp,b):U.call(null,Lp,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,c,this.da,this.fa,this.Sa,
this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(jq,b):U.call(null,jq,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,c,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(sn,b):U.call(null,sn,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,c,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(qo,b):U.call(null,qo,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,
this.da,this.fa,c,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(iq,b):U.call(null,iq,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,c,this.ga,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(Iq,b):U.call(null,Iq,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,c,this.Ka,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(Up,b):U.call(null,Up,b))?new AA(this.ma,this.ja,this.params,this.ha,
this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,c,this.Ta,this.Qa,this.ia,this.aa,null):y(U.B?U.B(Rq,b):U.call(null,Rq,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,c,this.Qa,this.ia,this.aa,null):y(U.B?U.B(mo,b):U.call(null,mo,b))?new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,c,this.ia,this.aa,null):new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,
this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,this.ia,S.C(this.aa,b,c),null)};h.sa=function(){return F(Sf.B(new X(null,14,5,Y,[new uh(go,this.ma,null),new uh(Dp,this.ja,null),new uh(po,this.params,null),new uh(lq,this.ha,null),new uh(hq,this.url,null),new uh(Lp,this.Za,null),new uh(jq,this.da,null),new uh(sn,this.fa,null),new uh(qo,this.Sa,null),new uh(iq,this.ta,null),new uh(Iq,this.ga,null),new uh(Up,this.Ka,null),new uh(Rq,this.Ta,null),new uh(mo,this.Qa,null)],null),this.aa))};
h.qa=function(a,b){return new AA(this.ma,this.ja,this.params,this.ha,this.url,this.Za,this.da,this.fa,this.Sa,this.ta,this.ga,this.Ka,this.Ta,this.Qa,b,this.aa,this.N)};h.za=function(a,b){return Te(b)?this.fb(null,mc(b,0),mc(b,1)):$b.C(kc,this,b)};h.we=function(a,b){Kg(this.fa,null);tA(this,function(c){return uA(c,b)});a=B(this.Ta);return y(a)?a.close(1E3,"CLOSE_NORMAL"):null};
h.Xd=function(a,b,c){var d=this;a=hg(c);var e=C.B(a,Il);c=C.B(a,tr);C.B(a,km);hA(b);var f=vA(c,b);if(Pb(aq.j(B(d.da))))return rA(f);var g=y(f)?lz.C(oz(),0,6):null;b=jA(d.ha,b,g);if(y(g)&&($y(d.Ka,new X(null,1,5,Y,[g],null),f),y(e))){var k=bv(1,null);Bu(function(){var m=function(){function q(r){var u=r[1];if(1===u)return u=Su(e),Xu(r,2,u);if(2===u){u=r[2];var w=sA(d.Ka,g);r[8]=u;r[7]=w;r[1]=y(w)?3:4;return Al}return 3===u?(u=r[7],u=u.j?u.j(Cl):u.call(null,Cl),r[2]=u,r[1]=5,Al):4===u?(r[2]=null,r[1]=
5,Al):5===u?Zu(r,r[2]):null}return function(){function r(x){for(;;){a:try{for(;;){var D=q(x);if(!U(D,Al)){var G=D;break a}}}catch(N){if(N instanceof Object)x[5]=N,$u(x),G=Al;else throw N;}if(!U(G,Al))return G}}function u(){var x=[null,null,null,null,null,null,null,null,null];x[0]=w;x[1]=1;return x}var w=null;w=function(x){switch(arguments.length){case 0:return u.call(this);case 1:return r.call(this,x)}throw Error("Invalid arity: "+arguments.length);};w.K=u;w.j=r;return w}()}(),n=function(){var q=
m();q[6]=k;return q}();return Wu(n)})}try{return B(d.Ta).send(b),Kg(d.Qa,az()),Yk}catch(m){var l=m;Xz(pm,"taoensso.sente",976,new mk(function(){return new X(null,2,5,Y,[l,"Chsk send error"],null)}),-2069919588);y(g)&&(b=function(){var n=sA(d.Ka,g);return y(n)?n:f}(),b.j?b.j(Zk):b.call(null,Zk));return!1}};
h.sd=function(){var a=this,b=this,c=function(){var k=Gy(ba,"WebSocket");if(y(k))return k;k=Gy(ba,"MozWebSocket");return y(k)?k:Gy(B(zA),"w3cwebsocket")}();if(y(c)){var d=Kg(a.fa,oz()),e=function(){return K.B(B(a.fa),d)},f=a.Za;if(y(f)){var g=bv(1,null);Bu(function(){var k=function(){function m(n){var q=n[1];if(7===q)return n[2]=n[2],n[1]=3,Al;if(1===q)return n[2]=null,n[1]=2,Al;if(4===q){q=n[2];var r=e();n[7]=q;n[1]=r?5:6;return Al}return 6===q?(n[2]=null,n[1]=7,Al):3===q?Zu(n,n[2]):2===q?(q=B(a.Qa),
r=Su(f),n[8]=q,Xu(n,4,r)):9===q?(n[2]=null,n[1]=10,Al):5===q?(q=n[8],r=B(a.Qa),q=K.B(q,r),n[1]=q?8:9,Al):10===q?(n[9]=n[2],n[2]=null,n[1]=2,Al):8===q?(q=new X(null,1,5,Y,[am],null),r=Qi([km],[!0]),q=b.Xd(null,q,r),n[2]=q,n[1]=10,Al):null}return function(){function n(u){for(;;){a:try{for(;;){var w=m(u);if(!U(w,Al)){var x=w;break a}}}catch(D){if(D instanceof Object)u[5]=D,$u(u),x=Al;else throw D;}if(!U(x,Al))return x}}function q(){var u=[null,null,null,null,null,null,null,null,null,null];u[0]=r;u[1]=
1;return u}var r=null;r=function(u){switch(arguments.length){case 0:return q.call(this);case 1:return n.call(this,u)}throw Error("Invalid arity: "+arguments.length);};r.K=q;r.j=n;return r}()}(),l=function(){var m=k();m[6]=g;return m}();return Wu(l)})}Kg(a.Sa,0);(function l(){if(e()){var m=function(){if(e()){var q=Lg.B(a.Sa,ee),r=a.ga.j?a.ga.j(q):a.ga.call(null,q),u=az()+r;Xz(zq,"taoensso.sente",1001,new mk(function(){return new X(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",
q,r],null)}),664444594);ba.setTimeout(l,r);return tA(b,function(w){return S.C(w,ap,u)})}return null},n=function(){try{return new c(Bz(a.url,kj.F(Q([a.params,new v(null,1,[go,a.ma],null)]))))}catch(r){var q=r;Xz(pm,"taoensso.sente",1015,new mk(function(){return new X(null,2,5,Y,[q,"WebSocket error"],null)}),1340102089);return null}}();return Pb(n)?m():Kg(a.Ta,function(){n.onerror=function(q){Xz(pm,"taoensso.sente",1025,new mk(function(){var u=Y;try{var w=zk(q)}catch(x){w=q}return new X(null,2,5,u,
["WebSocket error: %s",w],null)}),862341009);var r=new v(null,2,[Gl,az(),br,q],null);return tA(b,function(u){return S.C(u,yn,r)})};n.onmessage=function(q){q=Gy(q,"data");q=iA(a.ha,q);var r=R(q,0,null);q=R(q,1,null);Kg(a.Qa,az());if(xA(r)){yA(Ym,b,r);Kg(a.Sa,0);var u=om}else u=null;if(y(u))return u;K.B(r,am)?(dv(hn.j(a.ja),new X(null,1,5,Y,[am],null)),u=Cm):u=null;return y(u)?u:y(q)?(q=sA(a.Ka,q),y(q)?q.j?q.j(r):q.call(null,r):Xz(zq,"taoensso.sente",1061,new mk(function(){return new X(null,2,5,Y,["Cb reply w/o local cb-fn: %s",
r],null)}),-894782575)):wA(a.ja,r)};n.onclose=function(q){var r=Gy(q,"wasClean"),u=Gy(q,"code"),w=Gy(q,"reason"),x=new v(null,5,[Gl,az(),br,q,Wl,r,dn,u,Fr,w],null);if(y(r))return Xz(Ep,"taoensso.sente",1083,new mk(function(){return new X(null,1,5,Y,["Clean WebSocket close, will not attempt reconnect"],null)}),1768162476),tA(b,function(D){return S.C(D,gq,x)});tA(b,function(D){return S.C(uA(D,Gn),gq,x)});return m()};return n}())}return null})();return b}return null};
function BA(a){a=kj.F(Q([new v(null,7,[jq,Jg(new v(null,3,[Sm,Ym,aq,!1,$n,!1],null)),sn,Jg(null),qo,Jg(0),iq,Jg(!1),Up,Jg(W),Rq,Jg(null),mo,Jg(null)],null),a]));var b=Ge.F(a,go,Q([Dp,po,lq,hq,Lp,jq,sn,qo,iq,Iq,Up,Rq,mo]));b=Se(a)?Zg.B(W,b):b;return new AA(go.j(a),Dp.j(a),po.j(a),lq.j(a),hq.j(a),Lp.j(a),jq.j(a),sn.j(a),qo.j(a),iq.j(a),Iq.j(a),Up.j(a),Rq.j(a),mo.j(a),null,kg(b),null)}var CA=pz.F(Q([En,60]));
function DA(a,b,c,d,e,f,g,k,l,m,n,q,r,u){this.ma=a;this.ja=b;this.params=c;this.ha=d;this.url=e;this.da=f;this.fa=g;this.ta=k;this.ga=l;this.Ua=m;this.bb=n;this.ia=q;this.aa=r;this.N=u;this.I=2230716170;this.P=139264}h=DA.prototype;h.Ma=function(a,b){return this.na(null,b,null)};
h.na=function(a,b,c){switch(b instanceof E?b.Ea:null){case "client-id":return this.ma;case "chs":return this.ja;case "params":return this.params;case "packer":return this.ha;case "url":return this.url;case "state_":return this.da;case "instance-handle_":return this.fa;case "ever-opened?_":return this.ta;case "backoff-ms-fn":return this.ga;case "ajax-opts":return this.Ua;case "curr-xhr_":return this.bb;default:return C.C(this.aa,b,c)}};
h.uc=function(a,b,c){return $b.C(function(d,e){var f=R(e,0,null);e=R(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
h.ea=function(a,b,c){return Tj(b,function(d){return Tj(b,ak,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,Sf.B(new X(null,11,5,Y,[new X(null,2,5,Y,[go,this.ma],null),new X(null,2,5,Y,[Dp,this.ja],null),new X(null,2,5,Y,[po,this.params],null),new X(null,2,5,Y,[lq,this.ha],null),new X(null,2,5,Y,[hq,this.url],null),new X(null,2,5,Y,[jq,this.da],null),new X(null,2,5,Y,[sn,this.fa],null),new X(null,2,5,Y,[iq,this.ta],null),new X(null,2,5,Y,[Iq,this.ga],null),new X(null,2,5,Y,[Jr,this.Ua],
null),new X(null,2,5,Y,[zr,this.bb],null)],null),this.aa))};h.hb=function(){return new Vh(this,11,new X(null,11,5,Y,[go,Dp,po,lq,hq,jq,sn,iq,Iq,Jr,zr],null),y(this.aa)?Bd(this.aa):lg())};h.oa=function(){return this.ia};h.gb=function(){return new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,this.N)};h.va=function(){return 11+O(this.aa)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=-266770752^ce(this)};
h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&K.B(this.ma,b.ma)&&K.B(this.ja,b.ja)&&K.B(this.params,b.params)&&K.B(this.ha,b.ha)&&K.B(this.url,b.url)&&K.B(this.da,b.da)&&K.B(this.fa,b.fa)&&K.B(this.ta,b.ta)&&K.B(this.ga,b.ga)&&K.B(this.Ua,b.Ua)&&K.B(this.bb,b.bb)&&K.B(this.aa,b.aa)};
h.Rc=function(a,b){return af(new qj(null,new v(null,11,[zr,null,iq,null,go,null,lq,null,Dp,null,po,null,Iq,null,hq,null,sn,null,Jr,null,jq,null],null),null),b)?Ge.B(Qc(Zg.B(W,this),this.ia),b):new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,kg(Ge.B(this.aa,b)),null)};
h.yb=function(a,b){switch(b instanceof E?b.Ea:null){case "client-id":case "chs":case "params":case "packer":case "url":case "state_":case "instance-handle_":case "ever-opened?_":case "backoff-ms-fn":case "ajax-opts":case "curr-xhr_":return!0;default:return af(this.aa,b)}};
h.fb=function(a,b,c){return y(U.B?U.B(go,b):U.call(null,go,b))?new DA(c,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(Dp,b):U.call(null,Dp,b))?new DA(this.ma,c,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(po,b):U.call(null,po,b))?new DA(this.ma,this.ja,c,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(lq,b):U.call(null,
lq,b))?new DA(this.ma,this.ja,this.params,c,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(hq,b):U.call(null,hq,b))?new DA(this.ma,this.ja,this.params,this.ha,c,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(jq,b):U.call(null,jq,b))?new DA(this.ma,this.ja,this.params,this.ha,this.url,c,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(sn,b):U.call(null,sn,b))?new DA(this.ma,this.ja,this.params,this.ha,
this.url,this.da,c,this.ta,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(iq,b):U.call(null,iq,b))?new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,c,this.ga,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(Iq,b):U.call(null,Iq,b))?new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,c,this.Ua,this.bb,this.ia,this.aa,null):y(U.B?U.B(Jr,b):U.call(null,Jr,b))?new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,c,this.bb,
this.ia,this.aa,null):y(U.B?U.B(zr,b):U.call(null,zr,b))?new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,c,this.ia,this.aa,null):new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,this.ia,S.C(this.aa,b,c),null)};
h.sa=function(){return F(Sf.B(new X(null,11,5,Y,[new uh(go,this.ma,null),new uh(Dp,this.ja,null),new uh(po,this.params,null),new uh(lq,this.ha,null),new uh(hq,this.url,null),new uh(jq,this.da,null),new uh(sn,this.fa,null),new uh(iq,this.ta,null),new uh(Iq,this.ga,null),new uh(Jr,this.Ua,null),new uh(zr,this.bb,null)],null),this.aa))};h.qa=function(a,b){return new DA(this.ma,this.ja,this.params,this.ha,this.url,this.da,this.fa,this.ta,this.ga,this.Ua,this.bb,b,this.aa,this.N)};
h.za=function(a,b){return Te(b)?this.fb(null,mc(b,0),mc(b,1)):$b.C(kc,this,b)};h.we=function(a,b){Kg(this.fa,null);tA(this,function(c){return uA(c,b)});a=B(this.bb);return y(a)?a.abort():null};
h.Xd=function(a,b,c){function d(m){var n=hg(m);m=C.B(n,Pm);n=C.B(n,Un);if(y(m)){if(K.B(m,Ao))return y(k)?k.j?k.j(Cl):k.call(null,Cl):null;tA(f,function(r){return uA(r,Gn)});return y(k)?k.j?k.j(Zk):k.call(null,Zk):null}m=iA(e.ha,n);var q=R(m,0,null);R(m,1,null);y(k)?k.j?k.j(q):k.call(null,q):jg(q,Br)&&Xz(zq,"taoensso.sente",1203,new mk(function(){return new X(null,2,5,Y,["Cb reply w/o local cb-fn: %s",q],null)}),339637956);return tA(f,function(r){return S.C(r,aq,!0)})}var e=this,f=this;a=hg(c);var g=
C.B(a,Il);c=C.B(a,tr);C.B(a,km);hA(b);var k=vA(c,b);if(Pb(aq.j(B(e.da))))return rA(k);var l=An.j(B(e.da));a=e.url;c=kj.F(Q([e.Ua,new v(null,5,[Jo,gr,Il,function(){if(y(g))return g;var m=Il.j(e.Ua);return y(m)?m:CA}(),rr,jo,ll,kj.F(Q([ll.j(e.Ua),new v(null,1,[Qp,l],null)])),po,function(){var m=jA(e.ha,b,y(k)?pp:null);return kj.F(Q([e.params,new v(null,4,[Gl,az(),An,l,go,e.ma,vr,m],null)]))}()],null)]));vz.C?vz.C(a,c,d):vz.call(null,a,c,d);return Yk};
h.sd=function(){var a=this,b=this,c=Kg(a.fa,oz());(function f(e){Xz(lp,"taoensso.sente",1213,new mk(function(){return new X(null,1,5,Y,["async-poll-for-update!"],null)}),-422077814);if(K.B(B(a.fa),c)){var g=function(){if(K.B(B(a.fa),c)){var k=e+1,l=a.ga.j?a.ga.j(k):a.ga.call(null,k),m=az()+l;Xz(zq,"taoensso.sente",1221,new mk(function(){return new X(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,l],null)}),-1741087396);ba.setTimeout(function(){return f(k)},l);return tA(b,
function(n){return S.C(n,ap,m)})}return null};return Kg(a.bb,function(){function k(n){var q=hg(n);n=C.B(q,Pm);q=C.B(q,Un);if(y(n)){if(K.B(n,Ao))return f(0);tA(b,function(r){return uA(r,Gn)});return g()}n=iA(a.ha,q);n=R(n,0,null);(q=xA(n))&&yA(Cq,b,n);tA(b,function(r){return S.C(r,aq,!0)});f(0);if(q)return null;K.B(n,Cl)?(y(B(eA))&&wA(a.ja,new X(null,1,5,Y,[new X(null,1,5,Y,[bm],null)],null)),q=Cm):q=null;return y(q)?q:wA(a.ja,n)}var l=a.url,m=kj.F(Q([a.Ua,new v(null,4,[Jo,Go,Il,function(){var n=Il.j(a.Ua);
return y(n)?n:CA}(),rr,jo,po,kj.F(Q([a.params,new v(null,2,[Gl,az(),go,a.ma],null),y(aq.j(B(a.da)))?null:new v(null,1,[lm,!0],null)]))],null)]));return vz.C?vz.C(l,m,k):vz.call(null,l,m,k)}())}return null})(0);return b};
function EA(a){a=kj.F(Q([new v(null,4,[jq,Jg(new v(null,3,[Sm,Cq,aq,!1,$n,!1],null)),sn,Jg(null),iq,Jg(!1),zr,Jg(null)],null),a]));var b=Ge.F(a,go,Q([Dp,po,lq,hq,jq,sn,iq,Iq,Jr,zr]));b=Se(a)?Zg.B(W,b):b;return new DA(go.j(a),Dp.j(a),po.j(a),lq.j(a),hq.j(a),jq.j(a),sn.j(a),iq.j(a),Iq.j(a),Jr.j(a),zr.j(a),null,kg(b),null)}function FA(a,b,c,d,e,f,g){this.Ob=a;this.xb=b;this.da=c;this.pb=d;this.ia=e;this.aa=f;this.N=g;this.I=2230716170;this.P=139264}h=FA.prototype;
h.Ma=function(a,b){return this.na(null,b,null)};h.na=function(a,b,c){switch(b instanceof E?b.Ea:null){case "ws-chsk-opts":return this.Ob;case "ajax-chsk-opts":return this.xb;case "state_":return this.da;case "impl_":return this.pb;default:return C.C(this.aa,b,c)}};h.uc=function(a,b,c){return $b.C(function(d,e){var f=R(e,0,null);e=R(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
h.ea=function(a,b,c){return Tj(b,function(d){return Tj(b,ak,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,Sf.B(new X(null,4,5,Y,[new X(null,2,5,Y,[Ap,this.Ob],null),new X(null,2,5,Y,[Fl,this.xb],null),new X(null,2,5,Y,[jq,this.da],null),new X(null,2,5,Y,[Um,this.pb],null)],null),this.aa))};h.hb=function(){return new Vh(this,4,new X(null,4,5,Y,[Ap,Fl,jq,Um],null),y(this.aa)?Bd(this.aa):lg())};h.oa=function(){return this.ia};
h.gb=function(){return new FA(this.Ob,this.xb,this.da,this.pb,this.ia,this.aa,this.N)};h.va=function(){return 4+O(this.aa)};h.pa=function(){var a=this.N;return null!=a?a:this.N=a=-1193508708^ce(this)};h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&K.B(this.Ob,b.Ob)&&K.B(this.xb,b.xb)&&K.B(this.da,b.da)&&K.B(this.pb,b.pb)&&K.B(this.aa,b.aa)};
h.Rc=function(a,b){return af(new qj(null,new v(null,4,[Um,null,Ap,null,jq,null,Fl,null],null),null),b)?Ge.B(Qc(Zg.B(W,this),this.ia),b):new FA(this.Ob,this.xb,this.da,this.pb,this.ia,kg(Ge.B(this.aa,b)),null)};h.yb=function(a,b){switch(b instanceof E?b.Ea:null){case "ws-chsk-opts":case "ajax-chsk-opts":case "state_":case "impl_":return!0;default:return af(this.aa,b)}};
h.fb=function(a,b,c){return y(U.B?U.B(Ap,b):U.call(null,Ap,b))?new FA(c,this.xb,this.da,this.pb,this.ia,this.aa,null):y(U.B?U.B(Fl,b):U.call(null,Fl,b))?new FA(this.Ob,c,this.da,this.pb,this.ia,this.aa,null):y(U.B?U.B(jq,b):U.call(null,jq,b))?new FA(this.Ob,this.xb,c,this.pb,this.ia,this.aa,null):y(U.B?U.B(Um,b):U.call(null,Um,b))?new FA(this.Ob,this.xb,this.da,c,this.ia,this.aa,null):new FA(this.Ob,this.xb,this.da,this.pb,this.ia,S.C(this.aa,b,c),null)};
h.sa=function(){return F(Sf.B(new X(null,4,5,Y,[new uh(Ap,this.Ob,null),new uh(Fl,this.xb,null),new uh(jq,this.da,null),new uh(Um,this.pb,null)],null),this.aa))};h.qa=function(a,b){return new FA(this.Ob,this.xb,this.da,this.pb,b,this.aa,this.N)};h.za=function(a,b){return Te(b)?this.fb(null,mc(b,0),mc(b,1)):$b.C(kc,this,b)};h.we=function(a,b){a=B(this.pb);return y(a)?oA(a,b):null};h.Xd=function(a,b,c){a=B(this.pb);if(y(a))return pA(a,b,c);c=hg(c);c=C.B(c,tr);b=vA(c,b);return rA(b)};
h.sd=function(){function a(){var f=Jg(!1);jk(c.da,function(g,k,l,m){g=B(c.pb);if(y(g)&&(k=iq.j(g),y(k))){if(y(B(k)))return null;if(y(yn.j(m))&&Mg(f))return Xz(zq,"taoensso.sente",1349,new mk(function(){return new X(null,1,5,Y,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),-1446429411),oA(g,Kl),Kg(c.pb,b())}return null});return BA(e).sd(null)}function b(){id(c.da,kk);return EA(d).sd(null)}var c=this,d=S.C(c.xb,jq,c.da),e=S.C(c.Ob,jq,c.da);Kg(c.pb,function(){var f=a();return y(f)?f:b()}());
return this};function GA(a,b,c,d){var e=function(){switch(a instanceof E?a.Ea:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var g=d instanceof E?d.Ea:null;switch(g){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",A.j(e)].join(""));}default:throw Error(["No matching clause: ",A.j(g)].join(""));}}();return[A.j(f),"//",nz(Q([b,c]))].join("")}
function HA(a,b,c){function d(m){return m.K?m.K():m.call(null)}var e=Pb(Pl);c=hg(c);var f=C.B(c,Fo),g=C.B(c,eo);C.B(c,hr);var k=bv(null,null),l=bv(1,null);Bu(function(){var m=function(){function q(r){var u=r[1];if(7===u)return u=r[2],r[7]=u,r[1]=y(u)?8:9,Al;if(1===u)return r[2]=null,r[1]=2,Al;if(4===u){u=r[8];u=r[2];var w=R(u,0,null),x=R(u,1,null),D=K.B(x,k);r[11]=w;r[8]=D;r[9]=x;r[10]=u;r[1]=D?5:6;return Al}if(6===u)return w=r[11],r[2]=null==w,r[1]=7,Al;if(3===u)return Zu(r,r[2]);if(2===u)return jv(r,
4,new X(null,2,5,Y,[a,k],null));if(9===u){w=r[11];var G=hg(w),N=C.B(G,Bm);u=d(function(){return function(){try{y(f)&&Xz(lp,"taoensso.sente",1530,new mk(function(){return new X(null,2,5,Y,["Pre-handler event: %s",N],null)}),2105958780);var T=y(e)?function(){try{var Z=Re(G);if(Z){var ea=My(new qj(null,new v(null,10,[ep,null,rn,null,go,null,Hp,null,em,null,Bm,null,Ir,null,vo,null,to,null,io,null],null),null),G);if(ea){var qa=hg(G),Ya=C.B(qa,rn),Pa=C.B(qa,io),Ua=C.B(qa,Hp),yc=C.B(qa,vo),ac=C.B(qa,go),
Xb=C.B(qa,Bm),Rb=C.B(qa,ep);var vb=Ya instanceof Iu&&Ze(Pa)&&Ua instanceof Ig&&Re(yc)&&"string"===typeof ac&&!cs(ac)&&null==gA(Xb)&&(null==Rb||Ze(Rb))}else vb=ea}else vb=Z;var Oc=vb?null:qy}catch(Nd){if(Nd instanceof Error)Oc=Nd;else throw Nd;}return null==Oc?G:ry(1533,"(server-event-msg? event-msg)",G,Oc)}():function(){try{var Z=Re(G);if(Z){var ea=My(new qj(null,new v(null,6,[rn,null,Ml,null,Bm,null,Ir,null,to,null,io,null],null),null),G);if(ea){var qa=hg(G),Ya=C.B(qa,rn),Pa=C.B(qa,io),Ua=C.B(qa,
Ml),yc=C.B(qa,Bm);var ac=Ya instanceof Iu&&Ze(Pa)&&Ua instanceof Ig&&null==gA(yc)}else ac=ea}else ac=Z;var Xb=ac?null:qy}catch(Rb){if(Rb instanceof Error)Xb=Rb;else throw Rb;}return null==Xb?G:ry(1534,"(client-event-msg? event-msg)",G,Xb)}();return b.j?b.j(T):b.call(null,T)}catch(Z){if(Z instanceof Error){var V=Z;try{return y(g)?g.B?g.B(V,G):g.call(null,V,G):Xz(pm,"taoensso.sente",1539,new mk(function(){return new X(null,3,5,Y,[V,"Chsk router `event-msg-handler` error: %s",N],null)}),89219509)}catch(ea){if(ea instanceof
Error){var oa=ea;return Xz(pm,"taoensso.sente",1540,new mk(function(){return new X(null,3,5,Y,[oa,"Chsk router `error-handler` error: %s",N],null)}),1096758167)}throw ea;}}else throw Z;}}}());r[12]=u;r[2]=null;r[1]=2;return Al}return 5===u?(u=r[8],r[2]=u,r[1]=7,Al):10===u?(r[2]=r[2],r[1]=3,Al):8===u?(r[2]=null,r[1]=10,Al):null}return function(){function r(x){for(;;){a:try{for(;;){var D=q(x);if(!U(D,Al)){var G=D;break a}}}catch(N){if(N instanceof Object)x[5]=N,$u(x),G=Al;else throw N;}if(!U(G,Al))return G}}
function u(){var x=[null,null,null,null,null,null,null,null,null,null,null,null,null];x[0]=w;x[1]=1;return x}var w=null;w=function(x){switch(arguments.length){case 0:return u.call(this);case 1:return r.call(this,x)}throw Error("Invalid arity: "+arguments.length);};w.K=u;w.j=r;return w}()}(),n=function(){var q=m();q[6]=l;return q}();return Wu(n)});return function(){return St(k)}}
function IA(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new H(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=R(d,0,null);d=hg(d);C.B(d,Fo);C.B(d,eo);return HA(b,c,d)};var JA="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return Va(a)},KA="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===p(a)};function LA(){return Math.round(15*Math.random()).toString(16)};function MA(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function NA(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function OA(){this.Fg=this.Ld=this.idx=0;this.cache={}}
OA.prototype.write=function(a,b){return MA(a,b)?(4096===this.Fg?(this.clear(),this.Ld=0,this.cache={}):1936===this.idx&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[NA(this.idx),this.Ld],this.idx++,a):b[1]!=this.Ld?(b[1]=this.Ld,b[0]=NA(this.idx),this.idx++,a):b[0]):a};OA.prototype.clear=function(){this.idx=0;this.Ld++};function PA(){this.idx=0;this.cache=[]}PA.prototype.write=function(a){1936==this.idx&&(this.idx=0);this.cache[this.idx]=a;this.idx++;return a};
PA.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};PA.prototype.clear=function(){this.idx=0};var QA=1;function RA(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(KA(a)){if(KA(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!RA(a[c],b[c]))return!1;return!0}return!1}if(a.Sb)return a.Sb(b);if(null!=b&&"object"===typeof b){if(b.Sb)return b.Sb(a);c=0;var d=JA(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!RA(a[e],b[e])))return!1;return c===d}}return!1}function SA(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var TA={},UA=0;
function VA(a){var b=0;if(null!=a.forEach)a.forEach(function(g,k){b=(b+(WA(k)^WA(g)))%4503599627370496});else for(var c=JA(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(WA(e)^WA(f)))%4503599627370496}return b}function XA(a){var b=0;if(KA(a))for(var c=0;c<a.length;c++)b=SA(b,WA(a[c]));else a.forEach&&a.forEach(function(d){b=SA(b,WA(d))});return b}
function WA(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=TA[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;UA++;256<=UA&&(TA={},UA=1);a=TA[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=QA,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,QA++),b;default:return a instanceof Date?a.valueOf():
KA(a)?XA(a):a.$b?a.$b():VA(a)}};var YA="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function ZA(a,b){this.tag=a;this.rep=b;this.Ha=-1}ZA.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};ZA.prototype.equiv=function(a){return RA(this,a)};ZA.prototype.equiv=ZA.prototype.equiv;ZA.prototype.Sb=function(a){return a instanceof ZA?this.tag===a.tag&&RA(this.rep,a.rep):!1};ZA.prototype.$b=function(){-1===this.Ha&&(this.Ha=SA(WA(this.tag),WA(this.rep)));return this.Ha};
function $A(a,b){return new ZA(a,b)}var aB=za("9007199254740991"),bB=za("-9007199254740991");ta.prototype.equiv=function(a){return RA(this,a)};ta.prototype.equiv=ta.prototype.equiv;ta.prototype.Sb=function(a){return a instanceof ta&&this.equals(a)};ta.prototype.$b=function(){return this.Ia};function cB(a){this._name=a;this.Ha=-1}cB.prototype.toString=function(){return":"+this._name};cB.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};
cB.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};cB.prototype.equiv=function(a){return RA(this,a)};cB.prototype.equiv=cB.prototype.equiv;cB.prototype.Sb=function(a){return a instanceof cB&&this._name==a._name};cB.prototype.$b=function(){-1===this.Ha&&(this.Ha=WA(this._name));return this.Ha};function dB(a){this._name=a;this.Ha=-1}
dB.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};dB.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};dB.prototype.toString=function(){return this._name};dB.prototype.equiv=function(a){return RA(this,a)};dB.prototype.equiv=dB.prototype.equiv;dB.prototype.Sb=function(a){return a instanceof dB&&this._name==a._name};
dB.prototype.$b=function(){-1===this.Ha&&(this.Ha=WA(this._name));return this.Ha};function eB(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new ta(255,0)).shiftLeft(e);b<c;b++,e-=8,f=Ea(f,8)){var g=Ea(a.and(f),e).toString(16);1==g.length&&(g="0"+g);d+=g}return d}function fB(a,b){this.high=a;this.low=b;this.Ha=-1}fB.prototype.toString=function(){var a=this.high,b=this.low;var c=eB(a,0,4)+"-";c+=eB(a,4,6)+"-";c+=eB(a,6,8)+"-";c+=eB(b,0,2)+"-";return c+=eB(b,2,8)};
fB.prototype.equiv=function(a){return RA(this,a)};fB.prototype.equiv=fB.prototype.equiv;fB.prototype.Sb=function(a){return a instanceof fB&&this.high.equals(a.high)&&this.low.equals(a.low)};fB.prototype.$b=function(){-1===this.Ha&&(this.Ha=WA(this.toString()));return this.Ha};Date.prototype.Sb=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.$b=function(){return this.valueOf()};function gB(a,b){this.entries=a;this.type=b||0;this.idx=0}
gB.prototype.next=function(){if(this.idx<this.entries.length){var a={value:0===this.type?this.entries[this.idx]:1===this.type?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};this.idx+=2;return a}return{value:null,done:!0}};gB.prototype.next=gB.prototype.next;gB.prototype[YA]=function(){return this};function hB(a,b){this.map=a;this.type=b||0;this.keys=this.map.ob();this.idx=0;this.Qc=null;this.Gc=0}
hB.prototype.next=function(){if(this.idx<this.map.size){null!=this.Qc&&this.Gc<this.Qc.length||(this.Qc=this.map.map[this.keys[this.idx]],this.Gc=0);var a={value:0===this.type?this.Qc[this.Gc]:1===this.type?this.Qc[this.Gc+1]:[this.Qc[this.Gc],this.Qc[this.Gc+1]],done:!1};this.idx++;this.Gc+=2;return a}return{value:null,done:!0}};hB.prototype.next=hB.prototype.next;hB.prototype[YA]=function(){return this};
function iB(a,b){if(a instanceof jB&&(b instanceof kB||b instanceof jB)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!RA(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof kB&&(b instanceof kB||b instanceof jB)){if(a.size!==b.size)return!1;a=a.Ga;for(e=0;e<a.length;e+=2)if(!RA(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=JA(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!RA(b[f],a.get(f)))return!1}return!0}return!1}
function lB(a){return null==a?"null":aa.isArray(a)?"["+a.toString()+"]":aa.isString(a)?'"'+a+'"':a.toString()}function mB(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=lB(e)+" \x3d\x3e "+lB(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function nB(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=lB(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function kB(a){this.Ga=a;this.Fa=null;this.Ha=-1;this.size=a.length/2;this.Gf=0}kB.prototype.toString=function(){return mB(this)};
kB.prototype.inspect=function(){return this.toString()};function oB(a){if(a.Fa)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.Gf++;return 32<a.Gf?(a.Fa=pB(a.Ga,!1,!0),a.Ga=[],!0):!1}kB.prototype.clear=function(){this.Ha=-1;this.Fa?this.Fa.clear():this.Ga=[];this.size=0};kB.prototype.clear=kB.prototype.clear;kB.prototype.keys=function(){return this.Fa?this.Fa.keys():new gB(this.Ga,0)};kB.prototype.keys=kB.prototype.keys;
kB.prototype.Yc=function(){if(this.Fa)return this.Fa.Yc();for(var a=[],b=0,c=0;c<this.Ga.length;b++,c+=2)a[b]=this.Ga[c];return a};kB.prototype.keySet=kB.prototype.Yc;kB.prototype.entries=function(){return this.Fa?this.Fa.entries():new gB(this.Ga,2)};kB.prototype.entries=kB.prototype.entries;kB.prototype.values=function(){return this.Fa?this.Fa.values():new gB(this.Ga,1)};kB.prototype.values=kB.prototype.values;
kB.prototype.forEach=function(a){if(this.Fa)this.Fa.forEach(a);else for(var b=0;b<this.Ga.length;b+=2)a(this.Ga[b+1],this.Ga[b])};kB.prototype.forEach=kB.prototype.forEach;kB.prototype.get=function(a,b){if(this.Fa)return this.Fa.get(a);if(oB(this))return this.get(a);for(var c=0;c<this.Ga.length;c+=2)if(RA(this.Ga[c],a))return this.Ga[c+1];return b};kB.prototype.get=kB.prototype.get;
kB.prototype.has=function(a){if(this.Fa)return this.Fa.has(a);if(oB(this))return this.has(a);for(var b=0;b<this.Ga.length;b+=2)if(RA(this.Ga[b],a))return!0;return!1};kB.prototype.has=kB.prototype.has;kB.prototype.set=function(a,b){this.Ha=-1;if(this.Fa)this.Fa.set(a,b),this.size=this.Fa.size;else{for(var c=0;c<this.Ga.length;c+=2)if(RA(this.Ga[c],a)){this.Ga[c+1]=b;return}this.Ga.push(a);this.Ga.push(b);this.size++;32<this.size&&(this.Fa=pB(this.Ga,!1,!0),this.Ga=null)}};kB.prototype.set=kB.prototype.set;
kB.prototype["delete"]=function(a){this.Ha=-1;if(this.Fa)return a=this.Fa["delete"](a),this.size=this.Fa.size,a;for(var b=0;b<this.Ga.length;b+=2)if(RA(this.Ga[b],a))return a=this.Ga[b+1],this.Ga.splice(b,2),this.size--,a};kB.prototype.clone=function(){var a=pB();this.forEach(function(b,c){a.set(c,b)});return a};kB.prototype.clone=kB.prototype.clone;kB.prototype[YA]=function(){return this.entries()};kB.prototype.$b=function(){if(this.Fa)return this.Fa.$b();-1===this.Ha&&(this.Ha=VA(this));return this.Ha};
kB.prototype.Sb=function(a){return this.Fa?iB(this.Fa,a):iB(this,a)};function jB(a,b,c){this.map=b||{};this._keys=a||[];this.size=c||0;this.Ha=-1}jB.prototype.toString=function(){return mB(this)};jB.prototype.inspect=function(){return this.toString()};jB.prototype.clear=function(){this.Ha=-1;this.map={};this._keys=[];this.size=0};jB.prototype.clear=jB.prototype.clear;jB.prototype.ob=function(){return null!=this._keys?this._keys:JA(this.map)};
jB.prototype["delete"]=function(a){this.Ha=-1;this._keys=null;for(var b=WA(a),c=this.map[b],d=0;d<c.length;d+=2)if(RA(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};jB.prototype.entries=function(){return new hB(this,2)};jB.prototype.entries=jB.prototype.entries;jB.prototype.forEach=function(a){for(var b=this.ob(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};jB.prototype.forEach=jB.prototype.forEach;
jB.prototype.get=function(a,b){var c=WA(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(RA(a,c[b]))return c[b+1]}else return b};jB.prototype.get=jB.prototype.get;jB.prototype.has=function(a){var b=WA(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(RA(a,b[c]))return!0;return!1};jB.prototype.has=jB.prototype.has;jB.prototype.keys=function(){return new hB(this,0)};jB.prototype.keys=jB.prototype.keys;
jB.prototype.Yc=function(){for(var a=this.ob(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};jB.prototype.keySet=jB.prototype.Yc;jB.prototype.set=function(a,b){this.Ha=-1;var c=WA(a),d=this.map[c];if(null==d)this._keys&&this._keys.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(RA(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};jB.prototype.set=jB.prototype.set;
jB.prototype.values=function(){return new hB(this,1)};jB.prototype.values=jB.prototype.values;jB.prototype.clone=function(){var a=pB();this.forEach(function(b,c){a.set(c,b)});return a};jB.prototype.clone=jB.prototype.clone;jB.prototype[YA]=function(){return this.entries()};jB.prototype.$b=function(){-1===this.Ha&&(this.Ha=VA(this));return this.Ha};jB.prototype.Sb=function(a){return iB(this,a)};
function pB(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(RA(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new kB(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=WA(a[b]);var g=d[c];if(null==g)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<g.length;c+=2)if(RA(g[c],a[b])){g[c+1]=a[b+1];k=!1;break}k&&(g.push(a[b]),g.push(a[b+1]),f++)}}return new jB(e,d,f)}
function qB(a){this.map=a;this.size=a.size}qB.prototype.toString=function(){return nB(this)};qB.prototype.inspect=function(){return this.toString()};qB.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};qB.prototype.add=qB.prototype.add;qB.prototype.clear=function(){this.map=new jB;this.size=0};qB.prototype.clear=qB.prototype.clear;qB.prototype["delete"]=function(a){a=this.map["delete"](a);this.size=this.map.size;return a};qB.prototype.entries=function(){return this.map.entries()};
qB.prototype.entries=qB.prototype.entries;qB.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};qB.prototype.forEach=qB.prototype.forEach;qB.prototype.has=function(a){return this.map.has(a)};qB.prototype.has=qB.prototype.has;qB.prototype.keys=function(){return this.map.keys()};qB.prototype.keys=qB.prototype.keys;qB.prototype.Yc=function(){return this.map.Yc()};qB.prototype.keySet=qB.prototype.Yc;qB.prototype.values=function(){return this.map.values()};
qB.prototype.values=qB.prototype.values;qB.prototype.clone=function(){var a=rB();this.forEach(function(b){a.add(b)});return a};qB.prototype.clone=qB.prototype.clone;qB.prototype[YA]=function(){return this.values()};qB.prototype.Sb=function(a){if(a instanceof qB){if(this.size===a.size)return RA(this.map,a.map)}else return!1};qB.prototype.$b=function(){return WA(this.map)};
function rB(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=WA(a[e]),g=b[f];if(null==g)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<g.length;k+=2)if(RA(g[k],a[e])){f=!1;break}f&&(g.push(a[e]),g.push(a[e]),d++)}}return new qB(new jB(c,b,d))};function sB(a){this.qb=a}
function tB(a){this.options=a||{};this.cb={};for(var b in this.defaults.cb)this.cb[b]=this.defaults.cb[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.cb[b]=this.options.handlers[b]}this.ue=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.ue;this.sf=null!=this.options.preferBuffers?this.options.preferBuffers:
this.defaults.sf;this.cf=this.options.defaultHandler||this.defaults.cf;this.Vb=this.options.mapBuilder;this.ed=this.options.arrayBuilder}
tB.prototype.defaults={cb:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.sf||"undefined"==typeof Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=$A("b",a);else c=new Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof ta||(a=za(a,10),a=0<a.compare(aB)||0>a.compare(bB)?a:a.toNumber());return a},n:function(a){return $A("n",a)},d:function(a){return parseFloat(a)},f:function(a){return $A("f",a)},c:function(a){return a},":":function(a){return new cB(a)},$:function(a){return new dB(a)},r:function(a){return $A("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=sa(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new fB(f,sa(e,b))},set:function(a){return rB(a)},list:function(a){return $A("list",a)},link:function(a){return $A("link",a)},cmap:function(a){return pB(a,!1)}},cf:function(a,b){return $A(a,b)},ue:!0,sf:!0};
tB.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return MA(a,c)?(a=uB(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):uB(this,a),b;case "object":if(KA(a))if("^ "===a[0])if(this.Vb)if(17>a.length&&this.Vb.fromArray){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.Vb.fromArray(d,a)}else{d=this.Vb.init(a);for(c=1;c<a.length;c+=2)d=this.Vb.add(d,this.decode(a[c],b,!0,!1),
this.decode(a[c+1],b,!1,!1),a);b=this.Vb.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=pB(d,!1)}else b=vB(this,a,b,c,d);else{c=JA(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof sB)a=a[e],c=this.cb[d.qb],b=null!=c?c(this.decode(a,b,!1,!0),this):$A(d.qb,this.decode(a,b,!1,!1));else if(this.Vb)if(16>c.length&&this.Vb.fromArray){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.Vb.fromArray(f,a)}else{f=this.Vb.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.Vb.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.Vb.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=pB(f,!1)}}return b}return a};tB.prototype.decode=tB.prototype.decode;
function vB(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.idx;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof sB)return b=b[1],f=a.cb[e.qb],null!=f?f=f(a.decode(b,c,d,!0),a):$A(e.qb,a.decode(b,c,d,!1));c&&f!=c.idx&&(c.idx=f);if(a.ed){if(32>=b.length&&a.ed.fromArray){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.ed.fromArray(f,b)}f=a.ed.init(b);for(e=0;e<b.length;e++)f=a.ed.add(f,a.decode(b[e],c,
d,!1),b);return a.ed.finalize(f,b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function uB(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new sB(b.substring(2));var d=a.cb[c];return null==d?a.cf(c,b.substring(2)):d(b.substring(2),a)}return b};function wB(a){this.$g=new tB(a)}function xB(a,b){this.wh=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new PA}xB.prototype.read=function(a){var b=this.cache;a=this.wh.$g.decode(JSON.parse(a),b);this.cache.clear();return a};xB.prototype.read=xB.prototype.read;var yB=0,zB=(8|3&Math.round(14*Math.random())).toString(16),AB="transit$guid$"+(LA()+LA()+LA()+LA()+LA()+LA()+LA()+LA()+"-"+LA()+LA()+LA()+LA()+"-4"+LA()+LA()+LA()+"-"+zB+LA()+LA()+LA()+"-"+LA()+LA()+LA()+LA()+LA()+LA()+LA()+LA()+LA()+LA()+LA()+LA());
function BB(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[AB];null==b&&("undefined"!=typeof Object.defineProperty?(b=++yB,Object.defineProperty(a,AB,{value:b,enumerable:!1})):a[AB]=b=++yB);return b}function CB(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function DB(){}DB.prototype.tag=function(){return"_"};DB.prototype.rep=function(){return null};
DB.prototype.stringRep=function(){return"null"};function EB(){}EB.prototype.tag=function(){return"s"};EB.prototype.rep=function(a){return a};EB.prototype.stringRep=function(a){return a};function FB(){}FB.prototype.tag=function(){return"i"};FB.prototype.rep=function(a){return a};FB.prototype.stringRep=function(a){return a.toString()};function GB(){}GB.prototype.tag=function(){return"i"};GB.prototype.rep=function(a){return a.toString()};GB.prototype.stringRep=function(a){return a.toString()};
function HB(){}HB.prototype.tag=function(){return"?"};HB.prototype.rep=function(a){return a};HB.prototype.stringRep=function(a){return a.toString()};function IB(){}IB.prototype.tag=function(){return"array"};IB.prototype.rep=function(a){return a};IB.prototype.stringRep=function(){return null};function JB(){}JB.prototype.tag=function(){return"map"};JB.prototype.rep=function(a){return a};JB.prototype.stringRep=function(){return null};function KB(){}KB.prototype.tag=function(){return"t"};
KB.prototype.rep=function(a){return a.getUTCFullYear()+"-"+CB(a.getUTCMonth()+1,2)+"-"+CB(a.getUTCDate(),2)+"T"+CB(a.getUTCHours(),2)+":"+CB(a.getUTCMinutes(),2)+":"+CB(a.getUTCSeconds(),2)+"."+CB(a.getUTCMilliseconds(),3)+"Z"};KB.prototype.stringRep=function(a,b){return b.rep(a)};function LB(){}LB.prototype.tag=function(){return"m"};LB.prototype.rep=function(a){return a.valueOf()};LB.prototype.stringRep=function(a){return a.valueOf().toString()};LB.prototype.getVerboseHandler=function(){return new KB};
function MB(){}MB.prototype.tag=function(){return"u"};MB.prototype.rep=function(a){return a.toString()};MB.prototype.stringRep=function(a){return a.toString()};function NB(){}NB.prototype.tag=function(){return":"};NB.prototype.rep=function(a){return a._name};NB.prototype.stringRep=function(a,b){return b.rep(a)};function OB(){}OB.prototype.tag=function(){return"$"};OB.prototype.rep=function(a){return a._name};OB.prototype.stringRep=function(a,b){return b.rep(a)};function PB(){}PB.prototype.tag=function(a){return a.tag};
PB.prototype.rep=function(a){return a.rep};PB.prototype.stringRep=function(){return null};function QB(){}QB.prototype.tag=function(){return"set"};QB.prototype.rep=function(a){var b=[];a.forEach(function(c){b.push(c)});return $A("array",b)};QB.prototype.stringRep=function(){return null};function RB(){}RB.prototype.tag=function(){return"map"};RB.prototype.rep=function(a){return a};RB.prototype.stringRep=function(){return null};function SB(){}SB.prototype.tag=function(){return"map"};
SB.prototype.rep=function(a){return a};SB.prototype.stringRep=function(){return null};function TB(){}TB.prototype.tag=function(){return"b"};TB.prototype.rep=function(a){return a.toString("base64")};TB.prototype.stringRep=function(){return null};function UB(){}UB.prototype.tag=function(){return"b"};
UB.prototype.rep=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
UB.prototype.stringRep=function(){return null};
function VB(){this.cb={};this.set(null,new DB);this.set(String,new EB);this.set(Number,new FB);this.set(ta,new GB);this.set(Boolean,new HB);this.set(Array,new IB);this.set(Object,new JB);this.set(Date,new LB);this.set(fB,new MB);this.set(cB,new NB);this.set(dB,new OB);this.set(ZA,new PB);this.set(qB,new QB);this.set(kB,new RB);this.set(jB,new SB);"undefined"!=typeof Buffer&&this.set(Buffer,new TB);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new UB)}
VB.prototype.get=function(a){a="string"===typeof a?this.cb[a]:this.cb[BB(a)];return null!=a?a:this.cb["default"]};VB.prototype.get=VB.prototype.get;VB.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.cb[a]=b:this.cb[BB(a)]=b};function WB(a){this.Oc=a||{};this.ue=null!=this.Oc.preferStrings?this.Oc.preferStrings:!0;this.jg=this.Oc.objectBuilder||null;this.cb=new VB;if(a=this.Oc.handlers){if(KA(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.cb.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.Nd=this.Oc.handlerForForeign;this.ze=this.Oc.unpack||function(c){return c instanceof kB&&null===c.Fa?c.Ga:!1};this.Zd=
this.Oc&&this.Oc.verbose||!1}WB.prototype.handler=function(a){var b=this.cb.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.cb.get(a):null};function XB(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function YB(a,b,c){var d=[];if(KA(b))for(var e=0;e<b.length;e++)d.push(ZB(a,b[e],!1,c));else b.forEach(function(f){d.push(ZB(a,f,!1,c))});return d}function $B(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0}
function aC(a,b){var c=a.ze(b),d=!0;if(c){for(b=0;b<c.length&&(d=$B(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=$B(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,g){d=d&&$B(a,g)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function bC(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));isObject="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:isObject,enumerable:!1}):a.constructor.transit$isObject=isObject;return isObject}
function cC(a,b,c){var d=null,e=null,f=null;d=null;var g=0;if(b.constructor===Object||null!=b.forEach||a.Nd&&bC(b)){if(a.Zd){if(null!=b.forEach)if(aC(a,b)){var k={};b.forEach(function(l,m){k[ZB(a,m,!0,!1)]=ZB(a,l,!1,c)})}else{d=a.ze(b);e=[];f=XB("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(ZB(a,d[g],!1,!1)),e.push(ZB(a,d[g+1],!1,c));else b.forEach(function(l,m){e.push(ZB(a,m,!1,!1));e.push(ZB(a,l,!1,c))});k={};k[f]=e}else for(d=JA(b),k={};g<d.length;g++)k[ZB(a,d[g],!0,!1)]=ZB(a,b[d[g]],!1,
c);return k}if(null!=b.forEach){if(aC(a,b)){d=a.ze(b);k=["^ "];if(d)for(;g<d.length;g+=2)k.push(ZB(a,d[g],!0,c)),k.push(ZB(a,d[g+1],!1,c));else b.forEach(function(l,m){k.push(ZB(a,m,!0,c));k.push(ZB(a,l,!1,c))});return k}d=a.ze(b);e=[];f=XB("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(ZB(a,d[g],!1,c)),e.push(ZB(a,d[g+1],!1,c));else b.forEach(function(l,m){e.push(ZB(a,m,!1,c));e.push(ZB(a,l,!1,c))});return[f,e]}k=["^ "];for(d=JA(b);g<d.length;g++)k.push(ZB(a,d[g],!0,c)),k.push(ZB(a,b[d[g]],
!1,c));return k}if(null!=a.jg)return a.jg(b,function(l){return ZB(a,l,!0,c)},function(l){return ZB(a,l,!1,c)});g=(null==b?null:b.constructor).name;d=Error("Cannot write "+g);d.data={obj:b,type:g};throw d;}
function ZB(a,b,c,d){var e=a.handler(b)||(a.Nd?a.Nd(b,a.cb):null),f=e?e.tag(b):null,g=e?e.rep(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?XB("~","_","",c,d):null;case "s":return 0<g.length?(a=g.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+g:g):a=g,XB("","",a,c,d);case "?":return c?XB("~","?",g.toString()[0],c,d):g;case "i":return Infinity===g?XB("~","z","INF",c,d):-Infinity===g?XB("~","z","-INF",c,d):isNaN(g)?XB("~","z","NaN",c,d):c||"string"===typeof g||g instanceof ta?XB("~","i",g.toString(),
c,d):g;case "d":return c?XB(g.yh,"d",g,c,d):g;case "b":return XB("~","b",g,c,d);case "'":return a.Zd?(b={},c=XB("~#","'","",!0,d),b[c]=ZB(a,g,!1,d),d=b):d=[XB("~#","'","",!0,d),ZB(a,g,!1,d)],d;case "array":return YB(a,g,d);case "map":return cC(a,g,d);default:a:{if(1===f.length){if("string"===typeof g){d=XB("~",f,g,c,d);break a}if(c||a.ue){(a=a.Zd&&e.getVerboseHandler())?(f=a.tag(b),g=a.stringRep(b,a)):g=e.stringRep(b,e);if(null!==g){d=XB("~",f,g,c,d);break a}d=Error('Tag "'+f+'" cannot be encoded as string');
d.data={tag:f,rep:g,obj:b};throw d;}}b=f;c=g;a.Zd?(g={},g[XB("~#",b,"",!0,d)]=ZB(a,c,!1,d),d=g):d=[XB("~#",b,"",!0,d),ZB(a,c,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={obj:b,type:d},a;}function dC(a,b){this.vd=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new OA}dC.prototype.eh=function(){return this.vd};dC.prototype.marshaller=dC.prototype.eh;
dC.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.vd.Zd?!1:this.cache;if(!1===c.marshalTop)a=ZB(this.vd,a,b,d);else{c=this.vd;var e=JSON,f=e.stringify,g=ZB;var k=c.handler(a)||(c.Nd?c.Nd(a,c.cb):null);if(null!=k)a=1===k.tag(a).length?$A("'",a):a;else throw b=(null==a?null:a.constructor).name,d=Error("Cannot write "+b),d.data={obj:a,type:b},d;a=f.call(e,g(c,a,b,d))}null!=this.cache&&this.cache.clear();return a};dC.prototype.write=dC.prototype.write;
dC.prototype.register=function(a,b){this.vd.cb.set(a,b)};dC.prototype.register=dC.prototype.register;function eC(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new wB(b),new xB(a,b);throw Error("Cannot create reader of type "+a);}function fC(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new WB(b),new dC(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};Rk.prototype.R=function(a,b){return b instanceof Rk?this.jc===b.jc:b instanceof fB?this.jc===b.toString():!1};Rk.prototype.oc=t;Rk.prototype.Qb=function(a,b){if(b instanceof Rk||b instanceof fB)return df(this.toString(),b.toString());throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};fB.prototype.oc=t;fB.prototype.Qb=function(a,b){if(b instanceof Rk||b instanceof fB)return df(this.toString(),b.toString());throw Error(["Cannot compare ",A.j(this)," to ",A.j(b)].join(""));};
ta.prototype.R=function(a,b){return this.equiv(b)};fB.prototype.R=function(a,b){return b instanceof Rk?b.R(null,this):this.equiv(b)};ZA.prototype.R=function(a,b){return this.equiv(b)};ta.prototype.Ke=t;ta.prototype.pa=function(){return WA(this)};fB.prototype.Ke=t;fB.prototype.pa=function(){return Md(this.toString())};ZA.prototype.Ke=t;ZA.prototype.pa=function(){return WA(this)};fB.prototype.ya=t;fB.prototype.ea=function(a,b){return ed(b,['#uuid "',A.j(this.toString()),'"'].join(""))};
function gC(a,b){for(var c=F(Va(b)),d=null,e=0,f=0;;)if(f<e){var g=d.ka(null,f);a[g]=b[g];f+=1}else if(c=F(c))d=c,Ue(d)?(c=sd(d),f=td(d),d=c,e=O(c),c=f):(c=I(d),a[c]=b[c],c=J(d),d=null,e=0),f=0;else break;return a}function hC(){}hC.prototype.init=function(){return jd(W)};hC.prototype.add=function(a,b,c){return md(a,b,c)};hC.prototype.finalize=function(a){return ld(a)};hC.prototype.fromArray=function(a){return li.C?li.C(a,!0,!0):li.call(null,a,!0,!0)};function iC(){}iC.prototype.init=function(){return jd(Be)};
iC.prototype.add=function(a,b){return Vf.B(a,b)};iC.prototype.finalize=function(a){return ld(a)};iC.prototype.fromArray=function(a){return Ah.B?Ah.B(a,!0):Ah.call(null,a,!0)};
function jC(a,b){return eC(Hf(a),gC({handlers:vk(kj.F(Q([new v(null,6,["$",function(c){return Td.j(c)},":",function(c){return Gf.j(c)},"set",function(c){return Zg.B(sj,c)},"list",function(c){return Zg.B(Xd,c.reverse())},"cmap",function(c){for(var d=0,e=jd(W);;)if(d<c.length){var f=d+2;e=md(e,c[d],c[d+1]);d=f}else return ld(e)},"with-meta",function(c){return Ke(c[0],c[1])}],null),rl.j(b)]))),mapBuilder:new hC,arrayBuilder:new iC,prefersStrings:!1},vk(Ge.B(b,rl))))}function kC(){}kC.prototype.tag=function(){return":"};
kC.prototype.rep=function(a){return a.Ea};kC.prototype.stringRep=function(a){return a.Ea};function lC(){}lC.prototype.tag=function(){return"$"};lC.prototype.rep=function(a){return a.qb};lC.prototype.stringRep=function(a){return a.qb};function mC(){}mC.prototype.tag=function(){return"list"};
mC.prototype.rep=function(a){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e);b.push(f);e+=1}else if(a=F(a))c=a,Ue(c)?(a=sd(c),e=td(c),c=a,d=O(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return $A("array",b)};mC.prototype.stringRep=function(){return null};function nC(){}nC.prototype.tag=function(){return"map"};nC.prototype.rep=function(a){return a};nC.prototype.stringRep=function(){return null};function oC(){}oC.prototype.tag=function(){return"set"};
oC.prototype.rep=function(a){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e);b.push(f);e+=1}else if(a=F(a))c=a,Ue(c)?(a=sd(c),e=td(c),c=a,d=O(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return $A("array",b)};oC.prototype.stringRep=function(){return null};function pC(){}pC.prototype.tag=function(){return"array"};
pC.prototype.rep=function(a){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ka(null,e);b.push(f);e+=1}else if(a=F(a))c=a,Ue(c)?(a=sd(c),e=td(c),c=a,d=O(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b};pC.prototype.stringRep=function(){return null};function qC(){}qC.prototype.tag=function(){return"u"};qC.prototype.rep=function(a){return a.jc};qC.prototype.stringRep=function(a){return this.rep(a)};function rC(a,b){this.value=a;this.meta=b}function sC(){}
sC.prototype.tag=function(){return"with-meta"};sC.prototype.rep=function(a){return $A("array",[a.value,a.meta])};sC.prototype.stringRep=function(){return null};
function tC(a,b){var c=new mC,d=new nC,e=new oC,f=new pC,g=kj.F(Q([Qi([Oi,Cf,v,Ji,Qh,H,E,zf,If,Ih,Ph,Li,jj,rC,ei,X,Ce,te,qj,fj,ij,Gh,tj,Nf,Sd,Rk,Jj,Ti],[d,c,d,c,c,c,new kC,c,c,f,c,c,c,new sC,c,f,c,c,e,d,c,c,e,c,new lC,new qC,c,c]),"undefined"!==typeof Cb&&"undefined"!==typeof Db&&"undefined"!==typeof rk?Fe([rk,c]):null,"undefined"!==typeof Cb&&"undefined"!==typeof Db&&"undefined"!==typeof Ug?Fe([Ug,c]):null,"undefined"!==typeof Cb&&"undefined"!==typeof Db&&"undefined"!==typeof uh?Fe([uh,f]):null,
rl.j(b)]));return fC(Hf(a),gC({objectBuilder:function(k,l,m){return mf(function(n,q,r){n.push(l.j?l.j(q):l.call(null,q),m.j?m.j(r):m.call(null,r));return n},["^ "],k)},handlers:function(){var k=ec(g);k.forEach=function(l){for(var m=F(this),n=null,q=0,r=0;;)if(r<q){var u=n.ka(null,r),w=R(u,0,null);u=R(u,1,null);l.B?l.B(u,w):l.call(null,u,w);r+=1}else if(m=F(m))Ue(m)?(n=sd(m),m=td(m),w=n,q=O(n),n=w):(n=I(m),w=R(n,0,null),u=R(n,1,null),l.B?l.B(u,w):l.call(null,u,w),m=J(m),n=null,q=0),r=0;else return null};
return k}(),unpack:function(k){return k instanceof v?k.D:!1}},vk(Ge.B(b,rl))))};var uC=bz(function(a,b){var c=tC(a,b);return function(d){return c.write(d)}}),vC=bz(function(a,b){var c=jC(a,b);return function(d){return c.read(d)}});function wC(){var a=W,b=W;this.Ag=Jn;this.xh=a;this.sh=b}wC.prototype.yf=function(a,b){a=uC(this.Ag,this.xh);return a.j?a.j(b):a.call(null,b)};wC.prototype.zf=function(a,b){a=vC(this.Ag,this.sh);return a.j?a.j(b):a.call(null,b)};var xC=Ur(68,{});var yC=Ur(72,{});var zC={};var AC={},BC,CC;function DC(a,b){if(null!=a&&null!=a.Ze)a=a.Ze(a,b);else{var c=DC[p(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=DC._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw z("Spec.with-gen*",a);}return a}var EC=Jg(W);function FC(a){if(Ff(a)){var b=B(EC);a=C.B(b,a);if(Ff(a))a:for(;;)if(Ff(a))a=C.B(b,a);else{b=a;break a}else b=a;return b}return a}
function GC(a){if(Ff(a)){var b=FC(a);if(y(b))return b;throw Error(["Unable to resolve spec: ",A.j(a)].join(""));}return a}function HC(a){return null!=a&&t===a.Tf?a:null}function IC(a){var b=Xm.j(a);return y(b)?a:b}function JC(a,b){return Ff(a)?a:y(IC(a))?S.C(a,mm,b):null!=a&&(a.I&131072||t===a.ge)?Ke(a,S.C(Le(a),mm,b)):null}function KC(a){return Ff(a)?a:y(IC(a))?mm.j(a):null!=a&&(a.I&131072||t===a.ge)?mm.j(Le(a)):null}
function LC(a){var b=function(){var c=(c=Ff(a))?FC(a):c;if(y(c))return c;c=HC(a);if(y(c))return c;c=IC(a);return y(c)?c:null}();return y(IC(b))?JC(MC(b,null),KC(b)):b}function NC(a){var b=LC(a);if(y(b))return b;if(Ff(a))throw Error(["Unable to resolve spec: ",A.j(a)].join(""));return null}function OC(a){if(cs(a))return null;a=Pg.B(Vk,as(a,"$"));if(2<=O(a)&&Ag(function(c){return!cs(c)},a)){var b=Nj(Aj,ze)(a);a=R(b,0,null);b=R(b,1,null);return Td.j([Zr(".",a),"/",A.j(b)].join(""))}return null}
var QC=function(){function a(d,e){var f=PC[p(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=PC._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw z("Specize.specize*",d);}function b(d){var e=PC[p(null==d?null:d)];if(null!=e)return e.j?e.j(d):e.call(null,d);e=PC._;if(null!=e)return e.j?e.j(d):e.call(null,d);throw z("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.B=a;return c}(),PC=function PC(a){switch(arguments.length){case 1:return PC.j(arguments[0]);case 2:return PC.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};PC.j=function(a){return null!=a&&null!=a.Sc?a.Sc(a):QC(a)};PC.B=function(a,b){return null!=a&&null!=a.Tc?a.Tc(a,b):QC(a,b)};PC.O=2;E.prototype.Sc=function(){return PC(GC(this))};E.prototype.Tc=function(){return PC(GC(this))};Sd.prototype.Sc=function(){return PC(GC(this))};
Sd.prototype.Tc=function(){return PC(GC(this))};qj.prototype.Sc=function(){return RC(this,this)};qj.prototype.Tc=function(a,b){return RC(b,this)};tj.prototype.Sc=function(){return RC(this,this)};tj.prototype.Tc=function(a,b){return RC(b,this)};
PC._=function(){function a(c){var d=(d=He(c))?OC(c.name):d;return y(d)?RC(d,c):RC(Dr,c)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return RC(d,c)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return RC(d,c)};return b}();var SC=function SC(a){switch(arguments.length){case 1:return SC.j(arguments[0]);case 2:return SC.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};
SC.j=function(a){var b=HC(a);return y(b)?b:PC(a)};SC.B=function(a,b){var c=HC(a);return y(c)?c:PC(a,b)};SC.O=2;function TC(a,b){a=FC(a);return y(IC(a))?S.C(a,Zp,b):DC(SC.j(a),b)}function RC(a,b){return UC(a,b,null,null,null)}
function UC(a,b,c,d,e){if(y(HC(b)))return y(c)?TC(b,c):b;if(y(IC(b)))return MC(b,c);if(Ff(b))return a=NC(b),y(c)?TC(a,c):a;if("undefined"===typeof Cb||"undefined"===typeof zC||"undefined"===typeof AC||"undefined"===typeof BC)BC=function(f,g,k,l,m,n){this.form=f;this.ng=g;this.hf=k;this.Zf=l;this.Bg=m;this.lh=n;this.I=393216;this.P=0},BC.prototype.qa=function(f,g){return new BC(this.form,this.ng,this.hf,this.Zf,this.Bg,g)},BC.prototype.oa=function(){return this.lh},BC.prototype.Sc=function(){return this},
BC.prototype.Tc=function(){return this},BC.prototype.Tf=t,BC.prototype.Ze=function(f,g){return UC(this.form,this.ng,g,this.Zf,this.Bg)},BC.pc=!0,BC.Rb="cljs.spec.alpha/t_cljs$spec$alpha17544",BC.zc=function(f){return ed(f,"cljs.spec.alpha/t_cljs$spec$alpha17544")};return new BC(a,b,c,d,e,W)}
var MC=function MC(a,b){if("undefined"===typeof Cb||"undefined"===typeof zC||"undefined"===typeof AC||"undefined"===typeof CC)CC=function(d,e,f){this.re=d;this.hf=e;this.mh=f;this.I=393216;this.P=0},CC.prototype.qa=function(d,e){return new CC(this.re,this.hf,e)},CC.prototype.oa=function(){return this.mh},CC.prototype.Sc=function(){return this},CC.prototype.Tc=function(){return this},CC.prototype.Tf=t,CC.prototype.Ze=function(d,e){return MC.B?MC.B(this.re,e):MC.call(null,this.re,e)},CC.pc=!0,CC.Rb=
"cljs.spec.alpha/t_cljs$spec$alpha18808",CC.zc=function(d){return ed(d,"cljs.spec.alpha/t_cljs$spec$alpha18808")};return new CC(a,b,W)},VC=Bf(Np,Bf(ol,new X(null,1,5,Y,[gl],null),Bf(yo,Bf(Oq,Nn,gl),Bf(Oq,Ln,gl))),Bf(ol,new X(null,1,5,Y,[Sn],null),Bf(Oq,Bf(tl,new X(null,1,5,Y,[new X(null,2,5,Y,[Zm,Wm],null)],null),new v(null,2,[Nn,Zm,Ln,Wm],null)),Sn))),WC=UC(Bf(Np,Bf(tl,new X(null,1,5,Y,[Vn],null),Bf(yo,Bf(Oq,Nn,Vn),Bf(Oq,Ln,Vn))),Bf(tl,new X(null,1,5,Y,[Vn],null),Bf(Oq,Bf(tl,new X(null,1,5,Y,[new X(null,
2,5,Y,[Zm,Wm],null)],null),new v(null,2,[Nn,Zm,Ln,Wm],null)),Vn))),function(a){return Bj(Pg.B(Nn,a),Pg.B(Ln,a))},null,!0,function(a){return Pg.B(function(b){var c=R(b,0,null);b=R(b,1,null);return new v(null,2,[Nn,c,Ln,b],null)},a)});if(null==WC)Lg.C(EC,Ge,Ho);else{var XC;var YC=HC(WC);if(y(YC))XC=YC;else{var ZC=IC(WC);XC=y(ZC)?ZC:C.B(B(EC),WC)}var $C=y(XC)?WC:RC(VC,WC);Lg.Y(EC,S,Ho,JC($C,Ho))};function aD(a){a=hg(a);var b=C.B(a,ql);return b instanceof E||"string"===typeof b?S.C(Ge.B(a,ql),nn,function(){var c=Gf.j(b);c=c instanceof E?c.Ea:null;switch(c){case "debug":return xC.Debug;case "info":return xC.Info;case "warn":return xC.Warn;default:throw Error(["No matching clause: ",A.j(c)].join(""));}}()):a}
function bD(a,b,c){return y(b)?(b=vk(b),c=aD(kj.F(Q([new v(null,2,[Eo,Gm,cq,"vega-lite"],null),c]))),c=kj.F(Q([new v(null,1,[Eo,Gm],null),c])),yC(a,b,vk(c)).catch(function(d){return console.log(d)})):null}var cD=function cD(a){switch(arguments.length){case 1:return cD.j(arguments[0]);case 2:return cD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};cD.j=function(a){return cD.B(a,W)};
cD.B=function(a,b){var c=kj.F(Q([new v(null,1,[cq,"vega"],null),b]));return dt(new v(null,4,[Bp,"vega",cr,function(d){return bD(Kt(d),a,c)},bn,function(d,e){R(e,0,null);var f=R(e,1,null);e=R(e,2,null);return bD(Kt(d),f,e)},hp,function(){return new X(null,1,5,Y,[Zo],null)}],null))};cD.O=2;var dD=function dD(a){switch(arguments.length){case 1:return dD.j(arguments[0]);case 2:return dD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};
dD.j=function(a){return dD.B(a,W)};dD.B=function(a,b){return cD.B(a,kj.F(Q([b,new v(null,1,[cq,"vega-lite"],null)])))};dD.O=2;var eD=Ks.j(new v(null,2,[Po,cD,zl,dD],null)),fD=new v(null,4,[Jm,50,pq,W,Sp,new v(null,1,[Cr,10],null),Vo,new v(null,2,[Cr,10,rq,Fq],null)],null),gD=function gD(a){switch(arguments.length){case 1:return gD.j(arguments[0]);case 2:return gD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.j(arguments.length)].join(""));}};
gD.j=function(a){return gD.B(a,W)};
gD.B=function(a,b){var c=hg(b),d=C.B(c,vq),e=C.B(c,dq),f=C.B(c,$o),g=Ks.j(new v(null,3,[vq,y(d)?d:0,dq,e,$o,y(f)?f:Hq],null)),k=$b.B(ys,Pg.B(Fg.B(uj,gi),Qg.B(10,a)));return function(l,m){var n=B(g),q=hg(n),r=C.B(q,vq),u=C.B(q,dq),w=C.B(q,$o),x=lj.F(function(ea,qa){return Re(ea)&&Re(qa)?kj.F(Q([ea,qa])):qa},Q([fD,m])),D=hg(x),G=C.B(D,Jm),N=C.B(D,pq),T=C.B(D,Sp),V=C.B(D,Vo),oa=function(){var ea=y(u)?jf(u,l):l;ea=K.B(jl,w)?Af(ea):ea;ea=y(G)?Rg(G*r,ea):ea;return y(G)?Qg.B(G,ea):ea}(),Z=uf(O(l),G);return new X(null,
3,5,Y,[Dm,O(l)>G?new X(null,5,5,Y,[tp,new v(null,1,[Tm,new v(null,1,[Hm,10],null)],null),new X(null,4,5,Y,[$m,new v(null,1,[Tm,new v(null,1,[Cr,20],null)],null),"Current page: ",r+1],null),0<r?new X(null,3,5,Y,[np,new v(null,2,[yl,function(){function ea(Ya){var Pa=null;if(0<arguments.length){Pa=0;for(var Ua=Array(arguments.length-0);Pa<Ua.length;)Ua[Pa]=arguments[Pa+0],++Pa;Pa=new H(Ua,0,null)}return qa.call(this,Pa)}function qa(){return Lg.Y(g,eh,vq,rf)}ea.O=0;ea.T=function(Ya){Ya=F(Ya);return qa(Ya)};
ea.F=qa;return ea}(),Tm,new v(null,2,[Cr,10,rq,Fq],null)],null),"prev"],null):null,r<Z?new X(null,3,5,Y,[np,new v(null,2,[yl,function(){function ea(Ya){var Pa=null;if(0<arguments.length){Pa=0;for(var Ua=Array(arguments.length-0);Pa<Ua.length;)Ua[Pa]=arguments[Pa+0],++Pa;Pa=new H(Ua,0,null)}return qa.call(this,Pa)}function qa(){return Lg.Y(g,eh,vq,ee)}ea.O=0;ea.T=function(Ya){Ya=F(Ya);return qa(Ya)};ea.F=qa;return ea}(),Tm,new v(null,2,[Cr,10,rq,Fq],null)],null),"next"],null):null],null):null,new X(null,
3,5,Y,[$k,new X(null,3,5,Y,[gm,new v(null,1,[Tm,N],null),function(){return function Ya(qa){return new If(null,function(){for(;;){var Pa=F(qa);if(Pa){var Ua=Pa;if(Ue(Ua)){var yc=sd(Ua),ac=O(yc),Xb=Mf(ac);return function(){for(var vb=0;;)if(vb<ac){var Oc=mc(yc,vb);Pf(Xb,Ke(new X(null,4,5,Y,[fm,new v(null,2,[Tm,V,yl,function(Nd,Zh,rm,sm,vj,wj,tm,um,vm,wm,Og,xm,xj,$h,Qd,qd,bf,Ac,Bc,Rd,xq){return function(){function ai(bi){var cf=null;if(0<arguments.length){cf=0;for(var yj=Array(arguments.length-0);cf<
yj.length;)yj[cf]=arguments[cf+0],++cf;cf=new H(yj,0,null)}return zj.call(this,cf)}function zj(){return Lg.C(xq,kj,new v(null,2,[dq,Zh,$o,K.B(Zh,Og)&&K.B(xm,Hq)?jl:Hq],null))}ai.O=0;ai.T=function(bi){bi=F(bi);return zj(bi)};ai.F=zj;return ai}()}(vb,Oc,yc,ac,Xb,Ua,Pa,n,q,r,u,w,x,D,G,N,T,V,oa,Z,g,k,b,c,d,e,f)],null),Hf(Oc),K.B(u,Oc)?function(){var Nd=w instanceof E?w.Ea:null;switch(Nd){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",A.j(Nd)].join(""));
}}():null],null),new v(null,1,[or,Oc],null)));vb+=1}else return!0}()?Of(Xb.ua(),Ya(td(Ua))):Of(Xb.ua(),null)}var Rb=I(Ua);return ve(Ke(new X(null,4,5,Y,[fm,new v(null,2,[Tm,V,yl,function(vb,Oc,Nd,Zh,rm,sm,vj,wj,tm,um,vm,wm,Og,xm,xj,$h,Qd){return function(){function qd(Ac){var Bc=null;if(0<arguments.length){Bc=0;for(var Rd=Array(arguments.length-0);Bc<Rd.length;)Rd[Bc]=arguments[Bc+0],++Bc;Bc=new H(Rd,0,null)}return bf.call(this,Bc)}function bf(){return Lg.C(Qd,kj,new v(null,2,[dq,vb,$o,K.B(vb,vj)&&
K.B(wj,Hq)?jl:Hq],null))}qd.O=0;qd.T=function(Ac){Ac=F(Ac);return bf(Ac)};qd.F=bf;return qd}()}(Rb,Ua,Pa,n,q,r,u,w,x,D,G,N,T,V,oa,Z,g,k,b,c,d,e,f)],null),Hf(Rb),K.B(u,Rb)?function(){var vb=w instanceof E?w.Ea:null;switch(vb){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",A.j(vb)].join(""));}}():null],null),new v(null,1,[or,Rb],null)),Ya(Wd(Ua)))}return null}},null,null)}(k)}()],null),function(){return function Ya(qa){return new If(null,function(){for(;;){var Pa=
F(qa);if(Pa){var Ua=Pa;if(Ue(Ua)){var yc=sd(Ua),ac=O(yc),Xb=Mf(ac);return function(){for(var vb=0;;)if(vb<ac){var Oc=mc(yc,vb);Pf(Xb,Ke(new X(null,3,5,Y,[gm,new v(null,1,[Tm,N],null),function(){return function(Nd,Zh,rm,sm,vj,wj,tm,um,vm,wm,Og,xm,xj,$h,Qd,qd,bf,Ac,Bc,Rd,xq,ai,zj,bi,cf,yj,nD){return function iw(oD){return new If(null,function(zD,jw,AD,BD,CD,DD,ED,FD,GD,HD,ID,JD,KD,LD,MD,ND,kw){return function(){for(;;){var ci=F(oD);if(ci){if(Ue(ci)){var ym=sd(ci),lw=O(ym),di=Mf(lw);a:for(var yq=0;;)if(yq<
lw){var zm=mc(ym,yq);zm=Ke(new X(null,3,5,Y,[nm,new v(null,1,[Tm,kw],null),C.B(jw,zm)],null),new v(null,1,[or,zm],null));di.add(zm);yq+=1}else{ym=!0;break a}return ym?Of(di.ua(),iw(td(ci))):Of(di.ua(),null)}di=I(ci);return ve(Ke(new X(null,3,5,Y,[nm,new v(null,1,[Tm,kw],null),C.B(jw,di)],null),new v(null,1,[or,di],null)),iw(Wd(ci)))}return null}}}(Nd,Zh,rm,sm,vj,wj,tm,um,vm,wm,Og,xm,xj,$h,Qd,qd,bf,Ac,Bc,Rd,xq,ai,zj,bi,cf,yj,nD),null,null)}}(vb,Oc,yc,ac,Xb,Ua,Pa,n,q,r,u,w,x,D,G,N,T,V,oa,Z,g,k,b,c,
d,e,f)(k)}()],null),new v(null,1,[or,Md(Oc)],null)));vb+=1}else return!0}()?Of(Xb.ua(),Ya(td(Ua))):Of(Xb.ua(),null)}var Rb=I(Ua);return ve(Ke(new X(null,3,5,Y,[gm,new v(null,1,[Tm,N],null),function(){return function(vb,Oc,Nd,Zh,rm,sm,vj,wj,tm,um,vm,wm,Og){return function $h(xj){return new If(null,function(){for(;;){var Qd=F(xj);if(Qd){if(Ue(Qd)){var qd=sd(Qd),bf=O(qd),Ac=Mf(bf);a:for(var Bc=0;;)if(Bc<bf){var Rd=mc(qd,Bc);Rd=Ke(new X(null,3,5,Y,[nm,new v(null,1,[Tm,Og],null),C.B(vb,Rd)],null),new v(null,
1,[or,Rd],null));Ac.add(Rd);Bc+=1}else{qd=!0;break a}return qd?Of(Ac.ua(),$h(td(Qd))):Of(Ac.ua(),null)}Ac=I(Qd);return ve(Ke(new X(null,3,5,Y,[nm,new v(null,1,[Tm,Og],null),C.B(vb,Ac)],null),new v(null,1,[or,Ac],null)),$h(Wd(Qd)))}return null}},null,null)}}(Rb,Ua,Pa,n,q,r,u,w,x,D,G,N,T,V,oa,Z,g,k,b,c,d,e,f)(k)}()],null),new v(null,1,[or,Md(Rb)],null)),Ya(Wd(Ua)))}return null}},null,null)}(oa)}()],null)],null)}};gD.O=2;var hD=hg(Q([Po,cD,zl,dD,Yl,gD]));Lg.C(eD,kj,hD);
function iD(a){var b=B(eD),c=uj(gi(b));return es(function(d){var e;if(e=Oe(d))e=I(d),e=c.j?c.j(e):c.call(null,e);return y(e)?Zg.B(new X(null,1,5,Y,[C.B(b,I(d))],null),Wd(d)):d},a)};(function(a){return Lz(function(b){return S.C(b,al,a)})})(On);
var Jt=Ks.j(new v(null,3,[jo,"Pay no attention to the man behind the curtain!",xo,null,pm,null],null)),jD=function(a,b){var c=R(b,0,null),d=hg(c),e=C.B(d,Jr),f=C.C(d,Lp,pz.F(Q([En,20]))),g=C.C(d,go,function(){var Z=Dn.j(d);return y(Z)?Z:oz()}()),k=C.B(d,yr),l=C.C(d,lq,Wo),m=C.B(d,po),n=C.C(d,Sm,jn),q=C.B(d,fn);c=C.C(d,Nr,bu(2048));var r=C.C(d,Iq,Cy),u=C.C(d,ip,!0);null!=R(b,1,null)&&Xz(zq,"taoensso.sente",1414,new mk(function(){return new X(null,1,5,Y,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],
null)}),-1941220135);af(d,hl)&&Xz(zq,"taoensso.sente",1415,new mk(function(){return new X(null,1,5,Y,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),1457220367);var w=mA(l);l=function(){if(y(Dy)){var Z=Dy.location;var ea=y(Z)?new v(null,7,[Rm,Z.href,yr,Z.protocol,ro,Z.hostname,fn,Z.host,Km,Z.pathname,en,Z.search,er,Z.hash],null):null}else ea=null;Z=y(a)?a:Km.j(ea);var qa=Kq.j(d);if(y(qa))return new X(null,2,5,Y,[qa.C?qa.C(Z,ea,Ym):qa.call(null,Z,ea,Ym),qa.C?qa.C(Z,ea,Cq):qa.call(null,
Z,ea,Cq)],null);y(k)?qa=k:(qa=yr.j(ea),qa=y(qa)?qa:El);ea=y(q)?q:fn.j(ea);return new X(null,2,5,Y,[GA(qa,ea,Z,Ym),GA(qa,ea,Z,Cq)],null)}();b=R(l,0,null);var x=R(l,1,null);l=new v(null,3,[xn,bv(bu(128),null),Ml,bv(bu(10),null),hn,function(){var Z=bu(512);return y(u)?av(Z,Pg.j(function(ea){return new X(null,2,5,Y,[pr,ea],null)})):bv(Z,null)}()],null);f=new v(null,5,[go,g,Dp,l,po,m,lq,w,Lp,f],null);var D=kj.F(Q([f,new v(null,2,[hq,b,Iq,r],null)])),G=kj.F(Q([f,new v(null,3,[hq,x,Jr,e,Iq,r],null)])),N=
new v(null,2,[Ap,D,Fl,G],null);e=nA(function(){var Z=n instanceof E?n.Ea:null;switch(Z){case "ws":return BA(D);case "ajax":return EA(G);case "auto":Z=kj.F(Q([new v(null,2,[jq,Jg(new v(null,3,[Sm,jn,aq,!1,$n,!1],null)),Um,Jg(null)],null),N]));var ea=Ge.F(Z,Ap,Q([Fl,jq,Um]));ea=Se(Z)?Zg.B(W,ea):ea;return new FA(Ap.j(Z),Fl.j(Z),jq.j(Z),Um.j(Z),null,kg(ea),null);default:throw Error(["No matching clause: ",A.j(Z)].join(""));}}());if(y(e)){var T=jq.j(e),V=xn.j(l),oa=Gg.B(qA,e);c=lv(new X(null,3,5,Y,[xn.j(l),
Ml.j(l),hn.j(l)],null),c);r=av(1,Pg.j(function(Z){var ea=gA(Z);Z=y(ea)?new X(null,2,5,Y,[uq,Z],null):Z;ea=R(Z,0,null);var qa=R(Z,1,null);return new v(null,6,[rn,V,io,oa,Ml,T,Bm,Z,Ir,ea,to,qa],null)}));iv(c,r);return new v(null,4,[bo,e,rn,r,io,oa,Ml,jq.j(e)],null)}return Xz(zq,"taoensso.sente",1503,new mk(function(){return new X(null,1,5,Y,["Failed to create channel socket"],null)}),-1039928079)}("/chsk",Q([new v(null,2,[Sm,jn,lq,new wC],null)])),kD=hg(jD);C.B(kD,bo);
var lD=C.B(kD,rn),mD=C.B(kD,io),pD=C.B(kD,Ml),qD,rD=Jg(W),sD=Jg(W),tD=Jg(W),uD=Jg(W),vD=C.C(W,jp,Ck.K?Ck.K():Ck.call(null));qD=new Nk(Td.B("oz.app","-event-msg-handler"),Ir,vD,rD,sD,tD,uD);function wD(a){a=hg(a);C.B(a,Ir);C.B(a,to);var b=C.B(a,Bm);Xz(Ep,"oz.app",35,new mk(function(){return new X(null,2,5,Y,["Event: %s",b],null)}),279195658);Be;return qD.j(a)}
Qk(qD,Ok,function(a){a=hg(a);var b=C.B(a,Bm);return Xz(Ep,"oz.app",40,new mk(function(){return new X(null,2,5,Y,["Unhandled event: %s",b],null)}),-886504906)});Qk(qD,Bn,function(a){a=hg(a);var b=C.B(a,to);R(b,0,null);a=R(b,1,null);return y($l.j(a))?Xz(Ep,"oz.app",46,new mk(function(){return new X(null,2,5,Y,["Channel socket successfully established!: %s",b],null)}),2054532084):Xz(Ep,"oz.app",47,new mk(function(){return new X(null,2,5,Y,["Channel socket state change: %s",b],null)}),1734847741)});
Qk(qD,wr,function(a){a=hg(a);var b=C.B(a,to);R(b,0,null);R(b,1,null);R(b,2,null);return Xz(Ep,"oz.app",52,new mk(function(){return new X(null,2,5,Y,["Handshake: %s",b],null)}),697145543)});Qk(qD,pr,function(a){a=hg(a);var b=C.B(a,to);a=R(b,0,null);var c=R(b,1,null);switch(a instanceof E?a.Ea:null){case "oz.core/view-doc":return Lg.C(Jt,kj,new v(null,2,[xo,c,pm,null],null));default:return Xz(Ep,"oz.app",63,new mk(function(){return new X(null,2,5,Y,["Push event from server: %s",b],null)}),-447557356)}});
var xD=Jg(null);function It(a){a=xo.j(B(a));return y(a)?new X(null,2,5,Y,[iD,a],null):new X(null,3,5,Y,[Dm,new X(null,2,5,Y,[Tq,"Waiting for first spec to load..."],null),new X(null,4,5,Y,[tp,"This may take a second the first time if you call a plot function, unless you first call ",new X(null,2,5,Y,[dn,Bf(Op)],null),"."],null)],null)}
function Ht(){return dt(new v(null,2,[Io,function(a,b){return Lg.Y(Jt,S,pm,b)},hp,function(a){var b=pm.j(B(Jt));return y(b)?new X(null,4,5,Y,[Dm,new X(null,2,5,Y,[Sq,"Unable to process document!"],null),new X(null,2,5,Y,[Wq,"Error:"],null),new X(null,2,5,Y,[dn,ek(Q([b]))],null)],null):a}],null))}
hd(pD,im,function(){if(y(aq.j(B(pD)))){console.log("chsk now open; sending connection established message.");var a=bv(1,null);Bu(function(){var b=function(){return function(){function d(g){for(;;){a:try{for(;;){var k=g,l=k[1];if(1===l){var m=Su(1E3);var n=Xu(k,2,m)}else if(2===l){var q=k[2],r=new X(null,1,5,Y,[bp],null),u=mD.j?mD.j(r):mD.call(null,r);k[7]=q;n=Zu(k,u)}else n=null;if(!U(n,Al)){var w=n;break a}}}catch(x){if(x instanceof Object)g[5]=x,$u(g),w=Al;else throw x;}if(!U(w,Al))return w}}function e(){var g=
[null,null,null,null,null,null,null,null];g[0]=f;g[1]=1;return g}var f=null;f=function(g){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g)}throw Error("Invalid arity: "+arguments.length);};f.K=e;f.j=d;return f}()}(),c=function(){var d=b();d[6]=a;return d}();return Wu(c)});return a}return null});function yD(){var a=B(xD);y(a)&&(a.K?a.K():a.call(null));Kg(xD,IA(lD,wD));Gt()}yD();try{yD()}catch(a){throw console.error("An error occurred when calling (oz.app/init)"),a;};
}).call(this);