var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(d,c,f){d.fields=c||[];d.fname=f;return d}function A(d){return null==d?null:d.fields}function Ra(d){return 1===d.length?ya(d[0]):ua(d)}function sb(d){throw Error(d);}function bb(d){function c(){f.push(w+d.substring(G,U));w="";G=U+1}const f=
[],l=d.length;let m=null,q=0,w="",G,U,wa;d+="";for(G=U=0;U<l;++U)(wa=d[U],"\\"===wa)?(w+=d.substring(G,U),w+=d.substring(++U,++U),G=U):wa===m?(c(),m=null,q=-1):m||(G===q&&'"'===wa?(G=U+1,m=wa):G===q&&"'"===wa?(G=U+1,m=wa):"."!==wa||q?"["===wa?(U>G&&c(),q=G=U+1):"]"===wa&&(q||sb("Access path missing open bracket: "+d),0<q&&c(),q=0,G=U+1):U>G?c():G=U+1);q&&sb("Access path missing closing bracket: "+d);m&&sb("Access path missing closing quote: "+d);U>G&&(U++,c());return f}function xb(d,c,f){const l=
bb(d);d=1===l.length?l[0]:d;return r((f&&f.get||Ra)(l),[d],c||d)}function Gb(d,c,f){c=[c].concat([].slice.call(f));console[d].apply(console,c)}function ib(d){return d===Object(d)}function La(d,c,f,l){if("__proto__"!==c){var m;if(ib(f)&&!x(f))for(m in d=ib(d[c])?d[c]:d[c]={},f)l&&(!0===l||l[m])?La(d,m,f[m]):"__proto__"!==m&&(d[m]=f[m]);else d[c]=f}}function Ia(d,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==d)return c;const l={},m=[];c.forEach(f);d.forEach(f);return m}function Sa(d){return d[d.length-
1]}function xa(d){return null==d||""===d?null:+d}function ma(d,c,f,l){const m=f(d[0]);d=f(Sa(d));c*=d-m;return[l(m-c),l(d-c)]}function na(d,c,f,l,m){const q=l(d[0]);d=l(Sa(d));c=null!=c?l(c):(q+d)/2;return[m(c+(q-c)*f),m(c+(d-c)*f)]}function Ba(d){return null!=d?x(d)?d:[d]:[]}function Ga(d){return"function"===typeof d}function la(d){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)d[f]=c[f];return d}function ra(d,c){return fa.call(d,c)}function Qa(d){return"[object Date]"===Object.prototype.toString.call(d)}
function za(d){return"number"===typeof d}function Ta(d){return"string"===typeof d}function L(d,c){let f="";for(;0<=--c;)f+=d;return f}function ha(d){return x(d)?"["+d.map(ha)+"]":ib(d)||Ta(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}const ya=d=>function(c){return c[d]},ua=d=>{const c=d.length;return function(f){for(let l=0;l<c;++l)f=f[d[l]];return f}},Ma=xb("id"),Pa=r(d=>d,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const M=d=>c=>d*Math.exp(c),K=d=>c=>Math.log(d*c),C=d=>c=>Math.sign(c)*Math.log1p(Math.abs(c/d)),R=d=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*d,aa=d=>c=>0>c?-Math.pow(-c,d):Math.pow(c,d),da=(d,c)=>(d<c||null==d)&&null!=c?-1:(d>c||null==c)&&null!=d?1:(c=c instanceof Date?+c:c,d=d instanceof Date?+d:d)!==d&&c===c?-1:c!==c&&d===d?1:0,Da=(d,c)=>1===d.length?Ja(d[0],c[0]):J(d,c,d.length),Ja=(d,c)=>function(f,l){return da(d(f),d(l))*c},J=(d,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=d[w],q=da(q(l),q(m));return q*c[w]}},fa=Object.prototype.hasOwnProperty,ca={},W=d=>za(d)?d:Qa(d)?d:Date.parse(d);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=A;h.accessorName=function(d){return null==d?null:d.fname};h.array=Ba;h.ascending=da;h.clampRange=function(d,c,f){let l=d[0];d=d[1];let m;d<l&&(m=d,d=l,l=m);m=d-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(d,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Da;Ba(d).forEach((G,U)=>{null!=G&&(l.push("descending"===c[U]?-1:1),m.push(G=Ga(G)?G:xb(G,null,f)),(A(G)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(d){return Ga(d)?d:()=>d};h.debounce=function(d,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),d)}};h.error=sb;h.extend=la;h.extent=function(d,c){let f=0,l,m,q,w;if(d&&(l=d.length))if(null==c){for(m=d[f];f<l&&(null==m||m!==m);m=d[++f]);for(q=w=m;f<
l;++f)m=d[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(d[f]);f<l&&(null==m||m!==m);m=c(d[++f]));for(q=w=m;f<l;++f)m=c(d[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(d,c){const f=d.length;let l=-1,m,q,w,G,U;if(null==c){for(;++l<f;)if(q=d[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=d[l],null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(d[l],l,d),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=c(d[l],l,d),
null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}return[G,U]};h.falsy=I;h.fastmap=function(d){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const G in f){const U=f[G];U===ca||l&&l(U)||(q[G]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};d&&Object.keys(d).forEach(q=>{m.set(q,d[q])});return m};h.field=xb;h.flush=function(d,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=d[0],G=Sa(d);G<w&&(d=w,w=G,G=d);d=Math.abs(c-w);c=Math.abs(G-c);return d<c&&d<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=Ma;h.identity=Pa;h.inherits=function(d,c,f){c=d.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:d,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(d,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=d:m<d)&&(void 0===l||l?d<=c:d<c)};h.isArray=x;h.isBoolean=function(d){return"boolean"===typeof d};h.isDate=Qa;h.isFunction=Ga;h.isIterable=function(d){return d&&Ga(d[Symbol.iterator])};h.isNumber=za;h.isObject=ib;h.isRegExp=function(d){return"[object RegExp]"===Object.prototype.toString.call(d)};h.isString=Ta;h.key=function(d,c,f){d&&(d=c?Ba(d).map(q=>q.replace(/\\(.)/g,"$1")):Ba(d));const l=d&&d.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(d[0]);f=function(w){return""+q(w)}}else{const q=d.map(f);f=function(w){let G=""+q[0](w),U=0;for(;++U<l;)G+="|"+q[U](w);return G}}else f=function(){return""};return r(f,d,"key")};h.lerp=function(d,c){const f=d[0];d=Sa(d);return(c=+c)?1===c?d:f+c*(d-f):f};h.logger=function(d,c){let f=d||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Gb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Gb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Gb(c||"log","INFO",arguments);return this},debug(){4<=f&&Gb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(d){d=+d||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,G)=>{++l>d&&(f=c,c={},l=1);return c[w]=G};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,G)=>ra(c,w)?c[w]=G:q(w,G)}};h.merge=function(d,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,G=0,U=0;for(;w<m&&G<q;++U)l[U]=0<d(c[w],
f[G])?f[G++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;G<q;++G,++U)l[U]=f[G];return l};h.mergeConfig=function(...d){return d.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ia(c.signals,f.signals):La(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(d,c,f,l){f=f||" ";d+="";c-=d.length;return 0>=c?d:"left"===l?L(f,c)+d:"center"===l?L(f,~~(c/2))+d+L(f,Math.ceil(c/2)):d+L(f,c)};h.panLinear=function(d,c){return ma(d,c,xa,Pa)};h.panLog=function(d,c){var f=
Math.sign(d[0]);return ma(d,c,K(f),M(f))};h.panPow=function(d,c,f){return ma(d,c,aa(f),aa(1/f))};h.panSymlog=function(d,c,f){return ma(d,c,C(f),R(f))};h.peek=Sa;h.quarter=function(d){return 1+~~((new Date(d)).getMonth()/3)};h.repeat=L;h.span=function(d){return d&&Sa(d)-d[0]||0};h.splitAccessPath=bb;h.stringValue=ha;h.toBoolean=function(d){return null==d||""===d?null:d&&"false"!==d&&"0"!==d?!!d:!1};h.toDate=function(d,c){c=c||W;return null==d||""===d?null:c(d)};h.toNumber=xa;h.toSet=function(d){const c=
{},f=d.length;for(let l=0;l<f;++l)c[d[l]]=!0;return c};h.toString=function(d){return null==d||""===d?null:d+""};h.truncate=function(d,c,f,l){l=null!=l?l:"…";d+="";const m=d.length,q=Math.max(0,c-l.length);return m<=c?d:"left"===f?l+d.slice(m-q):"center"===f?d.slice(0,Math.ceil(q/2))+l+d.slice(m-~~(q/2)):d.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(d){return 1+~~((new Date(d)).getUTCMonth()/3)};h.visitArray=function(d,c,f){if(d)if(c){const l=d.length;for(let m=0;m<l;++m){const q=c(d[m]);q&&f(q,
m,d)}}else d.forEach(f)};h.writeConfig=La;h.zero=Aa;h.zoomLinear=function(d,c,f){return na(d,c,f,xa,Pa)};h.zoomLog=function(d,c,f){const l=Math.sign(d[0]);return na(d,c,f,K(l),M(l))};h.zoomPow=function(d,c,f,l){return na(d,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(d,c,f,l){return na(d,c,f,C(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[1]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(d,c,f){d.fields=c||[];d.fname=f;return d}function A(d){return null==d?null:d.fields}function Ra(d){return 1===d.length?ya(d[0]):ua(d)}function sb(d){throw Error(d);}function bb(d){function c(){f.push(w+d.substring(G,U));w="";G=U+1}const f=
[],l=d.length;let m=null,q=0,w="",G,U,wa;d+="";for(G=U=0;U<l;++U)(wa=d[U],"\\"===wa)?(w+=d.substring(G,U),w+=d.substring(++U,++U),G=U):wa===m?(c(),m=null,q=-1):m||(G===q&&'"'===wa?(G=U+1,m=wa):G===q&&"'"===wa?(G=U+1,m=wa):"."!==wa||q?"["===wa?(U>G&&c(),q=G=U+1):"]"===wa&&(q||sb("Access path missing open bracket: "+d),0<q&&c(),q=0,G=U+1):U>G?c():G=U+1);q&&sb("Access path missing closing bracket: "+d);m&&sb("Access path missing closing quote: "+d);U>G&&(U++,c());return f}function xb(d,c,f){const l=
bb(d);d=1===l.length?l[0]:d;return r((f&&f.get||Ra)(l),[d],c||d)}function Gb(d,c,f){c=[c].concat([].slice.call(f));console[d].apply(console,c)}function ib(d){return d===Object(d)}function La(d,c,f,l){if("__proto__"!==c){var m;if(ib(f)&&!x(f))for(m in d=ib(d[c])?d[c]:d[c]={},f)l&&(!0===l||l[m])?La(d,m,f[m]):"__proto__"!==m&&(d[m]=f[m]);else d[c]=f}}function Ia(d,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==d)return c;const l={},m=[];c.forEach(f);d.forEach(f);return m}function Sa(d){return d[d.length-
1]}function xa(d){return null==d||""===d?null:+d}function ma(d,c,f,l){const m=f(d[0]);d=f(Sa(d));c*=d-m;return[l(m-c),l(d-c)]}function na(d,c,f,l,m){const q=l(d[0]);d=l(Sa(d));c=null!=c?l(c):(q+d)/2;return[m(c+(q-c)*f),m(c+(d-c)*f)]}function Ba(d){return null!=d?x(d)?d:[d]:[]}function Ga(d){return"function"===typeof d}function la(d){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)d[f]=c[f];return d}function ra(d,c){return fa.call(d,c)}function Qa(d){return"[object Date]"===Object.prototype.toString.call(d)}
function za(d){return"number"===typeof d}function Ta(d){return"string"===typeof d}function L(d,c){let f="";for(;0<=--c;)f+=d;return f}function ha(d){return x(d)?"["+d.map(ha)+"]":ib(d)||Ta(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}const ya=d=>function(c){return c[d]},ua=d=>{const c=d.length;return function(f){for(let l=0;l<c;++l)f=f[d[l]];return f}},Ma=xb("id"),Pa=r(d=>d,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const M=d=>c=>d*Math.exp(c),K=d=>c=>Math.log(d*c),C=d=>c=>Math.sign(c)*Math.log1p(Math.abs(c/d)),R=d=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*d,aa=d=>c=>0>c?-Math.pow(-c,d):Math.pow(c,d),da=(d,c)=>(d<c||null==d)&&null!=c?-1:(d>c||null==c)&&null!=d?1:(c=c instanceof Date?+c:c,d=d instanceof Date?+d:d)!==d&&c===c?-1:c!==c&&d===d?1:0,Da=(d,c)=>1===d.length?Ja(d[0],c[0]):J(d,c,d.length),Ja=(d,c)=>function(f,l){return da(d(f),d(l))*c},J=(d,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=d[w],q=da(q(l),q(m));return q*c[w]}},fa=Object.prototype.hasOwnProperty,ca={},W=d=>za(d)?d:Qa(d)?d:Date.parse(d);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=A;h.accessorName=function(d){return null==d?null:d.fname};h.array=Ba;h.ascending=da;h.clampRange=function(d,c,f){let l=d[0];d=d[1];let m;d<l&&(m=d,d=l,l=m);m=d-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(d,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Da;Ba(d).forEach((G,U)=>{null!=G&&(l.push("descending"===c[U]?-1:1),m.push(G=Ga(G)?G:xb(G,null,f)),(A(G)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(d){return Ga(d)?d:()=>d};h.debounce=function(d,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),d)}};h.error=sb;h.extend=la;h.extent=function(d,c){let f=0,l,m,q,w;if(d&&(l=d.length))if(null==c){for(m=d[f];f<l&&(null==m||m!==m);m=d[++f]);for(q=w=m;f<
l;++f)m=d[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(d[f]);f<l&&(null==m||m!==m);m=c(d[++f]));for(q=w=m;f<l;++f)m=c(d[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(d,c){const f=d.length;let l=-1,m,q,w,G,U;if(null==c){for(;++l<f;)if(q=d[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=d[l],null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(d[l],l,d),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=c(d[l],l,d),
null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}return[G,U]};h.falsy=I;h.fastmap=function(d){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const G in f){const U=f[G];U===ca||l&&l(U)||(q[G]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};d&&Object.keys(d).forEach(q=>{m.set(q,d[q])});return m};h.field=xb;h.flush=function(d,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=d[0],G=Sa(d);G<w&&(d=w,w=G,G=d);d=Math.abs(c-w);c=Math.abs(G-c);return d<c&&d<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=Ma;h.identity=Pa;h.inherits=function(d,c,f){c=d.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:d,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(d,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=d:m<d)&&(void 0===l||l?d<=c:d<c)};h.isArray=x;h.isBoolean=function(d){return"boolean"===typeof d};h.isDate=Qa;h.isFunction=Ga;h.isIterable=function(d){return d&&Ga(d[Symbol.iterator])};h.isNumber=za;h.isObject=ib;h.isRegExp=function(d){return"[object RegExp]"===Object.prototype.toString.call(d)};h.isString=Ta;h.key=function(d,c,f){d&&(d=c?Ba(d).map(q=>q.replace(/\\(.)/g,"$1")):Ba(d));const l=d&&d.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(d[0]);f=function(w){return""+q(w)}}else{const q=d.map(f);f=function(w){let G=""+q[0](w),U=0;for(;++U<l;)G+="|"+q[U](w);return G}}else f=function(){return""};return r(f,d,"key")};h.lerp=function(d,c){const f=d[0];d=Sa(d);return(c=+c)?1===c?d:f+c*(d-f):f};h.logger=function(d,c){let f=d||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Gb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Gb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Gb(c||"log","INFO",arguments);return this},debug(){4<=f&&Gb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(d){d=+d||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,G)=>{++l>d&&(f=c,c={},l=1);return c[w]=G};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,G)=>ra(c,w)?c[w]=G:q(w,G)}};h.merge=function(d,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,G=0,U=0;for(;w<m&&G<q;++U)l[U]=0<d(c[w],
f[G])?f[G++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;G<q;++G,++U)l[U]=f[G];return l};h.mergeConfig=function(...d){return d.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ia(c.signals,f.signals):La(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(d,c,f,l){f=f||" ";d+="";c-=d.length;return 0>=c?d:"left"===l?L(f,c)+d:"center"===l?L(f,~~(c/2))+d+L(f,Math.ceil(c/2)):d+L(f,c)};h.panLinear=function(d,c){return ma(d,c,xa,Pa)};h.panLog=function(d,c){var f=
Math.sign(d[0]);return ma(d,c,K(f),M(f))};h.panPow=function(d,c,f){return ma(d,c,aa(f),aa(1/f))};h.panSymlog=function(d,c,f){return ma(d,c,C(f),R(f))};h.peek=Sa;h.quarter=function(d){return 1+~~((new Date(d)).getMonth()/3)};h.repeat=L;h.span=function(d){return d&&Sa(d)-d[0]||0};h.splitAccessPath=bb;h.stringValue=ha;h.toBoolean=function(d){return null==d||""===d?null:d&&"false"!==d&&"0"!==d?!!d:!1};h.toDate=function(d,c){c=c||W;return null==d||""===d?null:c(d)};h.toNumber=xa;h.toSet=function(d){const c=
{},f=d.length;for(let l=0;l<f;++l)c[d[l]]=!0;return c};h.toString=function(d){return null==d||""===d?null:d+""};h.truncate=function(d,c,f,l){l=null!=l?l:"…";d+="";const m=d.length,q=Math.max(0,c-l.length);return m<=c?d:"left"===f?l+d.slice(m-q):"center"===f?d.slice(0,Math.ceil(q/2))+l+d.slice(m-~~(q/2)):d.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(d){return 1+~~((new Date(d)).getUTCMonth()/3)};h.visitArray=function(d,c,f){if(d)if(c){const l=d.length;for(let m=0;m<l;++m){const q=c(d[m]);q&&f(q,
m,d)}}else d.forEach(f)};h.writeConfig=La;h.zero=Aa;h.zoomLinear=function(d,c,f){return na(d,c,f,xa,Pa)};h.zoomLog=function(d,c,f){const l=Math.sign(d[0]);return na(d,c,f,K(l),M(l))};h.zoomPow=function(d,c,f,l){return na(d,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(d,c,f,l){return na(d,c,f,C(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[2]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(d,c,f){d.fields=c||[];d.fname=f;return d}function A(d){return null==d?null:d.fields}function Ra(d){return 1===d.length?ya(d[0]):ua(d)}function sb(d){throw Error(d);}function bb(d){function c(){f.push(w+d.substring(G,U));w="";G=U+1}const f=
[],l=d.length;let m=null,q=0,w="",G,U,wa;d+="";for(G=U=0;U<l;++U)(wa=d[U],"\\"===wa)?(w+=d.substring(G,U),w+=d.substring(++U,++U),G=U):wa===m?(c(),m=null,q=-1):m||(G===q&&'"'===wa?(G=U+1,m=wa):G===q&&"'"===wa?(G=U+1,m=wa):"."!==wa||q?"["===wa?(U>G&&c(),q=G=U+1):"]"===wa&&(q||sb("Access path missing open bracket: "+d),0<q&&c(),q=0,G=U+1):U>G?c():G=U+1);q&&sb("Access path missing closing bracket: "+d);m&&sb("Access path missing closing quote: "+d);U>G&&(U++,c());return f}function xb(d,c,f){const l=
bb(d);d=1===l.length?l[0]:d;return r((f&&f.get||Ra)(l),[d],c||d)}function Gb(d,c,f){c=[c].concat([].slice.call(f));console[d].apply(console,c)}function ib(d){return d===Object(d)}function La(d,c,f,l){if("__proto__"!==c){var m;if(ib(f)&&!x(f))for(m in d=ib(d[c])?d[c]:d[c]={},f)l&&(!0===l||l[m])?La(d,m,f[m]):"__proto__"!==m&&(d[m]=f[m]);else d[c]=f}}function Ia(d,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==d)return c;const l={},m=[];c.forEach(f);d.forEach(f);return m}function Sa(d){return d[d.length-
1]}function xa(d){return null==d||""===d?null:+d}function ma(d,c,f,l){const m=f(d[0]);d=f(Sa(d));c*=d-m;return[l(m-c),l(d-c)]}function na(d,c,f,l,m){const q=l(d[0]);d=l(Sa(d));c=null!=c?l(c):(q+d)/2;return[m(c+(q-c)*f),m(c+(d-c)*f)]}function Ba(d){return null!=d?x(d)?d:[d]:[]}function Ga(d){return"function"===typeof d}function la(d){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)d[f]=c[f];return d}function ra(d,c){return fa.call(d,c)}function Qa(d){return"[object Date]"===Object.prototype.toString.call(d)}
function za(d){return"number"===typeof d}function Ta(d){return"string"===typeof d}function L(d,c){let f="";for(;0<=--c;)f+=d;return f}function ha(d){return x(d)?"["+d.map(ha)+"]":ib(d)||Ta(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}const ya=d=>function(c){return c[d]},ua=d=>{const c=d.length;return function(f){for(let l=0;l<c;++l)f=f[d[l]];return f}},Ma=xb("id"),Pa=r(d=>d,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const M=d=>c=>d*Math.exp(c),K=d=>c=>Math.log(d*c),C=d=>c=>Math.sign(c)*Math.log1p(Math.abs(c/d)),R=d=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*d,aa=d=>c=>0>c?-Math.pow(-c,d):Math.pow(c,d),da=(d,c)=>(d<c||null==d)&&null!=c?-1:(d>c||null==c)&&null!=d?1:(c=c instanceof Date?+c:c,d=d instanceof Date?+d:d)!==d&&c===c?-1:c!==c&&d===d?1:0,Da=(d,c)=>1===d.length?Ja(d[0],c[0]):J(d,c,d.length),Ja=(d,c)=>function(f,l){return da(d(f),d(l))*c},J=(d,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=d[w],q=da(q(l),q(m));return q*c[w]}},fa=Object.prototype.hasOwnProperty,ca={},W=d=>za(d)?d:Qa(d)?d:Date.parse(d);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=A;h.accessorName=function(d){return null==d?null:d.fname};h.array=Ba;h.ascending=da;h.clampRange=function(d,c,f){let l=d[0];d=d[1];let m;d<l&&(m=d,d=l,l=m);m=d-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(d,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Da;Ba(d).forEach((G,U)=>{null!=G&&(l.push("descending"===c[U]?-1:1),m.push(G=Ga(G)?G:xb(G,null,f)),(A(G)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(d){return Ga(d)?d:()=>d};h.debounce=function(d,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),d)}};h.error=sb;h.extend=la;h.extent=function(d,c){let f=0,l,m,q,w;if(d&&(l=d.length))if(null==c){for(m=d[f];f<l&&(null==m||m!==m);m=d[++f]);for(q=w=m;f<
l;++f)m=d[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(d[f]);f<l&&(null==m||m!==m);m=c(d[++f]));for(q=w=m;f<l;++f)m=c(d[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(d,c){const f=d.length;let l=-1,m,q,w,G,U;if(null==c){for(;++l<f;)if(q=d[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=d[l],null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(d[l],l,d),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=c(d[l],l,d),
null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}return[G,U]};h.falsy=I;h.fastmap=function(d){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const G in f){const U=f[G];U===ca||l&&l(U)||(q[G]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};d&&Object.keys(d).forEach(q=>{m.set(q,d[q])});return m};h.field=xb;h.flush=function(d,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=d[0],G=Sa(d);G<w&&(d=w,w=G,G=d);d=Math.abs(c-w);c=Math.abs(G-c);return d<c&&d<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=Ma;h.identity=Pa;h.inherits=function(d,c,f){c=d.prototype=Object.create(c.prototype);c.constructor=d;return la(c,f)};h.inrange=function(d,c,f,l){let m=c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=d:m<d)&&
(void 0===l||l?d<=c:d<c)};h.isArray=x;h.isBoolean=function(d){return"boolean"===typeof d};h.isDate=Qa;h.isFunction=Ga;h.isIterable=function(d){return d&&Ga(d[Symbol.iterator])};h.isNumber=za;h.isObject=ib;h.isRegExp=function(d){return"[object RegExp]"===Object.prototype.toString.call(d)};h.isString=Ta;h.key=function(d,c,f){d&&(d=c?Ba(d).map(q=>q.replace(/\\(.)/g,"$1")):Ba(d));const l=d&&d.length,m=f&&f.get||Ra;f=q=>m(c?[q]:bb(q));if(l)if(1===l){const q=f(d[0]);f=function(w){return""+q(w)}}else{const q=
d.map(f);f=function(w){let G=""+q[0](w),U=0;for(;++U<l;)G+="|"+q[U](w);return G}}else f=function(){return""};return r(f,d,"key")};h.lerp=function(d,c){const f=d[0];d=Sa(d);return(c=+c)?1===c?d:f+c*(d-f):f};h.logger=function(d,c){let f=d||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Gb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Gb(c||"warn","WARN",arguments);return this},info(){3<=f&&Gb(c||"log","INFO",arguments);return this},debug(){4<=f&&Gb(c||"log","DEBUG",
arguments);return this}}};h.lruCache=function(d){d=+d||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,G)=>{++l>d&&(f=c,c={},l=1);return c[w]=G};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,G)=>ra(c,w)?c[w]=G:q(w,G)}};h.merge=function(d,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,G=0,U=0;for(;w<m&&G<q;++U)l[U]=0<d(c[w],f[G])?f[G++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;G<q;++G,++U)l[U]=f[G];
return l};h.mergeConfig=function(...d){return d.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ia(c.signals,f.signals):La(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(d,c,f,l){f=f||" ";d+="";c-=d.length;return 0>=c?d:"left"===l?L(f,c)+d:"center"===l?L(f,~~(c/2))+d+L(f,Math.ceil(c/2)):d+L(f,c)};h.panLinear=function(d,c){return ma(d,c,xa,Pa)};h.panLog=function(d,c){var f=Math.sign(d[0]);return ma(d,c,K(f),M(f))};h.panPow=function(d,c,f){return ma(d,
c,aa(f),aa(1/f))};h.panSymlog=function(d,c,f){return ma(d,c,C(f),R(f))};h.peek=Sa;h.quarter=function(d){return 1+~~((new Date(d)).getMonth()/3)};h.repeat=L;h.span=function(d){return d&&Sa(d)-d[0]||0};h.splitAccessPath=bb;h.stringValue=ha;h.toBoolean=function(d){return null==d||""===d?null:d&&"false"!==d&&"0"!==d?!!d:!1};h.toDate=function(d,c){c=c||W;return null==d||""===d?null:c(d)};h.toNumber=xa;h.toSet=function(d){const c={},f=d.length;for(let l=0;l<f;++l)c[d[l]]=!0;return c};h.toString=function(d){return null==
d||""===d?null:d+""};h.truncate=function(d,c,f,l){l=null!=l?l:"…";d+="";const m=d.length,q=Math.max(0,c-l.length);return m<=c?d:"left"===f?l+d.slice(m-q):"center"===f?d.slice(0,Math.ceil(q/2))+l+d.slice(m-~~(q/2)):d.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(d){return 1+~~((new Date(d)).getUTCMonth()/3)};h.visitArray=function(d,c,f){if(d)if(c){const l=d.length;for(let m=0;m<l;++m){const q=c(d[m]);q&&f(q,m,d)}}else d.forEach(f)};h.writeConfig=La;h.zero=Aa;h.zoomLinear=function(d,c,f){return na(d,
c,f,xa,Pa)};h.zoomLog=function(d,c,f){const l=Math.sign(d[0]);return na(d,c,f,K(l),M(l))};h.zoomPow=function(d,c,f,l){return na(d,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(d,c,f,l){return na(d,c,f,C(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[3]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(Y,ta){return Y<ta?-1:Y>ta?1:Y>=ta?0:NaN}function A(Y){function ta(ja,Ca,qb,Ya){null==qb&&(qb=0);null==Ya&&(Ya=ja.length);for(;qb<Ya;){const ob=qb+Ya>>>1;0>Q(ja[ob],Ca)?qb=ob+1:Ya=ob}return qb}let H=Y,Q=Y;1===Y.length&&(H=(ja,Ca)=>Y(ja)-
Ca,Q=Ra(Y));return{left:ta,center:function(ja,Ca,qb,Ya){null==qb&&(qb=0);null==Ya&&(Ya=ja.length);Ya=ta(ja,Ca,qb,Ya-1);return Ya>qb&&H(ja[Ya-1],Ca)>-H(ja[Ya],Ca)?Ya-1:Ya},right:function(ja,Ca,qb,Ya){null==qb&&(qb=0);null==Ya&&(Ya=ja.length);for(;qb<Ya;){const ob=qb+Ya>>>1;0<Q(ja[ob],Ca)?Ya=ob:qb=ob+1}return qb}}}function Ra(Y){return(ta,H)=>r(Y(ta),H)}function sb(Y){return null===Y?NaN:+Y}function*bb(Y,ta){if(void 0===ta)for(var H of Y)null!=H&&(H=+H)>=H&&(yield H);else{H=-1;for(let Q of Y)null!=
(Q=ta(Q,++H,Y))&&(Q=+Q)>=Q&&(yield Q)}}function xb(Y,ta){let H=0;if(void 0===ta)for(var Q of Y)null!=Q&&(Q=+Q)>=Q&&++H;else{Q=-1;for(let ja of Y)null!=(ja=ta(ja,++Q,Y))&&(ja=+ja)>=ja&&++H}return H}function Gb(Y){return Y.length|0}function ib(Y){return!(0<Y)}function La(Y){return"object"!==typeof Y||"length"in Y?Y:Array.from(Y)}function Ia(Y){return ta=>Y(...ta)}function Sa(Y,ta){let H=0,Q,ja=0,Ca=0;if(void 0===ta)for(var qb of Y)null!=qb&&(qb=+qb)>=qb&&(Q=qb-ja,ja+=Q/++H,Ca+=Q*(qb-ja));else{qb=-1;
for(let Ya of Y)null!=(Ya=ta(Ya,++qb,Y))&&(Ya=+Ya)>=Ya&&(Q=Ya-ja,ja+=Q/++H,Ca+=Q*(Ya-ja))}if(1<H)return Ca/(H-1)}function xa(Y,ta){return(Y=Sa(Y,ta))?Math.sqrt(Y):Y}function ma(Y,ta){let H,Q;if(void 0===ta)for(var ja of Y)null!=ja&&(void 0===H?ja>=ja&&(H=Q=ja):(H>ja&&(H=ja),Q<ja&&(Q=ja)));else{ja=-1;for(let Ca of Y)null!=(Ca=ta(Ca,++ja,Y))&&(void 0===H?Ca>=Ca&&(H=Q=Ca):(H>Ca&&(H=Ca),Q<Ca&&(Q=Ca)))}return[H,Q]}function na({_intern:Y,_key:ta},H){ta=ta(H);return Y.has(ta)?Y.get(ta):H}function Ba({_intern:Y,
_key:ta},H){ta=ta(H);if(Y.has(ta))return Y.get(ta);Y.set(ta,H);return H}function Ga({_intern:Y,_key:ta},H){ta=ta(H);Y.has(ta)&&(H=Y.get(H),Y.delete(ta));return H}function la(Y){return null!==Y&&"object"===typeof Y?Y.valueOf():Y}function ra(Y){return Y}function Qa(Y,...ta){return L(Y,ra,ra,ta)}function za(Y,ta,...H){return L(Y,ra,ta,H)}function Ta(Y){if(1!==Y.length)throw Error("duplicate key");return Y[0]}function L(Y,ta,H,Q){return function Ya(Ca,qb){if(qb>=Q.length)return H(Ca);const ob=new q,Na=
Q[qb++];let Ab=-1;for(const Eb of Ca){const eb=Na(Eb,++Ab,Ca),Mb=ob.get(eb);Mb?Mb.push(Eb):ob.set(eb,[Eb])}for(const [Eb,eb]of ob)ob.set(Eb,Ya(eb,qb));return ta(ob)}(Y,0)}function ha(Y,ta){return Array.from(ta,H=>Y[H])}function ya(Y,...ta){if("function"!==typeof Y[Symbol.iterator])throw new TypeError("values is not iterable");Y=Array.from(Y);let [H=r]=ta;if(1===H.length||1<ta.length){const Q=Uint32Array.from(Y,(ja,Ca)=>Ca);1<ta.length?(ta=ta.map(ja=>Y.map(ja)),Q.sort((ja,Ca)=>{for(const qb of ta){const Ya=
r(qb[ja],qb[Ca]);if(Ya)return Ya}})):(H=Y.map(H),Q.sort((ja,Ca)=>r(H[ja],H[Ca])));return ha(Y,Q)}return Y.sort(H)}function ua(Y){return function(){return Y}}function Ma(Y,ta,H){var Q,ja=-1,Ca;ta=+ta;Y=+Y;H=+H;if(Y===ta&&0<H)return[Y];if(Q=ta<Y){var qb=Y;Y=ta;ta=qb}if(0===(Ca=Pa(Y,ta,H))||!isFinite(Ca))return[];if(0<Ca)for(H=Math.round(Y/Ca),qb=Math.round(ta/Ca),H*Ca<Y&&++H,qb*Ca>ta&&--qb,Y=Array(qb=qb-H+1);++ja<qb;)Y[ja]=(H+ja)*Ca;else for(Ca=-Ca,H=Math.round(Y*Ca),qb=Math.round(ta*Ca),H/Ca<Y&&++H,
qb/Ca>ta&&--qb,Y=Array(qb=qb-H+1);++ja<qb;)Y[ja]=(H+ja)/Ca;Q&&Y.reverse();return Y}function Pa(Y,ta,H){ta=(ta-Y)/Math.max(0,H);Y=Math.floor(Math.log(ta)/Math.LN10);ta/=Math.pow(10,Y);return 0<=Y?(ta>=U?10:ta>=wa?5:ta>=cb?2:1)*Math.pow(10,Y):-Math.pow(10,-Y)/(ta>=U?10:ta>=wa?5:ta>=cb?2:1)}function Aa(Y,ta,H){let Q;for(;;){const ja=Pa(Y,ta,H);if(ja===Q||0===ja||!isFinite(ja))return[Y,ta];0<ja?(Y=Math.floor(Y/ja)*ja,ta=Math.ceil(ta/ja)*ja):0>ja&&(Y=Math.ceil(Y*ja)/ja,ta=Math.floor(ta*ja)/ja);Q=ja}}function ab(Y){return Math.ceil(Math.log(xb(Y))/
Math.LN2)+1}function Va(){function Y(ja){Array.isArray(ja)||(ja=Array.from(ja));var Ca,qb=ja.length,Ya=Array(qb);for(Ca=0;Ca<qb;++Ca)Ya[Ca]=ta(ja[Ca],Ca,ja);var ob=H(Ya),Na=ob[0];ob=ob[1];var Ab=Q(Ya,Na,ob);if(!Array.isArray(Ab)){Ca=ob;var Eb=+Ab;H===ma&&([Na,ob]=Aa(Na,ob,Eb));Ab=Ma(Na,ob,Eb);Ab[Ab.length-1]>=ob&&(Ca>=ob&&H===ma?(Ca=Pa(Na,ob,Eb),isFinite(Ca)&&(0<Ca?ob=(Math.floor(ob/Ca)+1)*Ca:0>Ca&&(ob=(Math.ceil(ob*-Ca)+1)/-Ca))):Ab.pop())}for(Eb=Ab.length;Ab[0]<=Na;)Ab.shift(),--Eb;for(;Ab[Eb-1]>
ob;)Ab.pop(),--Eb;var eb=Array(Eb+1);for(Ca=0;Ca<=Eb;++Ca){var Mb=eb[Ca]=[];Mb.x0=0<Ca?Ab[Ca-1]:Na;Mb.x1=Ca<Eb?Ab[Ca]:ob}for(Ca=0;Ca<qb;++Ca)Mb=Ya[Ca],Na<=Mb&&Mb<=ob&&eb[f(Ab,Mb,0,Eb)].push(ja[Ca]);return eb}var ta=ra,H=ma,Q=ab;Y.value=function(ja){return arguments.length?(ta="function"===typeof ja?ja:ua(ja),Y):ta};Y.domain=function(ja){return arguments.length?(H="function"===typeof ja?ja:ua([ja[0],ja[1]]),Y):H};Y.thresholds=function(ja){return arguments.length?(Q="function"===typeof ja?ja:Array.isArray(ja)?
ua(G.call(ja)):ua(ja),Y):Q};return Y}function I(Y,ta){let H;if(void 0===ta)for(var Q of Y)null!=Q&&(H<Q||void 0===H&&Q>=Q)&&(H=Q);else{Q=-1;for(let ja of Y)null!=(ja=ta(ja,++Q,Y))&&(H<ja||void 0===H&&ja>=ja)&&(H=ja)}return H}function x(Y,ta){let H;if(void 0===ta)for(var Q of Y)null!=Q&&(H>Q||void 0===H&&Q>=Q)&&(H=Q);else{Q=-1;for(let ja of Y)null!=(ja=ta(ja,++Q,Y))&&(H>ja||void 0===H&&ja>=ja)&&(H=ja)}return H}function M(Y,ta,H=0,Q=Y.length-1,ja=r){for(;Q>H;){if(600<Q-H){var Ca=Q-H+1,qb=ta-H+1,Ya=
Math.log(Ca),ob=.5*Math.exp(2*Ya/3);Ya=.5*Math.sqrt(Ya*ob*(Ca-ob)/Ca)*(0>qb-Ca/2?-1:1);M(Y,ta,Math.max(H,Math.floor(ta-qb*ob/Ca+Ya)),Math.min(Q,Math.floor(ta+(Ca-qb)*ob/Ca+Ya)),ja)}Ca=Y[ta];qb=H;ob=Q;K(Y,H,ta);for(0<ja(Y[Q],Ca)&&K(Y,H,Q);qb<ob;){K(Y,qb,ob);++qb;for(--ob;0>ja(Y[qb],Ca);)++qb;for(;0<ja(Y[ob],Ca);)--ob}0===ja(Y[H],Ca)?K(Y,H,ob):(++ob,K(Y,ob,Q));ob<=ta&&(H=ob+1);ta<=ob&&(Q=ob-1)}return Y}function K(Y,ta,H){const Q=Y[ta];Y[ta]=Y[H];Y[H]=Q}function C(Y,ta,H){Y=Float64Array.from(bb(Y,H));
if(H=Y.length){if(0>=(ta=+ta)||2>H)return x(Y);if(1<=ta)return I(Y);ta*=H-1;H=Math.floor(ta);var Q=I(M(Y,H).subarray(0,H+1));Y=x(Y.subarray(H+1));return Q+(Y-Q)*(ta-H)}}function R(Y,ta){let H,Q=-1,ja=-1;if(void 0===ta)for(const Ca of Y)++ja,null!=Ca&&(H<Ca||void 0===H&&Ca>=Ca)&&(H=Ca,Q=ja);else for(let Ca of Y)null!=(Ca=ta(Ca,++ja,Y))&&(H<Ca||void 0===H&&Ca>=Ca)&&(H=Ca,Q=ja);return Q}function*aa(Y){for(const ta of Y)yield*ta}function da(Y,ta){let H,Q=-1,ja=-1;if(void 0===ta)for(const Ca of Y)++ja,
null!=Ca&&(H>Ca||void 0===H&&Ca>=Ca)&&(H=Ca,Q=ja);else for(let Ca of Y)null!=(Ca=ta(Ca,++ja,Y))&&(H>Ca||void 0===H&&Ca>=Ca)&&(H=Ca,Q=ja);return Q}function Da(Y,ta){return[Y,ta]}function Ja(Y,ta=r){if(1===ta.length)return da(Y,ta);let H,Q=-1,ja=-1;for(const Ca of Y)if(++ja,0>Q?0===ta(Ca,Ca):0>ta(Ca,H))H=Ca,Q=ja;return Q}function J(Y){return function(ta,H=0,Q=ta.length){for(Q-=H=+H;Q;){const ja=Y()*Q--|0,Ca=ta[Q+H];ta[Q+H]=ta[ja+H];ta[ja+H]=Ca}return ta}}function fa(Y){if(!(Ca=Y.length))return[];for(var ta=
-1,H=x(Y,ca),Q=Array(H);++ta<H;)for(var ja=-1,Ca,qb=Q[ta]=Array(Ca);++ja<Ca;)qb[ja]=Y[ja][ta];return Q}function ca(Y){return Y.length}function W(Y){return Y instanceof Set?Y:new Set(Y)}function d(Y,ta){Y=Y[Symbol.iterator]();const H=new Set;for(const Q of ta){if(H.has(Q))continue;let ja;for(;{value:ta,done:ja}=Y.next();){if(ja)return!1;H.add(ta);if(Object.is(Q,ta))break}}return!0}var c=A(r);const f=c.right;c=c.left;const l=A(sb).center;class m{constructor(){this._partials=new Float64Array(32);this._n=
0}add(Y){const ta=this._partials;let H=0;for(let Q=0;Q<this._n&&32>Q;Q++){const ja=ta[Q],Ca=Y+ja;(Y=Math.abs(Y)<Math.abs(ja)?Y-(Ca-ja):ja-(Ca-Y))&&(ta[H++]=Y);Y=Ca}ta[H]=Y;this._n=H+1;return this}valueOf(){const Y=this._partials;let ta=this._n;let H,Q=0;if(0<ta){for(Q=Y[--ta];0<ta;){var ja=Q;H=Y[--ta];Q=ja+H;if(ja=H-(Q-ja))break}0<ta&&(0>ja&&0>Y[ta-1]||0<ja&&0<Y[ta-1])&&(H=2*ja,ja=Q+H,H==ja-Q&&(Q=ja))}return Q}}class q extends Map{constructor(Y,ta=la){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:ta}});if(null!=Y)for(const [H,Q]of Y)this.set(H,Q)}get(Y){return super.get(na(this,Y))}has(Y){return super.has(na(this,Y))}set(Y,ta){return super.set(Ba(this,Y),ta)}delete(Y){return super.delete(Ga(this,Y))}}class w extends Set{constructor(Y,ta=la){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:ta}});if(null!=Y)for(const H of Y)this.add(H)}has(Y){return super.has(na(this,Y))}add(Y){return super.add(Ba(this,Y))}delete(Y){return super.delete(Ga(this,Y))}}var G=
Array.prototype.slice,U=Math.sqrt(50),wa=Math.sqrt(10),cb=Math.sqrt(2),hb=J(Math.random);h.Adder=m;h.InternMap=q;h.InternSet=w;h.ascending=r;h.bin=Va;h.bisect=f;h.bisectCenter=l;h.bisectLeft=c;h.bisectRight=f;h.bisector=A;h.count=xb;h.cross=function(...Y){const ta="function"===typeof Y[Y.length-1]&&Ia(Y.pop());Y=Y.map(La);const H=Y.map(Gb),Q=Y.length-1,ja=Array(Q+1).fill(0),Ca=[];if(0>Q||H.some(ib))return Ca;for(;;){Ca.push(ja.map((Ya,ob)=>Y[ob][Ya]));let qb=Q;for(;++ja[qb]===H[qb];){if(0===qb)return ta?
Ca.map(ta):Ca;ja[qb--]=0}}};h.cumsum=function(Y,ta){var H=0,Q=0;return Float64Array.from(Y,void 0===ta?ja=>H+=+ja||0:ja=>H+=+ta(ja,Q++,Y)||0)};h.descending=function(Y,ta){return ta<Y?-1:ta>Y?1:ta>=Y?0:NaN};h.deviation=xa;h.difference=function(Y,...ta){Y=new Set(Y);for(const H of ta)for(const Q of H)Y.delete(Q);return Y};h.disjoint=function(Y,ta){ta=ta[Symbol.iterator]();const H=new Set;for(const Q of Y){if(H.has(Q))return!1;let ja;for(;({value:Y,done:ja}=ta.next())&&!ja;){if(Object.is(Q,Y))return!1;
H.add(Y)}}return!0};h.every=function(Y,ta){if("function"!==typeof ta)throw new TypeError("test is not a function");let H=-1;for(const Q of Y)if(!ta(Q,++H,Y))return!1;return!0};h.extent=ma;h.fcumsum=function(Y,ta){const H=new m;let Q=-1;return Float64Array.from(Y,void 0===ta?ja=>H.add(+ja||0):ja=>H.add(+ta(ja,++Q,Y)||0))};h.filter=function(Y,ta){if("function"!==typeof ta)throw new TypeError("test is not a function");const H=[];let Q=-1;for(const ja of Y)ta(ja,++Q,Y)&&H.push(ja);return H};h.fsum=function(Y,
ta){const H=new m;if(void 0===ta)for(var Q of Y)(Q=+Q)&&H.add(Q);else{Q=-1;for(let ja of Y)(ja=+ta(ja,++Q,Y))&&H.add(ja)}return+H};h.greatest=function(Y,ta=r){let H,Q=!1;if(1===ta.length){let ja;for(const Ca of Y)if(Y=ta(Ca),Q?0<r(Y,ja):0===r(Y,Y))H=Ca,ja=Y,Q=!0}else for(const ja of Y)if(Q?0<ta(ja,H):0===ta(ja,ja))H=ja,Q=!0;return H};h.greatestIndex=function(Y,ta=r){if(1===ta.length)return R(Y,ta);let H,Q=-1,ja=-1;for(const Ca of Y)if(++ja,0>Q?0===ta(Ca,Ca):0<ta(Ca,H))H=Ca,Q=ja;return Q};h.group=
Qa;h.groupSort=function(Y,ta,H){return(1===ta.length?ya(za(Y,ta,H),([Q,ja],[Ca,qb])=>r(ja,qb)||r(Q,Ca)):ya(Qa(Y,H),([Q,ja],[Ca,qb])=>ta(ja,qb)||r(Q,Ca))).map(([Q])=>Q)};h.groups=function(Y,...ta){return L(Y,Array.from,ra,ta)};h.histogram=Va;h.index=function(Y,...ta){return L(Y,ra,Ta,ta)};h.indexes=function(Y,...ta){return L(Y,Array.from,Ta,ta)};h.intersection=function(Y,...ta){Y=new Set(Y);ta=ta.map(W);a:for(const H of Y)for(const Q of ta)if(!Q.has(H)){Y.delete(H);continue a}return Y};h.least=function(Y,
ta=r){let H,Q=!1;if(1===ta.length){let ja;for(const Ca of Y)if(Y=ta(Ca),Q?0>r(Y,ja):0===r(Y,Y))H=Ca,ja=Y,Q=!0}else for(const ja of Y)if(Q?0>ta(ja,H):0===ta(ja,ja))H=ja,Q=!0;return H};h.leastIndex=Ja;h.map=function(Y,ta){if("function"!==typeof Y[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof ta)throw new TypeError("mapper is not a function");return Array.from(Y,(H,Q)=>ta(H,Q,Y))};h.max=I;h.maxIndex=R;h.mean=function(Y,ta){let H=0,Q=0;if(void 0===ta)for(var ja of Y)null!=
ja&&(ja=+ja)>=ja&&(++H,Q+=ja);else{ja=-1;for(let Ca of Y)null!=(Ca=ta(Ca,++ja,Y))&&(Ca=+Ca)>=Ca&&(++H,Q+=Ca)}if(H)return Q/H};h.median=function(Y,ta){return C(Y,.5,ta)};h.merge=function(Y){return Array.from(aa(Y))};h.min=x;h.minIndex=da;h.nice=Aa;h.pairs=function(Y,ta=Da){const H=[];let Q,ja=!1;for(const Ca of Y)ja&&H.push(ta(Q,Ca)),Q=Ca,ja=!0;return H};h.permute=ha;h.quantile=C;h.quantileSorted=function(Y,ta,H=sb){if(Q=Y.length){if(0>=(ta=+ta)||2>Q)return+H(Y[0],0,Y);if(1<=ta)return+H(Y[Q-1],Q-1,
Y);var Q;ta*=Q-1;Q=Math.floor(ta);var ja=+H(Y[Q],Q,Y);Y=+H(Y[Q+1],Q+1,Y);return ja+(Y-ja)*(ta-Q)}};h.quickselect=M;h.range=function(Y,ta,H){Y=+Y;ta=+ta;H=2>(ja=arguments.length)?(ta=Y,Y=0,1):3>ja?1:+H;for(var Q=-1,ja=Math.max(0,Math.ceil((ta-Y)/H))|0,Ca=Array(ja);++Q<ja;)Ca[Q]=Y+Q*H;return Ca};h.reduce=function(Y,ta,H){if("function"!==typeof ta)throw new TypeError("reducer is not a function");const Q=Y[Symbol.iterator]();let ja,Ca,qb=-1;if(3>arguments.length){({done:ja,value:H}=Q.next());if(ja)return;
++qb}for(;{done:ja,value:Ca}=Q.next(),!ja;)H=ta(H,Ca,++qb,Y);return H};h.reverse=function(Y){if("function"!==typeof Y[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Y).reverse()};h.rollup=za;h.rollups=function(Y,ta,...H){return L(Y,Array.from,ta,H)};h.scan=function(Y,ta){Y=Ja(Y,ta);return 0>Y?void 0:Y};h.shuffle=hb;h.shuffler=J;h.some=function(Y,ta){if("function"!==typeof ta)throw new TypeError("test is not a function");let H=-1;for(const Q of Y)if(ta(Q,++H,Y))return!0;
return!1};h.sort=ya;h.subset=function(Y,ta){return d(ta,Y)};h.sum=function(Y,ta){let H=0;if(void 0===ta)for(var Q of Y){if(Q=+Q)H+=Q}else{Q=-1;for(let ja of Y)if(ja=+ta(ja,++Q,Y))H+=ja}return H};h.superset=d;h.thresholdFreedmanDiaconis=function(Y,ta,H){return Math.ceil((H-ta)/(2*(C(Y,.75)-C(Y,.25))*Math.pow(xb(Y),-1/3)))};h.thresholdScott=function(Y,ta,H){return Math.ceil((H-ta)/(3.5*xa(Y)*Math.pow(xb(Y),-1/3)))};h.thresholdSturges=ab;h.tickIncrement=Pa;h.tickStep=function(Y,ta,H){var Q=Math.abs(ta-
Y)/Math.max(0,H);H=Math.pow(10,Math.floor(Math.log(Q)/Math.LN10));Q/=H;Q>=U?H*=10:Q>=wa?H*=5:Q>=cb&&(H*=2);return ta<Y?-H:H};h.ticks=Ma;h.transpose=fa;h.union=function(...Y){const ta=new Set;for(const H of Y)for(const Q of H)ta.add(Q);return ta};h.variance=Sa;h.zip=function(){return fa(arguments)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[4]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(la,ra){if(0>(ra=(la=ra?la.toExponential(ra-1):la.toExponential()).indexOf("e")))return null;var Qa=la.slice(0,ra);return[1<Qa.length?Qa[0]+Qa.slice(2):Qa,+la.slice(ra+1)]}function A(la){return la=r(Math.abs(la)),la?la[1]:NaN}function Ra(la,
ra){return function(Qa,za){for(var Ta=Qa.length,L=[],ha=0,ya=la[0],ua=0;0<Ta&&0<ya;){ua+ya+1>za&&(ya=Math.max(1,za-ua));L.push(Qa.substring(Ta-=ya,Ta+ya));if((ua+=ya+1)>za)break;ya=la[ha=(ha+1)%la.length]}return L.reverse().join(ra)}}function sb(la){return function(ra){return ra.replace(/[0-9]/g,function(Qa){return la[+Qa]})}}function bb(la){if(!(ra=Sa.exec(la)))throw Error("invalid format: "+la);var ra;return new xb({fill:ra[1],align:ra[2],sign:ra[3],symbol:ra[4],zero:ra[5],width:ra[6],comma:ra[7],
precision:ra[8]&&ra[8].slice(1),trim:ra[9],type:ra[10]})}function xb(la){this.fill=void 0===la.fill?" ":la.fill+"";this.align=void 0===la.align?"\x3e":la.align+"";this.sign=void 0===la.sign?"-":la.sign+"";this.symbol=void 0===la.symbol?"":la.symbol+"";this.zero=!!la.zero;this.width=void 0===la.width?void 0:+la.width;this.comma=!!la.comma;this.precision=void 0===la.precision?void 0:+la.precision;this.trim=!!la.trim;this.type=void 0===la.type?"":la.type+""}function Gb(la,ra){ra=r(la,ra);if(!ra)return la+
"";la=ra[0];ra=ra[1];return 0>ra?"0."+Array(-ra).join("0")+la:la.length>ra+1?la.slice(0,ra+1)+"."+la.slice(ra+1):la+Array(ra-la.length+2).join("0")}function ib(la){return la}function La(la){function ra(Pa){function Aa(ca){var W=Da,d=Ja,c,f;if("c"===da)d=J(ca)+d,ca="";else{ca=+ca;var l=0>ca||0>1/ca;ca=isNaN(ca)?Ma:J(Math.abs(ca),R);if(aa){var m=ca.length,q=1,w=-1;a:for(;q<m;++q)switch(ca[q]){case ".":w=c=q;break;case "0":0===w&&(w=q);c=q;break;default:if(!+ca[q])break a;0<w&&(w=0)}ca=0<w?ca.slice(0,
w)+ca.slice(c+1):ca}l&&0===+ca&&"+"!==I&&(l=!1);W=(l?"("===I?I:ua:"-"===I||"("===I?"":I)+W;d=("s"===da?Ba[8+xa/3]:"")+d+(l&&"("===I?")":"");if(fa)for(l=-1,c=ca.length;++l<c;)if(f=ca.charCodeAt(l),48>f||57<f){d=(46===f?L+ca.slice(l+1):ca.slice(l))+d;ca=ca.slice(0,l);break}}C&&!M&&(ca=Qa(ca,Infinity));f=W.length+ca.length+d.length;l=f<K?Array(K-f+1).join(ab):"";C&&M&&(ca=Qa(l+ca,l.length?K-d.length:Infinity),l="");switch(Va){case "\x3c":ca=W+ca+d+l;break;case "\x3d":ca=W+l+ca+d;break;case "^":ca=l.slice(0,
f=l.length>>1)+W+ca+d+l.slice(f);break;default:ca=l+W+ca+d}return ha(ca)}Pa=bb(Pa);var ab=Pa.fill,Va=Pa.align,I=Pa.sign,x=Pa.symbol,M=Pa.zero,K=Pa.width,C=Pa.comma,R=Pa.precision,aa=Pa.trim,da=Pa.type;"n"===da?(C=!0,da="g"):ma[da]||(void 0===R&&(R=12),aa=!0,da="g");if(M||"0"===ab&&"\x3d"===Va)M=!0,ab="0",Va="\x3d";var Da="$"===x?za:"#"===x&&/[boxX]/.test(da)?"0"+da.toLowerCase():"",Ja="$"===x?Ta:/[%p]/.test(da)?ya:"",J=ma[da],fa=/[defgprs%]/.test(da);R=void 0===R?6:/[gprs]/.test(da)?Math.max(1,Math.min(21,
R)):Math.max(0,Math.min(20,R));Aa.toString=function(){return Pa+""};return Aa}var Qa=void 0===la.grouping||void 0===la.thousands?ib:Ra(na.call(la.grouping,Number),la.thousands+""),za=void 0===la.currency?"":la.currency[0]+"",Ta=void 0===la.currency?"":la.currency[1]+"",L=void 0===la.decimal?".":la.decimal+"",ha=void 0===la.numerals?ib:sb(na.call(la.numerals,String)),ya=void 0===la.percent?"%":la.percent+"",ua=void 0===la.minus?"−":la.minus+"",Ma=void 0===la.nan?"NaN":la.nan+"";return{format:ra,formatPrefix:function(Pa,
Aa){var ab=ra((Pa=bb(Pa),Pa.type="f",Pa));Pa=3*Math.max(-8,Math.min(8,Math.floor(A(Aa)/3)));var Va=Math.pow(10,-Pa),I=Ba[8+Pa/3];return function(x){return ab(Va*x)+I}}}}function Ia(la){Ga=La(la);h.format=Ga.format;h.formatPrefix=Ga.formatPrefix;return Ga}var Sa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;bb.prototype=xb.prototype;xb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|
0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var xa,ma={"%":(la,ra)=>(100*la).toFixed(ra),b:la=>Math.round(la).toString(2),c:la=>la+"",d:function(la){return 1E21<=Math.abs(la=Math.round(la))?la.toLocaleString("en").replace(/,/g,""):la.toString(10)},e:(la,ra)=>la.toExponential(ra),f:(la,ra)=>la.toFixed(ra),g:(la,ra)=>la.toPrecision(ra),o:la=>Math.round(la).toString(8),p:(la,ra)=>Gb(100*la,ra),r:Gb,s:function(la,ra){var Qa=r(la,
ra);if(!Qa)return la+"";var za=Qa[0];Qa=Qa[1];Qa=Qa-(xa=3*Math.max(-8,Math.min(8,Math.floor(Qa/3))))+1;var Ta=za.length;return Qa===Ta?za:Qa>Ta?za+Array(Qa-Ta+1).join("0"):0<Qa?za.slice(0,Qa)+"."+za.slice(Qa):"0."+Array(1-Qa).join("0")+r(la,Math.max(0,ra+Qa-1))[0]},X:la=>Math.round(la).toString(16).toUpperCase(),x:la=>Math.round(la).toString(16)},na=Array.prototype.map,Ba="y z a f p n µ m  k M G T P E Z Y".split(" "),Ga;Ia({thousands:",",grouping:[3],currency:["$",""]});h.FormatSpecifier=xb;h.formatDefaultLocale=
Ia;h.formatLocale=La;h.formatSpecifier=bb;h.precisionFixed=function(la){return Math.max(0,-A(Math.abs(la)))};h.precisionPrefix=function(la,ra){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(A(ra)/3)))-A(Math.abs(la)))};h.precisionRound=function(la,ra){la=Math.abs(la);ra=Math.abs(ra)-la;return Math.max(0,A(ra)-A(la))+1};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[5]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function A(Ya,ob,Na,Ab){function Eb(eb){return Ya(eb=0===arguments.length?new Date:new Date(+eb)),eb}Eb.floor=function(eb){return Ya(eb=new Date(+eb)),eb};Eb.ceil=function(eb){return Ya(eb=new Date(eb-1)),ob(eb,1),Ya(eb),
eb};Eb.round=function(eb){var Mb=Eb(eb),jc=Eb.ceil(eb);return eb-Mb<jc-eb?Mb:jc};Eb.offset=function(eb,Mb){return ob(eb=new Date(+eb),null==Mb?1:Math.floor(Mb)),eb};Eb.range=function(eb,Mb,jc){var Zb=[],Hc;eb=Eb.ceil(eb);jc=null==jc?1:Math.floor(jc);if(!(eb<Mb&&0<jc))return Zb;do Zb.push(Hc=new Date(+eb)),ob(eb,jc),Ya(eb);while(Hc<eb&&eb<Mb);return Zb};Eb.filter=function(eb){return A(function(Mb){if(Mb>=Mb)for(;Ya(Mb),!eb(Mb);)Mb.setTime(Mb-1)},function(Mb,jc){if(Mb>=Mb)if(0>jc)for(;0>=++jc;)for(;ob(Mb,
-1),!eb(Mb););else for(;0<=--jc;)for(;ob(Mb,1),!eb(Mb););})};Na&&(Eb.count=function(eb,Mb){xb.setTime(+eb);Gb.setTime(+Mb);Ya(xb);Ya(Gb);return Math.floor(Na(xb,Gb))},Eb.every=function(eb){eb=Math.floor(eb);return isFinite(eb)&&0<eb?1<eb?Eb.filter(Ab?function(Mb){return 0===Ab(Mb)%eb}:function(Mb){return 0===Eb.count(0,Mb)%eb}):Eb:null});return Eb}function Ra(Ya){return A(function(ob){ob.setDate(ob.getDate()-(ob.getDay()+7-Ya)%7);ob.setHours(0,0,0,0)},function(ob,Na){ob.setDate(ob.getDate()+7*Na)},
function(ob,Na){return(Na-ob-6E4*(Na.getTimezoneOffset()-ob.getTimezoneOffset()))/6048E5})}function sb(Ya){return A(function(ob){ob.setUTCDate(ob.getUTCDate()-(ob.getUTCDay()+7-Ya)%7);ob.setUTCHours(0,0,0,0)},function(ob,Na){ob.setUTCDate(ob.getUTCDate()+7*Na)},function(ob,Na){return(Na-ob)/6048E5})}function bb(Ya,ob,Na,Ab,Eb,eb){function Mb(Zb,Hc,zc){const ed=Math.abs(Hc-Zb)/zc,Ad=r.bisector(([,,ie])=>ie).right(jc,ed);if(Ad===jc.length)return Ya.every(r.tickStep(Zb/31536E6,Hc/31536E6,zc));if(0===
Ad)return ib.every(Math.max(r.tickStep(Zb,Hc,zc),1));const [Gc,gd]=jc[ed/jc[Ad-1][2]<jc[Ad][2]/ed?Ad-1:Ad];return Gc.every(gd)}const jc=[[Ia,1,1E3],[Ia,5,5E3],[Ia,15,15E3],[Ia,30,3E4],[eb,1,6E4],[eb,5,3E5],[eb,15,9E5],[eb,30,18E5],[Eb,1,36E5],[Eb,3,108E5],[Eb,6,216E5],[Eb,12,432E5],[Ab,1,864E5],[Ab,2,1728E5],[Na,1,6048E5],[ob,1,2592E6],[ob,3,7776E6],[Ya,1,31536E6]];return[function(Zb,Hc,zc){const ed=Hc<Zb;ed&&([Zb,Hc]=[Hc,Zb]);Zb=(zc=zc&&"function"===typeof zc.range?zc:Mb(Zb,Hc,zc))?zc.range(Zb,+Hc+
1):[];return ed?Zb.reverse():Zb},Mb]}var xb=new Date,Gb=new Date,ib=A(function(){},function(Ya,ob){Ya.setTime(+Ya+ob)},function(Ya,ob){return ob-Ya});ib.every=function(Ya){Ya=Math.floor(Ya);return isFinite(Ya)&&0<Ya?1<Ya?A(function(ob){ob.setTime(Math.floor(ob/Ya)*Ya)},function(ob,Na){ob.setTime(+ob+Na*Ya)},function(ob,Na){return(Na-ob)/Ya}):ib:null};var La=ib.range,Ia=A(function(Ya){Ya.setTime(Ya-Ya.getMilliseconds())},function(Ya,ob){Ya.setTime(+Ya+1E3*ob)},function(Ya,ob){return(ob-Ya)/1E3},function(Ya){return Ya.getUTCSeconds()}),
Sa=Ia.range,xa=A(function(Ya){Ya.setTime(Ya-Ya.getMilliseconds()-1E3*Ya.getSeconds())},function(Ya,ob){Ya.setTime(+Ya+6E4*ob)},function(Ya,ob){return(ob-Ya)/6E4},function(Ya){return Ya.getMinutes()}),ma=xa.range,na=A(function(Ya){Ya.setTime(Ya-Ya.getMilliseconds()-1E3*Ya.getSeconds()-6E4*Ya.getMinutes())},function(Ya,ob){Ya.setTime(+Ya+36E5*ob)},function(Ya,ob){return(ob-Ya)/36E5},function(Ya){return Ya.getHours()}),Ba=na.range,Ga=A(Ya=>Ya.setHours(0,0,0,0),(Ya,ob)=>Ya.setDate(Ya.getDate()+ob),(Ya,
ob)=>(ob-Ya-6E4*(ob.getTimezoneOffset()-Ya.getTimezoneOffset()))/864E5,Ya=>Ya.getDate()-1),la=Ga.range,ra=Ra(0),Qa=Ra(1),za=Ra(2),Ta=Ra(3),L=Ra(4),ha=Ra(5),ya=Ra(6),ua=ra.range,Ma=Qa.range,Pa=za.range,Aa=Ta.range,ab=L.range,Va=ha.range,I=ya.range,x=A(function(Ya){Ya.setDate(1);Ya.setHours(0,0,0,0)},function(Ya,ob){Ya.setMonth(Ya.getMonth()+ob)},function(Ya,ob){return ob.getMonth()-Ya.getMonth()+12*(ob.getFullYear()-Ya.getFullYear())},function(Ya){return Ya.getMonth()}),M=x.range,K=A(function(Ya){Ya.setMonth(0,
1);Ya.setHours(0,0,0,0)},function(Ya,ob){Ya.setFullYear(Ya.getFullYear()+ob)},function(Ya,ob){return ob.getFullYear()-Ya.getFullYear()},function(Ya){return Ya.getFullYear()});K.every=function(Ya){return isFinite(Ya=Math.floor(Ya))&&0<Ya?A(function(ob){ob.setFullYear(Math.floor(ob.getFullYear()/Ya)*Ya);ob.setMonth(0,1);ob.setHours(0,0,0,0)},function(ob,Na){ob.setFullYear(ob.getFullYear()+Na*Ya)}):null};var C=K.range,R=A(function(Ya){Ya.setUTCSeconds(0,0)},function(Ya,ob){Ya.setTime(+Ya+6E4*ob)},function(Ya,
ob){return(ob-Ya)/6E4},function(Ya){return Ya.getUTCMinutes()}),aa=R.range,da=A(function(Ya){Ya.setUTCMinutes(0,0,0)},function(Ya,ob){Ya.setTime(+Ya+36E5*ob)},function(Ya,ob){return(ob-Ya)/36E5},function(Ya){return Ya.getUTCHours()}),Da=da.range,Ja=A(function(Ya){Ya.setUTCHours(0,0,0,0)},function(Ya,ob){Ya.setUTCDate(Ya.getUTCDate()+ob)},function(Ya,ob){return(ob-Ya)/864E5},function(Ya){return Ya.getUTCDate()-1}),J=Ja.range,fa=sb(0),ca=sb(1),W=sb(2),d=sb(3),c=sb(4),f=sb(5),l=sb(6),m=fa.range,q=ca.range,
w=W.range,G=d.range,U=c.range,wa=f.range,cb=l.range,hb=A(function(Ya){Ya.setUTCDate(1);Ya.setUTCHours(0,0,0,0)},function(Ya,ob){Ya.setUTCMonth(Ya.getUTCMonth()+ob)},function(Ya,ob){return ob.getUTCMonth()-Ya.getUTCMonth()+12*(ob.getUTCFullYear()-Ya.getUTCFullYear())},function(Ya){return Ya.getUTCMonth()}),Y=hb.range,ta=A(function(Ya){Ya.setUTCMonth(0,1);Ya.setUTCHours(0,0,0,0)},function(Ya,ob){Ya.setUTCFullYear(Ya.getUTCFullYear()+ob)},function(Ya,ob){return ob.getUTCFullYear()-Ya.getUTCFullYear()},
function(Ya){return Ya.getUTCFullYear()});ta.every=function(Ya){return isFinite(Ya=Math.floor(Ya))&&0<Ya?A(function(ob){ob.setUTCFullYear(Math.floor(ob.getUTCFullYear()/Ya)*Ya);ob.setUTCMonth(0,1);ob.setUTCHours(0,0,0,0)},function(ob,Na){ob.setUTCFullYear(ob.getUTCFullYear()+Na*Ya)}):null};var H=ta.range;const [Q,ja]=bb(ta,hb,fa,Ja,da,R),[Ca,qb]=bb(K,x,ra,Ga,na,xa);h.timeDay=Ga;h.timeDays=la;h.timeFriday=ha;h.timeFridays=Va;h.timeHour=na;h.timeHours=Ba;h.timeInterval=A;h.timeMillisecond=ib;h.timeMilliseconds=
La;h.timeMinute=xa;h.timeMinutes=ma;h.timeMonday=Qa;h.timeMondays=Ma;h.timeMonth=x;h.timeMonths=M;h.timeSaturday=ya;h.timeSaturdays=I;h.timeSecond=Ia;h.timeSeconds=Sa;h.timeSunday=ra;h.timeSundays=ua;h.timeThursday=L;h.timeThursdays=ab;h.timeTickInterval=qb;h.timeTicks=Ca;h.timeTuesday=za;h.timeTuesdays=Pa;h.timeWednesday=Ta;h.timeWednesdays=Aa;h.timeWeek=ra;h.timeWeeks=ua;h.timeYear=K;h.timeYears=C;h.utcDay=Ja;h.utcDays=J;h.utcFriday=f;h.utcFridays=wa;h.utcHour=da;h.utcHours=Da;h.utcMillisecond=
ib;h.utcMilliseconds=La;h.utcMinute=R;h.utcMinutes=aa;h.utcMonday=ca;h.utcMondays=q;h.utcMonth=hb;h.utcMonths=Y;h.utcSaturday=l;h.utcSaturdays=cb;h.utcSecond=Ia;h.utcSeconds=Sa;h.utcSunday=fa;h.utcSundays=m;h.utcThursday=c;h.utcThursdays=U;h.utcTickInterval=ja;h.utcTicks=Q;h.utcTuesday=W;h.utcTuesdays=w;h.utcWednesday=d;h.utcWednesdays=G;h.utcWeek=fa;h.utcWeeks=m;h.utcYear=ta;h.utcYears=H;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[6]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2),zb(5),zb(3)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.d3,h.d3))})(this,function(h,r,A,Ra){function sb(K){const C=r.array(K).slice(),R={};C.length||r.error("Missing time unit.");C.forEach(aa=>{r.hasOwnProperty(la,aa)?R[aa]=1:r.error(`Invalid time unit: ${aa}.`)});
1<(R.week||R.day?1:0)+(R.quarter||R.month||R.date?1:0)+(R.dayofyear?1:0)&&r.error(`Incompatible time units: ${K}`);C.sort((aa,da)=>la[aa]-la[da]);return C}function bb(K){Qa.setFullYear(K);Qa.setMonth(0);Qa.setDate(1);Qa.setHours(0,0,0,0);return Qa}function xb(K){return A.timeDay.count(bb(K.getFullYear())-1,K)}function Gb(K){return A.timeWeek.count(bb(K.getFullYear())-1,K)}function ib(K,C,R,aa,da,Da,Ja){return 0<=K&&100>K?(C=new Date(-1,C,R,aa,da,Da,Ja),C.setFullYear(K),C):new Date(K,C,R,aa,da,Da,
Ja)}function La(K){const C=Date.UTC(K.getUTCFullYear(),0,1);return A.utcDay.count(C-1,K)}function Ia(K){const C=Date.UTC(K.getUTCFullYear(),0,1);return A.utcWeek.count(C-1,K)}function Sa(K){Qa.setTime(Date.UTC(K,0,1));return Qa.getUTCDay()}function xa(K,C,R,aa,da,Da,Ja){return 0<=K&&100>K?(K=new Date(Date.UTC(-1,C,R,aa,da,Da,Ja)),K.setUTCFullYear(R.y),K):new Date(Date.UTC(K,C,R,aa,da,Da,Ja))}function ma(K,C,R,aa,da){const Da=C||1,Ja=r.peek(K);C=(m,q,w)=>{w=w||m;return na(R[w],aa[w],m===Ja&&Da,q)};
const J=new Date;K=r.toSet(K);const fa=K.year?C("year"):r.constant(2012),ca=K.month?C("month"):K.quarter?C("quarter"):r.zero,W=K.week&&K.day?C("day",1,"weekday"):K.week?C("week",1):K.day?C("day",1):K.date?C("date",1):K.dayofyear?C("dayofyear",1):r.one,d=K.hours?C("hours"):r.zero,c=K.minutes?C("minutes"):r.zero,f=K.seconds?C("seconds"):r.zero,l=K.milliseconds?C("milliseconds"):r.zero;return function(m){J.setTime(+m);m=fa(J);return da(m,ca(J),W(J,m),d(J),c(J),f(J),l(J))}}function na(K,C,R,aa){const da=
1>=R?K:aa?(Da,Ja)=>aa+R*Math.floor((K(Da,Ja)-aa)/R):(Da,Ja)=>R*Math.floor(K(Da,Ja)/R);return C?(Da,Ja)=>C(da(Da,Ja),Ja):da}function Ba(K,C,R){return C+7*K-(R+6)%7}const Ga="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),la=Ga.reduce((K,C,R)=>(K[C]=1+R,K),{}),ra={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",
["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},Qa=new Date,za={["year"]:K=>K.getFullYear(),["quarter"]:K=>Math.floor(K.getMonth()/3),["month"]:K=>K.getMonth(),["date"]:K=>K.getDate(),["hours"]:K=>K.getHours(),["minutes"]:K=>K.getMinutes(),["seconds"]:K=>K.getSeconds(),["milliseconds"]:K=>K.getMilliseconds(),["dayofyear"]:K=>xb(K),["week"]:K=>Gb(K),["weekday"]:(K,C)=>Ba(Gb(K),K.getDay(),bb(C).getDay()),["day"]:(K,C)=>Ba(1,K.getDay(),bb(C).getDay())},Ta={["quarter"]:K=>3*K,["week"]:(K,C)=>
Ba(K,0,bb(C).getDay())},L={["year"]:K=>K.getUTCFullYear(),["quarter"]:K=>Math.floor(K.getUTCMonth()/3),["month"]:K=>K.getUTCMonth(),["date"]:K=>K.getUTCDate(),["hours"]:K=>K.getUTCHours(),["minutes"]:K=>K.getUTCMinutes(),["seconds"]:K=>K.getUTCSeconds(),["milliseconds"]:K=>K.getUTCMilliseconds(),["dayofyear"]:K=>La(K),["week"]:K=>Ia(K),["day"]:(K,C)=>Ba(1,K.getUTCDay(),Sa(C)),["weekday"]:(K,C)=>Ba(Ia(K),K.getUTCDay(),Sa(C))},ha={["quarter"]:K=>3*K,["week"]:(K,C)=>Ba(K,0,Sa(C))},ya={["year"]:A.timeYear,
["quarter"]:A.timeMonth.every(3),["month"]:A.timeMonth,["week"]:A.timeWeek,["date"]:A.timeDay,["day"]:A.timeDay,["dayofyear"]:A.timeDay,["hours"]:A.timeHour,["minutes"]:A.timeMinute,["seconds"]:A.timeSecond,["milliseconds"]:A.timeMillisecond},ua={["year"]:A.utcYear,["quarter"]:A.utcMonth.every(3),["month"]:A.utcMonth,["week"]:A.utcWeek,["date"]:A.utcDay,["day"]:A.utcDay,["dayofyear"]:A.utcDay,["hours"]:A.utcHour,["minutes"]:A.utcMinute,["seconds"]:A.utcSecond,["milliseconds"]:A.utcMillisecond},Ma=
"year month date hours minutes seconds milliseconds".split(" "),Pa=Ma.slice(0,-1),Aa=Pa.slice(0,-1),ab=Aa.slice(0,-1),Va=ab.slice(0,-1),I=["year","month"],x=["year"],M=[[Pa,1,1E3],[Pa,5,5E3],[Pa,15,15E3],[Pa,30,3E4],[Aa,1,6E4],[Aa,5,3E5],[Aa,15,9E5],[Aa,30,18E5],[ab,1,36E5],[ab,3,108E5],[ab,6,216E5],[ab,12,432E5],[Va,1,864E5],[["year","week"],1,6048E5],[I,1,2592E6],[I,3,7776E6],[x,1,31536E6]];h.DATE="date";h.DAY="day";h.DAYOFYEAR="dayofyear";h.HOURS="hours";h.MILLISECONDS="milliseconds";h.MINUTES=
"minutes";h.MONTH="month";h.QUARTER="quarter";h.SECONDS="seconds";h.TIME_UNITS=Ga;h.WEEK="week";h.YEAR="year";h.dayofyear=function(K){return xb(new Date(K))};h.timeBin=function(K){var C=K.extent;K=K.maxbins||40;var R=Math.abs(r.span(C))/K;let aa=Ra.bisector(da=>da[2]).right(M,R);aa===M.length?(R=x,C=Ra.tickStep(C[0]/31536E6,C[1]/31536E6,K)):aa?(aa=M[R/M[aa-1][2]<M[aa][2]/R?aa-1:aa],R=aa[0],C=aa[1]):(R=Ma,C=Math.max(Ra.tickStep(C[0],C[1],K),1));return{units:R,step:C}};h.timeFloor=function(K,C){return ma(K,
C||1,za,Ta,ib)};h.timeInterval=function(K){return ya[K]};h.timeOffset=function(K,C,R){return(K=ya[K])?K.offset(C,R):void 0};h.timeSequence=function(K,C,R,aa){return(K=ya[K])?K.range(C,R,aa):void 0};h.timeUnitSpecifier=function(K,C){C=r.extend({},ra,C);K=sb(K);const R=K.length;let aa="",da,Da,Ja;for(da=0;da<R;)for(Da=K.length;Da>da;--Da)if(Ja=K.slice(da,Da).join("-"),null!=C[Ja]){aa+=C[Ja];da=Da;break}return aa.trim()};h.timeUnits=sb;h.utcFloor=function(K,C){return ma(K,C||1,L,ha,xa)};h.utcInterval=
function(K){return ua[K]};h.utcOffset=function(K,C,R){return(K=ua[K])?K.offset(C,R):void 0};h.utcSequence=function(K,C,R,aa){return(K=ua[K])?K.range(C,R,aa):void 0};h.utcdayofyear=function(K){return La(new Date(K))};h.utcweek=function(K){return Ia(new Date(K))};h.week=function(K){return Gb(new Date(K))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[7]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(5)):"function"===typeof define&&define.amd?define(["exports","d3-time"],r):(h=h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function A(Db){if(0<=Db.y&&100>Db.y){var ac=new Date(-1,Db.m,Db.d,Db.H,Db.M,Db.S,Db.L);ac.setFullYear(Db.y);return ac}return new Date(Db.y,Db.m,Db.d,Db.H,Db.M,Db.S,Db.L)}function Ra(Db){if(0<=Db.y&&100>Db.y){var ac=new Date(Date.UTC(-1,Db.m,Db.d,Db.H,Db.M,Db.S,Db.L));
ac.setUTCFullYear(Db.y);return ac}return new Date(Date.UTC(Db.y,Db.m,Db.d,Db.H,Db.M,Db.S,Db.L))}function sb(Db,ac,kb){return{y:Db,m:ac,d:kb,H:0,M:0,S:0,L:0}}function bb(Db){function ac(Vb,nc){return function(lc){var rc=[],Vc=-1,zd=0,pd=Vb.length,ld,qd;for(lc instanceof Date||(lc=new Date(+lc));++Vc<pd;)if(37===Vb.charCodeAt(Vc)){rc.push(Vb.slice(zd,Vc));null!=(zd=Ad[ld=Vb.charAt(++Vc)])?ld=Vb.charAt(++Vc):zd="e"===ld?" ":"0";if(qd=nc[ld])ld=qd(lc,zd);rc.push(ld);zd=Vc+1}rc.push(Vb.slice(zd,Vc));return rc.join("")}}
function kb(Vb,nc){return function(lc){var rc=sb(1900,void 0,1);if(oc(rc,Vb,lc+="",0)!=lc.length)return null;if("Q"in rc)return new Date(rc.Q);if("s"in rc)return new Date(1E3*rc.s+("L"in rc?rc.L:0));!nc||"Z"in rc||(rc.Z=0);"p"in rc&&(rc.H=rc.H%12+12*rc.p);void 0===rc.m&&(rc.m="q"in rc?rc.q:0);if("V"in rc){if(1>rc.V||53<rc.V)return null;"w"in rc||(rc.w=1);if("Z"in rc){lc=Ra(sb(rc.y,0,1));var Vc=lc.getUTCDay();lc=4<Vc||0===Vc?r.utcMonday.ceil(lc):r.utcMonday(lc);lc=r.utcDay.offset(lc,7*(rc.V-1));rc.y=
lc.getUTCFullYear();rc.m=lc.getUTCMonth();rc.d=lc.getUTCDate()+(rc.w+6)%7}else lc=A(sb(rc.y,0,1)),Vc=lc.getDay(),lc=4<Vc||0===Vc?r.timeMonday.ceil(lc):r.timeMonday(lc),lc=r.timeDay.offset(lc,7*(rc.V-1)),rc.y=lc.getFullYear(),rc.m=lc.getMonth(),rc.d=lc.getDate()+(rc.w+6)%7}else if("W"in rc||"U"in rc)"w"in rc||(rc.w="u"in rc?rc.u%7:"W"in rc?1:0),Vc="Z"in rc?Ra(sb(rc.y,0,1)).getUTCDay():A(sb(rc.y,0,1)).getDay(),rc.m=0,rc.d="W"in rc?(rc.w+6)%7+7*rc.W-(Vc+5)%7:rc.w+7*rc.U-(Vc+6)%7;return"Z"in rc?(rc.H+=
rc.Z/100|0,rc.M+=rc.Z%100,Ra(rc)):A(rc)}}function oc(Vb,nc,lc,rc){for(var Vc=0,zd=nc.length,pd=lc.length,ld;Vc<zd;){if(rc>=pd)return-1;ld=nc.charCodeAt(Vc++);if(37===ld){if(ld=nc.charAt(Vc++),ld=Cb[ld in Ad?nc.charAt(Vc++):ld],!ld||0>(rc=ld(Vb,lc,rc)))return-1}else if(ld!=lc.charCodeAt(rc++))return-1}return rc}var sc=Db.dateTime,dd=Db.date,vd=Db.time,N=Db.periods,oa=Db.days,$a=Db.shortDays,wb=Db.months,Fb=Db.shortMonths,Kb=ib(N),ec=La(N),Wb=ib(oa),vc=La(oa),Fc=ib($a),va=La($a),Za=ib(wb),pb=La(wb),
Ub=ib(Fb),wc=La(Fb),Cc={a:function(Vb){return $a[Vb.getDay()]},A:function(Vb){return oa[Vb.getDay()]},b:function(Vb){return Fb[Vb.getMonth()]},B:function(Vb){return wb[Vb.getMonth()]},c:null,d:Va,e:Va,f:C,g:c,G:l,H:I,I:x,j:M,L:K,m:R,M:aa,p:function(Vb){return N[+(12<=Vb.getHours())]},q:function(Vb){return 1+~~(Vb.getMonth()/3)},Q:jc,s:Zb,S:da,u:Da,U:Ja,V:fa,w:ca,W,x:null,X:null,y:d,Y:f,Z:m,"%":Mb},Jc={a:function(Vb){return $a[Vb.getUTCDay()]},A:function(Vb){return oa[Vb.getUTCDay()]},b:function(Vb){return Fb[Vb.getUTCMonth()]},
B:function(Vb){return wb[Vb.getUTCMonth()]},c:null,d:q,e:q,f:cb,g:Na,G:Eb,H:w,I:G,j:U,L:wa,m:hb,M:Y,p:function(Vb){return N[+(12<=Vb.getUTCHours())]},q:function(Vb){return 1+~~(Vb.getUTCMonth()/3)},Q:jc,s:Zb,S:ta,u:H,U:Q,V:Ca,w:qb,W:Ya,x:null,X:null,y:ob,Y:Ab,Z:eb,"%":Mb},Cb={a:function(Vb,nc,lc){return(nc=Fc.exec(nc.slice(lc)))?(Vb.w=va.get(nc[0].toLowerCase()),lc+nc[0].length):-1},A:function(Vb,nc,lc){return(nc=Wb.exec(nc.slice(lc)))?(Vb.w=vc.get(nc[0].toLowerCase()),lc+nc[0].length):-1},b:function(Vb,
nc,lc){return(nc=Ub.exec(nc.slice(lc)))?(Vb.m=wc.get(nc[0].toLowerCase()),lc+nc[0].length):-1},B:function(Vb,nc,lc){return(nc=Za.exec(nc.slice(lc)))?(Vb.m=pb.get(nc[0].toLowerCase()),lc+nc[0].length):-1},c:function(Vb,nc,lc){return oc(Vb,sc,nc,lc)},d:za,e:za,f:Ma,g:Ga,G:Ba,H:L,I:L,j:Ta,L:ua,m:Qa,M:ha,p:function(Vb,nc,lc){return(nc=Kb.exec(nc.slice(lc)))?(Vb.p=ec.get(nc[0].toLowerCase()),lc+nc[0].length):-1},q:ra,Q:Aa,s:ab,S:ya,u:Sa,U:xa,V:ma,w:Ia,W:na,x:function(Vb,nc,lc){return oc(Vb,dd,nc,lc)},
X:function(Vb,nc,lc){return oc(Vb,vd,nc,lc)},y:Ga,Y:Ba,Z:la,"%":Pa};Cc.x=ac(dd,Cc);Cc.X=ac(vd,Cc);Cc.c=ac(sc,Cc);Jc.x=ac(dd,Jc);Jc.X=ac(vd,Jc);Jc.c=ac(sc,Jc);return{format:function(Vb){var nc=ac(Vb+="",Cc);nc.toString=function(){return Vb};return nc},parse:function(Vb){var nc=kb(Vb+="",!1);nc.toString=function(){return Vb};return nc},utcFormat:function(Vb){var nc=ac(Vb+="",Jc);nc.toString=function(){return Vb};return nc},utcParse:function(Vb){var nc=kb(Vb+="",!0);nc.toString=function(){return Vb};
return nc}}}function xb(Db,ac,kb){var oc=0>Db?"-":"";Db=(oc?-Db:Db)+"";var sc=Db.length;return oc+(sc<kb?Array(kb-sc+1).join(ac)+Db:Db)}function Gb(Db){return Db.replace(ie,"\\$\x26")}function ib(Db){return new RegExp("^(?:"+Db.map(Gb).join("|")+")","i")}function La(Db){return new Map(Db.map((ac,kb)=>[ac.toLowerCase(),kb]))}function Ia(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+1)))?(Db.w=+ac[0],kb+ac[0].length):-1}function Sa(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+1)))?(Db.u=+ac[0],kb+ac[0].length):
-1}function xa(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.U=+ac[0],kb+ac[0].length):-1}function ma(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.V=+ac[0],kb+ac[0].length):-1}function na(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.W=+ac[0],kb+ac[0].length):-1}function Ba(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+4)))?(Db.y=+ac[0],kb+ac[0].length):-1}function Ga(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.y=+ac[0]+(68<+ac[0]?1900:2E3),kb+ac[0].length):-1}function la(Db,
ac,kb){return(ac=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ac.slice(kb,kb+6)))?(Db.Z=ac[1]?0:-(ac[2]+(ac[3]||"00")),kb+ac[0].length):-1}function ra(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+1)))?(Db.q=3*ac[0]-3,kb+ac[0].length):-1}function Qa(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.m=ac[0]-1,kb+ac[0].length):-1}function za(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.d=+ac[0],kb+ac[0].length):-1}function Ta(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+3)))?(Db.m=0,Db.d=+ac[0],kb+ac[0].length):
-1}function L(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.H=+ac[0],kb+ac[0].length):-1}function ha(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.M=+ac[0],kb+ac[0].length):-1}function ya(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+2)))?(Db.S=+ac[0],kb+ac[0].length):-1}function ua(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+3)))?(Db.L=+ac[0],kb+ac[0].length):-1}function Ma(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb,kb+6)))?(Db.L=Math.floor(ac[0]/1E3),kb+ac[0].length):-1}function Pa(Db,ac,kb){return(Db=
gd.exec(ac.slice(kb,kb+1)))?kb+Db[0].length:-1}function Aa(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb)))?(Db.Q=+ac[0],kb+ac[0].length):-1}function ab(Db,ac,kb){return(ac=Gc.exec(ac.slice(kb)))?(Db.s=+ac[0],kb+ac[0].length):-1}function Va(Db,ac){return xb(Db.getDate(),ac,2)}function I(Db,ac){return xb(Db.getHours(),ac,2)}function x(Db,ac){return xb(Db.getHours()%12||12,ac,2)}function M(Db,ac){return xb(1+r.timeDay.count(r.timeYear(Db),Db),ac,3)}function K(Db,ac){return xb(Db.getMilliseconds(),ac,3)}function C(Db,
ac){return K(Db,ac)+"000"}function R(Db,ac){return xb(Db.getMonth()+1,ac,2)}function aa(Db,ac){return xb(Db.getMinutes(),ac,2)}function da(Db,ac){return xb(Db.getSeconds(),ac,2)}function Da(Db){Db=Db.getDay();return 0===Db?7:Db}function Ja(Db,ac){return xb(r.timeSunday.count(r.timeYear(Db)-1,Db),ac,2)}function J(Db){var ac=Db.getDay();return 4<=ac||0===ac?r.timeThursday(Db):r.timeThursday.ceil(Db)}function fa(Db,ac){Db=J(Db);return xb(r.timeThursday.count(r.timeYear(Db),Db)+(4===r.timeYear(Db).getDay()),
ac,2)}function ca(Db){return Db.getDay()}function W(Db,ac){return xb(r.timeMonday.count(r.timeYear(Db)-1,Db),ac,2)}function d(Db,ac){return xb(Db.getFullYear()%100,ac,2)}function c(Db,ac){Db=J(Db);return xb(Db.getFullYear()%100,ac,2)}function f(Db,ac){return xb(Db.getFullYear()%1E4,ac,4)}function l(Db,ac){var kb=Db.getDay();Db=4<=kb||0===kb?r.timeThursday(Db):r.timeThursday.ceil(Db);return xb(Db.getFullYear()%1E4,ac,4)}function m(Db){Db=Db.getTimezoneOffset();return(0<Db?"-":(Db*=-1,"+"))+xb(Db/60|
0,"0",2)+xb(Db%60,"0",2)}function q(Db,ac){return xb(Db.getUTCDate(),ac,2)}function w(Db,ac){return xb(Db.getUTCHours(),ac,2)}function G(Db,ac){return xb(Db.getUTCHours()%12||12,ac,2)}function U(Db,ac){return xb(1+r.utcDay.count(r.utcYear(Db),Db),ac,3)}function wa(Db,ac){return xb(Db.getUTCMilliseconds(),ac,3)}function cb(Db,ac){return wa(Db,ac)+"000"}function hb(Db,ac){return xb(Db.getUTCMonth()+1,ac,2)}function Y(Db,ac){return xb(Db.getUTCMinutes(),ac,2)}function ta(Db,ac){return xb(Db.getUTCSeconds(),
ac,2)}function H(Db){Db=Db.getUTCDay();return 0===Db?7:Db}function Q(Db,ac){return xb(r.utcSunday.count(r.utcYear(Db)-1,Db),ac,2)}function ja(Db){var ac=Db.getUTCDay();return 4<=ac||0===ac?r.utcThursday(Db):r.utcThursday.ceil(Db)}function Ca(Db,ac){Db=ja(Db);return xb(r.utcThursday.count(r.utcYear(Db),Db)+(4===r.utcYear(Db).getUTCDay()),ac,2)}function qb(Db){return Db.getUTCDay()}function Ya(Db,ac){return xb(r.utcMonday.count(r.utcYear(Db)-1,Db),ac,2)}function ob(Db,ac){return xb(Db.getUTCFullYear()%
100,ac,2)}function Na(Db,ac){Db=ja(Db);return xb(Db.getUTCFullYear()%100,ac,2)}function Ab(Db,ac){return xb(Db.getUTCFullYear()%1E4,ac,4)}function Eb(Db,ac){var kb=Db.getUTCDay();Db=4<=kb||0===kb?r.utcThursday(Db):r.utcThursday.ceil(Db);return xb(Db.getUTCFullYear()%1E4,ac,4)}function eb(){return"+0000"}function Mb(){return"%"}function jc(Db){return+Db}function Zb(Db){return Math.floor(+Db/1E3)}function Hc(Db){Mc=bb(Db);h.timeFormat=Mc.format;h.timeParse=Mc.parse;h.utcFormat=Mc.utcFormat;h.utcParse=
Mc.utcParse;return Mc}function zc(Db){return Db.toISOString()}function ed(Db){Db=new Date(Db);return isNaN(Db)?null:Db}var Ad={"-":"",_:" ",0:"0"},Gc=/^\s*\d+/,gd=/^%/,ie=/[\\^$*+?|[\]().{}]/g,Mc;Hc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var xd=Date.prototype.toISOString?zc:h.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Rd=+new Date("2000-01-01T00:00:00.000Z")?ed:h.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");h.isoFormat=xd;h.isoParse=Rd;h.timeFormatDefaultLocale=Hc;h.timeFormatLocale=bb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[8]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(3),zb(4),zb(6),zb(2),zb(7)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.d3,h.d3,h.vega,h.vega,h.d3))})(this,function(h,r,A,Ra,sb,bb){function xb(za){const Ta={};return L=>Ta[L]||(Ta[L]=za(L))}function Gb(za,Ta){return L=>{L=za(L);const ha=L.indexOf(Ta);
if(0>ha)return L;a:{var ya=L.lastIndexOf("e");if(!(0<ya)){for(ya=L.length;--ya>ha;){var ua=L.charCodeAt(ya);if(48<=ua&&57>=ua){ya+=1;break a}}ya=void 0}}for(ua=ya<L.length?L.slice(ya):"";--ya>ha;)if("0"!==L[ya]){++ya;break}return L.slice(0,ya)+ua}}function ib(za){const Ta=xb(za.format),L=za.formatPrefix;return{format:Ta,formatPrefix:L,formatFloat(ha){ha=A.formatSpecifier(ha||",");if(null==ha.precision){ha.precision=12;switch(ha.type){case "%":ha.precision-=2;break;case "e":--ha.precision}return Gb(Ta(ha),
Ta(".1f")(1)[1])}return Ta(ha)},formatSpan(ha,ya,ua,Ma){Ma=A.formatSpecifier(null==Ma?",f":Ma);ua=r.tickStep(ha,ya,ua);ha=Math.max(Math.abs(ha),Math.abs(ya));if(null==Ma.precision)switch(Ma.type){case "s":return isNaN(ya=A.precisionPrefix(ua,ha))||(Ma.precision=ya),L(Ma,ha);case "":case "e":case "g":case "p":case "r":isNaN(ya=A.precisionRound(ua,ha))||(Ma.precision=ya-("e"===Ma.type));break;case "f":case "%":isNaN(ya=A.precisionFixed(ua))||(Ma.precision=ya-2*("%"===Ma.type))}return Ta(Ma)}}}function La(){return ra=
ib({format:A.format,formatPrefix:A.formatPrefix})}function Ia(za){return ib(A.formatLocale(za))}function Sa(za){return arguments.length?ra=Ia(za):ra}function xa(za,Ta,L){L=L||{};sb.isObject(L)||sb.error(`Invalid time multi-format specifier: ${L}`);const ha=Ta(Ra.SECONDS),ya=Ta(Ra.MINUTES),ua=Ta(Ra.HOURS),Ma=Ta(Ra.DATE),Pa=Ta(Ra.WEEK),Aa=Ta(Ra.MONTH),ab=Ta(Ra.QUARTER),Va=Ta(Ra.YEAR),I=za(L[Ra.MILLISECONDS]||".%L"),x=za(L[Ra.SECONDS]||":%S"),M=za(L[Ra.MINUTES]||"%I:%M"),K=za(L[Ra.HOURS]||"%I %p"),C=
za(L[Ra.DATE]||L[Ra.DAY]||"%a %d"),R=za(L[Ra.WEEK]||"%b %d"),aa=za(L[Ra.MONTH]||"%B"),da=za(L[Ra.QUARTER]||"%B"),Da=za(L[Ra.YEAR]||"%Y");return Ja=>(ha(Ja)<Ja?I:ya(Ja)<Ja?x:ua(Ja)<Ja?M:Ma(Ja)<Ja?K:Aa(Ja)<Ja?Pa(Ja)<Ja?C:R:Va(Ja)<Ja?ab(Ja)<Ja?aa:da:Da)(Ja)}function ma(za){const Ta=xb(za.format),L=xb(za.utcFormat);return{timeFormat:ha=>sb.isString(ha)?Ta(ha):xa(Ta,Ra.timeInterval,ha),utcFormat:ha=>sb.isString(ha)?L(ha):xa(L,Ra.utcInterval,ha),timeParse:xb(za.parse),utcParse:xb(za.utcParse)}}function na(){return Qa=
ma({format:bb.timeFormat,parse:bb.timeParse,utcFormat:bb.utcFormat,utcParse:bb.utcParse})}function Ba(za){return ma(bb.timeFormatLocale(za))}function Ga(za){return arguments.length?Qa=Ba(za):Qa}function la(za,Ta){var L=arguments.length;L&&2!==L&&sb.error("defaultLocale expects either zero or two arguments.");if(L){L=Sa(za);var ha=Ga(Ta);L=sb.extend({},L,ha)}else L=Sa(),ha=Ga(),L=sb.extend({},L,ha);return L}let ra;La();let Qa;na();h.defaultLocale=la;h.locale=function(za,Ta){za=za?Ia(za):Sa();Ta=Ta?
Ba(Ta):Ga();return sb.extend({},za,Ta)};h.numberFormatDefaultLocale=Sa;h.numberFormatLocale=Ia;h.resetDefaultLocale=function(){La();na();return la()};h.resetNumberFormatDefaultLocale=La;h.resetTimeFormatDefaultLocale=na;h.timeFormatDefaultLocale=Ga;h.timeFormatLocale=Ba;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[9]=function(Nb,zb,mc,ub){function h(sb){var bb=sb.length;if(0<bb%4)throw Error("Invalid string. Length must be a multiple of 4");sb=sb.indexOf("\x3d");-1===sb&&(sb=bb);return[sb,sb===bb?0:4-sb%4]}ub.byteLength=function(sb){sb=h(sb);var bb=sb[1];return 3*(sb[0]+bb)/4-bb};ub.toByteArray=function(sb){var bb=h(sb);var xb=bb[0];bb=bb[1];var Gb=new Ra(3*(xb+bb)/4-bb),ib=0,La=0<bb?xb-4:xb,Ia;for(Ia=0;Ia<La;Ia+=4)xb=A[sb.charCodeAt(Ia)]<<18|A[sb.charCodeAt(Ia+1)]<<12|A[sb.charCodeAt(Ia+2)]<<
6|A[sb.charCodeAt(Ia+3)],Gb[ib++]=xb>>16&255,Gb[ib++]=xb>>8&255,Gb[ib++]=xb&255;2===bb&&(xb=A[sb.charCodeAt(Ia)]<<2|A[sb.charCodeAt(Ia+1)]>>4,Gb[ib++]=xb&255);1===bb&&(xb=A[sb.charCodeAt(Ia)]<<10|A[sb.charCodeAt(Ia+1)]<<4|A[sb.charCodeAt(Ia+2)]>>2,Gb[ib++]=xb>>8&255,Gb[ib++]=xb&255);return Gb};ub.fromByteArray=function(sb){for(var bb=sb.length,xb=bb%3,Gb=[],ib=0,La=bb-xb;ib<La;ib+=16383){for(var Ia=Gb,Sa=Ia.push,xa,ma=sb,na=ib+16383>La?La:ib+16383,Ba=[],Ga=ib;Ga<na;Ga+=3)xa=(ma[Ga]<<16&16711680)+
(ma[Ga+1]<<8&65280)+(ma[Ga+2]&255),Ba.push(r[xa>>18&63]+r[xa>>12&63]+r[xa>>6&63]+r[xa&63]);xa=Ba.join("");Sa.call(Ia,xa)}1===xb?(sb=sb[bb-1],Gb.push(r[sb>>2]+r[sb<<4&63]+"\x3d\x3d")):2===xb&&(sb=(sb[bb-2]<<8)+sb[bb-1],Gb.push(r[sb>>10]+r[sb>>4&63]+r[sb<<2&63]+"\x3d"));return Gb.join("")};var r=[],A=[],Ra="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Nb=0;64>Nb;++Nb)r[Nb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Nb],A["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Nb)]=
Nb;A[45]=62;A[95]=63};
shadow$provide[10]=function(Nb,zb,mc,ub){ub.read=function(h,r,A,Ra,sb){var bb=8*sb-Ra-1;var xb=(1<<bb)-1,Gb=xb>>1,ib=-7;sb=A?sb-1:0;var La=A?-1:1,Ia=h[r+sb];sb+=La;A=Ia&(1<<-ib)-1;Ia>>=-ib;for(ib+=bb;0<ib;A=256*A+h[r+sb],sb+=La,ib-=8);bb=A&(1<<-ib)-1;A>>=-ib;for(ib+=Ra;0<ib;bb=256*bb+h[r+sb],sb+=La,ib-=8);if(0===A)A=1-Gb;else{if(A===xb)return bb?NaN:Infinity*(Ia?-1:1);bb+=Math.pow(2,Ra);A-=Gb}return(Ia?-1:1)*bb*Math.pow(2,A-Ra)};ub.write=function(h,r,A,Ra,sb,bb){var xb,Gb=8*bb-sb-1,ib=(1<<Gb)-1,La=
ib>>1,Ia=23===sb?Math.pow(2,-24)-Math.pow(2,-77):0;bb=Ra?0:bb-1;var Sa=Ra?1:-1,xa=0>r||0===r&&0>1/r?1:0;r=Math.abs(r);isNaN(r)||Infinity===r?(r=isNaN(r)?1:0,Ra=ib):(Ra=Math.floor(Math.log(r)/Math.LN2),1>r*(xb=Math.pow(2,-Ra))&&(Ra--,xb*=2),r=1<=Ra+La?r+Ia/xb:r+Ia*Math.pow(2,1-La),2<=r*xb&&(Ra++,xb/=2),Ra+La>=ib?(r=0,Ra=ib):1<=Ra+La?(r=(r*xb-1)*Math.pow(2,sb),Ra+=La):(r=r*Math.pow(2,La-1)*Math.pow(2,sb),Ra=0));for(;8<=sb;h[A+bb]=r&255,bb+=Sa,r/=256,sb-=8);Ra=Ra<<sb|r;for(Gb+=sb;0<Gb;h[A+bb]=Ra&255,
bb+=Sa,Ra/=256,Gb-=8);h[A+bb-Sa]|=128*xa}};
shadow$provide[11]=function(Nb,zb,mc,ub){var h={}.toString;mc.exports=Array.isArray||function(r){return"[object Array]"==h.call(r)}};
shadow$provide[12]=function(Nb,zb,mc,ub){function h(){try{var I=new Uint8Array(1);I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===I.foo()&&"function"===typeof I.subarray&&0===I.subarray(1,1).byteLength}catch(x){return!1}}function r(I,x){if((A.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<x)throw new RangeError("Invalid typed array length");A.TYPED_ARRAY_SUPPORT?(I=new Uint8Array(x),I.__proto__=A.prototype):(null===I&&(I=new A(x)),I.length=x);return I}function A(I,x,
M){if(!(A.TYPED_ARRAY_SUPPORT||this instanceof A))return new A(I,x,M);if("number"===typeof I){if("string"===typeof x)throw Error("If encoding is specified then the first argument must be a string");return bb(this,I)}return Ra(this,I,x,M)}function Ra(I,x,M,K){if("number"===typeof x)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&x instanceof ArrayBuffer){x.byteLength;if(0>M||x.byteLength<M)throw new RangeError("'offset' is out of bounds");if(x.byteLength<
M+(K||0))throw new RangeError("'length' is out of bounds");x=void 0===M&&void 0===K?new Uint8Array(x):void 0===K?new Uint8Array(x,M):new Uint8Array(x,M,K);A.TYPED_ARRAY_SUPPORT?(I=x,I.__proto__=A.prototype):I=xb(I,x);return I}if("string"===typeof x){K=I;I=M;if("string"!==typeof I||""===I)I="utf8";if(!A.isEncoding(I))throw new TypeError('"encoding" must be a valid string encoding');M=La(x,I)|0;K=r(K,M);x=K.write(x,I);x!==M&&(K=K.slice(0,x));return K}return Gb(I,x)}function sb(I){if("number"!==typeof I)throw new TypeError('"size" argument must be a number');
if(0>I)throw new RangeError('"size" argument must not be negative');}function bb(I,x){sb(x);I=r(I,0>x?0:ib(x)|0);if(!A.TYPED_ARRAY_SUPPORT)for(var M=0;M<x;++M)I[M]=0;return I}function xb(I,x){var M=0>x.length?0:ib(x.length)|0;I=r(I,M);for(var K=0;K<M;K+=1)I[K]=x[K]&255;return I}function Gb(I,x){if(A.isBuffer(x)){var M=ib(x.length)|0;I=r(I,M);if(0===I.length)return I;x.copy(I,0,0,M);return I}if(x){if("undefined"!==typeof ArrayBuffer&&x.buffer instanceof ArrayBuffer||"length"in x)return(M="number"!==
typeof x.length)||(M=x.length,M=M!==M),M?r(I,0):xb(I,x);if("Buffer"===x.type&&Aa(x.data))return xb(I,x.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function ib(I){if(I>=(A.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(A.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return I|0}function La(I,x){if(A.isBuffer(I))return I.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(I)||I instanceof ArrayBuffer))return I.byteLength;"string"!==typeof I&&(I=""+I);var M=I.length;if(0===M)return 0;for(var K=!1;;)switch(x){case "ascii":case "latin1":case "binary":return M;case "utf8":case "utf-8":case void 0:return L(I).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*M;case "hex":return M>>>1;case "base64":return ya(I).length;default:if(K)return L(I).length;x=(""+x).toLowerCase();
K=!0}}function Ia(I,x,M){var K=!1;if(void 0===x||0>x)x=0;if(x>this.length)return"";if(void 0===M||M>this.length)M=this.length;if(0>=M)return"";M>>>=0;x>>>=0;if(M<=x)return"";for(I||(I="utf8");;)switch(I){case "hex":I=x;x=M;M=this.length;if(!I||0>I)I=0;if(!x||0>x||x>M)x=M;K="";for(M=I;M<x;++M)I=K,K=this[M],K=16>K?"0"+K.toString(16):K.toString(16),K=I+K;return K;case "utf8":case "utf-8":return na(this,x,M);case "ascii":I="";for(M=Math.min(this.length,M);x<M;++x)I+=String.fromCharCode(this[x]&127);return I;
case "latin1":case "binary":I="";for(M=Math.min(this.length,M);x<M;++x)I+=String.fromCharCode(this[x]);return I;case "base64":return x=0===x&&M===this.length?Ma.fromByteArray(this):Ma.fromByteArray(this.slice(x,M)),x;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":x=this.slice(x,M);M="";for(I=0;I<x.length;I+=2)M+=String.fromCharCode(x[I]+256*x[I+1]);return M;default:if(K)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase();K=!0}}function Sa(I,x,M){var K=I[x];I[x]=I[M];I[M]=K}
function xa(I,x,M,K,C){if(0===I.length)return-1;"string"===typeof M?(K=M,M=0):2147483647<M?M=2147483647:-2147483648>M&&(M=-2147483648);M=+M;isNaN(M)&&(M=C?0:I.length-1);0>M&&(M=I.length+M);if(M>=I.length){if(C)return-1;M=I.length-1}else if(0>M)if(C)M=0;else return-1;"string"===typeof x&&(x=A.from(x,K));if(A.isBuffer(x))return 0===x.length?-1:ma(I,x,M,K,C);if("number"===typeof x)return x&=255,A.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?C?Uint8Array.prototype.indexOf.call(I,
x,M):Uint8Array.prototype.lastIndexOf.call(I,x,M):ma(I,[x],M,K,C);throw new TypeError("val must be string, number or Buffer");}function ma(I,x,M,K,C){function R(Ja,J){return 1===aa?Ja[J]:Ja.readUInt16BE(J*aa)}var aa=1,da=I.length,Da=x.length;if(void 0!==K&&(K=String(K).toLowerCase(),"ucs2"===K||"ucs-2"===K||"utf16le"===K||"utf-16le"===K)){if(2>I.length||2>x.length)return-1;aa=2;da/=2;Da/=2;M/=2}if(C)for(K=-1;M<da;M++)if(R(I,M)===R(x,-1===K?0:M-K)){if(-1===K&&(K=M),M-K+1===Da)return K*aa}else-1!==
K&&(M-=M-K),K=-1;else for(M+Da>da&&(M=da-Da);0<=M;M--){da=!0;for(K=0;K<Da;K++)if(R(I,M+K)!==R(x,K)){da=!1;break}if(da)return M}return-1}function na(I,x,M){M=Math.min(I.length,M);for(var K=[];x<M;){var C=I[x],R=null,aa=239<C?4:223<C?3:191<C?2:1;if(x+aa<=M)switch(aa){case 1:128>C&&(R=C);break;case 2:var da=I[x+1];128===(da&192)&&(C=(C&31)<<6|da&63,127<C&&(R=C));break;case 3:da=I[x+1];var Da=I[x+2];128===(da&192)&&128===(Da&192)&&(C=(C&15)<<12|(da&63)<<6|Da&63,2047<C&&(55296>C||57343<C)&&(R=C));break;
case 4:da=I[x+1];Da=I[x+2];var Ja=I[x+3];128===(da&192)&&128===(Da&192)&&128===(Ja&192)&&(C=(C&15)<<18|(da&63)<<12|(Da&63)<<6|Ja&63,65535<C&&1114112>C&&(R=C))}null===R?(R=65533,aa=1):65535<R&&(R-=65536,K.push(R>>>10&1023|55296),R=56320|R&1023);K.push(R);x+=aa}I=K.length;if(I<=ab)K=String.fromCharCode.apply(String,K);else{M="";for(x=0;x<I;)M+=String.fromCharCode.apply(String,K.slice(x,x+=ab));K=M}return K}function Ba(I,x,M){if(0!==I%1||0>I)throw new RangeError("offset is not uint");if(I+x>M)throw new RangeError("Trying to access beyond buffer length");
}function Ga(I,x,M,K,C,R){if(!A.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>C||x<R)throw new RangeError('"value" argument is out of bounds');if(M+K>I.length)throw new RangeError("Index out of range");}function la(I,x,M,K){0>x&&(x=65535+x+1);for(var C=0,R=Math.min(I.length-M,2);C<R;++C)I[M+C]=(x&255<<8*(K?C:1-C))>>>8*(K?C:1-C)}function ra(I,x,M,K){0>x&&(x=4294967295+x+1);for(var C=0,R=Math.min(I.length-M,4);C<R;++C)I[M+C]=x>>>8*(K?C:3-C)&255}function Qa(I,x,
M,K,C,R){if(M+K>I.length)throw new RangeError("Index out of range");if(0>M)throw new RangeError("Index out of range");}function za(I,x,M,K,C){C||Qa(I,x,M,4,3.4028234663852886E38,-3.4028234663852886E38);Pa.write(I,x,M,K,23,4);return M+4}function Ta(I,x,M,K,C){C||Qa(I,x,M,8,1.7976931348623157E308,-1.7976931348623157E308);Pa.write(I,x,M,K,52,8);return M+8}function L(I,x){x=x||Infinity;for(var M,K=I.length,C=null,R=[],aa=0;aa<K;++aa){M=I.charCodeAt(aa);if(55295<M&&57344>M){if(!C){if(56319<M){-1<(x-=3)&&
R.push(239,191,189);continue}else if(aa+1===K){-1<(x-=3)&&R.push(239,191,189);continue}C=M;continue}if(56320>M){-1<(x-=3)&&R.push(239,191,189);C=M;continue}M=(C-55296<<10|M-56320)+65536}else C&&-1<(x-=3)&&R.push(239,191,189);C=null;if(128>M){if(0>--x)break;R.push(M)}else if(2048>M){if(0>(x-=2))break;R.push(M>>6|192,M&63|128)}else if(65536>M){if(0>(x-=3))break;R.push(M>>12|224,M>>6&63|128,M&63|128)}else if(1114112>M){if(0>(x-=4))break;R.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw Error("Invalid code point");
}return R}function ha(I){for(var x=[],M=0;M<I.length;++M)x.push(I.charCodeAt(M)&255);return x}function ya(I){var x=Ma,M=x.toByteArray;I=(I.trim?I.trim():I.replace(/^\s+|\s+$/g,"")).replace(Va,"");if(2>I.length)I="";else for(;0!==I.length%4;)I+="\x3d";return M.call(x,I)}function ua(I,x,M,K){for(var C=0;C<K&&!(C+M>=x.length||C>=I.length);++C)x[C+M]=I[C];return C}var Ma=zb(9),Pa=zb(10),Aa=zb(11);ub.Buffer=A;ub.SlowBuffer=function(I){+I!=I&&(I=0);return A.alloc(+I)};ub.INSPECT_MAX_BYTES=50;A.TYPED_ARRAY_SUPPORT=
void 0!==Nb.TYPED_ARRAY_SUPPORT?Nb.TYPED_ARRAY_SUPPORT:h();ub.kMaxLength=A.TYPED_ARRAY_SUPPORT?2147483647:1073741823;A.poolSize=8192;A._augment=function(I){I.__proto__=A.prototype;return I};A.from=function(I,x,M){return Ra(null,I,x,M)};A.TYPED_ARRAY_SUPPORT&&(A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0}));A.alloc=function(I,x,M){sb(I);I=0>=I?
r(null,I):void 0!==x?"string"===typeof M?r(null,I).fill(x,M):r(null,I).fill(x):r(null,I);return I};A.allocUnsafe=function(I){return bb(null,I)};A.allocUnsafeSlow=function(I){return bb(null,I)};A.isBuffer=function(I){return!(null==I||!I._isBuffer)};A.compare=function(I,x){if(!A.isBuffer(I)||!A.isBuffer(x))throw new TypeError("Arguments must be Buffers");if(I===x)return 0;for(var M=I.length,K=x.length,C=0,R=Math.min(M,K);C<R;++C)if(I[C]!==x[C]){M=I[C];K=x[C];break}return M<K?-1:K<M?1:0};A.isEncoding=
function(I){switch(String(I).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};A.concat=function(I,x){if(!Aa(I))throw new TypeError('"list" argument must be an Array of Buffers');if(0===I.length)return A.alloc(0);var M;if(void 0===x)for(M=x=0;M<I.length;++M)x+=I[M].length;x=A.allocUnsafe(x);var K=0;for(M=0;M<I.length;++M){var C=I[M];if(!A.isBuffer(C))throw new TypeError('"list" argument must be an Array of Buffers');
C.copy(x,K);K+=C.length}return x};A.byteLength=La;A.prototype._isBuffer=!0;A.prototype.swap16=function(){var I=this.length;if(0!==I%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<I;x+=2)Sa(this,x,x+1);return this};A.prototype.swap32=function(){var I=this.length;if(0!==I%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<I;x+=4)Sa(this,x,x+3),Sa(this,x+1,x+2);return this};A.prototype.swap64=function(){var I=this.length;if(0!==I%8)throw new RangeError("Buffer size must be a multiple of 64-bits");
for(var x=0;x<I;x+=8)Sa(this,x,x+7),Sa(this,x+1,x+6),Sa(this,x+2,x+5),Sa(this,x+3,x+4);return this};A.prototype.toString=function(){var I=this.length|0;return 0===I?"":0===arguments.length?na(this,0,I):Ia.apply(this,arguments)};A.prototype.equals=function(I){if(!A.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:0===A.compare(this,I)};A.prototype.inspect=function(){var I="",x=ub.INSPECT_MAX_BYTES;0<this.length&&(I=this.toString("hex",0,x).match(/.{2}/g).join(" "),this.length>
x&&(I+=" ... "));return"\x3cBuffer "+I+"\x3e"};A.prototype.compare=function(I,x,M,K,C){if(!A.isBuffer(I))throw new TypeError("Argument must be a Buffer");void 0===x&&(x=0);void 0===M&&(M=I?I.length:0);void 0===K&&(K=0);void 0===C&&(C=this.length);if(0>x||M>I.length||0>K||C>this.length)throw new RangeError("out of range index");if(K>=C&&x>=M)return 0;if(K>=C)return-1;if(x>=M)return 1;x>>>=0;M>>>=0;K>>>=0;C>>>=0;if(this===I)return 0;var R=C-K,aa=M-x,da=Math.min(R,aa);K=this.slice(K,C);I=I.slice(x,M);
for(x=0;x<da;++x)if(K[x]!==I[x]){R=K[x];aa=I[x];break}return R<aa?-1:aa<R?1:0};A.prototype.includes=function(I,x,M){return-1!==this.indexOf(I,x,M)};A.prototype.indexOf=function(I,x,M){return xa(this,I,x,M,!0)};A.prototype.lastIndexOf=function(I,x,M){return xa(this,I,x,M,!1)};A.prototype.write=function(I,x,M,K){if(void 0===x)K="utf8",M=this.length,x=0;else if(void 0===M&&"string"===typeof x)K=x,M=this.length,x=0;else if(isFinite(x))x|=0,isFinite(M)?(M|=0,void 0===K&&(K="utf8")):(K=M,M=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
var C=this.length-x;if(void 0===M||M>C)M=C;if(0<I.length&&(0>M||0>x)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");for(C=!1;;)switch(K){case "hex":a:{x=Number(x)||0;K=this.length-x;M?(M=Number(M),M>K&&(M=K)):M=K;K=I.length;if(0!==K%2)throw new TypeError("Invalid hex string");M>K/2&&(M=K/2);for(K=0;K<M;++K){C=parseInt(I.substr(2*K,2),16);if(isNaN(C)){I=K;break a}this[x+K]=C}I=K}return I;case "utf8":case "utf-8":return ua(L(I,this.length-x),this,x,M);case "ascii":return ua(ha(I),
this,x,M);case "latin1":case "binary":return ua(ha(I),this,x,M);case "base64":return ua(ya(I),this,x,M);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":K=I;C=this.length-x;for(var R=[],aa=0;aa<K.length&&!(0>(C-=2));++aa){var da=K.charCodeAt(aa);I=da>>8;da%=256;R.push(da);R.push(I)}return ua(R,this,x,M);default:if(C)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase();C=!0}};A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};
var ab=4096;A.prototype.slice=function(I,x){var M=this.length;I=~~I;x=void 0===x?M:~~x;0>I?(I+=M,0>I&&(I=0)):I>M&&(I=M);0>x?(x+=M,0>x&&(x=0)):x>M&&(x=M);x<I&&(x=I);if(A.TYPED_ARRAY_SUPPORT)x=this.subarray(I,x),x.__proto__=A.prototype;else{M=x-I;x=new A(M,void 0);for(var K=0;K<M;++K)x[K]=this[K+I]}return x};A.prototype.readUIntLE=function(I,x,M){I|=0;x|=0;M||Ba(I,x,this.length);M=this[I];for(var K=1,C=0;++C<x&&(K*=256);)M+=this[I+C]*K;return M};A.prototype.readUIntBE=function(I,x,M){I|=0;x|=0;M||Ba(I,
x,this.length);M=this[I+--x];for(var K=1;0<x&&(K*=256);)M+=this[I+--x]*K;return M};A.prototype.readUInt8=function(I,x){x||Ba(I,1,this.length);return this[I]};A.prototype.readUInt16LE=function(I,x){x||Ba(I,2,this.length);return this[I]|this[I+1]<<8};A.prototype.readUInt16BE=function(I,x){x||Ba(I,2,this.length);return this[I]<<8|this[I+1]};A.prototype.readUInt32LE=function(I,x){x||Ba(I,4,this.length);return(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]};A.prototype.readUInt32BE=function(I,
x){x||Ba(I,4,this.length);return 16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])};A.prototype.readIntLE=function(I,x,M){I|=0;x|=0;M||Ba(I,x,this.length);M=this[I];for(var K=1,C=0;++C<x&&(K*=256);)M+=this[I+C]*K;M>=128*K&&(M-=Math.pow(2,8*x));return M};A.prototype.readIntBE=function(I,x,M){I|=0;x|=0;M||Ba(I,x,this.length);M=x;for(var K=1,C=this[I+--M];0<M&&(K*=256);)C+=this[I+--M]*K;C>=128*K&&(C-=Math.pow(2,8*x));return C};A.prototype.readInt8=function(I,x){x||Ba(I,1,this.length);return this[I]&
128?-1*(255-this[I]+1):this[I]};A.prototype.readInt16LE=function(I,x){x||Ba(I,2,this.length);I=this[I]|this[I+1]<<8;return I&32768?I|4294901760:I};A.prototype.readInt16BE=function(I,x){x||Ba(I,2,this.length);I=this[I+1]|this[I]<<8;return I&32768?I|4294901760:I};A.prototype.readInt32LE=function(I,x){x||Ba(I,4,this.length);return this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24};A.prototype.readInt32BE=function(I,x){x||Ba(I,4,this.length);return this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]};A.prototype.readFloatLE=
function(I,x){x||Ba(I,4,this.length);return Pa.read(this,I,!0,23,4)};A.prototype.readFloatBE=function(I,x){x||Ba(I,4,this.length);return Pa.read(this,I,!1,23,4)};A.prototype.readDoubleLE=function(I,x){x||Ba(I,8,this.length);return Pa.read(this,I,!0,52,8)};A.prototype.readDoubleBE=function(I,x){x||Ba(I,8,this.length);return Pa.read(this,I,!1,52,8)};A.prototype.writeUIntLE=function(I,x,M,K){I=+I;x|=0;M|=0;K||Ga(this,I,x,M,Math.pow(2,8*M)-1,0);K=1;var C=0;for(this[x]=I&255;++C<M&&(K*=256);)this[x+C]=
I/K&255;return x+M};A.prototype.writeUIntBE=function(I,x,M,K){I=+I;x|=0;M|=0;K||Ga(this,I,x,M,Math.pow(2,8*M)-1,0);K=M-1;var C=1;for(this[x+K]=I&255;0<=--K&&(C*=256);)this[x+K]=I/C&255;return x+M};A.prototype.writeUInt8=function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,1,255,0);A.TYPED_ARRAY_SUPPORT||(I=Math.floor(I));this[x]=I&255;return x+1};A.prototype.writeUInt16LE=function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,2,65535,0);A.TYPED_ARRAY_SUPPORT?(this[x]=I&255,this[x+1]=I>>>8):la(this,I,x,!0);return x+2};A.prototype.writeUInt16BE=
function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,2,65535,0);A.TYPED_ARRAY_SUPPORT?(this[x]=I>>>8,this[x+1]=I&255):la(this,I,x,!1);return x+2};A.prototype.writeUInt32LE=function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,4,4294967295,0);A.TYPED_ARRAY_SUPPORT?(this[x+3]=I>>>24,this[x+2]=I>>>16,this[x+1]=I>>>8,this[x]=I&255):ra(this,I,x,!0);return x+4};A.prototype.writeUInt32BE=function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,4,4294967295,0);A.TYPED_ARRAY_SUPPORT?(this[x]=I>>>24,this[x+1]=I>>>16,this[x+2]=I>>>8,this[x+3]=I&255):
ra(this,I,x,!1);return x+4};A.prototype.writeIntLE=function(I,x,M,K){I=+I;x|=0;K||(K=Math.pow(2,8*M-1),Ga(this,I,x,M,K-1,-K));K=0;var C=1,R=0;for(this[x]=I&255;++K<M&&(C*=256);)0>I&&0===R&&0!==this[x+K-1]&&(R=1),this[x+K]=(I/C>>0)-R&255;return x+M};A.prototype.writeIntBE=function(I,x,M,K){I=+I;x|=0;K||(K=Math.pow(2,8*M-1),Ga(this,I,x,M,K-1,-K));K=M-1;var C=1,R=0;for(this[x+K]=I&255;0<=--K&&(C*=256);)0>I&&0===R&&0!==this[x+K+1]&&(R=1),this[x+K]=(I/C>>0)-R&255;return x+M};A.prototype.writeInt8=function(I,
x,M){I=+I;x|=0;M||Ga(this,I,x,1,127,-128);A.TYPED_ARRAY_SUPPORT||(I=Math.floor(I));0>I&&(I=255+I+1);this[x]=I&255;return x+1};A.prototype.writeInt16LE=function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,2,32767,-32768);A.TYPED_ARRAY_SUPPORT?(this[x]=I&255,this[x+1]=I>>>8):la(this,I,x,!0);return x+2};A.prototype.writeInt16BE=function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,2,32767,-32768);A.TYPED_ARRAY_SUPPORT?(this[x]=I>>>8,this[x+1]=I&255):la(this,I,x,!1);return x+2};A.prototype.writeInt32LE=function(I,x,M){I=+I;x|=
0;M||Ga(this,I,x,4,2147483647,-2147483648);A.TYPED_ARRAY_SUPPORT?(this[x]=I&255,this[x+1]=I>>>8,this[x+2]=I>>>16,this[x+3]=I>>>24):ra(this,I,x,!0);return x+4};A.prototype.writeInt32BE=function(I,x,M){I=+I;x|=0;M||Ga(this,I,x,4,2147483647,-2147483648);0>I&&(I=4294967295+I+1);A.TYPED_ARRAY_SUPPORT?(this[x]=I>>>24,this[x+1]=I>>>16,this[x+2]=I>>>8,this[x+3]=I&255):ra(this,I,x,!1);return x+4};A.prototype.writeFloatLE=function(I,x,M){return za(this,I,x,!0,M)};A.prototype.writeFloatBE=function(I,x,M){return za(this,
I,x,!1,M)};A.prototype.writeDoubleLE=function(I,x,M){return Ta(this,I,x,!0,M)};A.prototype.writeDoubleBE=function(I,x,M){return Ta(this,I,x,!1,M)};A.prototype.copy=function(I,x,M,K){M||(M=0);K||0===K||(K=this.length);x>=I.length&&(x=I.length);x||(x=0);0<K&&K<M&&(K=M);if(K===M||0===I.length||0===this.length)return 0;if(0>x)throw new RangeError("targetStart out of bounds");if(0>M||M>=this.length)throw new RangeError("sourceStart out of bounds");if(0>K)throw new RangeError("sourceEnd out of bounds");
K>this.length&&(K=this.length);I.length-x<K-M&&(K=I.length-x+M);var C=K-M;if(this===I&&M<x&&x<K)for(K=C-1;0<=K;--K)I[K+x]=this[K+M];else if(1E3>C||!A.TYPED_ARRAY_SUPPORT)for(K=0;K<C;++K)I[K+x]=this[K+M];else Uint8Array.prototype.set.call(I,this.subarray(M,M+C),x);return C};A.prototype.fill=function(I,x,M,K){if("string"===typeof I){"string"===typeof x?(K=x,x=0,M=this.length):"string"===typeof M&&(K=M,M=this.length);if(1===I.length){var C=I.charCodeAt(0);256>C&&(I=C)}if(void 0!==K&&"string"!==typeof K)throw new TypeError("encoding must be a string");
if("string"===typeof K&&!A.isEncoding(K))throw new TypeError("Unknown encoding: "+K);}else"number"===typeof I&&(I&=255);if(0>x||this.length<x||this.length<M)throw new RangeError("Out of range index");if(M<=x)return this;x>>>=0;M=void 0===M?this.length:M>>>0;I||(I=0);if("number"===typeof I)for(K=x;K<M;++K)this[K]=I;else for(I=A.isBuffer(I)?I:L((new A(I,K)).toString()),C=I.length,K=0;K<M-x;++K)this[K+x]=I[K%C];return this};var Va=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[13]=function(Nb,zb,mc,ub){var h=zb(12).Buffer;!function(r,A){"object"==typeof ub&&"undefined"!=typeof mc?A(ub,zb(2),zb(8)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],A):A((r="undefined"!=typeof globalThis?globalThis:r||self).vega={},r.vega,r.vega)}(this,function(r,A,Ra){function sb(J,fa){const ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const W=yield ca.sanitize(J,fa),d=W.href;return W.localFile?ca.file(d):ca.http(d,
fa)})}function bb(J,fa){const ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){fa=A.extend({},ca.options,fa);const W=ca.fileAccess,d={href:null};let c,f,l;var m=Va.test(J.replace(I,""));null!=J&&"string"==typeof J&&m||A.error("Sanitize failure, invalid URI: "+A.stringValue(J));m=ab.test(J);return(l=fa.baseURL)&&!m&&(J.startsWith("/")||"/"===l[l.length-1]||(J="/"+J),J=l+J),f=(c=J.startsWith("file://"))||"file"===fa.mode||"http"!==fa.mode&&!m&&W,c?J=J.slice(7):J.startsWith("//")&&
("file"===fa.defaultProtocol?(J=J.slice(2),f=!0):J=(fa.defaultProtocol||"http")+":"+J),Object.defineProperty(d,"localFile",{value:!!f}),d.href=J,fa.target&&(d.target=fa.target+""),fa.rel&&(d.rel=fa.rel+""),"image"===fa.context&&fa.crossOrigin&&(d.crossOrigin=fa.crossOrigin+""),d})}function xb(J){return J?fa=>new Promise((ca,W)=>{J.readFile(fa,(d,c)=>{d?W(d):ca(c)})}):Gb}function Gb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){A.error("No file system access.")})}function ib(J){return J?
function(fa,ca){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var d=A.extend({},W.options.http,ca);const c=ca&&ca.response;d=yield J(fa,d);return d.ok?A.isFunction(d[c])?d[c]():d.text():A.error(d.status+""+d.statusText)})}:La}function La(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){A.error("No HTTP fetch method available.")})}function Ia(J,fa){if(!J||!J.length)return"unknown";const ca=J.length,W=K.length,d=K.map((f,l)=>l+1);for(let f,l,m=0,q=0;m<
ca;++m)for(l=fa?J[m][fa]:J[m],f=0;f<W;++f)if(d[f]&&null!=(c=l)&&c==c&&!K[f](l)&&(d[f]=0,++q,q===K.length))return"string";var c;return C[d.reduce((f,l)=>0===f?l:f,0)-1]}function Sa(J,fa){return fa.reduce((ca,W)=>(ca[W]=Ia(J,W),ca),{})}function xa(J){return new Function("d","return {"+J.map(function(fa,ca){return JSON.stringify(fa)+": d["+ca+'] || ""'}).join(",")+"}")}function ma(J){var fa=Object.create(null),ca=[];return J.forEach(function(W){for(var d in W)d in fa||ca.push(fa[d]=d)}),ca}function na(J,
fa){J+="";var ca=J.length;return ca<fa?Array(fa-ca+1).join(0)+J:J}function Ba(J){function fa(l,m){function q(){if(hb)return aa;if(Y)return Y=!1,R;var H,Q,ja=wa;if(34===l.charCodeAt(ja)){for(;wa++<U&&34!==l.charCodeAt(wa)||34===l.charCodeAt(++wa););return(H=wa)>=U?hb=!0:10===(Q=l.charCodeAt(wa++))?Y=!0:13===Q&&(Y=!0,10===l.charCodeAt(wa)&&++wa),l.slice(ja+1,H-1).replace(/""/g,'"')}for(;wa<U;){if(10===(Q=l.charCodeAt(H=wa++)))Y=!0;else if(13===Q)Y=!0,10===l.charCodeAt(wa)&&++wa;else if(Q!==f)continue;
return l.slice(ja,H)}return hb=!0,l.slice(ja,U)}var w,G=[],U=l.length,wa=0,cb=0,hb=0>=U,Y=!1;10===l.charCodeAt(U-1)&&--U;for(13===l.charCodeAt(U-1)&&--U;(w=q())!==aa;){for(var ta=[];w!==R&&w!==aa;)ta.push(w),w=q();m&&null==(ta=m(ta,cb++))||G.push(ta)}return G}function ca(l,m){return l.map(function(q){return m.map(function(w){return d(q[w])}).join(J)})}function W(l){return l.map(d).join(J)}function d(l){if(null==l)var m="";else{if(l instanceof Date){var q=l.getUTCHours();var w=l.getUTCMinutes(),G=
l.getUTCSeconds(),U=l.getUTCMilliseconds();q=isNaN(l)?"Invalid Date":(0>(m=l.getUTCFullYear())?"-"+na(-m,6):9999<m?"+"+na(m,6):na(m,4))+"-"+na(l.getUTCMonth()+1,2)+"-"+na(l.getUTCDate(),2)+(U?"T"+na(q,2)+":"+na(w,2)+":"+na(G,2)+"."+na(U,3)+"Z":G?"T"+na(q,2)+":"+na(w,2)+":"+na(G,2)+"Z":w||q?"T"+na(q,2)+":"+na(w,2)+"Z":"")}else q=c.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l;m=q}return m}var c=new RegExp('["'+J+"\n\r]"),f=J.charCodeAt(0);return{parse:function(l,m){var q,w;l=fa(l,function(G,U){if(q)return q(G,
U-1);w=G;q=m?function(wa,cb){var hb=xa(wa);return function(Y,ta){return cb(hb(Y),ta,wa)}}(G,m):xa(G)});return l.columns=w||[],l},parseRows:fa,format:function(l,m){return null==m&&(m=ma(l)),[m.map(d).join(J)].concat(ca(l,m)).join("\n")},formatBody:function(l,m){return null==m&&(m=ma(l)),ca(l,m).join("\n")},formatRows:function(l){return l.map(W).join("\n")},formatRow:W,formatValue:d}}function Ga(J){const fa=function(ca,W){const d={delimiter:J};return la(ca,W?A.extend(W,d):d)};return fa.responseType=
"text",fa}function la(J,fa){return fa.header&&(J=fa.header.map(A.stringValue).join(fa.delimiter)+"\n"+J),Ba(fa.delimiter).parse(J+"")}function ra(J,fa){const ca=fa&&fa.property?A.field(fa.property):A.identity;!A.isObject(J)||(W=J,"function"==typeof h&&A.isFunction(h.isBuffer)&&h.isBuffer(W))?fa=ca(JSON.parse(J)):(J=ca(J),!A.isArray(J)&&A.isIterable(J)&&(J=[...J]),fa=fa&&fa.copy?JSON.parse(JSON.stringify(J)):J);return fa;var W}function Qa(J){return J}function za(J,fa){return"string"==typeof fa&&(fa=
J.objects[fa]),"GeometryCollection"===fa.type?{type:"FeatureCollection",features:fa.geometries.map(function(ca){return Ta(J,ca)})}:Ta(J,fa)}function Ta(J,fa){var ca=fa.id,W=fa.bbox,d=null==fa.properties?{}:fa.properties;J=L(J,fa);return null==ca&&null==W?{type:"Feature",properties:d,geometry:J}:null==W?{type:"Feature",id:ca,properties:d,geometry:J}:{type:"Feature",id:ca,bbox:W,properties:d,geometry:J}}function L(J,fa){function ca(m){return f(m)}function W(m){for(var q=[],w=0,G=m.length;w<G;++w){var U,
wa=m[w],cb=q;cb.length&&cb.pop();var hb=l[0>wa?~wa:wa],Y=0;for(U=hb.length;Y<U;++Y)cb.push(f(hb[Y],Y));if(0>wa)for(wa=cb.length,hb=wa-U;hb<--wa;)U=cb[hb],cb[hb++]=cb[wa],cb[wa]=U}return 2>q.length&&q.push(q[0]),q}function d(m){for(m=W(m);4>m.length;)m.push(m[0]);return m}function c(m){return m.map(d)}var f=function(m){if(null==m)return Qa;var q,w,G=m.scale[0],U=m.scale[1],wa=m.translate[0],cb=m.translate[1];return function(hb,Y){Y||(q=w=0);Y=2;var ta=hb.length,H=Array(ta);H[0]=(q+=hb[0])*G+wa;for(H[1]=
(w+=hb[1])*U+cb;Y<ta;)H[Y]=hb[Y],++Y;return H}}(J.transform),l=J.arcs;return function w(q){var G=q.type;switch(G){case "GeometryCollection":return{type:G,geometries:q.geometries.map(w)};case "Point":q=f(q.coordinates);break;case "MultiPoint":q=q.coordinates.map(ca);break;case "LineString":q=W(q.arcs);break;case "MultiLineString":q=q.arcs.map(W);break;case "Polygon":q=c(q.arcs);break;case "MultiPolygon":q=q.arcs.map(c);break;default:return null}return{type:G,coordinates:q}}(fa)}function ha(J,fa){function ca(m,
q){for(var w in m){var G=m[w];delete q[G.start];delete G.start;delete G.end;G.forEach(function(U){W[0>U?~U:U]=1});f.push(G)}}var W={},d={},c={},f=[],l=-1;return fa.forEach(function(m,q){var w,G=J.arcs[0>m?~m:m];3>G.length&&!G[1][0]&&!G[1][1]&&(w=fa[++l],fa[l]=m,fa[q]=w)}),fa.forEach(function(m){var q=function(U){var wa,cb=J.arcs[0>U?~U:U],hb=cb[0];J.transform?(wa=[0,0],cb.forEach(function(Y){wa[0]+=Y[0];wa[1]+=Y[1]})):wa=cb[cb.length-1];return 0>U?[wa,hb]:[hb,wa]}(m);var w=q[0],G=q[1];(q=c[w])?(delete c[q.end],
q.push(m),q.end=G,m=d[G])?(delete d[m.start],w=m===q?q:q.concat(m),d[w.start=q.start]=c[w.end=m.end]=w):d[q.start]=c[q.end]=q:(q=d[G])?(delete d[q.start],q.unshift(m),q.start=w,m=c[w])?(delete c[m.end],w=m===q?q:m.concat(q),d[w.start=m.start]=c[w.end=q.end]=w):d[q.start]=c[q.end]=q:d[(q=[m]).start=w]=c[q.end=G]=q}),ca(c,d),ca(d,c),fa.forEach(function(m){W[0>m?~m:m]||f.push([m])}),f}function ya(J){return L(J,ua.apply(this,arguments))}function ua(J,fa,ca){var W;if(1<arguments.length)var d=Ma(J,fa,ca);
else{var c=0;for(d=Array(W=J.arcs.length);c<W;++c)d[c]=c}return{type:"MultiLineString",arcs:ha(J,d)}}function Ma(J,fa,ca){function W(q){var w=0>q?~q:q;(m[w]||(m[w]=[])).push({i:q,g:f})}function d(q){q.forEach(W)}function c(q){q.forEach(d)}var f,l=[],m=[];return function G(w){switch(f=w,w.type){case "GeometryCollection":w.geometries.forEach(G);break;case "LineString":d(w.arcs);break;case "MultiLineString":case "Polygon":c(w.arcs);break;case "MultiPolygon":w.arcs.forEach(c),!0}}(fa),m.forEach(null==
ca?function(w){l.push(w[0].i)}:function(w){ca(w[0].g,w[w.length-1].g)&&l.push(w[0].i)}),l}function Pa(J,fa){let ca,W,d,c;return J=ra(J,fa),fa&&fa.feature?(ca=za,d=fa.feature):fa&&fa.mesh?(ca=ya,d=fa.mesh,c=da[fa.filter]):A.error("Missing TopoJSON feature or mesh parameter."),W=(W=J.objects[d])?ca(J,W,c):A.error("Invalid TopoJSON object: "+d),W&&W.features||[W]}function Aa(J,fa){return 1<arguments.length?(Da[J]=fa,this):A.hasOwnProperty(Da,J)?Da[J]:null}const ab=/^([A-Za-z]+:)?\/\//,Va=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
I=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,x=J=>!(Number.isNaN(+J)||J instanceof Date),M={boolean:A.toBoolean,integer:A.toNumber,number:A.toNumber,date:A.toDate,string:A.toString,unknown:A.identity},K=[J=>"true"===J||"false"===J||!0===J||!1===J,J=>x(J)&&Number.isInteger(+J),x,J=>!Number.isNaN(Date.parse(J))],C=["boolean","integer","number","date"];var R={},aa={};la.responseType="text";ra.responseType="json";const da={interior:(J,fa)=>J!==fa,exterior:(J,fa)=>J===fa};Pa.responseType=
"json";const Da={dsv:la,csv:Ga(","),tsv:Ga("\t"),json:ra,topojson:Pa},Ja=function(J,fa){return ca=>({options:ca||{},sanitize:bb,load:sb,fileAccess:!!fa,file:xb(fa),http:ib(J)})}("undefined"!=typeof fetch&&fetch,null);r.format=Da;r.formats=Aa;r.inferType=Ia;r.inferTypes=Sa;r.loader=Ja;r.read=function(J,fa,ca,W){const d=Aa((fa=fa||{}).type||"json");return d||A.error("Unknown data format type: "+fa.type),J=d(J,fa),fa.parse&&function(c,f,l,m){if(c.length){var q=Ra.timeFormatDefaultLocale();l=l||q.timeParse;
m=m||q.utcParse;var w,G,U=c.columns||Object.keys(c[0]);"auto"===f&&(f=Sa(c,U));U=Object.keys(f);var wa=U.map(ta=>{var H=f[ta];if(H&&(H.startsWith("date:")||H.startsWith("utc:")))return ta=H.split(/:(.+)?/,2),H=ta[1],("'"===H[0]&&"'"===H[H.length-1]||'"'===H[0]&&'"'===H[H.length-1])&&(H=H.slice(1,-1)),("utc"===ta[0]?m:l)(H);if(!M[H])throw Error("Illegal format pattern: "+ta+":"+H);return M[H]});var cb=0;var hb=c.length;for(G=U.length;cb<hb;++cb)for(q=c[cb],w=0;w<G;++w){var Y=U[w];q[Y]=wa[w](q[Y])}}}(J,
fa.parse,ca,W),A.hasOwnProperty(J,"columns")&&delete J.columns,J};r.responseType=function(J){return(J=Aa(J))&&J.responseType||"text"};r.typeParsers=M;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[14]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(1),zb(13),zb(8)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega))})(this,function(h,r,A,Ra){function sb(J){const fa=J||r.identity,ca=[],W={};ca.add=d=>{const c=fa(d);W[c]||(W[c]=1,ca.push(d));return ca};ca.remove=d=>{const c=fa(d);W[c]&&(W[c]=0,d=ca.indexOf(d),
0<=d&&ca.splice(d,1));return ca};return ca}function bb(J,fa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield fa(J)}catch(ca){J.error(ca)}})}function xb(J){J=J===Object(J)?J:{data:J};if(!J[x]){var fa=M++;J[x]=fa}return J}function Gb(J,fa){for(const ca in J)fa[ca]=J[ca];return fa}function ib(J){return J&&J.constructor===La}function La(){const J=[],fa=[],ca=[],W=[],d=[];let c=null,f=!1;return{constructor:La,insert(l){l=r.array(l);const m=l.length;for(let q=0;q<m;++q)J.push(l[q]);
return this},remove(l){const m=r.isFunction(l)?W:fa;l=r.array(l);const q=l.length;for(let w=0;w<q;++w)m.push(l[w]);return this},modify(l,m,q){m={field:m,value:r.constant(q)};r.isFunction(l)?(m.filter=l,d.push(m)):(m.tuple=l,ca.push(m));return this},encode(l,m){r.isFunction(l)?d.push({filter:l,field:m}):ca.push({tuple:l,field:m});return this},clean(l){c=l;return this},reflow(){f=!0;return this},pulse(l,m){function q(H,Q,ja){ja?H[Q]=ja(H):l.encode=Q;f||(G[H[x]]=H)}const w={},G={};let U,wa,cb,hb,Y,ta;
U=0;for(wa=m.length;U<wa;++U)w[m[U][x]]=1;U=0;for(wa=fa.length;U<wa;++U)Y=fa[U],w[Y[x]]=-1;U=0;for(wa=W.length;U<wa;++U)hb=W[U],m.forEach(H=>{hb(H)&&(w[H[x]]=-1)});U=0;for(wa=J.length;U<wa;++U)Y=J[U],ta=Y[x],w[ta]?w[ta]=1:l.add.push(xb(J[U]));U=0;for(wa=m.length;U<wa;++U)Y=m[U],0>w[Y[x]]&&l.rem.push(Y);U=0;for(wa=ca.length;U<wa;++U)cb=ca[U],Y=cb.tuple,hb=cb.field,ta=w[Y[x]],0<ta&&(q(Y,hb,cb.value),l.modifies(hb));U=0;for(wa=d.length;U<wa;++U)cb=d[U],hb=cb.filter,m.forEach(H=>{hb(H)&&0<w[H[x]]&&q(H,
cb.field,cb.value)}),l.modifies(cb.field);if(f)l.mod=fa.length||W.length?m.filter(H=>0<w[H[x]]):m.slice();else for(ta in G)l.mod.push(G[ta]);(c||null==c&&(fa.length||W.length))&&l.clean(!0);return l}}}function Ia(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Sa(J,fa,ca,W){this.id=++K;this.value=J;this.qrank=this.rank=this.stamp=-1;this.flags=0;fa&&(this._update=fa);ca&&this.parameters(ca,W)}function xa(J){return function(fa){const ca=this.flags;if(0===arguments.length)return!!(ca&
J);this.flags=fa?ca|J:ca&~J;return this}}function ma(J,fa,ca){this.id=++R;this.value=null;ca&&(this.receive=ca);J&&(this._filter=J);fa&&(this._apply=fa)}function na(J,fa,ca){return new ma(J,fa,ca)}function Ba(J){let fa;const ca=new Promise(W=>fa=W);ca.requests=0;ca.done=()=>{0===--ca.requests&&(J._pending=null,fa(J))};return J._pending=ca}function Ga(J,fa,ca,W,d,c){const f=r.extend({},c,aa);let l;r.isFunction(ca)||(ca=r.constant(ca));void 0===W?d=m=>J.touch(ca(m)):r.isFunction(W)?(l=new Sa(null,W,
d,!1),d=m=>{l.evaluate(m);m=ca(m);const q=l.value;ib(q)?J.pulse(m,q,c):J.update(m,q,f)}):d=m=>J.update(ca(m),W,f);fa.apply(d)}function la(J,fa,ca,W,d,c){void 0===W?fa.targets().add(ca):(c=c||{},W=new Sa(null,ra(ca,W),d,!1),W.modified(c.force),W.rank=fa.rank,fa.targets().add(W),ca&&(W.skip(!0),W.value=ca.value,W.targets().add(ca),J.connect(ca,[W])))}function ra(J,fa){fa=r.isFunction(fa)?fa:r.constant(fa);return J?function(ca,W){ca=fa(ca,W);J.skip()||(J.skip(ca!==this.value).value=ca);return ca}:fa}
function Qa(J,fa,ca){this.dataflow=J;this.stamp=null==fa?-1:fa;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=ca||null}function za(J,fa){const ca=[];r.visitArray(J,fa,W=>ca.push(W));return ca}function Ta(J,fa){const ca={};J.visit(fa,W=>{ca[W[x]]=1});return W=>ca[W[x]]?null:W}function L(J,fa){return J?(ca,W)=>J(ca,W)&&fa(ca,W):fa}function ha(J,fa,ca,W){const d=ca.length;let c=0;this.dataflow=J;this.stamp=fa;this.fields=null;this.encode=W||null;this.pulses=ca;for(J=0;J<d;++J)if(W=
ca[J],W.stamp===fa){if(W.fields){const f=this.fields||(this.fields={});for(const l in W.fields)f[l]=1}W.changed(this.ADD)&&(c|=this.ADD);W.changed(this.REM)&&(c|=this.REM);W.changed(this.MOD)&&(c|=this.MOD)}this.changes=c}function ya(J){J.error("Dataflow already running. Use runAsync() to chain invocations.");return J}function ua(J,fa){if(fa&&fa.stamp===J.stamp)return fa;J=J.fork();fa&&fa!==da&&(J.source=fa.source);return J}function Ma(J){let fa=[];return{clear:()=>fa=[],size:()=>fa.length,peek:()=>
fa[0],push:ca=>{fa.push(ca);return Pa(fa,0,fa.length-1,J)},pop:()=>{var ca=fa.pop();let W;if(fa.length){W=fa[0];fa[0]=ca;ca=fa;var d=0;const c=d,f=ca.length,l=ca[d];let m=(d<<1)+1,q;for(;m<f;)q=m+1,q<f&&0<=J(ca[m],ca[q])&&(m=q),ca[d]=ca[m],d=m,m=(d<<1)+1;ca[d]=l;Pa(ca,c,d,J)}else W=ca;return W}}}function Pa(J,fa,ca,W){let d,c;const f=J[ca];for(;ca>fa;)if(c=ca-1>>1,d=J[c],0>W(f,d))J[ca]=d,ca=c;else break;return J[ca]=f}function Aa(){this.logger(r.logger());this.logLevel(r.Error);this._rank=this._clock=
0;this._locale=Ra.defaultLocale();try{this._loader=A.loader()}catch(J){}this._touched=sb(r.id);this._input={};this._pulse=null;this._heap=Ma((J,fa)=>J.qrank-fa.qrank);this._postrun=[]}function ab(J){return function(){return this._log[J].apply(this,arguments)}}function Va(J,fa){Sa.call(this,J,null,fa)}function I(J){J=J&&J.toLowerCase();return r.hasOwnProperty(Ja,J)?Ja[J]:null}const x=Symbol("vega_id");let M=1;Ia.prototype={set(J,fa,ca,W){const d=this[J],c=this["_:mod:_"];if(null!=fa&&0<=fa){if(d[fa]!==
ca||W)d[fa]=ca,c[fa+":"+J]=-1,c[J]=-1}else if(d!==ca||W)this[J]=ca,c[J]=r.isArray(ca)?1+ca.length:-1;return this},modified(J,fa){const ca=this["_:mod:_"];if(!arguments.length){for(var W in ca)if(ca[W])return!0;return!1}if(r.isArray(J)){for(W=0;W<J.length;++W)if(ca[J[W]])return!0;return!1}return null!=fa&&0<=fa?fa+1<ca[J]||!!ca[fa+":"+J]:!!ca[J]},clear(){this["_:mod:_"]={};return this}};let K=0;const C=new Ia;Sa.prototype={targets(){return this._targets||(this._targets=sb(r.id))},set(J){return this.value!==
J?(this.value=J,1):0},skip:xa(1),modified:xa(2),parameters(J,fa,ca){fa=!1!==fa;const W=this._argval=this._argval||new Ia,d=this._argops=this._argops||[],c=[];let f,l,m,q;const w=(G,U,wa)=>{wa instanceof Sa?(wa!==this&&(fa&&wa.targets().add(this),c.push(wa)),d.push({op:wa,name:G,index:U})):W.set(G,U,wa)};for(f in J)if(l=J[f],"pulse"===f)r.array(l).forEach(G=>{G instanceof Sa?G!==this&&(G.targets().add(this),c.push(G)):r.error("Pulse parameters must be operator instances.")}),this.source=l;else if(r.isArray(l))for(W.set(f,
-1,Array(m=l.length)),q=0;q<m;++q)w(f,q,l[q]);else w(f,-1,l);this.marshall().clear();ca&&(d.initonly=!0);return c},marshall(J){const fa=this._argval||C,ca=this._argops;let W,d,c,f;if(ca){const l=ca.length;for(d=0;d<l;++d)W=ca[d],c=W.op,f=c.modified()&&c.stamp===J,fa.set(W.name,W.index,c.value,f);if(ca.initonly){for(d=0;d<l;++d)W=ca[d],W.op.targets().remove(this);this._update=this._argops=null}}return fa},detach(){const J=this._argops;let fa,ca;if(J)for(fa=0,ca=J.length;fa<ca;++fa){var W=J[fa];W=W.op;
W._targets&&W._targets.remove(this)}this.source=this.pulse=null},evaluate(J){var fa=this._update;if(fa){const ca=this.marshall(J.stamp);fa=fa.call(this,ca,J);ca.clear();if(fa!==this.value)this.value=fa;else if(!this.modified())return J.StopPropagation}},run(J){if(J.stamp<this.stamp)return J.StopPropagation;let fa;this.skip()?(this.skip(!1),fa=0):fa=this.evaluate(J);return this.pulse=fa||J}};let R=0;ma.prototype={_filter:r.truthy,_apply:r.identity,targets(){return this._targets||(this._targets=sb(r.id))},
consume(J){if(!arguments.length)return!!this._consume;this._consume=!!J;return this},receive(J){if(this._filter(J)){const fa=this.value=this._apply(J),ca=this._targets,W=ca?ca.length:0;for(let d=0;d<W;++d)ca[d].receive(fa);this._consume&&(J.preventDefault(),J.stopPropagation())}},filter(J){J=na(J);this.targets().add(J);return J},apply(J){J=na(null,J);this.targets().add(J);return J},merge(){const J=na();this.targets().add(J);for(let fa=0,ca=arguments.length;fa<ca;++fa)arguments[fa].targets().add(J);
return J},throttle(J){let fa=-1;return this.filter(()=>{const ca=Date.now();return ca-fa>J?(fa=ca,1):0})},debounce(J){const fa=na();this.targets().add(na(null,null,r.debounce(J,ca=>{const W=ca.dataflow;fa.receive(ca);W&&W.run&&W.run()})));return fa},between(J,fa){let ca=!1;J.targets().add(na(null,null,()=>ca=!0));fa.targets().add(na(null,null,()=>ca=!1));return this.filter(()=>ca)},detach(){this._filter=r.truthy;this._targets=null}};const aa={skip:!0},da={};Qa.prototype={StopPropagation:da,ADD:1,
REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(J){return(new Qa(this.dataflow)).init(this,J)},clone(){const J=this.fork(7);J.add=J.add.slice();J.rem=J.rem.slice();J.mod=J.mod.slice();J.source&&(J.source=J.source.slice());return J.materialize(23)},addAll(){let J=this;J.source&&J.add!==J.rem&&(J.rem.length||J.source.length!==J.add.length)&&(J=(new Qa(this.dataflow)).init(this),J.add=J.source,J.rem=[]);return J},init(J,fa){this.stamp=J.stamp;this.encode=J.encode;
!J.fields||fa&64||(this.fields=J.fields);fa&1?(this.addF=J.addF,this.add=J.add):(this.addF=null,this.add=[]);fa&2?(this.remF=J.remF,this.rem=J.rem):(this.remF=null,this.rem=[]);fa&4?(this.modF=J.modF,this.mod=J.mod):(this.modF=null,this.mod=[]);fa&32?this.source=this.srcF=null:(this.srcF=J.srcF,this.source=J.source,J.cleans&&(this.cleans=J.cleans));return this},runAfter(J){this.dataflow.runAfter(J)},changed(J){J=J||7;return J&1&&this.add.length||J&2&&this.rem.length||J&4&&this.mod.length},reflow(J){if(J)return this.fork(7).reflow();
J=this.add.length;const fa=this.source&&this.source.length;fa&&fa!==J&&(this.mod=this.source,J&&this.filter(4,Ta(this,1)));return this},clean(J){return arguments.length?(this.cleans=!!J,this):this.cleans},modifies(J){const fa=this.fields||(this.fields={});r.isArray(J)?J.forEach(ca=>fa[ca]=!0):fa[J]=!0;return this},modified(J,fa){const ca=this.fields;return(fa||this.mod.length)&&ca?arguments.length?r.isArray(J)?J.some(W=>ca[W]):ca[J]:!!ca:!1},filter(J,fa){J&1&&(this.addF=L(this.addF,fa));J&2&&(this.remF=
L(this.remF,fa));J&4&&(this.modF=L(this.modF,fa));J&16&&(this.srcF=L(this.srcF,fa));return this},materialize(J){J=J||7;J&1&&this.addF&&(this.add=za(this.add,this.addF),this.addF=null);J&2&&this.remF&&(this.rem=za(this.rem,this.remF),this.remF=null);J&4&&this.modF&&(this.mod=za(this.mod,this.modF),this.modF=null);J&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(J,fa){if(J&16)return r.visitArray(this.source,this.srcF,fa),this;J&1&&r.visitArray(this.add,
this.addF,fa);J&2&&r.visitArray(this.rem,this.remF,fa);J&4&&r.visitArray(this.mod,this.modF,fa);const ca=this.source;J&8&&ca&&(J=this.add.length+this.mod.length,J!==ca.length&&(J?r.visitArray(ca,Ta(this,5),fa):r.visitArray(ca,this.srcF,fa)));return this}};r.inherits(ha,Qa,{fork(J){const fa=(new Qa(this.dataflow)).init(this,J&this.NO_FIELDS);void 0!==J&&(J&fa.ADD&&this.visit(fa.ADD,ca=>fa.add.push(ca)),J&fa.REM&&this.visit(fa.REM,ca=>fa.rem.push(ca)),J&fa.MOD&&this.visit(fa.MOD,ca=>fa.mod.push(ca)));
return fa},changed(J){return this.changes&J},modified(J){const fa=this.fields;return fa&&this.changes&this.MOD?r.isArray(J)?J.some(ca=>fa[ca]):fa[J]:0},filter(){r.error("MultiPulse does not support filtering.")},materialize(){r.error("MultiPulse does not support materialization.")},visit(J,fa){const ca=this.pulses,W=ca.length;let d=0;if(J&this.SOURCE)for(;d<W;++d)ca[d].visit(J,fa);else for(;d<W;++d)ca[d].stamp===this.stamp&&ca[d].visit(J,fa);return this}});const Da={skip:!1,force:!1};Aa.prototype=
{stamp(){return this._clock},loader(J){return arguments.length?(this._loader=J,this):this._loader},locale(J){return arguments.length?(this._locale=J,this):this._locale},logger(J){return arguments.length?(this._log=J,this):this._log},error:ab("error"),warn:ab("warn"),info:ab("info"),debug:ab("debug"),logLevel:ab("level"),cleanThreshold:1E4,add:function(J,fa,ca,W){let d=1;J instanceof Sa||(J&&J.prototype instanceof Sa?J=new J:r.isFunction(J)?J=new Sa(null,J):(d=0,J=new Sa(J,fa)));this.rank(J);d&&(W=
ca,ca=fa);ca&&this.connect(J,J.parameters(ca,W));this.touch(J);return J},connect:function(J,fa){const ca=J.rank,W=fa.length;for(let d=0;d<W;++d)if(ca<fa[d].rank){this.rerank(J);break}},rank:function(J){J.rank=++this._rank},rerank:function(J){const fa=[J];let ca,W,d;for(;fa.length;)if(this.rank(ca=fa.pop()),W=ca._targets)for(d=W.length;0<=--d;)fa.push(ca=W[d]),ca===J&&r.error("Cycle detected in dataflow graph.")},pulse:function(J,fa,ca){this.touch(J,ca||Da);ca=new Qa(this,this._clock+(this._pulse?
0:1));const W=J.pulse&&J.pulse.source||[];ca.target=J;this._input[J.id]=fa.pulse(ca,W);return this},touch:function(J,fa){fa=fa||Da;this._pulse?this._enqueue(J):this._touched.add(J);fa.skip&&J.skip(!0);return this},update:function(J,fa,ca){ca=ca||Da;(J.set(fa)||ca.force)&&this.touch(J,ca);return this},changeset:La,ingest:function(J,fa,ca){fa=this.parse(fa,ca);return this.pulse(J,this.changeset().insert(fa))},parse:function(J,fa){const ca=this.locale();return A.read(J,fa,ca.timeParse,ca.utcParse)},
preload:function(J,fa,ca){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=W._pending||Ba(W);d.requests+=1;const c=yield W.request(fa,ca);W.pulse(J,W.changeset().remove(r.truthy).insert(c.data||[]));d.done();return c})},request:function(J,fa){const ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let W=0,d;try{d=yield ca.loader().load(J,{context:"dataflow",response:A.responseType(fa&&fa.type)});try{d=ca.parse(d,fa)}catch(c){W=-2,ca.warn("Data ingestion failed",
J,c)}}catch(c){W=-1,ca.warn("Loading failed",J,c)}return{data:d,status:W}})},events:function(J,fa,ca,W){const d=this,c=na(ca,W);ca=function(f){f.dataflow=d;try{c.receive(f)}catch(l){d.error(l)}finally{d.run()}};J="string"===typeof J&&"undefined"!==typeof document?document.querySelectorAll(J):r.array(J);W=J.length;for(let f=0;f<W;++f)J[f].addEventListener(fa,ca);return c},on:function(J,fa,ca,W,d){(J instanceof Sa?la:Ga)(this,J,fa,ca,W,d);return this},evaluate:function(J,fa,ca){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=
[];if(W._pulse)return ya(W);W._pending&&(yield W._pending);fa&&(yield bb(W,fa));if(!W._touched.length)return W.debug("Dataflow invoked, but nothing to do."),W;var c=++W._clock;W._pulse=new Qa(W,c,J);W._touched.forEach(w=>W._enqueue(w,!0));W._touched=sb(r.id);var f=0;let l,m,q;try{for(;0<W._heap.size();)l=W._heap.pop(),l.rank!==l.qrank?W._enqueue(l,!0):(m=l.run(W._getPulse(l,J)),m.then?m=yield m:m.async&&(d.push(m.async),m=da),m!==da&&l._targets&&l._targets.forEach(w=>W._enqueue(w)),++f)}catch(w){W._heap.clear(),
q=w}W._input={};W._pulse=null;W.debug(`Pulse ${c}: ${f} operators`);q&&(W._postrun=[],W.error(q));if(W._postrun.length)for(c=W._postrun.sort((w,G)=>G.priority-w.priority),W._postrun=[],f=0;f<c.length;++f)yield bb(W,c[f].callback);ca&&(yield bb(W,ca));d.length&&Promise.all(d).then(w=>W.runAsync(null,()=>{w.forEach(G=>{try{G(W)}catch(U){W.error(U)}})}));return W})},run:function(J,fa,ca){return this._pulse?ya(this):(this.evaluate(J,fa,ca),this)},runAsync:function(J,fa,ca){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;W._running;)yield W._running;
const d=()=>W._running=null;(W._running=W.evaluate(J,fa,ca)).then(d,d);return W._running})},runAfter:function(J,fa,ca){if(this._pulse||fa)this._postrun.push({priority:ca||0,callback:J});else try{J(this)}catch(W){this.error(W)}},_enqueue:function(J,fa){const ca=J.stamp<this._clock;ca&&(J.stamp=this._clock);if(ca||fa)J.qrank=J.rank,this._heap.push(J)},_getPulse:function(J,fa){const ca=J.source,W=this._clock;return ca&&r.isArray(ca)?new ha(this,W,ca.map(d=>d.pulse),fa):this._input[J.id]||ua(this._pulse,
ca&&ca.pulse)}};r.inherits(Va,Sa,{run(J){if(J.stamp<this.stamp)return J.StopPropagation;let fa;this.skip()?this.skip(!1):fa=this.evaluate(J);fa=fa||J;fa.then?fa=fa.then(ca=>this.pulse=ca):fa!==J.StopPropagation&&(this.pulse=fa);return fa},evaluate(J){const fa=this.marshall(J.stamp);J=this.transform(fa,J);fa.clear();return J},transform(){}});const Ja={};h.Dataflow=Aa;h.EventStream=ma;h.MultiPulse=ha;h.Operator=Sa;h.Parameters=Ia;h.Pulse=Qa;h.Transform=Va;h.UniqueList=sb;h.asyncCallback=bb;h.changeset=
La;h.definition=function(J){return(J=I(J))&&J.Definition||null};h.derive=function(J){return Gb(J,xb({}))};h.ingest=xb;h.isChangeSet=ib;h.isTuple=function(J){return!(!J||!J[x])};h.rederive=Gb;h.replace=function(J,fa){fa[x]=J[x];return fa};h.stableCompare=function(J,fa){return J?fa?(ca,W)=>J(ca,W)||fa(ca)[x]-fa(W)[x]:(ca,W)=>J(ca,W)||ca[x]-W[x]:null};h.transform=I;h.transforms=Ja;h.tupleid=function(J){return J[x]};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[15]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(d,c,f){d.fields=c||[];d.fname=f;return d}function A(d){return null==d?null:d.fields}function Ra(d){return 1===d.length?ya(d[0]):ua(d)}function sb(d){throw Error(d);}function bb(d){function c(){f.push(w+d.substring(G,U));w="";G=U+1}const f=
[],l=d.length;let m=null,q=0,w="",G,U,wa;d+="";for(G=U=0;U<l;++U)(wa=d[U],"\\"===wa)?(w+=d.substring(G,U),w+=d.substring(++U,++U),G=U):wa===m?(c(),m=null,q=-1):m||(G===q&&'"'===wa?(G=U+1,m=wa):G===q&&"'"===wa?(G=U+1,m=wa):"."!==wa||q?"["===wa?(U>G&&c(),q=G=U+1):"]"===wa&&(q||sb("Access path missing open bracket: "+d),0<q&&c(),q=0,G=U+1):U>G?c():G=U+1);q&&sb("Access path missing closing bracket: "+d);m&&sb("Access path missing closing quote: "+d);U>G&&(U++,c());return f}function xb(d,c,f){const l=
bb(d);d=1===l.length?l[0]:d;return r((f&&f.get||Ra)(l),[d],c||d)}function Gb(d,c,f){c=[c].concat([].slice.call(f));console[d].apply(console,c)}function ib(d){return d===Object(d)}function La(d,c,f,l){if("__proto__"!==c){var m;if(ib(f)&&!x(f))for(m in d=ib(d[c])?d[c]:d[c]={},f)l&&(!0===l||l[m])?La(d,m,f[m]):"__proto__"!==m&&(d[m]=f[m]);else d[c]=f}}function Ia(d,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==d)return c;const l={},m=[];c.forEach(f);d.forEach(f);return m}function Sa(d){return d[d.length-
1]}function xa(d){return null==d||""===d?null:+d}function ma(d,c,f,l){const m=f(d[0]);d=f(Sa(d));c*=d-m;return[l(m-c),l(d-c)]}function na(d,c,f,l,m){const q=l(d[0]);d=l(Sa(d));c=null!=c?l(c):(q+d)/2;return[m(c+(q-c)*f),m(c+(d-c)*f)]}function Ba(d){return null!=d?x(d)?d:[d]:[]}function Ga(d){return"function"===typeof d}function la(d){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)d[f]=c[f];return d}function ra(d,c){return fa.call(d,c)}function Qa(d){return"[object Date]"===Object.prototype.toString.call(d)}
function za(d){return"number"===typeof d}function Ta(d){return"string"===typeof d}function L(d,c){let f="";for(;0<=--c;)f+=d;return f}function ha(d){return x(d)?"["+d.map(ha)+"]":ib(d)||Ta(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}const ya=d=>function(c){return c[d]},ua=d=>{const c=d.length;return function(f){for(let l=0;l<c;++l)f=f[d[l]];return f}},Ma=xb("id"),Pa=r(d=>d,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const M=d=>c=>d*Math.exp(c),K=d=>c=>Math.log(d*c),C=d=>c=>Math.sign(c)*Math.log1p(Math.abs(c/d)),R=d=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*d,aa=d=>c=>0>c?-Math.pow(-c,d):Math.pow(c,d),da=(d,c)=>(d<c||null==d)&&null!=c?-1:(d>c||null==c)&&null!=d?1:(c=c instanceof Date?+c:c,d=d instanceof Date?+d:d)!==d&&c===c?-1:c!==c&&d===d?1:0,Da=(d,c)=>1===d.length?Ja(d[0],c[0]):J(d,c,d.length),Ja=(d,c)=>function(f,l){return da(d(f),d(l))*c},J=(d,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=d[w],q=da(q(l),q(m));return q*c[w]}},fa=Object.prototype.hasOwnProperty,ca={},W=d=>za(d)?d:Qa(d)?d:Date.parse(d);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=A;h.accessorName=function(d){return null==d?null:d.fname};h.array=Ba;h.ascending=da;h.clampRange=function(d,c,f){let l=d[0];d=d[1];let m;d<l&&(m=d,d=l,l=m);m=d-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(d,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Da;Ba(d).forEach((G,U)=>{null!=G&&(l.push("descending"===c[U]?-1:1),m.push(G=Ga(G)?G:xb(G,null,f)),(A(G)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(d){return Ga(d)?d:()=>d};h.debounce=function(d,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),d)}};h.error=sb;h.extend=la;h.extent=function(d,c){let f=0,l,m,q,w;if(d&&(l=d.length))if(null==c){for(m=d[f];f<l&&(null==m||m!==m);m=d[++f]);for(q=w=m;f<
l;++f)m=d[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(d[f]);f<l&&(null==m||m!==m);m=c(d[++f]));for(q=w=m;f<l;++f)m=c(d[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(d,c){const f=d.length;let l=-1,m,q,w,G,U;if(null==c){for(;++l<f;)if(q=d[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=d[l],null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(d[l],l,d),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=c(d[l],l,d),
null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}return[G,U]};h.falsy=I;h.fastmap=function(d){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const G in f){const U=f[G];U===ca||l&&l(U)||(q[G]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};d&&Object.keys(d).forEach(q=>{m.set(q,d[q])});return m};h.field=xb;h.flush=function(d,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=d[0],G=Sa(d);G<w&&(d=w,w=G,G=d);d=Math.abs(c-w);c=Math.abs(G-c);return d<c&&d<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=Ma;h.identity=Pa;h.inherits=function(d,c,f){c=d.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:d,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(d,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=d:m<d)&&(void 0===l||l?d<=c:d<c)};h.isArray=x;h.isBoolean=function(d){return"boolean"===typeof d};h.isDate=Qa;h.isFunction=Ga;h.isIterable=function(d){return d&&Ga(d[Symbol.iterator])};h.isNumber=za;h.isObject=ib;h.isRegExp=function(d){return"[object RegExp]"===Object.prototype.toString.call(d)};h.isString=Ta;h.key=function(d,c,f){d&&(d=c?Ba(d).map(q=>q.replace(/\\(.)/g,"$1")):Ba(d));const l=d&&d.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(d[0]);f=function(w){return""+q(w)}}else{const q=d.map(f);f=function(w){let G=""+q[0](w),U=0;for(;++U<l;)G+="|"+q[U](w);return G}}else f=function(){return""};return r(f,d,"key")};h.lerp=function(d,c){const f=d[0];d=Sa(d);return(c=+c)?1===c?d:f+c*(d-f):f};h.logger=function(d,c){let f=d||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Gb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Gb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Gb(c||"log","INFO",arguments);return this},debug(){4<=f&&Gb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(d){d=+d||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,G)=>{++l>d&&(f=c,c={},l=1);return c[w]=G};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,G)=>ra(c,w)?c[w]=G:q(w,G)}};h.merge=function(d,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,G=0,U=0;for(;w<m&&G<q;++U)l[U]=0<d(c[w],
f[G])?f[G++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;G<q;++G,++U)l[U]=f[G];return l};h.mergeConfig=function(...d){return d.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ia(c.signals,f.signals):La(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(d,c,f,l){f=f||" ";d+="";c-=d.length;return 0>=c?d:"left"===l?L(f,c)+d:"center"===l?L(f,~~(c/2))+d+L(f,Math.ceil(c/2)):d+L(f,c)};h.panLinear=function(d,c){return ma(d,c,xa,Pa)};h.panLog=function(d,c){var f=
Math.sign(d[0]);return ma(d,c,K(f),M(f))};h.panPow=function(d,c,f){return ma(d,c,aa(f),aa(1/f))};h.panSymlog=function(d,c,f){return ma(d,c,C(f),R(f))};h.peek=Sa;h.quarter=function(d){return 1+~~((new Date(d)).getMonth()/3)};h.repeat=L;h.span=function(d){return d&&Sa(d)-d[0]||0};h.splitAccessPath=bb;h.stringValue=ha;h.toBoolean=function(d){return null==d||""===d?null:d&&"false"!==d&&"0"!==d?!!d:!1};h.toDate=function(d,c){c=c||W;return null==d||""===d?null:c(d)};h.toNumber=xa;h.toSet=function(d){const c=
{},f=d.length;for(let l=0;l<f;++l)c[d[l]]=!0;return c};h.toString=function(d){return null==d||""===d?null:d+""};h.truncate=function(d,c,f,l){l=null!=l?l:"…";d+="";const m=d.length,q=Math.max(0,c-l.length);return m<=c?d:"left"===f?l+d.slice(m-q):"center"===f?d.slice(0,Math.ceil(q/2))+l+d.slice(m-~~(q/2)):d.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(d){return 1+~~((new Date(d)).getUTCMonth()/3)};h.visitArray=function(d,c,f){if(d)if(c){const l=d.length;for(let m=0;m<l;++m){const q=c(d[m]);q&&f(q,
m,d)}}else d.forEach(f)};h.writeConfig=La;h.zero=Aa;h.zoomLinear=function(d,c,f){return na(d,c,f,xa,Pa)};h.zoomLog=function(d,c,f){const l=Math.sign(d[0]);return na(d,c,f,K(l),M(l))};h.zoomPow=function(d,c,f,l){return na(d,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(d,c,f,l){return na(d,c,f,C(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[16]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.d3))})(this,function(h,r){function*A(x,M){if(null==M)for(var K of x)null!=K&&""!==K&&(K=+K)>=K&&(yield K);else{K=-1;for(let C of x)C=M(C,++K,x),null!=C&&""!==C&&(C=+C)>=C&&(yield C)}}function Ra(x,M,K){const C=Float64Array.from(A(x,K));C.sort(r.ascending);
return M.map(R=>r.quantileSorted(C,R))}function sb(x,M){return Ra(x,[.25,.5,.75],M)}function bb(x,M){const K=x.length,C=r.deviation(x,M);x=sb(x,M);return 1.06*(Math.min(C,(x[2]-x[0])/1.34)||C||Math.abs(x[0])||1)*Math.pow(K,-.2)}function xb(x,M){const K=x.length;let C=0,R=1,aa,da;for(;x[C]===x[R];)++R;for(;R<K;){for(aa=R+1;x[R]===x[aa];)++aa;if(x[R]-x[R-1]<M){for(da=R+(C+aa-R-R>>1);da<R;)x[da++]=x[R];for(;da>R;)x[da--]=x[C]}C=R;R=aa}return x}function Gb(x,M){x=x||0;M=null==M?1:M;let K,C;if(Va===Va)K=
Va,Va=NaN;else{do{K=2*h.random()-1;C=2*h.random()-1;var R=K*K+C*C}while(0===R||1<R);R=Math.sqrt(-2*Math.log(R)/R);K*=R;Va=C*R}return x+K*M}function ib(x,M,K){K=null==K?1:K;x=(x-(M||0))/K;return Math.exp(-.5*x*x)/(K*Aa)}function La(x,M,K){x=(x-(M||0))/(null==K?1:K);M=Math.abs(x);37<M?K=0:(K=Math.exp(-M*M/2),7.07106781186547>M?(K*=(((((.0352624965998911*M+.700383064443688)*M+6.37396220353165)*M+33.912866078383)*M+112.079291497871)*M+221.213596169931)*M+220.206867912376,K/=((((((.0883883476483184*M+
1.75566716318264)*M+16.064177579207)*M+86.7807322029461)*M+296.564248779674)*M+637.333633378831)*M+793.826512519948)*M+440.413735824752):K=K/(M+1/(M+2/(M+3/(M+4/(M+.65)))))/2.506628274631);return 0<x?1-K:K}function Ia(x,M,K){if(0>x||1<x)return NaN;x=2*x-1;var C=-Math.log((1-x)*(1+x));6.25>C?(C-=3.125,C=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+
(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C):16>C?(C=Math.sqrt(C)-3.25,C=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+
(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C):Number.isFinite(C)?(C=Math.sqrt(C)-5,C=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+
(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C)*C):C=Infinity;return(M||0)+(null==K?1:K)*ab*C*x}function Sa(x,M){let K,C;const R={mean(aa){return arguments.length?(K=aa||0,R):K},stdev(aa){return arguments.length?
(C=null==aa?1:aa,R):C},sample:()=>Gb(K,C),pdf:aa=>ib(aa,K,C),cdf:aa=>La(aa,K,C),icdf:aa=>Ia(aa,K,C)};return R.mean(x).stdev(M)}function xa(x,M){M=null==M?1:M;return Math.exp((x||0)+Gb()*M)}function ma(x,M,K){if(0>=x)return 0;K=null==K?1:K;M=(Math.log(x)-(M||0))/K;return Math.exp(-.5*M*M)/(K*Aa*x)}function na(x,M,K){return La(Math.log(x),M,K)}function Ba(x,M,K){return Math.exp(Ia(x,M,K))}function Ga(x,M){null==M&&(M=null==x?1:x,x=0);return x+(M-x)*h.random()}function la(x,M,K){null==K&&(K=null==M?
1:M,M=0);return x>=M&&x<=K?1/(K-M):0}function ra(x,M,K){null==K&&(K=null==M?1:M,M=0);return x<M?0:x>K?1:(x-M)/(K-M)}function Qa(x,M,K){null==K&&(K=null==M?1:M,M=0);return 0<=x&&1>=x?M+x*(K-M):NaN}function za(x,M,K,C){C-=x*x;K=1E-24>Math.abs(C)?0:(K-x*M)/C;return[M-K*x,K]}function Ta(x,M,K,C){x=x.filter(ca=>{let W=M(ca);ca=K(ca);return null!=W&&(W=+W)>=W&&null!=ca&&(ca=+ca)>=ca});C&&x.sort((ca,W)=>M(ca)-M(W));C=x.length;const R=new Float64Array(C),aa=new Float64Array(C);let da=0,Da=0,Ja=0,J,fa;for(fa of x)R[da]=
x=+M(fa),aa[da]=J=+K(fa),++da,Da+=(x-Da)/da,Ja+=(J-Ja)/da;for(da=0;da<C;++da)R[da]-=Da,aa[da]-=Ja;return[R,aa,Da,Ja]}function L(x,M,K,C){let R=-1,aa;for(const da of x)x=M(da),aa=K(da),null!=x&&(x=+x)>=x&&null!=aa&&(aa=+aa)>=aa&&C(x,aa,++R)}function ha(x,M,K,C,R){let aa=0,da=0;L(x,M,K,(Da,Ja)=>{Da=Ja-R(Da);Ja-=C;aa+=Da*Da;da+=Ja*Ja});return 1-aa/da}function ya(x,M,K){let C=0,R=0,aa=0,da=0,Da=0;L(x,M,K,(fa,ca)=>{++Da;C+=(fa-C)/Da;R+=(ca-R)/Da;aa+=(fa*ca-aa)/Da;da+=(fa*fa-da)/Da});const Ja=za(C,R,aa,
da),J=fa=>Ja[0]+Ja[1]*fa;return{coef:Ja,predict:J,rSquared:ha(x,M,K,R,J)}}function ua(x,M,K){const [C,R,aa,da]=Ta(x,M,K);var Da=C.length,Ja=0;let J=0;var fa=0;let ca=0,W=0,d,c,f,l;for(d=0;d<Da;)c=C[d],f=R[d++],l=c*c,Ja+=(l-Ja)/d,J+=(l*c-J)/d,fa+=(l*l-fa)/d,ca+=(c*f-ca)/d,W+=(l*f-W)/d;Da=fa-Ja*Ja;fa=Ja*Da-J*J;const m=(W*Ja-ca*J)/fa,q=(ca*Da-W*J)/fa,w=-m*Ja;Ja=G=>{G-=aa;return m*G*G+q*G+w+da};return{coef:[w-q*aa+m*aa*aa+da,q-2*m*aa,m],predict:Ja,rSquared:ha(x,M,K,da,Ja)}}function Ma(x,M,K,C){const R=
Array(x);let aa,da,Da;for(aa=0;aa<x;++aa)R[aa]=0;for(aa=x-1;0<=aa;--aa)for(da=M[aa],Da=1,R[aa]+=da,x=1;x<=aa;++x)Da*=(aa+1-x)/x,R[aa-x]+=da*Math.pow(K,x)*Da;R[0]+=C;return R}function Pa(x){const M=x.length-1,K=[];let C,R,aa,da,Da;for(C=0;C<M;++C){da=C;for(R=C+1;R<M;++R)Math.abs(x[C][R])>Math.abs(x[C][da])&&(da=R);for(aa=C;aa<M+1;++aa)Da=x[aa][C],x[aa][C]=x[aa][da],x[aa][da]=Da;for(R=C+1;R<M;++R)for(aa=M;aa>=C;aa--)x[aa][R]-=x[aa][C]*x[C][R]/x[C][C]}for(R=M-1;0<=R;--R){Da=0;for(aa=R+1;aa<M;++aa)Da+=
x[aa][R]*K[aa];K[R]=(x[M][R]-Da)/x[R][R]}return K}h.random=Math.random;const Aa=Math.sqrt(2*Math.PI),ab=Math.SQRT2;let Va=NaN;const I=.1*Math.PI/180;h.bandwidthNRD=bb;h.bin=function(x){var M=x.maxbins||20;const K=x.base||10,C=Math.log(K),R=x.divide||[5,2];let aa=x.extent[0],da=x.extent[1];let Da,Ja,J,fa;const ca=x.span||da-aa||Math.abs(aa)||1;if(x.step)var W=x.step;else if(x.steps){Ja=ca/M;J=0;for(fa=x.steps.length;J<fa&&x.steps[J]<Ja;++J);W=x.steps[Math.max(0,J-1)]}else{W=Math.ceil(Math.log(M)/C);
Da=x.minstep||0;for(W=Math.max(Da,Math.pow(K,Math.round(Math.log(ca)/C)-W));Math.ceil(ca/W)>M;)W*=K;J=0;for(fa=R.length;J<fa;++J)Ja=W/R[J],Ja>=Da&&ca/Ja<=M&&(W=Ja)}Ja=Math.log(W);M=Math.pow(K,-(0<=Ja?0:~~(-Ja/C)+1)-1);if(x.nice||void 0===x.nice)Ja=Math.floor(aa/W+M)*W,aa=aa<Ja?Ja-W:Ja,da=Math.ceil(da/W)*W;return{start:aa,stop:da===aa?aa+W:da,step:W}};h.bootstrapCI=function(x,M,K,C){if(!x.length)return[void 0,void 0];x=Float64Array.from(A(x,C));C=x.length;let R,aa,da,Da;da=0;for(Da=Array(M);da<M;++da){for(aa=
R=0;aa<C;++aa)R+=x[~~(h.random()*C)];Da[da]=R/C}Da.sort(r.ascending);return[r.quantile(Da,K/2),r.quantile(Da,1-K/2)]};h.cumulativeLogNormal=na;h.cumulativeNormal=La;h.cumulativeUniform=ra;h.densityLogNormal=ma;h.densityNormal=ib;h.densityUniform=la;h.dotbin=function(x,M,K,C){C=C||(W=>W);const R=x.length,aa=new Float64Array(R);let da=0,Da=1,Ja=C(x[0]),J=Ja,fa=Ja+M,ca;for(;Da<R;++Da){ca=C(x[Da]);if(ca>=fa){for(J=(Ja+J)/2;da<Da;++da)aa[da]=J;fa=ca+M;Ja=ca}J=ca}for(J=(Ja+J)/2;da<Da;++da)aa[da]=J;return K?
xb(aa,M+M/4):aa};h.quantileLogNormal=Ba;h.quantileNormal=Ia;h.quantileUniform=Qa;h.quantiles=Ra;h.quartiles=sb;h.randomInteger=function(x,M){null==M&&(M=x,x=0);let K,C,R;const aa={min(da){return arguments.length?(K=da||0,R=C-K,aa):K},max(da){return arguments.length?(C=da||0,R=C-K,aa):C},sample(){return K+Math.floor(R*h.random())},pdf(da){return da===Math.floor(da)&&da>=K&&da<C?1/R:0},cdf(da){da=Math.floor(da);return da<K?0:da>=C?1:(da-K+1)/R},icdf(da){return 0<=da&&1>=da?K-1+Math.floor(da*R):NaN}};
return aa.min(x).max(M)};h.randomKDE=function(x,M){const K=Sa();let C=0;const R={data(aa){return arguments.length?(C=(x=aa)?aa.length:0,R.bandwidth(M)):x},bandwidth(aa){if(!arguments.length)return M;M=aa;!M&&x&&(M=bb(x));return R},sample(){return x[~~(h.random()*C)]+M*K.sample()},pdf(aa){let da=0,Da=0;for(;Da<C;++Da)da+=K.pdf((aa-x[Da])/M);return da/M/C},cdf(aa){let da=0,Da=0;for(;Da<C;++Da)da+=K.cdf((aa-x[Da])/M);return da/C},icdf(){throw Error("KDE icdf not supported.");}};return R.data(x)};h.randomLCG=
function(x){return function(){x=(1103515245*x+12345)%2147483647;return x/2147483647}};h.randomLogNormal=function(x,M){let K,C;const R={mean(aa){return arguments.length?(K=aa||0,R):K},stdev(aa){return arguments.length?(C=null==aa?1:aa,R):C},sample:()=>xa(K,C),pdf:aa=>ma(aa,K,C),cdf:aa=>na(aa,K,C),icdf:aa=>Ba(aa,K,C)};return R.mean(x).stdev(M)};h.randomMixture=function(x,M){let K=0,C;const R={weights(aa){if(arguments.length){var da=M=aa||[];const Da=[];let Ja=0,J;for(J=0;J<K;++J)Ja+=Da[J]=null==da[J]?
1:+da[J];for(J=0;J<K;++J)Da[J]/=Ja;C=Da;return R}return M},distributions(aa){return arguments.length?(aa?(K=aa.length,x=aa):(K=0,x=[]),R.weights(M)):x},sample(){const aa=h.random();let da=x[K-1],Da=C[0],Ja=0;for(;Ja<K-1;Da+=C[++Ja])if(aa<Da){da=x[Ja];break}return da.sample()},pdf(aa){let da=0,Da=0;for(;Da<K;++Da)da+=C[Da]*x[Da].pdf(aa);return da},cdf(aa){let da=0,Da=0;for(;Da<K;++Da)da+=C[Da]*x[Da].cdf(aa);return da},icdf(){throw Error("Mixture icdf not supported.");}};return R.distributions(x).weights(M)};
h.randomNormal=Sa;h.randomUniform=function(x,M){let K,C;const R={min(aa){return arguments.length?(K=aa||0,R):K},max(aa){return arguments.length?(C=null==aa?1:aa,R):C},sample:()=>Ga(K,C),pdf:aa=>la(aa,K,C),cdf:aa=>ra(aa,K,C),icdf:aa=>Qa(aa,K,C)};null==M&&(M=null==x?1:x,x=0);return R.min(x).max(M)};h.regressionExp=function(x,M,K){const [C,,R,aa]=Ta(x,M,K);let da=0,Da=0,Ja=0,J=0,fa=0,ca,W,d;L(x,M,K,(m,q)=>{ca=C[fa++];W=Math.log(q);d=ca*q;da+=(q*W-da)/fa;Da+=(d-Da)/fa;Ja+=(d*W-Ja)/fa;J+=(ca*d-J)/fa});
const [c,f]=za(Da/aa,da/aa,Ja/aa,J/aa),l=m=>Math.exp(c+f*(m-R));return{coef:[Math.exp(c-f*R),f],predict:l,rSquared:ha(x,M,K,aa,l)}};h.regressionLinear=ya;h.regressionLoess=function(x,M,K,C){const [R,aa,da,Da]=Ta(x,M,K,!0);x=R.length;M=Math.max(2,~~(C*x));C=new Float64Array(x);K=new Float64Array(x);var Ja=(new Float64Array(x)).fill(1);for(var J=-1;2>=++J;){var fa=[0,M-1];for(let w=0;w<x;++w){var ca=R[w],W=fa[0],d=fa[1],c=0,f=0,l=0,m=0;let G=0;const U=1/Math.abs(R[ca-R[W]>R[d]-ca?W:d]-ca||1);for(;W<=
d;++W){const hb=R[W],Y=aa[W];var q=Math.abs(ca-hb)*U;const ta=(q=1-q*q*q)*q*q*Ja[W];q=hb*ta;c+=ta;f+=q;l+=Y*ta;m+=Y*q;G+=hb*q}const [wa,cb]=za(f/c,l/c,m/c,G/c);C[w]=wa+cb*ca;K[w]=Math.abs(aa[w]-C[w]);ca=R;d=w+1;c=fa;f=ca[d];l=c[0];m=c[1]+1;if(!(m>=ca.length))for(;d>l&&ca[m]-f<=f-ca[l];)c[0]=++l,c[1]=m,++m}if(2===J)break;fa=r.median(K);if(1E-12>Math.abs(fa))break;for(let w=0,G,U;w<x;++w)G=K[w]/(6*fa),Ja[w]=1<=G?1E-12:(U=1-G*G)*U}x=R.length;M=[];Ja=K=0;for(J=[];K<x;++K)fa=R[K]+da,J[0]===fa?J[1]+=(C[K]-
J[1])/++Ja:(Ja=0,J[1]+=Da,J=[fa,C[K]],M.push(J));J[1]+=Da;return M};h.regressionLog=function(x,M,K){let C=0,R=0,aa=0,da=0,Da=0;L(x,M,K,(fa,ca)=>{++Da;fa=Math.log(fa);C+=(fa-C)/Da;R+=(ca-R)/Da;aa+=(fa*ca-aa)/Da;da+=(fa*fa-da)/Da});const Ja=za(C,R,aa,da),J=fa=>Ja[0]+Ja[1]*Math.log(fa);return{coef:Ja,predict:J,rSquared:ha(x,M,K,R,J)}};h.regressionPoly=function(x,M,K,C){if(1===C)return ya(x,M,K);if(2===C)return ua(x,M,K);const [R,aa,da,Da]=Ta(x,M,K);var Ja=R.length;const J=[],fa=[],ca=C+1;let W,d,c,f;
for(W=0;W<ca;++W){for(c=d=0;d<Ja;++d)c+=Math.pow(R[d],W)*aa[d];J.push(c);f=new Float64Array(ca);for(C=0;C<ca;++C){for(c=d=0;d<Ja;++d)c+=Math.pow(R[d],W+C);f[C]=c}fa.push(f)}fa.push(J);const l=Pa(fa);Ja=m=>{m-=da;let q=Da+l[0]+l[1]*m+l[2]*m*m;for(W=3;W<ca;++W)q+=l[W]*Math.pow(m,W);return q};return{coef:Ma(ca,l,-da,Da),predict:Ja,rSquared:ha(x,M,K,Da,Ja)}};h.regressionPow=function(x,M,K){let C=0,R=0,aa=0,da=0,Da=0,Ja=0;L(x,M,K,(ca,W)=>{ca=Math.log(ca);const d=Math.log(W);++Ja;C+=(ca-C)/Ja;R+=(d-R)/
Ja;aa+=(ca*d-aa)/Ja;da+=(ca*ca-da)/Ja;Da+=(W-Da)/Ja});const J=za(C,R,aa,da),fa=ca=>J[0]*Math.pow(ca,J[1]);J[0]=Math.exp(J[0]);return{coef:J,predict:fa,rSquared:ha(x,M,K,Da,fa)}};h.regressionQuad=ua;h.sampleCurve=function(x,M,K,C){K=K||25;C=Math.max(K,C||200);var R=M[0],aa=M[1],da=aa-R,Da=da/C;M=[[R,x(R)]];var Ja=[];if(K===C){for(var J=1;J<C;++J){Da=M;Ja=Da.push;var fa=R+J/K*da;fa=[fa,x(fa)];Ja.call(Da,fa)}M.push([aa,x(aa)]);return M}Ja.push([aa,x(aa)]);for(J=K;0<--J;)C=Ja,aa=C.push,fa=R+J/K*da,fa=
[fa,x(fa)],aa.call(C,fa);K=M[0];for(R=Ja[Ja.length-1];R;)da=(K[0]+R[0])/2,da=[da,x(da)],da[0]-K[0]>=Da&&Math.abs(Math.atan2(R[1]-K[1],R[0]-K[0])-Math.atan2(da[1]-K[1],da[0]-K[0]))>I?Ja.push(da):(K=R,M.push(R),Ja.pop()),R=Ja[Ja.length-1];return M};h.sampleLogNormal=xa;h.sampleNormal=Gb;h.sampleUniform=Ga;h.setRandom=function(x){h.random=x};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[17]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(15),zb(14),zb(16),zb(3),zb(6)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.d3,h.vega))})(this,function(h,r,A,Ra,sb,bb){function xb(N){return oa=>{const $a=N.length;let wb=1,Fb=String(N[0](oa));for(;wb<$a;++wb)Fb+="|"+
N[wb](oa);return Fb}}function Gb(N){return N&&N.length?1===N.length?N[0]:xb(N):function(){return""}}function ib(N,oa){return $a=>r.extend({name:N,out:$a||N},xd,oa)}function La(N,oa){return N.idx-oa.idx}function Ia(N){const oa={};N.forEach(wb=>oa[wb.name]=wb);const $a=wb=>{wb.req&&wb.req.forEach(Fb=>{oa[Fb]||$a(oa[Fb]=Rd[Fb]())})};N.forEach($a);return Object.values(oa).sort(La)}function Sa(){this.missing=this.valid=0;this._ops.forEach(N=>N.init(this))}function xa(N,oa){null==N||""===N?++this.missing:
N===N&&(++this.valid,this._ops.forEach($a=>$a.add(this,N,oa)))}function ma(N,oa){null==N||""===N?--this.missing:N===N&&(--this.valid,this._ops.forEach($a=>$a.rem(this,N,oa)))}function na(N){this._out.forEach(oa=>N[oa.out]=oa.value(this));return N}function Ba(N,oa){function $a(Kb){this._ops=wb;this._out=Fb;this.cell=Kb;this.init()}oa=oa||r.identity;const wb=Ia(N),Fb=N.slice().sort(La);$a.prototype.init=Sa;$a.prototype.add=xa;$a.prototype.rem=ma;$a.prototype.set=na;$a.prototype.get=oa;$a.fields=N.map(Kb=>
Kb.out);return $a}function Ga(N){this._key=N?r.field(N):A.tupleid;this.reset()}function la(N){A.Transform.call(this,null,N);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function ra(N){A.Transform.call(this,null,N)}function Qa(N,oa,$a){let wb=oa||[],Fb=$a||[],Kb={},ec=0;return{add:Wb=>Fb.push(Wb),remove:Wb=>Kb[N(Wb)]=++ec,size:()=>wb.length,
data:(Wb,vc)=>{ec&&(wb=wb.filter(Fc=>!Kb[N(Fc)]),Kb={},ec=0);vc&&Wb&&wb.sort(Wb);Fb.length&&(wb=Wb?r.merge(Wb,wb,Fb.sort(Wb)):wb.concat(Fb),Fb=[]);return wb}}}function za(N){A.Transform.call(this,[],N)}function Ta(N){A.Operator.call(this,null,L,N)}function L(N){return this.value&&!N.modified()?this.value:r.compare(N.fields,N.orders)}function ha(N){A.Transform.call(this,null,N)}function ya(N){A.Transform.call(this,null,N)}function ua(N,oa){var $a=N["function"];r.hasOwnProperty(ac,$a)||r.error("Unknown distribution function: "+
$a);$a=ac[$a]();for(const wb in N)if("field"===wb)$a.data((N.from||oa()).map(N[wb]));else if("distributions"===wb)$a[wb](N[wb].map(Fb=>ua(Fb,oa)));else if("function"===typeof $a[wb])$a[wb](N[wb]);return $a}function Ma(N){A.Transform.call(this,null,N)}function Pa(N){return()=>N.materialize(N.SOURCE).source}function Aa(N,oa){return N?N.map(($a,wb)=>oa[wb]||r.accessorName($a)):null}function ab(N,oa,$a){const wb=[],Fb=Za=>Za(vc);let Kb,ec,Wb,vc,Fc,va;if(null==oa)wb.push(N.map($a));else for(Kb={},ec=0,
Wb=N.length;ec<Wb;++ec)vc=N[ec],Fc=oa.map(Fb),va=Kb[Fc],va||(Kb[Fc]=va=[],va.dims=Fc,wb.push(va)),va.push($a(vc));return wb}function Va(N){A.Transform.call(this,null,N)}function I(N){A.Operator.call(this,null,x,N);this.modified(!0)}function x(N){const oa=N.expr;return this.value&&!N.modified("expr")?this.value:r.accessor($a=>oa($a,N),r.accessorFields(oa),r.accessorName(oa))}function M(N){A.Transform.call(this,[void 0,void 0],N)}function K(N,oa){A.Operator.call(this,N);this.parent=oa;this.count=0}
function C(N){A.Transform.call(this,{},N);this._keys=r.fastmap();const oa=this._targets=[];oa.active=0;oa.forEach=$a=>{for(let wb=0,Fb=oa.active;wb<Fb;++wb)$a(oa[wb],wb,oa)}}function R(N){A.Operator.call(this,null,aa,N)}function aa(N){return this.value&&!N.modified()?this.value:r.isArray(N.name)?r.array(N.name).map(oa=>r.field(oa)):r.field(N.name,N.as)}function da(N){A.Transform.call(this,r.fastmap(),N)}function Da(N){A.Transform.call(this,[],N)}function Ja(N){A.Transform.call(this,[],N)}function J(N){A.Transform.call(this,
null,N)}function fa(N){A.Transform.call(this,[],N)}function ca(N){A.Transform.call(this,[],N)}function W(N){var oa=N.method||kb.value;if(null==kb[oa])r.error("Unrecognized imputation method: "+oa);else{if(oa===kb.value){var $a=void 0!==N.value?N.value:0;return()=>$a}return kb[oa]}}function d(N){const oa=N.field;return $a=>$a?oa($a):NaN}function c(N,oa,$a,wb){var Fb=Cc=>Cc(Za),Kb=[];wb=wb?wb.slice():[];var ec={},Wb={},vc,Fc;wb.forEach((Cc,Jc)=>ec[Cc]=Jc+1);var va=0;for(Fc=N.length;va<Fc;++va){var Za=
N[va];var pb=$a(Za);var Ub=ec[pb]||(ec[pb]=wb.push(pb));var wc=(pb=oa?oa.map(Fb):oc)+"";(vc=Wb[wc])||(vc=Wb[wc]=[],Kb.push(vc),vc.values=pb);vc[Ub-1]=Za}Kb.domain=wb;return Kb}function f(N){la.call(this,N)}function l(N){A.Transform.call(this,null,N)}function m(N){A.Operator.call(this,null,q,N)}function q(N){return this.value&&!N.modified()?this.value:r.key(N.fields,N.flat)}function w(N){A.Transform.call(this,[],N);this._pending=null}function G(N){return N.modified("async")&&!(N.modified("values")||
N.modified("url")||N.modified("format"))}function U(N,oa,$a){$a.forEach(A.ingest);oa=oa.fork(oa.NO_FIELDS&oa.NO_SOURCE);oa.rem=N.value;N.value=oa.source=oa.add=$a;N._pending=null;oa.rem.length&&oa.clean(!0);return oa}function wa(N){A.Transform.call(this,{},N)}function cb(N){A.Operator.call(this,null,hb,N)}function hb(N){if(this.value&&!N.modified())return this.value;N=N.extents;const oa=N.length;let $a=Infinity,wb=-Infinity,Fb,Kb;for(Fb=0;Fb<oa;++Fb)Kb=N[Fb],Kb[0]<$a&&($a=Kb[0]),Kb[1]>wb&&(wb=Kb[1]);
return[$a,wb]}function Y(N){A.Operator.call(this,null,ta,N)}function ta(N){return this.value&&!N.modified()?this.value:N.values.reduce((oa,$a)=>oa.concat($a),[])}function H(N){A.Transform.call(this,null,N)}function Q(N){la.call(this,N)}function ja(N,oa){const $a=N.field,wb=N.value,Fb=("count"===N.op?"__count__":N.op)||"sum",Kb=r.accessorFields($a).concat(r.accessorFields(wb)),ec=qb($a,N.limit||0,oa);oa.changed()&&N.set("__pivot__",null,null,!0);return{key:N.key,groupby:N.groupby,ops:ec.map(()=>Fb),
fields:ec.map(Wb=>Ca(Wb,$a,wb,Kb)),as:ec.map(Wb=>Wb+""),modified:N.modified.bind(N)}}function Ca(N,oa,$a,wb){return r.accessor(Fb=>oa(Fb)===N?$a(Fb):NaN,wb,N+"")}function qb(N,oa,$a){const wb={},Fb=[];$a.visit($a.SOURCE,Kb=>{Kb=N(Kb);wb[Kb]||(wb[Kb]=1,Fb.push(Kb))});Fb.sort(r.ascending);return oa?Fb.slice(0,oa):Fb}function Ya(N){C.call(this,N)}function ob(N){A.Transform.call(this,null,N)}function Na(N){A.Transform.call(this,null,N)}function Ab(N){A.Transform.call(this,null,N)}function Eb(N){A.Transform.call(this,
null,N)}function eb(N){A.Transform.call(this,[],N);this.count=0}function Mb(N){A.Transform.call(this,null,N)}function jc(N){A.Transform.call(this,null,N);this.modified(!0)}function Zb(N){A.Transform.call(this,null,N)}function Hc(N){A.Transform.call(this,r.fastmap(),N)}function zc(N){A.Transform.call(this,null,N)}function ed(N,oa,$a,wb){const Fb=dd[N](oa,$a);return{init:Fb.init||r.zero,update:function(Kb,ec){ec[wb]=Fb.next(Kb)}}}function Ad(N){function oa(Ub){r.array(r.accessorFields(Ub)).forEach(wc=>
vc[wc]=1)}const $a=r.array(N.ops),wb=r.array(N.fields),Fb=r.array(N.params),Kb=r.array(N.as),ec=this.outputs=[],Wb=this.windows=[],vc={},Fc={},va=[],Za=[];let pb=!0;oa(N.sort);$a.forEach((Ub,wc)=>{const Cc=wb[wc],Jc=r.accessorName(Cc),Cb=Kb[wc]||Ub+(Jc?"_"+Jc:"");oa(Cc);ec.push(Cb);r.hasOwnProperty(dd,Ub)?Wb.push(ed(Ub,wb[wc],Fb[wc],Cb)):(null==Cc&&"count"!==Ub&&r.error("Null aggregate field specified."),"count"===Ub?va.push(Cb):(pb=!1,wc=Fc[Jc],wc||(wc=Fc[Jc]=[],wc.field=Cc,Za.push(wc)),wc.push(Rd[Ub](Cb))))});
if(va.length||Za.length)this.cell=Gc(Za,va,pb);this.inputs=Object.keys(vc)}function Gc(N,oa,$a){N=N.map(vc=>Ba(vc,vc.field));const wb={num:0,agg:null,store:!1,count:oa};if(!$a)for(var Fb=N.length,Kb=wb.agg=Array(Fb),ec=0;ec<Fb;++ec)Kb[ec]=new N[ec](wb);if(wb.store)var Wb=wb.data=new Ga;wb.add=function(vc){wb.num+=1;if(!$a){Wb&&Wb.add(vc);for(let Fc=0;Fc<Fb;++Fc)Kb[Fc].add(Kb[Fc].get(vc),vc)}};wb.rem=function(vc){--wb.num;if(!$a){Wb&&Wb.rem(vc);for(let Fc=0;Fc<Fb;++Fc)Kb[Fc].rem(Kb[Fc].get(vc),vc)}};
wb.set=function(vc){let Fc,va;Wb&&Wb.values();Fc=0;for(va=oa.length;Fc<va;++Fc)vc[oa[Fc]]=wb.num;if(!$a)for(Fc=0,va=Kb.length;Fc<va;++Fc)Kb[Fc].set(vc)};wb.init=function(){wb.num=0;Wb&&Wb.reset();for(let vc=0;vc<Fb;++vc)Kb[vc].init()};return wb}function gd(N){A.Transform.call(this,{},N);this._mlen=0;this._mods=[]}function ie(N,oa,$a,wb){var Fb=wb.sort;const Kb=Fb&&!wb.ignorePeers;wb=wb.frame||[null,0];N=N.data($a);$a=N.length;const ec=Kb?sb.bisector(Fb):null;Fb={i0:0,i1:0,p0:0,p1:0,index:0,data:N,
compare:Fb||r.constant(-1)};oa.init();for(let Za=0;Za<$a;++Za){var Wb=Fb,vc=wb,Fc=Za,va=$a;Wb.p0=Wb.i0;Wb.p1=Wb.i1;Wb.i0=null==vc[0]?0:Math.max(0,Fc-Math.abs(vc[0]));Wb.i1=null==vc[1]?va:Math.min(va,Fc+Math.abs(vc[1])+1);Wb.index=Fc;if(Kb){Wb=Fb;vc=ec;Fc=Wb.i0;va=Wb.i1-1;const pb=Wb.compare,Ub=Wb.data,wc=Ub.length-1;0<Fc&&!pb(Ub[Fc],Ub[Fc-1])&&(Wb.i0=vc.left(Ub,Ub[Fc]));va<wc&&!pb(Ub[va],Ub[va+1])&&(Wb.i1=vc.right(Ub,Ub[va]))}oa.update(Fb,N[Za])}}var Mc=()=>{};const xd={init:Mc,add:Mc,rem:Mc,idx:0},
Rd={values:{init:N=>N.cell.store=!0,value:N=>N.cell.data.values(),idx:-1},count:{value:N=>N.cell.num},__count__:{value:N=>N.missing+N.valid},missing:{value:N=>N.missing},valid:{value:N=>N.valid},sum:{init:N=>N.sum=0,value:N=>N.sum,add:(N,oa)=>N.sum+=+oa,rem:(N,oa)=>N.sum-=oa},product:{init:N=>N.product=1,value:N=>N.valid?N.product:void 0,add:(N,oa)=>N.product*=oa,rem:(N,oa)=>N.product/=oa},mean:{init:N=>N.mean=0,value:N=>N.valid?N.mean:void 0,add:(N,oa)=>(N.mean_d=oa-N.mean,N.mean+=N.mean_d/N.valid),
rem:(N,oa)=>(N.mean_d=oa-N.mean,N.mean-=N.valid?N.mean_d/N.valid:N.mean)},average:{value:N=>N.valid?N.mean:void 0,req:["mean"],idx:1},variance:{init:N=>N.dev=0,value:N=>1<N.valid?N.dev/(N.valid-1):void 0,add:(N,oa)=>N.dev+=N.mean_d*(oa-N.mean),rem:(N,oa)=>N.dev-=N.mean_d*(oa-N.mean),req:["mean"],idx:1},variancep:{value:N=>1<N.valid?N.dev/N.valid:void 0,req:["variance"],idx:2},stdev:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:N=>1<N.valid?Math.sqrt(N.dev/
N.valid):void 0,req:["variance"],idx:2},stderr:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid*(N.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:N=>N.cell.data.distinct(N.get),req:["values"],idx:3},ci0:{value:N=>N.cell.data.ci0(N.get),req:["values"],idx:3},ci1:{value:N=>N.cell.data.ci1(N.get),req:["values"],idx:3},median:{value:N=>N.cell.data.q2(N.get),req:["values"],idx:3},q1:{value:N=>N.cell.data.q1(N.get),req:["values"],idx:3},q3:{value:N=>N.cell.data.q3(N.get),req:["values"],idx:3},min:{init:N=>
N.min=void 0,value:N=>N.min=Number.isNaN(N.min)?N.cell.data.min(N.get):N.min,add:(N,oa)=>{if(oa<N.min||void 0===N.min)N.min=oa},rem:(N,oa)=>{oa<=N.min&&(N.min=NaN)},req:["values"],idx:4},max:{init:N=>N.max=void 0,value:N=>N.max=Number.isNaN(N.max)?N.cell.data.max(N.get):N.max,add:(N,oa)=>{if(oa>N.max||void 0===N.max)N.max=oa},rem:(N,oa)=>{oa>=N.max&&(N.max=NaN)},req:["values"],idx:4},argmin:{init:N=>N.argmin=void 0,value:N=>N.argmin||N.cell.data.argmin(N.get),add:(N,oa,$a)=>{oa<N.min&&(N.argmin=$a)},
rem:(N,oa)=>{oa<=N.min&&(N.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:N=>N.argmax=void 0,value:N=>N.argmax||N.cell.data.argmax(N.get),add:(N,oa,$a)=>{oa>N.max&&(N.argmax=$a)},rem:(N,oa)=>{oa>=N.max&&(N.argmax=void 0)},req:["max","values"],idx:3}};Mc=Object.keys(Rd);Mc.forEach(N=>{Rd[N]=ib(N,Rd[N])});var Db=Ga.prototype;Db.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Db.add=function(N){this._add.push(N)};Db.rem=function(N){this._rem.push(N)};Db.values=
function(){this._get=null;if(0===this._rem.length)return this._add;const N=this._add;var oa=this._rem;const $a=this._key,wb=N.length,Fb=oa.length,Kb=Array(wb-Fb),ec={};let Wb,vc;for(Wb=0;Wb<Fb;++Wb)ec[$a(oa[Wb])]=1;for(oa=Wb=0;Wb<wb;++Wb)ec[$a(vc=N[Wb])]?ec[$a(vc)]=0:Kb[oa++]=vc;this._rem=[];return this._add=Kb};Db.distinct=function(N){const oa=this.values(),$a={};let wb=oa.length,Fb=0,Kb;for(;0<=--wb;)Kb=N(oa[wb])+"",r.hasOwnProperty($a,Kb)||($a[Kb]=1,++Fb);return Fb};Db.extent=function(N){if(this._get!==
N||!this._ext){const oa=this.values(),$a=r.extentIndex(oa,N);this._ext=[oa[$a[0]],oa[$a[1]]];this._get=N}return this._ext};Db.argmin=function(N){return this.extent(N)[0]||{}};Db.argmax=function(N){return this.extent(N)[1]||{}};Db.min=function(N){const oa=this.extent(N)[0];return null!=oa?N(oa):void 0};Db.max=function(N){const oa=this.extent(N)[1];return null!=oa?N(oa):void 0};Db.quartile=function(N){this._get===N&&this._q||(this._q=Ra.quartiles(this.values(),N),this._get=N);return this._q};Db.q1=
function(N){return this.quartile(N)[0]};Db.q2=function(N){return this.quartile(N)[1]};Db.q3=function(N){return this.quartile(N)[2]};Db.ci=function(N){this._get===N&&this._ci||(this._ci=Ra.bootstrapCI(this.values(),1E3,.05,N),this._get=N);return this._ci};Db.ci0=function(N){return this.ci(N)[0]};Db.ci1=function(N){return this.ci(N)[1]};la.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Mc},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};r.inherits(la,A.Transform,{transform(N,oa){const $a=this,wb=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS),Fb=N.modified();$a.stamp=wb.stamp;$a.value&&(Fb||oa.modified($a._inputs,!0))?($a._prev=$a.value,$a.value=Fb?$a.init(N):{},oa.visit(oa.SOURCE,Kb=>$a.add(Kb))):($a.value=$a.value||$a.init(N),oa.visit(oa.REM,Kb=>$a.rem(Kb)),
oa.visit(oa.ADD,Kb=>$a.add(Kb)));wb.modifies($a._outputs);$a._drop=!1!==N.drop;N.cross&&1<$a._dims.length&&($a._drop=!1,$a.cross());oa.clean()&&$a._drop&&wb.clean(!0).runAfter(()=>this.clean());return $a.changes(wb)},cross(){function N(Wb){let vc,Fc,va,Za;for(vc in Wb)for(va=Wb[vc].tuple,Fc=0;Fc<ec;++Fc)Kb[Fc][Za=va[Fb[Fc]]]=Za}function oa(Wb,vc,Fc){const va=Fb[Fc],Za=Kb[Fc++];for(const pb in Za){const Ub=Wb?Wb+"|"+pb:pb;vc[va]=Za[pb];Fc<ec?oa(Ub,vc,Fc):wb[Ub]||$a.cell(Ub,vc)}}const $a=this,wb=$a.value,
Fb=$a._dnames,Kb=Fb.map(()=>({})),ec=Fb.length;N($a._prev);N(wb);oa("",{},0)},init(N){function oa(Cc){Cc=r.array(r.accessorFields(Cc));const Jc=Cc.length;let Cb=0,Vb;for(;Cb<Jc;++Cb)Fb[Vb=Cc[Cb]]||(Fb[Vb]=1,$a.push(Vb))}const $a=this._inputs=[],wb=this._outputs=[],Fb={};this._dims=r.array(N.groupby);this._dnames=this._dims.map(Cc=>{const Jc=r.accessorName(Cc);oa(Cc);wb.push(Jc);return Jc});this.cellkey=N.key?N.key:Gb(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Kb=N.fields||
[null],ec=N.ops||["count"];N=N.as||[];const Wb=Kb.length,vc={};let Fc,va,Za,pb,Ub,wc;Wb!==ec.length&&r.error("Unmatched number of fields and aggregate ops.");for(wc=0;wc<Wb;++wc)Fc=Kb[wc],va=ec[wc],null==Fc&&"count"!==va&&r.error("Null aggregate field specified."),pb=r.accessorName(Fc),Ub=N[wc]||va+(pb?"_"+pb:""),wb.push(Ub),"count"===va?this._counts.push(Ub):(Za=vc[pb],Za||(oa(Fc),Za=vc[pb]=[],Za.field=Fc,this._measures.push(Za)),"count"!==va&&(this._countOnly=!1),Za.push(Rd[va](Ub)));this._measures=
this._measures.map(Cc=>Ba(Cc,Cc.field));return{}},cellkey:Gb(),cell(N,oa){let $a=this.value[N];$a?0===$a.num&&this._drop&&$a.stamp<this.stamp?($a.stamp=this.stamp,this._adds[this._alen++]=$a):$a.stamp<this.stamp&&($a.stamp=this.stamp,this._mods[this._mlen++]=$a):($a=this.value[N]=this.newcell(N,oa),this._adds[this._alen++]=$a);return $a},newcell(N,oa){N={key:N,num:0,agg:null,tuple:this.newtuple(oa,this._prev&&this._prev[N]),stamp:this.stamp,store:!1};if(!this._countOnly){oa=this._measures;const $a=
oa.length;N.agg=Array($a);for(let wb=0;wb<$a;++wb)N.agg[wb]=new oa[wb](N)}N.store&&(N.data=new Ga);return N},newtuple(N,oa){const $a=this._dnames,wb=this._dims,Fb=wb.length,Kb={};for(let ec=0;ec<Fb;++ec)Kb[$a[ec]]=wb[ec](N);return oa?A.replace(oa.tuple,Kb):A.ingest(Kb)},clean(){const N=this.value;for(const oa in N)0===N[oa].num&&delete N[oa]},add(N){var oa=this.cellkey(N);oa=this.cell(oa,N);oa.num+=1;if(!this._countOnly){oa.store&&oa.data.add(N);oa=oa.agg;for(let $a=0,wb=oa.length;$a<wb;++$a)oa[$a].add(oa[$a].get(N),
N)}},rem(N){var oa=this.cellkey(N);oa=this.cell(oa,N);--oa.num;if(!this._countOnly){oa.store&&oa.data.rem(N);oa=oa.agg;for(let $a=0,wb=oa.length;$a<wb;++$a)oa[$a].rem(oa[$a].get(N),N)}},celltuple(N){const oa=N.tuple,$a=this._counts;N.store&&N.data.values();for(let wb=0,Fb=$a.length;wb<Fb;++wb)oa[$a[wb]]=N.num;if(!this._countOnly){N=N.agg;for(let wb=0,Fb=N.length;wb<Fb;++wb)N[wb].set(oa)}return oa},changes(N){const oa=this._adds,$a=this._mods;var wb=this._prev;const Fb=this._drop,Kb=N.add,ec=N.rem,
Wb=N.mod;let vc;var Fc;if(wb)for(Fc in wb)vc=wb[Fc],Fb&&!vc.num||ec.push(vc.tuple);wb=0;for(Fc=this._alen;wb<Fc;++wb)Kb.push(this.celltuple(oa[wb])),oa[wb]=null;wb=0;for(Fc=this._mlen;wb<Fc;++wb)vc=$a[wb],(0===vc.num&&Fb?ec:Wb).push(this.celltuple(vc)),$a[wb]=null;this._alen=this._mlen=0;this._prev=null;return N}});ra.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",
type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};r.inherits(ra,A.Transform,{transform(N,
oa){const $a=!1!==N.interval,wb=this._bins(N),Fb=wb.start,Kb=wb.step,ec=N.as||["bin0","bin1"],Wb=ec[0],vc=ec[1];N.modified()?(oa=oa.reflow(!0),N=oa.SOURCE):N=oa.modified(r.accessorFields(N.field))?oa.ADD_MOD:oa.ADD;oa.visit(N,$a?Fc=>{const va=wb(Fc);Fc[Wb]=va;Fc[vc]=null==va?null:Fb+Kb*(1+(va-Fb)/Kb)}:Fc=>Fc[Wb]=wb(Fc));return oa.modifies($a?ec:Wb)},_bins(N){if(this.value&&!N.modified())return this.value;const oa=N.field,$a=Ra.bin(N),wb=$a.step;let Fb=$a.start,Kb=Fb+Math.ceil(($a.stop-Fb)/wb)*wb;
var ec;null!=(ec=N.anchor)&&(ec-=Fb+wb*Math.floor((ec-Fb)/wb),Fb+=ec,Kb+=ec);ec=function(Wb){Wb=r.toNumber(oa(Wb));return null==Wb?null:Wb<Fb?-Infinity:Wb>Kb?Infinity:(Wb=Math.max(Fb,Math.min(Wb,Kb-wb)),Fb+wb*Math.floor(1E-14+(Wb-Fb)/wb))};ec.start=Fb;ec.stop=$a.stop;ec.step=wb;return this.value=r.accessor(ec,r.accessorFields(oa),N.name||"bin_"+r.accessorName(oa))}});za.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};r.inherits(za,A.Transform,{transform(N,oa){const $a=
oa.fork(oa.ALL),wb=Qa(A.tupleid,this.value,$a.materialize($a.ADD).add),Fb=N.sort;N=oa.changed()||Fb&&(N.modified("sort")||oa.modified(Fb.fields));$a.visit($a.REM,wb.remove);this.modified(N);this.value=$a.source=wb.data(A.stableCompare(Fb),N);oa.source&&oa.source.root&&(this.value.root=oa.source.root);return $a}});r.inherits(Ta,A.Operator);ha.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower",
"mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};r.inherits(ha,A.Transform,{transform(N,oa){var $a=va=>Za=>{Za=Wb(Za);var pb=Kb;switch(N.case){case "upper":Za=Za.toUpperCase();break;case "lower":Za=Za.toLowerCase()}Za=Za.match(pb)||[];var Ub;pb=0;for(var wc=Za.length;pb<wc;++pb)ec.test(Ub=Za[pb])||va(Ub)};const wb=this._parameterCheck(N,oa),Fb=this._counts,
Kb=this._match,ec=this._stop,Wb=N.field,vc=N.as||["text","count"],Fc=$a(va=>Fb[va]=1+(Fb[va]||0));$a=$a(va=>--Fb[va]);wb?oa.visit(oa.SOURCE,Fc):(oa.visit(oa.ADD,Fc),oa.visit(oa.REM,$a));return this._finish(oa,vc)},_parameterCheck(N,oa){let $a=!1;if(N.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(N.stopwords||"")+"$","i"),$a=!0;if(N.modified("pattern")||!this._match)this._match=new RegExp(N.pattern||"[\\w']+","g"),$a=!0;if(N.modified("field")||oa.modified(N.field.fields))$a=!0;$a&&
(this._counts={});return $a},_finish(N,oa){const $a=this._counts,wb=this._tuples||(this._tuples={}),Fb=oa[0],Kb=oa[1];N=N.fork(N.NO_SOURCE|N.NO_FIELDS);let ec,Wb,vc;for(ec in $a)Wb=wb[ec],vc=$a[ec]||0,!Wb&&vc?(wb[ec]=Wb=A.ingest({}),Wb[Fb]=ec,Wb[Kb]=vc,N.add.push(Wb)):0===vc?(Wb&&N.rem.push(Wb),$a[ec]=null,wb[ec]=null):Wb[Kb]!==vc&&(Wb[Kb]=vc,N.mod.push(Wb));return N.modifies(oa)}});ya.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,
length:2,"default":["a","b"]}]};r.inherits(ya,A.Transform,{transform(N,oa){const $a=oa.fork(oa.NO_SOURCE),wb=N.as||["a","b"],Fb=wb[0],Kb=wb[1];var ec=!this.value||oa.changed(oa.ADD_REM)||N.modified("as")||N.modified("filter"),Wb=this.value;if(ec){Wb&&($a.rem=Wb);oa=Wb=oa.materialize(oa.SOURCE).source;N=N.filter||r.truthy;ec=[];Wb={};for(var vc=oa.length,Fc=0,va,Za;Fc<vc;++Fc)for(Wb[Fb]=Za=oa[Fc],va=0;va<vc;++va)Wb[Kb]=oa[va],N(Wb)&&(ec.push(A.ingest(Wb)),Wb={},Wb[Fb]=Za);$a.add=this.value=ec}else $a.mod=
Wb;$a.source=this.value;return $a.modifies(wb)}});const ac={kde:Ra.randomKDE,mixture:Ra.randomMixture,normal:Ra.randomNormal,lognormal:Ra.randomLogNormal,uniform:Ra.randomUniform};Db=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",
type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ma.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",
params:Db.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Db},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};r.inherits(Ma,A.Transform,{transform(N,oa){const $a=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS);if(!this.value||oa.changed()||N.modified()){const wb=ua(N.distribution,Pa(oa));oa=N.steps||N.minsteps||25;const Fb=N.steps||N.maxsteps||200;let Kb=N.method||"pdf";"pdf"!==Kb&&"cdf"!==Kb&&r.error("Invalid density method: "+
Kb);N.extent||wb.data||r.error("Missing density extent parameter.");Kb=wb[Kb];const ec=N.as||["value","density"];N=N.extent||r.extent(wb.data());N=Ra.sampleCurve(Kb,N,oa,Fb).map(Wb=>{const vc={};vc[ec[0]]=Wb[0];vc[ec[1]]=Wb[1];return A.ingest(vc)});this.value&&($a.rem=this.value);this.value=$a.add=$a.source=N}return $a}});Va.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",
type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};r.inherits(Va,A.Transform,{transform(N,oa){if(this.value&&!N.modified()&&!oa.changed())return oa;var $a=oa.materialize(oa.SOURCE).source;const wb=ab(oa.source,N.groupby,r.identity),Fb=N.smooth||!1,Kb=N.field;$a=N.step||r.span(r.extent($a,Kb))/30;const ec=A.stableCompare((pb,Ub)=>Kb(pb)-Kb(Ub));N=N.as||"bin";const Wb=wb.length;let vc=Infinity,Fc=-Infinity,va=0,Za;for(;va<Wb;++va){const pb=wb[va].sort(ec);Za=-1;for(const Ub of Ra.dotbin(pb,
$a,Fb,Kb))Ub<vc&&(vc=Ub),Ub>Fc&&(Fc=Ub),pb[++Za][N]=Ub}this.value={start:vc,stop:Fc,step:$a};return oa.reflow(!0).modifies(N)}});r.inherits(I,A.Operator);M.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};r.inherits(M,A.Transform,{transform(N,oa){var $a=this.value;const wb=N.field;N=oa.changed()||oa.modified(wb.fields)||N.modified("field");let Fb=$a[0],Kb=$a[1];if(N||null==Fb)Fb=Infinity,Kb=-Infinity;oa.visit(N?oa.SOURCE:oa.ADD,ec=>{ec=r.toNumber(wb(ec));null!=
ec&&(ec<Fb&&(Fb=ec),ec>Kb&&(Kb=ec))});Number.isFinite(Fb)&&Number.isFinite(Kb)||(($a=r.accessorName(wb))&&($a=` for field "${$a}"`),oa.dataflow.warn(`Infinite extent${$a}: [${Fb}, ${Kb}]`),Fb=Kb=void 0);this.value=[Fb,Kb]}});r.inherits(K,A.Operator,{connect(N){this.detachSubflow=N.detachSubflow;this.targets().add(N);return N.source=this},add(N){this.count+=1;this.value.add.push(N)},rem(N){--this.count;this.value.rem.push(N)},mod(N){this.value.mod.push(N)},init(N){this.value.init(N,N.NO_SOURCE)},evaluate(){return this.value}});
r.inherits(C,A.Transform,{activate(N){this._targets[this._targets.active++]=N},subflow(N,oa,$a,wb){const Fb=this.value;let Kb=r.hasOwnProperty(Fb,N)&&Fb[N],ec;Kb?Kb.value.stamp<$a.stamp&&(Kb.init($a),this.activate(Kb)):(ec=wb||(ec=this._group[N])&&ec.tuple,wb=$a.dataflow,Kb=new K($a.fork($a.NO_SOURCE),this),wb.add(Kb).connect(oa(wb,N,ec)),Fb[N]=Kb,this.activate(Kb));return Kb},clean(){var N=this.value;let oa=0;for(const $a in N)if(0===N[$a].count){const wb=N[$a].detachSubflow;wb&&wb();delete N[$a];
++oa}oa&&(N=this._targets.filter($a=>$a&&0<$a.count),this.initTargets(N))},initTargets(N){const oa=this._targets,$a=oa.length,wb=N?N.length:0;let Fb=0;for(;Fb<wb;++Fb)oa[Fb]=N[Fb];for(;Fb<$a&&null!=oa[Fb];++Fb)oa[Fb]=null;oa.active=wb},transform(N,oa){const $a=oa.dataflow,wb=N.key,Fb=N.subflow,Kb=this._keys,ec=N.modified("key"),Wb=vc=>this.subflow(vc,Fb,oa);this._group=N.group||{};this.initTargets();oa.visit(oa.REM,vc=>{const Fc=A.tupleid(vc),va=Kb.get(Fc);void 0!==va&&(Kb.delete(Fc),Wb(va).rem(vc))});
oa.visit(oa.ADD,vc=>{const Fc=wb(vc);Kb.set(A.tupleid(vc),Fc);Wb(Fc).add(vc)});ec||oa.modified(wb.fields)?oa.visit(oa.MOD,vc=>{const Fc=A.tupleid(vc),va=Kb.get(Fc),Za=wb(vc);va===Za?Wb(Za).mod(vc):(Kb.set(Fc,Za),Wb(va).rem(vc),Wb(Za).add(vc))}):oa.changed(oa.MOD)&&oa.visit(oa.MOD,vc=>{Wb(Kb.get(A.tupleid(vc))).mod(vc)});ec&&oa.visit(oa.REFLOW,vc=>{const Fc=A.tupleid(vc),va=Kb.get(Fc),Za=wb(vc);va!==Za&&(Kb.set(Fc,Za),Wb(va).rem(vc),Wb(Za).add(vc))});oa.clean()?$a.runAfter(()=>{this.clean();Kb.clean()}):
Kb.empty>$a.cleanThreshold&&$a.runAfter(Kb.clean);return oa}});r.inherits(R,A.Operator);da.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};r.inherits(da,A.Transform,{transform(N,oa){function $a(Za){const pb=A.tupleid(Za),Ub=Fc(Za,N),wc=Fb.get(pb);Ub&&wc?(Fb.delete(pb),ec.push(Za)):Ub||wc?va&&Ub&&!wc&&vc.push(Za):(Fb.set(pb,1),Wb.push(Za))}const wb=oa.dataflow,Fb=this.value,Kb=oa.fork(),ec=Kb.add,Wb=Kb.rem,vc=Kb.mod,Fc=N.expr;let va=!0;oa.visit(oa.REM,
Za=>{const pb=A.tupleid(Za);Fb.has(pb)?Fb.delete(pb):Wb.push(Za)});oa.visit(oa.ADD,Za=>{Fc(Za,N)?ec.push(Za):Fb.set(A.tupleid(Za),1)});oa.visit(oa.MOD,$a);N.modified()&&(va=!1,oa.visit(oa.REFLOW,$a));Fb.empty>wb.cleanThreshold&&wb.runAfter(Fb.clean);return Kb}});Da.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};r.inherits(Da,A.Transform,{transform(N,oa){const $a=oa.fork(oa.NO_SOURCE),
wb=N.fields,Fb=Aa(wb,N.as||[]),Kb=N.index||null,ec=Fb.length;$a.rem=this.value;oa.visit(oa.SOURCE,Wb=>{const vc=wb.map(wc=>wc(Wb)),Fc=vc.reduce((wc,Cc)=>Math.max(wc,Cc.length),0);let va=0,Za,pb,Ub;for(;va<Fc;++va){pb=A.derive(Wb);for(Za=0;Za<ec;++Za)pb[Fb[Za]]=null==(Ub=vc[Za][va])?null:Ub;Kb&&(pb[Kb]=va);$a.add.push(pb)}});this.value=$a.source=$a.add;Kb&&$a.modifies(Kb);return $a.modifies(Fb)}});Ja.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},
{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};r.inherits(Ja,A.Transform,{transform(N,oa){const $a=oa.fork(oa.NO_SOURCE),wb=N.fields,Fb=wb.map(r.accessorName);N=N.as||["key","value"];const Kb=N[0],ec=N[1],Wb=wb.length;$a.rem=this.value;oa.visit(oa.SOURCE,vc=>{for(let Fc=0,va;Fc<Wb;++Fc)va=A.derive(vc),va[Kb]=Fb[Fc],va[ec]=wb[Fc](vc),$a.add.push(va)});this.value=$a.source=$a.add;return $a.modifies(N)}});J.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",
type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};r.inherits(J,A.Transform,{transform(N,oa){const $a=N.expr,wb=N.as,Fb=N.modified(),Kb=N.initonly?oa.ADD:Fb?oa.SOURCE:oa.modified($a.fields)||oa.modified(wb)?oa.ADD_MOD:oa.ADD;Fb&&(oa=oa.materialize().reflow(!0));N.initonly||oa.modifies(wb);return oa.visit(Kb,ec=>ec[wb]=$a(ec,N))}});r.inherits(fa,A.Transform,{transform(N,oa){oa=oa.fork(oa.ALL);const $a=N.generator;let wb=this.value,Fb=N.size-wb.length,
Kb,ec;if(0<Fb){for(Kb=[];0<=--Fb;)Kb.push(ec=A.ingest($a(N))),wb.push(ec);oa.add=oa.add.length?oa.materialize(oa.ADD).add.concat(Kb):Kb}else N=wb.slice(0,-Fb),oa.rem=oa.rem.length?oa.materialize(oa.REM).rem.concat(N):N,wb=wb.slice(-Fb);oa.source=this.value=wb;return oa}});const kb={value:"value",median:sb.median,mean:sb.mean,min:sb.min,max:sb.max},oc=[];ca.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",
array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};r.inherits(ca,A.Transform,{transform(N,oa){var $a=oa.fork(oa.ALL),wb=W(N),Fb=d(N),Kb=r.accessorName(N.field),ec=r.accessorName(N.key),Wb=(N.groupby||[]).map(r.accessorName);N=c(oa.source,N.groupby,N.key,N.keyvals);oa=[];var vc=this.value,Fc=N.domain.length,va,Za,pb;var Ub=0;for(Za=N.length;Ub<Za;++Ub){var wc=N[Ub];var Cc=wc.values;
var Jc=NaN;for(va=0;va<Fc;++va)if(null==wc[va]){var Cb=N.domain[va];var Vb={_impute:!0};var nc=0;for(pb=Cc.length;nc<pb;++nc)Vb[Wb[nc]]=Cc[nc];Vb[ec]=Cb;Vb[Kb]=Number.isNaN(Jc)?Jc=wb(wc,Fb):Jc;oa.push(A.ingest(Vb))}}oa.length&&($a.add=$a.materialize($a.ADD).add.concat(oa));vc.length&&($a.rem=$a.materialize($a.REM).rem.concat(vc));this.value=oa;return $a}});f.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,
array:!0},{name:"ops",type:"enum",array:!0,values:Mc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};r.inherits(f,la,{transform(N,oa){const $a=this,wb=N.modified();let Fb;$a.value&&(wb||oa.modified($a._inputs,!0))?(Fb=$a.value=wb?$a.init(N):{},oa.visit(oa.SOURCE,Kb=>$a.add(Kb))):(Fb=$a.value=$a.value||this.init(N),oa.visit(oa.REM,Kb=>$a.rem(Kb)),oa.visit(oa.ADD,Kb=>$a.add(Kb)));$a.changes();oa.visit(oa.SOURCE,Kb=>{r.extend(Kb,Fb[$a.cellkey(Kb)].tuple)});return oa.reflow(wb).modifies(this._outputs)},
changes(){const N=this._adds,oa=this._mods;let $a,wb;$a=0;for(wb=this._alen;$a<wb;++$a)this.celltuple(N[$a]),N[$a]=null;$a=0;for(wb=this._mlen;$a<wb;++$a)this.celltuple(oa[$a]),oa[$a]=null;this._alen=this._mlen=0}});l.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",
type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};r.inherits(l,A.Transform,{transform(N,oa){const $a=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS);if(!this.value||oa.changed()||N.modified()){oa=oa.materialize(oa.SOURCE).source;const wb=ab(oa,N.groupby,N.field),
Fb=(N.groupby||[]).map(r.accessorName),Kb=N.bandwidth,ec=N.cumulative?"cdf":"pdf",Wb=N.as||["value","density"],vc=[];let Fc=N.extent,va=N.steps||N.minsteps||25,Za=N.steps||N.maxsteps||200;"pdf"!==ec&&"cdf"!==ec&&r.error("Invalid density method: "+ec);"shared"===N.resolve&&(Fc||(Fc=r.extent(oa,N.field)),va=Za=N.steps||Za);wb.forEach(pb=>{const Ub=Ra.randomKDE(pb,Kb)[ec],wc=N.counts?pb.length:1,Cc=Fc||r.extent(pb);Ra.sampleCurve(Ub,Cc,va,Za).forEach(Jc=>{const Cb={};for(let Vb=0;Vb<Fb.length;++Vb)Cb[Fb[Vb]]=
pb.dims[Vb];Cb[Wb[0]]=Jc[0];Cb[Wb[1]]=Jc[1]*wc;vc.push(A.ingest(Cb))})});this.value&&($a.rem=this.value);this.value=$a.add=$a.source=vc}return $a}});r.inherits(m,A.Operator);r.inherits(w,A.Transform,{transform(N,oa){const $a=oa.dataflow;return this._pending?U(this,oa,this._pending):G(N)?oa.StopPropagation:N.values?U(this,oa,$a.parse(N.values,N.format)):N.async?{async:$a.request(N.url,N.format).then(wb=>{this._pending=r.array(wb.data);return Fb=>Fb.touch(this)})}:$a.request(N.url,N.format).then(wb=>
U(this,oa,r.array(wb.data)))}});wa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};r.inherits(wa,A.Transform,{transform(N,oa){const $a=N.fields,wb=N.index,Fb=N.values,Kb=null==N.default?null:N.default;var ec=N.modified();const Wb=
$a.length;let vc=ec?oa.SOURCE:oa.ADD,Fc=oa,va=N.as,Za;Fb?(Za=Fb.length,1<Wb&&!va&&r.error('Multi-field lookup requires explicit "as" parameter.'),va&&va.length!==Wb*Za&&r.error('The "as" parameter has too few output field names.'),va=va||Fb.map(r.accessorName),N=function(pb){for(var Ub=0,wc=0,Cc,Jc;Ub<Wb;++Ub)if(Jc=wb.get($a[Ub](pb)),null==Jc)for(Cc=0;Cc<Za;++Cc,++wc)pb[va[wc]]=Kb;else for(Cc=0;Cc<Za;++Cc,++wc)pb[va[wc]]=Fb[Cc](Jc)}):(va||r.error("Missing output field names."),N=function(pb){for(var Ub=
0,wc;Ub<Wb;++Ub)wc=wb.get($a[Ub](pb)),pb[va[Ub]]=null==wc?Kb:wc});ec?Fc=oa.reflow(!0):(ec=$a.some(pb=>oa.modified(pb.fields)),vc|=ec?oa.MOD:0);oa.visit(vc,N);return Fc.modifies(va)}});r.inherits(cb,A.Operator);r.inherits(Y,A.Operator);r.inherits(H,A.Transform,{transform(N,oa){this.modified(N.modified());this.value=N;return oa.fork(oa.NO_SOURCE|oa.NO_FIELDS)}});Q.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},
{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Mc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};r.inherits(Q,la,{_transform:la.prototype.transform,transform(N,oa){return this._transform(ja(N,oa),oa)}});r.inherits(Ya,C,{transform(N,oa){const $a=N.subflow,wb=N.field,Fb=Kb=>this.subflow(A.tupleid(Kb),$a,oa,Kb);(N.modified("field")||wb&&oa.modified(r.accessorFields(wb)))&&r.error("PreFacet does not support field modification.");this.initTargets();
wb?(oa.visit(oa.MOD,Kb=>{const ec=Fb(Kb);wb(Kb).forEach(Wb=>ec.mod(Wb))}),oa.visit(oa.ADD,Kb=>{const ec=Fb(Kb);wb(Kb).forEach(Wb=>ec.add(A.ingest(Wb)))}),oa.visit(oa.REM,Kb=>{const ec=Fb(Kb);wb(Kb).forEach(Wb=>ec.rem(Wb))})):(oa.visit(oa.MOD,Kb=>Fb(Kb).mod(Kb)),oa.visit(oa.ADD,Kb=>Fb(Kb).add(Kb)),oa.visit(oa.REM,Kb=>Fb(Kb).rem(Kb)));oa.clean()&&oa.runAfter(()=>this.clean());return oa}});ob.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},
{name:"as",type:"string","null":!0,array:!0}]};r.inherits(ob,A.Transform,{transform(N,oa){const $a=oa.fork(oa.NO_SOURCE),wb=N.fields,Fb=Aa(N.fields,N.as||[]),Kb=wb?(Wb,vc)=>{for(let Fc=0,va=wb.length;Fc<va;++Fc)vc[Fb[Fc]]=wb[Fc](Wb);return vc}:A.rederive;let ec;this.value?ec=this.value:(oa=oa.addAll(),ec=this.value={});oa.visit(oa.REM,Wb=>{Wb=A.tupleid(Wb);$a.rem.push(ec[Wb]);ec[Wb]=null});oa.visit(oa.ADD,Wb=>{const vc=Kb(Wb,A.ingest({}));ec[A.tupleid(Wb)]=vc;$a.add.push(vc)});oa.visit(oa.MOD,Wb=>
{$a.mod.push(Kb(Wb,ec[A.tupleid(Wb)]))});return $a}});r.inherits(Na,A.Transform,{transform(N,oa){this.value=N.value;return N.modified("value")?oa.fork(oa.NO_SOURCE|oa.NO_FIELDS):oa.StopPropagation}});Ab.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};r.inherits(Ab,
A.Transform,{transform(N,oa){const $a=oa.fork(oa.NO_SOURCE|oa.NO_FIELDS),wb=N.as||["prob","value"];if(this.value&&!N.modified()&&!oa.changed())return $a.source=this.value,$a;oa=oa.materialize(oa.SOURCE).source;oa=ab(oa,N.groupby,N.field);const Fb=(N.groupby||[]).map(r.accessorName),Kb=[],ec=N.step||.01,Wb=N.probs||sb.range(ec/2,1-1E-14,ec),vc=Wb.length;oa.forEach(Fc=>{const va=Ra.quantiles(Fc,Wb);for(let Za=0;Za<vc;++Za){const pb={};for(let Ub=0;Ub<Fb.length;++Ub)pb[Fb[Ub]]=Fc.dims[Ub];pb[wb[0]]=
Wb[Za];pb[wb[1]]=va[Za];Kb.push(A.ingest(pb))}});this.value&&($a.rem=this.value);this.value=$a.add=$a.source=Kb;return $a}});r.inherits(Eb,A.Transform,{transform(N,oa){let $a,wb;this.value?wb=this.value:($a=oa=oa.addAll(),wb=this.value={});N.derive&&($a=oa.fork(oa.NO_SOURCE),oa.visit(oa.REM,Fb=>{Fb=A.tupleid(Fb);$a.rem.push(wb[Fb]);wb[Fb]=null}),oa.visit(oa.ADD,Fb=>{const Kb=A.derive(Fb);wb[A.tupleid(Fb)]=Kb;$a.add.push(Kb)}),oa.visit(oa.MOD,Fb=>{const Kb=wb[A.tupleid(Fb)];for(const ec in Fb)Kb[ec]=
Fb[ec],$a.modifies(ec);$a.mod.push(Kb)}));return $a}});eb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};r.inherits(eb,A.Transform,{transform(N,oa){function $a(va){let Za,pb;Wb.length<Kb?Wb.push(va):(pb=~~((vc+1)*Ra.random()),pb<Wb.length&&pb>=Fc&&(Za=Wb[pb],ec[A.tupleid(Za)]&&wb.rem.push(Za),Wb[pb]=va));++vc}const wb=oa.fork(oa.NO_SOURCE);var Fb=N.modified("size");const Kb=N.size,ec=this.value.reduce((va,Za)=>(va[A.tupleid(Za)]=1,va),{});let Wb=this.value,
vc=this.count,Fc=0;oa.rem.length&&(oa.visit(oa.REM,va=>{const Za=A.tupleid(va);ec[Za]&&(ec[Za]=-1,wb.rem.push(va));--vc}),Wb=Wb.filter(va=>-1!==ec[A.tupleid(va)]));(oa.rem.length||Fb)&&Wb.length<Kb&&oa.source&&(Fc=vc=Wb.length,oa.visit(oa.SOURCE,va=>{ec[A.tupleid(va)]||$a(va)}),Fc=-1);if(Fb&&Wb.length>Kb){N=Wb.length-Kb;for(Fb=0;Fb<N;++Fb)ec[A.tupleid(Wb[Fb])]=-1,wb.rem.push(Wb[Fb]);Wb=Wb.slice(N)}oa.mod.length&&oa.visit(oa.MOD,va=>{ec[A.tupleid(va)]&&wb.mod.push(va)});oa.add.length&&oa.visit(oa.ADD,
$a);if(oa.add.length||0>Fc)wb.add=Wb.filter(va=>!ec[A.tupleid(va)]);this.count=vc;this.value=wb.source=Wb;return wb}});Mb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};r.inherits(Mb,A.Transform,{transform(N,oa){if(!this.value||N.modified()){var $a=oa.materialize().fork(oa.MOD),wb=N.as||"data";$a.rem=this.value?
oa.rem.concat(this.value):oa.rem;this.value=sb.range(N.start,N.stop,N.step||1).map(Fb=>{const Kb={};Kb[wb]=Fb;return A.ingest(Kb)});$a.add=oa.add.concat(this.value);return $a}}});r.inherits(jc,A.Transform,{transform(N,oa){this.value=oa.source;return oa.changed()?oa.fork(oa.NO_SOURCE|oa.NO_FIELDS):oa.StopPropagation}});const sc=["unit0","unit1"];Zb.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",
type:"enum",values:bb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":sc}]};r.inherits(Zb,A.Transform,{transform(N,oa){const $a=N.field,wb=!1!==N.interval;var Fb="utc"===N.timezone;const Kb=this._floor(N,oa),ec=(Fb?bb.utcInterval:bb.timeInterval)(Kb.unit).offset;Fb=N.as||sc;const Wb=
Fb[0],vc=Fb[1],Fc=Kb.step;let va=Kb.start||Infinity,Za=Kb.stop||-Infinity,pb=oa.ADD;if(N.modified()||oa.modified(r.accessorFields($a)))oa=oa.reflow(!0),pb=oa.SOURCE,va=Infinity,Za=-Infinity;oa.visit(pb,Ub=>{var wc=$a(Ub);let Cc;null==wc?(Ub[Wb]=null,wb&&(Ub[vc]=null)):(Ub[Wb]=wc=Cc=Kb(wc),wb&&(Ub[vc]=Cc=ec(wc,Fc)),wc<va&&(va=wc),Cc>Za&&(Za=Cc))});Kb.start=va;Kb.stop=Za;return oa.modifies(wb?Fb:Wb)},_floor(N,oa){var $a="utc"===N.timezone;const {units:wb,step:Fb}=N.units?{units:N.units,step:N.step||
1}:bb.timeBin({extent:N.extent||r.extent(oa.materialize(oa.SOURCE).source,N.field),maxbins:N.maxbins});N=bb.timeUnits(wb);oa=this.value||{};$a=($a?bb.utcFloor:bb.timeFloor)(N,Fb);$a.unit=r.peek(N);$a.units=N;$a.step=Fb;$a.start=oa.start;$a.stop=oa.stop;return this.value=$a}});r.inherits(Hc,A.Transform,{transform(N,oa){const $a=oa.dataflow,wb=N.field,Fb=this.value,Kb=Wb=>Fb.set(wb(Wb),Wb);let ec=!0;N.modified("field")||oa.modified(wb.fields)?(Fb.clear(),oa.visit(oa.SOURCE,Kb)):oa.changed()?(oa.visit(oa.REM,
Wb=>Fb.delete(wb(Wb))),oa.visit(oa.ADD,Kb)):ec=!1;this.modified(ec);Fb.empty>$a.cleanThreshold&&$a.runAfter(Fb.clean);return oa.fork()}});r.inherits(zc,A.Transform,{transform(N,oa){if(!this.value||N.modified("field")||N.modified("sort")||oa.changed()||N.sort&&oa.modified(N.sort.fields))this.value=(N.sort?oa.source.slice().sort(A.stableCompare(N.sort)):oa.source).map(N.field)}});const dd={row_number:function(){return{next:N=>N.index+1}},rank:function(){let N;return{init:()=>N=1,next:oa=>{const $a=
oa.index,wb=oa.data;return $a&&oa.compare(wb[$a-1],wb[$a])?N=$a+1:N}}},dense_rank:function(){let N;return{init:()=>N=1,next:oa=>{const $a=oa.index,wb=oa.data;return $a&&oa.compare(wb[$a-1],wb[$a])?++N:N}}},percent_rank:function(){const N=dd.rank(),oa=N.next;return{init:N.init,next:$a=>(oa($a)-1)/($a.data.length-1)}},cume_dist:function(){let N;return{init:()=>N=0,next:oa=>{const $a=oa.data,wb=oa.compare;oa=oa.index;if(N<oa){for(;oa+1<$a.length&&!wb($a[oa],$a[oa+1]);)++oa;N=oa}return(1+N)/$a.length}}},
ntile:function(N,oa){oa=+oa;0<oa||r.error("ntile num must be greater than zero.");N=dd.cume_dist();const $a=N.next;return{init:N.init,next:wb=>Math.ceil(oa*$a(wb))}},lag:function(N,oa){oa=+oa||1;return{next:$a=>{const wb=$a.index-oa;return 0<=wb?N($a.data[wb]):null}}},lead:function(N,oa){oa=+oa||1;return{next:$a=>{const wb=$a.index+oa;$a=$a.data;return wb<$a.length?N($a[wb]):null}}},first_value:function(N){return{next:oa=>N(oa.data[oa.i0])}},last_value:function(N){return{next:oa=>N(oa.data[oa.i1-
1])}},nth_value:function(N,oa){oa=+oa;0<oa||r.error("nth_value nth must be greater than zero.");return{next:$a=>{const wb=$a.i0+(oa-1);return wb<$a.i1?N($a.data[wb]):null}}},prev_value:function(N){let oa;return{init:()=>oa=null,next:$a=>{$a=N($a.data[$a.index]);return null!=$a?oa=$a:oa}}},next_value:function(N){let oa,$a;return{init:()=>(oa=null,$a=-1),next:wb=>{var Fb=wb.data;if(wb.index<=$a)Fb=oa;else{a:{wb=wb.index;for(let Kb=Fb.length;wb<Kb;++wb)if(null!=N(Fb[wb]))break a;wb=-1}Fb=0>($a=wb)?($a=
Fb.length,oa=null):oa=N(Fb[$a])}return Fb}}}};Db=Object.keys(dd);const vd=Ad.prototype;vd.init=function(){this.windows.forEach(N=>N.init());this.cell&&this.cell.init()};vd.update=function(N,oa){const $a=this.cell,wb=this.windows,Fb=N.data,Kb=wb&&wb.length;let ec;if($a){for(ec=N.p0;ec<N.i0;++ec)$a.rem(Fb[ec]);for(ec=N.p1;ec<N.i1;++ec)$a.add(Fb[ec]);$a.set(oa)}for(ec=0;ec<Kb;++ec)wb[ec].update(N,oa)};gd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",
type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Db.concat(Mc)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};r.inherits(gd,A.Transform,{transform(N,oa){this.stamp=oa.stamp;const $a=N.modified(),wb=A.stableCompare(N.sort),Fb=Gb(N.groupby),Kb=Wb=>this.group(Fb(Wb));
let ec=this.state;if(!ec||$a)ec=this.state=new Ad(N);$a||oa.modified(ec.inputs)?(this.value={},oa.visit(oa.SOURCE,Wb=>Kb(Wb).add(Wb))):(oa.visit(oa.REM,Wb=>Kb(Wb).remove(Wb)),oa.visit(oa.ADD,Wb=>Kb(Wb).add(Wb)));for(let Wb=0,vc=this._mlen;Wb<vc;++Wb)ie(this._mods[Wb],ec,wb,N);this._mlen=0;this._mods=[];return oa.reflow($a).modifies(ec.outputs)},group(N){let oa=this.value[N];oa||(oa=this.value[N]=Qa(A.tupleid),oa.stamp=-1);oa.stamp<this.stamp&&(oa.stamp=this.stamp,this._mods[this._mlen++]=oa);return oa}});
h.aggregate=la;h.bin=ra;h.collect=za;h.compare=Ta;h.countpattern=ha;h.cross=ya;h.density=Ma;h.dotbin=Va;h.expression=I;h.extent=M;h.facet=C;h.field=R;h.filter=da;h.flatten=Da;h.fold=Ja;h.formula=J;h.generate=fa;h.impute=ca;h.joinaggregate=f;h.kde=l;h.key=m;h.load=w;h.lookup=wa;h.multiextent=cb;h.multivalues=Y;h.params=H;h.pivot=Q;h.prefacet=Ya;h.project=ob;h.proxy=Na;h.quantile=Ab;h.relay=Eb;h.sample=eb;h.sequence=Mb;h.sieve=jc;h.subflow=K;h.timeunit=Zb;h.tupleindex=Hc;h.values=zc;h.window=gd;Object.defineProperty(h,
"__esModule",{value:!0})})};
shadow$provide[18]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function A(){return new r}const Ra=Math.PI,sb=2*Ra,bb=sb-1E-6;r.prototype=A.prototype={constructor:r,moveTo:function(xb,Gb){this._+="M"+(this._x0=this._x1=+xb)+","+(this._y0=this._y1=+Gb)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(xb,Gb){this._+="L"+(this._x1=+xb)+","+(this._y1=+Gb)},quadraticCurveTo:function(xb,Gb,ib,La){this._+="Q"+ +xb+","+ +Gb+","+(this._x1=+ib)+","+(this._y1=+La)},bezierCurveTo:function(xb,Gb,ib,La,Ia,Sa){this._+="C"+ +xb+","+ +Gb+","+ +ib+","+ +La+","+(this._x1=+Ia)+","+(this._y1=+Sa)},arcTo:function(xb,Gb,ib,La,Ia){xb=+xb;Gb=+Gb;ib=+ib;La=+La;Ia=+Ia;var Sa=this._x1,xa=this._y1,ma=ib-xb,na=La-Gb,Ba=Sa-xb,Ga=xa-Gb,la=Ba*Ba+Ga*Ga;if(0>Ia)throw Error("negative radius: "+
Ia);if(null===this._x1)this._+="M"+(this._x1=xb)+","+(this._y1=Gb);else if(1E-6<la)if(1E-6<Math.abs(Ga*ma-na*Ba)&&Ia){ib-=Sa;La-=xa;var ra=ma*ma+na*na;xa=Math.sqrt(ra);Sa=Math.sqrt(la);la=Ia*Math.tan((Ra-Math.acos((ra+la-(ib*ib+La*La))/(2*xa*Sa)))/2);Sa=la/Sa;la/=xa;1E-6<Math.abs(Sa-1)&&(this._+="L"+(xb+Sa*Ba)+","+(Gb+Sa*Ga));this._+="A"+Ia+","+Ia+",0,0,"+ +(Ga*ib>Ba*La)+","+(this._x1=xb+la*ma)+","+(this._y1=Gb+la*na)}else this._+="L"+(this._x1=xb)+","+(this._y1=Gb)},arc:function(xb,Gb,ib,La,Ia,Sa){xb=
+xb;Gb=+Gb;ib=+ib;Sa=!!Sa;var xa=ib*Math.cos(La),ma=ib*Math.sin(La),na=xb+xa,Ba=Gb+ma,Ga=1^Sa;La=Sa?La-Ia:Ia-La;if(0>ib)throw Error("negative radius: "+ib);if(null===this._x1)this._+="M"+na+","+Ba;else if(1E-6<Math.abs(this._x1-na)||1E-6<Math.abs(this._y1-Ba))this._+="L"+na+","+Ba;ib&&(0>La&&(La=La%sb+sb),La>bb?this._+="A"+ib+","+ib+",0,1,"+Ga+","+(xb-xa)+","+(Gb-ma)+"A"+ib+","+ib+",0,1,"+Ga+","+(this._x1=na)+","+(this._y1=Ba):1E-6<La&&(this._+="A"+ib+","+ib+",0,"+ +(La>=Ra)+","+Ga+","+(this._x1=
xb+ib*Math.cos(Ia))+","+(this._y1=Gb+ib*Math.sin(Ia))))},rect:function(xb,Gb,ib,La){this._+="M"+(this._x0=this._x1=+xb)+","+(this._y0=this._y1=+Gb)+"h"+ +ib+"v"+ +La+"h"+-ib+"Z"},toString:function(){return this._}};h.path=A;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[19]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(18)):"function"===typeof define&&define.amd?define(["exports","d3-path"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function A(va){return function(){return va}}function Ra(va){return 1<=va?jc:-1>=va?-jc:Math.asin(va)}function sb(va){return va.innerRadius}function bb(va){return va.outerRadius}function xb(va){return va.startAngle}function Gb(va){return va.endAngle}
function ib(va){return va&&va.padAngle}function La(va,Za,pb,Ub,wc,Cc,Jc){var Cb=va-pb,Vb=Za-Ub;Jc=(Jc?Cc:-Cc)/eb(Cb*Cb+Vb*Vb);Vb*=Jc;Cb*=-Jc;var nc=va+Vb,lc=Za+Cb,rc=pb+Vb,Vc=Ub+Cb;pb=(nc+rc)/2;Ub=(lc+Vc)/2;Za=rc-nc;va=Vc-lc;Jc=Za*Za+va*va;Cc=wc-Cc;Vc=nc*Vc-rc*lc;var zd=(0>va?-1:1)*eb(Na(0,Cc*Cc*Jc-Vc*Vc));nc=(Vc*va-Za*zd)/Jc;lc=(-Vc*Za-va*zd)/Jc;rc=(Vc*va+Za*zd)/Jc;Za=(-Vc*Za+va*zd)/Jc;va=nc-pb;Jc=lc-Ub;pb=rc-pb;Ub=Za-Ub;va*va+Jc*Jc>pb*pb+Ub*Ub&&(nc=rc,lc=Za);return{cx:nc,cy:lc,x01:-Vb,y01:-Cb,x11:nc*
(wc/Cc-1),y11:lc*(wc/Cc-1)}}function Ia(va){return"object"===typeof va&&"length"in va?va:Array.from(va)}function Sa(va){this._context=va}function xa(va){return new Sa(va)}function ma(va){return va[0]}function na(va){return va[1]}function Ba(va,Za){function pb(Cb){var Vb,nc=(Cb=Ia(Cb)).length,lc,rc=!1,Vc;null==wc&&(Jc=Cc(Vc=r.path()));for(Vb=0;Vb<=nc;++Vb)!(Vb<nc&&Ub(lc=Cb[Vb],Vb,Cb))===rc&&((rc=!rc)?Jc.lineStart():Jc.lineEnd()),rc&&Jc.point(+va(lc,Vb,Cb),+Za(lc,Vb,Cb));if(Vc)return Jc=null,Vc+""||
null}var Ub=A(!0),wc=null,Cc=xa,Jc=null;va="function"===typeof va?va:void 0===va?ma:A(va);Za="function"===typeof Za?Za:void 0===Za?na:A(Za);pb.x=function(Cb){return arguments.length?(va="function"===typeof Cb?Cb:A(+Cb),pb):va};pb.y=function(Cb){return arguments.length?(Za="function"===typeof Cb?Cb:A(+Cb),pb):Za};pb.defined=function(Cb){return arguments.length?(Ub="function"===typeof Cb?Cb:A(!!Cb),pb):Ub};pb.curve=function(Cb){return arguments.length?(Cc=Cb,null!=wc&&(Jc=Cc(wc)),pb):Cc};pb.context=
function(Cb){return arguments.length?(null==Cb?wc=Jc=null:Jc=Cc(wc=Cb),pb):wc};return pb}function Ga(va,Za,pb){function Ub(lc){var rc,Vc,zd=(lc=Ia(lc)).length,pd,ld=!1,qd,Od=Array(zd),fe=Array(zd);null==Cb&&(nc=Vb(qd=r.path()));for(rc=0;rc<=zd;++rc){if(!(rc<zd&&Jc(pd=lc[rc],rc,lc))===ld)if(ld=!ld){var le=rc;nc.areaStart();nc.lineStart()}else{nc.lineEnd();nc.lineStart();for(Vc=rc-1;Vc>=le;--Vc)nc.point(Od[Vc],fe[Vc]);nc.lineEnd();nc.areaEnd()}ld&&(Od[rc]=+va(pd,rc,lc),fe[rc]=+Za(pd,rc,lc),nc.point(Cc?
+Cc(pd,rc,lc):Od[rc],pb?+pb(pd,rc,lc):fe[rc]))}if(qd)return nc=null,qd+""||null}function wc(){return Ba().defined(Jc).curve(Vb).context(Cb)}var Cc=null,Jc=A(!0),Cb=null,Vb=xa,nc=null;va="function"===typeof va?va:void 0===va?ma:A(+va);Za="function"===typeof Za?Za:void 0===Za?A(0):A(+Za);pb="function"===typeof pb?pb:void 0===pb?na:A(+pb);Ub.x=function(lc){return arguments.length?(va="function"===typeof lc?lc:A(+lc),Cc=null,Ub):va};Ub.x0=function(lc){return arguments.length?(va="function"===typeof lc?
lc:A(+lc),Ub):va};Ub.x1=function(lc){return arguments.length?(Cc=null==lc?null:"function"===typeof lc?lc:A(+lc),Ub):Cc};Ub.y=function(lc){return arguments.length?(Za="function"===typeof lc?lc:A(+lc),pb=null,Ub):Za};Ub.y0=function(lc){return arguments.length?(Za="function"===typeof lc?lc:A(+lc),Ub):Za};Ub.y1=function(lc){return arguments.length?(pb=null==lc?null:"function"===typeof lc?lc:A(+lc),Ub):pb};Ub.lineX0=Ub.lineY0=function(){return wc().x(va).y(Za)};Ub.lineY1=function(){return wc().x(va).y(pb)};
Ub.lineX1=function(){return wc().x(Cc).y(Za)};Ub.defined=function(lc){return arguments.length?(Jc="function"===typeof lc?lc:A(!!lc),Ub):Jc};Ub.curve=function(lc){return arguments.length?(Vb=lc,null!=Cb&&(nc=Vb(Cb)),Ub):Vb};Ub.context=function(lc){return arguments.length?(null==lc?Cb=nc=null:nc=Vb(Cb=lc),Ub):Cb};return Ub}function la(va,Za){return Za<va?-1:Za>va?1:Za>=va?0:NaN}function ra(va){return va}function Qa(va){this._curve=va}function za(va){function Za(pb){return new Qa(va(pb))}Za._curve=va;
return Za}function Ta(va){var Za=va.curve;va.angle=va.x;delete va.x;va.radius=va.y;delete va.y;va.curve=function(pb){return arguments.length?Za(za(pb)):Za()._curve};return va}function L(){return Ta(Ba().curve(zc))}function ha(){var va=Ga().curve(zc),Za=va.curve,pb=va.lineX0,Ub=va.lineX1,wc=va.lineY0,Cc=va.lineY1;va.angle=va.x;delete va.x;va.startAngle=va.x0;delete va.x0;va.endAngle=va.x1;delete va.x1;va.radius=va.y;delete va.y;va.innerRadius=va.y0;delete va.y0;va.outerRadius=va.y1;delete va.y1;va.lineStartAngle=
function(){return Ta(pb())};delete va.lineX0;va.lineEndAngle=function(){return Ta(Ub())};delete va.lineX1;va.lineInnerRadius=function(){return Ta(wc())};delete va.lineY0;va.lineOuterRadius=function(){return Ta(Cc())};delete va.lineY1;va.curve=function(Jc){return arguments.length?Za(za(Jc)):Za()._curve};return va}function ya(va,Za){return[(Za=+Za)*Math.cos(va-=Math.PI/2),Za*Math.sin(va)]}function ua(va){return va.source}function Ma(va){return va.target}function Pa(va){function Za(){var Cb,Vb=Hc.call(arguments),
nc=pb.apply(this,Vb),lc=Ub.apply(this,Vb);Jc||(Jc=Cb=r.path());va(Jc,+wc.apply(this,(Vb[0]=nc,Vb)),+Cc.apply(this,Vb),+wc.apply(this,(Vb[0]=lc,Vb)),+Cc.apply(this,Vb));if(Cb)return Jc=null,Cb+""||null}var pb=ua,Ub=Ma,wc=ma,Cc=na,Jc=null;Za.source=function(Cb){return arguments.length?(pb=Cb,Za):pb};Za.target=function(Cb){return arguments.length?(Ub=Cb,Za):Ub};Za.x=function(Cb){return arguments.length?(wc="function"===typeof Cb?Cb:A(+Cb),Za):wc};Za.y=function(Cb){return arguments.length?(Cc="function"===
typeof Cb?Cb:A(+Cb),Za):Cc};Za.context=function(Cb){return arguments.length?(Jc=null==Cb?null:Cb,Za):Jc};return Za}function Aa(va,Za,pb,Ub,wc){va.moveTo(Za,pb);va.bezierCurveTo(Za=(Za+Ub)/2,pb,Za,wc,Ub,wc)}function ab(va,Za,pb,Ub,wc){va.moveTo(Za,pb);va.bezierCurveTo(Za,pb=(pb+wc)/2,Ub,pb,Ub,wc)}function Va(va,Za,pb,Ub,wc){var Cc=ya(Za,pb);Za=ya(Za,pb=(pb+wc)/2);pb=ya(Ub,pb);Ub=ya(Ub,wc);va.moveTo(Cc[0],Cc[1]);va.bezierCurveTo(Za[0],Za[1],pb[0],pb[1],Ub[0],Ub[1])}function I(){}function x(va,Za,pb){va._context.bezierCurveTo((2*
va._x0+va._x1)/3,(2*va._y0+va._y1)/3,(va._x0+2*va._x1)/3,(va._y0+2*va._y1)/3,(va._x0+4*va._x1+Za)/6,(va._y0+4*va._y1+pb)/6)}function M(va){this._context=va}function K(va){this._context=va}function C(va){this._context=va}function R(va,Za){this._basis=new M(va);this._beta=Za}function aa(va,Za,pb){va._context.bezierCurveTo(va._x1+va._k*(va._x2-va._x0),va._y1+va._k*(va._y2-va._y0),va._x2+va._k*(va._x1-Za),va._y2+va._k*(va._y1-pb),va._x2,va._y2)}function da(va,Za){this._context=va;this._k=(1-Za)/6}function Da(va,
Za){this._context=va;this._k=(1-Za)/6}function Ja(va,Za){this._context=va;this._k=(1-Za)/6}function J(va,Za,pb){var Ub=va._x1,wc=va._y1,Cc=va._x2,Jc=va._y2;if(1E-12<va._l01_a){var Cb=2*va._l01_2a+3*va._l01_a*va._l12_a+va._l12_2a,Vb=3*va._l01_a*(va._l01_a+va._l12_a);Ub=(Ub*Cb-va._x0*va._l12_2a+va._x2*va._l01_2a)/Vb;wc=(wc*Cb-va._y0*va._l12_2a+va._y2*va._l01_2a)/Vb}1E-12<va._l23_a&&(Cb=2*va._l23_2a+3*va._l23_a*va._l12_a+va._l12_2a,Vb=3*va._l23_a*(va._l23_a+va._l12_a),Cc=(Cc*Cb+va._x1*va._l23_2a-Za*
va._l12_2a)/Vb,Jc=(Jc*Cb+va._y1*va._l23_2a-pb*va._l12_2a)/Vb);va._context.bezierCurveTo(Ub,wc,Cc,Jc,va._x2,va._y2)}function fa(va,Za){this._context=va;this._alpha=Za}function ca(va,Za){this._context=va;this._alpha=Za}function W(va,Za){this._context=va;this._alpha=Za}function d(va){this._context=va}function c(va,Za,pb){var Ub=va._x1-va._x0;Za-=va._x1;var wc=(va._y1-va._y0)/(Ub||0>Za&&-0);va=(pb-va._y1)/(Za||0>Ub&&-0);return((0>wc?-1:1)+(0>va?-1:1))*Math.min(Math.abs(wc),Math.abs(va),.5*Math.abs((wc*
Za+va*Ub)/(Ub+Za)))||0}function f(va,Za){var pb=va._x1-va._x0;return pb?(3*(va._y1-va._y0)/pb-Za)/2:Za}function l(va,Za,pb){var Ub=va._x0,wc=va._x1,Cc=va._y1,Jc=(wc-Ub)/3;va._context.bezierCurveTo(Ub+Jc,va._y0+Jc*Za,wc-Jc,Cc-Jc*pb,wc,Cc)}function m(va){this._context=va}function q(va){this._context=new w(va)}function w(va){this._context=va}function G(va){this._context=va}function U(va){var Za,pb=va.length-1,Ub=Array(pb),wc=Array(pb),Cc=Array(pb);Ub[0]=0;wc[0]=2;Cc[0]=va[0]+2*va[1];for(Za=1;Za<pb-1;++Za)Ub[Za]=
1,wc[Za]=4,Cc[Za]=4*va[Za]+2*va[Za+1];Ub[pb-1]=2;wc[pb-1]=7;Cc[pb-1]=8*va[pb-1]+va[pb];for(Za=1;Za<pb;++Za){var Jc=Ub[Za]/wc[Za-1];wc[Za]-=Jc;Cc[Za]-=Jc*Cc[Za-1]}Ub[pb-1]=Cc[pb-1]/wc[pb-1];for(Za=pb-2;0<=Za;--Za)Ub[Za]=(Cc[Za]-Ub[Za+1])/wc[Za];wc[pb-1]=(va[pb]+Ub[pb-1])/2;for(Za=0;Za<pb-1;++Za)wc[Za]=2*va[Za+1]-Ub[Za+1];return[Ub,wc]}function wa(va,Za){this._context=va;this._t=Za}function cb(va,Za){if(1<(Jc=va.length))for(var pb=1,Ub,wc,Cc=va[Za[0]],Jc,Cb=Cc.length;pb<Jc;++pb)for(wc=Cc,Cc=va[Za[pb]],
Ub=0;Ub<Cb;++Ub)Cc[Ub][1]+=Cc[Ub][0]=isNaN(wc[Ub][1])?wc[Ub][0]:wc[Ub][1]}function hb(va){va=va.length;for(var Za=Array(va);0<=--va;)Za[va]=va;return Za}function Y(va,Za){return va[Za]}function ta(va){const Za=[];Za.key=va;return Za}function H(va){var Za=va.map(Q);return hb(va).sort(function(pb,Ub){return Za[pb]-Za[Ub]})}function Q(va){for(var Za=-1,pb=0,Ub=va.length,wc,Cc=-Infinity;++Za<Ub;)(wc=+va[Za][1])>Cc&&(Cc=wc,pb=Za);return pb}function ja(va){var Za=va.map(Ca);return hb(va).sort(function(pb,
Ub){return Za[pb]-Za[Ub]})}function Ca(va){for(var Za=0,pb=-1,Ub=va.length,wc;++pb<Ub;)if(wc=+va[pb][1])Za+=wc;return Za}var qb=Math.abs,Ya=Math.atan2,ob=Math.cos,Na=Math.max,Ab=Math.min,Eb=Math.sin,eb=Math.sqrt,Mb=Math.PI,jc=Mb/2,Zb=2*Mb,Hc=Array.prototype.slice;Sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},
point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,Za):this._context.moveTo(va,Za);break;case 1:this._point=2;default:this._context.lineTo(va,Za)}}};var zc=za(xa);Qa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(va,Za){this._curve.point(Za*Math.sin(va),Za*-Math.cos(va))}};var ed={draw:function(va,
Za){Za=Math.sqrt(Za/Mb);va.moveTo(Za,0);va.arc(0,0,Za,0,Zb)}},Ad={draw:function(va,Za){Za=Math.sqrt(Za/5)/2;va.moveTo(-3*Za,-Za);va.lineTo(-Za,-Za);va.lineTo(-Za,-3*Za);va.lineTo(Za,-3*Za);va.lineTo(Za,-Za);va.lineTo(3*Za,-Za);va.lineTo(3*Za,Za);va.lineTo(Za,Za);va.lineTo(Za,3*Za);va.lineTo(-Za,3*Za);va.lineTo(-Za,Za);va.lineTo(-3*Za,Za);va.closePath()}},Gc=Math.sqrt(1/3),gd=2*Gc,ie={draw:function(va,Za){Za=Math.sqrt(Za/gd);var pb=Za*Gc;va.moveTo(0,-Za);va.lineTo(pb,0);va.lineTo(0,Za);va.lineTo(-pb,
0);va.closePath()}},Mc=Math.sin(Mb/10)/Math.sin(7*Mb/10),xd=Math.sin(Zb/10)*Mc,Rd=-Math.cos(Zb/10)*Mc,Db={draw:function(va,Za){Za=Math.sqrt(.8908130915292852*Za);var pb=xd*Za,Ub=Rd*Za;va.moveTo(0,-Za);va.lineTo(pb,Ub);for(var wc=1;5>wc;++wc){var Cc=Zb*wc/5,Jc=Math.cos(Cc);Cc=Math.sin(Cc);va.lineTo(Cc*Za,-Jc*Za);va.lineTo(Jc*pb-Cc*Ub,Cc*pb+Jc*Ub)}va.closePath()}},ac={draw:function(va,Za){Za=Math.sqrt(Za);var pb=-Za/2;va.rect(pb,pb,Za,Za)}},kb=Math.sqrt(3),oc={draw:function(va,Za){Za=-Math.sqrt(Za/
(3*kb));va.moveTo(0,2*Za);va.lineTo(-kb*Za,-Za);va.lineTo(kb*Za,-Za);va.closePath()}},sc=Math.sqrt(3)/2,dd=1/Math.sqrt(12),vd=3*(dd/2+1),N={draw:function(va,Za){var pb=Math.sqrt(Za/vd);Za=pb/2;var Ub=pb*dd;pb=pb*dd+pb;var wc=-Za;va.moveTo(Za,Ub);va.lineTo(Za,pb);va.lineTo(wc,pb);va.lineTo(-.5*Za-sc*Ub,sc*Za+-.5*Ub);va.lineTo(-.5*Za-sc*pb,sc*Za+-.5*pb);va.lineTo(-.5*wc-sc*pb,sc*wc+-.5*pb);va.lineTo(-.5*Za+sc*Ub,-.5*Ub-sc*Za);va.lineTo(-.5*Za+sc*pb,-.5*pb-sc*Za);va.lineTo(-.5*wc+sc*pb,-.5*pb-sc*wc);
va.closePath()}},oa=[ed,Ad,ie,ac,Db,oc,N];M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._line?
this._context.lineTo(va,Za):this._context.moveTo(va,Za);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x(this,va,Za)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Za}};K.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._x2=va;this._y2=Za;break;case 1:this._point=2;this._x3=va;this._y3=Za;break;case 2:this._point=3;this._x4=
va;this._y4=Za;this._context.moveTo((this._x0+4*this._x1+va)/6,(this._y0+4*this._y1+Za)/6);break;default:x(this,va,Za)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Za}};C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var pb=(this._x0+4*this._x1+va)/6,Ub=(this._y0+4*this._y1+Za)/6;this._line?this._context.lineTo(pb,Ub):this._context.moveTo(pb,Ub);break;case 3:this._point=4;default:x(this,va,Za)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Za}};class $a{constructor(va,Za){this._context=va;this._x=Za}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line}point(va,Za){va=+va;Za=+Za;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,Za):this._context.moveTo(va,Za);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+va)/2,this._y0,this._x0,Za,va,Za):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+Za)/2,va,this._y0,va,Za)}this._x0=va;this._y0=Za}}R.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var va=this._x,
Za=this._y,pb=va.length-1;if(0<pb)for(var Ub=va[0],wc=Za[0],Cc=va[pb]-Ub,Jc=Za[pb]-wc,Cb=-1,Vb;++Cb<=pb;)Vb=Cb/pb,this._basis.point(this._beta*va[Cb]+(1-this._beta)*(Ub+Vb*Cc),this._beta*Za[Cb]+(1-this._beta)*(wc+Vb*Jc));this._x=this._y=null;this._basis.lineEnd()},point:function(va,Za){this._x.push(+va);this._y.push(+Za)}};var wb=function pb(Za){function Ub(wc){return 1===Za?new M(wc):new R(wc,Za)}Ub.beta=function(wc){return pb(+wc)};return Ub}(.85);da.prototype={areaStart:function(){this._line=0},
areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:aa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Za,pb){Za=+Za;pb=+pb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Za,pb):this._context.moveTo(Za,pb);break;
case 1:this._point=2;this._x1=Za;this._y1=pb;break;case 2:this._point=3;default:aa(this,Za,pb)}this._x0=this._x1;this._x1=this._x2;this._x2=Za;this._y0=this._y1;this._y1=this._y2;this._y2=pb}};var Fb=function Ub(pb){function wc(Cc){return new da(Cc,pb)}wc.tension=function(Cc){return Ub(+Cc)};return wc}(0);Da.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(pb,Ub){pb=+pb;Ub=+Ub;switch(this._point){case 0:this._point=1;this._x3=pb;this._y3=Ub;break;case 1:this._point=2;this._context.moveTo(this._x4=pb,this._y4=Ub);break;case 2:this._point=3;this._x5=pb;this._y5=Ub;break;default:aa(this,pb,Ub)}this._x0=this._x1;this._x1=
this._x2;this._x2=pb;this._y0=this._y1;this._y1=this._y2;this._y2=Ub}};var Kb=function wc(Ub){function Cc(Jc){return new Da(Jc,Ub)}Cc.tension=function(Jc){return wc(+Jc)};return Cc}(0);Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ub,wc){Ub=
+Ub;wc=+wc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aa(this,Ub,wc)}this._x0=this._x1;this._x1=this._x2;this._x2=Ub;this._y0=this._y1;this._y1=this._y2;this._y2=wc}};var ec=function Cc(wc){function Jc(Cb){return new Ja(Cb,wc)}Jc.tension=function(Cb){return Cc(+Cb)};return Jc}(0);fa.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wc,Cc){wc=+wc;Cc=+Cc;if(this._point){var Jc=this._x2-
wc,Cb=this._y2-Cc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Jc*Jc+Cb*Cb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(wc,Cc):this._context.moveTo(wc,Cc);break;case 1:this._point=2;break;case 2:this._point=3;default:J(this,wc,Cc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=wc;this._y0=this._y1;this._y1=this._y2;this._y2=Cc}};var Wb=function Jc(Cc){function Cb(Vb){return Cc?
new fa(Vb,Cc):new da(Vb,0)}Cb.alpha=function(Vb){return Jc(+Vb)};return Cb}(.5);ca.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);
this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Cc,Jc){Cc=+Cc;Jc=+Jc;if(this._point){var Cb=this._x2-Cc,Vb=this._y2-Jc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Cb*Cb+Vb*Vb,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Cc;this._y3=Jc;break;case 1:this._point=2;this._context.moveTo(this._x4=Cc,this._y4=Jc);break;case 2:this._point=3;this._x5=Cc;this._y5=Jc;break;default:J(this,Cc,Jc)}this._l01_a=
this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Cc;this._y0=this._y1;this._y1=this._y2;this._y2=Jc}};var vc=function Cb(Jc){function Vb(nc){return Jc?new ca(nc,Jc):new Da(nc,0)}Vb.alpha=function(nc){return Cb(+nc)};return Vb}(.5);W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=
this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Jc,Cb){Jc=+Jc;Cb=+Cb;if(this._point){var Vb=this._x2-Jc,nc=this._y2-Cb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Vb*Vb+nc*nc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,
this._y2);break;case 3:this._point=4;default:J(this,Jc,Cb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Jc;this._y0=this._y1;this._y1=this._y2;this._y2=Cb}};var Fc=function Vb(Cb){function nc(lc){return Cb?new W(lc,Cb):new Ja(lc,0)}nc.alpha=function(lc){return Vb(+lc)};return nc}(.5);d.prototype={areaStart:I,areaEnd:I,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},
point:function(Cb,Vb){Cb=+Cb;Vb=+Vb;this._point?this._context.lineTo(Cb,Vb):(this._point=1,this._context.moveTo(Cb,Vb))}};m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l(this,this._t0,f(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(Cb,Vb){var nc=NaN;Cb=+Cb;Vb=+Vb;if(Cb!==this._x1||Vb!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Cb,Vb):this._context.moveTo(Cb,Vb);break;case 1:this._point=2;break;case 2:this._point=3;l(this,f(this,nc=c(this,Cb,Vb)),nc);break;default:l(this,this._t0,nc=c(this,Cb,Vb))}this._x0=this._x1;this._x1=Cb;this._y0=this._y1;this._y1=Vb;this._t0=nc}}};(q.prototype=Object.create(m.prototype)).point=function(Cb,Vb){m.prototype.point.call(this,
Vb,Cb)};w.prototype={moveTo:function(Cb,Vb){this._context.moveTo(Vb,Cb)},closePath:function(){this._context.closePath()},lineTo:function(Cb,Vb){this._context.lineTo(Vb,Cb)},bezierCurveTo:function(Cb,Vb,nc,lc,rc,Vc){this._context.bezierCurveTo(Vb,Cb,lc,nc,Vc,rc)}};G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Cb=this._x,Vb=this._y,nc=Cb.length;if(nc)if(this._line?this._context.lineTo(Cb[0],Vb[0]):
this._context.moveTo(Cb[0],Vb[0]),2===nc)this._context.lineTo(Cb[1],Vb[1]);else for(var lc=U(Cb),rc=U(Vb),Vc=0,zd=1;zd<nc;++Vc,++zd)this._context.bezierCurveTo(lc[0][Vc],rc[0][Vc],lc[1][Vc],rc[1][Vc],Cb[zd],Vb[zd]);(this._line||0!==this._line&&1===nc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Cb,Vb){this._x.push(+Cb);this._y.push(+Vb)}};wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=
NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(Cb,Vb){Cb=+Cb;Vb=+Vb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Cb,Vb):this._context.moveTo(Cb,Vb);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Vb),this._context.lineTo(Cb,Vb);
else{var nc=this._x*(1-this._t)+Cb*this._t;this._context.lineTo(nc,this._y);this._context.lineTo(nc,Vb)}}this._x=Cb;this._y=Vb}};h.arc=function(){function Cb(){var qd,Od=+Vb.apply(this,arguments),fe=+nc.apply(this,arguments),le=Vc.apply(this,arguments)-jc,Kd=zd.apply(this,arguments)-jc,Ie=qb(Kd-le),he=Kd>le;ld||(ld=qd=r.path());if(fe<Od){var Be=fe;fe=Od;Od=Be}if(1E-12<fe)if(Ie>Zb-1E-12)ld.moveTo(fe*ob(le),fe*Eb(le)),ld.arc(0,0,fe,le,Kd,!he),1E-12<Od&&(ld.moveTo(Od*ob(Kd),Od*Eb(Kd)),ld.arc(0,0,Od,
Kd,le,he));else{var Dd=le,be=Kd;Be=le;var V=Kd,qa=Ie,Fa=Ie,rb=pd.apply(this,arguments)/2,gb=1E-12<rb&&(rc?+rc.apply(this,arguments):eb(Od*Od+fe*fe)),Lb=Ab(qb(fe-Od)/2,+lc.apply(this,arguments)),Rb=Lb,kc=Lb;if(1E-12<gb){var Zc=Ra(gb/Od*Eb(rb));rb=Ra(gb/fe*Eb(rb));1E-12<(qa-=2*Zc)?(Zc*=he?1:-1,Be+=Zc,V-=Zc):(qa=0,Be=V=(le+Kd)/2);1E-12<(Fa-=2*rb)?(rb*=he?1:-1,Dd+=rb,be-=rb):(Fa=0,Dd=be=(le+Kd)/2)}le=fe*ob(Dd);Kd=fe*Eb(Dd);Zc=Od*ob(V);rb=Od*Eb(V);if(1E-12<Lb){var Bc=fe*ob(be),Nc=fe*Eb(be),Yb=Od*ob(Be),
nd=Od*Eb(Be);if(Ie=Ie<Mb){var cd=Yb-le;Ie=nd-Kd;gb=Zc-Bc;var Xb=rb-Nc,oe=Xb*cd-gb*Ie;1E-12>oe*oe?cd=void 0:(oe=(gb*(Kd-Nc)-Xb*(le-Bc))/oe,cd=[le+oe*cd,Kd+oe*Ie]);Ie=cd}Ie&&(Rb=le-cd[0],kc=Kd-cd[1],Ie=Bc-cd[0],gb=Nc-cd[1],Rb=(Rb*Ie+kc*gb)/(eb(Rb*Rb+kc*kc)*eb(Ie*Ie+gb*gb)),kc=1/Eb((1<Rb?0:-1>Rb?Mb:Math.acos(Rb))/2),cd=eb(cd[0]*cd[0]+cd[1]*cd[1]),Rb=Ab(Lb,(Od-cd)/(kc-1)),kc=Ab(Lb,(fe-cd)/(kc+1)))}1E-12<Fa?1E-12<kc?(Dd=La(Yb,nd,le,Kd,fe,kc,he),be=La(Bc,Nc,Zc,rb,fe,kc,he),ld.moveTo(Dd.cx+Dd.x01,Dd.cy+
Dd.y01),kc<Lb?ld.arc(Dd.cx,Dd.cy,kc,Ya(Dd.y01,Dd.x01),Ya(be.y01,be.x01),!he):(ld.arc(Dd.cx,Dd.cy,kc,Ya(Dd.y01,Dd.x01),Ya(Dd.y11,Dd.x11),!he),ld.arc(0,0,fe,Ya(Dd.cy+Dd.y11,Dd.cx+Dd.x11),Ya(be.cy+be.y11,be.cx+be.x11),!he),ld.arc(be.cx,be.cy,kc,Ya(be.y11,be.x11),Ya(be.y01,be.x01),!he))):(ld.moveTo(le,Kd),ld.arc(0,0,fe,Dd,be,!he)):ld.moveTo(le,Kd);1E-12<Od&&1E-12<qa?1E-12<Rb?(Dd=La(Zc,rb,Bc,Nc,Od,-Rb,he),be=La(le,Kd,Yb,nd,Od,-Rb,he),ld.lineTo(Dd.cx+Dd.x01,Dd.cy+Dd.y01),Rb<Lb?ld.arc(Dd.cx,Dd.cy,Rb,Ya(Dd.y01,
Dd.x01),Ya(be.y01,be.x01),!he):(ld.arc(Dd.cx,Dd.cy,Rb,Ya(Dd.y01,Dd.x01),Ya(Dd.y11,Dd.x11),!he),ld.arc(0,0,Od,Ya(Dd.cy+Dd.y11,Dd.cx+Dd.x11),Ya(be.cy+be.y11,be.cx+be.x11),he),ld.arc(be.cx,be.cy,Rb,Ya(be.y11,be.x11),Ya(be.y01,be.x01),!he))):ld.arc(0,0,Od,V,Be,he):ld.lineTo(Zc,rb)}else ld.moveTo(0,0);ld.closePath();if(qd)return ld=null,qd+""||null}var Vb=sb,nc=bb,lc=A(0),rc=null,Vc=xb,zd=Gb,pd=ib,ld=null;Cb.centroid=function(){var qd=(+Vb.apply(this,arguments)+ +nc.apply(this,arguments))/2,Od=(+Vc.apply(this,
arguments)+ +zd.apply(this,arguments))/2-Mb/2;return[ob(Od)*qd,Eb(Od)*qd]};Cb.innerRadius=function(qd){return arguments.length?(Vb="function"===typeof qd?qd:A(+qd),Cb):Vb};Cb.outerRadius=function(qd){return arguments.length?(nc="function"===typeof qd?qd:A(+qd),Cb):nc};Cb.cornerRadius=function(qd){return arguments.length?(lc="function"===typeof qd?qd:A(+qd),Cb):lc};Cb.padRadius=function(qd){return arguments.length?(rc=null==qd?null:"function"===typeof qd?qd:A(+qd),Cb):rc};Cb.startAngle=function(qd){return arguments.length?
(Vc="function"===typeof qd?qd:A(+qd),Cb):Vc};Cb.endAngle=function(qd){return arguments.length?(zd="function"===typeof qd?qd:A(+qd),Cb):zd};Cb.padAngle=function(qd){return arguments.length?(pd="function"===typeof qd?qd:A(+qd),Cb):pd};Cb.context=function(qd){return arguments.length?(ld=null==qd?null:qd,Cb):ld};return Cb};h.area=Ga;h.areaRadial=ha;h.curveBasis=function(Cb){return new M(Cb)};h.curveBasisClosed=function(Cb){return new K(Cb)};h.curveBasisOpen=function(Cb){return new C(Cb)};h.curveBumpX=
function(Cb){return new $a(Cb,!0)};h.curveBumpY=function(Cb){return new $a(Cb,!1)};h.curveBundle=wb;h.curveCardinal=Fb;h.curveCardinalClosed=Kb;h.curveCardinalOpen=ec;h.curveCatmullRom=Wb;h.curveCatmullRomClosed=vc;h.curveCatmullRomOpen=Fc;h.curveLinear=xa;h.curveLinearClosed=function(Cb){return new d(Cb)};h.curveMonotoneX=function(Cb){return new m(Cb)};h.curveMonotoneY=function(Cb){return new q(Cb)};h.curveNatural=function(Cb){return new G(Cb)};h.curveStep=function(Cb){return new wa(Cb,.5)};h.curveStepAfter=
function(Cb){return new wa(Cb,1)};h.curveStepBefore=function(Cb){return new wa(Cb,0)};h.line=Ba;h.lineRadial=L;h.linkHorizontal=function(){return Pa(Aa)};h.linkRadial=function(){var Cb=Pa(Va);Cb.angle=Cb.x;delete Cb.x;Cb.radius=Cb.y;delete Cb.y;return Cb};h.linkVertical=function(){return Pa(ab)};h.pie=function(){function Cb(pd){var ld,qd=(pd=Ia(pd)).length;var Od=0;var fe=Array(qd),le=Array(qd),Kd=+rc.apply(this,arguments);var Ie=Math.min(Zb,Math.max(-Zb,Vc.apply(this,arguments)-Kd));var he=Math.min(Math.abs(Ie)/
qd,zd.apply(this,arguments)),Be=he*(0>Ie?-1:1),Dd;for(ld=0;ld<qd;++ld)0<(Dd=le[fe[ld]=ld]=+Vb(pd[ld],ld,pd))&&(Od+=Dd);null!=nc?fe.sort(function(V,qa){return nc(le[V],le[qa])}):null!=lc&&fe.sort(function(V,qa){return lc(pd[V],pd[qa])});ld=0;for(Ie=Od?(Ie-qd*Be)/Od:0;ld<qd;++ld,Kd=be){Od=fe[ld];Dd=le[Od];var be=Kd+(0<Dd?Dd*Ie:0)+Be;le[Od]={data:pd[Od],index:ld,value:Dd,startAngle:Kd,endAngle:be,padAngle:he}}return le}var Vb=ra,nc=la,lc=null,rc=A(0),Vc=A(Zb),zd=A(0);Cb.value=function(pd){return arguments.length?
(Vb="function"===typeof pd?pd:A(+pd),Cb):Vb};Cb.sortValues=function(pd){return arguments.length?(nc=pd,lc=null,Cb):nc};Cb.sort=function(pd){return arguments.length?(lc=pd,nc=null,Cb):lc};Cb.startAngle=function(pd){return arguments.length?(rc="function"===typeof pd?pd:A(+pd),Cb):rc};Cb.endAngle=function(pd){return arguments.length?(Vc="function"===typeof pd?pd:A(+pd),Cb):Vc};Cb.padAngle=function(pd){return arguments.length?(zd="function"===typeof pd?pd:A(+pd),Cb):zd};return Cb};h.pointRadial=ya;h.radialArea=
ha;h.radialLine=L;h.stack=function(){function Cb(Vc){var zd=Array.from(Vb.apply(this,arguments),ta),pd=zd.length,ld=-1;for(const Od of Vc){var qd=0;for(++ld;qd<pd;++qd)(zd[qd][ld]=[0,+rc(Od,zd[qd].key,ld,Vc)]).data=Od}qd=0;for(ld=Ia(nc(zd));qd<pd;++qd)zd[ld[qd]].index=qd;lc(zd,ld);return zd}var Vb=A([]),nc=hb,lc=cb,rc=Y;Cb.keys=function(Vc){return arguments.length?(Vb="function"===typeof Vc?Vc:A(Array.from(Vc)),Cb):Vb};Cb.value=function(Vc){return arguments.length?(rc="function"===typeof Vc?Vc:A(+Vc),
Cb):rc};Cb.order=function(Vc){return arguments.length?(nc=null==Vc?hb:"function"===typeof Vc?Vc:A(Array.from(Vc)),Cb):nc};Cb.offset=function(Vc){return arguments.length?(lc=null==Vc?cb:Vc,Cb):lc};return Cb};h.stackOffsetDiverging=function(Cb,Vb){if(0<(ld=Cb.length))for(var nc,lc=0,rc,Vc,zd,pd,ld,qd=Cb[Vb[0]].length;lc<qd;++lc)for(nc=zd=pd=0;nc<ld;++nc)0<(Vc=(rc=Cb[Vb[nc]][lc])[1]-rc[0])?(rc[0]=zd,rc[1]=zd+=Vc):0>Vc?(rc[1]=pd,rc[0]=pd+=Vc):(rc[0]=0,rc[1]=Vc)};h.stackOffsetExpand=function(Cb,Vb){if(0<
(lc=Cb.length)){for(var nc,lc,rc=0,Vc=Cb[0].length,zd;rc<Vc;++rc){for(zd=nc=0;nc<lc;++nc)zd+=Cb[nc][rc][1]||0;if(zd)for(nc=0;nc<lc;++nc)Cb[nc][rc][1]/=zd}cb(Cb,Vb)}};h.stackOffsetNone=cb;h.stackOffsetSilhouette=function(Cb,Vb){if(0<(rc=Cb.length)){for(var nc=0,lc=Cb[Vb[0]],rc,Vc=lc.length;nc<Vc;++nc){for(var zd=0,pd=0;zd<rc;++zd)pd+=Cb[zd][nc][1]||0;lc[nc][1]+=lc[nc][0]=-pd/2}cb(Cb,Vb)}};h.stackOffsetWiggle=function(Cb,Vb){if(0<(zd=Cb.length)&&0<(Vc=(rc=Cb[Vb[0]]).length)){for(var nc=0,lc=1,rc,Vc,
zd;lc<Vc;++lc){for(var pd=0,ld=0,qd=0;pd<zd;++pd){var Od=Cb[Vb[pd]],fe=Od[lc][1]||0;Od=(fe-(Od[lc-1][1]||0))/2;for(var le=0;le<pd;++le){var Kd=Cb[Vb[le]];Od+=(Kd[lc][1]||0)-(Kd[lc-1][1]||0)}ld+=fe;qd+=Od*fe}rc[lc-1][1]+=rc[lc-1][0]=nc;ld&&(nc-=qd/ld)}rc[lc-1][1]+=rc[lc-1][0]=nc;cb(Cb,Vb)}};h.stackOrderAppearance=H;h.stackOrderAscending=ja;h.stackOrderDescending=function(Cb){return ja(Cb).reverse()};h.stackOrderInsideOut=function(Cb){var Vb=Cb.length,nc=Cb.map(Ca),lc=H(Cb),rc=0,Vc=0,zd=[],pd=[];for(Cb=
0;Cb<Vb;++Cb){var ld=lc[Cb];rc<Vc?(rc+=nc[ld],zd.push(ld)):(Vc+=nc[ld],pd.push(ld))}return pd.reverse().concat(zd)};h.stackOrderNone=hb;h.stackOrderReverse=function(Cb){return hb(Cb).reverse()};h.symbol=function(Cb,Vb){function nc(){var rc;lc||(lc=rc=r.path());Cb.apply(this,arguments).draw(lc,+Vb.apply(this,arguments));if(rc)return lc=null,rc+""||null}var lc=null;Cb="function"===typeof Cb?Cb:A(Cb||ed);Vb="function"===typeof Vb?Vb:A(void 0===Vb?64:+Vb);nc.type=function(rc){return arguments.length?
(Cb="function"===typeof rc?rc:A(rc),nc):Cb};nc.size=function(rc){return arguments.length?(Vb="function"===typeof rc?rc:A(+rc),nc):Vb};nc.context=function(rc){return arguments.length?(lc=null==rc?null:rc,nc):lc};return nc};h.symbolCircle=ed;h.symbolCross=Ad;h.symbolDiamond=ie;h.symbolSquare=ac;h.symbolStar=Db;h.symbolTriangle=oc;h.symbolWye=N;h.symbols=oa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[20]=function(Nb,zb,mc,ub){!function(h,r){"object"==typeof ub&&"undefined"!=typeof mc?r(ub):"function"==typeof define&&define.amd?define(["exports"],r):r((h="undefined"!=typeof globalThis?globalThis:h||self).vega={})}(this,function(h){function r(A,Ra){if("undefined"!=typeof document&&document.createElement){const sb=document.createElement("canvas");if(sb&&sb.getContext)return sb.width=A,sb.height=Ra,sb}return null}h.canvas=r;h.domCanvas=r;h.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[21]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(m,q,w){m.prototype=q.prototype=w;w.constructor=m}function A(m,q){m=Object.create(m.prototype);for(var w in q)m[w]=q[w];return m}function Ra(){}function sb(){return this.rgb().formatHex()}function bb(){return this.rgb().formatRgb()}function xb(m){var q,w;m=(m+"").trim().toLowerCase();
return(q=K.exec(m))?(w=q[1].length,q=parseInt(q[1],16),6===w?Gb(q):3===w?new Sa(q>>8&15|q>>4&240,q>>4&15|q&240,(q&15)<<4|q&15,1):8===w?ib(q>>24&255,q>>16&255,q>>8&255,(q&255)/255):4===w?ib(q>>12&15|q>>8&240,q>>8&15|q>>4&240,q>>4&15|q&240,((q&15)<<4|q&15)/255):null):(q=C.exec(m))?new Sa(q[1],q[2],q[3],1):(q=R.exec(m))?new Sa(255*q[1]/100,255*q[2]/100,255*q[3]/100,1):(q=aa.exec(m))?ib(q[1],q[2],q[3],q[4]):(q=da.exec(m))?ib(255*q[1]/100,255*q[2]/100,255*q[3]/100,q[4]):(q=Da.exec(m))?Ba(q[1],q[2]/100,
q[3]/100,1):(q=Ja.exec(m))?Ba(q[1],q[2]/100,q[3]/100,q[4]):J.hasOwnProperty(m)?Gb(J[m]):"transparent"===m?new Sa(NaN,NaN,NaN,0):null}function Gb(m){return new Sa(m>>16&255,m>>8&255,m&255,1)}function ib(m,q,w,G){0>=G&&(m=q=w=NaN);return new Sa(m,q,w,G)}function La(m){m instanceof Ra||(m=xb(m));if(!m)return new Sa;m=m.rgb();return new Sa(m.r,m.g,m.b,m.opacity)}function Ia(m,q,w,G){return 1===arguments.length?La(m):new Sa(m,q,w,null==G?1:G)}function Sa(m,q,w,G){this.r=+m;this.g=+q;this.b=+w;this.opacity=
+G}function xa(){return"#"+na(this.r)+na(this.g)+na(this.b)}function ma(){var m=this.opacity;m=isNaN(m)?1:Math.max(0,Math.min(1,m));return(1===m?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===m?")":", "+m+")")}function na(m){m=Math.max(0,Math.min(255,Math.round(m)||0));return(16>m?"0":"")+m.toString(16)}function Ba(m,q,w,G){0>=G?m=q=w=NaN:0>=w||1<=w?m=q=NaN:0>=q&&(m=NaN);
return new ra(m,q,w,G)}function Ga(m){if(m instanceof ra)return new ra(m.h,m.s,m.l,m.opacity);m instanceof Ra||(m=xb(m));if(!m)return new ra;if(m instanceof ra)return m;m=m.rgb();var q=m.r/255,w=m.g/255,G=m.b/255,U=Math.min(q,w,G),wa=Math.max(q,w,G),cb=NaN,hb=wa-U,Y=(wa+U)/2;hb?(cb=q===wa?(w-G)/hb+6*(w<G):w===wa?(G-q)/hb+2:(q-w)/hb+4,hb/=.5>Y?wa+U:2-wa-U,cb*=60):hb=0<Y&&1>Y?0:cb;return new ra(cb,hb,Y,m.opacity)}function la(m,q,w,G){return 1===arguments.length?Ga(m):new ra(m,q,w,null==G?1:G)}function ra(m,
q,w,G){this.h=+m;this.s=+q;this.l=+w;this.opacity=+G}function Qa(m,q,w){return 255*(60>m?q+(w-q)*m/60:180>m?w:240>m?q+(w-q)*(240-m)/60:q)}function za(m){if(m instanceof L)return new L(m.l,m.a,m.b,m.opacity);if(m instanceof ab)return Va(m);m instanceof Sa||(m=La(m));var q=Ma(m.r),w=Ma(m.g),G=Ma(m.b),U=ha(.2225045*q+.7168786*w+.0606169*G);if(q===w&&w===G)var wa=q=U;else wa=ha((.4360747*q+.3850649*w+.1430804*G)/.96422),q=ha((.0139322*q+.0971045*w+.7141733*G)/.82521);return new L(116*U-16,500*(wa-U),
200*(U-q),m.opacity)}function Ta(m,q,w,G){return 1===arguments.length?za(m):new L(m,q,w,null==G?1:G)}function L(m,q,w,G){this.l=+m;this.a=+q;this.b=+w;this.opacity=+G}function ha(m){return m>f?Math.pow(m,1/3):m/c+W}function ya(m){return m>d?m*m*m:c*(m-W)}function ua(m){return 255*(.0031308>=m?12.92*m:1.055*Math.pow(m,1/2.4)-.055)}function Ma(m){return.04045>=(m/=255)?m/12.92:Math.pow((m+.055)/1.055,2.4)}function Pa(m){if(m instanceof ab)return new ab(m.h,m.c,m.l,m.opacity);m instanceof L||(m=za(m));
if(0===m.a&&0===m.b)return new ab(NaN,0<m.l&&100>m.l?0:NaN,m.l,m.opacity);var q=Math.atan2(m.b,m.a)*ca;return new ab(0>q?q+360:q,Math.sqrt(m.a*m.a+m.b*m.b),m.l,m.opacity)}function Aa(m,q,w,G){return 1===arguments.length?Pa(m):new ab(m,q,w,null==G?1:G)}function ab(m,q,w,G){this.h=+m;this.c=+q;this.l=+w;this.opacity=+G}function Va(m){if(isNaN(m.h))return new L(m.l,0,0,m.opacity);var q=m.h*fa;return new L(m.l,Math.cos(q)*m.c,Math.sin(q)*m.c,m.opacity)}function I(m,q,w,G){if(1===arguments.length){var U=
m;if(U instanceof x)U=new x(U.h,U.s,U.l,U.opacity);else{U instanceof Sa||(U=La(U));var wa=U.g/255,cb=U.b/255,hb=(l*cb+U.r/255*-1.7884503806-3.5172982438*wa)/(l+-1.7884503806-3.5172982438);cb-=hb;var Y=(1.97294*(wa-hb)- -.29227*cb)/-.90649;cb=(wa=Math.sqrt(Y*Y+cb*cb)/(1.97294*hb*(1-hb)))?Math.atan2(Y,cb)*ca-120:NaN;U=new x(0>cb?cb+360:cb,wa,hb,U.opacity)}}else U=new x(m,q,w,null==G?1:G);return U}function x(m,q,w,G){this.h=+m;this.s=+q;this.l=+w;this.opacity=+G}var M=1/.7,K=/^#([0-9a-f]{3,8})$/,C=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,
R=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,aa=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,da=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Da=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Ja=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r(Ra,xb,{copy:function(m){return Object.assign(new this.constructor,this,m)},displayable:function(){return this.rgb().displayable()},hex:sb,formatHex:sb,formatHsl:function(){return Ga(this).formatHsl()},
formatRgb:bb,toString:bb});r(Sa,Ia,A(Ra,{brighter:function(m){m=null==m?M:Math.pow(M,m);return new Sa(this.r*m,this.g*m,this.b*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new Sa(this.r*m,this.g*m,this.b*m,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:xa,formatHex:xa,formatRgb:ma,toString:ma}));r(ra,la,A(Ra,{brighter:function(m){m=
null==m?M:Math.pow(M,m);return new ra(this.h,this.s,this.l*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new ra(this.h,this.s,this.l*m,this.opacity)},rgb:function(){var m=this.h%360+360*(0>this.h),q=isNaN(m)||isNaN(this.s)?0:this.s,w=this.l;q=w+(.5>w?w:1-w)*q;w=2*w-q;return new Sa(Qa(240<=m?m-240:m+120,w,q),Qa(m,w,q),Qa(120>m?m+240:m-120,w,q),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var m=this.opacity;m=isNaN(m)?1:Math.max(0,Math.min(1,m));return(1===m?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===m?")":", "+m+")")}}));const fa=Math.PI/180,ca=180/Math.PI,W=4/29,d=6/29,c=3*d*d,f=d*d*d;r(L,Ta,A(Ra,{brighter:function(m){return new L(this.l+18*(null==m?1:m),this.a,this.b,this.opacity)},darker:function(m){return new L(this.l-18*(null==m?1:m),this.a,this.b,this.opacity)},rgb:function(){var m=(this.l+16)/116,q=isNaN(this.a)?m:m+
this.a/500,w=isNaN(this.b)?m:m-this.b/200;q=.96422*ya(q);m=1*ya(m);w=.82521*ya(w);return new Sa(ua(3.1338561*q-1.6168667*m-.4906146*w),ua(-.9787684*q+1.9161415*m+.033454*w),ua(.0719453*q-.2289914*m+1.4052427*w),this.opacity)}}));r(ab,Aa,A(Ra,{brighter:function(m){return new ab(this.h,this.c,this.l+18*(null==m?1:m),this.opacity)},darker:function(m){return new ab(this.h,this.c,this.l-18*(null==m?1:m),this.opacity)},rgb:function(){return Va(this).rgb()}}));var l=1.78277*-.29227-.1347134789;r(x,I,A(Ra,
{brighter:function(m){m=null==m?M:Math.pow(M,m);return new x(this.h,this.s,this.l*m,this.opacity)},darker:function(m){m=null==m?.7:Math.pow(.7,m);return new x(this.h,this.s,this.l*m,this.opacity)},rgb:function(){var m=isNaN(this.h)?0:(this.h+120)*fa,q=+this.l,w=isNaN(this.s)?0:this.s*q*(1-q),G=Math.cos(m);m=Math.sin(m);return new Sa(255*(q+w*(-.14861*G+1.78277*m)),255*(q+w*(-.29227*G+-.90649*m)),255*(q+1.97294*w*G),this.opacity)}}));h.color=xb;h.cubehelix=I;h.gray=function(m,q){return new L(m,0,0,
null==q?1:q)};h.hcl=Aa;h.hsl=la;h.lab=Ta;h.lch=function(m,q,w,G){return 1===arguments.length?Pa(m):new ab(w,q,m,null==G?1:G)};h.rgb=Ia;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[22]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(21)):"function"===typeof define&&define.amd?define(["exports","d3-color"],r):(h=h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function A(d,c,f,l,m){var q=d*d,w=q*d;return((1-3*d+3*q-w)*c+(4-6*q+3*w)*f+(1+3*d+3*q-3*w)*l+w*m)/6}function Ra(d){var c=d.length-1;return function(f){var l=0>=f?f=0:1<=f?(f=1,c-1):Math.floor(f*c),m=d[l],q=d[l+1];return A((f-l/c)*c,0<l?d[l-1]:2*m-q,m,q,l<c-1?
d[l+2]:2*q-m)}}function sb(d){var c=d.length;return function(f){var l=Math.floor((0>(f%=1)?++f:f)*c);return A((f-l/c)*c,d[(l+c-1)%c],d[l%c],d[(l+1)%c],d[(l+2)%c])}}function bb(d,c){return function(f){return d+f*c}}function xb(d,c,f){return d=Math.pow(d,f),c=Math.pow(c,f)-d,f=1/f,function(l){return Math.pow(d+l*c,f)}}function Gb(d,c){var f=c-d;return f?bb(d,180<f||-180>f?f-360*Math.round(f/360):f):Pa(isNaN(d)?c:d)}function ib(d){return 1===(d=+d)?La:function(c,f){return f-c?xb(c,f,d):Pa(isNaN(c)?f:
c)}}function La(d,c){var f=c-d;return f?bb(d,f):Pa(isNaN(d)?c:d)}function Ia(d){return function(c){var f=c.length,l=Array(f),m=Array(f),q=Array(f),w;for(w=0;w<f;++w){var G=r.rgb(c[w]);l[w]=G.r||0;m[w]=G.g||0;q[w]=G.b||0}l=d(l);m=d(m);q=d(q);G.opacity=1;return function(U){G.r=l(U);G.g=m(U);G.b=q(U);return G+""}}}function Sa(d,c){c||(c=[]);var f=d?Math.min(c.length,d.length):0,l=c.slice(),m;return function(q){for(m=0;m<f;++m)l[m]=d[m]*(1-q)+c[m]*q;return l}}function xa(d){return ArrayBuffer.isView(d)&&
!(d instanceof DataView)}function ma(d,c){var f=c?c.length:0,l=d?Math.min(f,d.length):0,m=Array(l),q=Array(f),w;for(w=0;w<l;++w)m[w]=za(d[w],c[w]);for(;w<f;++w)q[w]=c[w];return function(G){for(w=0;w<l;++w)q[w]=m[w](G);return q}}function na(d,c){var f=new Date;return d=+d,c=+c,function(l){return f.setTime(d*(1-l)+c*l),f}}function Ba(d,c){return d=+d,c=+c,function(f){return d*(1-f)+c*f}}function Ga(d,c){var f={},l={},m;if(null===d||"object"!==typeof d)d={};if(null===c||"object"!==typeof c)c={};for(m in c)m in
d?f[m]=za(d[m],c[m]):l[m]=c[m];return function(q){for(m in f)l[m]=f[m](q);return l}}function la(d){return function(){return d}}function ra(d){return function(c){return d(c)+""}}function Qa(d,c){var f=I.lastIndex=x.lastIndex=0,l,m,q,w=-1,G=[],U=[];d+="";for(c+="";(l=I.exec(d))&&(m=x.exec(c));)(q=m.index)>f&&(q=c.slice(f,q),G[w]?G[w]+=q:G[++w]=q),(l=l[0])===(m=m[0])?G[w]?G[w]+=m:G[++w]=m:(G[++w]=null,U.push({i:w,x:Ba(l,m)})),f=x.lastIndex;f<c.length&&(q=c.slice(f),G[w]?G[w]+=q:G[++w]=q);return 2>G.length?
U[0]?ra(U[0].x):la(c):(c=U.length,function(wa){for(var cb=0,hb;cb<c;++cb)G[(hb=U[cb]).i]=hb.x(wa);return G.join("")})}function za(d,c){var f=typeof c,l;return null==c||"boolean"===f?Pa(c):("number"===f?Ba:"string"===f?(l=r.color(c))?(c=l,Aa):Qa:c instanceof r.color?Aa:c instanceof Date?na:xa(c)?Sa:Array.isArray(c)?ma:"function"!==typeof c.valueOf&&"function"!==typeof c.toString||isNaN(c)?Ga:Ba)(d,c)}function Ta(d,c,f,l,m,q){var w,G,U;if(w=Math.sqrt(d*d+c*c))d/=w,c/=w;if(U=d*f+c*l)f-=d*U,l-=c*U;if(G=
Math.sqrt(f*f+l*l))f/=G,l/=G,U/=G;d*l<c*f&&(d=-d,c=-c,U=-U,w=-w);return{translateX:m,translateY:q,rotate:Math.atan2(c,d)*M,skewX:Math.atan(U)*M,scaleX:w,scaleY:G}}function L(d,c,f,l){function m(wa){return wa.length?wa.pop()+" ":""}function q(wa,cb,hb,Y,ta,H){wa!==hb||cb!==Y?(ta=ta.push("translate(",null,c,null,f),H.push({i:ta-4,x:Ba(wa,hb)},{i:ta-2,x:Ba(cb,Y)})):(hb||Y)&&ta.push("translate("+hb+c+Y+f)}function w(wa,cb,hb,Y){wa!==cb?(180<wa-cb?cb+=360:180<cb-wa&&(wa+=360),Y.push({i:hb.push(m(hb)+"rotate(",
null,l)-2,x:Ba(wa,cb)})):cb&&hb.push(m(hb)+"rotate("+cb+l)}function G(wa,cb,hb,Y){wa!==cb?Y.push({i:hb.push(m(hb)+"skewX(",null,l)-2,x:Ba(wa,cb)}):cb&&hb.push(m(hb)+"skewX("+cb+l)}function U(wa,cb,hb,Y,ta,H){wa!==hb||cb!==Y?(ta=ta.push(m(ta)+"scale(",null,",",null,")"),H.push({i:ta-4,x:Ba(wa,hb)},{i:ta-2,x:Ba(cb,Y)})):1===hb&&1===Y||ta.push(m(ta)+"scale("+hb+","+Y+")")}return function(wa,cb){var hb=[],Y=[];wa=d(wa);cb=d(cb);q(wa.translateX,wa.translateY,cb.translateX,cb.translateY,hb,Y);w(wa.rotate,
cb.rotate,hb,Y);G(wa.skewX,cb.skewX,hb,Y);U(wa.scaleX,wa.scaleY,cb.scaleX,cb.scaleY,hb,Y);wa=cb=null;return function(ta){for(var H=-1,Q=Y.length,ja;++H<Q;)hb[(ja=Y[H]).i]=ja.x(ta);return hb.join("")}}}function ha(d){return((d=Math.exp(d))+1/d)/2}function ya(d){return function(c,f){var l=d((c=r.hsl(c)).h,(f=r.hsl(f)).h),m=La(c.s,f.s),q=La(c.l,f.l),w=La(c.opacity,f.opacity);return function(G){c.h=l(G);c.s=m(G);c.l=q(G);c.opacity=w(G);return c+""}}}function ua(d){return function(c,f){var l=d((c=r.hcl(c)).h,
(f=r.hcl(f)).h),m=La(c.c,f.c),q=La(c.l,f.l),w=La(c.opacity,f.opacity);return function(G){c.h=l(G);c.c=m(G);c.l=q(G);c.opacity=w(G);return c+""}}}function Ma(d){return function l(f){function m(q,w){var G=d((q=r.cubehelix(q)).h,(w=r.cubehelix(w)).h),U=La(q.s,w.s),wa=La(q.l,w.l),cb=La(q.opacity,w.opacity);return function(hb){q.h=G(hb);q.s=U(hb);q.l=wa(Math.pow(hb,f));q.opacity=cb(hb);return q+""}}f=+f;m.gamma=l;return m}(1)}var Pa=d=>()=>d,Aa=function f(c){function l(q,w){var G=m((q=r.rgb(q)).r,(w=r.rgb(w)).r),
U=m(q.g,w.g),wa=m(q.b,w.b),cb=La(q.opacity,w.opacity);return function(hb){q.r=G(hb);q.g=U(hb);q.b=wa(hb);q.opacity=cb(hb);return q+""}}var m=ib(c);l.gamma=f;return l}(1),ab=Ia(Ra),Va=Ia(sb),I=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(I.source,"g"),M=180/Math.PI,K={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},C,R=L(function(c){c=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(c+"");return c.isIdentity?K:Ta(c.a,c.b,c.c,c.d,c.e,c.f)},"px, ","px)","deg)"),
aa=L(function(c){if(null==c)return K;C||(C=document.createElementNS("http://www.w3.org/2000/svg","g"));C.setAttribute("transform",c);if(!(c=C.transform.baseVal.consolidate()))return K;c=c.matrix;return Ta(c.a,c.b,c.c,c.d,c.e,c.f)},", ",")",")"),da=function q(f,l,m){function w(G,U){var wa=G[0],cb=G[1],hb=G[2];G=U[2];var Y=U[0]-wa,ta=U[1]-cb,H=Y*Y+ta*ta;if(1E-12>H){var Q=Math.log(G/hb)/f;G=function(qb){return[wa+qb*Y,cb+qb*ta,hb*Math.exp(f*qb*Q)]}}else{var ja=Math.sqrt(H);U=(G*G-hb*hb+m*H)/(2*hb*l*
ja);G=(G*G-hb*hb-m*H)/(2*G*l*ja);var Ca=Math.log(Math.sqrt(U*U+1)-U);Q=(Math.log(Math.sqrt(G*G+1)-G)-Ca)/f;G=function(qb){qb*=Q;var Ya=ha(Ca),ob=f*qb+Ca;var Na=((ob=Math.exp(2*ob))-1)/(ob+1);var Ab=Ca;ob=((Ab=Math.exp(Ab))-1/Ab)/2;Na=hb/(l*ja)*(Ya*Na-ob);return[wa+Na*Y,cb+Na*ta,hb*Ya/ha(f*qb+Ca)]}}G.duration=1E3*Q*f/Math.SQRT2;return G}w.rho=function(G){G=Math.max(.001,+G);var U=G*G;return q(G,U,U*U)};return w}(Math.SQRT2,2,4),Da=ya(Gb),Ja=ya(La),J=ua(Gb),fa=ua(La),ca=Ma(Gb),W=Ma(La);h.interpolate=
za;h.interpolateArray=function(f,l){return(xa(l)?Sa:ma)(f,l)};h.interpolateBasis=Ra;h.interpolateBasisClosed=sb;h.interpolateCubehelix=ca;h.interpolateCubehelixLong=W;h.interpolateDate=na;h.interpolateDiscrete=function(f){var l=f.length;return function(m){return f[Math.max(0,Math.min(l-1,Math.floor(m*l)))]}};h.interpolateHcl=J;h.interpolateHclLong=fa;h.interpolateHsl=Da;h.interpolateHslLong=Ja;h.interpolateHue=function(f,l){var m=Gb(+f,+l);return function(q){q=m(q);return q-360*Math.floor(q/360)}};
h.interpolateLab=function(f,l){var m=La((f=r.lab(f)).l,(l=r.lab(l)).l),q=La(f.a,l.a),w=La(f.b,l.b),G=La(f.opacity,l.opacity);return function(U){f.l=m(U);f.a=q(U);f.b=w(U);f.opacity=G(U);return f+""}};h.interpolateNumber=Ba;h.interpolateNumberArray=Sa;h.interpolateObject=Ga;h.interpolateRgb=Aa;h.interpolateRgbBasis=ab;h.interpolateRgbBasisClosed=Va;h.interpolateRound=function(f,l){return f=+f,l=+l,function(m){return Math.round(f*(1-m)+l*m)}};h.interpolateString=Qa;h.interpolateTransformCss=R;h.interpolateTransformSvg=
aa;h.interpolateZoom=da;h.piecewise=function(f,l){void 0===l&&(l=f,f=za);for(var m=0,q=l.length-1,w=l[0],G=Array(0>q?0:q);m<q;)G[m]=f(w,w=l[++m]);return function(U){var wa=Math.max(0,Math.min(q-1,Math.floor(U*=q)));return G[wa](U-wa)}};h.quantize=function(f,l){for(var m=Array(l),q=0;q<l;++q)m[q]=f(q/(l-1));return m};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[23]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(3),zb(22),zb(4),zb(5),zb(7)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.d3=h.d3||{},h.d3,h.d3,h.d3,h.d3,h.d3))})(this,function(h,r,A,Ra,sb,bb){function xb(Na,Ab){switch(arguments.length){case 0:break;case 1:this.range(Na);break;default:this.range(Ab).domain(Na)}return this}
function Gb(Na,Ab){switch(arguments.length){case 0:break;case 1:"function"===typeof Na?this.interpolator(Na):this.range(Na);break;default:this.domain(Na),"function"===typeof Ab?this.interpolator(Ab):this.range(Ab)}return this}function ib(){function Na(jc){var Zb=jc+"",Hc=Ab.get(Zb);if(!Hc){if(Mb!==Ya)return Mb;Ab.set(Zb,Hc=Eb.push(jc))}return eb[(Hc-1)%eb.length]}var Ab=new Map,Eb=[],eb=[],Mb=Ya;Na.domain=function(jc){if(!arguments.length)return Eb.slice();Eb=[];Ab=new Map;for(const Zb of jc){const Hc=
Zb+"";Ab.has(Hc)||Ab.set(Hc,Eb.push(Zb))}return Na};Na.range=function(jc){return arguments.length?(eb=Array.from(jc),Na):eb.slice()};Na.unknown=function(jc){return arguments.length?(Mb=jc,Na):Mb};Na.copy=function(){return ib(Eb,eb).unknown(Mb)};xb.apply(Na,arguments);return Na}function La(){function Na(){var gd=Eb().length,ie=jc<Mb,Mc=ie?jc:Mb,xd=ie?Mb:jc;Zb=(xd-Mc)/Math.max(1,gd-ed+2*Ad);zc&&(Zb=Math.floor(Zb));Mc+=(xd-Mc-Zb*(gd-ed))*Gc;Hc=Zb*(1-ed);zc&&(Mc=Math.round(Mc),Hc=Math.round(Hc));gd=r.range(gd).map(function(Rd){return Mc+
Zb*Rd});return eb(ie?gd.reverse():gd)}var Ab=ib().unknown(void 0),Eb=Ab.domain,eb=Ab.range,Mb=0,jc=1,Zb,Hc,zc=!1,ed=0,Ad=0,Gc=.5;delete Ab.unknown;Ab.domain=function(gd){return arguments.length?(Eb(gd),Na()):Eb()};Ab.range=function(gd){return arguments.length?([Mb,jc]=gd,Mb=+Mb,jc=+jc,Na()):[Mb,jc]};Ab.rangeRound=function(gd){return[Mb,jc]=gd,Mb=+Mb,jc=+jc,zc=!0,Na()};Ab.bandwidth=function(){return Hc};Ab.step=function(){return Zb};Ab.round=function(gd){return arguments.length?(zc=!!gd,Na()):zc};
Ab.padding=function(gd){return arguments.length?(ed=Math.min(1,Ad=+gd),Na()):ed};Ab.paddingInner=function(gd){return arguments.length?(ed=Math.min(1,gd),Na()):ed};Ab.paddingOuter=function(gd){return arguments.length?(Ad=+gd,Na()):Ad};Ab.align=function(gd){return arguments.length?(Gc=Math.max(0,Math.min(1,gd)),Na()):Gc};Ab.copy=function(){return La(Eb(),[Mb,jc]).round(zc).paddingInner(ed).paddingOuter(Ad).align(Gc)};return xb.apply(Na(),arguments)}function Ia(Na){var Ab=Na.copy;Na.padding=Na.paddingOuter;
delete Na.paddingInner;delete Na.paddingOuter;Na.copy=function(){return Ia(Ab())};return Na}function Sa(Na){return function(){return Na}}function xa(Na){return+Na}function ma(Na){return Na}function na(Na,Ab){return(Ab-=Na=+Na)?function(Eb){return(Eb-Na)/Ab}:Sa(isNaN(Ab)?NaN:.5)}function Ba(Na,Ab){if(Na>Ab){var Eb=Na;Na=Ab;Ab=Eb}return function(eb){return Math.max(Na,Math.min(Ab,eb))}}function Ga(Na,Ab,Eb){var eb=Na[0];Na=Na[1];var Mb=Ab[0];Ab=Ab[1];Na<eb?(eb=na(Na,eb),Mb=Eb(Ab,Mb)):(eb=na(eb,Na),
Mb=Eb(Mb,Ab));return function(jc){return Mb(eb(jc))}}function la(Na,Ab,Eb){var eb=Math.min(Na.length,Ab.length)-1,Mb=Array(eb),jc=Array(eb),Zb=-1;Na[eb]<Na[0]&&(Na=Na.slice().reverse(),Ab=Ab.slice().reverse());for(;++Zb<eb;)Mb[Zb]=na(Na[Zb],Na[Zb+1]),jc[Zb]=Eb(Ab[Zb],Ab[Zb+1]);return function(Hc){var zc=r.bisect(Na,Hc,1,eb)-1;return jc[zc](Mb[zc](Hc))}}function ra(Na,Ab){return Ab.domain(Na.domain()).range(Na.range()).interpolate(Na.interpolate()).clamp(Na.clamp()).unknown(Na.unknown())}function Qa(){function Na(){var gd=
Math.min(Eb.length,eb.length);zc!==ma&&(zc=Ba(Eb[0],Eb[gd-1]));ed=2<gd?la:Ga;Ad=Gc=null;return Ab}function Ab(gd){return null==gd||isNaN(gd=+gd)?Hc:(Ad||(Ad=ed(Eb.map(jc),eb,Mb)))(jc(zc(gd)))}var Eb=ob,eb=ob,Mb=A.interpolate,jc,Zb,Hc,zc=ma,ed,Ad,Gc;Ab.invert=function(gd){return zc(Zb((Gc||(Gc=ed(eb,Eb.map(jc),A.interpolateNumber)))(gd)))};Ab.domain=function(gd){return arguments.length?(Eb=Array.from(gd,xa),Na()):Eb.slice()};Ab.range=function(gd){return arguments.length?(eb=Array.from(gd),Na()):eb.slice()};
Ab.rangeRound=function(gd){return eb=Array.from(gd),Mb=A.interpolateRound,Na()};Ab.clamp=function(gd){return arguments.length?(zc=gd?!0:ma,Na()):zc!==ma};Ab.interpolate=function(gd){return arguments.length?(Mb=gd,Na()):Mb};Ab.unknown=function(gd){return arguments.length?(Hc=gd,Ab):Hc};return function(gd,ie){jc=gd;Zb=ie;return Na()}}function za(Na,Ab,Eb,eb){Eb=r.tickStep(Na,Ab,Eb);var Mb;eb=Ra.formatSpecifier(null==eb?",f":eb);switch(eb.type){case "s":return Na=Math.max(Math.abs(Na),Math.abs(Ab)),
null!=eb.precision||isNaN(Mb=Ra.precisionPrefix(Eb,Na))||(eb.precision=Mb),Ra.formatPrefix(eb,Na);case "":case "e":case "g":case "p":case "r":null!=eb.precision||isNaN(Mb=Ra.precisionRound(Eb,Math.max(Math.abs(Na),Math.abs(Ab))))||(eb.precision=Mb-("e"===eb.type));break;case "f":case "%":null!=eb.precision||isNaN(Mb=Ra.precisionFixed(Eb))||(eb.precision=Mb-2*("%"===eb.type))}return Ra.format(eb)}function Ta(Na){var Ab=Na.domain;Na.ticks=function(Eb){var eb=Ab();return r.ticks(eb[0],eb[eb.length-1],
null==Eb?10:Eb)};Na.tickFormat=function(Eb,eb){var Mb=Ab();return za(Mb[0],Mb[Mb.length-1],null==Eb?10:Eb,eb)};Na.nice=function(Eb){null==Eb&&(Eb=10);var eb=Ab(),Mb=0,jc=eb.length-1,Zb=eb[Mb],Hc=eb[jc],zc=10;if(Hc<Zb){var ed=Zb;Zb=Hc;Hc=ed;ed=Mb;Mb=jc;jc=ed}for(;0<zc--;){ed=r.tickIncrement(Zb,Hc,Eb);if(ed===Ad)return eb[Mb]=Zb,eb[jc]=Hc,Ab(eb);if(0<ed)Zb=Math.floor(Zb/ed)*ed,Hc=Math.ceil(Hc/ed)*ed;else if(0>ed)Zb=Math.ceil(Zb*ed)/ed,Hc=Math.floor(Hc*ed)/ed;else break;var Ad=ed}return Na};return Na}
function L(){var Na=Qa()(ma,ma);Na.copy=function(){return ra(Na,L())};xb.apply(Na,arguments);return Ta(Na)}function ha(Na){function Ab(eb){return null==eb||isNaN(eb=+eb)?Eb:eb}var Eb;Ab.invert=Ab;Ab.domain=Ab.range=function(eb){return arguments.length?(Na=Array.from(eb,xa),Ab):Na.slice()};Ab.unknown=function(eb){return arguments.length?(Eb=eb,Ab):Eb};Ab.copy=function(){return ha(Na).unknown(Eb)};Na=arguments.length?Array.from(Na,xa):[0,1];return Ta(Ab)}function ya(Na,Ab){Na=Na.slice();var Eb=0,eb=
Na.length-1,Mb=Na[Eb],jc=Na[eb];if(jc<Mb){var Zb=Eb;Eb=eb;eb=Zb;Zb=Mb;Mb=jc;jc=Zb}Na[Eb]=Ab.floor(Mb);Na[eb]=Ab.ceil(jc);return Na}function ua(Na){return Math.log(Na)}function Ma(Na){return Math.exp(Na)}function Pa(Na){return-Math.log(-Na)}function Aa(Na){return-Math.exp(-Na)}function ab(Na){return isFinite(Na)?+("1e"+Na):0>Na?0:Na}function Va(Na){return 10===Na?ab:Na===Math.E?Math.exp:function(Ab){return Math.pow(Na,Ab)}}function I(Na){return Na===Math.E?Math.log:10===Na&&Math.log10||2===Na&&Math.log2||
(Na=Math.log(Na),function(Ab){return Math.log(Ab)/Na})}function x(Na){return function(Ab){return-Na(-Ab)}}function M(Na){function Ab(){jc=I(Mb);Zb=Va(Mb);0>eb()[0]?(jc=x(jc),Zb=x(Zb),Na(Pa,Aa)):Na(ua,Ma);return Eb}var Eb=Na(ua,Ma),eb=Eb.domain,Mb=10,jc,Zb;Eb.base=function(Hc){return arguments.length?(Mb=+Hc,Ab()):Mb};Eb.domain=function(Hc){return arguments.length?(eb(Hc),Ab()):eb()};Eb.ticks=function(Hc){var zc=eb(),ed=zc[0];zc=zc[zc.length-1];var Ad;if(Ad=zc<ed)Gc=ed,ed=zc,zc=Gc;var Gc=jc(ed),gd=
jc(zc),ie=null==Hc?10:+Hc,Mc=[];if(!(Mb%1)&&gd-Gc<ie){Gc=Math.floor(Gc);gd=Math.ceil(gd);if(0<ed)for(;Gc<=gd;++Gc){var xd=1;for(Hc=Zb(Gc);xd<Mb;++xd){var Rd=Hc*xd;if(!(Rd<ed)){if(Rd>zc)break;Mc.push(Rd)}}}else for(;Gc<=gd;++Gc)for(xd=Mb-1,Hc=Zb(Gc);1<=xd;--xd)if(Rd=Hc*xd,!(Rd<ed)){if(Rd>zc)break;Mc.push(Rd)}2*Mc.length<ie&&(Mc=r.ticks(ed,zc,ie))}else Mc=r.ticks(Gc,gd,Math.min(gd-Gc,ie)).map(Zb);return Ad?Mc.reverse():Mc};Eb.tickFormat=function(Hc,zc){null==zc&&(zc=10===Mb?".0e":",");"function"!==
typeof zc&&(zc=Ra.format(zc));if(Infinity===Hc)return zc;null==Hc&&(Hc=10);var ed=Math.max(1,Mb*Hc/Eb.ticks().length);return function(Ad){var Gc=Ad/Zb(Math.round(jc(Ad)));Gc*Mb<Mb-.5&&(Gc*=Mb);return Gc<=ed?zc(Ad):""}};Eb.nice=function(){return eb(ya(eb(),{floor:function(Hc){return Zb(Math.floor(jc(Hc)))},ceil:function(Hc){return Zb(Math.ceil(jc(Hc)))}}))};return Eb}function K(){var Na=M(Qa()).domain([1,10]);Na.copy=function(){return ra(Na,K()).base(Na.base())};xb.apply(Na,arguments);return Na}function C(Na){return function(Ab){return Math.sign(Ab)*
Math.log1p(Math.abs(Ab/Na))}}function R(Na){return function(Ab){return Math.sign(Ab)*Math.expm1(Math.abs(Ab))*Na}}function aa(Na){var Ab=1,Eb=Na(C(Ab),R(Ab));Eb.constant=function(eb){return arguments.length?Na(C(Ab=+eb),R(Ab)):Ab};return Ta(Eb)}function da(){var Na=aa(Qa());Na.copy=function(){return ra(Na,da()).constant(Na.constant())};return xb.apply(Na,arguments)}function Da(Na){return function(Ab){return 0>Ab?-Math.pow(-Ab,Na):Math.pow(Ab,Na)}}function Ja(Na){return 0>Na?-Math.sqrt(-Na):Math.sqrt(Na)}
function J(Na){return 0>Na?-Na*Na:Na*Na}function fa(Na){var Ab=Na(ma,ma),Eb=1;Ab.exponent=function(eb){return arguments.length?(Eb=+eb,1===Eb?Na(ma,ma):.5===Eb?Na(Ja,J):Na(Da(Eb),Da(1/Eb))):Eb};return Ta(Ab)}function ca(){var Na=fa(Qa());Na.copy=function(){return ra(Na,ca()).exponent(Na.exponent())};xb.apply(Na,arguments);return Na}function W(Na){return Math.sign(Na)*Na*Na}function d(){function Na(jc){jc=Ab(jc);jc=Math.sign(jc)*Math.sqrt(Math.abs(jc));return isNaN(jc)?Mb:eb?Math.round(jc):jc}var Ab=
Qa()(ma,ma),Eb=[0,1],eb=!1,Mb;Na.invert=function(jc){return Ab.invert(W(jc))};Na.domain=function(jc){return arguments.length?(Ab.domain(jc),Na):Ab.domain()};Na.range=function(jc){return arguments.length?(Ab.range((Eb=Array.from(jc,xa)).map(W)),Na):Eb.slice()};Na.rangeRound=function(jc){return Na.range(jc).round(!0)};Na.round=function(jc){return arguments.length?(eb=!!jc,Na):eb};Na.clamp=function(jc){return arguments.length?(Ab.clamp(jc),Na):Ab.clamp()};Na.unknown=function(jc){return arguments.length?
(Mb=jc,Na):Mb};Na.copy=function(){return d(Ab.domain(),Eb).round(eb).clamp(Ab.clamp()).unknown(Mb)};xb.apply(Na,arguments);return Ta(Na)}function c(){function Na(){var Zb=0,Hc=Math.max(1,eb.length);for(Mb=Array(Hc-1);++Zb<Hc;)Mb[Zb-1]=r.quantileSorted(Eb,Zb/Hc);return Ab}function Ab(Zb){return null==Zb||isNaN(Zb=+Zb)?jc:eb[r.bisect(Mb,Zb)]}var Eb=[],eb=[],Mb=[],jc;Ab.invertExtent=function(Zb){Zb=eb.indexOf(Zb);return 0>Zb?[NaN,NaN]:[0<Zb?Mb[Zb-1]:Eb[0],Zb<Mb.length?Mb[Zb]:Eb[Eb.length-1]]};Ab.domain=
function(Zb){if(!arguments.length)return Eb.slice();Eb=[];for(let Hc of Zb)null==Hc||isNaN(Hc=+Hc)||Eb.push(Hc);Eb.sort(r.ascending);return Na()};Ab.range=function(Zb){return arguments.length?(eb=Array.from(Zb),Na()):eb.slice()};Ab.unknown=function(Zb){return arguments.length?(jc=Zb,Ab):jc};Ab.quantiles=function(){return Mb.slice()};Ab.copy=function(){return c().domain(Eb).range(eb).unknown(jc)};return xb.apply(Ab,arguments)}function f(){function Na(zc){return null!=zc&&zc<=zc?Zb[r.bisect(jc,zc,0,
Mb)]:Hc}function Ab(){var zc=-1;for(jc=Array(Mb);++zc<Mb;)jc[zc]=((zc+1)*eb-(zc-Mb)*Eb)/(Mb+1);return Na}var Eb=0,eb=1,Mb=1,jc=[.5],Zb=[0,1],Hc;Na.domain=function(zc){return arguments.length?([Eb,eb]=zc,Eb=+Eb,eb=+eb,Ab()):[Eb,eb]};Na.range=function(zc){return arguments.length?(Mb=(Zb=Array.from(zc)).length-1,Ab()):Zb.slice()};Na.invertExtent=function(zc){zc=Zb.indexOf(zc);return 0>zc?[NaN,NaN]:1>zc?[Eb,jc[0]]:zc>=Mb?[jc[Mb-1],eb]:[jc[zc-1],jc[zc]]};Na.unknown=function(zc){return arguments.length?
(Hc=zc,Na):Na};Na.thresholds=function(){return jc.slice()};Na.copy=function(){return f().domain([Eb,eb]).range(Zb).unknown(Hc)};return xb.apply(Ta(Na),arguments)}function l(){function Na(jc){return null!=jc&&jc<=jc?Eb[r.bisect(Ab,jc,0,Mb)]:eb}var Ab=[.5],Eb=[0,1],eb,Mb=1;Na.domain=function(jc){return arguments.length?(Ab=Array.from(jc),Mb=Math.min(Ab.length,Eb.length-1),Na):Ab.slice()};Na.range=function(jc){return arguments.length?(Eb=Array.from(jc),Mb=Math.min(Ab.length,Eb.length-1),Na):Eb.slice()};
Na.invertExtent=function(jc){jc=Eb.indexOf(jc);return[Ab[jc-1],Ab[jc]]};Na.unknown=function(jc){return arguments.length?(eb=jc,Na):eb};Na.copy=function(){return l().domain(Ab).range(Eb).unknown(eb)};return xb.apply(Na,arguments)}function m(Na){return new Date(Na)}function q(Na){return Na instanceof Date?+Na:+new Date(+Na)}function w(Na,Ab,Eb,eb,Mb,jc,Zb,Hc,zc,ed){function Ad(dd){return(zc(dd)<dd?Mc:Hc(dd)<dd?xd:Zb(dd)<dd?Rd:jc(dd)<dd?Db:eb(dd)<dd?Mb(dd)<dd?ac:kb:Eb(dd)<dd?oc:sc)(dd)}var Gc=Qa()(ma,
ma),gd=Gc.invert,ie=Gc.domain,Mc=ed(".%L"),xd=ed(":%S"),Rd=ed("%I:%M"),Db=ed("%I %p"),ac=ed("%a %d"),kb=ed("%b %d"),oc=ed("%B"),sc=ed("%Y");Gc.invert=function(dd){return new Date(gd(dd))};Gc.domain=function(dd){return arguments.length?ie(Array.from(dd,q)):ie().map(m)};Gc.ticks=function(dd){var vd=ie();return Na(vd[0],vd[vd.length-1],null==dd?10:dd)};Gc.tickFormat=function(dd,vd){return null==vd?Ad:ed(vd)};Gc.nice=function(dd){var vd=ie();dd&&"function"===typeof dd.range||(dd=Ab(vd[0],vd[vd.length-
1],null==dd?10:dd));return dd?ie(ya(vd,dd)):Gc};Gc.copy=function(){return ra(Gc,w(Na,Ab,Eb,eb,Mb,jc,Zb,Hc,zc,ed))};return Gc}function G(){function Na(Gc){return null==Gc||isNaN(Gc=+Gc)?Ad:zc(0===Zb?.5:(Gc=(Hc(Gc)-Mb)*Zb,ed?Math.max(0,Math.min(1,Gc)):Gc))}function Ab(Gc){return function(gd){var ie,Mc;return arguments.length?([ie,Mc]=gd,zc=Gc(ie,Mc),Na):[zc(0),zc(1)]}}var Eb=0,eb=1,Mb,jc,Zb,Hc,zc=ma,ed=!1,Ad;Na.domain=function(Gc){return arguments.length?([Eb,eb]=Gc,Mb=Hc(Eb=+Eb),jc=Hc(eb=+eb),Zb=Mb===
jc?0:1/(jc-Mb),Na):[Eb,eb]};Na.clamp=function(Gc){return arguments.length?(ed=!!Gc,Na):ed};Na.interpolator=function(Gc){return arguments.length?(zc=Gc,Na):zc};Na.range=Ab(A.interpolate);Na.rangeRound=Ab(A.interpolateRound);Na.unknown=function(Gc){return arguments.length?(Ad=Gc,Na):Ad};return function(Gc){Hc=Gc;Mb=Gc(Eb);jc=Gc(eb);Zb=Mb===jc?0:1/(jc-Mb);return Na}}function U(Na,Ab){return Ab.domain(Na.domain()).interpolator(Na.interpolator()).clamp(Na.clamp()).unknown(Na.unknown())}function wa(){var Na=
Ta(G()(ma));Na.copy=function(){return U(Na,wa())};return Gb.apply(Na,arguments)}function cb(){var Na=M(G()).domain([1,10]);Na.copy=function(){return U(Na,cb()).base(Na.base())};return Gb.apply(Na,arguments)}function hb(){var Na=aa(G());Na.copy=function(){return U(Na,hb()).constant(Na.constant())};return Gb.apply(Na,arguments)}function Y(){var Na=fa(G());Na.copy=function(){return U(Na,Y()).exponent(Na.exponent())};return Gb.apply(Na,arguments)}function ta(){function Na(eb){if(null!=eb&&!isNaN(eb=+eb))return Eb((r.bisect(Ab,
eb,1)-1)/(Ab.length-1))}var Ab=[],Eb=ma;Na.domain=function(eb){if(!arguments.length)return Ab.slice();Ab=[];for(let Mb of eb)null==Mb||isNaN(Mb=+Mb)||Ab.push(Mb);Ab.sort(r.ascending);return Na};Na.interpolator=function(eb){return arguments.length?(Eb=eb,Na):Eb};Na.range=function(){return Ab.map((eb,Mb)=>Eb(Mb/(Ab.length-1)))};Na.quantiles=function(eb){return Array.from({length:eb+1},(Mb,jc)=>r.quantile(Ab,jc/eb))};Na.copy=function(){return ta(Eb).domain(Ab)};return Gb.apply(Na,arguments)}function H(){function Na(xd){return isNaN(xd=
+xd)?Mc:(xd=.5+((xd=+gd(xd))-Hc)*(jc*xd<jc*Hc?ed:Ad),Gc(ie?Math.max(0,Math.min(1,xd)):xd))}function Ab(xd){return function(Rd){var Db,ac,kb;return arguments.length?([Db,ac,kb]=Rd,Gc=A.piecewise(xd,[Db,ac,kb]),Na):[Gc(0),Gc(.5),Gc(1)]}}var Eb=0,eb=.5,Mb=1,jc=1,Zb,Hc,zc,ed,Ad,Gc=ma,gd,ie=!1,Mc;Na.domain=function(xd){return arguments.length?([Eb,eb,Mb]=xd,Zb=gd(Eb=+Eb),Hc=gd(eb=+eb),zc=gd(Mb=+Mb),ed=Zb===Hc?0:.5/(Hc-Zb),Ad=Hc===zc?0:.5/(zc-Hc),jc=Hc<Zb?-1:1,Na):[Eb,eb,Mb]};Na.clamp=function(xd){return arguments.length?
(ie=!!xd,Na):ie};Na.interpolator=function(xd){return arguments.length?(Gc=xd,Na):Gc};Na.range=Ab(A.interpolate);Na.rangeRound=Ab(A.interpolateRound);Na.unknown=function(xd){return arguments.length?(Mc=xd,Na):Mc};return function(xd){gd=xd;Zb=xd(Eb);Hc=xd(eb);zc=xd(Mb);ed=Zb===Hc?0:.5/(Hc-Zb);Ad=Hc===zc?0:.5/(zc-Hc);jc=Hc<Zb?-1:1;return Na}}function Q(){var Na=Ta(H()(ma));Na.copy=function(){return U(Na,Q())};return Gb.apply(Na,arguments)}function ja(){var Na=M(H()).domain([.1,1,10]);Na.copy=function(){return U(Na,
ja()).base(Na.base())};return Gb.apply(Na,arguments)}function Ca(){var Na=aa(H());Na.copy=function(){return U(Na,Ca()).constant(Na.constant())};return Gb.apply(Na,arguments)}function qb(){var Na=fa(H());Na.copy=function(){return U(Na,qb()).exponent(Na.exponent())};return Gb.apply(Na,arguments)}const Ya=Symbol("implicit");var ob=[0,1];h.scaleBand=La;h.scaleDiverging=Q;h.scaleDivergingLog=ja;h.scaleDivergingPow=qb;h.scaleDivergingSqrt=function(){return qb.apply(null,arguments).exponent(.5)};h.scaleDivergingSymlog=
Ca;h.scaleIdentity=ha;h.scaleImplicit=Ya;h.scaleLinear=L;h.scaleLog=K;h.scaleOrdinal=ib;h.scalePoint=function(){return Ia(La.apply(null,arguments).paddingInner(1))};h.scalePow=ca;h.scaleQuantile=c;h.scaleQuantize=f;h.scaleRadial=d;h.scaleSequential=wa;h.scaleSequentialLog=cb;h.scaleSequentialPow=Y;h.scaleSequentialQuantile=ta;h.scaleSequentialSqrt=function(){return Y.apply(null,arguments).exponent(.5)};h.scaleSequentialSymlog=hb;h.scaleSqrt=function(){return ca.apply(null,arguments).exponent(.5)};
h.scaleSymlog=da;h.scaleThreshold=l;h.scaleTime=function(){return xb.apply(w(sb.timeTicks,sb.timeTickInterval,sb.timeYear,sb.timeMonth,sb.timeWeek,sb.timeDay,sb.timeHour,sb.timeMinute,sb.timeSecond,bb.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};h.scaleUtc=function(){return xb.apply(w(sb.utcTicks,sb.utcTickInterval,sb.utcYear,sb.utcMonth,sb.utcWeek,sb.utcDay,sb.utcHour,sb.utcMinute,sb.utcSecond,bb.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};h.tickFormat=
za;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[24]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2),zb(3),zb(23),zb(22),zb(6)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.d3,h.d3,h.d3,h.vega))})(this,function(h,r,A,Ra,sb,bb){function xb(c,f,l){f=c-f+2*l;return c?0<f?f:1:0}function Gb(c){return function(f){let l=f[0];f=f[1];let m;f<l&&
(m=l,l=f,f=m);return[c.invert(l),c.invert(f)]}}function ib(c){return function(f){const l=c.range();let m=f[0];f=f[1];let q=-1,w;let G;if(f<m){var U=m;m=f;f=U}U=0;for(G=l.length;U<G;++U)l[U]>=m&&l[U]<=f&&(0>q&&(q=U),w=U);if(!(0>q))return m=c.invertExtent(l[q]),f=c.invertExtent(l[w]),[void 0===m[0]?m[1]:m[0],void 0===f[1]?f[0]:f[1]]}}function La(){function c(){var Y=l().length;const ta=q[1]<q[0],H=q[1-ta],Q=xb(Y,wa,cb);let ja=q[ta-0];w=(H-ja)/(Q||1);U&&(w=Math.floor(w));ja+=(H-ja-w*(Y-wa))*hb;G=w*(1-
wa);U&&(ja=Math.round(ja),G=Math.round(G));Y=A.range(Y).map(Ca=>ja+w*Ca);return m(ta?Y.reverse():Y)}const f=Ra.scaleOrdinal().unknown(void 0),l=f.domain,m=f.range;let q=[0,1],w,G,U=!1,wa=0,cb=0,hb=.5;delete f.unknown;f.domain=function(Y){return arguments.length?(l(Y),c()):l()};f.range=function(Y){return arguments.length?(q=[+Y[0],+Y[1]],c()):q.slice()};f.rangeRound=function(Y){q=[+Y[0],+Y[1]];U=!0;return c()};f.bandwidth=function(){return G};f.step=function(){return w};f.round=function(Y){return arguments.length?
(U=!!Y,c()):U};f.padding=function(Y){return arguments.length?(wa=cb=Math.max(0,Math.min(1,Y)),c()):wa};f.paddingInner=function(Y){return arguments.length?(wa=Math.max(0,Math.min(1,Y)),c()):wa};f.paddingOuter=function(Y){return arguments.length?(cb=Math.max(0,Math.min(1,Y)),c()):cb};f.align=function(Y){return arguments.length?(hb=Math.max(0,Math.min(1,Y)),c()):hb};f.invertRange=function(Y){if(null!=Y[0]&&null!=Y[1]){var ta=q[1]<q[0],H=ta?m().reverse():m(),Q=H.length-1,ja=+Y[0],Ca=+Y[1];if(ja===ja&&
Ca===Ca){if(Ca<ja){var qb=ja;ja=Ca;Ca=qb}if(!(Ca<H[0]||ja>q[1-ta]))return Y=Math.max(0,A.bisectRight(H,ja)-1),Ca=ja===Ca?Y:A.bisectRight(H,Ca)-1,ja-H[Y]>G+1E-10&&++Y,ta&&(qb=Y,Y=Q-Ca,Ca=Q-qb),Y>Ca?void 0:l().slice(Y,Ca+1)}}};f.invert=function(Y){return(Y=f.invertRange([Y,Y]))?Y[0]:Y};f.copy=function(){return La().domain(l()).range(q).round(U).paddingInner(wa).paddingOuter(cb).align(hb)};return c()}function Ia(c){const f=c.copy;c.padding=c.paddingOuter;delete c.paddingInner;c.copy=function(){return Ia(f())};
return c}function Sa(){function c(m){return null==m||m!==m?void 0:l[(A.bisect(f,m)-1)%l.length]}let f=[],l=[];c.domain=function(m){return arguments.length?(f=M.call(m,r.toNumber),c):f.slice()};c.range=function(m){return arguments.length?(l=K.call(m),c):l.slice()};c.tickFormat=function(m,q){return Ra.tickFormat(f[0],r.peek(f),null==m?10:m,q)};c.copy=function(){return Sa().domain(c.domain()).range(c.range())};return c}function xa(c,f,l){const m=function(){const q=f();q.invertRange||(q.invertRange=q.invert?
Gb(q):q.invertExtent?ib(q):void 0);q.type=c;return q};m.metadata=r.toSet(r.array(l));return m}function ma(c,f,l){return 1<arguments.length?(C[c]=xa(c,f,l),this):na(c)?C[c]:void 0}function na(c){return r.hasOwnProperty(C,c)}function Ba(c,f){return(c=C[c])&&c.metadata[f]}function Ga(c){return Ba(c,"discrete")}function la(c){return Ba(c,"discretizing")}function ra(c){return Ba(c,"log")}function Qa(c){return Ba(c,"temporal")}function za(c,f,l){return sb.piecewise(Ta(f||"rgb",l),c)}function Ta(c,f){c=
x[L(c)];return null!=f&&c&&c.gamma?c.gamma(f):c}function L(c){return"interpolate"+c.toLowerCase().split("-").map(f=>f[0].toUpperCase()+f.slice(1)).join("")}function ha(c){const f=c.length/6|0,l=Array(f);for(let m=0;m<f;)l[m]="#"+c.slice(6*m,6*++m);return l}function ya(c,f){for(const l in c)ua(l,f(c[l]))}function ua(c,f){c=c&&c.toLowerCase();return 1<arguments.length?(aa[c]=f,this):aa[c]}function Ma(c,f,l){var m=c.range();let q=m[0],w=r.peek(m);m=Da;q>w&&(m=w,w=q,q=m,m=Ja);q=Math.floor(q);w=Math.ceil(w);
f=f.map(G=>[G,c(G)]).filter(G=>q<=G[1]&&G[1]<=w).sort(m).map(G=>G[0]);if(0<l&&1<f.length){for(m=[f[0],r.peek(f)];f.length>l&&3<=f.length;)f=f.filter((G,U)=>!(U%2));3>f.length&&(f=m)}return f}function Pa(c,f){return c.bins?Ma(c,c.bins):c.ticks?c.ticks(f):c.domain()}function Aa(c,f,l,m,q,w){const G=f.type;let U=da;if("time"===G||"time"===q)U=c.timeFormat(m);else if("utc"===G||"utc"===q)U=c.utcFormat(m);else if(ra(G)){const wa=c.formatFloat(m);if(w||f.bins)U=wa;else{const cb=ab(f,l,!1);U=hb=>cb(hb)?
wa(hb):""}}else f.tickFormat?(f=f.domain(),U=c.formatSpan(f[0],f[f.length-1],l,m)):m&&(U=c.format(m));return U}function ab(c,f,l){const m=Pa(c,f),q=c.base(),w=Math.log(q),G=Math.max(1,q*f/m.length);c=U=>{U/=Math.pow(q,Math.round(Math.log(U)/w));U*q<q-.5&&(U*=q);return U<=G};return l?m.filter(c):c}function Va(c,f){c.bins?(c=c.bins,f=c.slice(0,-1),f.max=r.peek(c),c=f):"log"===c.type?c=ab(c,f,!0):J[c.type]?(c=c[J[c.type]](),c=[-Infinity].concat(c),c.max=Infinity):c=Pa(c,f);return c}function I(c,f,l,
m,q,w,G){if(fa[f.type]&&"time"!==w&&"utc"!==w){l=f[fa[f.type]]();w=l.length;G=1<w?l[1]-l[0]:l[0];let U;for(U=1;U<w;++U)G=Math.min(G,l[U]-l[U-1]);c=c.formatSpan(0,G,30,q)}else c=Aa(c,f,l,q,w,G);return"symbol"===m&&(J[f.type]||f.bins)?ca(c):"discrete"===m?W(c):d(c)}var x=function(c){if(c&&c.__esModule)return c;var f=Object.create(null);c&&Object.keys(c).forEach(function(l){if("default"!==l){var m=Object.getOwnPropertyDescriptor(c,l);Object.defineProperty(f,l,m.get?m:{enumerable:!0,get:function(){return c[l]}})}});
f["default"]=c;return Object.freeze(f)}(sb),M=Array.prototype.map;const K=Array.prototype.slice,C={};ma("identity",Ra.scaleIdentity);ma("linear",Ra.scaleLinear,"continuous");ma("log",Ra.scaleLog,["continuous","log"]);ma("pow",Ra.scalePow,"continuous");ma("sqrt",Ra.scaleSqrt,"continuous");ma("symlog",Ra.scaleSymlog,"continuous");ma("time",Ra.scaleTime,["continuous","temporal"]);ma("utc",Ra.scaleUtc,["continuous","temporal"]);ma("sequential",Ra.scaleSequential,["continuous","interpolating"]);ma("sequential-linear",
Ra.scaleSequential,["continuous","interpolating"]);ma("sequential-log",Ra.scaleSequentialLog,["continuous","interpolating","log"]);ma("sequential-pow",Ra.scaleSequentialPow,["continuous","interpolating"]);ma("sequential-sqrt",Ra.scaleSequentialSqrt,["continuous","interpolating"]);ma("sequential-symlog",Ra.scaleSequentialSymlog,["continuous","interpolating"]);ma("diverging-linear",Ra.scaleDiverging,["continuous","interpolating"]);ma("diverging-log",Ra.scaleDivergingLog,["continuous","interpolating",
"log"]);ma("diverging-pow",Ra.scaleDivergingPow,["continuous","interpolating"]);ma("diverging-sqrt",Ra.scaleDivergingSqrt,["continuous","interpolating"]);ma("diverging-symlog",Ra.scaleDivergingSymlog,["continuous","interpolating"]);ma("quantile",Ra.scaleQuantile,["discretizing","quantile"]);ma("quantize",Ra.scaleQuantize,"discretizing");ma("threshold",Ra.scaleThreshold,"discretizing");ma("bin-ordinal",Sa,["discrete","discretizing"]);ma("ordinal",Ra.scaleOrdinal,"discrete");ma("band",La,"discrete");
ma("point",function(){return Ia(La().paddingInner(1))},"discrete");const R=["clamp","base","constant","exponent"],aa={};ya({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",
tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",
set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ha);ya({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",
purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",
purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",
brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",
redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",
inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},c=>za(ha(c)));const da=c=>r.isArray(c)?c.map(f=>String(f)):String(c),Da=(c,f)=>c[1]-f[1],Ja=(c,f)=>f[1]-c[1],J={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},fa={["quantile"]:"quantiles",["quantize"]:"domain"},ca=c=>(f,l,m)=>{l=m[l+1];m=m.max;m=null!=m?m:Infinity;l=null!=l?l:m;
f=Number.isFinite(f)?c(f):null;l=Number.isFinite(l)?c(l):null;return f&&l?f+" – "+l:l?"\x3c "+l:"≥ "+f},W=c=>(f,l)=>l?c(f):null,d=c=>f=>c(f);Object.defineProperty(h,"scaleImplicit",{enumerable:!0,get:function(){return Ra.scaleImplicit}});h.Band="band";h.BinOrdinal="bin-ordinal";h.DiscreteLegend="discrete";h.Diverging="diverging";h.GradientLegend="gradient";h.Identity="identity";h.Linear="linear";h.Log="log";h.Ordinal="ordinal";h.Point="point";h.Pow="pow";h.Quantile="quantile";h.Quantize="quantize";
h.Sequential="sequential";h.Sqrt="sqrt";h.SymbolLegend="symbol";h.Symlog="symlog";h.Threshold="threshold";h.Time="time";h.UTC="utc";h.bandSpace=xb;h.domainCaption=function(c,f,l){l=l||{};var m=Math.max(3,l.maxlen||7),q=l.format;const w=(l=l.formatType)||f.type;r.isString(q)&&Qa(w)&&(q=q.replace(/%a/g,"%A").replace(/%b/g,"%B"));c=q||"time"!==w?q||"utc"!==w?I(c,f,5,null,q,l,!0):c.utcFormat("%A, %d %B %Y, %X UTC"):c.timeFormat("%A, %d %B %Y, %X");if(la(f.type))return m=Va(f).slice(1).map(c),f=m.length,
`${f} boundar${1===f?"y":"ies"}: ${m.join(", ")}`;if(Ga(f.type))return q=f.domain(),f=q.length,m=f>m?q.slice(0,m-2).map(c).join(", ")+", ending with "+q.slice(-1).map(c):q.map(c).join(", "),`${f} value${1===f?"":"s"}: ${m}`;m=f.domain();return`values from ${c(m[0])} to ${c(r.peek(m))}`};h.interpolate=Ta;h.interpolateColors=za;h.interpolateRange=function(c,f){const l=f[0],m=r.peek(f)-l;return function(q){return c(l+q*m)}};h.isContinuous=function(c){return Ba(c,"continuous")};h.isDiscrete=Ga;h.isDiscretizing=
la;h.isInterpolating=function(c){return Ba(c,"interpolating")};h.isLogarithmic=ra;h.isQuantile=function(c){return Ba(c,"quantile")};h.isTemporal=Qa;h.isValidScaleType=na;h.labelFormat=I;h.labelFraction=function(c){var f=c.domain();const l=f.length-1;let m=+f[0];f=+r.peek(f);let q=f-m;"threshold"===c.type&&(c=l?q/l:.1,m-=c,f+=c,q=f-m);return w=>(w-m)/q};h.labelValues=Va;h.quantizeInterpolator=function(c,f){const l=Array(f),m=f+1;for(let q=0;q<f;)l[q]=c(++q/m);return l};h.scale=ma;h.scaleCopy=function(c){const f=
c.type;c=c.copy();c.type=f;return c};h.scaleFraction=function(c,f,l){var m=l-f;let q,w;return m&&Number.isFinite(m)?(m=(q=c.type).indexOf("-"),q=0>m?q:q.slice(m+1),w=ma(q)().domain([f,l]).range([0,1]),R.forEach(G=>c[G]?w[G](c[G]()):0),w):r.constant(.5)};h.scheme=ua;h.tickCount=function(c,f,l){let m;r.isNumber(f)&&(c.bins&&(f=Math.max(f,c.bins.length)),null!=l&&(f=Math.min(f,Math.floor(r.span(c.domain())/l||1))));r.isObject(f)&&(m=f.step,f=f.interval);r.isString(f)&&(f="time"===c.type?bb.timeInterval(f):
"utc"==c.type?bb.utcInterval(f):r.error("Only time and utc scales accept interval strings."),m&&(f=f.every(m)));return f};h.tickFormat=Aa;h.tickValues=Pa;h.validTicks=Ma;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[25]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2),zb(19),zb(18),zb(20),zb(13),zb(24)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.d3,h.d3,h.vega,h.vega,h.vega))})(this,function(h,r,A,Ra,sb,bb,xb){function Gb(t,y,S){const ba=t.gradient;let Xa=t.id,vb="radial"===ba?"p_":"";Xa||
(Xa=t.id="gradient_"+kc++,"radial"===ba?(t.x1=ib(t.x1,.5),t.y1=ib(t.y1,.5),t.r1=ib(t.r1,0),t.x2=ib(t.x2,.5),t.y2=ib(t.y2,.5),t.r2=ib(t.r2,.5),vb="p_"):(t.x1=ib(t.x1,0),t.y1=ib(t.y1,0),t.x2=ib(t.x2,1),t.y2=ib(t.y2,0)));y[Xa]=t;return"url("+(S||"")+"#"+vb+Xa+")"}function ib(t,y){return null!=t?t:y}function La(t,y,S){t=r.hasOwnProperty(Zc,t)&&Zc[t];var ba=null;t&&(ba=t.curve||t[y||"vertical"],t.tension&&null!=S&&(ba=ba[t.tension](S)));return ba}function Ia(t){const y=[];let S,ba,Xa,vb;var Ib;const Qb=
t.slice().replace(Nc[0],"###$1").split(Nc[1]).slice(1);t=0;for(vb=Qb.length;t<vb;++t){var dc=Qb[t];var Ec=dc.slice(1).trim().replace(Nc[2],"$1###$2").replace(Nc[3],"$1###$2").split(Nc[4]);ba=dc.charAt(0);dc=[ba];Xa=0;for(Ib=Ec.length;Xa<Ib;++Xa)(S=+Ec[Xa])===S&&dc.push(S);Ec=Bc[ba.toLowerCase()];if(dc.length-1>Ec)for(Ib=dc.length,Xa=1,y.push([ba].concat(dc.slice(Xa,Xa+=Ec))),ba="M"===ba?"L":"m"===ba?"l":ba;Xa<Ib;Xa+=Ec)y.push([ba].concat(dc.slice(Xa,Xa+Ec)));else y.push(dc)}return y}function Sa(t,
y,S,ba,Xa,vb,Ib,Qb,dc){const Ec=de.call(arguments);if(oe[Ec])return oe[Ec];var Ac=Ib*Yb;const sd=Math.sin(Ac);Ac=Math.cos(Ac);S=Math.abs(S);ba=Math.abs(ba);var Gd=Ac*(Qb-t)*.5+sd*(dc-y)*.5,Pc=Ac*(dc-y)*.5-sd*(Qb-t)*.5;Gd=Gd*Gd/(S*S)+Pc*Pc/(ba*ba);1<Gd&&(Gd=Math.sqrt(Gd),S*=Gd,ba*=Gd);var Fd=Ac/S,Vd=sd/S,te=-sd/ba,Z=Ac/ba;Gd=Fd*Qb+Vd*dc;Pc=te*Qb+Z*dc;Fd=Fd*t+Vd*y;Vd=te*t+Z*y;te=1/((Fd-Gd)*(Fd-Gd)+(Vd-Pc)*(Vd-Pc))-.25;0>te&&(te=0);Z=Math.sqrt(te);vb==Xa&&(Z=-Z);te=.5*(Gd+Fd)-Z*(Vd-Pc);Z=.5*(Pc+Vd)+
Z*(Fd-Gd);Gd=Math.atan2(Pc-Z,Gd-te);Pc=Math.atan2(Vd-Z,Fd-te)-Gd;0>Pc&&1===vb?Pc+=cd:0<Pc&&0===vb&&(Pc-=cd);Fd=Math.ceil(Math.abs(Pc/(nd+.001)));Vd=[];for(let sa=0;sa<Fd;++sa)Vd[sa]=[te,Z,Gd+sa*Pc/Fd,Gd+(sa+1)*Pc/Fd,S,ba,sd,Ac];return oe[Ec]=Vd}function xa(t,y,S,ba,Xa,vb){var Ib=null,Qb=0,dc=0,Ec=0,Ac=0;null==S&&(S=0);null==ba&&(ba=0);null==Xa&&(Xa=1);null==vb&&(vb=Xa);t.beginPath&&t.beginPath();for(var sd=0,Gd=y.length;sd<Gd;++sd){var Pc=y[sd];if(1!==Xa||1!==vb){var Fd=Xa;var Vd=vb;var te=ne[0]=
Pc[0];if("a"===te||"A"===te)ne[1]=Fd*Pc[1],ne[2]=Vd*Pc[2],ne[3]=Pc[3],ne[4]=Pc[4],ne[5]=Pc[5],ne[6]=Fd*Pc[6],ne[7]=Vd*Pc[7];else if("h"===te||"H"===te)ne[1]=Fd*Pc[1];else if("v"===te||"V"===te)ne[1]=Vd*Pc[1];else{te=1;for(var Z=Pc.length;te<Z;++te)ne[te]=(1==te%2?Fd:Vd)*Pc[te]}Pc=ne}switch(Pc[0]){case "l":Qb+=Pc[1];dc+=Pc[2];t.lineTo(Qb+S,dc+ba);break;case "L":Qb=Pc[1];dc=Pc[2];t.lineTo(Qb+S,dc+ba);break;case "h":Qb+=Pc[1];t.lineTo(Qb+S,dc+ba);break;case "H":Qb=Pc[1];t.lineTo(Qb+S,dc+ba);break;case "v":dc+=
Pc[1];t.lineTo(Qb+S,dc+ba);break;case "V":dc=Pc[1];t.lineTo(Qb+S,dc+ba);break;case "m":Qb+=Pc[1];dc+=Pc[2];t.moveTo(Qb+S,dc+ba);break;case "M":Qb=Pc[1];dc=Pc[2];t.moveTo(Qb+S,dc+ba);break;case "c":Fd=Qb+Pc[5];Vd=dc+Pc[6];Ec=Qb+Pc[3];Ac=dc+Pc[4];t.bezierCurveTo(Qb+Pc[1]+S,dc+Pc[2]+ba,Ec+S,Ac+ba,Fd+S,Vd+ba);Qb=Fd;dc=Vd;break;case "C":Qb=Pc[5];dc=Pc[6];Ec=Pc[3];Ac=Pc[4];t.bezierCurveTo(Pc[1]+S,Pc[2]+ba,Ec+S,Ac+ba,Qb+S,dc+ba);break;case "s":Fd=Qb+Pc[3];Vd=dc+Pc[4];Ec=2*Qb-Ec;Ac=2*dc-Ac;t.bezierCurveTo(Ec+
S,Ac+ba,Qb+Pc[1]+S,dc+Pc[2]+ba,Fd+S,Vd+ba);Ec=Qb+Pc[1];Ac=dc+Pc[2];Qb=Fd;dc=Vd;break;case "S":Fd=Pc[3];Vd=Pc[4];Ec=2*Qb-Ec;Ac=2*dc-Ac;t.bezierCurveTo(Ec+S,Ac+ba,Pc[1]+S,Pc[2]+ba,Fd+S,Vd+ba);Qb=Fd;dc=Vd;Ec=Pc[1];Ac=Pc[2];break;case "q":Fd=Qb+Pc[3];Vd=dc+Pc[4];Ec=Qb+Pc[1];Ac=dc+Pc[2];t.quadraticCurveTo(Ec+S,Ac+ba,Fd+S,Vd+ba);Qb=Fd;dc=Vd;break;case "Q":Fd=Pc[3];Vd=Pc[4];t.quadraticCurveTo(Pc[1]+S,Pc[2]+ba,Fd+S,Vd+ba);Qb=Fd;dc=Vd;Ec=Pc[1];Ac=Pc[2];break;case "t":Fd=Qb+Pc[1];Vd=dc+Pc[2];null===Ib[0].match(/[QqTt]/)?
(Ec=Qb,Ac=dc):"t"===Ib[0]?(Ec=2*Qb-sa,Ac=2*dc-Ka):"q"===Ib[0]&&(Ec=2*Qb-Ec,Ac=2*dc-Ac);var sa=Ec;var Ka=Ac;t.quadraticCurveTo(Ec+S,Ac+ba,Fd+S,Vd+ba);Qb=Fd;dc=Vd;Ec=Qb+Pc[1];Ac=dc+Pc[2];break;case "T":Fd=Pc[1];Vd=Pc[2];Ec=2*Qb-Ec;Ac=2*dc-Ac;t.quadraticCurveTo(Ec+S,Ac+ba,Fd+S,Vd+ba);Qb=Fd;dc=Vd;break;case "a":ma(t,Qb+S,dc+ba,[Pc[1],Pc[2],Pc[3],Pc[4],Pc[5],Pc[6]+Qb+S,Pc[7]+dc+ba]);Qb+=Pc[6];dc+=Pc[7];break;case "A":ma(t,Qb+S,dc+ba,[Pc[1],Pc[2],Pc[3],Pc[4],Pc[5],Pc[6]+S,Pc[7]+ba]);Qb=Pc[6];dc=Pc[7];break;
case "z":case "Z":t.closePath()}Ib=Pc}}function ma(t,y,S,ba){y=Sa(ba[5],ba[6],ba[0],ba[1],ba[3],ba[4],ba[2],y,S);for(S=0;S<y.length;++S){a:{var Xa=y[S];ba=de.call(Xa);if(od[ba]){ba=od[ba];break a}var vb=Xa[0],Ib=Xa[1],Qb=Xa[2],dc=Xa[3],Ec=Xa[4],Ac=Xa[5],sd=Xa[6],Gd=Xa[7];Xa=Gd*Ec;const Fd=-sd*Ac;Ec*=sd;Ac*=Gd;var Pc=Math.cos(Qb);const Vd=Math.sin(Qb);sd=Math.cos(dc);Gd=Math.sin(dc);Qb=.5*(dc-Qb);dc=Math.sin(.5*Qb);dc=8/3*dc*dc/Math.sin(Qb);Qb=vb+Pc-dc*Vd;Pc=Ib+Vd+dc*Pc;vb+=sd;Ib+=Gd;Gd=vb+dc*Gd;sd=
Ib-dc*sd;ba=od[ba]=[Xa*Qb+Fd*Pc,Ec*Qb+Ac*Pc,Xa*Gd+Fd*sd,Ec*Gd+Ac*sd,Xa*vb+Fd*Ib,Ec*vb+Ac*Ib]}t.bezierCurveTo(ba[0],ba[1],ba[2],ba[3],ba[4],ba[5])}}function na(t){return r.hasOwnProperty(ue,t)?ue[t]:Ba(t)}function Ba(t){if(!r.hasOwnProperty(qf,t)){const y=Ia(t);qf[t]={draw:function(S,ba){xa(S,y,0,0,Math.sqrt(ba)/2)}}}return qf[t]}function Ga(t){return t.x}function la(t){return t.y}function ra(t){return t.width}function Qa(t){return t.height}function za(t){return"function"===typeof t?t:()=>+t}function Ta(t,
y,S){return Math.max(y,Math.min(t,S))}function L(){function t(Ac,sd,Gd){var Pc;sd=null!=sd?sd:+y.call(this,Ac);Gd=null!=Gd?Gd:+S.call(this,Ac);var Fd=+ba.call(this,Ac),Vd=+Xa.call(this,Ac),te=Math.min(Fd,Vd)/2,Z=Ta(+vb.call(this,Ac),0,te),sa=Ta(+Ib.call(this,Ac),0,te),Ka=Ta(+Qb.call(this,Ac),0,te);Ac=Ta(+dc.call(this,Ac),0,te);Ec||(Ec=Pc=Ra.path());0>=Z&&0>=sa&&0>=Ka&&0>=Ac?Ec.rect(sd,Gd,Fd,Vd):(Fd=sd+Fd,Vd=Gd+Vd,Ec.moveTo(sd+Z,Gd),Ec.lineTo(Fd-sa,Gd),Ec.bezierCurveTo(Fd-.448084975506*sa,Gd,Fd,Gd+
.448084975506*sa,Fd,Gd+sa),Ec.lineTo(Fd,Vd-Ac),Ec.bezierCurveTo(Fd,Vd-.448084975506*Ac,Fd-.448084975506*Ac,Vd,Fd-Ac,Vd),Ec.lineTo(sd+Ka,Vd),Ec.bezierCurveTo(sd+.448084975506*Ka,Vd,sd,Vd-.448084975506*Ka,sd,Vd-Ka),Ec.lineTo(sd,Gd+Z),Ec.bezierCurveTo(sd,Gd+.448084975506*Z,sd+.448084975506*Z,Gd,sd+Z,Gd),Ec.closePath());if(Pc)return Ec=null,Pc+""||null}var y=Ga,S=la,ba=ra,Xa=Qa,vb=za(0),Ib=vb,Qb=vb,dc=vb,Ec=null;t.x=function(Ac){return arguments.length?(y=za(Ac),t):y};t.y=function(Ac){return arguments.length?
(S=za(Ac),t):S};t.width=function(Ac){return arguments.length?(ba=za(Ac),t):ba};t.height=function(Ac){return arguments.length?(Xa=za(Ac),t):Xa};t.cornerRadius=function(Ac,sd,Gd,Pc){return arguments.length?(vb=za(Ac),Ib=null!=sd?za(sd):vb,dc=null!=Gd?za(Gd):vb,Qb=null!=Pc?za(Pc):Ib,t):vb};t.context=function(Ac){return arguments.length?(Ec=null==Ac?null:Ac,t):Ec};return t}function ha(){function t(Ac){var sd,Gd=Ac.length,Pc,Fd=!1,Vd;null==vb&&(vb=Vd=Ra.path());for(sd=0;sd<=Gd;++sd)if(!(sd<Gd&&Xa(Pc=Ac[sd],
sd,Ac))===Fd&&(Fd=!Fd)&&(Ib=0),Fd){var te=+y(Pc,sd,Ac),Z=+S(Pc,sd,Ac);const gc=+ba(Pc,sd,Ac)/2;if(Ib){var sa=dc-Z,Ka=te-Qb;if(sa||Ka){var jb=Math.sqrt(sa*sa+Ka*Ka),yb=(sa/=jb)*Ec;jb=(Ka/=jb)*Ec;var cc=Math.atan2(Ka,sa);vb.moveTo(Qb-yb,dc-jb);vb.lineTo(te-sa*gc,Z-Ka*gc);vb.arc(te,Z,gc,cc-Math.PI,cc);vb.lineTo(Qb+yb,dc+jb);vb.arc(Qb,dc,Ec,cc,cc+Math.PI)}else vb.arc(te,Z,gc,0,cd);vb.closePath()}else Ib=1;Qb=te;dc=Z;Ec=gc}if(Vd)return vb=null,Vd+""||null}var y,S,ba,Xa,vb=null,Ib,Qb,dc,Ec;t.x=function(Ac){return arguments.length?
(y=Ac,t):y};t.y=function(Ac){return arguments.length?(S=Ac,t):S};t.size=function(Ac){return arguments.length?(ba=Ac,t):ba};t.defined=function(Ac){return arguments.length?(Xa=Ac,t):Xa};t.context=function(Ac){return arguments.length?(vb=null==Ac?null:Ac,t):vb};return t}function ya(t,y){return null!=t?t:y}function ua(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function Ma(t,y,S,ba){return Je.context(t)(y,S,ba)}function Pa(t,
y,S){var ba=y.clip;t=t._defs;y=y.clip_id||(y.clip_id="clip"+Ke++);t=t.clipping[y]||(t.clipping[y]={id:y});r.isFunction(ba)?t.path=ba(null):ua(S)?t.path=Ma(null,S,0,0):(t.width=S.width||0,t.height=S.height||0);return"url(#"+y+")"}function Aa(t){this.clear();t&&this.union(t)}function ab(t){this.mark=t;this.bounds=this.bounds||new Aa}function Va(t){ab.call(this,t);this.items=this.items||[]}function I(t){this._pending=0;this._loader=t||bb.loader()}function x(t,y,S){if(y.stroke&&0!==y.opacity&&0!==y.strokeOpacity){const ba=
null!=y.strokeWidth?+y.strokeWidth:1;t.expand(ba+(S?y.strokeJoin&&"miter"!==y.strokeJoin?0:ba:0))}return t}function M(t,y){rd=t;y?(Ce=y*Yb,Ee=yd=Math.cos(Ce),ve=Math.sin(Ce),Fe=-ve):(Ee=yd=1,Ce=ve=Fe=0);return Sb}function K(t,y,S,ba){S=(t-y)/(t+S-2*y);0<S&&1>S&&ba(t+(y-t)*S)}function C(t,y,S,ba,Xa){const vb=ba-t+3*y-3*S,Ib=t+S-2*y;var Qb=t-y;let dc=0,Ec=0;1E-14<Math.abs(vb)?(Qb=Ib*Ib+Qb*vb,0<=Qb&&(Qb=Math.sqrt(Qb),dc=(-Ib+Qb)/vb,Ec=(-Ib-Qb)/vb)):dc=.5*Qb/Ib;0<dc&&1>dc&&Xa(R(dc,t,y,S,ba));0<Ec&&1>
Ec&&Xa(R(Ec,t,y,S,ba))}function R(t,y,S,ba,Xa){const vb=1-t,Ib=vb*vb,Qb=t*t;return Ib*vb*y+3*Ib*t*S+3*vb*Qb*ba+Qb*t*Xa}function aa(t){return function(y,S){if(!Ob)return!0;t(Ob,y);Xc.clear().union(y.bounds).intersect(S).round();const {x1:ba,y1:Xa,x2:vb,y2:Ib}=Xc;for(y=Xa;y<=Ib;++y)for(S=ba;S<=vb;++S)if(Ob.isPointInPath(S,y))return!0;return!1}}function da(t,y){return y.contains(t.x||0,t.y||0)}function Da(t,y){const S=t.x||0,ba=t.y||0;return y.intersects(Xc.set(S,ba,S+(t.width||0),ba+(t.height||0)))}
function Ja(t,y){const S=t.x||0,ba=t.y||0;return J(y,S,ba,null!=t.x2?t.x2:S,null!=t.y2?t.y2:ba)}function J(t,y,S,ba,Xa){const {x1:vb,y1:Ib,x2:Qb,y2:dc}=t;t=ba-y;Xa-=S;ba=0;let Ec=1,Ac,sd,Gd,Pc;for(Pc=0;4>Pc;++Pc){0===Pc&&(Ac=-t,sd=-(vb-y));1===Pc&&(Ac=t,sd=Qb-y);2===Pc&&(Ac=-Xa,sd=-(Ib-S));3===Pc&&(Ac=Xa,sd=dc-S);if(1E-10>Math.abs(Ac)&&0>sd)return!1;Gd=sd/Ac;if(0>Ac){if(Gd>Ec)return!1;Gd>ba&&(ba=Gd)}else if(0<Ac){if(Gd<ba)return!1;Gd<Ec&&(Ec=Gd)}}return!0}function fa(t,y){t.globalCompositeOperation=
y.blend||"source-over"}function ca(t,y){return null==t?y:t}function W(t,y){const S=y.length;for(let ba=0;ba<S;++ba)t.addColorStop(y[ba].offset,y[ba].color);return t}function d(t,y,S){const ba=S.width(),Xa=S.height();if("radial"===y.gradient)t=t.createRadialGradient(S.x1+ca(y.x1,.5)*ba,S.y1+ca(y.y1,.5)*Xa,Math.max(ba,Xa)*ca(y.r1,0),S.x1+ca(y.x2,.5)*ba,S.y1+ca(y.y2,.5)*Xa,Math.max(ba,Xa)*ca(y.r2,.5));else{const vb=ca(y.x1,0),Ib=ca(y.y1,0),Qb=ca(y.x2,1),dc=ca(y.y2,0);if(vb===Qb||Ib===dc||ba===Xa)t=t.createLinearGradient(S.x1+
vb*ba,S.y1+Ib*Xa,S.x1+Qb*ba,S.y1+dc*Xa);else{S=sb.canvas(Math.ceil(ba),Math.ceil(Xa));const Ec=S.getContext("2d");Ec.scale(ba,Xa);Ec.fillStyle=W(Ec.createLinearGradient(vb,Ib,Qb,dc),y.stops);Ec.fillRect(0,0,ba,Xa);return t.createPattern(S,"no-repeat")}}return W(t,y.stops)}function c(t,y,S){S*=null==y.fillOpacity?1:y.fillOpacity;return 0<S?(t.globalAlpha=S,y=(S=y.fill)&&S.gradient?d(t,S,y.bounds):S,t.fillStyle=y,!0):!1}function f(t,y,S){var ba=null!=(ba=y.strokeWidth)?ba:1;if(0>=ba)return!1;S*=null==
y.strokeOpacity?1:y.strokeOpacity;return 0<S?(t.globalAlpha=S,S=(S=y.stroke)&&S.gradient?d(t,S,y.bounds):S,t.strokeStyle=S,t.lineWidth=ba,t.lineCap=y.strokeCap||"butt",t.lineJoin=y.strokeJoin||"miter",t.miterLimit=y.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(y.strokeDash||Sc),t.lineDashOffset=y.strokeDashOffset||0),!0):!1}function l(t,y){return t.zindex-y.zindex||t.index-y.index}function m(t){if(!t.zdirty)return t.zitems;var y=t.items,S=[],ba;var Xa=0;for(ba=y.length;Xa<ba;++Xa){var vb=y[Xa];
vb.index=Xa;vb.zindex&&S.push(vb)}t.zdirty=!1;return t.zitems=S.sort(l)}function q(t,y){var S=t.items,ba;if(S&&S.length){var Xa=m(t);if(Xa&&Xa.length){t=0;for(ba=S.length;t<ba;++t)S[t].zindex||y(S[t]);S=Xa}t=0;for(ba=S.length;t<ba;++t)y(S[t])}}function w(t,y){var S=t.items,ba,Xa;if(!S||!S.length)return null;const vb=m(t);vb&&vb.length&&(S=vb);for(Xa=S.length;0<=--Xa;)if(ba=y(S[Xa]))return ba;if(S===vb)for(S=t.items,Xa=S.length;0<=--Xa;)if(!S[Xa].zindex&&(ba=y(S[Xa])))return ba;return null}function G(t){return function(y,
S,ba){q(S,Xa=>{ba&&!ba.intersects(Xa.bounds)||wa(t,y,Xa,Xa)})}}function U(t){return function(y,S,ba){!S.items.length||ba&&!ba.intersects(S.bounds)||wa(t,y,S.items[0],S.items)}}function wa(t,y,S,ba){var Xa=null==S.opacity?1:S.opacity;0===Xa||t(y,ba)||(fa(y,S),S.fill&&c(y,S,Xa)&&y.fill(),S.stroke&&f(y,S,Xa)&&y.stroke())}function cb(t){t=t||r.truthy;return function(y,S,ba,Xa,vb,Ib){ba*=y.pixelRatio;Xa*=y.pixelRatio;return w(S,Qb=>{const dc=Qb.bounds;if((!dc||dc.contains(vb,Ib))&&dc&&t(y,Qb,ba,Xa,vb,
Ib))return Qb})}}function hb(t,y){return function(S,ba,Xa,vb){var Ib=Array.isArray(ba)?ba[0]:ba,Qb=null==y?Ib.fill:y,dc=Ib.stroke&&S.isPointInStroke;if(dc){var Ec=Ib.strokeWidth;Ib=Ib.strokeCap;S.lineWidth=null!=Ec?Ec:1;S.lineCap=null!=Ib?Ib:"butt"}return t(S,ba)?!1:Qb&&S.isPointInPath(Xa,vb)||dc&&S.isPointInStroke(Xa,vb)}}function Y(t,y){return"translate("+t+","+y+")"}function ta(t,y,S){function ba(Xa,vb){var Ib=vb.x||0,Qb=vb.y||0,dc=vb.angle||0;Xa.translate(Ib,Qb);dc&&Xa.rotate(dc*=Yb);Xa.beginPath();
y(Xa,vb);dc&&Xa.rotate(-dc);Xa.translate(-Ib,-Qb)}return{type:t,tag:"path",nested:!1,attr:function(Xa,vb){var Ib=Y(vb.x||0,vb.y||0)+(vb.angle?" rotate("+(vb.angle+")"):"");Xa("transform",Ib);Xa("d",y(null,vb))},bound:function(Xa,vb){y(M(Xa,vb.angle),vb);return x(Xa,vb).translate(vb.x||0,vb.y||0)},draw:G(ba),pick:cb(hb(ba)),isect:S||aa(ba)}}function H(t,y,S){function ba(vb,Ib){vb.beginPath();y(vb,Ib)}const Xa=hb(ba);return{type:t,tag:"path",nested:!0,attr:function(vb,Ib){Ib=Ib.mark.items;Ib.length&&
vb("d",y(null,Ib))},bound:function(vb,Ib){Ib=Ib.items;if(0===Ib.length)return vb;y(M(vb),Ib);return x(vb,Ib[0])},draw:U(ba),pick:function(vb,Ib,Qb,dc,Ec,Ac){var sd=Ib.items;Ib=Ib.bounds;if(!sd||!sd.length||Ib&&!Ib.contains(Ec,Ac))return null;Qb*=vb.pixelRatio;dc*=vb.pixelRatio;return Xa(vb,sd,Qb,dc)?sd[0]:null},isect:da,tip:S}}function Q(t,y){t.beginPath();ua(y)?Ma(t,y,0,0):t.rect(0,0,y.width||0,y.height||0);t.clip()}function ja(t){const y=ca(t.strokeWidth,1);return null!=t.strokeOffset?t.strokeOffset:
t.stroke&&.5<y&&1.5>y?.5-Math.abs(y-1):0}function Ca(t,y,S,ba){const Xa=ja(y);t.beginPath();Ma(t,y,(S||0)+Xa,(ba||0)+Xa)}function qb(t,y){var S=t.image;if(!S||t.url&&t.url!==S.url)S={complete:!1,width:0,height:0},y.loadImage(t.url).then(ba=>{t.image=ba;t.image.url=t.url});return S}function Ya(t,y){return null!=t.width?t.width:y&&y.width?!1!==t.aspect&&t.height?t.height*y.width/y.height:y.width:0}function ob(t,y){return null!=t.height?t.height:y&&y.height?!1!==t.aspect&&t.width?t.width*y.height/y.width:
y.height:0}function Na(t,y){return"center"===t?y/2:"right"===t?y:0}function Ab(t,y){return"middle"===t?y/2:"bottom"===t?y:0}function Eb(t,y){var S=y.path;if(null==S)return!0;var ba=y.x||0,Xa=y.y||0,vb=y.scaleX||1,Ib=y.scaleY||1,Qb=(y.angle||0)*Yb,dc=y.pathCache;dc&&dc.path===S||((y.pathCache=dc=Ia(S)).path=S);Qb&&t.rotate&&t.translate?(t.translate(ba,Xa),t.rotate(Qb),xa(t,dc,0,0,vb,Ib),t.rotate(-Qb),t.translate(-ba,-Xa)):xa(t,dc,ba,Xa,vb,Ib)}function eb(t,y){t.beginPath();Ma(t,y)}function Mb(t,y,
S){if(y.stroke&&f(t,y,S)){S=y.x||0;var ba=y.y||0;var Xa=null!=y.x2?y.x2:S;y=null!=y.y2?y.y2:ba;t.beginPath();t.moveTo(S,ba);t.lineTo(Xa,y);return!0}return!1}function jc(t){jf.width=t&&Ob?Hc:Zb}function Zb(t,y){y=gd(t,y);t=ed(t);return~~(.8*y.length*t)}function Hc(t,y){return 0>=ed(t)||!(y=gd(t,y))?0:zc(y,xd(t))}function zc(t,y){const S=`(${y}) ${t}`;let ba=cf.get(S);void 0===ba&&(Ob.font=y,ba=Ob.measureText(t).width,cf.set(S,ba));return ba}function ed(t){return null!=t.fontSize?+t.fontSize||0:11}
function Ad(t){return null!=t.lineHeight?t.lineHeight:ed(t)+2}function Gc(t){t=t.lineBreak&&t.text&&!r.isArray(t.text)?t.text.split(t.lineBreak):t.text;return r.isArray(t)?1<t.length?t:t[0]:t}function gd(t,y){y=null==y?"":(y+"").trim();if(0<t.limit&&y.length){var S=+t.limit,ba=ie(t);if(!(ba(y)<S)){var Xa=t.ellipsis||"…",vb="rtl"===t.dir;t=0;var Ib=y.length;S-=ba(Xa);if(vb){for(;t<Ib;)vb=t+Ib>>>1,ba(y.slice(vb))>S?t=vb+1:Ib=vb;y=Xa+y.slice(t)}else{for(;t<Ib;)vb=1+(t+Ib>>>1),ba(y.slice(0,vb))<S?t=vb:
Ib=vb-1;y=y.slice(0,t)+Xa}}}return y}function ie(t){if(jf.width===Hc){const S=xd(t);return ba=>zc(ba,S)}const y=ed(t);return S=>~~(.8*S.length*y)}function Mc(t,y){t=t.font;return(y&&t?String(t).replace(/"/g,"'"):t)||"sans-serif"}function xd(t,y){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+ed(t)+"px "+Mc(t,y)}function Rd(t){var y=t.baseline,S=ed(t);return Math.round("top"===y?.79*S:"middle"===y?.3*S:"bottom"===y?-.21*S:"line-top"===
y?.29*S+.5*Ad(t):"line-bottom"===y?.29*S-.5*Ad(t):0)}function Db(t){var y=t.x||0,S=t.y||0,ba=t.radius||0;ba&&(t=(t.theta||0)-nd,y+=ba*Math.cos(t),S+=ba*Math.sin(t));Oe.x1=y;Oe.y1=S;return Oe}function ac(t,y,S){var ba=jf.height(y),Xa=y.align,vb=Db(y),Ib=vb.x1;vb=vb.y1;var Qb=y.dx||0,dc=(y.dy||0)+Rd(y)-Math.round(.8*ba),Ec=Gc(y);r.isArray(Ec)?(ba+=Ad(y)*(Ec.length-1),Ec=Ec.reduce((Ac,sd)=>Math.max(Ac,jf.width(y,sd)),0)):Ec=jf.width(y,Ec);"center"===Xa?Qb-=Ec/2:"right"===Xa&&(Qb-=Ec);t.set(Qb+=Ib,dc+=
vb,Qb+Ec,dc+ba);if(y.angle&&!S)t.rotate(y.angle*Yb,Ib,vb);else if(2===S)return t.rotatedPoints(y.angle*Yb,Ib,vb);return t}function kb(t,y,S){var ba=$e[t.mark.marktype];y=y||ba.bound;ba.nested&&(t=t.mark);return y(t.bounds||(t.bounds=new Aa),t,S)}function oc(t,y,S){var ba=$e[t.marktype],Xa=ba.bound,vb=t.items,Ib=vb&&vb.length;if(ba.nested)return Ib?t=vb[0]:(Ff.mark=t,t=Ff),S=kb(t,Xa,S),y=y&&y.union(S)||S;y=y||t.bounds&&t.bounds.clear()||new Aa;if(Ib)for(ba=0,Ib=vb.length;ba<Ib;++ba)y.union(kb(vb[ba],
Xa,S));return t.bounds=y}function sc(t,y){return JSON.stringify(t,af,y)}function dd(t){t="string"===typeof t?JSON.parse(t):t;return vd(t)}function vd(t){var y=t.marktype,S=t.items,ba;if(S){var Xa=0;for(ba=S.length;Xa<ba;++Xa){var vb=y?"mark":"group";S[Xa][vb]=t;S[Xa].zindex&&(S[Xa][vb].zdirty=!0);"group"===(y||vb)&&vd(S[Xa])}}y&&oc(t);return t}function N(t){arguments.length?this.root=dd(t):(this.root=oa({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Va(this.root)])}function oa(t,
y){y={bounds:new Aa,clip:!!t.clip,group:y,interactive:!1===t.interactive?!1:!0,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};null!=t.aria&&(y.aria=t.aria);t.description&&(y.description=t.description);return y}function $a(t,y,S){!t&&"undefined"!==typeof document&&document.createElement&&(t=document);return t?S?t.createElementNS(S,y):t.createElement(y):null}function wb(t,y){y=y.toLowerCase();t=t.childNodes;for(var S=0,ba=t.length;S<ba;++S)if(t[S].tagName.toLowerCase()===
y)return t[S]}function Fb(t,y,S,ba){y=t.childNodes[y];if(!y||y.tagName.toLowerCase()!==S.toLowerCase()){var Xa=y||null;y=$a(t.ownerDocument,S,ba);t.insertBefore(y,Xa)}return y}function Kb(t,y){for(var S=t.childNodes,ba=S.length;ba>y;)t.removeChild(S[--ba]);return t}function ec(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function Wb(t,y){const S=y.getBoundingClientRect();return[t.clientX-S.left-(y.clientLeft||0),t.clientY-S.top-(y.clientTop||0)]}function vc(t,y){this._active=
null;this._handlers={};this._loader=t||bb.loader();this._tooltip=y||Fc}function Fc(t,y,S,ba){t.element().setAttribute("title",ba||"")}function va(t){this._bgcolor=this._el=null;this._loader=new I(t)}function Za(t,y){vc.call(this,t,y);this._touch=this._down=null;this._first=!0;this._events={}}function pb(t,y){("touchstart"===y||"touchmove"===y||"touchend"===y?["touchstart","touchmove","touchend"]:[y]).forEach(S=>Ub(t,S))}function Ub(t,y){const S=t.canvas();S&&!t._events[y]&&(t._events[y]=1,S.addEventListener(y,
t[y]?ba=>t[y](ba):ba=>t.fire(y,ba)))}function wc(t,y,S){return function(ba){const Xa=this._active,vb=this.pickEvent(ba);vb!==Xa&&(Xa&&Xa.exit||this.fire(S,ba),this._active=vb,this.fire(y,ba));this.fire(t,ba)}}function Cc(t){return function(y){this.fire(t,y);this._active=null}}function Jc(t){va.call(this,t);this._options={};this._redraw=!1;this._dirty=new Aa;this._tempb=new Aa}function Cb(t,y){vc.call(this,t,y);const S=this;S._hrefHandler=Vf(S,(ba,Xa)=>{Xa&&Xa.href&&S.handleHref(ba,Xa,Xa.href)});S._tooltipHandler=
Vf(S,(ba,Xa)=>{S.handleTooltip(ba,Xa,"mouseout"!==ba.type)})}function Vb(t,y){var S=!1===y.aria;t("aria-hidden",S||void 0);if(S||null==y.description)for(const ba in T)t(T[ba],void 0);else S=y.mark.marktype,t("aria-label",y.description),t("role",y.ariaRole||("group"===S?"graphics-object":"graphics-symbol")),t("aria-roledescription",y.ariaRoleDescription||`${S} mark`)}function nc(t){return!1===t.aria?{["aria-hidden"]:!0}:D[t.role]?null:O[t.role]?rc(t,O[t.role]):lc(t)}function lc(t){const y=t.marktype,
S="group"===y||"text"===y||t.items.some(ba=>null!=ba.description&&!1!==ba.aria);return B(S?"graphics-object":"graphics-symbol",`${y} mark container`,t.description)}function rc(t,y){try{const S=t.items[0],ba=y.caption||(()=>"");return B(y.role||"graphics-symbol",y.desc,S.description||ba(S))}catch(S){return null}}function Vc(t){try{return r.array(r.peek(t.items).items[0].text).join(" ")}catch(y){return null}}function zd(t){t=t.map(y=>y+("fill"===y||"stroke"===y?" color":""));return 2>t.length?t[0]:
t.slice(0,-1).join(", ")+" and "+r.peek(t)}function pd(){let t="",y="",S="";const ba=[],Xa=(Ib,Qb)=>{null!=Qb&&(y+=` ${Ib}="${ia(Qb).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return vb},vb={open(Ib,...Qb){y&&(t+=`${y}>${S}`,y=S="");ba.push(Ib);y="\x3c"+Ib;for(const dc of Qb)for(const Ec in dc)Xa(Ec,dc[Ec]);return vb},close(){const Ib=ba.pop();t=y?t+(y+(S?`>${S}</${Ib}>`:"/\x3e")):t+`</${Ib}>`;y=S="";return vb},attr:Xa,text:Ib=>(S+=
ia(Ib),vb),toString:()=>t};return vb}function ld(t,y){t.open(y.tagName);if(y.hasAttributes()){var S=y.attributes,ba=S.length;for(var Xa=0;Xa<ba;++Xa)t.attr(S[Xa].name,S[Xa].value)}if(y.hasChildNodes())for(y=y.childNodes,S=y.length,ba=0;ba<S;ba++)Xa=y[ba],3===Xa.nodeType?t.text(Xa.nodeValue):ld(t,Xa);return t.close()}function qd(t){va.call(this,t);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Od(t,y){for(;t&&t.dirty!==y;t=t.mark.group)if(t.dirty=y,t.mark&&t.mark.dirty!==
y)t.mark.dirty=y;else break}function fe(t,y,S){y=y.lastChild.previousSibling;let ba,Xa=0;q(S,vb=>{ba=t.mark(y,vb,ba);++Xa});Kb(y,1+Xa)}function le(t,y,S,ba,Xa){let vb=t._svg;if(!vb){var Ib=y.ownerDocument;vb=$a(Ib,ba,Ua);t._svg=vb;t.mark&&(vb.__data__=t,vb.__values__={fill:"default"},"g"===ba&&(ba=$a(Ib,"path",Ua),vb.appendChild(ba),ba.__data__=t,ba=$a(Ib,"g",Ua),vb.appendChild(ba),ba.__data__=t,Ib=$a(Ib,"path",Ua),vb.appendChild(Ib),Ib.__data__=t,Ib.__values__={fill:"default"}))}(vb.ownerSVGElement!==
Xa||vb.parentNode&&1<vb.parentNode.childNodes.length&&vb.previousSibling!=S)&&y.insertBefore(vb,S?S.nextSibling:y.firstChild);return vb}function Kd(t,y,S){if(y!==Bb[t]){if(S){var ba=nb;null!=y?ba.setAttributeNS(S,t,y):ba.removeAttributeNS(S,t)}else Be(nb,t,y);Bb[t]=y}}function Ie(t,y,S){S!==Bb[y]&&(null==S?t.style.removeProperty(y):t.style.setProperty(y,S+""),Bb[y]=S)}function he(t,y){for(const S in y)Be(t,S,y[S])}function Be(t,y,S){null!=S?t.setAttribute(y,S):t.removeAttribute(y)}function Dd(){let t;
return"undefined"===typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function be(t){va.call(this,t);this._text=null;this._defs={gradient:{},clipping:{}}}function V(t,y,S,ba,Xa){if(null==y)return t;"bgrect"===ba&&!1===S.interactive&&(t["pointer-events"]="none");if("bgfore"===ba&&(!1===S.interactive&&(t["pointer-events"]="none"),t.display="none",null!==y.fill))return t;"image"===ba&&!1===y.smooth&&(t.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");
"text"===ba&&(t["font-family"]=Mc(y),t["font-size"]=ed(y)+"px",t["font-style"]=y.fontStyle,t["font-variant"]=y.fontVariant,t["font-weight"]=y.fontWeight);for(const vb in Ha)S=y[vb],ba=Ha[vb],("transparent"!==S||"fill"!==ba&&"stroke"!==ba)&&null!=S&&(S&&S.gradient&&(S=Gb(S,Xa.gradient,"")),t[ba]=S);return t}function qa(t,y,S,ba){if(t.bounds&&y.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!S||S(t)))){const vb=t.items;var Xa=t.marktype;t=vb.length;let Ib=0;if("group"===Xa)for(;Ib<
t;++Ib)Fa(vb[Ib],y,S,ba);else for(S=$e[Xa].isect;Ib<t;++Ib)Xa=vb[Ib],rb(Xa,y,S)&&ba.push(Xa)}return ba}function Fa(t,y,S,ba){S&&S(t.mark)&&rb(t,y,$e.group.isect)&&ba.push(t);const Xa=t.items,vb=Xa&&Xa.length;if(vb){const Ib=t.x||0;t=t.y||0;y.translate(-Ib,-t);for(let Qb=0;Qb<vb;++Qb)qa(Xa[Qb],y,S,ba);y.translate(Ib,t)}return ba}function rb(t,y,S){const ba=t.bounds;return y.encloses(ba)||y.intersects(ba)&&S(t,y)}function gb(t,y,S){return t===y?!0:"path"===S?Lb(t,y):t instanceof Date&&y instanceof Date?
+t===+y:r.isNumber(t)&&r.isNumber(y)?1E-9>=Math.abs(t-y):t&&y&&(r.isObject(t)||r.isObject(y))?Rb(t,y):t==y}function Lb(t,y){return gb(Ia(t),Ia(y))}function Rb(t,y){var S=Object.keys(t),ba=Object.keys(y),Xa;if(S.length!==ba.length)return!1;S.sort();ba.sort();for(Xa=S.length-1;0<=Xa;Xa--)if(S[Xa]!=ba[Xa])return!1;for(Xa=S.length-1;0<=Xa;Xa--)if(ba=S[Xa],!gb(t[ba],y[ba],ba))return!1;return typeof t===typeof y}let kc=0;const Zc={basis:{curve:A.curveBasis},"basis-closed":{curve:A.curveBasisClosed},"basis-open":{curve:A.curveBasisOpen},
bundle:{curve:A.curveBundle,tension:"beta",value:.85},cardinal:{curve:A.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:A.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:A.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:A.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:A.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:A.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:A.curveLinear},
"linear-closed":{curve:A.curveLinearClosed},monotone:{horizontal:A.curveMonotoneY,vertical:A.curveMonotoneX},natural:{curve:A.curveNatural},step:{curve:A.curveStep},"step-after":{curve:A.curveStepAfter},"step-before":{curve:A.curveStepBefore}},Bc={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Nc=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Yb=Math.PI/180,nd=Math.PI/2,cd=2*Math.PI,Xb=Math.sqrt(3)/2;var oe={},od={},de=[].join;const ne=["l",0,0,0,0,0,0,0],ue={circle:{draw:function(t,
y){y=Math.sqrt(y)/2;t.moveTo(y,0);t.arc(0,0,y,0,cd)}},cross:{draw:function(t,y){y=Math.sqrt(y)/2;var S=y/2.5;t.moveTo(-y,-S);t.lineTo(-y,S);t.lineTo(-S,S);t.lineTo(-S,y);t.lineTo(S,y);t.lineTo(S,S);t.lineTo(y,S);t.lineTo(y,-S);t.lineTo(S,-S);t.lineTo(S,-y);t.lineTo(-S,-y);t.lineTo(-S,-S);t.closePath()}},diamond:{draw:function(t,y){y=Math.sqrt(y)/2;t.moveTo(-y,0);t.lineTo(0,-y);t.lineTo(y,0);t.lineTo(0,y);t.closePath()}},square:{draw:function(t,y){y=Math.sqrt(y);var S=-y/2;t.rect(S,S,y,y)}},arrow:{draw:function(t,
y){y=Math.sqrt(y)/2;var S=y/7,ba=y/2.5,Xa=y/8;t.moveTo(-S,y);t.lineTo(S,y);t.lineTo(S,-Xa);t.lineTo(ba,-Xa);t.lineTo(0,-y);t.lineTo(-ba,-Xa);t.lineTo(-S,-Xa);t.closePath()}},wedge:{draw:function(t,y){var S=Math.sqrt(y)/2;y=Xb*S;var ba=y-.5773502691896257*S;S/=4;t.moveTo(0,-y-ba);t.lineTo(-S,y-ba);t.lineTo(S,y-ba);t.closePath()}},triangle:{draw:function(t,y){y=Math.sqrt(y)/2;var S=Xb*y,ba=S-.5773502691896257*y;t.moveTo(0,-S-ba);t.lineTo(-y,S-ba);t.lineTo(y,S-ba);t.closePath()}},"triangle-up":{draw:function(t,
y){y=Math.sqrt(y)/2;var S=Xb*y;t.moveTo(0,-S);t.lineTo(-y,S);t.lineTo(y,S);t.closePath()}},"triangle-down":{draw:function(t,y){y=Math.sqrt(y)/2;var S=Xb*y;t.moveTo(0,S);t.lineTo(-y,-S);t.lineTo(y,-S);t.closePath()}},"triangle-right":{draw:function(t,y){y=Math.sqrt(y)/2;var S=Xb*y;t.moveTo(S,0);t.lineTo(-S,-y);t.lineTo(-S,y);t.closePath()}},"triangle-left":{draw:function(t,y){y=Math.sqrt(y)/2;var S=Xb*y;t.moveTo(-S,0);t.lineTo(S,-y);t.lineTo(S,y);t.closePath()}},stroke:{draw:function(t,y){y=Math.sqrt(y)/
2;t.moveTo(-y,0);t.lineTo(y,0)}}};var qf={};const gf=t=>t.x||0,Qd=t=>t.y||0,bc=t=>!1!==t.defined,$d=A.arc().startAngle(t=>t.startAngle||0).endAngle(t=>t.endAngle||0).padAngle(t=>t.padAngle||0).innerRadius(t=>t.innerRadius||0).outerRadius(t=>t.outerRadius||0).cornerRadius(t=>t.cornerRadius||0),fc=A.area().x(gf).y1(Qd).y0(t=>(t.y||0)+(t.height||0)).defined(bc),Wc=A.area().y(Qd).x1(gf).x0(t=>(t.x||0)+(t.width||0)).defined(bc),Ud=A.line().x(gf).y(Qd).defined(bc),Je=L().x(gf).y(Qd).width(t=>t.width||0).height(t=>
t.height||0).cornerRadius(t=>ya(t.cornerRadiusTopLeft,t.cornerRadius)||0,t=>ya(t.cornerRadiusTopRight,t.cornerRadius)||0,t=>ya(t.cornerRadiusBottomRight,t.cornerRadius)||0,t=>ya(t.cornerRadiusBottomLeft,t.cornerRadius)||0),Yd=A.symbol().type(t=>na(t.shape||"circle")).size(t=>ya(t.size,64)),je=ha().x(gf).y(Qd).defined(bc).size(t=>t.size||1);var Ke=1;Aa.prototype={clone(){return new Aa(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;
return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,y,S,ba){S<t?(this.x2=t,this.x1=S):(this.x1=t,this.x2=S);ba<y?(this.y2=y,this.y1=ba):(this.y1=y,this.y2=ba);return this},add(t,y){t<this.x1&&(this.x1=t);y<this.y1&&(this.y1=y);t>this.x2&&(this.x2=t);y>this.y2&&(this.y2=y);return this},expand(t){this.x1-=t;this.y1-=t;this.x2+=
t;this.y2+=t;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(t){this.x1*=t;this.y1*=t;this.x2*=t;this.y2*=t;return this},translate(t,y){this.x1+=t;this.x2+=t;this.y1+=y;this.y2+=y;return this},rotate(t,y,S){t=this.rotatedPoints(t,y,S);return this.clear().add(t[0],t[1]).add(t[2],t[3]).add(t[4],t[5]).add(t[6],t[7])},rotatedPoints(t,y,S){var {x1:ba,y1:Xa,x2:vb,y2:Ib}=this,Qb=Math.cos(t);t=Math.sin(t);
var dc=y-y*Qb+S*t;y=S-y*t-S*Qb;return[Qb*ba-t*Xa+dc,t*ba+Qb*Xa+y,Qb*ba-t*Ib+dc,t*ba+Qb*Ib+y,Qb*vb-t*Xa+dc,t*vb+Qb*Xa+y,Qb*vb-t*Ib+dc,t*vb+Qb*Ib+y]},union(t){t.x1<this.x1&&(this.x1=t.x1);t.y1<this.y1&&(this.y1=t.y1);t.x2>this.x2&&(this.x2=t.x2);t.y2>this.y2&&(this.y2=t.y2);return this},intersect(t){t.x1>this.x1&&(this.x1=t.x1);t.y1>this.y1&&(this.y1=t.y1);t.x2<this.x2&&(this.x2=t.x2);t.y2<this.y2&&(this.y2=t.y2);return this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=
t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,y){return!(t<this.x1||t>this.x2||y<this.y1||y>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};r.inherits(Va,ab);I.prototype={pending(){return this._pending},sanitizeURL(t){const y=this;y._pending+=1;return y._loader.sanitize(t,{context:"href"}).then(S=>{--y._pending;return S}).catch(()=>
{--y._pending;return null})},loadImage(t){const y=this,S=sb.image();y._pending+=1;return y._loader.sanitize(t,{context:"image"}).then(ba=>{const Xa=ba.href;if(!Xa||!S)throw{url:Xa};const vb=new S;ba=r.hasOwnProperty(ba,"crossOrigin")?ba.crossOrigin:"anonymous";null!=ba&&(vb.crossOrigin=ba);vb.onload=()=>{--y._pending};vb.onerror=()=>{--y._pending};vb.src=Xa;return vb}).catch(ba=>{--y._pending;return{complete:!1,width:0,height:0,src:ba&&ba.url||""}})},ready(){const t=this;return new Promise(y=>{function S(ba){t.pending()?
setTimeout(()=>{S(!0)},10):y(ba)}S(!1)})}};const Cd=cd-1E-8;let rd,we,hd,Ce,Ee,ve,Fe,yd;const F=(t,y)=>{t=we=t;y=hd=y;return rd.add(t,y)},X=t=>rd.add(t,rd.y1),Oa=t=>rd.add(rd.x1,t),Hb=(t,y)=>rd.add(Ee*t+Fe*y,ve*t+yd*y),Tb=(t,y)=>F(Ee*t+Fe*y,ve*t+yd*y),Sb={beginPath(){},closePath(){},moveTo:Tb,lineTo:Tb,rect(t,y,S,ba){Ce?(Hb(t+S,y),Hb(t+S,y+ba),Hb(t,y+ba),Tb(t,y)):(rd.add(t+S,y+ba),F(t,y))},quadraticCurveTo(t,y,S,ba){const Xa=ve*t+yd*y,vb=Ee*S+Fe*ba;S=ve*S+yd*ba;K(we,Ee*t+Fe*y,vb,X);K(hd,Xa,S,Oa);
F(vb,S)},bezierCurveTo(t,y,S,ba,Xa,vb){const Ib=ve*t+yd*y,Qb=ve*S+yd*ba,dc=Ee*Xa+Fe*vb;Xa=ve*Xa+yd*vb;C(we,Ee*t+Fe*y,Ee*S+Fe*ba,dc,X);C(hd,Ib,Qb,Xa,Oa);F(dc,Xa)},arc(t,y,S,ba,Xa,vb){ba+=Ce;Xa+=Ce;we=S*Math.cos(Xa)+t;hd=S*Math.sin(Xa)+y;if(Math.abs(Xa-ba)>Cd)rd.add(t-S,y-S),rd.add(t+S,y+S);else{const Ib=dc=>rd.add(S*Math.cos(dc)+t,S*Math.sin(dc)+y);let Qb;Ib(ba);Ib(Xa);if(Xa!==ba)if(ba%=cd,0>ba&&(ba+=cd),Xa%=cd,0>Xa&&(Xa+=cd),Xa<ba&&(vb=!vb,Qb=ba,ba=Xa,Xa=Qb),vb)for(Xa-=cd,Qb=ba-ba%nd,ba=0;4>ba&&Qb>
Xa;++ba,Qb-=nd)Ib(Qb);else for(Qb=ba-ba%nd+nd,ba=0;4>ba&&Qb<Xa;++ba,Qb+=nd)Ib(Qb)}}};var Ob=(Ob=sb.canvas(1,1))?Ob.getContext("2d"):null;const Xc=new Aa;var Sc=[],ud=ta("arc",function(t,y){return $d.context(t)(y)}),Id=H("area",function(t,y){const S=y[0];return("horizontal"===S.orient?Wc:fc).curve(La(S.interpolate||"linear",S.orient,S.tension)).context(t)(y)},function(t,y){y="horizontal"===t[0].orient?y[1]:y[0];for(var S="horizontal"===t[0].orient?"y":"x",ba=t.length,Xa=Infinity,vb,Ib;0<=--ba;)!1!==
t[ba].defined&&(Ib=Math.abs(t[ba][S]-y),Ib<Xa&&(Xa=Ib,vb=t[ba]));return vb});const Ld=hb(Ca),Ge=hb(Ca,!1),ae=hb(Ca,!0);var ge={type:"group",tag:"g",nested:!1,attr:function(t,y){t("transform",Y(y.x||0,y.y||0))},bound:function(t,y){if(!y.clip&&y.items){const S=y.items,ba=S.length;for(let Xa=0;Xa<ba;++Xa)t.union(S[Xa].bounds)}(y.clip||y.width||y.height)&&!y.noBound&&t.add(0,0).add(y.width||0,y.height||0);x(t,y);return t.translate(y.x||0,y.y||0)},draw:function(t,y,S){q(y,ba=>{const Xa=ba.x||0,vb=ba.y||
0,Ib=ba.strokeForeground,Qb=null==ba.opacity?1:ba.opacity;(ba.stroke||ba.fill)&&Qb&&(Ca(t,ba,Xa,vb),fa(t,ba),ba.fill&&c(t,ba,Qb)&&t.fill(),ba.stroke&&!Ib&&f(t,ba,Qb)&&t.stroke());t.save();t.translate(Xa,vb);ba.clip&&Q(t,ba);S&&S.translate(-Xa,-vb);q(ba,dc=>{this.draw(t,dc,S)});S&&S.translate(Xa,vb);t.restore();Ib&&ba.stroke&&Qb&&(Ca(t,ba,Xa,vb),fa(t,ba),f(t,ba,Qb)&&t.stroke())})},pick:function(t,y,S,ba,Xa,vb){if(y.bounds&&!y.bounds.contains(Xa,vb)||!y.items)return null;const Ib=S*t.pixelRatio,Qb=
ba*t.pixelRatio;return w(y,dc=>{let Ec,Ac;var sd=dc.bounds;if(!sd||sd.contains(Xa,vb)){Ec=dc.x||0;Ac=dc.y||0;sd=Ec+(dc.width||0);var Gd=Ac+(dc.height||0),Pc=dc.clip;if(!Pc||!(Xa<Ec||Xa>sd||vb<Ac||vb>Gd)){t.save();t.translate(Ec,Ac);Ec=Xa-Ec;Ac=vb-Ac;if(Pc&&ua(dc)&&!ae(t,dc,Ib,Qb))return t.restore(),null;Gd=dc.strokeForeground;if((Pc=!1!==y.interactive)&&Gd&&dc.stroke&&Ge(t,dc,Ib,Qb))return t.restore(),dc;sd=w(dc,Fd=>(!1!==Fd.interactive||"group"===Fd.marktype)&&Fd.bounds&&Fd.bounds.contains(Ec,Ac)?
this.pick(Fd,S,ba,Ec,Ac):null);!sd&&Pc&&(dc.fill||!Gd&&dc.stroke)&&Ld(t,dc,Ib,Qb)&&(sd=dc);t.restore();return sd||null}}})},isect:Da,content:function(t,y,S){y=y.clip?Pa(S,y,y):null;t("clip-path",y)},background:function(t,y){t("class","background");t("aria-hidden",!0);const S=ja(y);t("d",Ma(null,y,S,S))},foreground:function(t,y){t("class","foreground");t("aria-hidden",!0);if(y.strokeForeground){const S=ja(y);t("d",Ma(null,y,S,S))}else t("d","")}},me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",
version:"1.1"},ke={type:"image",tag:"image",nested:!1,attr:function(t,y,S){var ba=qb(y,S);S=Ya(y,ba);const Xa=ob(y,ba),vb=(y.x||0)-Na(y.align,S),Ib=(y.y||0)-Ab(y.baseline,Xa);ba=!ba.src&&ba.toDataURL?ba.toDataURL():ba.src||"";t("href",ba,me["xmlns:xlink"],"xlink:href");t("transform",Y(vb,Ib));t("width",S);t("height",Xa);t("preserveAspectRatio",!1===y.aspect?"none":"xMidYMid")},bound:function(t,y){var S=y.image;const ba=Ya(y,S);S=ob(y,S);const Xa=(y.x||0)-Na(y.align,ba);y=(y.y||0)-Ab(y.baseline,S);
return t.set(Xa,y,Xa+ba,y+S)},draw:function(t,y,S){q(y,ba=>{if(!S||S.intersects(ba.bounds)){var Xa=qb(ba,this),vb=Ya(ba,Xa),Ib=ob(ba,Xa);if(0!==vb&&0!==Ib){var Qb=(ba.x||0)-Na(ba.align,vb),dc=(ba.y||0)-Ab(ba.baseline,Ib),Ec;if(!1!==ba.aspect){var Ac=Xa.width/Xa.height;var sd=ba.width/ba.height;Ac===Ac&&sd===sd&&Ac!==sd&&(sd<Ac?(Ac=vb/Ac,dc+=(Ib-Ac)/2,Ib=Ac):(Ac*=Ib,Qb+=(vb-Ac)/2,vb=Ac))}if(Xa.complete||Xa.toDataURL)fa(t,ba),t.globalAlpha=null!=(Ec=ba.opacity)?Ec:1,t.imageSmoothingEnabled=!1!==ba.smooth,
t.drawImage(Xa,Qb,dc,vb,Ib)}}})},pick:cb(),isect:r.truthy,get:qb,xOffset:Na,yOffset:Ab},De=H("line",function(t,y){const S=y[0];return Ud.curve(La(S.interpolate||"linear",S.orient,S.tension)).context(t)(y)},function(t,y){for(var S=Math.pow(t[0].strokeWidth||1,2),ba=t.length,Xa,vb;0<=--ba;)if(!1!==t[ba].defined&&(Xa=t[ba].x-y[0],vb=t[ba].y-y[1],Xa=Xa*Xa+vb*vb,Xa<S))return t[ba];return null}),Pe={type:"path",tag:"path",nested:!1,attr:function(t,y){var S=y.scaleY||1;1===(y.scaleX||1)&&1===S||t("vector-effect",
"non-scaling-stroke");S=Y(y.x||0,y.y||0)+(y.angle?" rotate("+(y.angle+")"):"")+(y.scaleX||y.scaleY?" scale("+((y.scaleX||1)+","+(y.scaleY||1)+")"):"");t("transform",S);t("d",y.path)},bound:function(t,y){return Eb(M(t,y.angle),y)?t.set(0,0,0,0):x(t,y,!0)},draw:G(Eb),pick:cb(hb(Eb)),isect:aa(Eb)},hf={type:"rect",tag:"path",nested:!1,attr:function(t,y){t("d",Ma(null,y))},bound:function(t,y){var S,ba;return x(t.set(S=y.x||0,ba=y.y||0,S+y.width||0,ba+y.height||0),y)},draw:G(eb),pick:cb(hb(eb)),isect:Da},
ef={type:"rule",tag:"line",nested:!1,attr:function(t,y){t("transform",Y(y.x||0,y.y||0));t("x2",null!=y.x2?y.x2-(y.x||0):0);t("y2",null!=y.y2?y.y2-(y.y||0):0)},bound:function(t,y){var S,ba;return x(t.set(S=y.x||0,ba=y.y||0,null!=y.x2?y.x2:S,null!=y.y2?y.y2:ba),y)},draw:function(t,y,S){q(y,ba=>{if(!S||S.intersects(ba.bounds)){var Xa=null==ba.opacity?1:ba.opacity;Xa&&Mb(t,ba,Xa)&&(fa(t,ba),t.stroke())}})},pick:cb(function(t,y,S,ba){return t.isPointInStroke?Mb(t,y,1)&&t.isPointInStroke(S,ba):!1}),isect:Ja},
Kf=ta("shape",function(t,y){return(y.mark.shape||y.shape).context(t)(y)}),wf=ta("symbol",function(t,y){return Yd.context(t)(y)},da);const cf=r.lruCache();var jf={height:ed,measureWidth:Hc,estimateWidth:Zb,width:Zb,canvas:jc};jc(!0);const xf={left:"start",center:"middle",right:"end"},Oe=new Aa;var rf={type:"text",tag:"text",nested:!1,attr:function(t,y){var S=y.dx||0,ba=(y.dy||0)+Rd(y),Xa=Db(y),vb=Xa.x1;Xa=Xa.y1;var Ib=y.angle||0;t("text-anchor",xf[y.align]||"start");if(Ib){if(y=Y(vb,Xa)+" rotate("+
(Ib+")"),S||ba)y+=" "+Y(S,ba)}else y=Y(vb+S,Xa+ba);t("transform",y)},bound:ac,draw:function(t,y,S){q(y,ba=>{var Xa=null==ba.opacity?1:ba.opacity,vb;if(!(S&&!S.intersects(ba.bounds)||0===Xa||0>=ba.fontSize||null==ba.text||0===ba.text.length)){t.font=xd(ba);t.textAlign=ba.align||"left";var Ib=Db(ba);var Qb=Ib.x1;Ib=Ib.y1;ba.angle&&(t.save(),t.translate(Qb,Ib),t.rotate(ba.angle*Yb),Qb=Ib=0);Qb+=ba.dx||0;Ib+=(ba.dy||0)+Rd(ba);var dc=Gc(ba);fa(t,ba);if(r.isArray(dc)){var Ec=Ad(ba);for(vb=0;vb<dc.length;++vb){var Ac=
gd(ba,dc[vb]);ba.fill&&c(t,ba,Xa)&&t.fillText(Ac,Qb,Ib);ba.stroke&&f(t,ba,Xa)&&t.strokeText(Ac,Qb,Ib);Ib+=Ec}}else Ac=gd(ba,dc),ba.fill&&c(t,ba,Xa)&&t.fillText(Ac,Qb,Ib),ba.stroke&&f(t,ba,Xa)&&t.strokeText(Ac,Qb,Ib);ba.angle&&t.restore()}})},pick:cb(function(t,y,S,ba,Xa,vb){if(0>=y.fontSize)return!1;if(!y.angle)return!0;S=Db(y);t=S.x1;S=S.y1;ba=ac(Oe,y,1);var Ib=-y.angle*Yb;y=Math.cos(Ib);Ib=Math.sin(Ib);return ba.contains(y*Xa-Ib*vb+(t-y*t+Ib*S),Ib*Xa+y*vb+(S-Ib*t-y*S))}),isect:function(t,y){t=ac(Oe,
t,2);return J(y,t[0],t[1],t[2],t[3])||J(y,t[0],t[1],t[4],t[5])||J(y,t[4],t[5],t[6],t[7])||J(y,t[2],t[3],t[6],t[7])}},Te=H("trail",function(t,y){return je.context(t)(y)},function(t,y){for(var S=t.length,ba,Xa;0<=--S;)if(!1!==t[S].defined&&(ba=t[S].x-y[0],Xa=t[S].y-y[1],Xa=ba*ba+Xa*Xa,ba=t[S].size||1,Xa<ba*ba))return t[S];return null}),$e={arc:ud,area:Id,group:ge,image:ke,line:De,path:Pe,rect:hf,rule:ef,shape:Kf,symbol:wf,text:rf,trail:Te},Ff={mark:null};const af="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
N.prototype={toJSON(t){return sc(this.root,t||0)},mark(t,y,S){y=y||this.root.items[0];t=oa(t,y);y.items[S]=t;t.zindex&&(t.group.zdirty=!0);return t}};vc.prototype={initialize(t,y,S){this._el=t;this._obj=S||null;return this.origin(y)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){if(!arguments.length)return this._scene;this._scene=t;return this},on(){},off(){},_handlerIndex(t,y,
S){for(let ba=t?t.length:0;0<=--ba;)if(t[ba].type===y&&(!S||t[ba].handler===S))return ba;return-1},handlers(t){const y=this._handlers,S=[];if(t)S.push(...y[this.eventName(t)]);else for(const ba in y)S.push(...y[ba]);return S},eventName(t){const y=t.indexOf(".");return 0>y?t:t.slice(0,y)},handleHref(t,y,S){this._loader.sanitize(S,{context:"href"}).then(ba=>{const Xa=new MouseEvent(t.type,t),vb=$a(null,"a");for(const Ib in ba)vb.setAttribute(Ib,ba[Ib]);vb.dispatchEvent(Xa)}).catch(()=>{})},handleTooltip(t,
y,S){if(y&&null!=y.tooltip){var ba=this.canvas(),Xa=this._origin,vb=y&&y.mark,Ib;if(vb&&(Ib=$e[vb.marktype]).tip){ba=Wb(t,ba);ba[0]-=Xa[0];for(ba[1]-=Xa[1];y=y.mark.group;)ba[0]-=y.x||0,ba[1]-=y.y||0;y=Ib.tip(vb.items,ba)}this._tooltip.call(this._obj,this,t,y,S&&y&&y.tooltip||null)}},getItemBoundingClientRect(t){var y=this.canvas();if(y){var S=y.getBoundingClientRect(),ba=this._origin,Xa=t.bounds;y=Xa.width();var vb=Xa.height(),Ib=Xa.x1+ba[0]+S.left;for(S=Xa.y1+ba[1]+S.top;t.mark&&(t=t.mark.group);)Ib+=
t.x||0,S+=t.y||0;return{x:Ib,y:S,width:y,height:vb,left:Ib,top:S,right:Ib+y,bottom:S+vb}}}};va.prototype={initialize(t,y,S,ba,Xa){this._el=t;return this.resize(y,S,ba,Xa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){if(0===arguments.length)return this._bgcolor;this._bgcolor=t;return this},resize(t,y,S,ba){this._width=t;this._height=y;this._origin=S||[0,0];this._scale=ba||1;return this},dirty(){},render(t){const y=this;y._call=function(){y._render(t)};y._call();
y._call=null;return y},_render(){},renderAsync(t){const y=this.render(t);return this._ready?this._ready.then(()=>y):Promise.resolve(y)},_load(t,y){var S=this;t=S._loader[t](y);if(!S._ready){const ba=S._call;S._ready=S._loader.ready().then(Xa=>{Xa&&ba();S._ready=null})}return t},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};r.inherits(Za,vc,{initialize(t,y,S){this._canvas=t&&wb(t,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(ba=>
pb(this,ba));return vc.prototype.initialize.call(this,t,y,S)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(t){this.fire("mousewheel",t)},mousemove:wc("mousemove","mouseover","mouseout"),dragover:wc("dragover","dragenter","dragleave"),mouseout:Cc("mouseout"),dragleave:Cc("dragleave"),
mousedown(t){this._down=this._active;this.fire("mousedown",t)},click(t){this._down===this._active&&(this.fire("click",t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",t,!0)},touchmove(t){this.fire("touchmove",t,!0)},touchend(t){this.fire("touchend",t,!0);this._touch=null},fire(t,y,S){S=S?this._touch:this._active;const ba=this._handlers[t];y.vegaType=t;"click"===t&&S&&S.href?this.handleHref(y,
S,S.href):("mousemove"===t||"mouseout"===t)&&this.handleTooltip(y,S,"mouseout"!==t);if(ba)for(let Xa=0,vb=ba.length;Xa<vb;++Xa)ba[Xa].handler.call(this._obj,y,S)},on(t,y){const S=this.eventName(t),ba=this._handlers;0>this._handlerIndex(ba[S],t,y)&&(pb(this,t),(ba[S]||(ba[S]=[])).push({type:t,handler:y}));return this},off(t,y){var S=this.eventName(t);S=this._handlers[S];t=this._handlerIndex(S,t,y);0<=t&&S.splice(t,1);return this},pickEvent(t){t=Wb(t,this._canvas);const y=this._origin;return this.pick(this._scene,
t[0],t[1],t[0]-y[0],t[1]-y[1])},pick(t,y,S,ba,Xa){const vb=this.context();return $e[t.marktype].pick.call(this,vb,t,y,S,ba,Xa)}});var Wf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Gf=va.prototype;r.inherits(Jc,va,{initialize(t,y,S,ba,Xa,vb){this._options=vb||{};this._canvas=this._options.externalContext?null:sb.canvas(1,1,this._options.type);t&&this._canvas&&(Kb(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Gf.initialize.call(this,t,y,S,ba,Xa)},
resize(t,y,S,ba){Gf.resize.call(this,t,y,S,ba);if(this._canvas){t=this._canvas;y=this._width;S=this._height;ba=this._origin;var Xa=this._scale,vb=this._options.context;const Qb="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,dc=t.getContext("2d");Xa=Qb?Wf:Xa;t.width=y*Xa;t.height=S*Xa;for(var Ib in vb)dc[Ib]=vb[Ib];Qb&&1!==Xa&&(t.style.width=y+"px",t.style.height=S+"px");dc.pixelRatio=Xa;dc.setTransform(Xa,0,0,Xa,Xa*ba[0],Xa*ba[1])}else(Ib=this._options.externalContext)||
r.error("CanvasRenderer is missing a valid canvas or context"),Ib.scale(this._scale,this._scale),Ib.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const y=this._tempb.clear().union(t.bounds);for(t=t.mark.group;t;)y.translate(t.x||0,t.y||0),t=t.mark.group;this._dirty.union(y)},_render(t){const y=this.context(),S=this._origin,ba=this._width,
Xa=this._height,vb=this._dirty;var Ib=(new Aa).set(0,0,ba,Xa).translate(-S[0],-S[1]);y.save();this._redraw||vb.empty()?Ib=(this._redraw=!1,Ib.expand(1)):(Ib=Ib.intersect(vb),Ib.expand(1).round(),y.pixelRatio%1&&Ib.scale(y.pixelRatio).round().scale(1/y.pixelRatio),Ib.translate(-(S[0]%1),-(S[1]%1)),y.beginPath(),y.rect(Ib.x1,Ib.y1,Ib.width(),Ib.height()),y.clip());this.clear(-S[0],-S[1],ba,Xa);this.draw(y,t,Ib);y.restore();vb.clear();return this},draw(t,y,S){const ba=$e[y.marktype];if(y.clip){var Xa=
y.clip;t.save();r.isFunction(Xa)?(t.beginPath(),Xa(t),t.clip()):Q(t,y.group)}ba.draw.call(this,t,y,S);y.clip&&t.restore()},clear(t,y,S,ba){const Xa=this._options,vb=this.context();"pdf"===Xa.type||Xa.externalContext||vb.clearRect(t,y,S,ba);null!=this._bgcolor&&(vb.fillStyle=this._bgcolor,vb.fillRect(t,y,S,ba))}});const Vf=(t,y)=>S=>{let ba=S.target.__data__;ba=Array.isArray(ba)?ba[0]:ba;S.vegaType=S.type;y.call(t._obj,S,ba)};r.inherits(Cb,vc,{initialize(t,y,S){let ba=this._svg;ba&&(ba.removeEventListener("click",
this._hrefHandler),ba.removeEventListener("mousemove",this._tooltipHandler),ba.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ba=t&&wb(t,"svg"))ba.addEventListener("click",this._hrefHandler),ba.addEventListener("mousemove",this._tooltipHandler),ba.addEventListener("mouseout",this._tooltipHandler);return vc.prototype.initialize.call(this,t,y,S)},canvas(){return this._svg},on(t,y){const S=this.eventName(t),ba=this._handlers;0>this._handlerIndex(ba[S],t,y)&&(t={type:t,handler:y,listener:Vf(this,
y)},(ba[S]||(ba[S]=[])).push(t),this._svg&&this._svg.addEventListener(S,t.listener));return this},off(t,y){const S=this.eventName(t),ba=this._handlers[S];t=this._handlerIndex(ba,t,y);0<=t&&(this._svg&&this._svg.removeEventListener(S,ba[t].listener),ba.splice(t,1));return this}});const B=(t,y,S)=>({["role"]:t,["aria-roledescription"]:y,["aria-label"]:S||void 0}),D=r.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
O={axis:{desc:"axis",caption:function(t){var y=t.datum;const S=t.orient,ba=y.title?Vc(t):null;var Xa=t.context;y=Xa.scales[y.scale].value;Xa=Xa.dataflow.locale();const vb=y.type;return`${"left"===S||"right"===S?"Y":"X"}-axis`+(ba?` titled '${ba}'`:"")+` for a ${xb.isDiscrete(vb)?"discrete":vb} scale`+` with ${xb.domainCaption(Xa,y,t)}`}},legend:{desc:"legend",caption:function(t){var y=t.datum;const S=y.title?Vc(t):null,ba=`${y.type||""} legend`.trim();var Xa=y.scales;y=Object.keys(Xa);var vb=t.context;
Xa=vb.scales[Xa[y[0]]].value;vb=vb.dataflow.locale();return(ba.length?ba[0].toUpperCase()+ba.slice(1):ba)+(S?` titled '${S}'`:"")+` for ${zd(y)}`+` with ${xb.domainCaption(vb,Xa,t)}`}},"title-text":{desc:"title",caption:t=>`Title text '${r.array(t.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${r.array(t.text).join(" ")}'`}},T={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},ia=t=>(t+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),pa=t=>ld(pd(),t)+"",Ha={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},db={fill:"none","stroke-miterlimit":10},Ua=me.xmlns,lb=va.prototype;r.inherits(qd,va,{initialize(t,y,S,ba,Xa){this._defs={};this._clearDefs();
t&&(this._svg=Fb(t,0,"svg",Ua),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Ua),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",me["xmlns:xlink"]),this._svg.setAttribute("version",me.version),this._svg.setAttribute("class","marks"),Kb(t,1),this._root=Fb(this._svg,0,"g",Ua),he(this._root,db),Kb(this._svg,1));this.background(this._bgcolor);return lb.initialize.call(this,t,y,S,ba,Xa)},background(t){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
t);return lb.background.apply(this,arguments)},resize(t,y,S,ba){lb.resize.call(this,t,y,S,ba);this._svg&&(he(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const t=this._svg,y=this._bgcolor;if(!t)return null;let S;y&&(t.removeAttribute("style"),S=Fb(t,0,"rect",Ua),he(S,{width:this._width,height:this._height,
fill:y}));const ba=pa(t);y&&(t.removeChild(S),this._svg.style.setProperty("background-color",y));return ba},_render(t){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),Kb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;
const y=++this._dirtyID;let S;let ba,Xa,vb,Ib;vb=0;for(Ib=t.length;vb<Ib;++vb){S=t[vb];var Qb=S.mark;Qb.marktype!==ba&&(ba=Qb.marktype,Xa=$e[ba]);Qb.zdirty&&Qb.dirty!==y&&(this._dirtyAll=!1,Od(S,y),Qb.items.forEach(dc=>{dc.dirty=y}));Qb.zdirty||(S.exit?(Xa.nested&&Qb.items.length?(Qb=Qb.items[0],Qb._svg&&this._update(Xa,Qb._svg,Qb)):S._svg&&(Qb=S._svg.parentNode)&&Qb.removeChild(S._svg),S._svg=null):(S=Xa.nested?Qb.items[0]:S,S._update!==y&&(S._svg&&S._svg.ownerSVGElement?this._update(Xa,S._svg,S):
(this._dirtyAll=!1,Od(S,y)),S._update=y)))}return!this._dirtyAll},mark(t,y,S){if(!this.isDirty(y))return y._svg;const ba=this._svg,Xa=$e[y.marktype];var vb=!1===y.interactive?"none":null;const Ib="g"===Xa.tag;let Qb=null,dc=0;const Ec=le(y,t,S,"g",ba);Ec.setAttribute("class",ec(y));t=nc(y);for(const Ac in t)Be(Ec,Ac,t[Ac]);Ib||Be(Ec,"pointer-events",vb);Be(Ec,"clip-path",y.clip?Pa(this,y,y.group):null);vb=Ac=>{const sd=this.isDirty(Ac),Gd=le(Ac,Ec,Qb,Xa.tag,ba);sd&&(this._update(Xa,Gd,Ac),Ib&&fe(this,
Gd,Ac));Qb=Gd;++dc};Xa.nested?y.items.length&&vb(y.items[0]):q(y,vb);Kb(Ec,dc);return Ec},_update(t,y,S){nb=y;Bb=y.__values__;Vb(Kd,S);t.attr(Kd,S,this);const ba=$b[t.type];ba&&ba.call(this,t,y,S);nb&&this.style(nb,S)},style(t,y){if(null!=y)for(const S in Ha){let ba="font"===S?Mc(y):y[S];if(ba===Bb[S])continue;const Xa=Ha[S];null==ba?t.removeAttribute(Xa):(ba&&ba.gradient&&(ba=Gb(ba,this._defs.gradient,Dd())),t.setAttribute(Xa,ba+""));Bb[S]=ba}},defs(){const t=this._svg,y=this._defs;let S=y.el;var ba=
0;for(var Xa in y.gradient){S||(y.el=S=Fb(t,1,"defs",Ua));var vb=void 0;let dc,Ec;var Ib=S,Qb=y.gradient[Xa];"radial"===Qb.gradient?(vb=Fb(Ib,ba++,"pattern",Ua),he(vb,{id:"p_"+Qb.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),vb=Fb(vb,0,"rect",Ua),he(vb,{width:1,height:1,fill:`url(${Dd()}#${Qb.id})`}),Ib=Fb(Ib,ba++,"radialGradient",Ua),he(Ib,{id:Qb.id,fx:Qb.x1,fy:Qb.y1,fr:Qb.r1,cx:Qb.x2,cy:Qb.y2,r:Qb.r2})):(Ib=Fb(Ib,ba++,"linearGradient",Ua),he(Ib,{id:Qb.id,
x1:Qb.x1,x2:Qb.x2,y1:Qb.y1,y2:Qb.y2}));Ec=0;for(dc=Qb.stops.length;Ec<dc;++Ec)vb=Fb(Ib,Ec,"stop",Ua),vb.setAttribute("offset",Qb.stops[Ec].offset),vb.setAttribute("stop-color",Qb.stops[Ec].color);Kb(Ib,Ec)}for(const dc in y.clipping)S||(y.el=S=Fb(t,1,"defs",Ua)),Ib=S,Qb=y.clipping[dc],Xa=ba,Ib=Fb(Ib,Xa,"clipPath",Ua),Ib.setAttribute("id",Qb.id),Qb.path?(ba=Fb(Ib,0,"path",Ua),ba.setAttribute("d",Qb.path)):(ba=Fb(Ib,0,"rect",Ua),he(ba,{x:0,y:0,width:Qb.width,height:Qb.height})),Kb(Ib,1),ba=Xa+1;S&&
(0===ba?(t.removeChild(S),y.el=null):Kb(S,ba))},_clearDefs(){const t=this._defs;t.gradient={};t.clipping={}}});let nb=null,Bb=null;const $b={group(t,y,S){const ba=nb=y.childNodes[2];Bb=ba.__values__;t.foreground(Kd,S,this);Bb=y.__values__;nb=y.childNodes[1];t.content(Kd,S,this);y=nb=y.childNodes[0];t.background(Kd,S,this);t=!1===S.mark.interactive?"none":null;t!==Bb.events&&(Be(ba,"pointer-events",t),Be(y,"pointer-events",t),Bb.events=t);S.strokeForeground&&S.stroke?(t=S.fill,Be(ba,"display",null),
this.style(y,S),Be(y,"stroke",null),t&&(S.fill=null),Bb=ba.__values__,this.style(ba,S),t&&(S.fill=t),nb=null):Be(ba,"display","none")},image(t,y,S){!1===S.smooth?(Ie(y,"image-rendering","optimizeSpeed"),Ie(y,"image-rendering","pixelated")):Ie(y,"image-rendering",null)},text(t,y,S){t=Gc(S);let ba,Xa,vb;r.isArray(t)?(ba=t.map(Ib=>gd(S,Ib)),t=ba.join("\n"),t!==Bb.text&&(Kb(y,0),Xa=y.ownerDocument,vb=Ad(S),ba.forEach((Ib,Qb)=>{const dc=$a(Xa,"tspan",Ua);dc.__data__=S;dc.textContent=Ib;Qb&&(dc.setAttribute("x",
0),dc.setAttribute("dy",vb));y.appendChild(dc)}),Bb.text=t)):(ba=gd(S,t),ba!==Bb.text&&(y.textContent=ba,Bb.text=ba));Be(y,"font-family",Mc(S));Be(y,"font-size",ed(S)+"px");Be(y,"font-style",S.fontStyle);Be(y,"font-variant",S.fontVariant);Be(y,"font-weight",S.fontWeight)}};r.inherits(be,va,{svg(){return this._text},_render(t){const y=pd();y.open("svg",r.extend({},me,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const S=
this._bgcolor;S&&"transparent"!==S&&"none"!==S&&y.open("rect",{width:this._width,height:this._height,fill:S}).close();y.open("g",db,{transform:"translate("+this._origin+")"});this.mark(y,t);y.close();this.defs(y);this._text=y.close()+"";return this},mark(t,y){const S=$e[y.marktype],ba=S.tag,Xa=[Vb,S.attr];t.open("g",{"class":ec(y),"clip-path":y.clip?Pa(this,y,y.group):null},nc(y),{"pointer-events":"g"!==ba&&!1===y.interactive?"none":null});const vb=Ib=>{const Qb=this.href(Ib);Qb&&t.open("a",Qb);t.open(ba,
this.attr(y,Ib,Xa,"g"!==ba?ba:null));if("text"===ba){var dc=Gc(Ib);if(r.isArray(dc)){var Ec={x:0,dy:Ad(Ib)};for(var Ac=0;Ac<dc.length;++Ac)t.open("tspan",Ac?Ec:null).text(gd(Ib,dc[Ac])).close()}else t.text(gd(Ib,dc))}else"g"===ba&&(dc=Ib.strokeForeground,Ec=Ib.fill,Ac=Ib.stroke,dc&&Ac&&(Ib.stroke=null),t.open("path",this.attr(y,Ib,S.background,"bgrect")).close(),t.open("g",this.attr(y,Ib,S.content)),q(Ib,sd=>this.mark(t,sd)),t.close(),dc&&Ac?(Ec&&(Ib.fill=null),Ib.stroke=Ac,t.open("path",this.attr(y,
Ib,S.foreground,"bgrect")).close(),Ec&&(Ib.fill=Ec)):t.open("path",this.attr(y,Ib,S.foreground,"bgfore")).close());t.close();Qb&&t.close()};S.nested?y.items&&y.items.length&&vb(y.items[0]):q(y,vb);return t.close()},href(t){const y=t.href;if(y){if(t=this._hrefs&&this._hrefs[y])return t;this.sanitizeURL(y).then(S=>{S["xlink:href"]=S.href;S.href=null;(this._hrefs||(this._hrefs={}))[y]=S})}return null},attr(t,y,S,ba){const Xa={},vb=(Ib,Qb,dc,Ec)=>{Xa[Ec||Ib]=Qb};Array.isArray(S)?S.forEach(Ib=>Ib(vb,y,
this)):S(vb,y,this);ba&&V(Xa,y,t,ba,this._defs);return Xa},defs(t){var y=this._defs.gradient;const S=this._defs.clipping;if(0!==Object.keys(y).length+Object.keys(S).length){t.open("defs");for(const Xa in y){var ba=y[Xa];const vb=ba.stops;"radial"===ba.gradient?(t.open("pattern",{id:"p_"+Xa,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+Xa+")"}).close(),t.close(),t.open("radialGradient",{id:Xa,fx:ba.x1,fy:ba.y1,fr:ba.r1,
cx:ba.x2,cy:ba.y2,r:ba.r2})):t.open("linearGradient",{id:Xa,x1:ba.x1,x2:ba.x2,y1:ba.y1,y2:ba.y2});for(ba=0;ba<vb.length;++ba)t.open("stop",{offset:vb[ba].offset,"stop-color":vb[ba].color}).close();t.close()}for(const Xa in S)y=S[Xa],t.open("clipPath",{id:Xa}),y.path?t.open("path",{d:y.path}).close():t.open("rect",{x:0,y:0,width:y.width,height:y.height}).close(),t.close();t.close()}}});const pc={};pc.canvas=pc.png={renderer:Jc,headless:Jc,handler:Za};pc.svg={renderer:qd,headless:be,handler:Cb};pc.none=
{};const Ic=new Aa;h.Bounds=Aa;h.CanvasHandler=Za;h.CanvasRenderer=Jc;h.Gradient=function(t,y){var S=[],ba;return ba={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:y?y[0]:1,y2:y?y[1]:0,stops:S,stop:function(Xa,vb){S.push({offset:Xa,color:vb});return ba}}};h.GroupItem=Va;h.Handler=vc;h.Item=ab;h.Marks=$e;h.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};h.Renderer=va;h.ResourceLoader=I;h.SVGHandler=Cb;h.SVGRenderer=qd;h.SVGStringRenderer=be;h.Scenegraph=N;h.boundClip=function(t){const y=
t.clip;if(r.isFunction(y))y(M(Ic.clear()));else if(y)Ic.set(0,0,t.group.width,t.group.height);else return;t.bounds.intersect(Ic)};h.boundContext=M;h.boundItem=kb;h.boundMark=oc;h.boundStroke=x;h.domChild=Fb;h.domClear=Kb;h.domCreate=$a;h.domFind=wb;h.font=xd;h.fontFamily=Mc;h.fontSize=ed;h.intersect=function(t,y,S){const ba=[];y=(new Aa).union(y);const Xa=t.marktype;return Xa?qa(t,y,S,ba):"group"===Xa?Fa(t,y,S,ba):r.error("Intersect scene must be mark node or group item.")};h.intersectBoxLine=J;h.intersectPath=
aa;h.intersectPoint=da;h.intersectRule=Ja;h.lineHeight=Ad;h.markup=pd;h.multiLineOffset=function(t){const y=Gc(t);return(r.isArray(y)?y.length-1:0)*Ad(t)};h.pathCurves=La;h.pathEqual=Lb;h.pathParse=Ia;h.pathRectangle=L;h.pathRender=xa;h.pathSymbols=na;h.pathTrail=ha;h.point=Wb;h.renderModule=function(t,y){t=String(t||"").toLowerCase();return 1<arguments.length?(pc[t]=y,this):pc[t]};h.resetSVGClipId=function(){Ke=1};h.resetSVGDefIds=function(){Ke=1;kc=0};h.sceneEqual=gb;h.sceneFromJSON=dd;h.scenePickVisit=
w;h.sceneToJSON=sc;h.sceneVisit=q;h.sceneZOrder=m;h.serializeXML=pa;h.textMetrics=jf;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[26]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(14),zb(25),zb(2)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega))})(this,function(h,r,A,Ra){function sb(f){r.Transform.call(this,null,f)}function bb(f,l,m){return l(f.bounds.clear(),f,m)}function xb(f){r.Transform.call(this,
0,f)}function Gb(f){return f._signals[":vega_identifier:"]||(f._signals[":vega_identifier:"]=f.add(0))}function ib(f){r.Transform.call(this,null,f)}function La(f){const l=f.groups;f=f.parent;return l&&1===l.size?l.get(Object.keys(l.object)[0]):l&&f?l.lookup(f):null}function Ia(f){r.Transform.call(this,null,f)}function Sa(f){r.Transform.call(this,null,f)}function xa(f,l,m){return f[l]===m?0:(f[l]=m,1)}function ma(f){f=f.items[0].orient;return"left"===f||"right"===f}function na(f,l,m,q){l=l.items[0];
var w=l.datum,G=null!=l.translate?l.translate:.5,U=l.orient,wa=+w.grid;var cb=[w.ticks?wa++:-1,w.labels?wa++:-1,wa+ +w.domain];wa=l.range;var hb=l.offset,Y=l.position,ta=l.minExtent,H=l.maxExtent;w=w.title&&l.items[cb[2]].items[0];var Q=l.titlePadding,ja=l.bounds,Ca=w&&A.multiLineOffset(w),qb;W.clear().union(ja);ja.clear();-1<(qb=cb[0])&&ja.union(l.items[qb].bounds);-1<(qb=cb[1])&&ja.union(l.items[qb].bounds);switch(U){case "top":m=Y||0;q=-hb;ta=Math.max(ta,Math.min(H,-ja.y1));ja.add(0,-ta).add(wa,
0);w&&Ba(f,w,ta,Q,Ca,0,-1,ja);break;case "left":m=-hb;q=Y||0;ta=Math.max(ta,Math.min(H,-ja.x1));ja.add(-ta,0).add(0,wa);w&&Ba(f,w,ta,Q,Ca,1,-1,ja);break;case "right":m+=hb;q=Y||0;ta=Math.max(ta,Math.min(H,ja.x2));ja.add(0,0).add(ta,wa);w&&Ba(f,w,ta,Q,Ca,1,1,ja);break;case "bottom":m=Y||0;q+=hb;ta=Math.max(ta,Math.min(H,ja.y2));ja.add(0,0).add(wa,ta);w&&Ba(f,w,ta,Q,0,0,1,ja);break;default:m=l.x,q=l.y}A.boundStroke(ja.translate(m,q),l);xa(l,"x",m+G)|xa(l,"y",q+G)&&(l.bounds=W,f.dirty(l),l.bounds=ja,
f.dirty(l));return l.mark.bounds.clear().union(ja)}function Ba(f,l,m,q,w,G,U,wa){const cb=l.bounds;l.auto&&(m=U*(m+w+q),w=q=0,f.dirty(l),G?q=(l.x||0)-(l.x=m):w=(l.y||0)-(l.y=m),l.mark.bounds.clear().union(cb.translate(-q,-w)),f.dirty(l));wa.union(cb)}function Ga(f){return(new A.Bounds).set(0,0,f.width||0,f.height||0)}function la(f){const l=f.bounds.clone();return l.empty()?l.set(0,0,0,0):l.translate(-(f.x||0),-(f.y||0))}function ra(f,l,m){f=Ra.isObject(f)?f[l]:f;return null!=f?f:void 0!==m?m:0}function Qa(f){return 0>
f?Math.ceil(-f):0}function za(f,l,m){var q=!m.nodirty,w="flush"===m.bounds?Ga:la,G=W.set(0,0,0,0),U=ra(m.align,"column"),wa=ra(m.align,"row"),cb=ra(m.padding,"column"),hb=ra(m.padding,"row"),Y=m.columns||l.length,ta=0>=Y?1:Math.ceil(l.length/Y),H=l.length,Q=Array(H),ja=Array(Y),Ca=0,qb=Array(H),Ya=Array(ta),ob=0,Na=Array(H),Ab=Array(H),Eb=Array(H),eb,Mb,jc;for(eb=0;eb<Y;++eb)ja[eb]=0;for(eb=0;eb<ta;++eb)Ya[eb]=0;for(eb=0;eb<H;++eb){var Zb=l[eb];var Hc=Eb[eb]=w(Zb);Zb.x=Zb.x||0;Na[eb]=0;Zb.y=Zb.y||
0;Ab[eb]=0;Zb=eb%Y;var zc=~~(eb/Y);Ca=Math.max(Ca,Mb=Math.ceil(Hc.x2));ob=Math.max(ob,jc=Math.ceil(Hc.y2));ja[Zb]=Math.max(ja[Zb],Mb);Ya[zc]=Math.max(Ya[zc],jc);Q[eb]=cb+Qa(Hc.x1);qb[eb]=hb+Qa(Hc.y1);q&&f.dirty(l[eb])}for(eb=0;eb<H;++eb)0===eb%Y&&(Q[eb]=0),eb<Y&&(qb[eb]=0);if("each"===U)for(Zb=1;Zb<Y;++Zb){w=0;for(eb=Zb;eb<H;eb+=Y)w<Q[eb]&&(w=Q[eb]);for(eb=Zb;eb<H;eb+=Y)Q[eb]=w+ja[Zb-1]}else if("all"===U){for(eb=w=0;eb<H;++eb)eb%Y&&w<Q[eb]&&(w=Q[eb]);for(eb=0;eb<H;++eb)eb%Y&&(Q[eb]=w+Ca)}else for(U=
!1,Zb=1;Zb<Y;++Zb)for(eb=Zb;eb<H;eb+=Y)Q[eb]+=ja[Zb-1];if("each"===wa)for(zc=1;zc<ta;++zc){w=0;eb=zc*Y;for(Zb=eb+Y;eb<Zb;++eb)w<qb[eb]&&(w=qb[eb]);for(eb=zc*Y;eb<Zb;++eb)qb[eb]=w+Ya[zc-1]}else if("all"===wa){w=0;for(eb=Y;eb<H;++eb)w<qb[eb]&&(w=qb[eb]);for(eb=Y;eb<H;++eb)qb[eb]=w+ob}else for(wa=!1,zc=1;zc<ta;++zc)for(eb=zc*Y,Zb=eb+Y;eb<Zb;++eb)qb[eb]+=Ya[zc-1];for(eb=zc=0;eb<H;++eb)zc=Q[eb]+(eb%Y?zc:0),Na[eb]+=zc-l[eb].x;for(Zb=0;Zb<Y;++Zb)for(Q=0,eb=Zb;eb<H;eb+=Y)Q+=qb[eb],Ab[eb]+=Q-l[eb].y;if(U&&
ra(m.center,"column")&&1<ta)for(eb=0;eb<H;++eb)Hc="all"===U?Ca:ja[eb%Y],zc=Hc-Eb[eb].x2-l[eb].x-Na[eb],0<zc&&(Na[eb]+=zc/2);if(wa&&ra(m.center,"row")&&1!==Y)for(eb=0;eb<H;++eb)Hc="all"===wa?ob:Ya[~~(eb/Y)],Q=Hc-Eb[eb].y2-l[eb].y-Ab[eb],0<Q&&(Ab[eb]+=Q/2);for(eb=0;eb<H;++eb)G.union(Eb[eb].translate(Na[eb],Ab[eb]));zc=ra(m.anchor,"x");Q=ra(m.anchor,"y");switch(ra(m.anchor,"column")){case "end":zc-=G.width();break;case "middle":zc-=G.width()/2}switch(ra(m.anchor,"row")){case "end":Q-=G.height();break;
case "middle":Q-=G.height()/2}zc=Math.round(zc);Q=Math.round(Q);G.clear();for(eb=0;eb<H;++eb)l[eb].mark.bounds.clear();for(eb=0;eb<H;++eb)Zb=l[eb],Zb.x+=Na[eb]+=zc,Zb.y+=Ab[eb]+=Q,G.union(Zb.mark.bounds.union(Zb.bounds.translate(Na[eb],Ab[eb]))),q&&f.dirty(Zb);return G}function Ta(f,l){return"x1"===l?f.x||0:"y1"===l?f.y||0:"x2"===l?(f.x||0)+(f.width||0):"y2"===l?(f.y||0)+(f.height||0):void 0}function L(f,l){return f.bounds[l]}function ha(f,l,m,q,w,G,U,wa,cb,hb,Y,ta,H,Q){var ja=m.length,Ca=q=0,qb,
Ya;if(!ja)return q;for(qb=Y;qb<ja;qb+=ta)m[qb]&&(q=U(q,cb(m[qb],hb)));if(!l.length)return q;l.length>w&&(f.warn("Grid headers exceed limit: "+w),l=l.slice(0,w));q+=G;w=0;for(G=l.length;w<G;++w)f.dirty(l[w]),l[w].mark.bounds.clear();qb=Y;w=0;for(G=l.length;w<G;++w,qb+=ta){cb=l[w];Y=cb.mark.bounds;for(ja=qb;0<=ja&&null==(Ya=m[ja]);ja-=H);if(wa){ja=null==Q?Ya.x:Math.round(Ya.bounds.x1+Q*Ya.bounds.width());var ob=q}else ja=q,ob=null==Q?Ya.y:Math.round(Ya.bounds.y1+Q*Ya.bounds.height());Y.union(cb.bounds.translate(ja-
(cb.x||0),ob-(cb.y||0)));cb.x=ja;cb.y=ob;f.dirty(cb);Ca=U(Ca,Y[hb])}return Ca}function ya(f,l,m,q,w,G){if(l){f.dirty(l);var U=m;q?U=Math.round(w.x1+G*w.width()):m=Math.round(w.y1+G*w.height());l.bounds.translate(U-(l.x||0),m-(l.y||0));l.mark.bounds.clear().union(l.bounds);l.x=U;l.y=m;f.dirty(l)}}function ua(f,l){const m=f[l]||{};return(q,w)=>null!=m[q]?m[q]:null!=f[q]?f[q]:w}function Ma(f,l){let m=-Infinity;f.forEach(q=>{null!=q.offset&&(m=Math.max(m,q.offset))});return-Infinity<m?m:l}function Pa(f,
l,m,q,w,G,U){const wa=ua(m,l);m=Ma(f,wa("offset",0));const cb=wa("anchor","start"),hb="end"===cb?1:"middle"===cb?.5:0;f={align:"each",bounds:wa("bounds","flush"),columns:"vertical"===wa("direction")?1:f.length,padding:wa("margin",8),center:wa("center"),nodirty:!0};switch(l){case "left":f.anchor={x:Math.floor(q.x1)-m,column:"end",y:hb*(U||q.height()+2*q.y1),row:cb};break;case "right":f.anchor={x:Math.ceil(q.x2)+m,y:hb*(U||q.height()+2*q.y1),row:cb};break;case "top":f.anchor={y:Math.floor(w.y1)-m,row:"end",
x:hb*(G||w.width()+2*w.x1),column:cb};break;case "bottom":f.anchor={y:Math.ceil(w.y2)+m,x:hb*(G||w.width()+2*w.x1),column:cb};break;case "top-left":f.anchor={x:m,y:m};break;case "top-right":f.anchor={x:G-m,y:m,column:"end"};break;case "bottom-left":f.anchor={x:m,y:U-m,row:"end"};break;case "bottom-right":f.anchor={x:G-m,y:U-m,column:"end",row:"end"}}return f}function Aa(f,l){l=l.items[0];var m=l.datum,q=l.orient,w=l.bounds,G=l.x,U=l.y;l._bounds?l._bounds.clear().union(w):l._bounds=w.clone();w.clear();
var wa=l.items[0].items[0];var cb=l.padding,hb=cb-wa.x,Y=cb-wa.y;if(l.datum.title){var ta=l.items[1].items[0],H=ta.anchor,Q=l.titlePadding||0,ja=cb-ta.x,Ca=cb-ta.y;switch(ta.orient){case "left":hb+=Math.ceil(ta.bounds.width())+Q;break;case "right":case "bottom":break;default:Y+=ta.bounds.height()+Q}(hb||Y)&&I(f,wa,hb,Y);switch(ta.orient){case "left":Ca+=Va(l,wa,ta,H,1,1);break;case "right":ja+=Va(l,wa,ta,"end",0,0)+Q;Ca+=Va(l,wa,ta,H,1,1);break;case "bottom":ja+=Va(l,wa,ta,H,0,0);Ca+=Va(l,wa,ta,"end",
-1,0,1)+Q;break;default:ja+=Va(l,wa,ta,H,0,0)}(ja||Ca)&&I(f,ta,ja,Ca);0>(ja=Math.round(ta.bounds.x1-cb))&&(I(f,wa,-ja,0),I(f,ta,-ja,0))}else(hb||Y)&&I(f,wa,hb,Y);w=ab(l,w);f=2*l.padding;wa=2*l.padding;w.empty()||(f=Math.ceil(w.width()+f),wa=Math.ceil(w.height()+wa));"symbol"===m.type&&x(l.items[0].items[0].items[0].items);"none"!==q&&(l.x=G=0,l.y=U=0);l.width=f;l.height=wa;A.boundStroke(w.set(G,U,G+f,U+wa),l);l.mark.bounds.clear().union(w);return l}function ab(f,l){f.items.forEach(m=>l.union(m.bounds));
l.x1=f.padding;l.y1=f.padding;return l}function Va(f,l,m,q,w,G,U){const wa=m.datum.vgrad;f=("symbol"===f.datum.type||!G&&wa||U?l:l.items[0]).bounds[w?"y2":"x2"]-f.padding;l=wa&&G?f:0;G=wa&&G?0:f;m=0>=w?0:A.multiLineOffset(m);return Math.round("start"===q?l:"end"===q?G-m:.5*(f-m))}function I(f,l,m,q){l.x+=m;l.y+=q;l.bounds.translate(m,q);l.mark.bounds.translate(m,q);f.dirty(l)}function x(f){const l=f.reduce((m,q)=>{m[q.column]=Math.max(q.bounds.x2-q.x,m[q.column]||0);return m},{});f.forEach(m=>{m.width=
l[m.column];m.height=m.bounds.y2-m.y})}function M(f,l,m,q,w){var G=l.items[0],U=G.orient,wa=G.anchor,cb=G.offset,hb=G.padding,Y=G.items[0].items[0],ta=G.items[1]&&G.items[1].items[0],H="left"===U||"right"===U?q:m,Q=0,ja=m=0;"group"!==G.frame?"left"===U?(Q=w.y2,H=w.y1):"right"===U?(Q=w.y1,H=w.y2):(Q=w.x1,H=w.x2):"left"===U&&(Q=q,H=0);q="start"===wa?Q:"end"===wa?H:(Q+H)/2;if(ta&&ta.text){switch(U){case "top":case "bottom":ja=Y.bounds.height()+hb;break;case "left":m=Y.bounds.width()+hb;break;case "right":m=
-Y.bounds.width()-hb}W.clear().union(ta.bounds);W.translate(m-(ta.x||0),ja-(ta.y||0));xa(ta,"x",m)|xa(ta,"y",ja)&&(f.dirty(ta),ta.bounds.clear().union(W),ta.mark.bounds.clear().union(W),f.dirty(ta));W.clear().union(ta.bounds)}else W.clear();W.union(Y.bounds);switch(U){case "top":U=q;w=w.y1-W.height()-cb;break;case "left":U=w.x1-W.width()-cb;w=q;break;case "right":U=w.x2+W.width()+cb;w=q;break;case "bottom":U=q;w=w.y2+cb;break;default:U=G.x,w=G.y}xa(G,"x",U)|xa(G,"y",w)&&(W.translate(U,w),f.dirty(G),
G.bounds.clear().union(W),l.bounds.clear().union(W),f.dirty(G));return G.bounds}function K(f){r.Transform.call(this,null,f)}function C(f){return f&&"legend-entry"!==f.mark.role}function R(f,l,m){var q=l.items,w=Math.max(0,l.width||0),G=Math.max(0,l.height||0),U=(new A.Bounds).set(0,0,w,G),wa=U.clone(),cb=U.clone(),hb=[],Y,ta;var H=0;for(ta=q.length;H<ta;++H){var Q=q[H];switch(Q.role){case "axis":var ja=ma(Q)?wa:cb;ja.union(na(f,Q,w,G));break;case "title":var Ca=Q;break;case "legend":hb.push(Aa(f,
Q));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":wa.union(Q.bounds);cb.union(Q.bounds);break;default:U.union(Q.bounds)}}if(hb.length){const qb={};hb.forEach(Ya=>{Y=Ya.orient||"right";"none"!==Y&&(qb[Y]||(qb[Y]=[])).push(Ya)});for(const Ya in qb)q=qb[Ya],za(f,q,Pa(q,Ya,m.legends,wa,cb,w,G));hb.forEach(Ya=>{const ob=Ya.bounds;ob.equals(Ya._bounds)||(Ya.bounds=Ya._bounds,f.dirty(Ya),Ya.bounds=ob,f.dirty(Ya));
if(m.autosize&&"fit"===m.autosize.type)switch(Ya.orient){case "left":case "right":U.add(ob.x1,0).add(ob.x2,0);break;case "top":case "bottom":U.add(0,ob.y1).add(0,ob.y2)}else U.union(ob)})}U.union(wa).union(cb);Ca&&U.union(M(f,Ca,w,G,U));l.clip&&U.set(0,0,l.width||0,l.height||0);aa(f,l,U,m)}function aa(f,l,m,q){q=q.autosize||{};const w=q.type;if(!(1>f._autosize)&&w){var G=f._width,U=f._height,wa=Math.max(0,l.width||0),cb=Math.max(0,Math.ceil(-m.x1));l=Math.max(0,l.height||0);var hb=Math.max(0,Math.ceil(-m.y1)),
Y=Math.max(0,Math.ceil(m.x2-wa));m=Math.max(0,Math.ceil(m.y2-l));if("padding"===q.contains){const ta=f.padding();G-=ta.left+ta.right;U-=ta.top+ta.bottom}"none"===w?(hb=cb=0,wa=G,l=U):"fit"===w?(wa=Math.max(0,G-cb-Y),l=Math.max(0,U-hb-m)):"fit-x"===w?(wa=Math.max(0,G-cb-Y),U=l+hb+m):"fit-y"===w?(G=wa+cb+Y,l=Math.max(0,U-hb-m)):"pad"===w&&(G=wa+cb+Y,U=l+hb+m);f._resizeView(G,U,wa,l,[cb,hb],q.resize)}}Ra.inherits(sb,r.Transform,{transform(f,l){const m=l.dataflow,q=f.mark,w=q.marktype,G=A.Marks[w],U=
G.bound;let wa=q.bounds,cb;if(G.nested)q.items.length&&m.dirty(q.items[0]),wa=bb(q,U),q.items.forEach(hb=>{hb.bounds.clear().union(wa)});else if("group"===w||f.modified())switch(l.visit(l.MOD,hb=>m.dirty(hb)),wa.clear(),q.items.forEach(hb=>wa.union(bb(hb,U))),q.role){case "axis":case "legend":case "title":l.reflow()}else cb=l.changed(l.REM),l.visit(l.ADD,hb=>{wa.union(bb(hb,U))}),l.visit(l.MOD,hb=>{cb=cb||wa.alignsWith(hb.bounds);m.dirty(hb);wa.union(bb(hb,U))}),cb&&(wa.clear(),q.items.forEach(hb=>
wa.union(hb.bounds)));A.boundClip(q);return l.modifies("bounds")}});xb.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ra.inherits(xb,r.Transform,{transform(f,l){const m=Gb(l.dataflow),q=f.as;let w=m.value;l.visit(l.ADD,G=>G[q]=G[q]||++w);m.set(this.value=w);return l}});Ra.inherits(ib,r.Transform,{transform(f,l){let m=this.value;m||(m=l.dataflow.scenegraph().mark(f.markdef,La(f),f.index),m.group.context=f.context,f.context.group||(f.context.group=
m.group),m.source=this.source,m.clip=f.clip,m.interactive=f.interactive,this.value=m);const q="group"===m.marktype?A.GroupItem:A.Item;l.visit(l.ADD,w=>q.call(w,m));if(f.modified("clip")||f.modified("interactive"))m.clip=f.clip,m.interactive=!!f.interactive,m.zdirty=!0,l.reflow();m.items=l.source;return l}});const da={parity:f=>f.filter((l,m)=>m%2?l.opacity=0:1),greedy:(f,l)=>{let m;return f.filter((q,w)=>w&&Da(m.bounds,q.bounds,l)?q.opacity=0:(m=q,1))}},Da=(f,l,m)=>m>Math.max(l.x1-f.x2,f.x1-l.x2,
l.y1-f.y2,f.y1-l.y2),Ja=(f,l)=>{for(var m=1,q=f.length,w=f[0].bounds;m<q;++m)if(Da(w,w=f[m].bounds,l))return!0},J=f=>{f=f.bounds;return 1<f.width()&&1<f.height()},fa=(f,l,m)=>{f=f.range();var q=new A.Bounds;"top"===l||"bottom"===l?q.set(f[0],-Infinity,f[1],Infinity):q.set(-Infinity,f[0],Infinity,f[1]);q.expand(m||1);return w=>q.encloses(w.bounds)},ca=f=>{f.forEach(l=>l.opacity=1);return f};Ra.inherits(Ia,r.Transform,{transform(f,l){const m=da[f.method]||da.parity,q=f.separation||0;let w=l.materialize(l.SOURCE).source,
G,U;if(w&&w.length){if(!f.method)return f.modified("method")&&(ca(w),l=l.reflow(f.modified()).modifies("opacity")),l;w=w.filter(J);if(w.length){f.sort&&(w=w.slice().sort(f.sort));G=ca(w);l=l.reflow(f.modified()).modifies("opacity");if(3<=G.length&&Ja(G,q)){do G=m(G,q);while(3<=G.length&&Ja(G,q));3>G.length&&!Ra.peek(w).opacity&&(1<G.length&&(Ra.peek(G).opacity=0),Ra.peek(w).opacity=1)}f.boundScale&&0<=f.boundTolerance&&(U=fa(f.boundScale,f.boundOrient,+f.boundTolerance),w.forEach(cb=>{U(cb)||(cb.opacity=
0)}));var wa=G[0].mark.bounds.clear();w.forEach(cb=>{cb.opacity&&wa.union(cb.bounds)});return l}}}});Ra.inherits(Sa,r.Transform,{transform(f,l){const m=l.dataflow;l.visit(l.ALL,q=>m.dirty(q));l.fields&&l.fields.zindex&&(f=l.source&&l.source[0])&&(f.mark.zdirty=!0)}});const W=new A.Bounds,d=(f,l)=>Math.floor(Math.min(f,l)),c=(f,l)=>Math.ceil(Math.max(f,l));Ra.inherits(K,r.Transform,{transform(f,l){const m=l.dataflow;f.mark.items.forEach(q=>{if(f.layout){var w=f.layout;var G=q.items;for(var U=G.length,
wa=0,cb,hb,Y={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};wa<U;++wa)if(cb=G[wa],hb=cb.items,"group"===cb.marktype)switch(cb.role){case "axis":case "legend":case "title":break;case "row-header":Y.rowheaders.push(...hb);break;case "row-footer":Y.rowfooters.push(...hb);break;case "column-header":Y.colheaders.push(...hb);break;case "column-footer":Y.colfooters.push(...hb);break;case "row-title":Y.rowtitle=hb[0];break;case "column-title":Y.coltitle=hb[0];
break;default:Y.marks.push(...hb)}G=Y;hb=G.marks;Y="flush"===w.bounds?Ta:L;U=w.offset;var ta=w.columns||hb.length,H=0>=ta?1:Math.ceil(hb.length/ta),Q=H*ta;wa=za(m,hb,w);wa.empty()&&wa.set(0,0,0,0);if(G.rowheaders){cb=ra(w.headerBand,"row",null);var ja=ha(m,G.rowheaders,hb,ta,H,-ra(U,"rowHeader"),d,0,Y,"x1",0,ta,1,cb)}if(G.colheaders){cb=ra(w.headerBand,"column",null);var Ca=ha(m,G.colheaders,hb,ta,ta,-ra(U,"columnHeader"),d,1,Y,"y1",0,1,ta,cb)}if(G.rowfooters){cb=ra(w.footerBand,"row",null);var qb=
ha(m,G.rowfooters,hb,ta,H,ra(U,"rowFooter"),c,0,Y,"x2",ta-1,ta,1,cb)}if(G.colfooters){cb=ra(w.footerBand,"column",null);var Ya=ha(m,G.colfooters,hb,ta,ta,ra(U,"columnFooter"),c,1,Y,"y2",Q-ta,1,ta,cb)}G.rowtitle&&(cb=ra(w.titleAnchor,"row"),hb=ra(U,"rowTitle"),hb="end"===cb?qb+hb:ja-hb,cb=ra(w.titleBand,"row",.5),ya(m,G.rowtitle,hb,0,wa,cb));G.coltitle&&(cb=ra(w.titleAnchor,"column"),hb=ra(U,"columnTitle"),hb="end"===cb?Ya+hb:Ca-hb,cb=ra(w.titleBand,"column",.5),ya(m,G.coltitle,hb,1,wa,cb))}R(m,q,
f)});return C(f.mark.group)?l.reflow():l}});h.bound=sb;h.identifier=xb;h.mark=ib;h.overlap=Ia;h.render=Sa;h.viewlayout=K;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[27]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(14),zb(24),zb(2),zb(3),zb(22)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.d3,h.d3))})(this,function(h,r,A,Ra,sb,bb){function xb(C){r.Transform.call(this,null,C)}function Gb(C){r.Transform.call(this,null,C)}function ib(){return r.ingest({})}
function La(C){const R=Ra.fastmap().test(aa=>aa.exit);R.lookup=aa=>R.get(C(aa));return R}function Ia(C){r.Transform.call(this,null,C)}function Sa(C){r.Transform.call(this,[],C)}function xa(C){r.Transform.call(this,{},C)}function ma(C){r.Transform.call(this,null,C)}function na(C){return A.isContinuous(C)&&C!==A.Sequential}function Ba(C){r.Transform.call(this,null,C);this.modified(!0)}function Ga(C,R,aa){A.isLogarithmic(C)&&Math.abs(R.reduce((da,Da)=>da+(0>Da?-1:0<Da?1:0),0))!==R.length&&aa.warn("Log scale domain includes zero: "+
Ra.stringValue(R));return R}function la(C,R,aa){return Ra.isFunction(C)&&(R||aa)?A.interpolateRange(C,ra(R||[0,1],aa)):C}function ra(C,R){return R?C.slice().reverse():C}function Qa(C){r.Transform.call(this,null,C)}function za(C){r.Transform.call(this,null,C)}function Ta(C,R,aa,da,Da){R=(R-C.sum)/2;for(var Ja=C.length,J=0,fa;J<Ja;++J)fa=C[J],fa[da]=R,fa[Da]=R+=Math.abs(aa(fa))}function L(C,R,aa,da,Da){R=1/C.sum;for(var Ja=0,J=C.length,fa=0,ca=0,W;fa<J;++fa)W=C[fa],W[da]=Ja,W[Da]=Ja=R*(ca+=Math.abs(aa(W)))}
function ha(C,R,aa,da,Da){for(var Ja=R=0,J=C.length,fa=0,ca,W;fa<J;++fa)W=C[fa],ca=+aa(W),0>ca?(W[da]=Ja,W[Da]=Ja+=ca):(W[da]=R,W[Da]=R+=ca)}function ya(C,R,aa,da){var Da=[],Ja=f=>f(W),J;if(null==R)Da.push(C.slice());else{var fa={};var ca=0;for(J=C.length;ca<J;++ca){var W=C[ca];var d=R.map(Ja);var c=fa[d];c||(fa[d]=c=[],Da.push(c));c.push(W)}}Ja=d=0;for(C=Da.length;d<C;++d){c=Da[d];R=ca=0;for(J=c.length;ca<J;++ca)R+=Math.abs(da(c[ca]));c.sum=R;R>Ja&&(Ja=R);aa&&c.sort(aa)}Da.max=Ja;return Da}Ra.inherits(xb,
r.Transform,{transform(C,R){if(this.value&&!C.modified())return R.StopPropagation;var aa=R.dataflow.locale();R=R.fork(R.NO_SOURCE|R.NO_FIELDS);var da=this.value,Da=C.scale,Ja=A.tickCount(Da,null==C.count?C.values?C.values.length:10:C.count,C.minstep),J=C.format||A.tickFormat(aa,Da,Ja,C.formatSpecifier,C.formatType,!!C.values),fa=C.values?A.validTicks(Da,C.values,Ja):A.tickValues(Da,Ja);da&&(R.rem=da);da=fa.map((ca,W)=>r.ingest({index:W/(fa.length-1||1),value:ca,label:J(ca)}));C.extra&&da.length&&
da.push(r.ingest({index:-1,extra:{value:da[0].value},label:""}));R.source=da;this.value=R.add=da;return R}});Ra.inherits(Gb,r.Transform,{transform(C,R){var aa=R.dataflow,da=R.fork(R.NO_SOURCE|R.NO_FIELDS),Da=C.item||ib,Ja=C.key||r.tupleid,J=this.value;Ra.isArray(da.encode)&&(da.encode=null);J&&(C.modified("key")||R.modified(Ja))&&Ra.error("DataJoin does not support modified key function or fields.");J||(R=R.addAll(),this.value=J=La(Ja));R.visit(R.ADD,fa=>{const ca=Ja(fa);let W=J.get(ca);W?W.exit?
(J.empty--,da.add.push(W)):da.mod.push(W):(W=Da(fa),J.set(ca,W),da.add.push(W));W.datum=fa;W.exit=!1});R.visit(R.MOD,fa=>{var ca=Ja(fa);if(ca=J.get(ca))ca.datum=fa,da.mod.push(ca)});R.visit(R.REM,fa=>{var ca=Ja(fa);ca=J.get(ca);fa!==ca.datum||ca.exit||(da.rem.push(ca),ca.exit=!0,++J.empty)});R.changed(R.ADD_MOD)&&da.modifies("datum");(R.clean()||C.clean&&J.empty>aa.cleanThreshold)&&aa.runAfter(J.clean);return da}});Ra.inherits(Ia,r.Transform,{transform(C,R){var aa=R.fork(R.ADD_REM),da=C.mod||!1,Da=
C.encoders,Ja=R.encode;if(Ra.isArray(Ja))if(aa.changed()||Ja.every(c=>Da[c]))Ja=Ja[0],aa.encode=null;else return R.StopPropagation;var J="enter"===Ja,fa=Da.update||Ra.falsy,ca=Da.enter||Ra.falsy,W=Da.exit||Ra.falsy,d=(Ja&&!J?Da[Ja]:fa)||Ra.falsy;R.changed(R.ADD)&&(R.visit(R.ADD,c=>{ca(c,C);fa(c,C)}),aa.modifies(ca.output),aa.modifies(fa.output),d!==Ra.falsy&&d!==fa&&(R.visit(R.ADD,c=>{d(c,C)}),aa.modifies(d.output)));R.changed(R.REM)&&W!==Ra.falsy&&(R.visit(R.REM,c=>{W(c,C)}),aa.modifies(W.output));
if(J||d!==Ra.falsy)Ja=R.MOD|(C.modified()?R.REFLOW:0),J?(R.visit(Ja,c=>{const f=ca(c,C)||da;(d(c,C)||f)&&aa.mod.push(c)}),aa.mod.length&&aa.modifies(ca.output)):R.visit(Ja,c=>{(d(c,C)||da)&&aa.mod.push(c)}),aa.mod.length&&aa.modifies(d.output);return aa.changed()?aa:R.StopPropagation}});Ra.inherits(Sa,r.Transform,{transform(C,R){if(null!=this.value&&!C.modified())return R.StopPropagation;var aa=R.dataflow.locale(),da=R.fork(R.NO_SOURCE|R.NO_FIELDS),Da=this.value,Ja=C.type||A.SymbolLegend,J=C.scale,
fa=+C.limit,ca=A.tickCount(J,null==C.count?5:C.count,C.minstep),W=!!C.values||Ja===A.SymbolLegend,d=C.format||A.labelFormat(aa,J,ca,Ja,C.formatSpecifier,C.formatType,W),c=C.values||A.labelValues(J,ca),f;Da&&(da.rem=Da);if(Ja===A.SymbolLegend){if(fa&&c.length>fa){R.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Da=c.slice(0,fa-1);var l=!0}else Da=c;if(Ra.isFunction(f=C.size)){C.values||0!==J(Da[0])||(Da=Da.slice(1));var m=Da.reduce((w,G)=>Math.max(w,f(G,C)),0)}else f=Ra.constant(m=
f||8);Da=Da.map((w,G)=>r.ingest({index:G,label:d(w,G,Da),value:w,offset:m,size:f(w,C)}));l&&(l=c[Da.length],Da.push(r.ingest({index:Da.length,label:`\u2026${c.length-Da.length} entries`,value:l,offset:m,size:f(l,C)})))}else if(Ja===A.GradientLegend){R=J.domain();var q=A.scaleFraction(J,R[0],Ra.peek(R));3>c.length&&!C.values&&R[0]!==Ra.peek(R)&&(c=[R[0],Ra.peek(R)]);Da=c.map((w,G)=>r.ingest({index:G,label:d(w,G,c),value:w,perc:q(w)}))}else f=c.length-1,q=A.labelFraction(J),Da=c.map((w,G)=>r.ingest({index:G,
label:d(w,G,c),value:w,perc:G?q(w):0,perc2:G===f?1:q(c[G+1])}));da.source=Da;this.value=da.add=Da;return da}});const ua=C=>C.source.x,Ma=C=>C.source.y,Pa=C=>C.target.x,Aa=C=>C.target.y;xa.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Ra.inherits(xa,r.Transform,{transform(C,R){var aa=C.sourceX||ua,da=C.sourceY||Ma,Da=C.targetX||Pa,Ja=C.targetY||Aa,J=C.as||"path",fa=C.shape||"line",ca=x.get(fa+"-"+(C.orient||"vertical"))||x.get(fa);ca||Ra.error("LinkPath unsupported type: "+C.shape+(C.orient?"-"+C.orient:""));R.visit(R.SOURCE,W=>{W[J]=
ca(aa(W),da(W),Da(W),Ja(W))});return R.reflow(C.modified()).modifies(J)}});const ab=(C,R,aa,da)=>"M"+C+","+R+"L"+aa+","+da,Va=(C,R,aa,da)=>{var Da=aa-C,Ja=da-R,J=Math.sqrt(Da*Da+Ja*Ja)/2;return"M"+C+","+R+"A"+J+","+J+" "+180*Math.atan2(Ja,Da)/Math.PI+" 0 1 "+aa+","+da},I=(C,R,aa,da)=>{var Da=aa-C;const Ja=da-R,J=.2*(Da+Ja);Da=.2*(Ja-Da);return"M"+C+","+R+"C"+(C+J)+","+(R+Da)+" "+(aa+Da)+","+(da-J)+" "+aa+","+da},x=Ra.fastmap({line:ab,"line-radial":(C,R,aa,da)=>ab(R*Math.cos(C),R*Math.sin(C),da*Math.cos(aa),
da*Math.sin(aa)),arc:Va,"arc-radial":(C,R,aa,da)=>Va(R*Math.cos(C),R*Math.sin(C),da*Math.cos(aa),da*Math.sin(aa)),curve:I,"curve-radial":(C,R,aa,da)=>I(R*Math.cos(C),R*Math.sin(C),da*Math.cos(aa),da*Math.sin(aa)),"orthogonal-horizontal":(C,R,aa,da)=>"M"+C+","+R+"V"+da+"H"+aa,"orthogonal-vertical":(C,R,aa,da)=>"M"+C+","+R+"H"+aa+"V"+da,"orthogonal-radial":(C,R,aa,da)=>{const Da=Math.cos(aa),Ja=Math.sin(aa);return"M"+R*Math.cos(C)+","+R*Math.sin(C)+"A"+R+","+R+" 0 0,"+((Math.abs(aa-C)>Math.PI?aa<=C:
aa>C)?1:0)+" "+R*Da+","+R*Ja+"L"+da*Da+","+da*Ja},"diagonal-horizontal":(C,R,aa,da)=>{const Da=(C+aa)/2;return"M"+C+","+R+"C"+Da+","+R+" "+Da+","+da+" "+aa+","+da},"diagonal-vertical":(C,R,aa,da)=>{const Da=(R+da)/2;return"M"+C+","+R+"C"+C+","+Da+" "+aa+","+Da+" "+aa+","+da},"diagonal-radial":(C,R,aa,da)=>{const Da=Math.cos(C);C=Math.sin(C);const Ja=Math.cos(aa);aa=Math.sin(aa);const J=(R+da)/2;return"M"+R*Da+","+R*C+"C"+J*Da+","+J*C+" "+J*Ja+","+J*aa+" "+da*Ja+","+da*aa}});ma.Definition={type:"Pie",
metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Ra.inherits(ma,r.Transform,{transform(C,R){var aa=C.as||["startAngle","endAngle"],da=aa[0],Da=aa[1],Ja=C.startAngle||0,J=null!=C.endAngle?C.endAngle:2*Math.PI,fa=R.source,ca=fa.map(C.field||Ra.one),W=ca.length,d=
Ja;Ja=(J-Ja)/sb.sum(ca);J=sb.range(W);var c;C.sort&&J.sort((m,q)=>ca[m]-ca[q]);for(c=0;c<W;++c){var f=ca[J[c]];var l=fa[J[c]];l[da]=d;l[Da]=d+=f*Ja}this.value=ca;return R.reflow(C.modified()).modifies(aa)}});const M=Ra.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));Ra.inherits(Ba,r.Transform,{transform(C,R){var aa=R.dataflow,da=this.value;
var Da=C.type;var Ja="";if(Da===A.Sequential)Da=A.Sequential+"-"+A.Linear;else{var J=C.type;A.isContinuous(J)&&J!==A.Time&&J!==A.UTC&&(C.scheme||C.range&&C.range.length&&C.range.every(Ra.isString))&&(Ja=C.rawDomain?C.rawDomain.length:C.domain?C.domain.length+ +(null!=C.domainMid):0,Ja=2===Ja?A.Sequential+"-":3===Ja?A.Diverging+"-":"");Da=(Ja+Da||A.Linear).toLowerCase()}da&&Da===da.type||(this.value=da=A.scale(Da)());for(Da in C)M[Da]||"padding"===Da&&na(da.type)||(Ra.isFunction(da[Da])?da[Da](C[Da]):
aa.warn("Unsupported scale property: "+Da));Ja=Da=da;(J=C.domainRaw)?(da.domain(Ga(da.type,J,aa)),J=J.length):J=-1;if(-1<J)aa=J;else{var fa=C.domain;J=da.type;var ca;!(ca=C.zero)&&(ca=void 0===C.zero)&&(ca=da.type,ca=!da.bins&&(ca===A.Linear||ca===A.Pow||ca===A.Sqrt));if(fa){if(na(J)&&C.padding&&fa[0]!==Ra.peek(fa)){var W=C.range,d=C.padding;var c=C.exponent;var f=C.constant;W=Math.abs(Ra.peek(W)-W[0]);d=W/(W-2*d);c=J===A.Log?Ra.zoomLog(fa,null,d):J===A.Sqrt?Ra.zoomPow(fa,null,d,.5):J===A.Pow?Ra.zoomPow(fa,
null,d,c||1):J===A.Symlog?Ra.zoomSymlog(fa,null,d,f||1):Ra.zoomLinear(fa,null,d);fa=fa.slice();fa[0]=c[0];fa[fa.length-1]=c[1]}if(ca||null!=C.domainMin||null!=C.domainMax||null!=C.domainMid)c=(fa=fa.slice()).length-1||1,ca&&(0<fa[0]&&(fa[0]=0),0>fa[c]&&(fa[c]=0)),null!=C.domainMin&&(fa[0]=C.domainMin),null!=C.domainMax&&(fa[c]=C.domainMax),null!=C.domainMid&&(ca=C.domainMid,f=ca>fa[c]?c+1:ca<fa[0]?0:c,f!==c&&aa.warn("Scale domainMid exceeds domain min or max.",ca),fa.splice(f,0,ca));da.domain(Ga(J,
fa,aa));J===A.Ordinal&&da.unknown(C.domainImplicit?A.scaleImplicit:void 0);C.nice&&da.nice&&da.nice(!0!==C.nice&&A.tickCount(da,C.nice)||null);aa=fa.length}else aa=0}(J=C.bins)&&!Ra.isArray(J)&&(ca=Ja.domain(),da=ca[0],ca=Ra.peek(ca),fa=J.step,c=null==J.start?da:J.start,J=null==J.stop?ca:J.stop,fa||Ra.error("Scale bins parameter missing step property."),c<da&&(c=fa*Math.ceil(da/fa)),J>ca&&(J=fa*Math.floor(ca/fa)),J=sb.range(c,J+fa/2,fa));J?Ja.bins=J:Ja.bins&&delete Ja.bins;Ja.type===A.BinOrdinal&&
(J?C.domain||C.domainRaw||(Ja.domain(J),aa=J.length):Ja.bins=Ja.domain());da=aa;a:{Ja=Da.type;aa=C.round||!1;J=C.range;if(null!=C.rangeStep)Ja!==A.Band&&Ja!==A.Point&&Ra.error("Only band and point scales support rangeStep."),J=[0,C.rangeStep*A.bandSpace(da,Ja===A.Point?1:(null!=C.paddingInner?C.paddingInner:C.padding)||0,(null!=C.paddingOuter?C.paddingOuter:C.padding)||0)];else if(C.scheme&&(J=C.schemeExtent,Ra.isArray(C.scheme)?ca=A.interpolateColors(C.scheme,C.interpolate,C.interpolateGamma):(ca=
C.scheme.toLowerCase(),(ca=A.scheme(ca))||Ra.error(`Unrecognized scheme name: ${C.scheme}`)),da=Ja===A.Threshold?da+1:Ja===A.BinOrdinal?da-1:Ja===A.Quantile||Ja===A.Quantize?+C.schemeCount||5:da,J=A.isInterpolating(Ja)?la(ca,J,C.reverse):Ra.isFunction(ca)?A.quantizeInterpolator(la(ca,J),da):Ja===A.Ordinal?ca:ca.slice(0,da),Ra.isFunction(J)))if(Da.interpolator){Da.interpolator(J);break a}else Ra.error(`Scale type ${Ja} does not support interpolating color schemes.`);J&&A.isInterpolating(Ja)?Da.interpolator(A.interpolateColors(ra(J,
C.reverse),C.interpolate,C.interpolateGamma)):(J&&C.interpolate&&Da.interpolate?Da.interpolate(A.interpolate(C.interpolate,C.interpolateGamma)):Ra.isFunction(Da.round)?Da.round(aa):Ra.isFunction(Da.rangeRound)&&Da.interpolate(aa?bb.interpolateRound:bb.interpolate),J&&Da.range(ra(J,C.reverse)))}return R.fork(R.NO_SOURCE|R.NO_FIELDS)}});Ra.inherits(Qa,r.Transform,{transform(C,R){const aa=C.modified("sort")||R.changed(R.ADD)||R.modified(C.sort.fields)||R.modified("datum");aa&&R.source.sort(r.stableCompare(C.sort));
this.modified(aa);return R}});const K=["y0","y1"];za.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":K}]};Ra.inherits(za,r.Transform,{transform(C,R){var aa=C.as||K,da=aa[0],Da=aa[1],Ja=r.stableCompare(C.sort),J=C.field||Ra.one,fa="center"===C.offset?Ta:"normalize"===
C.offset?L:ha,ca;Ja=ya(R.source,C.groupby,Ja,J);var W=0;var d=Ja.length;for(ca=Ja.max;W<d;++W)fa(Ja[W],ca,J,da,Da);return R.reflow(C.modified()).modifies(aa)}});h.axisticks=xb;h.datajoin=Gb;h.encode=Ia;h.legendentries=Sa;h.linkpath=xa;h.pie=ma;h.scale=Ba;h.sortitems=Qa;h.stack=za;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[28]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],r):(h=h||self,r(h.d3=h.d3||{},h.d3))})(this,function(h,r){function A(Z){return 1<Z?0:-1>Z?qa:Math.acos(Z)}function Ra(Z){return 1<Z?Fa:-1>Z?-Fa:Math.asin(Z)}function sb(Z){return(Z=od(Z/2))*Z}function bb(){}function xb(Z,sa){if(Z&&gf.hasOwnProperty(Z.type))gf[Z.type](Z,sa)}function Gb(Z,sa,Ka){var jb=-1;Ka=Z.length-Ka;
for(sa.lineStart();++jb<Ka;){var yb=Z[jb];sa.point(yb[0],yb[1],yb[2])}sa.lineEnd()}function ib(Z,sa){var Ka=-1,jb=Z.length;for(sa.polygonStart();++Ka<jb;)Gb(Z[Ka],sa,1);sa.polygonEnd()}function La(Z,sa){if(Z&&qf.hasOwnProperty(Z.type))qf[Z.type](Z,sa);else xb(Z,sa)}function Ia(){Yd.point=xa}function Sa(){ma($d,fc)}function xa(Z,sa){Yd.point=ma;$d=Z;fc=sa;Z*=Rb;sa*=Rb;Wc=Z;Ud=Nc(sa=sa/2+rb);Je=od(sa)}function ma(Z,sa){Z*=Rb;sa*=Rb;sa=sa/2+rb;var Ka=Z-Wc,jb=0<=Ka?1:-1,yb=jb*Ka;Ka=Nc(sa);sa=od(sa);var cc=
Je*sa,gc=Ud*Ka+cc*Nc(yb);jb=cc*jb*od(yb);Qd.add(Bc(jb,gc));Wc=Z;Ud=Ka;Je=sa}function na(Z){return[Bc(Z[1],Z[0]),Ra(Z[2])]}function Ba(Z){var sa=Z[0];Z=Z[1];var Ka=Nc(Z);return[Ka*Nc(sa),Ka*od(sa),od(Z)]}function Ga(Z,sa){return Z[0]*sa[0]+Z[1]*sa[1]+Z[2]*sa[2]}function la(Z,sa){return[Z[1]*sa[2]-Z[2]*sa[1],Z[2]*sa[0]-Z[0]*sa[2],Z[0]*sa[1]-Z[1]*sa[0]]}function ra(Z,sa){Z[0]+=sa[0];Z[1]+=sa[1];Z[2]+=sa[2]}function Qa(Z,sa){return[Z[0]*sa,Z[1]*sa,Z[2]*sa]}function za(Z){var sa=ne(Z[0]*Z[0]+Z[1]*Z[1]+
Z[2]*Z[2]);Z[0]/=sa;Z[1]/=sa;Z[2]/=sa}function Ta(Z,sa){Fe.push(yd=[je=Z,Cd=Z]);sa<Ke&&(Ke=sa);sa>rd&&(rd=sa)}function L(Z,sa){var Ka=Ba([Z*Rb,sa*Rb]);if(Ee){var jb=la(Ee,Ka);jb=la([jb[1],-jb[0],0],jb);za(jb);jb=na(jb);var yb=Z-we,cc=0<yb?1:-1,gc=jb[0]*Lb*cc;yb=180<kc(yb);yb^(cc*we<gc&&gc<cc*Z)?(jb=jb[1]*Lb,jb>rd&&(rd=jb)):(gc=(gc+360)%360-180,yb^(cc*we<gc&&gc<cc*Z))?(jb=-jb[1]*Lb,jb<Ke&&(Ke=jb)):(sa<Ke&&(Ke=sa),sa>rd&&(rd=sa));yb?Z<we?Aa(je,Z)>Aa(je,Cd)&&(Cd=Z):Aa(Z,Cd)>Aa(je,Cd)&&(je=Z):Cd>=je?
(Z<je&&(je=Z),Z>Cd&&(Cd=Z)):Z>we?Aa(je,Z)>Aa(je,Cd)&&(Cd=Z):Aa(Z,Cd)>Aa(je,Cd)&&(je=Z)}else Fe.push(yd=[je=Z,Cd=Z]);sa<Ke&&(Ke=sa);sa>rd&&(rd=sa);Ee=Ka;we=Z}function ha(){F.point=L}function ya(){yd[0]=je;yd[1]=Cd;F.point=Ta;Ee=null}function ua(Z,sa){if(Ee){var Ka=Z-we;ve.add(180<kc(Ka)?Ka+(0<Ka?360:-360):Ka)}else hd=Z,Ce=sa;Yd.point(Z,sa);L(Z,sa)}function Ma(){Yd.lineStart()}function Pa(){ua(hd,Ce);Yd.lineEnd();1E-6<kc(ve)&&(je=-(Cd=180));yd[0]=je;yd[1]=Cd;Ee=null}function Aa(Z,sa){return 0>(sa-=
Z)?sa+360:sa}function ab(Z,sa){return Z[0]-sa[0]}function Va(Z,sa){return Z[0]<=Z[1]?Z[0]<=sa&&sa<=Z[1]:sa<Z[0]||Z[1]<sa}function I(Z,sa){Z*=Rb;sa*=Rb;var Ka=Nc(sa);x(Ka*Nc(Z),Ka*od(Z),od(sa))}function x(Z,sa,Ka){++X;Hb+=(Z-Hb)/X;Tb+=(sa-Tb)/X;Sb+=(Ka-Sb)/X}function M(){De.point=K}function K(Z,sa){Z*=Rb;sa*=Rb;var Ka=Nc(sa);ge=Ka*Nc(Z);me=Ka*od(Z);ke=od(sa);De.point=C;x(ge,me,ke)}function C(Z,sa){Z*=Rb;sa*=Rb;var Ka=Nc(sa),jb=Ka*Nc(Z);Z=Ka*od(Z);sa=od(sa);var yb=Bc(ne((yb=me*sa-ke*Z)*yb+(yb=ke*jb-
ge*sa)*yb+(yb=ge*Z-me*jb)*yb),ge*jb+me*Z+ke*sa);Oa+=yb;Ob+=yb*(ge+(ge=jb));Xc+=yb*(me+(me=Z));Sc+=yb*(ke+(ke=sa));x(ge,me,ke)}function R(){De.point=I}function aa(){De.point=Da}function da(){Ja(Ge,ae);De.point=I}function Da(Z,sa){Ge=Z;ae=sa;Z*=Rb;sa*=Rb;De.point=Ja;var Ka=Nc(sa);ge=Ka*Nc(Z);me=Ka*od(Z);ke=od(sa);x(ge,me,ke)}function Ja(Z,sa){Z*=Rb;sa*=Rb;var Ka=Nc(sa),jb=Ka*Nc(Z);Z=Ka*od(Z);sa=od(sa);Ka=me*sa-ke*Z;var yb=ke*jb-ge*sa,cc=ge*Z-me*jb,gc=cd(Ka,yb,cc),hc=Ra(gc);gc=gc&&-hc/gc;ud.add(gc*Ka);
Id.add(gc*yb);Ld.add(gc*cc);Oa+=hc;Ob+=hc*(ge+(ge=jb));Xc+=hc*(me+(me=Z));Sc+=hc*(ke+(ke=sa));x(ge,me,ke)}function J(Z){return function(){return Z}}function fa(Z,sa){function Ka(jb,yb){return jb=Z(jb,yb),sa(jb[0],jb[1])}Z.invert&&sa.invert&&(Ka.invert=function(jb,yb){return jb=sa.invert(jb,yb),jb&&Z.invert(jb[0],jb[1])});return Ka}function ca(Z,sa){return[kc(Z)>qa?Z+Math.round(-Z/gb)*gb:Z,sa]}function W(Z,sa,Ka){return(Z%=gb)?sa||Ka?fa(c(Z),f(sa,Ka)):c(Z):sa||Ka?f(sa,Ka):ca}function d(Z){return function(sa,
Ka){return sa+=Z,[sa>qa?sa-gb:sa<-qa?sa+gb:sa,Ka]}}function c(Z){var sa=d(Z);sa.invert=d(-Z);return sa}function f(Z,sa){function Ka(hc,qc){var uc=Nc(qc),$c=Nc(hc)*uc;hc=od(hc)*uc;qc=od(qc);uc=qc*jb+$c*yb;return[Bc(hc*cc-uc*gc,$c*jb-qc*yb),Ra(uc*cc+hc*gc)]}var jb=Nc(Z),yb=od(Z),cc=Nc(sa),gc=od(sa);Ka.invert=function(hc,qc){var uc=Nc(qc),$c=Nc(hc)*uc;hc=od(hc)*uc;qc=od(qc);uc=qc*cc-hc*gc;return[Bc(hc*cc+qc*gc,$c*jb+uc*yb),Ra(uc*jb-$c*yb)]};return Ka}function l(Z){function sa(Ka){Ka=Z(Ka[0]*Rb,Ka[1]*
Rb);return Ka[0]*=Lb,Ka[1]*=Lb,Ka}Z=W(Z[0]*Rb,Z[1]*Rb,2<Z.length?Z[2]*Rb:0);sa.invert=function(Ka){Ka=Z.invert(Ka[0]*Rb,Ka[1]*Rb);return Ka[0]*=Lb,Ka[1]*=Lb,Ka};return sa}function m(Z,sa,Ka,jb,yb,cc){if(Ka){var gc=Nc(sa),hc=od(sa);Ka*=jb;if(null==yb)yb=sa+jb*gb,cc=sa-Ka/2;else if(yb=q(gc,yb),cc=q(gc,cc),0<jb?yb<cc:yb>cc)yb+=jb*gb;for(;0<jb?yb>cc:yb<cc;yb-=Ka)sa=na([gc,-hc*Nc(yb),-hc*od(yb)]),Z.point(sa[0],sa[1])}}function q(Z,sa){sa=Ba(sa);sa[0]-=Z;za(sa);Z=A(-sa[1]);return((0>-sa[2]?-Z:Z)+gb-1E-6)%
gb}function w(){var Z=[],sa;return{point:function(Ka,jb,yb){sa.push([Ka,jb,yb])},lineStart:function(){Z.push(sa=[])},lineEnd:bb,rejoin:function(){1<Z.length&&Z.push(Z.pop().concat(Z.shift()))},result:function(){var Ka=Z;Z=[];sa=null;return Ka}}}function G(Z,sa){return 1E-6>kc(Z[0]-sa[0])&&1E-6>kc(Z[1]-sa[1])}function U(Z,sa,Ka,jb){this.x=Z;this.z=sa;this.o=Ka;this.e=jb;this.v=!1;this.n=this.p=null}function wa(Z,sa,Ka,jb,yb){var cc=[],gc=[];Z.forEach(function(Kc){if(!(0>=(Lc=Kc.length-1))){var Lc,
Tc=Kc[0],ad=Kc[Lc];if(G(Tc,ad)){if(!Tc[2]&&!ad[2]){yb.lineStart();for(hc=0;hc<Lc;++hc)yb.point((Tc=Kc[hc])[0],Tc[1]);yb.lineEnd();return}ad[0]+=2E-6}cc.push(Lc=new U(Tc,Kc,null,!0));gc.push(Lc.o=new U(Tc,null,Lc,!1));cc.push(Lc=new U(ad,Kc,null,!1));gc.push(Lc.o=new U(ad,null,Lc,!0))}});if(cc.length){gc.sort(sa);cb(cc);cb(gc);var hc=0;for(Z=gc.length;hc<Z;++hc)gc[hc].e=Ka=!Ka;Ka=cc[0];for(var qc;;){for(var uc=Ka,$c=!0;uc.v;)if((uc=uc.n)===Ka)return;sa=uc.z;yb.lineStart();do{uc.v=uc.o.v=!0;if(uc.e){if($c)for(hc=
0,Z=sa.length;hc<Z;++hc)yb.point((qc=sa[hc])[0],qc[1]);else jb(uc.x,uc.n.x,1,yb);uc=uc.n}else{if($c)for(sa=uc.p.z,hc=sa.length-1;0<=hc;--hc)yb.point((qc=sa[hc])[0],qc[1]);else jb(uc.x,uc.p.x,-1,yb);uc=uc.p}uc=uc.o;sa=uc.z;$c=!$c}while(!uc.v);yb.lineEnd()}}}function cb(Z){if(sa=Z.length){for(var sa,Ka=0,jb=Z[0],yb;++Ka<sa;)jb.n=yb=Z[Ka],yb.p=jb,jb=yb;jb.n=yb=Z[0];yb.p=jb}}function hb(Z){return kc(Z[0])<=qa?Z[0]:de(Z[0])*((kc(Z[0])+qa)%gb-qa)}function Y(Z,sa){var Ka=hb(sa);sa=sa[1];var jb=od(sa),yb=
[od(Ka),-Nc(Ka),0],cc=0,gc=0,hc=new r.Adder;1===jb?sa=Fa+1E-6:-1===jb&&(sa=-Fa-1E-6);jb=0;for(var qc=Z.length;jb<qc;++jb)if($c=(uc=Z[jb]).length){var uc,$c,Kc=uc[$c-1],Lc=hb(Kc),Tc=Kc[1]/2+rb,ad=od(Tc),kd=Nc(Tc);for(Tc=0;Tc<$c;++Tc,Lc=Sd,ad=Bd,kd=md,Kc=ce){var ce=uc[Tc],Sd=hb(ce);md=ce[1]/2+rb;var Bd=od(md),md=Nc(md),id=Sd-Lc,Td=0<=id?1:-1,ye=Td*id,Qe=ye>qa;ad*=Bd;hc.add(Bc(ad*Td*od(ye),kd*md+ad*Nc(ye)));cc+=Qe?id+Td*gb:id;Qe^Lc>=Ka^Sd>=Ka&&(Kc=la(Ba(Kc),Ba(ce)),za(Kc),Lc=la(yb,Kc),za(Lc),Lc=(Qe^
0<=id?-1:1)*Ra(Lc[2]),sa>Lc||sa===Lc&&(Kc[0]||Kc[1]))&&(gc+=Qe^0<=id?1:-1)}}return(-1E-6>cc||1E-6>cc&&-1E-12>hc)^gc&1}function ta(Z,sa,Ka,jb){return function(yb){function cc(id,Td){Z(id,Td)&&yb.point(id,Td)}function gc(id,Td){Lc.point(id,Td)}function hc(){md.point=gc;Lc.lineStart()}function qc(){md.point=cc;Lc.lineEnd()}function uc(id,Td){Bd.push([id,Td]);ad.point(id,Td)}function $c(){ad.lineStart();Bd=[]}function Kc(){uc(Bd[0][0],Bd[0][1]);ad.lineEnd();var id=ad.clean(),Td=Tc.result(),ye=Td.length,
Qe;Bd.pop();ce.push(Bd);Bd=null;if(ye)if(id&1){if(ye=Td[0],0<(Td=ye.length-1)){kd||(yb.polygonStart(),kd=!0);yb.lineStart();for(id=0;id<Td;++id)yb.point((Qe=ye[id])[0],Qe[1]);yb.lineEnd()}}else 1<ye&&id&2&&Td.push(Td.pop().concat(Td.shift())),Sd.push(Td.filter(H))}var Lc=sa(yb),Tc=w(),ad=sa(Tc),kd=!1,ce,Sd,Bd,md={point:cc,lineStart:hc,lineEnd:qc,polygonStart:function(){md.point=uc;md.lineStart=$c;md.lineEnd=Kc;Sd=[];ce=[]},polygonEnd:function(){md.point=cc;md.lineStart=hc;md.lineEnd=qc;Sd=r.merge(Sd);
var id=Y(ce,jb);Sd.length?(kd||(yb.polygonStart(),kd=!0),wa(Sd,Q,id,Ka,yb)):id&&(kd||(yb.polygonStart(),kd=!0),yb.lineStart(),Ka(null,null,1,yb),yb.lineEnd());kd&&(yb.polygonEnd(),kd=!1);Sd=ce=null},sphere:function(){yb.polygonStart();yb.lineStart();Ka(null,null,1,yb);yb.lineEnd();yb.polygonEnd()}};return md}}function H(Z){return 1<Z.length}function Q(Z,sa){return(0>(Z=Z.x)[0]?Z[1]-Fa-1E-6:Fa-Z[1])-(0>(sa=sa.x)[0]?sa[1]-Fa-1E-6:Fa-sa[1])}function ja(Z){function sa(qc,uc){return Nc(qc)*Nc(uc)>yb}function Ka(qc,
uc,$c){var Kc=Ba(qc),Lc=Ba(uc),Tc=[1,0,0];Lc=la(Kc,Lc);var ad=Ga(Lc,Lc);Kc=Lc[0];var kd=ad-Kc*Kc;if(!kd)return!$c&&qc;ad=yb*ad/kd;kd=-yb*Kc/kd;Kc=la(Tc,Lc);Tc=Qa(Tc,ad);Lc=Qa(Lc,kd);ra(Tc,Lc);Lc=Ga(Tc,Kc);ad=Ga(Kc,Kc);kd=Lc*Lc-ad*(Ga(Tc,Tc)-1);if(!(0>kd)){var ce=ne(kd);kd=Qa(Kc,(-Lc-ce)/ad);ra(kd,Tc);kd=na(kd);if(!$c)return kd;$c=qc[0];var Sd=uc[0];qc=qc[1];uc=uc[1];if(Sd<$c){var Bd=$c;$c=Sd;Sd=Bd}var md=Sd-$c,id=1E-6>kc(md-qa);!id&&uc<qc&&(Bd=qc,qc=uc,uc=Bd);if(id||1E-6>md?id?0<qc+uc^kd[1]<(1E-6>
kc(kd[0]-$c)?qc:uc):qc<=kd[1]&&kd[1]<=uc:md>qa^($c<=kd[0]&&kd[0]<=Sd))return uc=Qa(Kc,(-Lc+ce)/ad),ra(uc,Tc),[kd,na(uc)]}}function jb(qc,uc){var $c=gc?Z:qa-Z,Kc=0;qc<-$c?Kc|=1:qc>$c&&(Kc|=2);uc<-$c?Kc|=4:uc>$c&&(Kc|=8);return Kc}var yb=Nc(Z),cc=6*Rb,gc=0<yb,hc=1E-6<kc(yb);return ta(sa,function(qc){var uc,$c,Kc,Lc,Tc;return{lineStart:function(){Lc=Kc=!1;Tc=1},point:function(ad,kd){var ce=[ad,kd],Sd=sa(ad,kd);kd=gc?Sd?0:jb(ad,kd):Sd?jb(ad+(0>ad?qa:-qa),kd):0;!uc&&(Lc=Kc=Sd)&&qc.lineStart();Sd!==Kc&&
(ad=Ka(uc,ce),!ad||G(uc,ad)||G(ce,ad))&&(ce[2]=1);if(Sd!==Kc)Tc=0,Sd?(qc.lineStart(),ad=Ka(ce,uc),qc.point(ad[0],ad[1])):(ad=Ka(uc,ce),qc.point(ad[0],ad[1],2),qc.lineEnd()),uc=ad;else if(hc&&uc&&gc^Sd){var Bd;kd&$c||!(Bd=Ka(ce,uc,!0))||(Tc=0,gc?(qc.lineStart(),qc.point(Bd[0][0],Bd[0][1]),qc.point(Bd[1][0],Bd[1][1]),qc.lineEnd()):(qc.point(Bd[1][0],Bd[1][1]),qc.lineEnd(),qc.lineStart(),qc.point(Bd[0][0],Bd[0][1],3)))}!Sd||uc&&G(uc,ce)||qc.point(ce[0],ce[1]);uc=ce;Kc=Sd;$c=kd},lineEnd:function(){Kc&&
qc.lineEnd();uc=null},clean:function(){return Tc|(Lc&&Kc)<<1}}},function(qc,uc,$c,Kc){m(Kc,Z,cc,$c,qc,uc)},gc?[0,-Z]:[-qa,Z-qa])}function Ca(Z,sa,Ka,jb,yb,cc){var gc=Z[0],hc=Z[1],qc=0,uc=1,$c=sa[0]-gc,Kc=sa[1]-hc;Ka-=gc;if($c||!(0<Ka)){Ka/=$c;if(0>$c){if(Ka<qc)return;Ka<uc&&(uc=Ka)}else if(0<$c){if(Ka>uc)return;Ka>qc&&(qc=Ka)}Ka=yb-gc;if($c||!(0>Ka)){Ka/=$c;if(0>$c){if(Ka>uc)return;Ka>qc&&(qc=Ka)}else if(0<$c){if(Ka<qc)return;Ka<uc&&(uc=Ka)}Ka=jb-hc;if(Kc||!(0<Ka)){Ka/=Kc;if(0>Kc){if(Ka<qc)return;
Ka<uc&&(uc=Ka)}else if(0<Kc){if(Ka>uc)return;Ka>qc&&(qc=Ka)}Ka=cc-hc;if(Kc||!(0>Ka)){Ka/=Kc;if(0>Kc){if(Ka>uc)return;Ka>qc&&(qc=Ka)}else if(0<Kc){if(Ka<qc)return;Ka<uc&&(uc=Ka)}0<qc&&(Z[0]=gc+qc*$c,Z[1]=hc+qc*Kc);1>uc&&(sa[0]=gc+uc*$c,sa[1]=hc+uc*Kc);return!0}}}}}function qb(Z,sa,Ka,jb){function yb(qc,uc,$c,Kc){var Lc=0,Tc=0;if(null==qc||(Lc=cc(qc,$c))!==(Tc=cc(uc,$c))||0>hc(qc,uc)^0<$c){do Kc.point(0===Lc||3===Lc?Z:Ka,1<Lc?jb:sa);while((Lc=(Lc+$c+4)%4)!==Tc)}else Kc.point(uc[0],uc[1])}function cc(qc,
uc){return 1E-6>kc(qc[0]-Z)?0<uc?0:3:1E-6>kc(qc[0]-Ka)?0<uc?2:1:1E-6>kc(qc[1]-sa)?0<uc?1:0:0<uc?3:2}function gc(qc,uc){return hc(qc.x,uc.x)}function hc(qc,uc){var $c=cc(qc,1),Kc=cc(uc,1);return $c!==Kc?$c-Kc:0===$c?uc[1]-qc[1]:1===$c?qc[0]-uc[0]:2===$c?qc[1]-uc[1]:uc[0]-qc[0]}return function(qc){function uc(re,ze){Z<=re&&re<=Ka&&sa<=ze&&ze<=jb&&Kc.point(re,ze)}function $c(re,ze){var sf=Z<=re&&re<=Ka&&sa<=ze&&ze<=jb;ad&&kd.push([re,ze]);if(ye)ce=re,Sd=ze,Bd=sf,ye=!1,sf&&(Kc.lineStart(),Kc.point(re,
ze));else if(sf&&Td)Kc.point(re,ze);else{var yf=[md=Math.max(-1E9,Math.min(1E9,md)),id=Math.max(-1E9,Math.min(1E9,id))],Lf=[re=Math.max(-1E9,Math.min(1E9,re)),ze=Math.max(-1E9,Math.min(1E9,ze))];Ca(yf,Lf,Z,sa,Ka,jb)?(Td||(Kc.lineStart(),Kc.point(yf[0],yf[1])),Kc.point(Lf[0],Lf[1]),sf||Kc.lineEnd(),Qe=!1):sf&&(Kc.lineStart(),Kc.point(re,ze),Qe=!1)}md=re;id=ze;Td=sf}var Kc=qc,Lc=w(),Tc,ad,kd,ce,Sd,Bd,md,id,Td,ye,Qe,Le={point:uc,lineStart:function(){Le.point=$c;ad&&ad.push(kd=[]);ye=!0;Td=!1;md=id=NaN},
lineEnd:function(){Tc&&($c(ce,Sd),Bd&&Td&&Lc.rejoin(),Tc.push(Lc.result()));Le.point=uc;Td&&Kc.lineEnd()},polygonStart:function(){Kc=Lc;Tc=[];ad=[];Qe=!0},polygonEnd:function(){for(var re,ze=re=0,sf=ad.length;ze<sf;++ze){var yf=ad[ze],Lf=1,gg=yf.length,Ed=yf[0],kf=Ed[0];for(Ed=Ed[1];Lf<gg;++Lf){var Mg=kf;var Vg=Ed;Ed=yf[Lf];kf=Ed[0];Ed=Ed[1];Vg<=jb?Ed>jb&&(kf-Mg)*(jb-Vg)>(Ed-Vg)*(Z-Mg)&&++re:Ed<=jb&&(kf-Mg)*(jb-Vg)<(Ed-Vg)*(Z-Mg)&&--re}}ze=Qe&&re;sf=(Tc=r.merge(Tc)).length;if(ze||sf)qc.polygonStart(),
ze&&(qc.lineStart(),yb(null,null,1,qc),qc.lineEnd()),sf&&wa(Tc,gc,re,yb,qc),qc.polygonEnd();Kc=qc;Tc=ad=kd=null}};return Le}}function Ya(){cf.point=cf.lineEnd=bb}function ob(Z,sa){Z*=Rb;sa*=Rb;ef=Z;Kf=od(sa);wf=Nc(sa);cf.point=Na}function Na(Z,sa){Z*=Rb;sa*=Rb;var Ka=od(sa);sa=Nc(sa);var jb=kc(Z-ef),yb=Nc(jb);jb=od(jb);jb*=sa;var cc=wf*Ka-Kf*sa*yb;yb=Kf*Ka+wf*sa*yb;hf.add(Bc(ne(jb*jb+cc*cc),yb));ef=Z;Kf=Ka;wf=sa}function Ab(Z){hf=new r.Adder;La(Z,cf);return+hf}function Eb(Z,sa){jf[0]=Z;jf[1]=sa;return Ab(xf)}
function eb(Z,sa){return Z&&rf.hasOwnProperty(Z.type)?rf[Z.type](Z,sa):!1}function Mb(Z,sa){for(var Ka,jb,yb,cc=0,gc=Z.length;cc<gc;cc++){jb=Eb(Z[cc],sa);if(0===jb||0<cc&&(yb=Eb(Z[cc],Z[cc-1]),0<yb&&Ka<=yb&&jb<=yb&&(Ka+jb-yb)*(1-Math.pow((Ka-jb)/yb,2))<1E-12*yb))return!0;Ka=jb}return!1}function jc(Z,sa){return!!Y(Z.map(Zb),Hc(sa))}function Zb(Z){return Z=Z.map(Hc),Z.pop(),Z}function Hc(Z){return[Z[0]*Rb,Z[1]*Rb]}function zc(Z,sa,Ka){var jb=r.range(Z,sa-1E-6,Ka).concat(sa);return function(yb){return jb.map(function(cc){return[yb,
cc]})}}function ed(Z,sa,Ka){var jb=r.range(Z,sa-1E-6,Ka).concat(sa);return function(yb){return jb.map(function(cc){return[cc,yb]})}}function Ad(){function Z(){return{type:"MultiLineString",coordinates:sa()}}function sa(){return r.range(Yb(cc/Lc)*Lc,yb,Lc).map(ce).concat(r.range(Yb(uc/Tc)*Tc,qc,Tc).map(Sd)).concat(r.range(Yb(jb/$c)*$c,Ka,$c).filter(function(md){return 1E-6<kc(md%Lc)}).map(ad)).concat(r.range(Yb(hc/Kc)*Kc,gc,Kc).filter(function(md){return 1E-6<kc(md%Tc)}).map(kd))}var Ka,jb,yb,cc,gc,
hc,qc,uc,$c=10,Kc=$c,Lc=90,Tc=360,ad,kd,ce,Sd,Bd=2.5;Z.lines=function(){return sa().map(function(md){return{type:"LineString",coordinates:md}})};Z.outline=function(){return{type:"Polygon",coordinates:[ce(cc).concat(Sd(qc).slice(1),ce(yb).reverse().slice(1),Sd(uc).reverse().slice(1))]}};Z.extent=function(md){return arguments.length?Z.extentMajor(md).extentMinor(md):Z.extentMinor()};Z.extentMajor=function(md){if(!arguments.length)return[[cc,uc],[yb,qc]];cc=+md[0][0];yb=+md[1][0];uc=+md[0][1];qc=+md[1][1];
cc>yb&&(md=cc,cc=yb,yb=md);uc>qc&&(md=uc,uc=qc,qc=md);return Z.precision(Bd)};Z.extentMinor=function(md){if(!arguments.length)return[[jb,hc],[Ka,gc]];jb=+md[0][0];Ka=+md[1][0];hc=+md[0][1];gc=+md[1][1];jb>Ka&&(md=jb,jb=Ka,Ka=md);hc>gc&&(md=hc,hc=gc,gc=md);return Z.precision(Bd)};Z.step=function(md){return arguments.length?Z.stepMajor(md).stepMinor(md):Z.stepMinor()};Z.stepMajor=function(md){if(!arguments.length)return[Lc,Tc];Lc=+md[0];Tc=+md[1];return Z};Z.stepMinor=function(md){if(!arguments.length)return[$c,
Kc];$c=+md[0];Kc=+md[1];return Z};Z.precision=function(md){if(!arguments.length)return Bd;Bd=+md;ad=zc(hc,gc,90);kd=ed(jb,Ka,Bd);ce=zc(uc,qc,90);Sd=ed(cc,yb,Bd);return Z};return Z.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Gc(){B.point=gd}function gd(Z,sa){B.point=ie;af=Gf=Z;Wf=Vf=sa}function ie(Z,sa){Ff.add(Vf*Z-Gf*sa);Gf=Z;Vf=sa}function Mc(){ie(af,Wf)}function xd(Z,sa){Ha+=Z;db+=sa;++Ua}function Rd(){Xa.point=Db}function Db(Z,sa){Xa.point=
ac;xd(S=Z,ba=sa)}function ac(Z,sa){var Ka=Z-S,jb=sa-ba;Ka=ne(Ka*Ka+jb*jb);lb+=Ka*(S+Z)/2;nb+=Ka*(ba+sa)/2;Bb+=Ka;xd(S=Z,ba=sa)}function kb(){Xa.point=xd}function oc(){Xa.point=dd}function sc(){vd(t,y)}function dd(Z,sa){Xa.point=vd;xd(t=S=Z,y=ba=sa)}function vd(Z,sa){var Ka=Z-S,jb=sa-ba;Ka=ne(Ka*Ka+jb*jb);lb+=Ka*(S+Z)/2;nb+=Ka*(ba+sa)/2;Bb+=Ka;Ka=ba*Z-S*sa;$b+=Ka*(S+Z);pc+=Ka*(ba+sa);Ic+=3*Ka;xd(S=Z,ba=sa)}function N(Z){this._context=Z}function oa(Z,sa){sd.point=$a;Qb=Ec=Z;dc=Ac=sa}function $a(Z,sa){Ec-=
Z;Ac-=sa;vb.add(ne(Ec*Ec+Ac*Ac));Ec=Z;Ac=sa}function wb(){this._string=[]}function Fb(Z){return"m0,"+Z+"a"+Z+","+Z+" 0 1,1 0,"+-2*Z+"a"+Z+","+Z+" 0 1,1 0,"+2*Z+"z"}function Kb(Z){return function(sa){var Ka=new ec,jb;for(jb in Z)Ka[jb]=Z[jb];Ka.stream=sa;return Ka}}function ec(){}function Wb(Z,sa,Ka){var jb=Z.clipExtent&&Z.clipExtent();Z.scale(150).translate([0,0]);null!=jb&&Z.clipExtent(null);La(Ka,Z.stream(pa));sa(pa.result());null!=jb&&Z.clipExtent(jb);return Z}function vc(Z,sa,Ka){return Wb(Z,
function(jb){var yb=sa[1][0]-sa[0][0],cc=sa[1][1]-sa[0][1],gc=Math.min(yb/(jb[1][0]-jb[0][0]),cc/(jb[1][1]-jb[0][1]));yb=+sa[0][0]+(yb-gc*(jb[1][0]+jb[0][0]))/2;jb=+sa[0][1]+(cc-gc*(jb[1][1]+jb[0][1]))/2;Z.scale(150*gc).translate([yb,jb])},Ka)}function Fc(Z,sa,Ka){return Wb(Z,function(jb){var yb=+sa,cc=yb/(jb[1][0]-jb[0][0]);yb=(yb-cc*(jb[1][0]+jb[0][0]))/2;jb=-cc*jb[0][1];Z.scale(150*cc).translate([yb,jb])},Ka)}function va(Z,sa,Ka){return Wb(Z,function(jb){var yb=+sa,cc=yb/(jb[1][1]-jb[0][1]),gc=
-cc*jb[0][0];jb=(yb-cc*(jb[1][1]+jb[0][1]))/2;Z.scale(150*cc).translate([gc,jb])},Ka)}function Za(Z){return Kb({point:function(sa,Ka){sa=Z(sa,Ka);this.stream.point(sa[0],sa[1])}})}function pb(Z,sa){function Ka(jb,yb,cc,gc,hc,qc,uc,$c,Kc,Lc,Tc,ad,kd,ce){var Sd=uc-jb,Bd=$c-yb,md=Sd*Sd+Bd*Bd;if(md>4*sa&&kd--){var id=gc+Lc,Td=hc+Tc,ye=qc+ad,Qe=ne(id*id+Td*Td+ye*ye),Le=Ra(ye/=Qe),re=1E-6>kc(kc(ye)-1)||1E-6>kc(cc-Kc)?(cc+Kc)/2:Bc(Td,id),ze=Z(re,Le);Le=ze[0];ze=ze[1];var sf=Le-jb,yf=ze-yb,Lf=Bd*sf-Sd*yf;
if(Lf*Lf/md>sa||.3<kc((Sd*sf+Bd*yf)/md-.5)||gc*Lc+hc*Tc+qc*ad<Gd)Ka(jb,yb,cc,gc,hc,qc,Le,ze,re,id/=Qe,Td/=Qe,ye,kd,ce),ce.point(Le,ze),Ka(Le,ze,re,id,Td,ye,uc,$c,Kc,Lc,Tc,ad,kd,ce)}}return function(jb){function yb(Le,re){Le=Z(Le,re);jb.point(Le[0],Le[1])}function cc(){Bd=NaN;Qe.point=gc;jb.lineStart()}function gc(Le,re){var ze=Ba([Le,re]);re=Z(Le,re);Ka(Bd,md,Sd,id,Td,ye,Bd=re[0],md=re[1],Sd=Le,id=ze[0],Td=ze[1],ye=ze[2],16,jb);jb.point(Bd,md)}function hc(){Qe.point=yb;jb.lineEnd()}function qc(){cc();
Qe.point=uc;Qe.lineEnd=$c}function uc(Le,re){gc(Kc=Le,re);Lc=Bd;Tc=md;ad=id;kd=Td;ce=ye;Qe.point=gc}function $c(){Ka(Bd,md,Sd,id,Td,ye,Lc,Tc,Kc,ad,kd,ce,16,jb);Qe.lineEnd=hc;hc()}var Kc,Lc,Tc,ad,kd,ce,Sd,Bd,md,id,Td,ye,Qe={point:yb,lineStart:cc,lineEnd:hc,polygonStart:function(){jb.polygonStart();Qe.lineStart=qc},polygonEnd:function(){jb.polygonEnd();Qe.lineStart=cc}};return Qe}}function Ub(Z){return Kb({point:function(sa,Ka){sa=Z(sa,Ka);return this.stream.point(sa[0],sa[1])}})}function wc(Z,sa,Ka,
jb,yb){function cc(gc,hc){gc*=jb;hc*=yb;return[sa+Z*gc,Ka-Z*hc]}cc.invert=function(gc,hc){return[(gc-sa)/Z*jb,(Ka-hc)/Z*yb]};return cc}function Cc(Z,sa,Ka,jb,yb,cc){function gc(ad,kd){ad*=jb;kd*=yb;return[qc*ad-uc*kd+sa,Ka-uc*ad-qc*kd]}if(!cc)return wc(Z,sa,Ka,jb,yb);var hc=Nc(cc);cc=od(cc);var qc=hc*Z,uc=cc*Z,$c=hc/Z,Kc=cc/Z,Lc=(cc*Ka-hc*sa)/Z,Tc=(cc*sa+hc*Ka)/Z;gc.invert=function(ad,kd){return[jb*($c*ad-Kc*kd+Lc),yb*(Tc-Kc*ad-$c*kd)]};return gc}function Jc(Z){return Cb(function(){return Z})()}function Cb(Z){function sa(Ed){return yf(Ed[0]*
Rb,Ed[1]*Rb)}function Ka(Ed){return(Ed=yf.invert(Ed[0],Ed[1]))&&[Ed[0]*Lb,Ed[1]*Lb]}function jb(){var Ed=Cc(gc,0,0,ce,Sd,kd).apply(null,cc(uc,$c));Ed=Cc(gc,hc-Ed[0],qc-Ed[1],ce,Sd,kd);ad=W(Kc,Lc,Tc);sf=fa(cc,Ed);yf=fa(ad,sf);Ed=sf;ze=+re?pb(Ed,re):Za(Ed);return yb()}function yb(){Lf=gg=null;return sa}var cc,gc=150,hc=480,qc=250,uc=0,$c=0,Kc=0,Lc=0,Tc=0,ad,kd=0,ce=1,Sd=1,Bd=null,md=Pe,id=null,Td,ye,Qe,Le=Te,re=.5,ze,sf,yf,Lf,gg;sa.stream=function(Ed){return Lf&&gg===Ed?Lf:Lf=Pc(Ub(ad)(md(ze(Le(gg=
Ed)))))};sa.preclip=function(Ed){return arguments.length?(md=Ed,Bd=void 0,yb()):md};sa.postclip=function(Ed){return arguments.length?(Le=Ed,id=Td=ye=Qe=null,yb()):Le};sa.clipAngle=function(Ed){return arguments.length?(md=+Ed?ja(Bd=Ed*Rb):(Bd=null,Pe),yb()):Bd*Lb};sa.clipExtent=function(Ed){return arguments.length?(Le=null==Ed?(id=Td=ye=Qe=null,Te):qb(id=+Ed[0][0],Td=+Ed[0][1],ye=+Ed[1][0],Qe=+Ed[1][1]),yb()):null==id?null:[[id,Td],[ye,Qe]]};sa.scale=function(Ed){return arguments.length?(gc=+Ed,jb()):
gc};sa.translate=function(Ed){return arguments.length?(hc=+Ed[0],qc=+Ed[1],jb()):[hc,qc]};sa.center=function(Ed){return arguments.length?(uc=Ed[0]%360*Rb,$c=Ed[1]%360*Rb,jb()):[uc*Lb,$c*Lb]};sa.rotate=function(Ed){return arguments.length?(Kc=Ed[0]%360*Rb,Lc=Ed[1]%360*Rb,Tc=2<Ed.length?Ed[2]%360*Rb:0,jb()):[Kc*Lb,Lc*Lb,Tc*Lb]};sa.angle=function(Ed){return arguments.length?(kd=Ed%360*Rb,jb()):kd*Lb};sa.reflectX=function(Ed){return arguments.length?(ce=Ed?-1:1,jb()):0>ce};sa.reflectY=function(Ed){return arguments.length?
(Sd=Ed?-1:1,jb()):0>Sd};sa.precision=function(Ed){if(arguments.length){var kf=sf;var Mg=re=Ed*Ed;kf=(ze=+Mg?pb(kf,Mg):Za(kf),yb())}else kf=ne(re);return kf};sa.fitExtent=function(Ed,kf){return vc(sa,Ed,kf)};sa.fitSize=function(Ed,kf){return vc(sa,[[0,0],Ed],kf)};sa.fitWidth=function(Ed,kf){return Fc(sa,Ed,kf)};sa.fitHeight=function(Ed,kf){return va(sa,Ed,kf)};return function(){cc=Z.apply(this,arguments);sa.invert=cc.invert&&Ka;return jb()}}function Vb(Z){var sa=0,Ka=qa/3,jb=Cb(Z);Z=jb(sa,Ka);Z.parallels=
function(yb){return arguments.length?jb(sa=yb[0]*Rb,Ka=yb[1]*Rb):[sa*Lb,Ka*Lb]};return Z}function nc(Z){function sa(jb,yb){return[jb*Ka,od(yb)/Ka]}var Ka=Nc(Z);sa.invert=function(jb,yb){return[jb/Ka,Ra(yb*Ka)]};return sa}function lc(Z,sa){function Ka(hc,qc){qc=ne(cc-2*yb*od(qc))/yb;return[qc*od(hc*=yb),gc-qc*Nc(hc)]}var jb=od(Z),yb=(jb+od(sa))/2;if(1E-6>kc(yb))return nc(Z);var cc=1+jb*(2*yb-jb),gc=ne(cc)/yb;Ka.invert=function(hc,qc){qc=gc-qc;var uc=Bc(hc,kc(qc))*de(qc);0>qc*yb&&(uc-=qa*de(hc)*de(qc));
return[uc/yb,Ra((cc-(hc*hc+qc*qc)*yb*yb)/(2*yb))]};return Ka}function rc(){return Vb(lc).scale(155.424).center([0,33.6442])}function Vc(){return rc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zd(Z){var sa=Z.length;return{point:function(Ka,jb){for(var yb=-1;++yb<sa;)Z[yb].point(Ka,jb)},sphere:function(){for(var Ka=-1;++Ka<sa;)Z[Ka].sphere()},lineStart:function(){for(var Ka=-1;++Ka<sa;)Z[Ka].lineStart()},lineEnd:function(){for(var Ka=-1;++Ka<
sa;)Z[Ka].lineEnd()},polygonStart:function(){for(var Ka=-1;++Ka<sa;)Z[Ka].polygonStart()},polygonEnd:function(){for(var Ka=-1;++Ka<sa;)Z[Ka].polygonEnd()}}}function pd(Z){return function(sa,Ka){var jb=Nc(sa),yb=Nc(Ka);jb=Z(jb*yb);return Infinity===jb?[2,0]:[jb*yb*od(sa),jb*od(Ka)]}}function ld(Z){return function(sa,Ka){var jb=ne(sa*sa+Ka*Ka),yb=Z(jb),cc=od(yb);yb=Nc(yb);return[Bc(sa*cc,jb*yb),Ra(jb&&Ka*cc/jb)]}}function qd(Z,sa){return[Z,Xb(ue((Fa+sa)/2))]}function Od(Z){function sa(){var Kc=qa*yb(),
Lc=Ka(l(Ka.rotate()).invert([0,0]));return gc(null==hc?[[Lc[0]-Kc,Lc[1]-Kc],[Lc[0]+Kc,Lc[1]+Kc]]:Z===qd?[[Math.max(Lc[0]-Kc,hc),qc],[Math.min(Lc[0]+Kc,uc),$c]]:[[hc,Math.max(Lc[1]-Kc,qc)],[uc,Math.min(Lc[1]+Kc,$c)]])}var Ka=Jc(Z),jb=Ka.center,yb=Ka.scale,cc=Ka.translate,gc=Ka.clipExtent,hc=null,qc,uc,$c;Ka.scale=function(Kc){return arguments.length?(yb(Kc),sa()):yb()};Ka.translate=function(Kc){return arguments.length?(cc(Kc),sa()):cc()};Ka.center=function(Kc){return arguments.length?(jb(Kc),sa()):
jb()};Ka.clipExtent=function(Kc){return arguments.length?(null==Kc?hc=qc=uc=$c=null:(hc=+Kc[0][0],qc=+Kc[0][1],uc=+Kc[1][0],$c=+Kc[1][1]),sa()):null==hc?null:[[hc,qc],[uc,$c]]};return sa()}function fe(Z,sa){function Ka(gc,hc){0<cc?hc<-Fa+1E-6&&(hc=-Fa+1E-6):hc>Fa-1E-6&&(hc=Fa-1E-6);hc=cc/oe(ue((Fa+hc)/2),yb);return[hc*od(yb*gc),cc-hc*Nc(yb*gc)]}var jb=Nc(Z),yb=Z===sa?od(Z):Xb(jb/Nc(sa))/Xb(ue((Fa+sa)/2)/ue((Fa+Z)/2)),cc=jb*oe(ue((Fa+Z)/2),yb)/yb;if(!yb)return qd;Ka.invert=function(gc,hc){hc=cc-hc;
var qc=de(yb)*ne(gc*gc+hc*hc),uc=Bc(gc,kc(hc))*de(hc);0>hc*yb&&(uc-=qa*de(gc)*de(hc));return[uc/yb,2*Zc(oe(cc/qc,1/yb))-Fa]};return Ka}function le(Z,sa){return[Z,sa]}function Kd(Z,sa){function Ka(gc,hc){hc=cc-hc;gc*=yb;return[hc*od(gc),cc-hc*Nc(gc)]}var jb=Nc(Z),yb=Z===sa?od(Z):(jb-Nc(sa))/(sa-Z),cc=jb/yb+Z;if(1E-6>kc(yb))return le;Ka.invert=function(gc,hc){hc=cc-hc;var qc=Bc(gc,kc(hc))*de(hc);0>hc*yb&&(qc-=qa*de(gc)*de(hc));return[qc/yb,cc-de(yb)*ne(gc*gc+hc*hc)]};return Ka}function Ie(Z,sa){sa=
Ra(te*od(sa));var Ka=sa*sa,jb=Ka*Ka*Ka;return[Z*Nc(sa)/(te*(1.340264+3*-.081106*Ka+jb*(7*8.93E-4+.034164*Ka))),sa*(1.340264+-.081106*Ka+jb*(8.93E-4+.003796*Ka))]}function he(Z,sa){var Ka=Nc(sa),jb=Nc(Z)*Ka;return[Ka*od(Z)/jb,od(sa)/jb]}function Be(Z,sa){var Ka=sa*sa,jb=Ka*Ka;return[Z*(.8707-.131979*Ka+jb*(-.013791+jb*(.003971*Ka-.001529*jb))),sa*(1.007226+Ka*(.015085+jb*(-.044475+.028874*Ka-.005916*jb)))]}function Dd(Z,sa){return[Nc(sa)*od(Z),od(sa)]}function be(Z,sa){var Ka=Nc(sa),jb=1+Nc(Z)*Ka;
return[Ka*od(Z)/jb,od(sa)/jb]}function V(Z,sa){return[Xb(ue((Fa+sa)/2)),-Z]}var qa=Math.PI,Fa=qa/2,rb=qa/4,gb=2*qa,Lb=180/qa,Rb=qa/180,kc=Math.abs,Zc=Math.atan,Bc=Math.atan2,Nc=Math.cos,Yb=Math.ceil,nd=Math.exp,cd=Math.hypot,Xb=Math.log,oe=Math.pow,od=Math.sin,de=Math.sign||function(Z){return 0<Z?1:0>Z?-1:0},ne=Math.sqrt,ue=Math.tan,qf={Feature:function(Z,sa){xb(Z.geometry,sa)},FeatureCollection:function(Z,sa){Z=Z.features;for(var Ka=-1,jb=Z.length;++Ka<jb;)xb(Z[Ka].geometry,sa)}},gf={Sphere:function(Z,
sa){sa.sphere()},Point:function(Z,sa){Z=Z.coordinates;sa.point(Z[0],Z[1],Z[2])},MultiPoint:function(Z,sa){for(var Ka=Z.coordinates,jb=-1,yb=Ka.length;++jb<yb;)Z=Ka[jb],sa.point(Z[0],Z[1],Z[2])},LineString:function(Z,sa){Gb(Z.coordinates,sa,0)},MultiLineString:function(Z,sa){Z=Z.coordinates;for(var Ka=-1,jb=Z.length;++Ka<jb;)Gb(Z[Ka],sa,0)},Polygon:function(Z,sa){ib(Z.coordinates,sa)},MultiPolygon:function(Z,sa){Z=Z.coordinates;for(var Ka=-1,jb=Z.length;++Ka<jb;)ib(Z[Ka],sa)},GeometryCollection:function(Z,
sa){Z=Z.geometries;for(var Ka=-1,jb=Z.length;++Ka<jb;)xb(Z[Ka],sa)}},Qd=new r.Adder,bc=new r.Adder,$d,fc,Wc,Ud,Je,Yd={point:bb,lineStart:bb,lineEnd:bb,polygonStart:function(){Qd=new r.Adder;Yd.lineStart=Ia;Yd.lineEnd=Sa},polygonEnd:function(){var Z=+Qd;bc.add(0>Z?gb+Z:Z);this.lineStart=this.lineEnd=this.point=bb},sphere:function(){bc.add(gb)}},je,Ke,Cd,rd,we,hd,Ce,Ee,ve,Fe,yd,F={point:Ta,lineStart:ha,lineEnd:ya,polygonStart:function(){F.point=ua;F.lineStart=Ma;F.lineEnd=Pa;ve=new r.Adder;Yd.polygonStart()},
polygonEnd:function(){Yd.polygonEnd();F.point=Ta;F.lineStart=ha;F.lineEnd=ya;0>Qd?(je=-(Cd=180),Ke=-(rd=90)):1E-6<ve?rd=90:-1E-6>ve&&(Ke=-90);yd[0]=je;yd[1]=Cd},sphere:function(){je=-(Cd=180);Ke=-(rd=90)}},X,Oa,Hb,Tb,Sb,Ob,Xc,Sc,ud,Id,Ld,Ge,ae,ge,me,ke,De={sphere:bb,point:I,lineStart:M,lineEnd:R,polygonStart:function(){De.lineStart=aa;De.lineEnd=da},polygonEnd:function(){De.lineStart=M;De.lineEnd=R}};ca.invert=ca;var Pe=ta(function(){return!0},function(Z){var sa=NaN,Ka=NaN,jb=NaN,yb;return{lineStart:function(){Z.lineStart();
yb=1},point:function(cc,gc){var hc=0<cc?qa:-qa,qc=kc(cc-sa);if(1E-6>kc(qc-qa))Z.point(sa,Ka=0<(Ka+gc)/2?Fa:-Fa),Z.point(jb,Ka),Z.lineEnd(),Z.lineStart(),Z.point(hc,Ka),Z.point(cc,Ka),yb=0;else if(jb!==hc&&qc>=qa){1E-6>kc(sa-jb)&&(sa-=1E-6*jb);1E-6>kc(cc-hc)&&(cc-=1E-6*hc);qc=sa;var uc=Ka,$c=cc,Kc,Lc,Tc=od(qc-$c);Ka=1E-6<kc(Tc)?Zc((od(uc)*(Lc=Nc(gc))*od($c)-od(gc)*(Kc=Nc(uc))*od(qc))/(Kc*Lc*Tc)):(uc+gc)/2;Z.point(jb,Ka);Z.lineEnd();Z.lineStart();Z.point(hc,Ka);yb=0}Z.point(sa=cc,Ka=gc);jb=hc},lineEnd:function(){Z.lineEnd();
sa=Ka=NaN},clean:function(){return 2-yb}}},function(Z,sa,Ka,jb){null==Z?(Ka*=Fa,jb.point(-qa,Ka),jb.point(0,Ka),jb.point(qa,Ka),jb.point(qa,0),jb.point(qa,-Ka),jb.point(0,-Ka),jb.point(-qa,-Ka),jb.point(-qa,0),jb.point(-qa,Ka)):1E-6<kc(Z[0]-sa[0])?(Z=Z[0]<sa[0]?qa:-qa,Ka=Ka*Z/2,jb.point(-Z,Ka),jb.point(0,Ka),jb.point(Z,Ka)):jb.point(sa[0],sa[1])},[-qa,-Fa]),hf,ef,Kf,wf,cf={sphere:bb,point:bb,lineStart:function(){cf.point=ob;cf.lineEnd=Ya},lineEnd:bb,polygonStart:bb,polygonEnd:bb},jf=[null,null],xf=
{type:"LineString",coordinates:jf},Oe={Feature:function(Z,sa){return eb(Z.geometry,sa)},FeatureCollection:function(Z,sa){Z=Z.features;for(var Ka=-1,jb=Z.length;++Ka<jb;)if(eb(Z[Ka].geometry,sa))return!0;return!1}},rf={Sphere:function(){return!0},Point:function(Z,sa){return 0===Eb(Z.coordinates,sa)},MultiPoint:function(Z,sa){Z=Z.coordinates;for(var Ka=-1,jb=Z.length;++Ka<jb;)if(0===Eb(Z[Ka],sa))return!0;return!1},LineString:function(Z,sa){return Mb(Z.coordinates,sa)},MultiLineString:function(Z,sa){Z=
Z.coordinates;for(var Ka=-1,jb=Z.length;++Ka<jb;)if(Mb(Z[Ka],sa))return!0;return!1},Polygon:function(Z,sa){return jc(Z.coordinates,sa)},MultiPolygon:function(Z,sa){Z=Z.coordinates;for(var Ka=-1,jb=Z.length;++Ka<jb;)if(jc(Z[Ka],sa))return!0;return!1},GeometryCollection:function(Z,sa){Z=Z.geometries;for(var Ka=-1,jb=Z.length;++Ka<jb;)if(eb(Z[Ka],sa))return!0;return!1}},Te=Z=>Z,$e=new r.Adder,Ff=new r.Adder,af,Wf,Gf,Vf,B={point:bb,lineStart:bb,lineEnd:bb,polygonStart:function(){B.lineStart=Gc;B.lineEnd=
Mc},polygonEnd:function(){B.lineStart=B.lineEnd=B.point=bb;$e.add(kc(Ff));Ff=new r.Adder},result:function(){var Z=$e/2;$e=new r.Adder;return Z}},D=Infinity,O=D,T=-D,ia=T,pa={point:function(Z,sa){Z<D&&(D=Z);Z>T&&(T=Z);sa<O&&(O=sa);sa>ia&&(ia=sa)},lineStart:bb,lineEnd:bb,polygonStart:bb,polygonEnd:bb,result:function(){var Z=[[D,O],[T,ia]];T=ia=-(O=D=Infinity);return Z}},Ha=0,db=0,Ua=0,lb=0,nb=0,Bb=0,$b=0,pc=0,Ic=0,t,y,S,ba,Xa={point:xd,lineStart:Rd,lineEnd:kb,polygonStart:function(){Xa.lineStart=oc;
Xa.lineEnd=sc},polygonEnd:function(){Xa.point=xd;Xa.lineStart=Rd;Xa.lineEnd=kb},result:function(){var Z=Ic?[$b/Ic,pc/Ic]:Bb?[lb/Bb,nb/Bb]:Ua?[Ha/Ua,db/Ua]:[NaN,NaN];Ha=db=Ua=lb=nb=Bb=$b=pc=Ic=0;return Z}};N.prototype={_radius:4.5,pointRadius:function(Z){return this._radius=Z,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Z,sa){switch(this._point){case 0:this._context.moveTo(Z,
sa);this._point=1;break;case 1:this._context.lineTo(Z,sa);break;default:this._context.moveTo(Z+this._radius,sa),this._context.arc(Z,sa,this._radius,0,gb)}},result:bb};var vb=new r.Adder,Ib,Qb,dc,Ec,Ac,sd={point:bb,lineStart:function(){sd.point=oa},lineEnd:function(){Ib&&$a(Qb,dc);sd.point=bb},polygonStart:function(){Ib=!0},polygonEnd:function(){Ib=null},result:function(){var Z=+vb;vb=new r.Adder;return Z}};wb.prototype={_radius:4.5,_circle:Fb(4.5),pointRadius:function(Z){(Z=+Z)!==this._radius&&(this._radius=
Z,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Z,sa){switch(this._point){case 0:this._string.push("M",Z,",",sa);this._point=1;break;case 1:this._string.push("L",Z,",",sa);break;default:null==this._circle&&(this._circle=Fb(this._radius)),this._string.push("M",Z,",",sa,this._circle)}},result:function(){if(this._string.length){var Z=
this._string.join("");this._string=[];return Z}return null}};ec.prototype={constructor:ec,point:function(Z,sa){this.stream.point(Z,sa)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Gd=Nc(30*Rb),Pc=Kb({point:function(Z,sa){this.stream.point(Z*Rb,sa*Rb)}}),Fd=pd(function(Z){return ne(2/(1+Z))});Fd.invert=ld(function(Z){return 2*
Ra(Z/2)});var Vd=pd(function(Z){return(Z=A(Z))&&Z/od(Z)});Vd.invert=ld(function(Z){return Z});qd.invert=function(Z,sa){return[Z,2*Zc(nd(sa))-Fa]};le.invert=le;var te=ne(3)/2;Ie.invert=function(Z,sa){for(var Ka=sa,jb=Ka*Ka,yb=jb*jb*jb,cc=0,gc;12>cc&&!(gc=Ka*(1.340264+-.081106*jb+yb*(8.93E-4+.003796*jb))-sa,jb=1.340264+3*-.081106*jb+yb*(7*8.93E-4+.034164*jb),Ka-=gc/=jb,jb=Ka*Ka,yb=jb*jb*jb,1E-12>kc(gc));++cc);return[te*Z*(1.340264+3*-.081106*jb+yb*(7*8.93E-4+.034164*jb))/Nc(Ka),Ra(od(Ka)/te)]};he.invert=
ld(Zc);Be.invert=function(Z,sa){var Ka=sa,jb=25;do{var yb=Ka*Ka;var cc=yb*yb;Ka-=cc=(Ka*(1.007226+yb*(.015085+cc*(-.044475+.028874*yb-.005916*cc)))-sa)/(1.007226+yb*(.045255+cc*(-.311325+.259866*yb-.005916*11*cc)))}while(1E-6<kc(cc)&&0<--jb);return[Z/(.8707+(yb=Ka*Ka)*(-.131979+yb*(-.013791+yb*yb*yb*(.003971-.001529*yb)))),Ka]};Dd.invert=ld(Ra);be.invert=ld(function(Z){return 2*Zc(Z)});V.invert=function(Z,sa){return[-sa,2*Zc(nd(Z))-Fa]};h.geoAlbers=Vc;h.geoAlbersUsa=function(){function Z(Lc){var Tc=
Lc[0];Lc=Lc[1];return $c=null,(cc.point(Tc,Lc),$c)||(hc.point(Tc,Lc),$c)||(uc.point(Tc,Lc),$c)}function sa(){Ka=jb=null;return Z}var Ka,jb,yb=Vc(),cc,gc=rc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hc,qc=rc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),uc,$c,Kc={point:function(Lc,Tc){$c=[Lc,Tc]}};Z.invert=function(Lc){var Tc=yb.scale(),ad=yb.translate(),kd=(Lc[0]-ad[0])/Tc;Tc=(Lc[1]-ad[1])/Tc;return(.12<=Tc&&.234>Tc&&-.425<=kd&&-.214>kd?gc:.166<=Tc&&.234>Tc&&-.214<=kd&&-.115>
kd?qc:yb).invert(Lc)};Z.stream=function(Lc){return Ka&&jb===Lc?Ka:Ka=zd([yb.stream(jb=Lc),gc.stream(Lc),qc.stream(Lc)])};Z.precision=function(Lc){if(!arguments.length)return yb.precision();yb.precision(Lc);gc.precision(Lc);qc.precision(Lc);return sa()};Z.scale=function(Lc){if(!arguments.length)return yb.scale();yb.scale(Lc);gc.scale(.35*Lc);qc.scale(Lc);return Z.translate(yb.translate())};Z.translate=function(Lc){if(!arguments.length)return yb.translate();var Tc=yb.scale(),ad=+Lc[0],kd=+Lc[1];cc=
yb.translate(Lc).clipExtent([[ad-.455*Tc,kd-.238*Tc],[ad+.455*Tc,kd+.238*Tc]]).stream(Kc);hc=gc.translate([ad-.307*Tc,kd+.201*Tc]).clipExtent([[ad-.425*Tc+1E-6,kd+.12*Tc+1E-6],[ad-.214*Tc-1E-6,kd+.234*Tc-1E-6]]).stream(Kc);uc=qc.translate([ad-.205*Tc,kd+.212*Tc]).clipExtent([[ad-.214*Tc+1E-6,kd+.166*Tc+1E-6],[ad-.115*Tc-1E-6,kd+.234*Tc-1E-6]]).stream(Kc);return sa()};Z.fitExtent=function(Lc,Tc){return vc(Z,Lc,Tc)};Z.fitSize=function(Lc,Tc){return vc(Z,[[0,0],Lc],Tc)};Z.fitWidth=function(Lc,Tc){return Fc(Z,
Lc,Tc)};Z.fitHeight=function(Lc,Tc){return va(Z,Lc,Tc)};return Z.scale(1070)};h.geoArea=function(Z){bc=new r.Adder;La(Z,Yd);return 2*bc};h.geoAzimuthalEqualArea=function(){return Jc(Fd).scale(124.75).clipAngle(179.999)};h.geoAzimuthalEqualAreaRaw=Fd;h.geoAzimuthalEquidistant=function(){return Jc(Vd).scale(79.4188).clipAngle(179.999)};h.geoAzimuthalEquidistantRaw=Vd;h.geoBounds=function(Z){var sa,Ka,jb;rd=Cd=-(je=Ke=Infinity);Fe=[];La(Z,F);if(sa=Fe.length){Fe.sort(ab);Z=1;var yb=Fe[0];for(Ka=[yb];Z<
sa;++Z){var cc=Fe[Z];Va(yb,cc[0])||Va(yb,cc[1])?(Aa(yb[0],cc[1])>Aa(yb[0],yb[1])&&(yb[1]=cc[1]),Aa(cc[0],yb[1])>Aa(yb[0],yb[1])&&(yb[0]=cc[0])):Ka.push(yb=cc)}var gc=-Infinity;sa=Ka.length-1;Z=0;for(yb=Ka[sa];Z<=sa;yb=cc,++Z)cc=Ka[Z],(jb=Aa(yb[1],cc[0]))>gc&&(gc=jb,je=cc[0],Cd=yb[1])}Fe=yd=null;return Infinity===je||Infinity===Ke?[[NaN,NaN],[NaN,NaN]]:[[je,Ke],[Cd,rd]]};h.geoCentroid=function(Z){X=Oa=Hb=Tb=Sb=Ob=Xc=Sc=0;ud=new r.Adder;Id=new r.Adder;Ld=new r.Adder;La(Z,De);Z=+ud;var sa=+Id,Ka=+Ld,
jb=cd(Z,sa,Ka);return 1E-12>jb&&(Z=Ob,sa=Xc,Ka=Sc,1E-6>Oa&&(Z=Hb,sa=Tb,Ka=Sb),jb=cd(Z,sa,Ka),1E-12>jb)?[NaN,NaN]:[Bc(sa,Z)*Lb,Ra(Ka/jb)*Lb]};h.geoCircle=function(){function Z(){var hc=sa.apply(this,arguments),qc=Ka.apply(this,arguments)*Rb,uc=jb.apply(this,arguments)*Rb;yb=[];cc=W(-hc[0]*Rb,-hc[1]*Rb,0).invert;m(gc,qc,uc,1);hc={type:"Polygon",coordinates:[yb]};yb=cc=null;return hc}var sa=J([0,0]),Ka=J(90),jb=J(6),yb,cc,gc={point:function(hc,qc){yb.push(hc=cc(hc,qc));hc[0]*=Lb;hc[1]*=Lb}};Z.center=
function(hc){return arguments.length?(sa="function"===typeof hc?hc:J([+hc[0],+hc[1]]),Z):sa};Z.radius=function(hc){return arguments.length?(Ka="function"===typeof hc?hc:J(+hc),Z):Ka};Z.precision=function(hc){return arguments.length?(jb="function"===typeof hc?hc:J(+hc),Z):jb};return Z};h.geoClipAntimeridian=Pe;h.geoClipCircle=ja;h.geoClipExtent=function(){var Z=0,sa=0,Ka=960,jb=500,yb,cc,gc;return gc={stream:function(hc){return yb&&cc===hc?yb:yb=qb(Z,sa,Ka,jb)(cc=hc)},extent:function(hc){return arguments.length?
(Z=+hc[0][0],sa=+hc[0][1],Ka=+hc[1][0],jb=+hc[1][1],yb=cc=null,gc):[[Z,sa],[Ka,jb]]}}};h.geoClipRectangle=qb;h.geoConicConformal=function(){return Vb(fe).scale(109.5).parallels([30,30])};h.geoConicConformalRaw=fe;h.geoConicEqualArea=rc;h.geoConicEqualAreaRaw=lc;h.geoConicEquidistant=function(){return Vb(Kd).scale(131.154).center([0,13.9389])};h.geoConicEquidistantRaw=Kd;h.geoContains=function(Z,sa){return(Z&&Oe.hasOwnProperty(Z.type)?Oe[Z.type]:eb)(Z,sa)};h.geoDistance=Eb;h.geoEqualEarth=function(){return Jc(Ie).scale(177.158)};
h.geoEqualEarthRaw=Ie;h.geoEquirectangular=function(){return Jc(le).scale(152.63)};h.geoEquirectangularRaw=le;h.geoGnomonic=function(){return Jc(he).scale(144.049).clipAngle(60)};h.geoGnomonicRaw=he;h.geoGraticule=Ad;h.geoGraticule10=function(){return Ad()()};h.geoIdentity=function(){function Z(){ad=Ka*cc;kd=Ka*gc;Bd=md=null;return sa}function sa(id){var Td=id[0]*ad;id=id[1]*kd;if(hc){var ye=id*qc-Td*uc;Td=Td*qc+id*uc;id=ye}return[Td+jb,id+yb]}var Ka=1,jb=0,yb=0,cc=1,gc=1,hc=0,qc,uc,$c=null,Kc,Lc,
Tc,ad=1,kd=1,ce=Kb({point:function(id,Td){id=sa([id,Td]);this.stream.point(id[0],id[1])}}),Sd=Te,Bd,md;sa.invert=function(id){var Td=id[0]-jb;id=id[1]-yb;if(hc){var ye=id*qc+Td*uc;Td=Td*qc-id*uc;id=ye}return[Td/ad,id/kd]};sa.stream=function(id){return Bd&&md===id?Bd:Bd=ce(Sd(md=id))};sa.postclip=function(id){return arguments.length?(Sd=id,$c=Kc=Lc=Tc=null,Z()):Sd};sa.clipExtent=function(id){return arguments.length?(Sd=null==id?($c=Kc=Lc=Tc=null,Te):qb($c=+id[0][0],Kc=+id[0][1],Lc=+id[1][0],Tc=+id[1][1]),
Z()):null==$c?null:[[$c,Kc],[Lc,Tc]]};sa.scale=function(id){return arguments.length?(Ka=+id,Z()):Ka};sa.translate=function(id){return arguments.length?(jb=+id[0],yb=+id[1],Z()):[jb,yb]};sa.angle=function(id){return arguments.length?(hc=id%360*Rb,uc=od(hc),qc=Nc(hc),Z()):hc*Lb};sa.reflectX=function(id){return arguments.length?(cc=id?-1:1,Z()):0>cc};sa.reflectY=function(id){return arguments.length?(gc=id?-1:1,Z()):0>gc};sa.fitExtent=function(id,Td){return vc(sa,id,Td)};sa.fitSize=function(id,Td){return vc(sa,
[[0,0],id],Td)};sa.fitWidth=function(id,Td){return Fc(sa,id,Td)};sa.fitHeight=function(id,Td){return va(sa,id,Td)};return sa};h.geoInterpolate=function(Z,sa){var Ka=Z[0]*Rb,jb=Z[1]*Rb;Z=sa[0]*Rb;sa=sa[1]*Rb;var yb=Nc(jb),cc=od(jb),gc=Nc(sa),hc=od(sa),qc=yb*Nc(Ka),uc=yb*od(Ka),$c=gc*Nc(Z),Kc=gc*od(Z),Lc=2*Ra(ne(sb(sa-jb)+yb*gc*sb(Z-Ka))),Tc=od(Lc);Z=Lc?function(ad){var kd=od(ad*=Lc)/Tc,ce=od(Lc-ad)/Tc;ad=ce*qc+kd*$c;var Sd=ce*uc+kd*Kc;kd=ce*cc+kd*hc;return[Bc(Sd,ad)*Lb,Bc(kd,ne(ad*ad+Sd*Sd))*Lb]}:
function(){return[Ka*Lb,jb*Lb]};Z.distance=Lc;return Z};h.geoLength=Ab;h.geoMercator=function(){return Od(qd).scale(961/gb)};h.geoMercatorRaw=qd;h.geoNaturalEarth1=function(){return Jc(Be).scale(175.295)};h.geoNaturalEarth1Raw=Be;h.geoOrthographic=function(){return Jc(Dd).scale(249.5).clipAngle(90.000001)};h.geoOrthographicRaw=Dd;h.geoPath=function(Z,sa){function Ka(gc){gc&&("function"===typeof jb&&cc.pointRadius(+jb.apply(this,arguments)),La(gc,yb(cc)));return cc.result()}var jb=4.5,yb,cc;Ka.area=
function(gc){La(gc,yb(B));return B.result()};Ka.measure=function(gc){La(gc,yb(sd));return sd.result()};Ka.bounds=function(gc){La(gc,yb(pa));return pa.result()};Ka.centroid=function(gc){La(gc,yb(Xa));return Xa.result()};Ka.projection=function(gc){return arguments.length?(yb=null==gc?(Z=null,Te):(Z=gc).stream,Ka):Z};Ka.context=function(gc){if(!arguments.length)return sa;cc=null==gc?(sa=null,new wb):new N(sa=gc);"function"!==typeof jb&&cc.pointRadius(jb);return Ka};Ka.pointRadius=function(gc){if(!arguments.length)return jb;
jb="function"===typeof gc?gc:(cc.pointRadius(+gc),+gc);return Ka};return Ka.projection(Z).context(sa)};h.geoProjection=Jc;h.geoProjectionMutator=Cb;h.geoRotation=l;h.geoStereographic=function(){return Jc(be).scale(250).clipAngle(142)};h.geoStereographicRaw=be;h.geoStream=La;h.geoTransform=function(Z){return{stream:Kb(Z)}};h.geoTransverseMercator=function(){var Z=Od(V),sa=Z.center,Ka=Z.rotate;Z.center=function(jb){return arguments.length?sa([-jb[1],jb[0]]):(jb=sa(),[jb[1],-jb[0]])};Z.rotate=function(jb){return arguments.length?
Ka([jb[0],jb[1],2<jb.length?jb[2]+90:90]):(jb=Ka(),[jb[0],jb[1],jb[2]-90])};return Ka([0,0,90]).scale(159.155)};h.geoTransverseMercatorRaw=V;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[29]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(28),zb(3)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],r):r(h.d3=h.d3||{},h.d3,h.d3)})(this,function(h,r,A){function Ra(B){return 1<B?Wc:-1>B?-Wc:Math.asin(B)}function sb(B){return 1<B?0:-1>B?fc:Math.acos(B)}function bb(B){return 0<B?Math.sqrt(B):0}function xb(B){return(oe(B)-oe(-B))/2}function Gb(B){return(oe(B)+oe(-B))/2}function ib(B){function D(ia,pa){var Ha=
Xb(ia),db=Xb(pa);pa=bc(pa);Ha*=db;Ha=-((1-Ha?de((1+Ha)/2)/(1-Ha):-.5)+T/(1+Ha));return[Ha*db*bc(ia),Ha*pa]}var O=$d(B/2),T=2*de(Xb(B/2))/(O*O);D.invert=function(ia,pa){var Ha=bb(ia*ia+pa*pa),db=-B/2,Ua=50;if(!Ha)return[0,0];do{var lb=db/2;var nb=Xb(lb);lb=bc(lb);var Bb=lb/nb,$b=-de(Yb(nb));db-=nb=(2/Bb*$b-T*Bb-Ha)/(-$b/(lb*lb)+1-T/(2*nb*nb))*(0>nb?.7:1)}while(1E-6<Yb(nb)&&0<--Ua);Ua=bc(db);return[cd(ia*Ua,Ha*Xb(db)),Ra(pa*Ua/Ha)]};return D}function La(B,D){var O=Xb(D);var T=(T=sb(O*Xb(B/=2)))?T/Math.sin(T):
1;return[2*O*bc(B)*T,bc(D)*T]}function Ia(B){function D(db,Ua){var lb=Xb(Ua),nb=Xb(db/=2);return[(1+lb)*bc(db),(ia*Ua>-cd(nb,pa)-.001?0:10*-ia)+Ha+bc(Ua)*T-(1+lb)*O*nb]}var O=bc(B),T=Xb(B),ia=0<=B?1:-1,pa=$d(ia*B),Ha=(1+O-T)/2;D.invert=function(db,Ua){var lb=0,nb=0,Bb=50;do{var $b=Xb(lb),pc=bc(lb),Ic=Xb(nb),t=bc(nb),y=1+Ic,S=y*pc-db,ba=Ha+t*T-y*O*$b-Ua,Xa=y*$b/2,vb=-pc*t;pc=O*y*pc/2;Ic=T*Ic+O*$b*t;$b=vb*pc-Ic*Xa;vb=(ba*vb-S*Ic)/$b/2;S=(S*pc-ba*Xa)/$b;2<Yb(S)&&(S/=2);lb-=vb;nb-=S}while((1E-6<Yb(vb)||
1E-6<Yb(S))&&0<--Bb);return ia*nb>-cd(Xb(lb),pa)-.001?[2*lb,nb]:null};return D}function Sa(B,D){D=$d(D/2);var O=bb(1-D*D),T=1+O*Xb(B/=2);B=bc(B)*O/T;D/=T;T=B*B;O=D*D;return[4/3*B*(3+T-3*O),4/3*D*(3+3*T-O)]}function xa(B,D){var O=Yb(D);return O<Ud?[B,de($d(Ud+D/2))]:[B*Xb(O)*(2*Yd-1/bc(O)),Qd(D)*(2*Yd*(O-Ud)-de($d(O/2)))]}function ma(B){function D(T,ia){ia=r.geoAzimuthalEquidistantRaw(T,ia);if(Yb(T)>Wc){T=cd(ia[1],ia[0]);var pa=bb(ia[0]*ia[0]+ia[1]*ia[1]),Ha=O*gf((T-Wc)/O)+Wc,db=cd(bc(T-=Ha),2-Xb(T));
T=Ha+Ra(fc/pa*bc(db))-db;ia[0]=pa*Xb(T);ia[1]=pa*bc(T)}return ia}var O=2*fc/B;D.invert=function(T,ia){var pa=bb(T*T+ia*ia);if(pa>Wc){var Ha=cd(ia,T);T=O*gf((Ha-Wc)/O)+Wc;ia=Ha>T?-1:1;Ha=pa*Xb(T-Ha);Ha=1/$d(ia*sb((Ha-fc)/bb(fc*(fc-2*Ha)+pa*pa)));Ha=T+2*nd((Ha+ia*bb(Ha*Ha-3))/3);T=pa*Xb(Ha);ia=pa*bc(Ha)}return r.geoAzimuthalEquidistantRaw.invert(T,ia)};return D}function na(B,D){function O(T,ia){T=r.geoAzimuthalEqualAreaRaw(T/D,ia);T[0]*=B;return T}2>arguments.length&&(D=B);if(1===D)return r.geoAzimuthalEqualAreaRaw;
if(Infinity===D)return Ba;O.invert=function(T,ia){T=r.geoAzimuthalEqualAreaRaw.invert(T/B,ia);T[0]*=D;return T};return O}function Ba(B,D){return[B*Xb(D)/Xb(D/=2),2*bc(D)]}function Ga(B,D,O){var T=100;O=void 0===O?0:+O;D=+D;do{var ia=B(O);var pa=B(O+1E-6);ia===pa&&(pa=ia+1E-6);O-=ia=-1E-6*(ia-D)/(ia-pa)}while(0<T--&&1E-6<Yb(ia));return 0>T?NaN:O}function la(B,D,O){void 0===D&&(D=40);void 0===O&&(O=1E-12);return function(T,ia,pa,Ha){pa=void 0===pa?0:+pa;Ha=void 0===Ha?0:+Ha;for(var db=0;db<D;db++){var Ua=
B(pa,Ha),lb=Ua[0]-T,nb=Ua[1]-ia;if(Yb(lb)<O&&Yb(nb)<O)break;var Bb=lb*lb+nb*nb;if(Bb>$b)pa-=Ic/=2,Ha-=y/=2;else{var $b=Bb;Bb=(0<pa?-1:1)*O;var pc=(0<Ha?-1:1)*O;var Ic=B(pa+Bb,Ha);var t=B(pa,Ha+pc);var y=(Ic[0]-Ua[0])/Bb;Bb=(Ic[1]-Ua[1])/Bb;Ic=(t[0]-Ua[0])/pc;Ua=(t[1]-Ua[1])/pc;pc=Ua*y-Bb*Ic;pc=(.5>Yb(pc)?.5:1)/pc;Ic=(nb*Ic-lb*Ua)*pc;y=(lb*Bb-nb*y)*pc;pa+=Ic;Ha+=y;if(Yb(Ic)<O&&Yb(y)<O)break}}return[pa,Ha]}}function ra(){function B(O,T){if(-1.4>O+T){var ia=(O-T+1.6)*(O+T+1.4)/8;O+=ia;T-=.8*ia*bc(T+
fc/2)}ia=D(O,T);O=(1-Xb(O*T))/12;0>ia[1]&&(ia[0]*=1+O);0<ia[1]&&(ia[1]*=1+O/1.5*ia[0]*ia[0]);return ia}var D=na(1.68,2);B.invert=la(B);return B}function Qa(B,D){B*=bc(D);var O=30,T;do D-=T=(D+bc(D)-B)/(1+Xb(D));while(1E-6<Yb(T)&&0<--O);return D/2}function za(B,D,O){function T(ia,pa){return[B*ia*Xb(pa=Qa(O,pa)),D*bc(pa)]}T.invert=function(ia,pa){return pa=Ra(pa/D),[ia/(B*Xb(pa)),Ra((2*pa+bc(2*pa))/O)]};return T}function Ta(B,D){var O=Qa(fc,D);return[2.00276*B/(1/Xb(D)+1.11072/Xb(O)),(D+Yd*bc(O))/2.00276]}
function L(B){var D=0,O=r.geoProjectionMutator(B);B=O(D);B.parallel=function(T){return arguments.length?O(D=T*rd):D*Cd};return B}function ha(B,D){return[B*Xb(D),D]}function ya(B){function D(T,ia){var pa=O+B-ia;T=pa?T*Xb(ia)/pa:pa;return[pa*bc(T),O-pa*Xb(T)]}if(!B)return ha;var O=1/$d(B);D.invert=function(T,ia){var pa=bb(T*T+(ia=O-ia)*ia),Ha=O+B-pa;return[pa/Xb(Ha)*cd(T,ia),Ha]};return D}function ua(B){function D(O,T){O=(T=Wc-T)?O*B*bc(T)/T:T;return[T*bc(O)/B,Wc-T*Xb(O)]}D.invert=function(O,T){O*=
B;var ia=Wc-T;T=bb(O*O+ia*ia);O=cd(O,ia);return[(T?T/bc(T):1)*O/B,Wc-T]};return D}function Ma(B,D,O,T,ia,pa){var Ha=Xb(pa);if(1<Yb(B)||1<Yb(pa))B=sb(O*ia+D*T*Ha);else{B=bc(B/2);var db=bc(pa/2);B=2*Ra(bb(B*B+D*T*db*db))}return 1E-6<Yb(B)?[B,cd(T*bc(pa),D*ia-O*T*Ha)]:[0,0]}function Pa(B,D,O){return sb((B*B+D*D-O*O)/(2*B*D))}function Aa(B,D,O){var T=[[B[0],B[1],bc(B[1]),Xb(B[1])],[D[0],D[1],bc(D[1]),Xb(D[1])],[O[0],O[1],bc(O[1]),Xb(O[1])]];B=T[2];for(O=0;3>O;++O,B=D)D=T[O],B.v=Ma(D[1]-B[1],B[3],B[2],
D[3],D[2],D[0]-B[0]),B.point=[0,0];B=Pa(T[0].v[0],T[2].v[0],T[1].v[0]);var ia=Pa(T[0].v[0],T[1].v[0],T[2].v[0]),pa=fc-B;T[2].point[1]=0;T[0].point[0]=-(T[1].point[0]=T[0].v[0]/2);var Ha=[T[2].point[0]=T[0].point[0]+T[2].v[0]*Xb(B),2*(T[0].point[1]=T[1].point[1]=T[2].v[0]*bc(B))];return function(db,Ua){var lb=bc(Ua),nb=Xb(Ua),Bb=Array(3),$b;for($b=0;3>$b;++$b){var pc=T[$b];Bb[$b]=Ma(Ua-pc[1],pc[3],pc[2],nb,lb,db-pc[0]);if(!Bb[$b][0])return pc.point;var Ic=Bb[$b];pc=Bb[$b][1]-pc.v[1];pc-=2*fc*od((pc+
fc)/(2*fc));Ic[1]=pc}db=Ha.slice();for($b=0;3>$b;++$b)Ua=Pa(T[$b].v[0],Bb[$b][0],Bb[2==$b?0:$b+1][0]),0>Bb[$b][1]&&(Ua=-Ua),$b?1==$b?(Ua=ia-Ua,db[0]-=Bb[$b][0]*Xb(Ua),db[1]-=Bb[$b][0]*bc(Ua)):(Ua=pa-Ua,db[0]+=Bb[$b][0]*Xb(Ua),db[1]+=Bb[$b][0]*bc(Ua)):(db[0]+=Bb[$b][0]*Xb(Ua),db[1]-=Bb[$b][0]*bc(Ua));db[0]/=3;db[1]/=3;return db}}function ab(B){return B[0]*=rd,B[1]*=rd,B}function Va(B,D,O){var T=r.geoCentroid({type:"MultiPoint",coordinates:[B,D,O]});T=[-T[0],-T[1]];var ia=r.geoRotation(T);B=Aa(ab(ia(B)),
ab(ia(D)),ab(ia(O)));B.invert=la(B);B=r.geoProjection(B).rotate(T);var pa=B.center;delete B.rotate;B.center=function(Ha){return arguments.length?pa(ia(Ha)):ia.invert(pa())};return B.clipAngle(90)}function I(B,D){D=bb(1-bc(D));return[2/je*B*D,je*(1-D)]}function x(B){function D(T,ia){return[T,(T?T/bc(T):1)*(bc(ia)*Xb(T)-O*Xb(ia))]}var O=$d(B);D.invert=O?function(T,ia){T&&(ia*=bc(T)/T);var pa=Xb(T);return[T,2*cd(bb(pa*pa+O*O-ia*ia)-pa,O-ia)]}:function(T,ia){return[T,Ra(T?ia*$d(T)/T:ia)]};return D}function M(B,
D){return[ve*B*(2*Xb(2*D/3)-1)/je,ve*je*bc(D/3)]}function K(B){function D(T,ia){return[T*O,bc(ia)/O]}var O=Xb(B);D.invert=function(T,ia){return[T/O,Ra(ia*O)]};return D}function C(B){function D(T,ia){return[T*O,(1+O)*$d(ia/2)]}var O=Xb(B);D.invert=function(T,ia){return[T/O,2*nd(ia/(1+O))]};return D}function R(B,D){var O=bb(8/(3*fc));return[O*B*(1-Yb(D)/fc),O*D]}function aa(B,D){var O=bb(4-3*bc(Yb(D)));return[2/bb(6*fc)*B*O,Qd(D)*bb(2*fc/3)*(2-O)]}function da(B,D){var O=bb(fc*(4+fc));return[2/O*B*(1+
bb(1-4*D*D/(fc*fc))),4/O*D]}function Da(B,D){var O=(2+Wc)*bc(D);D/=2;for(var T=0,ia=Infinity;10>T&&1E-6<Yb(ia);T++)ia=Xb(D),D-=ia=(D+bc(D)*(ia+2)-O)/(2*ia*(1+ia));return[2/bb(fc*(4+fc))*B*(1+Xb(D)),2*bb(fc/(4+fc))*bc(D)]}function Ja(B,D){return[B*(1+Xb(D))/bb(2+fc),2*D/bb(2+fc)]}function J(B,D){for(var O=(1+Wc)*bc(D),T=0,ia=Infinity;10>T&&1E-6<Yb(ia);T++)D-=ia=(D+bc(D)-O)/(1+Xb(D));O=bb(2+fc);return[B*(1+Xb(D))/O,2*D/O]}function fa(B,D){var O=bc(B/=2);B=Xb(B);var T=bb(Xb(D)),ia=Xb(D/=2);D=bc(D)/(ia+
Yd*B*T);var pa=bb(2/(1+D*D));O=bb((Yd*ia+(B+O)*T)/(Yd*ia+(B-O)*T));return[Fe*(pa*(O-1/O)-2*de(O)),Fe*(pa*D*(O+1/O)-2*nd(D))]}function ca(B,D){D=$d(D/2);return[B*yd*bb(1-D*D),(1+yd)*D]}function W(B,D){var O=D/2,T=Xb(O);return[2*B/je*Xb(D)*T*T,je*$d(O)]}function d(B){function D(Ua,lb){var nb=Xb(lb),Bb=bc(lb);return[nb/(ia+B*nb)*Ua,ia*lb+B*Bb]}function O(Ua,lb){Ua=D(Ua,lb);return[Ua[0]*db,Ua[1]/db]}function T(Ua){return O(0,Ua)[1]}var ia=1-B,pa=D(fc,0)[0]-D(-fc,0)[0],Ha=D(0,Wc)[1]-D(0,-Wc)[1],db=bb(2*
Ha/pa);O.invert=function(Ua,lb){lb=Ga(T,lb);return[Ua/db*(B+ia/Xb(lb)),lb]};return O}function c(B){return[2*B[0],2*nd(bc(B[1]*rd))*Cd]}function f(B,D){function O(pa,Ha){pa=r.geoAzimuthalEquidistantRaw(pa,Ha);Ha=pa[0];var db=pa[1],Ua=Ha*Ha+db*db;if(Ua>ia){var lb=bb(Ua);Ha=cd(db,Ha);Ua=T*gf(Ha/T);db=Ha-Ua;var nb=B*Xb(db),Bb=(B*bc(db)-db*bc(nb))/(Wc-nb),$b=l(db,Bb),pc=(fc-B)/m($b,nb,fc);Ha=lb;var Ic=50,t;do Ha-=t=(B+m($b,nb,Ha)*pc-lb)/($b(Ha)*pc);while(1E-6<Yb(t)&&0<--Ic);db*=bc(Ha);Ha<Wc&&(db-=Bb*(Ha-
Wc));lb=bc(Ua);Ua=Xb(Ua);pa[0]=Ha*Ua-db*lb;pa[1]=Ha*lb+db*Ua}return pa}var T=2*fc/D,ia=B*B;O.invert=function(pa,Ha){var db=pa*pa+Ha*Ha;if(db>ia){var Ua=bb(db);Ha=cd(Ha,pa);db=T*gf(Ha/T);Ha-=db;pa=Ua*Xb(Ha);Ha=Ua*bc(Ha);Ua=pa-Wc;for(var lb=bc(pa),nb=Ha/lb,Bb=pa<Wc?Infinity:0,$b=10;;){var pc=B*bc(nb),Ic=B*Xb(nb),t=bc(Ic),y=Wc-Ic,S=(pc-nb*t)/y,ba=l(nb,S);if(1E-12>Yb(Bb)||!--$b)break;nb-=Bb=(nb*lb-S*Ua-Ha)/(lb-2*Ua*(y*(Ic+nb*pc*Xb(Ic)-t)-pc*(pc-nb*t))/(y*y))}Ua=B+m(ba,Ic,pa)*(fc-B)/m(ba,Ic,fc);Ha=db+
nb;pa=Ua*Xb(Ha);Ha=Ua*bc(Ha)}return r.geoAzimuthalEquidistantRaw.invert(pa,Ha)};return O}function l(B,D){return function(O){var T=B*Xb(O);O<Wc&&(T-=D);return bb(1+T*T)}}function m(B,D,O){var T=(O-D)/50;O=B(D)+B(O);for(var ia=1;50>ia;++ia)O+=2*B(D+=T);return.5*O*T}function q(B,D,O,T,ia,pa,Ha,db){function Ua(lb,nb){if(!nb)return[B*lb/fc,0];var Bb=nb*nb,$b=B+Bb*(D+Bb*(O+Bb*T)),pc=nb*(ia-1+Bb*(pa-db+Bb*Ha));pc=($b*$b+pc*pc)/(2*pc);lb=lb*Ra($b/pc)/fc;return[pc*bc(lb),nb*(1+Bb*db)+pc*(1-Xb(lb))]}8>arguments.length&&
(db=0);Ua.invert=function(lb,nb){var Bb=fc*lb/B,$b=nb,pc=50;do{var Ic=$b*$b,t=B+Ic*(D+Ic*(O+Ic*T)),y=$b*(ia-1+Ic*(pa-db+Ic*Ha)),S=t*t+y*y,ba=2*y;var Xa=S/ba;var vb=Xa*Xa;var Ib=Ra(t/Xa)/fc;var Qb=Bb*Ib,dc=t*t,Ec=(2*D+Ic*(4*O+6*Ic*T))*$b,Ac=ia+Ic*(3*pa+5*Ic*Ha);y=(2*(t*Ec+y*(Ac-1))*ba-2*S*(Ac-1))/(ba*ba);S=Xb(Qb);Ac=bc(Qb);ba=Xa*S;Qb=Xa*Ac;vb=Bb/fc*(1/bb(1-dc/vb))*(Ec*Xa-t*y)/vb;t=Qb-lb;Ic=$b*(1+Ic*db)+Xa-ba-nb;Xa=y*Ac+ba*vb;dc=ba*Ib;y=1+y-(y*S-Qb*vb);Ib*=Qb;S=Xa*Ib-y*dc;if(!S)break;Bb-=Xa=(Ic*Xa-
t*y)/S;$b-=Ib=(t*Ib-Ic*dc)/S}while((1E-6<Yb(Xa)||1E-6<Yb(Ib))&&0<--pc);return[Bb,$b]};return Ua}function w(B,D){var O=B*B,T=D*D;return[B*(1-.162388*T)*(.87-9.52426E-4*O*O),D*(1+T/12)]}function G(B){function D(T,ia){var pa=0<T?-.5:.5;T=B(T+pa*fc,ia);T[0]-=pa*O;return T}var O=B(Wc,0)[0]-B(-Wc,0)[0];B.invert&&(D.invert=function(T,ia){var pa=0<T?-.5:.5;T=B.invert(T+pa*O,ia);pa=T[0]-pa*fc;pa<-fc?pa+=2*fc:pa>fc&&(pa-=2*fc);T[0]=pa;return T});return D}function U(B,D){var O=Qd(B),T=Qd(D),ia=Xb(D),pa=Xb(B)*
ia;B=bc(B)*ia;D=bc(T*D);B=Yb(cd(B,D));D=Ra(pa);1E-6<Yb(B-Wc)&&(B%=Wc);pa=wa(B>fc/4?Wc-B:B,D);B>fc/4&&(D=pa[0],pa[0]=-pa[1],pa[1]=-D);return pa[0]*=O,pa[1]*=-T,pa}function wa(B,D){if(D===Wc)return[0,0];var O=bc(D),T=O*O,ia=T*T,pa=1+ia,Ha=1+3*ia,db=1-ia,Ua=Ra(1/bb(pa)),lb=db+T*pa*Ua,nb=(1-O)/lb,Bb=bb(nb),$b=nb*pa,pc=bb($b),Ic=Bb*db;if(0===B)return[0,-(Ic+T*pc)];var t=Xb(D),y=1/t,S=2*O*t;Ua=(-lb*t-(1-O)*(-3*T+Ua*Ha)*S)/(lb*lb);O=-y*S;pa=-y*(T*pa*Ua+nb*Ha*S);db=-2*y*(.5*Ua/Bb*db-2*T*Bb*S);Bb=4*B/fc;if(B>
.222*fc||D<fc/4&&B>.175*fc){D=(Ic+T*bb($b*(1+ia)-Ic*Ic))/(1+ia);if(B>fc/4)return[D,D];ia=D;y=.5*D;D=.5*(y+ia);B=50;do{S=bb($b-D*D);S=D*(db+O*S)+pa*Ra(D/pc)-Bb;if(!S)break;0>S?y=D:ia=D;D=.5*(y+ia)}while(1E-6<Yb(ia-y)&&0<--B)}else{D=1E-6;B=25;do S=D*D,ia=bb($b-S),Ha=db+O*ia,y=D*Ha+pa*Ra(D/pc)-Bb,S=Ha+(pa-O*S)/ia,D-=ia=ia?y/S:0;while(1E-6<Yb(ia)&&0<--B)}return[D,-Ic-T*bb($b-D*D)]}function cb(B,D){if(1E-6>D){var O=bc(B);var T=Xb(B);var ia=D*(B-O*T)/4;return[O-ia*T,T+ia*O,1-D*O*O/2,B-ia]}if(.999999<=D){ia=
(1-D)/4;T=Gb(B);O=oe(2*B);O=(O-1)/(O+1);D=1/T;var pa=T*xb(B);return[O+ia*(pa-B)/(T*T),D-ia*O*D*(pa-B),D+ia*O*D*(pa+B),2*nd(oe(B))-Wc+ia*(pa-B)/T]}var Ha=[1,0,0,0,0,0,0,0,0],db=[bb(D),0,0,0,0,0,0,0,0],Ua=0;T=bb(1-D);for(pa=1;1E-6<Yb(db[Ua]/Ha[Ua])&&8>Ua;)ia=Ha[Ua++],db[Ua]=(ia-T)/2,Ha[Ua]=(ia+T)/2,T=bb(ia*T),pa*=2;D=pa*Ha[Ua]*B;do O=db[Ua]*bc(T=D)/Ha[Ua],D=(Ra(O)+D)/2;while(--Ua);return[bc(D),O=Xb(D),O/Xb(D-T),D]}function hb(B,D){if(!D)return B;if(1===D)return de($d(B/2+Ud));var O=1,T=bb(1-D),ia=bb(D);
for(D=0;1E-6<Yb(ia);D++)B%fc?(ia=nd(T*$d(B)/O),0>ia&&(ia+=fc),B+=ia+~~(B/fc)*fc):B+=B,ia=(O+T)/2,T=bb(O*T),ia=((O=ia)-T)/2;return B/(qf(2,D)*O)}function Y(B,D){var O=(Yd-1)/(Yd+1),T=bb(1-O*O),ia=hb(Wc,T*T),pa=de($d(fc/4+Yb(D)/2));pa=oe(-1*pa)/bb(O);O=pa*Xb(-1*B);var Ha=pa*bc(-1*B);B=O*O;pa=Ha+1;Ha=1-B-Ha*Ha;B=[.5*((0<=O?Wc:-Wc)-cd(Ha,2*O)),-.25*de(Ha*Ha+4*B)+.5*de(pa*pa+B)];O=B[0];B=B[1];T*=T;pa=Yb(O);Ha=Yb(B);Ha=xb(Ha);if(pa){var db=1/bc(pa);pa=1/($d(pa)*$d(pa));Ha=-(pa+T*Ha*Ha*db*db-1+T);Ha=(-Ha+
bb(Ha*Ha-4*(T-1)*pa))/2;T=[hb(nd(1/bb(Ha)),T)*Qd(O),hb(nd(bb((Ha/pa-1)/T)),1-T)*Qd(B)]}else T=[0,hb(nd(Ha),1-T)*Qd(B)];return[-T[1],(0<=D?1:-1)*(.5*ia-T[0])]}function ta(B){function D(pa,Ha){var db=ia(pa,Ha);pa=db[0];Ha=db[1];db=bc(Ha);Ha=Xb(Ha);var Ua=Xb(pa),lb=sb(O*db+T*Ha*Ua),nb=bc(lb);lb=1E-6<Yb(nb)?lb/nb:1;return[lb*T*bc(pa),(Yb(pa)>Wc?lb:-lb)*(O*Ha-T*db*Ua)]}var O=bc(B),T=Xb(B),ia=H(B);ia.invert=H(-B);D.invert=function(pa,Ha){var db=bb(pa*pa+Ha*Ha),Ua=-bc(db),lb=Xb(db),nb=db*lb,Bb=-Ha*Ua,$b=
db*O,pc=bb(nb*nb+Bb*Bb-$b*$b);nb=cd(nb*$b+Bb*pc,Bb*$b-nb*pc);pa=(db>Wc?-1:1)*cd(pa*Ua,db*Xb(nb)*lb+Ha*bc(nb)*Ua);return ia.invert(pa,nb)};return D}function H(B){var D=bc(B),O=Xb(B);return function(T,ia){var pa=Xb(ia),Ha=Xb(T)*pa;T=bc(T)*pa;ia=bc(ia);return[cd(T,Ha*O-ia*D),Ra(ia*O+Ha*D)]}}function Q(B){function D(nb,Bb){var $b=Yb(Bb);if($b>O){var pc=ue(B-1,ne(0,od((nb+fc)/db)));nb+=fc*(B-1)/B-pc*db;nb=I(nb,$b);nb[0]=nb[0]*Ke/T-Ke*(B-1)/(2*B)+pc*Ke/B;nb[1]=ia+4*(nb[1]-pa)*Ha/Ke;0>Bb&&(nb[1]=-nb[1])}else nb=
Sb(nb,Bb);nb[0]*=Ua;nb[1]/=lb;return nb}var O=Tb*rd,T=I(fc,O)[0]-I(-fc,O)[0],ia=Sb(0,O)[1],pa=I(0,O)[1],Ha=je-pa,db=Ke/B,Ua=4/Ke,lb=ia+Ha*Ha*4/Ke;D.invert=function(nb,Bb){nb/=Ua;Bb*=lb;var $b=Yb(Bb);if($b>ia){var pc=ue(B-1,ne(0,od((nb+fc)/db)));nb=(nb+fc*(B-1)/B-pc*db)*T/Ke;nb=I.invert(nb,.25*($b-ia)*Ke/Ha+pa);nb[0]-=fc*(B-1)/B-pc*db;0>Bb&&(nb[1]=-nb[1]);return nb}return Sb.invert(nb,Bb)};return D}function ja(B,D){return[B,D&1?89.999999:Tb]}function Ca(B,D){return[B,D&1?-89.999999:-Tb]}function qb(B){return[.999999*
B[0],B[1]]}function Ya(B){function D(nb,Bb){var $b=1-bc(Bb);if($b&&2>$b){var pc=Wc-Bb,Ic=25;do{var t=bc(pc);var y=Xb(pc);Bb=ia+cd(t,O-y);y=1+lb-2*O*y;pc-=t=(pc-Ua*ia-O*t+y*Bb-.5*$b*Ha)/(2*O*t*Bb)}while(1E-12<Yb(t)&&0<--Ic);$b=pa*bb(y);nb=nb*Bb/fc}else $b=pa*(B+$b),nb=nb*ia/fc;return[$b*bc(nb),db-$b*Xb(nb)]}var O=1+B,T=bc(1/O),ia=Ra(T),pa=2*bb(fc/(Ha=fc+4*ia*O)),Ha,db=.5*pa*(O+bb(B*(2+B))),Ua=B*B,lb=O*O;D.invert=function(nb,Bb){var $b=nb*nb+(Bb-=db)*Bb;Bb=(1+lb-$b/(pa*pa))/(2*O);var pc=sb(Bb),Ic=bc(pc),
t=ia+cd(Ic,O-Bb);return[Ra(nb/bb($b))*fc/t,Ra(1-2*(pc-Ua*ia-O*Ic+(1+lb-2*O*Bb)*t)/Ha)]};return D}function ob(B,D){return-.7109889596207567<D?(B=Ce(B,D),B[1]+=.0528035274542,B):ha(B,D)}function Na(B,D){return.7109889596207567<Yb(D)?(B=Ce(B,D),B[1]-=0<D?.0528035274542:-.0528035274542,B):ha(B,D)}function Ab(B,D,O,T){function ia(Bb){return bb(1+B*Xb(2*Bb)+D*Xb(4*Bb))}function pa(Bb){Bb*=O;return(2*Bb+(1+B-D/2)*bc(2*Bb)+(B+D)/2*bc(4*Bb)+D/2*bc(6*Bb))/O}function Ha(Bb){return ia(Bb)*bc(Bb)}var db=bb(4*
fc/(2*O+(1+B-D/2)*bc(2*O)+(B+D)/2*bc(4*O)+D/2*bc(6*O))),Ua=bb(T*bc(O)*bb((1+B*Xb(2*O)+D*Xb(4*O))/(1+B+D))),lb=O*pa(1),nb=function(Bb,$b){var pc=O*Ga(pa,lb*bc($b)/O,$b/fc);isNaN(pc)&&(pc=O*Qd($b));$b=db*ia(pc);return[$b*Ua*Bb/fc*Xb(pc),$b/Ua*bc(pc)]};nb.invert=function(Bb,$b){$b=Ga(Ha,$b*Ua/db);return[Bb*fc/(Xb($b)*db*Ua*ia($b)),Ra(O*pa($b/O)/lb)]};0===O&&(db=bb(T/fc),nb=function(Bb,$b){return[Bb*db,bc($b)/db]},nb.invert=function(Bb,$b){return[Bb/db,Ra($b*db)]});return nb}function Eb(B,D,O,T,ia,pa,
Ha,db,Ua,lb,nb){if(nb.nanEncountered)return NaN;var Bb=O-D;var $b=B(D+.25*Bb);var pc=B(O-.25*Bb);if(isNaN($b))nb.nanEncountered=!0;else if(isNaN(pc))nb.nanEncountered=!0;else{var Ic=Bb*(T+4*$b+ia)/12;var t=Bb*(ia+4*pc+pa)/12;var y=Ic+t;Ha=(y-Ha)/15;if(lb>Ua)return nb.maxDepthCount++,y+Ha;if(Math.abs(Ha)<db)return y+Ha;Bb=D+.5*Bb;D=Eb(B,D,Bb,T,$b,ia,Ic,.5*db,Ua,lb+1,nb);if(isNaN(D))return nb.nanEncountered=!0,NaN;B=Eb(B,Bb,O,ia,pc,pa,t,.5*db,Ua,lb+1,nb);return isNaN(B)?(nb.nanEncountered=!0,NaN):D+
B}}function eb(B,D,O,T,ia){void 0===T&&(T=1E-8);void 0===ia&&(ia=20);var pa=B(D),Ha=B(.5*(D+O)),db=B(O);return Eb(B,D,O,pa,Ha,db,(pa+4*Ha+db)*(O-D)/6,T,ia,1,{maxDepthCount:0,nanEncountered:!1})}function Mb(B,D,O){function T(nb){return B+(1-B)*qf(1-qf(nb,D),1/D)}function ia(nb){var Bb=0,$b=1E3,pc=500;do db[pc]>nb?$b=pc:Bb=pc,pc=Bb+$b>>1;while(pc>Bb);(Bb=db[pc+1]-db[pc])&&(Bb=(nb-db[pc+1])/Bb);return(pc+1+Bb)/1E3}for(var pa=1/eb(T,0,1,1E-4),Ha=1.00000001*pa,db=[],Ua=0;1E3>=Ua;Ua++)db.push(eb(T,0,Ua/
1E3,1E-4)*Ha);var lb=2*ia(1)/fc*pa/O;O=function(nb,Bb){var $b=ia(Yb(bc(Bb)));nb*=T($b);$b/=lb;return[nb,0<=Bb?$b:-$b]};O.invert=function(nb,Bb){var $b;Bb*=lb;1>Yb(Bb)&&($b=Qd(Bb)*Ra(eb(T,0,Yb(Bb),1E-4)*pa));return[nb/T(Yb(Bb)),$b]};return O}function jc(B,D){for(var O=-1,T=B.length,ia=B[0],pa,Ha,db,Ua=[];++O<T;){pa=B[O];Ha=(pa[0]-ia[0])/D;db=(pa[1]-ia[1])/D;for(var lb=0;lb<D;++lb)Ua.push([ia[0]+lb*Ha,ia[1]+lb*db]);ia=pa}Ua.push(pa);return Ua}function Zb(B){var D=[],O,T=B[0].length;for(O=0;O<T;++O){var ia=
B[0][O];var pa=ia[0][0];var Ha=ia[0][1];var db=ia[1][1];var Ua=ia[2][0];ia=ia[2][1];D.push(jc([[pa+1E-6,Ha+1E-6],[pa+1E-6,db-1E-6],[Ua-1E-6,db-1E-6],[Ua-1E-6,ia+1E-6]],30))}for(O=B[1].length-1;0<=O;--O)ia=B[1][O],pa=ia[0][0],Ha=ia[0][1],db=ia[1][1],Ua=ia[2][0],ia=ia[2][1],D.push(jc([[Ua-1E-6,ia-1E-6],[Ua-1E-6,db+1E-6],[pa+1E-6,db+1E-6],[pa+1E-6,Ha-1E-6]],30));return{type:"Polygon",coordinates:[A.merge(D)]}}function Hc(B,D,O){function T(Ua,lb){for(var nb=0>lb?-1:1,Bb=D[+(0>lb)],$b=0,pc=Bb.length-1;$b<
pc&&Ua>Bb[$b][2][0];++$b);Ua=B(Ua-Bb[$b][1][0],lb);Ua[0]+=B(Bb[$b][1][0],nb*lb>nb*Bb[$b][0][1]?Bb[$b][0][1]:lb)[0];return Ua}var ia,pa;O?T.invert=O(T):B.invert&&(T.invert=function(Ua,lb){for(var nb=pa[+(0>lb)],Bb=D[+(0>lb)],$b=0,pc=nb.length;$b<pc;++$b){var Ic=nb[$b];if(Ic[0][0]<=Ua&&Ua<Ic[1][0]&&Ic[0][1]<=lb&&lb<Ic[1][1])return nb=B.invert(Ua-B(Bb[$b][1][0],0)[0],lb),nb[0]+=Bb[$b][1][0],Bb=T(nb[0],nb[1]),Ua=[Ua,lb],1E-6>Yb(Bb[0]-Ua[0])&&1E-6>Yb(Bb[1]-Ua[1])?nb:null}});var Ha=r.geoProjection(T),db=
Ha.stream;Ha.stream=function(Ua){var lb=Ha.rotate(),nb=db(Ua),Bb=(Ha.rotate([0,0]),db(Ua));Ha.rotate(lb);nb.sphere=function(){r.geoStream(ia,Bb)};return nb};Ha.lobes=function(Ua){if(!arguments.length)return D.map(function(lb){return lb.map(function(nb){return[[nb[0][0]*Cd,nb[0][1]*Cd],[nb[1][0]*Cd,nb[1][1]*Cd],[nb[2][0]*Cd,nb[2][1]*Cd]]})});ia=Zb(Ua);D=Ua.map(function(lb){return lb.map(function(nb){return[[nb[0][0]*rd,nb[0][1]*rd],[nb[1][0]*rd,nb[1][1]*rd],[nb[2][0]*rd,nb[2][1]*rd]]})});pa=D.map(function(lb){return lb.map(function(nb){var Bb=
B(nb[0][0],nb[0][1])[0],$b=B(nb[2][0],nb[2][1])[0],pc=B(nb[1][0],nb[0][1])[1];nb=B(nb[1][0],nb[1][1])[1];if(pc>nb){var Ic=pc;pc=nb;nb=Ic}return[[Bb,pc],[$b,nb]]})});return Ha};null!=D&&Ha.lobes(D);return Ha}function zc(B,D){return[3/Ke*B*bb(fc*fc/3-D*D),D]}function ed(B){function D(O,T){if(1E-6>Yb(Yb(T)-Wc))return[0,0>T?-2:2];T=bc(T);T=qf((1+T)/(1-T),B/2);var ia=.5*(T+1/T)+Xb(O*=B);return[2*bc(O)/ia,(T-1/T)/ia]}D.invert=function(O,T){var ia=Yb(T);if(1E-6>Yb(ia-2))return O?null:[0,Qd(T)*Wc];if(2<ia)return null;
O/=2;T/=2;ia=O*O;var pa=T*T;T=2*T/(1+ia+pa);T=qf((1+T)/(1-T),1/B);return[cd(2*O,1-ia-pa)/B,Ra((T-1)/(T+1))]};return D}function Ad(B,D){return[B*(1+bb(Xb(D)))/2,D/(Xb(D/2)*Xb(B/6))]}function Gc(B,D){var O=B*B,T=D*D;return[B*(.975534+T*(-.119161+-.0143059*O+-.0547009*T)),D*(1.00384+O*(.0802894+-.02855*T+1.99025E-4*O)+T*(.0998909+-.0491032*T))]}function gd(B,D){return[bc(B)/Xb(D),$d(D)*Xb(B)]}function ie(B){function D(ia,pa){var Ha=pa-B,db=1E-6>Yb(Ha)?ia*O:1E-6>Yb(db=Ud+pa/2)||1E-6>Yb(Yb(db)-Wc)?0:ia*
Ha/de($d(db)/T);return[db,Ha]}var O=Xb(B),T=$d(Ud+B/2);D.invert=function(ia,pa){var Ha,db=pa+B;return[1E-6>Yb(pa)?ia/O:1E-6>Yb(Ha=Ud+db/2)||1E-6>Yb(Yb(Ha)-Wc)?0:ia*de($d(Ha)/T)/pa,db]};return D}function Mc(B,D){return[B,1.25*de($d(Ud+.4*D))]}function xd(B){function D(T,ia){var pa=Xb(ia),Ha=2/(1+pa*Xb(T));T=Ha*pa*bc(T);ia=Ha*bc(ia);Ha=O;pa=B[Ha];for(var db=pa[0],Ua=pa[1],lb;0<=--Ha;)pa=B[Ha],db=pa[0]+T*(lb=db)-ia*Ua,Ua=pa[1]+T*Ua+ia*lb;db=T*(lb=db)-ia*Ua;return[db,T*Ua+ia*lb]}var O=B.length-1;D.invert=
function(T,ia){var pa=20,Ha=T,db=ia;do{for(var Ua=O,lb=B[Ua],nb=lb[0],Bb=lb[1],$b=0,pc=0,Ic;0<=--Ua;)lb=B[Ua],$b=nb+Ha*(Ic=$b)-db*pc,pc=Bb+Ha*pc+db*Ic,nb=lb[0]+Ha*(Ic=nb)-db*Bb,Bb=lb[1]+Ha*Bb+db*Ic;$b=nb+Ha*(Ic=$b)-db*pc;pc=Bb+Ha*pc+db*Ic;nb=Ha*(Ic=nb)-db*Bb-T;Bb=Ha*Bb+db*Ic-ia;lb=$b*$b+pc*pc;Ha-=Ua=(nb*$b+Bb*pc)/lb;db-=nb=(Bb*$b-nb*pc)/lb}while(1E-12<Yb(Ua)+Yb(nb)&&0<--pa);if(pa)return T=bb(Ha*Ha+db*db),ia=2*nd(.5*T),pa=bc(ia),[cd(Ha*pa,T*Xb(ia)),T?Ra(db*pa/T):0]};return D}function Rd(B,D){B=r.geoProjection(xd(B)).rotate(D).clipAngle(90);
var O=r.geoRotation(D),T=B.center;delete B.rotate;B.center=function(ia){return arguments.length?T(O(ia)):O.invert(T())};return B}function Db(B,D){D=Ra(7*bc(D)/(3*Pe));return[Pe*B*(2*Xb(2*D/3)-1)/hf,9*bc(D/3)/hf]}function ac(B,D){for(var O=(1+Je)*bc(D),T=0,ia;25>T&&!(D-=ia=(bc(D/2)+bc(D)-O)/(.5*Xb(D/2)+Xb(D)),1E-6>Yb(ia));T++);return[B*(1+2*Xb(D)/Xb(D/2))/(3*Yd),2*bb(3)*bc(D/2)/bb(2+Yd)]}function kb(B,D){var O=bb(6/(4+fc)),T=(1+fc/4)*bc(D);D/=2;for(var ia=0,pa;25>ia&&!(D-=pa=(D/2+bc(D)-T)/(.5+Xb(D)),
1E-6>Yb(pa));ia++);return[O*(.5+Xb(D))*B/1.5,O*D]}function oc(B,D){var O=D*D,T=O*O,ia=O*T;return[B*(.84719-.13063*O+ia*ia*(-.04515+.05494*O-.02326*T+.00331*ia)),D*(1.01183+T*T*(-.02625+.01926*O-.00396*T))]}function sc(B,D){return[B*(1+Xb(D))/2,2*(D-$d(D/2))]}function dd(B,D){var O=bc(D),T=Xb(D),ia=Qd(B);if(0===B||Yb(D)===Wc)return[0,D];if(0===D)return[B,0];if(Yb(B)===Wc)return[B*T,Wc*O];B=fc/(2*B)-2*B/fc;var pa=2*D/fc,Ha=(1-pa*pa)/(O-pa),db=B*B,Ua=Ha*Ha;pa=1+db/Ua;var lb=1+Ua/db,nb=(B*O/Ha-B/2)/pa,
Bb=(Ua*O/db+Ha/2)/lb;O=Bb*Bb-(Ua*O*O/db+Ha*O-1)/lb;return[Wc*(nb+bb(nb*nb+T*T/pa)*ia),Wc*(Bb+bb(0>O?0:O)*Qd(-D*B)*ia)]}function vd(B,D){var O=D*D;return[B,D*(1.0148+O*O*(.23185+O*(-.14499+.02406*O)))]}function N(B,D){if(1E-6>Yb(D))return[B,0];var O=$d(D);B*=bc(D);return[bc(B)/O,D+(1-Xb(B))/O]}function oa(B,D){var O=wb(B[1],B[0]),T=wb(D[1],D[0]),ia=cd(O[0]*T[1]-O[1]*T[0],O[0]*T[0]+O[1]*T[1]);O=bb(O[0]*O[0]+O[1]*O[1])/bb(T[0]*T[0]+T[1]*T[1]);return $a([1,0,B[0][0],0,1,B[0][1]],$a([O,0,0,0,O,0],$a([Xb(ia),
bc(ia),0,-bc(ia),Xb(ia),0],[1,0,-D[0][0],0,1,-D[0][1]])))}function $a(B,D){return[B[0]*D[0]+B[1]*D[3],B[0]*D[1]+B[1]*D[4],B[0]*D[2]+B[1]*D[5]+B[2],B[3]*D[0]+B[4]*D[3],B[3]*D[1]+B[4]*D[4],B[3]*D[2]+B[4]*D[5]+B[5]]}function wb(B,D){return[B[0]-D[0],B[1]-D[1]]}function Fb(B,D){function O(db,Ua){db.edges=vc(db.face);if(Ua.face){var lb=db.shared=Wb(db.face,Ua.face),nb=oa(lb.map(Ua.project),lb.map(db.project));db.transform=Ua.transform?$a(Ua.transform,nb):nb;nb=Ua.edges;for(var Bb=0,$b=nb.length;Bb<$b;++Bb)ec(lb[0],
nb[Bb][1])&&ec(lb[1],nb[Bb][0])&&(nb[Bb]=db),ec(lb[0],nb[Bb][0])&&ec(lb[1],nb[Bb][1])&&(nb[Bb]=db);nb=db.edges;Bb=0;for($b=nb.length;Bb<$b;++Bb)ec(lb[0],nb[Bb][0])&&ec(lb[1],nb[Bb][1])&&(nb[Bb]=Ua),ec(lb[0],nb[Bb][1])&&ec(lb[1],nb[Bb][0])&&(nb[Bb]=Ua)}else db.transform=Ua.transform;db.children&&db.children.forEach(function(pc){O(pc,db)});return db}function T(db,Ua){var lb=D(db,Ua);db=lb.project([db*Cd,Ua*Cd]);if(lb=lb.transform)return[lb[0]*db[0]+lb[1]*db[1]+lb[2],-(lb[3]*db[0]+lb[4]*db[1]+lb[5])];
db[1]=-db[1];return db}function ia(db,Ua){var lb=db.project.invert,nb=db.transform,Bb=Ua;if(nb){var $b=1/(nb[0]*nb[4]-nb[1]*nb[3]);nb=[$b*nb[4],-$b*nb[1],$b*(nb[1]*nb[5]-nb[2]*nb[4]),-$b*nb[3],$b*nb[0],$b*(nb[2]*nb[3]-nb[0]*nb[5])];Bb=[nb[0]*Bb[0]+nb[1]*Bb[1]+nb[2],nb[3]*Bb[0]+nb[4]*Bb[1]+nb[5]]}if(nb=lb)lb=pc=lb(Bb),lb=D(lb[0]*rd,lb[1]*rd),nb=db===lb;if(nb)return pc;var pc;db=db.children;lb=0;for(Bb=db&&db.length;lb<Bb;++lb)if(pc=ia(db[lb],Ua))return pc}O(B,{transform:null});Fc(B)&&(T.invert=function(db,
Ua){return(db=ia(B,[db,-Ua]))&&(db[0]*=rd,db[1]*=rd,db)});var pa=r.geoProjection(T),Ha=pa.stream;pa.stream=function(db){var Ua=pa.rotate(),lb=Ha(db),nb=(pa.rotate([0,0]),Ha(db));pa.rotate(Ua);lb.sphere=function(){nb.polygonStart();nb.lineStart();Kb(nb,B);nb.lineEnd();nb.polygonEnd()};return lb};return pa.angle(-30)}function Kb(B,D,O){var T,ia=D.edges,pa=ia.length;var Ha={type:"MultiPoint",coordinates:D.face};var db=D.face.filter(function(Bb){return 90!==Yb(Bb[1])}),Ua=r.geoBounds({type:"MultiPoint",
coordinates:db});db=!1;var lb=-1,nb=Ua[1][0]-Ua[0][0];Ua=180===nb||360===nb?[(Ua[0][0]+Ua[1][0])/2,(Ua[0][1]+Ua[1][1])/2]:r.geoCentroid(Ha);if(O)for(;++lb<pa&&ia[lb]!==O;);++lb;for(nb=0;nb<pa;++nb)Ha=ia[(nb+lb)%pa],Array.isArray(Ha)?(db||(B.point((T=r.geoInterpolate(Ha[0],Ua)(1E-6))[0],T[1]),db=!0),B.point((T=r.geoInterpolate(Ha[1],Ua)(1E-6))[0],T[1])):(db=!1,Ha!==O&&Kb(B,Ha,D))}function ec(B,D){return B&&D&&B[0]===D[0]&&B[1]===D[1]}function Wb(B,D){for(var O,T,ia=B.length,pa=null,Ha=0;Ha<ia;++Ha){O=
B[Ha];for(var db=D.length;0<=--db;)if(T=D[db],O[0]===T[0]&&O[1]===T[1]){if(pa)return[pa,O];pa=O}}}function vc(B){for(var D=B.length,O=[],T=B[D-1],ia=0;ia<D;++ia)O.push([T,T=B[ia]]);return O}function Fc(B){return B.project.invert||B.children&&B.children.some(Fc)}function va(B,D){B=I(B,D);return[B[0]*jf,B[1]]}function Za(B,D){for(var O=0,T=B.length,ia=0;O<T;++O)ia+=B[O]*D[O];return ia}function pb(B){return[cd(B[1],B[0])*Cd,Ra(ne(-1,ue(1,B[2])))*Cd]}function Ub(B){var D=B[0]*rd;B=B[1]*rd;var O=Xb(B);
return[O*Xb(D),O*bc(D),bc(B)]}function wc(B,D){return{type:"FeatureCollection",features:B.features.map(function(O){return Cc(O,D)})}}function Cc(B,D){return{type:"Feature",id:B.id,properties:B.properties,geometry:Cb(B.geometry,D)}}function Jc(B,D){return{type:"GeometryCollection",geometries:B.geometries.map(function(O){return Cb(O,D)})}}function Cb(B,D){if(!B)return null;if("GeometryCollection"===B.type)return Jc(B,D);switch(B.type){case "Point":var O=Te;break;case "MultiPoint":O=Te;break;case "LineString":O=
$e;break;case "MultiLineString":O=$e;break;case "Polygon":O=Ff;break;case "MultiPolygon":O=Ff;break;case "Sphere":O=Ff;break;default:return null}r.geoStream(B,D(O));return O.result()}function Vb(B){function D(T,ia){var pa=Yb(T)<Wc;ia=B(pa?T:0<T?T-fc:T+fc,ia);T=(ia[0]-ia[1])*Je;ia=(ia[0]+ia[1])*Je;if(pa)return[T,ia];pa=O*Je;var Ha=0<T^0<ia?-1:1;return[Ha*T-Qd(ia)*pa,Ha*ia-Qd(T)*pa]}var O=B(Wc,0)[0]-B(-Wc,0)[0];B.invert&&(D.invert=function(T,ia){var pa=(T+ia)*Je,Ha=(ia-T)*Je,db=Yb(pa)<.5*O&&Yb(Ha)<
.5*O;if(!db){var Ua=O*Je,lb=0<pa^0<Ha?-1:1;T=-lb*T+(0<Ha?1:-1)*Ua;ia=-lb*ia+(0<pa?1:-1)*Ua;pa=(-T-ia)*Je;Ha=(T-ia)*Je}ia=B.invert(pa,Ha);db||(ia[0]+=0<pa?fc:-fc);return ia});return r.geoProjection(D).rotate([-90,-90,45]).clipAngle(179.999)}function nc(B){function D(T,ia){T=O?$d(T*O/2)/O:T/2;if(!ia)return[2*T,-B];T=2*nd(T*bc(ia));var pa=1/$d(ia);return[bc(T)*pa,ia+(1-Xb(T))*pa-B]}var O=bc(B);D.invert=function(T,ia){if(1E-6>Yb(ia+=B))return[O?2*nd(O*T/2)/O:T,0];var pa=T*T+ia*ia,Ha=0,db=10;do{var Ua=
$d(Ha);var lb=1/Xb(Ha),nb=pa-2*ia*Ha+Ha*Ha;Ha-=Ua=(Ua*nb+2*(Ha-ia))/(2+nb*lb*lb+2*(Ha-ia)*Ua)}while(1E-6<Yb(Ua)&&0<--db);T*=Ua=$d(Ha);ia=$d(Yb(ia)<Yb(Ha+1/Ua)?.5*Ra(T):.5*sb(T)+fc/4)/bc(Ha);return[O?2*nd(O*ia)/O:2*ia,Ha]};return D}function lc(B,D){var O=ue(18,36*Yb(D)/fc),T=od(O);O-=T;var ia=(Ua=af[T])[0],pa=Ua[1],Ha=(Ua=af[++T])[0],db=Ua[1];T=(Ua=af[ue(19,++T)])[0];Ua=Ua[1];var Ua;return[B*(Ha+O*(T-ia)/2+O*O*(T-2*Ha+ia)/2),(0<D?Wc:-Wc)*(db+O*(Ua-pa)/2+O*O*(Ua-2*db+pa)/2)]}function rc(B){function D(O,
T){var ia=Xb(T),pa=(B-1)/(B-ia*Xb(O));return[pa*ia*bc(O),pa*bc(T)]}D.invert=function(O,T){var ia=O*O+T*T,pa=bb(ia);ia=(B-bb(1-ia*(B+1)/(B-1)))/((B-1)/pa+pa/(B-1));return[cd(O*ia,pa*bb(1-ia*ia)),pa?Ra(T*ia/pa):0]};return D}function Vc(B,D){function O(Ha,db){Ha=T(Ha,db);db=Ha[1];var Ua=db*pa/(B-1)+ia;return[Ha[0]*ia/Ua,db/Ua]}var T=rc(B);if(!D)return T;var ia=Xb(D),pa=bc(D);O.invert=function(Ha,db){var Ua=(B-1)/(B-1-db*pa);return T.invert(Ua*Ha,Ua*db*ia)};return O}function zd(B){return 0<B.length}function pd(B){return-90===
B||90===B?[0,B]:[-180,Math.floor(1E4*B)/1E4]}function ld(B){var D=B[0],O=B[1],T=!1;-179.9999>=D?(D=-180,T=!0):179.9999<=D&&(D=180,T=!0);-89.9999>=O?(O=-90,T=!0):89.9999<=O&&(O=90,T=!0);return T?[D,O]:B}function qd(B){return B.map(ld)}function Od(B,D,O){for(var T=0,ia=B.length;T<ia;++T){var pa=B[T].slice();O.push({index:-1,polygon:D,ring:pa});for(var Ha=0,db=pa.length;Ha<db;++Ha){var Ua=pa[Ha],lb=Ua[0],nb=Ua[1];if(-179.9999>=lb||179.9999<=lb||-89.9999>=nb||89.9999<=nb){pa[Ha]=ld(Ua);for(Ua=Ha+1;Ua<
db;++Ua){var Bb=pa[Ua];lb=Bb[0];Bb=Bb[1];if(-179.9999<lb&&179.9999>lb&&-89.9999<Bb&&89.9999>Bb)break}if(Ua!==Ha+1){Ha?(Ha={index:-1,polygon:D,ring:pa.slice(0,Ha+1)},Ha.ring[Ha.ring.length-1]=pd(nb),O[O.length-1]=Ha):O.pop();if(Ua>=db)break;O.push({index:-1,polygon:D,ring:pa=pa.slice(Ua-1)});pa[0]=pd(pa[0][1]);Ha=-1;db=pa.length}}}}}function fe(B){var D,O=B.length,T={},ia={};for(D=0;D<O;++D){var pa=B[D];var Ha=pa.ring[0];var db=pa.ring[pa.ring.length-1];Ha[0]===db[0]&&Ha[1]===db[1]?(pa.polygon.push(pa.ring),
B[D]=null):(pa.index=D,T[Ha]=ia[db]=pa)}for(D=0;D<O;++D)if(pa=B[D]){Ha=pa.ring[0];db=pa.ring[pa.ring.length-1];var Ua=ia[Ha];var lb=T[db];delete T[Ha];delete ia[db];Ha[0]===db[0]&&Ha[1]===db[1]?pa.polygon.push(pa.ring):Ua?(delete ia[Ha],delete T[Ua.ring[0]],Ua.ring.pop(),B[Ua.index]=null,pa={index:-1,polygon:Ua.polygon,ring:Ua.ring.concat(pa.ring)},Ua===lb?pa.polygon.push(pa.ring):(pa.index=O++,B.push(T[pa.ring[0]]=ia[pa.ring[pa.ring.length-1]]=pa))):lb?(delete T[db],delete ia[lb.ring[lb.ring.length-
1]],pa.ring.pop(),pa={index:O++,polygon:lb.polygon,ring:pa.ring.concat(lb.ring)},B[lb.index]=null,B.push(T[pa.ring[0]]=ia[pa.ring[pa.ring.length-1]]=pa)):(pa.ring.push(pa.ring[0]),pa.polygon.push(pa.ring))}}function le(B){var D={type:"Feature",geometry:Kd(B.geometry)};null!=B.id&&(D.id=B.id);null!=B.bbox&&(D.bbox=B.bbox);null!=B.properties&&(D.properties=B.properties);return D}function Kd(B){if(null==B)return B;switch(B.type){case "GeometryCollection":var D={type:"GeometryCollection",geometries:B.geometries.map(Kd)};
break;case "Point":D={type:"Point",coordinates:ld(B.coordinates)};break;case "MultiPoint":case "LineString":D={type:B.type,coordinates:qd(B.coordinates)};break;case "MultiLineString":D={type:"MultiLineString",coordinates:B.coordinates.map(qd)};break;case "Polygon":var O=[];Od(B.coordinates,O,D=[]);fe(D);D={type:"Polygon",coordinates:O};break;case "MultiPolygon":D=[];O=-1;var T=B.coordinates.length;for(var ia=Array(T);++O<T;)Od(B.coordinates[O],ia[O]=[],D);fe(D);D={type:"MultiPolygon",coordinates:ia.filter(zd)};
break;default:return B}null!=B.bbox&&(D.bbox=B.bbox);return D}function Ie(B,D){D=$d(D/2);var O=bc(Ud*D);return[B*(.74482-.34588*O*O),1.70711*D]}function he(B,D,O){var T=r.geoInterpolate(D,O);O=T(.5);D=r.geoRotation([-O[0],-O[1]])(D);T=T.distance/2;var ia=-Ra(bc(D[1]*rd)/bc(T));O=[-O[0],-O[1],-(0<D[0]?fc-ia:ia)*Cd];B=r.geoProjection(B(T)).rotate(O);var pa=r.geoRotation(O),Ha=B.center;delete B.rotate;B.center=function(db){return arguments.length?Ha(pa(db)):pa.invert(Ha())};return B.clipAngle(90)}function Be(B){function D(T,
ia){T=r.geoGnomonicRaw(T,ia);T[0]*=O;return T}var O=Xb(B);D.invert=function(T,ia){return r.geoGnomonicRaw.invert(T/O,ia)};return D}function Dd(B,D){return he(Be,B,D)}function be(B){function D(db,Ua){var lb=sb(Xb(Ua)*Xb(db-O));db=sb(Xb(Ua)*Xb(db-T));lb*=lb;db*=db;return[(lb-db)/(2*B),(0>Ua?-1:1)*bb(4*ia*db-(ia-lb+db)*(ia-lb+db))/(2*B)]}if(!(B*=2))return r.geoAzimuthalEquidistantRaw;var O=-B/2,T=-O,ia=B*B,pa=$d(T),Ha=.5/bc(T);D.invert=function(db,Ua){var lb=Ua*Ua,nb=Xb(bb(lb+(Bb=db+O)*Bb));db=Xb(bb(lb+
(Bb=db+T)*Bb));var Bb,$b;return[cd($b=nb-db,Bb=(nb+db)*pa),(0>Ua?-1:1)*sb(bb(Bb*Bb+$b*$b)*Ha)]};return D}function V(B,D){return he(be,B,D)}function qa(B,D){if(1E-6>Yb(D))return[B,0];var O=Yb(D/Wc),T=Ra(O);if(1E-6>Yb(B)||1E-6>Yb(Yb(D)-Wc))return[0,Qd(D)*fc*$d(T/2)];var ia=Xb(T);T=Yb(fc/B-B/fc)/2;var pa=T*T;ia/=O+ia-1;O=ia*(2/O-1);var Ha=O*O,db=Ha+pa,Ua=ia-Ha,lb=pa+ia;return[Qd(B)*fc*(T*Ua+bb(pa*Ua*Ua-db*(ia*ia-Ha)))/db,Qd(D)*fc*(O*lb-T*bb((pa+1)*db-lb*lb))/db]}function Fa(B,D){if(1E-6>Yb(D))return[B,
0];var O=Yb(D/Wc),T=Ra(O);if(1E-6>Yb(B)||1E-6>Yb(Yb(D)-Wc))return[0,Qd(D)*fc*$d(T/2)];var ia=Xb(T);T=Yb(fc/B-B/fc)/2;var pa=T*T;O=ia*(bb(1+pa)-T*ia)/(1+pa*O*O);return[Qd(B)*fc*O,Qd(D)*fc*bb(1-O*(2*T+O))]}function rb(B,D){if(1E-6>Yb(D))return[B,0];var O=D/Wc,T=Ra(O);if(1E-6>Yb(B)||1E-6>Yb(Yb(D)-Wc))return[0,fc*$d(T/2)];D=(fc/B-B/fc)/2;O/=1+Xb(T);return[fc*(Qd(B)*bb(D*D+1-O*O)-D),fc*O]}function gb(B,D){if(!D)return[B,0];var O=Yb(D);if(!B||O===Wc)return[0,D];var T=O/Wc;O=T*T;var ia=(8*T-O*(O+2)-5)/(2*
O*(T-1)),pa=ia*ia,Ha=T*ia,db=O+pa+2*Ha;T+=3*ia;ia=B/Wc;ia+=1/ia;ia=Qd(Yb(B)-Wc)*bb(ia*ia-4);var Ua=ia*ia;O=(ia*(db+pa-1)+2*bb(db*(O+pa*Ua-1)+(1-O)*(O*(T*T+4*pa)+12*Ha*pa+4*pa*pa)))/(4*db+Ua);return[Qd(B)*Wc*O,Qd(D)*Wc*bb(1+ia*Yb(O)-O*O)]}function Lb(B,D,O,T,ia){function pa(Ha,db){db=O*bc(T*db);var Ua=bb(1-db*db),lb=bb(2/(1+Ua*Xb(Ha*=ia)));return[B*Ua*lb*bc(Ha),D*db*lb]}pa.invert=function(Ha,db){var Ua=Ha/B,lb=db/D;Ua=bb(Ua*Ua+lb*lb);lb=2*Ra(Ua/2);return[cd(Ha*$d(lb),B*Ua)/ia,Ua&&Ra(db*bc(lb)/(D*O*
Ua))/T]};return pa}function Rb(B,D,O,T){var ia=fc/3;B=ne(B,1E-6);D=ne(D,1E-6);B=ue(B,Wc);D=ue(D,fc-1E-6);O=ne(O,0);O=ue(O,99.999999);T=ne(T,1E-6);var pa=T/100;O=sb((O/100+1)*Xb(ia))/ia;ia=bc(B)/bc(O*Wc);T=D/fc;D=bb(pa*bc(B/2)/bc(D/2));B=D/bb(T*ia*O);D=1/(D*bb(T*ia*O));return Lb(B,D,ia,O,T)}function kc(){var B=65*rd,D=60*rd,O=20,T=200,ia=r.geoProjectionMutator(Rb),pa=ia(B,D,O,T);pa.poleline=function(Ha){return arguments.length?ia(B=+Ha*rd,D,O,T):B*Cd};pa.parallels=function(Ha){return arguments.length?
ia(B,D=+Ha*rd,O,T):D*Cd};pa.inflation=function(Ha){return arguments.length?ia(B,D,O=+Ha,T):O};pa.ratio=function(Ha){return arguments.length?ia(B,D,O,T=+Ha):T};return pa.scale(163.775)}function Zc(B,D){return[B*bb(1-3*D*D/(fc*fc)),D]}function Bc(B,D){var O=Xb(D),T=Xb(B)*O,ia=1-T;D=Xb(B=cd(bc(B)*O,-bc(D)));B=bc(B);O=bb(1-T*T);return[B*O-D*ia,-D*O-B*ia]}function Nc(B,D){var O=La(B,D);return[(O[0]+B/Wc)/2,(O[1]+D)/2]}var Yb=Math.abs,nd=Math.atan,cd=Math.atan2,Xb=Math.cos,oe=Math.exp,od=Math.floor,de=
Math.log,ne=Math.max,ue=Math.min,qf=Math.pow,gf=Math.round,Qd=Math.sign||function(B){return 0<B?1:0>B?-1:0},bc=Math.sin,$d=Math.tan,fc=Math.PI,Wc=fc/2,Ud=fc/4,Je=Math.SQRT1_2,Yd=bb(2),je=bb(fc),Ke=2*fc,Cd=180/fc,rd=fc/180;La.invert=function(B,D){if(!(B*B+4*D*D>fc*fc+1E-6)){var O=B,T=D,ia=25;do{var pa=bc(O),Ha=bc(O/2),db=Xb(O/2),Ua=bc(T),lb=Xb(T),nb=bc(2*T),Bb=Ua*Ua,$b=lb*lb,pc=Ha*Ha,Ic=1-$b*db*db,t=Ic?sb(lb*db)*bb(y=1/Ic):y=0,y;Ic=2*t*lb*Ha-B;var S=t*Ua-D,ba=y*($b*pc+t*lb*db*Bb),Xa=y*(.5*pa*nb-2*
t*Ua*Ha);pa=.25*y*(nb*Ha-t*Ua*$b*pa);lb=y*(Bb*db+t*pc*lb);db=Xa*pa-lb*ba;if(!db)break;Xa=(S*Xa-Ic*lb)/db;Ic=(Ic*pa-S*ba)/db;O-=Xa;T-=Ic}while((1E-6<Yb(Xa)||1E-6<Yb(Ic))&&0<--ia);return[O,T]}};Sa.invert=function(B,D){B*=.375;D*=.375;if(!B&&1<Yb(D))return null;var O=1+B*B+D*D,T=bb((O-bb(O*O-4*D*D))/2);O=Ra(T)/3;T?(T=Yb(D/T),T=de(T+bb(T*T-1))/3):(T=Yb(B),T=de(T+bb(T*T+1))/3);var ia=Xb(O),pa=Gb(T),Ha=pa*pa-ia*ia;return[2*Qd(B)*cd(xb(T)*ia,.25-Ha),2*Qd(D)*cd(pa*bc(O),.25+Ha)]};var we=bb(8),hd=de(1+Yd);
xa.invert=function(B,D){if((ia=Yb(D))<hd)return[B,2*nd(oe(D))-Wc];var O=Ud,T=25,ia;do{var pa=Xb(O/2);var Ha=$d(O/2);O-=pa=(we*(O-Ud)-de(Ha)-ia)/(we-pa*pa/(2*Ha))}while(1E-12<Yb(pa)&&0<--T);return[B/(Xb(O)*(we-1/bc(O))),Qd(D)*O]};Ba.invert=function(B,D){D=2*Ra(D/2);return[B*Xb(D/2)/Xb(D),D]};var Ce=za(Yd/Wc,Yd,fc);Ta.invert=function(B,D){var O=2.00276*D;D=0>D?-Ud:Ud;var T=25;do{var ia=O-Yd*bc(D);D-=ia=(bc(2*D)+2*D-fc*bc(ia))/(2*Xb(2*D)+2+fc*Xb(ia)*Yd*Xb(D))}while(1E-6<Yb(ia)&&0<--T);ia=O-Yd*bc(D);
return[B*(1/Xb(ia)+1.11072/Xb(D))/2.00276,ia]};ha.invert=function(B,D){return[B/Xb(D),D]};var Ee=za(1,4/fc,fc);I.invert=function(B,D){var O=(O=D/je-1)*O;return[0<O?B*bb(fc/O)/2:0,Ra(1-O)]};var ve=bb(3);M.invert=function(B,D){D=3*Ra(D/(ve*je));return[je*B/(ve*(2*Xb(2*D/3)-1)),D]};R.invert=function(B,D){var O=bb(8/(3*fc));D/=O;return[B/(O*(1-Yb(D)/fc)),D]};aa.invert=function(B,D){var O=2-Yb(D)/bb(2*fc/3);return[B*bb(6*fc)/(2*O),Qd(D)*Ra((4-O*O)/3)]};da.invert=function(B,D){var O=bb(fc*(4+fc))/2;return[B*
O/(1+bb(1-D*D*(4+fc)/(4*fc))),D*O/2]};Da.invert=function(B,D){D=D*bb((4+fc)/fc)/2;var O=Ra(D),T=Xb(O);return[B/(2/bb(fc*(4+fc))*(1+T)),Ra((O+D*(T+2))/(2+Wc))]};Ja.invert=function(B,D){var O=bb(2+fc);D=D*O/2;return[O*B/(1+Xb(D)),D]};J.invert=function(B,D){var O=1+Wc,T=bb(O/2);return[2*B*T/(1+Xb(D*=T)),Ra((D+bc(D))/O)]};var Fe=3+2*Yd;fa.invert=function(B,D){if(!(ia=Sa.invert(B/1.2,1.065*D)))return null;var O=ia[0];ia=ia[1];var T=20,ia;B/=Fe;D/=Fe;do{var pa=O/2,Ha=ia/2,db=bc(pa),Ua=Xb(pa),lb=bc(Ha),
nb=Xb(Ha),Bb=Xb(ia),$b=bb(Bb),pc=lb/(nb+Yd*Ua*$b),Ic=pc*pc,t=bb(2/(1+Ic)),y=(Yd*nb+(Ua+db)*$b)/(Yd*nb+(Ua-db)*$b),S=bb(y),ba=S-1/S,Xa=S+1/S;Ha=t*ba-2*de(S)-B;pa=t*pc*Xa-2*nd(pc)-D;var vb=lb&&Je*$b*db*Ic/lb,Ib=(Yd*Ua*nb+$b)/(2*(nb+Yd*Ua*$b)*(nb+Yd*Ua*$b)*$b),Qb=-.5*pc*t*t*t,dc=Qb*vb;Qb*=Ib;var Ec=(Ec=2*nb+Yd*$b*(Ua-db))*Ec*S;Ua=(Yd*Ua*nb*$b+Bb)/Ec;lb=-(Yd*db*lb)/($b*Ec);db=ba*dc-2*Ua/S+t*(Ua+Ua/y);S=ba*Qb-2*lb/S+t*(lb+lb/y);vb=pc*Xa*dc-2*vb/(1+Ic)+t*Xa*vb+t*pc*(Ua-Ua/y);Ic=pc*Xa*Qb-2*Ib/(1+Ic)+t*Xa*
Ib+t*pc*(lb-lb/y);pc=S*vb-Ic*db;if(!pc)break;Ic=(pa*S-Ha*Ic)/pc;Ha=(Ha*vb-pa*db)/pc;O-=Ic;ia=ne(-Wc,ue(Wc,ia-Ha))}while((1E-6<Yb(Ic)||1E-6<Yb(Ha))&&0<--T);return 1E-6>Yb(Yb(ia)-Wc)?[0,ia]:T&&[O,ia]};var yd=Xb(35*rd);ca.invert=function(B,D){D/=1+yd;return[B&&B/(yd*bb(1-D*D)),2*nd(D)]};W.invert=function(B,D){var O=nd(D/je);D=Xb(O);O*=2;return[B*je/2/(Xb(O)*D*D),O]};var F=q(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),X=q(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Oa=q(5/
6*fc,-.62636,-.0344,0,1.3493,-.05524,0,.045);w.invert=function(B,D){var O=B,T=D,ia=50,pa;do{var Ha=T*T;T-=pa=(T*(1+Ha/12)-D)/(1+Ha/4)}while(1E-6<Yb(pa)&&0<--ia);ia=50;B/=1-.162388*Ha;do{var db=(db=O*O)*db;O-=pa=(O*(.87-9.52426E-4*db)-B)/(.87-.00476213*db)}while(1E-6<Yb(pa)&&0<--ia);return[O,T]};var Hb=q(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);U.invert=function(B,D){1<Yb(B)&&(B=2*Qd(B)-B);1<Yb(D)&&(D=2*Qd(D)-D);var O=Qd(B),T=Qd(D),ia=-O*B,pa=-T*D;D=1>pa/ia;B=D?pa:ia;var Ha=D?ia:pa,
db=0,Ua=1;ia=.5;for(var lb=50;;){pa=ia*ia;var nb=bb(ia),Bb=Ra(1/bb(1+pa)),$b=1-pa+ia*(1+pa)*Bb,pc=(1-nb)/$b,Ic=bb(pc),t=pc*(1+pa),y=Ic*(1-pa),S=bb(t-B*B);y=Ha+y+ia*S;if(1E-12>Yb(Ua-db)||0===--lb||0===y)break;0<y?db=ia:Ua=ia;ia=.5*(db+Ua)}lb?(Ha=Ra(nb),lb=Xb(Ha),db=1/lb,Ua=2*nb*lb,nb=(-$b*lb-(1-nb)*(-3*ia+Bb*(1+3*pa))*Ua)/($b*$b),ia=[fc/4*(B*(-2*db*(.5*nb/Ic*(1-pa)-2*ia*Ic*Ua)+-db*Ua*S)+-db*(ia*(1+pa)*nb+pc*(1+3*pa)*Ua)*Ra(B/bb(t))),Ha]):ia=null;B=ia[0];ia=ia[1];pa=Xb(ia);D&&(B=-Wc-B);return[O*(cd(bc(B)*
pa,-bc(ia))+fc),T*Ra(Xb(B)*pa)]};Y.invert=function(B,D){var O=(Yd-1)/(Yd+1),T=bb(1-O*O);D=.5*hb(Wc,T*T)-D;B=-B;T*=T;if(D)if(D=cb(D,T),B){B=cb(B,1-T);var ia=B[1]*B[1]+T*D[0]*D[0]*B[0]*B[0];D=[[D[0]*B[2]/ia,D[1]*D[2]*B[0]*B[1]/ia],[D[1]*B[1]/ia,-D[0]*D[2]*B[0]*B[2]/ia],[D[2]*B[1]*B[2]/ia,-T*D[0]*D[1]*B[0]/ia]]}else D=[[D[0],0],[D[1],0],[D[2],0]];else B=cb(B,1-T),D=[[0,B[0]/B[1]],[1/B[1],0],[B[2]/B[1],0]];T=D[0];D=D[1];B=D[0]*D[0]+D[1]*D[1];T=[(T[0]*D[0]+T[1]*D[1])/B,(T[1]*D[0]-T[0]*D[1])/B];return[cd(T[1],
T[0])/-1,2*nd(oe(-.5*de(O*T[0]*T[0]+O*T[1]*T[1])))-Wc]};var Tb=Ra(1-1/3)*Cd,Sb=K(0);ob.invert=function(B,D){return-.7109889596207567<D?Ce.invert(B,D-.0528035274542):ha.invert(B,D)};Na.invert=function(B,D){return.7109889596207567<Yb(D)?Ce.invert(B,D+(0<D?.0528035274542:-.0528035274542)):ha.invert(B,D)};var Ob=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Xc=[[[[-180,0],[-100,
90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Sc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],ud=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Id=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],
[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Ld=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];zc.invert=function(B,D){return[Ke/3*B/bb(fc*fc/3-D*D),D]};var Ge=fc/Yd;Ad.invert=function(B,D){var O=Yb(B),T=Yb(D),ia=1E-6,pa=Wc;T<Ge?pa*=T/Ge:ia+=6*sb(Ge/T);for(var Ha=0;25>Ha;Ha++){var db=bc(pa),Ua=bb(Xb(pa)),lb=bc(pa/2),nb=Xb(pa/2),
Bb=bc(ia/6),$b=Xb(ia/6),pc=.5*ia*(1+Ua)-O,Ic=pa/(nb*$b)-T;db=Ua?-.25*ia*db/Ua:0;Ua=.5*(1+Ua);lb=(1+.5*pa*lb/nb)/(nb*$b);Bb=pa/nb*(Bb/6)/($b*$b);nb=db*Bb-lb*Ua;Bb=(pc*Bb-Ic*Ua)/nb;pc=(Ic*db-pc*lb)/nb;pa-=Bb;ia-=pc;if(1E-6>Yb(Bb)&&1E-6>Yb(pc))break}return[0>B?-ia:ia,0>D?-pa:pa]};Gc.invert=function(B,D){var O=Qd(B)*fc,T=D/2,ia=50;do{var pa=O*O,Ha=T*T,db=O*T,Ua=O*(.975534+Ha*(-.119161+-.0143059*pa+-.0547009*Ha))-B,lb=T*(1.00384+pa*(.0802894+-.02855*Ha+1.99025E-4*pa)+Ha*(.0998909+-.0491032*Ha))-D,nb=.975534-
Ha*(.119161+.0429177*pa+.0547009*Ha),Bb=-db*(.238322+.2188036*Ha+.0286118*pa);db*=.1605788+7.961E-4*pa+-.0571*Ha;Ha=1.00384+pa*(.0802894+1.99025E-4*pa)+Ha*(3*(.0998909-.02855*pa)-.245516*Ha);pa=Bb*db-Ha*nb;Bb=(lb*Bb-Ua*Ha)/pa;Ua=(Ua*db-lb*nb)/pa;O-=Bb;T-=Ua}while((1E-6<Yb(Bb)||1E-6<Yb(Ua))&&0<--ia);return ia&&[O,T]};gd.invert=function(B,D){var O=B*B,T=D*D+1,ia=O+T;O=B?Je*bb((ia-bb(ia*ia-4*O))/O):1/bb(T);return[Ra(B*O),Qd(D)*sb(O)]};Mc.invert=function(B,D){return[B,2.5*nd(oe(.8*D))-.625*fc]};var ae=
[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ge=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],me=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ke=[[.9245,0],[0,0],[.01943,0]],De=[[.721316,0],[0,0],[-.00881625,-.00617325]],Pe=bb(6),hf=bb(7);Db.invert=function(B,D){D=3*
Ra(D*hf/9);return[B*hf/(Pe*(2*Xb(2*D/3)-1)),Ra(3*bc(D)*Pe/7)]};ac.invert=function(B,D){D=D*bb(2+Yd)/(2*bb(3));var O=2*Ra(D);return[3*Yd*B/(1+2*Xb(O)/Xb(O/2)),Ra((D+bc(O))/(1+Je))]};kb.invert=function(B,D){var O=bb(6/(4+fc));D/=O;1E-6>Yb(Yb(D)-Wc)&&(D=0>D?-Wc:Wc);return[1.5*B/(O*(.5+Xb(D))),Ra((D/2+bc(D))/(1+fc/4))]};oc.invert=function(B,D){var O=D,T=25;do{var ia=O*O;var pa=ia*ia;O-=ia=(O*(1.01183+pa*pa*(-.02625+.01926*ia-.00396*pa))-D)/(1.01183+pa*pa*(-.23625+.21186*ia+-.05148*pa))}while(1E-12<Yb(ia)&&
0<--T);ia=O*O;pa=ia*ia;D=ia*pa;return[B/(.84719-.13063*ia+D*D*(-.04515+.05494*ia-.02326*pa+.00331*D)),O]};sc.invert=function(B,D){for(var O=D/2,T=0,ia=Infinity;10>T&&1E-6<Yb(ia);++T)ia=Xb(D/2),D-=ia=(D-$d(D/2)-O)/(1-.5/(ia*ia));return[2*B/(1+Xb(D)),D]};var ef=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];dd.invert=function(B,D){B/=Wc;D/=Wc;var O=B*B,T=O+D*D,ia=fc*fc;return[B?(T-1+bb((1-T)*(1-T)+4*O))/(2*B)*Wc:0,Ga(function(pa){return T*
(fc*bc(pa)-2*pa)*fc+4*pa*pa*(D-bc(pa))+2*fc*pa-ia*D},0)]};var Kf=5*.23185;vd.invert=function(B,D){1.790857183<D?D=1.790857183:-1.790857183>D&&(D=-1.790857183);var O=D;do{var T=O*O;O-=T=(O*(1.0148+T*T*(.23185+T*(-.14499+.02406*T)))-D)/(1.0148+T*T*(Kf+T*(-1.01493+.21654*T)))}while(1E-6<Yb(T));return[B,O]};N.invert=function(B,D){if(1E-6>Yb(D))return[B,0];var O=B*B+D*D,T=.5*D,ia=10;do{var pa=$d(T);var Ha=1/Xb(T),db=O-2*D*T+T*T;T-=pa=(pa*db+2*(T-D))/(2+db*Ha*Ha+2*(T-D)*pa)}while(1E-6<Yb(pa)&&0<--ia);pa=
$d(T);return[(Yb(D)<Yb(T+1/pa)?Ra(B*pa):Qd(D)*Qd(B)*(sb(Yb(B*pa))+Wc))/bc(T),T]};var wf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],cf=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(B){return B.map(function(D){return wf[D]})}),jf=2/bb(3);va.invert=function(B,D){return I.invert(B/jf,D)};var xf=()=>{},Oe=[],rf=[],Te={point:function(B,D){Oe.push([B,D])},result:function(){var B=Oe.length?2>Oe.length?{type:"Point",coordinates:Oe[0]}:{type:"MultiPoint",coordinates:Oe}:
null;Oe=[];return B}},$e={lineStart:xf,point:function(B,D){Oe.push([B,D])},lineEnd:function(){Oe.length&&(rf.push(Oe),Oe=[])},result:function(){var B=rf.length?2>rf.length?{type:"LineString",coordinates:rf[0]}:{type:"MultiLineString",coordinates:rf}:null;rf=[];return B}},Ff={polygonStart:xf,lineStart:xf,point:function(B,D){Oe.push([B,D])},lineEnd:function(){var B=Oe.length;if(B){do Oe.push(Oe[0].slice());while(4>++B);rf.push(Oe);Oe=[]}},polygonEnd:xf,result:function(){if(!rf.length)return null;var B=
[],D=[];rf.forEach(function(O){if(4>(ia=O.length))var T=!1;else{T=0;for(var ia,pa=O[ia-1][1]*O[0][0]-O[ia-1][0]*O[0][1];++T<ia;)pa+=O[T-1][1]*O[T][0]-O[T-1][0]*O[T][1];T=0>=pa}T?B.push([O]):D.push(O)});D.forEach(function(O){var T=O[0];B.some(function(ia){for(var pa=ia[0],Ha=T[0],db=T[1],Ua=!1,lb=0,nb=pa.length,Bb=nb-1;lb<nb;Bb=lb++){var $b=pa[lb],pc=$b[0];$b=$b[1];var Ic=pa[Bb];Bb=Ic[0];Ic=Ic[1];$b>db^Ic>db&&Ha<(Bb-pc)*(db-$b)/(Ic-$b)+pc&&(Ua=!Ua)}if(Ua)return ia.push(O),!0})||B.push([O])});rf=[];
return B.length?1<B.length?{type:"MultiPolygon",coordinates:B}:{type:"Polygon",coordinates:B[0]}:null}},af=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];af.forEach(function(B){B[1]*=1.0144});lc.invert=function(B,D){var O=D/Wc,T=90*O,ia=ue(18,Yb(T/5)),pa=ne(0,od(ia));do{var Ha=af[pa][1],db=af[pa+
1][1],Ua=af[ue(19,pa+2)][1],lb=Ua-Ha;Ha=Ua-2*db+Ha;db=2*(Yb(O)-db)/lb;lb=Ha/lb;lb=db*(1-lb*db*(1-2*lb*db));if(0<=lb||1===pa){T=(0<=D?5:-5)*(lb+ia);O=50;do ia=ue(18,Yb(T)/5),pa=od(ia),lb=ia-pa,Ha=af[pa][1],db=af[pa+1][1],Ua=af[ue(19,pa+2)][1],T-=(ia=(0<=D?Wc:-Wc)*(db+lb*(Ua-Ha)/2+lb*lb*(Ua-2*db+Ha)/2)-D)*Cd;while(1E-12<Yb(ia)&&0<--O);break}}while(0<=--pa);D=af[pa][0];ia=af[pa+1][0];pa=af[ue(19,pa+2)][0];return[B/(ia+lb*(pa-D)/2+lb*lb*(pa-2*ia+D)/2),T*rd]};Ie.invert=function(B,D){D/=1.70711;var O=bc(Ud*
D);return[B/(.74482-.34588*O*O),2*nd(D)]};qa.invert=function(B,D){if(1E-6>Yb(D))return[B,0];if(1E-6>Yb(B))return[0,Wc*bc(2*nd(D/fc))];var O=(B/=fc)*B,T=(D/=fc)*D,ia=O+T,pa=ia*ia,Ha=-Yb(D)*(1+ia),db=Ha-2*T+O,Ua=-2*Ha+1+2*T+pa,lb=T/Ua+(2*db*db*db/(Ua*Ua*Ua)-9*Ha*db/(Ua*Ua))/27,nb=(Ha-db*db/(3*Ua))/Ua;Ha=2*bb(-nb/3);lb=sb(3*lb/(nb*Ha))/3;return[fc*(ia-1+bb(1+2*(O-T)+pa))/(2*B),Qd(D)*fc*(-Ha*Xb(lb+fc/3)-db/(3*Ua))]};Fa.invert=function(B,D){if(!B)return[0,Wc*bc(2*nd(D/fc))];var O=Yb(B/fc),T=(1-O*O-(D/=
fc)*D)/(2*O),ia=bb(T*T+1);return[Qd(B)*fc*(ia-T),Qd(D)*Wc*bc(2*cd(bb((1-2*T*O)*(T+ia)-O),bb(ia+T+O)))]};rb.invert=function(B,D){if(!D)return[B,0];D/=fc;var O=(fc*fc*(1-D*D)-B*B)/(2*fc*B);return[B?fc*(Qd(B)*bb(O*O+1)-O):0,Wc*bc(2*nd(D))]};gb.invert=function(B,D){if(!B||!D)return[B,D];var O=Qd(D);D=Yb(D)/fc;var T=Qd(B)*B/Wc,ia=(T*T-1+4*D*D)/Yb(T),pa=ia*ia,Ha=D*(2-(.5<D?ue(D,Yb(B)):0));D=B*B+D*D;var db=50;do{var Ua=Ha*Ha;var lb=(8*Ha-Ua*(Ua+2)-5)/(2*Ua*(Ha-1));var nb=(3*Ha-Ua*Ha-10)/(2*Ua*Ha),Bb=lb*
lb,$b=Ha*lb,pc=Ha+lb,Ic=pc*pc,t=Ha+3*lb,y=-2*pc*(4*$b*Bb+(1-4*Ua+3*Ua*Ua)*(1+nb)+Bb*(-6+14*Ua-pa+(-8+8*Ua-2*pa)*nb)+$b*(-8+12*Ua+(-10+10*Ua-pa)*nb));Ua=bb(Ic*(Ua+Bb*pa-1)+(1-Ua)*(Ua*(t*t+4*Bb)+Bb*(12*$b+4*Bb)));Ha-=lb=(ia*(Ic+Bb-1)+2*Ua-T*(4*Ic+pa))/(ia*(2*lb*nb+2*pc*(1+nb))+y/Ua-8*pc*(ia*(-1+Bb+Ic)+2*Ua)*(1+nb)/(pa+4*Ic))}while(1E-6<lb*D*D&&0<--db);return[Qd(B)*(bb(ia*ia+4)+ia)*fc/4,O*Wc*Ha]};var Wf=4*fc+3*bb(3),Gf=2*bb(2*fc*bb(3)/Wf),Vf=za(Gf*bb(3)/fc,Gf,Wf/6);Zc.invert=function(B,D){return[B/bb(1-
3*D*D/(fc*fc)),D]};Bc.invert=function(B,D){var O=(B*B+D*D)/-2,T=bb(-O*(2+O)),ia=D*O+B*T;B=B*O-D*T;D=bb(B*B+ia*ia);return[cd(T*ia,D*(1+O)),D?-Ra(T*B/D):0]};Nc.invert=function(B,D){var O=B,T=D,ia=25;do{var pa=Xb(T),Ha=bc(T),db=bc(2*T),Ua=Ha*Ha,lb=pa*pa,nb=bc(O),Bb=Xb(O/2),$b=bc(O/2),pc=$b*$b,Ic=1-lb*Bb*Bb,t=Ic?sb(pa*Bb)*bb(y=1/Ic):y=0,y;Ic=.5*(2*t*pa*$b+O/Wc)-B;var S=.5*(t*Ha+T)-D,ba=.5*y*(lb*pc+t*pa*Bb*Ua)+.5/Wc,Xa=y*(nb*db/4-t*Ha*$b);Ha=.125*y*(db*$b-t*Ha*lb*nb);Ua=.5*y*(Ua*Bb+t*pc*pa)+.5;pa=Xa*Ha-
Ua*ba;Xa=(S*Xa-Ic*Ua)/pa;Ic=(Ic*Ha-S*ba)/pa;O-=Xa;T-=Ic}while((1E-6<Yb(Xa)||1E-6<Yb(Ic))&&0<--ia);return[O,T]};h.geoAiry=function(){var B=Wc,D=r.geoProjectionMutator(ib),O=D(B);O.radius=function(T){return arguments.length?D(B=T*rd):B*Cd};return O.scale(179.976).clipAngle(147)};h.geoAiryRaw=ib;h.geoAitoff=function(){return r.geoProjection(La).scale(152.63)};h.geoAitoffRaw=La;h.geoArmadillo=function(){var B=20*rd,D=0<=B?1:-1,O=$d(D*B),T=r.geoProjectionMutator(Ia),ia=T(B),pa=ia.stream;ia.parallel=function(Ha){if(!arguments.length)return B*
Cd;O=$d((D=0<=(B=Ha*rd)?1:-1)*B);return T(B)};ia.stream=function(Ha){var db=ia.rotate(),Ua=pa(Ha),lb=(ia.rotate([0,0]),pa(Ha)),nb=ia.precision();ia.rotate(db);Ua.sphere=function(){lb.polygonStart();lb.lineStart();for(var Bb=-180*D;180>D*Bb;Bb+=90*D)lb.point(Bb,90*D);if(B)for(;-180<=D*(Bb-=3*D*nb);)lb.point(Bb,D*-cd(Xb(Bb*rd/2),O)*Cd);lb.lineEnd();lb.polygonEnd()};return Ua};return ia.scale(218.695).center([0,28.0974])};h.geoArmadilloRaw=Ia;h.geoAugust=function(){return r.geoProjection(Sa).scale(66.1603)};
h.geoAugustRaw=Sa;h.geoBaker=function(){return r.geoProjection(xa).scale(112.314)};h.geoBakerRaw=xa;h.geoBerghaus=function(){var B=5,D=r.geoProjectionMutator(ma),O=D(B),T=O.stream,ia=-Xb(.01*rd),pa=bc(.01*rd);O.lobes=function(Ha){return arguments.length?D(B=+Ha):B};O.stream=function(Ha){var db=O.rotate(),Ua=T(Ha),lb=(O.rotate([0,0]),T(Ha));O.rotate(db);Ua.sphere=function(){lb.polygonStart();lb.lineStart();for(var nb=0,Bb=360/B,$b=2*fc/B,pc=90-180/B,Ic=Wc;nb<B;++nb,pc-=Bb,Ic-=$b)lb.point(cd(pa*Xb(Ic),
ia)*Cd,Ra(pa*bc(Ic))*Cd),-90>pc?(lb.point(-90,-180-pc-.01),lb.point(-90,-180-pc+.01)):(lb.point(90,pc+.01),lb.point(90,pc-.01));lb.lineEnd();lb.polygonEnd()};return Ua};return O.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};h.geoBerghausRaw=ma;h.geoBertin1953=function(){return r.geoProjection(ra()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};h.geoBertin1953Raw=ra;h.geoBoggs=function(){return r.geoProjection(Ta).scale(160.857)};h.geoBoggsRaw=Ta;h.geoBonne=function(){return L(ya).scale(123.082).center([0,
26.1441]).parallel(45)};h.geoBonneRaw=ya;h.geoBottomley=function(){var B=.5,D=r.geoProjectionMutator(ua),O=D(B);O.fraction=function(T){return arguments.length?D(B=+T):B};return O.scale(158.837)};h.geoBottomleyRaw=ua;h.geoBromley=function(){return r.geoProjection(Ee).scale(152.63)};h.geoBromleyRaw=Ee;h.geoChamberlin=Va;h.geoChamberlinRaw=Aa;h.geoChamberlinAfrica=function(){return Va([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};h.geoCollignon=function(){return r.geoProjection(I).scale(95.6464).center([0,
30])};h.geoCollignonRaw=I;h.geoCraig=function(){return L(x).scale(249.828).clipAngle(90)};h.geoCraigRaw=x;h.geoCraster=function(){return r.geoProjection(M).scale(156.19)};h.geoCrasterRaw=M;h.geoCylindricalEqualArea=function(){return L(K).parallel(38.58).scale(195.044)};h.geoCylindricalEqualAreaRaw=K;h.geoCylindricalStereographic=function(){return L(C).scale(124.75)};h.geoCylindricalStereographicRaw=C;h.geoEckert1=function(){return r.geoProjection(R).scale(165.664)};h.geoEckert1Raw=R;h.geoEckert2=
function(){return r.geoProjection(aa).scale(165.664)};h.geoEckert2Raw=aa;h.geoEckert3=function(){return r.geoProjection(da).scale(180.739)};h.geoEckert3Raw=da;h.geoEckert4=function(){return r.geoProjection(Da).scale(180.739)};h.geoEckert4Raw=Da;h.geoEckert5=function(){return r.geoProjection(Ja).scale(173.044)};h.geoEckert5Raw=Ja;h.geoEckert6=function(){return r.geoProjection(J).scale(173.044)};h.geoEckert6Raw=J;h.geoEisenlohr=function(){return r.geoProjection(fa).scale(62.5271)};h.geoEisenlohrRaw=
fa;h.geoFahey=function(){return r.geoProjection(ca).scale(137.152)};h.geoFaheyRaw=ca;h.geoFoucaut=function(){return r.geoProjection(W).scale(135.264)};h.geoFoucautRaw=W;h.geoFoucautSinusoidal=function(){var B=.5,D=r.geoProjectionMutator(d),O=D(B);O.alpha=function(T){return arguments.length?D(B=+T):B};return O.scale(168.725)};h.geoFoucautSinusoidalRaw=d;h.geoGilbert=function(B){function D(pa){return T([pa[0]/2,Ra($d(pa[1]/2*rd))*Cd])}function O(pa){D[pa]=function(){return arguments.length?(T[pa].apply(T,
arguments),D):T[pa]()}}null==B&&(B=r.geoOrthographic);var T=B(),ia=r.geoEquirectangular().scale(Cd).precision(0).clipAngle(null).translate([0,0]);T.invert&&(D.invert=function(pa){return c(T.invert(pa))});D.stream=function(pa){var Ha=T.stream(pa);pa=ia.stream({point:function(db,Ua){Ha.point(db/2,Ra($d(-Ua/2*rd))*Cd)},lineStart:function(){Ha.lineStart()},lineEnd:function(){Ha.lineEnd()},polygonStart:function(){Ha.polygonStart()},polygonEnd:function(){Ha.polygonEnd()}});pa.sphere=Ha.sphere;return pa};
D.rotate=function(pa){return arguments.length?(ia.rotate(pa),D):ia.rotate()};D.center=function(pa){return arguments.length?(T.center([pa[0]/2,Ra($d(pa[1]/2*rd))*Cd]),D):c(T.center())};O("angle");O("clipAngle");O("clipExtent");O("fitExtent");O("fitHeight");O("fitSize");O("fitWidth");O("scale");O("translate");O("precision");return D.scale(249.5)};h.geoGingery=function(){var B=6,D=30*rd,O=Xb(D),T=bc(D),ia=r.geoProjectionMutator(f),pa=ia(D,B),Ha=pa.stream,db=-Xb(.01*rd),Ua=bc(.01*rd);pa.radius=function(lb){if(!arguments.length)return D*
Cd;O=Xb(D=lb*rd);T=bc(D);return ia(D,B)};pa.lobes=function(lb){return arguments.length?ia(D,B=+lb):B};pa.stream=function(lb){var nb=pa.rotate(),Bb=Ha(lb),$b=(pa.rotate([0,0]),Ha(lb));pa.rotate(nb);Bb.sphere=function(){$b.polygonStart();$b.lineStart();for(var pc=0,Ic=2*fc/B,t=0;pc<B;++pc,t-=Ic)$b.point(cd(Ua*Xb(t),db)*Cd,Ra(Ua*bc(t))*Cd),$b.point(cd(T*Xb(t-Ic/2),O)*Cd,Ra(T*bc(t-Ic/2))*Cd);$b.lineEnd();$b.polygonEnd()};return Bb};return pa.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};h.geoGingeryRaw=
f;h.geoGinzburg4=function(){return r.geoProjection(F).scale(149.995)};h.geoGinzburg4Raw=F;h.geoGinzburg5=function(){return r.geoProjection(X).scale(153.93)};h.geoGinzburg5Raw=X;h.geoGinzburg6=function(){return r.geoProjection(Oa).scale(130.945)};h.geoGinzburg6Raw=Oa;h.geoGinzburg8=function(){return r.geoProjection(w).scale(131.747)};h.geoGinzburg8Raw=w;h.geoGinzburg9=function(){return r.geoProjection(Hb).scale(131.087)};h.geoGinzburg9Raw=Hb;h.geoGringorten=function(){return r.geoProjection(G(U)).scale(239.75)};
h.geoGringortenRaw=U;h.geoGuyou=function(){return r.geoProjection(G(Y)).scale(151.496)};h.geoGuyouRaw=Y;h.geoHammer=function(){var B=2,D=r.geoProjectionMutator(na),O=D(B);O.coefficient=function(T){return arguments.length?D(B=+T):B};return O.scale(169.529)};h.geoHammerRaw=na;h.geoHammerRetroazimuthal=function(){var B=0,D=r.geoProjectionMutator(ta),O=D(B),T=O.rotate,ia=O.stream,pa=r.geoCircle();O.parallel=function(Ha){if(!arguments.length)return B*Cd;var db=O.rotate();return D(B=Ha*rd).rotate(db)};
O.rotate=function(Ha){if(!arguments.length)return Ha=T.call(O),Ha[1]+=B*Cd,Ha;T.call(O,[Ha[0],Ha[1]-B*Cd]);pa.center([-Ha[0],-Ha[1]]);return O};O.stream=function(Ha){Ha=ia(Ha);Ha.sphere=function(){Ha.polygonStart();var db=pa.radius(89.99)().coordinates[0],Ua=db.length-1,lb=-1,nb;for(Ha.lineStart();++lb<Ua;)Ha.point((nb=db[lb])[0],nb[1]);Ha.lineEnd();db=pa.radius(90.01)().coordinates[0];for(Ha.lineStart();0<=--lb;)Ha.point((nb=db[lb])[0],nb[1]);Ha.lineEnd();Ha.polygonEnd()};return Ha};return O.scale(79.4187).parallel(45).clipAngle(179.999)};
h.geoHammerRetroazimuthalRaw=ta;h.geoHealpix=function(){var B=4,D=r.geoProjectionMutator(Q),O=D(B),T=O.stream;O.lobes=function(ia){return arguments.length?D(B=+ia):B};O.stream=function(ia){var pa=O.rotate(),Ha=T(ia),db=(O.rotate([0,0]),T(ia));O.rotate(pa);Ha.sphere=function(){var Ua=r.geoStream;var lb=180/B;var nb=[].concat(A.range(-180,180+lb/2,lb).map(ja),A.range(180,-180-lb/2,-lb).map(Ca));lb={type:"Polygon",coordinates:[180===lb?nb.map(qb):nb]};Ua.call(r,lb,db)};return Ha};return O.scale(239.75)};
h.geoHealpixRaw=Q;h.geoHill=function(){var B=1,D=r.geoProjectionMutator(Ya),O=D(B);O.ratio=function(T){return arguments.length?D(B=+T):B};return O.scale(167.774).center([0,18.67])};h.geoHillRaw=Ya;h.geoHomolosine=function(){return r.geoProjection(Na).scale(152.63)};h.geoHomolosineRaw=Na;h.geoHufnagel=function(){var B=1,D=0,O=45*rd,T=2,ia=r.geoProjectionMutator(Ab),pa=ia(B,D,O,T);pa.a=function(Ha){return arguments.length?ia(B=+Ha,D,O,T):B};pa.b=function(Ha){return arguments.length?ia(B,D=+Ha,O,T):
D};pa.psiMax=function(Ha){return arguments.length?ia(B,D,O=+Ha*rd,T):O*Cd};pa.ratio=function(Ha){return arguments.length?ia(B,D,O,T=+Ha):T};return pa.scale(180.739)};h.geoHufnagelRaw=Ab;h.geoHyperelliptical=function(){var B=0,D=2.5,O=1.183136,T=r.geoProjectionMutator(Mb),ia=T(B,D,O);ia.alpha=function(pa){return arguments.length?T(B=+pa,D,O):B};ia.k=function(pa){return arguments.length?T(B,D=+pa,O):D};ia.gamma=function(pa){return arguments.length?T(B,D,O=+pa):O};return ia.scale(152.63)};h.geoHyperellipticalRaw=
Mb;h.geoInterrupt=Hc;h.geoInterruptedBoggs=function(){return Hc(Ta,Ob).scale(160.857)};h.geoInterruptedHomolosine=function(){return Hc(Na,Xc).scale(152.63)};h.geoInterruptedMollweide=function(){return Hc(Ce,Sc).scale(169.529)};h.geoInterruptedMollweideHemispheres=function(){return Hc(Ce,ud).scale(169.529).rotate([20,0])};h.geoInterruptedSinuMollweide=function(){return Hc(ob,Id,la).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};h.geoInterruptedSinusoidal=function(){return Hc(ha,Ld).scale(152.63).rotate([-20,
0])};h.geoKavrayskiy7=function(){return r.geoProjection(zc).scale(158.837)};h.geoKavrayskiy7Raw=zc;h.geoLagrange=function(){var B=.5,D=r.geoProjectionMutator(ed),O=D(B);O.spacing=function(T){return arguments.length?D(B=+T):B};return O.scale(124.75)};h.geoLagrangeRaw=ed;h.geoLarrivee=function(){return r.geoProjection(Ad).scale(97.2672)};h.geoLarriveeRaw=Ad;h.geoLaskowski=function(){return r.geoProjection(Gc).scale(139.98)};h.geoLaskowskiRaw=Gc;h.geoLittrow=function(){return r.geoProjection(gd).scale(144.049).clipAngle(89.999)};
h.geoLittrowRaw=gd;h.geoLoximuthal=function(){return L(ie).parallel(40).scale(158.837)};h.geoLoximuthalRaw=ie;h.geoMiller=function(){return r.geoProjection(Mc).scale(108.318)};h.geoMillerRaw=Mc;h.geoModifiedStereographic=Rd;h.geoModifiedStereographicRaw=xd;h.geoModifiedStereographicAlaska=function(){return Rd(ae,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};h.geoModifiedStereographicGs48=function(){return Rd(ge,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};
h.geoModifiedStereographicGs50=function(){return Rd(me,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};h.geoModifiedStereographicMiller=function(){return Rd(ke,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};h.geoModifiedStereographicLee=function(){return Rd(De,[165,10]).scale(250).clipAngle(130).center([-165,-10])};h.geoMollweide=function(){return r.geoProjection(Ce).scale(169.529)};h.geoMollweideRaw=Ce;h.geoMtFlatPolarParabolic=function(){return r.geoProjection(Db).scale(164.859)};
h.geoMtFlatPolarParabolicRaw=Db;h.geoMtFlatPolarQuartic=function(){return r.geoProjection(ac).scale(188.209)};h.geoMtFlatPolarQuarticRaw=ac;h.geoMtFlatPolarSinusoidal=function(){return r.geoProjection(kb).scale(166.518)};h.geoMtFlatPolarSinusoidalRaw=kb;h.geoNaturalEarth2=function(){return r.geoProjection(oc).scale(175.295)};h.geoNaturalEarth2Raw=oc;h.geoNellHammer=function(){return r.geoProjection(sc).scale(152.63)};h.geoNellHammerRaw=sc;h.geoInterruptedQuarticAuthalic=function(){return Hc(na(Infinity),
ef).rotate([20,0]).scale(152.63)};h.geoNicolosi=function(){return r.geoProjection(dd).scale(127.267)};h.geoNicolosiRaw=dd;h.geoPatterson=function(){return r.geoProjection(vd).scale(139.319)};h.geoPattersonRaw=vd;h.geoPolyconic=function(){return r.geoProjection(N).scale(103.74)};h.geoPolyconicRaw=N;h.geoPolyhedral=Fb;h.geoPolyhedralButterfly=function(B){B=B||function(O){O=r.geoCentroid({type:"MultiPoint",coordinates:O});return r.geoGnomonic().scale(1).translate([0,0]).rotate([-O[0],-O[1]])};var D=
cf.map(function(O){return{face:O,project:B(O)}});[-1,0,0,1,0,1,4,5].forEach(function(O,T){(O=D[O])&&(O.children||(O.children=[])).push(D[T])});return Fb(D[0],function(O,T){return D[O<-fc/2?0>T?6:4:0>O?0>T?2:0:O<fc/2?0>T?3:1:0>T?7:5]}).angle(-30).scale(101.858).center([0,45])};h.geoPolyhedralCollignon=function(B){B=B||function(O){O=r.geoCentroid({type:"MultiPoint",coordinates:O});return r.geoProjection(va).translate([0,0]).scale(1).rotate(0<O[1]?[-O[0],0]:[180-O[0],180])};var D=cf.map(function(O){return{face:O,
project:B(O)}});[-1,0,0,1,0,1,4,5].forEach(function(O,T){(O=D[O])&&(O.children||(O.children=[])).push(D[T])});return Fb(D[0],function(O,T){return D[O<-fc/2?0>T?6:4:0>O?0>T?2:0:O<fc/2?0>T?3:1:0>T?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};h.geoPolyhedralWaterman=function(B){B=B||function(pa){pa=6===pa.length?r.geoCentroid({type:"MultiPoint",coordinates:pa}):pa[0];return r.geoGnomonic().scale(1).translate([0,0]).rotate([-pa[0],-pa[1]])};var D=cf.map(function(pa){pa=pa.map(Ub);for(var Ha=
pa.length,db=pa[Ha-1],Ua,lb=[],nb=0;nb<Ha;++nb)Ua=pa[nb],lb.push(pb([.9486832980505138*db[0]+.31622776601683794*Ua[0],.9486832980505138*db[1]+.31622776601683794*Ua[1],.9486832980505138*db[2]+.31622776601683794*Ua[2]]),pb([.9486832980505138*Ua[0]+.31622776601683794*db[0],.9486832980505138*Ua[1]+.31622776601683794*db[1],.9486832980505138*Ua[2]+.31622776601683794*db[2]])),db=Ua;return lb}),O=[],T=[-1,0,0,1,0,1,4,5];D.forEach(function(pa,Ha){for(var db=cf[Ha],Ua=db.length,lb=O[Ha]=[],nb=0;nb<Ua;++nb){D.push([db[nb],
pa[(2*nb+2)%(2*Ua)],pa[(2*nb+1)%(2*Ua)]]);T.push(Ha);var Bb=lb,$b=Bb.push,pc=Ub(pa[(2*nb+2)%(2*Ua)]),Ic=Ub(pa[(2*nb+1)%(2*Ua)]);$b.call(Bb,[pc[1]*Ic[2]-pc[2]*Ic[1],pc[2]*Ic[0]-pc[0]*Ic[2],pc[0]*Ic[1]-pc[1]*Ic[0]])}});var ia=D.map(function(pa){return{project:B(pa),face:pa}});T.forEach(function(pa,Ha){(pa=ia[pa])&&(pa.children||(pa.children=[])).push(ia[Ha])});return Fb(ia[0],function(pa,Ha){var db=Xb(Ha);db=[db*Xb(pa),db*bc(pa),bc(Ha)];pa=pa<-fc/2?0>Ha?6:4:0>pa?0>Ha?2:0:pa<fc/2?0>Ha?3:1:0>Ha?7:5;Ha=
O[pa];return ia[0>Za(Ha[0],db)?8+3*pa:0>Za(Ha[1],db)?3*pa+9:0>Za(Ha[2],db)?3*pa+10:pa]}).angle(-30).scale(110.625).center([0,45])};h.geoProject=function(B,D){D=D.stream;if(!D)throw Error("invalid projection");switch(B&&B.type){case "Feature":var O=Cc;break;case "FeatureCollection":O=wc;break;default:O=Cb}return O(B,D)};h.geoGringortenQuincuncial=function(){return Vb(U).scale(176.423)};h.geoPeirceQuincuncial=function(){return Vb(Y).scale(111.48)};h.geoQuantize=function(B,D){function O(Ua){var lb=Ua.length,
nb=2,Bb=Array(lb);Bb[0]=+Ua[0].toFixed(D);for(Bb[1]=+Ua[1].toFixed(D);nb<lb;)Bb[nb]=Ua[nb],++nb;return Bb}function T(Ua){for(var lb=O(Ua[0]),nb=[lb],Bb=1;Bb<Ua.length;Bb++){var $b=O(Ua[Bb]);if(2<$b.length||$b[0]!=lb[0]||$b[1]!=lb[1])nb.push($b),lb=$b}1===nb.length&&1<Ua.length&&nb.push(O(Ua[Ua.length-1]));return nb}function ia(Ua){return Ua.map(T)}function pa(Ua){if(null==Ua)return Ua;switch(Ua.type){case "GeometryCollection":var lb={type:"GeometryCollection",geometries:Ua.geometries.map(pa)};break;
case "Point":lb={type:"Point",coordinates:O(Ua.coordinates)};break;case "MultiPoint":lb={type:Ua.type,coordinates:Ua.coordinates.map(O)};break;case "LineString":lb={type:Ua.type,coordinates:T(Ua.coordinates)};break;case "MultiLineString":case "Polygon":lb={type:Ua.type,coordinates:ia(Ua.coordinates)};break;case "MultiPolygon":lb={type:"MultiPolygon",coordinates:Ua.coordinates.map(ia)};break;default:return Ua}null!=Ua.bbox&&(lb.bbox=Ua.bbox);return lb}function Ha(Ua){var lb={type:"Feature",properties:Ua.properties,
geometry:pa(Ua.geometry)};null!=Ua.id&&(lb.id=Ua.id);null!=Ua.bbox&&(lb.bbox=Ua.bbox);return lb}if(!(0<=(D=+D)&&20>=D))throw Error("invalid digits");if(null!=B)switch(B.type){case "Feature":return Ha(B);case "FeatureCollection":var db={type:"FeatureCollection",features:B.features.map(Ha)};null!=B.bbox&&(db.bbox=B.bbox);return db;default:return pa(B)}return B};h.geoQuincuncial=Vb;h.geoRectangularPolyconic=function(){return L(nc).scale(131.215)};h.geoRectangularPolyconicRaw=nc;h.geoRobinson=function(){return r.geoProjection(lc).scale(152.63)};
h.geoRobinsonRaw=lc;h.geoSatellite=function(){var B=2,D=0,O=r.geoProjectionMutator(Vc),T=O(B,D);T.distance=function(ia){return arguments.length?O(B=+ia,D):B};T.tilt=function(ia){return arguments.length?O(B,D=ia*rd):D*Cd};return T.scale(432.147).clipAngle(sb(1/B)*Cd-1E-6)};h.geoSatelliteRaw=Vc;h.geoSinuMollweide=function(){return r.geoProjection(ob).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};h.geoSinuMollweideRaw=ob;h.geoSinusoidal=function(){return r.geoProjection(ha).scale(152.63)};h.geoSinusoidalRaw=
ha;h.geoStitch=function(B){if(null==B)return B;switch(B.type){case "Feature":return le(B);case "FeatureCollection":var D={type:"FeatureCollection",features:B.features.map(le)};null!=B.bbox&&(D.bbox=B.bbox);return D;default:return Kd(B)}};h.geoTimes=function(){return r.geoProjection(Ie).scale(146.153)};h.geoTimesRaw=Ie;h.geoTwoPointAzimuthal=Dd;h.geoTwoPointAzimuthalRaw=Be;h.geoTwoPointAzimuthalUsa=function(){return Dd([-158,21.5],[-77,39]).clipAngle(60).scale(400)};h.geoTwoPointEquidistant=V;h.geoTwoPointEquidistantRaw=
be;h.geoTwoPointEquidistantUsa=function(){return V([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};h.geoVanDerGrinten=function(){return r.geoProjection(qa).scale(79.4183)};h.geoVanDerGrintenRaw=qa;h.geoVanDerGrinten2=function(){return r.geoProjection(Fa).scale(79.4183)};h.geoVanDerGrinten2Raw=Fa;h.geoVanDerGrinten3=function(){return r.geoProjection(rb).scale(79.4183)};h.geoVanDerGrinten3Raw=rb;h.geoVanDerGrinten4=function(){return r.geoProjection(gb).scale(127.16)};h.geoVanDerGrinten4Raw=gb;
h.geoWagner=kc;h.geoWagner7=function(){return kc().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};h.geoWagnerRaw=Rb;h.geoWagner4=function(){return r.geoProjection(Vf).scale(176.84)};h.geoWagner4Raw=Vf;h.geoWagner6=function(){return r.geoProjection(Zc).scale(152.63)};h.geoWagner6Raw=Zc;h.geoWiechel=function(){return r.geoProjection(Bc).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};h.geoWiechelRaw=Bc;h.geoWinkel3=function(){return r.geoProjection(Nc).scale(158.837)};h.geoWinkel3Raw=
Nc;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[30]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(28),zb(29)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.d3,h.d3))})(this,function(h,r,A){function Ra(ib,La){return function Sa(){const xa=La();xa.type=ib;xa.path=r.geoPath().projection(xa);xa.copy=xa.copy||function(){const ma=Sa();xb.forEach(na=>{if(xa[na])ma[na](xa[na]())});ma.path.pointRadius(xa.path.pointRadius());
return ma};return xa}}function sb(ib,La){if(!ib||"string"!==typeof ib)throw Error("Projection type must be a name string.");ib=ib.toLowerCase();return 1<arguments.length?(Gb[ib]=Ra(ib,La),this):Gb[ib]||null}const bb=r.geoPath(),xb="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Gb={albers:r.geoAlbers,albersusa:r.geoAlbersUsa,azimuthalequalarea:r.geoAzimuthalEqualArea,azimuthalequidistant:r.geoAzimuthalEquidistant,
conicconformal:r.geoConicConformal,conicequalarea:r.geoConicEqualArea,conicequidistant:r.geoConicEquidistant,equalEarth:r.geoEqualEarth,equirectangular:r.geoEquirectangular,gnomonic:r.geoGnomonic,identity:r.geoIdentity,mercator:r.geoMercator,mollweide:A.geoMollweide,naturalEarth1:r.geoNaturalEarth1,orthographic:r.geoOrthographic,stereographic:r.geoStereographic,transversemercator:r.geoTransverseMercator};for(const ib in Gb)sb(ib,Gb[ib]);h.getProjectionPath=function(ib){return ib&&ib.path||bb};h.projection=
sb;h.projectionProperties=xb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[31]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(14),zb(2),zb(3),zb(16),zb(30),zb(28),zb(21),zb(20)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3,h.vega,h.vega,h.d3,h.d3,h.vega))})(this,function(h,r,A,Ra,sb,
bb,xb,Gb,ib){function La(){}function Ia(){function W(w,G){return G.map(U=>d(w,U))}function d(w,G){var U=[],wa=[];c(w,G,cb=>{q(cb,w,G);for(var hb=0,Y=cb.length,ta=cb[Y-1][1]*cb[0][0]-cb[Y-1][0]*cb[0][1];++hb<Y;)ta+=cb[hb-1][1]*cb[hb][0]-cb[hb-1][0]*cb[hb][1];0<ta?U.push([cb]):wa.push(cb)});wa.forEach(cb=>{for(var hb=0,Y=U.length,ta;hb<Y;++hb){a:{var H=(ta=U[hb])[0];for(var Q=cb,ja=-1,Ca=Q.length;++ja<Ca;){b:{var qb=H;for(var Ya=Q[ja],ob=Ya[0],Na=Ya[1],Ab=-1,Eb=0,eb=qb.length,Mb=eb-1;Eb<eb;Mb=Eb++){var jc=
qb[Eb],Zb=jc[0],Hc=jc[1],zc=qb[Mb];Mb=zc[0];var ed=zc[1],Ad,Gc=jc;jc=zc;zc=Ya;if(Ad=(jc[0]-Gc[0])*(zc[1]-Gc[1])===(zc[0]-Gc[0])*(jc[1]-Gc[1]))Gc=Gc[Ad=+(Gc[0]===jc[0])],zc=zc[Ad],jc=jc[Ad],Ad=Gc<=zc&&zc<=jc||jc<=zc&&zc<=Gc;if(Ad){qb=0;break b}Hc>Na!==ed>Na&&ob<(Mb-Zb)*(Na-Hc)/(ed-Hc)+Zb&&(Ab=-Ab)}qb=Ab}if(qb){H=qb;break a}}H=0}if(-1!==H){ta.push(cb);break}}});return{type:"MultiPolygon",value:G,coordinates:U}}function c(w,G,U){function wa(qb){var Ya=[qb[0][0]+ta,qb[0][1]+Y];qb=[qb[1][0]+ta,qb[1][1]+
Y];var ob=2*Ya[0]+Ya[1]*(l+1)*4,Na=2*qb[0]+qb[1]*(l+1)*4,Ab,Eb;(Ab=hb[ob])?(Eb=cb[Na])?(delete hb[Ab.end],delete cb[Eb.start],Ab===Eb?(Ab.ring.push(qb),U(Ab.ring)):cb[Ab.start]=hb[Eb.end]={start:Ab.start,end:Eb.end,ring:Ab.ring.concat(Eb.ring)}):(delete hb[Ab.end],Ab.ring.push(qb),hb[Ab.end=Na]=Ab):(Ab=cb[Na])?(Eb=hb[ob])?(delete cb[Ab.start],delete hb[Eb.end],Ab===Eb?(Ab.ring.push(qb),U(Ab.ring)):cb[Eb.start]=hb[Ab.end]={start:Eb.start,end:Ab.end,ring:Eb.ring.concat(Ab.ring)}):(delete cb[Ab.start],
Ab.ring.unshift(Ya),cb[Ab.start=ob]=Ab):cb[ob]=hb[Na]={start:ob,end:Na,ring:[Ya,qb]}}var cb=[],hb=[],Y;var ta=Y=-1;var H=w[0]>=G;for(fa[H<<1].forEach(wa);++ta<l-1;){var Q=H;H=w[ta+1]>=G;fa[Q|H<<1].forEach(wa)}for(fa[H<<0].forEach(wa);++Y<m-1;){ta=-1;H=w[Y*l+l]>=G;var ja=w[Y*l]>=G;for(fa[H<<1|ja<<2].forEach(wa);++ta<l-1;){Q=H;H=w[Y*l+l+ta+1]>=G;var Ca=ja;ja=w[Y*l+ta+1]>=G;fa[Q|H<<1|ja<<2|Ca<<3].forEach(wa)}fa[H|ja<<3].forEach(wa)}ta=-1;ja=w[Y*l]>=G;for(fa[ja<<2].forEach(wa);++ta<l-1;)Ca=ja,ja=w[Y*
l+ta+1]>=G,fa[ja<<2|Ca<<3].forEach(wa);fa[ja<<3].forEach(wa)}function f(w,G,U){w.forEach(wa=>{var cb=wa[0],hb=wa[1],Y=cb|0,ta=hb|0,H=G[ta*l+Y];if(0<cb&&cb<l&&Y===cb){var Q=G[ta*l+Y-1];wa[0]=cb+(U-Q)/(H-Q)-.5}0<hb&&hb<m&&ta===hb&&(Q=G[(ta-1)*l+Y],wa[1]=hb+(U-Q)/(H-Q)-.5)})}var l=1,m=1,q=f;W.contour=d;W.size=function(w){if(!arguments.length)return[l,m];var G=Math.floor(w[0]),U=Math.floor(w[1]);0<=G&&0<=U||A.error("invalid size");return l=G,m=U,W};W.smooth=function(w){return arguments.length?(q=w?f:
La,W):q===f};return W}function Sa(W,d,c){return function(f){var l=A.extent(f);f=c?Math.min(l[0],0):l[0];l=l[1];var m=l-f;m=d?Ra.tickStep(f,l,W):m/(W+1);return Ra.range(f+m,l,m)}}function xa(W){r.Transform.call(this,null,W)}function ma(W,d,c){const f=Sa(c.levels||10,c.nice,!1!==c.zero);return"shared"!==c.resolve?f:f(W.map(l=>Ra.max(d(l).values)))}function na(W,d,c,f){var l=f.scale||d.scale;let m=f.translate||d.translate;A.isFunction(l)&&(l=l(c,f));A.isFunction(m)&&(m=m(c,f));if(1!==l&&null!=l||m)c=
(A.isNumber(l)?l:l[0])||1,l=(A.isNumber(l)?l:l[1])||1,W.forEach(Ba(d,c,l,m&&m[0]||0,m&&m[1]||0))}function Ba(W,d,c,f,l){function m(cb){cb.forEach(q)}function q(cb){wa&&cb.reverse();cb.forEach(w)}function w(cb){cb[0]=(cb[0]-G)*d+f;cb[1]=(cb[1]-U)*c+l}const G=W.x1||0,U=W.y1||0,wa=0>d*c;return function(cb){cb.coordinates.forEach(m);return cb}}function Ga(W,d,c){W=0<=W?W:sb.bandwidthNRD(d,c);return Math.round((Math.sqrt(4*W*W+1)-1)/2)}function la(W){return A.isFunction(W)?W:A.constant(+W)}function ra(){function W(G,
U){const wa=Ga(l[0],G,d)>>w,cb=Ga(l[1],G,c)>>w,hb=wa?wa+2:0,Y=cb?cb+2:0,ta=2*hb+(m>>w),H=2*Y+(q>>w),Q=new Float32Array(ta*H),ja=new Float32Array(ta*H);let Ca=Q;G.forEach(qb=>{const Ya=hb+(+d(qb)>>w),ob=Y+(+c(qb)>>w);0<=Ya&&Ya<ta&&0<=ob&&ob<H&&(Q[Ya+ob*ta]+=+f(qb))});0<wa&&0<cb?(Qa(ta,H,Q,ja,wa),za(ta,H,ja,Q,cb),Qa(ta,H,Q,ja,wa),za(ta,H,ja,Q,cb),Qa(ta,H,Q,ja,wa),za(ta,H,ja,Q,cb)):0<wa?(Qa(ta,H,Q,ja,wa),Qa(ta,H,ja,Q,wa),Qa(ta,H,Q,ja,wa),Ca=ja):0<cb&&(za(ta,H,Q,ja,cb),za(ta,H,ja,Q,cb),za(ta,H,Q,ja,cb),
Ca=ja);G=U?Math.pow(2,-2*w):1/Ra.sum(Ca);for(let qb=0,Ya=ta*H;qb<Ya;++qb)Ca[qb]*=G;return{values:Ca,scale:1<<w,width:ta,height:H,x1:hb,y1:Y,x2:hb+(m>>w),y2:Y+(q>>w)}}var d=G=>G[0],c=G=>G[1],f=A.one,l=[-1,-1],m=960,q=500,w=2;W.x=function(G){return arguments.length?(d=la(G),W):d};W.y=function(G){return arguments.length?(c=la(G),W):c};W.weight=function(G){return arguments.length?(f=la(G),W):f};W.size=function(G){if(!arguments.length)return[m,q];var U=+G[0],wa=+G[1];0<=U&&0<=wa||A.error("invalid size");
return m=U,q=wa,W};W.cellSize=function(G){if(!arguments.length)return 1<<w;1<=(G=+G)||A.error("invalid cell size");w=Math.floor(Math.log(G)/Math.LN2);return W};W.bandwidth=function(G){if(!arguments.length)return l;G=A.array(G);1===G.length&&(G=[+G[0],+G[0]]);2!==G.length&&A.error("invalid bandwidth");return l=G,W};return W}function Qa(W,d,c,f,l){const m=(l<<1)+1;for(let q=0;q<d;++q)for(let w=0,G=0;w<W+l;++w)w<W&&(G+=c[w+q*W]),w>=l&&(w>=m&&(G-=c[w-m+q*W]),f[w-l+q*W]=G/Math.min(w+1,W-1+m-w,m))}function za(W,
d,c,f,l){const m=(l<<1)+1;for(let q=0;q<W;++q)for(let w=0,G=0;w<d+l;++w)w<d&&(G+=c[q+w*W]),w>=l&&(w>=m&&(G-=c[q+(w-m)*W]),f[q+(w-l)*W]=G/Math.min(w+1,d-1+m-w,m))}function Ta(W){r.Transform.call(this,null,W)}function L(W,d){ca.forEach(c=>null!=d[c]?W[c](d[c]):0);return W}function ha(W,d){var c=[],f=wa=>wa(w),l;if(null==d)c.push(W);else{var m={};var q=0;for(l=W.length;q<l;++q){var w=W[q];var G=d.map(f);var U=m[G];U||(m[G]=U=[],U.dims=G,c.push(U));U.push(w)}}return c}function ya(W){r.Transform.call(this,
null,W)}function ua(W){r.Transform.call(this,null,W)}function Ma(W){r.Transform.call(this,null,W)}function Pa(W,d){const c=W.pointRadius();W.context(null);null!=d&&W.pointRadius(d);return c}function Aa(W){r.Transform.call(this,null,W)}function ab(W){r.Transform.call(this,null,W)}function Va(W,d,c){const f=null==c?l=>W(d(l)):l=>{var m=W.pointRadius();l=W.pointRadius(c)(d(l));W.pointRadius(m);return l};f.context=l=>{W.context(l);return f};return f}function I(W){r.Transform.call(this,[],W);this.generator=
xb.geoGraticule()}function x(W){r.Transform.call(this,null,W)}function M(W,d){let c;A.isFunction(W)?(c=f=>Gb.rgb(W(f,d)),c.dep=C(W)):c=A.constant(Gb.rgb(W||"#888"));return c}function K(W,d){let c;A.isFunction(W)?(c=f=>W(f,d),c.dep=C(W)):W?c=A.constant(W):(c=f=>f.$value/f.$max||0,c.dep=!0);return c}function C(W){if(!A.isFunction(W))return!1;W=A.toSet(A.accessorFields(W));return W.$x||W.$y||W.$value||W.$max}function R(W,d,c,f){const l=W.width;var m=W.height;const q=W.x1||0,w=W.y1||0,G=W.x2||l;m=W.y2||
m;const U=W.values;W=U?ta=>U[ta]:A.zero;const wa=ib.canvas(G-q,m-w),cb=wa.getContext("2d"),hb=cb.getImageData(0,0,G-q,m-w),Y=hb.data;for(let ta=w,H=0;ta<m;++ta){d.$y=ta-w;for(let Q=q,ja=ta*l;Q<G;++Q,H+=4){d.$x=Q-q;d.$value=W(Q+ja);const Ca=c(d);Y[H+0]=Ca.r;Y[H+1]=Ca.g;Y[H+2]=Ca.b;Y[H+3]=~~(255*f(d))}}cb.putImageData(hb,0,0);return wa}function aa(W){r.Transform.call(this,null,W);this.modified(!0)}function da(W,d){const c=Ja(d.fit);d.extent?W.fitExtent(d.extent,c):d.size?W.fitSize(d.size,c):0}function Da(W){const d=
bb.projection((W||"mercator").toLowerCase());d||A.error("Unrecognized projection type: "+W);return d()}function Ja(W){W=A.array(W);return 1===W.length?W[0]:{type:"FeatureCollection",features:W.reduce((d,c)=>d.concat(J(c)),[])}}function J(W){return"FeatureCollection"===W.type?W.features:A.array(W).filter(d=>null!=d).map(d=>"Feature"===d.type?d:{type:"Feature",geometry:d})}const fa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,
.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];xa.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean",
"default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};A.inherits(xa,r.Transform,{transform(W,d){if(this.value&&!d.changed()&&!W.modified())return d.StopPropagation;var c=d.fork(d.NO_SOURCE|d.NO_FIELDS);d=d.materialize(d.SOURCE).source;var f=W.field||A.identity,l=Ia().smooth(!1!==W.smooth),m=W.thresholds||ma(d,f,W),q=null===W.as?null:W.as||"contour",w=
[];d.forEach(G=>{const U=f(G),wa=l.size([U.width,U.height])(U.values,A.isArray(m)?m:m(U.values));na(wa,U,G,W);wa.forEach(cb=>{w.push(r.rederive(G,r.ingest(null!=q?{[q]:cb}:cb)))})});this.value&&(c.rem=this.value);this.value=c.source=c.add=w;return c}});Ta.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const ca="x y weight size cellSize bandwidth".split(" ");A.inherits(Ta,r.Transform,{transform(W,d){if(this.value&&!d.changed()&&!W.modified())return d.StopPropagation;var c=d.fork(d.NO_SOURCE|d.NO_FIELDS);d=d.materialize(d.SOURCE).source;d=ha(d,W.groupby);var f=(W.groupby||[]).map(A.accessorName),l=L(ra(),W),m=W.as||"grid",
q=[];q=d.map(w=>{var G=r.ingest,U={[m]:l(w,W.counts)};w=w.dims;for(let wa=0;wa<f.length;++wa)U[f[wa]]=w[wa];return G.call(r,U)});this.value&&(c.rem=this.value);this.value=c.source=c.add=q;return c}});ya.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},
{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};A.inherits(ya,r.Transform,{transform(W,d){if(this.value&&!d.changed()&&!W.modified())return d.StopPropagation;var c=d.fork(d.NO_SOURCE|d.NO_FIELDS),f=Ia().smooth(!1!==W.smooth),l=W.values,m=W.thresholds||Sa(W.count||10,W.nice,!!l),q=W.size;if(!l){l=d.materialize(d.SOURCE).source;W=L(ra(),W)(l,!0);var w=Ba(W,W.scale||1,W.scale||1,0,0);q=[W.width,
W.height];l=W.values}m=A.isArray(m)?m:m(l);l=f.size(q)(l,m);w&&l.forEach(w);this.value&&(c.rem=this.value);this.value=c.source=c.add=(l||[]).map(r.ingest);return c}});ua.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};A.inherits(ua,r.Transform,{transform(W,d){var c=this._features,f=this._points,l=W.fields,m=l&&l[0],q=l&&l[1],w=W.geojson||!l&&A.identity;l=d.ADD;W=W.modified()||d.changed(d.REM)||d.modified(A.accessorFields(w))||
m&&d.modified(A.accessorFields(m))||q&&d.modified(A.accessorFields(q));if(!this.value||W)l=d.SOURCE,this._features=c=[],this._points=f=[];w&&d.visit(l,G=>c.push(w(G)));m&&q&&(d.visit(l,G=>{var U=m(G);G=q(G);null!=U&&null!=G&&(U=+U)===U&&(G=+G)===G&&f.push([U,G])}),c=c.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:f}}));this.value={type:"FeatureCollection",features:c}}});Ma.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",
type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};A.inherits(Ma,r.Transform,{transform(W,d){var c=d.fork(d.ALL),f=this.value,l=W.field||A.identity,m=W.as||"path",q=c.SOURCE;!f||W.modified()?(this.value=f=bb.getProjectionPath(W.projection),c.materialize().reflow()):q=l===A.identity||d.modified(l.fields)?c.ADD_MOD:c.ADD;W=Pa(f,W.pointRadius);c.visit(q,w=>w[m]=f(l(w)));f.pointRadius(W);return c.modifies(m)}});Aa.Definition={type:"GeoPoint",metadata:{modifies:!0},
params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};A.inherits(Aa,r.Transform,{transform(W,d){function c(U){const wa=f([l(U),m(U)]);wa?(U[w]=wa[0],U[G]=wa[1]):(U[w]=void 0,U[G]=void 0)}var f=W.projection,l=W.fields[0],m=W.fields[1],q=W.as||["x","y"],w=q[0],G=q[1];W.modified()?d=d.materialize().reflow(!0).visit(d.SOURCE,c):(W=d.modified(l.fields)||d.modified(m.fields),
d.visit(W?d.ADD_MOD:d.ADD,c));return d.modifies(q)}});ab.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};A.inherits(ab,r.Transform,{transform(W,d){d=d.fork(d.ALL);var c=this.value,f=W.as||"shape",l=d.ADD;if(!c||W.modified())this.value=c=Va(bb.getProjectionPath(W.projection),W.field||A.field("datum"),W.pointRadius),
d.materialize().reflow(),l=d.SOURCE;d.visit(l,m=>m[f]=c);return d.modifies(f)}});I.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",
array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};A.inherits(I,r.Transform,{transform(W,d){var c=this.value,f=this.generator;if(!c.length||W.modified())for(const l in W)if(A.isFunction(f[l]))f[l](W[l]);W=f();c.length?d.mod.push(r.replace(c[0],W)):d.add.push(r.ingest(W));c[0]=W;return d}});x.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",
expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};A.inherits(x,r.Transform,{transform(W,d){if(!d.changed()&&!W.modified())return d.StopPropagation;var c=d.materialize(d.SOURCE).source,f="shared"===W.resolve,l=W.field||A.identity,m=K(W.opacity,W),q=M(W.color,W),w=W.as||"image",G={$x:0,$y:0,$value:0,$max:f?Ra.max(c.map(U=>Ra.max(l(U).values))):0};c.forEach(U=>{const wa=l(U),
cb=A.extend({},U,G);f||(cb.$max=Ra.max(wa.values||[]));U[w]=R(wa,cb,q.dep?q:A.constant(q(cb)),m.dep?m:A.constant(m(cb)))});return d.reflow(!0).modifies(w)}});A.inherits(aa,r.Transform,{transform(W,d){let c=this.value;!c||W.modified("type")?(this.value=c=Da(W.type),bb.projectionProperties.forEach(f=>{if(null!=W[f]){var l=c,m=W[f];if(A.isFunction(l[f]))l[f](m)}})):bb.projectionProperties.forEach(f=>{if(W.modified(f)){var l=c,m=W[f];if(A.isFunction(l[f]))l[f](m)}});null!=W.pointRadius&&c.path.pointRadius(W.pointRadius);
W.fit&&da(c,W);return d.fork(d.NO_SOURCE|d.NO_FIELDS)}});h.contour=ya;h.geojson=ua;h.geopath=Ma;h.geopoint=Aa;h.geoshape=ab;h.graticule=I;h.heatmap=x;h.isocontour=xa;h.kde2d=Ta;h.projection=aa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[32]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(La,Ia,Sa,xa){if(isNaN(Ia)||isNaN(Sa))return La;var ma,na=La._root;xa={data:xa};var Ba=La._x0,Ga=La._y0,la=La._x1,ra=La._y1,Qa,za,Ta,L;if(!na)return La._root=xa,La;for(;na.length;)if((Ta=Ia>=(Qa=(Ba+la)/2))?Ba=Qa:la=Qa,(L=Sa>=(za=(Ga+ra)/2))?Ga=za:ra=za,ma=na,!(na=na[Ta|=L<<
1]))return ma[Ta]=xa,La;var ha=+La._x.call(null,na.data);var ya=+La._y.call(null,na.data);if(Ia===ha&&Sa===ya)return xa.next=na,ma?ma[Ta]=xa:La._root=xa,La;do ma=ma?ma[Ta]=Array(4):La._root=Array(4),(Ta=Ia>=(Qa=(Ba+la)/2))?Ba=Qa:la=Qa,(L=Sa>=(za=(Ga+ra)/2))?Ga=za:ra=za;while((Ta|=L<<1)===(L=(ya>=za)<<1|ha>=Qa));return ma[L]=na,ma[Ta]=xa,La}function A(La,Ia,Sa,xa,ma){this.node=La;this.x0=Ia;this.y0=Sa;this.x1=xa;this.y1=ma}function Ra(La){return La[0]}function sb(La){return La[1]}function bb(La,Ia,
Sa){Ia=new xb(null==Ia?Ra:Ia,null==Sa?sb:Sa,NaN,NaN,NaN,NaN);return null==La?Ia:Ia.addAll(La)}function xb(La,Ia,Sa,xa,ma,na){this._x=La;this._y=Ia;this._x0=Sa;this._y0=xa;this._x1=ma;this._y1=na;this._root=void 0}function Gb(La){for(var Ia={data:La.data},Sa=Ia;La=La.next;)Sa=Sa.next={data:La.data};return Ia}var ib=bb.prototype=xb.prototype;ib.copy=function(){var La=new xb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ia=this._root,Sa,xa;if(!Ia)return La;if(!Ia.length)return La._root=Gb(Ia),
La;for(Sa=[{source:Ia,target:La._root=Array(4)}];Ia=Sa.pop();)for(var ma=0;4>ma;++ma)if(xa=Ia.source[ma])xa.length?Sa.push({source:xa,target:Ia.target[ma]=Array(4)}):Ia.target[ma]=Gb(xa);return La};ib.add=function(La){const Ia=+this._x.call(null,La),Sa=+this._y.call(null,La);return r(this.cover(Ia,Sa),Ia,Sa,La)};ib.addAll=function(La){var Ia,Sa,xa=La.length,ma,na,Ba=Array(xa),Ga=Array(xa),la=Infinity,ra=Infinity,Qa=-Infinity,za=-Infinity;for(Sa=0;Sa<xa;++Sa)isNaN(ma=+this._x.call(null,Ia=La[Sa]))||
isNaN(na=+this._y.call(null,Ia))||(Ba[Sa]=ma,Ga[Sa]=na,ma<la&&(la=ma),ma>Qa&&(Qa=ma),na<ra&&(ra=na),na>za&&(za=na));if(la>Qa||ra>za)return this;this.cover(la,ra).cover(Qa,za);for(Sa=0;Sa<xa;++Sa)r(this,Ba[Sa],Ga[Sa],La[Sa]);return this};ib.cover=function(La,Ia){if(isNaN(La=+La)||isNaN(Ia=+Ia))return this;var Sa=this._x0,xa=this._y0,ma=this._x1,na=this._y1;if(isNaN(Sa))ma=(Sa=Math.floor(La))+1,na=(xa=Math.floor(Ia))+1;else{for(var Ba=ma-Sa||1,Ga=this._root,la,ra;Sa>La||La>=ma||xa>Ia||Ia>=na;)switch(ra=
(Ia<xa)<<1|La<Sa,la=Array(4),la[ra]=Ga,Ga=la,Ba*=2,ra){case 0:ma=Sa+Ba;na=xa+Ba;break;case 1:Sa=ma-Ba;na=xa+Ba;break;case 2:ma=Sa+Ba;xa=na-Ba;break;case 3:Sa=ma-Ba,xa=na-Ba}this._root&&this._root.length&&(this._root=Ga)}this._x0=Sa;this._y0=xa;this._x1=ma;this._y1=na;return this};ib.data=function(){var La=[];this.visit(function(Ia){if(!Ia.length){do La.push(Ia.data);while(Ia=Ia.next)}});return La};ib.extent=function(La){return arguments.length?this.cover(+La[0][0],+La[0][1]).cover(+La[1][0],+La[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};ib.find=function(La,Ia,Sa){var xa=this._x0,ma=this._y0,na,Ba,Ga,la,ra=this._x1,Qa=this._y1,za=[],Ta=this._root,L;Ta&&za.push(new A(Ta,xa,ma,ra,Qa));null==Sa?Sa=Infinity:(xa=La-Sa,ma=Ia-Sa,ra=La+Sa,Qa=Ia+Sa,Sa*=Sa);for(;L=za.pop();)if(!(!(Ta=L.node)||(na=L.x0)>ra||(Ba=L.y0)>Qa||(Ga=L.x1)<xa||(la=L.y1)<ma))if(Ta.length){L=(na+Ga)/2;var ha=(Ba+la)/2;za.push(new A(Ta[3],L,ha,Ga,la),new A(Ta[2],na,ha,L,la),new A(Ta[1],L,Ba,Ga,ha),new A(Ta[0],
na,Ba,L,ha));if(Ta=(Ia>=ha)<<1|La>=L)L=za[za.length-1],za[za.length-1]=za[za.length-1-Ta],za[za.length-1-Ta]=L}else if(L=La-+this._x.call(null,Ta.data),ha=Ia-+this._y.call(null,Ta.data),L=L*L+ha*ha,L<Sa){var ya=Math.sqrt(Sa=L);xa=La-ya;ma=Ia-ya;ra=La+ya;Qa=Ia+ya;ya=Ta.data}return ya};ib.remove=function(La){if(isNaN(la=+this._x.call(null,La))||isNaN(ra=+this._y.call(null,La)))return this;var Ia,Sa=this._root,xa,ma=this._x0,na=this._y0,Ba=this._x1,Ga=this._y1,la,ra,Qa,za,Ta,L;if(!Sa)return this;if(Sa.length)for(;;){(Ta=
la>=(Qa=(ma+Ba)/2))?ma=Qa:Ba=Qa;(L=ra>=(za=(na+Ga)/2))?na=za:Ga=za;if(!(Ia=Sa,Sa=Sa[Ta|=L<<1]))return this;if(!Sa.length)break;if(Ia[Ta+1&3]||Ia[Ta+2&3]||Ia[Ta+3&3]){var ha=Ia;var ya=Ta}}for(;Sa.data!==La;)if(!(xa=Sa,Sa=Sa.next))return this;(La=Sa.next)&&delete Sa.next;if(xa)return La?xa.next=La:delete xa.next,this;if(!Ia)return this._root=La,this;La?Ia[Ta]=La:delete Ia[Ta];(Sa=Ia[0]||Ia[1]||Ia[2]||Ia[3])&&Sa===(Ia[3]||Ia[2]||Ia[1]||Ia[0])&&!Sa.length&&(ha?ha[ya]=Sa:this._root=Sa);return this};ib.removeAll=
function(La){for(var Ia=0,Sa=La.length;Ia<Sa;++Ia)this.remove(La[Ia]);return this};ib.root=function(){return this._root};ib.size=function(){var La=0;this.visit(function(Ia){if(!Ia.length){do++La;while(Ia=Ia.next)}});return La};ib.visit=function(La){var Ia=[],Sa,xa=this._root,ma,na,Ba,Ga;for(xa&&Ia.push(new A(xa,this._x0,this._y0,this._x1,this._y1));Sa=Ia.pop();)if(!La(xa=Sa.node,na=Sa.x0,Ba=Sa.y0,Ga=Sa.x1,Sa=Sa.y1)&&xa.length){var la=(na+Ga)/2,ra=(Ba+Sa)/2;(ma=xa[3])&&Ia.push(new A(ma,la,ra,Ga,Sa));
(ma=xa[2])&&Ia.push(new A(ma,na,ra,la,Sa));(ma=xa[1])&&Ia.push(new A(ma,la,Ba,Ga,ra));(ma=xa[0])&&Ia.push(new A(ma,na,Ba,la,ra))}return this};ib.visitAfter=function(La){var Ia=[],Sa=[],xa;for(this._root&&Ia.push(new A(this._root,this._x0,this._y0,this._x1,this._y1));xa=Ia.pop();){var ma=xa.node;if(ma.length){var na,Ba=xa.x0,Ga=xa.y0,la=xa.x1,ra=xa.y1,Qa=(Ba+la)/2,za=(Ga+ra)/2;(na=ma[0])&&Ia.push(new A(na,Ba,Ga,Qa,za));(na=ma[1])&&Ia.push(new A(na,Qa,Ga,la,za));(na=ma[2])&&Ia.push(new A(na,Ba,za,Qa,
ra));(na=ma[3])&&Ia.push(new A(na,Qa,za,la,ra))}Sa.push(xa)}for(;xa=Sa.pop();)La(xa.node,xa.x0,xa.y0,xa.x1,xa.y1);return this};ib.x=function(La){return arguments.length?(this._x=La,this):this._x};ib.y=function(La){return arguments.length?(this._y=La,this):this._y};h.quadtree=bb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[33]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(){for(var xb=0,Gb=arguments.length,ib={},La;xb<Gb;++xb){if(!(La=arguments[xb]+"")||La in ib||/[\s.]/.test(La))throw Error("illegal type: "+La);ib[La]=[]}return new A(ib)}function A(xb){this._=xb}function Ra(xb,Gb){return xb.trim().split(/^|\s+/).map(function(ib){var La="",
Ia=ib.indexOf(".");0<=Ia&&(La=ib.slice(Ia+1),ib=ib.slice(0,Ia));if(ib&&!Gb.hasOwnProperty(ib))throw Error("unknown type: "+ib);return{type:ib,name:La}})}function sb(xb,Gb,ib){for(var La=0,Ia=xb.length;La<Ia;++La)if(xb[La].name===Gb){xb[La]=bb;xb=xb.slice(0,La).concat(xb.slice(La+1));break}null!=ib&&xb.push({name:Gb,value:ib});return xb}var bb={value:()=>{}};A.prototype=r.prototype={constructor:A,on:function(xb,Gb){var ib=this._,La=Ra(xb+"",ib),Ia,Sa=-1,xa=La.length;if(2>arguments.length)for(;++Sa<
xa;){var ma;if(ma=Ia=(xb=La[Sa]).type){a:{ma=ib[Ia];for(var na=0,Ba=ma.length;na<Ba;++na)if((Ia=ma[na]).name===xb.name){Ia=Ia.value;break a}Ia=void 0}ma=Ia}if(ma)return Ia}else{if(null!=Gb&&"function"!==typeof Gb)throw Error("invalid callback: "+Gb);for(;++Sa<xa;)if(Ia=(xb=La[Sa]).type)ib[Ia]=sb(ib[Ia],xb.name,Gb);else if(null==Gb)for(Ia in ib)ib[Ia]=sb(ib[Ia],xb.name,null);return this}},copy:function(){var xb={},Gb=this._,ib;for(ib in Gb)xb[ib]=Gb[ib].slice();return new A(xb)},call:function(xb,Gb){if(0<
(Ia=arguments.length-2))for(var ib=Array(Ia),La=0,Ia,Sa;La<Ia;++La)ib[La]=arguments[La+2];if(!this._.hasOwnProperty(xb))throw Error("unknown type: "+xb);Sa=this._[xb];La=0;for(Ia=Sa.length;La<Ia;++La)Sa[La].value.apply(Gb,ib)},apply:function(xb,Gb,ib){if(!this._.hasOwnProperty(xb))throw Error("unknown type: "+xb);xb=this._[xb];for(var La=0,Ia=xb.length;La<Ia;++La)xb[La].value.apply(Gb,ib)}};h.dispatch=r;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[34]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(){return Ba||(ra(A),Ba=la.now()+Ga)}function A(){Ba=0}function Ra(){this._call=this._time=this._next=null}function sb(Qa,za,Ta){var L=new Ra;L.restart(Qa,za,Ta);return L}function bb(){r();++La;for(var Qa=xa,za;Qa;)0<=(za=Ba-Qa._time)&&Qa._call.call(null,za),Qa=Qa._next;--La}
function xb(){Ba=(na=la.now())+Ga;La=Ia=0;try{bb()}finally{La=0;for(var Qa,za=xa,Ta,L=Infinity;za;)za._call?(L>za._time&&(L=za._time),Qa=za,za=za._next):(Ta=za._next,za._next=null,za=Qa?Qa._next=Ta:xa=Ta);ma=Qa;ib(L);Ba=0}}function Gb(){var Qa=la.now(),za=Qa-na;1E3<za&&(Ga-=za,na=Qa)}function ib(Qa){La||(Ia&&(Ia=clearTimeout(Ia)),24<Qa-Ba?(Infinity>Qa&&(Ia=setTimeout(xb,Qa-la.now()-Ga)),Sa&&(Sa=clearInterval(Sa))):(Sa||(na=la.now(),Sa=setInterval(Gb,1E3)),La=1,ra(xb)))}var La=0,Ia=0,Sa=0,xa,ma,na=
0,Ba=0,Ga=0,la="object"===typeof performance&&performance.now?performance:Date,ra="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Qa){setTimeout(Qa,17)};Ra.prototype=sb.prototype={constructor:Ra,restart:function(Qa,za,Ta){if("function"!==typeof Qa)throw new TypeError("callback is not a function");Ta=(null==Ta?r():+Ta)+(null==za?0:+za);this._next||ma===this||(ma?ma._next=this:xa=this,ma=this);this._call=Qa;this._time=Ta;ib()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,ib())}};h.interval=function(Qa,za,Ta){var L=new Ra,ha=za;if(null==za)return L.restart(Qa,za,Ta),L;L._restart=L.restart;L.restart=function(ya,ua,Ma){ua=+ua;Ma=null==Ma?r():+Ma;L._restart(function ab(Aa){Aa+=ha;L._restart(ab,ha+=ua,Ma);ya(Aa)},ua,Ma)};L.restart(Qa,za,Ta);return L};h.now=r;h.timeout=function(Qa,za,Ta){var L=new Ra;za=null==za?0:+za;L.restart(ha=>{L.stop();Qa(ha+za)},za,Ta);return L};h.timer=sb;h.timerFlush=bb;Object.defineProperty(h,"__esModule",
{value:!0})})};
shadow$provide[35]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(32),zb(33),zb(34)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],r):(h=h||self,r(h.d3=h.d3||{},h.d3,h.d3,h.d3))})(this,function(h,r,A,Ra){function sb(ma){return function(){return ma}}function bb(ma){return ma.x+ma.vx}function xb(ma){return ma.y+ma.vy}function Gb(ma){return ma.index}function ib(ma,na){ma=ma.get(na);if(!ma)throw Error("node not found: "+
na);return ma}function La(){let ma=1;return()=>(ma=(1664525*ma+1013904223)%4294967296)/4294967296}function Ia(ma){return ma.x}function Sa(ma){return ma.y}var xa=Math.PI*(3-Math.sqrt(5));h.forceCenter=function(ma,na){function Ba(){var ra,Qa=Ga.length,za=0,Ta=0;for(ra=0;ra<Qa;++ra){var L=Ga[ra];za+=L.x;Ta+=L.y}za=(za/Qa-ma)*la;Ta=(Ta/Qa-na)*la;for(ra=0;ra<Qa;++ra)L=Ga[ra],L.x-=za,L.y-=Ta}var Ga,la=1;null==ma&&(ma=0);null==na&&(na=0);Ba.initialize=function(ra){Ga=ra};Ba.x=function(ra){return arguments.length?
(ma=+ra,Ba):ma};Ba.y=function(ra){return arguments.length?(na=+ra,Ba):na};Ba.strength=function(ra){return arguments.length?(la=+ra,Ba):la};return Ba};h.forceCollide=function(ma){function na(){function L(x,M,K,C,R){var aa=x.data;x=x.r;var da=ab+x;if(aa)aa.index>Ma.index&&(M=Pa-aa.x-aa.vx,K=Aa-aa.y-aa.vy,C=M*M+K*K,C<da*da&&(0===M&&(M=1E-6*(Qa()-.5),C+=M*M),0===K&&(K=1E-6*(Qa()-.5),C+=K*K),C=(da-(C=Math.sqrt(C)))/C*za,Ma.vx+=(M*=C)*(da=(x*=x)/(Va+x)),Ma.vy+=(K*=C)*da,aa.vx-=M*(da=1-da),aa.vy-=K*da));
else return M>Pa+da||C<Pa-da||K>Aa+da||R<Aa-da}for(var ha,ya=la.length,ua,Ma,Pa,Aa,ab,Va,I=0;I<Ta;++I)for(ua=r.quadtree(la,bb,xb).visitAfter(Ba),ha=0;ha<ya;++ha)Ma=la[ha],ab=ra[Ma.index],Va=ab*ab,Pa=Ma.x+Ma.vx,Aa=Ma.y+Ma.vy,ua.visit(L)}function Ba(L){if(L.data)return L.r=ra[L.data.index];for(var ha=L.r=0;4>ha;++ha)L[ha]&&L[ha].r>L.r&&(L.r=L[ha].r)}function Ga(){if(la){var L,ha=la.length;ra=Array(ha);for(L=0;L<ha;++L){var ya=la[L];ra[ya.index]=+ma(ya,L,la)}}}var la,ra,Qa,za=1,Ta=1;"function"!==typeof ma&&
(ma=sb(null==ma?1:+ma));na.initialize=function(L,ha){la=L;Qa=ha;Ga()};na.iterations=function(L){return arguments.length?(Ta=+L,na):Ta};na.strength=function(L){return arguments.length?(za=+L,na):za};na.radius=function(L){return arguments.length?(ma="function"===typeof L?L:sb(+L),Ga(),na):ma};return na};h.forceLink=function(ma){function na(Aa){for(var ab=0,Va=ma.length;ab<Pa;++ab)for(var I=0,x,M,K,C,R;I<Va;++I)x=ma[I],M=x.source,x=x.target,K=x.x+x.vx-M.x-M.vx||1E-6*(Ma()-.5),C=x.y+x.vy-M.y-M.vy||1E-6*
(Ma()-.5),R=Math.sqrt(K*K+C*C),R=(R-L[I])/R*Aa*za[I],K*=R,C*=R,x.vx-=K*(R=ua[I]),x.vy-=C*R,M.vx+=K*(R=1-R),M.vy+=C*R}function Ba(){if(ha){var Aa=ha.length,ab=ma.length,Va=new Map(ha.map((x,M)=>[ra(x,M,ha),x]));var I=0;for(ya=Array(Aa);I<ab;++I)Aa=ma[I],Aa.index=I,"object"!==typeof Aa.source&&(Aa.source=ib(Va,Aa.source)),"object"!==typeof Aa.target&&(Aa.target=ib(Va,Aa.target)),ya[Aa.source.index]=(ya[Aa.source.index]||0)+1,ya[Aa.target.index]=(ya[Aa.target.index]||0)+1;I=0;for(ua=Array(ab);I<ab;++I)Aa=
ma[I],ua[I]=ya[Aa.source.index]/(ya[Aa.source.index]+ya[Aa.target.index]);za=Array(ab);Ga();L=Array(ab);la()}}function Ga(){if(ha)for(var Aa=0,ab=ma.length;Aa<ab;++Aa)za[Aa]=+Qa(ma[Aa],Aa,ma)}function la(){if(ha)for(var Aa=0,ab=ma.length;Aa<ab;++Aa)L[Aa]=+Ta(ma[Aa],Aa,ma)}var ra=Gb,Qa=function(Aa){return 1/Math.min(ya[Aa.source.index],ya[Aa.target.index])},za,Ta=sb(30),L,ha,ya,ua,Ma,Pa=1;null==ma&&(ma=[]);na.initialize=function(Aa,ab){ha=Aa;Ma=ab;Ba()};na.links=function(Aa){return arguments.length?
(ma=Aa,Ba(),na):ma};na.id=function(Aa){return arguments.length?(ra=Aa,na):ra};na.iterations=function(Aa){return arguments.length?(Pa=+Aa,na):Pa};na.strength=function(Aa){return arguments.length?(Qa="function"===typeof Aa?Aa:sb(+Aa),Ga(),na):Qa};na.distance=function(Aa){return arguments.length?(Ta="function"===typeof Aa?Aa:sb(+Aa),la(),na):Ta};return na};h.forceManyBody=function(){function ma(Ma){var Pa=la.length,Aa=r.quadtree(la,Ia,Sa).visitAfter(Ba);za=Ma;for(Ma=0;Ma<Pa;++Ma)ra=la[Ma],Aa.visit(Ga)}
function na(){if(la){var Ma,Pa=la.length;L=Array(Pa);for(Ma=0;Ma<Pa;++Ma){var Aa=la[Ma];L[Aa.index]=+Ta(Aa,Ma,la)}}}function Ba(Ma){var Pa=0,Aa,ab,Va=0,I,x,M;if(Ma.length){for(I=x=M=0;4>M;++M)(Aa=Ma[M])&&(ab=Math.abs(Aa.value))&&(Pa+=Aa.value,Va+=ab,I+=ab*Aa.x,x+=ab*Aa.y);Ma.x=I/Va;Ma.y=x/Va}else{Aa=Ma;Aa.x=Aa.data.x;Aa.y=Aa.data.y;do Pa+=L[Aa.data.index];while(Aa=Aa.next)}Ma.value=Pa}function Ga(Ma,Pa,Aa,ab){if(!Ma.value)return!0;Aa=Ma.x-ra.x;var Va=Ma.y-ra.y;Pa=ab-Pa;ab=Aa*Aa+Va*Va;if(Pa*Pa/ua<
ab)return ab<ya&&(0===Aa&&(Aa=1E-6*(Qa()-.5),ab+=Aa*Aa),0===Va&&(Va=1E-6*(Qa()-.5),ab+=Va*Va),ab<ha&&(ab=Math.sqrt(ha*ab)),ra.vx+=Aa*Ma.value*za/ab,ra.vy+=Va*Ma.value*za/ab),!0;if(!(Ma.length||ab>=ya)){if(Ma.data!==ra||Ma.next)0===Aa&&(Aa=1E-6*(Qa()-.5),ab+=Aa*Aa),0===Va&&(Va=1E-6*(Qa()-.5),ab+=Va*Va),ab<ha&&(ab=Math.sqrt(ha*ab));do Ma.data!==ra&&(Pa=L[Ma.data.index]*za/ab,ra.vx+=Aa*Pa,ra.vy+=Va*Pa);while(Ma=Ma.next)}}var la,ra,Qa,za,Ta=sb(-30),L,ha=1,ya=Infinity,ua=.81;ma.initialize=function(Ma,
Pa){la=Ma;Qa=Pa;na()};ma.strength=function(Ma){return arguments.length?(Ta="function"===typeof Ma?Ma:sb(+Ma),na(),ma):Ta};ma.distanceMin=function(Ma){return arguments.length?(ha=Ma*Ma,ma):Math.sqrt(ha)};ma.distanceMax=function(Ma){return arguments.length?(ya=Ma*Ma,ma):Math.sqrt(ya)};ma.theta=function(Ma){return arguments.length?(ua=Ma*Ma,ma):Math.sqrt(ua)};return ma};h.forceRadial=function(ma,na,Ba){function Ga(L){for(var ha=0,ya=ra.length;ha<ya;++ha){var ua=ra[ha],Ma=ua.x-na||1E-6,Pa=ua.y-Ba||1E-6,
Aa=Math.sqrt(Ma*Ma+Pa*Pa);Aa=(Ta[ha]-Aa)*za[ha]*L/Aa;ua.vx+=Ma*Aa;ua.vy+=Pa*Aa}}function la(){if(ra){var L,ha=ra.length;za=Array(ha);Ta=Array(ha);for(L=0;L<ha;++L)Ta[L]=+ma(ra[L],L,ra),za[L]=isNaN(Ta[L])?0:+Qa(ra[L],L,ra)}}var ra,Qa=sb(.1),za,Ta;"function"!==typeof ma&&(ma=sb(+ma));null==na&&(na=0);null==Ba&&(Ba=0);Ga.initialize=function(L){ra=L;la()};Ga.strength=function(L){return arguments.length?(Qa="function"===typeof L?L:sb(+L),la(),Ga):Qa};Ga.radius=function(L){return arguments.length?(ma="function"===
typeof L?L:sb(+L),la(),Ga):ma};Ga.x=function(L){return arguments.length?(na=+L,Ga):na};Ga.y=function(L){return arguments.length?(Ba=+L,Ga):Ba};return Ga};h.forceSimulation=function(ma){function na(){Ba();Ma.call("tick",ra);Qa<za&&(ua.stop(),Ma.call("end",ra))}function Ba(Aa){var ab,Va=ma.length;void 0===Aa&&(Aa=1);for(var I=0;I<Aa;++I)for(Qa+=(L-Qa)*Ta,ya.forEach(function(M){M(Qa)}),ab=0;ab<Va;++ab){var x=ma[ab];null==x.fx?x.x+=x.vx*=ha:(x.x=x.fx,x.vx=0);null==x.fy?x.y+=x.vy*=ha:(x.y=x.fy,x.vy=0)}return ra}
function Ga(){for(var Aa=0,ab=ma.length,Va;Aa<ab;++Aa){Va=ma[Aa];Va.index=Aa;null!=Va.fx&&(Va.x=Va.fx);null!=Va.fy&&(Va.y=Va.fy);if(isNaN(Va.x)||isNaN(Va.y)){var I=10*Math.sqrt(.5+Aa),x=Aa*xa;Va.x=I*Math.cos(x);Va.y=I*Math.sin(x)}if(isNaN(Va.vx)||isNaN(Va.vy))Va.vx=Va.vy=0}}function la(Aa){Aa.initialize&&Aa.initialize(ma,Pa);return Aa}var ra,Qa=1,za=.001,Ta=1-Math.pow(za,1/300),L=0,ha=.6,ya=new Map,ua=Ra.timer(na),Ma=A.dispatch("tick","end"),Pa=La();null==ma&&(ma=[]);Ga();return ra={tick:Ba,restart:function(){return ua.restart(na),
ra},stop:function(){return ua.stop(),ra},nodes:function(Aa){return arguments.length?(ma=Aa,Ga(),ya.forEach(la),ra):ma},alpha:function(Aa){return arguments.length?(Qa=+Aa,ra):Qa},alphaMin:function(Aa){return arguments.length?(za=+Aa,ra):za},alphaDecay:function(Aa){return arguments.length?(Ta=+Aa,ra):+Ta},alphaTarget:function(Aa){return arguments.length?(L=+Aa,ra):L},velocityDecay:function(Aa){return arguments.length?(ha=1-Aa,ra):1-ha},randomSource:function(Aa){return arguments.length?(Pa=Aa,ya.forEach(la),
ra):Pa},force:function(Aa,ab){return 1<arguments.length?(null==ab?ya.delete(Aa):ya.set(Aa,la(ab)),ra):ya.get(Aa)},find:function(Aa,ab,Va){var I,x=ma.length;Va=null==Va?Infinity:Va*Va;for(I=0;I<x;++I){var M=ma[I];var K=Aa-M.x;var C=ab-M.y;K=K*K+C*C;if(K<Va){var R=M;Va=K}}return R},on:function(Aa,ab){return 1<arguments.length?(Ma.on(Aa,ab),ra):Ma.on(Aa)}}};h.forceX=function(ma){function na(za){for(var Ta=0,L=la.length,ha;Ta<L;++Ta)ha=la[Ta],ha.vx+=(Qa[Ta]-ha.x)*ra[Ta]*za}function Ba(){if(la){var za,
Ta=la.length;ra=Array(Ta);Qa=Array(Ta);for(za=0;za<Ta;++za)ra[za]=isNaN(Qa[za]=+ma(la[za],za,la))?0:+Ga(la[za],za,la)}}var Ga=sb(.1),la,ra,Qa;"function"!==typeof ma&&(ma=sb(null==ma?0:+ma));na.initialize=function(za){la=za;Ba()};na.strength=function(za){return arguments.length?(Ga="function"===typeof za?za:sb(+za),Ba(),na):Ga};na.x=function(za){return arguments.length?(ma="function"===typeof za?za:sb(+za),Ba(),na):ma};return na};h.forceY=function(ma){function na(za){for(var Ta=0,L=la.length,ha;Ta<
L;++Ta)ha=la[Ta],ha.vy+=(Qa[Ta]-ha.y)*ra[Ta]*za}function Ba(){if(la){var za,Ta=la.length;ra=Array(Ta);Qa=Array(Ta);for(za=0;za<Ta;++za)ra[za]=isNaN(Qa[za]=+ma(la[za],za,la))?0:+Ga(la[za],za,la)}}var Ga=sb(.1),la,ra,Qa;"function"!==typeof ma&&(ma=sb(null==ma?0:+ma));na.initialize=function(za){la=za;Ba()};na.strength=function(za){return arguments.length?(Ga="function"===typeof za?za:sb(+za),Ba(),na):Ga};na.y=function(za){return arguments.length?(ma="function"===typeof za?za:sb(+za),Ba(),na):ma};return na};
Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[36]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(14),zb(2),zb(35)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3))})(this,function(h,r,A,Ra){function sb(ma){r.Transform.call(this,null,ma)}function bb(ma,na){return()=>ma.touch(na).run()}function xb(ma,na){ma=Ra.forceSimulation(ma);
const Ba=ma.stop,Ga=ma.restart;let la=!1;ma.stopped=()=>la;ma.restart=()=>(la=!1,Ga());ma.stop=()=>(la=!0,Ba());return Gb(ma,na,!0).on("end",()=>la=!0)}function Gb(ma,na,Ba,Ga){var la=A.array(na.forces),ra;var Qa=0;for(ra=Ia.length;Qa<ra;++Qa){var za=Ia[Qa];if("forces"!==za&&na.modified(za))ma[za](na[za])}Qa=0;for(ra=la.length;Qa<ra;++Qa){var Ta="forces"+Qa;if(Ba||na.modified("forces",Qa)){za=void 0;var L=la[Qa];A.hasOwnProperty(La,L.force)||A.error("Unrecognized force: "+L.force);var ha=La[L.force]();
for(za in L)A.isFunction(ha[za])&&ib(ha[za],L[za],L);za=ha}else{if(za=Ga)a:{ha=za=void 0;L=la[Qa];var ya=Ga;for(ha in L)if(A.isFunction(za=L[ha])&&ya.modified(A.accessorFields(za))){za=1;break a}za=0}za=za?ma.force(Ta):null}za&&ma.force(Ta,za)}for(ra=ma.numForces||0;Qa<ra;++Qa)ma.force("forces"+Qa,null);ma.numForces=la.length;return ma}function ib(ma,na,Ba){ma(A.isFunction(na)?Ga=>na(Ga,Ba):na)}const La={center:Ra.forceCenter,collide:Ra.forceCollide,nbody:Ra.forceManyBody,link:Ra.forceLink,x:Ra.forceX,
y:Ra.forceY},Ia=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Sa=["static","iterations"],xa=["x","y","vx","vy"];sb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},
{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":xa}]};A.inherits(sb,r.Transform,
{transform(ma,na){var Ba=this.value,Ga=na.changed(na.ADD_REM),la=ma.modified(Ia),ra=ma.iterations||300;Ba?(Ga&&(na.modifies("index"),Ba.nodes(na.source)),(la||na.changed(na.MOD))&&Gb(Ba,ma,0,na)):(this.value=Ba=xb(na.source,ma),Ba.on("tick",bb(na.dataflow,this)),ma.static||(Ga=!0,Ba.tick()),na.modifies("index"));if(la||Ga||ma.modified(Sa)||na.changed()&&ma.restart)if(Ba.alpha(Math.max(Ba.alpha(),ma.alpha||1)).alphaDecay(1-Math.pow(Ba.alphaMin(),1/ra)),ma.static)for(Ba.stop();0<=--ra;)Ba.tick();else if(Ba.stopped()&&
Ba.restart(),!Ga)return na.StopPropagation;return this.finish(ma,na)},finish(ma,na){const Ba=na.dataflow;for(let za=this._argops,Ta=0,L=za.length,ha;Ta<L;++Ta)if(ha=za[Ta],"forces"===ha.name&&"link"===ha.op._argval.force)for(var Ga=ha.op._argops,la=0,ra=Ga.length,Qa;la<ra;++la)if("links"===Ga[la].name&&(Qa=Ga[la].op.source)){Ba.pulse(Qa,Ba.changeset().reflow());break}return na.reflow(ma.modified()).modifies(xa)}});h.force=sb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[37]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(c,f){return c.parent===f.parent?1:2}function A(c,f){return c+f.x}function Ra(c,f){return Math.max(c,f.y)}function sb(c){for(var f;f=c.children;)c=f[0];return c}function bb(c){for(var f;f=c.children;)c=f[f.length-1];return c}function xb(c){var f=0,l=c.children,m=l&&l.length;
if(m)for(;0<=--m;)f+=l[m].value;else f=1;c.value=f}function Gb(c,f){c instanceof Map?(c=[void 0,c],void 0===f&&(f=La)):void 0===f&&(f=ib);c=new xa(c);for(var l,m=[c],q,w,G,U;l=m.pop();)if((w=f(l.data))&&(U=(w=Array.from(w)).length))for(l.children=w,G=U-1;0<=G;--G)m.push(q=w[G]=new xa(w[G])),q.parent=l,q.depth=l.depth+1;return c.eachBefore(Sa)}function ib(c){return c.children}function La(c){return Array.isArray(c)?c[1]:null}function Ia(c){void 0!==c.data.value&&(c.value=c.data.value);c.data=c.data.data}
function Sa(c){var f=0;do c.height=f;while((c=c.parent)&&c.height<++f)}function xa(c){this.data=c;this.depth=this.height=0;this.parent=null}function ma(c){var f=0;c=Array.from(c);for(var l=c.length,m,q;l;)q=Math.random()*l--|0,m=c[l],c[l]=c[q],c[q]=m;l=c.length;m=[];for(var w;f<l;)if(q=c[f],w&&Ba(w,q))++f;else{a:if(f=m,Ga(q,f))f=[q];else{for(m=0;m<f.length;++m)if(na(q,f[m])&&Ga(la(f[m],q),f)){f=[f[m],q];break a}for(m=0;m<f.length-1;++m)for(w=m+1;w<f.length;++w)if(na(la(f[m],f[w]),q)&&na(la(f[m],q),
f[w])&&na(la(f[w],q),f[m])&&Ga(ra(f[m],f[w],q),f)){f=[f[m],f[w],q];break a}throw Error();}a:{f=m=f;switch(f.length){case 1:f=f[0];f={x:f.x,y:f.y,r:f.r};break a;case 2:f=la(f[0],f[1]);break a;case 3:f=ra(f[0],f[1],f[2]);break a}f=void 0}w=f;f=0}return w}function na(c,f){var l=c.r-f.r,m=f.x-c.x;c=f.y-c.y;return 0>l||l*l<m*m+c*c}function Ba(c,f){var l=c.r-f.r+1E-9*Math.max(c.r,f.r,1),m=f.x-c.x;c=f.y-c.y;return 0<l&&l*l>m*m+c*c}function Ga(c,f){for(var l=0;l<f.length;++l)if(!Ba(c,f[l]))return!1;return!0}
function la(c,f){var l=c.x,m=c.y;c=c.r;var q=f.x,w=f.y;f=f.r;var G=q-l,U=w-m,wa=f-c,cb=Math.sqrt(G*G+U*U);return{x:(l+q+G/cb*wa)/2,y:(m+w+U/cb*wa)/2,r:(cb+c+f)/2}}function ra(c,f,l){var m=c.x,q=c.y;c=c.r;var w=f.x,G=f.y,U=f.r,wa=l.x,cb=l.y,hb=l.r;l=m-w;f=m-wa;var Y=q-G,ta=q-cb,H=U-c,Q=hb-c,ja=m*m+q*q-c*c;G=ja-w*w-G*G+U*U;cb=ja-wa*wa-cb*cb+hb*hb;wa=f*Y-l*ta;w=(Y*cb-ta*G)/(2*wa)-m;Y=(ta*H-Y*Q)/wa;ta=(f*G-l*cb)/(2*wa)-q;l=(l*Q-f*H)/wa;f=Y*Y+l*l-1;H=2*(c+w*Y+ta*l);c=w*w+ta*ta-c*c;c=-(f?(H+Math.sqrt(H*
H-4*f*c))/(2*f):c/H);return{x:m+w+Y*c,y:q+ta+l*c,r:c}}function Qa(c,f,l){var m=c.x-f.x,q=c.y-f.y,w=m*m+q*q;if(w){var G=f.r+l.r;G*=G;var U=c.r+l.r;U*=U;if(G>U){var wa=(w+U-G)/(2*w);G=Math.sqrt(Math.max(0,U/w-wa*wa));l.x=c.x-wa*m-G*q;l.y=c.y-wa*q+G*m}else wa=(w+G-U)/(2*w),G=Math.sqrt(Math.max(0,G/w-wa*wa)),l.x=f.x+wa*m-G*q,l.y=f.y+wa*q+G*m}else l.x=f.x+l.r,l.y=f.y}function za(c,f){var l=c.r+f.r-1E-6,m=f.x-c.x;c=f.y-c.y;return 0<l&&l*l>m*m+c*c}function Ta(c){var f=c._,l=c.next._,m=f.r+l.r;c=(f.x*l.r+
l.x*f.r)/m;f=(f.y*l.r+l.y*f.r)/m;return c*c+f*f}function L(c){this._=c;this.previous=this.next=null}function ha(c){if(!(l=(c="object"===typeof c&&"length"in c?c:Array.from(c)).length))return 0;var f,l;var m=c[0];m.x=0;m.y=0;if(!(1<l))return m.r;var q=c[1];m.x=-q.r;q.x=m.r;q.y=0;if(!(2<l))return m.r+q.r;Qa(q,m,f=c[2]);m=new L(m);q=new L(q);f=new L(f);m.next=f.previous=q;q.next=m.previous=f;f.next=q.previous=m;var w=3;a:for(;w<l;++w){Qa(m._,q._,f=c[w]);f=new L(f);var G=q.next;var U=m.previous;var wa=
q._.r;var cb=m._.r;do if(wa<=cb){if(za(G._,f._)){q=G;m.next=q;q.previous=m;--w;continue a}wa+=G._.r;G=G.next}else{if(za(U._,f._)){m=U;m.next=q;q.previous=m;--w;continue a}cb+=U._.r;U=U.previous}while(G!==U.next);f.previous=m;f.next=q;m.next=q.previous=q=f;for(G=Ta(m);(f=f.next)!==q;)(U=Ta(f))<G&&(m=f,G=U);q=m.next}m=[q._];for(f=q;(f=f.next)!==q;)m.push(f._);f=ma(m);for(w=0;w<l;++w)m=c[w],m.x-=f.x,m.y-=f.y;return f.r}function ya(c){if("function"!==typeof c)throw Error();return c}function ua(){return 0}
function Ma(c){return function(){return c}}function Pa(c){return Math.sqrt(c.value)}function Aa(c){return function(f){f.children||(f.r=Math.max(0,+c(f)||0))}}function ab(c,f){return function(l){if(m=l.children){var m,q,w=m.length,G=c(l)*f||0;if(G)for(q=0;q<w;++q)m[q].r+=G;var U=ha(m);if(G)for(q=0;q<w;++q)m[q].r-=G;l.r=U+G}}}function Va(c){return function(f){var l=f.parent;f.r*=c;l&&(f.x=l.x+c*f.x,f.y=l.y+c*f.y)}}function I(c){c.x0=Math.round(c.x0);c.y0=Math.round(c.y0);c.x1=Math.round(c.x1);c.y1=
Math.round(c.y1)}function x(c,f,l,m,q){var w=c.children,G=-1,U=w.length;for(m=c.value&&(m-f)/c.value;++G<U;)c=w[G],c.y0=l,c.y1=q,c.x0=f,c.x1=f+=c.value*m}function M(c){return c.id}function K(c){return c.parentId}function C(c,f){return c.parent===f.parent?1:2}function R(c){var f=c.children;return f?f[0]:c.t}function aa(c){var f=c.children;return f?f[f.length-1]:c.t}function da(c,f){this._=c;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=f}function Da(c){c=
new da(c,0);for(var f,l=[c],m,q,w;f=l.pop();)if(q=f._.children)for(f.children=Array(m=q.length),w=m-1;0<=w;--w)l.push(m=f.children[w]=new da(q[w],w)),m.parent=f;(c.parent=new da(null,0)).children=[c];return c}function Ja(c,f,l,m,q){var w=c.children,G=-1,U=w.length;for(q=c.value&&(q-l)/c.value;++G<U;)c=w[G],c.x0=f,c.x1=m,c.y0=l,c.y1=l+=c.value*q}function J(c,f,l,m,q,w){for(var G=[],U=f.children,wa,cb,hb=wa=0,Y=U.length,ta,H=f.value,Q,ja,Ca,qb,Ya,ob;wa<Y;){f=q-l;ta=w-m;do Q=U[hb++].value;while(!Q&&
hb<Y);ja=Ca=Q;ob=Math.max(ta/f,f/ta)/(H*c);qb=Q*Q*ob;for(Ya=Math.max(Ca/qb,qb/ja);hb<Y;++hb){Q+=cb=U[hb].value;cb<ja&&(ja=cb);cb>Ca&&(Ca=cb);qb=Q*Q*ob;qb=Math.max(Ca/qb,qb/ja);if(qb>Ya){Q-=cb;break}Ya=qb}G.push(wa={value:Q,dice:f<ta,children:U.slice(wa,hb)});wa.dice?x(wa,l,m,q,H?m+=ta*Q/H:w):Ja(wa,l,m,H?l+=f*Q/H:q,w);H-=Q;wa=hb}return G}xa.prototype=Gb.prototype={constructor:xa,count:function(){return this.eachAfter(xb)},each:function(c,f){let l=-1;for(const m of this)c.call(f,m,++l,this);return this},
eachAfter:function(c,f){for(var l,m=[this],q=[],w,G,U=-1;l=m.pop();)if(q.push(l),l=l.children)for(w=0,G=l.length;w<G;++w)m.push(l[w]);for(;l=q.pop();)c.call(f,l,++U,this);return this},eachBefore:function(c,f){for(var l,m=[this],q,w=-1;l=m.pop();)if(c.call(f,l,++w,this),l=l.children)for(q=l.length-1;0<=q;--q)m.push(l[q]);return this},find:function(c,f){let l=-1;for(const m of this)if(c.call(f,m,++l,this))return m},sum:function(c){return this.eachAfter(function(f){for(var l=+c(f.data)||0,m=f.children,
q=m&&m.length;0<=--q;)l+=m[q].value;f.value=l})},sort:function(c){return this.eachBefore(function(f){f.children&&f.children.sort(c)})},path:function(c){var f=this;var l=f;var m=c;if(l!==m){var q=l.ancestors(),w=m.ancestors(),G=null;l=q.pop();for(m=w.pop();l===m;)G=l,l=q.pop(),m=w.pop();l=G}for(m=[f];f!==l;)f=f.parent,m.push(f);for(f=m.length;c!==l;)m.splice(f,0,c),c=c.parent;return m},ancestors:function(){for(var c=this,f=[c];c=c.parent;)f.push(c);return f},descendants:function(){return Array.from(this)},
leaves:function(){var c=[];this.eachBefore(function(f){f.children||c.push(f)});return c},links:function(){var c=this,f=[];c.each(function(l){l!==c&&f.push({source:l.parent,target:l})});return f},copy:function(){return Gb(this).eachBefore(Ia)},[Symbol.iterator]:function*(){var c,f=[this],l;do{var m=f.reverse();for(f=[];c=m.pop();)if(yield c,c=c.children){var q=0;for(l=c.length;q<l;++q)f.push(c[q])}}while(f.length)}};var fa={depth:-1},ca={};da.prototype=Object.create(xa.prototype);var W=(1+Math.sqrt(5))/
2,d=function l(f){function m(q,w,G,U,wa){J(f,q,w,G,U,wa)}m.ratio=function(q){return l(1<(q=+q)?q:1)};return m}(W);W=function m(l){function q(w,G,U,wa,cb){if((hb=w._squarify)&&hb.ratio===l)for(var hb,Y,ta,H=-1,Q,ja=hb.length,Ca=w.value;++H<ja;){w=hb[H];Y=w.children;ta=w.value=0;for(Q=Y.length;ta<Q;++ta)w.value+=Y[ta].value;w.dice?x(w,G,U,wa,Ca?U+=(cb-U)*w.value/Ca:cb):Ja(w,G,U,Ca?G+=(wa-G)*w.value/Ca:wa,cb);Ca-=w.value}else w._squarify=hb=J(l,w,G,U,wa,cb),hb.ratio=l}q.ratio=function(w){return m(1<
(w=+w)?w:1)};return q}(W);h.cluster=function(){function l(U){var wa,cb=0;U.eachAfter(function(Q){var ja=Q.children;if(ja){var Ca=ja.reduce(A,0)/ja.length;Q.x=Ca;Q.y=1+ja.reduce(Ra,0)}else Q.x=wa?cb+=m(Q,wa):0,Q.y=0,wa=Q});var hb=sb(U),Y=bb(U),ta=hb.x-m(hb,Y)/2,H=Y.x+m(Y,hb)/2;return U.eachAfter(G?function(Q){Q.x=(Q.x-U.x)*q;Q.y=(U.y-Q.y)*w}:function(Q){Q.x=(Q.x-ta)/(H-ta)*q;Q.y=(1-(U.y?Q.y/U.y:1))*w})}var m=r,q=1,w=1,G=!1;l.separation=function(U){return arguments.length?(m=U,l):m};l.size=function(U){return arguments.length?
(G=!1,q=+U[0],w=+U[1],l):G?null:[q,w]};l.nodeSize=function(U){return arguments.length?(G=!0,q=+U[0],w=+U[1],l):G?[q,w]:null};return l};h.hierarchy=Gb;h.pack=function(){function l(U){U.x=q/2;U.y=w/2;m?U.eachBefore(Aa(m)).eachAfter(ab(G,.5)).eachBefore(Va(1)):U.eachBefore(Aa(Pa)).eachAfter(ab(ua,1)).eachAfter(ab(G,U.r/Math.min(q,w))).eachBefore(Va(Math.min(q,w)/(2*U.r)));return U}var m=null,q=1,w=1,G=ua;l.radius=function(U){return arguments.length?(m=null==U?null:ya(U),l):m};l.size=function(U){return arguments.length?
(q=+U[0],w=+U[1],l):[q,w]};l.padding=function(U){return arguments.length?(G="function"===typeof U?U:Ma(+U),l):G};return l};h.packEnclose=ma;h.packSiblings=function(l){ha(l);return l};h.partition=function(){function l(wa){var cb=wa.height+1;wa.x0=wa.y0=G;wa.x1=q;wa.y1=w/cb;wa.eachBefore(m(w,cb));U&&wa.eachBefore(I);return wa}function m(wa,cb){return function(hb){hb.children&&x(hb,hb.x0,wa*(hb.depth+1)/cb,hb.x1,wa*(hb.depth+2)/cb);var Y=hb.x0,ta=hb.y0,H=hb.x1-G,Q=hb.y1-G;H<Y&&(Y=H=(Y+H)/2);Q<ta&&(ta=
Q=(ta+Q)/2);hb.x0=Y;hb.y0=ta;hb.x1=H;hb.y1=Q}}var q=1,w=1,G=0,U=!1;l.round=function(wa){return arguments.length?(U=!!wa,l):U};l.size=function(wa){return arguments.length?(q=+wa[0],w=+wa[1],l):[q,w]};l.padding=function(wa){return arguments.length?(G=+wa,l):G};return l};h.stratify=function(){function l(w){var G=Array.from(w),U=G.length,wa,cb,hb=new Map;for(wa=0;wa<U;++wa){var Y=G[wa];var ta=G[wa]=new xa(Y);if(null!=(cb=m(Y,wa,w))&&(cb+="")){var H=ta.id=cb;hb.set(H,hb.has(H)?ca:ta)}null!=(cb=q(Y,wa,
w))&&(cb+="")&&(ta.parent=cb)}for(wa=0;wa<U;++wa)if(ta=G[wa],cb=ta.parent){w=hb.get(cb);if(!w)throw Error("missing: "+cb);if(w===ca)throw Error("ambiguous: "+cb);w.children?w.children.push(ta):w.children=[ta];ta.parent=w}else{if(Q)throw Error("multiple roots");var Q=ta}if(!Q)throw Error("no root");Q.parent=fa;Q.eachBefore(function(ja){ja.depth=ja.parent.depth+1;--U}).eachBefore(Sa);Q.parent=null;if(0<U)throw Error("cycle");return Q}var m=M,q=K;l.id=function(w){return arguments.length?(m=ya(w),l):
m};l.parentId=function(w){return arguments.length?(q=ya(w),l):q};return l};h.tree=function(){function l(hb){var Y=Da(hb);Y.eachAfter(m);Y.parent.m=-Y.z;Y.eachBefore(q);if(cb)hb.eachBefore(w);else{var ta=hb,H=hb,Q=hb;hb.eachBefore(function(Ya){Ya.x<ta.x&&(ta=Ya);Ya.x>H.x&&(H=Ya);Ya.depth>Q.depth&&(Q=Ya)});Y=ta===H?1:G(ta,H)/2;var ja=Y-ta.x,Ca=U/(H.x+Y+ja),qb=wa/(Q.depth||1);hb.eachBefore(function(Ya){Ya.x=(Ya.x+ja)*Ca;Ya.y=Ya.depth*qb})}return hb}function m(hb){var Y=hb.children,ta=hb.parent.children,
H=hb.i?ta[hb.i-1]:null;if(Y){for(var Q=0,ja=0,Ca=hb.children,qb=Ca.length,Ya;0<=--qb;)Ya=Ca[qb],Ya.z+=Q,Ya.m+=Q,Q+=Ya.s+(ja+=Ya.c);Y=(Y[0].z+Y[Y.length-1].z)/2;H?(hb.z=H.z+G(hb._,H._),hb.m=hb.z-Y):hb.z=Y}else H&&(hb.z=H.z+G(hb._,H._));Y=hb.parent;ta=hb.parent.A||ta[0];if(H){ja=Q=hb;Ca=Q.parent.children[0];qb=Q.m;Ya=ja.m;for(var ob=H.m,Na=Ca.m,Ab;H=aa(H),Q=R(Q),H&&Q;){Ca=R(Ca);ja=aa(ja);ja.a=hb;Ab=H.z+ob-Q.z-qb+G(H._,Q._);if(0<Ab){var Eb=H.a.parent===hb.parent?H.a:ta,eb=hb,Mb=Ab,jc=Mb/(eb.i-Eb.i);
eb.c-=jc;eb.s+=Mb;Eb.c+=jc;eb.z+=Mb;eb.m+=Mb;qb+=Ab;Ya+=Ab}ob+=H.m;qb+=Q.m;Na+=Ca.m;Ya+=ja.m}H&&!aa(ja)&&(ja.t=H,ja.m+=ob-Ya);Q&&!R(Ca)&&(Ca.t=Q,Ca.m+=qb-Na,ta=hb)}Y.A=ta}function q(hb){hb._.x=hb.z+hb.parent.m;hb.m+=hb.parent.m}function w(hb){hb.x*=U;hb.y=hb.depth*wa}var G=C,U=1,wa=1,cb=null;l.separation=function(hb){return arguments.length?(G=hb,l):G};l.size=function(hb){return arguments.length?(cb=!1,U=+hb[0],wa=+hb[1],l):cb?null:[U,wa]};l.nodeSize=function(hb){return arguments.length?(cb=!0,U=
+hb[0],wa=+hb[1],l):cb?[U,wa]:null};return l};h.treemap=function(){function l(Q){Q.x0=Q.y0=0;Q.x1=G;Q.y1=U;Q.eachBefore(m);wa=[0];w&&Q.eachBefore(I);return Q}function m(Q){var ja=wa[Q.depth],Ca=Q.x0+ja,qb=Q.y0+ja,Ya=Q.x1-ja,ob=Q.y1-ja;Ya<Ca&&(Ca=Ya=(Ca+Ya)/2);ob<qb&&(qb=ob=(qb+ob)/2);Q.x0=Ca;Q.y0=qb;Q.x1=Ya;Q.y1=ob;Q.children&&(ja=wa[Q.depth+1]=cb(Q)/2,Ca+=H(Q)-ja,qb+=hb(Q)-ja,Ya-=Y(Q)-ja,ob-=ta(Q)-ja,Ya<Ca&&(Ca=Ya=(Ca+Ya)/2),ob<qb&&(qb=ob=(qb+ob)/2),q(Q,Ca,qb,Ya,ob))}var q=d,w=!1,G=1,U=1,wa=[0],
cb=ua,hb=ua,Y=ua,ta=ua,H=ua;l.round=function(Q){return arguments.length?(w=!!Q,l):w};l.size=function(Q){return arguments.length?(G=+Q[0],U=+Q[1],l):[G,U]};l.tile=function(Q){return arguments.length?(q=ya(Q),l):q};l.padding=function(Q){return arguments.length?l.paddingInner(Q).paddingOuter(Q):l.paddingInner()};l.paddingInner=function(Q){return arguments.length?(cb="function"===typeof Q?Q:Ma(+Q),l):cb};l.paddingOuter=function(Q){return arguments.length?l.paddingTop(Q).paddingRight(Q).paddingBottom(Q).paddingLeft(Q):
l.paddingTop()};l.paddingTop=function(Q){return arguments.length?(hb="function"===typeof Q?Q:Ma(+Q),l):hb};l.paddingRight=function(Q){return arguments.length?(Y="function"===typeof Q?Q:Ma(+Q),l):Y};l.paddingBottom=function(Q){return arguments.length?(ta="function"===typeof Q?Q:Ma(+Q),l):ta};l.paddingLeft=function(Q){return arguments.length?(H="function"===typeof Q?Q:Ma(+Q),l):H};return l};h.treemapBinary=function(l,m,q,w,G){function U(H,Q,ja,Ca,qb,Ya,ob){if(H>=Q-1)H=wa[H],H.x0=Ca,H.y0=qb,H.x1=Ya,
H.y1=ob;else{for(var Na=ta[H],Ab=ja/2+Na,Eb=H+1,eb=Q-1;Eb<eb;){var Mb=Eb+eb>>>1;ta[Mb]<Ab?Eb=Mb+1:eb=Mb}Ab-ta[Eb-1]<ta[Eb]-Ab&&H+1<Eb&&--Eb;Na=ta[Eb]-Na;Ab=ja-Na;Ya-Ca>ob-qb?(ja=ja?(Ca*Ab+Ya*Na)/ja:Ya,U(H,Eb,Na,Ca,qb,ja,ob),U(Eb,Q,Ab,ja,qb,Ya,ob)):(ja=ja?(qb*Ab+ob*Na)/ja:ob,U(H,Eb,Na,Ca,qb,Ya,ja),U(Eb,Q,Ab,Ca,ja,Ya,ob))}}var wa=l.children,cb,hb=wa.length,Y,ta=Array(hb+1);for(ta[0]=Y=cb=0;cb<hb;++cb)ta[cb+1]=Y+=wa[cb].value;U(0,hb,l.value,m,q,w,G)};h.treemapDice=x;h.treemapResquarify=W;h.treemapSlice=
Ja;h.treemapSliceDice=function(l,m,q,w,G){(l.depth&1?Ja:x)(l,m,q,w,G)};h.treemapSquarify=d;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[38]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(14),zb(2),zb(37)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.d3))})(this,function(h,r,A,Ra){function sb(za,Ta,L){const ha={};za.each(ya=>{const ua=ya.data;L(ua)&&(ha[Ta(ua)]=ya)});za.lookup=ha;return za}function bb(za){r.Transform.call(this,null,za)}
function xb(){function za(ya,ua){if(ua>=L.length)return ya;const Ma=ya.length,Pa=L[ua++],Aa={},ab={};let Va=-1,I,x,M;for(;++Va<Ma;)I=Pa(x=ya[Va])+"",(M=Aa[I])?M.push(x):Aa[I]=[x];for(I in Aa)ab[I]=za(Aa[I],ua);return ab}function Ta(ya,ua){if(++ua>L.length)return ya;const Ma=[];for(const Pa in ya)Ma.push({key:Pa,values:Ta(ya[Pa],ua)});return Ma}const L=[],ha={entries:ya=>Ta(za(ya,0),0),key:ya=>(L.push(ya),ha)};return ha}function Gb(za){r.Transform.call(this,null,za)}function ib(za,Ta,L){for(let ha,
ya=0,ua=Ta.length;ya<ua;++ya)if(ha=Ta[ya],ha in L)za[ha](L[ha])}function La(za){Gb.call(this,za)}function Ia(za){Gb.call(this,za)}function Sa(za){r.Transform.call(this,null,za)}function xa(za){Gb.call(this,za)}function ma(za){r.Transform.call(this,[],za)}function na(za){Gb.call(this,za)}bb.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Ba=za=>za.values;A.inherits(bb,r.Transform,{transform(za,Ta){Ta.source||
A.error("Nest transform requires an upstream data source.");var L=za.generate,ha=za.modified(),ya=Ta.clone(),ua=this.value;if(!ua||ha||Ta.changed())ua&&ua.each(Ma=>{Ma.children&&r.isTuple(Ma.data)&&ya.rem.push(Ma.data)}),this.value=ua=Ra.hierarchy({values:A.array(za.keys).reduce((Ma,Pa)=>{Ma.key(Pa);return Ma},xb()).entries(ya.source)},Ba),L&&ua.each(Ma=>{Ma.children&&(Ma=r.ingest(Ma.data),ya.add.push(Ma),ya.source.push(Ma))}),sb(ua,r.tupleid,r.tupleid);ya.source.root=ua;return ya}});const Ga=(za,
Ta)=>za.parent===Ta.parent?1:2;A.inherits(Gb,r.Transform,{transform(za,Ta){Ta.source&&Ta.source.root||A.error(this.constructor.name+" transform requires a backing tree data source.");const L=this.layout(za.method),ha=this.fields,ya=Ta.source.root,ua=za.as||ha;za.field?ya.sum(za.field):ya.count();za.sort&&ya.sort(r.stableCompare(za.sort,Ma=>Ma.data));ib(L,this.params,za);L.separation&&L.separation(!1!==za.separation?Ga:A.one);try{this.value=L(ya)}catch(Ma){A.error(Ma)}ya.each(Ma=>{const Pa=Ma.data,
Aa=ha.length-1;for(let ab=0;ab<Aa;++ab)Pa[ua[ab]]=Ma[ha[ab]];Pa[ua[Aa]]=Ma.children?Ma.children.length:0});return Ta.reflow(za.modified()).modifies(ua).modifies("leaf")}});var la=["x","y","r","depth","children"];La.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,
length:la.length,"default":la}]};A.inherits(La,Gb,{layout:Ra.pack,params:["radius","size","padding"],fields:la});la="x0 y0 x1 y1 depth children".split(" ");Ia.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};A.inherits(Ia,Gb,{layout:Ra.partition,
params:["size","round","padding"],fields:la});Sa.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};A.inherits(Sa,r.Transform,{transform(za,Ta){Ta.source||A.error("Stratify transform requires an upstream data source.");let L=this.value;const ha=za.modified(),ya=Ta.fork(Ta.ALL).materialize(Ta.SOURCE);Ta=!L||ha||Ta.changed(Ta.ADD_REM)||Ta.modified(za.key.fields)||Ta.modified(za.parentKey.fields);ya.source=
ya.source.slice();Ta&&(L=ya.source.length?sb(Ra.stratify().id(za.key).parentId(za.parentKey)(ya.source),za.key,A.truthy):sb(Ra.stratify()([{}]),za.key,za.key));ya.source.root=this.value=L;return ya}});const ra={tidy:Ra.tree,cluster:Ra.cluster};la=["x","y","depth","children"];xa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,
length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};A.inherits(xa,Gb,{layout(za){za=za||"tidy";if(A.hasOwnProperty(ra,za))return ra[za]();A.error("Unrecognized Tree layout method: "+za)},params:["size","nodeSize"],fields:la});ma.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};A.inherits(ma,r.Transform,{transform(za,Ta){za=this.value;const L=
Ta.source&&Ta.source.root,ha=Ta.fork(Ta.NO_SOURCE),ya={};L||A.error("TreeLinks transform requires a tree data source.");Ta.changed(Ta.ADD_REM)?(ha.rem=za,Ta.visit(Ta.SOURCE,ua=>ya[r.tupleid(ua)]=1),L.each(ua=>{const Ma=ua.data;(ua=ua.parent&&ua.parent.data)&&ya[r.tupleid(Ma)]&&ya[r.tupleid(ua)]&&ha.add.push(r.ingest({source:ua,target:Ma}))}),this.value=ha.add):Ta.changed(Ta.MOD)&&(Ta.visit(Ta.MOD,ua=>ya[r.tupleid(ua)]=1),za.forEach(ua=>{(ya[r.tupleid(ua.source)]||ya[r.tupleid(ua.target)])&&ha.mod.push(ua)}));
return ha}});const Qa={binary:Ra.treemapBinary,dice:Ra.treemapDice,slice:Ra.treemapSlice,slicedice:Ra.treemapSliceDice,squarify:Ra.treemapSquarify,resquarify:Ra.treemapResquarify};la="x0 y0 x1 y1 depth children".split(" ");na.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},
{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:la.length,"default":la}]};A.inherits(na,
Gb,{layout(){const za=Ra.treemap();za.ratio=Ta=>{const L=za.tile();L.ratio&&za.tile(L.ratio(Ta))};za.method=Ta=>{A.hasOwnProperty(Qa,Ta)?za.tile(Qa[Ta]):A.error("Unrecognized Treemap layout method: "+Ta)};return za},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:la});h.nest=bb;h.pack=La;h.partition=Ia;h.stratify=Sa;h.tree=xa;h.treelinks=ma;h.treemap=na;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[39]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(20),zb(14),zb(25),zb(2)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega,h.vega))})(this,function(h,r,A,Ra,sb){function bb(Va,I){const x=Va.bitmap();(I||[]).forEach(M=>x.set(Va(M.boundary[0]),Va(M.boundary[3])));
return[x,void 0]}function xb(Va,I,x,M){const K=Va.width,C=Va.height,R=x||M,aa=r.canvas(K,C).getContext("2d");I.forEach(W=>Gb(aa,W,R));I=new Uint32Array(aa.getImageData(0,0,K,C).data.buffer);x=Va.bitmap();const da=R&&Va.bitmap();let Da,Ja,J,fa,ca;for(Ja=0;Ja<C;++Ja)for(Da=0;Da<K;++Da)if(ca=I[Ja*K+Da]&4278190080)J=Va(Da),fa=Va(Ja),M||x.set(J,fa),R&&ca^268435456&&da.set(J,fa);return[x,da]}function Gb(Va,I,x){if(I.length){var M=I[0].mark.marktype;"group"===M?I.forEach(K=>{K.items.forEach(C=>Gb(Va,C.items,
x))}):Ra.Marks[M].draw(Va,{items:x?I.map(ib):I})}}function ib(Va){Va=A.rederive(Va,{});Va.stroke&&(Va.strokeOpacity=1);Va.fill&&(Va.fillOpacity=.0625,Va.stroke="#000",Va.strokeOpacity=1,Va.strokeWidth=2);return Va}function La(Va,I){const x=new Uint32Array(~~((Va*I+32)/32));return{array:x,get:(M,K)=>{M=K*Va+M;return x[M>>>5]&1<<(M&31)},set:(M,K)=>{M=K*Va+M;x[M>>>5]|=1<<(M&31)},clear:(M,K)=>{M=K*Va+M;x[M>>>5]&=~(1<<(M&31))},getRange:(M,K,C,R)=>{let aa,da,Da;for(;R>=K;--R){var Ja=R*Va+M;aa=R*Va+C;da=
Ja>>>5;Da=aa>>>5;if(da===Da){if(x[da]&za[Ja&31]&Ta[(aa&31)+1])return!0}else{if(x[da]&za[Ja&31]||x[Da]&Ta[(aa&31)+1])return!0;for(Ja=da+1;Ja<Da;++Ja)if(x[Ja])return!0}}return!1},setRange:(M,K,C,R)=>{let aa,da,Da;for(;K<=R;++K){var Ja=K*Va+M;aa=K*Va+C;da=Ja>>>5;Da=aa>>>5;if(da===Da)x[da]|=za[Ja&31]&Ta[(aa&31)+1];else for(x[da]|=za[Ja&31],x[Da]|=Ta[(aa&31)+1],Ja=da+1;Ja<Da;++Ja)x[Ja]|=4294967295}},clearRange:(M,K,C,R)=>{let aa,da,Da;for(;K<=R;++K){var Ja=K*Va+M;aa=K*Va+C;da=Ja>>>5;Da=aa>>>5;if(da===
Da)x[da]&=Ta[Ja&31]|za[(aa&31)+1];else for(x[da]&=Ta[Ja&31],x[Da]&=za[(aa&31)+1],Ja=da+1;Ja<Da;++Ja)x[Ja]&=0}},outOfBounds:(M,K,C,R)=>0>M||0>K||R>=I||C>=Va}}function Ia(Va,I,x){const M=Math.max(1,Math.sqrt(Va*I/1E6)),K=~~((Va+2*x+M)/M),C=~~((I+2*x+M)/M),R=aa=>~~((aa+x)/M);R.invert=aa=>aa*M-x;R.bitmap=()=>La(K,C);R.ratio=M;R.padding=x;R.width=Va;R.height=I;return R}function Sa(Va,I,x,M,K,C){x/=2;return 0>Va-x||Va+x>K||0>I-(x=M/2)||I+x>C}function xa(Va,I,x,M,K,C,R,aa){K=K*C/(2*M);M=Va(I-K);I=Va(I+K);
K=Va(x-(C/=2));Va=Va(x+C);return R.outOfBounds(M,K,I,Va)||R.getRange(M,K,I,Va)||aa&&aa.getRange(M,K,I,Va)}function ma(Va,I,x,M){const K=Va.width,C=Va.height,R=I[0],aa=I[1],da=M.length;return function(Da){const Ja=Da.boundary,J=Da.datum.fontSize;if(0>Ja[2]||0>Ja[5]||Ja[0]>K||Ja[3]>C)return!1;let fa=0,ca,W;let d,c;let f;let l;let m,q;for(let Eb=0;Eb<da;++Eb){ca=(x[Eb]&3)-1;W=(x[Eb]>>>2&3)-1;var w=0===ca&&0===W||0>M[Eb];var G=ca&&W?Math.SQRT1_2:1;d=0>M[Eb]?-1:1;c=Ja[1+ca]+M[Eb]*ca*G;l=Ja[4+W]+d*J*W/
2+M[Eb]*W*G;G=l-J/2;f=l+J/2;var U=Va(c);m=Va(G);q=Va(f);if(!fa){var wa=U;var cb=m;var hb=q;var Y=R,ta=aa,H=c,Q=c,ja=G,Ca=f,qb=Ja,Ya=w;if(!Y.outOfBounds(wa,cb,U,hb)&&(Ya&&ta?!ta.getRange(wa,cb,U,hb)&&qb[0]<=H&&Q<=qb[2]&&qb[3]<=ja&&Ca<=qb[5]:!Y.getRange(wa,cb,U,hb)))fa=Ra.textMetrics.width(Da.datum,Da.datum.text);else continue}cb=c+d*fa*ca/2;c=cb-fa/2;wa=cb+fa/2;U=Va(c);hb=Va(wa);Y=U;ta=hb;H=m;Q=q;ja=R;Ca=aa;qb=c;Ya=wa;var ob=G,Na=f,Ab=Ja;if(!ja.outOfBounds(Y,H,ta,Q)&&(w&&Ca?!Ca.getRange(Y,H,ta,Q)&&
Ab[0]<=qb&&Ya<=Ab[2]&&Ab[3]<=ob&&Na<=Ab[5]:!ja.getRange(Y,H,ta,Q)))return Da.x=ca?0>ca*d?wa:c:cb,Da.y=W?0>W*d?f:G:l,Da.align=ya[ca*d+1],Da.baseline=ua[W*d+1],R.setRange(U,m,hb,q),!0}return!1}}function na(Va,I,x,M,K,C,R,aa,da,Da,Ja){if(!Va.length)return Va;var J=Math.max(M.length,K.length);M=Ba(M,J);K=Ga(K,J);J=la(Va[0].datum);const fa="group"===J&&Va[0].datum.items[da].marktype,ca="area"===fa,W=ra(J,fa,aa,da);I=Ia(I[0],I[1],Da);Da=ca&&"naive"===Ja;aa=Va.map(f=>({datum:f,opacity:0,x:void 0,y:void 0,
align:void 0,baseline:void 0,boundary:W(f)}));if(!Da){x&&aa.sort((f,l)=>x(f.datum,l.datum));var d=!1;for(Da=0;Da<K.length&&!d;++Da)d=5===K[Da]||0>M[Da];J&&(R||ca)&&(C=[Va.map(f=>f.datum)].concat(C));d=C.length?xb(I,C,d,ca):bb(I,R&&aa)}const c=ca?Pa[Ja](I,d,R,da):ma(I,d,K,M);aa.forEach(f=>f.opacity=+c(f));return aa}function Ba(Va,I){const x=new Float64Array(I),M=Va.length;for(let K=0;K<M;++K)x[K]=Va[K]||0;for(Va=M;Va<I;++Va)x[Va]=x[M-1];return x}function Ga(Va,I){const x=new Int8Array(I),M=Va.length;
for(let K=0;K<M;++K)x[K]|=Ma[Va[K]];for(Va=M;Va<I;++Va)x[Va]=x[M-1];return x}function la(Va){return Va&&Va.mark&&Va.mark.marktype}function ra(Va,I,x,M){const K=C=>[C.x,C.x,C.x,C.y,C.y,C.y];return Va?"line"===Va||"area"===Va?C=>K(C.datum):"line"===I?C=>{C=C.datum.items[M].items;return K(C.length?C["start"===x?0:C.length-1]:{x:NaN,y:NaN})}:C=>{C=C.datum.bounds;return[C.x1,(C.x1+C.x2)/2,C.x2,C.y1,(C.y1+C.y2)/2,C.y2]}:K}function Qa(Va){A.Transform.call(this,null,Va)}const za=new Uint32Array(33),Ta=new Uint32Array(33);
Ta[0]=0;za[0]=~Ta[0];for(let Va=1;32>=Va;++Va)Ta[Va]=Ta[Va-1]<<1|1,za[Va]=~Ta[Va];const L=[-1,-1,1,1],ha=[-1,1,-1,1],ya=["right","center","left"],ua=["bottom","middle","top"],Ma={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Pa={naive:function(Va,I,x,M){const K=Va.width,C=Va.height;return function(R){const aa=R.datum.datum.items[M].items,da=aa.length,Da=R.datum.fontSize,Ja=Ra.textMetrics.width(R.datum,R.datum.text);let J=0;let fa,ca,W,d,c;for(let l=
0;l<da;++l){var f=aa[l].x;ca=aa[l].y;fa=void 0===aa[l].x2?f:aa[l].x2;W=void 0===aa[l].y2?ca:aa[l].y2;d=(f+fa)/2;c=(ca+W)/2;f=Math.abs(fa-f+W-ca);f>=J&&(J=f,R.x=d,R.y=c)}d=Ja/2;c=Da/2;f=R.x-d;fa=R.x+d;ca=R.y-c;W=R.y+c;R.align="center";0>f&&fa<=K?R.align="left":0<=f&&K<fa&&(R.align="right");R.baseline="middle";0>ca&&W<=C?R.baseline="top":0<=ca&&C<W&&(R.baseline="bottom");return!0}},"reduced-search":function(Va,I,x,M){function K(Da,Ja,J,fa,ca){Da=Va.invert(Da);Ja=Va.invert(Ja);let W=J,d=R,c;if(!Sa(Da,
Ja,fa,ca,C,R)&&!xa(Va,Da,Ja,ca,fa,W,aa,da)&&!xa(Va,Da,Ja,ca,fa,ca,aa,null)){for(;1<=d-W;)c=(W+d)/2,xa(Va,Da,Ja,ca,fa,c,aa,da)?d=c:W=c;if(W>J)return[Da,Ja,W,!0]}}const C=Va.width,R=Va.height,aa=I[0],da=I[1];return function(Da){const Ja=Da.datum.datum.items[M].items,J=Ja.length,fa=Da.datum.fontSize,ca=Ra.textMetrics.width(Da.datum,Da.datum.text);let W=x?fa:0,d=!1,c=!1,f=0;let l;let m;let q,w,G,U,wa,cb,hb,Y;for(let ja=0;ja<J;++ja){var ta=Ja[ja].x;var H=Ja[ja].y;l=void 0===Ja[ja].x2?ta:Ja[ja].x2;m=void 0===
Ja[ja].y2?H:Ja[ja].y2;if(ta>l){var Q=ta;ta=l;l=Q}H>m&&(Q=H,H=m,m=Q);w=Va(ta);U=Va(l);G=~~((w+U)/2);wa=Va(H);hb=Va(m);cb=~~((wa+hb)/2);for(Q=G;Q>=w;--Q)for(q=cb;q>=wa;--q)(Y=K(Q,q,W,ca,fa))&&([Da.x,Da.y,W,d]=Y);for(Q=G;Q<=U;++Q)for(q=cb;q<=hb;++q)(Y=K(Q,q,W,ca,fa))&&([Da.x,Da.y,W,d]=Y);d||x||(Q=Math.abs(l-ta+m-H),ta=(ta+l)/2,H=(H+m)/2,Q>=f&&!Sa(ta,H,ca,fa,C,R)&&!xa(Va,ta,H,fa,ca,fa,aa,null)&&(f=Q,Da.x=ta,Da.y=H,c=!0))}return d||c?(ta=ca/2,H=fa/2,aa.setRange(Va(Da.x-ta),Va(Da.y-H),Va(Da.x+ta),Va(Da.y+
H)),Da.align="center",Da.baseline="middle",!0):!1}},floodfill:function(Va,I,x,M){const K=Va.width,C=Va.height,R=I[0],aa=I[1],da=Va.bitmap();return function(Da){const Ja=Da.datum.datum.items[M].items,J=Ja.length,fa=Da.datum.fontSize,ca=Ra.textMetrics.width(Da.datum,Da.datum.text),W=[];let d=x?fa:0,c=!1,f=!1,l=0,m,q,w,G,U,wa;var cb;for(let ta=0;ta<J;++ta){m=Ja[ta].x;w=Ja[ta].y;q=void 0===Ja[ta].x2?m:Ja[ta].x2;G=void 0===Ja[ta].y2?w:Ja[ta].y2;for(W.push([Va((m+q)/2),Va((w+G)/2)]);W.length;)if([hb,Y]=
W.pop(),!(R.get(hb,Y)||aa.get(hb,Y)||da.get(hb,Y))){da.set(hb,Y);for(cb=0;4>cb;++cb)U=hb+L[cb],wa=Y+ha[cb],da.outOfBounds(U,wa,U,wa)||W.push([U,wa]);U=Va.invert(hb);wa=Va.invert(Y);var hb=d;var Y=C;if(!Sa(U,wa,ca,fa,K,C)&&!xa(Va,U,wa,fa,ca,hb,R,aa)&&!xa(Va,U,wa,fa,ca,fa,R,null)){for(;1<=Y-hb;)cb=(hb+Y)/2,xa(Va,U,wa,fa,ca,cb,R,aa)?Y=cb:hb=cb;hb>d&&(Da.x=U,Da.y=wa,d=hb,c=!0)}}c||x||(hb=Math.abs(q-m+G-w),U=(m+q)/2,wa=(w+G)/2,hb>=l&&!Sa(U,wa,ca,fa,K,C)&&!xa(Va,U,wa,fa,ca,fa,R,null)&&(l=hb,Da.x=U,Da.y=
wa,f=!0))}return c||f?(U=ca/2,wa=fa/2,R.setRange(Va(Da.x-U),Va(Da.y-wa),Va(Da.x+U),Va(Da.y+wa)),Da.align="center",Da.baseline="middle",!0):!1}}},Aa=["x","y","opacity","align","baseline"],ab="top-left left bottom-left top bottom top-right right bottom-right".split(" ");Qa.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ab},{name:"offset",type:"number",array:!0,
default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Aa.length,default:Aa}]};sb.inherits(Qa,A.Transform,{transform(Va,I){function x(C){C=Va[C];return sb.isFunction(C)&&I.modified(C.fields)}const M=Va.modified();
if(M||I.changed(I.ADD_REM)||x("sort")){Va.size&&2===Va.size.length||sb.error("Size parameter should be specified as a [width, height] array.");var K=Va.as||Aa;na(I.materialize(I.SOURCE).source,Va.size,Va.sort,sb.array(Va.offset||1),sb.array(Va.anchor||ab),Va.avoidMarks||[],!1===Va.avoidBaseMark?!1:!0,Va.lineAnchor||"end",Va.markIndex||0,Va.padding||0,Va.method||"naive").forEach(C=>{const R=C.datum;R[K[0]]=C.x;R[K[1]]=C.y;R[K[2]]=C.opacity;R[K[3]]=C.align;R[K[4]]=C.baseline});return I.reflow(M).modifies(K)}}});
h.label=Qa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[40]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(16),zb(14),zb(2)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega))})(this,function(h,r,A,Ra){function sb(ib,La){var Ia=[],Sa=function(ra){return ra(Ba)},xa;if(null==La)Ia.push(ib);else{var ma={};var na=0;for(xa=ib.length;na<xa;++na){var Ba=ib[na];
var Ga=La.map(Sa);var la=ma[Ga];la||(ma[Ga]=la=[],la.dims=Ga,Ia.push(la));la.push(Ba)}}return Ia}function bb(ib){A.Transform.call(this,null,ib)}function xb(ib){A.Transform.call(this,null,ib)}bb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Ra.inherits(bb,A.Transform,{transform(ib,La){const Ia=La.fork(La.NO_SOURCE|
La.NO_FIELDS);if(!this.value||La.changed()||ib.modified()){La=La.materialize(La.SOURCE).source;La=sb(La,ib.groupby);const Sa=(ib.groupby||[]).map(Ra.accessorName),xa=Sa.length,ma=ib.as||[Ra.accessorName(ib.x),Ra.accessorName(ib.y)],na=[];La.forEach(Ba=>{r.regressionLoess(Ba,ib.x,ib.y,ib.bandwidth||.3).forEach(Ga=>{const la={};for(let ra=0;ra<xa;++ra)la[Sa[ra]]=Ba.dims[ra];la[ma[0]]=Ga[0];la[ma[1]]=Ga[1];na.push(A.ingest(la))})});this.value&&(Ia.rem=this.value);this.value=Ia.add=Ia.source=na}return Ia}});
const Gb={linear:r.regressionLinear,log:r.regressionLog,exp:r.regressionExp,pow:r.regressionPow,quad:r.regressionQuad,poly:r.regressionPoly};xb.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Gb)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0}]};Ra.inherits(xb,A.Transform,{transform(ib,La){const Ia=La.fork(La.NO_SOURCE|La.NO_FIELDS);if(!this.value||La.changed()||ib.modified()){var Sa=La.materialize(La.SOURCE).source;Sa=sb(Sa,ib.groupby);const xa=(ib.groupby||[]).map(Ra.accessorName),ma=ib.method||"linear",na=ib.order||3,Ba="poly"===ma?na:"quad"===ma?2:1,Ga=ib.as||[Ra.accessorName(ib.x),Ra.accessorName(ib.y)],la=Gb[ma],ra=[];let Qa=ib.extent;Ra.hasOwnProperty(Gb,ma)||Ra.error("Invalid regression method: "+
ma);null!=Qa&&"log"===ma&&0>=Qa[0]&&(La.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),Qa=null);Sa.forEach(za=>{if(za.length<=Ba)La.dataflow.warn("Skipping regression with more parameters than data points.");else{var Ta=la(za,ib.x,ib.y,na);if(ib.params)ra.push(A.ingest({keys:za.dims,coef:Ta.coef,rSquared:Ta.rSquared}));else{var L=Qa||Ra.extent(za,ib.x),ha=ya=>{const ua={};for(let Ma=0;Ma<xa.length;++Ma)ua[xa[Ma]]=za.dims[Ma];ua[Ga[0]]=ya[0];ua[Ga[1]]=ya[1];ra.push(A.ingest(ua))};
"linear"===ma?L.forEach(ya=>ha([ya,Ta.predict(ya)])):r.sampleCurve(Ta.predict,L,25,200).forEach(ha)}}});this.value&&(Ia.rem=this.value);this.value=Ia.add=Ia.source=ra}return Ia}});h.loess=bb;h.regression=xb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[41]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h=h||self,r(h.d3=h.d3||{}))})(this,function(h){function r(L,ha,ya,ua){L-=ya;ha-=ua;return L*L+ha*ha}function A(L,ha,ya,ua,Ma,Pa){ua=(ua-ha)*(Ma-L);L=(ya-L)*(Pa-ha);return Math.abs(ua-L)>=3.3306690738754716E-16*Math.abs(ua+L)?ua-L:0}function Ra(L,ha,ya,ua,Ma,Pa){return 0>(A(Ma,Pa,L,ha,ya,ua)||A(L,ha,ya,ua,Ma,Pa)||A(ya,ua,Ma,Pa,L,ha))}
function sb(L,ha,ya,ua){if(20>=ua-ya)for(var Ma=ya+1;Ma<=ua;Ma++){for(var Pa=L[Ma],Aa=ha[Pa],ab=Ma-1;ab>=ya&&ha[L[ab]]>Aa;)L[ab+1]=L[ab--];L[ab+1]=Pa}else{Ma=ya+1;Pa=ua;bb(L,ya+ua>>1,Ma);ha[L[ya]]>ha[L[ua]]&&bb(L,ya,ua);ha[L[Ma]]>ha[L[ua]]&&bb(L,Ma,ua);ha[L[ya]]>ha[L[Ma]]&&bb(L,ya,Ma);Aa=L[Ma];for(ab=ha[Aa];;){do Ma++;while(ha[L[Ma]]<ab);do Pa--;while(ha[L[Pa]]>ab);if(Pa<Ma)break;bb(L,Ma,Pa)}L[ya+1]=L[Pa];L[Pa]=Aa;ua-Ma+1>=Pa-ya?(sb(L,ha,Ma,ua),sb(L,ha,ya,Pa-1)):(sb(L,ha,ya,Pa-1),sb(L,ha,Ma,ua))}}
function bb(L,ha,ya){const ua=L[ha];L[ha]=L[ya];L[ya]=ua}function xb(L){return L[0]}function Gb(L){return L[1]}function ib(L){return L[0]}function La(L){return L[1]}function Ia(L){const {triangles:ha,coords:ya}=L;for(L=0;L<ha.length;L+=3){const ua=2*ha[L],Ma=2*ha[L+1],Pa=2*ha[L+2];if(1E-10<(ya[Pa]-ya[ua])*(ya[Ma+1]-ya[ua+1])-(ya[Ma]-ya[ua])*(ya[Pa+1]-ya[ua+1]))return!1}return!0}function Sa(L,ha,ya){return[L+Math.sin(L+ha)*ya,ha+Math.cos(L-ha)*ya]}function*xa(L,ha,ya,ua){let Ma=0;for(const Pa of L)yield ha.call(ua,
Pa,Ma,L),yield ya.call(ua,Pa,Ma,L),++Ma}const ma=Math.pow(2,-52),na=new Uint32Array(512);class Ba{static from(L,ha=xb,ya=Gb){const ua=L.length,Ma=new Float64Array(2*ua);for(let Pa=0;Pa<ua;Pa++){const Aa=L[Pa];Ma[2*Pa]=ha(Aa);Ma[2*Pa+1]=ya(Aa)}return new Ba(Ma)}constructor(L){const ha=L.length>>1;if(0<ha&&"number"!==typeof L[0])throw Error("Expected coords to contain numbers.");this.coords=L;L=Math.max(2*ha-5,0);this._triangles=new Uint32Array(3*L);this._halfedges=new Int32Array(3*L);this._hashSize=
Math.ceil(Math.sqrt(ha));this._hullPrev=new Uint32Array(ha);this._hullNext=new Uint32Array(ha);this._hullTri=new Uint32Array(ha);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(ha);this._dists=new Float64Array(ha);this.update()}update(){const {coords:L,_hullPrev:ha,_hullNext:ya,_hullTri:ua,_hullHash:Ma}=this;var Pa=L.length>>1,Aa=Infinity,ab=Infinity,Va=-Infinity,I=-Infinity;for(var x=0;x<Pa;x++){var M=L[2*x];var K=L[2*x+1];M<Aa&&(Aa=M);K<ab&&(ab=K);M>Va&&(Va=M);
K>I&&(I=K);this._ids[x]=x}Va=(Aa+Va)/2;ab=(ab+I)/2;Aa=Infinity;for(I=0;I<Pa;I++)if(x=r(Va,ab,L[2*I],L[2*I+1]),x<Aa){var C=I;Aa=x}ab=L[2*C];I=L[2*C+1];Aa=Infinity;for(Va=0;Va<Pa;Va++)if(Va!==C&&(x=r(ab,I,L[2*Va],L[2*Va+1]),x<Aa&&0<x)){var R=Va;Aa=x}Aa=L[2*R];Va=L[2*R+1];K=Infinity;for(x=0;x<Pa;x++)if(x!==C&&x!==R){M=Aa-ab;var aa=Va-I;var da=L[2*x]-ab;var Da=L[2*x+1]-I,Ja=M*M+aa*aa,J=da*da+Da*Da,fa=.5/(M*Da-aa*da);aa=(Da*Ja-aa*J)*fa;M=(M*J-da*Ja)*fa;M=aa*aa+M*M;if(M<K){var ca=x;K=M}}x=L[2*ca];M=L[2*
ca+1];if(Infinity===K){for(C=0;C<Pa;C++)this._dists[C]=L[2*C]-L[0]||L[2*C+1]-L[1];sb(this._ids,this._dists,0,Pa-1);C=new Uint32Array(Pa);R=0;for(let W=0,d=-Infinity;W<Pa;W++)ca=this._ids[W],this._dists[ca]>d&&(C[R++]=ca,d=this._dists[ca]);this.hull=C.subarray(0,R);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Ra(ab,I,Aa,Va,x,M)&&(K=R,da=Aa,Ja=Va,R=ca,Aa=x,Va=M,ca=K,x=da,M=Ja);da=Aa-ab;K=Va-I;Ja=x-ab;Da=M-I;J=da*da+K*K;fa=Ja*Ja+Da*Da;aa=.5/(da*Da-K*Ja);K=ab+(Da*J-K*fa)*aa;
da=I+(da*fa-Ja*J)*aa;this._cx=K;this._cy=da;for(Ja=0;Ja<Pa;Ja++)this._dists[Ja]=r(L[2*Ja],L[2*Ja+1],K,da);sb(this._ids,this._dists,0,Pa-1);this._hullStart=C;Pa=3;ya[C]=ha[ca]=R;ya[R]=ha[C]=ca;ya[ca]=ha[R]=C;ua[C]=0;ua[R]=1;ua[ca]=2;Ma.fill(-1);Ma[this._hashKey(ab,I)]=C;Ma[this._hashKey(Aa,Va)]=R;Ma[this._hashKey(x,M)]=ca;this.trianglesLen=0;this._addTriangle(C,R,ca,-1,-1,-1);for(let W=0,d,c;W<this._ids.length;W++){ab=this._ids[W];I=L[2*ab];Aa=L[2*ab+1];if(0<W&&Math.abs(I-d)<=ma&&Math.abs(Aa-c)<=ma)continue;
d=I;c=Aa;if(ab===C||ab===R||ab===ca)continue;Va=0;for(let l=0,m=this._hashKey(I,Aa);l<this._hashSize&&(Va=Ma[(m+l)%this._hashSize],-1===Va||Va===ya[Va]);l++);x=Va=ha[Va];let f;for(;f=ya[x],!Ra(I,Aa,L[2*x],L[2*x+1],L[2*f],L[2*f+1]);)if(x=f,x===Va){x=-1;break}if(-1!==x){M=this._addTriangle(x,ab,ya[x],-1,-1,ua[x]);ua[ab]=this._legalize(M+2);ua[x]=M;Pa++;for(K=ya[x];f=ya[K],Ra(I,Aa,L[2*K],L[2*K+1],L[2*f],L[2*f+1]);)M=this._addTriangle(K,ab,f,ua[ab],-1,ua[K]),ua[ab]=this._legalize(M+2),ya[K]=K,Pa--,K=
f;if(x===Va)for(;f=ha[x],Ra(I,Aa,L[2*f],L[2*f+1],L[2*x],L[2*x+1]);)M=this._addTriangle(f,ab,x,-1,ua[x],ua[f]),this._legalize(M+2),ua[f]=M,ya[x]=x,Pa--,x=f;this._hullStart=ha[ab]=x;ya[x]=ha[K]=ab;ya[ab]=K;Ma[this._hashKey(I,Aa)]=ab;Ma[this._hashKey(L[2*x],L[2*x+1])]=x}}this.hull=new Uint32Array(Pa);for(let W=0,d=this._hullStart;W<Pa;W++)this.hull[W]=d,d=ya[d];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(L,ha){var ya=
Math;L-=this._cx;ha-=this._cy;L/=Math.abs(L)+Math.abs(ha);return ya.floor.call(ya,(0<ha?3-L:1+L)/4*this._hashSize)%this._hashSize}_legalize(L){const {_triangles:ha,_halfedges:ya,coords:ua}=this;let Ma=0;for(var Pa;;){const K=ya[L];var Aa=L-L%3;Pa=Aa+(L+2)%3;if(-1===K){if(0===Ma)break;L=na[--Ma];continue}const C=K-K%3,R=C+(K+2)%3;var ab=ha[Pa],Va=ha[L],I=ha[Aa+(L+1)%3];Aa=ha[R];var x=ua[2*Aa],M=ua[2*Aa+1];const aa=ua[2*ab]-x,da=ua[2*ab+1]-M,Da=ua[2*Va]-x;Va=ua[2*Va+1]-M;x=ua[2*I]-x;M=ua[2*I+1]-M;I=
Da*Da+Va*Va;const Ja=x*x+M*M;if(0>aa*(Va*Ja-I*M)-da*(Da*Ja-I*x)+(aa*aa+da*da)*(Da*M-Va*x)){ha[L]=Aa;ha[K]=ab;ab=ya[R];if(-1===ab){Aa=this._hullStart;do{if(this._hullTri[Aa]===R){this._hullTri[Aa]=L;break}Aa=this._hullPrev[Aa]}while(Aa!==this._hullStart)}this._link(L,ab);this._link(K,ya[Pa]);this._link(Pa,R);Pa=C+(K+1)%3;Ma<na.length&&(na[Ma++]=Pa)}else{if(0===Ma)break;L=na[--Ma]}}return Pa}_link(L,ha){this._halfedges[L]=ha;-1!==ha&&(this._halfedges[ha]=L)}_addTriangle(L,ha,ya,ua,Ma,Pa){const Aa=this.trianglesLen;
this._triangles[Aa]=L;this._triangles[Aa+1]=ha;this._triangles[Aa+2]=ya;this._link(Aa,ua);this._link(Aa+1,Ma);this._link(Aa+2,Pa);this.trianglesLen+=3;return Aa}}class Ga{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(L,ha){this._+=`M${this._x0=this._x1=+L},${this._y0=this._y1=+ha}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(L,ha){this._+=`L${this._x1=+L},${this._y1=+ha}`}arc(L,ha,ya){L=+L;ha=+ha;ya=+ya;const ua=L+ya,Ma=ha;if(0>ya)throw Error("negative radius");
if(null===this._x1)this._+=`M${ua},${Ma}`;else if(1E-6<Math.abs(this._x1-ua)||1E-6<Math.abs(this._y1-Ma))this._+="L"+ua+","+Ma;ya&&(this._+=`A${ya},${ya},0,1,1,${L-ya},${ha}A${ya},${ya},0,1,1,${this._x1=ua},${this._y1=Ma}`)}rect(L,ha,ya,ua){this._+=`M${this._x0=this._x1=+L},${this._y0=this._y1=+ha}h${+ya}v${+ua}h${-ya}Z`}value(){return this._||null}}class la{constructor(){this._=[]}moveTo(L,ha){this._.push([L,ha])}closePath(){this._.push(this._[0].slice())}lineTo(L,ha){this._.push([L,ha])}value(){return this._.length?
this._:null}}class ra{constructor(L,[ha,ya,ua,Ma]=[0,0,960,500]){if(!((ua=+ua)>=(ha=+ha)&&(Ma=+Ma)>=(ya=+ya)))throw Error("invalid bounds");this.delaunay=L;this._circumcenters=new Float64Array(2*L.points.length);this.vectors=new Float64Array(2*L.points.length);this.xmax=ua;this.xmin=ha;this.ymax=Ma;this.ymin=ya;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:L,hull:ha,triangles:ya},vectors:ua}=this;var Ma=this.circumcenters=this._circumcenters.subarray(0,
ya.length/3*2);for(let K=0,C=0,R=ya.length,aa,da;K<R;K+=3,C+=2){var Pa=2*ya[K],Aa=2*ya[K+1],ab=2*ya[K+2],Va=L[Pa];Pa=L[Pa+1];var I=L[ab],x=L[ab+1];ab=L[Aa]-Va;Aa=L[Aa+1]-Pa;var M=I-Va;const Da=x-Pa,Ja=ab*ab+Aa*Aa,J=M*M+Da*Da,fa=2*(ab*Da-Aa*M);fa?1E-8>Math.abs(fa)?(aa=(Va+I)/2,da=(Pa+x)/2):(I=1/fa,aa=Va+(Da*Ja-Aa*J)*I,da=Pa+(ab*J-M*Ja)*I):(aa=(Va+I)/2-1E8*Da,da=(Pa+x)/2+1E8*M);Ma[C]=aa;Ma[C+1]=da}Ma=ha[ha.length-1];Pa=4*Ma;ab=L[2*Ma];Aa=L[2*Ma+1];ua.fill(0);for(M=0;M<ha.length;++M)Ma=ha[M],Va=Pa,I=
ab,x=Aa,Pa=4*Ma,ab=L[2*Ma],Aa=L[2*Ma+1],ua[Va+2]=ua[Pa]=x-Aa,ua[Va+3]=ua[Pa+1]=ab-I}render(L){const ha=null==L?L=new Ga:void 0,{delaunay:{halfedges:ya,inedges:ua,hull:Ma},circumcenters:Pa,vectors:Aa}=this;if(1>=Ma.length)return null;for(let M=0,K=ya.length;M<K;++M){var ab=ya[M];if(!(ab<M)){var Va=2*Math.floor(M/3);ab=2*Math.floor(ab/3);this._renderSegment(Pa[Va],Pa[Va+1],Pa[ab],Pa[ab+1],L)}}Va=Ma[Ma.length-1];for(ab=0;ab<Ma.length;++ab){var I=Va;Va=Ma[ab];var x=2*Math.floor(ua[Va]/3);const M=Pa[x];
x=Pa[x+1];I*=4;(I=this._project(M,x,Aa[I+2],Aa[I+3]))&&this._renderSegment(M,x,I[0],I[1],L)}return ha&&ha.value()}renderBounds(L){const ha=null==L?L=new Ga:void 0;L.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return ha&&ha.value()}renderCell(L,ha){const ya=null==ha?ha=new Ga:void 0;L=this._clip(L);if(null!==L&&L.length){ha.moveTo(L[0],L[1]);for(var ua=L.length;L[0]===L[ua-2]&&L[1]===L[ua-1]&&1<ua;)ua-=2;for(let Ma=2;Ma<ua;Ma+=2)L[Ma]===L[Ma-2]&&L[Ma+1]===L[Ma-1]||ha.lineTo(L[Ma],
L[Ma+1]);ha.closePath();return ya&&ya.value()}}*cellPolygons(){var {delaunay:{points:L}}=this;for(let ha=0,ya=L.length/2;ha<ya;++ha)if(L=this.cellPolygon(ha))L.index=ha,yield L}cellPolygon(L){const ha=new la;this.renderCell(L,ha);return ha.value()}_renderSegment(L,ha,ya,ua,Ma){const Pa=this._regioncode(L,ha),Aa=this._regioncode(ya,ua);if(0===Pa&&0===Aa)Ma.moveTo(L,ha),Ma.lineTo(ya,ua);else if(L=this._clipSegment(L,ha,ya,ua,Pa,Aa))Ma.moveTo(L[0],L[1]),Ma.lineTo(L[2],L[3])}contains(L,ha,ya){return(ha=
+ha,ha!==ha)||(ya=+ya,ya!==ya)?!1:this.delaunay._step(L,ha,ya)===L}*neighbors(L){const ha=this._clip(L);if(ha)for(const ya of this.delaunay.neighbors(L))if(L=this._clip(ya))a:for(let ua=0,Ma=ha.length;ua<Ma;ua+=2)for(let Pa=0,Aa=L.length;Pa<Aa;Pa+=2)if(ha[ua]==L[Pa]&&ha[ua+1]==L[Pa+1]&&ha[(ua+2)%Ma]==L[(Pa+Aa-2)%Aa]&&ha[(ua+3)%Ma]==L[(Pa+Aa-1)%Aa]){yield ya;break a}}_cell(L){const {circumcenters:ha,delaunay:{inedges:ya,halfedges:ua,triangles:Ma}}=this,Pa=ya[L];if(-1===Pa)return null;const Aa=[];let ab=
Pa;do{const Va=Math.floor(ab/3);Aa.push(ha[2*Va],ha[2*Va+1]);ab=2===ab%3?ab-2:ab+1;if(Ma[ab]!==L)break;ab=ua[ab]}while(ab!==Pa&&-1!==ab);return Aa}_clip(L){if(0===L&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const ha=this._cell(L);if(null===ha)return null;const {vectors:ya}=this,ua=4*L;return ya[ua]||ya[ua+1]?this._clipInfinite(L,ha,ya[ua],ya[ua+1],ya[ua+2],ya[ua+3]):this._clipFinite(L,ha)}_clipFinite(L,ha){const ya=ha.length;
let ua=null;let Ma=ha[ya-2],Pa=ha[ya-1];let Aa=this._regioncode(Ma,Pa),ab;for(let M=0;M<ya;M+=2){var Va=Ma;var I=Pa;Ma=ha[M];Pa=ha[M+1];var x=Aa;Aa=this._regioncode(Ma,Pa);if(0===x&&0===Aa)ab=0,ua?ua.push(Ma,Pa):ua=[Ma,Pa];else{let K,C;if(0===x){if(null===(Va=this._clipSegment(Va,I,Ma,Pa,x,Aa)))continue;[I,x,K,C]=Va}else{if(null===(Va=this._clipSegment(Ma,Pa,Va,I,Aa,x)))continue;[K,C,I,x]=Va;Va=ab;ab=this._edgecode(I,x);Va&&ab&&this._edge(L,Va,ab,ua,ua.length);ua?ua.push(I,x):ua=[I,x]}Va=ab;ab=this._edgecode(K,
C);Va&&ab&&this._edge(L,Va,ab,ua,ua.length);ua?ua.push(K,C):ua=[K,C]}}if(ua)Va=ab,ab=this._edgecode(ua[0],ua[1]),Va&&ab&&this._edge(L,Va,ab,ua,ua.length);else if(this.contains(L,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ua}_clipSegment(L,ha,ya,ua,Ma,Pa){for(;;){if(0===Ma&&0===Pa)return[L,ha,ya,ua];if(Ma&Pa)return null;var Aa=void 0;let ab;Aa=Ma||Pa;Aa&8?(Aa=L+(ya-L)*(this.ymax-ha)/(ua-ha),ab=this.ymax):
Aa&4?(Aa=L+(ya-L)*(this.ymin-ha)/(ua-ha),ab=this.ymin):Aa&2?(ab=ha+(ua-ha)*(this.xmax-L)/(ya-L),Aa=this.xmax):(ab=ha+(ua-ha)*(this.xmin-L)/(ya-L),Aa=this.xmin);Ma?(L=Aa,ha=ab,Ma=this._regioncode(L,ha)):(ya=Aa,ua=ab,Pa=this._regioncode(ya,ua))}}_clipInfinite(L,ha,ya,ua,Ma,Pa){ha=Array.from(ha);let Aa;(Aa=this._project(ha[0],ha[1],ya,ua))&&ha.unshift(Aa[0],Aa[1]);(Aa=this._project(ha[ha.length-2],ha[ha.length-1],Ma,Pa))&&ha.push(Aa[0],Aa[1]);if(ha=this._clipFinite(L,ha))for(let ab=0,Va=ha.length,I,
x=this._edgecode(ha[Va-2],ha[Va-1]);ab<Va;ab+=2)I=x,x=this._edgecode(ha[ab],ha[ab+1]),I&&x&&(ab=this._edge(L,I,x,ha,ab),Va=ha.length);else this.contains(L,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(ha=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return ha}_edge(L,ha,ya,ua,Ma){for(;ha!==ya;){let Pa,Aa;switch(ha){case 5:ha=4;continue;case 4:ha=6;Pa=this.xmax;Aa=this.ymin;break;case 6:ha=2;continue;case 2:ha=10;Pa=this.xmax;Aa=this.ymax;break;case 10:ha=
8;continue;case 8:ha=9;Pa=this.xmin;Aa=this.ymax;break;case 9:ha=1;continue;case 1:ha=5,Pa=this.xmin,Aa=this.ymin}ua[Ma]===Pa&&ua[Ma+1]===Aa||!this.contains(L,Pa,Aa)||(ua.splice(Ma,0,Pa,Aa),Ma+=2)}if(4<ua.length)for(L=0;L<ua.length;L+=2)if(ha=(L+2)%ua.length,ya=(L+4)%ua.length,ua[L]===ua[ha]&&ua[ha]===ua[ya]||ua[L+1]===ua[ha+1]&&ua[ha+1]===ua[ya+1])ua.splice(ha,2),L-=2;return Ma}_project(L,ha,ya,ua){let Ma=Infinity,Pa,Aa,ab;if(0>ua){if(ha<=this.ymin)return null;(Pa=(this.ymin-ha)/ua)<Ma&&(ab=this.ymin,
Aa=L+(Ma=Pa)*ya)}else if(0<ua){if(ha>=this.ymax)return null;(Pa=(this.ymax-ha)/ua)<Ma&&(ab=this.ymax,Aa=L+(Ma=Pa)*ya)}if(0<ya){if(L>=this.xmax)return null;(Pa=(this.xmax-L)/ya)<Ma&&(Aa=this.xmax,ab=ha+Pa*ua)}else if(0>ya){if(L<=this.xmin)return null;(Pa=(this.xmin-L)/ya)<Ma&&(Aa=this.xmin,ab=ha+Pa*ua)}return[Aa,ab]}_edgecode(L,ha){return(L===this.xmin?1:L===this.xmax?2:0)|(ha===this.ymin?4:ha===this.ymax?8:0)}_regioncode(L,ha){return(L<this.xmin?1:L>this.xmax?2:0)|(ha<this.ymin?4:ha>this.ymax?8:0)}}
const Qa=2*Math.PI,za=Math.pow;class Ta{static from(L,ha=ib,ya=La,ua){if("length"in L){const Ma=L.length,Pa=new Float64Array(2*Ma);for(let Aa=0;Aa<Ma;++Aa){const ab=L[Aa];Pa[2*Aa]=ha.call(ua,ab,Aa,L);Pa[2*Aa+1]=ya.call(ua,ab,Aa,L)}L=Pa}else L=Float64Array.from(xa(L,ha,ya,ua));return new Ta(L)}constructor(L){this._delaunator=new Ba(L);this.inedges=new Int32Array(L.length/2);this._hullIndex=new Int32Array(L.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();
this._init();return this}_init(){var L=this._delaunator;const ha=this.points;if(L.hull&&2<L.hull.length&&Ia(L)){this.collinear=Int32Array.from({length:ha.length/2},(Aa,ab)=>ab).sort((Aa,ab)=>ha[2*Aa]-ha[2*ab]||ha[2*Aa+1]-ha[2*ab+1]);L=this.collinear[0];var ya=this.collinear[this.collinear.length-1];L=[ha[2*L],ha[2*L+1],ha[2*ya],ha[2*ya+1]];L=1E-8*Math.hypot(L[3]-L[1],L[2]-L[0]);for(let Aa=0,ab=ha.length/2;Aa<ab;++Aa)ya=Sa(ha[2*Aa],ha[2*Aa+1],L),ha[2*Aa]=ya[0],ha[2*Aa+1]=ya[1];this._delaunator=new Ba(ha)}else delete this.collinear;
L=this.halfedges=this._delaunator.halfedges;ya=this.hull=this._delaunator.hull;const ua=this.triangles=this._delaunator.triangles,Ma=this.inedges.fill(-1),Pa=this._hullIndex.fill(-1);for(let Aa=0,ab=L.length;Aa<ab;++Aa){const Va=ua[2===Aa%3?Aa-2:Aa+1];if(-1===L[Aa]||-1===Ma[Va])Ma[Va]=Aa}for(let Aa=0,ab=ya.length;Aa<ab;++Aa)Pa[ya[Aa]]=Aa;2>=ya.length&&0<ya.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=ya[0],this.triangles[1]=ya[1],
this.triangles[2]=ya[1],Ma[ya[0]]=1,2===ya.length&&(Ma[ya[1]]=0))}voronoi(L){return new ra(this,L)}*neighbors(L){const {inedges:ha,hull:ya,_hullIndex:ua,halfedges:Ma,triangles:Pa,collinear:Aa}=this;if(Aa){var ab=Aa.indexOf(L);0<ab&&(yield Aa[ab-1]);ab<Aa.length-1&&(yield Aa[ab+1])}else{var Va=ha[L];if(-1!==Va){var I=Va;do{yield(ab=Pa[I]);I=2===I%3?I-2:I+1;if(Pa[I]!==L)break;I=Ma[I];if(-1===I){L=ya[(ua[L]+1)%ya.length];L!==ab&&(yield L);break}}while(I!==Va)}}}find(L,ha,ya=0){if((L=+L,L!==L)||(ha=+ha,
ha!==ha))return-1;const ua=ya;let Ma;for(;0<=(Ma=this._step(ya,L,ha))&&Ma!==ya&&Ma!==ua;)ya=Ma;return Ma}_step(L,ha,ya){const {inedges:ua,hull:Ma,_hullIndex:Pa,halfedges:Aa,triangles:ab,points:Va}=this;if(-1===ua[L]||!Va.length)return(L+1)%(Va.length>>1);let I=L,x=za(ha-Va[2*L],2)+za(ya-Va[2*L+1],2);const M=ua[L];let K=M;do{let C=ab[K];const R=za(ha-Va[2*C],2)+za(ya-Va[2*C+1],2);R<x&&(x=R,I=C);K=2===K%3?K-2:K+1;if(ab[K]!==L)break;K=Aa[K];if(-1===K){K=Ma[(Pa[L]+1)%Ma.length];if(K!==C&&za(ha-Va[2*K],
2)+za(ya-Va[2*K+1],2)<x)return K;break}}while(K!==M);return I}render(L){const ha=null==L?L=new Ga:void 0,{points:ya,halfedges:ua,triangles:Ma}=this;for(let Aa=0,ab=ua.length;Aa<ab;++Aa){var Pa=ua[Aa];if(Pa<Aa)continue;const Va=2*Ma[Aa];Pa=2*Ma[Pa];L.moveTo(ya[Va],ya[Va+1]);L.lineTo(ya[Pa],ya[Pa+1])}this.renderHull(L);return ha&&ha.value()}renderPoints(L,ha=2){const ya=null==L?L=new Ga:void 0,{points:ua}=this;for(let Ma=0,Pa=ua.length;Ma<Pa;Ma+=2){const Aa=ua[Ma],ab=ua[Ma+1];L.moveTo(Aa+ha,ab);L.arc(Aa,
ab,ha,0,Qa)}return ya&&ya.value()}renderHull(L){const ha=null==L?L=new Ga:void 0,{hull:ya,points:ua}=this;var Ma=2*ya[0];const Pa=ya.length;L.moveTo(ua[Ma],ua[Ma+1]);for(Ma=1;Ma<Pa;++Ma){const Aa=2*ya[Ma];L.lineTo(ua[Aa],ua[Aa+1])}L.closePath();return ha&&ha.value()}hullPolygon(){const L=new la;this.renderHull(L);return L.value()}renderTriangle(L,ha){const ya=null==ha?ha=new Ga:void 0,{points:ua,triangles:Ma}=this,Pa=2*Ma[L*=3],Aa=2*Ma[L+1];L=2*Ma[L+2];ha.moveTo(ua[Pa],ua[Pa+1]);ha.lineTo(ua[Aa],
ua[Aa+1]);ha.lineTo(ua[L],ua[L+1]);ha.closePath();return ya&&ya.value()}*trianglePolygons(){const {triangles:L}=this;for(let ha=0,ya=L.length/3;ha<ya;++ha)yield this.trianglePolygon(ha)}trianglePolygon(L){const ha=new la;this.renderTriangle(L,ha);return ha.value()}}h.Delaunay=Ta;h.Voronoi=ra;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[42]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(14),zb(2),zb(41)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3))})(this,function(h,r,A,Ra){function sb(xb){r.Transform.call(this,null,xb)}sb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const bb=[-1E5,-1E5,1E5,1E5];A.inherits(sb,r.Transform,{transform(xb,Gb){const ib=xb.as||"path",La=Gb.source;if(!La||!La.length)return Gb;var Ia=xb.size;Ia=Ia?[0,0,Ia[0],Ia[1]]:(Ia=xb.extent)?[Ia[0][0],Ia[0][1],Ia[1][0],Ia[1][1]]:bb;Ia=this.value=
Ra.Delaunay.from(La,xb.x,xb.y).voronoi(Ia);for(let ma=0,na=La.length;ma<na;++ma){var Sa=Ia.cellPolygon(ma),xa=La[ma];if(Sa){const Ba=Sa[0][0],Ga=Sa[0][1];let la=Sa.length-1;for(;Sa[la][0]===Ba&&Sa[la][1]===Ga;--la);Sa="M"+Sa.slice(0,la+1).join("L")+"Z"}else Sa=null;xa[ib]=Sa}return Gb.reflow(xb.modified()).modifies(ib)}});h.voronoi=sb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[43]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(20),zb(14),zb(2),zb(24),zb(16)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega,h.vega,h.vega))})(this,function(h,r,A,Ra,sb,bb){function xb(){function la(I){I.width=I.height=1;var x=Math.sqrt(I.getContext("2d").getImageData(0,
0,1,1).data.length>>2);I.width=2048/x;I.height=2048/x;I=I.getContext("2d");I.fillStyle=I.strokeStyle="red";I.textAlign="center";return{context:I,ratio:x}}function ra(I,x,M){for(var K=x.x,C=x.y,R=Math.sqrt(Qa[0]*Qa[0]+Qa[1]*Qa[1]),aa=Pa(Qa),da=.5>ab()?1:-1,Da=-da,Ja,J;Ja=aa(Da+=da);){J=~~Ja[0];Ja=~~Ja[1];if(Math.min(Math.abs(J),Math.abs(Ja))>=R)break;x.x=K+J;x.y=C+Ja;if(!(0>x.x+x.x0||0>x.y+x.y0||x.x+x.x1>Qa[0]||x.y+x.y1>Qa[1])){if(!(J=!M)){a:{J=Qa[0];J>>=5;Ja=x.sprite;var fa=x.width>>5;var ca=x.x-
(fa<<4);for(var W=ca&127,d=32-W,c=x.y1-x.y0,f=(x.y+x.y0)*J+(ca>>5),l=0;l<c;l++){for(var m=ca=0;m<=fa;m++)if((ca<<d|(m<fa?(ca=Ja[l*fa+m])>>>W:0))&I[f+m]){J=!0;break a}f+=J}J=!1}J=!J}if(J&&(!M||x.x+x.x1>M[0].x&&x.x+x.x0<M[1].x&&x.y+x.y1>M[0].y&&x.y+x.y0<M[1].y)){M=x.sprite;K=x.width>>5;C=Qa[0]>>5;Da=x.x-(K<<4);R=Da&127;aa=32-R;da=x.y1-x.y0;Da=(x.y+x.y0)*C+(Da>>5);for(Ja=0;Ja<da;Ja++){for(fa=J=0;fa<=K;fa++)I[Da+fa]=I[Da+fa]|J<<aa|(fa<K?(J=M[Ja*K+fa])>>>R:0);Da+=C}x.sprite=null;return!0}}}return!1}var Qa=
[256,256],za,Ta,L,ha,ya,ua,Ma,Pa=La,Aa=[],ab=Math.random,Va={layout:function(){for(var I=la(r.canvas()),x=Ia((Qa[0]>>5)*Qa[1]),M=null,K=Aa.length,C=-1,R=[],aa=Aa.map(Da=>({text:za(Da),font:Ta(Da),style:ha(Da),weight:ya(Da),rotate:ua(Da),size:~~(L(Da)+1E-14),padding:Ma(Da),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Da})).sort((Da,Ja)=>Ja.size-Da.size);++C<K;){var da=aa[C];da.x=Qa[0]*(ab()+.5)>>1;da.y=Qa[1]*(ab()+.5)>>1;Gb(I,da,aa,C);da.hasText&&ra(x,da,M)&&(R.push(da),M?ib(M,da):
M=[{x:da.x+da.x0,y:da.y+da.y0},{x:da.x+da.x1,y:da.y+da.y1}],da.x-=Qa[0]>>1,da.y-=Qa[1]>>1)}return R},words:function(I){return arguments.length?(Aa=I,Va):Aa},size:function(I){return arguments.length?(Qa=[+I[0],+I[1]],Va):Qa},font:function(I){return arguments.length?(Ta=Sa(I),Va):Ta},fontStyle:function(I){return arguments.length?(ha=Sa(I),Va):ha},fontWeight:function(I){return arguments.length?(ya=Sa(I),Va):ya},rotate:function(I){return arguments.length?(ua=Sa(I),Va):ua},text:function(I){return arguments.length?
(za=Sa(I),Va):za},spiral:function(I){return arguments.length?(Pa=na[I]||I,Va):Pa},fontSize:function(I){return arguments.length?(L=Sa(I),Va):L},padding:function(I){return arguments.length?(Ma=Sa(I),Va):Ma},random:function(I){return arguments.length?(ab=I,Va):ab}};return Va}function Gb(la,ra,Qa,za){if(!ra.sprite){var Ta=la.context,L=la.ratio;Ta.clearRect(0,0,2048/L,2048/L);var ha=la=0,ya=0,ua=Qa.length;for(--za;++za<ua;){ra=Qa[za];Ta.save();Ta.font=ra.style+" "+ra.weight+" "+~~((ra.size+1)/L)+"px "+
ra.font;var Ma=Ta.measureText(ra.text+"m").width*L;var Pa=ra.size<<1;if(ra.rotate){var Aa=Math.sin(ra.rotate*ma),ab=Math.cos(ra.rotate*ma),Va=Ma*ab,I=Ma*Aa;ab*=Pa;Ma=Pa*Aa;Ma=Math.max(Math.abs(Va+Ma),Math.abs(Va-Ma))+31>>5<<5;Pa=~~Math.max(Math.abs(I+ab),Math.abs(I-ab))}else Ma=Ma+31>>5<<5;Pa>ya&&(ya=Pa);2048<=la+Ma&&(la=0,ha+=ya,ya=0);if(2048<=ha+Pa)break;Ta.translate((la+(Ma>>1))/L,(ha+(Pa>>1))/L);ra.rotate&&Ta.rotate(ra.rotate*ma);Ta.fillText(ra.text,0,0);ra.padding&&(Ta.lineWidth=2*ra.padding,
Ta.strokeText(ra.text,0,0));Ta.restore();ra.width=Ma;ra.height=Pa;ra.xoff=la;ra.yoff=ha;ra.x1=Ma>>1;ra.y1=Pa>>1;ra.x0=-ra.x1;ra.y0=-ra.y1;ra.hasText=!0;la+=Ma}ua=Ta.getImageData(0,0,2048/L,2048/L).data;for(Va=[];0<=--za;)if(ra=Qa[za],ra.hasText){Ma=ra.width;Ta=Ma>>5;Pa=ra.y1-ra.y0;for(L=0;L<Pa*Ta;L++)Va[L]=0;la=ra.xoff;if(null==la)break;ha=ra.yoff;I=0;Aa=-1;for(ya=0;ya<Pa;ya++){for(L=0;L<Ma;L++)ab=ua[2048*(ha+ya)+(la+L)<<2]?1<<31-L%32:0,Va[Ta*ya+(L>>5)]|=ab,I|=ab;I?Aa=ya:(ra.y0++,Pa--,ya--,ha++)}ra.y1=
ra.y0+Aa;ra.sprite=Va.slice(0,(ra.y1-ra.y0)*Ta)}}}function ib(la,ra){var Qa=la[0];la=la[1];ra.x+ra.x0<Qa.x&&(Qa.x=ra.x+ra.x0);ra.y+ra.y0<Qa.y&&(Qa.y=ra.y+ra.y0);ra.x+ra.x1>la.x&&(la.x=ra.x+ra.x1);ra.y+ra.y1>la.y&&(la.y=ra.y+ra.y1)}function La(la){var ra=la[0]/la[1];return function(Qa){return[ra*(Qa*=.1)*Math.cos(Qa),Qa*Math.sin(Qa)]}}function Ia(la){for(var ra=[],Qa=-1;++Qa<la;)ra[Qa]=0;return ra}function Sa(la){return"function"===typeof la?la:function(){return la}}function xa(la){A.Transform.call(this,
xb(),la)}var ma=Math.PI/180,na={archimedean:La,rectangular:function(la){var ra=4*la[0]/la[1],Qa=0,za=0;return function(Ta){var L=0>Ta?-1:1;switch(Math.sqrt(1+4*L*Ta)-L&3){case 0:Qa+=ra;break;case 1:za+=4;break;case 2:Qa-=ra;break;default:za-=4}return[Qa,za]}}};const Ba="x y font fontSize fontStyle fontWeight angle".split(" "),Ga="text font rotate fontSize fontStyle fontWeight".split(" ");xa.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",
type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,
length:7,"default":Ba}]};Ra.inherits(xa,A.Transform,{transform(la,ra){function Qa(Ma){Ma=la[Ma];return Ra.isFunction(Ma)&&ra.modified(Ma.fields)}!la.size||la.size[0]&&la.size[1]||Ra.error("Wordcloud size dimensions must be non-zero.");const za=la.modified();if(za||ra.changed(ra.ADD_REM)||Ga.some(Qa)){var Ta=ra.materialize(ra.SOURCE).source,L=this.value,ha=la.as||Ba,ya=la.fontSize||14,ua;Ra.isFunction(ya)?ua=la.fontSizeRange:ya=Ra.constant(ya);if(ua){const Ma=ya,Pa=sb.scale("sqrt")().domain(Ra.extent(Ta,
Ma)).range(ua);ya=Aa=>Pa(Ma(Aa))}Ta.forEach(Ma=>{Ma[ha[0]]=NaN;Ma[ha[1]]=NaN;Ma[ha[3]]=0});Ta=L.words(Ta).text(la.text).size(la.size||[500,500]).padding(la.padding||1).spiral(la.spiral||"archimedean").rotate(la.rotate||0).font(la.font||"sans-serif").fontStyle(la.fontStyle||"normal").fontWeight(la.fontWeight||"normal").fontSize(ya).random(bb.random).layout();ya=L.size();L=ya[0]>>1;ya=ya[1]>>1;ua=Ta.length;for(let Ma=0,Pa,Aa;Ma<ua;++Ma)Pa=Ta[Ma],Aa=Pa.datum,Aa[ha[0]]=Pa.x+L,Aa[ha[1]]=Pa.y+ya,Aa[ha[2]]=
Pa.font,Aa[ha[3]]=Pa.size,Aa[ha[4]]=Pa.style,Aa[ha[5]]=Pa.weight,Aa[ha[6]]=Pa.rotate;return ra.reflow(za).modifies(ha)}}});h.wordcloud=xa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[44]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(3),zb(14),zb(2)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r((h.vega=h.vega||{},h.vega.transforms={}),h.d3,h.vega,h.vega))})(this,function(h,r,A,Ra){function sb(){let na=8,Ba=[],Ga=new Uint32Array(0),la=bb(0,na),ra=bb(0,na);return{data:()=>Ba,seen:()=>{var Qa=Ga;var za=Ba.length;
Qa.length>=za||(za=new Qa.constructor(za),za.set(Qa),Qa=za);return Ga=Qa},add(Qa){for(let za=0,Ta=Ba.length,L=Qa.length,ha;za<L;++za)ha=Qa[za],ha._index=Ta++,Ba.push(ha)},remove(Qa,za){const Ta=Ba.length;Qa=Array(Ta-Qa);const L=Ba;let ha,ya,ua;for(ya=0;!za[ya]&&ya<Ta;++ya)Qa[ya]=Ba[ya],L[ya]=ya;for(ua=ya;ya<Ta;++ya)ha=Ba[ya],za[ya]?L[ya]=-1:(L[ya]=ua,la[ua]=la[ya],ra[ua]=ra[ya],Qa[ua]=ha,ha._index=ua++),la[ya]=0;Ba=Qa;return L},size:()=>Ba.length,curr:()=>la,prev:()=>ra,reset:Qa=>ra[Qa]=la[Qa],all:()=>
257>na?255:65537>na?65535:4294967295,set(Qa,za){la[Qa]|=za},clear(Qa,za){la[Qa]&=~za},resize(Qa,za){if(Qa>la.length||za>na)na=Math.max(za,na),la=bb(Qa,na,la),ra=bb(Qa,na)}}}function bb(na,Ba,Ga){na=(257>Ba?Sa:65537>Ba?xa:ma)(na);Ga&&na.set(Ga);return na}function xb(na,Ba,Ga){const la=1<<Ba;return{one:la,zero:~la,range:Ga.slice(),bisect:na.bisect,index:na.index,size:na.size,onAdd(ra,Qa){var za=this.bisect(this.range,ra.value);ra=ra.index;const Ta=za[0];za=za[1];const L=ra.length;let ha;for(ha=0;ha<
Ta;++ha)Qa[ra[ha]]|=la;for(ha=za;ha<L;++ha)Qa[ra[ha]]|=la;return this}}}function Gb(){let na=new Uint32Array(0),Ba=[],Ga=0;return{insert:function(la,ra,Qa){if(!ra.length)return[];const za=Ga,Ta=ra.length,L=new Uint32Array(Ta);let ha=Array(Ta);var ya;for(ya=0;ya<Ta;++ya)ha[ya]=la(ra[ya]),L[ya]=ya;ha=ib(ha,L);if(za){la=Ba;ra=na;Ba=Array(za+Ta);na=new Uint32Array(za+Ta);ya=ha;var ua=Ba,Ma=na;let Pa=0,Aa=0,ab;for(ab=0;Pa<za&&Aa<Ta;++ab)la[Pa]<ya[Aa]?(ua[ab]=la[Pa],Ma[ab]=ra[Pa++]):(ua[ab]=ya[Aa],Ma[ab]=
L[Aa++]+Qa);for(;Pa<za;++Pa,++ab)ua[ab]=la[Pa],Ma[ab]=ra[Pa];for(;Aa<Ta;++Aa,++ab)ua[ab]=ya[Aa],Ma[ab]=L[Aa]+Qa}else{if(0<Qa)for(ya=0;ya<Ta;++ya)L[ya]+=Qa;Ba=ha;na=L}Ga=za+Ta;return{index:L,value:ha}},remove:function(la,ra){const Qa=Ga;let za,Ta,L;for(Ta=0;!ra[na[Ta]]&&Ta<Qa;++Ta);for(L=Ta;Ta<Qa;++Ta)ra[za=na[Ta]]||(na[L]=za,Ba[L]=Ba[Ta],++L);Ga=Qa-la},bisect:function(la,ra){let Qa;ra?Qa=ra.length:(ra=Ba,Qa=Ga);return[r.bisectLeft(ra,la[0],0,Qa),r.bisectRight(ra,la[1],0,Qa)]},reindex:function(la){for(let ra=
0,Qa=Ga;ra<Qa;++ra)na[ra]=la[na[ra]]},index:()=>na,size:()=>Ga}}function ib(na,Ba){na.sort.call(Ba,(Ga,la)=>{Ga=na[Ga];la=na[la];return Ga<la?-1:Ga>la?1:0});return r.permute(na,Ba)}function La(na){A.Transform.call(this,sb(),na);this._dims=this._indices=null}function Ia(na){A.Transform.call(this,null,na)}const Sa=na=>new Uint8Array(na),xa=na=>new Uint16Array(na),ma=na=>new Uint32Array(na);La.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",
type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ra.inherits(La,A.Transform,{transform(na,Ba){return this._dims?na.modified("fields")||na.fields.some(Ga=>Ba.modified(Ga.fields))?this.reinit(na,Ba):this.eval(na,Ba):this.init(na,Ba)},init(na,Ba){const Ga=na.fields,la=na.query,ra=this._indices={},Qa=this._dims=[],za=la.length;let Ta=0;for(var L;Ta<za;++Ta)L=Ga[Ta].fname,L=ra[L]||(ra[L]=Gb()),Qa.push(xb(L,Ta,la[Ta]));return this.eval(na,Ba)},reinit(na,Ba){const Ga=Ba.materialize().fork(),
la=na.fields,ra=na.query,Qa=this._indices,za=this._dims,Ta=this.value,L=Ta.curr(),ha=Ta.prev(),ya=Ta.all(),ua=Ga.rem=Ga.add,Ma=Ga.mod,Pa=ra.length,Aa={};let ab;var Va;let I,x,M,K;ha.set(L);Ba.rem.length&&(I=this.remove(na,Ba,Ga));Ba.add.length&&Ta.add(Ba.add);if(Ba.mod.length){x={};var C=Ba.mod;M=0;for(Va=C.length;M<Va;++M)x[C[M]._index]=1}for(M=0;M<Pa;++M)if(K=la[M],!za[M]||na.modified("fields",M)||Ba.modified(K.fields))Va=K.fname,(C=Aa[Va])||(Qa[Va]=ab=Gb(),Aa[Va]=C=ab.insert(K,Ba.source,0)),za[M]=
xb(ab,M,ra[M]).onAdd(C,L);M=0;for(Va=Ta.data().length;M<Va;++M)I[M]||(ha[M]!==L[M]?ua.push(M):x[M]&&L[M]!==ya&&Ma.push(M));Ta.mask=(1<<Pa)-1;return Ga},eval(na,Ba){const Ga=Ba.materialize().fork(),la=this._dims.length;let ra=0;Ba.rem.length&&(this.remove(na,Ba,Ga),ra|=(1<<la)-1);na.modified("query")&&!na.modified("fields")&&(ra|=this.update(na,Ba,Ga));Ba.add.length&&(this.insert(na,Ba,Ga),ra|=(1<<la)-1);Ba.mod.length&&(this.modify(Ba,Ga),ra|=(1<<la)-1);this.value.mask=ra;return Ga},insert(na,Ba,Ga){Ba=
Ba.add;var la=this.value;const ra=this._dims,Qa=this._indices;na=na.fields;const za={};Ga=Ga.add;const Ta=la.size()+Ba.length,L=ra.length;let ha=la.size();la.resize(Ta,L);la.add(Ba);const ya=la.curr(),ua=la.prev(),Ma=la.all();for(la=0;la<L;++la){var Pa=na[la].fname;Pa=za[Pa]||(za[Pa]=Qa[Pa].insert(na[la],Ba,ha));ra[la].onAdd(Pa,ya)}for(;ha<Ta;++ha)ua[ha]=Ma,ya[ha]!==Ma&&Ga.push(ha)},modify(na,Ba){Ba=Ba.mod;var Ga=this.value;const la=Ga.curr();Ga=Ga.all();na=na.mod;let ra,Qa,za;ra=0;for(Qa=na.length;ra<
Qa;++ra)za=na[ra]._index,la[za]!==Ga&&Ba.push(za)},remove(na,Ba,Ga){na=this._indices;var la=this.value;const ra=la.curr(),Qa=la.prev();la=la.all();const za={};Ga=Ga.rem;const Ta=Ba.rem;let L,ha,ya,ua;L=0;for(ha=Ta.length;L<ha;++L)ya=Ta[L]._index,za[ya]=1,Qa[ya]=ua=ra[ya],ra[ya]=la,ua!==la&&Ga.push(ya);for(ya in na)na[ya].remove(ha,za);this.reindex(Ba,ha,za);return za},reindex(na,Ba,Ga){const la=this._indices,ra=this.value;na.runAfter(()=>{const Qa=ra.remove(Ba,Ga);for(const za in la)la[za].reindex(Qa)})},
update(na,Ba,Ga){const la=this._dims,ra=na.query;Ba=Ba.stamp;const Qa=la.length;let za=0,Ta,L;for(L=Ga.filters=0;L<Qa;++L)na.modified("query",L)&&(Ta=L,++za);if(1===za)za=la[Ta].one,this.incrementOne(la[Ta],ra[Ta],Ga.add,Ga.rem);else for(za=L=0;L<Qa;++L)na.modified("query",L)&&(za|=la[L].one,this.incrementAll(la[L],ra[L],Ba,Ga.add),Ga.rem=Ga.add);return za},incrementAll(na,Ba,Ga,la){var ra=this.value;const Qa=ra.seen(),za=ra.curr();ra=ra.prev();const Ta=na.index();var L=na.bisect(na.range),ha=na.bisect(Ba);
const ya=ha[0];ha=ha[1];const ua=L[0];L=L[1];const Ma=na.one;let Pa,Aa,ab;if(ya<ua)for(Pa=ya,Aa=Math.min(ua,ha);Pa<Aa;++Pa)ab=Ta[Pa],Qa[ab]!==Ga&&(ra[ab]=za[ab],Qa[ab]=Ga,la.push(ab)),za[ab]^=Ma;else if(ya>ua)for(Pa=ua,Aa=Math.min(ya,L);Pa<Aa;++Pa)ab=Ta[Pa],Qa[ab]!==Ga&&(ra[ab]=za[ab],Qa[ab]=Ga,la.push(ab)),za[ab]^=Ma;if(ha>L)for(Pa=Math.max(ya,L),Aa=ha;Pa<Aa;++Pa)ab=Ta[Pa],Qa[ab]!==Ga&&(ra[ab]=za[ab],Qa[ab]=Ga,la.push(ab)),za[ab]^=Ma;else if(ha<L)for(Pa=Math.max(ua,ha),Aa=L;Pa<Aa;++Pa)ab=Ta[Pa],
Qa[ab]!==Ga&&(ra[ab]=za[ab],Qa[ab]=Ga,la.push(ab)),za[ab]^=Ma;na.range=Ba.slice()},incrementOne(na,Ba,Ga,la){const ra=this.value.curr(),Qa=na.index();var za=na.bisect(na.range),Ta=na.bisect(Ba);const L=Ta[0];Ta=Ta[1];const ha=za[0];za=za[1];const ya=na.one;let ua,Ma,Pa;if(L<ha)for(ua=L,Ma=Math.min(ha,Ta);ua<Ma;++ua)Pa=Qa[ua],ra[Pa]^=ya,Ga.push(Pa);else if(L>ha)for(ua=ha,Ma=Math.min(L,za);ua<Ma;++ua)Pa=Qa[ua],ra[Pa]^=ya,la.push(Pa);if(Ta>za)for(ua=Math.max(L,za),Ma=Ta;ua<Ma;++ua)Pa=Qa[ua],ra[Pa]^=
ya,Ga.push(Pa);else if(Ta<za)for(ua=Math.max(ha,Ta),Ma=za;ua<Ma;++ua)Pa=Qa[ua],ra[Pa]^=ya,la.push(Pa);na.range=Ba.slice()}});Ia.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ra.inherits(Ia,A.Transform,{transform(na,Ba){const Ga=~(na.ignore||0);na=na.filter;const la=na.mask;if(0===
(la&Ga))return Ba.StopPropagation;Ba=Ba.fork(Ba.ALL);const ra=na.data(),Qa=na.curr(),za=na.prev(),Ta=L=>Qa[L]&Ga?null:ra[L];Ba.filter(Ba.MOD,Ta);la&la-1?(Ba.filter(Ba.ADD,L=>{const ha=Qa[L]&Ga;return!ha&&ha^za[L]&Ga?ra[L]:null}),Ba.filter(Ba.REM,L=>{const ha=Qa[L]&Ga;return!ha||ha^ha^za[L]&Ga?null:ra[L]})):(Ba.filter(Ba.ADD,Ta),Ba.filter(Ba.REM,L=>(Qa[L]&Ga)===la?ra[L]:null));return Ba.filter(Ba.SOURCE,L=>Ta(L._index))}});h.crossfilter=La;h.resolvefilter=Ia;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[45]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(d,c,f){d.fields=c||[];d.fname=f;return d}function A(d){return null==d?null:d.fields}function Ra(d){return 1===d.length?ya(d[0]):ua(d)}function sb(d){throw Error(d);}function bb(d){function c(){f.push(w+d.substring(G,U));w="";G=U+1}const f=
[],l=d.length;let m=null,q=0,w="",G,U,wa;d+="";for(G=U=0;U<l;++U)(wa=d[U],"\\"===wa)?(w+=d.substring(G,U),w+=d.substring(++U,++U),G=U):wa===m?(c(),m=null,q=-1):m||(G===q&&'"'===wa?(G=U+1,m=wa):G===q&&"'"===wa?(G=U+1,m=wa):"."!==wa||q?"["===wa?(U>G&&c(),q=G=U+1):"]"===wa&&(q||sb("Access path missing open bracket: "+d),0<q&&c(),q=0,G=U+1):U>G?c():G=U+1);q&&sb("Access path missing closing bracket: "+d);m&&sb("Access path missing closing quote: "+d);U>G&&(U++,c());return f}function xb(d,c,f){const l=
bb(d);d=1===l.length?l[0]:d;return r((f&&f.get||Ra)(l),[d],c||d)}function Gb(d,c,f){c=[c].concat([].slice.call(f));console[d].apply(console,c)}function ib(d){return d===Object(d)}function La(d,c,f,l){if("__proto__"!==c){var m;if(ib(f)&&!x(f))for(m in d=ib(d[c])?d[c]:d[c]={},f)l&&(!0===l||l[m])?La(d,m,f[m]):"__proto__"!==m&&(d[m]=f[m]);else d[c]=f}}function Ia(d,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==d)return c;const l={},m=[];c.forEach(f);d.forEach(f);return m}function Sa(d){return d[d.length-
1]}function xa(d){return null==d||""===d?null:+d}function ma(d,c,f,l){const m=f(d[0]);d=f(Sa(d));c*=d-m;return[l(m-c),l(d-c)]}function na(d,c,f,l,m){const q=l(d[0]);d=l(Sa(d));c=null!=c?l(c):(q+d)/2;return[m(c+(q-c)*f),m(c+(d-c)*f)]}function Ba(d){return null!=d?x(d)?d:[d]:[]}function Ga(d){return"function"===typeof d}function la(d){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)d[f]=c[f];return d}function ra(d,c){return fa.call(d,c)}function Qa(d){return"[object Date]"===Object.prototype.toString.call(d)}
function za(d){return"number"===typeof d}function Ta(d){return"string"===typeof d}function L(d,c){let f="";for(;0<=--c;)f+=d;return f}function ha(d){return x(d)?"["+d.map(ha)+"]":ib(d)||Ta(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}const ya=d=>function(c){return c[d]},ua=d=>{const c=d.length;return function(f){for(let l=0;l<c;++l)f=f[d[l]];return f}},Ma=xb("id"),Pa=r(d=>d,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const M=d=>c=>d*Math.exp(c),K=d=>c=>Math.log(d*c),C=d=>c=>Math.sign(c)*Math.log1p(Math.abs(c/d)),R=d=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*d,aa=d=>c=>0>c?-Math.pow(-c,d):Math.pow(c,d),da=(d,c)=>(d<c||null==d)&&null!=c?-1:(d>c||null==c)&&null!=d?1:(c=c instanceof Date?+c:c,d=d instanceof Date?+d:d)!==d&&c===c?-1:c!==c&&d===d?1:0,Da=(d,c)=>1===d.length?Ja(d[0],c[0]):J(d,c,d.length),Ja=(d,c)=>function(f,l){return da(d(f),d(l))*c},J=(d,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=d[w],q=da(q(l),q(m));return q*c[w]}},fa=Object.prototype.hasOwnProperty,ca={},W=d=>za(d)?d:Qa(d)?d:Date.parse(d);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=A;h.accessorName=function(d){return null==d?null:d.fname};h.array=Ba;h.ascending=da;h.clampRange=function(d,c,f){let l=d[0];d=d[1];let m;d<l&&(m=d,d=l,l=m);m=d-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(d,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Da;Ba(d).forEach((G,U)=>{null!=G&&(l.push("descending"===c[U]?-1:1),m.push(G=Ga(G)?G:xb(G,null,f)),(A(G)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(d){return Ga(d)?d:()=>d};h.debounce=function(d,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),d)}};h.error=sb;h.extend=la;h.extent=function(d,c){let f=0,l,m,q,w;if(d&&(l=d.length))if(null==c){for(m=d[f];f<l&&(null==m||m!==m);m=d[++f]);for(q=w=m;f<
l;++f)m=d[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(d[f]);f<l&&(null==m||m!==m);m=c(d[++f]));for(q=w=m;f<l;++f)m=c(d[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(d,c){const f=d.length;let l=-1,m,q,w,G,U;if(null==c){for(;++l<f;)if(q=d[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=d[l],null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(d[l],l,d),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=c(d[l],l,d),
null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}return[G,U]};h.falsy=I;h.fastmap=function(d){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const G in f){const U=f[G];U===ca||l&&l(U)||(q[G]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};d&&Object.keys(d).forEach(q=>{m.set(q,d[q])});return m};h.field=xb;h.flush=function(d,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=d[0],G=Sa(d);G<w&&(d=w,w=G,G=d);d=Math.abs(c-w);c=Math.abs(G-c);return d<c&&d<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=Ma;h.identity=Pa;h.inherits=function(d,c,f){c=d.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:d,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(d,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=d:m<d)&&(void 0===l||l?d<=c:d<c)};h.isArray=x;h.isBoolean=function(d){return"boolean"===typeof d};h.isDate=Qa;h.isFunction=Ga;h.isIterable=function(d){return d&&Ga(d[Symbol.iterator])};h.isNumber=za;h.isObject=ib;h.isRegExp=function(d){return"[object RegExp]"===Object.prototype.toString.call(d)};h.isString=Ta;h.key=function(d,c,f){d&&(d=c?Ba(d).map(q=>q.replace(/\\(.)/g,"$1")):Ba(d));const l=d&&d.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(d[0]);f=function(w){return""+q(w)}}else{const q=d.map(f);f=function(w){let G=""+q[0](w),U=0;for(;++U<l;)G+="|"+q[U](w);return G}}else f=function(){return""};return r(f,d,"key")};h.lerp=function(d,c){const f=d[0];d=Sa(d);return(c=+c)?1===c?d:f+c*(d-f):f};h.logger=function(d,c){let f=d||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Gb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Gb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Gb(c||"log","INFO",arguments);return this},debug(){4<=f&&Gb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(d){d=+d||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,G)=>{++l>d&&(f=c,c={},l=1);return c[w]=G};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,G)=>ra(c,w)?c[w]=G:q(w,G)}};h.merge=function(d,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,G=0,U=0;for(;w<m&&G<q;++U)l[U]=0<d(c[w],
f[G])?f[G++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;G<q;++G,++U)l[U]=f[G];return l};h.mergeConfig=function(...d){return d.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ia(c.signals,f.signals):La(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(d,c,f,l){f=f||" ";d+="";c-=d.length;return 0>=c?d:"left"===l?L(f,c)+d:"center"===l?L(f,~~(c/2))+d+L(f,Math.ceil(c/2)):d+L(f,c)};h.panLinear=function(d,c){return ma(d,c,xa,Pa)};h.panLog=function(d,c){var f=
Math.sign(d[0]);return ma(d,c,K(f),M(f))};h.panPow=function(d,c,f){return ma(d,c,aa(f),aa(1/f))};h.panSymlog=function(d,c,f){return ma(d,c,C(f),R(f))};h.peek=Sa;h.quarter=function(d){return 1+~~((new Date(d)).getMonth()/3)};h.repeat=L;h.span=function(d){return d&&Sa(d)-d[0]||0};h.splitAccessPath=bb;h.stringValue=ha;h.toBoolean=function(d){return null==d||""===d?null:d&&"false"!==d&&"0"!==d?!!d:!1};h.toDate=function(d,c){c=c||W;return null==d||""===d?null:c(d)};h.toNumber=xa;h.toSet=function(d){const c=
{},f=d.length;for(let l=0;l<f;++l)c[d[l]]=!0;return c};h.toString=function(d){return null==d||""===d?null:d+""};h.truncate=function(d,c,f,l){l=null!=l?l:"…";d+="";const m=d.length,q=Math.max(0,c-l.length);return m<=c?d:"left"===f?l+d.slice(m-q):"center"===f?d.slice(0,Math.ceil(q/2))+l+d.slice(m-~~(q/2)):d.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(d){return 1+~~((new Date(d)).getUTCMonth()/3)};h.visitArray=function(d,c,f){if(d)if(c){const l=d.length;for(let m=0;m<l;++m){const q=c(d[m]);q&&f(q,
m,d)}}else d.forEach(f)};h.writeConfig=La;h.zero=Aa;h.zoomLinear=function(d,c,f){return na(d,c,f,xa,Pa)};h.zoomLog=function(d,c,f){const l=Math.sign(d[0]);return na(d,c,f,K(l),M(l))};h.zoomPow=function(d,c,f,l){return na(d,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(d,c,f,l){return na(d,c,f,C(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[46]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2)):"function"===typeof define&&define.amd?define(["exports","vega-util"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega))})(this,function(h,r){function A(c){this.type=c}function Ra(c){switch(c.type){case "ArrayExpression":return c.elements;case "BinaryExpression":case "LogicalExpression":return[c.left,c.right];case "CallExpression":return[c.callee].concat(c.arguments);
case "ConditionalExpression":return[c.test,c.consequent,c.alternate];case "MemberExpression":return[c.object,c.property];case "ObjectExpression":return c.properties;case "Property":return[c.key,c.value];case "UnaryExpression":return[c.argument];default:return[]}}function sb(c,f){if(!c)throw Error("ASSERT: "+f);}function bb(c){return 48<=c&&57>=c}function xb(c){return 0<="0123456789abcdefABCDEF".indexOf(c)}function Gb(c){return 0<="01234567".indexOf(c)}function ib(c){return 10===c||13===c||8232===
c||8233===c}function La(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||92===c||128<=c&&J.test(String.fromCharCode(c))}function Ia(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||48<=c&&57>=c||92===c||128<=c&&fa.test(String.fromCharCode(c))}function Sa(){for(;da<Da;){const c=aa.charCodeAt(da);if(32===c||9===c||11===c||12===c||160===c||5760<=c&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(c)||ib(c))++da;else break}}function xa(c){var f=
0;var l="u"===c?4:2;for(c=0;c<l;++c)if(da<Da&&xb(aa[da])){var m=aa[da++];f=16*f+"0123456789abcdef".indexOf(m.toLowerCase())}else ua({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(f)}function ma(){var c=aa.charCodeAt(da++);var f=String.fromCharCode(c);92===c&&(117!==aa.charCodeAt(da)&&ua({},"Unexpected token %0","ILLEGAL"),++da,(c=xa("u"))&&"\\"!==c&&La(c.charCodeAt(0))||ua({},"Unexpected token %0","ILLEGAL"),f=c);for(;da<Da;){c=aa.charCodeAt(da);if(!Ia(c))break;++da;f+=String.fromCharCode(c);
92===c&&(f=f.substr(0,f.length-1),117!==aa.charCodeAt(da)&&ua({},"Unexpected token %0","ILLEGAL"),++da,(c=xa("u"))&&"\\"!==c&&Ia(c.charCodeAt(0))||ua({},"Unexpected token %0","ILLEGAL"),f+=c)}return f}function na(){var c=da,f=aa.charCodeAt(da),l=aa[da];switch(f){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++da,{type:7,value:String.fromCharCode(f),start:c,end:da};default:var m=aa.charCodeAt(da+1);if(61===m)switch(f){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return da+=
2,{type:7,value:String.fromCharCode(f)+String.fromCharCode(m),start:c,end:da};case 33:case 61:return da+=2,61===aa.charCodeAt(da)&&++da,{type:7,value:aa.slice(c,da),start:c,end:da}}}f=aa.substr(da,4);if("\x3e\x3e\x3e\x3d"===f)return da+=4,{type:7,value:f,start:c,end:da};f=f.substr(0,3);if("\x3e\x3e\x3e"===f||"\x3c\x3c\x3d"===f||"\x3e\x3e\x3d"===f)return da+=3,{type:7,value:f,start:c,end:da};f=f.substr(0,2);if(l===f[1]&&0<="+-\x3c\x3e\x26|".indexOf(l)||"\x3d\x3e"===f)return da+=2,{type:7,value:f,start:c,
end:da};"//"===f&&ua({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(l))return++da,{type:7,value:l,start:c,end:da};ua({},"Unexpected token %0","ILLEGAL")}function Ba(){var c=aa[da];sb(bb(c.charCodeAt(0))||"."===c,"Numeric literal must start with a decimal digit or a decimal point");var f=da;var l="";if("."!==c){l=aa[da++];c=aa[da];if("0"===l){if("x"===c||"X"===c){++da;for(l="";da<Da&&xb(aa[da]);)l+=aa[da++];0===l.length&&ua({},"Unexpected token %0","ILLEGAL");La(aa.charCodeAt(da))&&
ua({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+l,16),start:f,end:da}}if(Gb(c)){for(l="0"+aa[da++];da<Da&&Gb(aa[da]);)l+=aa[da++];(La(aa.charCodeAt(da))||bb(aa.charCodeAt(da)))&&ua({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(l,8),octal:!0,start:f,end:da}}c&&bb(c.charCodeAt(0))&&ua({},"Unexpected token %0","ILLEGAL")}for(;bb(aa.charCodeAt(da));)l+=aa[da++];c=aa[da]}if("."===c){for(l+=aa[da++];bb(aa.charCodeAt(da));)l+=aa[da++];c=aa[da]}if("e"===c||"E"===
c){l+=aa[da++];c=aa[da];if("+"===c||"-"===c)l+=aa[da++];if(bb(aa.charCodeAt(da)))for(;bb(aa.charCodeAt(da));)l+=aa[da++];else ua({},"Unexpected token %0","ILLEGAL")}La(aa.charCodeAt(da))&&ua({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(l),start:f,end:da}}function Ga(c,f){let l=c;0<=f.indexOf("u")&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}/g,(m,q)=>{if(1114111>=parseInt(q,16))return"x";ua({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(l)}catch(m){ua({},
"Invalid regular expression")}try{return new RegExp(c,f)}catch(m){return null}}function la(){Sa();if(da>=Da)return{type:2,start:da,end:da};var c=aa.charCodeAt(da);if(La(c)){c=da;if(92===aa.charCodeAt(da))var f=ma();else a:{for(f=da++;da<Da;){var l=aa.charCodeAt(da);if(92===l){da=f;f=ma();break a}if(Ia(l))++da;else break}f=aa.slice(f,da)}return{type:1===f.length?3:ca.hasOwnProperty(f)?4:"null"===f?5:"true"===f||"false"===f?1:3,value:f,start:c,end:da}}if(40===c||41===c||59===c)return na();if(39===c||
34===c){var m="";l=!1;c=aa[da];sb("'"===c||'"'===c,"String literal must starts with a quote");f=da;for(++da;da<Da;){var q=aa[da++];if(q===c){c="";break}else if("\\"===q)if((q=aa[da++])&&ib(q.charCodeAt(0)))"\r"===q&&"\n"===aa[da]&&++da;else switch(q){case "u":case "x":if("{"===aa[da]){++da;var w=aa[da];q=0;for("}"===w&&ua({},"Unexpected token %0","ILLEGAL");da<Da;){w=aa[da++];if(!xb(w))break;q=16*q+"0123456789abcdef".indexOf(w.toLowerCase())}(1114111<q||"}"!==w)&&ua({},"Unexpected token %0","ILLEGAL");
q=65535>=q?String.fromCharCode(q):String.fromCharCode((q-65536>>10)+55296,(q-65536&1023)+56320);m+=q}else m+=xa(q);break;case "n":m+="\n";break;case "r":m+="\r";break;case "t":m+="\t";break;case "b":m+="\b";break;case "f":m+="\f";break;case "v":m+="\x0B";break;default:Gb(q)?(w="01234567".indexOf(q),0!==w&&(l=!0),da<Da&&Gb(aa[da])&&(l=!0,w=8*w+"01234567".indexOf(aa[da++]),0<="0123".indexOf(q)&&da<Da&&Gb(aa[da])&&(w=8*w+"01234567".indexOf(aa[da++]))),m+=String.fromCharCode(w)):m+=q}else if(ib(q.charCodeAt(0)))break;
else m+=q}""!==c&&ua({},"Unexpected token %0","ILLEGAL");return{type:8,value:m,octal:l,start:f,end:da}}return 46===c?bb(aa.charCodeAt(da+1))?Ba():na():bb(c)?Ba():na()}function ra(){const c=Ja;da=c.end;Ja=la();da=c.end;return c}function Qa(){const c=da;Ja=la();da=c}function za(c,f,l){const m=new A("||"===c||"\x26\x26"===c?"LogicalExpression":"BinaryExpression");m.operator=c;m.left=f;m.right=l;return m}function Ta(c){const f=new A("Identifier");f.name=c;return f}function L(c){const f=new A("Literal");
f.value=c.value;f.raw=aa.slice(c.start,c.end);c.regex&&("//"===f.raw&&(f.raw="/(?:)/"),f.regex=c.regex);return f}function ha(c,f,l){const m=new A("MemberExpression");m.computed="["===c;m.object=f;m.property=l;m.computed||(l.member=!0);return m}function ya(c,f,l){const m=new A("Property");m.key=f;m.value=l;m.kind=c;return m}function ua(c,f){var l=Array.prototype.slice.call(arguments,2),m=f.replace(/%(\d)/g,(w,G)=>{sb(G<l.length,"Message reference must be in range");return l[G]});var q=Error(m);q.index=
da;q.description=m;throw q;}function Ma(c){2===c.type&&ua(c,"Unexpected end of input");6===c.type&&ua(c,"Unexpected number");8===c.type&&ua(c,"Unexpected string");3===c.type&&ua(c,"Unexpected identifier");4===c.type&&ua(c,"Unexpected reserved word");ua(c,"Unexpected token %0",c.value)}function Pa(c){const f=ra();7===f.type&&f.value===c||Ma(f)}function Aa(c){return 7===Ja.type&&Ja.value===c}function ab(){da=Ja.start;const c=ra();return 8===c.type||6===c.type?(c.octal&&ua(c,"Octal literals are not allowed in strict mode."),
L(c)):Ta(c.value)}function Va(){if(Aa("(")){Pa("(");var c=C();Pa(")");return c}if(Aa("[")){c=[];da=Ja.start;for(Pa("[");!Aa("]");)Aa(",")?(ra(),c.push(null)):(c.push(K()),Aa("]")||Pa(","));ra();var f=new A("ArrayExpression");f.elements=c;return f}if(Aa("{")){c=[];f={};var l=String;da=Ja.start;for(Pa("{");!Aa("}");){da=Ja.start;var m=Ja;if(3===m.type){var q=ab();Pa(":");m=K();m=ya("init",q,m)}else 2===m.type||7===m.type?(Ma(m),m=void 0):(q=ab(),Pa(":"),m=K(),m=ya("init",q,m));q="Identifier"===m.key.type?
m.key.name:l(m.key.value);q="$"+q;Object.prototype.hasOwnProperty.call(f,q)?ua({},"Duplicate data property in object literal not allowed in strict mode"):f[q]=!0;c.push(m);Aa("}")||Pa(",")}Pa("}");f=new A("ObjectExpression");f.properties=c;return f}c=Ja.type;da=Ja.start;if(3===c||W[Ja.value])f=Ta(ra().value);else if(8===c||6===c)Ja.octal&&ua(Ja,"Octal literals are not allowed in strict mode."),f=L(ra());else{if(4===c)throw Error("Disabled.");if(1===c)c=ra(),c.value="true"===c.value,f=L(c);else if(5===
c)c=ra(),c.value=null,f=L(c);else if(Aa("/")||Aa("/\x3d")){var w;Ja=null;Sa();c=da;f=aa[da];sb("/"===f,"Regular expression literal must start with a slash");l=aa[da++];for(q=m=!1;da<Da;)if(f=aa[da++],l+=f,"\\"===f)f=aa[da++],ib(f.charCodeAt(0))&&ua({},"Invalid regular expression: missing /"),l+=f;else if(ib(f.charCodeAt(0)))ua({},"Invalid regular expression: missing /");else if(m)"]"===f&&(m=!1);else if("/"===f){q=!0;break}else"["===f&&(m=!0);q||ua({},"Invalid regular expression: missing /");f=l.substr(1,
l.length-2);for(w=q="";da<Da;){m=aa[da];if(!Ia(m.charCodeAt(0)))break;++da;"\\"===m&&da<Da?ua({},"Unexpected token %0","ILLEGAL"):(w+=m,q+=m)}0<=w.search(/[^gimuy]/g)&&ua({},"Invalid regular expression",w);m=w;w=Ga(f,m);f=L({literal:l+q,value:w,regex:{pattern:f,flags:m},start:c,end:da});Qa()}else Ma(ra())}return f}function I(){var c;for(c=Va();;)if(Aa(".")){Pa(".");da=Ja.start;var f=ra();3===f.type||4===f.type||1===f.type||5===f.type||Ma(f);f=Ta(f.value);c=ha(".",c,f)}else if(Aa("(")){f=[];Pa("(");
if(!Aa(")"))for(;da<Da;){f.push(K());if(Aa(")"))break;Pa(",")}Pa(")");const l=new A("CallExpression");l.callee=c;l.arguments=f;c=l}else if(Aa("["))Pa("["),f=C(),Pa("]"),c=ha("[",c,f);else break;if(7===Ja.type&&(Aa("++")||Aa("--")))throw Error("Disabled.");return c}function x(){if(7!==Ja.type&&4!==Ja.type)var c=I();else{if(Aa("++")||Aa("--"))throw Error("Disabled.");if(Aa("+")||Aa("-")||Aa("~")||Aa("!")){var f=ra();c=x();f=f.value;const l=new A("UnaryExpression");l.operator=f;l.argument=c;l.prefix=
!0;c=l}else{if(4===Ja.type&&"delete"===Ja.value||4===Ja.type&&"void"===Ja.value||4===Ja.type&&"typeof"===Ja.value)throw Error("Disabled.");c=I()}}return c}function M(c){let f=0;if(7!==c.type&&4!==c.type)return 0;switch(c.value){case "||":f=1;break;case "\x26\x26":f=2;break;case "|":f=3;break;case "^":f=4;break;case "\x26":f=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":f=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":f=7;break;
case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":f=8;break;case "+":case "-":f=9;break;case "*":case "/":case "%":f=11}return f}function K(){var c=Ja;var f=x();var l=Ja;var m=M(l);if(0===m)var q=f;else{l.prec=m;ra();c=[c,Ja];var w=x();for(q=[f,l,w];0<(m=M(Ja));){for(;2<q.length&&m<=q[q.length-2].prec;)w=q.pop(),l=q.pop().value,f=q.pop(),c.pop(),f=za(l,f,w),q.push(f);l=ra();l.prec=m;q.push(l);c.push(Ja);f=x();q.push(f)}m=q.length-1;f=q[m];for(c.pop();1<m;)c.pop(),f=za(q[m-1].value,q[m-2],f),m-=
2;q=f}Aa("?")&&(ra(),c=K(),Pa(":"),m=K(),f=new A("ConditionalExpression"),f.test=q,f.consequent=c,f.alternate=m,q=f);return q}function C(){const c=K();if(Aa(","))throw Error("Disabled.");return c}function R(c){function f(l,m,q){return w=>{let G=c(w[0]);m&&(G=m+"("+G+")",0===m.lastIndexOf("new ",0)&&(G="("+G+")"));return G+"."+l+(0>q?"":0===q?"()":"("+w.slice(1).map(c).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",
atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(l){3>l.length&&r.error("Missing arguments to clamp function.");3<l.length&&r.error("Too many arguments to clamp function.");l=l.map(c);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:f("getDate",
"new Date",0),day:f("getDay","new Date",0),year:f("getFullYear","new Date",0),month:f("getMonth","new Date",0),hours:f("getHours","new Date",0),minutes:f("getMinutes","new Date",0),seconds:f("getSeconds","new Date",0),milliseconds:f("getMilliseconds","new Date",0),time:f("getTime","new Date",0),timezoneoffset:f("getTimezoneOffset","new Date",0),utcdate:f("getUTCDate","new Date",0),utcday:f("getUTCDay","new Date",0),utcyear:f("getUTCFullYear","new Date",0),utcmonth:f("getUTCMonth","new Date",0),utchours:f("getUTCHours",
"new Date",0),utcminutes:f("getUTCMinutes","new Date",0),utcseconds:f("getUTCSeconds","new Date",0),utcmilliseconds:f("getUTCMilliseconds","new Date",0),length:f("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:f("toUpperCase","String",0),lower:f("toLowerCase","String",0),substring:f("substring","String"),split:f("split","String"),trim:f("trim","String",0),regexp:"RegExp",test:f("test","RegExp"),if:function(l){3>l.length&&r.error("Missing arguments to if function.");3<l.length&&
r.error("Too many arguments to if function.");l=l.map(c);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}A.prototype.visit=function(c){let f,l,m;if(c(this))return 1;f=Ra(this);l=0;for(m=f.length;l<m;++l)if(f[l].visit(c))return 1};var aa,da,Da,Ja,J=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
fa=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const ca={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},W={"if":1};var d={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};h.ASTNode=A;h.ArrayExpression="ArrayExpression";h.BinaryExpression="BinaryExpression";h.CallExpression="CallExpression";h.ConditionalExpression="ConditionalExpression";h.Identifier="Identifier";h.Literal="Literal";h.LogicalExpression="LogicalExpression";h.MemberExpression="MemberExpression";h.ObjectExpression="ObjectExpression";
h.Property="Property";h.RawCode="RawCode";h.UnaryExpression="UnaryExpression";h.codegen=function(c){function f(Q){if(r.isString(Q))return Q;const ja=H[Q.type];null==ja&&r.error("Unsupported type: "+Q.type);return ja(Q)}function l(Q){Q={code:f(Q),globals:Object.keys(hb),fields:Object.keys(Y)};hb={};Y={};return Q}c=c||{};const m=c.allowed?r.toSet(c.allowed):{},q=c.forbidden?r.toSet(c.forbidden):{},w=c.constants||d,G=(c.functions||R)(f),U=c.globalvar,wa=c.fieldvar,cb=r.isFunction(U)?U:Q=>`${U}["${Q}"]`;
let hb={},Y={},ta=0;const H={Literal:Q=>Q.raw,Identifier:Q=>{Q=Q.name;if(0<ta)return Q;if(r.hasOwnProperty(q,Q))return r.error("Illegal identifier: "+Q);if(r.hasOwnProperty(w,Q))return w[Q];if(r.hasOwnProperty(m,Q))return Q;hb[Q]=1;return cb(Q)},MemberExpression:Q=>{const ja=!Q.computed,Ca=f(Q.object);ja&&(ta+=1);Q=f(Q.property);if(Ca===wa){var qb=Y;var Ya=(Ya=Q&&Q.length-1)&&('"'===Q[0]&&'"'===Q[Ya]||"'"===Q[0]&&"'"===Q[Ya])?Q.slice(1,-1):Q;qb[Ya]=1}ja&&--ta;return Ca+(ja?"."+Q:"["+Q+"]")},CallExpression:Q=>
{"Identifier"!==Q.callee.type&&r.error("Illegal callee type: "+Q.callee.type);const ja=Q.callee.name;Q=Q.arguments;const Ca=r.hasOwnProperty(G,ja)&&G[ja];Ca||r.error("Unrecognized function: "+ja);return r.isFunction(Ca)?Ca(Q):Ca+"("+Q.map(f).join(",")+")"},ArrayExpression:Q=>"["+Q.elements.map(f).join(",")+"]",BinaryExpression:Q=>"("+f(Q.left)+" "+Q.operator+" "+f(Q.right)+")",UnaryExpression:Q=>"("+Q.operator+f(Q.argument)+")",ConditionalExpression:Q=>"("+f(Q.test)+"?"+f(Q.consequent)+":"+f(Q.alternate)+
")",LogicalExpression:Q=>"("+f(Q.left)+Q.operator+f(Q.right)+")",ObjectExpression:Q=>"{"+Q.properties.map(f).join(",")+"}",Property:Q=>{ta+=1;const ja=f(Q.key);--ta;return ja+":"+f(Q.value)}};l.functions=G;l.constants=w;return l};h.constants=d;h.functions=R;h.parse=function(c){aa=c;da=0;Da=aa.length;Ja=null;Qa();c=C();if(2!==Ja.type)throw Error("Unexpect token after expression.");return c};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[47]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2),zb(46)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega))})(this,function(h,r,A){function Ra(Ia){return(Sa,xa)=>{Sa=Ia(Sa);return Sa<xa?-1:Sa>xa?1:Sa>=xa?0:NaN}}function sb(Ia,Sa){var xa=Sa.fields;Sa=Sa.values;for(var ma=xa.length,na=0,Ba,Ga;na<ma;++na)if(Ga=xa[na],
Ga.getter=r.field.getter||r.field(Ga.field),Ba=Ga.getter(Ia),r.isDate(Ba)&&(Ba=r.toNumber(Ba)),r.isDate(Sa[na])&&(Sa[na]=r.toNumber(Sa[na])),r.isDate(Sa[na][0])&&(Sa[na]=Sa[na].map(r.toNumber)),"E"===Ga.type){if(r.isArray(Sa[na])?0>Sa[na].indexOf(Ba):Ba!==Sa[na])return!1}else if("R"===Ga.type){if(!r.inrange(Ba,Sa[na]))return!1}else if("R-RE"===Ga.type){if(!r.inrange(Ba,Sa[na],!0,!1))return!1}else if("R-E"===Ga.type){if(!r.inrange(Ba,Sa[na],!1,!1))return!1}else if("R-LE"===Ga.type&&!r.inrange(Ba,Sa[na],
!1,!0))return!1;return!0}const bb=r.field("_vgsid_"),xb=function(Ia){function Sa(na,Ba,Ga,la){null==Ga&&(Ga=0);null==la&&(la=na.length);for(;Ga<la;){const ra=Ga+la>>>1;0>ma(na[ra],Ba)?Ga=ra+1:la=ra}return Ga}let xa=Ia,ma=Ia;1===Ia.length&&(xa=(na,Ba)=>Ia(na)-Ba,ma=Ra(Ia));return{left:Sa,center:function(na,Ba,Ga,la){null==Ga&&(Ga=0);null==la&&(la=na.length);la=Sa(na,Ba,Ga,la-1);return la>Ga&&xa(na[la-1],Ba)>-xa(na[la],Ba)?la-1:la},right:function(na,Ba,Ga,la){null==Ga&&(Ga=0);null==la&&(la=na.length);
for(;Ga<la;){const ra=Ga+la>>>1;0<ma(na[ra],Ba)?la=ra:Ga=ra+1}return Ga}}}(bb),Gb=xb.left,ib=xb.right;var La={E_union:function(Ia,Sa){if(!Ia.length)return Sa;for(var xa=0,ma=Sa.length;xa<ma;++xa)0>Ia.indexOf(Sa[xa])&&Ia.push(Sa[xa]);return Ia},E_intersect:function(Ia,Sa){return Ia.length?Ia.filter(xa=>0<=Sa.indexOf(xa)):Sa},R_union:function(Ia,Sa){var xa=r.toNumber(Sa[0]),ma=r.toNumber(Sa[1]);xa>ma&&(xa=Sa[1],ma=Sa[0]);if(!Ia.length)return[xa,ma];Ia[0]>xa&&(Ia[0]=xa);Ia[1]<ma&&(Ia[1]=ma);return Ia},
R_intersect:function(Ia,Sa){var xa=r.toNumber(Sa[0]),ma=r.toNumber(Sa[1]);xa>ma&&(xa=Sa[1],ma=Sa[0]);if(!Ia.length)return[xa,ma];if(ma<Ia[0]||Ia[1]<xa)return[];Ia[0]<xa&&(Ia[0]=xa);Ia[1]>ma&&(Ia[1]=ma);return Ia}};h.selectionIdTest=function(Ia,Sa,xa){var ma=this.context.data[Ia];Ia=ma?ma.values.value:[];ma=ma?ma["index:unit"]&&ma["index:unit"].value:void 0;xa="intersect"===xa;Sa=bb(Sa);const na=Gb(Ia,Sa);if(na===Ia.length||bb(Ia[na])!==Sa)return!1;if(ma&&xa){if(1===ma.size)return!0;if(ib(Ia,Sa)-na<
ma.size)return!1}return!0};h.selectionResolve=function(Ia,Sa,xa,ma){Ia=(Ia=this.context.data[Ia])?Ia.values.value:[];for(var na={},Ba={},Ga={},la,ra,Qa,za,Ta,L,ha=Ia.length,ya=0,ua,Ma;ya<ha;++ya){la=Ia[ya];Qa=la.unit;ra=la.fields;la=la.values;ua=0;for(Ma=ra.length;ua<Ma;++ua)za=ra[ua],Ta=na[za.field]||(na[za.field]={}),L=Ta[Qa]||(Ta[Qa]=[]),Ga[za.field]=za=za.type.charAt(0),za=La[za+"_union"],Ta[Qa]=za(L,r.array(la[ua]));xa&&(L=Ba[Qa]||(Ba[Qa]=[]),L.push(r.array(la).reduce((Pa,Aa,ab)=>(Pa[ra[ab].field]=
Aa,Pa),{})))}Sa=Sa||"union";Object.keys(na).forEach(Pa=>{na[Pa]=Object.keys(na[Pa]).map(Aa=>na[Pa][Aa]).reduce((Aa,ab)=>void 0===Aa?ab:La[Ga[Pa]+"_"+Sa](Aa,ab))});Ia=Object.keys(Ba);xa&&Ia.length&&(na[ma?"vlPoint":"vlMulti"]="union"===Sa?{["or"]:Ia.reduce((Pa,Aa)=>(Pa.push(...Ba[Aa]),Pa),[])}:{["and"]:Ia.map(Pa=>({["or"]:Ba[Pa]}))});return na};h.selectionTest=function(Ia,Sa,xa){var ma=this.context.data[Ia];Ia=ma?ma.values.value:[];ma=ma?ma["index:unit"]&&ma["index:unit"].value:void 0;xa="intersect"===
xa;for(var na=Ia.length,Ba=0,Ga,la,ra,Qa;Ba<na;++Ba)if(Ga=Ia[Ba],ma&&xa){if(la=la||{},ra=la[Qa=Ga.unit]||0,-1!==ra){Ga=sb(Sa,Ga);la[Qa]=Ga?-1:++ra;if(Ga&&1===ma.size)return!0;if(!Ga&&ra===ma.get(Qa).count)return!1}}else if(Ga=sb(Sa,Ga),xa^Ga)return Ga;return na&&xa};h.selectionTuples=function(Ia,Sa){return Ia.map(xa=>r.extend({values:Sa.fields.map(ma=>(ma.getter||(ma.getter=r.field(ma.field)))(xa.datum))},Sa))};h.selectionVisitor=function(Ia,Sa,xa,ma){Sa[0].type!==A.Literal&&r.error("First argument to selection functions must be a string literal.");
Ia=Sa[0].value;Sa=2<=Sa.length&&r.peek(Sa).value;const na=":"+Ia;"intersect"!==Sa||r.hasOwnProperty(ma,"@unit")||(ma["@unit"]=xa.getData(Ia).indataRef(xa,"unit"));r.hasOwnProperty(ma,na)||(ma[na]=xa.getData(Ia).tuplesRef())};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[48]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2),zb(46),zb(28),zb(21),zb(14),zb(24),zb(25),zb(47),zb(16),zb(6),zb(3)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.d3,h.d3,h.vega,h.vega,h.vega,h.vega,
h.vega,h.vega,h.d3))})(this,function(h,r,A,Ra,sb,bb,xb,Gb,ib,La,Ia,Sa){function xa(kb){return(kb=this.context.data[kb])?kb.values.value:[]}function ma(kb,oc,sc){return(sc=(kb=this.context.data[kb]["index:"+oc])?kb.value.get(sc):void 0)?sc.count:sc}function na(kb,oc){const sc=this.context.dataflow;sc.pulse(this.context.data[kb].input,sc.changeset().remove(r.truthy).insert(oc));return 1}function Ba(kb,oc,sc){if(kb){const dd=this.context.dataflow;dd.pulse(kb.mark.source,dd.changeset().encode(kb,oc))}return void 0!==
sc?sc:kb}function Ga(kb,oc,sc){if(!Number.isInteger(kb)||!Number.isInteger(oc))return"";ed.setYear(2E3);ed.setMonth(kb);ed.setDate(oc);return Zb.call(this,ed,sc)}function la(kb){return Ga.call(this,kb,1,"%B")}function ra(kb){return Ga.call(this,kb,1,"%b")}function Qa(kb){return Ga.call(this,0,2+kb,"%A")}function za(kb){return Ga.call(this,0,2+kb,"%a")}function Ta(kb,oc,sc,dd){oc[0].type!==A.Literal&&r.error("First argument to data functions must be a string literal.");kb=oc[0].value;oc=":"+kb;if(!r.hasOwnProperty(oc,
dd))try{dd[oc]=sc.getData(kb).tuplesRef()}catch(vd){}}function L(kb,oc,sc,dd){oc[0].type!==A.Literal&&r.error("First argument to indata must be a string literal.");oc[1].type!==A.Literal&&r.error("Second argument to indata must be a string literal.");kb=oc[0].value;oc=oc[1].value;const vd="@"+oc;r.hasOwnProperty(vd,dd)||(dd[vd]=sc.getData(kb).indataRef(sc,oc))}function ha(kb,oc,sc,dd){if(oc[0].type===A.Literal)ya(sc,dd,oc[0].value);else for(kb in sc.scales)ya(sc,dd,kb)}function ya(kb,oc,sc){const dd=
"%"+sc;if(!r.hasOwnProperty(oc,dd))try{oc[dd]=kb.scaleRef(sc)}catch(vd){}}function ua(kb,oc){let sc;return r.isFunction(kb)?kb:r.isString(kb)?(sc=oc.scales[kb])&&sc.value:void 0}function Ma(kb,oc,sc){oc.__bandwidth=vd=>vd&&vd.bandwidth?vd.bandwidth():0;sc._bandwidth=ha;sc._range=ha;sc._scale=ha;const dd=vd=>"_["+(vd.type===A.Literal?r.stringValue("%"+vd.value):r.stringValue("%")+"+"+kb(vd))+"]";return{_bandwidth:vd=>`this.__bandwidth(${dd(vd[0])})`,_range:vd=>`${dd(vd[0])}.range()`,_scale:vd=>`${dd(vd[0])}(${kb(vd[1])})`}}
function Pa(kb,oc){return function(sc,dd,vd){return sc?(sc=ua(sc,(vd||this).context))&&sc.path[kb](dd):oc(dd)}}function Aa(kb){const oc=this.context.group;let sc=!1;if(oc)for(;kb;){if(kb===oc){sc=!0;break}kb=kb.mark.group}return sc}function ab(kb,oc,sc){try{kb[oc].apply(kb,["EXPRESSION"].concat([].slice.call(sc)))}catch(dd){kb.warn(dd)}return sc[sc.length-1]}function Va(){return ab(this.context.dataflow,"warn",arguments)}function I(){return ab(this.context.dataflow,"info",arguments)}function x(){return ab(this.context.dataflow,
"debug",arguments)}function M(kb){kb/=255;return.03928>=kb?kb/12.92:Math.pow((kb+.055)/1.055,2.4)}function K(kb){var oc=sb.rgb(kb);kb=M(oc.r);const sc=M(oc.g);oc=M(oc.b);return.2126*kb+.7152*sc+.0722*oc}function C(kb,oc){kb=K(kb);oc=K(oc);return(Math.max(kb,oc)+.05)/(Math.min(kb,oc)+.05)}function R(){const kb=[].slice.call(arguments);kb.unshift({});return r.extend(...kb)}function aa(kb,oc){if(kb===oc||kb!==kb&&oc!==oc)kb=!0;else if(r.isArray(kb))if(r.isArray(oc)&&kb.length===oc.length)a:{for(let sc=
0,dd=kb.length;sc<dd;++sc)if(!aa(kb[sc],oc[sc])){kb=!1;break a}kb=!0}else kb=!1;else kb=r.isObject(kb)&&r.isObject(oc)?da(kb,oc):!1;return kb}function da(kb,oc){for(const sc in kb)if(!aa(kb[sc],oc[sc]))return!1;return!0}function Da(kb){return oc=>da(kb,oc)}function Ja(kb,oc,sc,dd,vd,N){const oa=this.context.dataflow,$a=this.context.data[kb],wb=$a.input;kb=oa.stamp();let Fb=$a.changes,Kb;if(!1===oa._trigger||!(wb.value.length||oc||dd))return 0;if(!Fb||Fb.stamp<kb)$a.changes=Fb=oa.changeset(),Fb.stamp=
kb,oa.runAfter(()=>{$a.modified=!0;oa.pulse(wb,Fb).run()},!0,1);sc&&(sc=!0===sc?r.truthy:r.isArray(sc)||bb.isTuple(sc)?sc:Da(sc),Fb.remove(sc));oc&&Fb.insert(oc);dd&&(sc=Da(dd),wb.value.some(sc)?Fb.remove(sc):Fb.insert(dd));if(vd)for(Kb in N)Fb.modify(vd,Kb,N[Kb]);return 1}function J(kb){var oc=kb.touches;kb=oc[0].clientX-oc[1].clientX;oc=oc[0].clientY-oc[1].clientY;return Math.sqrt(kb*kb+oc*oc)}function fa(kb){kb=kb.touches;return Math.atan2(kb[0].clientY-kb[1].clientY,kb[0].clientX-kb[1].clientX)}
function ca(kb,oc){oc=gd[oc]||(gd[oc]=r.field(oc));return r.isArray(kb)?kb.map(oc):oc(kb)}function W(kb){return r.isArray(kb)||ArrayBuffer.isView(kb)?kb:null}function d(kb){return W(kb)||(r.isString(kb)?kb:null)}function c(kb,...oc){return W(kb).join(...oc)}function f(kb,...oc){return d(kb).indexOf(...oc)}function l(kb,...oc){return d(kb).lastIndexOf(...oc)}function m(kb,...oc){return d(kb).slice(...oc)}function q(kb,oc,sc){r.isFunction(sc)&&r.error("Function argument passed to replace.");return String(kb).replace(oc,
sc)}function w(kb){return W(kb).slice().reverse()}function G(kb,oc,sc){return xb.bandSpace(kb||0,oc||0,sc||0)}function U(kb,oc){return(kb=ua(kb,(oc||this).context))&&kb.bandwidth?kb.bandwidth():0}function wa(kb,oc){return(kb=ua(kb,(oc||this).context))?kb.copy():void 0}function cb(kb,oc){return(kb=ua(kb,(oc||this).context))?kb.domain():[]}function hb(kb,oc,sc){return(kb=ua(kb,(sc||this).context))?r.isArray(oc)?(kb.invertRange||kb.invert)(oc):(kb.invert||kb.invertExtent)(oc):void 0}function Y(kb,oc){return(kb=
ua(kb,(oc||this).context))&&kb.range?kb.range():[]}function ta(kb,oc,sc){return(kb=ua(kb,(sc||this).context))?kb(oc):void 0}function H(kb,oc,sc,dd,vd){kb=ua(kb,(vd||this).context);const N=Gb.Gradient(oc,sc);oc=kb.domain();sc=oc[0];vd=r.peek(oc);let oa=r.identity;vd-sc?oa=xb.scaleFraction(kb,sc,vd):kb=(kb.interpolator?xb.scale("sequential")().interpolator(kb.interpolator()):xb.scale("linear")().interpolate(kb.interpolate()).range(kb.range())).domain([sc=0,vd=1]);kb.ticks&&(oc=kb.ticks(+dd||15),sc!==
oc[0]&&oc.unshift(sc),vd!==r.peek(oc)&&oc.push(vd));oc.forEach($a=>N.stop(oa($a),kb($a)));return N}function Q(kb,oc,sc){const dd=ua(kb,(sc||this).context);return function(vd){return dd?dd.path.context(vd)(oc):""}}function ja(kb){let oc=null;return function(sc){return sc?Gb.pathRender(sc,oc=oc||Gb.pathParse(kb)):kb}}function Ca(kb,oc){kb=xa.call(oc,kb);return kb.root&&kb.root.lookup||{}}function qb(kb,oc,sc){kb=Ca(kb,this);oc=kb[oc];sc=kb[sc];return oc&&sc?oc.path(sc).map(ie):void 0}function Ya(kb,
oc){return(kb=Ca(kb,this)[oc])?kb.ancestors().map(ie):void 0}function ob(){const kb="undefined"!==typeof window&&window||null;return kb?kb.screen:{}}function Na(){const kb="undefined"!==typeof window&&window||null;return kb?[kb.innerWidth,kb.innerHeight]:[void 0,void 0]}function Ab(){var kb=this.context.dataflow;return(kb=kb.container&&kb.container())?[kb.clientWidth,kb.clientHeight]:[void 0,void 0]}function Eb(kb){let oc=null;if(kb){const sc=r.array(kb.marktype),dd=r.array(kb.markname);oc=vd=>(!sc.length||
sc.some(N=>vd.marktype===N))&&(!dd.length||dd.some(N=>vd.name===N))}return oc}function eb(kb,oc,sc){if(1===arguments.length)return Mc[kb];Mc[kb]=oc;sc&&(Rd[kb]=sc);ac&&(ac.functions[kb]="this."+kb);return this}var Mb=kb=>function(oc,sc){return this.context.dataflow.locale()[kb](sc)(oc)};const jc=Mb("format"),Zb=Mb("timeFormat"),Hc=Mb("utcFormat"),zc=Mb("timeParse");Mb=Mb("utcParse");const ed=new Date(2E3,0,1),Ad=Pa("area",Ra.geoArea),Gc=Pa("bounds",Ra.geoBounds);Ra=Pa("centroid",Ra.geoCentroid);const gd=
{},ie=kb=>kb.data,Mc={random(){return La.random()},cumulativeNormal:La.cumulativeNormal,cumulativeLogNormal:La.cumulativeLogNormal,cumulativeUniform:La.cumulativeUniform,densityNormal:La.densityNormal,densityLogNormal:La.densityLogNormal,densityUniform:La.densityUniform,quantileNormal:La.quantileNormal,quantileLogNormal:La.quantileLogNormal,quantileUniform:La.quantileUniform,sampleNormal:La.sampleNormal,sampleLogNormal:La.sampleLogNormal,sampleUniform:La.sampleUniform,isArray:r.isArray,isBoolean:r.isBoolean,
isDate:r.isDate,isDefined(kb){return void 0!==kb},isNumber:r.isNumber,isObject:r.isObject,isRegExp:r.isRegExp,isString:r.isString,isTuple:bb.isTuple,isValid(kb){return null!=kb&&kb===kb},toBoolean:r.toBoolean,toDate:r.toDate,toNumber:r.toNumber,toString:r.toString,indexof:f,join:c,lastindexof:l,replace:q,reverse:w,slice:m,flush:r.flush,lerp:r.lerp,merge:R,pad:r.pad,peek:r.peek,pluck:ca,span:r.span,inrange:r.inrange,truncate:r.truncate,rgb:sb.rgb,lab:sb.lab,hcl:sb.hcl,hsl:sb.hsl,luminance:K,contrast:C,
sequence:Sa.range,format:jc,utcFormat:Hc,utcParse:Mb,utcOffset:Ia.utcOffset,utcSequence:Ia.utcSequence,timeFormat:Zb,timeParse:zc,timeOffset:Ia.timeOffset,timeSequence:Ia.timeSequence,timeUnitSpecifier:Ia.timeUnitSpecifier,monthFormat:la,monthAbbrevFormat:ra,dayFormat:Qa,dayAbbrevFormat:za,quarter:r.quarter,utcquarter:r.utcquarter,week:Ia.week,utcweek:Ia.utcweek,dayofyear:Ia.dayofyear,utcdayofyear:Ia.utcdayofyear,warn:Va,info:I,debug:x,extent:r.extent,inScope:Aa,intersect:function(kb,oc,sc){if(!kb)return[];
const [dd,vd]=kb;kb=(new Gb.Bounds).set(dd[0],dd[1],vd[0],vd[1]);sc=sc||this.context.dataflow.scenegraph().root;return Gb.intersect(sc,kb,Eb(oc))},clampRange:r.clampRange,pinchDistance:J,pinchAngle:fa,screen:ob,containerSize:Ab,windowSize:Na,bandspace:G,setdata:na,pathShape:ja,panLinear:r.panLinear,panLog:r.panLog,panPow:r.panPow,panSymlog:r.panSymlog,zoomLinear:r.zoomLinear,zoomLog:r.zoomLog,zoomPow:r.zoomPow,zoomSymlog:r.zoomSymlog,encode:Ba,modify:Ja},xd="view item group xy x y".split(" "),Rd=
{},Db={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:kb=>`_[${r.stringValue("$"+kb)}]`,functions:function(kb){const oc=A.functions(kb);xd.forEach(sc=>oc[sc]="event.vega."+sc);for(const sc in Mc)oc[sc]="this."+sc;r.extend(oc,Ma(kb,Mc,Rd));return oc},constants:A.constants,visitors:Rd},ac=A.codegen(Db);eb("bandwidth",U,ha);eb("copy",wa,ha);eb("domain",cb,ha);eb("range",Y,ha);eb("invert",hb,ha);eb("scale",ta,ha);eb("gradient",H,ha);eb("geoArea",Ad,ha);eb("geoBounds",Gc,ha);
eb("geoCentroid",Ra,ha);eb("geoShape",Q,ha);eb("indata",ma,L);eb("data",xa,Ta);eb("treePath",qb,Ta);eb("treeAncestors",Ya,Ta);eb("vlSelectionTest",ib.selectionTest,ib.selectionVisitor);eb("vlSelectionIdTest",ib.selectionIdTest,ib.selectionVisitor);eb("vlSelectionResolve",ib.selectionResolve,ib.selectionVisitor);eb("vlSelectionTuples",ib.selectionTuples);h.DataPrefix=":";h.IndexPrefix="@";h.ScalePrefix="%";h.SignalPrefix="$";h.bandspace=G;h.bandwidth=U;h.codeGenerator=ac;h.codegenParams=Db;h.containerSize=
Ab;h.contrast=C;h.copy=wa;h.data=xa;h.dataVisitor=Ta;h.dayAbbrevFormat=za;h.dayFormat=Qa;h.debug=x;h.domain=cb;h.encode=Ba;h.expressionFunction=eb;h.format=jc;h.functionContext=Mc;h.geoArea=Ad;h.geoBounds=Gc;h.geoCentroid=Ra;h.geoShape=Q;h.inScope=Aa;h.indata=ma;h.indataVisitor=L;h.indexof=f;h.info=I;h.invert=hb;h.join=c;h.lastindexof=l;h.luminance=K;h.merge=R;h.modify=Ja;h.monthAbbrevFormat=ra;h.monthFormat=la;h.parseExpression=function(kb,oc){const sc={};let dd;try{kb=r.isString(kb)?kb:r.stringValue(kb)+
"",dd=A.parse(kb)}catch(vd){r.error("Expression parse error: "+kb)}dd.visit(vd=>{if(vd.type===A.CallExpression){var N=vd.callee.name,oa=Db.visitors[N];oa&&oa(N,vd.arguments,oc,sc)}});kb=ac(dd);kb.globals.forEach(vd=>{const N="$"+vd;!r.hasOwnProperty(sc,N)&&oc.getSignal(vd)&&(sc[N]=oc.signalRef(vd))});return{$expr:r.extend({code:kb.code},oc.options.ast?{ast:dd}:null),$fields:kb.fields,$params:sc}};h.pathShape=ja;h.pinchAngle=fa;h.pinchDistance=J;h.pluck=ca;h.range=Y;h.replace=q;h.reverse=w;h.scale=
ta;h.scaleGradient=H;h.scaleVisitor=ha;h.screen=ob;h.setdata=na;h.slice=m;h.timeFormat=Zb;h.timeParse=zc;h.treeAncestors=Ya;h.treePath=qb;h.utcFormat=Hc;h.utcParse=Mb;h.warn=Va;h.windowSize=Na;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[49]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2),zb(14)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega))})(this,function(h,r,A){function Ra(xa,ma,na){";"!==na[na.length-1]&&(na="return("+na+");");ma=Function(...ma.concat(na));return xa&&xa.functions?ma.bind(xa.functions):ma}function sb(xa,ma,na){if(!xa||!r.isObject(xa))return xa;
for(let Ba=0,Ga=Ia.length,la;Ba<Ga;++Ba)if(la=Ia[Ba],r.hasOwnProperty(xa,la.key))return la.parse(xa,ma,na);return xa}function bb(xa,ma,na,Ba){this.dataflow=xa;this.transforms=ma;this.events=xa.events.bind(xa);this.expr=Ba||La;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};na&&(this.functions=Object.create(na),this.functions.context=this)}function xb(xa){this.dataflow=xa.dataflow;this.transforms=xa.transforms;this.events=xa.events;this.expr=xa.expr;this.signals=Object.create(xa.signals);
this.scales=Object.create(xa.scales);this.nodes=Object.create(xa.nodes);this.data=Object.create(xa.data);this.fn=Object.create(xa.fn);xa.functions&&(this.functions=Object.create(xa.functions),this.functions.context=this)}const Gb=r.toSet(["rule"]),ib=r.toSet(["group","image","rect"]);var La={operator:(xa,ma)=>Ra(xa,["_"],ma.code),parameter:(xa,ma)=>Ra(xa,["datum","_"],ma.code),event:(xa,ma)=>Ra(xa,["event"],ma.code),handler:(xa,ma)=>Ra(xa,["_","event"],`var datum=event.item&&event.item.datum;return ${ma.code};`),
encode:(xa,ma)=>{const {marktype:na,channels:Ba}=ma;ma="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Ga in Ba){const la="o["+r.stringValue(Ga)+"]";ma+=`$=${Ba[Ga].code};if(${la}!==$)${la}=$,m=1;`}Ga="";Gb[na]||(Ba.x2&&(Ba.x?(ib[na]&&(Ga+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Ga+="o.width\x3do.x2-o.x;"):Ga+="o.x\x3do.x2-(o.width||0);"),Ba.xc&&(Ga+="o.x\x3do.xc-(o.width||0)/2;"),Ba.y2&&(Ba.y?(ib[na]&&(Ga+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Ga+="o.height\x3do.y2-o.y;"):
Ga+="o.y\x3do.y2-(o.height||0);"),Ba.yc&&(Ga+="o.y\x3do.yc-(o.height||0)/2;"));ma+=Ga;return Ra(xa,["item","_"],ma+"return m;")},codegen:{get(xa){xa=`[${xa.map(r.stringValue).join("][")}]`;const ma=Function("_",`return _${xa};`);ma.path=xa;return ma},comparator(xa,ma){let na;xa=Function("a","b","var u, v; return "+xa.map((Ba,Ga)=>{const la=ma[Ga];let ra;Ba.path?(ra=`a${Ba.path}`,Ba=`b${Ba.path}`):((na=na||{})["f"+Ga]=Ba,ra=`this.f${Ga}(a)`,Ba=`this.f${Ga}(b)`);Ga=-la;return`((u = ${ra}) < (v = ${Ba}) || u == null) && v != null ? ${Ga}
  : (u > v || v == null) && u != null ? ${la}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Ga}
  : v !== v && u === u ? ${la} : `}).join("")+"0;");return na?xa.bind(na):xa}}},Ia=[{key:"$ref",parse:function(xa,ma){return ma.get(xa.$ref)||r.error("Operator not defined: "+xa.$ref)}},{key:"$key",parse:function(xa,ma){const na="k:"+xa.$key+"_"+!!xa.$flat;return ma.fn[na]||(ma.fn[na]=r.key(xa.$key,xa.$flat,ma.expr.codegen))}},{key:"$expr",parse:function(xa,ma,na){xa.$params&&ma.parseParameters(xa.$params,na);na="e:"+xa.$expr.code+"_"+xa.$name;return ma.fn[na]||(ma.fn[na]=r.accessor(ma.parameterExpression(xa.$expr),
xa.$fields,xa.$name))}},{key:"$field",parse:function(xa,ma){if(!xa.$field)return null;const na="f:"+xa.$field+"_"+xa.$name;return ma.fn[na]||(ma.fn[na]=r.field(xa.$field,xa.$name,ma.expr.codegen))}},{key:"$encode",parse:function(xa,ma){xa=xa.$encode;const na={};for(const Ba in xa){const Ga=xa[Ba];na[Ba]=r.accessor(ma.encodeExpression(Ga.$expr),Ga.$fields);na[Ba].output=Ga.$output}return na}},{key:"$compare",parse:function(xa,ma){const na="c:"+xa.$compare+"_"+xa.$order,Ba=r.array(xa.$compare).map(Ga=>
Ga&&Ga.$tupleid?A.tupleid:Ga);return ma.fn[na]||(ma.fn[na]=r.compare(Ba,xa.$order,ma.expr.codegen))}},{key:"$context",parse:function(xa,ma){return ma}},{key:"$subflow",parse:function(xa,ma){const na=xa.$subflow;return function(Ba,Ga,la){const ra=ma.fork().parse(na);Ba=ra.get(na.operators[0].id);(Ga=ra.signals.parent)&&Ga.set(la);Ba.detachSubflow=()=>ma.detach(ra);return Ba}}},{key:"$tupleid",parse:function(){return A.tupleid}}];const Sa={skip:!0};bb.prototype=xb.prototype={fork(){const xa=new xb(this);
(this.subcontext||(this.subcontext=[])).push(xa);return xa},detach(xa){this.subcontext=this.subcontext.filter(na=>na!==xa);const ma=Object.keys(xa.nodes);for(const na of ma)xa.nodes[na]._targets=null;for(const na of ma)xa.nodes[na].detach();xa.nodes=null},get(xa){return this.nodes[xa]},set(xa,ma){return this.nodes[xa]=ma},add(xa,ma){const na=this,Ba=na.dataflow,Ga=xa.value;na.set(xa.id,ma);"collect"===(xa.type+"").toLowerCase()&&Ga&&(Ga.$ingest?Ba.ingest(ma,Ga.$ingest,Ga.$format):Ga.$request?Ba.preload(ma,
Ga.$request,Ga.$format):Ba.pulse(ma,Ba.changeset().insert(Ga)));xa.root&&(na.root=ma);if(xa.parent){let la=na.get(xa.parent.$ref);la?(Ba.connect(la,[ma]),ma.targets().add(la)):(na.unresolved=na.unresolved||[]).push(()=>{la=na.get(xa.parent.$ref);Ba.connect(la,[ma]);ma.targets().add(la)})}xa.signal&&(na.signals[xa.signal]=ma);xa.scale&&(na.scales[xa.scale]=ma);if(xa.data)for(const la in xa.data){const ra=na.data[la]||(na.data[la]={});xa.data[la].forEach(Qa=>ra[Qa]=ma)}},resolve(){(this.unresolved||
[]).forEach(xa=>xa());delete this.unresolved;return this},operator(xa,ma){this.add(xa,this.dataflow.add(xa.value,ma))},transform(xa,ma){this.add(xa,this.dataflow.add(this.transforms[(ma+"").toLowerCase()]))},stream(xa,ma){this.set(xa.id,ma)},update(xa,ma,na,Ba,Ga){this.dataflow.on(ma,na,Ba,Ga,xa.options)},operatorExpression(xa){return this.expr.operator(this,xa)},parameterExpression(xa){return this.expr.parameter(this,xa)},eventExpression(xa){return this.expr.event(this,xa)},handlerExpression(xa){return this.expr.handler(this,
xa)},encodeExpression(xa){return this.expr.encode(this,xa)},parse:function(xa){const ma=this,na=xa.operators||[];xa.background&&(ma.background=xa.background);xa.eventConfig&&(ma.eventConfig=xa.eventConfig);xa.locale&&(ma.locale=xa.locale);na.forEach(Ba=>ma.parseOperator(Ba));na.forEach(Ba=>ma.parseOperatorParameters(Ba));(xa.streams||[]).forEach(Ba=>ma.parseStream(Ba));(xa.updates||[]).forEach(Ba=>ma.parseUpdate(Ba));return ma.resolve()},parseOperator:function(xa){"operator"!==(xa.type+"").toLowerCase()&&
xa.type?this.transform(xa,xa.type):this.operator(xa,xa.update?this.operatorExpression(xa.update):null)},parseOperatorParameters:function(xa){if(xa.params){const ma=this.get(xa.id);ma||r.error("Invalid operator id: "+xa.id);this.dataflow.connect(ma,ma.parameters(this.parseParameters(xa.params),xa.react,xa.initonly))}},parseParameters:function(xa,ma){ma=ma||{};const na=this;for(const Ba in xa){const Ga=xa[Ba];ma[Ba]=r.isArray(Ga)?Ga.map(la=>sb(la,na,ma)):sb(Ga,na,ma)}return ma},parseStream:function(xa){var ma=
this,na=null!=xa.filter?ma.eventExpression(xa.filter):void 0,Ba=null!=xa.stream?ma.get(xa.stream):void 0;if(xa.source)Ba=ma.events(xa.source,xa.type,na);else if(xa.merge){var Ga=xa.merge.map(la=>ma.get(la));Ba=Ga[0].merge.apply(Ga[0],Ga.slice(1))}xa.between&&(Ga=xa.between.map(la=>ma.get(la)),Ba=Ba.between(Ga[0],Ga[1]));xa.filter&&(Ba=Ba.filter(na));null!=xa.throttle&&(Ba=Ba.throttle(+xa.throttle));null!=xa.debounce&&(Ba=Ba.debounce(+xa.debounce));null==Ba&&r.error("Invalid stream definition: "+JSON.stringify(xa));
xa.consume&&Ba.consume(!0);ma.stream(xa,Ba)},parseUpdate:function(xa){var ma=r.isObject(ma=xa.source)?ma.$ref:ma;ma=this.get(ma);var na=xa.update,Ba=void 0;ma||r.error("Source not defined: "+xa.source);var Ga=xa.target&&xa.target.$expr?this.eventExpression(xa.target.$expr):this.get(xa.target);na&&na.$expr&&(na.$params&&(Ba=this.parseParameters(na.$params)),na=this.handlerExpression(na.$expr));this.update(xa,ma,Ga,na,Ba)},getState:function(xa){var ma=this,na={};if(xa.signals){var Ba=na.signals={};
Object.keys(ma.signals).forEach(la=>{const ra=ma.signals[la];xa.signals(la,ra)&&(Ba[la]=ra.value)})}if(xa.data){var Ga=na.data={};Object.keys(ma.data).forEach(la=>{const ra=ma.data[la];xa.data(la,ra)&&(Ga[la]=ra.input.value)})}ma.subcontext&&!1!==xa.recurse&&(na.subcontext=ma.subcontext.map(la=>la.getState(xa)));return na},setState:function(xa){var ma=this,na=ma.dataflow,Ba=xa.data,Ga=xa.signals;Object.keys(Ga||{}).forEach(la=>{na.update(ma.signals[la],Ga[la],Sa)});Object.keys(Ba||{}).forEach(la=>
{na.pulse(ma.data[la].input,na.changeset().remove(r.truthy).insert(Ba[la]))});(xa.subcontext||[]).forEach((la,ra)=>{(ra=ma.subcontext[ra])&&ra.setState(la)})}};h.context=function(xa,ma,na,Ba){return new bb(xa,ma,na,Ba)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[50]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(45),zb(14),zb(25),zb(3),zb(48),zb(49),zb(34),zb(8)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.d3,h.vega,h.vega,h.d3,h.vega))})(this,function(h,r,A,Ra,sb,bb,xb,Gb,ib){function La(H){const Q=
H.container();Q&&(Q.setAttribute("role","graphics-document"),Q.setAttribute("aria-roleDescription","visualization"),Ia(Q,H.description()))}function Ia(H,Q){H&&(null==Q?H.removeAttribute("aria-label"):H.setAttribute("aria-label",Q))}function Sa(H){H.add(null,Q=>{H._background=Q.bg;H._resize=1;return Q.bg},{bg:H._signals.background})}function xa(H){const Q=H._signals.cursor||(H._signals.cursor=H.add({user:"default",item:null}));H.on(H.events("view","mousemove"),Q,(ja,Ca)=>{const qb=(ja=Q.value)?r.isString(ja)?
ja:ja.user:"default";Ca=Ca.item&&Ca.item.cursor||null;return ja&&qb===ja.user&&Ca==ja.item?ja:{user:qb,item:Ca}});H.add(null,function(ja){ja=ja.cursor;let Ca=this.value;r.isString(ja)||(Ca=ja.item,ja=ja.user);ma(H,ja&&"default"!==ja?ja:Ca||ja);return Ca},{cursor:Q})}function ma(H,Q){if(H=H.globalCursor()?"undefined"!==typeof document&&document.body:H.container())return null==Q?H.style.removeProperty("cursor"):H.style.cursor=Q}function na(H,Q){H=H._runtime.data;r.hasOwnProperty(H,Q)||r.error("Unrecognized data set: "+
Q);return H[Q]}function Ba(H,Q){A.isChangeSet(Q)||r.error("Second argument to changes must be a changeset.");H=na(this,H);H.modified=!0;return this.pulse(H.input,Q)}function Ga(H){var Q=H.padding();return Math.max(0,H._viewWidth+Q.left+Q.right)}function la(H){var Q=H.padding();return Math.max(0,H._viewHeight+Q.top+Q.bottom)}function ra(H){var Q=H.padding();H=H._origin;return[Q.left+H[0],Q.top+H[1]]}function Qa(H){var Q=ra(H),ja=Ga(H),Ca=la(H);H._renderer.background(H.background());H._renderer.resize(ja,
Ca,Q);H._handler.origin(Q);H._resizeListeners.forEach(qb=>{try{qb(ja,Ca)}catch(Ya){H.error(Ya)}})}function za(H,Q,ja){function Ca(ob){var Na=Ya,Ab;if(ob)for(Ab=Q;Ab;Ab=Ab.mark.group)if(Ab.mark.name===ob){Na=Ab;break}return Na&&Na.mark&&Na.mark.interactive?Na:{}}function qb(ob){if(!ob)return ja;r.isString(ob)&&(ob=Ca(ob));const Na=ja.slice();for(;ob;)Na[0]-=ob.x||0,Na[1]-=ob.y||0,ob=ob.mark&&ob.mark.group;return Na}const Ya=Q?"group"===Q.mark.marktype?Q:Q.mark.group:null;return{view:r.constant(H),
item:r.constant(Q||{}),group:Ca,xy:qb,x:ob=>qb(ob)[0],y:ob=>qb(ob)[1]}}function Ta(H){H=r.extend({defaults:{}},H);const Q=(ja,Ca)=>{Ca.forEach(qb=>{r.isArray(ja[qb])&&(ja[qb]=r.toSet(ja[qb]))})};Q(H.defaults,["prevent","allow"]);Q(H,["view","window","selector"]);return H}function L(H,Q,ja,Ca){H._eventListeners.push({type:ja,sources:r.array(Q),handler:Ca})}function ha(H,Q,ja){const Ca=H._eventConfig&&H._eventConfig[Q];return!1===Ca||r.isObject(Ca)&&!Ca[ja]?(H.warn(`Blocked ${Q} ${ja} event listener.`),
!1):!0}function ya(H){return H.item}function ua(H){return H.item.mark.source}function Ma(H){return function(Q,ja){return ja.vega.view().changeset().encode(ja.item,H)}}function Pa(H,Q,ja){H=document.createElement(H);for(const Ca in Q)H.setAttribute(Ca,Q[Ca]);null!=ja&&(H.textContent=ja);return H}function Aa(H,Q,ja){if(Q){var Ca=ja.param,qb=ja.state;qb||(qb=ja.state={elements:null,active:!1,set:null,update:Ya=>{Ya!=H.signal(Ca.signal)&&H.runAsync(null,()=>{qb.source=!0;H.signal(Ca.signal,Ya)})}},Ca.debounce&&
(qb.update=r.debounce(Ca.debounce,qb.update)));(null==Ca.input&&Ca.element?ab:Va)(qb,Q,Ca,H);qb.active||(H.on(H._signals[Ca.signal],null,()=>{qb.source?qb.source=!1:qb.set(H.signal(Ca.signal))}),qb.active=!0);return qb}}function ab(H,Q,ja,Ca){const qb=ja.event||"input",Ya=()=>H.update(Q.value);Ca.signal(ja.signal,Q.value);Q.addEventListener(qb,Ya);L(Ca,Q,qb,Ya);H.set=ob=>{Q.value=ob;ob=Q.dispatchEvent;var Na="undefined"!==typeof Event?new Event(qb):{type:qb};ob.call(Q,Na)}}function Va(H,Q,ja,Ca){Ca=
Ca.signal(ja.signal);const qb=Pa("div",{"class":"vega-bind"}),Ya="radio"===ja.input?qb:qb.appendChild(Pa("label"));Ya.appendChild(Pa("span",{"class":"vega-bind-name"},ja.name||ja.signal));Q.appendChild(qb);Q=I;switch(ja.input){case "checkbox":Q=x;break;case "select":Q=M;break;case "radio":Q=K;break;case "range":Q=C}Q(H,Ya,ja,Ca)}function I(H,Q,ja,Ca){const qb=Pa("input");for(const Ya in ja)"signal"!==Ya&&"element"!==Ya&&qb.setAttribute("input"===Ya?"type":Ya,ja[Ya]);qb.setAttribute("name",ja.signal);
qb.value=Ca;Q.appendChild(qb);qb.addEventListener("input",()=>H.update(qb.value));H.elements=[qb];H.set=Ya=>qb.value=Ya}function x(H,Q,ja,Ca){ja={type:"checkbox",name:ja.signal};Ca&&(ja.checked=!0);const qb=Pa("input",ja);Q.appendChild(qb);qb.addEventListener("change",()=>H.update(qb.checked));H.elements=[qb];H.set=Ya=>qb.checked=!!Ya||null}function M(H,Q,ja,Ca){const qb=Pa("select",{name:ja.signal}),Ya=ja.labels||[];ja.options.forEach((ob,Na)=>{const Ab={value:ob};R(ob,Ca)&&(Ab.selected=!0);qb.appendChild(Pa("option",
Ab,(Ya[Na]||ob)+""))});Q.appendChild(qb);qb.addEventListener("change",()=>{H.update(ja.options[qb.selectedIndex])});H.elements=[qb];H.set=ob=>{for(let Na=0,Ab=ja.options.length;Na<Ab;++Na)if(R(ja.options[Na],ob)){qb.selectedIndex=Na;break}}}function K(H,Q,ja,Ca){const qb=Pa("span",{"class":"vega-bind-radio"}),Ya=ja.labels||[];Q.appendChild(qb);H.elements=ja.options.map((ob,Na)=>{var Ab={type:"radio",name:ja.signal,value:ob};R(ob,Ca)&&(Ab.checked=!0);Ab=Pa("input",Ab);Ab.addEventListener("change",
()=>H.update(ob));Na=Pa("label",{},(Ya[Na]||ob)+"");Na.prepend(Ab);qb.appendChild(Na);return Ab});H.set=ob=>{const Na=H.elements,Ab=Na.length;for(let Eb=0;Eb<Ab;++Eb)R(Na[Eb].value,ob)&&(Na[Eb].checked=!0)}}function C(H,Q,ja,Ca){Ca=void 0!==Ca?Ca:(+ja.max+ +ja.min)/2;const qb=null!=ja.max?ja.max:Math.max(100,+Ca)||100,Ya=ja.min||Math.min(0,qb,+Ca)||0,ob=ja.step||sb.tickStep(Ya,qb,100),Na=Pa("input",{type:"range",name:ja.signal,min:Ya,max:qb,step:ob});Na.value=Ca;const Ab=Pa("span",{},+Ca);Q.appendChild(Na);
Q.appendChild(Ab);Q=()=>{Ab.textContent=Na.value;H.update(+Na.value)};Na.addEventListener("input",Q);Na.addEventListener("change",Q);H.elements=[Na];H.set=Eb=>{Na.value=Eb;Ab.textContent=Eb}}function R(H,Q){return H===Q||H+""===Q+""}function aa(H,Q,ja,Ca,qb,Ya){Q=Q||new Ca(H.loader());return Q.initialize(ja,Ga(H),la(H),ra(H),qb,Ya).background(H.background())}function da(H,Q){return Q?function(){try{Q.apply(this,arguments)}catch(ja){H.error(ja)}}:null}function Da(H,Q,ja,Ca){const qb=(new Ca(H.loader(),
da(H,H.tooltip()))).scene(H.scenegraph().root).initialize(ja,ra(H),H);Q&&Q.handlers().forEach(Ya=>{qb.on(Ya.type,Ya.handler)});return qb}function Ja(H,Q,ja){if("string"===typeof Q)if("undefined"!==typeof document){if(Q=document.querySelector(Q),!Q)return H.error("Signal bind element not found: "+Q),null}else return H.error("DOM document instance not found."),null;if(Q&&ja)try{Q.innerHTML=""}catch(Ca){Q=null,H.error(Ca)}return Q}function J(H){r.isObject(H)?H={top:+H.top||0,bottom:+H.bottom||0,left:+H.left||
0,right:+H.right||0}:(H=+H||0,H={top:H,bottom:H,left:H,right:H});return H}function fa(H,Q,ja,Ca){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var qb=Ra.renderModule(Q);(qb=qb&&qb.headless)||r.error("Unrecognized renderer type: "+Q);yield H.runAsync();return aa(H,null,null,qb,ja,Ca).renderAsync(H._scenegraph.root)})}function ca(H,Q,ja){return xb.context(H,A.transforms,bb.functionContext,ja).parse(Q)}function W(H,Q){var ja=H.autosize();H=H.padding();return Q-(ja&&"padding"===ja.contains?
H.left+H.right:0)}function d(H,Q){var ja=H.autosize();H=H.padding();return Q-(ja&&"padding"===ja.contains?H.top+H.bottom:0)}function c(H){function Q(){H._autosize=H._resize=1}var ja=H._signals,Ca=ja.width,qb=ja.height;ja=ja.padding;H._resizeWidth=H.add(null,ob=>{H._width=ob.size;H._viewWidth=W(H,ob.size);Q()},{size:Ca});H._resizeHeight=H.add(null,ob=>{H._height=ob.size;H._viewHeight=d(H,ob.size);Q()},{size:qb});const Ya=H.add(null,Q,{pad:ja});H._resizeWidth.rank=Ca.rank+1;H._resizeHeight.rank=qb.rank+
1;Ya.rank=ja.rank+1}function f(H,Q){return Q.modified&&r.isArray(Q.input.value)&&H.indexOf("_:vega:_")}function l(H,Q){return!("parent"===H||Q instanceof A.transforms.proxy)}function m(H,Q,ja,Ca){if(H=H.element())Q=H.setAttribute,Ca=null==Ca?"":r.isArray(Ca)?"["+Ca.map(w).join(", ")+"]":r.isObject(Ca)&&!r.isDate(Ca)?q(Ca):Ca+"",Q.call(H,"title",Ca)}function q(H){return Object.keys(H).map(Q=>{const ja=H[Q];return Q+": "+(r.isArray(ja)?"["+ja.map(w).join(", ")+"]":w(ja))}).join("\n")}function w(H){return r.isArray(H)?
"[…]":r.isObject(H)&&!r.isDate(H)?"{…}":H}function G(H,Q){Q=Q||{};A.Dataflow.call(this);Q.loader&&this.loader(Q.loader);Q.logger&&this.logger(Q.logger);null!=Q.logLevel&&this.logLevel(Q.logLevel);if(Q.locale||H.locale){var ja=r.extend({},H.locale,Q.locale);this.locale(ib.locale(ja.number,ja.time))}this._elBind=this._el=null;this._renderType=Q.renderer||Ra.RenderType.Canvas;this._scenegraph=new Ra.Scenegraph;ja=this._scenegraph.root;this._renderer=null;this._tooltip=Q.tooltip||m;this._redraw=!0;this._handler=
(new Ra.CanvasHandler).scene(ja);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=Ta(H.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const Ca=ca(this,H,Q.expr);this._runtime=Ca;this._signals=Ca.signals;this._bind=(H.bindings||[]).map(qb=>({state:null,param:r.extend({},qb)}));Ca.root&&Ca.root.set(ja);ja.source=Ca.data.root.input;this.pulse(Ca.data.root.input,this.changeset().insert(ja.items));this._width=
this.width();this._height=this.height();this._viewWidth=W(this,this._width);this._viewHeight=d(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;c(this);Sa(this);xa(this);this.description(H.description);Q.hover&&this.hover();Q.container&&this.initialize(Q.container,Q.bind)}function U(H,Q){return r.hasOwnProperty(H._signals,Q)?H._signals[Q]:r.error("Unrecognized signal name: "+r.stringValue(Q))}function wa(H,Q){H=(H._targets||[]).filter(ja=>ja._update&&ja._update.handler===Q);return H.length?
H[0]:null}function cb(H,Q,ja,Ca){let qb=wa(ja,Ca);qb||(qb=da(H,()=>Ca(Q,ja.value)),qb.handler=Ca,H.on(ja,null,qb));return H}function hb(H,Q,ja){(ja=wa(Q,ja))&&Q._targets.remove(ja);return H}const Y={trap:!1};var ta={skip:!0};r.inherits(G,A.Dataflow,{evaluate(H,Q,ja){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield A.Dataflow.prototype.evaluate.call(Ca,H,Q);if(Ca._redraw||Ca._resize)try{Ca._renderer&&(Ca._resize&&(Ca._resize=0,Qa(Ca)),yield Ca._renderer.renderAsync(Ca._scenegraph.root)),
Ca._redraw=!1}catch(qb){Ca.error(qb)}ja&&A.asyncCallback(Ca,ja);return Ca})},dirty(H){this._redraw=!0;this._renderer&&this._renderer.dirty(H)},description(H){if(arguments.length){const Q=null!=H?H+"":null;Q!==this._desc&&Ia(this._el,this._desc=Q);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(H,Q,ja){const Ca=U(this,H);return 1===arguments.length?Ca.value:this.update(Ca,Q,ja)},width(H){return arguments.length?
this.signal("width",H):this.signal("width")},height(H){return arguments.length?this.signal("height",H):this.signal("height")},padding(H){return arguments.length?this.signal("padding",J(H)):J(this.signal("padding"))},autosize(H){return arguments.length?this.signal("autosize",H):this.signal("autosize")},background(H){return arguments.length?this.signal("background",H):this.signal("background")},renderer(H){if(!arguments.length)return this._renderType;Ra.renderModule(H)||r.error("Unrecognized renderer type: "+
H);H!==this._renderType&&(this._renderType=H,this._resetRenderer());return this},tooltip(H){if(!arguments.length)return this._tooltip;H!==this._tooltip&&(this._tooltip=H,this._resetRenderer());return this},loader(H){if(!arguments.length)return this._loader;H!==this._loader&&(A.Dataflow.prototype.loader.call(this,H),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(U(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},
_resizeView:function(H,Q,ja,Ca,qb,Ya){this.runAfter(ob=>{let Na=0;ob._autosize=0;ob.width()!==ja&&(Na=1,ob.signal("width",ja,ta),ob._resizeWidth.skip(!0));ob.height()!==Ca&&(Na=1,ob.signal("height",Ca,ta),ob._resizeHeight.skip(!0));ob._viewWidth!==H&&(ob._resize=1,ob._viewWidth=H);ob._viewHeight!==Q&&(ob._resize=1,ob._viewHeight=Q);if(ob._origin[0]!==qb[0]||ob._origin[1]!==qb[1])ob._resize=1,ob._origin=qb;Na&&ob.run("enter");Ya&&ob.runAfter(Ab=>Ab.resize())},!1,1)},addEventListener(H,Q,ja){let Ca=
Q;ja&&!1===ja.trap||(Ca=da(this,Q),Ca.raw=Q);this._handler.on(H,Ca);return this},removeEventListener(H,Q){for(var ja=this._handler.handlers(H),Ca=ja.length,qb,Ya;0<=--Ca;)if(Ya=ja[Ca].type,qb=ja[Ca].handler,H===Ya&&(Q===qb||Q===qb.raw)){this._handler.off(Ya,qb);break}return this},addResizeListener(H){const Q=this._resizeListeners;0>Q.indexOf(H)&&Q.push(H);return this},removeResizeListener(H){var Q=this._resizeListeners;H=Q.indexOf(H);0<=H&&Q.splice(H,1);return this},addSignalListener(H,Q){return cb(this,
H,U(this,H),Q)},removeSignalListener(H,Q){return hb(this,U(this,H),Q)},addDataListener(H,Q){return cb(this,H,na(this,H).values,Q)},removeDataListener(H,Q){return hb(this,na(this,H).values,Q)},globalCursor(H){if(arguments.length){if(this._globalCursor!==!!H){const Q=ma(this,null);this._globalCursor=!!H;Q&&ma(this,Q)}return this}return this._globalCursor},preventDefault(H){return arguments.length?(this._preventDefault=H,this):this._preventDefault},timer:function(H,Q){this._timers.push(Gb.interval(function(ja){H({timestamp:Date.now(),
elapsed:ja})},Q))},events:function(H,Q,ja){var Ca=this,qb=new A.EventStream(ja);ja=function(Ab,Eb){Ca.runAsync(null,()=>{var eb;if(eb="view"===H){var Mb=Ca._eventConfig.defaults;eb=Mb.prevent;Mb=Mb.allow;eb=!1===eb||!0===Mb?!1:!0===eb||!1===Mb?!0:eb?eb[Q]:Mb?!Mb[Q]:Ca.preventDefault()}eb&&Ab.preventDefault();eb=qb.receive;Mb=(Mb=Ca._renderer)&&Mb.canvas();if(Mb){var jc=ra(Ca);var Zb=Ab.changedTouches?Ab.changedTouches[0]:Ab;Zb=Ra.point(Zb,Mb);Zb[0]-=jc[0];Zb[1]-=jc[1]}Ab.dataflow=Ca;Ab.item=Eb;Ab.vega=
za(Ca,Eb,Zb);eb.call(qb,Ab)})};var Ya;if("timer"===H)ha(Ca,"timer",Q)&&Ca.timer(ja,Q);else if("view"===H)ha(Ca,"view",Q)&&Ca.addEventListener(Q,ja,Y);else if("window"===H?ha(Ca,"window",Q)&&"undefined"!==typeof window&&(Ya=[window]):"undefined"!==typeof document&&ha(Ca,"selector",Q)&&(Ya=document.querySelectorAll(H)),Ya){for(var ob=0,Na=Ya.length;ob<Na;++ob)Ya[ob].addEventListener(Q,ja);L(Ca,Ya,Q,ja)}else Ca.warn("Can not resolve event source: "+H);return qb},finalize:function(){var H=this._tooltip,
Q=this._timers,ja=this._eventListeners,Ca;for(Ca=Q.length;0<=--Ca;)Q[Ca].stop();for(Ca=ja.length;0<=--Ca;){var qb=ja[Ca];for(Q=qb.sources.length;0<=--Q;)qb.sources[Q].removeEventListener(qb.type,qb.handler)}H&&H.call(this,this._handler,null,null,null);return this},hover:function(H,Q){H=[H||"hover"];Q=[Q||"update",H[0]];this.on(this.events("view","mouseover",ya),ua,Ma(H));this.on(this.events("view","mouseout",ya),ua,Ma(Q));return this},data:function(H,Q){return 2>arguments.length?na(this,H).values.value:
Ba.call(this,H,A.changeset().remove(r.truthy).insert(Q))},change:Ba,insert:function(H,Q){return Ba.call(this,H,A.changeset().insert(Q))},remove:function(H,Q){return Ba.call(this,H,A.changeset().remove(Q))},scale:function(H){var Q=this._runtime.scales;r.hasOwnProperty(Q,H)||r.error("Unrecognized scale or projection: "+H);return Q[H].value},initialize:function(H,Q){const ja=this;var Ca=ja._renderType;const qb=ja._eventConfig.bind;var Ya=Ra.renderModule(Ca);H=ja._el=H?Ja(ja,H,!0):null;La(ja);Ya||ja.error("Unrecognized renderer type: "+
Ca);Ca=Ya.handler||Ra.CanvasHandler;Ya=H?Ya.renderer:Ya.headless;ja._renderer=Ya?aa(ja,ja._renderer,H,Ya):null;ja._handler=Da(ja,ja._handler,H,Ca);ja._redraw=!0;H&&"none"!==qb&&(Q=Q?ja._elBind=Ja(ja,Q,!0):H.appendChild(Pa("form",{"class":"vega-bindings"})),ja._bind.forEach(ob=>{ob.param.element&&"container"!==qb&&(ob.element=Ja(ja,ob.param.element,!!ob.param.input))}),ja._bind.forEach(ob=>{Aa(ja,ob.element||Q,ob)}));return ja},toImageURL:function(H,Q){const ja=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){H!==
Ra.RenderType.Canvas&&H!==Ra.RenderType.SVG&&H!==Ra.RenderType.PNG&&r.error("Unrecognized image type: "+H);var Ca=yield fa(ja,H,Q);H===Ra.RenderType.SVG?(Ca=Ca.svg(),Ca=new Blob([Ca],{type:"image/svg+xml"}),Ca=window.URL.createObjectURL(Ca)):Ca=Ca.canvas().toDataURL("image/png");return Ca})},toCanvas:function(H,Q){const ja=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield fa(ja,Ra.RenderType.Canvas,H,Q)).canvas()})},toSVG:function(H){const Q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield fa(Q,
Ra.RenderType.SVG,H)).svg()})},getState:function(H){return this._runtime.getState(H||{data:f,signals:l,recurse:!0})},setState:function(H){this.runAsync(null,Q=>{Q._trigger=!1;Q._runtime.setState(H)},Q=>{Q._trigger=!0});return this}});h.View=G;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[51]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(La,Ia,Sa,xa,ma){const na=La.length;let Ba=0,Ga;for(;Ia<na;++Ia)if(Ga=La[Ia],Ba||Ga!==Sa)ma&&0<=ma.indexOf(Ga)?--Ba:xa&&0<=xa.indexOf(Ga)&&++Ba;else break;return Ia}function A(La){const Ia=[],Sa=La.length;let xa=0,ma=0;for(;ma<Sa;)ma=r(La,
ma,",","[{","]}"),Ia.push(La.substring(xa,ma).trim()),xa=++ma;if(0===Ia.length)throw"Empty event selector: "+La;return Ia}function Ra(La){if("["===La[0]){var Ia=La;var Sa=Ia.length;La=r(Ia,1,"]","[","]");if(La===Sa)throw"Empty between selector: "+Ia;Sa=A(Ia.substring(1,La));if(2!==Sa.length)throw"Between selector must have two elements: "+Ia;Ia=Ia.slice(La+1).trim();if("\x3e"!==Ia[0])throw"Expected '\x3e' after between selector: "+Ia;Sa=Sa.map(Ra);Ia=Ra(Ia.slice(1).trim());Ia.between?Ia={between:Sa,
stream:Ia}:Ia.between=Sa}else{Sa={source:Gb};const xa=[];let ma=[0,0],na=0,Ba=0,Ga=La.length,la=0,ra;if("}"===La[Ga-1]){la=La.lastIndexOf("{");if(0<=la){try{ma=sb(La.substring(la+1,Ga-1))}catch(Qa){throw"Invalid throttle specification: "+La;}La=La.slice(0,la).trim();Ga=La.length}else throw"Unmatched right brace: "+La;la=0}if(!Ga)throw La;"@"===La[0]&&(na=++la);ra=r(La,la,":");ra<Ga&&(xa.push(La.substring(Ba,ra).trim()),Ba=la=++ra);la=r(La,la,"[");if(la===Ga)xa.push(La.substring(Ba,Ga).trim());else if(xa.push(La.substring(Ba,
la).trim()),Ia=[],Ba=++la,Ba===Ga)throw"Unmatched left bracket: "+La;for(;la<Ga;){la=r(La,la,"]");if(la===Ga)throw"Unmatched left bracket: "+La;Ia.push(La.substring(Ba,la).trim());if(la<Ga-1&&"["!==La[++la])throw"Expected left bracket: "+La;Ba=++la}if(!(Ga=xa.length)||bb.test(xa[Ga-1]))throw"Invalid event selector: "+La;1<Ga?(Sa.type=xa[1],na?Sa.markname=xa[0].slice(1):ib[xa[0]]?Sa.marktype=xa[0]:Sa.source=xa[0]):Sa.type=xa[0];"!"===Sa.type.slice(-1)&&(Sa.consume=!0,Sa.type=Sa.type.slice(0,-1));null!=
Ia&&(Sa.filter=Ia);ma[0]&&(Sa.throttle=ma[0]);ma[1]&&(Sa.debounce=ma[1]);Ia=Sa}return Ia}function sb(La){const Ia=La.split(",");if(!La.length||2<Ia.length)throw La;return Ia.map(Sa=>{Sa=+Sa;if(Sa!==Sa)throw La;return Sa})}const bb=/[[\]{}]/,xb={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Gb,ib;h.selector=function(La,Ia,Sa){Gb=Ia||"view";ib=Sa||xb;return A(La.trim()).map(Ra)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[52]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub,zb(2),zb(48),zb(51),zb(24),zb(14)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={},h.vega,h.vega,h.vega,h.vega,h.vega))})(this,function(h,r,A,Ra,sb,bb){function xb(F){return r.isObject(F)?F:{type:F||"pad"}}function Gb(F){r.isObject(F)?F=
F.signal?F:{top:+F.top||0,bottom:+F.bottom||0,left:+F.left||0,right:+F.right||0}:(F=+F||0,F={top:F,bottom:F,left:F,right:F});return F}function ib(F,X,Oa,Hb){return null!=Oa?(r.isObject(Oa)&&!r.isArray(Oa)||r.isArray(Oa)&&Oa.length&&r.isObject(Oa[0])?F.update[X]=Oa:F[Hb||"enter"][X]={value:Oa},1):0}function La(F,X,Oa){for(const Hb in X)ib(F,Hb,X[Hb]);for(const Hb in Oa)ib(F,Hb,Oa[Hb],"update")}function Ia(F,X,Oa){for(const Hb in X)Oa&&r.hasOwnProperty(Oa,Hb)||(F[Hb]=r.extend(F[Hb]||{},X[Hb]));return F}
function Sa(F,X){return X&&(X.enter&&X.enter[F]||X.update&&X.update[F])}function xa(F,X,Oa,Hb,Tb){const Sb={},Ob={};let Xc,Sc;Sc="lineBreak";"text"!==X||null==Tb[Sc]||Sa(Sc,F)||ma(Sb,Sc,Tb[Sc]);if("legend"==Oa||String(Oa).startsWith("axis"))Oa=null;Oa="frame"===Oa?Tb.group:"mark"===Oa?r.extend({},Tb.mark,Tb[X]):null;for(Sc in Oa)(X=Sa(Sc,F)||("fill"===Sc||"stroke"===Sc)&&(Sa("fill",F)||Sa("stroke",F)))||ma(Sb,Sc,Oa[Sc]);r.array(Hb).forEach(ud=>{ud=Tb.style&&Tb.style[ud];for(const Id in ud)Sa(Id,F)||
ma(Sb,Id,ud[Id])});F=r.extend({},F);for(Sc in Sb)Oa=Sb[Sc],Oa.signal?(Xc=Xc||{})[Sc]=Oa:Ob[Sc]=Oa;F.enter=r.extend(Ob,F.enter);Xc&&(F.update=r.extend(Xc,F.update));return F}function ma(F,X,Oa){F[X]=Oa&&Oa.signal?{signal:Oa.signal}:{value:Oa}}function na(F){if(null!=F.gradient)return Ba(F);if(F.signal)var X=`(${F.signal})`;else F.color?(X=F.color,X=X.c?qd("hcl",X.h,X.c,X.l):X.h||X.s?qd("hsl",X.h,X.s,X.l):X.l||X.a?qd("lab",X.l,X.a,X.b):X.r||X.g||X.b?qd("rgb",X.r,X.g,X.b):null):X=null!=F.field?la(F.field):
void 0!==F.value?r.stringValue(F.value):void 0;if(null!=F.scale){const Oa=ld(F.scale);null!=F.range?X=`lerp(_range(${Oa}), ${+F.range})`:(void 0!==X&&(X=`_scale(${Oa}, ${X})`),F.band&&(X=(X?X+"+":"")+`_bandwidth(${Oa})`+(1===+F.band?"":"*"+Ga(F.band)),F.extra&&(X=`(datum.extra ? _scale(${Oa}, datum.extra.value) : ${X})`)),null==X&&(X="0"))}void 0===X&&(X=null);null!=F.exponent&&(X=`pow(${X},${Ga(F.exponent)})`);null!=F.mult&&(X+=`*${Ga(F.mult)}`);null!=F.offset&&(X+=`+${Ga(F.offset)}`);F.round&&(X=
`round(${X})`);return X}function Ba(F){const X=[F.start,F.stop,F.count].map(Oa=>null==Oa?null:r.stringValue(Oa));for(;X.length&&null==r.peek(X);)X.pop();X.unshift(ld(F.gradient));return`gradient(${X.join(",")})`}function Ga(F){return r.isObject(F)?"("+na(F)+")":F}function la(F){return ra(r.isObject(F)?F:{datum:F})}function ra(F){let X;if(F.signal){X="datum";var Oa=F.signal}else if(F.group||F.parent){Oa=Math.max(1,F.level||1);for(X="item";0<Oa--;)X+=".mark.group";F.parent?(Oa=F.parent,X+=".datum"):
Oa=F.group}else F.datum?(X="datum",Oa=F.datum):r.error("Invalid field reference: "+r.stringValue(F));F.signal||(Oa=r.isString(Oa)?r.splitAccessPath(Oa).map(r.stringValue).join("]["):ra(Oa));return X+"["+Oa+"]"}function Qa(F){let X="";F.forEach(Oa=>{const Hb=na(Oa);X+=Oa.test?`(${Oa.test})?${Hb}:`:Hb});":"===r.peek(X)&&(X+="null");return X}function za(F,X,Oa,Hb,Tb,Sb){const Ob={};Sb=Sb||{};Sb.encoders={$encode:Ob};F=xa(F,X,Oa,Hb,Tb.config);for(const Id in F){Oa=F[Id];Hb=X;var Xc=Sb,Sc=Tb;const Ld=
{},Ge={};for(const ae in Oa)if(null!=Oa[ae]){var ud=Oa[ae];ud=r.isArray(ud)?Qa(ud):na(ud);Ld[ae]=Ta(ud,Sc,Xc,Ge)}Oa={$expr:{marktype:Hb,channels:Ld},$fields:Object.keys(Ge),$output:Object.keys(Oa)};Ob[Id]=Oa}return Sb}function Ta(F,X,Oa,Hb){F=A.parseExpression(F,X);F.$fields.forEach(Tb=>Hb[Tb]=1);r.extend(Oa,F.$params);return F.$expr}function L(F,X){r.error(F+' for "outer" push: '+r.stringValue(X))}function ha(F,X){const Oa=F.name;if("outer"===F.push)X.signals[Oa]||L("No prior signal definition",
Oa),Od.forEach(Hb=>{void 0!==F[Hb]&&L("Invalid property ",Hb)});else{const Hb=X.addSignal(Oa,F.value);!1===F.react&&(Hb.react=!1);F.bind&&X.addBinding(Oa,F.bind)}}function ya(F,X,Oa,Hb){this.id=-1;this.type=F;this.value=X;this.params=Oa;Hb&&(this.parent=Hb)}function ua(F){const X={$ref:F.id};0>F.id&&(F.refs=F.refs||[]).push(X);return X}function Ma(F,X){return X?{$field:F,$name:X}:{$field:F}}function Pa(F,X){F={$key:F};X&&(F.$flat=!0);return F}function Aa(F,X){return(F&&F.signal?"$"+F.signal:F||"")+
(F&&X?"_":"")+(X&&X.signal?"$"+X.signal:X||"")}function ab(F){return F&&F.signal}function Va(F){if(ab(F))return!0;if(r.isObject(F))for(const X in F)if(Va(F[X]))return!0;return!1}function I(F,X){return null!=F?F:X}function x(F){return F&&F.signal||F}function M(F,X){return(F.merge?K:F.stream?C:F.type?R:r.error("Invalid stream specification: "+r.stringValue(F)))(F,X)}function K(F,X){const Oa=F.merge.map(Hb=>M(Hb,X));F=aa({merge:Oa},F,X);return X.addStream(F).id}function C(F,X){const Oa=M(F.stream,X);
F=aa({stream:Oa},F,X);return X.addStream(F).id}function R(F,X){if("timer"===F.type){var Oa=X.event("timer",F.throttle);F={between:F.between,filter:F.filter}}else Oa=F.source,Oa=X.event.call(X,"scope"===Oa?"view":Oa||"view",F.type);F=aa({stream:Oa},F,X);return 1===Object.keys(F).length?Oa:X.addStream(F).id}function aa(F,X,Oa){let Hb=X.between;Hb&&(2!==Hb.length&&r.error('Stream "between" parameter must have 2 entries: '+r.stringValue(X)),F.between=[M(Hb[0],Oa),M(Hb[1],Oa)]);Hb=X.filter?[].concat(X.filter):
[];if(X.marktype||X.markname||X.markrole){var Tb=Hb,Sb=X.marktype,Ob=X.markname,Xc=X.markrole;Tb.push.call(Tb,"event.item"+(Sb&&"*"!==Sb?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Sb+"'":"")+(Xc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Xc+"'":"")+(Ob?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Ob+"'":""))}"scope"===X.source&&Hb.push("inScope(event.item)");Hb.length&&(F.filter=A.parseExpression("("+Hb.join(")\x26\x26(")+")",Oa).$expr);null!=(Hb=X.throttle)&&(F.throttle=+Hb);null!=(Hb=X.debounce)&&
(F.debounce=+Hb);X.consume&&(F.consume=!0);return F}function da(F,X,Oa){const Hb=F.encode,Tb={target:Oa};Oa=F.events;let Sb=F.update,Ob=[];Oa||r.error("Signal update missing events specification.");r.isString(Oa)&&(Oa=Ra.selector(Oa,X.isSubscope()?"scope":"view"));Oa=r.array(Oa).filter(Xc=>Xc.signal||Xc.scale?(Ob.push(Xc),0):1);1<Ob.length&&(Ob=[Da(Ob)]);Oa.length&&Ob.push(1<Oa.length?{merge:Oa}:Oa[0]);null!=Hb&&(Sb&&r.error("Signal encode and update are mutually exclusive."),Sb="encode(item(),"+
r.stringValue(Hb)+")");Tb.update=r.isString(Sb)?A.parseExpression(Sb,X):null!=Sb.expr?A.parseExpression(Sb.expr,X):null!=Sb.value?Sb.value:null!=Sb.signal?{$expr:le,$params:{$value:X.signalRef(Sb.signal)}}:r.error("Invalid signal update specification.");F.force&&(Tb.options={force:!0});Ob.forEach(Xc=>{var Sc=X.addUpdate,ud=r.extend;Xc={source:Xc.signal?X.signalRef(Xc.signal):Xc.scale?X.scaleRef(Xc.scale):M(Xc,X)};return Sc.call(X,ud.call(r,Xc,Tb))})}function Da(F){return{signal:"["+F.map(X=>X.scale?
'scale("'+X.scale+'")':X.signal)+"]"}}function Ja(F,X){const Oa=X.getSignal(F.name);let Hb=F.update;F.init&&(Hb?r.error("Signals can not include both init and update expressions."):(Hb=F.init,Oa.initonly=!0));Hb&&(Hb=A.parseExpression(Hb,X),Oa.update=Hb.$expr,Oa.params=Hb.$params);F.on&&F.on.forEach(Tb=>da(Tb,X,Oa.id))}function J(F,X){return r.isObject(F)?F.signal?X.signalRef(F.signal):r.error("Unsupported object: "+r.stringValue(F)):F}function fa(F,X){return F.signal?X.signalRef(F.signal):F.map(Oa=>
J(Oa,X))}function ca(F){r.error("Can not find data set: "+r.stringValue(F))}function W(F,X,Oa){if(F)return F.signal?Oa.signalRef(F.signal):(r.isArray(F)?d:F.fields?f:c)(F,X,Oa);null==X.domainMin&&null==X.domainMax||r.error("No scale domain defined for domainMin/domainMax to override.")}function d(F,X,Oa){return F.map(Hb=>J(Hb,Oa))}function c(F,X,Oa){const Hb=Oa.getData(F.data);Hb||ca(F.data);return sb.isDiscrete(X.type)?Hb.valuesRef(Oa,F.field,m(F.sort,!1)):sb.isQuantile(X.type)?Hb.domainRef(Oa,F.field):
Hb.extentRef(Oa,F.field)}function f(F,X,Oa){const Hb=F.data,Tb=F.fields.reduce((Sb,Ob)=>{if(r.isString(Ob))Ob={data:Hb,field:Ob};else if(r.isArray(Ob)||Ob.signal){var Xc=Ob;Ob="_:vega:_"+bc++;const Sc=Dd({});r.isArray(Xc)?Sc.value={$ingest:Xc}:Xc.signal&&(Xc="setdata("+r.stringValue(Ob)+","+Xc.signal+")",Sc.params.input=Oa.signalRef(Xc));Oa.addDataPipeline(Ob,[Sc,ue({})]);Ob={data:Ob,field:"data"}}Sb.push(Ob);return Sb},[]);return(sb.isDiscrete(X.type)?l:sb.isQuantile(X.type)?q:w)(F,Oa,Tb)}function l(F,
X,Oa){const Hb=m(F.sort,!0);F=Oa.map(Sb=>{const Ob=X.getData(Sb.data);Ob||ca(Sb.data);return Ob.countsRef(X,Sb.field,Hb)});const Tb={groupby:fe,pulse:F};Hb&&(F=Hb.op||"count",Oa=Hb.field?Aa(F,Hb.field):"count",Tb.ops=[$d[F]],Tb.fields=[X.fieldRef(Oa)],Tb.as=[Oa]);F=X.add(Ie(Tb));F=X.add(Dd({pulse:ua(F)}));Oa=X.add(Qd({field:fe,sort:X.sortRef(Hb),pulse:ua(F)}));return ua(Oa)}function m(F,X){F&&(F.field||F.op?F.field||"count"===F.op?X&&F.field&&F.op&&!$d[F.op]&&r.error("Multiple domain scales can not be sorted using "+
F.op):r.error("No field provided for sort aggregate op: "+F.op):r.isObject(F)?F.field="key":F={field:"key"});return F}function q(F,X,Oa){F=Oa.map(Hb=>{const Tb=X.getData(Hb.data);Tb||ca(Hb.data);return Tb.domainRef(X,Hb.field)});return ua(X.add(Nc({values:F})))}function w(F,X,Oa){F=Oa.map(Hb=>{const Tb=X.getData(Hb.data);Tb||ca(Hb.data);return Tb.extentRef(X,Hb.field)});return ua(X.add(Bc({extents:F})))}function G(F,X,Oa){const Hb=X.config.range;let Tb=F.range;if(Tb.signal)return X.signalRef(Tb.signal);
if(r.isString(Tb)){if(Hb&&r.hasOwnProperty(Hb,Tb))return F=r.extend({},F,{range:Hb[Tb]}),G(F,X,Oa);"width"===Tb?Tb=[0,{signal:"width"}]:"height"===Tb?Tb=sb.isDiscrete(F.type)?[0,{signal:"height"}]:[{signal:"height"},0]:r.error("Unrecognized scale range value: "+r.stringValue(Tb))}else{if(Tb.scheme){Oa.scheme=r.isArray(Tb.scheme)?fa(Tb.scheme,X):J(Tb.scheme,X);Tb.extent&&(Oa.schemeExtent=fa(Tb.extent,X));Tb.count&&(Oa.schemeCount=J(Tb.count,X));return}if(Tb.step){Oa.rangeStep=J(Tb.step,X);return}if(sb.isDiscrete(F.type)&&
!r.isArray(Tb))return W(Tb,F,X);r.isArray(Tb)||r.error("Unsupported range type: "+r.stringValue(Tb))}return Tb.map(Sb=>(r.isArray(Sb)?fa:J)(Sb,X))}function U(F,X,Oa){return r.isArray(F)?F.map(Hb=>U(Hb,X,Oa)):r.isObject(F)?F.signal?Oa.signalRef(F.signal):"fit"===X?F:r.error("Unsupported parameter object: "+r.stringValue(F)):F}function wa(F){F.type="group";F.interactive=F.interactive||!1;return F}function cb(F,X){const Oa=(Hb,Tb)=>I(F[Hb],I(X[Hb],Tb));Oa.isVertical=Hb=>"vertical"===I(F.direction,X.direction||
(Hb?X.symbolDirection:X.gradientDirection));Oa.gradientLength=()=>I(F.gradientLength,X.gradientLength||X.gradientWidth);Oa.gradientThickness=()=>I(F.gradientThickness,X.gradientThickness||X.gradientHeight);Oa.entryColumns=()=>I(F.columns,I(X.columns,+Oa.isVertical(!0)));return Oa}function hb(F,X){return(F=X&&(X.update&&X.update[F]||X.enter&&X.enter[F]))&&F.signal?F:F?F.value:null}function Y(F,X,Oa){return`item.anchor === '${"start"}' ? ${F} : item.anchor === '${"end"}' ? ${X} : ${Oa}`}function ta(F,
X){return X?F?r.isObject(F)?Object.assign({},F,{offset:ta(F.offset,X)}):{value:F,offset:X}:X:F}function H(F,X){X?(F.name=X.name,F.style=X.style||F.style,F.interactive=!!X.interactive,F.encode=Ia(F.encode,X,Wc)):F.interactive=!1;return F}function Q(F,X,Oa,Hb){F=cb(F,Oa);var Tb=F.isVertical();Oa=F.gradientThickness();const Sb=F.gradientLength();let Ob,Xc,Sc;Tb?(Tb=[0,1],Xc=[0,0],Sc=Oa,Oa=Sb):(Tb=[0,0],Xc=[1,0],Sc=Sb);X={enter:Ob={opacity:Ud,x:Ud,y:Ud,width:pd(Sc),height:pd(Oa)},update:r.extend({},Ob,
{opacity:Je,fill:{gradient:X,start:Tb,stop:Xc}}),exit:{opacity:Ud}};La(X,{stroke:F("gradientStrokeColor"),strokeWidth:F("gradientStrokeWidth")},{opacity:F("gradientOpacity")});return H({type:"rect",role:"legend-gradient",encode:X},Hb)}function ja(F,X,Oa,Hb,Tb){F=cb(F,Oa);const Sb=F.isVertical();Oa=F.gradientThickness();const Ob=F.gradientLength();var Xc;let Sc,ud,Id,Ld="";Sb?(Xc="y",ud="y2",Sc="x",Id="width",Ld="1-"):(Xc="x",ud="x2",Sc="y",Id="height");X={opacity:Ud,fill:{scale:X,field:"value"}};
X[Xc]={signal:Ld+"datum.perc",mult:Ob};X[Sc]=Ud;X[ud]={signal:Ld+"datum.perc2",mult:Ob};X[Id]=pd(Oa);Xc={enter:X,update:r.extend({},X,{opacity:Je}),exit:{opacity:Ud}};La(Xc,{stroke:F("gradientStrokeColor"),strokeWidth:F("gradientStrokeWidth")},{opacity:F("gradientOpacity")});return H({type:"rect",role:"legend-band",key:"value",from:Tb,encode:Xc},Hb)}function Ca(F,X,Oa,Hb){const Tb=cb(F,X);var Sb=Tb.isVertical();const Ob=pd(Tb.gradientThickness()),Xc=Tb.gradientLength();let Sc=Tb("labelOverlap"),ud,
Id,Ld,Ge="";const ae={enter:ud={opacity:Ud},update:Id={opacity:Je,text:{field:"label"}},exit:{opacity:Ud}};La(ae,{fill:Tb("labelColor"),fillOpacity:Tb("labelOpacity"),font:Tb("labelFont"),fontSize:Tb("labelFontSize"),fontStyle:Tb("labelFontStyle"),fontWeight:Tb("labelFontWeight"),limit:I(F.labelLimit,X.gradientLabelLimit)});Sb?(ud.align={value:"left"},ud.baseline=Id.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Sb="y",Ld="x",Ge="1-"):(ud.align=Id.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},
ud.baseline={value:"top"},Sb="x",Ld="y");ud[Sb]=Id[Sb]={signal:Ge+"datum.perc",mult:Xc};ud[Ld]=Id[Ld]=Ob;Ob.offset=I(F.labelOffset,X.gradientLabelOffset)||0;Sc=Sc?{separation:Tb("labelSeparation"),method:Sc,order:"datum.index"}:void 0;return H({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Hb,encode:ae,overlap:Sc},Oa)}function qb(F,X,Oa,Hb,Tb){var Sb=cb(F,X);const Ob=Oa.entries,Xc=!(!Ob||!Ob.interactive),Sc=Ob?Ob.name:void 0,ud=Sb("clipHeight"),Id=Sb("symbolOffset"),Ld={data:"value"},
Ge=`(${Tb}) ? datum.${"offset"} : datum.${"size"}`,ae=ud?pd(ud):{field:"size"},ge=`max(1, ${Tb})`;let me,ke;ae.mult=.5;var De={enter:me={opacity:Ud,x:{signal:Ge,mult:.5,offset:Id},y:ae},update:ke={opacity:Je,x:me.x,y:me.y},exit:{opacity:Ud}};let Pe=null,hf=null;F.fill||(Pe=X.symbolBaseFillColor,hf=X.symbolBaseStrokeColor);La(De,{fill:Sb("symbolFillColor",Pe),shape:Sb("symbolType"),size:Sb("symbolSize"),stroke:Sb("symbolStrokeColor",hf),strokeDash:Sb("symbolDash"),strokeDashOffset:Sb("symbolDashOffset"),
strokeWidth:Sb("symbolStrokeWidth")},{opacity:Sb("symbolOpacity")});fc.forEach(ef=>{F[ef]&&(ke[ef]=me[ef]={scale:F[ef],field:"value"})});X=H({type:"symbol",role:"legend-symbol",key:"value",from:Ld,clip:ud?!0:void 0,encode:De},Oa.symbols);De=pd(Id);De.offset=Sb("labelOffset");De={enter:me={opacity:Ud,x:{signal:Ge,offset:De},y:ae},update:ke={opacity:Je,text:{field:"label"},x:me.x,y:me.y},exit:{opacity:Ud}};La(De,{align:Sb("labelAlign"),baseline:Sb("labelBaseline"),fill:Sb("labelColor"),fillOpacity:Sb("labelOpacity"),
font:Sb("labelFont"),fontSize:Sb("labelFontSize"),fontStyle:Sb("labelFontStyle"),fontWeight:Sb("labelFontWeight"),limit:Sb("labelLimit")});Oa=H({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Ld,encode:De},Oa.labels);De={enter:{noBound:{value:!ud},width:Ud,height:ud?pd(ud):Ud,opacity:Ud},exit:{opacity:Ud},update:ke={opacity:Je,row:{signal:null},column:{signal:null}}};Sb.isVertical(!0)?(Sb=`ceil(item.mark.items.length / ${ge})`,ke.row.signal=`${"datum.index"}%${Sb}`,ke.column.signal=
`floor(${"datum.index"} / ${Sb})`,Sb={field:["row","datum.index"]}):(ke.row.signal=`floor(${"datum.index"} / ${ge})`,ke.column.signal=`${"datum.index"} % ${ge}`,Sb={field:"datum.index"});ke.column.signal=`(${Tb})?${ke.column.signal}:${"datum.index"}`;Hb={facet:{data:Hb,name:"value",groupby:"index"}};return wa({role:"scope",from:Hb,encode:Ia(De,Ob,Wc),marks:[X,Oa],name:Sc,interactive:Xc,sort:Sb})}function Ya(F,X){F=cb(F,X);return{align:F("gridAlign"),columns:F.entryColumns(),center:{row:!0,column:!1},
padding:{row:F("rowPadding"),column:F("columnPadding")}}}function ob(F,X,Oa,Hb){X=cb(F,X);const Tb={enter:{opacity:Ud},update:{opacity:Je,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ud}};La(Tb,{orient:X("titleOrient"),_anchor:X("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Ke},baseline:{signal:Cd},text:F.title,fill:X("titleColor"),fillOpacity:X("titleOpacity"),font:X("titleFont"),fontSize:X("titleFontSize"),fontStyle:X("titleFontStyle"),fontWeight:X("titleFontWeight"),limit:X("titleLimit"),lineHeight:X("titleLineHeight")},{align:X("titleAlign"),baseline:X("titleBaseline")});return H({type:"text",role:"legend-title",style:"guide-title",from:Hb,encode:Tb},Oa)}function Na(F,X){let Oa;r.isObject(F)&&(F.signal?Oa=F.signal:F.path?Oa="pathShape("+Ab(F.path)+
")":F.sphere&&(Oa="geoShape("+Ab(F.sphere)+', {type: "Sphere"})'));return Oa?X.signalRef(Oa):!!F}function Ab(F){return r.isObject(F)&&F.signal?F.signal:r.stringValue(F)}function Eb(F){const X=F.role||"";return X.indexOf("axis")&&X.indexOf("legend")&&X.indexOf("title")?"group"===F.type?"scope":X||"mark":X}function eb(F){return{marktype:F.type,name:F.name||void 0,role:F.role||Eb(F),zindex:+F.zindex||void 0,aria:F.aria,description:F.description}}function Mb(F,X){return F&&F.signal?X.signalRef(F.signal):
!1===F?!1:!0}function jc(F,X){const Oa=bb.definition(F.type);Oa||r.error("Unrecognized transform type: "+r.stringValue(F.type));var Hb=Oa.type.toLowerCase();var Tb=Zb(Oa,F,X);Hb=new ya(Hb,null,Tb,void 0);F.signal&&X.addSignal(F.signal,X.proxy(Hb));Hb.metadata=Oa.metadata||{};return Hb}function Zb(F,X,Oa){const Hb={},Tb=F.params.length;for(let Sb=0;Sb<Tb;++Sb){const Ob=F.params[Sb];Hb[Ob.name]=Hc(Ob,X,Oa)}return Hb}function Hc(F,X,Oa){const Hb=F.type,Tb=X[F.name];if("index"===Hb)return ed(F,X,Oa);
if(void 0===Tb)F.required&&r.error("Missing required "+r.stringValue(X.type)+" parameter: "+r.stringValue(F.name));else return"param"===Hb?Ad(F,X,Oa):"projection"===Hb?Oa.projectionRef(X[F.name]):F.array&&!ab(Tb)?Tb.map(Sb=>zc(F,Sb,Oa)):zc(F,Tb,Oa)}function zc(F,X,Oa){const Hb=F.type;return ab(X)?"expr"===Hb?r.error("Expression references can not be signals."):"field"===Hb?Oa.fieldRef(X):"compare"===Hb?Oa.compareRef(X):Oa.signalRef(X.signal):(F=F.expr||"field"===Hb)&&X&&X.expr?Oa.exprRef(X.expr,X.as):
F&&X&&X.field?Ma(X.field,X.as):"expr"===Hb?A.parseExpression(X,Oa):"data"===Hb?ua(Oa.getData(X).values):"field"===Hb?Ma(X):"compare"===Hb?Oa.compareRef(X):X}function ed(F,X,Oa){r.isString(X.from)||r.error('Lookup "from" parameter must be a string literal.');return Oa.getData(X.from).lookupRef(Oa,X.key)}function Ad(F,X,Oa){X=X[F.name];return F.array?(r.isArray(X)||r.error("Expected an array of sub-parameters. Instead: "+r.stringValue(X)),X.map(Hb=>Gc(F,Hb,Oa))):Gc(F,X,Oa)}function Gc(F,X,Oa){const Hb=
F.params.length;let Tb;for(let Sb=0;Sb<Hb;++Sb){Tb=F.params[Sb];for(const Ob in Tb.key)if(Tb.key[Ob]!==X[Ob]){Tb=null;break}if(Tb)break}Tb||r.error("Unsupported parameter: "+r.stringValue(X));F=r.extend(Zb(Tb,X,Oa),Tb.key);return ua(Oa.add(nd(F)))}function gd(F,X,Oa){let Hb,Tb,Sb,Ob;if(!F)Sb=ua(Oa.add(Dd(null,[{}])));else if(Hb=F.facet)X||r.error("Only group marks can be faceted."),null!=Hb.field?Sb=Ob=ie(Hb,Oa):(F.data?Ob=ua(Oa.getData(F.data).aggregate):(X=jc(r.extend({type:"aggregate",groupby:r.array(Hb.groupby)},
Hb.aggregate),Oa),X.params.key=Oa.keyRef(Hb.groupby),X.params.pulse=ie(Hb,Oa),Sb=Ob=ua(Oa.add(X))),Tb=Oa.keyRef(Hb.groupby,!0));Sb||(Sb=ie(F,Oa));return{key:Tb,pulse:Sb,parent:Ob}}function ie(F,X){return F.$ref?F:F.data&&F.data.$ref?F.data:ua(X.getData(F.data).output)}function Mc(F,X,Oa,Hb,Tb){this.scope=F;this.input=X;this.output=Oa;this.values=Hb;this.aggregate=Tb;this.index={}}function xd(F){return r.isString(F)?F:null}function Rd(F,X,Oa){const Hb=Aa(Oa.op,Oa.field);let Tb;if(X.ops)for(let Sb=
0,Ob=X.as.length;Sb<Ob;++Sb){if(X.as[Sb]===Hb)return}else X.ops=["count"],X.fields=[null],X.as=["count"];Oa.op&&(X.ops.push((Tb=Oa.op.signal)?F.signalRef(Tb):Oa.op),X.fields.push(F.fieldRef(Oa.field)),X.as.push(Hb))}function Db(F,X,Oa,Hb,Tb,Sb,Ob){Oa=X[Oa]||(X[Oa]={});var Xc=r.isObject(Sb)?("descending"===Sb.order?"-":"+")+Aa(Sb.op,Sb.field):"";let Sc=xd(Tb);if(null!=Sc){F=X.scope;Sc+=Xc?"|"+Xc:"";var ud=Oa[Sc]}ud||(ud=Sb?{field:fe,pulse:X.countsRef(F,Tb,Sb)}:{field:F.fieldRef(Tb),pulse:ua(X.output)},
Xc&&(ud.sort=F.sortRef(Sb)),F=F.add(new ya(Hb,void 0,ud,void 0)),Ob&&(X.index[Tb]=F),ud=ua(F),null!=Sc&&(Oa[Sc]=ud));return ud}function ac(F,X,Oa){var Hb=F.from.facet;const Tb=Hb.name,Sb=ie(Hb,X);let Ob;Hb.name||r.error("Facet must have a name: "+r.stringValue(Hb));Hb.data||r.error("Facet must reference a data set: "+r.stringValue(Hb));Hb.field?Ob=X.add(cd({field:X.fieldRef(Hb.field),pulse:Sb})):Hb.groupby?Ob=X.add(rb({key:X.keyRef(Hb.groupby),group:ua(X.proxy(Oa.parent)),pulse:Sb})):r.error("Facet must specify groupby or field: "+
r.stringValue(Hb));X=X.fork();Oa=X.add(Dd());Hb=X.add(ue({pulse:ua(Oa)}));X.addData(Tb,new Mc(X,Oa,Oa,Hb));X.addSignal("parent",null);Ob.params.subflow={$subflow:X.parse(F).toRuntime()}}function kb(F,X,Oa){Oa=X.add(cd({pulse:Oa.pulse}));X=X.fork();X.add(ue());X.addSignal("parent",null);Oa.params.subflow={$subflow:X.parse(F).toRuntime()}}function oc(F,X,Oa){const Hb=F.remove,Tb=F.insert,Sb=F.toggle,Ob=F.modify,Xc=F.values,Sc=X.add(new ya("operator",void 0,void 0,void 0));F="if("+F.trigger+',modify("'+
Oa+'",'+[Tb,Hb,Sb,Ob,Xc].map(ud=>null==ud?"null":ud).join(",")+"),0)";X=A.parseExpression(F,X);Sc.update=X.$expr;Sc.params=X.$params}function sc(F,X){var Oa=Eb(F),Hb="group"===F.type,Tb=F.from&&F.from.facet;const Sb=F.overlap;let Ob=F.layout||"scope"===Oa||"frame"===Oa,Xc,Sc,ud,Id,Ld,Ge;const ae="mark"===Oa||Ob||Tb,ge=gd(F.from,Hb,X);Sc=X.add(V({key:ge.key||(F.key?Ma(F.key):void 0),pulse:ge.pulse,clean:!Hb}));const me=ua(Sc);Sc=ud=X.add(Dd({pulse:me}));Sc=X.add(Zc({markdef:eb(F),interactive:Mb(F.interactive,
X),clip:Na(F.clip,X),context:{$context:!0},groups:X.lookup(),parent:X.signals.parent?X.signalRef("parent"):null,index:X.markpath(),pulse:ua(Sc)}));var ke=ua(Sc);Sc=Id=X.add(qa(za(F.encode,F.type,Oa,F.style,X,{mod:!1,pulse:ke})));Sc.params.parent=X.encode();F.transform&&F.transform.forEach(Pe=>{Pe=jc(Pe,X);const hf=Pe.metadata;(hf.generates||hf.changes)&&r.error("Mark transforms should not generate new data.");hf.nomod||(Id.params.mod=!0);Pe.params.pulse=ua(Sc);X.add(Sc=Pe)});F.sort&&(Sc=X.add(qf({sort:X.compareRef(F.sort),
pulse:ua(Sc)})));Oa=ua(Sc);if(Tb||Ob)Ob=X.add(gf({layout:X.objectProperty(F.layout),legends:X.legends,mark:ke,pulse:Oa})),Ge=ua(Ob);const De=X.add(Be({mark:ke,pulse:Ge||Oa}));ke=ua(De);Hb&&(ae&&(Xc=X.operators,Xc.pop(),Ob&&Xc.pop()),X.pushState(Oa,Ge||ke,me),Tb?ac(F,X,ge):ae?kb(F,X,ge):X.parse(F),X.popState(),ae&&(Ob&&Xc.push(Ob),Xc.push(De)));Sb&&(ke=dd(Sb,ke,X));Hb=X.add(de({pulse:ke}));Tb=X.add(ue({pulse:ua(Hb)},void 0,X.parent()));null!=F.name&&(Ld=F.name,X.addData(Ld,new Mc(X,ud,Hb,Tb)),F.on&&
F.on.forEach(Pe=>{(Pe.insert||Pe.remove||Pe.toggle)&&r.error("Marks only support modify triggers.");oc(Pe,X,Ld)}))}function dd(F,X,Oa){const Hb=F.method,Tb=F.bound,Sb=F.separation;X={separation:ab(Sb)?Oa.signalRef(Sb.signal):Sb,method:ab(Hb)?Oa.signalRef(Hb.signal):Hb,pulse:X};F.order&&(X.sort=Oa.compareRef({field:F.order}));Tb&&(F=Tb.tolerance,X.boundTolerance=ab(F)?Oa.signalRef(F.signal):+F,X.boundScale=Oa.scaleRef(Tb.scale),X.boundOrient=Tb.orient);return ua(Oa.add(Yb(X)))}function vd(F,X){const Oa=
X.config.legend,Hb=F.encode||{},Tb=cb(F,Oa),Sb=Hb.legend||{},Ob=Sb.name||void 0,Xc=Sb.interactive,Sc=Sb.style,ud={};let Id=0,Ld,Ge;fc.forEach(De=>F[De]?(ud[De]=F[De],Id=Id||F[De]):0);Id||r.error("Missing valid scale for legend.");var ae=N(F,X.scaleType(Id));const ge={title:null!=F.title,scales:ud,type:ae,vgrad:"symbol"!==ae&&Tb.isVertical()},me=ua(X.add(Dd(null,[ge]))),ke=ua(X.add(Rb(Ge={type:ae,scale:X.scaleRef(Id),count:X.objectProperty(Tb("tickCount")),limit:X.property(Tb("symbolLimit")),values:X.objectProperty(F.values),
minstep:X.property(F.tickMinStep),formatType:X.property(F.formatType),formatSpecifier:X.property(F.format)})));"gradient"===ae?(ae=[Q(F,Id,Oa,Hb.gradient),Ca(F,Oa,Hb.labels,ke)],Ge.count=Ge.count||X.signalRef(`max(2,2*floor((${x(Tb.gradientLength())})/100))`)):"discrete"===ae?ae=[ja(F,Id,Oa,Hb.gradient,ke),Ca(F,Oa,Hb.labels,ke)]:(Ld=Ya(F,Oa),ae=[qb(F,Oa,Hb,ke,x(Ld.columns))],Ge.size=wb(F,X,ae[0].marks));ae=[wa({role:"legend-entry",from:me,encode:{enter:{x:{value:0},y:{value:0}}},marks:ae,layout:Ld,
interactive:Xc})];ge.title&&ae.push(ob(F,Oa,Hb.title,me));return sc(wa({role:"legend",from:me,encode:Ia($a(Tb,F,Oa),Sb,Wc),marks:ae,aria:Tb("aria"),description:Tb("description"),zindex:Tb("zindex"),name:Ob,interactive:Xc,style:Sc}),X)}function N(F,X){let Oa=F.type||"symbol";F.type||1!==oa(F)||!F.fill&&!F.stroke||(Oa=sb.isContinuous(X)?"gradient":sb.isDiscretizing(X)?"discrete":"symbol");return"gradient"!==Oa?Oa:sb.isDiscretizing(X)?"discrete":"gradient"}function oa(F){return fc.reduce((X,Oa)=>X+(F[Oa]?
1:0),0)}function $a(F,X,Oa){const Hb={enter:{},update:{}};La(Hb,{orient:F("orient"),offset:F("offset"),padding:F("padding"),titlePadding:F("titlePadding"),cornerRadius:F("cornerRadius"),fill:F("fillColor"),stroke:F("strokeColor"),strokeWidth:Oa.strokeWidth,strokeDash:Oa.strokeDash,x:F("legendX"),y:F("legendY"),format:X.format,formatType:X.formatType});return Hb}function wb(F,X,Oa){const Hb=x(Fb("size",F,Oa));F=x(Fb("strokeWidth",F,Oa));(Oa=hb("fontSize",Oa[1].encode))||(Oa=(Oa=X.config.style["guide-label"])&&
Oa.fontSize);Oa=x(Oa);return A.parseExpression(`max(ceil(sqrt(${Hb})+${F}),${Oa})`,X)}function Fb(F,X,Oa){return X[F]?`scale("${X[F]}",datum)`:hb(F,Oa[0].encode)}function Kb(F,X){F=r.isString(F)?{text:F}:F;const Oa=cb(F,X.config.title);var Hb=F.encode||{},Tb=Hb.group||{};const Sb=Tb.name||void 0,Ob=Tb.interactive,Xc=Tb.style,Sc=[],ud=ua(X.add(Dd(null,[{}])));var Id=Sc.push,Ld=F;var Ge=(Ge=F.encode)&&Ge.title||r.extend({name:F.name,interactive:F.interactive,style:F.style},Ge);var ae={value:0};ae={enter:{opacity:ae},
update:{opacity:{value:1}},exit:{opacity:ae}};La(ae,{text:Ld.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Oa("dx"),dy:Oa("dy"),fill:Oa("color"),font:Oa("font"),fontSize:Oa("fontSize"),fontStyle:Oa("fontStyle"),fontWeight:Oa("fontWeight"),lineHeight:Oa("lineHeight")},{align:Oa("align"),angle:Oa("angle"),baseline:Oa("baseline")});Ld=H({type:"text",role:"title-text",style:"group-title",from:ud,encode:ae},Ge);
Id.call(Sc,Ld);F.subtitle&&(Id=Sc.push,Hb=Hb.subtitle,Ld={value:0},Ld={enter:{opacity:Ld},update:{opacity:{value:1}},exit:{opacity:Ld}},La(Ld,{text:F.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Oa("dx"),dy:Oa("dy"),fill:Oa("subtitleColor"),font:Oa("subtitleFont"),fontSize:Oa("subtitleFontSize"),fontStyle:Oa("subtitleFontStyle"),fontWeight:Oa("subtitleFontWeight"),lineHeight:Oa("subtitleLineHeight")},
{align:Oa("align"),angle:Oa("angle"),baseline:Oa("baseline")}),F=H({type:"text",role:"title-subtitle",style:"group-subtitle",from:ud,encode:Ld},Hb),Id.call(Sc,F));F={enter:{},update:{}};La(F,{orient:Oa("orient"),anchor:Oa("anchor"),align:{signal:Yd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:Oa("limit"),frame:Oa("frame"),offset:Oa("offset")||0,padding:Oa("subtitlePadding")});Tb=Ia(F,Tb,Wc);return sc(wa({role:"title",from:ud,encode:Tb,marks:Sc,aria:Oa("aria"),
description:Oa("description"),zindex:Oa("zindex"),name:Sb,interactive:Ob,style:Xc}),X)}function ec(F,X){const Oa=[];F.transform&&F.transform.forEach(Hb=>{Oa.push(jc(Hb,X))});F.on&&F.on.forEach(Hb=>{oc(Hb,X,F.name)});X.addDataPipeline(F.name,Wb(F,X,Oa))}function Wb(F,X,Oa){const Hb=[];let Tb=null,Sb=!1,Ob=!1,Xc,Sc,ud,Id;F.values?ab(F.values)||Va(F.format)?(Hb.push(Fc(X,F)),Hb.push(Tb=vc())):Hb.push(Tb=vc({$ingest:F.values,$format:F.format})):F.url?Va(F.url)||Va(F.format)?(Hb.push(Fc(X,F)),Hb.push(Tb=
vc())):Hb.push(Tb=vc({$request:F.url,$format:F.format})):F.source&&(Tb=Xc=r.array(F.source).map(Ld=>ua(X.getData(Ld).output)),Hb.push(null));F=0;for(Sc=Oa.length;F<Sc;++F)ud=Oa[F],Id=ud.metadata,Tb||Id.source||Hb.push(Tb=vc()),Hb.push(ud),Id.generates&&(Ob=!0),Id.modifies&&!Ob&&(Sb=!0),Id.source?Tb=ud:Id.changes&&(Tb=null);Xc&&(Sc=Xc.length-1,Hb[0]=od({derive:Sb,pulse:Sc?Xc:Xc[0]}),(Sb||Sc)&&Hb.splice(1,0,vc()));Tb||Hb.push(vc());Hb.push(ue({}));return Hb}function vc(F){F=Dd({},F);F.metadata={source:!0};
return F}function Fc(F,X){return kc({url:X.url?F.property(X.url):void 0,async:X.async?F.property(X.async):void 0,values:X.values?F.property(X.values):void 0,format:F.objectProperty(X.format)})}function va(F,X,Oa,Hb){let Tb;if(X&&r.hasOwnProperty(X,F))return X[F];if(r.hasOwnProperty(Oa,F))return Oa[F];if(F.startsWith("title")){switch(F){case "titleColor":Tb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Tb=F[5].toLowerCase()+F.slice(6)}return Hb["guide-title"][Tb]}if(F.startsWith("label")){switch(F){case "labelColor":Tb=
"fill";break;case "labelFont":case "labelFontSize":Tb=F[5].toLowerCase()+F.slice(6)}return Hb["guide-label"][Tb]}return null}function Za(F){const X={};for(const Oa of F)if(Oa)for(const Hb in Oa)X[Hb]=1;return Object.keys(X)}function pb(F,X,Oa,Hb,Tb){return{signal:'flush(range("'+F+'"), scale("'+F+'", datum.value), '+X+","+Oa+","+Hb+","+Tb+")"}}function Ub(F,X,Oa,Hb){const Tb=(Ob,Xc)=>null!=Ob?(Oa.update[Xc]=yd(pd(Ob),Oa.update[Xc]),!1):Sa(Xc,Hb)?!1:!0,Sb=Tb(F("titleX"),"x");F=Tb(F("titleY"),"y");
Oa.enter.auto=F===Sb?pd(F):we(X,pd(F),pd(Sb))}function wc(F,X,Oa){const Hb=r.array(F.signals),Tb=r.array(F.scales);Oa||Hb.forEach(Sb=>ha(Sb,X));r.array(F.projections).forEach(Sb=>{const Ob=X.config.projection||{},Xc={};for(const Sc in Sb)"name"!==Sc&&(Xc[Sc]=U(Sb[Sc],Sc,X));for(const Sc in Ob)null==Xc[Sc]&&(Xc[Sc]=U(Ob[Sc],Sc,X));X.addProjection(Sb.name,Xc)});Tb.forEach(Sb=>{const Ob=Sb.type||"linear";sb.isValidScaleType(Ob)||r.error("Unrecognized scale type: "+r.stringValue(Ob));X.addScale(Sb.name,
{type:Ob,domain:void 0})});r.array(F.data).forEach(Sb=>ec(Sb,X));Tb.forEach(Sb=>{const Ob=X.getScale(Sb.name).params;let Xc;Ob.domain=W(Sb.domain,Sb,X);null!=Sb.range&&(Ob.range=G(Sb,X,Ob));if(null!=Sb.interpolate){var Sc=Sb.interpolate;Ob.interpolate=J(Sc.type||Sc);null!=Sc.gamma&&(Ob.interpolateGamma=J(Sc.gamma))}null!=Sb.nice&&(Sc=Sb.nice,Sc=r.isObject(Sc)?{interval:J(Sc.interval),step:J(Sc.step)}:J(Sc),Ob.nice=Sc);null!=Sb.bins&&(Sc=Sb.bins,Sc=Sc.signal||r.isArray(Sc)?fa(Sc,X):X.objectProperty(Sc),
Ob.bins=Sc);for(Xc in Sb)r.hasOwnProperty(Ob,Xc)||"name"===Xc||(Ob[Xc]=J(Sb[Xc],X))});(Oa||Hb).forEach(Sb=>Ja(Sb,X));r.array(F.axes).forEach(Sb=>{var Ob=X.config,Xc=Ob.style,Sc=Ob.axis,ud="band"===X.scaleType(Sb.scale)&&Ob.axisBand,Id=Sb.orient,Ld;if(ab(Id)){const sa=Za([Ob.axisX,Ob.axisY]),Ka=Za([Ob.axisTop,Ob.axisBottom,Ob.axisLeft,Ob.axisRight]);var Ge={};for(Ld of sa)Ge[Ld]=we(Id,va(Ld,Ob.axisX,Sc,Xc),va(Ld,Ob.axisY,Sc,Xc));var ae={};for(Ld of Ka){var ge=ae,me=Ld,ke=Id.signal,De=va(Ld,Ob.axisTop,
Sc,Xc),Pe=va(Ld,Ob.axisBottom,Sc,Xc),hf=va(Ld,Ob.axisLeft,Sc,Xc),ef=va(Ld,Ob.axisRight,Sc,Xc);var Kf={signal:(null!=hf?`${ke} === '${"left"}' ? (${Fe(hf)}) : `:"")+(null!=Pe?`${ke} === '${"bottom"}' ? (${Fe(Pe)}) : `:"")+(null!=ef?`${ke} === '${"right"}' ? (${Fe(ef)}) : `:"")+(null!=De?`${ke} === '${"top"}' ? (${Fe(De)}) : `:"")+"(null)"};ge[me]=Kf}}else Ge="top"===Id||"bottom"===Id?Ob.axisX:Ob.axisY,ae=Ob["axis"+Id[0].toUpperCase()+Id.slice(1)];var wf=Ge||ae||ud?r.extend({},Sc,Ge,ae,ud):Sc;const cf=
Sb.encode||{},jf=cf.axis||{},xf=jf.name||void 0,Oe=jf.interactive,rf=jf.style,Te=cb(Sb,wf),$e=Te("tickBand");let Ff=Te("tickOffset"),af,Wf;$e?$e.signal?(af={signal:`(${$e.signal}) === 'extent' ? 1 : 0.5`},Wf={signal:`(${$e.signal}) === 'extent'`},r.isObject(Ff)||(Ff={signal:`(${$e.signal}) === 'extent' ? 0 : ${Ff}`})):"extent"===$e?(af=1,Wf=!0,Ff=0):(af=.5,Wf=!1):(af=Te("bandPosition"),Wf=Te("tickExtra"));var Gf=Wf;var Vf=af;var B=Ff;const D={scale:Sb.scale,ticks:!!Te("ticks"),labels:!!Te("labels"),
grid:!!Te("grid"),domain:!!Te("domain"),title:null!=Sb.title},O=ua(X.add(Dd({},[D]))),T=ua(X.add(he({scale:X.scaleRef(Sb.scale),extra:X.property(Gf),count:X.objectProperty(Sb.tickCount),values:X.objectProperty(Sb.values),minstep:X.property(Sb.tickMinStep),formatType:X.property(Sb.formatType),formatSpecifier:X.property(Sb.format)}))),ia=[];let pa;if(D.grid){var Ha=ia.push,db=cf.grid;const sa=cb(Sb,wf),Ka=Sb.orient,jb=Sb.gridScale,yb=rd(Ka,1,-1);a:{var Ua=Sb.offset,lb=yb;if(1!==lb)if(r.isObject(Ua)){let ad=
Ua=r.extend({},Ua);for(;null!=ad.mult;)if(r.isObject(ad.mult))ad=ad.mult=r.extend({},ad.mult);else{ad.mult=ab(lb)?{signal:`(${ad.mult}) * (${lb.signal})`}:ad.mult*lb;var nb=Ua;break a}ad.mult=lb}else Ua=ab(lb)?{signal:`(${lb.signal}) * (${Ua||0})`}:lb*(Ua||0);nb=Ua}const cc=nb;let gc,hc,qc;const uc={enter:gc={opacity:Ud},update:qc={opacity:Je},exit:hc={opacity:Ud}};La(uc,{stroke:sa("gridColor"),strokeCap:sa("gridCap"),strokeDash:sa("gridDash"),strokeDashOffset:sa("gridDashOffset"),strokeOpacity:sa("gridOpacity"),
strokeWidth:sa("gridWidth")});const $c={scale:Sb.scale,field:"value",band:Vf,extra:Gf,offset:B,round:sa("tickRound")},Kc=we(Ka,{signal:"height"},{signal:"width"}),Lc=jb?{scale:jb,range:0,mult:yb,offset:cc}:{value:0,offset:cc},Tc=jb?{scale:jb,range:1,mult:yb,offset:cc}:r.extend(Kc,{mult:yb,offset:cc});gc.x=qc.x=we(Ka,$c,Lc);gc.y=qc.y=hd(Ka,$c,Lc);gc.x2=qc.x2=hd(Ka,Tc);gc.y2=qc.y2=we(Ka,Tc);hc.x=we(Ka,$c);hc.y=hd(Ka,$c);var Bb=H({type:"rule",role:"axis-grid",key:"value",from:T,encode:uc},db);Ha.call(ia,
Bb)}if(D.ticks){pa=Te("tickSize");var $b=ia.push,pc=cf.ticks,Ic=pa;const sa=cb(Sb,wf),Ka=Sb.orient,jb=rd(Ka,-1,1);let yb,cc,gc;const hc={enter:yb={opacity:Ud},update:gc={opacity:Je},exit:cc={opacity:Ud}};La(hc,{stroke:sa("tickColor"),strokeCap:sa("tickCap"),strokeDash:sa("tickDash"),strokeDashOffset:sa("tickDashOffset"),strokeOpacity:sa("tickOpacity"),strokeWidth:sa("tickWidth")});const qc=pd(Ic);qc.mult=jb;const uc={scale:Sb.scale,field:"value",band:Vf,extra:Gf,offset:B,round:sa("tickRound")};gc.y=
yb.y=we(Ka,Ud,uc);gc.y2=yb.y2=we(Ka,qc);cc.x=we(Ka,uc);gc.x=yb.x=hd(Ka,Ud,uc);gc.x2=yb.x2=hd(Ka,qc);cc.y=hd(Ka,uc);var t=H({type:"rule",role:"axis-tick",key:"value",from:T,encode:hc},pc);$b.call(ia,t)}if(D.labels){pa=D.ticks?pa:0;var y=ia.push,S=cf.labels,ba=pa;const sa=cb(Sb,wf),Ka=Sb.orient,jb=Sb.scale,yb=rd(Ka,-1,1),cc=x(sa("labelFlush")),gc=x(sa("labelFlushOffset")),hc=sa("labelAlign"),qc=sa("labelBaseline");let uc=0===cc||!!cc,$c;const Kc=pd(ba);Kc.mult=yb;Kc.offset=pd(sa("labelPadding")||0);
Kc.offset.mult=yb;const Lc={scale:jb,field:"value",band:.5,offset:ta(B,sa("labelOffset"))};var Xa=uc?pb(jb,cc,'"left"','"right"','"center"'):{value:"center"},vb=Ka;var Ib=ab(vb)?ve(`${vb.signal} === '${"right"}'`,"left","right"):"right"===vb?{value:"left"}:{value:"right"};const Tc=we(Ka,Xa,Ib),ad=we(Ka,Ce(Ka,"bottom","top"),uc?pb(jb,cc,'"top"','"bottom"','"middle"'):{value:"middle"}),kd=pb(jb,cc,`-(${gc})`,gc,0);uc=uc&&gc;const ce={opacity:Ud,x:we(Ka,Lc,Kc),y:hd(Ka,Lc,Kc)},Sd={enter:ce,update:$c=
{opacity:Je,text:{field:"label"},x:ce.x,y:ce.y,align:Tc,baseline:ad},exit:{opacity:Ud,x:ce.x,y:ce.y}};La(Sd,{dx:!hc&&uc?we(Ka,kd):null,dy:!qc&&uc?hd(Ka,kd):null});La(Sd,{angle:sa("labelAngle"),fill:sa("labelColor"),fillOpacity:sa("labelOpacity"),font:sa("labelFont"),fontSize:sa("labelFontSize"),fontWeight:sa("labelFontWeight"),fontStyle:sa("labelFontStyle"),limit:sa("labelLimit"),lineHeight:sa("labelLineHeight")},{align:hc,baseline:qc});const Bd=sa("labelBound");let md=sa("labelOverlap");md=md||Bd?
{separation:sa("labelSeparation"),method:md,order:"datum.index",bound:Bd?{scale:jb,orient:Ka,tolerance:Bd}:null}:void 0;$c.align!==Tc&&($c.align=yd($c.align,Tc));$c.baseline!==ad&&($c.baseline=yd($c.baseline,ad));var Qb=H({type:"text",role:"axis-label",style:"guide-label",key:"value",from:T,encode:Sd,overlap:md},S);y.call(ia,Qb)}if(D.domain){var dc=ia.push,Ec=cf.domain;const sa=cb(Sb,wf),Ka=Sb.orient;let jb,yb;const cc={enter:jb={opacity:Ud},update:yb={opacity:Je},exit:{opacity:Ud}};La(cc,{stroke:sa("domainColor"),
strokeCap:sa("domainCap"),strokeDash:sa("domainDash"),strokeDashOffset:sa("domainDashOffset"),strokeWidth:sa("domainWidth"),strokeOpacity:sa("domainOpacity")});const gc={scale:Sb.scale,range:0},hc={scale:Sb.scale,range:1};jb.x=yb.x=we(Ka,gc,Ud);jb.x2=yb.x2=we(Ka,hc);jb.y=yb.y=hd(Ka,gc,Ud);jb.y2=yb.y2=hd(Ka,hc);var Ac=H({type:"rule",role:"axis-domain",from:O,encode:cc},Ec);dc.call(ia,Ac)}if(D.title){var sd=ia.push,Gd=cf.title;const sa=cb(Sb,wf),Ka=Sb.orient,jb=rd(Ka,-1,1);let yb,cc;const gc={enter:yb=
{opacity:Ud,anchor:pd(sa("titleAnchor",null)),align:{signal:Yd}},update:cc=r.extend({},yb,{opacity:Je,text:pd(Sb.title)}),exit:{opacity:Ud}},hc={signal:`lerp(range("${Sb.scale}"), ${Y(0,1,.5)})`};cc.x=we(Ka,hc);cc.y=hd(Ka,hc);var Pc=yb,Fd=jb;var Vd=ab(Fd)?{signal:`(${Fd.signal}) * ${90}`}:{value:90*Fd};Pc.angle=we(Ka,Ud,Vd);yb.baseline=we(Ka,Ce(Ka,"bottom","top"),{value:"bottom"});cc.angle=yb.angle;cc.baseline=yb.baseline;La(gc,{fill:sa("titleColor"),fillOpacity:sa("titleOpacity"),font:sa("titleFont"),
fontSize:sa("titleFontSize"),fontStyle:sa("titleFontStyle"),fontWeight:sa("titleFontWeight"),limit:sa("titleLimit"),lineHeight:sa("titleLineHeight")},{align:sa("titleAlign"),angle:sa("titleAngle"),baseline:sa("titleBaseline")});Ub(sa,Ka,gc,Gd);gc.update.align=yd(gc.update.align,yb.align);gc.update.angle=yd(gc.update.angle,yb.angle);gc.update.baseline=yd(gc.update.baseline,yb.baseline);var te=H({type:"text",role:"axis-title",style:"guide-title",from:O,encode:gc},Gd);sd.call(ia,te)}const Z={enter:{},
update:{}};La(Z,{orient:Te("orient"),offset:Te("offset")||0,position:I(Sb.position,0),titlePadding:Te("titlePadding"),minExtent:Te("minExtent"),maxExtent:Te("maxExtent"),range:{signal:`abs(span(range("${Sb.scale}")))`},translate:Te("translate"),format:Sb.format,formatType:Sb.formatType});return sc(wa({role:"axis",from:O,encode:Ia(Z,jf,Wc),marks:ia,aria:Te("aria"),description:Te("description"),zindex:Te("zindex"),name:xf,interactive:Oe,style:rf}),X)});r.array(F.marks).forEach(Sb=>sc(Sb,X));r.array(F.legends).forEach(Sb=>
vd(Sb,X));F.title&&Kb(F.title,X);X.parseLambdas();return X}function Cc(F,X){var Oa=X.config;const Hb=ua(X.root=X.add(new ya("operator",void 0,void 0,void 0))),Tb=Cb(F,Oa);Tb.forEach(Xc=>ha(Xc,X));X.description=F.description||Oa.description;X.eventConfig=Oa.events;X.legends=X.objectProperty(Oa.legend&&Oa.legend.layout);X.locale=Oa.locale;Oa=X.add(Dd());const Sb=X.add(qa(za(Ia({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},F.encode),"group","frame",F.style,
X,{pulse:ua(Oa)}))),Ob=X.add(gf({layout:X.objectProperty(F.layout),legends:X.legends,autosize:X.signalRef("autosize"),mark:Hb,pulse:ua(Sb)}));X.operators.pop();X.pushState(ua(Sb),ua(Ob),null);wc(F,X,Tb);X.operators.push(Ob);F=X.add(Be({mark:Hb,pulse:ua(Ob)}));F=X.add(de({pulse:ua(F)}));F=X.add(ue({pulse:ua(F)}));X.addData("root",new Mc(X,Oa,Oa,F));return X}function Jc(F,X){return X&&X.signal?{name:F,update:X.signal}:{name:F,value:X}}function Cb(F,X){const Oa=Ob=>I(F[Ob],X[Ob]),Hb=[Jc("background",
Oa("background")),Jc("autosize",xb(Oa("autosize"))),Jc("padding",Gb(Oa("padding"))),Jc("width",Oa("width")||0),Jc("height",Oa("height")||0)],Tb=Hb.reduce((Ob,Xc)=>(Ob[Xc.name]=Xc,Ob),{}),Sb={};r.array(F.signals).forEach(Ob=>{r.hasOwnProperty(Tb,Ob.name)?Ob=r.extend(Tb[Ob.name],Ob):Hb.push(Ob);Sb[Ob.name]=Ob});r.array(X.signals).forEach(Ob=>{r.hasOwnProperty(Sb,Ob.name)||r.hasOwnProperty(Tb,Ob.name)||Hb.push(Ob)});return Hb}function Vb(F,X){this.config=F||{};this.options=X||{};this.bindings=[];this.field=
{};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function nc(F){this.config=F.config;this.options=F.options;this.legends=F.legends;this.field=Object.create(F.field);this.signals=Object.create(F.signals);this.lambdas=Object.create(F.lambdas);this.scales=Object.create(F.scales);this.events=
Object.create(F.events);this.data=Object.create(F.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++F._nextsub[0];this._nextsub=F._nextsub;this._parent=F._parent.slice();this._encode=F._encode.slice();this._lookup=F._lookup.slice();this._markpath=F._markpath}function lc(F){return(r.isArray(F)?rc:Vc)(F)}function rc(F){const X=F.length;let Oa="[";for(let Hb=0;Hb<X;++Hb){const Tb=F[Hb];Oa+=(0<Hb?",":"")+(r.isObject(Tb)?Tb.signal||lc(Tb):r.stringValue(Tb))}return Oa+"]"}
function Vc(F){let X="{",Oa=0,Hb,Tb;for(Hb in F)Tb=F[Hb],X+=(1<++Oa?",":"")+r.stringValue(Hb)+":"+(r.isObject(Tb)?Tb.signal||lc(Tb):r.stringValue(Tb));return X+"}"}function zd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",
size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",
stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,
symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},
right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const pd=F=>r.isObject(F)&&!r.isArray(F)?r.extend({},F):{value:F},ld=F=>r.isString(F)?r.stringValue(F):F.signal?`(${F.signal})`:la(F),qd=(F,X,Oa,Hb)=>`(${F}(${[X,Oa,Hb].map(na).join(",")})+'')`,Od=["value",
"update","init","react","bind"],fe=Ma("key"),le={code:"_.$value",ast:{type:"Identifier",value:"value"}},Kd=F=>(X,Oa,Hb)=>new ya(F,Oa,X||void 0,Hb),Ie=Kd("aggregate"),he=Kd("axisticks"),Be=Kd("bound"),Dd=Kd("collect"),be=Kd("compare"),V=Kd("datajoin"),qa=Kd("encode"),Fa=Kd("expression"),rb=Kd("facet"),gb=Kd("field"),Lb=Kd("key"),Rb=Kd("legendentries"),kc=Kd("load"),Zc=Kd("mark"),Bc=Kd("multiextent"),Nc=Kd("multivalues"),Yb=Kd("overlap"),nd=Kd("params"),cd=Kd("prefacet"),Xb=Kd("projection"),oe=Kd("proxy"),
od=Kd("relay"),de=Kd("render"),ne=Kd("scale"),ue=Kd("sieve"),qf=Kd("sortitems"),gf=Kd("viewlayout"),Qd=Kd("values");let bc=0;const $d={min:"min",max:"max",count:"sum"},fc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Wc={name:1,style:1,interactive:1},Ud={value:0},Je={value:1},Yd=Y(r.stringValue("left"),r.stringValue("right"),r.stringValue("center")),je=Y('"top"','"bottom"','"middle"'),Ke=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Y('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Yd}`,
Cd=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${je}) : "top"`;Mc.fromEntries=function(F,X){const Oa=X.length,Hb=X[Oa-1],Tb=X[Oa-2];let Sb=X[0],Ob=null,Xc=1;Sb&&"load"===Sb.type&&(Sb=X[1]);for(F.add(X[0]);Xc<Oa;++Xc)X[Xc].params.pulse=ua(X[Xc-1]),F.add(X[Xc]),"aggregate"===X[Xc].type&&(Ob=X[Xc]);return new Mc(F,Sb,Tb,Hb,Ob)};Mc.prototype={countsRef(F,X,Oa){const Hb=this.counts||(this.counts=
{}),Tb=xd(X);if(null!=Tb){F=this.scope;var Sb=Hb[Tb]}Sb?Oa&&Oa.field&&Rd(F,Sb.agg.params,Oa):(Sb={groupby:F.fieldRef(X,"key"),pulse:ua(this.output)},Oa&&Oa.field&&Rd(F,Sb,Oa),Oa=F.add(Ie(Sb)),Sb=F.add(Dd({pulse:ua(Oa)})),Sb={agg:Oa,ref:ua(Sb)},null!=Tb&&(Hb[Tb]=Sb));return Sb.ref},tuplesRef(){return ua(this.values)},extentRef(F,X){return Db(F,this,"extent","extent",X,!1)},domainRef(F,X){return Db(F,this,"domain","values",X,!1)},valuesRef(F,X,Oa){return Db(F,this,"vals","values",X,Oa||!0)},lookupRef(F,
X){return Db(F,this,"lookup","tupleindex",X,!1)},indataRef(F,X){return Db(F,this,"indata","tupleindex",X,!0,!0)}};const rd=(F,X,Oa)=>{ab(F)?(F=F.signal,X=ve(`${F} === '${"left"}' || ${F} === '${"top"}'`,X,Oa)):X="left"===F||"top"===F?X:Oa;return X},we=(F,X,Oa)=>{ab(F)?(F=F.signal,X=Ee(`${F} === '${"top"}' || ${F} === '${"bottom"}'`,X,Oa)):X="bottom"===F||"top"===F?X:Oa;return X},hd=(F,X,Oa)=>{ab(F)?(F=F.signal,X=Ee(`${F} !== '${"top"}' && ${F} !== '${"bottom"}'`,X,Oa)):X="bottom"===F||"top"===F?Oa:
X;return X},Ce=(F,X,Oa)=>ab(F)?ve(`${F.signal} === '${"top"}'`,X,Oa):"top"===F?{value:X}:{value:Oa},Ee=(F,X,Oa)=>{X=null!=X?pd(X):X;Oa=null!=Oa?pd(Oa):Oa;if(null!=X&&1!==Object.keys(X).length||null!=Oa&&1!==Object.keys(Oa).length)return[r.extend({test:F},X)].concat(Oa||[]);X=X?X.signal||r.stringValue(X.value):null;Oa=Oa?Oa.signal||r.stringValue(Oa.value):null;return{signal:`${F} ? (${X}) : (${Oa})`}},ve=(F,X,Oa)=>({signal:`${F} ? (${Fe(X)}) : (${Fe(Oa)})`}),Fe=F=>ab(F)?F.signal:null==F?null:r.stringValue(F),
yd=(F,X)=>{const Oa=F.signal;return Oa&&Oa.endsWith("(null)")?{signal:Oa.slice(0,-6)+X.signal}:F};Vb.prototype=nc.prototype={parse(F){return wc(F,this)},fork(){return new nc(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(F){this.operators.push(F);
F.id=this.id();F.refs&&(F.refs.forEach(X=>{X.$ref=F.id}),F.refs=null);return F},proxy(F){F=F instanceof ya?ua(F):F;return this.add(oe({value:F}))},addStream(F){this.streams.push(F);F.id=this.id();return F},addUpdate(F){this.updates.push(F);return F},finish(){function F(Hb,Tb,Sb){Hb&&(Hb=Hb.data||(Hb.data={}),Tb=Hb[Tb]||(Hb[Tb]=[]),Tb.push(Sb))}let X,Oa;this.root&&(this.root.root=!0);for(X in this.signals)this.signals[X].signal=X;for(X in this.scales)this.scales[X].scale=X;for(X in this.data){Oa=this.data[X];
F(Oa.input,X,"input");F(Oa.output,X,"output");F(Oa.values,X,"values");for(const Hb in Oa.index)F(Oa.index[Hb],X,"index:"+Hb)}return this},pushState(F,X,Oa){this._encode.push(ua(this.add(ue({pulse:F}))));this._parent.push(X);this._lookup.push(Oa?ua(this.proxy(Oa)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return r.peek(this._parent)},encode(){return r.peek(this._encode)},lookup(){return r.peek(this._lookup)},markpath(){const F=
this._markpath;return++F[F.length-1]},fieldRef(F,X){if(r.isString(F))return Ma(F,X);F.signal||r.error("Unsupported field reference: "+r.stringValue(F));F=F.signal;var Oa=this.field[F];Oa||(Oa={name:this.signalRef(F)},X&&(Oa.as=X),this.field[F]=Oa=ua(this.add(gb(Oa))));return Oa},compareRef(F){let X=!1;const Oa=Tb=>ab(Tb)?(X=!0,this.signalRef(Tb.signal)):Tb&&Tb.expr?(X=!0,this.exprRef(Tb.expr)):Tb,Hb=r.array(F.field).map(Oa);F=r.array(F.order).map(Oa);return X?ua(this.add(be({fields:Hb,orders:F}))):
{$compare:Hb,$order:F}},keyRef(F,X){let Oa=!1;const Hb=this.signals;F=r.array(F).map(Tb=>ab(Tb)?(Oa=!0,ua(Hb[Tb.signal])):Tb);return Oa?ua(this.add(Lb({fields:F,flat:X}))):Pa(F,X)},sortRef(F){if(!F)return F;const X=Aa(F.op,F.field);F=F.order||"ascending";return F.signal?ua(this.add(be({fields:X,orders:this.signalRef(F.signal)}))):{$compare:X,$order:F}},event(F,X){const Oa=F+":"+X;if(!this.events[Oa]){const Hb=this.id();this.streams.push({id:Hb,source:F,type:X});this.events[Oa]=Hb}return this.events[Oa]},
hasOwnSignal(F){return r.hasOwnProperty(this.signals,F)},addSignal(F,X){this.hasOwnSignal(F)&&r.error("Duplicate signal name: "+r.stringValue(F));X=X instanceof ya?X:this.add(new ya("operator",X,void 0,void 0));return this.signals[F]=X},getSignal(F){this.signals[F]||r.error("Unrecognized signal name: "+r.stringValue(F));return this.signals[F]},signalRef(F){if(this.signals[F])return ua(this.signals[F]);r.hasOwnProperty(this.lambdas,F)||(this.lambdas[F]=this.add(new ya("operator",null,void 0,void 0)));
return ua(this.lambdas[F])},parseLambdas(){const F=Object.keys(this.lambdas);for(let Oa=0,Hb=F.length;Oa<Hb;++Oa){var X=F[Oa];const Tb=A.parseExpression(X,this);X=this.lambdas[X];X.params=Tb.$params;X.update=Tb.$expr}},property(F){return F&&F.signal?this.signalRef(F.signal):F},objectProperty(F){return F&&r.isObject(F)?this.signalRef(F.signal||lc(F)):F},exprRef(F,X){F={expr:A.parseExpression(F,this)};X&&(F.expr.$name=X);return ua(this.add(Fa(F)))},addBinding(F,X){this.bindings||r.error("Nested signals do not support binding: "+
r.stringValue(F));this.bindings.push(r.extend({signal:F},X))},addScaleProj(F,X){r.hasOwnProperty(this.scales,F)&&r.error("Duplicate scale or projection name: "+r.stringValue(F));this.scales[F]=this.add(X)},addScale(F,X){this.addScaleProj(F,ne(X))},addProjection(F,X){this.addScaleProj(F,Xb(X))},getScale(F){this.scales[F]||r.error("Unrecognized scale name: "+r.stringValue(F));return this.scales[F]},scaleRef(F){return ua(this.getScale(F))},scaleType(F){return this.getScale(F).params.type},projectionRef(F){return this.scaleRef(F)},
projectionType(F){return this.scaleType(F)},addData(F,X){r.hasOwnProperty(this.data,F)&&r.error("Duplicate data set name: "+r.stringValue(F));return this.data[F]=X},getData(F){this.data[F]||r.error("Undefined data set name: "+r.stringValue(F));return this.data[F]},addDataPipeline(F,X){r.hasOwnProperty(this.data,F)&&r.error("Duplicate data set name: "+r.stringValue(F));return this.addData(F,Mc.fromEntries(this,X))}};h.AxisDomainRole="axis-domain";h.AxisGridRole="axis-grid";h.AxisLabelRole="axis-label";
h.AxisRole="axis";h.AxisTickRole="axis-tick";h.AxisTitleRole="axis-title";h.DataScope=Mc;h.FrameRole="frame";h.LegendEntryRole="legend-entry";h.LegendLabelRole="legend-label";h.LegendRole="legend";h.LegendSymbolRole="legend-symbol";h.LegendTitleRole="legend-title";h.MarkRole="mark";h.Scope=Vb;h.ScopeRole="scope";h.config=zd;h.parse=function(F,X,Oa){r.isObject(F)||r.error("Input Vega specification must be an object.");X=r.mergeConfig(zd(),X,F.config);return Cc(F,new Vb(X,Oa)).toRuntime()};h.signal=
ha;h.signalUpdates=Ja;h.stream=M;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[53]=function(Nb,zb,mc,ub){function h(ua){if(ua&&ua.__esModule)return ua;var Ma=Object.create(null);ua&&Object.keys(ua).forEach(function(Pa){if("default"!==Pa){var Aa=Object.getOwnPropertyDescriptor(ua,Pa);Object.defineProperty(Ma,Pa,Aa.get?Aa:{enumerable:!0,get:function(){return ua[Pa]}})}});Ma["default"]=ua;return Object.freeze(Ma)}Object.defineProperty(ub,"__esModule",{value:!0});var r=zb(0),A=zb(14),Ra=zb(17),sb=zb(26),bb=zb(27),xb=zb(31),Gb=zb(36),ib=zb(38),La=zb(39),Ia=zb(40),
Sa=zb(42);mc=zb(43);Nb=zb(44);var xa=zb(16),ma=zb(6),na=zb(13),Ba=zb(25),Ga=zb(24),la=zb(30),ra=zb(50),Qa=zb(8),za=zb(48),Ta=zb(52),L=zb(49),ha=zb(46),ya=zb(51);zb=h(Ra);sb=h(sb);bb=h(bb);xb=h(xb);Gb=h(Gb);ib=h(ib);La=h(La);Ia=h(Ia);Sa=h(Sa);mc=h(mc);Nb=h(Nb);r.extend(A.transforms,zb,sb,bb,xb,Gb,La,ib,Ia,Sa,mc,Nb);Object.defineProperty(ub,"Dataflow",{enumerable:!0,get:function(){return A.Dataflow}});Object.defineProperty(ub,"EventStream",{enumerable:!0,get:function(){return A.EventStream}});Object.defineProperty(ub,
"MultiPulse",{enumerable:!0,get:function(){return A.MultiPulse}});Object.defineProperty(ub,"Operator",{enumerable:!0,get:function(){return A.Operator}});Object.defineProperty(ub,"Parameters",{enumerable:!0,get:function(){return A.Parameters}});Object.defineProperty(ub,"Pulse",{enumerable:!0,get:function(){return A.Pulse}});Object.defineProperty(ub,"Transform",{enumerable:!0,get:function(){return A.Transform}});Object.defineProperty(ub,"changeset",{enumerable:!0,get:function(){return A.changeset}});
Object.defineProperty(ub,"definition",{enumerable:!0,get:function(){return A.definition}});Object.defineProperty(ub,"ingest",{enumerable:!0,get:function(){return A.ingest}});Object.defineProperty(ub,"isTuple",{enumerable:!0,get:function(){return A.isTuple}});Object.defineProperty(ub,"transform",{enumerable:!0,get:function(){return A.transform}});Object.defineProperty(ub,"transforms",{enumerable:!0,get:function(){return A.transforms}});Object.defineProperty(ub,"tupleid",{enumerable:!0,get:function(){return A.tupleid}});
Object.defineProperty(ub,"interpolate",{enumerable:!0,get:function(){return Ga.interpolate}});Object.defineProperty(ub,"interpolateColors",{enumerable:!0,get:function(){return Ga.interpolateColors}});Object.defineProperty(ub,"interpolateRange",{enumerable:!0,get:function(){return Ga.interpolateRange}});Object.defineProperty(ub,"quantizeInterpolator",{enumerable:!0,get:function(){return Ga.quantizeInterpolator}});Object.defineProperty(ub,"scale",{enumerable:!0,get:function(){return Ga.scale}});Object.defineProperty(ub,
"scheme",{enumerable:!0,get:function(){return Ga.scheme}});Object.defineProperty(ub,"projection",{enumerable:!0,get:function(){return la.projection}});Object.defineProperty(ub,"View",{enumerable:!0,get:function(){return ra.View}});Object.defineProperty(ub,"defaultLocale",{enumerable:!0,get:function(){return Qa.defaultLocale}});Object.defineProperty(ub,"formatLocale",{enumerable:!0,get:function(){return Qa.numberFormatDefaultLocale}});Object.defineProperty(ub,"locale",{enumerable:!0,get:function(){return Qa.locale}});
Object.defineProperty(ub,"resetDefaultLocale",{enumerable:!0,get:function(){return Qa.resetDefaultLocale}});Object.defineProperty(ub,"timeFormatLocale",{enumerable:!0,get:function(){return Qa.timeFormatDefaultLocale}});Object.defineProperty(ub,"expressionFunction",{enumerable:!0,get:function(){return za.expressionFunction}});Object.defineProperty(ub,"parse",{enumerable:!0,get:function(){return Ta.parse}});Object.defineProperty(ub,"runtimeContext",{enumerable:!0,get:function(){return L.context}});
Object.defineProperty(ub,"codegenExpression",{enumerable:!0,get:function(){return ha.codegen}});Object.defineProperty(ub,"parseExpression",{enumerable:!0,get:function(){return ha.parse}});Object.defineProperty(ub,"parseSelector",{enumerable:!0,get:function(){return ya.selector}});ub.version="5.20.0";Object.keys(r).forEach(function(ua){"default"===ua||ub.hasOwnProperty(ua)||Object.defineProperty(ub,ua,{enumerable:!0,get:function(){return r[ua]}})});Object.keys(xa).forEach(function(ua){"default"===
ua||ub.hasOwnProperty(ua)||Object.defineProperty(ub,ua,{enumerable:!0,get:function(){return xa[ua]}})});Object.keys(ma).forEach(function(ua){"default"===ua||ub.hasOwnProperty(ua)||Object.defineProperty(ub,ua,{enumerable:!0,get:function(){return ma[ua]}})});Object.keys(na).forEach(function(ua){"default"===ua||ub.hasOwnProperty(ua)||Object.defineProperty(ub,ua,{enumerable:!0,get:function(){return na[ua]}})});Object.keys(Ba).forEach(function(ua){"default"===ua||ub.hasOwnProperty(ua)||Object.defineProperty(ub,
ua,{enumerable:!0,get:function(){return Ba[ua]}})})};
shadow$provide[54]=function(Nb,zb,mc,ub){(function(h,r){"object"===typeof ub&&"undefined"!==typeof mc?r(ub):"function"===typeof define&&define.amd?define(["exports"],r):(h="undefined"!==typeof globalThis?globalThis:h||self,r(h.vega={}))})(this,function(h){function r(d,c,f){d.fields=c||[];d.fname=f;return d}function A(d){return null==d?null:d.fields}function Ra(d){return 1===d.length?ya(d[0]):ua(d)}function sb(d){throw Error(d);}function bb(d){function c(){f.push(w+d.substring(G,U));w="";G=U+1}const f=
[],l=d.length;let m=null,q=0,w="",G,U,wa;d+="";for(G=U=0;U<l;++U)(wa=d[U],"\\"===wa)?(w+=d.substring(G,U),w+=d.substring(++U,++U),G=U):wa===m?(c(),m=null,q=-1):m||(G===q&&'"'===wa?(G=U+1,m=wa):G===q&&"'"===wa?(G=U+1,m=wa):"."!==wa||q?"["===wa?(U>G&&c(),q=G=U+1):"]"===wa&&(q||sb("Access path missing open bracket: "+d),0<q&&c(),q=0,G=U+1):U>G?c():G=U+1);q&&sb("Access path missing closing bracket: "+d);m&&sb("Access path missing closing quote: "+d);U>G&&(U++,c());return f}function xb(d,c,f){const l=
bb(d);d=1===l.length?l[0]:d;return r((f&&f.get||Ra)(l),[d],c||d)}function Gb(d,c,f){c=[c].concat([].slice.call(f));console[d].apply(console,c)}function ib(d){return d===Object(d)}function La(d,c,f,l){if("__proto__"!==c){var m;if(ib(f)&&!x(f))for(m in d=ib(d[c])?d[c]:d[c]={},f)l&&(!0===l||l[m])?La(d,m,f[m]):"__proto__"!==m&&(d[m]=f[m]);else d[c]=f}}function Ia(d,c){function f(q){l[q.name]||(l[q.name]=1,m.push(q))}if(null==d)return c;const l={},m=[];c.forEach(f);d.forEach(f);return m}function Sa(d){return d[d.length-
1]}function xa(d){return null==d||""===d?null:+d}function ma(d,c,f,l){const m=f(d[0]);d=f(Sa(d));c*=d-m;return[l(m-c),l(d-c)]}function na(d,c,f,l,m){const q=l(d[0]);d=l(Sa(d));c=null!=c?l(c):(q+d)/2;return[m(c+(q-c)*f),m(c+(d-c)*f)]}function Ba(d){return null!=d?x(d)?d:[d]:[]}function Ga(d){return"function"===typeof d}function la(d){for(let c,f,l=1,m=arguments.length;l<m;++l)for(f in c=arguments[l],c)d[f]=c[f];return d}function ra(d,c){return fa.call(d,c)}function Qa(d){return"[object Date]"===Object.prototype.toString.call(d)}
function za(d){return"number"===typeof d}function Ta(d){return"string"===typeof d}function L(d,c){let f="";for(;0<=--c;)f+=d;return f}function ha(d){return x(d)?"["+d.map(ha)+"]":ib(d)||Ta(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}const ya=d=>function(c){return c[d]},ua=d=>{const c=d.length;return function(f){for(let l=0;l<c;++l)f=f[d[l]];return f}},Ma=xb("id"),Pa=r(d=>d,[],"identity"),Aa=r(()=>0,[],"zero"),ab=r(()=>1,[],"one"),Va=r(()=>!0,[],"true"),I=r(()=>!1,
[],"false");var x=Array.isArray;const M=d=>c=>d*Math.exp(c),K=d=>c=>Math.log(d*c),C=d=>c=>Math.sign(c)*Math.log1p(Math.abs(c/d)),R=d=>c=>Math.sign(c)*Math.expm1(Math.abs(c))*d,aa=d=>c=>0>c?-Math.pow(-c,d):Math.pow(c,d),da=(d,c)=>(d<c||null==d)&&null!=c?-1:(d>c||null==c)&&null!=d?1:(c=c instanceof Date?+c:c,d=d instanceof Date?+d:d)!==d&&c===c?-1:c!==c&&d===d?1:0,Da=(d,c)=>1===d.length?Ja(d[0],c[0]):J(d,c,d.length),Ja=(d,c)=>function(f,l){return da(d(f),d(l))*c},J=(d,c,f)=>{c.push(0);return function(l,
m){var q=0;let w=-1;for(;0===q&&++w<f;)q=d[w],q=da(q(l),q(m));return q*c[w]}},fa=Object.prototype.hasOwnProperty,ca={},W=d=>za(d)?d:Qa(d)?d:Date.parse(d);h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=r;h.accessorFields=A;h.accessorName=function(d){return null==d?null:d.fname};h.array=Ba;h.ascending=da;h.clampRange=function(d,c,f){let l=d[0];d=d[1];let m;d<l&&(m=d,d=l,l=m);m=d-l;return m>=f-c?[c,f]:[l=Math.min(Math.max(l,c),f-m),l+m]};h.compare=function(d,c,f){f=f||{};c=Ba(c)||[];const l=
[],m=[],q={},w=f.comparator||Da;Ba(d).forEach((G,U)=>{null!=G&&(l.push("descending"===c[U]?-1:1),m.push(G=Ga(G)?G:xb(G,null,f)),(A(G)||[]).forEach(wa=>q[wa]=1))});return 0===m.length?null:r(w(m,l),Object.keys(q))};h.constant=function(d){return Ga(d)?d:()=>d};h.debounce=function(d,c){let f;return l=>{f&&clearTimeout(f);f=setTimeout(()=>(c(l),f=null),d)}};h.error=sb;h.extend=la;h.extent=function(d,c){let f=0,l,m,q,w;if(d&&(l=d.length))if(null==c){for(m=d[f];f<l&&(null==m||m!==m);m=d[++f]);for(q=w=m;f<
l;++f)m=d[f],null!=m&&(m<q&&(q=m),m>w&&(w=m))}else{for(m=c(d[f]);f<l&&(null==m||m!==m);m=c(d[++f]));for(q=w=m;f<l;++f)m=c(d[f]),null!=m&&(m<q&&(q=m),m>w&&(w=m))}return[q,w]};h.extentIndex=function(d,c){const f=d.length;let l=-1,m,q,w,G,U;if(null==c){for(;++l<f;)if(q=d[l],null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=d[l],null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}else{for(;++l<f;)if(q=c(d[l],l,d),null!=q&&q>=q){m=w=q;break}if(l===f)return[-1,-1];for(G=U=l;++l<f;)q=c(d[l],l,d),
null!=q&&(m>q&&(m=q,G=l),w<q&&(w=q,U=l))}return[G,U]};h.falsy=I;h.fastmap=function(d){function c(q){return ra(f,q)&&f[q]!==ca}let f={},l;const m={size:0,empty:0,object:f,has:c,get(q){return c(q)?f[q]:void 0},set(q,w){c(q)||(++m.size,f[q]===ca&&--m.empty);f[q]=w;return this},delete(q){c(q)&&(--m.size,++m.empty,f[q]=ca);return this},clear(){m.size=m.empty=0;m.object=f={}},test(q){return arguments.length?(l=q,m):l},clean(){const q={};let w=0;for(const G in f){const U=f[G];U===ca||l&&l(U)||(q[G]=U,++w)}m.size=
w;m.empty=0;m.object=f=q}};d&&Object.keys(d).forEach(q=>{m.set(q,d[q])});return m};h.field=xb;h.flush=function(d,c,f,l,m,q){if(!f&&0!==f)return q;f=+f;let w=d[0],G=Sa(d);G<w&&(d=w,w=G,G=d);d=Math.abs(c-w);c=Math.abs(G-c);return d<c&&d<=f?l:c<=f?m:q};h.hasOwnProperty=ra;h.id=Ma;h.identity=Pa;h.inherits=function(d,c,f){c=d.prototype=Object.create(c.prototype);Object.defineProperty(c,"constructor",{value:d,writable:!0,enumerable:!0,configurable:!0});return la(c,f)};h.inrange=function(d,c,f,l){let m=
c[0];c=c[c.length-1];let q;m>c&&(q=m,m=c,c=q);return(void 0===f||f?m<=d:m<d)&&(void 0===l||l?d<=c:d<c)};h.isArray=x;h.isBoolean=function(d){return"boolean"===typeof d};h.isDate=Qa;h.isFunction=Ga;h.isIterable=function(d){return d&&Ga(d[Symbol.iterator])};h.isNumber=za;h.isObject=ib;h.isRegExp=function(d){return"[object RegExp]"===Object.prototype.toString.call(d)};h.isString=Ta;h.key=function(d,c,f){d&&(d=c?Ba(d).map(q=>q.replace(/\\(.)/g,"$1")):Ba(d));const l=d&&d.length,m=f&&f.get||Ra;f=q=>m(c?
[q]:bb(q));if(l)if(1===l){const q=f(d[0]);f=function(w){return""+q(w)}}else{const q=d.map(f);f=function(w){let G=""+q[0](w),U=0;for(;++U<l;)G+="|"+q[U](w);return G}}else f=function(){return""};return r(f,d,"key")};h.lerp=function(d,c){const f=d[0];d=Sa(d);return(c=+c)?1===c?d:f+c*(d-f):f};h.logger=function(d,c){let f=d||0;return{level(l){return arguments.length?(f=+l,this):f},error(){1<=f&&Gb(c||"error","ERROR",arguments);return this},warn(){2<=f&&Gb(c||"warn","WARN",arguments);return this},info(){3<=
f&&Gb(c||"log","INFO",arguments);return this},debug(){4<=f&&Gb(c||"log","DEBUG",arguments);return this}}};h.lruCache=function(d){d=+d||1E4;let c,f,l;const m=()=>{c={};f={};l=0},q=(w,G)=>{++l>d&&(f=c,c={},l=1);return c[w]=G};m();return{clear:m,has:w=>ra(c,w)||ra(f,w),get:w=>ra(c,w)?c[w]:ra(f,w)?q(w,f[w]):void 0,set:(w,G)=>ra(c,w)?c[w]=G:q(w,G)}};h.merge=function(d,c,f,l){const m=c.length,q=f.length;if(!q)return c;if(!m)return f;l=l||new c.constructor(m+q);let w=0,G=0,U=0;for(;w<m&&G<q;++U)l[U]=0<d(c[w],
f[G])?f[G++]:c[w++];for(;w<m;++w,++U)l[U]=c[w];for(;G<q;++G,++U)l[U]=f[G];return l};h.mergeConfig=function(...d){return d.reduce((c,f)=>{for(const l in f)"signals"===l?c.signals=Ia(c.signals,f.signals):La(c,l,f[l],"legend"===l?{layout:1}:"style"===l?!0:null);return c},{})};h.one=ab;h.pad=function(d,c,f,l){f=f||" ";d+="";c-=d.length;return 0>=c?d:"left"===l?L(f,c)+d:"center"===l?L(f,~~(c/2))+d+L(f,Math.ceil(c/2)):d+L(f,c)};h.panLinear=function(d,c){return ma(d,c,xa,Pa)};h.panLog=function(d,c){var f=
Math.sign(d[0]);return ma(d,c,K(f),M(f))};h.panPow=function(d,c,f){return ma(d,c,aa(f),aa(1/f))};h.panSymlog=function(d,c,f){return ma(d,c,C(f),R(f))};h.peek=Sa;h.quarter=function(d){return 1+~~((new Date(d)).getMonth()/3)};h.repeat=L;h.span=function(d){return d&&Sa(d)-d[0]||0};h.splitAccessPath=bb;h.stringValue=ha;h.toBoolean=function(d){return null==d||""===d?null:d&&"false"!==d&&"0"!==d?!!d:!1};h.toDate=function(d,c){c=c||W;return null==d||""===d?null:c(d)};h.toNumber=xa;h.toSet=function(d){const c=
{},f=d.length;for(let l=0;l<f;++l)c[d[l]]=!0;return c};h.toString=function(d){return null==d||""===d?null:d+""};h.truncate=function(d,c,f,l){l=null!=l?l:"…";d+="";const m=d.length,q=Math.max(0,c-l.length);return m<=c?d:"left"===f?l+d.slice(m-q):"center"===f?d.slice(0,Math.ceil(q/2))+l+d.slice(m-~~(q/2)):d.slice(0,q)+l};h.truthy=Va;h.utcquarter=function(d){return 1+~~((new Date(d)).getUTCMonth()/3)};h.visitArray=function(d,c,f){if(d)if(c){const l=d.length;for(let m=0;m<l;++m){const q=c(d[m]);q&&f(q,
m,d)}}else d.forEach(f)};h.writeConfig=La;h.zero=Aa;h.zoomLinear=function(d,c,f){return na(d,c,f,xa,Pa)};h.zoomLog=function(d,c,f){const l=Math.sign(d[0]);return na(d,c,f,K(l),M(l))};h.zoomPow=function(d,c,f,l){return na(d,c,f,aa(l),aa(1/l))};h.zoomSymlog=function(d,c,f,l){return na(d,c,f,C(l),R(l))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[55]=function(Nb,zb,mc,ub){var h=zb(12).Buffer;(function(r,A){"object"===typeof ub&&"undefined"!==typeof mc?A(ub,zb(54),zb(53)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega"],A):(r="undefined"!==typeof globalThis?globalThis:r||self,A(r.vegaLite={},r.vega,r.vega))})(this,function(r,A,Ra){function sb(b,p){if(b.not)sb(b.not,p);else if(b.and)for(const a of b.and)sb(a,p);else if(b.or)for(const a of b.or)sb(a,p);else p(b)}function bb(b,p){return b.not?{not:bb(b.not,
p)}:b.and?{and:b.and.map(a=>bb(a,p))}:b.or?{or:b.or.map(a=>bb(a,p))}:p(b)}function xb(b,p){const a={};for(const g of p)A.hasOwnProperty(b,g)&&(a[g]=b[g]);return a}function Gb(b,p){b=Object.assign({},b);for(const a of p)delete b[a];return b}function ib(b){if(A.isNumber(b))return b;b=A.isString(b)?b:Li(b);if(250>b.length)return b;let p=0;for(let a=0;a<b.length;a++){const g=b.charCodeAt(a);p=(p<<5)-p+g;p&=p}return p}function La(b){return!1===b||null===b}function Ia(b,p){return b.includes(p)}function Sa(b,
p){let a=0;for(const g of b.entries()){const [n,v]=g;if(p(v,n,a++))return!0}return!1}function xa(b,p){let a=0;for(const g of b.entries()){const [n,v]=g;if(!p(v,n,a++))return!1}return!0}function ma(b,...p){for(const g of p){p=b;var a=null!==g&&void 0!==g?g:{};for(const n of jd(a))A.writeConfig(p,n,a[n],!0)}return b}function na(b,p){const a=[],g={};for(const n of b)b=p(n),b in g||(g[b]=1,a.push(n));return a}function Ba(b,p){if(b.size!==p.size)return!1;for(const a of b)if(!p.has(a))return!1;return!0}
function Ga(b,p){for(const a of b)if(p.has(a))return!0;return!1}function la(b){const p=new Set;for(const a of b){const g=A.splitAccessPath(a).map((n,v)=>0===v?n:`[${n}]`);b=g.map((n,v)=>g.slice(0,v+1).join(""));for(const n of b)p.add(n)}return p}function ra(b,p){return void 0===b||void 0===p?!0:Ga(la(b),la(p))}function Qa(b){return 0===jd(b).length}function za(b){return!0===b||!1===b}function Ta(b){const p=b.replace(/\W/g,"_");return(b.match(/^\d+/)?"_":"")+p}function L(b,p){return b.not?`!(${L(b.not,
p)})`:b.and?`(${b.and.map(a=>L(a,p)).join(") \x26\x26 (")})`:b.or?`(${b.or.map(a=>L(a,p)).join(") || (")})`:p(b)}function ha(b,p){if(0===p.length)return!0;const a=p.shift();a in b&&ha(b[a],p)&&delete b[a];return Qa(b)}function ya(b){return b.charAt(0).toUpperCase()+b.substr(1)}function ua(b,p){p=void 0===p?"datum":p;b=A.splitAccessPath(b);const a=[];for(let g=1;g<=b.length;g++){const n=`[${b.slice(0,g).map(A.stringValue).join("][")}]`;a.push(`${p}${n}`)}return a.join(" \x26\x26 ")}function Ma(b,p){return`${void 0===
p?"datum":p}[${A.stringValue(A.splitAccessPath(b).join("."))}]`}function Pa(b){return b.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Aa(b){return`${A.splitAccessPath(b).map(Pa).join("\\.")}`}function ab(b,p,a){return b.replace(new RegExp(p.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),a)}function Va(b){return`${A.splitAccessPath(b).join(".")}`}function I(b){return b?A.splitAccessPath(b).length:0}function x(...b){for(const p of b)if(void 0!==p)return p}function M(b){const p=++Eh;return b?String(b)+
p:p}function K(b){return C(b)?b:`__${b}`}function C(b){return b.startsWith("__")}function R(b){if(void 0!==b)return(b%360+360)%360}function aa(b){return A.isNumber(b)?!0:!isNaN(b)&&!isNaN(parseFloat(b))}function da(b){switch(b){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Da(b){return"color"===b||"fill"===b||"stroke"===b}function Ja(b){return J(b)!==b}function J(b){switch(b){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return b}function fa(b){if(b in Mi)switch(b){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return b}function ca(b){switch(b){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function W(b){switch(b){case "x":case "x2":return"width";
case "y":case "y2":return"height"}}function d(b){switch(b){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function c(b){return"width"===b?"x":"y"}function f(b){switch(b){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return xg;
case "x":case "y":case "latitude":case "longitude":return el;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",
rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function l(b){switch(b){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function m(b){return!!b&&!!b.argmin}function q(b){return!!b&&!!b.argmax}function w(b){return A.isString(b)&&!!ok[b]}function G(b){return A.isString(b)&&fl.includes(b)}function U(b){A.isBoolean(b)&&(b=Pe(b,void 0));return"bin"+jd(b).map(p=>hb(b[p])?Ta(`_${p}_${ag(b[p])}`):Ta(`_${p}_${b[p]}`)).join("")}function wa(b){return!0===b||A.isObject(b)&&!b.binned}function cb(b){return"binned"===b||A.isObject(b)&&!0===b.binned}function hb(b){return null===
b||void 0===b?void 0:b.param}function Y(b){switch(b){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function ta(b){return b&&!!b.expr}function H(b){const p=jd(b||{}),a={};for(const g of p)a[g]=Na(b[g]);return a}function Q(b){var p=Object.assign({},b),a=b.anchor;const g=b.frame,n=b.offset,v=b.orient;var z=b.color,E=b.subtitleColor,
ea=b.subtitleFont;const Ea=b.subtitleFontSize,Wa=b.subtitleFontStyle,fb=b.subtitleFontWeight,Jb=b.subtitleLineHeight;b=b.subtitlePadding;p=(delete p.anchor,delete p.frame,delete p.offset,delete p.orient,delete p.color,delete p.subtitleColor,delete p.subtitleFont,delete p.subtitleFontSize,delete p.subtitleFontStyle,delete p.subtitleFontWeight,delete p.subtitleLineHeight,delete p.subtitlePadding,p);z=Object.assign({},p,z?{fill:z}:{});a=Object.assign({},a?{anchor:a}:{},g?{frame:g}:{},n?{offset:n}:{},
v?{orient:v}:{});E=Object.assign({},E?{subtitleColor:E}:{},ea?{subtitleFont:ea}:{},Ea?{subtitleFontSize:Ea}:{},Wa?{subtitleFontStyle:Wa}:{},fb?{subtitleFontWeight:fb}:{},Jb?{subtitleLineHeight:Jb}:{},b?{subtitlePadding:b}:{});ea=xb(z,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:z,subtitleMarkConfig:ea,nonMark:a,subtitle:E}}function ja(b){return A.isString(b)||A.isArray(b)&&A.isString(b[0])}function Ca(b){return b&&!!b.signal}function qb(b){return!!b.step}function Ya(b){return A.isArray(b)?
!1:"field"in b&&"data"in b}function ob(b){const p=A.isArray(b.condition)?b.condition.map(Ab):Ab(b.condition);return Object.assign({},Na(b),{condition:p})}function Na(b){if(ta(b)){var p=Object.assign({},b);b=b.expr;p=(delete p.expr,p);return Object.assign({},{signal:b},p)}return b}function Ab(b){if(ta(b)){var p=Object.assign({},b);b=b.expr;p=(delete p.expr,p);return Object.assign({},{signal:b},p)}return b}function Eb(b){if(ta(b)){var p=Object.assign({},b);b=b.expr;p=(delete p.expr,p);return Object.assign({},
{signal:b},p)}return Ca(b)?b:void 0!==b?{value:b}:void 0}function eb(b){return Ca(b)?b.signal:A.stringValue(b.value)}function Mb(b){return Ca(b)?b.signal:null==b?null:A.stringValue(b)}function jc(b){var p;return[].concat(b.type,null!==(p=b.style)&&void 0!==p?p:[])}function Zb(b,p,a,g){g=void 0===g?{}:g;const {vgChannel:n,ignoreVgConfig:v}=g;if(n&&void 0!==p[n])return p[n];if(void 0!==p[b])return p[b];if(!v||n&&n!==b)return Hc(b,p,a,g)}function Hc(b,p,a,g){({vgChannel:g}=void 0===g?{}:g);return x(g?
zc(b,p,a.style):void 0,zc(b,p,a.style),g?a[p.type][g]:void 0,a[p.type][b],g?a.mark[g]:a.mark[b])}function zc(b,p,a){return ed(b,jc(p),a)}function ed(b,p,a){p=A.array(p);let g;for(const n of p)(p=a[n])&&void 0!==p[b]&&(g=p[b]);return g}function Ad(b,p){return A.array(b).reduce((a,g)=>{var n;a.field.push(Ob(g,p));a.order.push(null!==(n=g.sort)&&void 0!==n?n:"ascending");return a},{field:[],order:[]})}function Gc(b,p){const a=[...b];p.forEach(g=>{for(const n of a)if(zf(n,g))return;a.push(g)});return a}
function gd(b,p){return zf(b,p)||!p?b:b?[...A.array(b),...A.array(p)].join(", "):p}function ie(b,p){const a=b.value;p=p.value;if(null==a||null===p)return{explicit:b.explicit,value:null};if((ja(a)||Ca(a))&&(ja(p)||Ca(p)))return{explicit:b.explicit,value:gd(a,p)};if(ja(a)||Ca(a))return{explicit:b.explicit,value:a};if(ja(p)||Ca(p))return{explicit:b.explicit,value:p};if(!(ja(a)||Ca(a)||ja(p)||Ca(p)))return{explicit:b.explicit,value:Gc(a,p)};throw Error("It should never reach here");}function Mc(b,p,a){p in
b?Object.defineProperty(b,p,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[p]=a;return b}function xd(b,p,a){p=Rd(b,p,"set");if(p.set)p.set.call(b,a);else{if(!p.writable)throw new TypeError("attempted to set read only private field");p.value=a}return a}function Rd(b,p,a){if(!p.has(b))throw new TypeError("attempted to "+a+" private field on non-instance");return p.get(b)}function Db(b){return`Invalid specification ${We(b)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function ac(b){return`${"width"==b?"Width":"Height"} "container" only works for single views and layered views.`}function kb(b){return`${"width"==b?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==b?"x":"y"}".`}function oc(b){return b?`Dropping "fit-${b}" because spec has discrete ${W(b)}.`:'Dropping "fit" because spec has discrete size.'}function sc(b){return`Unknown field for ${b}. Cannot calculate view size.`}function dd(b){return`Cannot project a selection on encoding channel "${b}", which has no field.`}
function vd(b){return`Selection not supported for ${b} yet.`}function N(b){return`The "columns" property cannot be used when "${b}" has nested row/column.`}function oa(b,p,a){return`An ancestor parsed field "${b}" as ${a} but a child wants to parse the field as ${p}.`}function $a(b){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${b} are dropped.`}function wb(b,p){const {fill:a,stroke:g}=p;return`Dropping color ${b} as the plot also has ${a&&g?"fill and stroke":
a?"fill":"stroke"}.`}function Fb(b,p){return`Dropping ${We(b)} from channel "${p}" since it does not contain any data field, datum, value, or signal.`}function Kb(b,p,a){return`${b} dropped as it is incompatible with "${p}"${a?` when ${a}`:""}.`}function ec(b,p){return`Using discrete channel "${b}" to encode "${p}" field can be misleading as it does not encode ${"ordinal"===p?"order":"magnitude"}.`}function Wb(b,p,a){return`${a}-scale's "${p}" is dropped as it does not work with ${b} scale.`}function vc(b){return`The step for "${b}" is dropped because the ${"width"===
b?"x":"y"} is continuous.`}function Fc(b,p){return`Invalid ${b}: ${We(p)}.`}function va(b){return`1D error band does not support ${b}.`}function Za(b){return`Channel ${b} is required for "binned" bin.`}function pb(...b){Fh.warn(...b)}function Ub(b){if(b&&A.isObject(b))for(const p of Gh)if(p in b)return!0;return!1}function wc(b){aa(b)&&(b=+b);if(A.isNumber(b))return b-1;var p=b.toLowerCase();const a=pg.indexOf(p);if(-1!==a)return a;p=p.substr(0,3);p=Fg.indexOf(p);if(-1!==p)return p;throw Error(Fc("month",
b));}function Cc(b){aa(b)&&(b=+b);if(A.isNumber(b))return b%7;var p=b.toLowerCase();const a=Wg.indexOf(p);if(-1!==a)return a;p=p.substr(0,3);p=Ni.indexOf(p);if(-1!==p)return p;throw Error(Fc("day",b));}function Jc(b,p){const a=[];p&&void 0!==b.day&&1<jd(b).length&&(pb(`Dropping day from datetime ${We(b)} as day cannot be combined with other units.`),b=xe(b),delete b.day);void 0!==b.year?a.push(b.year):a.push(2012);if(void 0!==b.month){var g=p?wc(b.month):b.month;a.push(g)}else if(void 0!==b.quarter){if(p)if(g=
b.quarter,aa(g)&&(g=+g),A.isNumber(g))4<g&&pb(Fc("quarter",g)),--g;else throw Error(Fc("quarter",g));else g=b.quarter;a.push(A.isNumber(g)?3*g:`${g}*3`)}else a.push(0);void 0!==b.date?a.push(b.date):void 0!==b.day?(p=p?Cc(b.day):b.day,a.push(A.isNumber(p)?p+1:`${p}+1`)):a.push(1);for(const n of["hours","minutes","seconds","milliseconds"])p=b[n],a.push("undefined"===typeof p?0:p);return a}function Cb(b){const p=Jc(b,!0).join(", ");return b.utc?`utc(${p})`:`datetime(${p})`}function Vb(b){const p=Jc(b,
!0);return b.utc?+new Date(Date.UTC(...p)):+new Date(...p)}function nc(b){return Gh.filter(p=>lc(b,p))}function lc(b,p){const a=b.indexOf(p);return 0>a||0<a&&"seconds"===p&&"i"===b.charAt(a-1)||b.length>a+3&&"day"===p&&"o"===b.charAt(a+3)||0<a&&"year"===p&&"f"===b.charAt(a-1)?!1:!0}function rc(b){if(b)return b=nc(b),`timeUnitSpecifier(${We(b)}, ${We(Oi)})`}function Vc(b){if(b){var p;A.isString(b)?p={unit:b}:A.isObject(b)&&(p=Object.assign({},b,b.unit?{unit:b.unit}:{}));p.unit.startsWith("utc")&&(p.utc=
!0,p.unit=p.unit.substr(3));return p}}function zd(b){var p=Vc(b);b=Object.assign({},p);p=p.utc;const a=(delete b.utc,b);return a.unit?(p?"utc":"")+jd(a).map(g=>Ta(`${"unit"===g?"":`_${g}_`}${a[g]}`)).join(""):(p?"utc":"")+"timeunit"+jd(a).map(g=>Ta(`_${g}_${a[g]}`)).join("")}function pd(b){return b&&!!b.field&&void 0!==b.equal}function ld(b){return b&&!!b.field&&void 0!==b.lt}function qd(b){return b&&!!b.field&&void 0!==b.lte}function Od(b){return b&&!!b.field&&void 0!==b.gt}function fe(b){return b&&
!!b.field&&void 0!==b.gte}function le(b){return b&&b.field&&(A.isArray(b.range)&&2===b.range.length||Ca(b.range))?!0:!1}function Kd(b){return b&&!!b.field&&(A.isArray(b.oneOf)||A.isArray(b.in))}function Ie(b){return Kd(b)||pd(b)||le(b)||ld(b)||Od(b)||qd(b)||fe(b)}function he(b,p){return Kf(b,{timeUnit:p,wrapTime:!0})}function Be(b,p){return b.map(a=>he(a,p))}function Dd(b,p){p=void 0===p?!0:p;var a,{field:g}=b;const n=null===(a=Vc(b.timeUnit))||void 0===a?void 0:a.unit;if(n){({end:a}={end:!1});g=
ua(g);const E=n.startsWith("utc")?"utc":"";const ea={};for(z of Gh)if(lc(n,z)){var v="quarter"===z?`(${E}quarter(${g})-1)`:`${E}${z}(${g})`;ea[z]=v;v=z}a&&(ea[v]+="+1");var z=ea;a=Jc(z,!1).join(", ");z=`time(${z.utc?`utc(${a})`:`datetime(${a})`})`}else z=Ob(b,{expr:"datum"});if(pd(b))return`${z}===${he(b.equal,n)}`;if(ld(b))return`${z}<${he(b.lt,n)}`;if(Od(b))return`${z}>${he(b.gt,n)}`;if(qd(b))return`${z}<=${he(b.lte,n)}`;if(fe(b))return`${z}>=${he(b.gte,n)}`;if(Kd(b))return`indexof([${Be(b.oneOf,
n).join(",")}], ${z}) !== -1`;if(b&&b.field&&void 0!==b.valid)return be(z,b.valid);if(le(b)){({range:a}=b);b=Ca(a)?{signal:`${a.signal}[0]`}:a[0];a=Ca(a)?{signal:`${a.signal}[1]`}:a[1];if(null!==b&&null!==a&&p)return"inrange("+z+", ["+he(b,n)+", "+he(a,n)+"])";p=[];null!==b&&p.push(`${z} >= ${he(b,n)}`);null!==a&&p.push(`${z} <= ${he(a,n)}`);return 0<p.length?p.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${We(b)}`);}function be(b,p){return void 0===p||p?`isValid(${b}) && isFinite(+${b})`:
`!isValid(${b}) || !isFinite(+${b})`}function V(b){if(Ie(b)&&b.timeUnit){var p;return Object.assign({},b,{timeUnit:null===(p=Vc(b.timeUnit))||void 0===p?void 0:p.unit})}return b}function qa(b){if(b)switch(b=b.toLowerCase(),b){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Fa(b){return null===b||void 0===b?void 0:b.param}function rb(b,
p){switch(p){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(b);case "bins":return!["point","band","identity","ordinal"].includes(b);case "round":return b in of||"band"===b||"point"===b;case "padding":case "rangeMin":case "rangeMax":return b in of||["point","band"].includes(b);case "paddingOuter":case "align":return["point","band"].includes(b);case "paddingInner":return"band"===b;case "domainMax":case "domainMid":case "domainMin":case "clamp":return b in
of;case "nice":return b in of||"quantize"===b||"threshold"===b;case "exponent":return"pow"===b;case "base":return"log"===b;case "constant":return"symlog"===b;case "zero":return b in Qf&&!Ia(["log","time","utc","threshold","quantile"],b)}}function gb(b,p){switch(p){case "interpolate":case "scheme":case "domainMid":if(!Da(b))return`Cannot use the scale property "${b}" with non-color channel.`}}function Lb(b,p){if(!Rf[b])return!1;switch(b){case "x":case "y":case "theta":case "radius":return p in of||
Ia(["band","point"],p);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return p in of||p in Xg||Ia(["band","point","ordinal"],p);case "color":case "fill":case "stroke":return"band"!==p;case "strokeDash":case "shape":return"ordinal"===p||p in Xg}}function Rb(b){return["line","area","trail"].includes(b)}function kc(b){return b.type}function Zc(b){return b&&void 0!=b.band}function Bc(b){const {channel:p,channelDef:a,markDef:g,scale:n,config:v}=b;b=Xb(b);
return hd(a)&&!G(a.aggregate)&&n&&n.get("type")in of&&!1===n.get("zero")?Nc({fieldDef:a,channel:p,markDef:g,ref:b,config:v}):b}function Nc(b){var {fieldDef:p,channel:a,markDef:g,ref:n,config:v}=b;if(Rb(g.type)||null===Zb("invalid",g,v))return n;b=Yb(p,!0);const z="y"===J(a)?{field:{group:"height"}}:{value:0};return[Object.assign({},{test:b},z),n]}function Yb(b,p){p=void 0===p?!0:p;return be(A.isString(b)?b:Ob(b,{expr:"datum"}),!p)}function nd(b,p,a,g){const n={};p&&(n.scale=p);Ee(b)?({datum:b}=b,
Ub(b)?n.signal=Cb(b):Ca(b)?n.signal=b.signal:ta(b)?n.signal=b.expr:n.value=b):n.field=Ob(b,a);if(g){const {offset:v,band:z}=g;v&&(n.offset=v);z&&(n.band=z)}return n}function cd(b){var {scaleName:p,fieldOrDatumDef:a,fieldOrDatumDef2:g,offset:n,startSuffix:v,bandPosition:z=.5}=b,E=0<z&&1>z?"datum":void 0;b=Ob(a,{expr:E,suffix:v});const ea=void 0!==g?Ob(g,{expr:E}):Ob(a,{suffix:"end",expr:E});E={};0===z||1===z?(E.scale=p,E.field=0===z?b:ea):(b=Ca(z)?`${z.signal} * ${b} + (1-${z.signal}) * ${ea}`:`${z} * ${b} + ${1-
z} * ${ea}`,E.signal=`scale("${p}", ${b})`);n&&(E.offset=n);return E}function Xb(b){var {channel:p,channelDef:a,channel2Def:g,markDef:n,config:v,scaleName:z,scale:E,stack:ea,offset:Ea,defaultRef:Wa,bandPosition:fb}=b;if(a){if(yd(a)){var Jb,xc;if(F(a)){var ic;null!==(ic=fb)&&void 0!==ic?ic:fb=Yd({fieldDef:a,fieldDef2:g,markDef:n,config:v});const {bin:tc,timeUnit:Rc,type:bd}=a;if(wa(tc)||fb&&Rc&&"temporal"===bd)return ea&&ea.impute?nd(a,z,{binSuffix:"mid"},{offset:Ea}):fb?cd({scaleName:z,fieldOrDatumDef:a,
bandPosition:fb,offset:Ea}):nd(a,z,cf(a,p)?{binSuffix:"range"}:{},{offset:Ea});if(cb(tc)){if(hd(g))return cd({scaleName:z,fieldOrDatumDef:a,fieldOrDatumDef2:g,bandPosition:fb,offset:Ea});pb(Za("x"===p?"x2":"y2"))}}b=null===E||void 0===E?void 0:E.get("type");return nd(a,z,b in Hf?{binSuffix:"range"}:{},{offset:Ea,band:"band"===b?null!==(Jb=null!==(xc=fb)&&void 0!==xc?xc:a.bandPosition)&&void 0!==Jb?Jb:.5:void 0})}if(X(a))return Jb=Ea?{offset:Ea}:{},Object.assign({},oe(p,a.value),Jb)}A.isFunction(Wa)&&
(Wa=Wa());return Wa?Object.assign({},Wa,Ea?{offset:Ea}:{}):Wa}function oe(b,p){return Ia(["x","x2"],b)&&"width"===p?{field:{group:"width"}}:Ia(["y","y2"],b)&&"height"===p?{field:{group:"height"}}:Eb(p)}function od(b){return b&&"number"!==b&&"time"!==b}function de(b){var {fieldOrDatumDef:p,format:a,formatType:g,expr:n,normalizeStack:v,config:z}=b;if(od(g))return ue({fieldOrDatumDef:p,format:a,formatType:g,expr:n,config:z});b=ne(p,n,v);if(ef(p)){var E,ea;var Ea=hd(p)?null===(E=Vc(p.timeUnit))||void 0===
E?void 0:E.unit:void 0,Wa=a,fb=z.timeFormat;E=Oa(p)&&(null===(ea=p.scale)||void 0===ea?void 0:ea.type)===Af.UTC;!Ea||Wa?(Wa=A.isString(Wa)?Wa:fb,b=`${E?"utc":"time"}Format(${b}, '${Wa}')`):Ea?(ea=rc(Ea),b=`${E||Ea.startsWith("utc")?"utc":"time"}Format(${b}, ${ea})`):b=void 0;return b?{signal:b}:void 0}a=Qd(Ce(p),a,z);return hd(p)&&wa(p.bin)?(ea=Ob(p,{expr:n,binSuffix:"end"}),{signal:$d(b,ea,a,g,z)}):a||"quantitative"===Ce(p)?{signal:`${`format(${b}, "${a||""}")`}`}:{signal:`isValid(${b}) ? ${b} : ""+${b}`}}
function ne(b,p,a){if(hd(b))return a?`${Ob(b,{expr:p,suffix:"end"})}-${Ob(b,{expr:p,suffix:"start"})}`:Ob(b,{expr:p});({datum:b}=b);b=Ub(b)?Cb(b):`${We(b)}`;return b}function ue(b){var {fieldOrDatumDef:p,format:a,formatType:g,expr:n,normalizeStack:v,config:z,field:E}=b,ea;null!==(ea=E)&&void 0!==ea?ea:E=ne(p,n,v);return hd(p)&&wa(p.bin)?(b=Ob(p,{expr:n,binSuffix:"end"}),{signal:$d(E,b,a,g,z)}):{signal:`${g}(${E}${a?`, ${We(a)}`:""})`}}function qf(b,p,a,g,n,v){if(!od(g)){if(ef(b)){var z;b=hd(b)?null===
(z=Vc(b.timeUnit))||void 0===z?void 0:z.unit:void 0;a=a?a:b?{signal:rc(b)}:v?void 0:n.timeFormat;return a}return Qd(p,a,n)}}function gf(b,p,a){if(b&&(Ca(b)||"number"===b||"time"===b))return b;if(ef(p)&&"time"!==a&&"utc"!==a)return"time"}function Qd(b,p,a){if(A.isString(p))return p;if("quantitative"===b)return a.numberFormat}function bc(b,p,a,g){var n;if(od(a))return`${a}(${b}${p?`, ${We(p)}`:""})`;p=null!==(n=A.isString(p)?p:void 0)&&void 0!==n?n:g.numberFormat;return`format(${b}, "${p||""}")`}function $d(b,
p,a,g,n){const v=bc(b,a,g,n);p=bc(p,a,g,n);return`${be(b,!1)} ? "null" : ${v} + "${" – "}" + ${p}`}function fc(b){return!!b&&("count"===b.op||!!b.field)}function Wc(b){return!!b&&A.isArray(b)}function Ud(b){return"row"in b||"column"in b}function Je(b){const {field:p,timeUnit:a,bin:g,aggregate:n}=b;return Object.assign({},a?{timeUnit:a}:{},g?{bin:g}:{},n?{aggregate:n}:{},{field:p})}function Yd(b){var {fieldDef:p,fieldDef2:a,markDef:g,config:n}=b;if(yd(p)&&void 0!==p.bandPosition)return p.bandPosition;
if(hd(p)){const {timeUnit:v,bin:z}=p;if(v&&!a)return["rect","bar","image","arc"].includes(g.type)?0:Hc("timeUnitBandPosition",g,n);if(wa(z))return.5}}function je(b){var {channel:p,fieldDef:a,fieldDef2:g,markDef:n,config:v,scaleType:z,useVlSizeChannel:E}=b;b=W(p);b=Zb(E?"size":b,n,v,{vgChannel:b});if(void 0!==b)return b;if(hd(a)){const {timeUnit:fb,bin:Jb}=a;if(fb&&!g)return{band:Hc("timeUnitBandSize",n,v)};if(wa(Jb)&&!(z in Hf))return{band:1}}if(["rect","bar","image","arc"].includes(n.type)){var ea;
if(z){if(z in Hf){var Ea;return(null===(Ea=v[n.type])||void 0===Ea?void 0:Ea.discreteBandSize)||{band:1}}var Wa;return null===(Wa=v[n.type])||void 0===Wa?void 0:Wa.continuousBandSize}return null===(ea=v[n.type])||void 0===ea?void 0:ea.discreteBandSize}}function Ke(b,p,a,g){return wa(b.bin)||b.timeUnit&&F(b)&&"temporal"===b.type?void 0!==Yd({fieldDef:b,fieldDef2:p,markDef:a,config:g}):!1}function Cd(b){return!!b&&"condition"in b}function rd(b){b=b&&b.condition;return!!b&&!A.isArray(b)&&hd(b)}function we(b){b=
b&&b.condition;return!!b&&!A.isArray(b)&&yd(b)}function hd(b){return!!b&&(!!b.field||"count"===b.aggregate)}function Ce(b){return b&&b.type}function Ee(b){return!!b&&"datum"in b}function ve(b){return F(b)&&!Xc(b)||Fe(b)}function Fe(b){return Ee(b)&&A.isNumber(b.datum)}function yd(b){return hd(b)||Ee(b)}function F(b){return!!b&&("field"in b||"count"===b.aggregate)&&"type"in b}function X(b){return b&&"value"in b&&"value"in b}function Oa(b){return!!b&&("scale"in b||"sort"in b)}function Hb(b){return b&&
("axis"in b||"stack"in b||"impute"in b)}function Tb(b){return!!b&&("format"in b||"formatType"in b)}function Sb(b){return Gb(b,["legend","axis","header","scale"])}function Ob(b,p){p=void 0===p?{}:p;let a=b.field;const g=p.prefix;let n=p.suffix,v="";if("count"===b.aggregate)a=K("count");else{let Ea;if(!p.nofn)if("op"in b)Ea=b.op;else{const {bin:Wa,aggregate:fb,timeUnit:Jb}=b;if(wa(Wa)){var z,E;Ea=U(Wa);n=(null!==(z=p.binSuffix)&&void 0!==z?z:"")+(null!==(E=p.suffix)&&void 0!==E?E:"")}else if(fb)q(fb)?
(v=`["${a}"]`,a=`argmax_${fb.argmax}`):m(fb)?(v=`["${a}"]`,a=`argmin_${fb.argmin}`):Ea=String(fb);else if(Jb){var ea;Ea=zd(Jb);n=(!["range","mid"].includes(p.binSuffix)&&p.binSuffix||"")+(null!==(ea=p.suffix)&&void 0!==ea?ea:"")}}Ea&&(a=a?`${Ea}_${a}`:Ea)}n&&(a=`${a}_${n}`);g&&(a=`${g}_${a}`);return p.forAs?Va(a):p.expr?Ma(a,p.expr)+v:Aa(a)+v}function Xc(b){switch(b.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return hd(b)&&!!b.bin;case "temporal":return!1}throw Error(`Invalid field type "${b.type}".`);
}function Sc(b,p){const {field:a,bin:g,timeUnit:n,aggregate:v}=b;if("count"===v)return p.countTitle;if(wa(g))return`${a} (binned)`;if(n){var z;if(b=null===(z=Vc(n))||void 0===z?void 0:z.unit)return`${a} (${nc(b).join("-")})`}else if(v)return q(v)?`${a} for max ${v.argmax}`:m(v)?`${a} for min ${v.argmin}`:`${ya(v)} of ${a}`;return a}function ud(b,p,a){var {allowDisabling:g,includeDefault:n=!0}=a,v;a=null===(v=Id(b))||void 0===v?void 0:v.title;if(!hd(b))return a;p=n?P(b,p):void 0;if(g)return x(a,b.title,
p);var z;return null!==(z=null!==a&&void 0!==a?a:b.title)&&void 0!==z?z:p}function Id(b){if(Hb(b)&&b.axis)return b.axis;if(b&&"legend"in b&&b.legend)return b.legend;if(b&&"header"in b&&b.header)return b.header}function Ld(b){if(Tb(b)){const {format:n,formatType:v}=b;return{format:n,formatType:v}}var p;b=null!==(p=Id(b))&&void 0!==p?p:{};const {format:a,formatType:g}=b;return{format:a,formatType:g}}function Ge(b,p){var a;switch(p){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in b&&A.isArray(b.sort))return"ordinal";const {aggregate:g,bin:n,timeUnit:v}=b;if(v)return"temporal";if(n||g&&!q(g)&&!m(g))return"quantitative";if(Oa(b)&&null!==(a=b.scale)&&void 0!==a&&a.type)switch(se[b.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function ae(b){if(hd(b))return b;if(rd(b))return b.condition}function ge(b){if(yd(b))return b;if(we(b))return b.condition}function me(b,p,a,g){g=
void 0===g?{}:g;return A.isString(b)||A.isNumber(b)||A.isBoolean(b)?(a=A.isString(b)?"string":A.isNumber(b)?"number":"boolean",pb(`Channel ${p} is a ${a}. Converted to {value: ${We(b)}}.`),{value:b}):yd(b)?ke(b,p,a,g):we(b)?Object.assign({},b,{condition:ke(b.condition,p,a,g)}):b}function ke(b,p,a,g){if(Tb(b)){var n=Object.assign({},b),v=b.formatType;n=(delete n.format,delete n.formatType,n);if(od(v)&&!a.customFormatTypes)return pb($a(p)),ke(n,p,a,g)}else if((v=Hb(b)?"axis":b&&"legend"in b?"legend":
b&&"header"in b?"header":null)&&b[v]){var z=b[v];n=Object.assign({},z);z=z.formatType;n=(delete n.format,delete n.formatType,n);if(od(z)&&!a.customFormatTypes)return pb($a(p)),ke(Object.assign({},b,{[v]:n}),p,a,g)}if(hd(b))return De(b,p,g);p=b.type;p||({datum:p}=b,p=A.isNumber(p)?"quantitative":A.isString(p)?"nominal":Ub(p)?"temporal":void 0,b=Object.assign({},b,{type:p}));return b}function De(b,p,a){({compositeMark:a=!1}=void 0===a?{}:a);const {aggregate:g,timeUnit:n,bin:v,field:z}=b;b=Object.assign({},
b);a||!g||w(g)||q(g)||m(g)||(pb(`Invalid aggregation operator "${g}".`),delete b.aggregate);n&&(b.timeUnit=Vc(n));z&&(b.field=`${z}`);wa(v)&&(b.bin=Pe(v,p));!cb(v)||p in Df||pb(`Channel ${p} should not be used with "binned" bin.`);if(F(b)){({type:a}=b);var E=qa(a);a!==E&&(b.type=E);"quantitative"!==a&&G(g)&&(pb(`Invalid field type "${a}" for aggregate: "${g}", using "quantitative" instead.`),b.type="quantitative")}else Ja(p)||(a=Ge(b,p),b.type=a);if(F(b)){const {compatible:ea,warning:Ea}=hf(b,p)||
{};!1===ea&&pb(Ea)}if("sort"in b&&A.isString(b.sort)){({sort:p}=b);if(p in k)return Object.assign({},b,{sort:{encoding:p}});a=p.substr(1);if("-"===p.charAt(0)&&a in k)return Object.assign({},b,{sort:{encoding:a,order:"descending"}})}return b&&"header"in b&&({header:p}=b,p&&(E=p,a=Object.assign({},E),E=E.orient,a=(delete a.orient,a),E))?Object.assign({},b,{header:Object.assign({},a,{labelOrient:p.labelOrient||E,titleOrient:p.titleOrient||E})}):b}function Pe(b,p){return A.isBoolean(b)?{maxbins:Y(p)}:
"binned"===b?{binned:!0}:b.maxbins||b.step?b:Object.assign({},b,{maxbins:Y(p)})}function hf(b,p){var a=b.type;if("geojson"===a&&"shape"!==p)return{compatible:!1,warning:`Channel ${p} should not be used with a geojson data.`};switch(p){case "row":case "column":case "facet":return Xc(b)?ka:{compatible:!1,warning:`${p} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return ka;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==a?{compatible:!1,warning:`Channel ${p} should be used with a quantitative field only, not ${b.type} field.`}:ka;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==a||b.sort?ka:{compatible:!1,warning:`Channel ${p} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(a=!Xc(b)){var g;
a=!(Oa(b)&&(null===(g=b.scale)||void 0===g?void 0:g.type)in Xg)}return a?{compatible:!1,warning:`${p} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:ka;case "order":return"nominal"!==b.type||"sort"in b?ka:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function ef(b){var {formatType:p}=Ld(b),a;if(!(a="time"===p)){if(p=!p)p=b&&("temporal"===b.type||hd(b)&&!!b.timeUnit);a=p}return a}function Kf(b,
p){var {timeUnit:a,type:g,wrapTime:n,undefinedIfExprNotRequired:v}=p;var z=(p=a&&(null===(z=Vc(a))||void 0===z?void 0:z.unit))||"temporal"===g;let E;ta(b)?E=b.expr:Ca(b)?E=b.signal:Ub(b)?(z=!0,E=Cb(b)):(A.isString(b)||A.isNumber(b))&&z&&(E=`datetime(${We(b)})`,wj[p]&&(A.isNumber(b)&&1E4>b||A.isString(b)&&isNaN(Date.parse(b)))&&(E=Cb({[p]:b})));return E?n&&z?`time(${E})`:E:v?void 0:We(b)}function wf(b,p){const {type:a}=b;return p.map(g=>{const n=Kf(g,{timeUnit:hd(b)?b.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});
return void 0!==n?{signal:n}:g})}function cf(b,p){return wa(b.bin)?!!Rf[p]&&["ordinal","nominal"].includes(b.type):(console.warn("Only call this method for binned field defs."),!1)}function jf(b){return b&&b.condition}function xf(b){return"mark"in b}function Oe(b,p){return(b=b&&b[p])?A.isArray(b)?Sa(b,a=>!!a.field):hd(b)||rd(b):!1}function rf(b){return Sa(hi,p=>Oe(b,p)?(p=b[p],A.isArray(p)?Sa(p,a=>!!a.aggregate):(p=ae(p))&&!!p.aggregate):!1)}function Te(b,p){const a=[],g=[],n=[],v=[],z={};Gf(b,(E,
ea)=>{if(hd(E)){var Ea=Object.assign({},E),Wa=E.field;const Jb=E.aggregate,xc=E.bin,ic=E.timeUnit;Ea=(delete Ea.field,delete Ea.aggregate,delete Ea.bin,delete Ea.timeUnit,Ea);if(Jb||ic||xc){var fb=Id(E);const tc=fb&&fb.title;fb=Ob(E,{forAs:!0});Ea=Object.assign({},tc?[]:{title:ud(E,p,{allowDisabling:!0})},Ea,{field:fb});if(Jb){let Rc;q(Jb)?(Rc="argmax",fb=Ob({op:"argmax",field:Jb.argmax},{forAs:!0}),Ea.field=`${fb}.${Wa}`):m(Jb)?(Rc="argmin",fb=Ob({op:"argmin",field:Jb.argmin},{forAs:!0}),Ea.field=
`${fb}.${Wa}`):"boxplot"!==Jb&&"errorbar"!==Jb&&"errorband"!==Jb&&(Rc=Jb);Rc&&(E={op:Rc,as:fb},Wa&&(E.field=Wa),v.push(E))}else a.push(fb),F(E)&&wa(xc)?(g.push({bin:xc,field:Wa,as:fb}),a.push(Ob(E,{binSuffix:"end"})),cf(E,ea)&&a.push(Ob(E,{binSuffix:"range"})),ea in Df&&(z[`${ea}2`]={field:`${fb}_end`}),Ea.bin="binned",Ja(ea)||(Ea.type="quantitative")):ic&&(n.push({timeUnit:ic,field:Wa,as:fb}),(Wa=F(E)&&"temporal"!==E.type&&"time")&&("text"===ea||"tooltip"===ea?Ea.formatType=Wa:Mf[ea]?Ea.legend=Object.assign({},
{formatType:Wa},Ea.legend):ea in Df&&(Ea.axis=Object.assign({},{formatType:Wa},Ea.axis))));z[ea]=Ea}else a.push(Wa),z[ea]=b[ea]}else z[ea]=b[ea]});return{bins:g,timeUnits:n,aggregate:v,groupby:a,encoding:z}}function $e(b,p,a){a=f(p)[a];return a&&("binned"!==a||(a=b["x2"===p?"x":"y"],hd(a)&&hd(b[p])&&cb(a.bin)))?!0:!1}function Ff(b,p,a,g){return jd(b).reduce((n,v)=>{if(!hg[v])return pb(`${v}-encoding is dropped as ${v} is not a valid encoding channel.`),n;const z=b[v];"angle"!==v||"arc"!==p||b.theta||
(pb("Arc marks uses theta channel rather than angle, replacing angle with theta."),v="theta");if(!$e(b,v,p))return pb(Kb(v,p)),n;if("size"===v&&"line"===p){const E=ae(b[v]);if(null!==E&&void 0!==E&&E.aggregate)return pb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),n}if("color"===v&&(a?"fill"in b:"stroke"in b))return pb(wb("encoding",{fill:"fill"in b,stroke:"stroke"in b})),n;if("detail"===v||"order"===v&&!A.isArray(z)&&!X(z)||"tooltip"===v&&A.isArray(z))z&&
(n[v]=A.array(z).reduce((E,ea)=>{hd(ea)?E.push(De(ea,v)):pb(Fb(ea,v));return E},[]));else{if("tooltip"===v&&null===z)n[v]=null;else if(!(hd(z)||Ee(z)||X(z)||Cd(z)||Ca(z)))return pb(Fb(z,v)),n;n[v]=me(z,v,g)}return n},{})}function af(b,p){const a={};for(const g of jd(b)){const n=me(b[g],g,p,{compositeMark:!0});a[g]=n}return a}function Wf(b){const p=[];for(const a of jd(b))if(Oe(b,a)){const g=A.array(b[a]);for(const n of g)hd(n)?p.push(n):rd(n)&&p.push(n.condition)}return p}function Gf(b,p,a){if(b)for(const g of jd(b)){const n=
b[g];if(A.isArray(n))for(const v of n)p.call(a,v,g);else p.call(a,n,g)}}function Vf(b,p,a,g){return b?jd(b).reduce((n,v)=>{const z=b[v];return A.isArray(z)?z.reduce((E,ea)=>p.call(g,E,ea,v),n):p.call(g,n,z,v)},a):a}function B(b,p){return jd(p).reduce((a,g)=>{switch(g){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;
case "order":if("line"===b||"trail"===b)return a;case "detail":case "key":g=p[g];if(A.isArray(g)||hd(g))for(var n of A.array(g))n.aggregate||a.push(Ob(n,{}));return a;case "size":if("trail"===b)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(n=ae(p[g]))&&!n.aggregate&&a.push(Ob(n,{})),a}},[])}function D(b,p,a,g){g=void 0===g?!0:g;if("tooltip"in a)return{tooltip:a.tooltip};b=b.map(n=>{var {fieldPrefix:v,
titlePrefix:z}=n;n=g?` of ${O(p)}`:"";return{field:v+p.field,type:p.type,title:Ca(z)?{signal:`${z}"${escape(n)}"`}:z+n}});a=Wf(a).map(Sb);return{tooltip:[...b,...na(a,ib)]}}function O(b){const {title:p,field:a}=b;return x(p,a)}function T(b,p,a,g,n){const {scale:v,axis:z}=a;return E=>{var {partName:ea,mark:Ea,positionPrefix:Wa,endPositionPrefix:fb,extraEncoding:Jb={}}=E;E=O(a);return ia(b,ea,n,{mark:Ea,encoding:Object.assign({},{[p]:Object.assign({},{field:`${Wa}_${a.field}`,type:a.type},void 0!==
E?{title:E}:{},void 0!==v?{scale:v}:{},void 0!==z?{axis:z}:{})},A.isString(fb)?{[`${p}2`]:{field:`${fb}_${a.field}`}}:{},g,Jb)})}}function ia(b,p,a,g){const {clip:n,color:v,opacity:z}=b,E=b.type;return b[p]||void 0===b[p]&&a[p]?[Object.assign({},g,{mark:Object.assign({},a[p],n?{clip:n}:{},v?{color:v}:{},z?{opacity:z}:{},kc(g.mark)?g.mark:{type:g.mark},{style:`${E}-${p}`},A.isBoolean(b[p])?{}:b[p])})]:[]}function pa(b,p,a){({encoding:b}=b);p="vertical"===p?"y":"x";const g=b[`${p}2`],n=b[`${p}Error`],
v=b[`${p}Error2`];return{continuousAxisChannelDef:Ha(b[p],a),continuousAxisChannelDef2:Ha(g,a),continuousAxisChannelDefError:Ha(n,a),continuousAxisChannelDefError2:Ha(v,a),continuousAxis:p}}function Ha(b,p){if(b&&b.aggregate){var a=Object.assign({},b);b=b.aggregate;a=(delete a.aggregate,a);b!==p&&pb(`Continuous axis should not have customized aggregation function ${b}; ${p} already agregates the axis.`);return a}return b}function db(b,p){const {mark:a,encoding:g}=b,{x:n,y:v}=g;if(kc(a)&&a.orient)return a.orient;
if(ve(n)){if(ve(v)){b=hd(n)&&n.aggregate;const z=hd(v)&&v.aggregate;if(!b&&z===p)return"vertical";if(z||b!==p){if(b===p&&z===p)throw Error("Both x and y cannot have aggregate");return ef(v)&&!ef(n)?"horizontal":"vertical"}}return"horizontal"}if(ve(v))return"vertical";throw Error(`Need a valid continuous axis for ${p}s`);}function Ua(b){return A.isNumber(b)?"tukey":b}function lb(b,p){var {config:a}=p,g,n=b=Object.assign({},b,{encoding:af(b.encoding,a)});p=Object.assign({},n);var v=n.mark;n=n.params;
p=(delete p.mark,delete p.encoding,delete p.params,delete p.projection,p);v=kc(v)?v:{type:v};n&&pb(vd("boxplot"));n=null!==(g=v.extent)&&void 0!==g?g:a.boxplot.extent;var z=Zb("size",v,a);g=Ua(n);var E=b;b=db(E,"boxplot");const {continuousAxisChannelDef:ea,continuousAxis:Ea}=pa(E,b,"boxplot");var Wa=ea.field,fb=Ua(n),Jb=[...nb(Wa),{op:"median",field:Wa,as:`mid_box_${Wa}`},{op:"min",field:Wa,as:("min-max"===fb?"lower_whisker_":"min_")+Wa},{op:"max",field:Wa,as:("min-max"===fb?"upper_whisker_":"max_")+
Wa}];Wa="min-max"===fb||"tukey"===fb?[]:[{calculate:`datum["upper_box_${Wa}"] - datum["lower_box_${Wa}"]`,as:`iqr_${Wa}`},{calculate:`min(datum["upper_box_${Wa}"] + datum["iqr_${Wa}"] * ${n}, datum["max_${Wa}"])`,as:`upper_whisker_${Wa}`},{calculate:`max(datum["lower_box_${Wa}"] - datum["iqr_${Wa}"] * ${n}, datum["min_${Wa}"])`,as:`lower_whisker_${Wa}`}];E=Object.assign({},E.encoding);var xc;fb=(delete E[Ea],E);E=Object.assign({},fb);fb=fb.tooltip;E=(delete E.tooltip,E);if(fb){var ic;if(A.isArray(fb)){for(var tc of fb)tc.aggregate?
(xc||(xc=[]),xc.push(tc)):(ic||(ic=[]),ic.push(tc));xc&&(E.tooltip=xc)}else fb.aggregate?E.tooltip=fb:ic=fb;A.isArray(ic)&&1===ic.length&&(ic=ic[0]);xc={customTooltipWithoutAggregatedField:ic,filteredEncoding:E}}else xc={filteredEncoding:E};const {customTooltipWithoutAggregatedField:Rc,filteredEncoding:bd}=xc,{bins:Hd,timeUnits:Pd,aggregate:fd,groupby:Ae,encoding:Wd}=Te(bd,a);xc=[...Hd,...Pd,{aggregate:[...fd,...Jb],groupby:Ae},...Wa];const {bins:wd,timeUnits:Me,transform:df,continuousAxisChannelDef:pe,
continuousAxis:mf,groupby:Se,aggregate:ff,encodingWithoutContinuousAxis:yg,ticksOrient:ii,boxOrient:Pi,customTooltipWithoutAggregatedField:uf}={bins:Hd,timeUnits:Pd,transform:xc,groupby:Ae,aggregate:fd,continuousAxisChannelDef:ea,continuousAxis:Ea,encodingWithoutContinuousAxis:Wd,ticksOrient:"vertical"===b?"horizontal":"vertical",boxOrient:b,customTooltipWithoutAggregatedField:Rc};ic=Object.assign({},yg);xc=yg.color;Jb=yg.size;ic=(delete ic.color,delete ic.size,ic);tc=T(v,mf,pe,ic,a.boxplot);b=T(v,
mf,pe,yg,a.boxplot);Jb=T(v,mf,pe,Object.assign({},ic,Jb?{size:Jb}:{}),a.boxplot);Wa=D([{fieldPrefix:"min-max"===g?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===g?"lower_whisker_":"min_",titlePrefix:"Min"}],pe,yg);E={type:"tick",color:"black",opacity:1,orient:ii,invalid:null,aria:!1};fb="min-max"===g?Wa:D([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},
{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],pe,yg);tc=[...tc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:fb}),...tc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:fb}),...tc({partName:"ticks",mark:E,positionPrefix:"lower_whisker",extraEncoding:fb}),...tc({partName:"ticks",mark:E,positionPrefix:"upper_whisker",extraEncoding:fb})];
z=[...("tukey"!==g?tc:[]),...b({partName:"box",mark:Object.assign({},{type:"bar"},z?{size:z}:{},{orient:Pi,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Wa}),...Jb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},A.isObject(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:{},z?{size:z}:{},{orient:ii,aria:!1}),positionPrefix:"mid_box",extraEncoding:Wa})];if("min-max"===g){var lh;return Object.assign({},
p,{transform:(null!==(lh=p.transform)&&void 0!==lh?lh:[]).concat(df),layer:z})}lh=`datum["lower_box_${pe.field}"]`;g=`datum["upper_box_${pe.field}"]`;b=`(${g} - ${lh})`;lh=`${lh} - ${n} * ${b}`;b=`${g} + ${n} * ${b}`;Jb=`datum["${pe.field}"]`;n={joinaggregate:nb(pe.field),groupby:Se};g={transform:[{filter:`(${lh} <= ${Jb}) && (${Jb} <= ${b})`},{aggregate:[{op:"min",field:pe.field,as:`lower_whisker_${pe.field}`},{op:"max",field:pe.field,as:`upper_whisker_${pe.field}`},{op:"min",field:`lower_box_${pe.field}`,
as:`lower_box_${pe.field}`},{op:"max",field:`upper_box_${pe.field}`,as:`upper_box_${pe.field}`},...ff],groupby:Se}],layer:tc};ic=Object.assign({},ic);ic=(delete ic.tooltip,ic);const {scale:Sl,axis:lm}=pe;tc=O(pe);Wa=Gb(lm,["title"]);a=ia(v,"outliers",a.boxplot,{transform:[{filter:`(${Jb} < ${lh}) || (${Jb} > ${b})`}],mark:"point",encoding:Object.assign({},{[mf]:Object.assign({},{field:pe.field,type:pe.type},void 0!==tc?{title:tc}:{},void 0!==Sl?{scale:Sl}:{},Qa(Wa)?{}:{axis:Wa})},ic,xc?{color:xc}:
{},uf?{tooltip:uf}:{})})[0];v=[...wd,...Me,n];a?a={transform:v,layer:[a,g]}:(a=g,a.transform.unshift(...v));return Object.assign({},p,{layer:[a,{transform:df,layer:z}]})}function nb(b){return[{op:"q1",field:b,as:`lower_box_${b}`},{op:"q3",field:b,as:`upper_box_${b}`}]}function Bb(b,p){({config:p}=p);b=Object.assign({},b,{encoding:af(b.encoding,p)});const {transform:a,continuousAxisChannelDef:g,continuousAxis:n,encodingWithoutContinuousAxis:v,ticksOrient:z,markDef:E,outerSpec:ea,tooltipEncoding:Ea}=
pc(b,"errorbar",p);delete v.size;b=T(E,n,g,v,p.errorbar);p=E.thickness;var Wa=E.size;Wa=Object.assign({},{type:"tick",orient:z,aria:!1},void 0!==p?{thickness:p}:{},void 0!==Wa?{size:Wa}:{});b=[...b({partName:"ticks",mark:Wa,positionPrefix:"lower",extraEncoding:Ea}),...b({partName:"ticks",mark:Wa,positionPrefix:"upper",extraEncoding:Ea}),...b({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==p?{size:p}:{}),positionPrefix:"lower",endPositionPrefix:"upper",
extraEncoding:Ea})];return Object.assign({},ea,{transform:a},1<b.length?{layer:b}:Object.assign({},b[0]))}function $b(b,p){var {encoding:a}=b;if(!(!yd(a.x)&&!yd(a.y)||yd(a.x2)||yd(a.y2)||yd(a.xError)||yd(a.xError2)||yd(a.yError)||yd(a.yError2)))return{orient:db(b,p),inputType:"raw"};var g=yd(a.x2)||yd(a.y2);var n=yd(a.xError)||yd(a.xError2)||yd(a.yError)||yd(a.yError2);b=a.x;const v=a.y;if(g){if(n)throw Error(`${p} cannot be both type aggregated-upper-lower and aggregated-error`);g=a.x2;a=a.y2;if(yd(g)&&
yd(a))throw Error(`${p} cannot have both x2 and y2`);if(yd(g)){if(ve(b))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${p}`);}if(yd(a)){if(ve(v))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${p}`);}}else{g=a.xError;n=a.yError;const z=a.yError2;if(yd(a.xError2)&&!yd(g))throw Error(`${p} cannot have xError2 without xError`);if(yd(z)&&!yd(n))throw Error(`${p} cannot have yError2 without yError`);
if(yd(g)&&yd(n))throw Error(`${p} cannot have both xError and yError with both are quantiative`);if(yd(g)){if(ve(b))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(yd(n)){if(ve(v))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function pc(b,p,a){var g,n=Object.assign({},b),v=b.mark,z=b.encoding,
E=b.params;n=(delete n.mark,delete n.encoding,delete n.params,delete n.projection,n);v=kc(v)?v:{type:v};E&&pb(vd(p));const {orient:ea,inputType:Ea}=$b(b,p),{continuousAxisChannelDef:Wa,continuousAxisChannelDef2:fb,continuousAxisChannelDefError:Jb,continuousAxisChannelDefError2:xc,continuousAxis:ic}=pa(b,ea,p);b=[];E=[];var tc=Wa.field,Rc=!1;if("raw"===Ea){var bd=v.center?v.center:v.extent?"iqr"===v.extent?"median":"mean":a.errorbar.center;var Hd=v.extent?v.extent:"mean"===bd?"stderr":"iqr";"median"===
bd!==("iqr"===Hd)&&pb(`${bd} is not usually used with ${Hd} for ${p}.`);"stderr"===Hd||"stdev"===Hd?(b=[{op:Hd,field:tc,as:`extent_${tc}`},{op:bd,field:tc,as:`center_${tc}`}],E=[{calculate:`datum["center_${tc}"] + datum["extent_${tc}"]`,as:`upper_${tc}`},{calculate:`datum["center_${tc}"] - datum["extent_${tc}"]`,as:`lower_${tc}`}],tc={fieldPrefix:"center_",titlePrefix:ya(bd)},Rc=Hd,Rc={fieldPrefix:"upper_",titlePrefix:`${ya(bd)} ${"+"} ${Rc}`},p=Hd,p=`${ya(bd)} ${"-"} ${p}`,bd=[tc,Rc,{fieldPrefix:"lower_",
titlePrefix:p}],Rc=!0):("ci"===Hd?(p="mean",bd="ci0",Hd="ci1"):(p="median",bd="q1",Hd="q3"),b=[{op:bd,field:tc,as:`lower_${tc}`},{op:Hd,field:tc,as:`upper_${tc}`},{op:p,field:tc,as:`center_${tc}`}],bd=[{fieldPrefix:"upper_",titlePrefix:ud({field:tc,aggregate:Hd,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:ud({field:tc,aggregate:bd,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:ud({field:tc,aggregate:p,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(v.center||
v.extent){p=v.center;var Pd=v.extent;pb(`${Pd?"extent ":""}${Pd&&p?"and ":""}${p?"center ":""}${Pd&&p?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===Ea?(bd=[],E=[{calculate:`datum["${fb.field}"]`,as:`upper_${tc}`},{calculate:`datum["${tc}"]`,as:`lower_${tc}`}]):"aggregated-error"===Ea&&(bd=[{fieldPrefix:"",titlePrefix:tc}],E=[{calculate:`datum["${tc}"] + datum["${Jb.field}"]`,as:`upper_${tc}`}],xc?E.push({calculate:`datum["${tc}"] + datum["${xc.field}"]`,as:`lower_${tc}`}):
E.push({calculate:`datum["${tc}"] - datum["${Jb.field}"]`,as:`lower_${tc}`}));for(Hd of E)bd.push({fieldPrefix:Hd.as.substring(0,6),titlePrefix:ab(ab(Hd.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:fd,postAggregateCalculates:Ae,tooltipSummary:Wd,tooltipTitleWithFieldName:wd}={postAggregateCalculates:E,errorBarSpecificAggregate:b,tooltipSummary:bd,tooltipTitleWithFieldName:Rc};z=Object.assign({},z);b="x"===ic?"x2":"y2";E="x"===ic?"xError":"yError";tc="x"===ic?"xError2":"yError2";
z=(delete z[ic],delete z[b],delete z[E],delete z[tc],z);const {bins:Me,timeUnits:df,aggregate:pe,groupby:mf,encoding:Se}=Te(z,a);a=[...pe,...fd];z="raw"!==Ea?[]:mf;b=D(Wd,Wa,Se,wd);return{transform:[...(null!==(g=n.transform)&&void 0!==g?g:[]),...Me,...df,...(0===a.length?[]:[{aggregate:a,groupby:z}]),...Ae],groupby:z,continuousAxisChannelDef:Wa,continuousAxis:ic,encodingWithoutContinuousAxis:Se,ticksOrient:"vertical"===ea?"horizontal":"vertical",markDef:v,outerSpec:n,tooltipEncoding:b}}function Ic(b,
p){({config:p}=p);b=Object.assign({},b,{encoding:af(b.encoding,p)});const {transform:a,continuousAxisChannelDef:g,continuousAxis:n,encodingWithoutContinuousAxis:v,markDef:z,outerSpec:E,tooltipEncoding:ea}=pc(b,"errorband",p);p=T(z,n,g,v,p.errorband);b=void 0!==b.encoding.x&&void 0!==b.encoding.y;let Ea={type:b?"area":"rect"},Wa={type:b?"line":"rule"};const fb=Object.assign({},z.interpolate?{interpolate:z.interpolate}:{},z.tension&&z.interpolate?{tension:z.tension}:{});b?(Ea=Object.assign({},Ea,fb,
{ariaRoleDescription:"errorband"}),Wa=Object.assign({},Wa,fb,{aria:!1})):z.interpolate?pb(va("interpolate")):z.tension&&pb(va("tension"));return Object.assign({},E,{transform:a,layer:[...p({partName:"band",mark:Ea,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ea}),...p({partName:"borders",mark:Wa,positionPrefix:"lower",extraEncoding:ea}),...p({partName:"borders",mark:Wa,positionPrefix:"upper",extraEncoding:ea})]})}function t(b,p,a){p=new Md(b,p);Nf[b]={normalizer:p,parts:a}}function y(b){return!!b&&
("legend"===b||!!b.legend)}function S(b){return y(b)&&A.isObject(b)}function ba(b){const p=[];for(const n of b||[])if(!n.select){var a=n,g=Object.assign({},a);b=a.expr;a=a.bind;g=(delete g.expr,delete g.bind,g);a&&b?(b=Object.assign({},g,{bind:a,init:b}),p.push(b)):(b=Object.assign({},g,b?{update:b}:{},a?{bind:a}:{}),p.push(b))}return p}function Xa(b,p){const a={};for(const g of Ue)b&&void 0!==b[g]&&(a[g]=Na(b[g]));p&&(a.params=b.params);return a}function vb(b){return A.isObject(b)&&void 0!==b.step}
function Ib(b){return b.view||b.width||b.height}function Qb(b,p,a){const g={},{spacing:n,columns:v}=a[p];void 0!==n&&(g.spacing=n);void 0!==v&&("facet"in b&&!Ud(b.facet)||"concat"in b)&&(g.columns=v);"vconcat"in b&&(g.columns=1);for(const ea of tf)if(void 0!==b[ea])if("spacing"===ea){var z,E;p=b[ea];g[ea]=A.isNumber(p)?p:{row:null!==(z=p.row)&&void 0!==z?z:n,column:null!==(E=p.column)&&void 0!==E?E:n}}else g[ea]=b[ea];return g}function dc(b,p){var a;return null!==(a=b[p])&&void 0!==a?a:b["width"===
p?"continuousWidth":"continuousHeight"]}function Ec(b,p){b=Ac(b,p);return vb(b)?b.step:20}function Ac(b,p){var a;p=null!==(a=b[p])&&void 0!==a?a:b["width"===p?"discreteWidth":"discreteHeight"];return x(p,{step:b.step})}function sd(b){var p=jd(b||{});const a={};for(const g of p)p=b[g],a[g]=jf(p)?ob(p):Na(p);return a}function Gd(b){b=void 0===b?{}:b;var p=Object.assign({},b),a=b.color,g=b.font;b=b.fontSize;p=(delete p.color,delete p.font,delete p.fontSize,p);var n=A.mergeConfig;g=g?{text:{font:g},style:{"guide-label":{font:g},
"guide-title":{font:g},"group-title":{font:g},"group-subtitle":{font:g}}}:{};a?(a=void 0===a?{}:a,a={signals:[{name:"color",value:A.isObject(a)?Object.assign({},Tl,a):Tl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},
axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):a={};b=b?{signals:[{name:"fontSize",value:A.isObject(b)?Object.assign({},pk,b):pk}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};b=n.call(A,{},Ne,g,a,b,p||{});p=Gb(b,mm);for(var v of["background","lineBreak","padding"])b[v]&&(p[v]=Na(b[v]));for(var z of qk)b[z]&&(p[z]=H(b[z]));for(var E of Nd)b[E]&&(p[E]=sd(b[E]));for(const ea of Xd)b[ea]&&(p[ea]=H(b[ea]));b.legend&&(p.legend=H(b.legend));b.scale&&(p.scale=H(b.scale));if(b.style){v=b.style;z=jd(v);
E={};for(const ea of z)E[ea]=sd(v[ea]);p.style=E}b.title&&(p.title=H(b.title));b.view&&(p.view=H(b.view));return p}function Pc(b){b=xe(b);for(var p of nm)delete b[p];if(b.axis)for(var a in b.axis)jf(b.axis[a])&&delete b.axis[a];if(b.legend)for(var g of Dc)delete b.legend[g];if(b.mark){for(var n of rk)delete b.mark[n];b.mark.tooltip&&A.isObject(b.mark.tooltip)&&delete b.mark.tooltip}b.params&&(b.signals=(b.signals||[]).concat(ba(b.params)),delete b.params);for(var v of om){for(const fb of rk)delete b[v][fb];
if(p=pm[v])for(const fb of p)delete b[v][fb];a=p=void 0;g=b;n=v;var z=void 0,E=g[n];"view"===n&&(z="cell");E=Object.assign({},E,g.style[null!==(a=z)&&void 0!==a?a:n]);Qa(E)||(g.style[null!==(p=z)&&void 0!==p?p:n]=E);delete g[n]}for(const fb of jd(Nf))delete b[fb];v=b;const {titleMarkConfig:ea,subtitleMarkConfig:Ea,subtitle:Wa}=Q(v.title);Qa(ea)||(v.style["group-title"]=Object.assign({},v.style["group-title"],ea));Qa(Ea)||(v.style["group-subtitle"]=Object.assign({},v.style["group-subtitle"],Ea));Qa(Wa)?
delete v.title:v.title=Wa;for(const fb in b)A.isObject(b[fb])&&Qa(b[fb])&&delete b[fb];return Qa(b)?void 0:b}function Fd(b,p){const a="x"===p?"y":"radius";var g=b[p];b=b[a];if(hd(g)&&hd(b))if("quantitative"===Ce(g)&&"quantitative"===Ce(b)){if(g.stack)return p;if(b.stack)return a;const z=hd(g)&&!!g.aggregate,E=hd(b)&&!!b.aggregate;if(z!==E)return z?p:a;var n,v;g=null===(n=g.scale)||void 0===n?void 0:n.type;n=null===(v=b.scale)||void 0===v?void 0:v.type;if(g&&"linear"!==g)return a;if(n&&"linear"!==
n)return p}else{if("quantitative"===Ce(g))return p;if("quantitative"===Ce(b))return a}else{if("quantitative"===Ce(g))return p;if("quantitative"===Ce(b))return a}}function Vd(b){switch(b){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function te(b,p,a){a=void 0===a?{}:a;var g,n;b=kc(b)?b.type:b;if(!qm.has(b))return null;const v=Fd(p,"x")||Fd(p,"theta");if(!v)return null;const z=p[v];var E=hd(z)?Ob(z,{}):void 0;let ea=Vd(v),Ea=p[ea],Wa=hd(Ea)?Ob(Ea,{}):
void 0;Wa===E&&(ea=Ea=Wa=void 0);E=Xf.reduce((Jb,xc)=>{if("tooltip"!==xc&&Oe(p,xc)){var ic=p[xc];for(const tc of A.array(ic)){ic=ae(tc);if(ic.aggregate)continue;const Rc=Ob(ic,{});Rc&&Rc===Wa||Jb.push({channel:xc,fieldDef:ic})}}return Jb},[]);let fb;void 0!==z.stack?fb=A.isBoolean(z.stack)?z.stack?"zero":null:z.stack:rm.has(b)&&(fb="zero");if(!(fb&&fb in sm)||rf(p)&&0===E.length)return null;if(null!==z&&void 0!==z&&null!==(g=z.scale)&&void 0!==g&&g.type&&(null===z||void 0===z?void 0:null===(n=z.scale)||
void 0===n?void 0:n.type)!==Af.LINEAR){if(a.disallowNonLinearStack)return null;pb(`Cannot stack non-linear scale (${z.scale.type}).`)}if(yd(p[ca(v)]))return void 0!==z.stack&&pb(`Cannot stack "${v}" if there is already "${v}2".`),null;hd(z)&&z.aggregate&&!gl.includes(z.aggregate)&&pb(`Stacking is applied even though the aggregate function is non-summative ("${z.aggregate}").`);return{groupbyChannel:Ea?ea:void 0,groupbyField:Wa,fieldChannel:v,impute:null===z.impute?!1:Rb(b),stackBy:E,offset:fb}}function Z(b,
p,a){p=void 0===p?{}:p;if("transparent"===b.point)return{opacity:0};if(b.point)return A.isObject(b.point)?b.point:{};if(void 0!==b.point)return null;if(p.point||a.shape)return A.isObject(p.point)?p.point:{}}function sa(b,p){p=void 0===p?{}:p;if(b.line)return!0===b.line?{}:b.line;if(void 0!==b.line)return null;if(p.line)return!0===p.line?{}:p.line}function Ka(b,p){return p?hc(b,p):b}function jb(b,p,a){const g=p[b];if(g&&!A.isString(g)&&"repeat"in g){if(g.repeat in a)return Object.assign({},p,{[b]:a[g.repeat]});
pb(`Unknown repeated value "${g.repeat}".`)}else return p}function yb(b,p){b=jb("field",b,p);if(void 0!==b){if(null===b)return null;"sort"in b&&fc(b.sort)&&(p=jb("field",b.sort,p),b=Object.assign({},b,p?{sort:p}:{}));return b}}function cc(b,p){if(hd(b))return yb(b,p);p=jb("datum",b,p);p===b||p.type||(p.type="nominal");return p}function gc(b,p){if(yd(b)){if(p=cc(b,p))return p;if(Cd(b))return{condition:b.condition}}else{if(we(b)){if(p=cc(b.condition,p))return Object.assign({},b,{condition:p});b=Object.assign({},
b);return delete b.condition,b}return b}}function hc(b,p){const a={};for(const n in b)if(A.hasOwnProperty(b,n)){var g=b[n];A.isArray(g)?a[n]=g.map(v=>gc(v,p)).filter(v=>v):(g=gc(g,p),void 0!==g&&(a[n]=g))}return a}function qc(b){var {parentEncoding:p,encoding:a={},layer:g}=b;b={};if(p){var n=new Set([...jd(p),...jd(a)]);for(const v of n){n=a[v];const z=p[v];if(yd(n))n=Object.assign({},z,n),b[v]=n;else if(we(n))b[v]=Object.assign({},n,{condition:Object.assign({},z,n.condition)});else if(n||null===
n)b[v]=n;else if(g||X(z)||Ca(z)||yd(z)||A.isArray(z))b[v]=z}}else b=a;return!b||Qa(b)?void 0:b}function uc(b){const {parentProjection:p,projection:a}=b;if(p&&a){const {parentProjection:g,projection:n}={parentProjection:p,projection:a};b=`Layer's shared projection ${We(g)} is overridden by a child projection ${We(n)}.`;pb(b)}return null!==a&&void 0!==a?a:p}function $c(b){return b.map(p=>"filter"in p?{filter:bb(p.filter,V)}:p)}function Kc(b,p){var a=Object.assign({},b);const g=b.transform;a=(delete a.transform,
a);return g?(b=g.map(n=>{if("filter"in n)return{filter:ad(n,p)};if("bin"in n&&A.isObject(n.bin))return Object.assign({},n,{bin:Tc(n.bin)});if("lookup"in n){var v=n.from,z=Object.assign({},v);v=v.selection;z=(delete z.selection,z);return v?Object.assign({},n,{from:Object.assign({},{param:v},z)}):n}return n}),Object.assign({},a,{transform:b})):b}function Lc(b,p){var a,g;b=xe(b);hd(b)&&A.isObject(b.bin)&&(b.bin=Tc(b.bin));Oa(b)&&null!==(a=b.scale)&&void 0!==a&&null!==(g=a.domain)&&void 0!==g&&g.selection&&
(g=b.scale.domain,a=Object.assign({},g),g=g.selection,a=(delete a.selection,a),b.scale.domain=Object.assign({},a,g?{param:g}:{}));Cd(b)&&(Ra.isArray(b.condition)?b.condition=b.condition.map(n=>{var v=Object.assign({},n);const z=n.param;v=(delete v.selection,delete v.param,delete v.test,v);return z?n:Object.assign({},v,{test:ad(n,p)})}):(g=Lc(b.condition,p),a=Object.assign({},g),g=g.param,a=(delete a.selection,delete a.param,delete a.test,a),b.condition=g?b.condition:Object.assign({},a,{test:ad(b.condition,
p)})));return b}function Tc(b){var p=b.extent;if(null!==p&&void 0!==p&&p.selection){var a=Object.assign({},p);p=p.selection;a=(delete a.selection,a);return Object.assign({},b,{extent:Object.assign({},a,{param:p})})}return b}function ad(b,p){const a=g=>bb(g,n=>{var v,z,E;const ea=null!==(v=p.emptySelections[n])&&void 0!==v?v:!0;v={param:n,empty:ea};null!==(E=(z=p.selectionPredicates)[n])&&void 0!==E?E:z[n]=[];p.selectionPredicates[n].push(v);return v});return b.selection?a(b.selection):bb(b.test||
b.filter,g=>g.selection?a(g.selection):g)}function kd(b,p){var a;return b.name?Object.assign({},p,{path:(null!==(a=p.path)&&void 0!==a?a:[]).concat(b.name)}):p}function ce(b,p){void 0===p&&(p=Gd(b.config));var a=p;a=void 0===a?{}:a;a={config:a};a=tm.map(um.map(vm.map(b,a),a),a);const {width:g,height:n}=b;{let {width:v,height:z}={width:g,height:n,autosize:b.autosize};b=xf(a)||"layer"in a;const E={};b?"container"==v&&"container"==z?(E.type="fit",E.contains="padding"):"container"==v?(E.type="fit-x",
E.contains="padding"):"container"==z&&(E.type="fit-y",E.contains="padding"):("container"==v&&(pb(ac("width")),v=void 0),"container"==z&&(pb(ac("height")),z=void 0));p=Object.assign({},{type:"pad"},E,p?Sd(p.autosize):{},Sd(a.autosize));"fit"!==p.type||b||(pb('Autosize "fit" only works for single views and layered views.'),p.type="pad");"container"==v&&"fit"!=p.type&&"fit-x"!=p.type&&pb(kb("width"));"container"==z&&"fit"!=p.type&&"fit-y"!=p.type&&pb(kb("height"));b=zf(p,{type:"pad"})?void 0:p}return Object.assign({},
a,b?{autosize:b}:{})}function Sd(b){return A.isString(b)?{type:b}:null!==b&&void 0!==b?b:{}}function Bd(b){return{explicit:!0,value:b}}function md(b){return{explicit:!1,value:b}}function id(b){return(p,a,g,n)=>{const v=b(p.value,a.value);return 0<v?p:0>v?a:Td(p,a,g,n)}}function Td(b,p,a,g){if(b.explicit&&p.explicit){var n=b.value;p=p.value;a=`Conflicting ${g.toString()} property "${a.toString()}" (${We(n)} and ${We(p)}). Using ${We(n)}.`;pb(a)}return b}function ye(b,p,a,g,n){n=void 0===n?Td:n;return void 0===
b||void 0===b.value?p:b.explicit&&!p.explicit?b:p.explicit&&!b.explicit?p:zf(b.value,p.value)?b:n(b,p,a,g)}function Qe(b){return"name"in b&&!("url"in b)&&!("values"in b)&&!Le(b)}function Le(b){return b&&("sequence"in b||"sphere"in b||"graticule"in b)}function re(b,p,a){Ul=p||"view";Vl=a||wm;return sf(b.trim()).map(yf)}function ze(b,p,a,g,n){const v=b.length;let z=0,E;for(;p<v;++p)if(E=b[p],z||E!==a)n&&0<=n.indexOf(E)?--z:g&&0<=g.indexOf(E)&&++z;else break;return p}function sf(b){const p=[],a=b.length;
let g=0,n=0;for(;n<a;)n=ze(b,n,",","[{","]}"),p.push(b.substring(g,n).trim()),g=++n;if(0===p.length)throw"Empty event selector: "+b;return p}function yf(b){if("["===b[0]){var p=b;var a=p.length;b=ze(p,1,"]","[","]");if(b===a)throw"Empty between selector: "+p;a=sf(p.substring(1,b));if(2!==a.length)throw"Between selector must have two elements: "+p;p=p.slice(b+1).trim();if("\x3e"!==p[0])throw"Expected '\x3e' after between selector: "+p;a=a.map(yf);p=yf(p.slice(1).trim());p.between?p={between:a,stream:p}:
p.between=a}else{a={source:Ul};const g=[];let n=[0,0],v=0,z=0,E=b.length,ea=0,Ea;if("}"===b[E-1]){ea=b.lastIndexOf("{");if(0<=ea){try{n=Lf(b.substring(ea+1,E-1))}catch(Wa){throw"Invalid throttle specification: "+b;}b=b.slice(0,ea).trim();E=b.length}else throw"Unmatched right brace: "+b;ea=0}if(!E)throw b;"@"===b[0]&&(v=++ea);Ea=ze(b,ea,":");Ea<E&&(g.push(b.substring(z,Ea).trim()),z=ea=++Ea);ea=ze(b,ea,"[");if(ea===E)g.push(b.substring(z,E).trim());else if(g.push(b.substring(z,ea).trim()),p=[],z=++ea,
z===E)throw"Unmatched left bracket: "+b;for(;ea<E;){ea=ze(b,ea,"]");if(ea===E)throw"Unmatched left bracket: "+b;p.push(b.substring(z,ea).trim());if(ea<E-1&&"["!==b[++ea])throw"Expected left bracket: "+b;z=++ea}if(!(E=g.length)||xm.test(g[E-1]))throw"Invalid event selector: "+b;1<E?(a.type=g[1],v?a.markname=g[0].slice(1):Vl[g[0]]?a.marktype=g[0]:a.source=g[0]):a.type=g[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=p&&(a.filter=p);n[0]&&(a.throttle=n[0]);n[1]&&(a.debounce=
n[1]);p=a}return p}function Lf(b){const p=b.split(",");if(!b.length||2<p.length)throw b;return p.map(a=>{a=+a;if(a!==a)throw b;return a})}function gg(b,p,a){p=void 0===p?!0:p;a=void 0===a?A.identity:a;return A.isArray(b)?(b=b.map(g=>gg(g,p,a)),p?`[${b.join(", ")}]`:b):Ub(b)?p?a(Cb(b)):a(Vb(b)):p?a(We(b)):b}function Ed(b,p){b.component.selection&&jd(b.component.selection).length&&(b=A.stringValue(b.getName("cell")),p.unshift({name:"facet",value:{},on:[{events:re("mousemove","scope"),update:`isTuple(facet) ? facet : group(${b}).datum`}]}));
return xj(p)}function kf(b,p){var a=!1;for(const n of Ef(null!==(g=b.component.selection)&&void 0!==g?g:{})){var g;const v=n.name;a=A.stringValue(v+"_store");0===p.filter(z=>z.name===v).length&&(g="point"===n.type?", true, true)":")",p.push({name:n.name,update:`${"vlSelectionResolve"}(${a}, ${A.stringValue("global"===n.resolve?"union":n.resolve)}${g}`}));a=!0;for(const z of sk)z.defined(n)&&z.topLevelSignals&&(p=z.topLevelSignals(b,n,p))}a&&0===p.filter(n=>"unit"===n.name).length&&p.unshift({name:"unit",
value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return xj(p)}function Mg(b,p){p=[...p];for(const g of Ef(null!==(a=b.component.selection)&&void 0!==a?a:{})){var a;a={name:g.name+"_store"};if(g.init){const n=g.project.items.map(v=>{v=Object.assign({},v);return delete v.signals,v});a.values=g.init.map(v=>({unit:Ng(b,{escape:!1}),fields:n,values:gg(v,!1)}))}p.filter(n=>n.name===g.name+"_store").length||p.push(a)}return p}function Vg(b,p){for(const g of Ef(null!==(a=b.component.selection)&&
void 0!==a?a:{})){var a;for(const n of sk)n.defined(g)&&n.marks&&(p=n.marks(b,g,p))}return p}function Hh(b,p){for(const a of b.children)Bf(a)&&(p=Vg(a,p));return p}function xj(b){return b.map(p=>{p.on&&!p.on.length&&delete p.on;return p})}function Qi(b,p){return`domain(${A.stringValue(b.scaleName(p))})`}function Og(b){var p;return b.parent&&Ih(b.parent)&&(null!==(p=!b.parent.parent)&&void 0!==p?p:Og(b.parent.parent))}function hl(b,p,a,g){const n=a.channel,v=a.signals.visual;a=a.signals.data;const z=
Jh.defined(p),E=A.stringValue(b.scaleName(n));var ea=b.getScaleComponent(n);ea=ea?ea.get("type"):void 0;const Ea=Jb=>`scale(${E}, ${Jb})`,Wa=b.getSizeSignalRef("x"===n?"width":"height").signal,fb=`${n}(unit)`;b=tk(p,(Jb,xc)=>[...Jb,{events:xc.between[0],update:`[${fb}, ${fb}]`},{events:xc,update:`[${v}[0], clamp(${fb}, 0, ${Wa})]`}]);b.push({events:{signal:p.name+"_scale_trigger"},update:ea in Qf?`[${Ea(`${a}[0]`)}, ${Ea(`${a}[1]`)}]`:"[0, 0]"});return z?[{name:a,on:[]}]:[Object.assign({},{name:v},
g?{init:gg(g,!0,Ea)}:{value:[]},{on:b}),Object.assign({},{name:a},g?{init:gg(g)}:{},{on:[{events:{signal:v},update:`${v}[0] === ${v}[1] ? null : invert(${E}, ${v})`}]})]}function tk(b,p){return b.events.reduce((a,g)=>g.between?p(a,g):(pb(`${g} is not an ordered event stream for interval selections.`),a),[])}function Kh(b,p,a,g){var n=Cd(p)&&p.condition;p=g(p);return n?(n=A.array(n).map(v=>{const z=g(v);if(v.param){const {param:E,empty:ea}=v;v=yj(b,{param:E,empty:ea});return Object.assign({},{test:v},
z)}v=mh(b,v.test);return Object.assign({},{test:v},z)}),{[a]:[...n,...(void 0!==p?[p]:[])]}):void 0!==p?{[a]:p}:{}}function zj(b,p){p=void 0===p?"text":p;return Kh(b,b.encoding[p],p,a=>ig(a,b.config))}function ig(b,p,a){a=void 0===a?"datum":a;if(b){if(X(b))return Eb(b.value);if(yd(b)){const {format:g,formatType:n}=Ld(b);return de({fieldOrDatumDef:b,format:g,formatType:n,expr:a,config:p})}}}function Ri(b,p){p=void 0===p?{}:p;const {encoding:a,markDef:g,config:n,stack:v}=b,z=a.tooltip;if(A.isArray(z))return{tooltip:Yg({tooltip:z},
v,n,p)};const E=p.reactiveGeom?"datum.datum":"datum";return Kh(b,z,"tooltip",ea=>{const Ea=ig(ea,n,E);if(Ea)return Ea;if(null!==ea){ea=Zb("tooltip",g,n);!0===ea&&(ea={content:"encoding"});if(A.isString(ea))return{value:ea};if(A.isObject(ea))return Ca(ea)?ea:"encoding"===ea.content?Yg(a,v,n,p):{signal:E}}})}function uk(b,p,a,g){function n(ea,Ea){var Wa,fb=J(Ea);ea=F(ea)?ea:Object.assign({},ea,{type:b[fb].type});fb=ea.title||P(ea,a);fb=A.array(fb).join(", ");if(Ea in Df){const ic="x"===Ea?"x2":"y2";
var Jb=ae(b[ic]);if(cb(ea.bin)&&Jb){var xc=Ob(ea,{expr:z});Jb=Ob(Jb,{expr:z});const {format:tc,formatType:Rc}=Ld(ea);xc=$d(xc,Jb,tc,Rc,a);v[ic]=!0}else if(p&&p.fieldChannel===Ea&&"normalize"===p.offset){const {format:tc,formatType:Rc}=Ld(ea);xc=de({fieldOrDatumDef:ea,format:tc,formatType:Rc,expr:z,config:a,normalizeStack:!0}).signal}}null!==(Wa=xc)&&void 0!==Wa?Wa:xc=ig(ea,a,z).signal;E.push({channel:Ea,key:fb,value:xc})}({reactiveGeom:g}=void 0===g?{}:g);const v={},z=g?"datum.datum":"datum",E=[];
Gf(b,(ea,Ea)=>{hd(ea)?n(ea,Ea):rd(ea)&&n(ea.condition,Ea)});g={};for(const ea of E){const {channel:Ea,key:Wa,value:fb}=ea;v[Ea]||g[Wa]||(g[Wa]=fb)}return g}function Yg(b,p,a,g){({reactiveGeom:g}=void 0===g?{}:g);b=uk(b,p,a,{reactiveGeom:g});b=ag(b).map(n=>{var [v,z]=n;return`"${v}": ${z}`});return 0<b.length?{signal:`{${b.join(", ")}}`}:void 0}function Si(b){const {encoding:p,markDef:a,config:g,stack:n}=b;var v=p.description;if(v)return Kh(b,v,"description",z=>ig(z,b.config));v=Zb("description",a,
g);if(null!=v)return{description:Eb(v)};if(!1===g.aria)return{};v=uk(p,n,g);if(!Qa(v))return{description:{signal:ag(v).map((z,E)=>{var [ea,Ea]=z;return`"${0<E?"; ":""}${ea}: " + (${Ea})`}).join(" + ")}}}function nf(b,p,a){a=void 0===a?{}:a;const {markDef:g,encoding:n,config:v}=p,{vgChannel:z}=a;let {defaultRef:E,defaultValue:ea}=a;if(void 0===E){var Ea;null!==(Ea=ea)&&void 0!==Ea?Ea:ea=Zb(b,g,v,{vgChannel:z,ignoreVgConfig:!0});void 0!==ea&&(E=Eb(ea))}return Kh(p,n[b],null!==z&&void 0!==z?z:b,Wa=>
Xb({channel:b,channelDef:Wa,markDef:g,config:v,scaleName:p.scaleName(b),scale:p.getScaleComponent(b),stack:null,defaultRef:E}))}function Ti(b,p){p=void 0===p?{filled:void 0}:p;var a,g,n,v;const {markDef:z,encoding:E,config:ea}=b,{type:Ea}=z;p=null!==(a=p.filled)&&void 0!==a?a:Zb("filled",z,ea);a=Ia(["bar","point","circle","square","geoshape"],Ea)?"transparent":void 0;a=null!==(g=null!==(n=Zb(!0===p?"color":void 0,z,ea,{vgChannel:"fill"}))&&void 0!==n?n:ea.mark[!0===p&&"color"])&&void 0!==g?g:a;g=
null!==(v=Zb(!1===p?"color":void 0,z,ea,{vgChannel:"stroke"}))&&void 0!==v?v:ea.mark[!1===p&&"color"];v=p?"fill":"stroke";n=Object.assign({},a?{fill:Eb(a)}:{},g?{stroke:Eb(g)}:{});z.color&&(p?z.fill:z.stroke)&&pb(wb("property",{fill:"fill"in z,stroke:"stroke"in z}));return Object.assign({},n,nf("color",b,{vgChannel:v,defaultValue:p?a:g}),nf("fill",b,{defaultValue:E.fill?a:void 0}),nf("stroke",b,{defaultValue:E.stroke?g:void 0}))}function Aj(b){const {encoding:p,mark:a}=b,g=p.order;return!Rb(a)&&X(g)?
Kh(b,g,"zindex",n=>Eb(n.value)):{}}function ji(b,p){b=d(b);if(p=p[b])return p}function Sf(b,p,a){var {defaultPos:g,vgChannel:n}=a;const {encoding:v,markDef:z,config:E,stack:ea}=p;a=v[b];const Ea=v[ca(b)],Wa=p.scaleName(b),fb=p.getScaleComponent(b),Jb=ji(b,z),xc=Pg({model:p,defaultPos:g,channel:b,scaleName:Wa,scale:fb});if(!a&&b in Df&&(v.latitude||v.longitude))p={field:p.getName(b)};else a:{p={channel:b,channelDef:a,channel2Def:Ea,markDef:z,config:E,scaleName:Wa,scale:fb,stack:ea,offset:Jb,defaultRef:xc};
const {channel:ic,channelDef:tc,scaleName:Rc,stack:bd,offset:Hd,markDef:Pd}=p;if(yd(tc)&&bd&&ic===bd.fieldChannel){if(hd(tc)&&(p=tc.bandPosition,void 0!==p||"text"!==Pd.type||"radius"!==ic&&"theta"!==ic||(p=.5),void 0!==p)){p=cd({scaleName:Rc,fieldOrDatumDef:tc,startSuffix:"start",bandPosition:p,offset:Hd});break a}p=nd(tc,Rc,{suffix:"end"},{offset:Hd})}else p=Bc(p)}return p?{[n||b]:p}:void 0}function Pg(b){var {model:p,defaultPos:a,channel:g,scaleName:n,scale:v}=b;const {markDef:z,config:E}=p;return()=>
{var ea=J(g),Ea=fa(g);Ea=Zb(g,z,E,{vgChannel:Ea});if(void 0!==Ea)return oe(g,Ea);switch(a){case "zeroOrMin":case "zeroOrMax":if(n&&(Ea=v.get("type"),!Ia([Af.LOG,Af.TIME,Af.UTC],Ea)&&v.domainDefinitelyIncludesZero()))return{scale:n,value:0};if("zeroOrMin"===a)return"y"===ea?{field:{group:"height"}}:{value:0};switch(ea){case "radius":return{signal:`min(${p.width.signal},${p.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ea=
p[W(g)],Object.assign({},ea,{mult:.5})}}}function Bj(b,p,a,g){g=void 0===g?"middle":g;if("radius"===b||"theta"===b)return fa(b);var n="x"===b?"align":"baseline";p=Zb(n,p,a);Ca(p)?(pb(`The ${n} for range marks cannot be an expression`),n=void 0):n=p;return"x"===b?ym[n||("top"===g?"left":"center")]:zm[n||g]}function Lh(b,p,a){var {defaultPos:g,defaultPos2:n,range:v}=a;return v?ki(b,p,{defaultPos:g,defaultPos2:n}):Sf(b,p,{defaultPos:g})}function ki(b,p,a){var {defaultPos:g,defaultPos2:n}=a;const {markDef:v,
config:z}=p;var E=ca(b);a=W(b);{const {encoding:Wd,mark:wd,markDef:Me,stack:df,config:pe}=p;var ea=J(E),Ea=W(E);const mf=fa(E);var Wa=Wd[ea],fb=p.scaleName(ea);const Se=p.getScaleComponent(ea);ea=E in Wd||E in Me?ji(E,p.markDef):ji(ea,p.markDef);if(Wa||"x2"!==E&&"y2"!==E||!Wd.latitude&&!Wd.longitude){var {channel:Jb,channelDef:xc,channel2Def:ic,markDef:tc,config:Rc,scaleName:bd,scale:Hd,stack:Pd,offset:fd,defaultRef:Ae}={channel:E,channelDef:Wa,channel2Def:Wd[E],markDef:Me,config:pe,scaleName:fb,
scale:Se,stack:df,offset:ea,defaultRef:void 0};Wa=yd(xc)&&Pd&&Jb.charAt(0)===Pd.fieldChannel.charAt(0)?nd(xc,bd,{suffix:"start"},{offset:fd}):Bc({channel:Jb,channelDef:ic,scaleName:bd,scale:Hd,stack:Pd,markDef:tc,config:Rc,offset:fd,defaultRef:Ae});E=void 0!==Wa?{[mf]:Wa}:Mh(E,Me)||Mh(E,{[E]:zc(E,Me,pe.style),[Ea]:zc(Ea,Me,pe.style)})||Mh(E,pe[wd])||Mh(E,pe.mark)||{[mf]:Pg({model:p,defaultPos:n,channel:E,scaleName:fb,scale:Se})()}}else Ea=W(E),fb=p.markDef[Ea],E=null!=fb?{[Ea]:{value:fb}}:{[mf]:{field:p.getName(E)}}}a=
E[a]?Bj(b,v,z):fa(b);return Object.assign({},Sf(b,p,{defaultPos:g,vgChannel:a}),E)}function Mh(b,p){const a=W(b),g=fa(b);if(void 0!==p[g])return{[g]:oe(b,p[g])};if(void 0!==p[b])return{[g]:oe(b,p[b])};if(p[a])if(p=p[a],Zc(p))pb(`Position range does not support relative band size for ${a}.`);else return{[a]:oe(b,p)}}function Qg(b,p,a){var g,n;const {config:v,encoding:z,markDef:E}=b;var ea=ca(p),Ea=W(p),Wa=z[p];ea=z[ea];var fb=b.getScaleComponent(p);const Jb=fb?fb.get("type"):void 0;var xc=b.scaleName(p);
const ic=E.orient;Ea=null!==(g=null!==(n=z[Ea])&&void 0!==n?n:z.size)&&void 0!==g?g:Zb("size",E,v,{vgChannel:Ea});a="bar"===a&&("x"===p?"vertical"===ic:"horizontal"===ic);if(!hd(Wa)||!(wa(Wa.bin)||cb(Wa.bin)||Wa.timeUnit&&!ea)||Ea&&!Zc(Ea)||Jb in Hf){if((yd(Wa)&&Jb in Hf||a)&&!ea){{const {markDef:Se,encoding:ff,config:yg,stack:ii}=b;fb=Se.orient;xc=b.scaleName(p);var tc=b.getScaleComponent(p),Rc=W(p);ea=ca(p);fb="horizontal"===fb&&"y"===p||"vertical"===fb&&"x"===p;var bd;if(ff.size||Se.size)fb?bd=
nf("size",b,{vgChannel:Rc,defaultRef:Eb(Se.size)}):pb(`Cannot apply size to non-oriented mark "${Se.type}".`);g=je({channel:p,fieldDef:Wa,markDef:Se,config:yg,scaleType:null===tc||void 0===tc?void 0:tc.get("type"),useVlSizeChannel:fb});bd=bd||{[Rc]:Cj(Rc,xc,tc,yg,g)};fb="band"===(null===tc||void 0===tc?void 0:tc.get("type"))&&"band"in bd[Rc]?"top":"middle";fb=Bj(p,Se,yg,fb);n="xc"===fb||"yc"===fb;a=ji(p,Se);p=Bc({channel:p,channelDef:Wa,markDef:Se,config:yg,scaleName:xc,scale:tc,stack:ii,offset:a,
defaultRef:Pg({model:b,defaultPos:"mid",channel:p,scaleName:xc,scale:tc}),bandPosition:n?.5:Ca(g)?{signal:`(1-${g})/2`}:Zc(g)?(1-g.band)/2:0});Rc?p=Object.assign({},{[fb]:p},bd):(Wa=fa(ea),bd=bd[Rc],bd=a?Object.assign({},bd,{offset:a}):bd,p={[fb]:p,[Wa]:A.isArray(p)?[p[0],Object.assign({},p[1],{offset:bd})]:Object.assign({},p,{offset:bd})})}return p}return ki(p,b,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}bd=je({channel:p,fieldDef:Wa,markDef:E,config:v,scaleType:Jb});b=null===(tc=b.component.axes[p])||
void 0===tc?void 0:tc[0];b=null!==(Rc=null===b||void 0===b?void 0:b.get("translate"))&&void 0!==Rc?Rc:.5;a:{p={fieldDef:Wa,fieldDef2:ea,channel:p,markDef:E,scaleName:xc,bandSize:bd,axisTranslate:b,spacing:p in Df?Zb("binSpacing",E,v):void 0,reverse:fb.get("reverse"),config:v};var {fieldDef:Hd,fieldDef2:Pd,channel:fd,bandSize:Ae,scaleName:Wd,markDef:wd,spacing:Me=0,axisTranslate:df,reverse:pe,config:mf}=p;p=ca(fd);Wa=fa(fd);bd=fa(p);b=ji(fd,wd);Rc=Ca(Ae)?{signal:`(1-${Ae.signal})/2`}:Zc(Ae)?(1-Ae.band)/
2:.5;if(wa(Hd.bin)||Hd.timeUnit)p={[bd]:Nh({channel:fd,fieldDef:Hd,scaleName:Wd,markDef:wd,bandPosition:Rc,offset:nh(p,Me,pe,df,b),config:mf}),[Wa]:Nh({channel:fd,fieldDef:Hd,scaleName:Wd,markDef:wd,bandPosition:Ca(Rc)?{signal:`1-${Rc.signal}`}:1-Rc,offset:nh(fd,Me,pe,df,b),config:mf})};else{if(cb(Hd.bin)){Rc=nd(Hd,Wd,{},{offset:nh(p,Me,pe,df,b)});if(hd(Pd)){p={[bd]:Rc,[Wa]:nd(Pd,Wd,{},{offset:nh(fd,Me,pe,df,b)})};break a}if(A.isObject(Hd.bin)&&Hd.bin.step){p={[bd]:Rc,[Wa]:{signal:`scale("${Wd}", ${Ob(Hd,
{expr:"datum"})} + ${Hd.bin.step})`,offset:nh(fd,Me,pe,df,b)}};break a}}pb(Za(p));p=void 0}}return p}function Cj(b,p,a,g,n){if(Zc(n))if(a){const v=a.get("type");if("band"===v)return{scale:p,band:n.band};1!==n.band&&pb(`Cannot use the relative band size with ${v} scale.`)}else return{mult:n.band,field:{group:b}};else{if(Ca(n))return n;if(n)return{value:n}}return a&&(p=a.get("range"),qb(p)&&A.isNumber(p.step))?{value:p.step-2}:{value:Ec(g.view,b)-2}}function nh(b,p,a,g,n){if(b in Mi)return 0;b="x"===
b||"y2"===b?-p/2:p/2;if(Ca(a)||Ca(n)||Ca(g))return a=Mb(a),n=Mb(n),g=Mb(g),{signal:(g?`${g} + `:"")+(a?`(${a} ? -1 : 1) * `:"")+(n?`(${n} + ${b})`:b)};n=n||0;return g+(a?-n-b:+n+b)}function Nh(b){var {channel:p,fieldDef:a,scaleName:g,markDef:n,bandPosition:v,offset:z,config:E}=b;b=cd({scaleName:g,fieldOrDatumDef:a,bandPosition:v,offset:z});return Nc({fieldDef:a,channel:p,markDef:n,ref:b,config:E})}function qg(b,p){const {fill:a,stroke:g}="include"===p.color?Ti(b):{};var n=Object,v=n.assign;p=il(b.markDef,
p);var z=li(b,"fill",a),E=li(b,"stroke",g),ea=nf("opacity",b),Ea=nf("fillOpacity",b),Wa=nf("strokeOpacity",b),fb=nf("strokeWidth",b),Jb=nf("strokeDash",b),xc=Aj(b),ic=Ri(b),tc=zj(b,"href");{const {markDef:Pd,config:fd}=b,Ae=Zb("aria",Pd,fd);if(!1===Ae)b={};else{var Rc=Object,bd=Rc.assign;{const {mark:Wd,markDef:wd,config:Me}=b;if(!1===Me.aria)var Hd={};else Hd=Zb("ariaRoleDescription",wd,Me),Hd=null!=Hd?{ariaRoleDescription:{value:Hd}}:Wd in Ui?{}:{ariaRoleDescription:{value:Wd}}}b=bd.call(Rc,{},
Ae?{aria:Ae}:{},Hd,Si(b))}}return v.call(n,{},p,z,E,ea,Ea,Wa,fb,Jb,xc,ic,tc,b)}function li(b,p,a){const {config:g,mark:n,markDef:v}=b;return"hide"===Zb("invalid",v,g)&&a&&!Rb(n)&&(b=vk(b,{invalid:!0,channels:Vi}))?{[p]:[{test:b,value:null},...A.array(a)]}:a?{[p]:a}:{}}function il(b,p){return jl.reduce((a,g)=>{Am.has(g)||void 0===b[g]||"ignore"===p[g]||(a[g]=Eb(b[g]));return a},{})}function vk(b,p){var {invalid:a=!1,channels:g}=p;p=g.reduce((n,v)=>{var z=b.getScaleComponent(v);z&&(z=z.get("type"),
(v=b.vgField(v,{expr:"datum"}))&&z in Qf&&(n[v]=!0));return n},{});p=jd(p);if(0<p.length){const n=a?"||":"\x26\x26";return p.map(v=>Yb(v,a)).join(` ${n} `)}}function Oh(b){const {config:p,markDef:a}=b;return Zb("invalid",a,p)&&(b=bg(b,{channels:jg}))?{defined:{signal:b}}:{}}function bg(b,p){var {invalid:a=!1,channels:g}=p;p=g.reduce((n,v)=>{var z=b.getScaleComponent(v);z&&(z=z.get("type"),(v=b.vgField(v,{expr:"datum"}))&&z in Qf&&(n[v]=!0));return n},{});p=jd(p);if(0<p.length){const n=a?"||":"\x26\x26";
return p.map(v=>Yb(v,a)).join(` ${n} `)}}function Of(b,p){if(void 0!==p)return{[b]:Eb(p)}}function Ph(b,p,a,g,n){var v,z,E=p.name,ea=E+"_translate_anchor";E+="_translate_delta";var Ea=a.channel;const Wa=Jh.defined(p);p=n.filter(Jb=>Jb.name===a.signals[Wa?"data":"visual"])[0];g=b.getSizeSignalRef(g).signal;b=b.getScaleComponent(Ea);n=b.get("type");var fb=b.get("reverse");ea=`${ea}.extent_${Ea}`;Ea=`${Wa?"x"===Ea?fb?"":"-":fb?"-":"":""}${E}.${Ea} / ${Wa?`${g}`:`span(${ea})`}`;fb=Wa?"log"===n?"panLog":
"symlog"===n?"panSymlog":"pow"===n?"panPow":"panLinear":"panLinear";b=Wa?"pow"===n?`, ${null!==(v=b.get("exponent"))&&void 0!==v?v:1}`:"symlog"===n?`, ${null!==(z=b.get("constant"))&&void 0!==z?z:1}`:"":"";v=`${fb}(${ea}, ${Ea}${b})`;p.on.push({events:{signal:E},update:Wa?v:`clampRange(${v}, 0, ${g})`})}function mi(b,p,a,g,n){var v,z,E=p.name,ea=a.channel;const Ea=Jh.defined(p);p=n.filter(Jb=>Jb.name===a.signals[Ea?"data":"visual"])[0];g=b.getSizeSignalRef(g).signal;n=b.getScaleComponent(ea);const Wa=
n.get("type"),fb=Ea?Qi(b,ea):p.name;b=E+"_zoom_delta";E=`${E}${"_zoom_anchor"}.${ea}`;ea=Ea?"log"===Wa?"zoomLog":"symlog"===Wa?"zoomSymlog":"pow"===Wa?"zoomPow":"zoomLinear":"zoomLinear";n=Ea?"pow"===Wa?`, ${null!==(v=n.get("exponent"))&&void 0!==v?v:1}`:"symlog"===Wa?`, ${null!==(z=n.get("constant"))&&void 0!==z?z:1}`:"":"";v=`${ea}(${fb}, ${E}, ${b}${n})`;p.on.push({events:{signal:b},update:Ea?v:`clampRange(${v}, 0, ${g})`})}function Ng(b,p){({escape:p}=void 0===p?{escape:!0}:p);p=p?A.stringValue(b.name):
b.name;for(b=b.parent;b&&!zg(b);)b=b.parent;if(b){const {facet:a}=b;for(const g of Yf)a[g]&&(p+=` + '__facet_${g}_' + (facet[${A.stringValue(b.vgField(g))}])`)}return p}function ni(b){var p;return Ef(null!==(p=b.component.selection)&&void 0!==p?p:{}).reduce((a,g)=>a||g.project.items.some(n=>"_vgsid_"===n.field),!1)}function wk(b,p){!Ra.isString(p.select)&&p.select.on||delete b.events;!Ra.isString(p.select)&&p.select.clear||delete b.clear;!Ra.isString(p.select)&&p.select.toggle||delete b.toggle}function kg(b){this.type=
b}function xk(b){switch(b.type){case "ArrayExpression":return b.elements;case "BinaryExpression":case "LogicalExpression":return[b.left,b.right];case "CallExpression":return[b.callee].concat(b.arguments);case "ConditionalExpression":return[b.test,b.consequent,b.alternate];case "MemberExpression":return[b.object,b.property];case "ObjectExpression":return b.properties;case "Property":return[b.key,b.value];case "UnaryExpression":return[b.argument];default:return[]}}function oi(b,p){if(!b)throw Error("ASSERT: "+
p);}function rg(b){return 48<=b&&57>=b}function Zg(b){return 0<="0123456789abcdefABCDEF".indexOf(b)}function $g(b){return 0<="01234567".indexOf(b)}function oh(b){return 10===b||13===b||8232===b||8233===b}function Gg(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||92===b||128<=b&&Bm.test(String.fromCharCode(b))}function Qh(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||48<=b&&57>=b||92===b||128<=b&&Cm.test(String.fromCharCode(b))}function Rg(){for(;Yc<cg;){const b=ee.charCodeAt(Yc);
if(32===b||9===b||11===b||12===b||160===b||5760<=b&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)||oh(b))++Yc;else break}}function pi(b){var p=0;var a="u"===b?4:2;for(b=0;b<a;++b)if(Yc<cg&&Zg(ee[Yc])){var g=ee[Yc++];p=16*p+"0123456789abcdef".indexOf(g.toLowerCase())}else Xe({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(p)}function ph(){var b=ee.charCodeAt(Yc++);var p=String.fromCharCode(b);92===b&&(117!==ee.charCodeAt(Yc)&&
Xe({},"Unexpected token %0","ILLEGAL"),++Yc,(b=pi("u"))&&"\\"!==b&&Gg(b.charCodeAt(0))||Xe({},"Unexpected token %0","ILLEGAL"),p=b);for(;Yc<cg;){b=ee.charCodeAt(Yc);if(!Qh(b))break;++Yc;p+=String.fromCharCode(b);92===b&&(p=p.substr(0,p.length-1),117!==ee.charCodeAt(Yc)&&Xe({},"Unexpected token %0","ILLEGAL"),++Yc,(b=pi("u"))&&"\\"!==b&&Qh(b.charCodeAt(0))||Xe({},"Unexpected token %0","ILLEGAL"),p+=b)}return p}function ah(){var b=Yc,p=ee.charCodeAt(Yc),a=ee[Yc];switch(p){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Yc,
{type:7,value:String.fromCharCode(p),start:b,end:Yc};default:var g=ee.charCodeAt(Yc+1);if(61===g)switch(p){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Yc+=2,{type:7,value:String.fromCharCode(p)+String.fromCharCode(g),start:b,end:Yc};case 33:case 61:return Yc+=2,61===ee.charCodeAt(Yc)&&++Yc,{type:7,value:ee.slice(b,Yc),start:b,end:Yc}}}p=ee.substr(Yc,4);if("\x3e\x3e\x3e\x3d"===p)return Yc+=4,{type:7,value:p,start:b,end:Yc};p=p.substr(0,3);if("\x3e\x3e\x3e"===
p||"\x3c\x3c\x3d"===p||"\x3e\x3e\x3d"===p)return Yc+=3,{type:7,value:p,start:b,end:Yc};p=p.substr(0,2);if(a===p[1]&&0<="+-\x3c\x3e\x26|".indexOf(a)||"\x3d\x3e"===p)return Yc+=2,{type:7,value:p,start:b,end:Yc};"//"===p&&Xe({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(a))return++Yc,{type:7,value:a,start:b,end:Yc};Xe({},"Unexpected token %0","ILLEGAL")}function Dj(){var b=ee[Yc];oi(rg(b.charCodeAt(0))||"."===b,"Numeric literal must start with a decimal digit or a decimal point");
var p=Yc;var a="";if("."!==b){a=ee[Yc++];b=ee[Yc];if("0"===a){if("x"===b||"X"===b){++Yc;for(a="";Yc<cg&&Zg(ee[Yc]);)a+=ee[Yc++];0===a.length&&Xe({},"Unexpected token %0","ILLEGAL");Gg(ee.charCodeAt(Yc))&&Xe({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+a,16),start:p,end:Yc}}if($g(b)){for(a="0"+ee[Yc++];Yc<cg&&$g(ee[Yc]);)a+=ee[Yc++];(Gg(ee.charCodeAt(Yc))||rg(ee.charCodeAt(Yc)))&&Xe({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(a,8),octal:!0,start:p,end:Yc}}b&&
rg(b.charCodeAt(0))&&Xe({},"Unexpected token %0","ILLEGAL")}for(;rg(ee.charCodeAt(Yc));)a+=ee[Yc++];b=ee[Yc]}if("."===b){for(a+=ee[Yc++];rg(ee.charCodeAt(Yc));)a+=ee[Yc++];b=ee[Yc]}if("e"===b||"E"===b){a+=ee[Yc++];b=ee[Yc];if("+"===b||"-"===b)a+=ee[Yc++];if(rg(ee.charCodeAt(Yc)))for(;rg(ee.charCodeAt(Yc));)a+=ee[Yc++];else Xe({},"Unexpected token %0","ILLEGAL")}Gg(ee.charCodeAt(Yc))&&Xe({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(a),start:p,end:Yc}}function qh(b,p){let a=b;
0<=p.indexOf("u")&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,(g,n)=>{if(1114111>=parseInt(n,16))return"x";Xe({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(g){Xe({},"Invalid regular expression")}try{return new RegExp(b,p)}catch(g){return null}}function Wi(){Rg();if(Yc>=cg)return{type:2,start:Yc,end:Yc};var b=ee.charCodeAt(Yc);if(Gg(b)){b=Yc;if(92===ee.charCodeAt(Yc))var p=ph();else a:{for(p=Yc++;Yc<cg;){var a=ee.charCodeAt(Yc);if(92===a){Yc=
p;p=ph();break a}if(Qh(a))++Yc;else break}p=ee.slice(p,Yc)}return{type:1===p.length?3:Dm.hasOwnProperty(p)?4:"null"===p?5:"true"===p||"false"===p?1:3,value:p,start:b,end:Yc}}if(40===b||41===b||59===b)return ah();if(39===b||34===b){var g="";a=!1;b=ee[Yc];oi("'"===b||'"'===b,"String literal must starts with a quote");p=Yc;for(++Yc;Yc<cg;){var n=ee[Yc++];if(n===b){b="";break}else if("\\"===n)if((n=ee[Yc++])&&oh(n.charCodeAt(0)))"\r"===n&&"\n"===ee[Yc]&&++Yc;else switch(n){case "u":case "x":if("{"===
ee[Yc]){++Yc;var v=ee[Yc];n=0;for("}"===v&&Xe({},"Unexpected token %0","ILLEGAL");Yc<cg;){v=ee[Yc++];if(!Zg(v))break;n=16*n+"0123456789abcdef".indexOf(v.toLowerCase())}(1114111<n||"}"!==v)&&Xe({},"Unexpected token %0","ILLEGAL");n=65535>=n?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320);g+=n}else g+=pi(n);break;case "n":g+="\n";break;case "r":g+="\r";break;case "t":g+="\t";break;case "b":g+="\b";break;case "f":g+="\f";break;case "v":g+="\x0B";break;default:$g(n)?
(v="01234567".indexOf(n),0!==v&&(a=!0),Yc<cg&&$g(ee[Yc])&&(a=!0,v=8*v+"01234567".indexOf(ee[Yc++]),0<="0123".indexOf(n)&&Yc<cg&&$g(ee[Yc])&&(v=8*v+"01234567".indexOf(ee[Yc++]))),g+=String.fromCharCode(v)):g+=n}else if(oh(n.charCodeAt(0)))break;else g+=n}""!==b&&Xe({},"Unexpected token %0","ILLEGAL");return{type:8,value:g,octal:a,start:p,end:Yc}}return 46===b?rg(ee.charCodeAt(Yc+1))?Dj():ah():rg(b)?Dj():ah()}function dg(){const b=Ye;Yc=b.end;Ye=Wi();Yc=b.end;return b}function Ej(){const b=Yc;Ye=Wi();
Yc=b}function Fj(b,p,a){const g=new kg("||"===b||"\x26\x26"===b?"LogicalExpression":"BinaryExpression");g.operator=b;g.left=p;g.right=a;return g}function Xi(b){const p=new kg("Identifier");p.name=b;return p}function Cf(b){const p=new kg("Literal");p.value=b.value;p.raw=ee.slice(b.start,b.end);b.regex&&("//"===p.raw&&(p.raw="/(?:)/"),p.regex=b.regex);return p}function Yi(b,p,a){const g=new kg("MemberExpression");g.computed="["===b;g.object=p;g.property=a;g.computed||(a.member=!0);return g}function sg(b,
p,a){const g=new kg("Property");g.key=p;g.value=a;g.kind=b;return g}function Xe(b,p){var a=Array.prototype.slice.call(arguments,2),g=p.replace(/%(\d)/g,(v,z)=>{oi(z<a.length,"Message reference must be in range");return a[z]});var n=Error(g);n.index=Yc;n.description=g;throw n;}function Tf(b){2===b.type&&Xe(b,"Unexpected end of input");6===b.type&&Xe(b,"Unexpected number");8===b.type&&Xe(b,"Unexpected string");3===b.type&&Xe(b,"Unexpected identifier");4===b.type&&Xe(b,"Unexpected reserved word");Xe(b,
"Unexpected token %0",b.value)}function If(b){const p=dg();7===p.type&&p.value===b||Tf(p)}function bf(b){return 7===Ye.type&&Ye.value===b}function bh(){Yc=Ye.start;const b=dg();return 8===b.type||6===b.type?(b.octal&&Xe(b,"Octal literals are not allowed in strict mode."),Cf(b)):Xi(b.value)}function yk(){if(bf("(")){If("(");var b=qi();If(")");return b}if(bf("[")){b=[];Yc=Ye.start;for(If("[");!bf("]");)bf(",")?(dg(),b.push(null)):(b.push(rh()),bf("]")||If(","));dg();var p=new kg("ArrayExpression");
p.elements=b;return p}if(bf("{")){b=[];p={};var a=String;Yc=Ye.start;for(If("{");!bf("}");){Yc=Ye.start;var g=Ye;if(3===g.type){var n=bh();If(":");g=rh();g=sg("init",n,g)}else 2===g.type||7===g.type?(Tf(g),g=void 0):(n=bh(),If(":"),g=rh(),g=sg("init",n,g));n="Identifier"===g.key.type?g.key.name:a(g.key.value);n="$"+n;Object.prototype.hasOwnProperty.call(p,n)?Xe({},"Duplicate data property in object literal not allowed in strict mode"):p[n]=!0;b.push(g);bf("}")||If(",")}If("}");p=new kg("ObjectExpression");
p.properties=b;return p}b=Ye.type;Yc=Ye.start;if(3===b||Em[Ye.value])p=Xi(dg().value);else if(8===b||6===b)Ye.octal&&Xe(Ye,"Octal literals are not allowed in strict mode."),p=Cf(dg());else{if(4===b)throw Error("Disabled.");if(1===b)b=dg(),b.value="true"===b.value,p=Cf(b);else if(5===b)b=dg(),b.value=null,p=Cf(b);else if(bf("/")||bf("/\x3d")){var v;Ye=null;Rg();b=Yc;p=ee[Yc];oi("/"===p,"Regular expression literal must start with a slash");a=ee[Yc++];for(n=g=!1;Yc<cg;)if(p=ee[Yc++],a+=p,"\\"===p)p=
ee[Yc++],oh(p.charCodeAt(0))&&Xe({},"Invalid regular expression: missing /"),a+=p;else if(oh(p.charCodeAt(0)))Xe({},"Invalid regular expression: missing /");else if(g)"]"===p&&(g=!1);else if("/"===p){n=!0;break}else"["===p&&(g=!0);n||Xe({},"Invalid regular expression: missing /");p=a.substr(1,a.length-2);for(v=n="";Yc<cg;){g=ee[Yc];if(!Qh(g.charCodeAt(0)))break;++Yc;"\\"===g&&Yc<cg?Xe({},"Unexpected token %0","ILLEGAL"):(v+=g,n+=g)}0<=v.search(/[^gimuy]/g)&&Xe({},"Invalid regular expression",v);g=
v;v=qh(p,g);p=Cf({literal:a+n,value:v,regex:{pattern:p,flags:g},start:b,end:Yc});Ej()}else Tf(dg())}return p}function ri(){var b;for(b=yk();;)if(bf(".")){If(".");Yc=Ye.start;var p=dg();3===p.type||4===p.type||1===p.type||5===p.type||Tf(p);p=Xi(p.value);b=Yi(".",b,p)}else if(bf("(")){p=[];If("(");if(!bf(")"))for(;Yc<cg;){p.push(rh());if(bf(")"))break;If(",")}If(")");const a=new kg("CallExpression");a.callee=b;a.arguments=p;b=a}else if(bf("["))If("["),p=qi(),If("]"),b=Yi("[",b,p);else break;if(7===
Ye.type&&(bf("++")||bf("--")))throw Error("Disabled.");return b}function si(){if(7!==Ye.type&&4!==Ye.type)var b=ri();else{if(bf("++")||bf("--"))throw Error("Disabled.");if(bf("+")||bf("-")||bf("~")||bf("!")){var p=dg();b=si();p=p.value;const a=new kg("UnaryExpression");a.operator=p;a.argument=b;a.prefix=!0;b=a}else{if(4===Ye.type&&"delete"===Ye.value||4===Ye.type&&"void"===Ye.value||4===Ye.type&&"typeof"===Ye.value)throw Error("Disabled.");b=ri()}}return b}function Gj(b){let p=0;if(7!==b.type&&4!==
b.type)return 0;switch(b.value){case "||":p=1;break;case "\x26\x26":p=2;break;case "|":p=3;break;case "^":p=4;break;case "\x26":p=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":p=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":p=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":p=8;break;case "+":case "-":p=9;break;case "*":case "/":case "%":p=11}return p}function rh(){var b=Ye;var p=si();var a=Ye;var g=Gj(a);if(0===
g)var n=p;else{a.prec=g;dg();b=[b,Ye];var v=si();for(n=[p,a,v];0<(g=Gj(Ye));){for(;2<n.length&&g<=n[n.length-2].prec;)v=n.pop(),a=n.pop().value,p=n.pop(),b.pop(),p=Fj(a,p,v),n.push(p);a=dg();a.prec=g;n.push(a);b.push(Ye);p=si();n.push(p)}g=n.length-1;p=n[g];for(b.pop();1<g;)b.pop(),p=Fj(n[g-1].value,n[g-2],p),g-=2;n=p}bf("?")&&(dg(),b=rh(),If(":"),g=rh(),p=new kg("ConditionalExpression"),p.test=n,p.consequent=b,p.alternate=g,n=p);return n}function qi(){const b=rh();if(bf(","))throw Error("Disabled.");
return b}function Zi(b){ee=b;Yc=0;cg=ee.length;Ye=null;Ej();b=qi();if(2!==Ye.type)throw Error("Unexpect token after expression.");return b}function ti(b){const p=[];if("Identifier"===b.type)return[b.name];if("Literal"===b.type)return[b.value];"MemberExpression"===b.type&&(p.push(...ti(b.object)),p.push(...ti(b.property)));return p}function $i(b){return"MemberExpression"===b.object.type?$i(b.object):"datum"===b.object.name}function Hj(b){b=Zi(b);const p=new Set;b.visit(a=>{"MemberExpression"===a.type&&
$i(a)&&p.add(ti(a).slice(1).join("."))});return p}function yj(b,p,a,g){g=void 0===g?"datum":g;const n=A.isString(p)?p:p.param,v=Ta(n);var z=A.stringValue(v+"_store");let E;try{E=b.getSelectionComponent(v,n)}catch(ea){return`!!${v}`}E.project.timeUnit&&(b=null!==a&&void 0!==a?a:b.component.data.raw,a=E.project.timeUnit.clone(),b.parent?a.insertAsParentOf(b):b.parent=a);g=`vlSelectionTest(${z}, ${g}${"global"===E.resolve?")":`, ${A.stringValue(E.resolve)})`}`;z=`length(data(${z}))`;return!1===p.empty?
`${z} && ${g}`:`!${z} || ${g}`}function Ij(b,p,a){const g=Ta(p),n=a.encoding;let v=a.field,z;try{z=b.getSelectionComponent(g,p)}catch(E){return g}n||v?n&&!v&&(b=z.project.items.filter(E=>E.channel===n),!b.length||1<b.length?(v=z.project.items[0].field,pb((b.length?"Multiple ":"No ")+`matching ${A.stringValue(n)} encoding found for selection ${A.stringValue(a.param)}. `+`Using "field": ${A.stringValue(v)}.`)):v=b[0].field):(v=z.project.items[0].field,1<z.project.items.length&&pb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
`Using "field": ${A.stringValue(v)}.`));return`${z.name}[${A.stringValue(Aa(v))}]`}function mh(b,p,a){return L(p,g=>A.isString(g)?g:(null===g||void 0===g?0:g.param)?yj(b,g,a):Dd(g))}function zk(b,p){if(b)return A.isArray(b)&&!ja(b)?b.map(a=>P(a,p)).join(", "):b}function ch(b,p,a,g){var n,v,z,E,ea;null!==(n=b.encode)&&void 0!==n?n:b.encode={};null!==(z=(v=b.encode)[p])&&void 0!==z?z:v[p]={};null!==(ea=(E=b.encode[p]).update)&&void 0!==ea?ea:E.update={};b.encode[p].update[a]=g}function sh(b,p,a,g){g=
void 0===g?{header:!1}:g;var n=b.combine(),v=Object.assign({},n),z=n.disable;const E=n.orient,ea=n.scale,Ea=n.labelExpr,Wa=n.title;n=n.zindex;v=(delete v.disable,delete v.orient,delete v.scale,delete v.labelExpr,delete v.title,delete v.zindex,v);if(!z){for(const ic in v){var fb=Pb[ic];z=v[ic];if(fb&&fb!==p&&"both"!==fb)delete v[ic];else if(jf(z)){fb=z;z=Object.assign({},fb);fb=fb.condition;z=(delete z.condition,z);fb=A.array(fb);const tc=mb[ic];if(tc){const {vgProp:Rc,part:bd}=tc;z=[...fb.map(Hd=>
{var Pd=Object.assign({},Hd);Hd=Hd.test;Pd=(delete Pd.test,Pd);return Object.assign({},{test:mh(null,Hd)},Pd)}),z];ch(v,bd,Rc,z);delete v[ic]}else null===tc&&(z={signal:fb.map(Rc=>{var bd=Object.assign({},Rc);Rc=Rc.test;bd=(delete bd.test,bd);return`${mh(null,Rc)} ? ${eb(bd)} : `}).join("")+eb(z)},v[ic]=z)}else if(Ca(z)&&(fb=mb[ic])){const {vgProp:tc,part:Rc}=fb;ch(v,Rc,tc,z);delete v[ic]}Ia(["labelAlign","labelBaseline"],ic)&&null===v[ic]&&delete v[ic]}if("grid"===p){if(v.grid)return v.encode&&({grid:a}=
v.encode,v.encode=Object.assign({},a?{grid:a}:{}),Qa(v.encode)&&delete v.encode),Object.assign({},{scale:ea,orient:E},v,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:x(n,0)})}else if(g.header||!b.mainExtracted){if(void 0!==Ea){var Jb,xc;p=Ea;null!==(Jb=v.encode)&&void 0!==Jb&&null!==(xc=Jb.labels)&&void 0!==xc&&xc.update&&Ca(v.encode.labels.update.text)&&(p=ab(Ea,"datum.label",v.encode.labels.update.text.signal));ch(v,"labels","text",{signal:p})}null===v.labelAlign&&delete v.labelAlign;
if(v.encode){for(const ic of tb)b.hasAxisPart(ic)||delete v.encode[ic];Qa(v.encode)&&delete v.encode}b=zk(Wa,a);return Object.assign({},{scale:ea,orient:E,grid:!1},b?{title:b}:{},v,!1===a.aria?{aria:!1}:{},{zindex:x(n,0)})}}}function Jj(b){const {axes:p}=b.component,a=[];for(const g of jg)if(p[g])for(const n of p[g])if(!n.get("disable")&&!n.get("gridScale")){const v="x"===g?"height":"width",z=b.getSizeSignalRef(v).signal;v!==z&&a.push({name:v,update:z})}return a}function Ak(b,p){const {x:a=[],y:g=
[]}=b;return[...a.map(n=>sh(n,"grid",p)),...g.map(n=>sh(n,"grid",p)),...a.map(n=>sh(n,"main",p)),...g.map(n=>sh(n,"main",p))].filter(n=>n)}function Kj(b,p,a,g){return Object.assign.apply(null,[{},...b.map(n=>{if("axisOrient"===n){n="x"===a?"bottom":"left";const v=p["x"===a?"axisBottom":"axisLeft"]||{},z=p["x"===a?"axisTop":"axisRight"]||{},E=new Set([...jd(v),...jd(z)]),ea={};for(const Ea of E.values())ea[Ea]={signal:`${g.signal} === "${n}" ? ${Mb(v[Ea])} : ${Mb(z[Ea])}`};return ea}return p[n]})])}
function Bk(b,p,a,g){var n="band"===p?["axisDiscrete","axisBand"]:"point"===p?["axisDiscrete","axisPoint"]:p in Pf?["axisQuantitative"]:"time"===p||"utc"===p?["axisTemporal"]:[];const v="x"===b?"axisX":"axisY";p=Ca(a)?"axisOrient":`axis${ya(a)}`;n=[...n,...n.map(z=>v+z.substr(4))];p=["axis",p,v];return{vlOnlyAxisConfig:Kj(n,g,b,a),vgAxisConfig:Kj(p,g,b,a),axisConfigStyle:Ck([...p,...n],g)}}function Ck(b,p){const a=[{}];for(const n of b){var g;if(b=null===(g=p[n])||void 0===g?void 0:g.style){b=A.array(b);
for(const v of b)a.push(p.style[v])}}return Object.assign.apply(null,a)}function th(b,p,a,g){g=void 0===g?{}:g;p=ed(b,a,p);if(void 0!==p)return{configFrom:"style",configValue:p};for(const v of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var n;if(void 0!==(null===(n=g[v])||void 0===n?void 0:n[b]))return{configFrom:v,configValue:g[v][b]}}return{}}function Dk(b,p,a,g,n){const v=null===p||void 0===p?void 0:p.labelAngle;if(void 0!==v)return Ca(v)?v:R(v);({configValue:p}=th("labelAngle",g,null===
p||void 0===p?void 0:p.style,n));if(void 0!==p)return R(p);if("x"===a&&Ia(["nominal","ordinal"],b.type)&&(!hd(b)||!b.timeUnit))return 270}function uh(b){return`(((${b.signal} % 360) + 360) % 360)`}function ui(b,p,a,g){if(void 0!==b)return"x"===a?Ca(b)?(g=uh(b),p=Ca(p)?`(${p.signal} === "top")`:"top"===p,{signal:`(45 < ${g} && ${g} < 135) || (225 < ${g} && ${g} < 315) ? "middle" :`+`(${g} <= 45 || 315 <= ${g}) === ${p} ? "bottom" : "top"`}):45<b&&135>b||225<b&&315>b?"middle":Ca(p)?{signal:`${p.signal} ${45>=
b||315<=b?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=b||315<=b)===("top"===p)?"bottom":"top":Ca(b)?(b=uh(b),p=Ca(p)?`(${p.signal} === "left")`:"left"===p,{signal:`${b} <= 45 || 315 <= ${b} || (135 <= ${b} && ${b} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${b} && ${b} <= 135) === ${p} ? "top" : "bottom"`}):45>=b||315<=b||135<=b&&225>=b?g?"middle":null:Ca(p)?{signal:`${p.signal} ${45<=b&&135>=b?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=b&&135>=b)===("left"===p)?"top":
"bottom"}function aj(b,p,a){if(void 0!==b){var g=(a="x"===a)?0:90,n=a?"bottom":"left";return Ca(b)?(b=uh(b),p=Ca(p)?`(${p.signal} === "${n}")`:p===n,{signal:`(${g?`(${b} + 90)`:b} % 180 === 0) ? ${a?null:'"center"'} :`+`(${g} < ${b} && ${b} < ${180+g}) === ${p} ? "left" : "right"`}):0===(b+g)%180?a?null:"center":Ca(p)?{signal:`${`${p.signal} ${g<b&&b<180+g?"\x3d\x3d\x3d":"!\x3d\x3d"} "${n}"`} ? "left" : "right"`}:(g<b&&b<180+g)===(p===n)?"left":"right"}}function Ag(b,p){var a="x"===p?"x2":"y2";p=
b.fieldDef(p);b=b.fieldDef(a);a=p?p.title:void 0;b=b?b.title:void 0;if(a&&b)return gd(a,b);if(a)return a;if(b)return b;if(void 0!==a)return a;if(void 0!==b)return b}function lg(b,p,a){return Ob(b,Object.assign({},{prefix:p,suffix:"sort_index"},null!==a&&void 0!==a?a:{}))}function Bg(b,p){return Ia(["top","bottom"],p)?"column":Ia(["left","right"],p)?"row":"row"===b?"row":"column"}function mg(b,p,a,g){return x((p||{})[b],("row"===g?a.headerRow:"column"===g?a.headerColumn:a.headerFacet)[b],a.header[b])}
function dh(b,p,a,g){const n={};for(const v of b)b=mg(v,p||{},a,g),void 0!==b&&(n[v]=b);return n}function Rh(b,p,a){switch(void 0===a?"middle":a){case "start":return{align:"left"};case "end":return{align:"right"}}return(b=aj(p,"row"===b?"left":"top","row"===b?"y":"x"))?{align:b}:{}}function Sh(b,p){return(b=ui(b,"row"===p?"left":"top","row"===p?"y":"x",!0))?{baseline:b}:{}}function vi(b,p,a){const {format:g,formatType:n,labelAngle:v,labelAnchor:z,labelOrient:E,labelExpr:ea}=dh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),
b.header,a,p),Ea=de({fieldOrDatumDef:b,format:g,formatType:n,expr:"parent",config:a}).signal,Wa=Bg(p,E);return Object.assign({},{text:{signal:ea?ab(ab(ea,"datum.label",Ea),"datum.value",Ob(b,{expr:"parent"})):Ea}},"row"===p?{orient:"left"}:{},{style:"guide-label",frame:"group"},Sh(v,Wa),Rh(Wa,v,z),Ek(a,b,p,Jd,Uc))}function Ek(b,p,a,g,n){const v={};for(const z of g)n[z]&&(g=mg(z,null===p||void 0===p?void 0:p.header,b,a),void 0!==g&&(v[n[z]]=g));return v}function bj(b){return[...wi(b,"width"),...wi(b,
"height"),...wi(b,"childWidth"),...wi(b,"childHeight")]}function wi(b,p){var a="width"===p?"x":"y",g=b.component.layoutSize.get(p);if(!g||"merged"===g)return[];p=b.getSizeSignalRef(p).signal;if("step"===g){if(g=b.getScaleComponent(a)){var n=g.get("type");const v=g.get("range");if(n in Hf&&qb(v))return n=b.scaleName(a),zg(b.parent)&&"independent"===b.parent.component.resolve.scale[a]?[{name:`${n}_step`,value:v.step}]:[{name:`${n}_step`,value:v.step},{name:p,update:cj(n,g,`domain('${n}').length`)}]}throw Error("layout size is step although width/height is not step.");
}return"container"==g?(a=(g=p.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",b=dc(b.config.view,g?"width":"height"),b=`isFinite(${a}) ? ${a} : ${b}`,[{name:p,init:b,on:[{update:b,events:"window:resize"}]}]):[{name:p,value:g}]}function cj(b,p,a){const g=p.get("type"),n=p.get("padding"),v=x(p.get("paddingOuter"),n);p=p.get("paddingInner");return`bandspace(${a}, ${Mb("band"===g?void 0!==p?p:n:1)}, ${Mb(v)}) * ${b}_step`}function Fk(b){return"childWidth"===b?"width":"childHeight"===b?"height":
b}function Lj(b,p){return jd(b).reduce((a,g)=>Object.assign({},a,Kh(p,b[g],g,n=>Eb(n.value))),{})}function dj(b,p){if(Ih(p)||zg(p))return"shared";if(Mj(p))return b in Df?"independent":"shared";throw Error("invalid model type for resolve");}function Nj(b,p){const a=p in Df?"axis":"legend";return"independent"===b.scale[p]?("shared"===b[a][p]&&pb(`Setting the scale to be independent for "${p}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):b[a][p]||"shared"}
function Gk(b){return Th(b,(p,a)=>Math.max(p,a.value))}function Uh(b){return Th(b,(p,a)=>x(p,a.value))}function Th(b,p){const a=b&&b.condition;if(a&&(A.isArray(a)||X(a)))return A.array(b.condition).reduce(p,b.value);if(X(b))return b.value}function Hk(b,p,a){b=p.get("selections");if(null!==b&&void 0!==b&&b.length){var g=A.stringValue(a.field);return b.map(n=>`(!length(data(${A.stringValue(Ta(n)+"_store")})) || (${n}[${g}] && indexof(${n}[${g}], datum.value) >= 0))`).join(" || ")}}function Ik(b,p,a,
g){return{signal:`clamp(${b.getSizeSignalRef(p).signal}, ${a}, ${g})`}}function Oj(b){var p;if(Bf(b)){var {encoding:a}=b,g={};for(const Se of["color",...qe]){var n=ge(a[Se]);if(n&&b.getScaleComponent(Se)&&("shape"!==Se||!hd(n)||"geojson"!==n.type)){{var v=n=void 0,z=void 0,E=void 0,ea=void 0,Ea=void 0;var Wa=void 0;var fb=b,Jb=Se;let ff=fb.legend(Jb);const {markDef:yg,encoding:ii,config:Pi}=fb;var xc=Pi.legend;b:{var ic=fb;var tc=Jb,Rc=ic.scaleName(tc);if("trail"===ic.mark){if("color"===tc){ic={stroke:Rc};
break b}if("size"===tc){ic={strokeWidth:Rc};break b}}ic="color"===tc?ic.markDef.filled?{fill:Rc}:{stroke:Rc}:{[tc]:Rc}}ic=new Fm({},ic);tc=null===(E=fb.fieldDef(Jb))||void 0===E?void 0:E.field;for(const uf of Ef(null!==(p=fb.component.selection)&&void 0!==p?p:{})){var bd;if((E=null!==(bd=uf.project.hasField[tc])&&void 0!==bd?bd:uf.project.hasChannel[Jb])&&Wl.defined(uf)){var Hd;Rc=null!==(Hd=ic.get("selections"))&&void 0!==Hd?Hd:[];Rc.push(uf.name);ic.set("selections",Rc,!1);E.hasLegend=!0}}E=void 0!==
ff?!ff:xc.disable;ic.set("disable",E,void 0!==ff);if(E)n=ic;else{ff=ff||{};tc=fb.getScaleComponent(Jb).get("type");E=ge(ii[Jb]);var Pd=hd(E)?null===(Wa=Vc(E.timeUnit))||void 0===Wa?void 0:Wa.unit:void 0;Rc=ff.orient||Pi.legend.orient||"right";Wa={legend:ff,channel:Jb,timeUnit:Pd,scaleType:tc};({legend:Pd}=Wa);Pd=Pd.type;b:{var {channel:fd,timeUnit:Ae,scaleType:Wd}=Wa;if(Da(fd)){if(Ia(["quarter","month","day"],Ae)){Wa="symbol";break b}if(Wd in of){Wa="gradient";break b}}Wa="symbol"}Wa=x(Pd,Wa);var {legendConfig:wd,
legendType:Me,orient:df,legend:pe}={legend:ff,legendType:Wa,orient:Rc,legendConfig:xc};if(null!==(z=null!==(v=pe.direction)&&void 0!==v?v:wd[Me?"gradientDirection":"symbolDirection"])&&void 0!==z)v=z;else b:{switch(df){case "top":case "bottom":v="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:v="gradient"===Me?"horizontal":void 0;break b}v=void 0}xc={legend:ff,channel:Jb,model:fb,markDef:yg,encoding:ii,fieldOrDatumDef:E,legendConfig:xc,config:Pi,scaleType:tc,orient:Rc,
legendType:Wa,direction:v};for(const uf of Xl)if(!("gradient"===Wa&&uf.startsWith("symbol")||"symbol"===Wa&&uf.startsWith("gradient"))&&(v=uf in Yl?Yl[uf](xc):ff[uf],void 0!==v)){b:{z=fb.fieldDef(Jb);switch(uf){case "disable":z=void 0!==ff;break b;case "values":z=!(null===ff||void 0===ff||!ff.values);break b;case "title":if("title"===uf&&v===(null===z||void 0===z?void 0:z.title)){z=!0;break b}}z=v===(ff||{})[uf]}(z||void 0===Pi.legend[uf])&&ic.set(uf,v,z)}xc=null!==(Ea=null===(ea=ff)||void 0===ea?
void 0:ea.encoding)&&void 0!==Ea?Ea:{};ea=ic.get("selections");Ea={};Jb={fieldOrDatumDef:E,model:fb,channel:Jb,legendCmpt:ic,legendType:Wa};for(const uf of"labels legend title symbols gradient entries".split(" ")){var mf;v=Lj(null!==(mf=xc[uf])&&void 0!==mf?mf:{},fb);v=uf in Zl?Zl[uf](v,Jb):v;void 0===v||Qa(v)||(Ea[uf]=Object.assign({},null!==ea&&void 0!==ea&&ea.length&&hd(E)?{name:`${Ta(E.field)}_legend_${uf}`}:{},null!==ea&&void 0!==ea&&ea.length?{interactive:!!ea}:{},{update:v}))}Qa(Ea)||ic.set("encode",
Ea,!(null===(n=ff)||void 0===n||!n.encoding));n=ic}}g[Se]=n}}p=g}else{const {legends:Se,resolve:ff}=b.component;for(a of b.children){Oj(a);for(g of jd(a.component.legends))ff.legend[g]=Nj(b.component.resolve,g),"shared"===ff.legend[g]&&(Se[g]=Pj(Se[g],a.component.legends[g]),Se[g]||(ff.legend[g]="independent",delete Se[g]))}for(n of jd(Se))for(fb of b.children)fb.component.legends[n]&&"shared"===ff.legend[n]&&delete fb.component.legends[n];p=Se}return b.component.legends=p}function Pj(b,p){if(!b)return p.clone();
var a=b.getWithExplicit("orient");const g=p.getWithExplicit("orient");if(!a.explicit||!g.explicit||a.value===g.value){var n=!1;for(const Ea of Xl)a=ye(b.getWithExplicit(Ea),p.getWithExplicit(Ea),Ea,"legend",(Wa,fb)=>{switch(Ea){case "symbolType":return Wa="circle"===fb.value?fb:Wa,Wa;case "title":return ie(Wa,fb);case "type":return n=!0,md("symbol")}return Td(Wa,fb,Ea,"legend")}),b.setWithExplicit(Ea,a);if(n){var v,z,E,ea;null!==(v=b.implicit)&&void 0!==v&&null!==(z=v.encode)&&void 0!==z&&z.gradient&&
ha(b.implicit,["encode","gradient"]);null!==(E=b.explicit)&&void 0!==E&&null!==(ea=E.encode)&&void 0!==ea&&ea.gradient&&ha(b.explicit,["encode","gradient"])}return b}}function ej(b){const p=b.component.legends,a={};for(const n of jd(p)){var g=b.getScaleComponent(n);g=We(g.get("domains"));if(a[g])for(const v of a[g])Pj(v,p[n])||a[g].push(p[n]);else a[g]=[p[n].clone()]}return Ef(a).flat().map(n=>{{var v=b.config,z,E=n.combine();n=Object.assign({},E);const Rc=E.disable;E=E.labelExpr;n=(delete n.disable,
delete n.labelExpr,delete n.selections,n);if(Rc)var ea=void 0;else{!1===v.aria&&void 0==n.aria&&(n.aria=!1);if(null!==(z=n.encode)&&void 0!==z&&z.symbols){v=n.encode.symbols.update;!v.fill||"transparent"===v.fill.value||v.stroke||n.stroke||(v.stroke={value:"transparent"});for(var Ea of qe)n[Ea]&&delete v[Ea]}n.title||delete n.title;if(void 0!==E){var Wa,fb;Ea=E;null!==(Wa=n.encode)&&void 0!==Wa&&null!==(fb=Wa.labels)&&void 0!==fb&&fb.update&&Ca(n.encode.labels.update.text)&&(Ea=ab(E,"datum.label",
n.encode.labels.update.text.signal));Wa=n;fb={signal:Ea};var Jb,xc,ic,tc;null!==(ea=Wa.encode)&&void 0!==ea?ea:Wa.encode={};null!==(xc=(Jb=Wa.encode).labels)&&void 0!==xc?xc:Jb.labels={};null!==(tc=(ic=Wa.encode.labels).update)&&void 0!==tc?tc:ic.update={};Wa.encode.labels.update.text=fb}ea=n}}return ea}).filter(n=>void 0!==n)}function Qj(b){return b.children.reduce((p,a)=>p.concat(a.assembleProjections()),fj(b))}function fj(b){var p=b.component.projection;if(!p||p.merged)return[];const a=p.combine(),
{name:g}=a;if(p.data){const n={signal:`[${p.size.map(v=>v.signal).join(", ")}]`};p=p.data.reduce((v,z)=>{z=Ca(z)?z.signal:`data('${b.lookupDataSource(z)}')`;v.includes(z)||v.push(z);return v},[]);if(0>=p.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:g,size:n,fit:{signal:1<p.length?`[${p.join(", ")}]`:p[0]}},a)]}return[Object.assign({},{name:g},{translate:{signal:"[width / 2, height / 2]"}},a)]}function gj(b){var p=b.component,a;if(Bf(b))if(b.hasProjection){const v=
H(b.specifiedProjection);var g=!(v&&(null!=v.scale||null!=v.translate));const z=g?[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]:void 0;if(g){g=[];const {encoding:E}=b;for(n of[["longitude","latitude"],["longitude2","latitude2"]])(ge(E[n[0]])||ge(E[n[1]]))&&g.push({signal:b.getName(`geojson_${g.length}`)});b.channelHasField("shape")&&"geojson"===b.typedFieldDef("shape").type&&g.push({signal:b.getName(`geojson_${g.length}`)});0===g.length&&g.push(b.requestDataName(pf.Main));var n=g}else n=
void 0;b=new $l(b.projectionName(!0),Object.assign({},null!==(a=H(b.config.projection))&&void 0!==a?a:{},null!==v&&void 0!==v?v:{}),z,n);b.get("type")||b.set("type","equalEarth",!1);a=b}else a=void 0;else a=kl(b);p.projection=a}function Rj(b,p){const a=xa(Gm,g=>!A.hasOwnProperty(b.explicit,g)&&!A.hasOwnProperty(p.explicit,g)||A.hasOwnProperty(b.explicit,g)&&A.hasOwnProperty(p.explicit,g)&&zf(b.get(g),p.get(g))?!0:!1);if(zf(b.size,p.size)){if(a)return b;if(zf(b.explicit,{}))return p;if(zf(p.explicit,
{}))return b}return null}function kl(b){if(0!==b.children.length){var p;for(var a of b.children)gj(a);a=xa(b.children,g=>{if(g=g.component.projection){if(p)return(g=Rj(p,g))&&(p=g),!!g;p=g}return!0});if(p&&a){a=b.projectionName(!0);const g=new $l(a,p.specifiedProjection,p.size,xe(p.data));for(const n of b.children)if(b=n.component.projection)b.isFit&&g.data.push(...n.component.projection.data),n.renameProjection(b.get("name"),a),b.merged=!0;return g}}}function xi(b,p,a){var g;a=null!==(g=Pe(a,void 0))&&
void 0!==g?g:{};p=`${U(a)}_${p}`;return b.getName(`${p}_bins`)}function Sg(b,p,a){let g;g="as"in b?A.isString(b.as)?[b.as,`${b.as}_end`]:[b.as[0],b.as[1]]:[Ob(b,{forAs:!0}),Ob(b,{binSuffix:"end",forAs:!0})];p=Object.assign({},Pe(p,void 0));var n=b.field;n=`${U(p)}_${n}`;var v={signal:a.getName(`${n}_bins`),extentSignal:a.getName(`${n}_extent`)};const {signal:z,extentSignal:E}=v;if(hb(p.extent)){var ea=p.extent;ea=Ij(a,ea.param,ea);delete p.extent}b=Object.assign({},{bin:p,field:b.field,as:[g]},z?
{signal:z}:{},E?{extentSignal:E}:{},ea?{span:ea}:{});return{key:n,binComponent:b}}function yi(b){return"'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):b}function zi(b,p){b=ua(b);if("number"===p)return`toNumber(${b})`;if("boolean"===p)return`toBoolean(${b})`;if("string"===p)return`toString(${b})`;if("date"===p)return`toDate(${b})`;if("flatten"===p)return b;if(p.startsWith("date:"))return p=yi(p.slice(5,p.length)),`timeParse(${b},'${p}')`;if(p.startsWith("utc:"))return p=
yi(p.slice(4,p.length)),`utcParse(${b},'${p}')`;pb(`Unrecognized parse "${p}".`);return null}function eh(b){const p={};sb(b.filter,a=>{if(Ie(a)){let n=null;if(pd(a))n=Na(a.equal);else if(qd(a))n=Na(a.lte);else if(ld(a))n=Na(a.lt);else if(Od(a))n=Na(a.gt);else if(fe(a))n=Na(a.gte);else if(le(a))n=a.range[0];else if(Kd(a)){var g;n=(null!==(g=a.oneOf)&&void 0!==g?g:a["in"])[0]}n&&(Ub(n)?p[a.field]="date":A.isNumber(n)?p[a.field]="number":A.isString(n)&&(p[a.field]="string"));a.timeUnit&&(p[a.field]=
"date")}});return p}function Sj(b){function p(g){if(ef(g))a[g.field]="date";else{var n;if(n="quantitative"===g.type)n=g.aggregate,n=A.isString(n)&&Ia(["min","max"],n);n?a[g.field]="number":1<I(g.field)?g.field in a||(a[g.field]="flatten"):Oa(g)&&fc(g.sort)&&1<I(g.sort.field)&&(g.sort.field in a||(a[g.sort.field]="flatten"))}}const a={};(Bf(b)||zg(b))&&b.forEachFieldDef((g,n)=>{F(g)?p(g):(n=J(n),n=b.fieldDef(n),p(Object.assign({},g,{type:n.type})))});if(Bf(b)){const {mark:g,markDef:n,encoding:v}=b;
if(Rb(g)&&!b.encoding.order){const z=v["horizontal"===n.orient?"y":"x"];!hd(z)||"quantitative"!==z.type||z.field in a||(a[z.field]="number")}}return a}function Vh(b){return b instanceof Ai||b instanceof Jk||b instanceof Kk}function ll(b){return b.stack.stackBy.reduce((p,a)=>{(a=Ob(a.fieldDef))&&p.push(a);return p},[])}function ml(b){return A.isArray(b)&&b.every(p=>A.isString(p))&&1<b.length}function nl(b){function p(a){if(!(a instanceof hj)){const g=a.clone();if(g instanceof ng){const n="scale_"+
g.getSource();g.setSource(n);b.model.component.data.outputNodes[n]=g}else(g instanceof fh||g instanceof Wh||g instanceof Tj||g instanceof ij)&&g.addDimensions(b.fields);for(const n of a.children.flatMap(p))n.parent=g;return[g]}return a.children.flatMap(p)}return p}function Bi(b){if(b instanceof hj)if(1!==b.numChildren()||b.children[0]instanceof ng){var p=b.model.component.data.main;Xh(p);const a=nl(b);b=b.children.map(a).flat();for(const g of b)g.parent=p}else p=b.children[0],(p instanceof fh||p instanceof
Wh||p instanceof Tj||p instanceof ij)&&p.addDimensions(b.fields),p.swapWithParent(),Bi(b);else b.children.map(Bi)}function Xh(b){if(b instanceof ng&&b.type===pf.Main&&1===b.numChildren()){const p=b.children[0];p instanceof hj||(p.swapWithParent(),Xh(b))}}function Uj(b){for(const p of b){for(const a of p.children)if(a.parent!==p)return!1;if(!Uj(p.children))return!1}return!0}function tg(b,p){let a=!1;for(const g of p)a=b.optimize(g)||a;return a}function Vj(b,p,a){let g=b.sources,n=!1;n=tg(new Hm,g)||
n;n=tg(new Im(p),g)||n;g=g.filter(v=>0<v.numChildren());n=tg(new Jm,g)||n;g=g.filter(v=>0<v.numChildren());a||(n=tg(new Km,g)||n,n=tg(new Lm(p),g)||n,n=tg(new Mm,g)||n,n=tg(new Nm,g)||n,n=tg(new Om,g)||n,n=tg(new Pm,g)||n,n=tg(new Qm,g)||n,n=tg(new Rm,g)||n);b.sources=g;return n}function Hg(b){const p=b.component.scales;for(const Ea of jd(p)){var a=b,g=Ea,n=a.getScaleComponent(g).get("type"),{encoding:v}=a;var z=a.scaleDomain(g);var E=a.typedFieldDef(g),ea=a.config.scale;if("unaggregated"===z){const {valid:Wa,
reason:fb}=Yh(E,n);Wa||(pb(fb),z=void 0)}else void 0===z&&ea.useUnaggregatedDomain&&({valid:E}=Yh(E,n),E&&(z="unaggregated"));z!==a.scaleDomain(g)&&(a.specifiedScales[g]=Object.assign({},a.specifiedScales[g],{domain:z}));a="x"===g&&ge(v.x2)?ge(v.x)?ye(gh(n,z,a,"x"),gh(n,z,a,"x2"),"domain","scale",Ci):gh(n,z,a,"x2"):"y"===g&&ge(v.y2)?ge(v.y)?ye(gh(n,z,a,"y"),gh(n,z,a,"y2"),"domain","scale",Ci):gh(n,z,a,"y2"):gh(n,z,a,g);p[Ea].setWithExplicit("domains",a);v=void 0;g=b.component.scales[Ea];z=b.specifiedScales[Ea].domain;
n=null===(v=b.fieldDef(Ea))||void 0===v?void 0:v.bin;v=Fa(z)&&z;n=A.isObject(n)&&hb(n.extent)&&n.extent;(v||n)&&g.set("selectionExtent",null!==v&&void 0!==v?v:n,!0);if(b.component.data.isFaceted){for(g=b;!zg(g)&&g.parent;)g=g.parent;if("shared"===g.component.resolve.scale[Ea])for(const Wa of a.value)Ya(Wa)&&(Wa.data="scale_"+Wa.data.replace("scale_",""))}}}function Wj(b){for(var p of b.children){var a=p;Bf(a)?Hg(a):Wj(a)}a=b.component.scales;for(const n of jd(a)){let v;p=null;for(const z of b.children){var g=
z.component.scales[n];g&&(v=void 0===v?g.getWithExplicit("domains"):ye(v,g.getWithExplicit("domains"),"domains","scale",Ci),g=g.get("selectionExtent"),p&&g&&p.param!==g.param&&pb("The same selection must be used to override scale domains in a layered view."),p=g)}a[n].setWithExplicit("domains",v);p&&a[n].set("selectionExtent",p,!0)}}function Zh(b,p,a){return b.map(g=>({signal:`{data: ${Kf(g,{timeUnit:a,type:p})}}`}))}function Xj(b,p,a){var g;a=null===(g=Vc(a))||void 0===g?void 0:g.unit;return"temporal"===
p||a?Zh(b,p,a):[b]}function gh(b,p,a,g){var {encoding:n}=a;n=ge(n[g]);const {type:v}=n,z=n.timeUnit;if(p&&p.unionWith)return g=gh(b,void 0,a,g),p=Xj(p.unionWith,v,z),Bd([...g.value,...p]);if(Ca(p))return Bd([p]);if(p&&"unaggregated"!==p&&!Fa(p))return Bd(Xj(p,v,z));var E=a.stack;if(E&&g===E.fieldChannel){if("normalize"===E.offset)return md([[0,1]]);p=a.requestDataName(pf.Main);return md([{data:p,field:a.vgField(g,{suffix:"start"})},{data:p,field:a.vgField(g,{suffix:"end"})}])}E=Rf[g]&&hd(n)?Di(a,
g,b):void 0;if(Ee(n))return g=Xj([n.datum],v,z),md(g);if("unaggregated"===p)return g=a.requestDataName(pf.Main),{field:p}=n,md([{data:g,field:Ob({field:p,aggregate:"min"})},{data:g,field:Ob({field:p,aggregate:"max"})}]);if(wa(n.bin)){if(b in Hf)return"bin-ordinal"===b?md([]):md([{data:za(E)?a.requestDataName(pf.Main):a.requestDataName(pf.Raw),field:a.vgField(g,cf(n,g)?{binSuffix:"range"}:{}),sort:!0!==E&&A.isObject(E)?E:{field:a.vgField(g,{}),op:"min"}}]);({bin:p}=n);if(wa(p)){const ea=xi(a,n.field,
p);return md([new Cg(()=>{const Ea=a.getSignalName(ea);return`[${Ea}.start, ${Ea}.stop]`})])}return md([{data:a.requestDataName(pf.Main),field:a.vgField(g,{})}])}return n.timeUnit&&Ia(["time","utc"],b)&&Ke(n,Bf(a)?a.encoding[ca(g)]:void 0,a.markDef,a.config)?(p=a.requestDataName(pf.Main),md([{data:p,field:a.vgField(g)},{data:p,field:a.vgField(g,{suffix:"end"})}])):E?md([{data:za(E)?a.requestDataName(pf.Main):a.requestDataName(pf.Raw),field:a.vgField(g),sort:E}]):md([{data:a.requestDataName(pf.Main),
field:a.vgField(g)}])}function jj(b,p){const {op:a,field:g,order:n}=b;return Object.assign({},{op:null!==a&&void 0!==a?a:p?"sum":"min"},g?{field:Aa(g)}:{},n?{order:n}:{})}function Di(b,p,a){if(a in Hf){var g=b.fieldDef(p);a=g.sort;if(Wc(a))return{op:"min",field:lg(g,p),order:"ascending"};({stack:g}=b);var n=g?[...(g.groupbyField?[g.groupbyField]:[]),...g.stackBy.map(v=>v.fieldDef.field)]:void 0;if(fc(a))return b=g&&!n.includes(a.field),jj(a,b);if(a&&a.encoding){const {encoding:v,order:z}=a;b=b.fieldDef(v);
const {aggregate:E,field:ea}=b;p=g&&!n.includes(ea);if(m(E)||q(E))return jj({field:Ob(b),order:z},p);if(w(E)||!E)return jj({op:E,field:ea,order:z},p)}else{if("descending"===a)return{op:"min",field:b.vgField(p),order:"descending"};if(Ia(["ascending",void 0],a))return!0}}}function Yh(b,p){const {aggregate:a,type:g}=b;return a?A.isString(a)&&!ol[a]?{valid:!1,reason:`Unaggregated domain not applicable for "${a}" since it produces values outside the origin domain of the source data.`}:"quantitative"===
g&&"log"===p?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${We(b)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${We(b)}).`}}function Ci(b,p,a,g){if(b.explicit&&p.explicit){var n=p.value;a=`Conflicting ${g.toString()} property "${a.toString()}" (${We(b.value)} and ${We(n)}). Using the union of the two domains.`;pb(a)}return{explicit:b.explicit,value:[...b.value,...p.value]}}function pl(b){var p=na(b.map(n=>Ya(n)?(n=Object.assign({},
n),delete n.sort,n):n),ib),a=na(b.map(n=>{if(Ya(n))return n=n.sort,void 0===n||za(n)||("op"in n&&"count"===n.op&&delete n.field,"ascending"===n.order&&delete n.order),n}).filter(n=>void 0!==n),ib);if(0!==p.length){if(1===p.length){p=b[0];if(Ya(p)&&0<a.length){var g=a[0];1<a.length?(pb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0):A.isObject(g)&&"field"in g&&p.field===g.field&&(g=g.order?{order:g.order}:!0);return Object.assign({},p,{sort:g})}return p}a=
na(a.map(n=>{if(za(n)||!("op"in n)||A.isString(n.op)&&n.op in ql)return n;pb(`Dropping sort property ${We(n)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),ib);1===a.length?g=a[0]:1<a.length&&(pb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0);a=na(b.map(n=>Ya(n)?n.data:null),n=>n);return 1===a.length&&null!==a[0]?Object.assign({},{data:a[0],fields:p.map(n=>n.field)},g?{sort:g}:{}):Object.assign({},{fields:p},
g?{sort:g}:{})}}function vh(b){if(Ya(b)&&A.isString(b.field))return b.field;var p=A.isArray(b)?!1:"fields"in b&&!("data"in b);if(p){let a;for(const g of b.fields)if(Ya(g)&&A.isString(g.field))if(!a)a=g.field;else if(a!==g.field)return pb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),a;pb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return a}p=A.isArray(b)?!1:"fields"in b&&"data"in b;if(p)return pb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),b=b.fields[0],A.isString(b)?b:void 0}function kj(b,p){p=b.component.scales[p].get("domains").map(a=>{Ya(a)&&(a.data=b.lookupDataSource(a.data));return a});return pl(p)}function Yj(b){return Ih(b)||Mj(b)?b.children.reduce((p,a)=>p.concat(Yj(a)),Zj(b)):Zj(b)}function Zj(b){return jd(b.component.scales).reduce((p,
a)=>{var g=b.component.scales[a];if(g.merged)return p;var n=g.combine(),v=Object.assign({},n);const z=n.name,E=n.type;var ea=n.selectionExtent;const Ea=n.reverse;v=(delete v.name,delete v.type,delete v.selectionExtent,delete v.domains,delete v.range,delete v.reverse,v);n=n.range;a in Df?qb(n)&&(n={step:{signal:`${z}_step`}}):A.isObject(n)&&Ya(n)&&(n=Object.assign({},n,{data:b.lookupDataSource(n.data)}));a=kj(b,a);ea?(ea=Ij(b,ea.param,ea),g={signal:g.get("type")in Qf&&A.isArray(a)&&a[0]>a[1]?`isValid(${ea}) && reverse(${ea})`:
ea}):g=null;p.push(Object.assign({},{name:z,type:E},a?{domain:a}:{},g?{domainRaw:g}:{},{range:n},void 0!==Ea?{reverse:Ea}:{},v));return p},[])}function ak(b){return"x"===b?"width":"y"===b?"height":void 0}function bk(b,p){var a=b.fieldDef(p);if(null!==a&&void 0!==a&&a.bin){const {bin:g,field:n}=a;a=ak(p);const v=b.getName(a);if(A.isObject(g)&&g.binned&&void 0!==g.step)return new Cg(()=>{var z=b.scaleName(p);z=`(domain("${z}")[1] - domain("${z}")[0]) / ${g.step}`;return`${b.getSignalName(v)} / (${z})`});
if(wa(g)){const z=xi(b,n,g);return new Cg(()=>{var E=b.getSignalName(z);E=`(${E}.stop - ${E}.start) / ${E}.step`;return`${b.getSignalName(v)} / (${E})`})}}}function Ei(b,p){const a=p.specifiedScales[b];var {size:g}=p,n=p.getScaleComponent(b).get("type");for(var v of Sm)if(void 0!==a[v]){const ea=rb(n,v),Ea=gb(b,v);if(ea)if(Ea)pb(Ea);else switch(v){case "range":n=a.range;if(A.isArray(n)){if(b in Df)return Bd(n.map(Wa=>{if("width"===Wa||"height"===Wa){Wa=p.getName(Wa);const fb=p.getSignalName.bind(p);
return Cg.fromName(fb,Wa)}return Wa}))}else if(A.isObject(n))return Bd({data:p.requestDataName(pf.Main),field:n.field,sort:{op:"min",field:p.vgField(b)}});return Bd(n);case "scheme":return Bd(Lk(a[v]))}else pb(Wb(n,v,b))}if("x"===b||"y"===b)if(v="x"===b?"width":"height",g=g[v],vb(g)){if(n in Hf)return Bd({step:g.step});pb(vc(v))}const {rangeMin:z,rangeMax:E}=a;b=Fi(b,p);return(void 0!==z||void 0!==E)&&rb(n,"rangeMin")&&A.isArray(b)&&2===b.length?Bd([null!==z&&void 0!==z?z:b[0],null!==E&&void 0!==
E?E:b[1]]):md(b)}function Lk(b){return!A.isString(b)&&b.name?Object.assign({},{scheme:b.name},Gb(b,["name"])):{scheme:b}}function Fi(b,p){const {size:a,config:g,mark:n,encoding:v}=p;var z=p.getSignalName.bind(p),{type:E}=ge(v[b]);const ea=p.getScaleComponent(b).get("type"),{domain:Ea,domainMid:Wa}=p.specifiedScales[b];switch(b){case "x":case "y":if(Ia(["point","band"],ea))if("x"===b&&!a.width){if(E=Ac(g.view,"width"),vb(E))return E}else if("y"===b&&!a.height&&(E=Ac(g.view,"height"),vb(E)))return E;
E=ak(b);E=p.getName(E);return"y"===b&&ea in Qf?[Cg.fromName(z,E),0]:[0,Cg.fromName(z,E)];case "size":return z=p.component.scales[b].get("zero"),z=Mk(n,z,g),E=rl(n,a,p,g),ea in Xg?wh(z,E,sl(ea,g,Ea,b)):[z,E];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Cg(()=>{const fb=p.getSignalName("width"),Jb=p.getSignalName("height");return`min(${fb},${Jb})/2`})];case "strokeWidth":return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,
2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===ea?"nominal"===E?"category":"ordinal":void 0!==Wa?"diverging":"rect"===n||"geoshape"===n?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[g.scale.minOpacity,g.scale.maxOpacity]}throw Error(`Scale range undefined for channel ${b}`);}function sl(b,p,a,g){switch(b){case "quantile":return p.scale.quantileCount;case "quantize":return p.scale.quantizeCount;case "threshold":if(void 0!==
a&&A.isArray(a))return a.length+1;pb(`Domain for ${g} is required for threshold scale.`);return 3}}function wh(b,p,a){const g=()=>{const n=Mb(p),v=Mb(b),z=`(${n} - ${v}) / (${a} - 1)`;return`sequence(${v}, ${n} + ${z}, ${z})`};return Ca(p)?new Cg(g):{signal:g()}}function Mk(b,p,a){if(p)return Ca(p)?{signal:`${p.signal} ? 0 : ${Mk(b,!1,a)}`}:0;switch(b){case "bar":case "tick":return a.scale.minBandSize;case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;
case "point":case "square":case "circle":return a.scale.minSize}throw Error(Kb("size",b));}function rl(b,p,a,g){a={x:bk(a,"x"),y:bk(a,"y")};switch(b){case "bar":case "tick":if(void 0!==g.scale.maxBandSize)return g.scale.maxBandSize;const n=ck(p,a,g.view);return A.isNumber(n)?n-1:new Cg(()=>`${n.signal} - 1`);case "line":case "trail":case "rule":return g.scale.maxStrokeWidth;case "text":return g.scale.maxFontSize;case "point":case "square":case "circle":if(g.scale.maxSize)return g.scale.maxSize;const v=
ck(p,a,g.view);return A.isNumber(v)?Math.pow(.95*v,2):new Cg(()=>`pow(${.95} * ${v.signal}, 2)`)}throw Error(Kb("size",b));}function ck(b,p,a){const g=vb(b.width)?b.width.step:Ec(a,"width"),n=vb(b.height)?b.height.step:Ec(a,"height");return p.x||p.y?new Cg(()=>`min(${[p.x?p.x.signal:g,p.y?p.y.signal:n].join(", ")})`):Math.min(g,n)}function xh(b,p){if(Bf(b)){const z=b.component.scales,{config:E,encoding:ea,markDef:Ea,specifiedScales:Wa}=b;for(const fb of jd(z)){var a=Wa[fb];const Jb=z[fb];var g=b.getScaleComponent(fb),
n=ge(ea[fb]),v=a[p];const xc=g.get("type"),ic=g.get("padding");g=g.get("paddingInner");const tc=rb(xc,p),Rc=gb(fb,p);void 0!==v&&(tc?Rc&&pb(Rc):pb(Wb(xc,p,fb)));if(tc&&void 0===Rc)if(void 0!==v)switch(v=n.timeUnit,n=n.type,p){case "domainMax":case "domainMin":Ub(a[p])||"temporal"===n||v?Jb.set(p,{signal:Kf(a[p],{type:n,timeUnit:v})},!0):Jb.set(p,a[p],!0);break;default:Jb.copyKeyFromObject(p,a)}else a=p in am?am[p]({model:b,channel:fb,fieldOrDatumDef:n,scaleType:xc,scalePadding:ic,scalePaddingInner:g,
domain:a.domain,markDef:Ea,config:E}):E.scale[p],void 0!==a&&Jb.set(p,a,!1)}}else $h(b,p)}function lj(b){if(Bf(b)){const p=b.component.scales;for(const a of Vi){const g=p[a];if(!g)continue;const n=Ei(a,b);g.setWithExplicit("range",n)}}else $h(b,"range")}function $h(b,p){const a=b.component.scales;for(var g of b.children)"range"===p?lj(g):xh(g,p);for(const n of jd(a)){let v;for(const z of b.children)if(g=z.component.scales[n])g=g.getWithExplicit(p),v=ye(v,g,p,"scale",id((E,ea)=>{switch(p){case "range":if(E.step&&
ea.step)return E.step-ea.step}return 0}));a[n].setWithExplicit(p,v)}}function dk(b,p){const a=p.bin;if(wa(a)){const g=xi(b,p.field,a);return new Cg(()=>b.getSignalName(g))}if(cb(a)&&A.isObject(a)&&void 0!==a.step)return{step:a.step}}function tl(b,p,a){switch(p.type){case "nominal":case "ordinal":var g;if(Da(b)||"discrete"===l(b))return"shape"===b&&"ordinal"===p.type&&pb(ec(b,"ordinal")),"ordinal";if(b in Df){if(Ia(["rect","bar","image","rule"],a.type))return"band"}else if("arc"===a.type&&b in ek)return"band";
b=a[W(b)];return Zc(b)||Hb(p)&&null!==(g=p.axis)&&void 0!==g&&g.tickBand?"band":"point";case "temporal":if(!Da(b)){if("discrete"===l(b))return pb(ec(b,"temporal")),"ordinal";if(hd(p)&&p.timeUnit&&Vc(p.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Da(b)){if(hd(p)&&wa(p.bin))return"bin-ordinal"}else if("discrete"===l(b))return pb(ec(b,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${p.type}".`);}function Nk(b){if(Bf(b))b.component.scales=
ul(b);else{var p=b.component;const n=b.component.scales={},v={},z=b.component.resolve;for(const E of b.children){Nk(E);for(const ea of jd(E.component.scales)){var a,g;null!==(g=(a=z.scale)[ea])&&void 0!==g?g:a[ea]=dj(ea,b);if("shared"===z.scale[ea]){const Ea=v[ea],Wa=E.component.scales[ea].getWithExplicit("type");if(Ea){const fb=se[Ea.value],Jb=se[Wa.value];fb===Jb||"ordinal-position"===fb&&"time"===Jb||"ordinal-position"===Jb&&"time"===fb?v[ea]=ye(Ea,Wa,"type","scale",Tm):(z.scale[ea]="independent",
delete v[ea])}else v[ea]=Wa}}}for(const E of jd(v)){a=b.scaleName(E,!0);n[E]=new bm(a,v[E]);for(const ea of b.children)if(g=ea.component.scales[E])ea.renameScale(g.get("name"),a),g.merged=!0}p.scales=n}}function ul(b){const {encoding:p,mark:a,markDef:g}=b;return Vi.reduce((n,v)=>{var z=ge(p[v]);if(z&&a===mj&&"shape"===v&&"geojson"===z.type)return n;let E=z&&z.scale;if(z&&null!==E&&!1!==E){var ea;null!==(ea=E)&&void 0!==ea?ea:E={};var Ea=E;ea=tl(v,z,g);({type:Ea}=Ea);if(Rf[v])if(void 0!==Ea)if(Lb(v,
Ea)){var Wa;if(Wa=hd(z))Wa=Ea,z=z.type,Wa=!(Ia(["ordinal","nominal"],z)?void 0===Wa||Wa in Hf:"temporal"===z?Ia([Af.TIME,Af.UTC,void 0],Wa):"quantitative"===z?Ia([Af.LOG,Af.POW,Af.SQRT,Af.SYMLOG,Af.QUANTILE,Af.QUANTIZE,Af.THRESHOLD,Af.LINEAR,void 0],Wa):1);Wa?(pb(`FieldDef does not work with "${Ea}" scale. We are using "${ea}" scale instead.`),z=ea):z=Ea}else pb(`Channel "${v}" does not work with "${Ea}" scale. We are using "${ea}" scale instead.`),z=ea;else z=ea;else z=null;n[v]=new bm(b.scaleName(`${v}`,
!0),{value:z,explicit:E.type===z})}return n},{})}function Bf(b){return"unit"===(null===b||void 0===b?void 0:b.type)}function zg(b){return"facet"===(null===b||void 0===b?void 0:b.type)}function Mj(b){return"concat"===(null===b||void 0===b?void 0:b.type)}function Ih(b){return"layer"===(null===b||void 0===b?void 0:b.type)}function Ok(b){function p(g,n){g instanceof Ai&&!(g.isGenerator||"url"in g.data)&&(b.push(n),n={name:null,source:n.name,transform:[]});if(g instanceof og)if(g.parent instanceof Ai&&
!n.source){var v;n.format=Object.assign({},null!==(v=n.format)&&void 0!==v?v:{},{parse:g.assembleFormatParse()});n.transform.push(...g.assembleTransforms(!0))}else n.transform.push(...g.assembleTransforms());if(g instanceof hj)n.name||(n.name=`data_${a++}`),!n.source||0<n.transform.length?(b.push(n),g.data=n.name):g.data=n.source,b.push(...g.assemble());else switch((g instanceof Jk||g instanceof Kk||g instanceof Pk||g instanceof fk||g instanceof gk||g instanceof Qk||g instanceof fh||g instanceof Rk||
g instanceof Tj||g instanceof ij||g instanceof vl||g instanceof wl||g instanceof xl||g instanceof yl||g instanceof zl||g instanceof Al||g instanceof Gi||g instanceof Bl||g instanceof Cl)&&n.transform.push(g.assemble()),(g instanceof yh||g instanceof zh||g instanceof nj||g instanceof Wh||g instanceof hk)&&n.transform.push(...g.assemble()),g instanceof ng&&(n.source&&0===n.transform.length?g.setSource(n.source):g.parent instanceof ng?g.setSource(n.name):(n.name||(n.name=`data_${a++}`),g.setSource(n.name),
1===g.numChildren()&&(b.push(n),n={name:null,source:n.name,transform:[]}))),g.numChildren()){case 0:g instanceof ng&&(!n.source||0<n.transform.length)&&b.push(n);break;case 1:p(g.children[0],n);break;default:n.name||(n.name=`data_${a++}`);v=n.name;!n.source||0<n.transform.length?b.push(n):v=n.source;for(const z of g.children)p(z,{name:null,source:v,transform:[]})}}let a=0;return p}function Dl(b){const p=[],a=Ok(p);for(const g of b.children)a(g,{source:b.name,name:null,transform:[]});return p}function El(b,
p){const a=[];var g=Ok(a);let n=0;for(const E of b.sources){E.hasName()||(E.dataName=`source_${n++}`);const ea=E.assemble();g(E,ea)}for(const E of a)0===E.transform.length&&delete E.transform;g=0;for(const E of a.entries()){const [ea,Ea]=E;var v;0!==(null!==(v=Ea.transform)&&void 0!==v?v:[]).length||Ea.source||a.splice(g++,0,a.splice(ea,1)[0])}for(const E of a)for(const ea of null!==(z=E.transform)&&void 0!==z?z:[]){var z;"lookup"===ea.type&&(ea.from=b.outputNodes[ea.from].getSource())}for(const E of a)E.name in
p&&(E.values=p[E.name]);return a}function Sk(b,p,a){p="row"===p?"height":"width";return{labels:a,sizeSignal:b.child.component.layoutSize.get(p)?b.child.getSizeSignalRef(p):void 0,axes:[]}}function Tk(b,p){var {child:a}=b;if(a.component.axes[p]){const {layoutHeaders:n,resolve:v}=b.component;v.axis[p]=Nj(v,p);if("shared"===v.axis[p]){const z="x"===p?"column":"row",E=n[z];for(const ea of a.component.axes[p]){var g;p=ea.get("orient");p="top"===p||"left"===p||Ca(p)?"header":"footer";null!==(g=E[p])&&void 0!==
g?g:E[p]=[Sk(b,z,!1)];(a=sh(ea,"main",b.config,{header:!0}))&&E[p][0].axes.push(a);ea.mainExtracted=!0}}}}function ik(b){for(const p of b.children)p.parseLayoutSize()}function ai(b,p){const a=Fk(p),g=c(a),n=b.component.resolve,v=b.component.layoutSize;let z;for(const ea of b.children){var E;const Ea=ea.component.layoutSize.getWithExplicit(a),Wa=null!==(E=n.scale[g])&&void 0!==E?E:dj(g,b);if("independent"===Wa&&"step"===Ea.value){z=void 0;break}if(z){if("independent"===Wa&&z.value!==Ea.value){z=void 0;
break}z=ye(z,Ea,a,"")}else z=Ea}if(z){for(const ea of b.children)b.renameSignal(ea.getName(a),b.getName(p)),ea.component.layoutSize.set(a,"merged",!1);v.setWithExplicit(p,z)}else v.setWithExplicit(p,{explicit:!1,value:void 0})}function bi(b,p){const a=b.config;var g=b.getScaleComponent("width"===p?"x":"y");if(g)return b=g.get("type"),g=g.get("range"),b in Hf?(p=Ac(a.view,p),qb(g)||vb(p)?"step":p):dc(a.view,p);if(b.hasProjection||"arc"===b.mark)return dc(a.view,p);p=Ac(a.view,p);return vb(p)?p.step:
p}function Ig(b,p,a){return Ob(p,Object.assign({},{suffix:`by_${Ob(b)}`},null!==a&&void 0!==a?a:{}))}function Uf(b,p){for(const E of p){var a,g,n,v;p=E.data;if(b.name&&E.hasName()&&b.name!==E.dataName)continue;const ea=null===(a=b.format)||void 0===a?void 0:a.mesh;var z=null===(g=p.format)||void 0===g?void 0:g.feature;if(ea&&z)continue;const Ea=null===(n=b.format)||void 0===n?void 0:n.feature;if(!Ea&&!z||Ea===z)if(z=null===(v=p.format)||void 0===v?void 0:v.mesh,!ea&&!z||ea===z)if("values"in b&&"values"in
p){if(zf(b.values,p.values))return E}else if("url"in b&&"url"in p){if(b.url===p.url)return E}else if(Qe(b)&&b.name===E.dataName)return E}return null}function eg(b,p){if(b.data||!b.parent){if(null===b.data)return b=new Ai({values:[]}),p.push(b),b;const a=Uf(b.data,p);if(a)return Le(b.data)||(a.data.format=ma({},b.data.format,a.data.format)),!a.hasName()&&b.data.name&&(a.dataName=b.data.name),a;b=new Ai(b.data);p.push(b);return b}return b.parent.component.data.facetRoot?b.parent.component.data.facetRoot:
b.parent.component.data.main}function Jg(b){var p,a,g,n=eg(b,b.component.data.sources);const {outputNodes:v,outputNodeRefCounts:z}=b.component.data,E=b.parent?b.parent.component.data.ancestorParse.clone():new Um,ea=b.data;Le(ea)?("sequence"in ea?n=new Kk(n,ea.sequence):"graticule"in ea&&(n=new Jk(n,ea.graticule)),E.parseNothing=!0):null===(null===ea||void 0===ea?void 0:null===(p=ea.format)||void 0===p?void 0:p.parse)&&(E.parseNothing=!0);n=null!==(a=og.makeExplicit(n,b,E))&&void 0!==a?a:n;n=new Gi(n);
p=b.parent&&Ih(b.parent);if((Bf(b)||zg(b))&&p){var Ea;n=null!==(Ea=yh.makeFromEncoding(n,b))&&void 0!==Ea?Ea:n}if(0<b.transforms.length){Ea=0;for(const wd of b.transforms){var Wa=a=void 0;if("calculate"in wd)Wa=n=new gk(n,wd),a="derived";else if("filter"in wd){var fb;Wa=eh(wd);Wa=n=null!==(fb=og.makeWithAncestors(n,{},Wa,E))&&void 0!==fb?fb:n;n=new fk(n,b,wd.filter)}else if("bin"in wd)Wa=n=yh.makeFromTransform(n,wd,b),a="number";else if("timeUnit"in wd)a="date",void 0===E.getWithExplicit(wd.field).value&&
(n=new og(n,{[wd.field]:a}),E.set(wd.field,a,!1)),Wa=n=zh.makeFromTransform(n,wd);else if("aggregate"in wd)Wa=n=fh.makeFromTransform(n,wd),a="number",ni(b)&&(n=new Gi(n));else if("lookup"in wd)Wa=n=Rk.make(n,b,wd,Ea++),a="derived";else if("window"in wd)Wa=n=new Tj(n,wd),a="number";else if("joinaggregate"in wd)Wa=n=new ij(n,wd),a="number";else if("stack"in wd)Wa=n=Wh.makeFromTransform(n,wd),a="derived";else if("fold"in wd)Wa=n=new vl(n,wd),a="derived";else if("flatten"in wd)Wa=n=new wl(n,wd),a="derived";
else if("pivot"in wd)Wa=n=new Cl(n,wd),a="derived";else if("sample"in wd)n=new Bl(n,wd);else if("impute"in wd)Wa=n=nj.makeFromTransform(n,wd),a="derived";else if("density"in wd)Wa=n=new xl(n,wd),a="derived";else if("quantile"in wd)Wa=n=new zl(n,wd),a="derived";else if("regression"in wd)Wa=n=new Al(n,wd),a="derived";else if("loess"in wd)Wa=n=new yl(n,wd),a="derived";else{pb(`Ignoring an invalid transform: ${We(wd)}.`);continue}if(Wa&&void 0!==a)for(const Me of null!==(Jb=Wa.producedFields())&&void 0!==
Jb?Jb:[]){var Jb;E.set(Me,a,!1)}}}fb={};if(Bf(b)&&b.component.selection)for(var xc of jd(b.component.selection)){Jb=b.component.selection[xc];for(const wd of Jb.project.items)!wd.channel&&1<I(wd.field)&&(fb[wd.field]="flatten")}xc=Sj(b);n=null!==(g=og.makeWithAncestors(n,{},Object.assign({},fb,xc),E))&&void 0!==g?g:n;Bf(b)&&(n=hk.parseAll(n,b),n=Qk.parseAll(n,b));if(Bf(b)||zg(b)){var ic;if(!p){var tc;n=null!==(tc=yh.makeFromEncoding(n,b))&&void 0!==tc?tc:n}n=null!==(ic=zh.makeFromEncoding(n,b))&&
void 0!==ic?ic:n;n=gk.parseAllForSortIndex(n,b)}ic=b.getDataName(pf.Raw);g=new ng(n,ic,pf.Raw,z);n=v[ic]=g;if(Bf(b)){var Rc,bd;if(ic=fh.makeFromEncoding(n,b))n=ic,ni(b)&&(n=new Gi(n));n=null!==(Rc=nj.makeFromEncoding(n,b))&&void 0!==Rc?Rc:n;n=null!==(bd=Wh.makeFromEncoding(n,b))&&void 0!==bd?bd:n}if(Bf(b)){var Hd;n=null!==(Hd=Pk.make(n,b))&&void 0!==Hd?Hd:n}bd=b.getDataName(pf.Main);Rc=new ng(n,bd,pf.Main,z);n=v[bd]=Rc;if(Bf(b))for(var Pd of ag(null!==(fd=b.component.selection)&&void 0!==fd?fd:{})){const [wd,
Me]=Pd;var fd;fd=b.getName(`lookup_${wd}`);b.component.data.outputNodes[fd]=Me.materialized=new ng(new fk(Rc,b,{param:wd}),fd,pf.Lookup,b.component.data.outputNodeRefCounts)}fd=null;if(zg(b)){var Ae;Pd=b.getName("facet");{fd=n;const {row:wd,column:Me}=b.facet;if(wd&&Me){bd=null;for(Wd of[wd,Me])if(fc(Wd.sort)){const {field:df,op:pe="min"}=Wd.sort;fd=bd=new ij(fd,{joinaggregate:[{op:pe,field:df,as:Ig(Wd,Wd.sort,{forAs:!0})}],groupby:[Ob(Wd)]})}var Wd=bd}else Wd=null}n=null!==(Ae=Wd)&&void 0!==Ae?Ae:
n;fd=new hj(n,b,Pd,Rc.getSource());v[Pd]=fd}return Object.assign({},b.component.data,{outputNodes:v,outputNodeRefCounts:z,raw:g,main:Rc,facetRoot:fd,ancestorParse:E})}function Fl(b){return jg.reduce((p,a)=>{b.component.scales[a]&&(p[a]=[jk(a,b)]);return p},{})}function kk(b,p){if(b){if(b.length!==p.length)return;const a=b.length;for(let g=0;g<a;g++){const n=b[g],v=p[g];if(!!n!==!!v)return;if(n&&v){const z=n.getWithExplicit("orient"),E=v.getWithExplicit("orient");if(z.explicit&&E.explicit&&z.value!==
E.value)return;b[g]=Uk(n,v)}}}else return p.map(a=>a.clone());return b}function Uk(b,p){for(const a of cm){const g=ye(b.getWithExplicit(a),p.getWithExplicit(a),a,"axis",(n,v)=>{switch(a){case "title":return ie(n,v);case "gridScale":return{explicit:n.explicit,value:x(n.value,v.value)}}return Td(n,v,a,"axis")});b.setWithExplicit(a,g)}return b}function Vk(b,p,a,g,n){if("disable"===p)return void 0!==a;a=a||{};switch(p){case "titleAngle":case "labelAngle":return b===(Ca(a.labelAngle)?a.labelAngle:R(a.labelAngle));
case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(b===Ag(g,n))return!0}return b===a[p]}function jk(b,p){var a,g,n,v,z;let E=p.axis(b);const ea=new dm;var Ea=ge(p.encoding[b]);const {mark:Wa,config:fb}=p;var Jb=(null===(a=E)||void 0===a?void 0:a.orient)||(null===(g=fb["x"===b?"axisX":"axisY"])||void 0===g?void 0:g.orient)||(null===(n=fb.axis)||void 0===n?void 0:n.orient)||("x"===b?"bottom":"left");g=p.getScaleComponent(b).get("type");a=Bk(b,g,Jb,p.config);
n=void 0!==E?!E:th("disable",fb.style,null===(v=E)||void 0===v?void 0:v.style,a).configValue;ea.set("disable",n,void 0!==E);if(n)return ea;E=E||{};v=Dk(Ea,E,b,fb.style,a);Ea={fieldOrDatumDef:Ea,axis:E,channel:b,model:p,scaleType:g,orient:Jb,labelAngle:v,mark:Wa,config:fb};for(const ic of cm)if(Jb=ic in em?em[ic](Ea):Qc[ic]?E[ic]:void 0,v=void 0!==Jb,g=Vk(Jb,ic,E,p,b),v&&g)ea.set(ic,Jb,g);else{const {configValue:tc,configFrom:Rc}=Qc[ic]&&"values"!==ic?th(ic,fb.style,E.style,a):{};n=void 0!==tc;v&&
!n?ea.set(ic,Jb,g):("vgAxisConfig"!==Rc||Vm.has(ic)&&n||jf(tc)||Ca(tc))&&ea.set(ic,tc,!1)}const xc=null!==(z=E.encoding)&&void 0!==z?z:{};z=tb.reduce((ic,tc)=>{var Rc;if(!ea.hasAxisPart(tc))return ic;var bd=Lj(null!==(Rc=xc[tc])&&void 0!==Rc?Rc:{},p);if("labels"===tc){{var Hd;const {encoding:Pd,config:fd}=p;Rc=null!==(Hd=ge(Pd[b]))&&void 0!==Hd?Hd:ge(Pd[ca(b)]);Hd=p.axis(b)||{};const {format:Ae,formatType:Wd}=Hd;bd=od(Wd)?Object.assign({},{text:ue({fieldOrDatumDef:Rc,field:"datum.value",format:Ae,
formatType:Wd,config:fd})},bd):bd}}void 0===bd||Qa(bd)||(ic[tc]={update:bd});return ic},{});Qa(z)||ea.set("encode",z,!!E.encoding||void 0!==E.labelAngle);return ea}function Gl(b){var {encoding:p,size:a}=b;for(const g of jg)b=W(g),vb(a[b])&&ve(p[g])&&(delete a[b],pb(vc(b)));return a}function oj(b,p,a){b=H(b);var g=Zb("orient",b,a);b.orient=Wk(b.type,p,g);void 0!==g&&g!==b.orient&&pb(`Specified orient "${b.orient}" overridden with "${g}".`);if("bar"===b.type&&b.orient&&(g=Zb("cornerRadiusEnd",b,a),
void 0!==g)){const v="horizontal"===b.orient&&p.x2||"vertical"===b.orient&&p.y2?["cornerRadius"]:e[b.orient];for(var n of v)b[n]=g;void 0!==b.cornerRadiusEnd&&delete b.cornerRadiusEnd}void 0===Zb("opacity",b,a)&&(n=Ia([hh,Hi,lk,Ii],b.type)&&!rf(p)?.7:void 0,b.opacity=n);void 0===Zb("cursor",b,a)&&(p=p.href||b.href||Zb("href",b,a)?"pointer":b.cursor,b.cursor=p);return b}function Xk(b,p,a){({graticule:a}=a);if(a)return!1;p=Hc("filled",b,p);b=b.type;return x(p,b!==hh&&b!==Ah&&b!==Kg)}function Wk(b,p,
a){switch(b){case hh:case lk:case Ii:case ci:case Ji:case ih:return}const {x:g,y:n,x2:v,y2:z}=p;switch(b){case di:if(hd(g)&&(cb(g.bin)||hd(n)&&n.aggregate&&!g.aggregate))break;if(hd(n)&&(cb(n.bin)||hd(g)&&g.aggregate&&!n.aggregate))return"horizontal";if(z||v){if(a)return a;if(!v&&(hd(g)&&"quantitative"===g.type&&!wa(g.bin)||Fe(g)))return"horizontal";if(!z&&(hd(n)&&"quantitative"===n.type&&!wa(n.bin)||Fe(n)))break}case Kg:if(!(!v||hd(g)&&cb(g.bin)||!z||hd(n)&&cb(n.bin)))return;case Bh:if(z){if(hd(n)&&
cb(n.bin))return"horizontal";break}else if(v)if(hd(g)&&cb(g.bin))break;else return"horizontal";else if(b===Kg)if(g&&!n)break;else if(n&&!g)return"horizontal";case Ah:case Hi:p=ve(g);const E=ve(n);if(a)return a;if(p&&!E)return"tick"!==b?"horizontal":"vertical";if(!p&&E)return"tick"!==b?"vertical":"horizontal";if(p&&E){a="temporal"===g.type;p="temporal"===n.type;if(a&&!p)return"tick"!==b?"vertical":"horizontal";if(!a&&p)return"tick"!==b?"horizontal":"vertical";if(!g.aggregate&&n.aggregate)return"tick"!==
b?"vertical":"horizontal";if(g.aggregate&&!n.aggregate)return"tick"!==b?"horizontal":"vertical"}else return}return"vertical"}function pj(b,p){var a=Object,g=a.assign,n=qg(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),v=Sf("x",b,{defaultPos:"mid"}),z=Sf("y",b,{defaultPos:"mid"}),E=nf("size",b),ea=nf("angle",b);b=p?{shape:{value:p}}:nf("shape",b);return g.call(a,{},n,v,z,E,ea,b)}function Yk(b){if(Ia([Ah,Bh,qj],b.mark)){var p=B(b.mark,b.encoding);
if(0<p.length)return Zk(b,p)}else if(b.mark===di&&(p=rj.some(a=>Zb(a,b.markDef,b.config)),b.stack&&!b.fieldDef("size")&&p))return Hl(b);return Dg(b)}function Zk(b,p){return[{name:b.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+b.requestDataName(pf.Main),data:b.requestDataName(pf.Main),groupby:p}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Dg(b,{fromPrefix:"faceted_path_"})}]}function Hl(b){const [p]=Dg(b,{fromPrefix:"stack_group_"}),
a=b.scaleName(b.stack.fieldChannel),g=ea=>{ea=void 0===ea?{}:ea;return b.vgField(b.stack.fieldChannel,ea)};var n=(ea,Ea)=>{Ea=[g({prefix:"min",suffix:"start",expr:Ea}),g({prefix:"max",suffix:"start",expr:Ea}),g({prefix:"min",suffix:"end",expr:Ea}),g({prefix:"max",suffix:"end",expr:Ea})];return`${ea}(${Ea.map(Wa=>`scale('${a}',${Wa})`).join(",")})`};let v;"x"===b.stack.fieldChannel?(n=Object.assign({},xb(p.encode.update,["y","yc","y2","height",...rj]),{x:{signal:n("min","datum")},x2:{signal:n("max",
"datum")},clip:{value:!0}}),v={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},p.encode.update=Object.assign({},Gb(p.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(n=Object.assign({},xb(p.encode.update,["x","xc","x2","width"]),{y:{signal:n("min","datum")},y2:{signal:n("max","datum")},clip:{value:!0}}),v={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},p.encode.update=Object.assign({},Gb(p.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));
for(var z of rj){var E=Hc(z,b.markDef,b.config);p.encode.update[z]?(n[z]=p.encode.update[z],delete p.encode.update[z]):E&&(n[z]=Eb(E));E&&(p.encode.update[z]={value:0})}z=[];if(b.stack.groupbyChannel){E=b.fieldDef(b.stack.groupbyChannel);const ea=Ob(E);ea&&z.push(ea);(null!==E&&void 0!==E&&E.bin||null!==E&&void 0!==E&&E.timeUnit)&&z.push(Ob(E,{binSuffix:"end"}))}n="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((ea,Ea)=>{if(p.encode.update[Ea])return Object.assign({},
ea,{[Ea]:p.encode.update[Ea]});const Wa=Hc(Ea,b.markDef,b.config);return void 0!==Wa?Object.assign({},ea,{[Ea]:Eb(Wa)}):ea},n);n.stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0});return[{type:"group",from:{facet:{data:b.requestDataName(pf.Main),name:"stack_group_"+b.requestDataName(pf.Main),groupby:z,aggregate:{fields:[g({suffix:"start"}),g({suffix:"start"}),g({suffix:"end"}),g({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:v},
marks:[p]}]}]}function Il(b){const {encoding:p,stack:a,mark:g,markDef:n,config:v}=b;var z=p.order;if(!(!A.isArray(z)&&X(z)&&La(z.value)||!z&&La(Zb("order",n,v)))){if((A.isArray(z)||hd(z))&&!a)return Ad(z,{expr:"datum"});if(Rb(g)){const E="horizontal"===n.orient?"y":"x",ea=p[E];if(hd(ea)){z=ea.sort;if(A.isArray(z))return{field:Ob(ea,{prefix:E,suffix:"sort_index",expr:"datum"})};if(fc(z))return{field:Ob({aggregate:rf(b.encoding)?z.op:void 0,field:z.field},{expr:"datum"})};if(z&&z.encoding)return b=
b.fieldDef(z.encoding),{field:Ob(b,{expr:"datum"}),order:z.order};if(null!==z)return{field:Ob(ea,{binSuffix:b.stack&&b.stack.impute?"mid":void 0,expr:"datum"})}}}}}function Dg(b,p){p=void 0===p?{fromPrefix:""}:p;const {mark:a,markDef:g,encoding:n,config:v}=b;var z=g.clip;var E=b.getScaleComponent("x");var ea=b.getScaleComponent("y");E=E&&E.get("selectionExtent")||ea&&ea.get("selectionExtent")?!0:void 0;ea=b.component.projection;z=x(z,E,ea&&!ea.isFit?!0:void 0);E=jc(g);ea=n.key;const Ea=Il(b);var Wa;
if(b.component.selection){for(var fb=Wa=jd(b.component.selection).length,Jb=b.parent;Jb&&0===fb;)fb=jd(Jb.component.selection).length,Jb=Jb.parent;Wa=fb?{interactive:0<Wa||!!b.encoding.tooltip}:null}else Wa=null;fb=Zb("aria",g,v);Jb=$k[a].postEncodingTransform?$k[a].postEncodingTransform(b):null;return[Object.assign({},{name:b.getName("marks"),type:$k[a].vgMark},z?{clip:!0}:{},E?{style:E}:{},ea?{key:ea.field}:{},Ea?{sort:Ea}:{},Wa?Wa:{},!1===fb?{aria:fb}:{},{from:{data:p.fromPrefix+b.requestDataName(pf.Main)},
encode:{update:$k[a].encodeEntry(b)}},Jb?{transform:Jb}:{})]}function ei(b,p,a,g,n){if("facet"in b)return new al(b,p,a,n);if("layer"in b)return new fm(b,p,a,g,n);if(xf(b))return new gm(b,p,a,g,n);if("vconcat"in b||"hconcat"in b||"concat"in b)return new Wm(b,p,a,n);throw Error(Db(b));}function mk(b,p,a,g){a=void 0===a?{}:a;const n=b.config?Pc(b.config):void 0;a=[].concat(b.assembleSelectionData([]),El(b.component.data,a));const v=b.assembleProjections(),z=b.assembleTitle(),E=b.assembleGroupStyle(),
ea=b.assembleGroupEncodeEntry(!0);let Ea=b.assembleLayoutSignals();Ea=Ea.filter(Jb=>"width"!==Jb.name&&"height"!==Jb.name||void 0===Jb.value?!0:(p[Jb.name]=+Jb.value,!1));var Wa=Object.assign({},p);const fb=p.params;Wa=(delete Wa.params,Wa);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},b.description?{description:b.description}:{},Wa,z?{title:z}:{},E?{style:E}:{},ea?{encode:{update:ea}}:{},{data:a},0<v.length?{projections:v}:{},b.assembleGroup([...Ea,...b.assembleSelectionTopLevelSignals([]),
...ba(fb)]),n?{config:n}:{},g?{usermeta:g}:{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(p){var g=isNaN(p)?1:Number(p);return g?Array.prototype.reduce.call(this,function(n,v){return Array.isArray(v)?n.push.apply(n,a.call(v,g-1)):n.push(v),n},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(p){return Array.prototype.map.apply(this,arguments).flat()},
writable:!0});var Li=function(p,a){a||(a={});"function"===typeof a&&(a={cmp:a});var g="boolean"===typeof a.cycles?a.cycles:!1,n=a.cmp&&function(z){return function(E){return function(ea,Ea){return z({key:ea,value:E[ea]},{key:Ea,value:E[Ea]})}}}(a.cmp),v=[];return function ea(E){E&&E.toJSON&&"function"===typeof E.toJSON&&(E=E.toJSON());if(void 0!==E){if("number"==typeof E)return isFinite(E)?""+E:"null";if("object"!==typeof E)return JSON.stringify(E);var Ea;if(Array.isArray(E)){var Wa="[";for(Ea=0;Ea<
E.length;Ea++)Ea&&(Wa+=","),Wa+=ea(E[Ea])||"null";return Wa+"]"}if(null===E)return"null";if(-1!==v.indexOf(E)){if(g)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var fb=v.push(E)-1,Jb=Object.keys(E).sort(n&&n(E));Wa="";for(Ea=0;Ea<Jb.length;Ea++){var xc=Jb[Ea],ic=ea(E[xc]);ic&&(Wa&&(Wa+=","),Wa+=JSON.stringify(xc)+":"+ic)}v.splice(fb,1);return"{"+Wa+"}"}}(p)};const zf=function n(a,g){if(a===g)return!0;if(a&&g&&"object"==typeof a&&"object"==typeof g){if(a.constructor!==
g.constructor)return!1;var v;if(Array.isArray(a)){var z=a.length;if(z!=g.length)return!1;for(v=z;0!==v--;)if(!n(a[v],g[v]))return!1;return!0}if(a.constructor===RegExp)return a.source===g.source&&a.flags===g.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===g.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===g.toString();var E=Object.keys(a);z=E.length;if(z!==Object.keys(g).length)return!1;for(v=z;0!==v--;)if(!Object.prototype.hasOwnProperty.call(g,E[v]))return!1;
for(v=z;0!==v--;)if(z=E[v],!n(a[z],g[z]))return!1;return!0}return a!==a&&g!==g},xe=function(a){var g={exports:{}};return a(g,g.exports),g.exports}(function(a){var g=function(){function n(fb,Jb){return null!=Jb&&fb instanceof Jb}function v(fb,Jb,xc,ic,tc){function Rc(fd,Ae){if(null===fd)return null;if(0===Ae||"object"!=typeof fd)return fd;if(n(fd,ea))var Wd=new ea;else if(n(fd,Ea))Wd=new Ea;else if(n(fd,Wa))Wd=new Wa(function(mf,Se){fd.then(function(ff){mf(Rc(ff,Ae-1))},function(ff){Se(Rc(ff,Ae-1))})});
else if(v.__isArray(fd))Wd=[];else if(v.__isRegExp(fd))Wd=new RegExp(fd.source,E(fd)),fd.lastIndex&&(Wd.lastIndex=fd.lastIndex);else if(v.__isDate(fd))Wd=new Date(fd.getTime());else{if(Pd&&h.isBuffer(fd))return Wd=h.allocUnsafe?h.allocUnsafe(fd.length):new h(fd.length),fd.copy(Wd),Wd;if(n(fd,Error))Wd=Object.create(fd);else if("undefined"==typeof ic){var wd=Object.getPrototypeOf(fd);Wd=Object.create(wd)}else Wd=Object.create(ic),wd=ic}if(Jb){var Me=bd.indexOf(fd);if(-1!=Me)return Hd[Me];bd.push(fd);
Hd.push(Wd)}n(fd,ea)&&fd.forEach(function(mf,Se){Se=Rc(Se,Ae-1);mf=Rc(mf,Ae-1);Wd.set(Se,mf)});n(fd,Ea)&&fd.forEach(function(mf){mf=Rc(mf,Ae-1);Wd.add(mf)});for(var df in fd){var pe;wd&&(pe=Object.getOwnPropertyDescriptor(wd,df));pe&&null==pe.set||(Wd[df]=Rc(fd[df],Ae-1))}if(Object.getOwnPropertySymbols)for(Me=Object.getOwnPropertySymbols(fd),df=0;df<Me.length;df++)if(pe=Me[df],wd=Object.getOwnPropertyDescriptor(fd,pe),!wd||wd.enumerable||tc)Wd[pe]=Rc(fd[pe],Ae-1),wd.enumerable||Object.defineProperty(Wd,
pe,{enumerable:!1});if(tc)for(Me=Object.getOwnPropertyNames(fd),df=0;df<Me.length;df++)pe=Me[df],wd=Object.getOwnPropertyDescriptor(fd,pe),wd&&wd.enumerable||(Wd[pe]=Rc(fd[pe],Ae-1),Object.defineProperty(Wd,pe,{enumerable:!1}));return Wd}"object"===typeof Jb&&(xc=Jb.depth,ic=Jb.prototype,tc=Jb.includeNonEnumerable,Jb=Jb.circular);var bd=[],Hd=[],Pd="undefined"!=typeof h;"undefined"==typeof Jb&&(Jb=!0);"undefined"==typeof xc&&(xc=Infinity);return Rc(fb,xc)}function z(fb){return Object.prototype.toString.call(fb)}
function E(fb){var Jb="";fb.global&&(Jb+="g");fb.ignoreCase&&(Jb+="i");fb.multiline&&(Jb+="m");return Jb}try{var ea=Map}catch(fb){ea=function(){}}try{var Ea=Set}catch(fb){Ea=function(){}}try{var Wa=Promise}catch(fb){Wa=function(){}}v.clonePrototype=function(fb){if(null===fb)return null;var Jb=function(){};Jb.prototype=fb;return new Jb};v.__objToStr=z;v.__isDate=function(fb){return"object"===typeof fb&&"[object Date]"===z(fb)};v.__isArray=function(fb){return"object"===typeof fb&&"[object Array]"===
z(fb)};v.__isRegExp=function(fb){return"object"===typeof fb&&"[object RegExp]"===z(fb)};v.__getRegExpFlags=E;return v}();a.exports&&(a.exports=g)});Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>Li(a)).join(",")})`};const We=Li,jd=Object.keys,Ef=Object.values,ag=Object.entries;let Eh=42;const Mi={theta:1,theta2:1,radius:1,radius2:1},fi={longitude:1,longitude2:1,latitude:1,latitude2:1},sj=jd(fi),Ch=Object.assign({},{x:1,y:1,x2:1,y2:1},Mi,fi,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,
strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),tj={row:1,column:1,facet:1},Yf=jd(tj),hg=Object.assign({},Ch,tj),hi=jd(hg);var jh=Object.assign({},hg),vf=(delete jh.order,delete jh.detail,delete jh.tooltip,jh),Dh=Object.assign({},vf);const ug=(delete Dh.row,delete Dh.column,delete Dh.facet,Dh),kh="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var Ve=Object.assign({},Ch);const Mf=(delete Ve.x,delete Ve.y,
delete Ve.x2,delete Ve.y2,delete Ve.latitude,delete Ve.longitude,delete Ve.latitude2,delete Ve.longitude2,delete Ve.theta,delete Ve.theta2,delete Ve.radius,delete Ve.radius2,Ve),Xf=jd(Mf),Df={x:1,y:1},jg=jd(Df),ek={theta:1,radius:1},Jl=jd(ek);var Tg=Object.assign({},Mf);const vg=(delete Tg.text,delete Tg.tooltip,delete Tg.href,delete Tg.url,delete Tg.description,delete Tg.detail,delete Tg.key,delete Tg.order,Tg),Lg=jd(vg),Rf=Object.assign({},Df,ek,vg),Vi=jd(Rf),xg={arc:"always",area:"always",bar:"always",
circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var uj=Object.assign({},xg);const el=(delete uj.geoshape,uj),ok={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},ql={count:1,min:1,max:1},fl=["count","valid","missing","distinct"],gl=["count","sum",
"distinct","valid","missing"],ol=A.toSet("mean average median q1 q3 min max".split(" ")),jl=jd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,
angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Ui={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},rj=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Jf=A.logger(A.Warn);let Fh=Jf;const pg=
"january february march april may june july august september october november december".split(" "),Fg=pg.map(a=>a.substr(0,3)),Wg="sunday monday tuesday wednesday thursday friday saturday".split(" "),Ni=Wg.map(a=>a.substr(0,3)),wj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Gh=jd(wj),Oi={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Af={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",
TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},se={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},fg={linear:0,log:1,pow:1,sqrt:1,symlog:1,
identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},He="linear log pow sqrt symlog time utc".split(" "),of=A.toSet(He),Pf=A.toSet(["linear","log","pow","sqrt","symlog"]),Xg=A.toSet(["quantile","quantize","threshold"]),Ug=He.concat(["quantile","quantize","threshold","sequential","identity"]),Qf=A.toSet(Ug),Hf=A.toSet(["ordinal","bin-ordinal","point","band"]);var Eg=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,
range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const vj=(delete Eg.type,delete Eg.domain,delete Eg.range,delete Eg.rangeMax,delete Eg.rangeMin,delete Eg.scheme,Eg),nk=jd(vj),Zf={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Zd=Zf.arc,Bh=
Zf.area,di=Zf.bar,ih=Zf.image,Ah=Zf.line,hh=Zf.point,Ji=Zf.rect,Kg=Zf.rule,ci=Zf.text,Hi=Zf.tick,qj=Zf.trail,lk=Zf.circle,Ii=Zf.square,mj=Zf.geoshape,bl=jd(Zf);A.toSet(bl);const cl="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),rk=jd({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),qk=jd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,
trail:1,geoshape:1}),e={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},k={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},u=(a,g)=>{switch(g.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:n,bin:v,timeUnit:z,field:E}=a;q(n)?a=`${E} for argmax(${n.argmax})`:m(n)?a=`${E} for argmin(${n.argmin})`:(a=Vc(z),a=(a=n||(null===a||void 0===a?void 0:
a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||wa(v)&&"bin")?`${a.toUpperCase()}(${E})`:E)}return a;default:return Sc(a,g)}};let P=u;const ka={compatible:!0},mb={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",
vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",
vgProp:"strokeWidth"}},tb=["domain","grid","labels","ticks","title"],Pb={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",
labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",
ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Oc={orient:1,aria:1,bandPosition:1,
description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,
minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Qc=Object.assign({},Oc,{style:1,labelExpr:1,encoding:1}),
Nd=jd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class Md{constructor(a,g){this.name=a;this.run=g}hasMatchingType(a){return xf(a)?(a=a.mark,(kc(a)?a.type:a)===this.name):!1}}const Re=new Md("boxplot",lb),Ze=new Md("errorbar",Bb),wg=new Md("errorband",
Ic),Nf={};t("boxplot",lb,["box","median","outliers","rule","ticks"]);t("errorbar",Bb,["ticks","rule"]);t("errorband",Ic,["band","borders"]);const Dc=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],yc={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Uc={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},td=jd(yc),Jd=jd(Uc),Xd=jd({header:1,headerRow:1,headerColumn:1,headerFacet:1}),qe="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Ue=["background","padding"],tf=jd({align:1,bounds:1,center:1,columns:1,spacing:1}),Ne={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},
text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",
clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},$f="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),pk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Tl={blue:$f[0],orange:$f[1],red:$f[2],teal:$f[3],green:$f[4],yellow:$f[5],purple:$f[6],pink:$f[7],brown:$f[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",
gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},mm=[...qk,...Nd,...Xd,"background","padding","legend","lineBreak","scale","style","title","view"],om=["view",...bl],nm="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),pm=Object.assign({},
{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class Kl{map(a,g){return"facet"in a?this.mapFacet(a,g):"repeat"in a?this.mapRepeat(a,g):"hconcat"in a?this.mapHConcat(a,g):"vconcat"in a?this.mapVConcat(a,g):"concat"in a?this.mapConcat(a,g):this.mapLayerOrUnit(a,g)}mapLayerOrUnit(a,
g){if("layer"in a)return this.mapLayer(a,g);if(xf(a))return this.mapUnit(a,g);throw Error(Db(a));}mapLayer(a,g){return Object.assign({},a,{layer:a.layer.map(n=>this.mapLayerOrUnit(n,g))})}mapHConcat(a,g){return Object.assign({},a,{hconcat:a.hconcat.map(n=>this.map(n,g))})}mapVConcat(a,g){return Object.assign({},a,{vconcat:a.vconcat.map(n=>this.map(n,g))})}mapConcat(a,g){var n=Object.assign({},a);a=a.concat;n=(delete n.concat,n);return Object.assign({},n,{concat:a.map(v=>this.map(v,g))})}mapFacet(a,
g){return Object.assign({},a,{spec:this.map(a.spec,g)})}mapRepeat(a,g){return Object.assign({},a,{spec:this.map(a.spec,g)})}}const sm={zero:1,center:1,normalize:1},qm=new Set([Zd,di,Bh,Kg,hh,lk,Ii,Ah,ci,Hi]),rm=new Set([di,Bh,Zd]);class Xm{constructor(){Mc(this,"name","path-overlay")}hasMatchingType(a,g){if(xf(a)){const {mark:n,encoding:v}=a;a=kc(n)?n:{type:n};switch(a.type){case "line":case "rule":case "trail":return!!Z(a,g[a.type],v);case "area":return!!Z(a,g[a.type],v)||!!sa(a,g[a.type])}}return!1}run(a,
g,n){var {config:v}=g,z=Object.assign({},a),E=a.params,ea=a.projection,Ea=a.mark;a=a.encoding;z=(delete z.params,delete z.projection,delete z.mark,delete z.encoding,z);a=af(a,v);Ea=kc(Ea)?Ea:{type:Ea};const Wa=Z(Ea,v[Ea.type],a),fb="area"===Ea.type&&sa(Ea,v[Ea.type]);var Jb=Object,xc=Jb.assign;var ic=Object.assign({},"area"===Ea.type&&void 0===Ea.opacity&&void 0===Ea.fillOpacity?{opacity:.7}:{},Ea);ic=Object.assign({},ic);ic=(delete ic.point,delete ic.line,ic);ic=1<jd(ic).length?ic:ic.type;E=[xc.call(Jb,
{},E?{params:E}:{},{mark:ic,encoding:Gb(a,["shape"])})];Jb=te(Ea,a);xc=a;if(Jb){const {fieldChannel:tc,offset:Rc}=Jb;xc=Object.assign({},a,{[tc]:Object.assign({},a[tc],Rc?{stack:Rc}:{})})}fb&&E.push(Object.assign({},ea?{projection:ea}:{},{mark:Object.assign({},{type:"line"},xb(Ea,["clip","interpolate","tension","tooltip"]),fb),encoding:xc}));Wa&&E.push(Object.assign({},ea?{projection:ea}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},xb(Ea,["clip","tooltip"]),Wa),encoding:xc}));ea=Object.assign({},
z,{layer:E});z=Object;E=z.assign;for(const tc of["line","area","rule","trail"])v[tc]&&(v=Object.assign({},v,{[tc]:Gb(v[tc],["point","line"])}));return n(ea,E.call(z,{},g,{config:v}))}}class Ym{constructor(){Mc(this,"name","RuleForRangedLine")}hasMatchingType(a){if(xf(a)){const {encoding:g,mark:n}=a;if("line"===n||kc(n)&&"line"===n.type)for(const v of kh)if(a=J(v),a=g[a],g[v]&&(hd(a)&&!cb(a.bin)||Ee(a)))return!0}return!1}run(a,g,n){const {encoding:v,mark:z}=a;var E=!!v.x2;pb(`Line mark is for continuous lines and thus cannot be used with ${E&&
v.y2?"x2 and y2":E?"x2":"y2"}. We will use the rule mark (line segments) instead.`);console.log(z);return n(Object.assign({},a,{mark:A.isObject(z)?Object.assign({},z,{type:"rule"}):"rule"}),g)}}class Zm extends Kl{constructor(...a){super(...a);Mc(this,"nonFacetUnitNormalizers",[Re,Ze,wg,new Xm,new Ym])}map(a,g){if(xf(a)){const n=Oe(a.encoding,"row"),v=Oe(a.encoding,"column"),z=Oe(a.encoding,"facet");if(n||v||z)return this.mapFacetedUnit(a,g)}return super.map(a,g)}mapUnit(a,g){const {parentEncoding:n,
parentProjection:v}=g;var z=Ka(a.encoding,g.repeater);a=Object.assign({},a,z?{encoding:z}:{});if(n||v)return this.mapUnitWithParentEncodingOrProjection(a,g);z=this.mapLayerOrUnit.bind(this);for(const E of this.nonFacetUnitNormalizers)if(E.hasMatchingType(a,g.config))return E.run(a,g,z);return a}mapRepeat(a,g){return!A.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,g):this.mapNonLayerRepeat(a,g)}mapLayerRepeat(a,g){var n=Object.assign({},a);const v=a.repeat,z=a.spec;n=(delete n.repeat,delete n.spec,
n);const {row:E,column:ea,layer:Ea}=v,{repeater:Wa={},repeaterPrefix:fb=""}=g;return E||ea?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},E?{row:E}:{},ea?{column:ea}:{}),spec:{repeat:{layer:Ea},spec:z}}),g):Object.assign({},n,{layer:Ea.map(Jb=>{var xc=Object.assign({},Wa,{layer:Jb});Jb=`${(z.name||"")+fb}child__layer_${Ta(Jb)}`;xc=this.mapLayerOrUnit(z,Object.assign({},g,{repeater:xc,repeaterPrefix:Jb}));xc.name=Jb;return xc})})}mapNonLayerRepeat(a,g){var n,v=a,z=Object.assign({},v);const E=
v.repeat,ea=v.spec;v=v.data;z=(delete z.repeat,delete z.spec,delete z.data,z);!A.isArray(E)&&a.columns&&(a=Gb(a,["columns"]),pb(N("repeat")));const Ea=[],{repeater:Wa={},repeaterPrefix:fb=""}=g,Jb=!A.isArray(E)&&E.row||[Wa?Wa.row:null],xc=!A.isArray(E)&&E.column||[Wa?Wa.column:null];var ic=A.isArray(E)&&E||[Wa?Wa.repeat:null];for(const Rc of ic)for(const bd of Jb)for(const Hd of xc){var tc={repeat:Rc,row:bd,column:Hd,layer:Wa.layer};ic=(ea.name||"")+fb+"child__"+(A.isArray(E)?`${Ta(Rc)}`:(E.row?`row_${Ta(bd)}`:
"")+(E.column?`column_${Ta(Hd)}`:""));tc=this.map(ea,Object.assign({},g,{repeater:tc,repeaterPrefix:ic}));tc.name=ic;Ea.push(Gb(tc,["data"]))}a=A.isArray(E)?a.columns:E.column?E.column.length:1;return Object.assign({},{data:null!==(n=ea.data)&&void 0!==n?n:v,align:"all"},z,{columns:a,concat:Ea})}mapFacet(a,g){const {facet:n}=a;Ud(n)&&a.columns&&(a=Gb(a,["columns"]),pb(N("facet")));return super.mapFacet(a,g)}mapUnitWithParentEncodingOrProjection(a,g){const {encoding:n,projection:v}=a,{parentEncoding:z,
parentProjection:E,config:ea}=g,Ea=uc({parentProjection:E,projection:v});g=qc({parentEncoding:z,encoding:Ka(n,g.repeater)});return this.mapUnit(Object.assign({},a,Ea?{projection:Ea}:{},g?{encoding:g}:{}),{config:ea})}mapFacetedUnit(a,g){var n=a.encoding,v=Object.assign({},n),z=n.row;const E=n.column;n=n.facet;const ea=(delete v.row,delete v.column,delete v.facet,v);var Ea=Object.assign({},a);v=a.mark;const Wa=a.width,fb=a.projection,Jb=a.height,xc=a.view;a=a.params;Ea=(delete Ea.mark,delete Ea.width,
delete Ea.projection,delete Ea.height,delete Ea.view,delete Ea.params,delete Ea.encoding,Ea);const {facetMapping:ic,layout:tc}=this.getFacetMappingAndLayout({row:z,column:E,facet:n},g);z=Ka(ea,g.repeater);return this.mapFacet(Object.assign({},Ea,tc,{facet:ic,spec:Object.assign({},Wa?{width:Wa}:{},Jb?{height:Jb}:{},xc?{view:xc}:{},fb?{projection:fb}:{},{mark:v,encoding:z},a?{params:a}:{})}),g)}getFacetMappingAndLayout(a,g){const {row:n,column:v,facet:z}=a;if(n||v){z&&(g=[...(n?["row"]:[]),...(v?["column"]:
[])],g=`Facet encoding dropped as ${g.join(" and ")} ${1<g.length?"are":"is"} also specified.`,pb(g));g={};var E={};for(var ea of["row","column"]){const Jb=a[ea];if(Jb){var Ea=Object.assign({},Jb);Ea=(delete Ea.align,delete Ea.center,delete Ea.spacing,delete Ea.columns,Ea);g[ea]=Ea;for(var Wa of["align","center","spacing"])if(void 0!==Jb[Wa]){var fb;null!==(fb=E[Wa])&&void 0!==fb?fb:E[Wa]={};E[Wa][ea]=Jb[Wa]}}}return{facetMapping:g,layout:E}}E=Object.assign({},z);a=z.align;fb=z.center;ea=z.spacing;
Wa=z.columns;E=(delete E.align,delete E.center,delete E.spacing,delete E.columns,E);g=(g=g.repeater)?Ud(E)?hc(E,g):yb(E,g):E;return{facetMapping:g,layout:Object.assign({},a?{align:a}:{},fb?{center:fb}:{},ea?{spacing:ea}:{},Wa?{columns:Wa}:{})}}mapLayer(a,g){var n=Object.assign({},g),v=g.parentEncoding;g=g.parentProjection;n=(delete n.parentEncoding,delete n.parentProjection,n);var z=Object.assign({},a);const E=a.encoding;a=a.projection;z=(delete z.encoding,delete z.projection,z);v=Object.assign({},
n,{parentEncoding:qc({parentEncoding:v,encoding:E,layer:!0}),parentProjection:uc({parentProjection:g,projection:a})});return super.mapLayer(z,v)}}class $m extends Kl{map(a,g){var n,v;null!==(n=g.emptySelections)&&void 0!==n?n:g.emptySelections={};null!==(v=g.selectionPredicates)&&void 0!==v?v:g.selectionPredicates={};a=Kc(a,g);return super.map(a,g)}mapLayerOrUnit(a,g){a=Kc(a,g);if(a.encoding){const n={};for(const v of ag(a.encoding)){const [z,E]=v;n[z]=Lc(E,g)}a=Object.assign({},a,{encoding:n})}return super.mapLayerOrUnit(a,
g)}mapUnit(a,g){var n=Object.assign({},a);const v=a.selection;n=(delete n.selection,n);return v?Object.assign({},n,{params:ag(v).map(z=>{var [E,ea]=z,Ea=Object.assign({},ea);z=ea.init;const Wa=ea.bind,fb=ea.empty;Ea=(delete Ea.init,delete Ea.bind,delete Ea.empty,Ea);"single"===Ea.type?(Ea.type="point",Ea.toggle=!1):"multi"===Ea.type&&(Ea.type="point");g.emptySelections[E]="none"!==fb;for(const xc of Ef(null!==(Jb=g.selectionPredicates[E])&&void 0!==Jb?Jb:{})){var Jb;xc.empty="none"!==fb}return{name:E,
value:z,select:Ea,bind:Wa}})}):a}}class Ll extends Kl{map(a,g){var n;const v=null!==(n=g.selections)&&void 0!==n?n:[];if(a.params&&!xf(a)){n=[];for(const z of a.params)z.select?v.push(z):n.push(z);a.params=n}g.selections=v;return super.map(a,kd(a,g))}mapUnit(a,g){var n;const v=g.selections;if(!v||!v.length)return a;const z=(null!==(n=g.path)&&void 0!==n?n:[]).concat(a.name);g=[];for(const E of v)if(E.views&&E.views.length)for(const ea of E.views)(Ra.isString(ea)&&(ea===a.name||0<=z.indexOf(ea))||
Ra.isArray(ea)&&ea.map(Ea=>z.indexOf(Ea)).every((Ea,Wa,fb)=>-1!==Ea&&(0===Wa||Ea>fb[Wa-1])))&&g.push(E);else g.push(E);g.length&&(a.params=g);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const g=Ll.prototype[a];Ll.prototype[a]=function(n,v){return g.call(this,n,kd(n,v))}}const um=new Zm,vm=new $m,tm=new Ll;class gi{constructor(a,g){a=void 0===a?{}:a;g=void 0===g?{}:g;this.explicit=a;this.implicit=g}clone(){return new gi(xe(this.explicit),xe(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(a){return x(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,g){var {value:n,explicit:v}=g;void 0!==n&&this.set(a,n,v)}set(a,g,n){delete this[n?"implicit":"explicit"][a];this[n?"explicit":"implicit"][a]=g;return this}copyKeyFromSplit(a,g){var {explicit:n,implicit:v}=g;void 0!==n[a]?this.set(a,
n[a],!0):void 0!==v[a]&&this.set(a,v[a],!1)}copyKeyFromObject(a,g){void 0!==g[a]&&this.set(a,g[a],!0)}copyAll(a){for(const g of jd(a.combine())){const n=a.getWithExplicit(g);this.setWithExplicit(g,n)}}}class Um extends gi{constructor(a,g,n){a=void 0===a?{}:a;g=void 0===g?{}:g;n=void 0===n?!1:n;super(a,g);this.explicit=a;this.implicit=g;this.parseNothing=n}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let pf;(function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";
a[a.Column=3]="Column";a[a.Lookup=4]="Lookup"})(pf||(pf={}));const xm=/[[\]{}]/,wm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ul,Vl;class lf{constructor(a,g){this.debugName=g;Mc(this,"_children",[]);Mc(this,"_parent",null);Mc(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,
g){this._children.includes(a)?pb("Attempt to add the same child twice."):void 0!==g?this._children.splice(g,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const g of this._children)g._parent=this._parent,this._parent.addChild(g,a++)}insertAsParentOf(a){const g=a.parent;g.removeChild(this);this.parent=g;a.parent=this}swapWithParent(){const a=this._parent,g=a.parent;for(const n of this._children)n.parent=
a;this._children=[];a.removeChild(this);a.parent.removeChild(a);this.parent=g;a.parent=this}}class ng extends lf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,g,n,v){super(a,g);this.type=n;this.refCounts=v;Mc(this,"_source",void 0);Mc(this,"_name",void 0);this._source=this._name=g;!this.refCounts||this._name in this.refCounts||
(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${M()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class zh extends lf{clone(){return new zh(null,xe(this.formula))}constructor(a,g){super(a);this.formula=g}static makeFromEncoding(a,g){g=g.reduceFieldDef((n,v)=>{const {field:z,timeUnit:E}=v;E&&
(v=Ob(v,{forAs:!0}),n[ib({as:v,field:z,timeUnit:E})]={as:v,field:z,timeUnit:E});return n},{});return Qa(g)?null:new zh(a,g)}static makeFromTransform(a,g){var n=Object.assign({},g);g=Object.assign({},n);n=n.timeUnit;g=(delete g.timeUnit,g);n=Vc(n);g=Object.assign({},g,{timeUnit:n});return new zh(a,{[ib(g)]:g})}merge(a){this.formula=Object.assign({},this.formula);for(const g in a.formula)this.formula[g]||(this.formula[g]=a.formula[g]);for(const g of a.children)a.removeChild(g),g.parent=this;a.remove()}removeFormulas(a){const g=
{};for(const n of ag(this.formula)){const [v,z]=n;a.has(z.as)||(g[v]=z)}this.formula=g}producedFields(){return new Set(Ef(this.formula).map(a=>a.as))}dependentFields(){return new Set(Ef(this.formula).map(a=>a.field))}hash(){return`TimeUnit ${ib(this.formula)}`}assemble(){const a=[];for(const v of Ef(this.formula)){const {field:z,as:E,timeUnit:ea}=v;var g=Vc(ea),n=Object.assign({},g);const Ea=g.unit;g=g.utc;n=(delete n.unit,delete n.utc,n);a.push(Object.assign({},{field:Aa(z),type:"timeunit"},Ea?{units:nc(Ea)}:
{},g?{timezone:"utc"}:{},n,{as:[E,`${E}_end`]}))}return a}}class an{constructor(...a){Mc(this,"hasChannel",void 0);Mc(this,"hasField",void 0);Mc(this,"timeUnit",void 0);Mc(this,"items",void 0);this.items=a;this.hasChannel={};this.hasField={}}}const Jh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,g)=>{const n=g.scales=[];for(const z of g.project.items){var v=z.channel;if(!Rf[v])continue;const E=(v=a.getScaleComponent(v))?v.get("type"):void 0;v&&E in Qf?
(v.set("selectionExtent",{param:g.name,field:z.field},!0),n.push(z)):pb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,g,n)=>{const v=g.scales.filter(E=>0===n.filter(ea=>ea.name===E.signals.data).length);if(!a.parent||Og(a)||0===v.length)return n;a=n.filter(E=>E.name===g.name)[0];let z=a.update;if(0<=z.indexOf("vlSelectionResolve"))a.update=`{${v.map(E=>`${A.stringValue(Aa(E.field))}: ${E.signals.data}`).join(", ")}}`;else{for(const E of v){const ea=
`${A.stringValue(Aa(E.field))}: ${E.signals.data}`;z.includes(ea)||(z=`${z.substring(0,z.length-1)}, ${ea}}`)}a.update=z}return n.concat(v.map(E=>({name:E.signals.data})))},signals:(a,g,n)=>{if(a.parent&&!Og(a))for(const v of g.scales)a=n.filter(z=>z.name===v.signals.data)[0],a.push="outer",delete a.value,delete a.update;return n}},ym={left:"x",center:"xc",right:"x2"},zm={top:"y",middle:"yc",bottom:"y2"},Am=new Set(["aria","width","height"]),hm={defined:a=>"point"===a.type&&a.nearest,parse:(a,g)=>
{if(g.events)for(const n of g.events)n.markname=a.getName("voronoi")},marks:(a,g,n)=>{const {x:v,y:z}=g.project.hasChannel;g=a.mark;if(Rb(g))return pb(`The "nearest" transform is not supported for ${g} marks.`),n;g={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Ri(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:v||!z?
"datum.datum.x || 0":"0"},y:{expr:z||!v?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let E=0,ea=!1;n.forEach((Ea,Wa)=>{var fb;Ea=null!==(fb=Ea.name)&&void 0!==fb?fb:"";Ea===a.component.mark[0].name?E=Wa:0<=Ea.indexOf("voronoi")&&(ea=!0)});ea||n.splice(E+1,0,g);return n}},im={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!y(a.bind),parse:(a,g,n)=>wk(g,n),topLevelSignals:(a,g,n)=>{const v=g.name;a=g.project;const z=g.bind,
E=g.init&&g.init[0],ea=hm.defined(g)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((Ea,Wa)=>{const fb=Ta(`${v}_${Ea.field}`);if(!n.filter(ic=>ic.name===fb).length){var Jb,xc;n.unshift(Object.assign({},{name:fb},E?{init:gg(E[Wa])}:{value:null},{on:g.events?[{events:g.events,update:`datum && item().mark.marktype !== 'group' ? ${ea}[${A.stringValue(Ea.field)}] : null`}]:[],bind:null!==(Jb=null!==(xc=z[Ea.field])&&void 0!==xc?xc:z[Ea.channel])&&void 0!==Jb?Jb:z}))}});return n},signals:(a,
g,n)=>{const v=g.name;var z=g.project;a=n.filter(ea=>ea.name===v+"_tuple")[0];g=v+"_tuple_fields";z=z.items.map(ea=>Ta(`${v}_${ea.field}`));const E=z.map(ea=>`${ea} !== null`).join(" \x26\x26 ");z.length&&(a.update=`${E} ? {fields: ${g}, values: [${z.join(", ")}]} : null`);delete a.value;delete a.on;return n}},jm={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,g,n)=>n.concat({name:g.name+"_toggle",value:!1,on:[{events:g.events,update:g.toggle}]}),modifyExpr:(a,g)=>{const n=g.name+"_tuple",v=g.name+
"_toggle";return`${v} ? null : ${n}, `+("global"===g.resolve?`${v} ? null : true, `:`${v} ? null : {unit: ${Ng(a)}}, `)+`${v} ? ${n} : null`}},Wl={defined:a=>{const g="global"===a.resolve&&a.bind&&y(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;g&&!a&&pb("Legend bindings are only supported for selections over an individual field or encoding channel.");return g&&a},parse:(a,g,n)=>{a=xe(n);a.select=A.isString(a.select)?{type:a.select,toggle:g.toggle}:Object.assign({},a.select,
{toggle:g.toggle});wk(g,a);if(Ra.isObject(n.select)&&(n.select.on||n.select.clear))for(const z of g.events){var v;z.filter=A.array(null!==(v=z.filter)&&void 0!==v?v:[]);z.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||z.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}n=S(g.bind)?g.bind.legend:"click";n=A.isString(n)?re(n,"view"):A.array(n);g.bind={legend:{merge:n}}},topLevelSignals:(a,g,n)=>{a=g.name;const v=S(g.bind)&&g.bind.legend,
z=ea=>Ea=>{Ea=xe(Ea);Ea.markname=ea;return Ea};for(const ea of g.project.items){if(!ea.hasLegend)continue;var E=`${Ta(ea.field)}_legend`;const Ea=`${a}_${E}`;0===n.filter(Wa=>Wa.name===Ea).length&&(E=v.merge.map(z(`${E}_symbols`)).concat(v.merge.map(z(`${E}_labels`))).concat(v.merge.map(z(`${E}_entries`))),n.unshift(Object.assign({},{name:Ea},g.init?{}:{value:null},{on:[{events:E,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:v.merge,update:`!event.item || !datum ? null : ${Ea}`,
force:!0}]})))}return n},signals:(a,g,n)=>{const v=g.name;var z=g.project;a=n.find(ea=>ea.name===v+"_tuple");var E=v+"_tuple_fields";z=z.items.filter(ea=>ea.hasLegend).map(ea=>Ta(`${v}_${Ta(ea.field)}_legend`));E=`${z.map(ea=>`${ea} !== null`).join(" \x26\x26 ")} ? {fields: ${E}, values: [${z.join(", ")}]} : null`;g.events&&0<z.length?a.on.push({events:z.map(ea=>({signal:ea})),update:E}):0<z.length&&(a.update=E,delete a.value,delete a.on);a=n.find(ea=>ea.name===v+"_toggle");E=S(g.bind)&&g.bind.legend;
a&&(g.events?a.on.push(Object.assign({},a.on[0],{events:E})):a.on[0].events=E);return n}},sk=[{defined:a=>"point"===a.type,signals:(a,g,n)=>{const v=g.name;var z=v+"_tuple_fields";const E=g.project.items.map(ea=>{const Ea=a.fieldDef(ea.channel);return Ea&&Ea.bin?`[${"(item().isVoronoi ? datum.datum : datum)"}[${A.stringValue(a.vgField(ea.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${A.stringValue(a.vgField(ea.channel,{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${A.stringValue(ea.field)}]`}).join(", ");
z=`unit: ${Ng(a)}, fields: ${z}, values`;g=g.events;return n.concat([{name:v+"_tuple",on:g?[{events:g,update:`datum && item().mark.marktype !== 'group' ? {${z}: [${E}]} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,signals:(a,g,n)=>{const v=g.name;var z=v+"_tuple_fields";const E=Jh.defined(g),ea=g.init?g.init[0]:null,Ea=[],Wa=[];if(g.translate&&!E){const fb=`!event.item || event.item.mark.name !== ${A.stringValue(v+"_brush")}`;tk(g,(Jb,xc)=>{var ic,tc;xc=A.array(null!==(tc=(ic=xc.between[0]).filter)&&
void 0!==tc?tc:ic.filter=[]);xc.includes(fb)||xc.push(fb);return Jb})}g.project.items.forEach((fb,Jb)=>{const xc=fb.channel;if("x"!==xc&&"y"!==xc)pb("Interval selections only support x and y encoding channels.");else{Jb=hl(a,g,fb,ea?ea[Jb]:null);var ic=fb.signals.data;fb=fb.signals.visual;var tc=A.stringValue(a.scaleName(xc)),Rc=a.getScaleComponent(xc).get("type")in Qf?"+":"";n.push(...Jb);Ea.push(ic);Wa.push({scaleName:a.scaleName(xc),expr:`(!isArray(${ic}) || `+`(${Rc}invert(${tc}, ${fb})[0] === ${Rc}${ic}[0] && `+
`${Rc}invert(${tc}, ${fb})[1] === ${Rc}${ic}[1]))`})}});E||n.push({name:v+"_scale_trigger",value:{},on:[{events:Wa.map(fb=>({scale:fb.scaleName})),update:`${Wa.map(fb=>fb.expr).join(" \x26\x26 ")} ? ${v+"_scale_trigger"} : {}`}]});z=`unit: ${Ng(a)}, fields: ${z}, values`;return n.concat(Object.assign({},{name:v+"_tuple"},ea?{init:`{${z}: ${gg(ea)}}`}:{},{on:[{events:[{signal:Ea.join(" || ")}],update:`${Ea.join(" \x26\x26 ")} ? {${z}: [${Ea}]} : null`}]}))},marks:(a,g,n)=>{const v=g.name,{x:z,y:E}=
g.project.hasChannel,ea=z&&z.signals.visual,Ea=E&&E.signals.visual;var Wa=`data(${A.stringValue(g.name+"_store")})`;if(Jh.defined(g))return n;const fb={x:void 0!==z?{signal:`${ea}[0]`}:{value:0},y:void 0!==E?{signal:`${Ea}[0]`}:{value:0},x2:void 0!==z?{signal:`${ea}[1]`}:{field:{group:"width"}},y2:void 0!==E?{signal:`${Ea}[1]`}:{field:{group:"height"}}};if("global"===g.resolve)for(var Jb of jd(fb))fb[Jb]=[Object.assign({},{test:`${Wa}.length && ${Wa}[0].unit === ${Ng(a)}`},fb[Jb]),{value:0}];Jb=g.mark;
Wa=Object.assign({},Jb);a=Jb.fill;g=Jb.fillOpacity;Jb=Jb.cursor;const xc=(delete Wa.fill,delete Wa.fillOpacity,delete Wa.cursor,Wa);Wa=jd(xc).reduce((ic,tc)=>{ic[tc]=[{test:[void 0!==z&&`${ea}[0] !== ${ea}[1]`,void 0!==E&&`${Ea}[0] !== ${Ea}[1]`].filter(Rc=>Rc).join(" \x26\x26 "),value:xc[tc]},{value:null}];return ic},{});return[{name:`${v+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:g}},update:fb}},...n,{name:v+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},
Jb?{cursor:{value:Jb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},fb,Wa)}}]}},{defined:()=>!0,parse:(a,g,n)=>{var v;const z=g.name,E=null!==(v=g.project)&&void 0!==v?v:g.project=new an,ea={};v={};const Ea=new Set,Wa=(Pd,fd)=>{Pd="visual"===fd?Pd.channel:Pd.field;let Ae=Ta(`${z}_${Pd}`);for(let Wd=1;Ea.has(Ae);Wd++)Ae=Ta(`${z}_${Pd}_${Wd}`);Ea.add(Ae);return{[fd]:Ae}},fb=g.type,Jb=a.config.selection[fb],xc=void 0!==n.value?A.array(n.value):null;let {fields:ic,encodings:tc}=A.isObject(n.select)?
n.select:{};if(!ic&&!tc&&xc)for(var Rc of xc)if(A.isObject(Rc))for(const Pd of jd(Rc))ug[Pd]?(tc||(tc=[])).push(Pd):"interval"===fb?(pb('Interval selections should be initialized using "x" and/or "y" keys.'),tc=Jb.encodings):(ic||(ic=[])).push(Pd);ic||tc||(tc=Jb.encodings,ic=Jb.fields);for(const Pd of null!==(bd=tc)&&void 0!==bd?bd:[]){var bd;(bd=a.fieldDef(Pd))?(n=bd.field,bd.aggregate?pb(`Cannot project a selection on encoding channel "${Pd}" as it uses an aggregate function ("${bd.aggregate}").`):
n?(bd.timeUnit&&(n=a.vgField(Pd),Rc={timeUnit:bd.timeUnit,as:n,field:bd.field},v[ib(Rc)]=Rc),ea[n]||(Rc="E","interval"===fb?a.getScaleComponent(Pd).get("type")in Qf&&(Rc="R"):bd.bin&&(Rc="R-RE"),bd={field:n,channel:Pd,type:Rc},bd.signals=Object.assign({},Wa(bd,"data"),Wa(bd,"visual")),E.items.push(ea[n]=bd),E.hasField[n]=E.hasChannel[Pd]=ea[n])):pb(dd(Pd))):pb(dd(Pd))}for(const Pd of null!==(Hd=ic)&&void 0!==Hd?Hd:[]){var Hd;E.hasField[Pd]||(a={type:"E",field:Pd},a.signals=Object.assign({},Wa(a,"data")),
E.items.push(a),E.hasField[Pd]=a)}xc&&(g.init=xc.map(Pd=>E.items.map(fd=>A.isObject(Pd)?void 0!==Pd[fd.channel]?Pd[fd.channel]:Pd[fd.field]:Pd)));Qa(v)||(E.timeUnit=new zh(null,v))},signals:(a,g,n)=>{const v=g.name+"_tuple_fields";return 0<n.filter(z=>z.name===v).length?n:n.concat({name:v,value:g.project.items.map(z=>{z=Object.assign({},z);z=(delete z.signals,delete z.hasLegend,z);z.field=Aa(z.field);return z})})}},jm,im,Jh,Wl,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,g)=>{g.clear&&(g.clear=
A.isString(g.clear)?re(g.clear,"view"):g.clear)},topLevelSignals:(a,g,n)=>{if(im.defined(g))for(const v of g.project.items)a=n.findIndex(z=>z.name===Ta(`${g.name}_${v.field}`)),-1!==a&&n[a].on.push({events:g.clear,update:"null"});return n},signals:(a,g,n)=>{function v(z,E){-1!==z&&n[z].on&&n[z].on.push({events:g.clear,update:E})}if("interval"===g.type)for(const z of g.project.items)a=n.findIndex(E=>E.name===z.signals.visual),v(a,"[0, 0]"),-1===a&&(a=n.findIndex(E=>E.name===z.signals.data),v(a,"null"));
else a=n.findIndex(z=>z.name===g.name+"_tuple"),v(a,"null"),jm.defined(g)&&(a=n.findIndex(z=>z.name===g.name+"_toggle"),v(a,"false"));return n}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,g,n)=>{const v=g.name,z=Jh.defined(g),E=v+"_translate_anchor",{x:ea,y:Ea}=g.project.hasChannel;let Wa=re(g.translate,"scope");z||(Wa=Wa.map(fb=>(fb.between[0].markname=v+"_brush",fb)));n.push({name:E,value:{},on:[{events:Wa.map(fb=>fb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==ea?`, extent_x: ${z?
Qi(a,"x"):`slice(${ea.signals.visual})`}`:"")+(void 0!==Ea?`, extent_y: ${z?Qi(a,"y"):`slice(${Ea.signals.visual})`}`:"")+"}"}]},{name:v+"_translate_delta",value:{},on:[{events:Wa,update:`{x: ${E}.x - x(unit), y: ${E}.y - y(unit)}`}]});void 0!==ea&&Ph(a,g,ea,"width",n);void 0!==Ea&&Ph(a,g,Ea,"height",n);return n}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,g,n)=>{const v=g.name,z=Jh.defined(g),E=v+"_zoom_delta",{x:ea,y:Ea}=g.project.hasChannel,Wa=A.stringValue(a.scaleName("x")),fb=A.stringValue(a.scaleName("y"));
let Jb=re(g.zoom,"scope");z||(Jb=Jb.map(xc=>(xc.markname=v+"_brush",xc)));n.push({name:v+"_zoom_anchor",on:[{events:Jb,update:z?"{"+[Wa?`x: invert(${Wa}, x(unit))`:"",fb?`y: invert(${fb}, y(unit))`:""].filter(xc=>!!xc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:E,on:[{events:Jb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==ea&&mi(a,g,ea,"width",n);void 0!==Ea&&mi(a,g,Ea,"height",n);return n}},hm];kg.prototype.visit=function(a){let g,n,v;if(a(this))return 1;
g=xk(this);n=0;for(v=g.length;n<v;++n)if(g[n].visit(a))return 1};var ee,Yc,cg,Ye,Bm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Cm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Dm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Em={"if":1};class fk extends lf{clone(){return new fk(null,
this.model,xe(this.filter))}constructor(a,g,n){super(a);this.model=g;this.filter=n;Mc(this,"expr",void 0);Mc(this,"_dependentFields",void 0);this.expr=mh(this.model,this.filter,this);this._dependentFields=Hj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const em={scale:a=>{var {model:g,channel:n}=a;return g.scaleName(n)},format:a=>{var {fieldOrDatumDef:g,config:n,axis:v}=
a;const {format:z,formatType:E}=v;return qf(g,g.type,z,E,n,!0)},formatType:a=>{var {axis:g,fieldOrDatumDef:n,scaleType:v}=a;({formatType:a}=g);return gf(a,n,v)},grid:a=>{var {fieldOrDatumDef:g,axis:n,scaleType:v}=a,z;return null!==(z=n.grid)&&void 0!==z?z:!(v in Hf)&&hd(g)&&!wa(null===g||void 0===g?void 0:g.bin)&&!cb(null===g||void 0===g?void 0:g.bin)},gridScale:a=>{var {model:g,channel:n}=a;a="x"===n?"y":"x";a=g.getScaleComponent(a)?g.scaleName(a):void 0;return a},labelAlign:a=>{var {axis:g,labelAngle:n,
orient:v,channel:z}=a;return g.labelAlign||aj(n,v,z)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{var {axis:g,labelAngle:n,orient:v,channel:z}=a;return g.labelBaseline||ui(n,v,z)},labelFlush:a=>{var {axis:g,fieldOrDatumDef:n,channel:v}=a,z;a=null!==(z=g.labelFlush)&&void 0!==z?z:"x"===v&&Ia(["quantitative","temporal"],n.type)?!0:void 0;return a},labelOverlap:a=>{var {axis:g,fieldOrDatumDef:n,scaleType:v}=a,z;if(null!==(z=g.labelOverlap)&&void 0!==z)a=z;else{a=n.type;z=hd(n)&&!!n.timeUnit;
var E=hd(n)?n.sort:void 0;a=z&&!A.isObject(E)||"nominal"!==a&&"ordinal"!==a?"log"===v||"symlog"===v?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{var {channel:g,model:n,axis:v,fieldOrDatumDef:z,scaleType:E}=a,ea;a=(a="x"===g?"width":"y"===g?"height":void 0)?n.getSizeSignalRef(a):void 0;if(null===(ea=v.tickCount)||void 0===ea)a:{var {fieldOrDatumDef:Ea,scaleType:Wa,size:fb,values:Jb}={fieldOrDatumDef:z,scaleType:E,size:a,values:v.values};if(Jb||Wa in Hf||"log"===Wa)ea=
void 0;else{if(hd(Ea)){var xc;if(wa(Ea.bin)){ea={signal:`ceil(${fb.signal}/10)`};break a}if(Ea.timeUnit&&Ia(["month","hours","day","quarter"],null===(xc=Vc(Ea.timeUnit))||void 0===xc?void 0:xc.unit)){ea=void 0;break a}}ea={signal:`ceil(${fb.signal}/40)`}}}return ea},title:a=>{var {axis:g,model:n,channel:v}=a;if(void 0!==g.title)return g.title;a=Ag(n,v);if(void 0!==a)return a;a=n.typedFieldDef(v);const z=n.fieldDef("x"===v?"x2":"y2");return Gc(a?[Je(a)]:[],hd(z)?[Je(z)]:[])},values:a=>{var {axis:g,
fieldOrDatumDef:n}=a;a=g.values;a=A.isArray(a)?wf(n,a):Ca(a)?a:void 0;return a},zindex:a=>{var {axis:g,fieldOrDatumDef:n,mark:v}=a,z;a=null!==(z=g.zindex)&&void 0!==z?z:"rect"===v&&Xc(n)?1:0;return a}};class gk extends lf{clone(){return new gk(null,xe(this.transform))}constructor(a,g){super(a);this.transform=g;Mc(this,"_dependentFields",void 0);this._dependentFields=Hj(this.transform.calculate)}static parseAllForSortIndex(a,g){g.forEachFieldDef((n,v)=>{if(Oa(n)&&Wc(n.sort)){const {field:E,timeUnit:ea}=
n;var z=n.sort;z=z.map((Ea,Wa)=>`${Dd({field:E,timeUnit:ea,equal:Ea})} ? ${Wa} : `).join("")+z.length;a=new gk(a,{calculate:z,as:lg(n,v,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ib(this.transform)}`}}const Ml=["row","column"],Nl=["header","footer"],bn={column:{start:0,end:1},row:{start:1,end:0}},cn=Object.assign({},
{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,
symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,
strokeDash:1,encode:1}),Xl=jd(cn);class Fm extends gi{}const Zl={symbols:function(a,g){var {fieldOrDatumDef:n,model:v,channel:z,legendCmpt:E,legendType:ea}=g,Ea,Wa,fb,Jb;if("symbol"===ea){var {markDef:xc,encoding:ic,config:tc,mark:Rc}=v;g=xc.filled&&"trail"!==Rc;var bd=Object,Hd=bd.assign,Pd={};for(var fd of cl){const df=Hc(fd,v.markDef,v.config);void 0!==df&&(Pd[fd]=Eb(df))}fd=Hd.call(bd,{},Pd,Ti(v,{filled:g}));bd=null!==(Ea=E.get("symbolOpacity"))&&void 0!==Ea?Ea:tc.legend.symbolOpacity;Ea=null!==
(Wa=E.get("symbolFillColor"))&&void 0!==Wa?Wa:tc.legend.symbolFillColor;Wa=null!==(fb=E.get("symbolStrokeColor"))&&void 0!==fb?fb:tc.legend.symbolStrokeColor;fb=void 0===bd?null!==(Jb=Gk(ic.opacity))&&void 0!==Jb?Jb:xc.opacity:void 0;if(fd.fill)if("fill"===z||g&&"color"===z)delete fd.fill;else if(fd.fill.field)if(Ea)delete fd.fill;else{var Ae;fd.fill=Eb(null!==(Ae=tc.legend.symbolBaseFillColor)&&void 0!==Ae?Ae:"black");fd.fillOpacity=Eb(null!==fb&&void 0!==fb?fb:1)}else if(A.isArray(fd.fill)){var Wd,
wd,Me;if(Jb=null!==(Wd=null!==(wd=Uh(null!==(Me=ic.fill)&&void 0!==Me?Me:ic.color))&&void 0!==wd?wd:xc.fill)&&void 0!==Wd?Wd:g&&xc.color)fd.fill=Eb(Jb)}fd.stroke&&("stroke"===z||!g&&"color"===z?delete fd.stroke:fd.stroke.field||Wa?delete fd.stroke:A.isArray(fd.stroke)&&(Wd=x(Uh(ic.stroke||ic.color),xc.stroke,g?xc.color:void 0))&&(fd.stroke={value:Wd}));"opacity"!==z&&((Wd=hd(n)&&Hk(v,E,n))?fd.opacity=[Object.assign({},{test:Wd},Eb(null!==fb&&void 0!==fb?fb:1)),Eb(tc.legend.unselectedOpacity)]:fb&&
(fd.opacity=Eb(fb)));fd=Object.assign({},fd,a);return Qa(fd)?void 0:fd}},gradient:function(a,g){var {model:n,legendType:v,legendCmpt:z}=g,E;if("gradient"===v){var {config:ea,markDef:Ea,encoding:Wa}=n;g={};var fb=void 0===(null!==(E=z.get("gradientOpacity"))&&void 0!==E?E:ea.legend.gradientOpacity)?Gk(Wa.opacity)||Ea.opacity:void 0;fb&&(g.opacity=Eb(fb));g=Object.assign({},g,a);return Qa(g)?void 0:g}},labels:function(a,g){var {fieldOrDatumDef:n,model:v,channel:z,legendCmpt:E}=g;g=v.legend(z)||{};const ea=
v.config;var Ea=hd(n)?Hk(v,E,n):void 0;Ea=Ea?[{test:Ea,value:1},{value:ea.legend.unselectedOpacity}]:void 0;const {format:Wa,formatType:fb}=g;g=od(fb)?ue({fieldOrDatumDef:n,field:"datum.value",format:Wa,formatType:fb,config:ea}):void 0;a=Object.assign({},Ea?{opacity:Ea}:{},g?{text:g}:{},a);return Qa(a)?void 0:a},entries:function(a,g){({legendCmpt:g}=g);g=g.get("selections");return null!==g&&void 0!==g&&g.length?Object.assign({},a,{fill:{value:"transparent"}}):a}},Yl={direction:a=>{({direction:a}=
a);return a},format:a=>{var {fieldOrDatumDef:g,legend:n,config:v}=a;const {format:z,formatType:E}=n;return qf(g,g.type,z,E,v,!1)},formatType:a=>{var {legend:g,fieldOrDatumDef:n,scaleType:v}=a;({formatType:a}=g);return gf(a,n,v)},gradientLength:a=>{var g,n;const {legend:v,legendConfig:z}=a;if(null!==(g=null!==(n=v.gradientLength)&&void 0!==n?n:z.gradientLength)&&void 0!==g)a=g;else{{var {legendConfig:E,model:ea,direction:Ea,orient:Wa,scaleType:fb}=a;const {gradientHorizontalMaxLength:Jb,gradientHorizontalMinLength:xc,
gradientVerticalMaxLength:ic,gradientVerticalMinLength:tc}=E;a=fb in of?"horizontal"===Ea?"top"===Wa||"bottom"===Wa?Ik(ea,"width",xc,Jb):xc:Ik(ea,"height",tc,ic):void 0}}return a},labelOverlap:a=>{var {legend:g,legendConfig:n,scaleType:v}=a,z,E;a=null!==(z=null!==(E=g.labelOverlap)&&void 0!==E?E:n.labelOverlap)&&void 0!==z?z:Ia(["quantile","threshold","log","symlog"],v)?"greedy":void 0;return a},symbolType:a=>{var {legend:g,markDef:n,channel:v,encoding:z}=a,E;if(null!==(E=g.symbolType)&&void 0!==
E)var ea=E;else a:{a=n.type;E=n.shape;if("shape"!==v&&(E=null!==(ea=Uh(z.shape))&&void 0!==ea?ea:E)){ea=E;break a}switch(a){case "bar":case "rect":case "image":case "square":ea="square";break a;case "line":case "trail":case "rule":ea="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":ea="circle";break a}ea=void 0}return ea},title:a=>{var {fieldOrDatumDef:g,config:n}=a;return ud(g,n,{allowDisabling:!0})},type:a=>{var {legendType:g,scaleType:n,
channel:v}=a;if(Da(v)&&n in of){if("gradient"===g)return}else if("symbol"===g)return;return g},values:a=>{var {fieldOrDatumDef:g,legend:n}=a;a=n.values;a=A.isArray(a)?wf(g,a):Ca(a)?a:void 0;return a}},Gm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class $l extends gi{constructor(a,g,n,v){super(Object.assign({},g),{name:a});this.specifiedProjection=g;this.size=n;this.data=v;Mc(this,"merged",
!1)}get isFit(){return!!this.data}}class yh extends lf{clone(){return new yh(null,xe(this.bins))}constructor(a,g){super(a);this.bins=g}static makeFromEncoding(a,g){const n=g.reduceFieldDef((v,z,E)=>{if(F(z)&&wa(z.bin)){const {key:ic,binComponent:tc}=Sg(z,z.bin,g);var ea=Object,Ea=ea.assign,Wa=v[ic];var fb=g.config;if(cf(z,E)){var Jb,xc;E=Bf(g)?null!==(Jb=null!==(xc=g.axis(E))&&void 0!==xc?xc:g.legend(E))&&void 0!==Jb?Jb:{}:{};Jb=Ob(z,{expr:"datum"});xc=Ob(z,{expr:"datum",binSuffix:"end"});z={formulaAs:Ob(z,
{binSuffix:"range",forAs:!0}),formula:$d(Jb,xc,E.format,E.formatType,fb)}}else z={};v[ic]=Ea.call(ea,{},tc,Wa,z)}return v},{});return Qa(n)?null:new yh(a,n)}static makeFromTransform(a,g,n){const {key:v,binComponent:z}=Sg(g,g.bin,n);return new yh(a,{[v]:z})}merge(a,g){for(const n of jd(a.bins))n in this.bins?(g(a.bins[n].signal,this.bins[n].signal),this.bins[n].as=na([...this.bins[n].as,...a.bins[n].as],ib)):this.bins[n]=a.bins[n];for(const n of a.children)a.removeChild(n),n.parent=this;a.remove()}producedFields(){return new Set(Ef(this.bins).map(a=>
a.as).flat(2))}dependentFields(){return new Set(Ef(this.bins).map(a=>a.field))}hash(){return`Bin ${ib(this.bins)}`}assemble(){return Ef(this.bins).flatMap(a=>{const g=[],[n,...v]=a.as;var z=a.bin,E=Object.assign({},z);z=z.extent;E=(delete E.extent,E);E=Object.assign({},{type:"bin",field:Aa(a.field),as:n,signal:a.signal},hb(z)?{extent:null}:{extent:z},a.span?{span:{signal:`span(${a.span})`}}:{},E);!z&&a.extentSignal&&(g.push({type:"extent",field:Aa(a.field),signal:a.extentSignal}),E.extent={signal:a.extentSignal});
g.push(E);for(const ea of v)for(z=0;2>z;z++)g.push({type:"formula",expr:Ob({field:n[z]},{expr:"datum"}),as:ea[z]});a.formula&&g.push({type:"formula",expr:a.formula,as:a.formulaAs});return g})}}class fh extends lf{clone(){return new fh(null,new Set(this.dimensions),xe(this.measures))}constructor(a,g,n){super(a);this.dimensions=g;this.measures=n}get groupBy(){return this.dimensions}static makeFromEncoding(a,g){let n=!1;g.forEachFieldDef(E=>{E.aggregate&&(n=!0)});const v={},z=new Set;if(!n)return null;
g.forEachFieldDef((E,ea)=>{const {aggregate:Ea,field:Wa}=E;if(Ea)if("count"===Ea){var fb;null!==(fb=v["*"])&&void 0!==fb?fb:v["*"]={};v["*"].count=new Set([Ob(E,{forAs:!0})])}else{if(m(Ea)||q(Ea)){var Jb;E=m(Ea)?"argmin":"argmax";fb=Ea[E];null!==(Jb=v[fb])&&void 0!==Jb?Jb:v[fb]={};v[fb][E]=new Set([Ob({op:E,field:fb},{forAs:!0})])}else{var xc;null!==(xc=v[Wa])&&void 0!==xc?xc:v[Wa]={};v[Wa][Ea]=new Set([Ob(E,{forAs:!0})])}if(Rf[ea]&&"unaggregated"===g.scaleDomain(ea)){var ic;null!==(ic=v[Wa])&&void 0!==
ic?ic:v[Wa]={};v[Wa].min=new Set([Ob({field:Wa,aggregate:"min"},{forAs:!0})]);v[Wa].max=new Set([Ob({field:Wa,aggregate:"max"},{forAs:!0})])}}else Jb=Bf(g)?g.encoding[ca(ea)]:void 0,F(E)&&Bf(g)&&Ke(E,Jb,g.markDef,g.config)?(z.add(Ob(E,{})),z.add(Ob(E,{suffix:"end"})),E.bin&&cf(E,ea)&&z.add(Ob(E,{binSuffix:"range"}))):ea in fi?(ea=da(ea),z.add(g.getName(ea))):z.add(Ob(E))});return 0===z.size+jd(v).length?null:new fh(a,z,v)}static makeFromTransform(a,g){const n=new Set,v={};for(const Ea of g.aggregate){const {op:Wa,
field:fb,as:Jb}=Ea;if(Wa)if("count"===Wa){var z;null!==(z=v["*"])&&void 0!==z?z:v["*"]={};v["*"].count=new Set([Jb?Jb:Ob(Ea,{forAs:!0})])}else{var E;null!==(E=v[fb])&&void 0!==E?E:v[fb]={};v[fb][Wa]=new Set([Jb?Jb:Ob(Ea,{forAs:!0})])}}for(const Ea of null!==(ea=g.groupby)&&void 0!==ea?ea:[]){var ea;n.add(Ea)}return 0===n.size+jd(v).length?null:new fh(a,n,v)}merge(a){if(Ba(this.dimensions,a.dimensions)){var g=this.measures;a=a.measures;for(const v of jd(a)){const z=a[v];for(const E of jd(z))if(v in
g){var n;g[v][E]=new Set([...(null!==(n=g[v][E])&&void 0!==n?n:[]),...z[E]])}else g[v]={[E]:z[E]}}return!0}Fh.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...jd(this.measures)])}producedFields(){const a=new Set;for(const g of jd(this.measures))for(const n of jd(this.measures[g])){const v=this.measures[g][n];0===v.size?a.add(`${n}_${g}`):v.forEach(a.add,a)}return a}hash(){return`Aggregate ${ib({dimensions:this.dimensions,
measures:this.measures})}`}assemble(){const a=[],g=[],n=[];for(const v of jd(this.measures))for(const z of jd(this.measures[v]))for(const E of this.measures[v][z])n.push(E),a.push(z),g.push("*"===v?null:Aa(v));return{type:"aggregate",groupby:[...this.dimensions].map(Aa),ops:a,fields:g,as:n}}}class hj extends lf{constructor(a,g,n,v){super(a);this.model=g;this.name=n;this.data=v;Mc(this,"column",void 0);Mc(this,"row",void 0);Mc(this,"facet",void 0);Mc(this,"childModel",void 0);for(const z of Yf)if(a=
g.facet[z]){const {bin:E,sort:ea}=a;this[z]=Object.assign({},{name:g.getName(`${z}_domain`),fields:[Ob(a),...(wa(E)?[Ob(a,{binSuffix:"end"})]:[])]},fc(ea)?{sortField:ea}:A.isArray(ea)?{sortIndexField:lg(a,z)}:{})}this.childModel=g.child}hash(){let a="Facet";for(const g of Yf)this[g]&&(a+=` ${g.charAt(0)}:${ib(this[g])}`);return a}get fields(){const a=[];for(const n of Yf){var g;null!==(g=this[n])&&void 0!==g&&g.fields&&a.push(...this[n].fields)}return a}dependentFields(){const a=new Set(this.fields);
for(const g of Yf)this[g]&&(this[g].sortField&&a.add(this[g].sortField.field),this[g].sortIndexField&&a.add(this[g].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const v of jg){var g=this.childModel.component.scales[v];if(g&&!g.merged){var n=g.get("type");g=g.get("range");n in Hf&&qb(g)&&(n=kj(this.childModel,v),(n=vh(n))?a[v]=n:pb(sc(v)))}}return a}assembleRowColumnHeaderData(a,g,n){const v={row:"y",column:"x",
facet:void 0}[a],z=[],E=[],ea=[];v&&n&&n[v]&&(g?(z.push(`distinct_${n[v]}`),E.push("max")):(z.push(n[v]),E.push("distinct")),ea.push(`distinct_${n[v]}`));const {sortField:Ea,sortIndexField:Wa}=this[a];if(Ea){const {op:fb="min",field:Jb}=Ea;z.push(Jb);E.push(fb);ea.push(Ob(Ea,{forAs:!0}))}else Wa&&(z.push(Wa),E.push("max"),ea.push(Wa));return{name:this[a].name,source:null!==g&&void 0!==g?g:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},z.length?{fields:z,ops:E,as:ea}:
{})]}}assembleFacetHeaderData(a){const {columns:g}=this.model.layout,{layoutHeaders:n}=this.model.component,v=[],z={};for(const Jb of Ml){for(const xc of Nl){var E,ea=null!==(E=n[Jb]&&n[Jb][xc])&&void 0!==E?E:[];for(const ic of ea){var Ea;if(0<(null===(Ea=ic.axes)||void 0===Ea?void 0:Ea.length)){z[Jb]=!0;break}}}z[Jb]&&(ea=`length(data("${this.facet.name}"))`,v.push({name:`${this.facet.name}_${Jb}`,transform:[{type:"sequence",start:0,stop:"row"===Jb?g?{signal:`ceil(${ea} / ${g})`}:1:g?{signal:`min(${ea}, ${g})`}:
{signal:ea}}]}))}const {row:Wa,column:fb}=z;(Wa||fb)&&v.unshift(this.assembleRowColumnHeaderData("facet",null,a));return v}assemble(){const a=[];var g=null;const n=this.getChildIndependentFieldsWithStep(),{column:v,row:z,facet:E}=this;if(v&&z&&(n.x||n.y)){var ea,Ea;g=`cross_${this.column.name}_${this.row.name}`;const Wa=[].concat(null!==(ea=n.x)&&void 0!==ea?ea:[],null!==(Ea=n.y)&&void 0!==Ea?Ea:[]);ea=Wa.map(()=>"distinct");a.push({name:g,source:this.data,transform:[{type:"aggregate",groupby:this.fields,
fields:Wa,ops:ea}]})}for(const Wa of["column","row"])this[Wa]&&a.push(this.assembleRowColumnHeaderData(Wa,g,n));E&&(g=this.assembleFacetHeaderData(n))&&a.push(...g);return a}}class og extends lf{clone(){return new og(null,xe(this._parse))}constructor(a,g){super(a);Mc(this,"_parse",void 0);this._parse=g}hash(){return`Parse ${ib(this._parse)}`}static makeExplicit(a,g,n){let v={};g=g.data;!Le(g)&&g&&g.format&&g.format.parse&&(v=g.format.parse);return this.makeWithAncestors(a,v,{},n)}static makeWithAncestors(a,
g,n,v){for(var z of jd(n)){const ea=v.getWithExplicit(z);void 0!==ea.value&&(ea.explicit||ea.value===n[z]||"derived"===ea.value||"flatten"===n[z]?delete n[z]:pb(oa(z,n[z],ea.value)))}for(var E of jd(g))z=v.get(E),void 0!==z&&(z===g[E]?delete g[E]:pb(oa(E,g[E],z)));g=new gi(g,n);v.copyAll(g);n={};for(const ea of jd(g.combine()))E=g.get(ea),null!==E&&(n[ea]=E);return 0===jd(n).length||v.parseNothing?null:new og(a,n)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);
a.remove()}assembleFormatParse(){const a={};for(const g of jd(this._parse)){const n=this._parse[g];1===I(g)&&(a[g]=n)}return a}producedFields(){return new Set(jd(this._parse))}dependentFields(){return new Set(jd(this._parse))}assembleTransforms(a){a=void 0===a?!1:a;return jd(this._parse).filter(g=>a?1<I(g):!0).map(g=>{const n=zi(g,this._parse[g]);return n?{type:"formula",expr:n,as:Va(g)}:null}).filter(g=>null!==g)}}class Gi extends lf{clone(){return new Gi(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class Jk extends lf{clone(){return new Jk(null,this.params)}constructor(a,g){super(a);this.params=g}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ib(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Kk extends lf{clone(){return new Kk(null,this.params)}constructor(a,g){super(a);this.params=g}dependentFields(){return new Set}producedFields(){var a;return new Set([null!==(a=this.params.as)&&void 0!==
a?a:"data"])}hash(){return`Hash ${ib(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class Ai extends lf{constructor(a){var g;super(null);Mc(this,"_data",void 0);Mc(this,"_name",void 0);Mc(this,"_generator",void 0);null!==(g=a)&&void 0!==g?g:a={name:"source"};let n;Le(a)||(n=a.format?Object.assign({},Gb(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a)this._data={url:a.url},n.type||(g=/(?:\.([^.]+))?$/.exec(a.url)[1],Ia(["json",
"csv","tsv","dsv","topojson"],g)||(g="json"),n.type=g);else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Qe(a)||Le(a))this._data={};this._generator=Le(a);a.name&&(this._name=a.name);n&&!Qa(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var dl=new WeakMap;class Ol{constructor(){dl.set(this,{writable:!0,value:void 0});xd(this,dl,!1)}setModified(){xd(this,dl,!0)}get modifiedFlag(){var a=Rd(this,dl,"get");return a.get?a.get.call(this):a.value}}class Ki extends Ol{getNodeDepths(a,g,n){n.set(a,g);for(const v of a.children)this.getNodeDepths(v,
g+1,n);return n}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((g,n)=>n[1]-g[1]);for(const g of a)this.run(g[0]);return this.modifiedFlag}}class Pl extends Ol{optimize(a){this.run(a);for(const g of a.children)this.optimize(g);return this.modifiedFlag}}class Qm extends Pl{mergeNodes(a,g){const n=g.shift();for(const v of g)a.removeChild(v),v.parent=n,v.remove()}run(a){const g=a.children.map(v=>v.hash()),n={};for(let v=0;v<g.length;v++)void 0===n[g[v]]?n[g[v]]=[a.children[v]]:n[g[v]].push(a.children[v]);
for(const v of jd(n))1<n[v].length&&(this.setModified(),this.mergeNodes(a,n[v]))}}class Im extends Pl{constructor(a){super();Mc(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&ni(a)}run(a){!(a instanceof Gi)||this.requiresSelectionId&&(Vh(a.parent)||a.parent instanceof fh||a.parent instanceof og)||(this.setModified(),a.remove())}}class Mm extends Ol{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,g){let n=new Set;a instanceof zh&&(n=a.producedFields(),Ga(n,g)&&(this.setModified(),
a.removeFormulas(g),0===a.producedFields.length&&a.remove()));for(const v of a.children)this.run(v,new Set([...g,...n]))}}class Hm extends Pl{constructor(){super()}run(a){a instanceof ng&&!a.isRequired()&&(this.setModified(),a.remove())}}class Km extends Ki{run(a){if(!(Vh(a)||1<a.numChildren()))for(const g of a.children)g instanceof og&&(a instanceof og?(this.setModified(),a.merge(g)):ra(a.producedFields(),g.dependentFields())||(this.setModified(),g.swapWithParent()))}}class Nm extends Ki{run(a){const g=
[...a.children];var n=a.children.filter(z=>z instanceof og);if(1<a.numChildren()&&1<=n.length){const z={};var v=new Set;for(const E of n){n=E.parse;for(const ea of jd(n))ea in z?z[ea]!==n[ea]&&v.add(ea):z[ea]=n[ea]}for(const E of v)delete z[E];if(!Qa(z)){this.setModified();v=new og(a,z);for(const E of g){if(E instanceof og)for(const ea of jd(z))delete E.parse[ea];a.removeChild(E);E.parent=v;E instanceof og&&0===jd(E.parse).length&&E.remove()}}}}}class Jm extends Ki{run(a){a instanceof ng||0<a.numChildren()||
a instanceof hj||a instanceof Ai||(this.setModified(),a.remove())}}class Pm extends Ki{run(a){a=a.children.filter(n=>n instanceof zh);const g=a.pop();for(const n of a)this.setModified(),g.merge(n)}}class Om extends Ki{run(a){var g=a.children.filter(z=>z instanceof fh);const n={};for(var v of g)g=ib(v.groupBy),g in n||(n[g]=[]),n[g].push(v);for(const z of jd(n))if(v=n[z],1<v.length){g=v.pop();for(const E of v)g.merge(E)&&(a.removeChild(E),E.parent=g,E.remove(),this.setModified())}}}class Lm extends Ki{constructor(a){super();
this.model=a}run(a){var g=!(Vh(a)||a instanceof fk||a instanceof og||a instanceof Gi);const n=[],v=[];for(const z of a.children)z instanceof yh&&(g&&!ra(a.producedFields(),z.dependentFields())?n.push(z):v.push(z));if(0<n.length){g=n.pop();for(const z of n)g.merge(z,this.model.renameSignal.bind(this.model));this.setModified();a instanceof yh?a.merge(g,this.model.renameSignal.bind(this.model)):g.swapWithParent()}if(1<v.length){a=v.pop();for(const z of v)a.merge(z,this.model.renameSignal.bind(this.model));
this.setModified()}}}class Rm extends Ki{run(a){var g=[...a.children];if(Sa(g,z=>z instanceof ng)&&!(1>=a.numChildren())){var n=[];for(const z of g)if(z instanceof ng){for(g=z;1===g.numChildren();){const [E]=g.children;if(E instanceof ng)g=E;else break}n.push(...g.children);if(v)a.removeChild(z),z.parent=v.parent,v.parent.removeChild(v),v.parent=g,this.setModified();else var v=g}else n.push(z);if(n.length){this.setModified();for(const z of n)z.parent.removeChild(z),z.parent=v}}}}class ij extends lf{clone(){return new ij(null,
xe(this.transform))}constructor(a,g){super(a);this.transform=g}addDimensions(a){this.transform.groupby=na(this.transform.groupby.concat(a),g=>g)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(g=>g.field).filter(g=>void 0!==g).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){var g;return null!==(g=a.as)&&void 0!==g?g:Ob(a)}hash(){return`JoinAggregateTransform ${ib(this.transform)}`}assemble(){const a=
[],g=[],n=[];for(var v of this.transform.joinaggregate)g.push(v.op),n.push(this.getDefaultName(v)),a.push(void 0===v.field?null:v.field);v=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:n,ops:g,fields:a},void 0!==v?{groupby:v}:{})}}class Wh extends lf{clone(){return new Wh(null,xe(this._stack))}constructor(a,g){super(a);Mc(this,"_stack",void 0);this._stack=g}static makeFromTransform(a,g){const {stack:n,groupby:v,as:z,offset:E="zero"}=g;var ea=[];const Ea=[];if(void 0!==g.sort)for(const Wa of g.sort)ea.push(Wa.field),
Ea.push(x(Wa.order,"ascending"));ea={field:ea,order:Ea};g=ml(z)?z:A.isString(z)?[z,`${z}_end`]:[`${g.stack}_start`,`${g.stack}_end`];return new Wh(a,{stackField:n,groupby:v,offset:E,sort:ea,facetby:[],as:g})}static makeFromEncoding(a,g){var n=g.stack,{encoding:v}=g;if(!n)return null;const {groupbyChannel:z,fieldChannel:E,offset:ea,impute:Ea}=n;let Wa;z&&(Wa=ae(v[z]));n=ll(g);v=g.encoding.order;v=A.isArray(v)||hd(v)?Ad(v):n.reduce((fb,Jb)=>{fb.field.push(Jb);fb.order.push("y"===E?"descending":"ascending");
return fb},{field:[],order:[]});return new Wh(a,{dimensionFieldDef:Wa,stackField:g.vgField(E),facetby:[],stackby:n,sort:v,offset:ea,impute:Ea,as:[g.vgField(E,{suffix:"start",forAs:!0}),g.vgField(E,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ib(this._stack)}`}getGroupbyFields(){const {dimensionFieldDef:a,
impute:g,groupby:n}=this._stack;return a?a.bin?g?[Ob(a,{binSuffix:"mid"})]:[Ob(a,{}),Ob(a,{binSuffix:"end"})]:[Ob(a)]:null!==n&&void 0!==n?n:[]}assemble(){const a=[],{facetby:g,dimensionFieldDef:n,stackField:v,stackby:z,sort:E,offset:ea,impute:Ea,as:Wa}=this._stack;if(Ea&&n){const {bandPosition:fb=.5,bin:Jb}=n;Jb&&a.push({type:"formula",expr:`${fb}*`+Ob(n,{expr:"datum"})+`+${1-fb}*`+Ob(n,{expr:"datum",binSuffix:"end"}),as:Ob(n,{binSuffix:"mid",forAs:!0})});a.push({type:"impute",field:v,groupby:[...z,
...g],key:Ob(n,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...g],field:v,sort:E,as:Wa,offset:ea});return a}}class Tj extends lf{clone(){return new Tj(null,xe(this.transform))}constructor(a,g){super(a);this.transform=g}addDimensions(a){this.transform.groupby=na(this.transform.groupby.concat(a),g=>g)}dependentFields(){var a,g;const n=new Set;(null!==(a=this.transform.groupby)&&void 0!==a?a:[]).forEach(n.add,n);(null!==(g=this.transform.sort)&&
void 0!==g?g:[]).forEach(v=>n.add(v.field));this.transform.window.map(v=>v.field).filter(v=>void 0!==v).forEach(n.add,n);return n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){var g;return null!==(g=a.as)&&void 0!==g?g:Ob(a)}hash(){return`WindowTransform ${ib(this.transform)}`}assemble(){const a=[],g=[],n=[],v=[];for(var z of this.transform.window)g.push(z.op),n.push(this.getDefaultName(z)),v.push(void 0===z.param?null:z.param),a.push(void 0===z.field?
null:z.field);z=this.transform.frame;const E=this.transform.groupby;if(z&&null===z[0]&&null===z[1]&&g.every(fb=>w(fb)))return Object.assign({},{type:"joinaggregate",as:n,ops:g,fields:a},void 0!==E?{groupby:E}:{});const ea=[],Ea=[];if(void 0!==this.transform.sort)for(const fb of this.transform.sort){var Wa;ea.push(fb.field);Ea.push(null!==(Wa=fb.order)&&void 0!==Wa?Wa:"ascending")}Wa=this.transform.ignorePeers;return Object.assign({},{type:"window",params:v,as:n,ops:g,fields:a,sort:{field:ea,order:Ea}},
void 0!==Wa?{ignorePeers:Wa}:{},void 0!==E?{groupby:E}:{},void 0!==z?{frame:z}:{})}}class Cg{constructor(a){Mc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,g){return new Cg(()=>a(g))}}class bm extends gi{constructor(a,g){super({},{name:a});Mc(this,"merged",!1);this.setWithExplicit("type",g)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:Sa(this.get("domains"),a=>A.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const Sm=["range","scheme"],
am={bins:a=>{var {model:g,fieldOrDatumDef:n}=a;return hd(n)?dk(g,n):void 0},interpolate:a=>{var {channel:g,fieldOrDatumDef:n}=a;a=n.type;a=Ia(["color","fill","stroke"],g)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{var {scaleType:g,channel:n,domain:v,fieldOrDatumDef:z}=a;var E;a=null!==(E=ae(z))&&void 0!==E&&E.bin||A.isArray(v)||Ia([Af.TIME,Af.UTC],g)?void 0:n in Df?!0:void 0;return a},padding:a=>{var {channel:g,scaleType:n,fieldOrDatumDef:v,markDef:z,config:E}=a;a:{a=E.scale;var ea=E.bar;if(g in
Df){if(n in of){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:Ea,orient:Wa}=z;if("bar"===Ea&&(!hd(v)||!v.bin&&!v.timeUnit)&&("vertical"===Wa&&"x"===g||"horizontal"===Wa&&"y"===g)){a=ea.continuousBandSize;break a}}if(n===Af.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{var {scalePadding:g,channel:n,markDef:v,config:z}=a;if(void 0!==g)a=void 0;else if(n in Df){const {bandPaddingInner:E,barBandPaddingInner:ea,rectBandPaddingInner:Ea}=z.scale;a=x(E,
"bar"===v.type?ea:Ea)}else a=void 0;return a},paddingOuter:a=>{var {scalePadding:g,channel:n,scaleType:v,scalePaddingInner:z,config:E}=a;void 0!==g?a=void 0:n in Df&&v===Af.BAND?({bandPaddingOuter:a}=E.scale,a=x(a,Ca(z)?{signal:`${z.signal}/2`}:z/2)):a=void 0;return a},reverse:a=>{var {fieldOrDatumDef:g,scaleType:n,channel:v,config:z}=a;a=hd(g)?g.sort:void 0;var E=z.scale;a="x"===v&&void 0!==E.xReverse?n in Qf&&"descending"===a?Ca(E.xReverse)?{signal:`!${E.xReverse.signal}`}:!E.xReverse:E.xReverse:
n in Qf&&"descending"===a?!0:void 0;return a},zero:a=>{var {channel:g,fieldOrDatumDef:n,domain:v,markDef:z,scaleType:E}=a;a:if(v&&"unaggregated"!==v&&E in Qf){if(A.isArray(v)&&(a=v[v.length-1],0>=v[0]&&0<=a)){a=!0;break a}a=!1}else if("size"!==g||"quantitative"!==n.type||E in Xg)if(hd(n)&&n.bin||!Ia([...jg,...Jl],g))a=!1;else{const {orient:ea,type:Ea}=z;a=Ia(["bar","area","line","trail"],Ea)&&("horizontal"===ea&&"y"===g||"vertical"===ea&&"x"===g)?!1:!0}else a=!0;return a}},Tm=id((a,g)=>fg[a]-fg[g]);
class Ql{constructor(){Mc(this,"nameMap",void 0);this.nameMap={}}rename(a,g){this.nameMap[a]=g}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class Rl{constructor(a,g,n,v,z,E,ea){var Ea,Wa;this.type=g;this.parent=n;this.config=z;Mc(this,"name",void 0);Mc(this,"size",void 0);Mc(this,"title",void 0);Mc(this,"description",void 0);Mc(this,"data",void 0);Mc(this,"transforms",void 0);Mc(this,"layout",void 0);Mc(this,"scaleNameMap",void 0);
Mc(this,"projectionNameMap",void 0);Mc(this,"signalNameMap",void 0);Mc(this,"component",void 0);Mc(this,"view",void 0);Mc(this,"children",[]);Mc(this,"correctDataNames",fb=>{fb.from&&fb.from.data&&(fb.from.data=this.lookupDataSource(fb.from.data));fb.from&&fb.from.facet&&fb.from.facet.data&&(fb.from.facet.data=this.lookupDataSource(fb.from.facet.data));return fb});this.parent=n;this.config=z;this.view=H(ea);this.name=null!==(Ea=a.name)&&void 0!==Ea?Ea:v;this.title=ja(a.title)?{text:a.title}:a.title?
H(a.title):void 0;this.scaleNameMap=n?n.scaleNameMap:new Ql;this.projectionNameMap=n?n.projectionNameMap:new Ql;this.signalNameMap=n?n.signalNameMap:new Ql;this.data=a.data;this.description=a.description;this.transforms=$c(null!==(Wa=a.transform)&&void 0!==Wa?Wa:[]);this.layout="layer"===g||"unit"===g?{}:Qb(a,g,z);this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:"facet"in
a||n&&n.component.data.isFaceted&&void 0===a.data},layoutSize:new gi,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},E?xe(E):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();
this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:a}={};Nk(this);Bf(this)?Hg(this):Wj(this);for(const g of nk)xh(this,g);a||lj(this)}parseProjection(){gj(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Oj(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var a,
g;return null!==(a=null===(g=this.view)||void 0===g?void 0:g.style)&&void 0!==a?a:"cell"}}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const g={};for(const n of jd(a)){const v=a[n];void 0!==v&&(g[n]=Eb(v))}return g}assembleGroupEncodeEntry(a){let g={};this.view&&(g=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(g.description=Eb(this.description)),"unit"===this.type||"layer"===this.type)){var n;return Object.assign({},{width:this.getSizeSignalRef("width"),
height:this.getSizeSignalRef("height")},null!==(n=g)&&void 0!==n?n:{})}return Qa(g)?void 0:g}assembleLayout(){if(this.layout){var a=this.layout,g=Object.assign({},a);a=a.spacing;g=(delete g.spacing,g);var {component:n,config:v}=this,z=n.layoutHeaders,E={};for(Ea of Yf){var ea=z[Ea];if(null!==ea&&void 0!==ea&&ea.facetFieldDef){const {titleAnchor:Wa,titleOrient:fb}=dh(["titleAnchor","titleOrient"],ea.facetFieldDef.header,v,Ea);ea=Bg(Ea,fb);const Jb=bn[ea][Wa];void 0!==Jb&&(E[ea]=Jb)}}var Ea=Qa(E)?void 0:
E;return Object.assign({},{padding:a},this.assembleDefaultLayout(),g,Ea?{titleBand:Ea}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,g=[];for(var n of Yf)if(a[n].title){var v=g,z=v.push;var E=n;var ea=this.component.layoutHeaders[E].title,Ea=this.config?this.config:void 0,Wa=this.component.layoutHeaders[E].facetFieldDef?this.component.layoutHeaders[E].facetFieldDef:void 0;const {titleAnchor:Rc,titleAngle:bd,titleOrient:Hd}=dh(["titleAnchor","titleAngle",
"titleOrient"],Wa.header,Ea,E);var fb=Bg(E,Hd),Jb=R(bd);E={name:`${E}-title`,type:"group",role:`${fb}-title`,title:Object.assign({},{text:ea},"row"===E?{orient:"left"}:{},{style:"guide-title"},Sh(Jb,fb),Rh(fb,Jb,Rc),Ek(Ea,Wa,E,td,yc))};z.call(v,E)}for(const Rc of Ml){a=g;g=a.concat;v=Rc;z=this.component.layoutHeaders[v];n=[];for(const bd of Nl)if(z[bd])for(const Hd of z[bd]){a:{Wa=void 0;E=v;var xc=bd,ic=z;if(ea=Hd){Ea=null;({facetFieldDef:tc}=ic);fb=this.config?this.config:void 0;tc&&ea.labels&&
({labelOrient:Jb}=dh(["labelOrient"],tc.header,fb,E),"row"===E&&!Ia(["top","bottom"],Jb)||"column"===E&&!Ia(["left","right"],Jb))&&(Ea=vi(tc,E,fb));const Pd=zg(this)&&!Ud(this.facet),fd=ea.axes,Ae=0<(null===fd||void 0===fd?void 0:fd.length);if(Ea||Ae){const Wd="row"===E?"height":"width";fb=Object;Jb=fb.assign;xc={name:this.getName(`${E}_${xc}`),type:"group",role:`${E}-${xc}`};if(ic.facetFieldDef){ic={data:this.getName(`${E}_domain`)};{const {sort:wd}=tc;var tc=fc(wd)?{field:Ob(wd,{expr:"datum"}),
order:null!==(Wa=wd.order)&&void 0!==Wa?Wa:"ascending"}:A.isArray(wd)?{field:lg(tc,E,{expr:"datum"}),order:"ascending"}:{field:Ob(tc,{expr:"datum"}),order:null!==wd&&void 0!==wd?wd:"ascending"}}Wa={from:ic,sort:tc}}else Wa={};E=Jb.call(fb,{},xc,Wa,Ae&&Pd?{from:{data:this.getName(`facet_domain_${E}`)}}:{},Ea?{title:Ea}:{},ea.sizeSignal?{encode:{update:{[Wd]:ea.sizeSignal}}}:{},Ae?{axes:fd}:{});break a}}E=null}null!=E&&n.push(E)}g=g.call(a,n)}return g}assembleAxes(){return Ak(this.component.axes,this.config)}assembleLegends(){return ej(this)}assembleProjections(){var a=
Ih(this)||Mj(this)?Qj(this):fj(this);return a}assembleTitle(){var a,g=null!==(a=this.title)&&void 0!==a?a:{};a=Object.assign({},g);g=g.encoding;a=(delete a.encoding,a);g=Object.assign({},Q(this.config.title).nonMark,a,g?{encode:{update:g}}:{});if(g.text){if(Ia(["unit","layer"],this.type)){if(Ia(["middle",void 0],g.anchor)){var n;null!==(n=g.frame)&&void 0!==n?n:g.frame="group"}}else{var v;null!==(v=g.anchor)&&void 0!==v?v:g.anchor="start"}return Qa(g)?void 0:g}}assembleGroup(a){a=void 0===a?[]:a;
const g={};a=a.concat(this.assembleSignals());0<a.length&&(g.signals=a);if(a=this.assembleLayout())g.layout=a;g.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||zg(this.parent)?Yj(this):[];0<a.length&&(g.scales=a);a=this.assembleAxes();0<a.length&&(g.axes=a);a=this.assembleLegends();0<a.length&&(g.legends=a);return g}getName(a){return Ta((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(pf[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);
const g=this.component.data.outputNodeRefCounts;g[a]=(g[a]||0)+1;return a}getSizeSignalRef(a){if(zg(this.parent)){var g=Fk(a),n=c(g);if((g=this.component.scales[n])&&!g.merged){var v=g.get("type");const z=g.get("range");if(v in Hf&&qb(z)){a=g.get("name");v=kj(this,n);if(v=vh(v))return n=Ob({aggregate:"distinct",field:v},{expr:"datum"}),{signal:cj(a,g,n)};pb(sc(n));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const g=this.component.data.outputNodes[a];return g?
g.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,g){this.signalNameMap.rename(a,g)}renameScale(a,g){this.scaleNameMap.rename(a,g)}renameProjection(a,g){this.projectionNameMap.rename(a,g)}scaleName(a,g){if(g)return this.getName(a);if(hg[a]&&Rf[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const g=this.component.scales[a];return g&&!g.merged?g:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,g){let n=this.component.selection[a];!n&&this.parent&&(n=this.parent.getSelectionComponent(a,
g));if(!n)throw Error(`Cannot find a selection named "${g}".`);return n}hasAxisOrientSignalRef(){var a,g;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(n=>n.hasOrientSignalRef()))||(null===(g=this.component.axes.y)||void 0===g?void 0:g.some(n=>n.hasOrientSignalRef()))}}class km extends Rl{vgField(a,g){g=void 0===g?{}:g;if(a=this.fieldDef(a))return Ob(a,g)}reduceFieldDef(a,g){return Vf(this.getMapping(),(n,v,z)=>(v=ae(v))?a(n,v,z):n,g)}forEachFieldDef(a,g){Gf(this.getMapping(),(n,
v)=>{(n=ae(n))&&a(n,v)},g)}}class xl extends lf{clone(){return new xl(null,xe(this.transform))}constructor(a,g){var n,v,z;super(a);this.transform=g;this.transform=xe(g);a=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:"value",null!==(z=a[1])&&void 0!==z?z:"density"]}dependentFields(){var a;return new Set([this.transform.density,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ib(this.transform)}`}assemble(){var a=
this.transform,g=Object.assign({},a);a=a.density;g=(delete g.density,g);return Object.assign({},{type:"kde",field:a},g)}}class Pk extends lf{clone(){return new Pk(null,Object.assign({},this.filter))}constructor(a,g){super(a);this.filter=g}static make(a,g){const {config:n,mark:v,markDef:z}=g;if("filter"!==Zb("invalid",z,n))return null;const E=g.reduceFieldDef((ea,Ea,Wa)=>{(Wa=!!Rf[Wa]&&g.getScaleComponent(Wa))&&Wa.get("type")in Qf&&"count"!==Ea.aggregate&&!Rb(v)&&(ea[Ea.field]=Ea);return ea},{});return jd(E).length?
new Pk(a,E):null}dependentFields(){return new Set(jd(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ib(this.filter)}`}assemble(){const a=jd(this.filter).reduce((g,n)=>{n=this.filter[n];const v=Ob(n,{expr:"datum"});null!==n&&("temporal"===n.type?g.push(`(isDate(${v}) || (isValid(${v}) && isFinite(+${v})))`):"quantitative"===n.type&&(g.push(`isValid(${v})`),g.push(`isFinite(+${v})`)));return g},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class wl extends lf{clone(){return new wl(this.parent,
xe(this.transform))}constructor(a,g){super(a);this.transform=g;this.transform=xe(g);const {flatten:n,as:v=[]}=this.transform;this.transform.as=n.map((z,E)=>{var ea;return null!==(ea=v[E])&&void 0!==ea?ea:z})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ib(this.transform)}`}assemble(){const {flatten:a,as:g}=this.transform;return{type:"flatten",fields:a,as:g}}}class vl extends lf{clone(){return new vl(null,
xe(this.transform))}constructor(a,g){var n,v,z;super(a);this.transform=g;this.transform=xe(g);a=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:"key",null!==(z=a[1])&&void 0!==z?z:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ib(this.transform)}`}assemble(){const {fold:a,as:g}=this.transform;return{type:"fold",fields:a,as:g}}}class hk extends lf{clone(){return new hk(null,
xe(this.fields),this.geojson,this.signal)}static parseAll(a,g){if(g.component.projection&&!g.component.projection.isFit)return a;let n=0;for(var v of[["longitude","latitude"],["longitude2","latitude2"]]){const z=v.map(E=>{E=ge(g.encoding[E]);return hd(E)?E.field:Ee(E)?{expr:`${E.datum}`}:X(E)?{expr:`${E.value}`}:void 0});if(z[0]||z[1])a=new hk(a,z,null,g.getName(`geojson_${n++}`))}g.channelHasField("shape")&&(v=g.typedFieldDef("shape"),"geojson"===v.type&&(a=new hk(a,null,v.field,g.getName(`geojson_${n++}`))));
return a}constructor(a,g,n,v){super(a);this.fields=g;this.geojson=n;this.signal=v}dependentFields(){var a;const g=(null!==(a=this.fields)&&void 0!==a?a:[]).filter(A.isString);return new Set([...(this.geojson?[this.geojson]:[]),...g])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ib(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:
{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Qk extends lf{clone(){return new Qk(null,this.projection,xe(this.fields),xe(this.as))}constructor(a,g,n,v){super(a);this.projection=g;this.fields=n;this.as=v}static parseAll(a,g){if(!g.projectionName())return a;for(const n of[["longitude","latitude"],["longitude2","latitude2"]]){const v=n.map(E=>{E=ge(g.encoding[E]);return hd(E)?E.field:Ee(E)?{expr:`${E.datum}`}:X(E)?{expr:`${E.value}`}:void 0}),z="longitude2"===n[0]?"2":"";if(v[0]||
v[1])a=new Qk(a,g.projectionName(),v,[g.getName(`x${z}`),g.getName(`y${z}`)])}return a}dependentFields(){return new Set(this.fields.filter(A.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ib(this.fields)} ${ib(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class nj extends lf{clone(){return new nj(null,xe(this.transform))}constructor(a,g){super(a);this.transform=g}dependentFields(){var a;return new Set([this.transform.impute,
this.transform.key,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:g=0,stop:n,step:v}=a;return{signal:`sequence(${[g,n,...(v?[v]:[])].join()})`}}static makeFromTransform(a,g){return new nj(a,g)}static makeFromEncoding(a,g){const n=g.encoding;var v=n.x;const z=n.y;if(hd(v)&&hd(z)){const E=v.impute?v:z.impute?z:void 0;if(void 0===E)return;v=v.impute?z:z.impute?v:void 0;const {method:ea,value:Ea,frame:Wa,
keyvals:fb}=E.impute;g=B(g.mark,n);return new nj(a,Object.assign({},{impute:E.field,key:v.field},ea?{method:ea}:{},void 0!==Ea?{value:Ea}:{},Wa?{frame:Wa}:{},void 0!==fb?{keyvals:fb}:{},g.length?{groupby:g}:{}))}return null}hash(){return`Impute ${ib(this.transform)}`}assemble(){const {impute:a,key:g,keyvals:n,method:v,groupby:z,value:E,frame:ea=[null,null]}=this.transform,Ea=Object.assign({},{type:"impute",field:a,key:g},n?{keyvals:void 0!==(null===n||void 0===n?void 0:n.stop)?this.processSequence(n):
n}:{},{method:"value"},z?{groupby:z}:{},{value:v&&"value"!==v?null:E});if(v&&"value"!==v){const Wa=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[v],fields:[a],frame:ea,ignorePeers:!1},z?{groupby:z}:{});return[Ea,Wa,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]}return[Ea]}}class yl extends lf{clone(){return new yl(null,xe(this.transform))}constructor(a,g){var n,v,z;super(a);this.transform=g;this.transform=xe(g);a=null!==(n=this.transform.as)&&
void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:g.on,null!==(z=a[1])&&void 0!==z?z:g.loess]}dependentFields(){var a;return new Set([this.transform.loess,this.transform.on,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ib(this.transform)}`}assemble(){var a=this.transform,g=Object.assign({},a);const n=a.loess;a=a.on;g=(delete g.loess,delete g.on,g);return Object.assign({},{type:"loess",
x:a,y:n},g)}}class Rk extends lf{clone(){return new Rk(null,xe(this.transform),this.secondary)}constructor(a,g,n){super(a);this.transform=g;this.secondary=n}static make(a,g,n,v){const z=g.component.data.sources,{from:E}=n;var ea=null;if("data"in E)ea=Uf(E.data,z),ea||(ea=new Ai(E.data),z.push(ea)),v=g.getName(`lookup_${v}`),ea=new ng(ea,v,pf.Lookup,g.component.data.outputNodeRefCounts),g.component.data.outputNodes[v]=ea;else if("param"in E){v=E.param;n=Object.assign({},{as:v},n);let Ea;try{Ea=g.getSelectionComponent(Ta(v),
v)}catch(Wa){throw Error(`Lookups can only be performed on selection parameters. "${v}" is a variable parameter.`);}ea=Ea.materialized;if(!ea)throw Error(`Cannot define and lookup the "${v}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Rk(a,n,ea.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?A.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ib({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:A.array(this.transform.as)}:{});else a=this.transform.as,A.isString(a)||(pb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class zl extends lf{clone(){return new zl(null,xe(this.transform))}constructor(a,g){var n,v,z;super(a);this.transform=g;this.transform=xe(g);a=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:"prob",null!==(z=a[1])&&void 0!==z?z:"value"]}dependentFields(){var a;return new Set([this.transform.quantile,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ib(this.transform)}`}assemble(){var a=
this.transform,g=Object.assign({},a);a=a.quantile;g=(delete g.quantile,g);return Object.assign({},{type:"quantile",field:a},g)}}class Al extends lf{clone(){return new Al(null,xe(this.transform))}constructor(a,g){var n,v,z;super(a);this.transform=g;this.transform=xe(g);a=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(v=a[0])&&void 0!==v?v:g.on,null!==(z=a[1])&&void 0!==z?z:g.regression]}dependentFields(){var a;return new Set([this.transform.regression,this.transform.on,
...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ib(this.transform)}`}assemble(){var a=this.transform,g=Object.assign({},a);const n=a.regression;a=a.on;g=(delete g.regression,delete g.on,g);return Object.assign({},{type:"regression",x:a,y:n},g)}}class Cl extends lf{clone(){return new Cl(null,xe(this.transform))}constructor(a,g){super(a);this.transform=g}addDimensions(a){var g;this.transform.groupby=na((null!==
(g=this.transform.groupby)&&void 0!==g?g:[]).concat(a),n=>n)}producedFields(){}dependentFields(){var a;return new Set([this.transform.pivot,this.transform.value,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}hash(){return`PivotTransform ${ib(this.transform)}`}assemble(){const {pivot:a,value:g,groupby:n,limit:v,op:z}=this.transform;return Object.assign({},{type:"pivot",field:a,value:g},void 0!==v?{limit:v}:{},void 0!==z?{op:z}:{},void 0!==n?{groupby:n}:{})}}class Bl extends lf{clone(){return new Bl(null,
xe(this.transform))}constructor(a,g){super(a);this.transform=g}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ib(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class al extends km{constructor(a,g,n,v){super(a,"facet",g,n,v,a.resolve);Mc(this,"facet",void 0);Mc(this,"child",void 0);Mc(this,"children",void 0);this.child=ei(a.spec,this,this.getName("child"),void 0,v);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Ud(a))return{facet:this.initFacetFieldDef(a,
"facet")};var g=jd(a);const n={};for(const v of g){if(!["row","column"].includes(v)){pb(Kb(v,"facet"));break}g=a[v];if(void 0===g.field){pb(Fb(g,v));break}n[v]=this.initFacetFieldDef(g,v)}return n}initFacetFieldDef(a,g){a=De(a,g);a.header?a.header=H(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=Jg(this);this.child.parseData()}parseLayoutSize(){ik(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const v of Yf){var a=void 0,g=v;const {facet:z,config:E,child:ea,component:Ea}=this;if(this.channelHasField(g)){const Wa=z[g];var n=mg("title",null,E,g);n=ud(Wa,E,{allowDisabling:!0,includeDefault:void 0===n||!!n});ea.component.layoutHeaders[g].title&&(n=A.isArray(n)?n.join(", "):n,n+=` / ${ea.component.layoutHeaders[g].title}`,ea.component.layoutHeaders[g].title=
null);const fb=mg("labelOrient",Wa.header,E,g),Jb=null!==Wa.header?x(null===(a=Wa.header)||void 0===a?void 0:a.labels,E.header.labels,!0):!1;a=Ia(["bottom","right"],fb)?"footer":"header";Ea.layoutHeaders[g]={title:null!==Wa.header?n:null,facetFieldDef:Wa,[a]:"facet"===g?[]:[Sk(this,g,Jb)]}}}Tk(this,"x");Tk(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const ea of Yf)for(const Ea of Nl){const Wa=this.component.layoutHeaders[ea];var g=Wa[Ea],{facetFieldDef:n}=Wa;if(n&&(n=mg("titleOrient",n.header,this.config,ea),["right","bottom"].includes(n))){var v;n=Bg(ea,n);null!==(v=a.titleAnchor)&&void 0!==v?v:a.titleAnchor={};a.titleAnchor[n]="end"}if(null!==g&&void 0!==g&&g[0]){g="row"===ea?"height":"width";n="header"===Ea?"headerBand":"footerBand";if("facet"!==ea&&!this.child.component.layoutSize.get(g)){var z;null!==(z=a[n])&&void 0!==z?z:a[n]={};
a[n][ea]=.5}if(Wa.title){var E;null!==(E=a.offset)&&void 0!==E?E:a.offset={};a.offset["row"===ea?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:g}=this.facet,n=a?this.columnDistinctSignal():g?1:void 0;let v="all";g||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(v="none"):v="none";return Object.assign({},this.getHeaderLayoutMixins(),n?{columns:n}:{},{bounds:"full",align:v})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof al))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(a){return this.parent&&this.parent instanceof al?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Ob(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],g=[],n=[];if(this.child instanceof al){if(this.child.channelHasField("column")){var v=Ob(this.child.facet.column);a.push(v);
g.push("distinct");n.push(`distinct_${v}`)}}else for(v of jg){var z=this.child.component.scales[v];if(z&&!z.merged){var E=z.get("type");z=z.get("range");E in Hf&&qb(z)&&(E=kj(this.child,v),(E=vh(E))?(a.push(E),g.push("distinct"),n.push(`distinct_${E}`)):pb(sc(v)))}}return{fields:a,ops:g,as:n}}assembleFacet(){const {name:a,data:g}=this.component.data.facetRoot,{row:n,column:v}=this.facet,{fields:z,ops:E,as:ea}=this.getCardinalityAggregateForChild(),Ea=[];for(var Wa of Yf){var fb=this.facet[Wa];if(fb){Ea.push(Ob(fb));
const {bin:Jb,sort:xc}=fb;wa(Jb)&&Ea.push(Ob(fb,{binSuffix:"end"}));if(fc(xc)){const {field:ic,op:tc="min"}=xc;fb=Ig(fb,xc);n&&v?(z.push(fb),E.push("max")):(z.push(ic),E.push(tc));ea.push(fb)}else A.isArray(xc)&&(fb=lg(fb,Wa),z.push(fb),E.push("max"),ea.push(fb))}}Wa=!!n&&!!v;return Object.assign({},{name:a,data:g,groupby:Ea},Wa||0<z.length?{aggregate:Object.assign({},Wa?{cross:Wa}:{},z.length?{fields:z,ops:E,as:ea}:{})}:{})}facetSortFields(a){var {facet:g}=this;return(g=g[a])?fc(g.sort)?[Ig(g,g.sort,
{expr:"datum"})]:A.isArray(g.sort)?[lg(g,a,{expr:"datum"})]:[Ob(g,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:g}=this;return(a=g[a])?({sort:a}=a,[(fc(a)?a.order:!A.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:g}=this;if(a.facet)return vi(a.facet,"facet",g);const n={row:["top","bottom"],column:["left","right"]};for(const z of Ml)if(a[z]){var v;const E=mg("labelOrient",null===(v=a[z])||void 0===v?void 0:v.header,g,z);if(n[z].includes(E))return vi(a[z],z,g)}}assembleMarks(){const {child:a}=
this,g=Dl(this.component.data.facetRoot),n=a.assembleGroupEncodeEntry(!1),v=this.assembleLabelTitle()||a.assembleTitle(),z=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},v?{title:v}:{},z?{style:z}:{},{from:{facet:this.assembleFacet()},sort:{field:Yf.map(E=>this.facetSortFields(E)).flat(),order:Yf.map(E=>this.facetSortOrder(E)).flat()}},0<g.length?{data:g}:{},n?{encode:{update:n}}:{},a.assembleGroup(Ed(this,[])))]}getMapping(){return this.facet}}class Wm extends Rl{constructor(a,
g,n,v){var z,E,ea,Ea;super(a,"concat",g,n,v,a.resolve);Mc(this,"children",void 0);"shared"!==(null===(z=a.resolve)||void 0===z?void 0:null===(E=z.axis)||void 0===E?void 0:E.x)&&"shared"!==(null===(ea=a.resolve)||void 0===ea?void 0:null===(Ea=ea.axis)||void 0===Ea?void 0:Ea.y)||pb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Wa,fb)=>ei(Wa,this,this.getName(`concat_${fb}`),void 0,v))}parseData(){this.component.data=
Jg(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const g of jd(a.component.selection))this.component.selection[g]=a.component.selection[g]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){ik(this);const a=void 0===
this.layout.columns?"height":"childHeight";ai(this,1===this.layout.columns?"width":"childWidth");ai(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((g,n)=>n.assembleSelectionTopLevelSignals(g),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=bj(this);for(const g of this.children)a.push(...g.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((g,n)=>n.assembleSelectionData(g),
a)}assembleMarks(){return this.children.map(a=>{const g=a.assembleTitle(),n=a.assembleGroupStyle(),v=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},g?{title:g}:{},n?{style:n}:{},v?{encode:{update:v}}:{},a.assembleGroup())})}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const dn=Object.assign({},{disable:1,gridScale:1,scale:1},Oc,{labelExpr:1,encode:1}),cm=jd(dn);class dm extends gi{constructor(a,
g,n){a=void 0===a?{}:a;g=void 0===g?{}:g;n=void 0===n?!1:n;super();this.explicit=a;this.implicit=g;this.mainExtracted=n}clone(){return new dm(xe(this.explicit),xe(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Ca(this.explicit.orient)}}const en={bottom:"top",top:"bottom",left:"right",right:"left"},Vm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
$k={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Sf("x",a,{defaultPos:"mid"}),Sf("y",a,{defaultPos:"mid"}),Qg(a,"radius","arc"),Qg(a,"theta","arc"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Lh("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),
Lh("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),Oh(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Qg(a,"x","bar"),Qg(a,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:a=>pj(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:a=>{var {encoding:g}=a;g=g.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},g&&hd(g)&&"geojson"===g.type?{field:Ob(g,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Qg(a,"x","image"),Qg(a,"y","image"),zj(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),Sf("x",a,{defaultPos:"mid"}),Sf("y",a,{defaultPos:"mid"}),nf("size",a,{vgChannel:"strokeWidth"}),Oh(a))},point:{vgMark:"symbol",encodeEntry:a=>pj(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Qg(a,"x","rect"),Qg(a,"y","rect"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:g}=a;g=g.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||
a.encoding.longitude?Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Lh("x",a,{defaultPos:"horizontal"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==g}),Lh("y",a,{defaultPos:"vertical"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==g}),nf("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>pj(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:g}=a,n=
Object,v=n.assign,z=qg(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),E=Sf("x",a,{defaultPos:"mid"}),ea=Sf("y",a,{defaultPos:"mid"}),Ea=zj(a),Wa=nf("size",a,{vgChannel:"fontSize"}),fb=nf("angle",a);var Jb=void 0===Zb("align",a.markDef,g)?"center":void 0;Jb=Of("align",Jb);g=void 0===Zb("baseline",a.markDef,g)?"middle":void 0;return v.call(n,{},z,E,ea,Ea,Wa,fb,Jb,Of("baseline",g),Sf("radius",a,{defaultPos:null}),Sf("theta",a,{defaultPos:null}))}},
tick:{vgMark:"rect",encodeEntry:a=>{const {config:g,markDef:n}=a;var v=n.orient;const z="horizontal"===v?"width":"height";v="horizontal"===v?"height":"width";var E=Object,ea=E.assign,Ea=qg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Wa=Sf("x",a,{defaultPos:"mid",vgChannel:"xc"}),fb=Sf("y",a,{defaultPos:"mid",vgChannel:"yc"}),Jb;{const {config:ic,markDef:tc}=a;var {orient:xc}=tc;const Rc="horizontal"===xc?"width":"height";xc=a.getScaleComponent("horizontal"===
xc?"x":"y");const bd=null!==(Jb=Zb("size",tc,ic,{vgChannel:Rc}))&&void 0!==Jb?Jb:ic.tick.bandSize;Jb=void 0!==bd?bd:(Jb=xc?xc.get("range"):void 0)&&qb(Jb)&&A.isNumber(Jb.step)?3*Jb.step/4:3*Ec(ic.view,Rc)/4}return ea.call(E,{},Ea,Wa,fb,nf("size",a,{defaultValue:Jb,vgChannel:z}),{[v]:Eb(Zb("thickness",n,g))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},qg(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Sf("x",a,{defaultPos:"mid"}),Sf("y",
a,{defaultPos:"mid"}),nf("size",a),Oh(a))}};class gm extends km{constructor(a,g,n,v,z){v=void 0===v?{}:v;var E;super(a,"unit",g,n,z,void 0,Ib(a)?a.view:void 0);Mc(this,"markDef",void 0);Mc(this,"encoding",void 0);Mc(this,"specifiedScales",{});Mc(this,"stack",void 0);Mc(this,"specifiedAxes",{});Mc(this,"specifiedLegends",{});Mc(this,"specifiedProjection",{});Mc(this,"selection",[]);Mc(this,"children",[]);g=kc(a.mark)?Object.assign({},a.mark):{type:a.mark};n=g.type;void 0===g.filled&&(g.filled=Xk(g,
z,{graticule:a.data&&"graticule"in a.data}));const ea=this.encoding=Ff(a.encoding||{},n,g.filled,z);this.markDef=oj(g,ea,z);this.size=Gl({encoding:ea,size:Ib(a)?Object.assign({},v,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):v});this.stack=te(n,ea);this.specifiedScales=this.initScales(n,ea);this.specifiedAxes=this.initAxes(ea);this.specifiedLegends=this.initLegends(ea);this.specifiedProjection=a.projection;this.selection=(null!==(E=a.params)&&void 0!==E?E:[]).filter(Ea=>!!Ea.select)}get hasProjection(){const {encoding:a}=
this,g=this.mark===mj,n=a&&sj.some(v=>yd(a[v]));return g||n}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,g){return Vi.reduce((n,v)=>{const z=ge(g[v]);if(z){var E;n[v]=this.initScale(null!==(E=z.scale)&&void 0!==E?E:{})}return n},{})}initScale(a){const {domain:g,range:n}=a;a=H(a);A.isArray(g)&&(a.domain=g.map(Na));A.isArray(n)&&(a.range=n.map(Na));return a}initAxes(a){return jg.reduce((g,
n)=>{var v=a[n];if(yd(v)||"x"===n&&yd(a.x2)||"y"===n&&yd(a.y2))v=yd(v)?v.axis:void 0,g[n]=v?this.initAxis(Object.assign({},v)):v;return g},{})}initAxis(a){var g=jd(a);const n={};for(const v of g)g=a[v],n[v]=jf(g)?ob(g):Na(g);return n}initLegends(a){return Lg.reduce((g,n)=>{var v=ge(a[n]),z;if(z=v)a:{switch(n){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":z=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":z=!1;break a}z=
void 0}z&&(v=v.legend,g[n]=v?H(v):v);return g},{})}parseData(){this.component.data=Jg(this)}parseLayoutSize(){const {size:a,component:g}=this;for(const v of jg){const z=W(v);if(a[z]){var n=a[z];g.layoutSize.set(z,vb(n)?"step":n,!0)}else n=bi(this,z),g.layoutSize.set(z,n,!1)}}parseSelections(){var a=this.component,g;{var n=this.selection;const E={},ea=this.config.selection;if(n&&n.length)for(const Ea of n){n=Ta(Ea.name);var v=Ea.select;const Wa=A.isString(v)?v:v.type;v=A.isObject(v)?xe(v):{type:Wa};
var z=Object.assign({},ea[Wa]);z=(delete z.fields,delete z.encodings,z);for(const fb in z)if("mark"===fb&&(v[fb]=Object.assign({},z[fb],v[fb])),void 0===v[fb]||!0===v[fb])v[fb]=null!==(g=z[fb])&&void 0!==g?g:v[fb];n=E[n]=Object.assign({},v,{name:n,type:Wa,init:Ea.value,bind:Ea.bind,events:A.isString(v.on)?re(v.on,"scope"):A.array(xe(v.on))});for(const fb of sk)fb.defined(n)&&fb.parse&&fb.parse(this,n,Ea)}g=E}a.selection=g}parseMarkGroup(){this.component.mark=Yk(this)}parseAxesAndHeaders(){this.component.axes=
Fl(this)}assembleSelectionTopLevelSignals(a){return kf(this,a)}assembleSignals(){var a=[...Jj(this)];var g=[];for(const v of Ef(null!==(n=this.component.selection)&&void 0!==n?n:{})){var n;n=v.name;let z=`${n}${"_tuple"}, ${"global"===v.resolve?"true":`{unit: ${Ng(this)}}`}`;for(const E of sk)E.defined(v)&&(E.signals&&(g=E.signals(this,v,g)),E.modifyExpr&&(z=E.modifyExpr(this,v,z)));g.push({name:n+"_modify",on:[{events:{signal:v.name+"_tuple"},update:`modify(${A.stringValue(v.name+"_store")}, ${z})`}]})}g=
xj(g);return[...a,...g]}assembleSelectionData(a){return Mg(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return bj(this)}assembleMarks(){var a;let g=null!==(a=this.component.mark)&&void 0!==a?a:[];this.parent&&Ih(this.parent)||(g=Vg(this,g));return g.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Oe(this.encoding,a)}fieldDef(a){return ae(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return F(a)?a:null}}
class fm extends Rl{constructor(a,g,n,v,z){super(a,"layer",g,n,z,a.resolve,a.view);Mc(this,"children",void 0);const E=Object.assign({},v,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((ea,Ea)=>{if("layer"in ea)return new fm(ea,this,this.getName(`layer_${Ea}`),E,z);if(xf(ea))return new gm(ea,this,this.getName(`layer_${Ea}`),E,z);throw Error(Db(ea));})}parseData(){this.component.data=Jg(this);for(const a of this.children)a.parseData()}parseLayoutSize(){ik(this);
ai(this,"width");ai(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const g of jd(a.component.selection))this.component.selection[g]=a.component.selection[g]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:g}=this.component,n={top:0,bottom:0,right:0,left:0};for(var v of this.children){v.parseAxesAndHeaders();for(const E of jd(v.component.axes))g.axis[E]=Nj(this.component.resolve,
E),"shared"===g.axis[E]&&(a[E]=kk(a[E],v.component.axes[E]),a[E]||(g.axis[E]="independent",delete a[E]))}for(const E of jg){for(const ea of this.children)if(ea.component.axes[E]){if("independent"===g.axis[E]){var z;a[E]=(null!==(z=a[E])&&void 0!==z?z:[]).concat(ea.component.axes[E]);for(const Ea of ea.component.axes[E]){const {value:Wa,explicit:fb}=Ea.getWithExplicit("orient");Ca(Wa)||(0<n[Wa]&&!fb&&(v=en[Wa],n[Wa]>n[v]&&Ea.set("orient",v,!1)),n[Wa]++)}}delete ea.component.axes[E]}if("independent"===
g.axis[E]&&a[E]&&1<a[E].length)for(const ea of a[E])ea.get("grid")&&!ea.explicit.grid&&(ea.implicit.grid=!1)}}assembleSelectionTopLevelSignals(a){return this.children.reduce((g,n)=>n.assembleSelectionTopLevelSignals(g),a)}assembleSignals(){return this.children.reduce((a,g)=>a.concat(g.assembleSignals()),Jj(this))}assembleLayoutSignals(){return this.children.reduce((a,g)=>a.concat(g.assembleLayoutSignals()),bj(this))}assembleSelectionData(a){return this.children.reduce((g,n)=>n.assembleSelectionData(g),
a)}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const g of this.children)if(a=g.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return Hh(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,g)=>a.concat(g.assembleLegends()),ej(this))}}r.accessPathDepth=I;r.accessPathWithDatum=ua;r.compile=function(a,g){g=void 0===g?{}:g;g.logger&&(Fh=g.logger);g.fieldTitle&&(P=g.fieldTitle);try{const Jb=Gd(A.mergeConfig(g.config,
a.config)),xc=ce(a,Jb),ic=ei(xc,null,"",void 0,Jb);ic.parse();var n=ic.component.data,v=ic;Uj(n.sources);let tc=0,Rc=0;for(var z=0;5>z&&Vj(n,v,!0);z++)tc++;n.sources.map(Bi);for(z=0;5>z&&Vj(n,v,!1);z++)Rc++;Uj(n.sources);5===Math.max(tc,Rc)&&pb("Maximum optimization runs(5) reached.");var E=xc.autosize;n=Jb;v=ic;const bd=v.component.layoutSize.get("width"),Hd=v.component.layoutSize.get("height");void 0===E?(E={type:"pad"},v.hasAxisOrientSignalRef()&&(E.resize=!0)):A.isString(E)&&(E={type:E});var ea;
if(ea=bd&&Hd){var Ea=E.type;ea="fit"===Ea||"fit-x"===Ea||"fit-y"===Ea}if(ea)if("step"===bd&&"step"===Hd)pb(oc()),E.type="pad";else if("step"===bd||"step"===Hd){Ea="step"===bd?"width":"height";pb(oc(c(Ea)));ea=E;var Wa=(Ea="width"===Ea?"height":"width",`fit-${c(Ea)}`);ea.type=Wa}var fb=Object.assign({},1===jd(E).length&&E.type?"pad"===E.type?{}:{autosize:E.type}:{autosize:E},Xa(n,!1),Xa(a,!0));return{spec:mk(ic,fb,a.datasets,a.usermeta),normalized:xc}}finally{g.logger&&(Fh=Jf),g.fieldTitle&&(P=u)}};
r.contains=Ia;r.deepEqual=zf;r.deleteNestedProperty=ha;r.duplicate=xe;r.entries=ag;r.every=xa;r.fieldIntersection=ra;r.flatAccessWithDatum=Ma;r.getFirstDefined=x;r.hasIntersection=Ga;r.hash=ib;r.internalField=K;r.isBoolean=za;r.isEmpty=Qa;r.isEqual=function(a,g){const n=jd(a),v=jd(g);if(n.length!==v.length)return!1;for(const z of n)if(a[z]!==g[z])return!1;return!0};r.isInternalField=C;r.isNullOrFalse=La;r.isNumeric=aa;r.keys=jd;r.logicalExpr=L;r.mergeDeep=ma;r.normalize=ce;r.normalizeAngle=R;r.omit=
Gb;r.pick=xb;r.prefixGenerator=la;r.removePathFromField=Va;r.replaceAll=ab;r.replacePathInField=Aa;r.resetIdCounter=function(){Eh=42};r.setEqual=Ba;r.some=Sa;r.stringify=We;r.titleCase=ya;r.unique=na;r.uniqueId=M;r.vals=Ef;r.varName=Ta;r.version="5.1.0";Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[56]=function(Nb,zb,mc,ub){function h(){throw Error("setTimeout has not been defined");}function r(){throw Error("clearTimeout has not been defined");}function A(na){if(ib===setTimeout)return setTimeout(na,0);if((ib===h||!ib)&&setTimeout)return ib=setTimeout,setTimeout(na,0);try{return ib(na,0)}catch(Ba){try{return ib.call(null,na,0)}catch(Ga){return ib.call(this,na,0)}}}function Ra(na){if(La===clearTimeout)return clearTimeout(na);if((La===r||!La)&&clearTimeout)return La=clearTimeout,
clearTimeout(na);try{return La(na)}catch(Ba){try{return La.call(null,na)}catch(Ga){return La.call(this,na)}}}function sb(){Sa&&xa&&(Sa=!1,xa.length?Ia=xa.concat(Ia):ma=-1,Ia.length&&bb())}function bb(){if(!Sa){var na=A(sb);Sa=!0;for(var Ba=Ia.length;Ba;){xa=Ia;for(Ia=[];++ma<Ba;)xa&&xa[ma].run();ma=-1;Ba=Ia.length}xa=null;Sa=!1;Ra(na)}}function xb(na,Ba){this.fun=na;this.array=Ba}function Gb(){}Nb=mc.exports={};try{var ib="function"===typeof setTimeout?setTimeout:h}catch(na){ib=h}try{var La="function"===
typeof clearTimeout?clearTimeout:r}catch(na){La=r}var Ia=[],Sa=!1,xa,ma=-1;Nb.nextTick=function(na){var Ba=Array(arguments.length-1);if(1<arguments.length)for(var Ga=1;Ga<arguments.length;Ga++)Ba[Ga-1]=arguments[Ga];Ia.push(new xb(na,Ba));1!==Ia.length||Sa||A(bb)};xb.prototype.run=function(){this.fun.apply(null,this.array)};Nb.title="browser";Nb.browser=!0;Nb.env={};Nb.argv=[];Nb.version="";Nb.versions={};Nb.on=Gb;Nb.addListener=Gb;Nb.once=Gb;Nb.off=Gb;Nb.removeListener=Gb;Nb.removeAllListeners=Gb;
Nb.emit=Gb;Nb.prependListener=Gb;Nb.prependOnceListener=Gb;Nb.listeners=function(na){return[]};Nb.binding=function(na){throw Error("process.binding is not supported");};Nb.cwd=function(){return"/"};Nb.chdir=function(na){throw Error("process.chdir is not supported");};Nb.umask=function(){return 0}};
shadow$provide[57]=function(Nb,zb,mc,ub){var h=zb(56);(function(r,A){"object"===typeof ub&&"undefined"!==typeof mc?mc.exports=A(zb(53),zb(55)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],A):(r="undefined"!==typeof globalThis?globalThis:r||self,r.vegaEmbed=A(r.vega,r.vegaLite))})(this,function(r,A){function Ra(V){if(V&&V.__esModule)return V;var qa=Object.create(null);V&&Object.keys(V).forEach(function(Fa){if("default"!==Fa){var rb=Object.getOwnPropertyDescriptor(V,Fa);Object.defineProperty(qa,
Fa,rb.get?rb:{enumerable:!0,get:function(){return V[Fa]}})}});qa["default"]=V;return Object.freeze(qa)}function sb(V,qa,Fa,rb){function gb(Lb){return Lb instanceof Fa?Lb:new Fa(function(Rb){Rb(Lb)})}return new (Fa||(Fa=Promise))(function(Lb,Rb){function kc(Nc){try{Bc(rb.next(Nc))}catch(Yb){Rb(Yb)}}function Zc(Nc){try{Bc(rb["throw"](Nc))}catch(Yb){Rb(Yb)}}function Bc(Nc){Nc.done?Lb(Nc.value):gb(Nc.value).then(kc,Zc)}Bc((rb=rb.apply(V,qa||[])).next())})}function bb(V,qa){function Fa(Bc){return function(Nc){return rb([Bc,
Nc])}}function rb(Bc){if(Lb)throw new TypeError("Generator is already executing.");for(;gb;)try{if(Lb=1,Rb&&(kc=Bc[0]&2?Rb["return"]:Bc[0]?Rb["throw"]||((kc=Rb["return"])&&kc.call(Rb),0):Rb.next)&&!(kc=kc.call(Rb,Bc[1])).done)return kc;if(Rb=0,kc)Bc=[Bc[0]&2,kc.value];switch(Bc[0]){case 0:case 1:kc=Bc;break;case 4:return gb.label++,{value:Bc[1],done:!1};case 5:gb.label++;Rb=Bc[1];Bc=[0];continue;case 7:Bc=gb.ops.pop();gb.trys.pop();continue;default:if(!(kc=gb.trys,kc=0<kc.length&&kc[kc.length-1])&&
(6===Bc[0]||2===Bc[0])){gb=0;continue}if(3===Bc[0]&&(!kc||Bc[1]>kc[0]&&Bc[1]<kc[3]))gb.label=Bc[1];else if(6===Bc[0]&&gb.label<kc[1])gb.label=kc[1],kc=Bc;else if(kc&&gb.label<kc[2])gb.label=kc[2],gb.ops.push(Bc);else{kc[2]&&gb.ops.pop();gb.trys.pop();continue}}Bc=qa.call(V,gb)}catch(Nc){Bc=[6,Nc],Rb=0}finally{Lb=kc=0}if(Bc[0]&5)throw Bc[1];return{value:Bc[0]?Bc[1]:void 0,done:!0}}var gb={label:0,sent:function(){if(kc[0]&1)throw kc[1];return kc[1]},trys:[],ops:[]},Lb,Rb,kc,Zc;return Zc={next:Fa(0),
"throw":Fa(1),"return":Fa(2)},"function"===typeof Symbol&&(Zc[Symbol.iterator]=function(){return this}),Zc}function xb(V){if(Array.isArray(V)){var qa=Array(V.length);for(V=0;V<qa.length;V++)qa[V]=""+V;return qa}if(Object.keys)return Object.keys(V);qa=[];for(var Fa in V)J.call(V,Fa)&&qa.push(Fa);return qa}function Gb(V){switch(typeof V){case "object":return JSON.parse(JSON.stringify(V));case "undefined":return null;default:return V}}function ib(V){for(var qa=0,Fa=V.length,rb;qa<Fa;)if(rb=V.charCodeAt(qa),
48<=rb&&57>=rb)qa++;else return!1;return!0}function La(V){return-1===V.indexOf("/")&&-1===V.indexOf("~")?V:V.replace(/~/g,"~0").replace(/\//g,"~1")}function Ia(V){return V.replace(/~1/g,"/").replace(/~0/g,"~")}function Sa(V){if(void 0===V)return!0;if(V)if(Array.isArray(V))for(var qa=0,Fa=V.length;qa<Fa;qa++){if(Sa(V[qa]))return!0}else if("object"===typeof V){Fa=xb(V);var rb=Fa.length;for(qa=0;qa<rb;qa++)if(Sa(V[Fa[qa]]))return!0}return!1}function xa(V,qa){V=[V];for(var Fa in qa){var rb="object"===
typeof qa[Fa]?JSON.stringify(qa[Fa],null,2):qa[Fa];"undefined"!==typeof rb&&V.push(Fa+": "+rb)}return V.join("\n")}function ma(V,qa){if(""==qa)return V;qa={op:"_get",path:qa};na(V,qa);return qa.value}function na(V,qa,Fa,rb,gb,Lb){void 0===Fa&&(Fa=!1);void 0===rb&&(rb=!0);void 0===gb&&(gb=!0);void 0===Lb&&(Lb=0);Fa&&("function"==typeof Fa?Fa(qa,0,V,qa.path):Ga(qa,0));if(""===qa.path){gb={newDocument:V};if("add"===qa.op)return gb.newDocument=qa.value,gb;if("replace"===qa.op)return gb.newDocument=qa.value,
gb.removed=V,gb;if("move"===qa.op||"copy"===qa.op)return gb.newDocument=ma(V,qa.from),"move"===qa.op&&(gb.removed=V),gb;if("test"===qa.op){gb.test=ra(V,qa.value);if(!1===gb.test)throw new ca("Test operation failed","TEST_OPERATION_FAILED",Lb,qa,V);gb.newDocument=V;return gb}if("remove"===qa.op)return gb.removed=V,gb.newDocument=null,gb;if("_get"===qa.op)return qa.value=V,gb;if(Fa)throw new ca("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Lb,qa,V);return gb}rb||
(V=Gb(V));rb=(qa.path||"").split("/");var Rb=V,kc=1,Zc=rb.length,Bc=void 0,Nc;for(Nc="function"==typeof Fa?Fa:Ga;;){var Yb=rb[kc];if(gb&&"__proto__"==Yb)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Fa&&void 0===Bc&&(void 0===Rb[Yb]?Bc=rb.slice(0,kc).join("/"):kc==Zc-1&&(Bc=qa.path),void 0!==Bc&&Nc(qa,0,V,Bc));kc++;
if(Array.isArray(Rb)){if("-"===Yb)Yb=Rb.length;else{if(Fa&&!ib(Yb))throw new ca("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Lb,qa,V);ib(Yb)&&(Yb=~~Yb)}if(kc>=Zc){if(Fa&&"add"===qa.op&&Yb>Rb.length)throw new ca("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Lb,qa,V);gb=d[qa.op].call(qa,Rb,Yb,V);if(!1===gb.test)throw new ca("Test operation failed",
"TEST_OPERATION_FAILED",Lb,qa,V);return gb}}else if(Yb&&-1!=Yb.indexOf("~")&&(Yb=Ia(Yb)),kc>=Zc){gb=W[qa.op].call(qa,Rb,Yb,V);if(!1===gb.test)throw new ca("Test operation failed","TEST_OPERATION_FAILED",Lb,qa,V);return gb}Rb=Rb[Yb]}}function Ba(V,qa,Fa,rb,gb){void 0===rb&&(rb=!0);void 0===gb&&(gb=!0);if(Fa&&!Array.isArray(qa))throw new ca("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");rb||(V=Gb(V));rb=Array(qa.length);for(var Lb=0,Rb=qa.length;Lb<Rb;Lb++)rb[Lb]=na(V,qa[Lb],Fa,!0,gb,Lb),
V=rb[Lb].newDocument;rb.newDocument=V;return rb}function Ga(V,qa,Fa,rb){if("object"!==typeof V||null===V||Array.isArray(V))throw new ca("Operation is not an object","OPERATION_NOT_AN_OBJECT",qa,V,Fa);if(W[V.op]){if("string"!==typeof V.path)throw new ca("Operation `path` property is not a string","OPERATION_PATH_INVALID",qa,V,Fa);if(0!==V.path.indexOf("/")&&0<V.path.length)throw new ca('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",qa,V,Fa);if("move"!==V.op&&"copy"!==V.op||
"string"===typeof V.from)if("add"!==V.op&&"replace"!==V.op&&"test"!==V.op||void 0!==V.value){if(("add"===V.op||"replace"===V.op||"test"===V.op)&&Sa(V.value))throw new ca("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",qa,V,Fa);if(Fa)if("add"==V.op){var gb=V.path.split("/").length;rb=rb.split("/").length;if(gb!==rb+1&&gb!==rb)throw new ca("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",
qa,V,Fa);}else if("replace"===V.op||"remove"===V.op||"_get"===V.op){if(V.path!==rb)throw new ca("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",qa,V,Fa);}else if(("move"===V.op||"copy"===V.op)&&(gb=la([{op:"_get",path:V.from,value:void 0}],Fa))&&"OPERATION_PATH_UNRESOLVABLE"===gb.name)throw new ca("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",qa,V,Fa);}else throw new ca("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",qa,V,Fa);else throw new ca("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",qa,V,Fa);}else throw new ca("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",qa,V,Fa);}function la(V,qa,Fa){try{if(!Array.isArray(V))throw new ca("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(qa)Ba(Gb(qa),Gb(V),Fa||!0);else{Fa=Fa||Ga;for(var rb=0;rb<V.length;rb++)Fa(V[rb],
rb,qa,void 0)}}catch(gb){if(gb instanceof ca)return gb;throw gb;}}function ra(V,qa){if(V===qa)return!0;if(V&&qa&&"object"==typeof V&&"object"==typeof qa){var Fa=Array.isArray(V),rb=Array.isArray(qa);if(Fa&&rb){var gb=V.length;if(gb!=qa.length)return!1;for(Fa=gb;0!==Fa--;)if(!ra(V[Fa],qa[Fa]))return!1;return!0}if(Fa!=rb)return!1;rb=Object.keys(V);gb=rb.length;if(gb!==Object.keys(qa).length)return!1;for(Fa=gb;0!==Fa--;)if(!qa.hasOwnProperty(rb[Fa]))return!1;for(Fa=gb;0!==Fa--;)if(gb=rb[Fa],!ra(V[gb],
qa[gb]))return!1;return!0}return V!==V&&qa!==qa}function Qa(V,qa){void 0===qa&&(qa=!1);var Fa=f.get(V.object);za(Fa.value,V.object,V.patches,"",qa);V.patches.length&&Ba(Fa.value,V.patches);qa=V.patches;0<qa.length&&(V.patches=[],V.callback&&V.callback(qa));return qa}function za(V,qa,Fa,rb,gb){if(qa!==V){"function"===typeof qa.toJSON&&(qa=qa.toJSON());for(var Lb=xb(qa),Rb=xb(V),kc=!1,Zc=Rb.length-1;0<=Zc;Zc--){var Bc=Rb[Zc],Nc=V[Bc];if(!J.call(qa,Bc)||void 0===qa[Bc]&&void 0!==Nc&&!1===Array.isArray(qa))Array.isArray(V)===
Array.isArray(qa)?(gb&&Fa.push({op:"test",path:rb+"/"+La(Bc),value:Gb(Nc)}),Fa.push({op:"remove",path:rb+"/"+La(Bc)}),kc=!0):(gb&&Fa.push({op:"test",path:rb,value:V}),Fa.push({op:"replace",path:rb,value:qa}));else{var Yb=qa[Bc];"object"==typeof Nc&&null!=Nc&&"object"==typeof Yb&&null!=Yb?za(Nc,Yb,Fa,rb+"/"+La(Bc),gb):Nc!==Yb&&(gb&&Fa.push({op:"test",path:rb+"/"+La(Bc),value:Gb(Nc)}),Fa.push({op:"replace",path:rb+"/"+La(Bc),value:Gb(Yb)}))}}if(kc||Lb.length!=Rb.length)for(Zc=0;Zc<Lb.length;Zc++)Bc=
Lb[Zc],J.call(V,Bc)||void 0===qa[Bc]||Fa.push({op:"add",path:rb+"/"+La(Bc),value:Gb(qa[Bc])})}}function Ta(V){const [qa,Fa]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(V).slice(1,3);return{library:qa,version:Fa}}function L(V,qa,Fa){V.fields=qa||[];V.fname=Fa;return V}function ha(V){return 1===V.length?rc(V[0]):Vc(V)}function ya(V){function qa(){Fa.push(Rb+V.substring(kc,Zc));Rb="";kc=Zc+1}const Fa=[],rb=V.length;let gb=null,Lb=0,Rb="",kc,Zc,Bc;V+="";for(kc=Zc=0;Zc<rb;++Zc)if(Bc=V[Zc],"\\"===Bc)Rb+=
V.substring(kc,Zc),Rb+=V.substring(++Zc,++Zc),kc=Zc;else if(Bc===gb)qa(),gb=null,Lb=-1;else if(!gb)if(kc===Lb&&'"'===Bc)kc=Zc+1,gb=Bc;else if(kc===Lb&&"'"===Bc)kc=Zc+1,gb=Bc;else if("."===Bc&&!Lb)Zc>kc?qa():kc=Zc+1;else if("["===Bc)Zc>kc&&qa(),Lb=kc=Zc+1;else if("]"===Bc){if(!Lb)throw Error("Access path missing open bracket: "+V);0<Lb&&qa();Lb=0;kc=Zc+1}if(Lb)throw Error("Access path missing closing bracket: "+V);if(gb)throw Error("Access path missing closing quote: "+V);Zc>kc&&(Zc++,qa());return Fa}
function ua(V,qa){var Fa={},rb;for(rb in V)Object.prototype.hasOwnProperty.call(V,rb)&&0>qa.indexOf(rb)&&(Fa[rb]=V[rb]);if(null!=V&&"function"===typeof Object.getOwnPropertySymbols){var gb=0;for(rb=Object.getOwnPropertySymbols(V);gb<rb.length;gb++)0>qa.indexOf(rb[gb])&&Object.prototype.propertyIsEnumerable.call(V,rb[gb])&&(Fa[rb[gb]]=V[rb[gb]])}return Fa}function Ma(V,qa,Fa){if(zd(V))return`[${V.map(gb=>qa("string"===typeof gb?gb:JSON.stringify(gb,Pa(Fa)))).join(", ")}]`;if(V===Object(V)){let gb=
"";const {title:Lb,image:Rb}=V;V=ua(V,["title","image"]);Lb&&(gb+=`<h2>${qa(Lb)}</h2>`);Rb&&(gb+=`<img src="${qa(Rb)}">`);var rb=Object.keys(V);if(0<rb.length){gb+="\x3ctable\x3e";for(const kc of rb)rb=V[kc],void 0!==rb&&(rb===Object(rb)&&(rb=JSON.stringify(rb,Pa(Fa))),gb+=`<tr><td class="key">${qa(kc)}:</td><td class="value">${qa(rb)}</td></tr>`);gb+="\x3c/table\x3e"}return gb||"{}"}return qa(V)}function Pa(V){const qa=[];return function(Fa,rb){if("object"!==typeof rb||null===rb)return rb;Fa=qa.indexOf(this)+
1;qa.length=Fa;if(qa.length>V)return"[Object]";if(0<=qa.indexOf(rb))return"[Circular]";qa.push(rb);return rb}}function Aa(V,qa,Fa){function rb(Zc){Zc.source===Lb&&(kc=0,V.removeEventListener("message",rb,!1))}function gb(){0>=kc||(Lb.postMessage(Fa,Rb),setTimeout(gb,250),--kc)}var Lb=V.open(qa),Rb=(new URL(qa)).origin,kc=40;V.addEventListener("message",rb,!1);setTimeout(gb,250)}function ab(V){for(var qa=[],Fa=1;Fa<arguments.length;Fa++)qa[Fa-1]=arguments[Fa];for(Fa=0;Fa<qa.length;Fa++)for(var rb=
V,gb=qa[Fa],Lb=0,Rb=Object.keys(gb);Lb<Rb.length;Lb++){var kc=Rb[Lb];r.writeConfig(rb,kc,gb[kc],!0)}return V}function Va(V,qa,Fa,rb){qa="\x3chtml\x3e\x3chead\x3e"+qa+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Fa="\x3c/code\x3e\x3c/pre\x3e"+Fa+"\x3c/body\x3e\x3c/html\x3e";var gb=window.open("");gb.document.write(qa+V+Fa);gb.document.title=he[rb]+" JSON Source"}function I(V,qa){var Fa;return V.$schema?(V=Ta(V.$schema),qa&&qa!==V.library&&console.warn("The given visualization spec is written in "+
he[V.library]+", but mode argument sets "+(null!==(Fa=he[qa])&&void 0!==Fa?Fa:qa)+"."),qa=V.library,Cb.satisfies(Be[qa],"^"+V.version.slice(1))||console.warn("The input spec uses "+he[qa]+" "+V.version+", but the current version of "+he[qa]+" is v"+Be[qa]+"."),qa):"mark"in V||"encoding"in V||"layer"in V||"hconcat"in V||"vconcat"in V||"facet"in V||"repeat"in V?"vega-lite":"marks"in V||"signals"in V||"scales"in V||"axes"in V?"vega":null!==qa&&void 0!==qa?qa:"vega"}function x(V,qa,Fa){var rb,gb,Lb;void 0===
Fa&&(Fa={});return sb(this,void 0,void 0,function(){var Rb,kc,Zc,Bc,Nc,Yb,nd,cd;return bb(this,function(Xb){switch(Xb.label){case 0:Rb=(Xb=Fa.loader)&&"load"in Xb?Fa.loader:Od.loader(Fa.loader);if(!r.isString(qa))return[3,2];Nc=(Bc=JSON).parse;return[4,Rb.load(qa)];case 1:return Zc=Nc.apply(Bc,[Xb.sent()]),[3,3];case 2:Zc=qa,Xb.label=3;case 3:return kc=Zc,[4,M(null!==(rb=kc.usermeta&&kc.usermeta.embedOptions)&&void 0!==rb?rb:{},Rb)];case 4:return Yb=Xb.sent(),[4,M(Fa,Rb)];case 5:return nd=Xb.sent(),
cd=Da(Da({},ab(nd,Yb)),{config:r.mergeConfig(null!==(gb=nd.config)&&void 0!==gb?gb:{},null!==(Lb=Yb.config)&&void 0!==Lb?Lb:{})}),[4,C(V,kc,cd,Rb)];case 6:return[2,Xb.sent()]}})})}function M(V,qa){var Fa;return sb(this,void 0,void 0,function(){var rb,gb,Lb,Rb,kc,Zc,Bc,Nc;return bb(this,function(Yb){switch(Yb.label){case 0:if(!r.isString(V.config))return[3,2];Rb=(Lb=JSON).parse;return[4,qa.load(V.config)];case 1:return gb=Rb.apply(Lb,[Yb.sent()]),[3,3];case 2:gb=null!==(Fa=V.config)&&void 0!==Fa?Fa:
{},Yb.label=3;case 3:rb=gb;if(!r.isString(V.patch))return[3,5];Nc=(Bc=JSON).parse;return[4,qa.load(V.patch)];case 4:return Zc=Nc.apply(Bc,[Yb.sent()]),[3,6];case 5:Zc=V.patch,Yb.label=6;case 6:return kc=Zc,[2,Da(Da(Da({},V),kc?{patch:kc}:{}),rb?{config:rb}:{})]}})})}function K(V){var qa;V=V.getRootNode?V.getRootNode():document;return V instanceof ShadowRoot?{root:V,rootContainer:V}:{root:document,rootContainer:null!==(qa=document.head)&&void 0!==qa?qa:document.body}}function C(V,qa,Fa,rb){var gb,
Lb,Rb,kc,Zc,Bc;void 0===Fa&&(Fa={});return sb(this,void 0,void 0,function(){function Nc(){Ce&&document.removeEventListener("click",Ce);je.finalize()}var Yb,nd,cd,Xb,oe,od,de,ne,ue,qf,gf,Qd,bc,$d,fc,Wc,Ud,Je,Yd,je,Ke,Cd,rd,we,hd,Ce,Ee,ve,Fe,yd,F,X,Oa,Hb,Tb,Sb,Ob,Xc;return bb(this,function(Sc){switch(Sc.label){case 0:Yb=Fa.theme?r.mergeConfig(lc[Fa.theme],null!==(gb=Fa.config)&&void 0!==gb?gb:{}):Fa.config;nd=r.isBoolean(Fa.actions)?Fa.actions:ab({},Kd,null!==(Lb=Fa.actions)&&void 0!==Lb?Lb:{});cd=
Da(Da({},Ie),Fa.i18n);Xb=null!==(Rb=Fa.renderer)&&void 0!==Rb?Rb:"canvas";oe=null!==(kc=Fa.logLevel)&&void 0!==kc?kc:Od.Warn;od=null!==(Zc=Fa.downloadFileName)&&void 0!==Zc?Zc:"visualization";de="string"===typeof V?document.querySelector(V):V;if(!de)throw Error(V+" does not exist");!1!==Fa.defaultStyle&&(ne=K(de),ue=ne.root,qf=ne.rootContainer,ue.getElementById("vega-embed-style")||(gf=document.createElement("style"),gf.id="vega-embed-style",gf.innerText=void 0===Fa.defaultStyle||!0===Fa.defaultStyle?
'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Fa.defaultStyle,qf.appendChild(gf)));Qd=I(qa,Fa.mode);bc=Dd[Qd](qa,Yb);"vega-lite"===Qd&&bc.$schema&&($d=Ta(bc.$schema),Cb.satisfies(Be.vega,"^"+$d.version.slice(1))||console.warn("The compiled spec uses Vega "+$d.version+", but current version is v"+Be.vega+"."));de.classList.add("vega-embed");nd&&de.classList.add("has-actions");de.innerHTML="";fc=de;nd&&(Wc=document.createElement("div"),Wc.classList.add("chart-wrapper"),de.appendChild(Wc),fc=Wc);(Ud=Fa.patch)&&(bc=Ud instanceof Function?Ud(bc):
Ba(bc,Ud,!0,!1).newDocument);Fa.formatLocale&&Od.formatLocale(Fa.formatLocale);Fa.timeFormatLocale&&Od.timeFormatLocale(Fa.timeFormatLocale);Je=Fa.ast;Yd=Od.parse(bc,"vega-lite"===Qd?{}:Yb,{ast:Je});je=new Od.View(Yd,Da({loader:rb,logLevel:oe,renderer:Xb},Je?{expr:Od.expressionInterpreter}:{}));!1!==Fa.tooltip&&(Ke=void 0,Ke="function"===typeof Fa.tooltip?Fa.tooltip:(new ld(!0===Fa.tooltip?{}:Fa.tooltip)).call,je.tooltip(Ke));Cd=Fa.hover;void 0===Cd&&(Cd="vega"===Qd);Cd&&(rd="boolean"===typeof Cd?
{}:Cd,we=rd.hoverSet,hd=rd.updateSet,je.hover(we,hd));Fa&&(null!=Fa.width&&je.width(Fa.width),null!=Fa.height&&je.height(Fa.height),null!=Fa.padding&&je.padding(Fa.padding));return[4,je.initialize(fc).runAsync()];case 1:Sc.sent();if(!1!==nd){Ee=de;!1!==Fa.defaultStyle&&(ve=document.createElement("details"),ve.title=cd.CLICK_TO_VIEW_ACTIONS,de.append(ve),Ee=ve,Fe=document.createElement("summary"),Fe.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
ve.append(Fe),Ce=function(ud){ve.contains(ud.target)||ve.removeAttribute("open")},document.addEventListener("click",Ce));yd=document.createElement("div");Ee.append(yd);yd.classList.add("vega-actions");if(!0===nd||!1!==nd["export"])for(F=function(ud){if(!0===nd||!0===nd["export"]||nd["export"][ud]){var Id=cd[ud.toUpperCase()+"_ACTION"],Ld=document.createElement("a");Ld.text=Id;Ld.href="#";Ld.target="_blank";Ld.download=od+"."+ud;Ld.addEventListener("mousedown",function(Ge){return sb(this,void 0,void 0,
function(){var ae;return bb(this,function(ge){switch(ge.label){case 0:return Ge.preventDefault(),[4,je.toImageURL(ud,Fa.scaleFactor)];case 1:return this.href=ae=ge.sent(),[2]}})})});yd.append(Ld)}},X=0,Oa=["svg","png"];X<Oa.length;X++)Hb=Oa[X],F(Hb);if(!0===nd||!1!==nd.source)Tb=document.createElement("a"),Tb.text=cd.SOURCE_ACTION,Tb.href="#",Tb.addEventListener("click",function(ud){var Id,Ld;Va(G(qa),null!==(Id=Fa.sourceHeader)&&void 0!==Id?Id:"",null!==(Ld=Fa.sourceFooter)&&void 0!==Ld?Ld:"",Qd);
ud.preventDefault()}),yd.append(Tb);"vega-lite"!==Qd||!0!==nd&&!1===nd.compiled||(Sb=document.createElement("a"),Sb.text=cd.COMPILED_ACTION,Sb.href="#",Sb.addEventListener("click",function(ud){var Id,Ld;Va(G(bc),null!==(Id=Fa.sourceHeader)&&void 0!==Id?Id:"",null!==(Ld=Fa.sourceFooter)&&void 0!==Ld?Ld:"","vega");ud.preventDefault()}),yd.append(Sb));if(!0===nd||!1!==nd.editor)Ob=null!==(Bc=Fa.editorUrl)&&void 0!==Bc?Bc:"https://vega.github.io/editor/",Xc=document.createElement("a"),Xc.text=cd.EDITOR_ACTION,
Xc.href="#",Xc.addEventListener("click",function(ud){Aa(window,Ob,{config:Yb,mode:Qd,renderer:Xb,spec:G(qa)});ud.preventDefault()}),yd.append(Xc)}return[2,{view:je,spec:qa,vgSpec:bc,finalize:Nc}]}})})}function R(V,qa){var Fa;void 0===qa&&(qa={});return sb(this,void 0,void 0,function(){var rb,gb,Lb,Rb;return bb(this,function(kc){switch(kc.label){case 0:return rb=document.createElement("div"),rb.classList.add("vega-embed-wrapper"),gb=document.createElement("div"),rb.appendChild(gb),Lb=!0===qa.actions||
!1===qa.actions?qa.actions:Da({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Fa=qa.actions)&&void 0!==Fa?Fa:{}),[4,x(gb,V,Da({actions:Lb},null!==qa&&void 0!==qa?qa:{}))];case 1:return Rb=kc.sent(),rb.value=Rb.view,[2,rb]}})})}var aa=Ra(r),da=Ra(A),Da=function(){Da=Object.assign||function(V){for(var qa,Fa=1,rb=arguments.length;Fa<rb;Fa++){qa=arguments[Fa];for(var gb in qa)Object.prototype.hasOwnProperty.call(qa,gb)&&(V[gb]=qa[gb])}return V};return Da.apply(this,arguments)},Ja=function(){var V=
function(qa,Fa){V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rb,gb){rb.__proto__=gb}||function(rb,gb){for(var Lb in gb)gb.hasOwnProperty(Lb)&&(rb[Lb]=gb[Lb])};return V(qa,Fa)};return function(qa,Fa){function rb(){this.constructor=qa}V(qa,Fa);qa.prototype=null===Fa?Object.create(Fa):(rb.prototype=Fa.prototype,new rb)}}(),J=Object.prototype.hasOwnProperty,fa=function(V){function qa(Fa,rb,gb,Lb,Rb){var kc=this.constructor,Zc=V.call(this,xa(Fa,{name:rb,index:gb,operation:Lb,tree:Rb}))||
this;Zc.name=rb;Zc.index=gb;Zc.operation=Lb;Zc.tree=Rb;Object.setPrototypeOf(Zc,kc.prototype);Zc.message=xa(Fa,{name:rb,index:gb,operation:Lb,tree:Rb});return Zc}Ja(qa,V);return qa}(Error),ca=fa,W={add:function(V,qa,Fa){V[qa]=this.value;return{newDocument:Fa}},remove:function(V,qa,Fa){var rb=V[qa];delete V[qa];return{newDocument:Fa,removed:rb}},replace:function(V,qa,Fa){var rb=V[qa];V[qa]=this.value;return{newDocument:Fa,removed:rb}},move:function(V,qa,Fa){(V=ma(Fa,this.path))&&(V=Gb(V));qa=na(Fa,
{op:"remove",path:this.from}).removed;na(Fa,{op:"add",path:this.path,value:qa});return{newDocument:Fa,removed:V}},copy:function(V,qa,Fa){V=ma(Fa,this.from);na(Fa,{op:"add",path:this.path,value:Gb(V)});return{newDocument:Fa}},test:function(V,qa,Fa){return{newDocument:Fa,test:ra(V[qa],this.value)}},_get:function(V,qa,Fa){this.value=V[qa];return{newDocument:Fa}}},d={add:function(V,qa,Fa){ib(qa)?V.splice(qa,0,this.value):V[qa]=this.value;return{newDocument:Fa,index:qa}},remove:function(V,qa,Fa){V=V.splice(qa,
1);return{newDocument:Fa,removed:V[0]}},replace:function(V,qa,Fa){var rb=V[qa];V[qa]=this.value;return{newDocument:Fa,removed:rb}},move:W.move,copy:W.copy,test:W.test,_get:W._get},c=Object.freeze({__proto__:null,JsonPatchError:ca,deepClone:Gb,getValueByPointer:ma,applyOperation:na,applyPatch:Ba,applyReducer:function(V,qa,Fa){var rb=na(V,qa);if(!1===rb.test)throw new ca("Test operation failed","TEST_OPERATION_FAILED",Fa,qa,V);return rb.newDocument},validator:Ga,validate:la,_areEquals:ra}),f=new WeakMap,
l=function(){return function(V){this.observers=new Map;this.obj=V}}(),m=function(){return function(V,qa){this.callback=V;this.observer=qa}}(),q=Object.freeze({__proto__:null,unobserve:function(V,qa){qa.unobserve()},observe:function(V,qa){var Fa=f.get(V);if(Fa){var rb=Fa.observers.get(qa);var gb=rb&&rb.observer}else Fa=new l(V),f.set(V,Fa);if(gb)return gb;gb={};Fa.value=Gb(V);if(qa){gb.callback=qa;gb.next=null;var Lb=function(){Qa(gb)},Rb=function(){clearTimeout(gb.next);gb.next=setTimeout(Lb)};"undefined"!==
typeof window&&(window.addEventListener("mouseup",Rb),window.addEventListener("keyup",Rb),window.addEventListener("mousedown",Rb),window.addEventListener("keydown",Rb),window.addEventListener("change",Rb))}gb.patches=[];gb.object=V;gb.unobserve=function(){Qa(gb);clearTimeout(gb.next);Fa.observers.delete(gb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Rb),window.removeEventListener("keyup",Rb),window.removeEventListener("mousedown",Rb),window.removeEventListener("keydown",
Rb),window.removeEventListener("change",Rb))};Fa.observers.set(qa,new m(qa,gb));return gb},generate:Qa,compare:function(V,qa,Fa){void 0===Fa&&(Fa=!1);var rb=[];za(V,qa,rb,"",Fa);return rb}});Object.assign({},c,q,{JsonPatchError:fa,deepClone:Gb,escapePathComponent:La,unescapePathComponent:Ia});var w=/("(?:[^\\"]|\\.)*")|[:,]/g,G=function(V,qa){qa=qa||{};var Fa=JSON.stringify([1],void 0,void 0===qa.indent?2:qa.indent).slice(2,-3);var rb=""===Fa?Infinity:void 0===qa.maxLength?80:qa.maxLength;var gb=
qa.replacer;return function Bc(Rb,kc,Zc){Rb&&"function"===typeof Rb.toJSON&&(Rb=Rb.toJSON());var Nc=JSON.stringify(Rb,gb);if(void 0===Nc)return Nc;Zc=rb-kc.length-Zc;if(Nc.length<=Zc){var Yb=Nc.replace(w,function(ue,qf){return qf||ue+" "});if(Yb.length<=Zc)return Yb}null!=gb&&(Rb=JSON.parse(Nc),gb=void 0);if("object"===typeof Rb&&null!==Rb){var nd=kc+Fa;var cd=[];var Xb=0;if(Array.isArray(Rb)){var oe="[";Yb="]";for(Zc=Rb.length;Xb<Zc;Xb++)cd.push(Bc(Rb[Xb],nd,Xb===Zc-1?0:1)||"null")}else{oe="{";Yb=
"}";var od=Object.keys(Rb);for(Zc=od.length;Xb<Zc;Xb++){var de=od[Xb];var ne=JSON.stringify(de)+": ";de=Bc(Rb[de],nd,ne.length+(Xb===Zc-1?0:1));void 0!==de&&cd.push(ne+de)}}if(0<cd.length)return[oe,Fa+cd.join(",\n"+nd),Yb].join("\n"+kc)}return Nc}(V,"",0)},U={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},wa="object"===typeof h&&h.env&&h.env.NODE_DEBUG&&/\bsemver\b/i.test(h.env.NODE_DEBUG)?(...V)=>console.error("SEMVER",
...V):()=>{},cb=function(V,qa,Fa){return Fa={path:qa,exports:{},require:function(rb,gb){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},V(Fa,Fa.exports),Fa.exports}(function(V,qa){const {MAX_SAFE_COMPONENT_LENGTH:Fa}=U;qa=V.exports={};const rb=qa.re=[],gb=qa.src=[],Lb=qa.t={};let Rb=0;V=(kc,Zc,Bc)=>{const Nc=Rb++;wa(Nc,Zc);Lb[kc]=Nc;gb[Nc]=Zc;rb[Nc]=new RegExp(Zc,Bc?"g":void 0)};V("NUMERICIDENTIFIER","0|[1-9]\\d*");V("NUMERICIDENTIFIERLOOSE","[0-9]+");V("NONNUMERICIDENTIFIER",
"\\d*[a-zA-Z-][a-zA-Z0-9-]*");V("MAINVERSION",`(${gb[Lb.NUMERICIDENTIFIER]})\\.`+`(${gb[Lb.NUMERICIDENTIFIER]})\\.`+`(${gb[Lb.NUMERICIDENTIFIER]})`);V("MAINVERSIONLOOSE",`(${gb[Lb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${gb[Lb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${gb[Lb.NUMERICIDENTIFIERLOOSE]})`);V("PRERELEASEIDENTIFIER",`(?:${gb[Lb.NUMERICIDENTIFIER]}|${gb[Lb.NONNUMERICIDENTIFIER]})`);V("PRERELEASEIDENTIFIERLOOSE",`(?:${gb[Lb.NUMERICIDENTIFIERLOOSE]}|${gb[Lb.NONNUMERICIDENTIFIER]})`);V("PRERELEASE",`(?:-(${gb[Lb.PRERELEASEIDENTIFIER]}(?:\\.${gb[Lb.PRERELEASEIDENTIFIER]})*))`);
V("PRERELEASELOOSE",`(?:-?(${gb[Lb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${gb[Lb.PRERELEASEIDENTIFIERLOOSE]})*))`);V("BUILDIDENTIFIER","[0-9A-Za-z-]+");V("BUILD",`(?:\\+(${gb[Lb.BUILDIDENTIFIER]}(?:\\.${gb[Lb.BUILDIDENTIFIER]})*))`);V("FULLPLAIN",`v?${gb[Lb.MAINVERSION]}${gb[Lb.PRERELEASE]}?${gb[Lb.BUILD]}?`);V("FULL",`^${gb[Lb.FULLPLAIN]}$`);V("LOOSEPLAIN",`[v=\\s]*${gb[Lb.MAINVERSIONLOOSE]}${gb[Lb.PRERELEASELOOSE]}?${gb[Lb.BUILD]}?`);V("LOOSE",`^${gb[Lb.LOOSEPLAIN]}$`);V("GTLT","((?:\x3c|\x3e)?\x3d?)");
V("XRANGEIDENTIFIERLOOSE",`${gb[Lb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);V("XRANGEIDENTIFIER",`${gb[Lb.NUMERICIDENTIFIER]}|x|X|\\*`);V("XRANGEPLAIN",`[v=\\s]*(${gb[Lb.XRANGEIDENTIFIER]})`+`(?:\\.(${gb[Lb.XRANGEIDENTIFIER]})`+`(?:\\.(${gb[Lb.XRANGEIDENTIFIER]})`+`(?:${gb[Lb.PRERELEASE]})?${gb[Lb.BUILD]}?`+")?)?");V("XRANGEPLAINLOOSE",`[v=\\s]*(${gb[Lb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${gb[Lb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${gb[Lb.XRANGEIDENTIFIERLOOSE]})`+`(?:${gb[Lb.PRERELEASELOOSE]})?${gb[Lb.BUILD]}?`+
")?)?");V("XRANGE",`^${gb[Lb.GTLT]}\\s*${gb[Lb.XRANGEPLAIN]}$`);V("XRANGELOOSE",`^${gb[Lb.GTLT]}\\s*${gb[Lb.XRANGEPLAINLOOSE]}$`);V("COERCE",`${"(^|[^\\d])(\\d{1,"}${Fa}})`+`(?:\\.(\\d{1,${Fa}}))?`+`(?:\\.(\\d{1,${Fa}}))?`+"(?:$|[^\\d])");V("COERCERTL",gb[Lb.COERCE],!0);V("LONETILDE","(?:~\x3e?)");V("TILDETRIM",`(\\s*)${gb[Lb.LONETILDE]}\\s+`,!0);qa.tildeTrimReplace="$1~";V("TILDE",`^${gb[Lb.LONETILDE]}${gb[Lb.XRANGEPLAIN]}$`);V("TILDELOOSE",`^${gb[Lb.LONETILDE]}${gb[Lb.XRANGEPLAINLOOSE]}$`);V("LONECARET",
"(?:\\^)");V("CARETTRIM",`(\\s*)${gb[Lb.LONECARET]}\\s+`,!0);qa.caretTrimReplace="$1^";V("CARET",`^${gb[Lb.LONECARET]}${gb[Lb.XRANGEPLAIN]}$`);V("CARETLOOSE",`^${gb[Lb.LONECARET]}${gb[Lb.XRANGEPLAINLOOSE]}$`);V("COMPARATORLOOSE",`^${gb[Lb.GTLT]}\\s*(${gb[Lb.LOOSEPLAIN]})$|^$`);V("COMPARATOR",`^${gb[Lb.GTLT]}\\s*(${gb[Lb.FULLPLAIN]})$|^$`);V("COMPARATORTRIM",`(\\s*)${gb[Lb.GTLT]}\\s*(${gb[Lb.LOOSEPLAIN]}|${gb[Lb.XRANGEPLAIN]})`,!0);qa.comparatorTrimReplace="$1$2$3";V("HYPHENRANGE",`^\\s*(${gb[Lb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${gb[Lb.XRANGEPLAIN]})`+"\\s*$");V("HYPHENRANGELOOSE",`^\\s*(${gb[Lb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${gb[Lb.XRANGEPLAINLOOSE]})`+"\\s*$");V("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");V("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");V("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const hb=/^[0-9]+$/,Y=(V,qa)=>{const Fa=hb.test(V),rb=hb.test(qa);Fa&&rb&&(V=+V,qa=+qa);return V===qa?0:Fa&&!rb?-1:rb&&!Fa?1:V<qa?-1:1};var ta={compareIdentifiers:Y,rcompareIdentifiers:(V,qa)=>Y(qa,V)};const {MAX_LENGTH:H,
MAX_SAFE_INTEGER:Q}=U,{re:ja,t:Ca}=cb,{compareIdentifiers:qb}=ta;class Ya{constructor(V,qa){qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof Ya){if(V.loose===!!qa.loose&&V.includePrerelease===!!qa.includePrerelease)return V;V=V.version}else if("string"!==typeof V)throw new TypeError(`Invalid Version: ${V}`);if(V.length>H)throw new TypeError(`version is longer than ${H} characters`);wa("SemVer",V,qa);this.options=qa;this.loose=!!qa.loose;this.includePrerelease=!!qa.includePrerelease;
qa=V.trim().match(qa.loose?ja[Ca.LOOSE]:ja[Ca.FULL]);if(!qa)throw new TypeError(`Invalid Version: ${V}`);this.raw=V;this.major=+qa[1];this.minor=+qa[2];this.patch=+qa[3];if(this.major>Q||0>this.major)throw new TypeError("Invalid major version");if(this.minor>Q||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>Q||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=qa[4]?qa[4].split(".").map(Fa=>{if(/^[0-9]+$/.test(Fa)){const rb=+Fa;if(0<=rb&&rb<Q)return rb}return Fa}):
[];this.build=qa[5]?qa[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(V){wa("SemVer.compare",this.version,this.options,V);if(!(V instanceof Ya)){if("string"===typeof V&&V===this.version)return 0;V=new Ya(V,this.options)}return V.version===this.version?0:this.compareMain(V)||this.comparePre(V)}compareMain(V){V instanceof
Ya||(V=new Ya(V,this.options));return qb(this.major,V.major)||qb(this.minor,V.minor)||qb(this.patch,V.patch)}comparePre(V){V instanceof Ya||(V=new Ya(V,this.options));if(this.prerelease.length&&!V.prerelease.length)return-1;if(!this.prerelease.length&&V.prerelease.length)return 1;if(!this.prerelease.length&&!V.prerelease.length)return 0;let qa=0;do{const Fa=this.prerelease[qa],rb=V.prerelease[qa];wa("prerelease compare",qa,Fa,rb);if(void 0===Fa&&void 0===rb)return 0;if(void 0===rb)return 1;if(void 0===
Fa)return-1;if(Fa!==rb)return qb(Fa,rb)}while(++qa)}compareBuild(V){V instanceof Ya||(V=new Ya(V,this.options));let qa=0;do{const Fa=this.build[qa],rb=V.build[qa];wa("prerelease compare",qa,Fa,rb);if(void 0===Fa&&void 0===rb)return 0;if(void 0===rb)return 1;if(void 0===Fa)return-1;if(Fa!==rb)return qb(Fa,rb)}while(++qa)}inc(V,qa){switch(V){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",qa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;
this.inc("pre",qa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",qa);this.inc("pre",qa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",qa);this.inc("pre",qa);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;
this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(V=this.prerelease.length;0<=--V;)"number"===typeof this.prerelease[V]&&(this.prerelease[V]++,V=-2);-1===V&&this.prerelease.push(0)}qa&&(this.prerelease[0]===qa?isNaN(this.prerelease[1])&&(this.prerelease=[qa,0]):this.prerelease=[qa,0]);break;default:throw Error(`invalid increment argument: ${V}`);}this.format();this.raw=this.version;return this}}var ob=Ya;const {MAX_LENGTH:Na}=U,{re:Ab,t:Eb}=cb;var eb=(V,
qa)=>{qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof ob)return V;if("string"!==typeof V||V.length>Na||!(qa.loose?Ab[Eb.LOOSE]:Ab[Eb.FULL]).test(V))return null;try{return new ob(V,qa)}catch(Fa){return null}},Mb=(V,qa,Fa)=>(new ob(V,Fa)).compare(new ob(qa,Fa)),jc=(V,qa,Fa)=>{V=new ob(V,Fa);qa=new ob(qa,Fa);return V.compare(qa)||V.compareBuild(qa)},Zb=(V,qa,Fa)=>0<Mb(V,qa,Fa),Hc=(V,qa,Fa)=>0>Mb(V,qa,Fa),zc=(V,qa,Fa)=>0<=Mb(V,qa,Fa),ed=(V,qa,Fa)=>0>=Mb(V,qa,Fa),Ad=(V,
qa,Fa,rb)=>{switch(qa){case "\x3d\x3d\x3d":return"object"===typeof V&&(V=V.version),"object"===typeof Fa&&(Fa=Fa.version),V===Fa;case "!\x3d\x3d":return"object"===typeof V&&(V=V.version),"object"===typeof Fa&&(Fa=Fa.version),V!==Fa;case "":case "\x3d":case "\x3d\x3d":return 0===Mb(V,Fa,rb);case "!\x3d":return 0!==Mb(V,Fa,rb);case "\x3e":return 0<Mb(V,Fa,rb);case "\x3e\x3d":return 0<=Mb(V,Fa,rb);case "\x3c":return 0>Mb(V,Fa,rb);case "\x3c\x3d":return 0>=Mb(V,Fa,rb);default:throw new TypeError(`Invalid operator: ${qa}`);
}};const {re:Gc,t:gd}=cb;class ie{constructor(V,qa){qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof ie)return V.loose===!!qa.loose&&V.includePrerelease===!!qa.includePrerelease?V:new ie(V.raw,qa);if(V instanceof Wb)return this.raw=V.value,this.set=[[V]],this.format(),this;this.options=qa;this.loose=!!qa.loose;this.includePrerelease=!!qa.includePrerelease;this.raw=V;this.set=V.split(/\s*\|\|\s*/).map(Fa=>this.parseRange(Fa.trim())).filter(Fa=>Fa.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${V}`);
this.format()}format(){return this.range=this.set.map(V=>V.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(V){const qa=this.options.loose;V=V.trim();V=V.replace(qa?xd[Rd.HYPHENRANGELOOSE]:xd[Rd.HYPHENRANGE],Fb(this.options.includePrerelease));wa("hyphen replace",V);V=V.replace(xd[Rd.COMPARATORTRIM],Db);wa("comparator trim",V,xd[Rd.COMPARATORTRIM]);V=V.replace(xd[Rd.TILDETRIM],ac);V=V.replace(xd[Rd.CARETTRIM],kb);V=V.split(/\s+/).join(" ");const Fa=qa?xd[Rd.COMPARATORLOOSE]:
xd[Rd.COMPARATOR];return V.split(" ").map(rb=>{var gb=rb;rb=this.options;wa("comp",gb,rb);gb=N(gb,rb);wa("caret",gb);gb=dd(gb,rb);wa("tildes",gb);gb=$a(gb,rb);wa("xrange",gb);wa("replaceStars",gb,rb);gb=gb.trim().replace(xd[Rd.STAR],"");wa("stars",gb);return gb}).join(" ").split(/\s+/).map(rb=>{var gb=this.options;wa("replaceGTE0",rb,gb);return rb.trim().replace(xd[gb.includePrerelease?Rd.GTE0PRE:Rd.GTE0],"")}).filter(this.options.loose?rb=>!!rb.match(Fa):()=>!0).map(rb=>new Wb(rb,this.options))}intersects(V,
qa){if(!(V instanceof ie))throw new TypeError("a Range is required");return this.set.some(Fa=>oc(Fa,qa)&&V.set.some(rb=>oc(rb,qa)&&Fa.every(gb=>rb.every(Lb=>gb.intersects(Lb,qa)))))}test(V){if(!V)return!1;if("string"===typeof V)try{V=new ob(V,this.options)}catch(Lb){return!1}for(let Lb=0;Lb<this.set.length;Lb++){a:{var qa=this.set[Lb];var Fa=V,rb=this.options;for(var gb=0;gb<qa.length;gb++)if(!qa[gb].test(Fa)){qa=!1;break a}if(Fa.prerelease.length&&!rb.includePrerelease){for(rb=0;rb<qa.length;rb++)if(wa(qa[rb].semver),
qa[rb].semver!==Wb.ANY&&0<qa[rb].semver.prerelease.length&&(gb=qa[rb].semver,gb.major===Fa.major&&gb.minor===Fa.minor&&gb.patch===Fa.patch)){qa=!0;break a}qa=!1}else qa=!0}if(qa)return!0}return!1}}var Mc=ie;const {re:xd,t:Rd,comparatorTrimReplace:Db,tildeTrimReplace:ac,caretTrimReplace:kb}=cb,oc=(V,qa)=>{let Fa=!0;V=V.slice();let rb=V.pop();for(;Fa&&V.length;)Fa=V.every(gb=>rb.intersects(gb,qa)),rb=V.pop();return Fa},sc=V=>!V||"x"===V.toLowerCase()||"*"===V,dd=(V,qa)=>V.trim().split(/\s+/).map(Fa=>
vd(Fa,qa)).join(" "),vd=(V,qa)=>V.replace(qa.loose?xd[Rd.TILDELOOSE]:xd[Rd.TILDE],(Fa,rb,gb,Lb,Rb)=>{wa("tilde",V,Fa,rb,gb,Lb,Rb);sc(rb)?Fa="":sc(gb)?Fa=`>=${rb}.0.0 <${+rb+1}.0.0-0`:sc(Lb)?Fa=`>=${rb}.${gb}.0 <${rb}.${+gb+1}.0-0`:Rb?(wa("replaceTilde pr",Rb),Fa=`>=${rb}.${gb}.${Lb}-${Rb} <${rb}.${+gb+1}.0-0`):Fa=`>=${rb}.${gb}.${Lb} <${rb}.${+gb+1}.0-0`;wa("tilde return",Fa);return Fa}),N=(V,qa)=>V.trim().split(/\s+/).map(Fa=>oa(Fa,qa)).join(" "),oa=(V,qa)=>{wa("caret",V,qa);const Fa=qa.includePrerelease?
"-0":"";return V.replace(qa.loose?xd[Rd.CARETLOOSE]:xd[Rd.CARET],(rb,gb,Lb,Rb,kc)=>{wa("caret",V,rb,gb,Lb,Rb,kc);sc(gb)?rb="":sc(Lb)?rb=`>=${gb}.0.0${Fa} <${+gb+1}.0.0-0`:sc(Rb)?rb="0"===gb?`>=${gb}.${Lb}.0${Fa} <${gb}.${+Lb+1}.0-0`:`>=${gb}.${Lb}.0${Fa} <${+gb+1}.0.0-0`:kc?(wa("replaceCaret pr",kc),rb="0"===gb?"0"===Lb?`>=${gb}.${Lb}.${Rb}-${kc} <${gb}.${Lb}.${+Rb+1}-0`:`>=${gb}.${Lb}.${Rb}-${kc} <${gb}.${+Lb+1}.0-0`:`>=${gb}.${Lb}.${Rb}-${kc} <${+gb+1}.0.0-0`):(wa("no pr"),rb="0"===gb?"0"===Lb?
`>=${gb}.${Lb}.${Rb}${Fa} <${gb}.${Lb}.${+Rb+1}-0`:`>=${gb}.${Lb}.${Rb}${Fa} <${gb}.${+Lb+1}.0-0`:`>=${gb}.${Lb}.${Rb} <${+gb+1}.0.0-0`);wa("caret return",rb);return rb})},$a=(V,qa)=>{wa("replaceXRanges",V,qa);return V.split(/\s+/).map(Fa=>wb(Fa,qa)).join(" ")},wb=(V,qa)=>{V=V.trim();return V.replace(qa.loose?xd[Rd.XRANGELOOSE]:xd[Rd.XRANGE],(Fa,rb,gb,Lb,Rb,kc)=>{wa("xRange",V,Fa,rb,gb,Lb,Rb,kc);const Zc=sc(gb),Bc=Zc||sc(Lb);Rb=Bc||sc(Rb);"\x3d"===rb&&Rb&&(rb="");kc=qa.includePrerelease?"-0":"";Zc?
Fa="\x3e"===rb||"\x3c"===rb?"\x3c0.0.0-0":"*":rb&&Rb?(Bc&&(Lb=0),Rb=0,"\x3e"===rb?(rb="\x3e\x3d",Bc?(gb=+gb+1,Lb=0):Lb=+Lb+1,Rb=0):"\x3c\x3d"===rb&&(rb="\x3c",Bc?gb=+gb+1:Lb=+Lb+1),"\x3c"===rb&&(kc="-0"),Fa=`${rb+gb}.${Lb}.${Rb}${kc}`):Bc?Fa=`>=${gb}.0.0${kc} <${+gb+1}.0.0-0`:Rb&&(Fa=`>=${gb}.${Lb}.0${kc} <${gb}.${+Lb+1}.0-0`);wa("xRange return",Fa);return Fa})},Fb=V=>(qa,Fa,rb,gb,Lb,Rb,kc,Zc,Bc,Nc,Yb,nd,cd)=>{Fa=sc(rb)?"":sc(gb)?`>=${rb}.0.0${V?"-0":""}`:sc(Lb)?`>=${rb}.${gb}.0${V?"-0":""}`:Rb?`>=${Fa}`:
`>=${Fa}${V?"-0":""}`;Zc=sc(Bc)?"":sc(Nc)?`<${+Bc+1}.0.0-0`:sc(Yb)?`<${Bc}.${+Nc+1}.0-0`:nd?`<=${Bc}.${Nc}.${Yb}-${nd}`:V?`<${Bc}.${Nc}.${+Yb+1}-0`:`<=${Zc}`;return`${Fa} ${Zc}`.trim()},Kb=Symbol("SemVer ANY");class ec{static get ANY(){return Kb}constructor(V,qa){qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(V instanceof ec){if(V.loose===!!qa.loose)return V;V=V.value}wa("comparator",V,qa);this.options=qa;this.loose=!!qa.loose;this.parse(V);this.value=this.semver===Kb?"":this.operator+
this.semver.version;wa("comp",this)}parse(V){const qa=V.match(this.options.loose?vc[Fc.COMPARATORLOOSE]:vc[Fc.COMPARATOR]);if(!qa)throw new TypeError(`Invalid comparator: ${V}`);this.operator=void 0!==qa[1]?qa[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=qa[2]?new ob(qa[2],this.options.loose):Kb}toString(){return this.value}test(V){wa("Comparator.test",V,this.options.loose);if(this.semver===Kb||V===Kb)return!0;if("string"===typeof V)try{V=new ob(V,this.options)}catch(qa){return!1}return Ad(V,
this.operator,this.semver,this.options)}intersects(V,qa){if(!(V instanceof ec))throw new TypeError("a Comparator is required");qa&&"object"===typeof qa||(qa={loose:!!qa,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Mc(V.value,qa)).test(this.value);if(""===V.operator)return""===V.value?!0:(new Mc(this.value,qa)).test(V.semver);const Fa=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===V.operator||"\x3e"===V.operator),rb=("\x3c\x3d"===this.operator||"\x3c"===
this.operator)&&("\x3c\x3d"===V.operator||"\x3c"===V.operator),gb=this.semver.version===V.semver.version,Lb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===V.operator||"\x3c\x3d"===V.operator),Rb=Ad(this.semver,"\x3c",V.semver,qa)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===V.operator||"\x3c"===V.operator);V=Ad(this.semver,"\x3e",V.semver,qa)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===V.operator||"\x3e"===V.operator);return Fa||
rb||gb&&Lb||Rb||V}}var Wb=ec;const {re:vc,t:Fc}=cb;var va=(V,qa,Fa)=>{try{qa=new Mc(qa,Fa)}catch(rb){return!1}return qa.test(V)};const {ANY:Za}=Wb;var pb=(V,qa,Fa,rb)=>{V=new ob(V,rb);qa=new Mc(qa,rb);let gb,Lb,Rb,kc;switch(Fa){case "\x3e":gb=Zb;Fa=ed;Lb=Hc;Rb="\x3e";kc="\x3e\x3d";break;case "\x3c":gb=Hc;Fa=zc;Lb=Zb;Rb="\x3c";kc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(va(V,qa,rb))return!1;for(let Zc=0;Zc<qa.set.length;++Zc){let Bc=null,Nc=null;
qa.set[Zc].forEach(Yb=>{Yb.semver===Za&&(Yb=new Wb("\x3e\x3d0.0.0"));Bc=Bc||Yb;Nc=Nc||Yb;gb(Yb.semver,Bc.semver,rb)?Bc=Yb:Lb(Yb.semver,Nc.semver,rb)&&(Nc=Yb)});if(Bc.operator===Rb||Bc.operator===kc||(!Nc.operator||Nc.operator===Rb)&&Fa(V,Nc.semver)||Nc.operator===kc&&Lb(V,Nc.semver))return!1}return!0};const {ANY:Ub}=Wb,wc=(V,qa,Fa)=>{if(1===V.length&&V[0].semver===Ub)return 1===qa.length&&qa[0].semver===Ub;const rb=new Set;let gb,Lb;for(const Bc of V)"\x3e"===Bc.operator||"\x3e\x3d"===Bc.operator?
gb=Cc(gb,Bc,Fa):"\x3c"===Bc.operator||"\x3c\x3d"===Bc.operator?Lb=Jc(Lb,Bc,Fa):rb.add(Bc.semver);if(1<rb.size)return null;let Rb;if(gb&&Lb&&(Rb=Mb(gb.semver,Lb.semver,Fa),0<Rb||0===Rb&&("\x3e\x3d"!==gb.operator||"\x3c\x3d"!==Lb.operator)))return null;for(const Bc of rb){if(gb&&!va(Bc,String(gb),Fa)||Lb&&!va(Bc,String(Lb),Fa))return null;for(const Nc of qa)if(!va(Bc,String(Nc),Fa))return!1;return!0}let kc,Zc;for(const Bc of qa){Zc=Zc||"\x3e"===Bc.operator||"\x3e\x3d"===Bc.operator;kc=kc||"\x3c"===
Bc.operator||"\x3c\x3d"===Bc.operator;if(gb)if("\x3e"===Bc.operator||"\x3e\x3d"===Bc.operator){if(V=Cc(gb,Bc,Fa),V===Bc)return!1}else if("\x3e\x3d"===gb.operator&&!va(gb.semver,String(Bc),Fa))return!1;if(Lb)if("\x3c"===Bc.operator||"\x3c\x3d"===Bc.operator){if(V=Jc(Lb,Bc,Fa),V===Bc)return!1}else if("\x3c\x3d"===Lb.operator&&!va(Lb.semver,String(Bc),Fa))return!1;if(!Bc.operator&&(Lb||gb)&&0!==Rb)return!1}return gb&&kc&&!Lb&&0!==Rb||Lb&&Zc&&!gb&&0!==Rb?!1:!0},Cc=(V,qa,Fa)=>{if(!V)return qa;Fa=Mb(V.semver,
qa.semver,Fa);return 0<Fa?V:0>Fa?qa:"\x3e"===qa.operator&&"\x3e\x3d"===V.operator?qa:V},Jc=(V,qa,Fa)=>{if(!V)return qa;Fa=Mb(V.semver,qa.semver,Fa);return 0>Fa?V:0<Fa?qa:"\x3c"===qa.operator&&"\x3c\x3d"===V.operator?qa:V};var Cb={re:cb.re,src:cb.src,tokens:cb.t,SEMVER_SPEC_VERSION:U.SEMVER_SPEC_VERSION,SemVer:ob,compareIdentifiers:ta.compareIdentifiers,rcompareIdentifiers:ta.rcompareIdentifiers,parse:eb,valid:(V,qa)=>(V=eb(V,qa))?V.version:null,clean:(V,qa)=>(V=eb(V.trim().replace(/^[=v]+/,""),qa))?
V.version:null,inc:(V,qa,Fa,rb)=>{"string"===typeof Fa&&(rb=Fa,Fa=void 0);try{return(new ob(V,Fa)).inc(qa,rb).version}catch(gb){return null}},diff:(V,qa)=>{if(0===Mb(V,qa,void 0))return null;V=eb(V);qa=eb(qa);const Fa=V.prerelease.length||qa.prerelease.length,rb=Fa?"pre":"";for(const gb in V)if(("major"===gb||"minor"===gb||"patch"===gb)&&V[gb]!==qa[gb])return rb+gb;return Fa?"prerelease":""},major:(V,qa)=>(new ob(V,qa)).major,minor:(V,qa)=>(new ob(V,qa)).minor,patch:(V,qa)=>(new ob(V,qa)).patch,prerelease:(V,
qa)=>(V=eb(V,qa))&&V.prerelease.length?V.prerelease:null,compare:Mb,rcompare:(V,qa,Fa)=>Mb(qa,V,Fa),compareLoose:(V,qa)=>Mb(V,qa,!0),compareBuild:jc,sort:(V,qa)=>V.sort((Fa,rb)=>jc(Fa,rb,qa)),rsort:(V,qa)=>V.sort((Fa,rb)=>jc(rb,Fa,qa)),gt:Zb,lt:Hc,eq:(V,qa,Fa)=>0===Mb(V,qa,Fa),neq:(V,qa,Fa)=>0!==Mb(V,qa,Fa),gte:zc,lte:ed,cmp:Ad,coerce:(V,qa)=>{if(V instanceof ob)return V;"number"===typeof V&&(V=String(V));if("string"!==typeof V)return null;qa=qa||{};let Fa=null;if(qa.rtl){let rb;for(;(rb=Gc[gd.COERCERTL].exec(V))&&
(!Fa||Fa.index+Fa[0].length!==V.length);)Fa&&rb.index+rb[0].length===Fa.index+Fa[0].length||(Fa=rb),Gc[gd.COERCERTL].lastIndex=rb.index+rb[1].length+rb[2].length;Gc[gd.COERCERTL].lastIndex=-1}else Fa=V.match(Gc[gd.COERCE]);return null===Fa?null:eb(`${Fa[2]}.${Fa[3]||"0"}.${Fa[4]||"0"}`,qa)},Comparator:Wb,Range:Mc,satisfies:va,toComparators:(V,qa)=>(new Mc(V,qa)).set.map(Fa=>Fa.map(rb=>rb.value).join(" ").trim().split(" ")),maxSatisfying:(V,qa,Fa)=>{let rb=null,gb=null,Lb=null;try{Lb=new Mc(qa,Fa)}catch(Rb){return null}V.forEach(Rb=>
{!Lb.test(Rb)||rb&&-1!==gb.compare(Rb)||(rb=Rb,gb=new ob(rb,Fa))});return rb},minSatisfying:(V,qa,Fa)=>{let rb=null,gb=null,Lb=null;try{Lb=new Mc(qa,Fa)}catch(Rb){return null}V.forEach(Rb=>{!Lb.test(Rb)||rb&&1!==gb.compare(Rb)||(rb=Rb,gb=new ob(rb,Fa))});return rb},minVersion:(V,qa)=>{V=new Mc(V,qa);let Fa=new ob("0.0.0");if(V.test(Fa))return Fa;Fa=new ob("0.0.0-0");if(V.test(Fa))return Fa;Fa=null;for(qa=0;qa<V.set.length;++qa)V.set[qa].forEach(rb=>{const gb=new ob(rb.semver.version);switch(rb.operator){case "\x3e":0===
gb.prerelease.length?gb.patch++:gb.prerelease.push(0),gb.raw=gb.format();case "":case "\x3e\x3d":if(!Fa||0<Mb(Fa,gb,void 0))Fa=gb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${rb.operator}`);}});return Fa&&V.test(Fa)?Fa:null},validRange:(V,qa)=>{try{return(new Mc(V,qa)).range||"*"}catch(Fa){return null}},outside:pb,gtr:(V,qa,Fa)=>pb(V,qa,"\x3e",Fa),ltr:(V,qa,Fa)=>pb(V,qa,"\x3c",Fa),intersects:(V,qa,Fa)=>{V=new Mc(V,Fa);qa=new Mc(qa,Fa);return V.intersects(qa)},
simplifyRange:(V,qa,Fa)=>{var rb=[],gb=null;let Lb=null;V=V.sort((Rb,kc)=>Mb(Rb,kc,Fa));for(const Rb of V)va(Rb,qa,Fa)?(Lb=Rb,gb||(gb=Rb)):(Lb&&rb.push([gb,Lb]),gb=Lb=null);gb&&rb.push([gb,null]);gb=[];for(const [Rb,kc]of rb)Rb===kc?gb.push(Rb):kc||Rb!==V[0]?kc?Rb===V[0]?gb.push(`<=${kc}`):gb.push(`${Rb} - ${kc}`):gb.push(`>=${Rb}`):gb.push("*");rb=gb.join(" || ");return rb.length<("string"===typeof qa.raw?qa.raw:String(qa)).length?rb:qa},subset:(V,qa,Fa)=>{V=new Mc(V,Fa);qa=new Mc(qa,Fa);let rb=
!1;a:for(const gb of V.set){for(const Lb of qa.set)if(V=wc(gb,Lb,Fa),rb=rb||null!==V,V)continue a;if(rb)return!1}return!0}};const Vb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},nc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var lc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",
strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",
labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Vb["category-6"],diverging:Vb["fireandice-6"],heatmap:Vb["fire-7"],ordinal:Vb["fire-7"],ramp:Vb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:nc["six-groups-cat-1"],diverging:nc["diverging-colors"],heatmap:nc["diverging-colors"],ordinal:nc["six-groups-seq"],ramp:nc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const rc=V=>function(qa){return qa[V]},Vc=V=>{const qa=V.length;return function(Fa){for(let rb=0;rb<qa;++rb)Fa=Fa[V[rb]];return Fa}};(function(V,qa,Fa){const rb=ya(V);V=1===rb.length?rb[0]:V;return L((Fa&&Fa.get||ha)(rb),[V],qa||V)})("id");L(V=>V,[],"identity");L(()=>0,[],"zero");L(()=>1,[],"one");
L(()=>!0,[],"true");L(()=>!1,[],"false");var zd=Array.isArray;const pd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(V){return String(V).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class ld{constructor(V){this.options=Object.assign(Object.assign({},pd),V);V=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const Fa=
document.createElement("style");Fa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(V))throw Error("Invalid HTML ID");var qa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
V);Fa.innerHTML=qa;qa=document.head;0<qa.childNodes.length?qa.insertBefore(Fa,qa.childNodes[0]):qa.appendChild(Fa)}this.el=document.getElementById(V);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",V),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(V,qa,Fa,rb){if(null==rb||""===rb)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=Ma(rb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);V=this.el.getBoundingClientRect();var gb=this.options.offsetX;Fa=this.options.offsetY;rb=qa.clientX+gb;rb+V.width>window.innerWidth&&(rb=+qa.clientX-gb-V.width);gb=qa.clientY+Fa;gb+V.height>window.innerHeight&&(gb=+qa.clientY-Fa-V.height);var {x:Lb,y:Rb}={x:rb,y:gb};this.el.setAttribute("style",`top: ${Rb}px; left: ${Lb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(V,qa){return this.substr(!qa||0>qa?0:+qa,V.length)===V});var qd,Od=aa,fe=da,
le="undefined"!==typeof window?window:void 0;void 0===fe&&(null===(qd=null===le||void 0===le?void 0:le.vl)||void 0===qd?0:qd.compile)&&(fe=le.vl);var Kd={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Ie={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},he={vega:"Vega","vega-lite":"Vega-Lite"},Be={vega:Od.version,"vega-lite":fe?fe.version:
"not available"},Dd={vega:function(V){return V},"vega-lite":function(V,qa){return fe.compile(V,{config:qa}).spec}},be=function(){for(var V=[],qa=0;qa<arguments.length;qa++)V[qa]=arguments[qa];if(qa=1<V.length){if(qa=r.isString(V[0]))qa=V[0],qa=!(qa.startsWith("http://")||qa.startsWith("https://")||qa.startsWith("//"));qa=qa||V[0]instanceof HTMLElement||3===V.length}return qa?x(V[0],V[1],V[2]):R(V[0],V[1])};be.vegaLite=fe;be.vl=fe;be.container=R;be.embed=x;be.vega=Od;be["default"]=x;be.version="6.12.2";
return be})};
shadow$provide[58]=function(Nb,zb,mc,ub){var h=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;mc.exports=function(){try{if(!Object.assign)return!1;var Ra=new String("abc");Ra[5]="de";if("5"===Object.getOwnPropertyNames(Ra)[0])return!1;var sb={};for(Ra=0;10>Ra;Ra++)sb["_"+String.fromCharCode(Ra)]=Ra;if("0123456789"!==Object.getOwnPropertyNames(sb).map(function(xb){return sb[xb]}).join(""))return!1;var bb={};"abcdefghijklmnopqrst".split("").forEach(function(xb){bb[xb]=
xb});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},bb)).join("")?!1:!0}catch(xb){return!1}}()?Object.assign:function(Ra,sb){if(null===Ra||void 0===Ra)throw new TypeError("Object.assign cannot be called with null or undefined");var bb=Object(Ra);for(var xb,Gb=1;Gb<arguments.length;Gb++){var ib=Object(arguments[Gb]);for(var La in ib)r.call(ib,La)&&(bb[La]=ib[La]);if(h){xb=h(ib);for(var Ia=0;Ia<xb.length;Ia++)A.call(ib,xb[Ia])&&(bb[xb[Ia]]=ib[xb[Ia]])}}return bb}};
shadow$provide[59]=function(Nb,zb,mc,ub){function h(R){for(var aa="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+R,da=1;da<arguments.length;da++)aa+="\x26args[]\x3d"+encodeURIComponent(arguments[da]);return"Minified React error #"+R+"; visit "+aa+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(R,aa,da){this.props=R;this.context=aa;this.refs=ab;this.updater=da||Aa}function A(){}function Ra(R,aa,da){this.props=
R;this.context=aa;this.refs=ab;this.updater=da||Aa}function sb(R,aa,da){var Da,Ja={},J=null,fa=null;if(null!=aa)for(Da in void 0!==aa.ref&&(fa=aa.ref),void 0!==aa.key&&(J=""+aa.key),aa)I.call(aa,Da)&&!x.hasOwnProperty(Da)&&(Ja[Da]=aa[Da]);var ca=arguments.length-2;if(1===ca)Ja.children=da;else if(1<ca){for(var W=Array(ca),d=0;d<ca;d++)W[d]=arguments[d+2];Ja.children=W}if(R&&R.defaultProps)for(Da in ca=R.defaultProps,ca)void 0===Ja[Da]&&(Ja[Da]=ca[Da]);return{$$typeof:Qa,type:R,key:J,ref:fa,props:Ja,
_owner:Va.current}}function bb(R,aa){return{$$typeof:Qa,type:R.type,key:aa,ref:R.ref,props:R.props,_owner:R._owner}}function xb(R){return"object"===typeof R&&null!==R&&R.$$typeof===Qa}function Gb(R){var aa={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+R).replace(/[=:]/g,function(da){return aa[da]})}function ib(R,aa,da,Da){if(K.length){var Ja=K.pop();Ja.result=R;Ja.keyPrefix=aa;Ja.func=da;Ja.context=Da;Ja.count=0;return Ja}return{result:R,keyPrefix:aa,func:da,context:Da,count:0}}function La(R){R.result=
null;R.keyPrefix=null;R.func=null;R.context=null;R.count=0;10>K.length&&K.push(R)}function Ia(R,aa,da,Da){var Ja=typeof R;if("undefined"===Ja||"boolean"===Ja)R=null;var J=!1;if(null===R)J=!0;else switch(Ja){case "string":case "number":J=!0;break;case "object":switch(R.$$typeof){case Qa:case za:J=!0}}if(J)return da(Da,R,""===aa?"."+xa(R,0):aa),1;J=0;aa=""===aa?".":aa+":";if(Array.isArray(R))for(var fa=0;fa<R.length;fa++){Ja=R[fa];var ca=aa+xa(Ja,fa);J+=Ia(Ja,ca,da,Da)}else if(null===R||"object"!==
typeof R?ca=null:(ca=Pa&&R[Pa]||R["@@iterator"],ca="function"===typeof ca?ca:null),"function"===typeof ca)for(R=ca.call(R),fa=0;!(Ja=R.next()).done;)Ja=Ja.value,ca=aa+xa(Ja,fa++),J+=Ia(Ja,ca,da,Da);else if("object"===Ja)throw da=""+R,Error(h(31,"[object Object]"===da?"object with keys {"+Object.keys(R).join(", ")+"}":da,""));return J}function Sa(R,aa,da){return null==R?0:Ia(R,"",aa,da)}function xa(R,aa){return"object"===typeof R&&null!==R&&null!=R.key?Gb(R.key):aa.toString(36)}function ma(R,aa){R.func.call(R.context,
aa,R.count++)}function na(R,aa,da){var Da=R.result,Ja=R.keyPrefix;R=R.func.call(R.context,aa,R.count++);Array.isArray(R)?Ba(R,Da,da,function(J){return J}):null!=R&&(xb(R)&&(R=bb(R,Ja+(!R.key||aa&&aa.key===R.key?"":(""+R.key).replace(M,"$\x26/")+"/")+da)),Da.push(R))}function Ba(R,aa,da,Da,Ja){var J="";null!=da&&(J=(""+da).replace(M,"$\x26/")+"/");aa=ib(aa,J,Da,Ja);Sa(R,na,aa);La(aa)}function Ga(){var R=C.current;if(null===R)throw Error(h(321));return R}var la=zb(58),ra="function"===typeof Symbol&&
Symbol.for,Qa=ra?Symbol.for("react.element"):60103,za=ra?Symbol.for("react.portal"):60106;Nb=ra?Symbol.for("react.fragment"):60107;zb=ra?Symbol.for("react.strict_mode"):60108;mc=ra?Symbol.for("react.profiler"):60114;var Ta=ra?Symbol.for("react.provider"):60109,L=ra?Symbol.for("react.context"):60110,ha=ra?Symbol.for("react.forward_ref"):60112,ya=ra?Symbol.for("react.suspense"):60113,ua=ra?Symbol.for("react.memo"):60115,Ma=ra?Symbol.for("react.lazy"):60116,Pa="function"===typeof Symbol&&Symbol.iterator,
Aa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ab={};r.prototype.isReactComponent={};r.prototype.setState=function(R,aa){if("object"!==typeof R&&"function"!==typeof R&&null!=R)throw Error(h(85));this.updater.enqueueSetState(this,R,aa,"setState")};r.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};A.prototype=r.prototype;ra=Ra.prototype=new A;ra.constructor=Ra;la(ra,r.prototype);
ra.isPureReactComponent=!0;var Va={current:null},I=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0},M=/\/+/g,K=[],C={current:null};ra={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Va,IsSomeRendererActing:{current:!1},assign:la};ub.Children={map:function(R,aa,da){if(null==R)return R;var Da=[];Ba(R,Da,null,aa,da);return Da},forEach:function(R,aa,da){if(null==R)return R;aa=ib(null,null,aa,da);Sa(R,ma,aa);La(aa)},count:function(R){return Sa(R,
function(){return null},null)},toArray:function(R){var aa=[];Ba(R,aa,null,function(da){return da});return aa},only:function(R){if(!xb(R))throw Error(h(143));return R}};ub.Component=r;ub.Fragment=Nb;ub.Profiler=mc;ub.PureComponent=Ra;ub.StrictMode=zb;ub.Suspense=ya;ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ra;ub.cloneElement=function(R,aa,da){if(null===R||void 0===R)throw Error(h(267,R));var Da=la({},R.props),Ja=R.key,J=R.ref,fa=R._owner;if(null!=aa){void 0!==aa.ref&&(J=aa.ref,fa=Va.current);
void 0!==aa.key&&(Ja=""+aa.key);if(R.type&&R.type.defaultProps)var ca=R.type.defaultProps;for(W in aa)I.call(aa,W)&&!x.hasOwnProperty(W)&&(Da[W]=void 0===aa[W]&&void 0!==ca?ca[W]:aa[W])}var W=arguments.length-2;if(1===W)Da.children=da;else if(1<W){ca=Array(W);for(var d=0;d<W;d++)ca[d]=arguments[d+2];Da.children=ca}return{$$typeof:Qa,type:R.type,key:Ja,ref:J,props:Da,_owner:fa}};ub.createContext=function(R,aa){void 0===aa&&(aa=null);R={$$typeof:L,_calculateChangedBits:aa,_currentValue:R,_currentValue2:R,
_threadCount:0,Provider:null,Consumer:null};R.Provider={$$typeof:Ta,_context:R};return R.Consumer=R};ub.createElement=sb;ub.createFactory=function(R){var aa=sb.bind(null,R);aa.type=R;return aa};ub.createRef=function(){return{current:null}};ub.forwardRef=function(R){return{$$typeof:ha,render:R}};ub.isValidElement=xb;ub.lazy=function(R){return{$$typeof:Ma,_ctor:R,_status:-1,_result:null}};ub.memo=function(R,aa){return{$$typeof:ua,type:R,compare:void 0===aa?null:aa}};ub.useCallback=function(R,aa){return Ga().useCallback(R,
aa)};ub.useContext=function(R,aa){return Ga().useContext(R,aa)};ub.useDebugValue=function(){};ub.useEffect=function(R,aa){return Ga().useEffect(R,aa)};ub.useImperativeHandle=function(R,aa,da){return Ga().useImperativeHandle(R,aa,da)};ub.useLayoutEffect=function(R,aa){return Ga().useLayoutEffect(R,aa)};ub.useMemo=function(R,aa){return Ga().useMemo(R,aa)};ub.useReducer=function(R,aa,da){return Ga().useReducer(R,aa,da)};ub.useRef=function(R){return Ga().useRef(R)};ub.useState=function(R){return Ga().useState(R)};
ub.version="16.13.1"};
shadow$provide[63]=function(Nb,zb,mc,ub){mc.exports=zb(59)};
shadow$provide[64]=function(Nb,zb,mc,ub){function h(C,R){var aa=C.length;C.push(R);a:for(;;){var da=aa-1>>>1,Da=C[da];if(void 0!==Da&&0<Ra(Da,R))C[da]=R,C[aa]=Da,aa=da;else break a}}function r(C){C=C[0];return void 0===C?null:C}function A(C){var R=C[0];if(void 0!==R){var aa=C.pop();if(aa!==R){C[0]=aa;var da=0,Da=C.length;a:for(;da<Da;){var Ja=2*(da+1)-1,J=C[Ja],fa=Ja+1,ca=C[fa];if(void 0!==J&&0>Ra(J,aa))void 0!==ca&&0>Ra(ca,J)?(C[da]=ca,C[fa]=aa,da=fa):(C[da]=J,C[Ja]=aa,da=Ja);else if(void 0!==ca&&
0>Ra(ca,aa))C[da]=ca,C[fa]=aa,da=fa;else break a}}return R}return null}function Ra(C,R){var aa=C.sortIndex-R.sortIndex;return 0!==aa?aa:C.id-R.id}function sb(C){for(var R=r(Aa);null!==R;){if(null===R.callback)A(Aa);else if(R.startTime<=C)A(Aa),R.sortIndex=R.expirationTime,h(Pa,R);else break;R=r(Aa)}}function bb(C){K=!1;sb(C);if(!M)if(null!==r(Pa))M=!0,xa(xb);else{var R=r(Aa);null!==R&&ma(bb,R.startTime-C)}}function xb(C,R){M=!1;K&&(K=!1,na());x=!0;var aa=I;try{sb(R);for(Va=r(Pa);null!==Va&&(!(Va.expirationTime>
R)||C&&!Ba());){var da=Va.callback;if(null!==da){Va.callback=null;I=Va.priorityLevel;var Da=da(Va.expirationTime<=R);R=ub.unstable_now();"function"===typeof Da?Va.callback=Da:Va===r(Pa)&&A(Pa);sb(R)}else A(Pa);Va=r(Pa)}if(null!==Va)var Ja=!0;else{var J=r(Aa);null!==J&&ma(bb,J.startTime-R);Ja=!1}return Ja}finally{Va=null,I=aa,x=!1}}function Gb(C){switch(C){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var ib=
null,La=null,Ia=function(){if(null!==ib)try{var C=ub.unstable_now();ib(!0,C);ib=null}catch(R){throw setTimeout(Ia,0),R;}},Sa=Date.now();ub.unstable_now=function(){return Date.now()-Sa};var xa=function(C){null!==ib?setTimeout(xa,0,C):(ib=C,setTimeout(Ia,0))};var ma=function(C,R){La=setTimeout(C,R)};var na=function(){clearTimeout(La)};var Ba=function(){return!1};Nb=ub.unstable_forceFrameRate=function(){}}else{var Ga=window.performance,la=window.Date,ra=window.setTimeout,Qa=window.clearTimeout;"undefined"!==
typeof console&&(Nb=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof Nb&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof Ga&&"function"===typeof Ga.now)ub.unstable_now=function(){return Ga.now()};
else{var za=la.now();ub.unstable_now=function(){return la.now()-za}}var Ta=!1,L=null,ha=-1,ya=5,ua=0;Ba=function(){return ub.unstable_now()>=ua};Nb=function(){};ub.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ya=0<C?Math.floor(1E3/C):5};zb=new MessageChannel;var Ma=zb.port2;zb.port1.onmessage=function(){if(null!==L){var C=ub.unstable_now();ua=C+ya;try{L(!0,C)?Ma.postMessage(null):
(Ta=!1,L=null)}catch(R){throw Ma.postMessage(null),R;}}else Ta=!1};xa=function(C){L=C;Ta||(Ta=!0,Ma.postMessage(null))};ma=function(C,R){ha=ra(function(){C(ub.unstable_now())},R)};na=function(){Qa(ha);ha=-1}}var Pa=[],Aa=[],ab=1,Va=null,I=3,x=!1,M=!1,K=!1;ub.unstable_IdlePriority=5;ub.unstable_ImmediatePriority=1;ub.unstable_LowPriority=4;ub.unstable_NormalPriority=3;ub.unstable_Profiling=null;ub.unstable_UserBlockingPriority=2;ub.unstable_cancelCallback=function(C){C.callback=null};ub.unstable_continueExecution=
function(){M||x||(M=!0,xa(xb))};ub.unstable_getCurrentPriorityLevel=function(){return I};ub.unstable_getFirstCallbackNode=function(){return r(Pa)};ub.unstable_next=function(C){switch(I){case 1:case 2:case 3:var R=3;break;default:R=I}var aa=I;I=R;try{return C()}finally{I=aa}};ub.unstable_pauseExecution=function(){};ub.unstable_requestPaint=Nb;ub.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var aa=I;I=C;try{return R()}finally{I=aa}};ub.unstable_scheduleCallback=
function(C,R,aa){var da=ub.unstable_now();if("object"===typeof aa&&null!==aa){var Da=aa.delay;Da="number"===typeof Da&&0<Da?da+Da:da;aa="number"===typeof aa.timeout?aa.timeout:Gb(C)}else aa=Gb(C),Da=da;aa=Da+aa;C={id:ab++,callback:R,priorityLevel:C,startTime:Da,expirationTime:aa,sortIndex:-1};Da>da?(C.sortIndex=Da,h(Aa,C),null===r(Pa)&&C===r(Aa)&&(K?na():K=!0,ma(bb,Da-da))):(C.sortIndex=aa,h(Pa,C),M||x||(M=!0,xa(xb)));return C};ub.unstable_shouldYield=function(){var C=ub.unstable_now();sb(C);var R=
r(Pa);return R!==Va&&null!==Va&&null!==R&&null!==R.callback&&R.startTime<=C&&R.expirationTime<Va.expirationTime||Ba()};ub.unstable_wrapCallback=function(C){var R=I;return function(){var aa=I;I=R;try{return C.apply(this,arguments)}finally{I=aa}}}};
shadow$provide[66]=function(Nb,zb,mc,ub){mc.exports=zb(64)};
shadow$provide[67]=function(Nb,zb,mc,ub){function h(e){for(var k="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+e,u=1;u<arguments.length;u++)k+="\x26args[]\x3d"+encodeURIComponent(arguments[u]);return"Minified React error #"+e+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e,k,u,P,ka,mb,tb,Pb,Oc){var Qc=Array.prototype.slice.call(arguments,3);try{k.apply(u,Qc)}catch(Nd){this.onError(Nd)}}function A(e,
k,u,P,ka,mb,tb,Pb,Oc){Ph=!1;mi=null;r.apply(wk,arguments)}function Ra(e,k,u,P,ka,mb,tb,Pb,Oc){A.apply(this,arguments);if(Ph){if(Ph){var Qc=mi;Ph=!1;mi=null}else throw Error(h(198));Ng||(Ng=!0,ni=Qc)}}function sb(e,k,u){var P=e.type||"unknown-event";e.currentTarget=oi(u);Ra(P,k,void 0,e);e.currentTarget=null}function bb(){if(rg)for(var e in Zg){var k=Zg[e],u=rg.indexOf(e);if(!(-1<u))throw Error(h(96,e));if(!$g[u]){if(!k.extractEvents)throw Error(h(97,e));$g[u]=k;u=k.eventTypes;for(var P in u){var ka=
void 0,mb=u[P],tb=k,Pb=P;if(oh.hasOwnProperty(Pb))throw Error(h(99,Pb));oh[Pb]=mb;var Oc=mb.phasedRegistrationNames;if(Oc){for(ka in Oc)Oc.hasOwnProperty(ka)&&xb(Oc[ka],tb,Pb);ka=!0}else mb.registrationName?(xb(mb.registrationName,tb,Pb),ka=!0):ka=!1;if(!ka)throw Error(h(98,P,e));}}}}function xb(e,k,u){if(Gg[e])throw Error(h(100,e));Gg[e]=k;Qh[e]=k.eventTypes[u].dependencies}function Gb(e){var k=!1,u;for(u in e)if(e.hasOwnProperty(u)){var P=e[u];if(!Zg.hasOwnProperty(u)||Zg[u]!==P){if(Zg[u])throw Error(h(102,
u));Zg[u]=P;k=!0}}k&&bb()}function ib(e){if(e=xk(e)){if("function"!==typeof pi)throw Error(h(280));var k=e.stateNode;k&&(k=kg(k),pi(e.stateNode,e.type,k))}}function La(e){ph?ah?ah.push(e):ah=[e]:ph=e}function Ia(){if(ph){var e=ph,k=ah;ah=ph=null;ib(e);if(k)for(e=0;e<k.length;e++)ib(k[e])}}function Sa(e,k){return e(k)}function xa(e,k,u,P,ka){return e(k,u,P,ka)}function ma(){}function na(){if(null!==ph||null!==ah)ma(),Ia()}function Ba(e,k,u){if(Wi)return e(k,u);Wi=!0;try{return Dj(e,k,u)}finally{Wi=
!1,na()}}function Ga(e){if(Ej.call(Xi,e))return!0;if(Ej.call(Fj,e))return!1;if(dg.test(e))return Xi[e]=!0;Fj[e]=!0;return!1}function la(e,k,u,P){if(null!==u&&0===u.type)return!1;switch(typeof k){case "function":case "symbol":return!0;case "boolean":if(P)return!1;if(null!==u)return!u.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function ra(e,k,u,P){if(null===k||"undefined"===typeof k||la(e,k,u,P))return!0;if(P)return!1;if(null!==u)switch(u.type){case 3:return!k;
case 4:return!1===k;case 5:return isNaN(k);case 6:return isNaN(k)||1>k}return!1}function Qa(e,k,u,P,ka,mb){this.acceptsBooleans=2===k||3===k||4===k;this.attributeName=P;this.attributeNamespace=ka;this.mustUseProperty=u;this.propertyName=e;this.type=k;this.sanitizeURL=mb}function za(e){return e[1].toUpperCase()}function Ta(e,k,u,P){var ka=Cf.hasOwnProperty(k)?Cf[k]:null;(null!==ka?0===ka.type:P?0:2<k.length&&("o"===k[0]||"O"===k[0])&&("n"===k[1]||"N"===k[1]))||(ra(k,u,ka,P)&&(u=null),P||null===ka?
Ga(k)&&(null===u?e.removeAttribute(k):e.setAttribute(k,""+u)):ka.mustUseProperty?e[ka.propertyName]=null===u?3===ka.type?!1:"":u:(k=ka.attributeName,P=ka.attributeNamespace,null===u?e.removeAttribute(k):(ka=ka.type,u=3===ka||4===ka&&!0===u?"":""+u,P?e.setAttributeNS(P,k,u):e.setAttribute(k,u))))}function L(e){if(null===e||"object"!==typeof e)return null;e=Ij&&e[Ij]||e["@@iterator"];return"function"===typeof e?e:null}function ha(e){if(-1===e._status){e._status=0;var k=e._ctor;k=k();e._result=k;k.then(function(u){0===
e._status&&(u=u.default,e._status=1,e._result=u)},function(u){0===e._status&&(e._status=2,e._result=u)})}}function ya(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case bh:return"Fragment";case bf:return"Portal";case ri:return"Profiler";case yk:return"StrictMode";case Zi:return"Suspense";case ti:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Gj:return"Context.Consumer";case si:return"Context.Provider";
case qi:var k=e.render;k=k.displayName||k.name||"";return e.displayName||(""!==k?"ForwardRef("+k+")":"ForwardRef");case $i:return ya(e.type);case yj:return ya(e.render);case Hj:if(e=1===e._status?e._result:null)return ya(e)}return null}function ua(e){var k="";do{a:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var u="";break a;default:var P=e._debugOwner,ka=e._debugSource,mb=ya(e.type);u=null;P&&(u=ya(P.type));P=mb;mb="";ka?mb=" (at "+ka.fileName.replace(Xe,"")+":"+ka.lineNumber+")":u&&
(mb=" (created by "+u+")");u="\n    in "+(P||"Unknown")+mb}k+=u;e=e.return}while(e);return k}function Ma(e){switch(typeof e){case "boolean":case "number":case "object":case "string":case "undefined":return e;default:return""}}function Pa(e){var k=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===k||"radio"===k)}function Aa(e){var k=Pa(e)?"checked":"value",u=Object.getOwnPropertyDescriptor(e.constructor.prototype,k),P=""+e[k];if(!e.hasOwnProperty(k)&&"undefined"!==typeof u&&"function"===
typeof u.get&&"function"===typeof u.set){var ka=u.get,mb=u.set;Object.defineProperty(e,k,{configurable:!0,get:function(){return ka.call(this)},set:function(tb){P=""+tb;mb.call(this,tb)}});Object.defineProperty(e,k,{enumerable:u.enumerable});return{getValue:function(){return P},setValue:function(tb){P=""+tb},stopTracking:function(){e._valueTracker=null;delete e[k]}}}}function ab(e){e._valueTracker||(e._valueTracker=Aa(e))}function Va(e){if(!e)return!1;var k=e._valueTracker;if(!k)return!0;var u=k.getValue(),
P="";e&&(P=Pa(e)?e.checked?"true":"false":e.value);e=P;return e!==u?(k.setValue(e),!0):!1}function I(e,k){var u=k.checked;return bg({},k,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=u?u:e._wrapperState.initialChecked})}function x(e,k){var u=null==k.defaultValue?"":k.defaultValue,P=null!=k.checked?k.checked:k.defaultChecked;u=Ma(null!=k.value?k.value:u);e._wrapperState={initialChecked:P,initialValue:u,controlled:"checkbox"===k.type||"radio"===k.type?null!=k.checked:null!=k.value}}
function M(e,k){k=k.checked;null!=k&&Ta(e,"checked",k,!1)}function K(e,k){M(e,k);var u=Ma(k.value),P=k.type;if(null!=u)if("number"===P){if(0===u&&""===e.value||e.value!=u)e.value=""+u}else e.value!==""+u&&(e.value=""+u);else if("submit"===P||"reset"===P){e.removeAttribute("value");return}k.hasOwnProperty("value")?R(e,k.type,u):k.hasOwnProperty("defaultValue")&&R(e,k.type,Ma(k.defaultValue));null==k.checked&&null!=k.defaultChecked&&(e.defaultChecked=!!k.defaultChecked)}function C(e,k,u){if(k.hasOwnProperty("value")||
k.hasOwnProperty("defaultValue")){var P=k.type;if(!("submit"!==P&&"reset"!==P||void 0!==k.value&&null!==k.value))return;k=""+e._wrapperState.initialValue;u||k===e.value||(e.value=k);e.defaultValue=k}u=e.name;""!==u&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==u&&(e.name=u)}function R(e,k,u){if("number"!==k||e.ownerDocument.activeElement!==e)null==u?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+u&&(e.defaultValue=""+u)}function aa(e){var k="";Oh.Children.forEach(e,
function(u){null!=u&&(k+=u)});return k}function da(e,k){e=bg({children:void 0},k);if(k=aa(k.children))e.children=k;return e}function Da(e,k,u,P){e=e.options;if(k){k={};for(var ka=0;ka<u.length;ka++)k["$"+u[ka]]=!0;for(u=0;u<e.length;u++)ka=k.hasOwnProperty("$"+e[u].value),e[u].selected!==ka&&(e[u].selected=ka),ka&&P&&(e[u].defaultSelected=!0)}else{u=""+Ma(u);k=null;for(ka=0;ka<e.length;ka++){if(e[ka].value===u){e[ka].selected=!0;P&&(e[ka].defaultSelected=!0);return}null!==k||e[ka].disabled||(k=e[ka])}null!==
k&&(k.selected=!0)}}function Ja(e,k){if(null!=k.dangerouslySetInnerHTML)throw Error(h(91));return bg({},k,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J(e,k){var u=k.value;if(null==u){u=k.children;k=k.defaultValue;if(null!=u){if(null!=k)throw Error(h(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(h(93));u=u[0]}k=u}null==k&&(k="");u=k}e._wrapperState={initialValue:Ma(u)}}function fa(e,k){var u=Ma(k.value),P=Ma(k.defaultValue);null!=u&&(u=""+u,u!==e.value&&
(e.value=u),null==k.defaultValue&&e.defaultValue!==u&&(e.defaultValue=u));null!=P&&(e.defaultValue=""+P)}function ca(e){var k=e.textContent;k===e._wrapperState.initialValue&&""!==k&&null!==k&&(e.value=k)}function W(e){switch(e){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d(e,k){return null==e||"http://www.w3.org/1999/xhtml"===e?W(k):"http://www.w3.org/2000/svg"===e&&"foreignObject"===k?
"http://www.w3.org/1999/xhtml":e}function c(e,k){if(k){var u=e.firstChild;if(u&&u===e.lastChild&&3===u.nodeType){u.nodeValue=k;return}}e.textContent=k}function f(e,k){var u={};u[e.toLowerCase()]=k.toLowerCase();u["Webkit"+e]="webkit"+k;u["Moz"+e]="moz"+k;return u}function l(e){if(sh[e])return sh[e];if(!ch[e])return e;var k=ch[e],u;for(u in k)if(k.hasOwnProperty(u)&&u in Jj)return sh[e]=k[u];return e}function m(e){var k=Dk.get(e);void 0===k&&(k=new Map,Dk.set(e,k));return k}function q(e){var k=e,u=
e;if(e.alternate)for(;k.return;)k=k.return;else{e=k;do k=e,0!==(k.effectTag&1026)&&(u=k.return),e=k.return;while(e)}return 3===k.tag?u:null}function w(e){if(13===e.tag){var k=e.memoizedState;null===k&&(e=e.alternate,null!==e&&(k=e.memoizedState));if(null!==k)return k.dehydrated}return null}function G(e){if(q(e)!==e)throw Error(h(188));}function U(e){var k=e.alternate;if(!k){k=q(e);if(null===k)throw Error(h(188));return k!==e?null:e}for(var u=e,P=k;;){var ka=u.return;if(null===ka)break;var mb=ka.alternate;
if(null===mb){P=ka.return;if(null!==P){u=P;continue}break}if(ka.child===mb.child){for(mb=ka.child;mb;){if(mb===u)return G(ka),e;if(mb===P)return G(ka),k;mb=mb.sibling}throw Error(h(188));}if(u.return!==P.return)u=ka,P=mb;else{for(var tb=!1,Pb=ka.child;Pb;){if(Pb===u){tb=!0;u=ka;P=mb;break}if(Pb===P){tb=!0;P=ka;u=mb;break}Pb=Pb.sibling}if(!tb){for(Pb=mb.child;Pb;){if(Pb===u){tb=!0;u=mb;P=ka;break}if(Pb===P){tb=!0;P=mb;u=ka;break}Pb=Pb.sibling}if(!tb)throw Error(h(189));}}if(u.alternate!==P)throw Error(h(190));
}if(3!==u.tag)throw Error(h(188));return u.stateNode.current===u?e:k}function wa(e){e=U(e);if(!e)return null;for(var k=e;;){if(5===k.tag||6===k.tag)return k;if(k.child)k.child.return=k,k=k.child;else{if(k===e)break;for(;!k.sibling;){if(!k.return||k.return===e)return null;k=k.return}k.sibling.return=k.return;k=k.sibling}}return null}function cb(e,k){if(null==k)throw Error(h(30));if(null==e)return k;if(Array.isArray(e)){if(Array.isArray(k))return e.push.apply(e,k),e;e.push(k);return e}return Array.isArray(k)?
[e].concat(k):[e,k]}function hb(e,k,u){Array.isArray(e)?e.forEach(k,u):e&&k.call(u,e)}function Y(e){if(e){var k=e._dispatchListeners,u=e._dispatchInstances;if(Array.isArray(k))for(var P=0;P<k.length&&!e.isPropagationStopped();P++)sb(e,k[P],u[P]);else k&&sb(e,k,u);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}function ta(e){null!==e&&(uh=cb(uh,e));e=uh;uh=null;if(e){hb(e,Y);if(uh)throw Error(h(95));if(Ng)throw e=ni,Ng=!1,ni=null,e;}}function H(e){e=
e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function Q(e){if(!Rg)return!1;e="on"+e;var k=e in document;k||(k=document.createElement("div"),k.setAttribute(e,"return;"),k="function"===typeof k[e]);return k}function ja(e){e.topLevelType=null;e.nativeEvent=null;e.targetInst=null;e.ancestors.length=0;10>ui.length&&ui.push(e)}function Ca(e,k,u,P){if(ui.length){var ka=ui.pop();ka.topLevelType=e;ka.eventSystemFlags=P;ka.nativeEvent=
k;ka.targetInst=u;return ka}return{topLevelType:e,eventSystemFlags:P,nativeEvent:k,targetInst:u,ancestors:[]}}function qb(e){var k=e.targetInst,u=k;do{if(!u){e.ancestors.push(u);break}var P=u;if(3===P.tag)P=P.stateNode.containerInfo;else{for(;P.return;)P=P.return;P=3!==P.tag?null:P.stateNode.containerInfo}if(!P)break;k=u.tag;5!==k&&6!==k||e.ancestors.push(u);u=Fc(P)}while(u);for(u=0;u<e.ancestors.length;u++){k=e.ancestors[u];var ka=H(e.nativeEvent);P=e.topLevelType;var mb=e.nativeEvent,tb=e.eventSystemFlags;
0===u&&(tb|=64);for(var Pb=null,Oc=0;Oc<$g.length;Oc++){var Qc=$g[Oc];Qc&&(Qc=Qc.extractEvents(P,k,mb,ka,tb))&&(Pb=cb(Pb,Qc))}ta(Pb)}}function Ya(e,k,u){if(!u.has(e)){switch(e){case "scroll":gd(k,"scroll",!0);break;case "focus":case "blur":gd(k,"focus",!0);gd(k,"blur",!0);u.set("blur",null);u.set("focus",null);break;case "cancel":case "close":Q(e)&&gd(k,e,!0);break;case "invalid":case "submit":case "reset":break;default:-1===th.indexOf(e)&&Gc(e,k)}u.set(e,null)}}function ob(e,k){var u=m(k);vi.forEach(function(P){Ya(P,
k,u)});Ek.forEach(function(P){Ya(P,k,u)})}function Na(e,k,u,P,ka){return{blockedOn:e,topLevelType:k,eventSystemFlags:u|32,nativeEvent:ka,container:P}}function Ab(e,k){switch(e){case "focus":case "blur":lg=null;break;case "dragenter":case "dragleave":Bg=null;break;case "mouseover":case "mouseout":mg=null;break;case "pointerover":case "pointerout":dh.delete(k.pointerId);break;case "gotpointercapture":case "lostpointercapture":Rh.delete(k.pointerId)}}function Eb(e,k,u,P,ka,mb){if(null===e||e.nativeEvent!==
mb)return e=Na(k,u,P,ka,mb),null!==k&&(k=va(k),null!==k&&cl(k)),e;e.eventSystemFlags|=P;return e}function eb(e,k,u,P,ka){switch(k){case "focus":return lg=Eb(lg,e,k,u,P,ka),!0;case "dragenter":return Bg=Eb(Bg,e,k,u,P,ka),!0;case "mouseover":return mg=Eb(mg,e,k,u,P,ka),!0;case "pointerover":var mb=ka.pointerId;dh.set(mb,Eb(dh.get(mb)||null,e,k,u,P,ka));return!0;case "gotpointercapture":return mb=ka.pointerId,Rh.set(mb,Eb(Rh.get(mb)||null,e,k,u,P,ka)),!0}return!1}function Mb(e){var k=Fc(e.target);if(null!==
k){var u=q(k);if(null!==u)if(k=u.tag,13===k){if(k=w(u),null!==k){e.blockedOn=k;Of.unstable_runWithPriority(e.priority,function(){rk(u)});return}}else if(3===k&&u.stateNode.hydrate){e.blockedOn=3===u.tag?u.stateNode.containerInfo:null;return}}e.blockedOn=null}function jc(e){if(null!==e.blockedOn)return!1;var k=Rd(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==k){var u=va(k);null!==u&&cl(u);e.blockedOn=k;return!1}return!0}function Zb(e,k,u){jc(e)&&u.delete(k)}function Hc(){for(aj=
!1;0<Ag.length;){var e=Ag[0];if(null!==e.blockedOn){e=va(e.blockedOn);null!==e&&bl(e);break}var k=Rd(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==k?e.blockedOn=k:Ag.shift()}null!==lg&&jc(lg)&&(lg=null);null!==Bg&&jc(Bg)&&(Bg=null);null!==mg&&jc(mg)&&(mg=null);dh.forEach(Zb);Rh.forEach(Zb)}function zc(e,k){e.blockedOn===k&&(e.blockedOn=null,aj||(aj=!0,Of.unstable_scheduleCallback(Of.unstable_NormalPriority,Hc)))}function ed(e){function k(ka){return zc(ka,e)}if(0<Ag.length){zc(Ag[0],
e);for(var u=1;u<Ag.length;u++){var P=Ag[u];P.blockedOn===e&&(P.blockedOn=null)}}null!==lg&&zc(lg,e);null!==Bg&&zc(Bg,e);null!==mg&&zc(mg,e);dh.forEach(k);Rh.forEach(k);for(u=0;u<Sh.length;u++)P=Sh[u],P.blockedOn===e&&(P.blockedOn=null);for(;0<Sh.length&&(u=Sh[0],null===u.blockedOn);)Mb(u),null===u.blockedOn&&Sh.shift()}function Ad(e,k){for(var u=0;u<e.length;u+=2){var P=e[u],ka=e[u+1],mb="on"+(ka[0].toUpperCase()+ka.slice(1));mb={phasedRegistrationNames:{bubbled:mb,captured:mb+"Capture"},dependencies:[P],
eventPriority:k};cj.set(P,k);wi.set(P,mb);bj[ka]=mb}}function Gc(e,k){gd(k,e,!1)}function gd(e,k,u){var P=cj.get(k);switch(void 0===P?2:P){case 0:P=ie.bind(null,k,1,e);break;case 1:P=Mc.bind(null,k,1,e);break;default:P=xd.bind(null,k,1,e)}u?e.addEventListener(k,P,!0):e.addEventListener(k,P,!1)}function ie(e,k,u,P){qh||ma();var ka=xd,mb=qh;qh=!0;try{xa(ka,e,k,u,P)}finally{(qh=mb)||na()}}function Mc(e,k,u,P){Gk(Nj,xd.bind(null,e,k,u,P))}function xd(e,k,u,P){if(Uh)if(0<Ag.length&&-1<vi.indexOf(e))e=
Na(null,e,k,u,P),Ag.push(e);else{var ka=Rd(e,k,u,P);if(null===ka)Ab(e,P);else if(-1<vi.indexOf(e))e=Na(ka,e,k,u,P),Ag.push(e);else if(!eb(ka,e,k,u,P)){Ab(e,P);e=Ca(e,P,null,k);try{Ba(qb,e)}finally{ja(e)}}}}function Rd(e,k,u,P){u=H(P);u=Fc(u);if(null!==u){var ka=q(u);if(null===ka)u=null;else{var mb=ka.tag;if(13===mb){u=w(ka);if(null!==u)return u;u=null}else if(3===mb){if(ka.stateNode.hydrate)return 3===ka.tag?ka.stateNode.containerInfo:null;u=null}else ka!==u&&(u=null)}}e=Ca(e,P,u,k);try{Ba(qb,e)}finally{ja(e)}return null}
function Db(e,k,u){return null==k||"boolean"===typeof k||""===k?"":u||"number"!==typeof k||0===k||Th.hasOwnProperty(e)&&Th[e]?(""+k).trim():k+"px"}function ac(e,k){e=e.style;for(var u in k)if(k.hasOwnProperty(u)){var P=0===u.indexOf("--"),ka=Db(u,k[u],P);"float"===u&&(u="cssFloat");P?e.setProperty(u,ka):e[u]=ka}}function kb(e,k){if(k){if(Ik[e]&&(null!=k.children||null!=k.dangerouslySetInnerHTML))throw Error(h(137,e,""));if(null!=k.dangerouslySetInnerHTML){if(null!=k.children)throw Error(h(60));if(!("object"===
typeof k.dangerouslySetInnerHTML&&"__html"in k.dangerouslySetInnerHTML))throw Error(h(61));}if(null!=k.style&&"object"!==typeof k.style)throw Error(h(62,""));}}function oc(e,k){if(-1===e.indexOf("-"))return"string"===typeof k.is;switch(e){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function sc(e,k){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;
var u=m(e);k=Qh[k];for(var P=0;P<k.length;P++)Ya(k[P],e,u)}function dd(){}function vd(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(k){return e.body}}function N(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oa(e,k){var u=N(e);e=0;for(var P;u;){if(3===u.nodeType){P=e+u.textContent.length;if(e<=k&&P>=k)return{node:u,offset:k-e};e=P}a:{for(;u;){if(u.nextSibling){u=u.nextSibling;break a}u=u.parentNode}u=
void 0}u=N(u)}}function $a(e,k){return e&&k?e===k?!0:e&&3===e.nodeType?!1:k&&3===k.nodeType?$a(e,k.parentNode):"contains"in e?e.contains(k):e.compareDocumentPosition?!!(e.compareDocumentPosition(k)&16):!1:!1}function wb(){for(var e=window,k=vd();k instanceof e.HTMLIFrameElement;){try{var u="string"===typeof k.contentWindow.location.href}catch(P){u=!1}if(u)e=k.contentWindow;else break;k=vd(e.document)}return k}function Fb(e){var k=e&&e.nodeName&&e.nodeName.toLowerCase();return k&&("input"===k&&("text"===
e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===k||"true"===e.contentEditable)}function Kb(e,k){switch(e){case "button":case "input":case "select":case "textarea":return!!k.autoFocus}return!1}function ec(e,k){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof k.children||"number"===typeof k.children||"object"===typeof k.dangerouslySetInnerHTML&&null!==k.dangerouslySetInnerHTML&&null!=k.dangerouslySetInnerHTML.__html}function Wb(e){for(;null!=
e;e=e.nextSibling){var k=e.nodeType;if(1===k||3===k)break}return e}function vc(e){e=e.previousSibling;for(var k=0;e;){if(8===e.nodeType){var u=e.data;if(u===Oj||u===Qj||u===ej){if(0===k)return e;k--}else u===Pj&&k++}e=e.previousSibling}return null}function Fc(e){var k=e[Sg];if(k)return k;for(var u=e.parentNode;u;){if(k=u[zi]||u[Sg]){u=k.alternate;if(null!==k.child||null!==u&&null!==u.child)for(e=vc(e);null!==e;){if(u=e[Sg])return u;e=vc(e)}return k}e=u;u=e.parentNode}return null}function va(e){e=
e[Sg]||e[zi];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Za(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33));}function pb(e){return e[yi]||null}function Ub(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function wc(e,k){var u=e.stateNode;if(!u)return null;var P=kg(u);if(!P)return null;u=P[k];a:switch(k){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(P=
!P.disabled)||(e=e.type,P=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!P;break a;default:e=!1}if(e)return null;if(u&&"function"!==typeof u)throw Error(h(231,k,typeof u));return u}function Cc(e,k,u){if(k=wc(e,u.dispatchConfig.phasedRegistrationNames[k]))u._dispatchListeners=cb(u._dispatchListeners,k),u._dispatchInstances=cb(u._dispatchInstances,e)}function Jc(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var k=e._targetInst,u=[];k;)u.push(k),k=Ub(k);for(k=u.length;0<k--;)Cc(u[k],
"captured",e);for(k=0;k<u.length;k++)Cc(u[k],"bubbled",e)}}function Cb(e,k,u){e&&u&&u.dispatchConfig.registrationName&&(k=wc(e,u.dispatchConfig.registrationName))&&(u._dispatchListeners=cb(u._dispatchListeners,k),u._dispatchInstances=cb(u._dispatchInstances,e))}function Vb(e){e&&e.dispatchConfig.registrationName&&Cb(e._targetInst,null,e)}function nc(e){hb(e,Jc)}function lc(){if(Vh)return Vh;var e,k=Sj,u=k.length,P,ka="value"in eh?eh.value:eh.textContent,mb=ka.length;for(e=0;e<u&&k[e]===ka[e];e++);
var tb=u-e;for(P=1;P<=tb&&k[u-P]===ka[mb-P];P++);return Vh=ka.slice(e,1<P?1-P:void 0)}function rc(){return!0}function Vc(){return!1}function zd(e,k,u,P){this.dispatchConfig=e;this._targetInst=k;this.nativeEvent=u;e=this.constructor.Interface;for(var ka in e)e.hasOwnProperty(ka)&&((k=e[ka])?this[ka]=k(u):"target"===ka?this.target=P:this[ka]=u[ka]);this.isDefaultPrevented=(null!=u.defaultPrevented?u.defaultPrevented:!1===u.returnValue)?rc:Vc;this.isPropagationStopped=Vc;return this}function pd(e,k,
u,P){if(this.eventPool.length){var ka=this.eventPool.pop();this.call(ka,e,k,u,P);return ka}return new this(e,k,u,P)}function ld(e){if(!(e instanceof this))throw Error(h(279));e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function qd(e){e.eventPool=[];e.getPooled=pd;e.release=ld}function Od(e,k){switch(e){case "keyup":return-1!==nl.indexOf(k.keyCode);case "keydown":return 229!==k.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function fe(e){e=e.detail;
return"object"===typeof e&&"data"in e?e.data:null}function le(e,k){switch(e){case "compositionend":return fe(k);case "keypress":if(32!==k.which)return null;Wj=!0;return Vj;case "textInput":return e=k.data,e===Vj&&Wj?null:e;default:return null}}function Kd(e,k){if(Zh)return"compositionend"===e||!Bi&&Od(e,k)?(e=lc(),Vh=Sj=eh=null,Zh=!1,e):null;switch(e){case "paste":return null;case "keypress":if(!(k.ctrlKey||k.altKey||k.metaKey)||k.ctrlKey&&k.altKey){if(k.char&&1<k.char.length)return k.char;if(k.which)return String.fromCharCode(k.which)}return null;
case "compositionend":return tg&&"ko"!==k.locale?null:k.data;default:return null}}function Ie(e){var k=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===k?!!gh[e.type]:"textarea"===k?!0:!1}function he(e,k,u){e=zd.getPooled(jj.change,e,k,u);e.type="change";La(u);nc(e);return e}function Be(e){ta(e)}function Dd(e){var k=Za(e);if(Va(k))return e}function be(e,k){if("change"===e)return k}function V(){Di&&(Di.detachEvent("onpropertychange",qa),Yh=Di=null)}function qa(e){if("value"===e.propertyName&&
Dd(Yh))if(e=he(Yh,e,H(e)),qh)ta(e);else{qh=!0;try{Sa(Be,e)}finally{qh=!1,na()}}}function Fa(e,k,u){"focus"===e?(V(),Di=k,Yh=u,Di.attachEvent("onpropertychange",qa)):"blur"===e&&V()}function rb(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dd(Yh)}function gb(e,k){if("click"===e)return Dd(k)}function Lb(e,k){if("input"===e||"change"===e)return Dd(k)}function Rb(e){var k=this.nativeEvent;return k.getModifierState?k.getModifierState(e):(e=kj[e])?!!k[e]:!1}function kc(){return Rb}function Zc(e,
k){return e===k&&(0!==e||1/e===1/k)||e!==e&&k!==k}function Bc(e,k){if(wh(e,k))return!0;if("object"!==typeof e||null===e||"object"!==typeof k||null===k)return!1;var u=Object.keys(e),P=Object.keys(k);if(u.length!==P.length)return!1;for(P=0;P<u.length;P++)if(!Mk.call(k,u[P])||!wh(e[u[P]],k[u[P]]))return!1;return!0}function Nc(e,k){var u=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;if(dk||null==xh||xh!==vd(u))return null;u=xh;"selectionStart"in u&&Fb(u)?u={start:u.selectionStart,end:u.selectionEnd}:
(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset});return $h&&Bc($h,u)?null:($h=u,e=zd.getPooled(ck.select,lj,e,k),e.type="select",e.target=xh,nc(e),e)}function Yb(e){var k=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===k&&(e=13)):e=k;10===e&&(e=13);return 32<=e||13===e?e:0}function nd(e){0>bi||(e.current=ai[bi],ai[bi]=null,bi--)}function cd(e,k){bi++;ai[bi]=e.current;
e.current=k}function Xb(e,k){var u=e.type.contextTypes;if(!u)return Ig;var P=e.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===k)return P.__reactInternalMemoizedMaskedChildContext;var ka={},mb;for(mb in u)ka[mb]=k[mb];P&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=k,e.__reactInternalMemoizedMaskedChildContext=ka);return ka}function oe(e){e=e.childContextTypes;return null!==e&&void 0!==e}function od(){nd(eg);nd(Uf)}function de(e,k,u){if(Uf.current!==Ig)throw Error(h(168));
cd(Uf,k);cd(eg,u)}function ne(e,k,u){var P=e.stateNode;e=k.childContextTypes;if("function"!==typeof P.getChildContext)return u;P=P.getChildContext();for(var ka in P)if(!(ka in e))throw Error(h(108,ya(k)||"Unknown",ka));return bg({},u,{},P)}function ue(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ig;Jg=Uf.current;cd(Uf,e);cd(eg,eg.current);return!0}function qf(e,k,u){var P=e.stateNode;if(!P)throw Error(h(169));u?(e=ne(e,k,Jg),P.__reactInternalMemoizedMergedChildContext=e,nd(eg),
nd(Uf),cd(Uf,e)):nd(eg);cd(eg,u)}function gf(){switch(Gl()){case oj:return 99;case Xk:return 98;case Wk:return 97;case pj:return 96;case Yk:return 95;default:throw Error(h(332));}}function Qd(e){switch(e){case 99:return oj;case 98:return Xk;case 97:return Wk;case 96:return pj;case 95:return Yk;default:throw Error(h(332));}}function bc(e,k){e=Qd(e);return Fl(e,k)}function $d(e,k,u){e=Qd(e);return kk(e,k,u)}function fc(e){null===Dg?(Dg=[e],ei=kk(oj,Ud)):Dg.push(e);return Zk}function Wc(){if(null!==
ei){var e=ei;ei=null;Uk(e)}Ud()}function Ud(){if(!mk&&null!==Dg){mk=!0;var e=0;try{var k=Dg;bc(99,function(){for(;e<k.length;e++){var u=k[e];do u=u(!0);while(null!==u)}});Dg=null}catch(u){throw null!==Dg&&(Dg=Dg.slice(e+1)),kk(oj,Wc),u;}finally{mk=!1}}}function Je(e,k,u){u/=10;return 1073741821-(((1073741821-e+k/10)/u|0)+1)*u}function Yd(e,k){if(e&&e.defaultProps){k=bg({},k);e=e.defaultProps;for(var u in e)void 0===k[u]&&(k[u]=e[u])}return k}function je(e){var k=xe.current;nd(xe);e.type._context._currentValue=
k}function Ke(e,k){for(;null!==e;){var u=e.alternate;if(e.childExpirationTime<k)e.childExpirationTime=k,null!==u&&u.childExpirationTime<k&&(u.childExpirationTime=k);else if(null!==u&&u.childExpirationTime<k)u.childExpirationTime=k;else break;e=e.return}}function Cd(e,k){We=e;Ef=jd=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(e.expirationTime>=k&&(xg=!0),e.firstContext=null)}function rd(e,k){if(Ef!==e&&!1!==k&&0!==k){if("number"!==typeof k||1073741823===k)Ef=e,k=1073741823;k={context:e,
observedBits:k,next:null};if(null===jd){if(null===We)throw Error(h(308));jd=k;We.dependencies={expirationTime:0,firstContext:k,responders:null}}else jd=jd.next=k}return e._currentValue}function we(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function hd(e,k){e=e.updateQueue;k.updateQueue===e&&(k.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Ce(e,k){e={expirationTime:e,suspenseConfig:k,tag:0,payload:null,
callback:null,next:null};return e.next=e}function Ee(e,k){e=e.updateQueue;if(null!==e){e=e.shared;var u=e.pending;null===u?k.next=k:(k.next=u.next,u.next=k);e.pending=k}}function ve(e,k){var u=e.alternate;null!==u&&hd(u,e);e=e.updateQueue;u=e.baseQueue;null===u?(e.baseQueue=k.next=k,k.next=k):(k.next=u.next,u.next=k)}function Fe(e,k,u,P){var ka=e.updateQueue;ag=!1;var mb=ka.baseQueue,tb=ka.shared.pending;if(null!==tb){if(null!==mb){var Pb=mb.next;mb.next=tb.next;tb.next=Pb}mb=tb;ka.shared.pending=
null;Pb=e.alternate;null!==Pb&&(Pb=Pb.updateQueue,null!==Pb&&(Pb.baseQueue=tb))}if(null!==mb){Pb=mb.next;var Oc=ka.baseState,Qc=0,Nd=null,Md=null,Re=null;if(null!==Pb){var Ze=Pb;do{tb=Ze.expirationTime;if(tb<P){var wg={expirationTime:Ze.expirationTime,suspenseConfig:Ze.suspenseConfig,tag:Ze.tag,payload:Ze.payload,callback:Ze.callback,next:null};null===Re?(Md=Re=wg,Nd=Oc):Re=Re.next=wg;tb>Qc&&(Qc=tb)}else{null!==Re&&(Re=Re.next={expirationTime:1073741823,suspenseConfig:Ze.suspenseConfig,tag:Ze.tag,
payload:Ze.payload,callback:Ze.callback,next:null});sf(tb,Ze.suspenseConfig);a:{var Nf=e,Dc=Ze;tb=k;wg=u;switch(Dc.tag){case 1:Nf=Dc.payload;if("function"===typeof Nf){Oc=Nf.call(wg,Oc,tb);break a}Oc=Nf;break a;case 3:Nf.effectTag=Nf.effectTag&-4097|64;case 0:Nf=Dc.payload;tb="function"===typeof Nf?Nf.call(wg,Oc,tb):Nf;if(null===tb||void 0===tb)break a;Oc=bg({},Oc,tb);break a;case 2:ag=!0}}null!==Ze.callback&&(e.effectTag|=32,tb=ka.effects,null===tb?ka.effects=[Ze]:tb.push(Ze))}Ze=Ze.next;if(null===
Ze||Ze===Pb)if(tb=ka.shared.pending,null===tb)break;else Ze=mb.next=tb.next,tb.next=Pb,ka.baseQueue=mb=tb,ka.shared.pending=null}while(1)}null===Re?Nd=Oc:Re.next=Md;ka.baseState=Nd;ka.baseQueue=Re;yf(Qc);e.expirationTime=Qc;e.memoizedState=Oc}}function yd(e,k,u){e=k.effects;k.effects=null;if(null!==e)for(k=0;k<e.length;k++){var P=e[k],ka=P.callback;if(null!==ka){P.callback=null;P=ka;ka=u;if("function"!==typeof P)throw Error(h(191,P));P.call(ka)}}}function F(e,k,u,P){k=e.memoizedState;u=u(P,k);u=null===
u||void 0===u?k:bg({},k,u);e.memoizedState=u;0===e.expirationTime&&(e.updateQueue.baseState=u)}function X(e,k,u,P,ka,mb,tb){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(P,mb,tb):k.prototype&&k.prototype.isPureReactComponent?!Bc(u,P)||!Bc(ka,mb):!0}function Oa(e,k,u){var P=!1,ka=Ig,mb=k.contextType;"object"===typeof mb&&null!==mb?mb=rd(mb):(ka=oe(k)?Jg:Uf.current,P=k.contextTypes,mb=(P=null!==P&&void 0!==P)?Xb(e,ka):Ig);k=new k(u,mb);e.memoizedState=null!==
k.state&&void 0!==k.state?k.state:null;k.updater=fi;e.stateNode=k;k._reactInternalFiber=e;P&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=ka,e.__reactInternalMemoizedMaskedChildContext=mb);return k}function Hb(e,k,u,P){e=k.state;"function"===typeof k.componentWillReceiveProps&&k.componentWillReceiveProps(u,P);"function"===typeof k.UNSAFE_componentWillReceiveProps&&k.UNSAFE_componentWillReceiveProps(u,P);k.state!==e&&fi.enqueueReplaceState(k,k.state,null)}function Tb(e,k,u,P){var ka=
e.stateNode;ka.props=u;ka.state=e.memoizedState;ka.refs=Mi;we(e);var mb=k.contextType;"object"===typeof mb&&null!==mb?ka.context=rd(mb):(mb=oe(k)?Jg:Uf.current,ka.context=Xb(e,mb));Fe(e,u,ka,P);ka.state=e.memoizedState;mb=k.getDerivedStateFromProps;"function"===typeof mb&&(F(e,k,mb,u),ka.state=e.memoizedState);"function"===typeof k.getDerivedStateFromProps||"function"===typeof ka.getSnapshotBeforeUpdate||"function"!==typeof ka.UNSAFE_componentWillMount&&"function"!==typeof ka.componentWillMount||
(k=ka.state,"function"===typeof ka.componentWillMount&&ka.componentWillMount(),"function"===typeof ka.UNSAFE_componentWillMount&&ka.UNSAFE_componentWillMount(),k!==ka.state&&fi.enqueueReplaceState(ka,ka.state,null),Fe(e,u,ka,P),ka.state=e.memoizedState);"function"===typeof ka.componentDidMount&&(e.effectTag|=4)}function Sb(e,k,u){e=u.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(u._owner){if(u=u._owner){if(1!==u.tag)throw Error(h(309));var P=u.stateNode}if(!P)throw Error(h(147,e));
var ka=""+e;if(null!==k&&null!==k.ref&&"function"===typeof k.ref&&k.ref._stringRef===ka)return k.ref;k=function(mb){var tb=P.refs;tb===Mi&&(tb=P.refs={});null===mb?delete tb[ka]:tb[ka]=mb};k._stringRef=ka;return k}if("string"!==typeof e)throw Error(h(284));if(!u._owner)throw Error(h(290,e));}return e}function Ob(e,k){if("textarea"!==e.type)throw Error(h(31,"[object Object]"===Object.prototype.toString.call(k)?"object with keys {"+Object.keys(k).join(", ")+"}":k,""));}function Xc(e){function k(Dc,
yc){if(e){var Uc=Dc.lastEffect;null!==Uc?(Uc.nextEffect=yc,Dc.lastEffect=yc):Dc.firstEffect=Dc.lastEffect=yc;yc.nextEffect=null;yc.effectTag=8}}function u(Dc,yc){if(!e)return null;for(;null!==yc;)k(Dc,yc),yc=yc.sibling;return null}function P(Dc,yc){for(Dc=new Map;null!==yc;)null!==yc.key?Dc.set(yc.key,yc):Dc.set(yc.index,yc),yc=yc.sibling;return Dc}function ka(Dc,yc){Dc=Yg(Dc,yc);Dc.index=0;Dc.sibling=null;return Dc}function mb(Dc,yc,Uc){Dc.index=Uc;if(!e)return yc;Uc=Dc.alternate;if(null!==Uc)return Uc=
Uc.index,Uc<yc?(Dc.effectTag=2,yc):Uc;Dc.effectTag=2;return yc}function tb(Dc){e&&null===Dc.alternate&&(Dc.effectTag=2);return Dc}function Pb(Dc,yc,Uc,td){if(null===yc||6!==yc.tag)return yc=Ti(Uc,Dc.mode,td),yc.return=Dc,yc;yc=ka(yc,Uc);yc.return=Dc;return yc}function Oc(Dc,yc,Uc,td){if(null!==yc&&yc.elementType===Uc.type)return td=ka(yc,Uc.props),td.ref=Sb(Dc,yc,Uc),td.return=Dc,td;td=Si(Uc.type,Uc.key,Uc.props,null,Dc.mode,td);td.ref=Sb(Dc,yc,Uc);td.return=Dc;return td}function Qc(Dc,yc,Uc,td){if(null===
yc||4!==yc.tag||yc.stateNode.containerInfo!==Uc.containerInfo||yc.stateNode.implementation!==Uc.implementation)return yc=Aj(Uc,Dc.mode,td),yc.return=Dc,yc;yc=ka(yc,Uc.children||[]);yc.return=Dc;return yc}function Nd(Dc,yc,Uc,td,Jd){if(null===yc||7!==yc.tag)return yc=nf(Uc,Dc.mode,td,Jd),yc.return=Dc,yc;yc=ka(yc,Uc);yc.return=Dc;return yc}function Md(Dc,yc,Uc){if("string"===typeof yc||"number"===typeof yc)return yc=Ti(""+yc,Dc.mode,Uc),yc.return=Dc,yc;if("object"===typeof yc&&null!==yc){switch(yc.$$typeof){case If:return Uc=
Si(yc.type,yc.key,yc.props,null,Dc.mode,Uc),Uc.ref=Sb(Dc,null,yc),Uc.return=Dc,Uc;case bf:return yc=Aj(yc,Dc.mode,Uc),yc.return=Dc,yc}if(sj(yc)||L(yc))return yc=nf(yc,Dc.mode,Uc,null),yc.return=Dc,yc;Ob(Dc,yc)}return null}function Re(Dc,yc,Uc,td){var Jd=null!==yc?yc.key:null;if("string"===typeof Uc||"number"===typeof Uc)return null!==Jd?null:Pb(Dc,yc,""+Uc,td);if("object"===typeof Uc&&null!==Uc){switch(Uc.$$typeof){case If:return Uc.key===Jd?Uc.type===bh?Nd(Dc,yc,Uc.props.children,td,Jd):Oc(Dc,yc,
Uc,td):null;case bf:return Uc.key===Jd?Qc(Dc,yc,Uc,td):null}if(sj(Uc)||L(Uc))return null!==Jd?null:Nd(Dc,yc,Uc,td,null);Ob(Dc,Uc)}return null}function Ze(Dc,yc,Uc,td,Jd){if("string"===typeof td||"number"===typeof td)return Dc=Dc.get(Uc)||null,Pb(yc,Dc,""+td,Jd);if("object"===typeof td&&null!==td){switch(td.$$typeof){case If:return Dc=Dc.get(null===td.key?Uc:td.key)||null,td.type===bh?Nd(yc,Dc,td.props.children,Jd,td.key):Oc(yc,Dc,td,Jd);case bf:return Dc=Dc.get(null===td.key?Uc:td.key)||null,Qc(yc,
Dc,td,Jd)}if(sj(td)||L(td))return Dc=Dc.get(Uc)||null,Nd(yc,Dc,td,Jd,null);Ob(yc,td)}return null}function wg(Dc,yc,Uc,td){for(var Jd=null,Xd=null,qe=yc,Ue=yc=0,tf=null;null!==qe&&Ue<Uc.length;Ue++){qe.index>Ue?(tf=qe,qe=null):tf=qe.sibling;var Ne=Re(Dc,qe,Uc[Ue],td);if(null===Ne){null===qe&&(qe=tf);break}e&&qe&&null===Ne.alternate&&k(Dc,qe);yc=mb(Ne,yc,Ue);null===Xd?Jd=Ne:Xd.sibling=Ne;Xd=Ne;qe=tf}if(Ue===Uc.length)return u(Dc,qe),Jd;if(null===qe){for(;Ue<Uc.length;Ue++)qe=Md(Dc,Uc[Ue],td),null!==
qe&&(yc=mb(qe,yc,Ue),null===Xd?Jd=qe:Xd.sibling=qe,Xd=qe);return Jd}for(qe=P(Dc,qe);Ue<Uc.length;Ue++)tf=Ze(qe,Dc,Ue,Uc[Ue],td),null!==tf&&(e&&null!==tf.alternate&&qe.delete(null===tf.key?Ue:tf.key),yc=mb(tf,yc,Ue),null===Xd?Jd=tf:Xd.sibling=tf,Xd=tf);e&&qe.forEach(function($f){return k(Dc,$f)});return Jd}function Nf(Dc,yc,Uc,td){var Jd=L(Uc);if("function"!==typeof Jd)throw Error(h(150));Uc=Jd.call(Uc);if(null==Uc)throw Error(h(151));for(var Xd=Jd=null,qe=yc,Ue=yc=0,tf=null,Ne=Uc.next();null!==qe&&
!Ne.done;Ue++,Ne=Uc.next()){qe.index>Ue?(tf=qe,qe=null):tf=qe.sibling;var $f=Re(Dc,qe,Ne.value,td);if(null===$f){null===qe&&(qe=tf);break}e&&qe&&null===$f.alternate&&k(Dc,qe);yc=mb($f,yc,Ue);null===Xd?Jd=$f:Xd.sibling=$f;Xd=$f;qe=tf}if(Ne.done)return u(Dc,qe),Jd;if(null===qe){for(;!Ne.done;Ue++,Ne=Uc.next())Ne=Md(Dc,Ne.value,td),null!==Ne&&(yc=mb(Ne,yc,Ue),null===Xd?Jd=Ne:Xd.sibling=Ne,Xd=Ne);return Jd}for(qe=P(Dc,qe);!Ne.done;Ue++,Ne=Uc.next())Ne=Ze(qe,Dc,Ue,Ne.value,td),null!==Ne&&(e&&null!==Ne.alternate&&
qe.delete(null===Ne.key?Ue:Ne.key),yc=mb(Ne,yc,Ue),null===Xd?Jd=Ne:Xd.sibling=Ne,Xd=Ne);e&&qe.forEach(function(pk){return k(Dc,pk)});return Jd}return function(Dc,yc,Uc,td){var Jd="object"===typeof Uc&&null!==Uc&&Uc.type===bh&&null===Uc.key;Jd&&(Uc=Uc.props.children);var Xd="object"===typeof Uc&&null!==Uc;if(Xd)switch(Uc.$$typeof){case If:a:{Xd=Uc.key;for(Jd=yc;null!==Jd;){if(Jd.key===Xd){switch(Jd.tag){case 7:if(Uc.type===bh){u(Dc,Jd.sibling);yc=ka(Jd,Uc.props.children);yc.return=Dc;Dc=yc;break a}break;
default:if(Jd.elementType===Uc.type){u(Dc,Jd.sibling);yc=ka(Jd,Uc.props);yc.ref=Sb(Dc,Jd,Uc);yc.return=Dc;Dc=yc;break a}}u(Dc,Jd);break}else k(Dc,Jd);Jd=Jd.sibling}Uc.type===bh?(yc=nf(Uc.props.children,Dc.mode,td,Uc.key),yc.return=Dc,Dc=yc):(td=Si(Uc.type,Uc.key,Uc.props,null,Dc.mode,td),td.ref=Sb(Dc,yc,Uc),td.return=Dc,Dc=td)}return tb(Dc);case bf:a:{for(Jd=Uc.key;null!==yc;){if(yc.key===Jd)if(4===yc.tag&&yc.stateNode.containerInfo===Uc.containerInfo&&yc.stateNode.implementation===Uc.implementation){u(Dc,
yc.sibling);yc=ka(yc,Uc.children||[]);yc.return=Dc;Dc=yc;break a}else{u(Dc,yc);break}else k(Dc,yc);yc=yc.sibling}yc=Aj(Uc,Dc.mode,td);yc.return=Dc;Dc=yc}return tb(Dc)}if("string"===typeof Uc||"number"===typeof Uc)return Uc=""+Uc,null!==yc&&6===yc.tag?(u(Dc,yc.sibling),yc=ka(yc,Uc),yc.return=Dc,Dc=yc):(u(Dc,yc),yc=Ti(Uc,Dc.mode,td),yc.return=Dc,Dc=yc),tb(Dc);if(sj(Uc))return wg(Dc,yc,Uc,td);if(L(Uc))return Nf(Dc,yc,Uc,td);Xd&&Ob(Dc,Uc);if("undefined"===typeof Uc&&!Jd)switch(Dc.tag){case 1:case 0:throw Dc=
Dc.type,Error(h(152,Dc.displayName||Dc.name||"Component"));}return u(Dc,yc)}}function Sc(e){if(e===Yf)throw Error(h(174));return e}function ud(e,k){cd(jh,k);cd(hi,e);cd(hg,Yf);e=k.nodeType;switch(e){case 9:case 11:k=(k=k.documentElement)?k.namespaceURI:d(null,"");break;default:e=8===e?k.parentNode:k,k=e.namespaceURI||null,e=e.tagName,k=d(k,e)}nd(hg);cd(hg,k)}function Id(){nd(hg);nd(hi);nd(jh)}function Ld(e){Sc(jh.current);var k=Sc(hg.current),u=d(k,e.type);k!==u&&(cd(hi,e),cd(hg,u))}function Ge(e){hi.current===
e&&(nd(hg),nd(hi))}function ae(e){for(var k=e;null!==k;){if(13===k.tag){var u=k.memoizedState;if(null!==u&&(u=u.dehydrated,null===u||u.data===ej||u.data===Qj))return k}else if(19===k.tag&&void 0!==k.memoizedProps.revealOrder){if(0!==(k.effectTag&64))return k}else if(null!==k.child){k.child.return=k;k=k.child;continue}if(k===e)break;for(;null===k.sibling;){if(null===k.return||k.return===e)return null;k=k.return}k.sibling.return=k.return;k=k.sibling}return null}function ge(e,k){return{responder:e,props:k}}
function me(){throw Error(h(321));}function ke(e,k){if(null===k)return!1;for(var u=0;u<k.length&&u<e.length;u++)if(!wh(e[u],k[u]))return!1;return!0}function De(e,k,u,P,ka,mb){kh=mb;Ve=k;k.memoizedState=null;k.updateQueue=null;k.expirationTime=0;Dh.current=null===e||null===e.memoizedState?ek:Jl;e=u(P,ka);if(k.expirationTime===kh){mb=0;do{k.expirationTime=0;if(!(25>mb))throw Error(h(301));mb+=1;Xf=Mf=null;k.updateQueue=null;Dh.current=Tg;e=u(P,ka)}while(k.expirationTime===kh)}Dh.current=jg;k=null!==
Mf&&null!==Mf.next;kh=0;Xf=Mf=Ve=null;Df=!1;if(k)throw Error(h(300));return e}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Xf?Ve.memoizedState=Xf=e:Xf=Xf.next=e;return Xf}function hf(){if(null===Mf){var e=Ve.alternate;e=null!==e?e.memoizedState:null}else e=Mf.next;var k=null===Xf?Ve.memoizedState:Xf.next;if(null!==k)Xf=k,Mf=e;else{if(null===e)throw Error(h(310));Mf=e;e={memoizedState:Mf.memoizedState,baseState:Mf.baseState,baseQueue:Mf.baseQueue,
queue:Mf.queue,next:null};null===Xf?Ve.memoizedState=Xf=e:Xf=Xf.next=e}return Xf}function ef(e,k){return"function"===typeof k?k(e):k}function Kf(e){var k=hf(),u=k.queue;if(null===u)throw Error(h(311));u.lastRenderedReducer=e;var P=Mf,ka=P.baseQueue,mb=u.pending;if(null!==mb){if(null!==ka){var tb=ka.next;ka.next=mb.next;mb.next=tb}P.baseQueue=ka=mb;u.pending=null}if(null!==ka){ka=ka.next;P=P.baseState;var Pb=tb=mb=null,Oc=ka;do{var Qc=Oc.expirationTime;if(Qc<kh){var Nd={expirationTime:Oc.expirationTime,
suspenseConfig:Oc.suspenseConfig,action:Oc.action,eagerReducer:Oc.eagerReducer,eagerState:Oc.eagerState,next:null};null===Pb?(tb=Pb=Nd,mb=P):Pb=Pb.next=Nd;Qc>Ve.expirationTime&&(Ve.expirationTime=Qc,yf(Qc))}else null!==Pb&&(Pb=Pb.next={expirationTime:1073741823,suspenseConfig:Oc.suspenseConfig,action:Oc.action,eagerReducer:Oc.eagerReducer,eagerState:Oc.eagerState,next:null}),sf(Qc,Oc.suspenseConfig),P=Oc.eagerReducer===e?Oc.eagerState:e(P,Oc.action);Oc=Oc.next}while(null!==Oc&&Oc!==ka);null===Pb?
mb=P:Pb.next=tb;wh(P,k.memoizedState)||(xg=!0);k.memoizedState=P;k.baseState=mb;k.baseQueue=Pb;u.lastRenderedState=P}return[k.memoizedState,u.dispatch]}function wf(e){var k=hf(),u=k.queue;if(null===u)throw Error(h(311));u.lastRenderedReducer=e;var P=u.dispatch,ka=u.pending,mb=k.memoizedState;if(null!==ka){u.pending=null;var tb=ka=ka.next;do mb=e(mb,tb.action),tb=tb.next;while(tb!==ka);wh(mb,k.memoizedState)||(xg=!0);k.memoizedState=mb;null===k.baseQueue&&(k.baseState=mb);u.lastRenderedState=mb}return[mb,
P]}function cf(e){var k=Pe();"function"===typeof e&&(e=e());k.memoizedState=k.baseState=e;e=k.queue={pending:null,dispatch:null,lastRenderedReducer:ef,lastRenderedState:e};e=e.dispatch=T.bind(null,Ve,e);return[k.memoizedState,e]}function jf(e,k,u,P){e={tag:e,create:k,destroy:u,deps:P,next:null};k=Ve.updateQueue;null===k?(k={lastEffect:null},Ve.updateQueue=k,k.lastEffect=e.next=e):(u=k.lastEffect,null===u?k.lastEffect=e.next=e:(P=u.next,u.next=e,e.next=P,k.lastEffect=e));return e}function xf(){return hf().memoizedState}
function Oe(e,k,u,P){var ka=Pe();Ve.effectTag|=e;ka.memoizedState=jf(1|k,u,void 0,void 0===P?null:P)}function rf(e,k,u,P){var ka=hf();P=void 0===P?null:P;var mb=void 0;if(null!==Mf){var tb=Mf.memoizedState;mb=tb.destroy;if(null!==P&&ke(P,tb.deps)){jf(k,u,mb,P);return}}Ve.effectTag|=e;ka.memoizedState=jf(1|k,u,mb,P)}function Te(e,k){return Oe(516,4,e,k)}function $e(e,k){return rf(516,4,e,k)}function Ff(e,k){return rf(4,2,e,k)}function af(e,k){if("function"===typeof k)return e=e(),k(e),function(){k(null)};
if(null!==k&&void 0!==k)return e=e(),k.current=e,function(){k.current=null}}function Wf(e,k,u){u=null!==u&&void 0!==u?u.concat([e]):null;return rf(4,2,af.bind(null,k,e),u)}function Gf(){}function Vf(e,k){Pe().memoizedState=[e,void 0===k?null:k];return e}function B(e,k){var u=hf();k=void 0===k?null:k;var P=u.memoizedState;if(null!==P&&null!==k&&ke(k,P[1]))return P[0];u.memoizedState=[e,k];return e}function D(e,k){var u=hf();k=void 0===k?null:k;var P=u.memoizedState;if(null!==P&&null!==k&&ke(k,P[1]))return P[0];
e=e();u.memoizedState=[e,k];return e}function O(e,k,u){var P=gf();bc(98>P?98:P,function(){e(!0)});bc(97<P?97:P,function(){var ka=ug.suspense;ug.suspense=void 0===k?null:k;try{e(!1),u()}finally{ug.suspense=ka}})}function T(e,k,u){var P=Tc(),ka=Eh.suspense;P=ad(P,e,ka);ka={expirationTime:P,suspenseConfig:ka,action:u,eagerReducer:null,eagerState:null,next:null};var mb=k.pending;null===mb?ka.next=ka:(ka.next=mb.next,mb.next=ka);k.pending=ka;mb=e.alternate;if(e===Ve||null!==mb&&mb===Ve)Df=!0,ka.expirationTime=
kh,Ve.expirationTime=kh;else{if(0===e.expirationTime&&(null===mb||0===mb.expirationTime)&&(mb=k.lastRenderedReducer,null!==mb))try{var tb=k.lastRenderedState,Pb=mb(tb,u);ka.eagerReducer=mb;ka.eagerState=Pb;if(wh(Pb,tb))return}catch(Oc){}finally{}kd(e,P)}}function ia(e,k){var u=ig(5,null,null,0);u.elementType="DELETED";u.type="DELETED";u.stateNode=k;u.return=e;u.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=u,e.lastEffect=u):e.firstEffect=e.lastEffect=u}function pa(e,k){switch(e.tag){case 5:var u=
e.type;k=1!==k.nodeType||u.toLowerCase()!==k.nodeName.toLowerCase()?null:k;return null!==k?(e.stateNode=k,!0):!1;case 6:return k=""===e.pendingProps||3!==k.nodeType?null:k,null!==k?(e.stateNode=k,!0):!1;case 13:return!1;default:return!1}}function Ha(e){if(Rf){var k=Lg;if(k){var u=k;if(!pa(e,k)){k=Wb(u.nextSibling);if(!k||!pa(e,k)){e.effectTag=e.effectTag&-1025|2;Rf=!1;vg=e;return}ia(vg,u)}vg=e;Lg=Wb(k.firstChild)}else e.effectTag=e.effectTag&-1025|2,Rf=!1,vg=e}}function db(e){for(e=e.return;null!==
e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;vg=e}function Ua(e){if(e!==vg)return!1;if(!Rf)return db(e),Rf=!0,!1;var k=e.type;if(5!==e.tag||"head"!==k&&"body"!==k&&!ec(k,e.memoizedProps))for(k=Lg;k;)ia(e,k),k=Wb(k.nextSibling);db(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(h(317));a:{e=e.nextSibling;for(k=0;e;){if(8===e.nodeType){var u=e.data;if(u===Pj){if(0===k){Lg=Wb(e.nextSibling);break a}k--}else u!==Oj&&u!==Qj&&u!==ej||k++}e=e.nextSibling}Lg=null}}else Lg=
vg?Wb(e.stateNode.nextSibling):null;return!0}function lb(e,k,u,P){k.child=null===e?tj(k,null,u,P):Ch(k,e.child,u,P)}function nb(e,k,u,P,ka){u=u.render;var mb=k.ref;Cd(k,ka);P=De(e,k,u,P,mb,ka);if(null!==e&&!xg)return k.updateQueue=e.updateQueue,k.effectTag&=-517,e.expirationTime<=ka&&(e.expirationTime=0),Qb(e,k,ka);k.effectTag|=1;lb(e,k,P,ka);return k.child}function Bb(e,k,u,P,ka,mb){if(null===e){var tb=u.type;if("function"===typeof tb&&!Ri(tb)&&void 0===tb.defaultProps&&null===u.compare&&void 0===
u.defaultProps)return k.tag=15,k.type=tb,$b(e,k,tb,P,ka,mb);e=Si(u.type,null,P,null,k.mode,mb);e.ref=k.ref;e.return=k;return k.child=e}tb=e.child;if(ka<mb&&(ka=tb.memoizedProps,u=u.compare,u=null!==u?u:Bc,u(ka,P)&&e.ref===k.ref))return Qb(e,k,mb);k.effectTag|=1;e=Yg(tb,P);e.ref=k.ref;e.return=k;return k.child=e}function $b(e,k,u,P,ka,mb){return null!==e&&Bc(e.memoizedProps,P)&&e.ref===k.ref&&(xg=!1,ka<mb)?(k.expirationTime=e.expirationTime,Qb(e,k,mb)):Ic(e,k,u,P,mb)}function pc(e,k){var u=k.ref;if(null===
e&&null!==u||null!==e&&e.ref!==u)k.effectTag|=128}function Ic(e,k,u,P,ka){var mb=oe(u)?Jg:Uf.current;mb=Xb(k,mb);Cd(k,ka);u=De(e,k,u,P,mb,ka);if(null!==e&&!xg)return k.updateQueue=e.updateQueue,k.effectTag&=-517,e.expirationTime<=ka&&(e.expirationTime=0),Qb(e,k,ka);k.effectTag|=1;lb(e,k,u,ka);return k.child}function t(e,k,u,P,ka){if(oe(u)){var mb=!0;ue(k)}else mb=!1;Cd(k,ka);if(null===k.stateNode)null!==e&&(e.alternate=null,k.alternate=null,k.effectTag|=2),Oa(k,u,P),Tb(k,u,P,ka),P=!0;else if(null===
e){var tb=k.stateNode,Pb=k.memoizedProps;tb.props=Pb;var Oc=tb.context,Qc=u.contextType;"object"===typeof Qc&&null!==Qc?Qc=rd(Qc):(Qc=oe(u)?Jg:Uf.current,Qc=Xb(k,Qc));var Nd=u.getDerivedStateFromProps,Md="function"===typeof Nd||"function"===typeof tb.getSnapshotBeforeUpdate;Md||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||(Pb!==P||Oc!==Qc)&&Hb(k,tb,P,Qc);ag=!1;var Re=k.memoizedState;tb.state=Re;Fe(k,P,tb,ka);Oc=k.memoizedState;Pb!==P||
Re!==Oc||eg.current||ag?("function"===typeof Nd&&(F(k,u,Nd,P),Oc=k.memoizedState),(Pb=ag||X(k,u,Pb,P,Re,Oc,Qc))?(Md||"function"!==typeof tb.UNSAFE_componentWillMount&&"function"!==typeof tb.componentWillMount||("function"===typeof tb.componentWillMount&&tb.componentWillMount(),"function"===typeof tb.UNSAFE_componentWillMount&&tb.UNSAFE_componentWillMount()),"function"===typeof tb.componentDidMount&&(k.effectTag|=4)):("function"===typeof tb.componentDidMount&&(k.effectTag|=4),k.memoizedProps=P,k.memoizedState=
Oc),tb.props=P,tb.state=Oc,tb.context=Qc,P=Pb):("function"===typeof tb.componentDidMount&&(k.effectTag|=4),P=!1)}else tb=k.stateNode,hd(e,k),Pb=k.memoizedProps,tb.props=k.type===k.elementType?Pb:Yd(k.type,Pb),Oc=tb.context,Qc=u.contextType,"object"===typeof Qc&&null!==Qc?Qc=rd(Qc):(Qc=oe(u)?Jg:Uf.current,Qc=Xb(k,Qc)),Nd=u.getDerivedStateFromProps,(Md="function"===typeof Nd||"function"===typeof tb.getSnapshotBeforeUpdate)||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||
(Pb!==P||Oc!==Qc)&&Hb(k,tb,P,Qc),ag=!1,Oc=k.memoizedState,tb.state=Oc,Fe(k,P,tb,ka),Re=k.memoizedState,Pb!==P||Oc!==Re||eg.current||ag?("function"===typeof Nd&&(F(k,u,Nd,P),Re=k.memoizedState),(Nd=ag||X(k,u,Pb,P,Oc,Re,Qc))?(Md||"function"!==typeof tb.UNSAFE_componentWillUpdate&&"function"!==typeof tb.componentWillUpdate||("function"===typeof tb.componentWillUpdate&&tb.componentWillUpdate(P,Re,Qc),"function"===typeof tb.UNSAFE_componentWillUpdate&&tb.UNSAFE_componentWillUpdate(P,Re,Qc)),"function"===
typeof tb.componentDidUpdate&&(k.effectTag|=4),"function"===typeof tb.getSnapshotBeforeUpdate&&(k.effectTag|=256)):("function"!==typeof tb.componentDidUpdate||Pb===e.memoizedProps&&Oc===e.memoizedState||(k.effectTag|=4),"function"!==typeof tb.getSnapshotBeforeUpdate||Pb===e.memoizedProps&&Oc===e.memoizedState||(k.effectTag|=256),k.memoizedProps=P,k.memoizedState=Re),tb.props=P,tb.state=Re,tb.context=Qc,P=Nd):("function"!==typeof tb.componentDidUpdate||Pb===e.memoizedProps&&Oc===e.memoizedState||(k.effectTag|=
4),"function"!==typeof tb.getSnapshotBeforeUpdate||Pb===e.memoizedProps&&Oc===e.memoizedState||(k.effectTag|=256),P=!1);return y(e,k,u,P,mb,ka)}function y(e,k,u,P,ka,mb){pc(e,k);var tb=0!==(k.effectTag&64);if(!P&&!tb)return ka&&qf(k,u,!1),Qb(e,k,mb);P=k.stateNode;Vi.current=k;var Pb=tb&&"function"!==typeof u.getDerivedStateFromError?null:P.render();k.effectTag|=1;null!==e&&tb?(k.child=Ch(k,e.child,null,mb),k.child=Ch(k,null,Pb,mb)):lb(e,k,Pb,mb);k.memoizedState=P.state;ka&&qf(k,u,!0);return k.child}
function S(e){var k=e.stateNode;k.pendingContext?de(e,k.pendingContext,k.pendingContext!==k.context):k.context&&de(e,k.context,!1);ud(e,k.containerInfo)}function ba(e,k,u){var P=k.mode,ka=k.pendingProps,mb=vf.current,tb=!1,Pb;(Pb=0!==(k.effectTag&64))||(Pb=0!==(mb&2)&&(null===e||null!==e.memoizedState));Pb?(tb=!0,k.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===ka.fallback||!0===ka.unstable_avoidThisFallback||(mb|=1);cd(vf,mb&1);if(null===e){void 0!==ka.fallback&&Ha(k);if(tb){tb=ka.fallback;
ka=nf(null,P,0,null);ka.return=k;if(0===(k.mode&2))for(e=null!==k.memoizedState?k.child.child:k.child,ka.child=e;null!==e;)e.return=ka,e=e.sibling;u=nf(tb,P,u,null);u.return=k;ka.sibling=u;k.memoizedState=uj;k.child=ka;return u}P=ka.children;k.memoizedState=null;return k.child=tj(k,null,P,u)}if(null!==e.memoizedState){e=e.child;P=e.sibling;if(tb){ka=ka.fallback;u=Yg(e,e.pendingProps);u.return=k;if(0===(k.mode&2)&&(tb=null!==k.memoizedState?k.child.child:k.child,tb!==e.child))for(u.child=tb;null!==
tb;)tb.return=u,tb=tb.sibling;P=Yg(P,ka);P.return=k;u.sibling=P;u.childExpirationTime=0;k.memoizedState=uj;k.child=u;return P}u=Ch(k,e.child,ka.children,u);k.memoizedState=null;return k.child=u}e=e.child;if(tb){tb=ka.fallback;ka=nf(null,P,0,null);ka.return=k;ka.child=e;null!==e&&(e.return=ka);if(0===(k.mode&2))for(e=null!==k.memoizedState?k.child.child:k.child,ka.child=e;null!==e;)e.return=ka,e=e.sibling;u=nf(tb,P,u,null);u.return=k;ka.sibling=u;u.effectTag|=2;ka.childExpirationTime=0;k.memoizedState=
uj;k.child=ka;return u}k.memoizedState=null;return k.child=Ch(k,e,ka.children,u)}function Xa(e,k){e.expirationTime<k&&(e.expirationTime=k);var u=e.alternate;null!==u&&u.expirationTime<k&&(u.expirationTime=k);Ke(e.return,k)}function vb(e,k,u,P,ka,mb){var tb=e.memoizedState;null===tb?e.memoizedState={isBackwards:k,rendering:null,renderingStartTime:0,last:P,tail:u,tailExpiration:0,tailMode:ka,lastEffect:mb}:(tb.isBackwards=k,tb.rendering=null,tb.renderingStartTime=0,tb.last=P,tb.tail=u,tb.tailExpiration=
0,tb.tailMode=ka,tb.lastEffect=mb)}function Ib(e,k,u){var P=k.pendingProps,ka=P.revealOrder,mb=P.tail;lb(e,k,P.children,u);P=vf.current;if(0!==(P&2))P=P&1|2,k.effectTag|=64;else{if(null!==e&&0!==(e.effectTag&64))a:for(e=k.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xa(e,u);else if(19===e.tag)Xa(e,u);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===k)break a;for(;null===e.sibling;){if(null===e.return||e.return===k)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}P&=
1}cd(vf,P);if(0===(k.mode&2))k.memoizedState=null;else switch(ka){case "forwards":u=k.child;for(ka=null;null!==u;)e=u.alternate,null!==e&&null===ae(e)&&(ka=u),u=u.sibling;u=ka;null===u?(ka=k.child,k.child=null):(ka=u.sibling,u.sibling=null);vb(k,!1,ka,u,mb,k.lastEffect);break;case "backwards":u=null;ka=k.child;for(k.child=null;null!==ka;){e=ka.alternate;if(null!==e&&null===ae(e)){k.child=ka;break}e=ka.sibling;ka.sibling=u;u=ka;ka=e}vb(k,!0,u,null,mb,k.lastEffect);break;case "together":vb(k,!1,null,
null,void 0,k.lastEffect);break;default:k.memoizedState=null}return k.child}function Qb(e,k,u){null!==e&&(k.dependencies=e.dependencies);var P=k.expirationTime;0!==P&&yf(P);if(k.childExpirationTime<u)return null;if(null!==e&&k.child!==e.child)throw Error(h(153));if(null!==k.child){e=k.child;u=Yg(e,e.pendingProps);k.child=u;for(u.return=k;null!==e.sibling;)e=e.sibling,u=u.sibling=Yg(e,e.pendingProps),u.return=k;u.sibling=null}return k.child}function dc(e,k){switch(e.tailMode){case "hidden":k=e.tail;
for(var u=null;null!==k;)null!==k.alternate&&(u=k),k=k.sibling;null===u?e.tail=null:u.sibling=null;break;case "collapsed":u=e.tail;for(var P=null;null!==u;)null!==u.alternate&&(P=u),u=u.sibling;null===P?k||null===e.tail?e.tail=null:e.tail.sibling=null:P.sibling=null}}function Ec(e,k,u){var P=k.pendingProps;switch(k.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return oe(k.type)&&od(),null;case 3:return Id(),nd(eg),nd(Uf),u=k.stateNode,u.pendingContext&&
(u.context=u.pendingContext,u.pendingContext=null),null!==e&&null!==e.child||!Ua(k)||(k.effectTag|=4),ok(k),null;case 5:Ge(k);u=Sc(jh.current);var ka=k.type;if(null!==e&&null!=k.stateNode)ql(e,k,ka,P,u),e.ref!==k.ref&&(k.effectTag|=128);else{if(!P){if(null===k.stateNode)throw Error(h(166));return null}e=Sc(hg.current);if(Ua(k)){P=k.stateNode;ka=k.type;var mb=k.memoizedProps;P[Sg]=k;P[yi]=mb;switch(ka){case "iframe":case "object":case "embed":Gc("load",P);break;case "video":case "audio":for(e=0;e<
th.length;e++)Gc(th[e],P);break;case "source":Gc("error",P);break;case "img":case "image":case "link":Gc("error",P);Gc("load",P);break;case "form":Gc("reset",P);Gc("submit",P);break;case "details":Gc("toggle",P);break;case "input":x(P,mb);Gc("invalid",P);sc(u,"onChange");break;case "select":P._wrapperState={wasMultiple:!!mb.multiple};Gc("invalid",P);sc(u,"onChange");break;case "textarea":J(P,mb),Gc("invalid",P),sc(u,"onChange")}kb(ka,mb);e=null;for(var tb in mb)if(mb.hasOwnProperty(tb)){var Pb=mb[tb];
"children"===tb?"string"===typeof Pb?P.textContent!==Pb&&(e=["children",Pb]):"number"===typeof Pb&&P.textContent!==""+Pb&&(e=["children",""+Pb]):Gg.hasOwnProperty(tb)&&null!=Pb&&sc(u,tb)}switch(ka){case "input":ab(P);C(P,mb,!0);break;case "textarea":ab(P);ca(P);break;case "select":case "option":break;default:"function"===typeof mb.onClick&&(P.onclick=dd)}u=e;k.updateQueue=u;null!==u&&(k.effectTag|=4)}else{tb=9===u.nodeType?u:u.ownerDocument;"http://www.w3.org/1999/xhtml"===e&&(e=W(ka));"http://www.w3.org/1999/xhtml"===
e?"script"===ka?(e=tb.createElement("div"),e.innerHTML="\x3cscript\x3e\x3c/script\x3e",e=e.removeChild(e.firstChild)):"string"===typeof P.is?e=tb.createElement(ka,{is:P.is}):(e=tb.createElement(ka),"select"===ka&&(tb=e,P.multiple?tb.multiple=!0:P.size&&(tb.size=P.size))):e=tb.createElementNS(e,ka);e[Sg]=k;e[yi]=P;el(e,k,!1,!1);k.stateNode=e;tb=oc(ka,P);switch(ka){case "iframe":case "object":case "embed":Gc("load",e);Pb=P;break;case "video":case "audio":for(Pb=0;Pb<th.length;Pb++)Gc(th[Pb],e);Pb=P;
break;case "source":Gc("error",e);Pb=P;break;case "img":case "image":case "link":Gc("error",e);Gc("load",e);Pb=P;break;case "form":Gc("reset",e);Gc("submit",e);Pb=P;break;case "details":Gc("toggle",e);Pb=P;break;case "input":x(e,P);Pb=I(e,P);Gc("invalid",e);sc(u,"onChange");break;case "option":Pb=da(e,P);break;case "select":e._wrapperState={wasMultiple:!!P.multiple};Pb=bg({},P,{value:void 0});Gc("invalid",e);sc(u,"onChange");break;case "textarea":J(e,P);Pb=Ja(e,P);Gc("invalid",e);sc(u,"onChange");
break;default:Pb=P}kb(ka,Pb);var Oc=Pb;for(mb in Oc)if(Oc.hasOwnProperty(mb)){var Qc=Oc[mb];"style"===mb?ac(e,Qc):"dangerouslySetInnerHTML"===mb?(Qc=Qc?Qc.__html:void 0,null!=Qc&&zk(e,Qc)):"children"===mb?"string"===typeof Qc?("textarea"!==ka||""!==Qc)&&c(e,Qc):"number"===typeof Qc&&c(e,""+Qc):"suppressContentEditableWarning"!==mb&&"suppressHydrationWarning"!==mb&&"autoFocus"!==mb&&(Gg.hasOwnProperty(mb)?null!=Qc&&sc(u,mb):null!=Qc&&Ta(e,mb,Qc,tb))}switch(ka){case "input":ab(e);C(e,P,!1);break;case "textarea":ab(e);
ca(e);break;case "option":null!=P.value&&e.setAttribute("value",""+Ma(P.value));break;case "select":e.multiple=!!P.multiple;u=P.value;null!=u?Da(e,!!P.multiple,u,!1):null!=P.defaultValue&&Da(e,!!P.multiple,P.defaultValue,!0);break;default:"function"===typeof Pb.onClick&&(e.onclick=dd)}Kb(ka,P)&&(k.effectTag|=4)}null!==k.ref&&(k.effectTag|=128)}return null;case 6:if(e&&null!=k.stateNode)fl(e,k,e.memoizedProps,P);else{if("string"!==typeof P&&null===k.stateNode)throw Error(h(166));u=Sc(jh.current);Sc(hg.current);
Ua(k)?(u=k.stateNode,P=k.memoizedProps,u[Sg]=k,u.nodeValue!==P&&(k.effectTag|=4)):(u=(9===u.nodeType?u:u.ownerDocument).createTextNode(P),u[Sg]=k,k.stateNode=u)}return null;case 13:nd(vf);P=k.memoizedState;if(0!==(k.effectTag&64))return k.expirationTime=u,k;u=null!==P;P=!1;null===e?void 0!==k.memoizedProps.fallback&&Ua(k):(ka=e.memoizedState,P=null!==ka,u||null===ka||(ka=e.child.sibling,null!==ka&&(mb=k.firstEffect,null!==mb?(k.firstEffect=ka,ka.nextEffect=mb):(k.firstEffect=k.lastEffect=ka,ka.nextEffect=
null),ka.effectTag=8)));if(u&&!P&&0!==(k.mode&2))if(null===e&&!0!==k.memoizedProps.unstable_avoidThisFallback||0!==(vf.current&1))Pf===Wg&&(Pf=Gh);else{if(Pf===Wg||Pf===Gh)Pf=Oi;0!==Eg&&null!==fg&&(Pg(fg,of),Bj(fg,Eg))}if(u||P)k.effectTag|=4;return null;case 4:return Id(),ok(k),null;case 10:return je(k),null;case 17:return oe(k.type)&&od(),null;case 19:nd(vf);P=k.memoizedState;if(null===P)return null;ka=0!==(k.effectTag&64);mb=P.rendering;if(null===mb)if(ka)dc(P,!1);else{if(Pf!==Wg||null!==e&&0!==
(e.effectTag&64))for(mb=k.child;null!==mb;){e=ae(mb);if(null!==e){k.effectTag|=64;dc(P,!1);ka=e.updateQueue;null!==ka&&(k.updateQueue=ka,k.effectTag|=4);null===P.lastEffect&&(k.firstEffect=null);k.lastEffect=P.lastEffect;for(P=k.child;null!==P;)ka=P,mb=u,ka.effectTag&=2,ka.nextEffect=null,ka.firstEffect=null,ka.lastEffect=null,e=ka.alternate,null===e?(ka.childExpirationTime=0,ka.expirationTime=mb,ka.child=null,ka.memoizedProps=null,ka.memoizedState=null,ka.updateQueue=null,ka.dependencies=null):(ka.childExpirationTime=
e.childExpirationTime,ka.expirationTime=e.expirationTime,ka.child=e.child,ka.memoizedProps=e.memoizedProps,ka.memoizedState=e.memoizedState,ka.updateQueue=e.updateQueue,mb=e.dependencies,ka.dependencies=null===mb?null:{expirationTime:mb.expirationTime,firstContext:mb.firstContext,responders:mb.responders}),P=P.sibling;cd(vf,vf.current&1|2);return k.child}mb=mb.sibling}}else{if(!ka)if(e=ae(mb),null!==e){if(k.effectTag|=64,ka=!0,u=e.updateQueue,null!==u&&(k.updateQueue=u,k.effectTag|=4),dc(P,!0),null===
P.tail&&"hidden"===P.tailMode&&!mb.alternate)return k=k.lastEffect=P.lastEffect,null!==k&&(k.nextEffect=null),null}else 2*zf()-P.renderingStartTime>P.tailExpiration&&1<u&&(k.effectTag|=64,ka=!0,dc(P,!1),k.expirationTime=k.childExpirationTime=u-1);P.isBackwards?(mb.sibling=k.child,k.child=mb):(u=P.last,null!==u?u.sibling=mb:k.child=mb,P.last=mb)}return null!==P.tail?(0===P.tailExpiration&&(P.tailExpiration=zf()+500),u=P.tail,P.rendering=u,P.tail=u.sibling,P.lastEffect=k.lastEffect,P.renderingStartTime=
zf(),u.sibling=null,k=vf.current,cd(vf,ka?k&1|2:k&1),u):null}throw Error(h(156,k.tag));}function Ac(e){switch(e.tag){case 1:oe(e.type)&&od();var k=e.effectTag;return k&4096?(e.effectTag=k&-4097|64,e):null;case 3:Id();nd(eg);nd(Uf);k=e.effectTag;if(0!==(k&64))throw Error(h(285));e.effectTag=k&-4097|64;return e;case 5:return Ge(e),null;case 13:return nd(vf),k=e.effectTag,k&4096?(e.effectTag=k&-4097|64,e):null;case 19:return nd(vf),null;case 4:return Id(),null;case 10:return je(e),null;default:return null}}
function sd(e,k){return{value:e,source:k,stack:ua(k)}}function Gd(e,k){var u=k.source,P=k.stack;null===P&&null!==u&&(P=ua(u));null!==u&&ya(u.type);k=k.value;null!==e&&1===e.tag&&ya(e.type);try{console.error(k)}catch(ka){setTimeout(function(){throw ka;})}}function Pc(e,k){try{k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(u){Og(e,u)}}function Fd(e){var k=e.ref;if(null!==k)if("function"===typeof k)try{k(null)}catch(u){Og(e,u)}else k.current=null}function Vd(e,k){switch(k.tag){case 0:case 11:case 15:case 22:return;
case 1:if(k.effectTag&256&&null!==e){var u=e.memoizedProps,P=e.memoizedState;e=k.stateNode;k=e.getSnapshotBeforeUpdate(k.elementType===k.type?u:Yd(k.type,u),P);e.__reactInternalSnapshotBeforeUpdate=k}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(h(163));}function te(e,k){k=k.updateQueue;k=null!==k?k.lastEffect:null;if(null!==k){var u=k=k.next;do{if((u.tag&e)===e){var P=u.destroy;u.destroy=void 0;void 0!==P&&P()}u=u.next}while(u!==k)}}function Z(e,k){k=k.updateQueue;k=null!==k?k.lastEffect:
null;if(null!==k){var u=k=k.next;do{if((u.tag&e)===e){var P=u.create;u.destroy=P()}u=u.next}while(u!==k)}}function sa(e,k,u){switch(u.tag){case 0:case 11:case 15:case 22:Z(3,u);return;case 1:e=u.stateNode;if(u.effectTag&4)if(null===k)e.componentDidMount();else{var P=u.elementType===u.type?k.memoizedProps:Yd(u.type,k.memoizedProps);e.componentDidUpdate(P,k.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}k=u.updateQueue;null!==k&&yd(u,k,e);return;case 3:k=u.updateQueue;if(null!==k){e=null;if(null!==
u.child)switch(u.child.tag){case 5:e=u.child.stateNode;break;case 1:e=u.child.stateNode}yd(u,k,e)}return;case 5:e=u.stateNode;null===k&&u.effectTag&4&&Kb(u.type,u.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===u.memoizedState&&(u=u.alternate,null!==u&&(u=u.memoizedState,null!==u&&(u=u.dehydrated,null!==u&&ed(u))));return;case 19:case 17:case 20:case 21:return}throw Error(h(163));}function Ka(e,k,u){"function"===typeof mj&&mj(k);switch(k.tag){case 0:case 11:case 14:case 15:case 22:e=
k.updateQueue;if(null!==e&&(e=e.lastEffect,null!==e)){var P=e.next;bc(97<u?97:u,function(){var ka=P;do{var mb=ka.destroy;if(void 0!==mb){var tb=k;try{mb()}catch(Pb){Og(tb,Pb)}}ka=ka.next}while(ka!==P)})}break;case 1:Fd(k);u=k.stateNode;"function"===typeof u.componentWillUnmount&&Pc(k,u);break;case 5:Fd(k);break;case 4:qc(e,k,u)}}function jb(e){var k=e.alternate;e.return=null;e.child=null;e.memoizedState=null;e.updateQueue=null;e.dependencies=null;e.alternate=null;e.firstEffect=null;e.lastEffect=null;
e.pendingProps=null;e.memoizedProps=null;e.stateNode=null;null!==k&&jb(k)}function yb(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){a:{for(var k=e.return;null!==k;){if(yb(k)){var u=k;break a}k=k.return}throw Error(h(160));}k=u.stateNode;switch(u.tag){case 5:var P=!1;break;case 3:k=k.containerInfo;P=!0;break;case 4:k=k.containerInfo;P=!0;break;default:throw Error(h(161));}u.effectTag&16&&(c(k,""),u.effectTag&=-17);u=e;a:b:for(;;){for(;null===u.sibling;){if(null===u.return||yb(u.return)){u=
null;break a}u=u.return}u.sibling.return=u.return;for(u=u.sibling;5!==u.tag&&6!==u.tag&&18!==u.tag;){if(u.effectTag&2)continue b;if(null===u.child||4===u.tag)continue b;else u.child.return=u,u=u.child}if(!(u.effectTag&2)){u=u.stateNode;break a}}P?gc(e,u,k):hc(e,u,k)}function gc(e,k,u){var P=e.tag,ka=5===P||6===P;if(ka)e=ka?e.stateNode:e.stateNode.instance,k?8===u.nodeType?u.parentNode.insertBefore(e,k):u.insertBefore(e,k):(8===u.nodeType?(k=u.parentNode,k.insertBefore(e,u)):(k=u,k.appendChild(e)),
u=u._reactRootContainer,null!==u&&void 0!==u||null!==k.onclick||(k.onclick=dd));else if(4!==P&&(e=e.child,null!==e))for(gc(e,k,u),e=e.sibling;null!==e;)gc(e,k,u),e=e.sibling}function hc(e,k,u){var P=e.tag,ka=5===P||6===P;if(ka)e=ka?e.stateNode:e.stateNode.instance,k?u.insertBefore(e,k):u.appendChild(e);else if(4!==P&&(e=e.child,null!==e))for(hc(e,k,u),e=e.sibling;null!==e;)hc(e,k,u),e=e.sibling}function qc(e,k,u){for(var P=k,ka=!1,mb,tb;;){if(!ka){ka=P.return;a:for(;;){if(null===ka)throw Error(h(160));
mb=ka.stateNode;switch(ka.tag){case 5:tb=!1;break a;case 3:mb=mb.containerInfo;tb=!0;break a;case 4:mb=mb.containerInfo;tb=!0;break a}ka=ka.return}ka=!0}if(5===P.tag||6===P.tag){var Pb=e,Oc=P,Qc=u,Nd=Oc;a:for(;;)if(Ka(Pb,Nd,Qc),null!==Nd.child&&4!==Nd.tag)Nd.child.return=Nd,Nd=Nd.child;else{if(Nd===Oc)break a;for(;null===Nd.sibling;){if(null===Nd.return||Nd.return===Oc)break a;Nd=Nd.return}Nd.sibling.return=Nd.return;Nd=Nd.sibling}tb?(Pb=mb,Oc=P.stateNode,8===Pb.nodeType?Pb.parentNode.removeChild(Oc):
Pb.removeChild(Oc)):mb.removeChild(P.stateNode)}else if(4===P.tag){if(null!==P.child){mb=P.stateNode.containerInfo;tb=!0;P.child.return=P;P=P.child;continue}}else if(Ka(e,P,u),null!==P.child){P.child.return=P;P=P.child;continue}if(P===k)break;for(;null===P.sibling;){if(null===P.return||P.return===k)return;P=P.return;4===P.tag&&(ka=!1)}P.sibling.return=P.return;P=P.sibling}}function uc(e,k){switch(k.tag){case 0:case 11:case 14:case 15:case 22:te(3,k);return;case 1:return;case 5:var u=k.stateNode;if(null!=
u){var P=k.memoizedProps,ka=null!==e?e.memoizedProps:P;e=k.type;var mb=k.updateQueue;k.updateQueue=null;if(null!==mb){u[yi]=P;"input"===e&&"radio"===P.type&&null!=P.name&&M(u,P);oc(e,ka);k=oc(e,P);for(ka=0;ka<mb.length;ka+=2){var tb=mb[ka],Pb=mb[ka+1];"style"===tb?ac(u,Pb):"dangerouslySetInnerHTML"===tb?zk(u,Pb):"children"===tb?c(u,Pb):Ta(u,tb,Pb,k)}switch(e){case "input":K(u,P);break;case "textarea":fa(u,P);break;case "select":k=u._wrapperState.wasMultiple,u._wrapperState.wasMultiple=!!P.multiple,
e=P.value,null!=e?Da(u,!!P.multiple,e,!1):k!==!!P.multiple&&(null!=P.defaultValue?Da(u,!!P.multiple,P.defaultValue,!0):Da(u,!!P.multiple,P.multiple?[]:"",!1))}}}return;case 6:if(null===k.stateNode)throw Error(h(162));k.stateNode.nodeValue=k.memoizedProps;return;case 3:k=k.stateNode;k.hydrate&&(k.hydrate=!1,ed(k.containerInfo));return;case 12:return;case 13:u=k;null===k.memoizedState?P=!1:(P=!0,u=k.child,nk=zf());if(null!==u)a:for(e=u;;){if(5===e.tag)mb=e.stateNode,P?(mb=mb.style,"function"===typeof mb.setProperty?
mb.setProperty("display","none","important"):mb.display="none"):(mb=e.stateNode,ka=e.memoizedProps.style,ka=void 0!==ka&&null!==ka&&ka.hasOwnProperty("display")?ka.display:null,mb.style.display=Db("display",ka));else if(6===e.tag)e.stateNode.nodeValue=P?"":e.memoizedProps;else if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){mb=e.child.sibling;mb.return=e;e=mb;continue}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===u)break;for(;null===e.sibling;){if(null===
e.return||e.return===u)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}$c(k);return;case 19:$c(k);return;case 17:return}throw Error(h(163));}function $c(e){var k=e.updateQueue;if(null!==k){e.updateQueue=null;var u=e.stateNode;null===u&&(u=e.stateNode=new gl);k.forEach(function(P){var ka=tk.bind(null,e,P);u.has(P)||(u.add(P),P.then(ka,ka))})}}function Kc(e,k,u){u=Ce(u,null);u.tag=3;u.payload={element:null};var P=k.value;u.callback=function(){Bh||(Bh=!0,di=P);Gd(e,k)};return u}function Lc(e,
k,u){u=Ce(u,null);u.tag=3;var P=e.type.getDerivedStateFromError;if("function"===typeof P){var ka=k.value;u.payload=function(){Gd(e,k);return P(ka)}}var mb=e.stateNode;null!==mb&&"function"===typeof mb.componentDidCatch&&(u.callback=function(){"function"!==typeof P&&(null===ih?ih=new Set([this]):ih.add(this),Gd(e,k));var tb=k.stack;this.componentDidCatch(k.value,{componentStack:null!==tb?tb:""})});return u}function Tc(){return(se&(pg|Fg))!==Jf?1073741821-(zf()/10|0):0!==qj?qj:qj=1073741821-(zf()/10|
0)}function ad(e,k,u){k=k.mode;if(0===(k&2))return 1073741823;var P=gf();if(0===(k&4))return 99===P?1073741823:1073741822;if((se&pg)!==Jf)return of;if(null!==u)e=Je(e,u.timeoutMs|0||5E3,250);else switch(P){case 99:e=1073741823;break;case 98:e=Je(e,150,100);break;case 97:case 96:e=Je(e,5E3,250);break;case 95:e=2;break;default:throw Error(h(326));}null!==fg&&e===of&&--e;return e}function kd(e,k){if(50<ci)throw ci=0,Hi=null,Error(h(185));e=ce(e,k);if(null!==e){var u=gf();1073741823===k?(se&Fh)!==Jf&&
(se&(pg|Fg))===Jf?id(e):(Bd(e),se===Jf&&Wc()):Bd(e);(se&4)===Jf||98!==u&&99!==u||(null===Kg?Kg=new Map([[e,k]]):(u=Kg.get(e),(void 0===u||u>k)&&Kg.set(e,k)))}}function ce(e,k){e.expirationTime<k&&(e.expirationTime=k);var u=e.alternate;null!==u&&u.expirationTime<k&&(u.expirationTime=k);var P=e.return,ka=null;if(null===P&&3===e.tag)ka=e.stateNode;else for(;null!==P;){u=P.alternate;P.childExpirationTime<k&&(P.childExpirationTime=k);null!==u&&u.childExpirationTime<k&&(u.childExpirationTime=k);if(null===
P.return&&3===P.tag){ka=P.stateNode;break}P=P.return}null!==ka&&(fg===ka&&(yf(k),Pf===Oi&&Pg(ka,of)),Bj(ka,k));return ka}function Sd(e){var k=e.lastExpiredTime;if(0!==k)return k;k=e.firstPendingTime;if(!Sf(e,k))return k;var u=e.lastPingedTime;e=e.nextKnownPendingLevel;e=u>e?u:e;return 2>=e&&k!==e?0:e}function Bd(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=fc(id.bind(null,e));else{var k=Sd(e),u=e.callbackNode;if(0===k)null!==u&&(e.callbackNode=
null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var P=Tc();1073741823===k?P=99:1===k||2===k?P=95:(P=10*(1073741821-k)-10*(1073741821-P),P=0>=P?99:250>=P?98:5250>=P?97:95);if(null!==u){var ka=e.callbackPriority;if(e.callbackExpirationTime===k&&ka>=P)return;u!==Zk&&Uk(u)}e.callbackExpirationTime=k;e.callbackPriority=P;k=1073741823===k?fc(id.bind(null,e)):$d(P,md.bind(null,e),{timeout:10*(1073741821-k)-zf()});e.callbackNode=k}}}function md(e,k){qj=0;if(k)return k=Tc(),Lh(e,k),Bd(e),null;
var u=Sd(e);if(0!==u){k=e.callbackNode;if((se&(pg|Fg))!==Jf)throw Error(h(327));Hh();e===fg&&u===of||Le(e,u);if(null!==He){var P=se;se|=pg;var ka=ze();do try{for(;null!==He&&!Hl();)He=Lf(He);break}catch(Pb){re(e,Pb)}while(1);Ef=jd=We=null;se=P;Ui.current=ka;if(Pf===Ni)throw k=Xg,Le(e,u),Pg(e,u),Bd(e),k;if(null===He)switch(ka=e.finishedWork=e.current.alternate,e.finishedExpirationTime=u,P=Pf,fg=null,P){case Wg:case Ni:throw Error(h(345));case wj:Lh(e,2<u?2:u);break;case Gh:Pg(e,u);P=e.lastSuspendedTime;
u===P&&(e.nextKnownPendingLevel=Ed(ka));if(1073741823===Ug&&(ka=nk+Zf-zf(),10<ka)){if(vj){var mb=e.lastPingedTime;if(0===mb||mb>=u){e.lastPingedTime=u;Le(e,u);break}}mb=Sd(e);if(0!==mb&&mb!==u)break;if(0!==P&&P!==u){e.lastPingedTime=P;break}e.timeoutHandle=Rj(kf.bind(null,e),ka);break}kf(e);break;case Oi:Pg(e,u);P=e.lastSuspendedTime;u===P&&(e.nextKnownPendingLevel=Ed(ka));if(vj&&(ka=e.lastPingedTime,0===ka||ka>=u)){e.lastPingedTime=u;Le(e,u);break}ka=Sd(e);if(0!==ka&&ka!==u)break;if(0!==P&&P!==u){e.lastPingedTime=
P;break}1073741823!==Qf?P=10*(1073741821-Qf)-zf():1073741823===Ug?P=0:(P=10*(1073741821-Ug)-5E3,ka=zf(),u=10*(1073741821-u)-ka,P=ka-P,0>P&&(P=0),P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3E3>P?3E3:4320>P?4320:1960*jl(P/1960))-P,u<P&&(P=u));if(10<P){e.timeoutHandle=Rj(kf.bind(null,e),P);break}kf(e);break;case Af:if(1073741823!==Ug&&null!==Hf){mb=Ug;var tb=Hf;P=tb.busyMinDurationMs|0;0>=P?P=0:(ka=tb.busyDelayMs|0,mb=zf()-(10*(1073741821-mb)-(tb.timeoutMs|0||5E3)),P=mb<=ka?0:ka+P-mb);if(10<P){Pg(e,
u);e.timeoutHandle=Rj(kf.bind(null,e),P);break}}kf(e);break;default:throw Error(h(329));}Bd(e);if(e.callbackNode===k)return md.bind(null,e)}}return null}function id(e){var k=e.lastExpiredTime;k=0!==k?k:1073741823;if((se&(pg|Fg))!==Jf)throw Error(h(327));Hh();e===fg&&k===of||Le(e,k);if(null!==He){var u=se;se|=pg;var P=ze();do try{for(;null!==He;)He=Lf(He);break}catch(ka){re(e,ka)}while(1);Ef=jd=We=null;se=u;Ui.current=P;if(Pf===Ni)throw u=Xg,Le(e,k),Pg(e,k),Bd(e),u;if(null!==He)throw Error(h(261));
e.finishedWork=e.current.alternate;e.finishedExpirationTime=k;fg=null;kf(e);Bd(e)}return null}function Td(){if(null!==Kg){var e=Kg;Kg=null;e.forEach(function(k,u){Lh(u,k);Bd(u)});Wc()}}function ye(e,k){var u=se;se|=1;try{return e(k)}finally{se=u,se===Jf&&Wc()}}function Qe(e,k){var u=se;se&=-2;se|=Fh;try{return e(k)}finally{se=u,se===Jf&&Wc()}}function Le(e,k){e.finishedWork=null;e.finishedExpirationTime=0;var u=e.timeoutHandle;-1!==u&&(e.timeoutHandle=-1,kl(u));if(null!==He)for(u=He.return;null!==
u;){var P=u;switch(P.tag){case 1:P=P.type.childContextTypes;null!==P&&void 0!==P&&od();break;case 3:Id();nd(eg);nd(Uf);break;case 5:Ge(P);break;case 4:Id();break;case 13:nd(vf);break;case 19:nd(vf);break;case 10:je(P)}u=u.return}fg=e;He=Yg(e.current,null);of=k;Pf=Wg;Xg=null;Qf=Ug=1073741823;Hf=null;Eg=0;vj=!1}function re(e,k){do{try{Ef=jd=We=null;Dh.current=jg;if(Df)for(var u=Ve.memoizedState;null!==u;){var P=u.queue;null!==P&&(P.pending=null);u=u.next}kh=0;Xf=Mf=Ve=null;Df=!1;if(null===He||null===
He.return)return Pf=Ni,Xg=k,He=null;a:{var ka=e,mb=He.return,tb=He,Pb=k;k=of;tb.effectTag|=2048;tb.firstEffect=tb.lastEffect=null;if(null!==Pb&&"object"===typeof Pb&&"function"===typeof Pb.then){var Oc=Pb;if(0===(tb.mode&2)){var Qc=tb.alternate;Qc?(tb.updateQueue=Qc.updateQueue,tb.memoizedState=Qc.memoizedState,tb.expirationTime=Qc.expirationTime):(tb.updateQueue=null,tb.memoizedState=null)}var Nd=0!==(vf.current&1),Md=mb;do{var Re;if(Re=13===Md.tag){var Ze=Md.memoizedState;if(null!==Ze)Re=null!==
Ze.dehydrated?!0:!1;else{var wg=Md.memoizedProps;Re=void 0===wg.fallback?!1:!0!==wg.unstable_avoidThisFallback?!0:Nd?!1:!0}}if(Re){var Nf=Md.updateQueue;if(null===Nf){var Dc=new Set;Dc.add(Oc);Md.updateQueue=Dc}else Nf.add(Oc);if(0===(Md.mode&2)){Md.effectTag|=64;tb.effectTag&=-2981;if(1===tb.tag)if(null===tb.alternate)tb.tag=17;else{var yc=Ce(1073741823,null);yc.tag=2;Ee(tb,yc)}tb.expirationTime=1073741823;break a}Pb=void 0;tb=k;var Uc=ka.pingCache;null===Uc?(Uc=ka.pingCache=new ol,Pb=new Set,Uc.set(Oc,
Pb)):(Pb=Uc.get(Oc),void 0===Pb&&(Pb=new Set,Uc.set(Oc,Pb)));if(!Pb.has(tb)){Pb.add(tb);var td=hl.bind(null,ka,Oc,tb);Oc.then(td,td)}Md.effectTag|=4096;Md.expirationTime=k;break a}Md=Md.return}while(null!==Md);Pb=Error((ya(tb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+ua(tb))}Pf!==Af&&(Pf=wj);Pb=sd(Pb,tb);Md=mb;do{switch(Md.tag){case 3:Oc=
Pb;Md.effectTag|=4096;Md.expirationTime=k;var Jd=Kc(Md,Oc,k);ve(Md,Jd);break a;case 1:Oc=Pb;var Xd=Md.type,qe=Md.stateNode;if(0===(Md.effectTag&64)&&("function"===typeof Xd.getDerivedStateFromError||null!==qe&&"function"===typeof qe.componentDidCatch&&(null===ih||!ih.has(qe)))){Md.effectTag|=4096;Md.expirationTime=k;var Ue=Lc(Md,Oc,k);ve(Md,Ue);break a}}Md=Md.return}while(null!==Md)}He=gg(He)}catch(tf){k=tf;continue}break}while(1)}function ze(){var e=Ui.current;Ui.current=jg;return null===e?jg:e}
function sf(e,k){e<Ug&&2<e&&(Ug=e);null!==k&&e<Qf&&2<e&&(Qf=e,Hf=k)}function yf(e){e>Eg&&(Eg=e)}function Lf(e){var k=lk(e.alternate,e,of);e.memoizedProps=e.pendingProps;null===k&&(k=gg(e));rj.current=null;return k}function gg(e){He=e;do{var k=He.alternate;e=He.return;if(0===(He.effectTag&2048)){k=Ec(k,He,of);if(1===of||1!==He.childExpirationTime){for(var u=0,P=He.child;null!==P;){var ka=P.expirationTime,mb=P.childExpirationTime;ka>u&&(u=ka);mb>u&&(u=mb);P=P.sibling}He.childExpirationTime=u}if(null!==
k)return k;null!==e&&0===(e.effectTag&2048)&&(null===e.firstEffect&&(e.firstEffect=He.firstEffect),null!==He.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=He.firstEffect),e.lastEffect=He.lastEffect),1<He.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=He:e.firstEffect=He,e.lastEffect=He))}else{k=Ac(He);if(null!==k)return k.effectTag&=2047,k;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}k=He.sibling;if(null!==k)return k;He=e}while(null!==He);Pf===Wg&&(Pf=Af);return null}
function Ed(e){var k=e.expirationTime;e=e.childExpirationTime;return k>e?k:e}function kf(e){var k=gf();bc(99,Mg.bind(null,e,k));return null}function Mg(e,k){do Hh();while(null!==hh);if((se&(pg|Fg))!==Jf)throw Error(h(327));var u=e.finishedWork,P=e.finishedExpirationTime;if(null===u)return null;e.finishedWork=null;e.finishedExpirationTime=0;if(u===e.current)throw Error(h(177));e.callbackNode=null;e.callbackExpirationTime=0;e.callbackPriority=90;e.nextKnownPendingLevel=0;var ka=Ed(u);e.firstPendingTime=
ka;P<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:P<=e.firstSuspendedTime&&(e.firstSuspendedTime=P-1);P<=e.lastPingedTime&&(e.lastPingedTime=0);P<=e.lastExpiredTime&&(e.lastExpiredTime=0);e===fg&&(He=fg=null,of=0);1<u.effectTag?null!==u.lastEffect?(u.lastEffect.nextEffect=u,ka=u.firstEffect):ka=u:ka=u.firstEffect;if(null!==ka){var mb=se;se|=Fg;rj.current=null;fj=Uh;var tb=wb();if(Fb(tb)){if("selectionStart"in tb)var Pb={start:tb.selectionStart,end:tb.selectionEnd};
else a:{Pb=(Pb=tb.ownerDocument)&&Pb.defaultView||window;var Oc=Pb.getSelection&&Pb.getSelection();if(Oc&&0!==Oc.rangeCount){Pb=Oc.anchorNode;var Qc=Oc.anchorOffset,Nd=Oc.focusNode;Oc=Oc.focusOffset;try{Pb.nodeType,Nd.nodeType}catch(Ne){Pb=null;break a}var Md=0,Re=-1,Ze=-1,wg=0,Nf=0,Dc=tb,yc=null;b:for(;;){for(var Uc;;){Dc!==Pb||0!==Qc&&3!==Dc.nodeType||(Re=Md+Qc);Dc!==Nd||0!==Oc&&3!==Dc.nodeType||(Ze=Md+Oc);3===Dc.nodeType&&(Md+=Dc.nodeValue.length);if(null===(Uc=Dc.firstChild))break;yc=Dc;Dc=Uc}for(;;){if(Dc===
tb)break b;yc===Pb&&++wg===Qc&&(Re=Md);yc===Nd&&++Nf===Oc&&(Ze=Md);if(null!==(Uc=Dc.nextSibling))break;Dc=yc;yc=Dc.parentNode}Dc=Uc}Pb=-1===Re||-1===Ze?null:{start:Re,end:Ze}}else Pb=null}Pb=Pb||{start:0,end:0}}else Pb=null;gj={activeElementDetached:null,focusedElem:tb,selectionRange:Pb};Uh=!1;Zd=ka;do try{Vg()}catch(Ne){if(null===Zd)throw Error(h(330));Og(Zd,Ne);Zd=Zd.nextEffect}while(null!==Zd);Zd=ka;do try{for(tb=e,Pb=k;null!==Zd;){var td=Zd.effectTag;td&16&&c(Zd.stateNode,"");if(td&128){var Jd=
Zd.alternate;if(null!==Jd){var Xd=Jd.ref;null!==Xd&&("function"===typeof Xd?Xd(null):Xd.current=null)}}switch(td&1038){case 2:cc(Zd);Zd.effectTag&=-3;break;case 6:cc(Zd);Zd.effectTag&=-3;uc(Zd.alternate,Zd);break;case 1024:Zd.effectTag&=-1025;break;case 1028:Zd.effectTag&=-1025;uc(Zd.alternate,Zd);break;case 4:uc(Zd.alternate,Zd);break;case 8:Qc=Zd,qc(tb,Qc,Pb),jb(Qc)}Zd=Zd.nextEffect}}catch(Ne){if(null===Zd)throw Error(h(330));Og(Zd,Ne);Zd=Zd.nextEffect}while(null!==Zd);Xd=gj;Jd=wb();td=Xd.focusedElem;
Pb=Xd.selectionRange;if(Jd!==td&&td&&td.ownerDocument&&$a(td.ownerDocument.documentElement,td)){null!==Pb&&Fb(td)&&(Jd=Pb.start,Xd=Pb.end,void 0===Xd&&(Xd=Jd),"selectionStart"in td?(td.selectionStart=Jd,td.selectionEnd=Math.min(Xd,td.value.length)):(Xd=(Jd=td.ownerDocument||document)&&Jd.defaultView||window,Xd.getSelection&&(Xd=Xd.getSelection(),Qc=td.textContent.length,tb=Math.min(Pb.start,Qc),Pb=void 0===Pb.end?tb:Math.min(Pb.end,Qc),!Xd.extend&&tb>Pb&&(Qc=Pb,Pb=tb,tb=Qc),Qc=oa(td,tb),Nd=oa(td,
Pb),Qc&&Nd&&(1!==Xd.rangeCount||Xd.anchorNode!==Qc.node||Xd.anchorOffset!==Qc.offset||Xd.focusNode!==Nd.node||Xd.focusOffset!==Nd.offset)&&(Jd=Jd.createRange(),Jd.setStart(Qc.node,Qc.offset),Xd.removeAllRanges(),tb>Pb?(Xd.addRange(Jd),Xd.extend(Nd.node,Nd.offset)):(Jd.setEnd(Nd.node,Nd.offset),Xd.addRange(Jd))))));Jd=[];for(Xd=td;Xd=Xd.parentNode;)1===Xd.nodeType&&Jd.push({element:Xd,left:Xd.scrollLeft,top:Xd.scrollTop});"function"===typeof td.focus&&td.focus();for(td=0;td<Jd.length;td++)Xd=Jd[td],
Xd.element.scrollLeft=Xd.left,Xd.element.scrollTop=Xd.top}Uh=!!fj;gj=fj=null;e.current=u;Zd=ka;do try{for(td=e;null!==Zd;){var qe=Zd.effectTag;qe&36&&sa(td,Zd.alternate,Zd);if(qe&128){Jd=void 0;var Ue=Zd.ref;if(null!==Ue){var tf=Zd.stateNode;switch(Zd.tag){case 5:Jd=tf;break;default:Jd=tf}"function"===typeof Ue?Ue(Jd):Ue.current=Jd}}Zd=Zd.nextEffect}}catch(Ne){if(null===Zd)throw Error(h(330));Og(Zd,Ne);Zd=Zd.nextEffect}while(null!==Zd);Zd=null;Il();se=mb}else e.current=u;if(Ah)Ah=!1,hh=e,Ji=k;else for(Zd=
ka;null!==Zd;)k=Zd.nextEffect,Zd.nextEffect=null,Zd=k;k=e.firstPendingTime;0===k&&(ih=null);1073741823===k?e===Hi?ci++:(ci=0,Hi=e):ci=0;"function"===typeof Ii&&Ii(u.stateNode,P);Bd(e);if(Bh)throw Bh=!1,e=di,di=null,e;if((se&Fh)!==Jf)return null;Wc();return null}function Vg(){for(;null!==Zd;){var e=Zd.effectTag;0!==(e&256)&&Vd(Zd.alternate,Zd);0===(e&512)||Ah||(Ah=!0,$d(97,function(){Hh();return null}));Zd=Zd.nextEffect}}function Hh(){if(90!==Ji){var e=97<Ji?97:Ji;Ji=90;return bc(e,xj)}}function xj(){if(null===
hh)return!1;var e=hh;hh=null;if((se&(pg|Fg))!==Jf)throw Error(h(331));var k=se;se|=Fg;for(e=e.current.firstEffect;null!==e;){try{var u=e;if(0!==(u.effectTag&512))switch(u.tag){case 0:case 11:case 15:case 22:te(5,u),Z(5,u)}}catch(P){if(null===e)throw Error(h(330));Og(e,P)}u=e.nextEffect;e.nextEffect=null;e=u}se=k;Wc();return!0}function Qi(e,k,u){k=sd(u,k);k=Kc(e,k,1073741823);Ee(e,k);e=ce(e,1073741823);null!==e&&Bd(e)}function Og(e,k){if(3===e.tag)Qi(e,e,k);else for(var u=e.return;null!==u;){if(3===
u.tag){Qi(u,e,k);break}else if(1===u.tag){var P=u.stateNode;if("function"===typeof u.type.getDerivedStateFromError||"function"===typeof P.componentDidCatch&&(null===ih||!ih.has(P))){e=sd(k,e);e=Lc(u,e,1073741823);Ee(u,e);u=ce(u,1073741823);null!==u&&Bd(u);break}}u=u.return}}function hl(e,k,u){var P=e.pingCache;null!==P&&P.delete(k);fg===e&&of===u?Pf===Oi||Pf===Gh&&1073741823===Ug&&zf()-nk<Zf?Le(e,of):vj=!0:Sf(e,u)&&(k=e.lastPingedTime,0!==k&&k<u||(e.lastPingedTime=u,Bd(e)))}function tk(e,k){var u=
e.stateNode;null!==u&&u.delete(k);k=0;0===k&&(k=Tc(),k=ad(k,e,null));e=ce(e,k);null!==e&&Bd(e)}function Kh(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var k=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(k.isDisabled||!k.supportsFiber)return!0;try{var u=k.inject(e);Ii=function(P){try{k.onCommitFiberRoot(u,P,void 0,64===(P.current.effectTag&64))}catch(ka){}};mj=function(P){try{k.onCommitFiberUnmount(u,P)}catch(ka){}}}catch(P){}return!0}function zj(e,k,u,P){this.tag=e;this.key=u;this.sibling=
this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=k;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=P;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function ig(e,k,u,P){return new zj(e,k,u,P)}function Ri(e){e=e.prototype;return!(!e||!e.isReactComponent)}function uk(e){if("function"===typeof e)return Ri(e)?
1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===qi)return 11;if(e===$i)return 14}return 2}function Yg(e,k){var u=e.alternate;null===u?(u=ig(e.tag,k,e.key,e.mode),u.elementType=e.elementType,u.type=e.type,u.stateNode=e.stateNode,u.alternate=e,e.alternate=u):(u.pendingProps=k,u.effectTag=0,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null);u.childExpirationTime=e.childExpirationTime;u.expirationTime=e.expirationTime;u.child=e.child;u.memoizedProps=e.memoizedProps;u.memoizedState=e.memoizedState;
u.updateQueue=e.updateQueue;k=e.dependencies;u.dependencies=null===k?null:{expirationTime:k.expirationTime,firstContext:k.firstContext,responders:k.responders};u.sibling=e.sibling;u.index=e.index;u.ref=e.ref;return u}function Si(e,k,u,P,ka,mb){var tb=2;P=e;if("function"===typeof e)Ri(e)&&(tb=1);else if("string"===typeof e)tb=5;else a:switch(e){case bh:return nf(u.children,ka,mb,k);case rh:tb=8;ka|=7;break;case yk:tb=8;ka|=1;break;case ri:return e=ig(12,u,k,ka|8),e.elementType=ri,e.type=ri,e.expirationTime=
mb,e;case Zi:return e=ig(13,u,k,ka),e.type=Zi,e.elementType=Zi,e.expirationTime=mb,e;case ti:return e=ig(19,u,k,ka),e.elementType=ti,e.expirationTime=mb,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case si:tb=10;break a;case Gj:tb=9;break a;case qi:tb=11;break a;case $i:tb=14;break a;case Hj:tb=16;P=null;break a;case yj:tb=22;break a}throw Error(h(130,null==e?e:typeof e,""));}k=ig(tb,u,k,ka);k.elementType=e;k.type=P;k.expirationTime=mb;return k}function nf(e,k,u,P){e=ig(7,e,P,k);
e.expirationTime=u;return e}function Ti(e,k,u){e=ig(6,e,null,k);e.expirationTime=u;return e}function Aj(e,k,u){k=ig(4,null!==e.children?e.children:[],e.key,k);k.expirationTime=u;k.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return k}function ji(e,k,u){this.tag=k;this.current=null;this.containerInfo=e;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=
null;this.hydrate=u;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Sf(e,k){var u=e.firstSuspendedTime;e=e.lastSuspendedTime;return 0!==u&&u>=k&&e<=k}function Pg(e,k){var u=e.firstSuspendedTime,P=e.lastSuspendedTime;u<k&&(e.firstSuspendedTime=k);if(P>k||0===u)e.lastSuspendedTime=k;k<=e.lastPingedTime&&(e.lastPingedTime=0);k<=e.lastExpiredTime&&(e.lastExpiredTime=
0)}function Bj(e,k){k>e.firstPendingTime&&(e.firstPendingTime=k);var u=e.firstSuspendedTime;0!==u&&(k>=u?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:k>=e.lastSuspendedTime&&(e.lastSuspendedTime=k+1),k>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=k))}function Lh(e,k){var u=e.lastExpiredTime;if(0===u||u>k)e.lastExpiredTime=k}function ki(e,k,u,P){var ka=k.current,mb=Tc(),tb=Eh.suspense;mb=ad(mb,ka,tb);a:if(u){u=u._reactInternalFiber;b:{if(q(u)!==u||1!==u.tag)throw Error(h(170));
var Pb=u;do{switch(Pb.tag){case 3:Pb=Pb.stateNode.context;break b;case 1:if(oe(Pb.type)){Pb=Pb.stateNode.__reactInternalMemoizedMergedChildContext;break b}}Pb=Pb.return}while(null!==Pb);throw Error(h(171));}if(1===u.tag){var Oc=u.type;if(oe(Oc)){u=ne(u,Oc,Pb);break a}}u=Pb}else u=Ig;null===k.context?k.context=u:k.pendingContext=u;k=Ce(mb,tb);k.payload={element:e};P=void 0===P?null:P;null!==P&&(k.callback=P);Ee(ka,k);kd(ka,mb);return mb}function Mh(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;
default:return e.child.stateNode}}function Qg(e,k){e=e.memoizedState;null!==e&&null!==e.dehydrated&&e.retryTime<k&&(e.retryTime=k)}function Cj(e,k){Qg(e,k);(e=e.alternate)&&Qg(e,k)}function nh(e,k,u){u=null!=u&&!0===u.hydrate;var P=new ji(e,k,u),ka=ig(3,null,null,2===k?7:1===k?3:0);P.current=ka;ka.stateNode=P;we(ka);e[zi]=P.current;u&&0!==k&&ob(e,9===e.nodeType?e:e.ownerDocument);this._internalRoot=P}function Nh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==
e.nodeValue))}function qg(e,k){k||(k=e?9===e.nodeType?e.documentElement:e.firstChild:null,k=!(!k||1!==k.nodeType||!k.hasAttribute("data-reactroot")));if(!k)for(var u;u=e.lastChild;)e.removeChild(u);return new nh(e,0,k?{hydrate:!0}:void 0)}function li(e,k,u,P,ka){var mb=u._reactRootContainer;if(mb){var tb=mb._internalRoot;if("function"===typeof ka){var Pb=ka;ka=function(){var Qc=Mh(tb);Pb.call(Qc)}}ki(k,tb,e,ka)}else{mb=u._reactRootContainer=qg(u,P);tb=mb._internalRoot;if("function"===typeof ka){var Oc=
ka;ka=function(){var Qc=Mh(tb);Oc.call(Qc)}}Qe(function(){ki(k,tb,e,ka)})}return Mh(tb)}function il(e,k,u){var P=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:bf,key:null==P?null:""+P,children:e,containerInfo:k,implementation:u}}function vk(e,k){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nh(k))throw Error(h(200));return il(e,k,null,u)}var Oh=zb(63),bg=zb(58),Of=zb(66);if(!Oh)throw Error(h(227));var Ph=!1,mi=null,Ng=!1,ni=null,wk={onError:function(e){Ph=
!0;mi=e}},kg=null,xk=null,oi=null,rg=null,Zg={},$g=[],oh={},Gg={},Qh={},Rg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),pi=null,ph=null,ah=null,Dj=Sa,qh=!1,Wi=!1,dg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Ej=Object.prototype.hasOwnProperty,Fj={},Xi={},Cf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cf[e]=new Qa(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var k=e[0];Cf[k]=new Qa(k,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cf[e]=
new Qa(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cf[e]=new Qa(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cf[e]=new Qa(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cf[e]=
new Qa(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){Cf[e]=new Qa(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){Cf[e]=new Qa(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){Cf[e]=new Qa(e,5,!1,e.toLowerCase(),null,!1)});var Yi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var k=
e.replace(Yi,za);Cf[k]=new Qa(k,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var k=e.replace(Yi,za);Cf[k]=new Qa(k,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var k=e.replace(Yi,za);Cf[k]=new Qa(k,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){Cf[e]=new Qa(e,1,!1,e.toLowerCase(),null,!1)});Cf.xlinkHref=new Qa("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){Cf[e]=new Qa(e,1,!1,e.toLowerCase(),null,!0)});var sg=Oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;sg.hasOwnProperty("ReactCurrentDispatcher")||(sg.ReactCurrentDispatcher={current:null});sg.hasOwnProperty("ReactCurrentBatchConfig")||(sg.ReactCurrentBatchConfig={suspense:null});var Xe=/^(.*)[\\\/]/,Tf="function"===typeof Symbol&&Symbol.for,If=Tf?Symbol.for("react.element"):60103,bf=
Tf?Symbol.for("react.portal"):60106,bh=Tf?Symbol.for("react.fragment"):60107,yk=Tf?Symbol.for("react.strict_mode"):60108,ri=Tf?Symbol.for("react.profiler"):60114,si=Tf?Symbol.for("react.provider"):60109,Gj=Tf?Symbol.for("react.context"):60110,rh=Tf?Symbol.for("react.concurrent_mode"):60111,qi=Tf?Symbol.for("react.forward_ref"):60112,Zi=Tf?Symbol.for("react.suspense"):60113,ti=Tf?Symbol.for("react.suspense_list"):60120,$i=Tf?Symbol.for("react.memo"):60115,Hj=Tf?Symbol.for("react.lazy"):60116,yj=Tf?
Symbol.for("react.block"):60121,Ij="function"===typeof Symbol&&Symbol.iterator,mh,zk=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(k,u,P,ka){MSApp.execUnsafeLocalFunction(function(){return e(k,u,P,ka)})}:e}(function(e,k){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=k;else{mh=mh||document.createElement("div");mh.innerHTML="\x3csvg\x3e"+k.valueOf().toString()+"\x3c/svg\x3e";for(k=mh.firstChild;e.firstChild;)e.removeChild(e.firstChild);
for(;k.firstChild;)e.appendChild(k.firstChild)}}),ch={animationend:f("Animation","AnimationEnd"),animationiteration:f("Animation","AnimationIteration"),animationstart:f("Animation","AnimationStart"),transitionend:f("Transition","TransitionEnd")},sh={},Jj={};Rg&&(Jj=document.createElement("div").style,"AnimationEvent"in window||(delete ch.animationend.animation,delete ch.animationiteration.animation,delete ch.animationstart.animation),"TransitionEvent"in window||delete ch.transitionend.transition);
var Ak=l("animationend"),Kj=l("animationiteration"),Bk=l("animationstart"),Ck=l("transitionend"),th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dk=new ("function"===typeof WeakMap?WeakMap:Map),uh=null,ui=[],aj=!1,Ag=[],lg=null,Bg=null,mg=null,dh=new Map,Rh=new Map,Sh=[],vi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
Ek="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),bj={},wi=new Map,cj=new Map,Fk=["abort","abort",Ak,"animationEnd",Kj,"animationIteration",Bk,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ck,"transitionEnd","waiting","waiting"];Ad("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Ad("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ad(Fk,2);for(var Lj="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),dj=0;dj<Lj.length;dj++)cj.set(Lj[dj],0);var Nj=Of.unstable_UserBlockingPriority,Gk=Of.unstable_runWithPriority,
Uh=!0,Th={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hk=["Webkit","ms","Moz","O"];Object.keys(Th).forEach(function(e){Hk.forEach(function(k){k=k+e.charAt(0).toUpperCase()+e.substring(1);Th[k]=Th[e]})});var Ik=bg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Oj="$",Pj="/$",ej="$?",Qj="$!",fj=null,gj=null,Rj="function"===typeof setTimeout?
setTimeout:void 0,kl="function"===typeof clearTimeout?clearTimeout:void 0,xi=Math.random().toString(36).slice(2),Sg="__reactInternalInstance$"+xi,yi="__reactEventHandlers$"+xi,zi="__reactContainere$"+xi,eh=null,Sj=null,Vh=null;bg(zd.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?
e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){this.isPersistent=rc},isPersistent:Vc,destructor:function(){var e=this.constructor.Interface,k;for(k in e)this[k]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=Vc;this._dispatchInstances=this._dispatchListeners=null}});zd.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};zd.extend=function(e){function k(){}function u(){return P.apply(this,arguments)}var P=this;k.prototype=P.prototype;var ka=new k;bg(ka,u.prototype);u.prototype=ka;u.prototype.constructor=u;u.Interface=bg({},P.Interface,e);u.extend=P.extend;qd(u);return u};qd(zd);var ll=zd.extend({data:null}),ml=zd.extend({data:null}),nl=[9,13,27,32],Bi=Rg&&"CompositionEvent"in window,Xh=null;Rg&&
"documentMode"in document&&(Xh=document.documentMode);var Uj=Rg&&"TextEvent"in window&&!Xh,tg=Rg&&(!Bi||Xh&&8<Xh&&11>=Xh),Vj=String.fromCharCode(32),Hg={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Wj=!1,Zh=!1,Xj={eventTypes:Hg,extractEvents:function(e,k,u,P){var ka;if(Bi)a:{switch(e){case "compositionstart":var mb=Hg.compositionStart;break a;case "compositionend":mb=Hg.compositionEnd;
break a;case "compositionupdate":mb=Hg.compositionUpdate;break a}mb=void 0}else Zh?Od(e,u)&&(mb=Hg.compositionEnd):"keydown"===e&&229===u.keyCode&&(mb=Hg.compositionStart);mb?(tg&&"ko"!==u.locale&&(Zh||mb!==Hg.compositionStart?mb===Hg.compositionEnd&&Zh&&(ka=lc()):(eh=P,Sj="value"in eh?eh.value:eh.textContent,Zh=!0)),mb=ll.getPooled(mb,k,u,P),ka?mb.data=ka:(ka=fe(u),null!==ka&&(mb.data=ka)),nc(mb),ka=mb):ka=null;(e=Uj?le(e,u):Kd(e,u))?(k=ml.getPooled(Hg.beforeInput,k,u,P),k.data=e,nc(k)):k=null;return null===
ka?k:null===k?ka:[ka,k]}},gh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},jj={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Di=null,Yh=null,Ci=!1;Rg&&(Ci=Q("input")&&(!document.documentMode||9<document.documentMode));var pl={eventTypes:jj,_isInputEventSupported:Ci,extractEvents:function(e,
k,u,P){var ka=k?Za(k):window,mb=ka.nodeName&&ka.nodeName.toLowerCase();if("select"===mb||"input"===mb&&"file"===ka.type)var tb=be;else if(Ie(ka))if(Ci)tb=Lb;else{tb=rb;var Pb=Fa}else(mb=ka.nodeName)&&"input"===mb.toLowerCase()&&("checkbox"===ka.type||"radio"===ka.type)&&(tb=gb);if(tb&&(tb=tb(e,k)))return he(tb,u,P);Pb&&Pb(e,ka,k);"blur"===e&&(e=ka._wrapperState)&&e.controlled&&"number"===ka.type&&R(ka,"number",ka.value)}},vh=zd.extend({view:null,detail:null}),kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",
Shift:"shiftKey"},Yj=0,Zj=0,ak=!1,bk=!1,Ei=vh.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kc,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var k=Yj;Yj=e.screenX;return ak?"mousemove"===e.type?e.screenX-k:0:(ak=!0,0)},movementY:function(e){if("movementY"in
e)return e.movementY;var k=Zj;Zj=e.screenY;return bk?"mousemove"===e.type?e.screenY-k:0:(bk=!0,0)}}),Lk=Ei.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout",
"pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},sl={eventTypes:Fi,extractEvents:function(e,k,u,P,ka){var mb="mouseover"===e||"pointerover"===e,tb="mouseout"===e||"pointerout"===e;if(mb&&0===(ka&32)&&(u.relatedTarget||u.fromElement)||!tb&&!mb)return null;mb=P.window===P?P:(mb=P.ownerDocument)?mb.defaultView||mb.parentWindow:window;if(tb){if(tb=k,k=(k=u.relatedTarget||u.toElement)?Fc(k):null,null!==k){var Pb=q(k);if(k!==Pb||5!==k.tag&&6!==
k.tag)k=null}}else tb=null;if(tb===k)return null;if("mouseout"===e||"mouseover"===e)var Oc=Ei,Qc=Fi.mouseLeave,Nd=Fi.mouseEnter,Md="mouse";else if("pointerout"===e||"pointerover"===e)Oc=Lk,Qc=Fi.pointerLeave,Nd=Fi.pointerEnter,Md="pointer";e=null==tb?mb:Za(tb);mb=null==k?mb:Za(k);Qc=Oc.getPooled(Qc,tb,u,P);Qc.type=Md+"leave";Qc.target=e;Qc.relatedTarget=mb;u=Oc.getPooled(Nd,k,u,P);u.type=Md+"enter";u.target=mb;u.relatedTarget=e;P=tb;Md=k;if(P&&Md)a:{Oc=P;Nd=Md;tb=0;for(e=Oc;e;e=Ub(e))tb++;e=0;for(k=
Nd;k;k=Ub(k))e++;for(;0<tb-e;)Oc=Ub(Oc),tb--;for(;0<e-tb;)Nd=Ub(Nd),e--;for(;tb--;){if(Oc===Nd||Oc===Nd.alternate)break a;Oc=Ub(Oc);Nd=Ub(Nd)}Oc=null}else Oc=null;Nd=Oc;for(Oc=[];P&&P!==Nd;){tb=P.alternate;if(null!==tb&&tb===Nd)break;Oc.push(P);P=Ub(P)}for(P=[];Md&&Md!==Nd;){tb=Md.alternate;if(null!==tb&&tb===Nd)break;P.push(Md);Md=Ub(Md)}for(Md=0;Md<Oc.length;Md++)Cb(Oc[Md],"bubbled",Qc);for(Md=P.length;0<Md--;)Cb(P[Md],"captured",u);return 0===(ka&64)?[Qc]:[Qc,u]}},wh="function"===typeof Object.is?
Object.is:Zc,Mk=Object.prototype.hasOwnProperty,rl=Rg&&"documentMode"in document&&11>=document.documentMode,ck={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},xh=null,lj=null,$h=null,dk=!1,tl={eventTypes:ck,extractEvents:function(e,k,u,P,ka,mb){ka=mb||(P.window===P?P.document:9===P.nodeType?P:P.ownerDocument);if(!(mb=!ka)){a:{ka=m(ka);mb=Qh.onSelect;for(var tb=
0;tb<mb.length;tb++)if(!ka.has(mb[tb])){ka=!1;break a}ka=!0}mb=!ka}if(mb)return null;ka=k?Za(k):window;switch(e){case "focus":if(Ie(ka)||"true"===ka.contentEditable)xh=ka,lj=k,$h=null;break;case "blur":$h=lj=xh=null;break;case "mousedown":dk=!0;break;case "contextmenu":case "mouseup":case "dragend":return dk=!1,Nc(u,P);case "selectionchange":if(rl)break;case "keydown":case "keyup":return Nc(u,P)}return null}},Nk=zd.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ul=zd.extend({clipboardData:function(e){return"clipboardData"in
e?e.clipboardData:window.clipboardData}}),Bf=vh.extend({relatedTarget:null}),zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih=vh.extend({key:function(e){if(e.key){var k=zg[e.key]||e.key;if("Unidentified"!==k)return k}return"keypress"===e.type?(e=Yb(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Mj[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:kc,charCode:function(e){return"keypress"===e.type?Yb(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yb(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ok=Ei.extend({dataTransfer:null}),Dl=vh.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kc}),El=zd.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Sk=
Ei.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Tk={eventTypes:bj,extractEvents:function(e,k,u,P){var ka=wi.get(e);if(!ka)return null;switch(e){case "keypress":if(0===Yb(u))return null;case "keydown":case "keyup":e=Ih;break;case "blur":case "focus":e=Bf;break;case "click":if(2===u.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":e=
Ei;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":e=Ok;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":e=Dl;break;case Ak:case Kj:case Bk:e=Nk;break;case Ck:e=El;break;case "scroll":e=vh;break;case "wheel":e=Sk;break;case "copy":case "cut":case "paste":e=ul;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":e=
Lk;break;default:e=zd}k=e.getPooled(ka,k,u,P);nc(k);return k}};if(rg)throw Error(h(101));rg=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));bb();var ik=va;kg=pb;xk=ik;oi=Za;Gb({SimpleEventPlugin:Tk,EnterLeaveEventPlugin:sl,ChangeEventPlugin:pl,SelectEventPlugin:tl,BeforeInputEventPlugin:Xj});var ai=[],bi=-1,Ig={},Uf={current:Ig},eg={current:!1},Jg=Ig,Fl=Of.unstable_runWithPriority,kk=Of.unstable_scheduleCallback,
Uk=Of.unstable_cancelCallback,Vk=Of.unstable_requestPaint,jk=Of.unstable_now,Gl=Of.unstable_getCurrentPriorityLevel,oj=Of.unstable_ImmediatePriority,Xk=Of.unstable_UserBlockingPriority,Wk=Of.unstable_NormalPriority,pj=Of.unstable_LowPriority,Yk=Of.unstable_IdlePriority,Zk={},Hl=Of.unstable_shouldYield,Il=void 0!==Vk?Vk:function(){},Dg=null,ei=null,mk=!1,Li=jk(),zf=1E4>Li?jk:function(){return jk()-Li},xe={current:null},We=null,jd=null,Ef=null,ag=!1,Eh=sg.ReactCurrentBatchConfig,Mi=(new Oh.Component).refs,
fi={isMounted:function(e){return(e=e._reactInternalFiber)?q(e)===e:!1},enqueueSetState:function(e,k,u){e=e._reactInternalFiber;var P=Tc(),ka=Eh.suspense;P=ad(P,e,ka);ka=Ce(P,ka);ka.payload=k;void 0!==u&&null!==u&&(ka.callback=u);Ee(e,ka);kd(e,P)},enqueueReplaceState:function(e,k,u){e=e._reactInternalFiber;var P=Tc(),ka=Eh.suspense;P=ad(P,e,ka);ka=Ce(P,ka);ka.tag=1;ka.payload=k;void 0!==u&&null!==u&&(ka.callback=u);Ee(e,ka);kd(e,P)},enqueueForceUpdate:function(e,k){e=e._reactInternalFiber;var u=Tc(),
P=Eh.suspense;u=ad(u,e,P);P=Ce(u,P);P.tag=2;void 0!==k&&null!==k&&(P.callback=k);Ee(e,P);kd(e,u)}},sj=Array.isArray,Ch=Xc(!0),tj=Xc(!1),Yf={},hg={current:Yf},hi={current:Yf},jh={current:Yf},vf={current:0},Dh=sg.ReactCurrentDispatcher,ug=sg.ReactCurrentBatchConfig,kh=0,Ve=null,Mf=null,Xf=null,Df=!1,jg={readContext:rd,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useResponder:me,useDeferredValue:me,
useTransition:me},ek={readContext:rd,useCallback:Vf,useContext:rd,useEffect:Te,useImperativeHandle:function(e,k,u){u=null!==u&&void 0!==u?u.concat([e]):null;return Oe(4,2,af.bind(null,k,e),u)},useLayoutEffect:function(e,k){return Oe(4,2,e,k)},useMemo:function(e,k){var u=Pe();k=void 0===k?null:k;e=e();u.memoizedState=[e,k];return e},useReducer:function(e,k,u){var P=Pe();k=void 0!==u?u(k):k;P.memoizedState=P.baseState=k;e=P.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:k};
e=e.dispatch=T.bind(null,Ve,e);return[P.memoizedState,e]},useRef:function(e){var k=Pe();e={current:e};return k.memoizedState=e},useState:cf,useDebugValue:Gf,useResponder:ge,useDeferredValue:function(e,k){var u=cf(e),P=u[0],ka=u[1];Te(function(){var mb=ug.suspense;ug.suspense=void 0===k?null:k;try{ka(e)}finally{ug.suspense=mb}},[e,k]);return P},useTransition:function(e){var k=cf(!1),u=k[0];k=k[1];return[Vf(O.bind(null,k,e),[k,e]),u]}},Jl={readContext:rd,useCallback:B,useContext:rd,useEffect:$e,useImperativeHandle:Wf,
useLayoutEffect:Ff,useMemo:D,useReducer:Kf,useRef:xf,useState:function(){return Kf(ef)},useDebugValue:Gf,useResponder:ge,useDeferredValue:function(e,k){var u=Kf(ef),P=u[0],ka=u[1];$e(function(){var mb=ug.suspense;ug.suspense=void 0===k?null:k;try{ka(e)}finally{ug.suspense=mb}},[e,k]);return P},useTransition:function(e){var k=Kf(ef),u=k[0];k=k[1];return[B(O.bind(null,k,e),[k,e]),u]}},Tg={readContext:rd,useCallback:B,useContext:rd,useEffect:$e,useImperativeHandle:Wf,useLayoutEffect:Ff,useMemo:D,useReducer:wf,
useRef:xf,useState:function(){return wf(ef)},useDebugValue:Gf,useResponder:ge,useDeferredValue:function(e,k){var u=wf(ef),P=u[0],ka=u[1];$e(function(){var mb=ug.suspense;ug.suspense=void 0===k?null:k;try{ka(e)}finally{ug.suspense=mb}},[e,k]);return P},useTransition:function(e){var k=wf(ef),u=k[0];k=k[1];return[B(O.bind(null,k,e),[k,e]),u]}},vg=null,Lg=null,Rf=!1,Vi=sg.ReactCurrentOwner,xg=!1,uj={dehydrated:null,retryTime:0};var el=function(e,k){for(var u=k.child;null!==u;){if(5===u.tag||6===u.tag)e.appendChild(u.stateNode);
else if(4!==u.tag&&null!==u.child){u.child.return=u;u=u.child;continue}if(u===k)break;for(;null===u.sibling;){if(null===u.return||u.return===k)return;u=u.return}u.sibling.return=u.return;u=u.sibling}};var ok=function(){};var ql=function(e,k,u,P,ka){var mb=e.memoizedProps;if(mb!==P){var tb=k.stateNode;Sc(hg.current);e=null;switch(u){case "input":mb=I(tb,mb);P=I(tb,P);e=[];break;case "option":mb=da(tb,mb);P=da(tb,P);e=[];break;case "select":mb=bg({},mb,{value:void 0});P=bg({},P,{value:void 0});e=[];
break;case "textarea":mb=Ja(tb,mb);P=Ja(tb,P);e=[];break;default:"function"!==typeof mb.onClick&&"function"===typeof P.onClick&&(tb.onclick=dd)}kb(u,P);var Pb,Oc;u=null;for(Pb in mb)if(!P.hasOwnProperty(Pb)&&mb.hasOwnProperty(Pb)&&null!=mb[Pb])if("style"===Pb)for(Oc in tb=mb[Pb],tb)tb.hasOwnProperty(Oc)&&(u||(u={}),u[Oc]="");else"dangerouslySetInnerHTML"!==Pb&&"children"!==Pb&&"suppressContentEditableWarning"!==Pb&&"suppressHydrationWarning"!==Pb&&"autoFocus"!==Pb&&(Gg.hasOwnProperty(Pb)?e||(e=[]):
(e=e||[]).push(Pb,null));for(Pb in P){var Qc=P[Pb];tb=null!=mb?mb[Pb]:void 0;if(P.hasOwnProperty(Pb)&&Qc!==tb&&(null!=Qc||null!=tb))if("style"===Pb)if(tb){for(Oc in tb)!tb.hasOwnProperty(Oc)||Qc&&Qc.hasOwnProperty(Oc)||(u||(u={}),u[Oc]="");for(Oc in Qc)Qc.hasOwnProperty(Oc)&&tb[Oc]!==Qc[Oc]&&(u||(u={}),u[Oc]=Qc[Oc])}else u||(e||(e=[]),e.push(Pb,u)),u=Qc;else"dangerouslySetInnerHTML"===Pb?(Qc=Qc?Qc.__html:void 0,tb=tb?tb.__html:void 0,null!=Qc&&tb!==Qc&&(e=e||[]).push(Pb,Qc)):"children"===Pb?tb===
Qc||"string"!==typeof Qc&&"number"!==typeof Qc||(e=e||[]).push(Pb,""+Qc):"suppressContentEditableWarning"!==Pb&&"suppressHydrationWarning"!==Pb&&(Gg.hasOwnProperty(Pb)?(null!=Qc&&sc(ka,Pb),e||tb===Qc||(e=[])):(e=e||[]).push(Pb,Qc))}u&&(e=e||[]).push("style",u);if(k.updateQueue=e)k.effectTag|=4}};var fl=function(e,k,u,P){u!==P&&(k.effectTag|=4)};var gl="function"===typeof WeakSet?WeakSet:Set,ol="function"===typeof WeakMap?WeakMap:Map,jl=Math.ceil,Ui=sg.ReactCurrentDispatcher,rj=sg.ReactCurrentOwner,
Jf=0,Fh=8,pg=16,Fg=32,Wg=0,Ni=1,wj=2,Gh=3,Oi=4,Af=5,se=Jf,fg=null,He=null,of=0,Pf=Wg,Xg=null,Ug=1073741823,Qf=1073741823,Hf=null,Eg=0,vj=!1,nk=0,Zf=500,Zd=null,Bh=!1,di=null,ih=null,Ah=!1,hh=null,Ji=90,Kg=null,ci=0,Hi=null,qj=0;var lk=function(e,k,u){var P=k.expirationTime;if(null!==e){var ka=k.pendingProps;if(e.memoizedProps!==ka||eg.current)xg=!0;else{if(P<u){xg=!1;switch(k.tag){case 3:S(k);Lg=vg=null;Rf=!1;break;case 5:Ld(k);if(k.mode&4&&1!==u&&ka.hidden)return k.expirationTime=k.childExpirationTime=
1,null;break;case 1:oe(k.type)&&ue(k);break;case 4:ud(k,k.stateNode.containerInfo);break;case 10:P=k.memoizedProps.value;ka=k.type._context;cd(xe,ka._currentValue);ka._currentValue=P;break;case 13:if(null!==k.memoizedState){P=k.child.childExpirationTime;if(0!==P&&P>=u)return ba(e,k,u);cd(vf,vf.current&1);k=Qb(e,k,u);return null!==k?k.sibling:null}cd(vf,vf.current&1);break;case 19:P=k.childExpirationTime>=u;if(0!==(e.effectTag&64)){if(P)return Ib(e,k,u);k.effectTag|=64}ka=k.memoizedState;null!==ka&&
(ka.rendering=null,ka.tail=null);cd(vf,vf.current);if(!P)return null}return Qb(e,k,u)}xg=!1}}else xg=!1;k.expirationTime=0;switch(k.tag){case 2:P=k.type;null!==e&&(e.alternate=null,k.alternate=null,k.effectTag|=2);e=k.pendingProps;ka=Xb(k,Uf.current);Cd(k,u);ka=De(null,k,P,e,ka,u);k.effectTag|=1;if("object"===typeof ka&&null!==ka&&"function"===typeof ka.render&&void 0===ka.$$typeof){k.tag=1;k.memoizedState=null;k.updateQueue=null;if(oe(P)){var mb=!0;ue(k)}else mb=!1;k.memoizedState=null!==ka.state&&
void 0!==ka.state?ka.state:null;we(k);var tb=P.getDerivedStateFromProps;"function"===typeof tb&&F(k,P,tb,e);ka.updater=fi;k.stateNode=ka;ka._reactInternalFiber=k;Tb(k,P,e,u);k=y(null,k,P,!0,mb,u)}else k.tag=0,lb(null,k,ka,u),k=k.child;return k;case 16:a:{ka=k.elementType;null!==e&&(e.alternate=null,k.alternate=null,k.effectTag|=2);e=k.pendingProps;ha(ka);if(1!==ka._status)throw ka._result;ka=ka._result;k.type=ka;mb=k.tag=uk(ka);e=Yd(ka,e);switch(mb){case 0:k=Ic(null,k,ka,e,u);break a;case 1:k=t(null,
k,ka,e,u);break a;case 11:k=nb(null,k,ka,e,u);break a;case 14:k=Bb(null,k,ka,Yd(ka.type,e),P,u);break a}throw Error(h(306,ka,""));}return k;case 0:return P=k.type,ka=k.pendingProps,ka=k.elementType===P?ka:Yd(P,ka),Ic(e,k,P,ka,u);case 1:return P=k.type,ka=k.pendingProps,ka=k.elementType===P?ka:Yd(P,ka),t(e,k,P,ka,u);case 3:S(k);P=k.updateQueue;if(null===e||null===P)throw Error(h(282));P=k.pendingProps;ka=k.memoizedState;ka=null!==ka?ka.element:null;hd(e,k);Fe(k,P,null,u);P=k.memoizedState.element;
if(P===ka)Lg=vg=null,Rf=!1,k=Qb(e,k,u);else{if(ka=k.stateNode.hydrate)Lg=Wb(k.stateNode.containerInfo.firstChild),vg=k,ka=Rf=!0;if(ka)for(u=tj(k,null,P,u),k.child=u;u;)u.effectTag=u.effectTag&-3|1024,u=u.sibling;else lb(e,k,P,u),Lg=vg=null,Rf=!1;k=k.child}return k;case 5:return Ld(k),null===e&&Ha(k),P=k.type,ka=k.pendingProps,mb=null!==e?e.memoizedProps:null,tb=ka.children,ec(P,ka)?tb=null:null!==mb&&ec(P,mb)&&(k.effectTag|=16),pc(e,k),k.mode&4&&1!==u&&ka.hidden?(k.expirationTime=k.childExpirationTime=
1,k=null):(lb(e,k,tb,u),k=k.child),k;case 6:return null===e&&Ha(k),null;case 13:return ba(e,k,u);case 4:return ud(k,k.stateNode.containerInfo),P=k.pendingProps,null===e?k.child=Ch(k,null,P,u):lb(e,k,P,u),k.child;case 11:return P=k.type,ka=k.pendingProps,ka=k.elementType===P?ka:Yd(P,ka),nb(e,k,P,ka,u);case 7:return lb(e,k,k.pendingProps,u),k.child;case 8:return lb(e,k,k.pendingProps.children,u),k.child;case 12:return lb(e,k,k.pendingProps.children,u),k.child;case 10:a:{P=k.type._context;ka=k.pendingProps;
tb=k.memoizedProps;mb=ka.value;var Pb=k.type._context;cd(xe,Pb._currentValue);Pb._currentValue=mb;if(null!==tb)if(Pb=tb.value,mb=wh(Pb,mb)?0:("function"===typeof P._calculateChangedBits?P._calculateChangedBits(Pb,mb):1073741823)|0,0===mb){if(tb.children===ka.children&&!eg.current){k=Qb(e,k,u);break a}}else for(Pb=k.child,null!==Pb&&(Pb.return=k);null!==Pb;){var Oc=Pb.dependencies;if(null!==Oc){tb=Pb.child;for(var Qc=Oc.firstContext;null!==Qc;){if(Qc.context===P&&0!==(Qc.observedBits&mb)){1===Pb.tag&&
(Qc=Ce(u,null),Qc.tag=2,Ee(Pb,Qc));Pb.expirationTime<u&&(Pb.expirationTime=u);Qc=Pb.alternate;null!==Qc&&Qc.expirationTime<u&&(Qc.expirationTime=u);Ke(Pb.return,u);Oc.expirationTime<u&&(Oc.expirationTime=u);break}Qc=Qc.next}}else tb=10===Pb.tag?Pb.type===k.type?null:Pb.child:Pb.child;if(null!==tb)tb.return=Pb;else for(tb=Pb;null!==tb;){if(tb===k){tb=null;break}Pb=tb.sibling;if(null!==Pb){Pb.return=tb.return;tb=Pb;break}tb=tb.return}Pb=tb}lb(e,k,ka.children,u);k=k.child}return k;case 9:return ka=k.type,
mb=k.pendingProps,P=mb.children,Cd(k,u),ka=rd(ka,mb.unstable_observedBits),P=P(ka),k.effectTag|=1,lb(e,k,P,u),k.child;case 14:return ka=k.type,mb=Yd(ka,k.pendingProps),mb=Yd(ka.type,mb),Bb(e,k,ka,mb,P,u);case 15:return $b(e,k,k.type,k.pendingProps,P,u);case 17:return P=k.type,ka=k.pendingProps,ka=k.elementType===P?ka:Yd(P,ka),null!==e&&(e.alternate=null,k.alternate=null,k.effectTag|=2),k.tag=1,oe(P)?(e=!0,ue(k)):e=!1,Cd(k,u),Oa(k,P,ka),Tb(k,P,ka,u),y(null,k,P,!0,e,u);case 19:return Ib(e,k,u)}throw Error(h(156,
k.tag));};var Ii=null,mj=null;nh.prototype.render=function(e){ki(e,this._internalRoot,null,null)};nh.prototype.unmount=function(){var e=this._internalRoot,k=e.containerInfo;ki(null,e,null,function(){k[zi]=null})};var bl=function(e){if(13===e.tag){var k=Je(Tc(),150,100);kd(e,k);Cj(e,k)}};var cl=function(e){13===e.tag&&(kd(e,3),Cj(e,3))};var rk=function(e){if(13===e.tag){var k=Tc();k=ad(k,e,null);kd(e,k);Cj(e,k)}};pi=function(e,k,u){switch(k){case "input":K(e,u);k=u.name;if("radio"===u.type&&null!=
k){for(u=e;u.parentNode;)u=u.parentNode;u=u.querySelectorAll("input[name\x3d"+JSON.stringify(""+k)+'][type\x3d"radio"]');for(k=0;k<u.length;k++){var P=u[k];if(P!==e&&P.form===e.form){var ka=pb(P);if(!ka)throw Error(h(90));Va(P);K(P,ka)}}}break;case "textarea":fa(e,u);break;case "select":k=u.value,null!=k&&Da(e,!!u.multiple,k,!1)}};Sa=ye;xa=function(e,k,u,P,ka){var mb=se;se|=4;try{return bc(98,e.bind(null,k,u,P,ka))}finally{se=mb,se===Jf&&Wc()}};ma=function(){(se&(1|pg|Fg))===Jf&&(Td(),Hh())};Dj=function(e,
k){var u=se;se|=2;try{return e(k)}finally{se=u,se===Jf&&Wc()}};var qk={Events:[va,Za,pb,Gb,oh,nc,function(e){hb(e,Vb)},La,Ia,xd,ta,Hh,{current:!1}]};(function(e){var k=e.findFiberByHostInstance;return Kh(bg({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sg.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){u=wa(u);return null===u?null:u.stateNode},findFiberByHostInstance:function(u){return k?k(u):null},findHostInstancesForRefresh:null,
scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Fc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk;ub.createPortal=vk;ub.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var k=e._reactInternalFiber;if(void 0===k){if("function"===typeof e.render)throw Error(h(188));throw Error(h(268,Object.keys(e)));}e=wa(k);return e=null===e?null:e.stateNode};
ub.flushSync=function(e,k){if((se&(pg|Fg))!==Jf)throw Error(h(187));var u=se;se|=1;try{return bc(99,e.bind(null,k))}finally{se=u,Wc()}};ub.hydrate=function(e,k,u){if(!Nh(k))throw Error(h(200));return li(null,e,k,!0,u)};ub.render=function(e,k,u){if(!Nh(k))throw Error(h(200));return li(null,e,k,!1,u)};ub.unmountComponentAtNode=function(e){if(!Nh(e))throw Error(h(40));return e._reactRootContainer?(Qe(function(){li(null,null,e,!1,function(){e._reactRootContainer=null;e[zi]=null})}),!0):!1};ub.unstable_batchedUpdates=
ye;ub.unstable_createPortal=function(e,k){return vk(e,k,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};ub.unstable_renderSubtreeIntoContainer=function(e,k,u,P){if(!Nh(u))throw Error(h(200));if(null==e||void 0===e._reactInternalFiber)throw Error(h(38));return li(e,k,u,!1,P)};ub.version="16.13.1"};
shadow$provide[72]=function(Nb,zb,mc,ub){function h(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(r){console.error(r)}}h();mc.exports=zb(67)};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function q(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,da)&&a[da]||(a[da]=++ea)}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function ia(a,b){a.sort(b||ja)}function la(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ja;ia(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function ja(a,b){return a>b?1:a<b?-1:0};function ma(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function na(a,b){return null!==a&&b in a?a[b]:void 0}var oa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pa(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<oa.length;f++)c=oa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function ra(a){return/^[\s\xa0]*$/.test(a)};function ta(a,b){null!=a&&this.append.apply(this,arguments)}g=ta.prototype;g.Ua="";g.set=function(a){this.Ua=""+a};g.append=function(a,b,c){this.Ua+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Ua+=arguments[d];return this};g.clear=function(){this.Ua=""};g.toString=function(){return this.Ua};var ua={},va={},wa,r={},xa=null;function ya(){return new u(null,5,[za,!0,Aa,!0,Ba,!1,Ca,!1,Da,null],null)}function v(a){return null!=a&&!1!==a}function Ea(a){return a instanceof Array}function Fa(a){return null==a?!0:!1===a?!0:!1}function w(a,b){return a[q(null==b?null:b)]?!0:a._?!0:!1}function y(a,b){var c=null==b?null:b.constructor;c=v(v(c)?c.Eb:c)?c.jb:q(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ga(a){var b=a.jb;return v(b)?b:z.j(a)}
var Ia="undefined"!==typeof Symbol&&"function"===q(Symbol)?Symbol.iterator:"@@iterator",Ja={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Ka=null;
function La(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ma(a){function b(d,e){d.push(e);return d}var c=[];return Na?Na(b,c,a):Oa.call(null,b,c,a)}function Pa(a){return"symbol"===q(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Qa(){}function Ta(){}function Ua(){}
function Va(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Va[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ICounted.-count",a);}return a}function Wa(){}function Xa(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Xa[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Xa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IEmptyableCollection.-empty",a);}return a}function $a(){}
function ab(a,b){if(null!=a&&null!=a.ma)a=a.ma(a,b);else{var c=ab[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("ICollection.-conj",a);}return a}function bb(){}
var db=function(){function a(d,e,f){var h=cb[q(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=cb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw y("IIndexed.-nth",d);}function b(d,e){var f=cb[q(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=cb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw y("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),cb=function cb(a){switch(arguments.length){case 2:return cb.B(arguments[0],arguments[1]);case 3:return cb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};cb.B=function(a,b){return null!=a&&null!=a.ga?a.ga(a,b):db(a,b)};cb.D=function(a,b,c){return null!=a&&null!=a.Ca?a.Ca(a,b,c):db(a,b,c)};cb.N=3;function eb(){}
function B(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=B[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=B._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ISeq.-first",a);}return a}function fb(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=fb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ISeq.-rest",a);}return a}function gb(){}
function hb(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=hb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("INext.-next",a);}return a}function ib(){}
var kb=function(){function a(d,e,f){var h=jb[q(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=jb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw y("ILookup.-lookup",d);}function b(d,e){var f=jb[q(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=jb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw y("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),jb=function jb(a){switch(arguments.length){case 2:return jb.B(arguments[0],arguments[1]);case 3:return jb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};jb.B=function(a,b){return null!=a&&null!=a.za?a.za(a,b):kb(a,b)};jb.D=function(a,b,c){return null!=a&&null!=a.aa?a.aa(a,b,c):kb(a,b,c)};jb.N=3;function lb(){}
function mb(a,b){if(null!=a&&null!=a.ob)a=a.ob(a,b);else{var c=mb[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=mb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IAssociative.-contains-key?",a);}return a}function nb(a,b,c){if(null!=a&&null!=a.Qa)a=a.Qa(a,b,c);else{var d=nb[q(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=nb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw y("IAssociative.-assoc",a);}return a}
function ob(a,b){if(null!=a&&null!=a.zb)a=a.zb(a,b);else{var c=ob[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ob._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IFind.-find",a);}return a}function pb(){}function qb(a,b){if(null!=a&&null!=a.Zb)a=a.Zb(a,b);else{var c=qb[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IMap.-dissoc",a);}return a}
function rb(a){if(null!=a&&null!=a.Oc)a=a.key;else{var b=rb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=rb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IMapEntry.-key",a);}return a}function sb(a){if(null!=a&&null!=a.Pc)a=a.ea;else{var b=sb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=sb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IMapEntry.-val",a);}return a}function tb(){}
function ub(a,b){if(null!=a&&null!=a.sc)a=a.sc(a,b);else{var c=ub[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ub._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("ISet.-disjoin",a);}return a}function vb(a){if(null!=a&&null!=a.Bb)a=a.Bb(a);else{var b=vb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=vb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IStack.-peek",a);}return a}
function wb(a){if(null!=a&&null!=a.Cb)a=a.Cb(a);else{var b=wb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IStack.-pop",a);}return a}function yb(){}function zb(a){if(null!=a&&null!=a.Ra)a=a.Ra(a);else{var b=zb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=zb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IDeref.-deref",a);}return a}function Ab(){}
function Bb(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=Bb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IMeta.-meta",a);}return a}function Cb(a,b){if(null!=a&&null!=a.ia)a=a.ia(a,b);else{var c=Cb[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IWithMeta.-with-meta",a);}return a}function Db(){}
var Fb=function(){function a(d,e,f){var h=Eb[q(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Eb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw y("IReduce.-reduce",d);}function b(d,e){var f=Eb[q(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Eb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw y("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Eb=function Eb(a){switch(arguments.length){case 2:return Eb.B(arguments[0],arguments[1]);case 3:return Eb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Eb.B=function(a,b){return null!=a&&null!=a.ta?a.ta(a,b):Fb(a,b)};Eb.D=function(a,b,c){return null!=a&&null!=a.ua?a.ua(a,b,c):Fb(a,b,c)};Eb.N=3;function Gb(){}
function Hb(a,b,c){if(null!=a&&null!=a.Nb)a=a.Nb(a,b,c);else{var d=Hb[q(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Hb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw y("IKVReduce.-kv-reduce",a);}return a}function Ib(a,b){if(null!=a&&null!=a.ca)a=a.ca(a,b);else{var c=Ib[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IEquiv.-equiv",a);}return a}
function Lb(a){if(null!=a&&null!=a.fa)a=a.fa(a);else{var b=Lb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IHash.-hash",a);}return a}function Mb(){}function Nb(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=Nb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ISeqable.-seq",a);}return a}function Ob(){}function Pb(){}function Qb(){}function Rb(){}
function Sb(a){if(null!=a&&null!=a.Ob)a=a.Ob(a);else{var b=Sb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Sb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IReversible.-rseq",a);}return a}function D(a,b){if(null!=a&&null!=a.tc)a=a.tc(a,b);else{var c=D[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=D._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IWriter.-write",a);}return a}function Tb(){}
function Ub(a,b,c){if(null!=a&&null!=a.ba)a=a.ba(a,b,c);else{var d=Ub[q(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw y("IPrintWithWriter.-pr-writer",a);}return a}function Vb(a,b){var c=Wb;if(null!=a&&null!=a.Pb)a.Pb(a,b,c);else{var d=Vb[q(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Vb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw y("IWatchable.-add-watch",a);}}
function Xb(a,b){if(null!=a&&null!=a.Qb)a.Qb(a,b);else{var c=Xb[q(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Xb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw y("IWatchable.-remove-watch",a);}}function Yb(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=Yb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IEditableCollection.-as-transient",a);}return a}
function Zb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=Zb[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Zb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("ITransientCollection.-conj!",a);}return a}function $b(a){if(null!=a&&null!=a.Db)a=a.Db(a);else{var b=$b[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=$b._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ITransientCollection.-persistent!",a);}return a}
function ac(a,b,c){if(null!=a&&null!=a.sb)a=a.sb(a,b,c);else{var d=ac[q(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ac._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw y("ITransientAssociative.-assoc!",a);}return a}function bc(){}function gc(a,b){if(null!=a&&null!=a.pb)a=a.pb(a,b);else{var c=gc[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=gc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IComparable.-compare",a);}return a}
function hc(a){if(null!=a&&null!=a.nc)a=a.nc(a);else{var b=hc[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=hc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IChunk.-drop-first",a);}return a}function ic(a){if(null!=a&&null!=a.Yb)a=a.Yb(a);else{var b=ic[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ic._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-first",a);}return a}
function jc(a){if(null!=a&&null!=a.Mb)a=a.Mb(a);else{var b=jc[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-rest",a);}return a}function kc(a,b){if(null!=a&&null!=a.Ea)a=a.Ea(a,b);else{var c=kc[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=kc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("IReset.-reset!",a);}return a}
var mc=function(){function a(f,h,k,l,m){var n=lc[q(null==f?null:f)];if(null!=n)return n.sa?n.sa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=lc._;if(null!=n)return n.sa?n.sa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw y("ISwap.-swap!",f);}function b(f,h,k,l){var m=lc[q(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=lc._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw y("ISwap.-swap!",f);}function c(f,h,k){var l=lc[q(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=lc._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw y("ISwap.-swap!",f);}function d(f,h){var k=lc[q(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=lc._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw y("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.sa=a;return e}(),lc=function lc(a){switch(arguments.length){case 2:return lc.B(arguments[0],arguments[1]);case 3:return lc.D(arguments[0],arguments[1],arguments[2]);case 4:return lc.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return lc.sa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};lc.B=function(a,b){return null!=a&&null!=a.ac?a.ac(a,b):mc(a,b)};
lc.D=function(a,b,c){return null!=a&&null!=a.bc?a.bc(a,b,c):mc(a,b,c)};lc.T=function(a,b,c,d){return null!=a&&null!=a.cc?a.cc(a,b,c,d):mc(a,b,c,d)};lc.sa=function(a,b,c,d,e){return null!=a&&null!=a.dc?a.dc(a,b,c,d,e):mc(a,b,c,d,e)};lc.N=5;function nc(){}function oc(a){if(null!=a&&null!=a.Da)a=a.Da(a);else{var b=oc[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=oc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IIterable.-iterator",a);}return a}
function qc(a){this.$c=a;this.F=1073741824;this.P=0}qc.prototype.tc=function(a,b){return this.$c.append(b)};function rc(a){var b=new ta;a.ba(null,new qc(b),ya());return z.j(b)}var sc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function tc(a){a=sc(a|0,-862048943);return sc(a<<15|a>>>-15,461845907)}
function uc(a,b){a=(a|0)^(b|0);return sc(a<<13|a>>>-13,5)+-430675100|0}function vc(a,b){a=(a|0)^b;a=sc(a^a>>>16,-2048144789);a=sc(a^a>>>13,-1028477387);return a^a>>>16}function wc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=uc(c,tc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return vc(1===(a.length&1)?b^tc(a.charCodeAt(a.length-1)):b,sc(2,a.length))}var xc={},yc=0;
function zc(a){255<yc&&(xc={},yc=0);if(null==a)return 0;var b=xc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=sc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;xc[a]=b;yc+=1;a=b}return a}
function Ac(a){if(null!=a&&(a.F&4194304||r===a.dd))return a.fa(null)^0;if("number"===typeof a){if(v(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=zc(a),a=0===a?a:vc(uc(0,tc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Lb(a)^0,a}function Bc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Cc(a,b){if(a.La===b.La)return 0;var c=Fa(a.ya);if(v(c?b.ya:c))return-1;if(v(a.ya)){if(Fa(b.ya))return 1;c=ja(a.ya,b.ya);return 0===c?ja(a.name,b.name):c}return ja(a.name,b.name)}function Dc(a,b,c,d,e){this.ya=a;this.name=b;this.La=c;this._hash=d;this.Ja=e;this.F=2154168321;this.P=4096}g=Dc.prototype;g.toString=function(){return this.La};g.ca=function(a,b){return b instanceof Dc?this.La===b.La:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return E.B?E.B(a,this):E.call(null,a,this)};g.B=function(a,b){return E.D?E.D(a,this,b):E.call(null,a,this,b)};g.da=function(){return this.Ja};
g.ia=function(a,b){return new Dc(this.ya,this.name,this.La,this._hash,b)};g.fa=function(){var a=this._hash;return null!=a?a:this._hash=a=Bc(wc(this.name),zc(this.ya))};g.ba=function(a,b){return D(b,this.La)};var Ec=function Ec(a){switch(arguments.length){case 1:return Ec.j(arguments[0]);case 2:return Ec.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};
Ec.j=function(a){for(;;){if(a instanceof Dc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Ec.B(null,a):Ec.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof F)a=a.Aa;else throw Error("no conversion to symbol");}};Ec.B=function(a,b){var c=null!=a?[z.j(a),"/",z.j(b)].join(""):b;return new Dc(a,b,c,null,null)};Ec.N=2;function Fc(a){return null!=a?a.P&131072||r===a.ed?!0:a.P?!1:w(nc,a):w(nc,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.F&8388608||r===a.Rc))return a.ha(null);if(Ea(a)||"string"===typeof a)return 0===a.length?null:new I(a,0,null);if(null!=a&&null!=a[Ia])return a=na(a,Ia).call(a),Gc.j?Gc.j(a):Gc.call(null,a);if(w(Mb,a))return Nb(a);throw Error([z.j(a)," is not ISeqable"].join(""));}function J(a){if(null==a)return null;if(null!=a&&(a.F&64||r===a.rb))return a.va(null);a=G(a);return null==a?null:B(a)}
function Hc(a){return null!=a?null!=a&&(a.F&64||r===a.rb)?a.wa(null):(a=G(a))?a.wa(null):K:K}function M(a){return null==a?null:null!=a&&(a.F&128||r===a.Ab)?a.na(null):G(Hc(a))}var O=function O(a){switch(arguments.length){case 1:return O.j(arguments[0]);case 2:return O.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return O.I(arguments[0],arguments[1],c)}};O.j=function(){return!0};
O.B=function(a,b){return null==a?null==b:a===b||Ib(a,b)};O.I=function(a,b,c){for(;;)if(O.B(a,b))if(M(c))a=b,b=J(c),c=M(c);else return O.B(b,J(c));else return!1};O.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};O.N=2;function Ic(a){this.s=a}Ic.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=M(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Jc(a){return new Ic(G(a))}
function Kc(a,b){this.value=a;this.xb=b;this.Vb=null;this.F=8388672;this.P=0}Kc.prototype.ha=function(){return this};Kc.prototype.va=function(){return this.value};Kc.prototype.wa=function(){null==this.Vb&&(this.Vb=Gc.j?Gc.j(this.xb):Gc.call(null,this.xb));return this.Vb};function Gc(a){var b=a.next();return v(b.done)?null:new Kc(b.value,a)}function Lc(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=sc(31,c)+Ac(J(a))|0,a=M(a);else return vc(uc(0,tc(c)),b)}var Mc=vc(uc(0,tc(1)),0);
function Nc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+Ac(J(a))|0,a=M(a);else return vc(uc(0,tc(c)),b)}var Oc=vc(uc(0,tc(0)),0);Ua["null"]=!0;Va["null"]=function(){return 0};Date.prototype.ca=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.yb=r;Date.prototype.pb=function(a,b){if(b instanceof Date)return ja(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",z.j(this)," to ",z.j(b)].join(""));};Ib.number=function(a,b){return a===b};Qa["function"]=!0;
Ab["function"]=!0;Bb["function"]=function(){return null};Lb._=function(a){return ba(a)};function Pc(a){return a+1}function Qc(a){this.ea=a;this.F=32768;this.P=0}Qc.prototype.Ra=function(){return this.ea};function Wc(a){return a instanceof Qc}function Xc(a){return zb(a)}function Yc(a,b){var c=a.length;if(0===a.length)return b.K?b.K():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(Wc(d))return zb(d);e+=1}else return d}
function Zc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(Wc(e))return zb(e);c+=1}else return e}function $c(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(Wc(c))return zb(c);d+=1}else return c}function ad(a){return null!=a?a.F&2||r===a.Hc?!0:a.F?!1:w(Ua,a):w(Ua,a)}function bd(a){return null!=a?a.F&16||r===a.pc?!0:a.F?!1:w(bb,a):w(bb,a)}
function P(a,b,c){var d=Q.j?Q.j(a):Q.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(O.B(cd?cd(a,c):dd.call(null,a,c),b))return c;c+=1}else return-1}function R(a,b,c){var d=Q.j?Q.j(a):Q.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(O.B(cd?cd(a,c):dd.call(null,a,c),b))return c;--c}else return-1}function ed(a,b){this.C=a;this.i=b}ed.prototype.xa=function(){return this.i<this.C.length};
ed.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function I(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=I.prototype;g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q.j?Q.j(this):Q.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.ga=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Ca=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Da=function(){return new ed(this.C,this.i)};g.da=function(){return this.meta};g.na=function(){return this.i+1<this.C.length?new I(this.C,this.i+1,null):null};g.ja=function(){var a=this.C.length-this.i;return 0>a?0:a};g.Ob=function(){var a=this.ja(null);return 0<a?new fd(this,a-1,null):null};g.fa=function(){return Lc(this)};g.ca=function(a,b){return gd.B?gd.B(this,b):gd.call(null,this,b)};g.la=function(){return K};g.ta=function(a,b){return $c(this.C,b,this.C[this.i],this.i+1)};
g.ua=function(a,b,c){return $c(this.C,b,c,this.i)};g.va=function(){return this.C[this.i]};g.wa=function(){return this.i+1<this.C.length?new I(this.C,this.i+1,null):K};g.ha=function(){return this.i<this.C.length?this:null};g.ia=function(a,b){return b===this.meta?this:new I(this.C,this.i,b)};g.ma=function(a,b){return S.B?S.B(b,this):S.call(null,b,this)};I.prototype[Ia]=function(){return Jc(this)};function hd(a){return 0<a.length?new I(a,0,null):null}
function fd(a,b,c){this.ci=a;this.i=b;this.meta=c;this.F=32374990;this.P=8192}g=fd.prototype;g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q.j?Q.j(this):Q.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){return 0<this.i?new fd(this.ci,this.i-1,null):null};g.ja=function(){return this.i+1};g.fa=function(){return Lc(this)};
g.ca=function(a,b){return gd.B?gd.B(this,b):gd.call(null,this,b)};g.la=function(){return K};g.ta=function(a,b){return id?id(b,this):jd.call(null,b,this)};g.ua=function(a,b,c){return kd?kd(b,c,this):jd.call(null,b,c,this)};g.va=function(){return cb(this.ci,this.i)};g.wa=function(){return 0<this.i?new fd(this.ci,this.i-1,null):K};g.ha=function(){return this};g.ia=function(a,b){return b===this.meta?this:new fd(this.ci,this.i,b)};g.ma=function(a,b){return S.B?S.B(b,this):S.call(null,b,this)};
fd.prototype[Ia]=function(){return Jc(this)};function ld(a){for(;;){var b=M(a);if(null!=b)a=b;else return J(a)}}Ib._=function(a,b){return a===b};var md=function md(a){switch(arguments.length){case 0:return md.K();case 1:return md.j(arguments[0]);case 2:return md.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return md.I(arguments[0],arguments[1],c)}};md.K=function(){return nd};md.j=function(a){return a};
md.B=function(a,b){return null!=a?ab(a,b):new od(null,b,null,1,null)};md.I=function(a,b,c){for(;;)if(v(c))a=md.B(a,b),b=J(c),c=M(c);else return md.B(a,b)};md.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};md.N=2;
function Q(a){if(null!=a)if(null!=a&&(a.F&2||r===a.Hc))a=a.ja(null);else if(Ea(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||r===a.Rc))a:{a=G(a);for(var b=0;;){if(ad(a)){a=b+Va(a);break a}a=M(a);b+=1}}else a=Va(a);else a=0;return a}function pd(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?J(a):c;if(bd(a))return cb(a,b,c);if(G(a))a=M(a),--b;else return c}}
function dd(a){switch(arguments.length){case 2:return cd(arguments[0],arguments[1]);case 3:return T(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}
function cd(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||r===a.pc))return a.ga(null,b);if(Ea(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||r===a.rb)||null!=a&&(a.F&16777216||r===a.rc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=J(a);break a}throw Error("Index out of bounds");}if(bd(a)){a=cb(a,b);break a}if(G(a))a=M(a),--b;else throw Error("Index out of bounds");}return a}if(w(bb,a))return cb(a,b);throw Error(["nth not supported on this type ",z.j(Ga(null==a?null:a.constructor))].join(""));}
function T(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||r===a.pc))return a.Ca(null,b,c);if(Ea(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||r===a.rb)||null!=a&&(a.F&16777216||r===a.rc))return 0>b?c:pd(a,b,c);if(w(bb,a))return cb(a,b,c);throw Error(["nth not supported on this type ",z.j(Ga(null==a?null:a.constructor))].join(""));}
var E=function E(a){switch(arguments.length){case 2:return E.B(arguments[0],arguments[1]);case 3:return E.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};E.B=function(a,b){return null==a?null:null!=a&&(a.F&256||r===a.Nc)?a.za(null,b):Ea(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:w(ib,a)?jb(a,b):null};
E.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||r===a.Nc)?a.aa(null,b,c):Ea(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:w(ib,a)?jb(a,b,c):c:c};E.N=3;var U=function U(a){switch(arguments.length){case 3:return U.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return U.I(arguments[0],arguments[1],arguments[2],c)}};
U.D=function(a,b,c){if(null!=a&&(a.F&512||r===a.Gc))a=a.Qa(null,b,c);else if(null!=a)a=nb(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=qd(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new u(null,b.length/2,b,null)}return a};U.I=function(a,b,c,d){for(;;)if(a=U.D(a,b,c),v(d))b=J(d),c=J(M(d)),d=M(M(d));else return a};U.O=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.I(b,a,c,d)};U.N=3;
var rd=function rd(a){switch(arguments.length){case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return rd.I(arguments[0],arguments[1],c)}};rd.j=function(a){return a};rd.B=function(a,b){return null==a?null:qb(a,b)};rd.I=function(a,b,c){for(;;){if(null==a)return null;a=rd.B(a,b);if(v(c))b=J(c),c=M(c);else return a}};
rd.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};rd.N=2;function sd(a){var b="function"===typeof a;return b?b:null!=a?r===a.Fc?!0:a.uc?!1:w(Qa,a):w(Qa,a)}function td(a,b){this.J=a;this.meta=b;this.F=393217;this.P=0}g=td.prototype;g.da=function(){return this.meta};g.ia=function(a,b){return new td(this.J,b)};g.Fc=r;
g.call=function(a){switch(arguments.length-1){case 0:return this.K();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.gb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.$a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ab(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.cb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],t=arguments[12],x=arguments[13],A=arguments[14],C=arguments[15],
H=arguments[16],N=arguments[17],V=arguments[18],ca=arguments[19],fa=arguments[20],qa=arguments[21];return ud.Mc?ud.Mc(this.J,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa,qa):ud.call(null,this.J,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa,qa);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.K=function(){return this.J.K?this.J.K():this.J.call(null)};
g.j=function(a){return this.J.j?this.J.j(a):this.J.call(null,a)};g.B=function(a,b){return this.J.B?this.J.B(a,b):this.J.call(null,a,b)};g.D=function(a,b,c){return this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c)};g.T=function(a,b,c,d){return this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d)};g.sa=function(a,b,c,d,e){return this.J.sa?this.J.sa(a,b,c,d,e):this.J.call(null,a,b,c,d,e)};g.Ma=function(a,b,c,d,e,f){return this.J.Ma?this.J.Ma(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f)};
g.gb=function(a,b,c,d,e,f,h){return this.J.gb?this.J.gb(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h)};g.hb=function(a,b,c,d,e,f,h,k){return this.J.hb?this.J.hb(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k)};g.ib=function(a,b,c,d,e,f,h,k,l){return this.J.ib?this.J.ib(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l)};g.Va=function(a,b,c,d,e,f,h,k,l,m){return this.J.Va?this.J.Va(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Wa=function(a,b,c,d,e,f,h,k,l,m,n){return this.J.Wa?this.J.Wa(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Xa=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.J.Xa?this.J.Xa(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};g.Ya=function(a,b,c,d,e,f,h,k,l,m,n,p,t){return this.J.Ya?this.J.Ya(a,b,c,d,e,f,h,k,l,m,n,p,t):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t)};
g.Za=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x){return this.J.Za?this.J.Za(a,b,c,d,e,f,h,k,l,m,n,p,t,x):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x)};g.$a=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A){return this.J.$a?this.J.$a(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A)};g.ab=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C){return this.J.ab?this.J.ab(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C)};
g.bb=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H){return this.J.bb?this.J.bb(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H)};g.cb=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N){return this.J.cb?this.J.cb(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N)};
g.eb=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V){return this.J.eb?this.J.eb(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V)};g.fb=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca){return this.J.fb?this.J.fb(a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca)};function vd(a,b){return"function"===typeof a?new td(a,b):null==a?null:Cb(a,b)}
function wd(a){var b=null!=a;return(b?null!=a?a.F&131072||r===a.$b||(a.F?0:w(Ab,a)):w(Ab,a):b)?Bb(a):null}var Dd=function Dd(a){switch(arguments.length){case 1:return Dd.j(arguments[0]);case 2:return Dd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Dd.I(arguments[0],arguments[1],c)}};Dd.j=function(a){return a};Dd.B=function(a,b){return null==a?null:ub(a,b)};
Dd.I=function(a,b,c){for(;;){if(null==a)return null;a=Dd.B(a,b);if(v(c))b=J(c),c=M(c);else return a}};Dd.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};Dd.N=2;function Ed(a){return null==a||Fa(G(a))}function Fd(a){return null==a?!1:null!=a?a.F&8||r===a.bd?!0:a.F?!1:w($a,a):w($a,a)}function Gd(a){return null==a?!1:null!=a?a.F&4096||r===a.md?!0:a.F?!1:w(tb,a):w(tb,a)}function Hd(a){return null!=a?a.F&16777216||r===a.rc?!0:a.F?!1:w(Ob,a):w(Ob,a)}
function Id(a){return null==a?!1:null!=a?a.F&1024||r===a.hd?!0:a.F?!1:w(pb,a):w(pb,a)}function Jd(a){return null!=a?a.F&67108864||r===a.kd?!0:a.F?!1:w(Qb,a):w(Qb,a)}function Kd(a){return null!=a?a.F&16384||r===a.nd?!0:a.F?!1:w(yb,a):w(yb,a)}function Ld(a){return null!=a?a.P&512||r===a.ad?!0:!1:!1}function Md(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Nd={};function Od(a){return null==a?!1:!1===a?!1:!0}
function Pd(a){var b=sd(a);return b?b:null!=a?a.F&1||r===a.cd?!0:a.F?!1:w(Ta,a):w(Ta,a)}function Qd(a,b){return null!=a&&(a.F&512||r===a.Gc)?a.ob(null,b):w(lb,a)?mb(a,b):E.D(a,b,Nd)===Nd?!1:!0}
function Rd(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ja(a,b);throw Error(["Cannot compare ",z.j(a)," to ",z.j(b)].join(""));}if(null!=a?a.P&2048||r===a.yb||(a.P?0:w(bc,a)):w(bc,a))return gc(a,b);if("string"!==typeof a&&!Ea(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",z.j(a)," to ",z.j(b)].join(""));return ja(a,b)}
function Sd(a,b){var c=Q(a),d=Q(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Rd(cd(a,d),cd(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Td(a){return O.B(a,Rd)?Rd:function(b,c){var d=a.B?a.B(b,c):a.call(null,b,c);return"number"===typeof d?d:v(d)?-1:v(a.B?a.B(c,b):a.call(null,c,b))?1:0}}function Ud(a,b){if(G(b)){var c=Vd.j?Vd.j(b):Vd.call(null,b);la(c,Td(a));return vd(G(c),wd(b))}return K}
function Wd(a,b){return Ud(function(c,d){c=a.j?a.j(c):a.call(null,c);d=a.j?a.j(d):a.call(null,d);var e=Td(Rd);return e.B?e.B(c,d):e.call(null,c,d)},b)}function jd(a){switch(arguments.length){case 2:return id(arguments[0],arguments[1]);case 3:return kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function id(a,b){var c=G(b);return c?(b=J(c),c=M(c),Na?Na(a,b,c):Oa.call(null,a,b,c)):a.K?a.K():a.call(null)}
function kd(a,b,c){for(c=G(c);;)if(c){var d=J(c);b=a.B?a.B(b,d):a.call(null,b,d);if(Wc(b))return zb(b);c=M(c)}else return b}function Xd(a,b){a=oc(a);if(v(a.xa()))for(var c=a.next();;)if(a.xa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Wc(c))return zb(c)}else return c;else return b.K?b.K():b.call(null)}function Yd(a,b,c){for(a=oc(a);;)if(a.xa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Wc(c))return zb(c)}else return c}
function Oa(a){switch(arguments.length){case 2:return Zd(arguments[0],arguments[1]);case 3:return Na(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function Zd(a,b){return null!=b&&(b.F&524288||r===b.Qc)?b.ta(null,a):Ea(b)?Yc(b,a):"string"===typeof b?Yc(b,a):w(Db,b)?Eb(b,a):Fc(b)?Xd(b,a):id(a,b)}
function Na(a,b,c){return null!=c&&(c.F&524288||r===c.Qc)?c.ua(null,a,b):Ea(c)?Zc(c,a,b):"string"===typeof c?Zc(c,a,b):w(Db,c)?Eb(c,a,b):Fc(c)?Yd(c,a,b):kd(a,b,c)}function $d(a,b,c){return null!=c?Hb(c,a,b):b}function ae(a){return a}function be(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Na(a,c,d);return a.j?a.j(c):a.call(null,c)}function ce(a){return a-1}function de(a,b){a=(a-a%b)/b;return 0<=a?Math.floor(a):Math.ceil(a)}
function ee(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var z=function z(a){switch(arguments.length){case 0:return z.K();case 1:return z.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(1),0,null);return z.I(arguments[0],c)}};z.K=function(){return""};z.j=function(a){return null==a?"":[a].join("")};
z.I=function(a,b){for(a=new ta(z.j(a));;)if(v(b))a=a.append(z.j(J(b))),b=M(b);else return a.toString()};z.O=function(a){var b=J(a);a=M(a);return this.I(b,a)};z.N=1;function gd(a,b){if(Hd(b))if(ad(a)&&ad(b)&&Q(a)!==Q(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&O.B(J(a),J(b)))a=M(a),b=M(b);else{a=!1;break a}}else a=null;return Od(a)}function od(a,b,c,d,e){this.meta=a;this.first=b;this.Pa=c;this.count=d;this.R=e;this.F=65937646;this.P=8192}g=od.prototype;
g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){return 1===this.count?null:this.Pa};g.ja=function(){return this.count};g.Bb=function(){return this.first};g.Cb=function(){return this.wa(null)};
g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};g.ca=function(a,b){return gd(this,b)};g.la=function(){return Cb(K,this.meta)};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return this.first};g.wa=function(){return 1===this.count?K:this.Pa};g.ha=function(){return this};g.ia=function(a,b){return b===this.meta?this:new od(b,this.first,this.Pa,this.count,this.R)};g.ma=function(a,b){return new od(this.meta,b,this,this.count+1,null)};
od.prototype[Ia]=function(){return Jc(this)};function ke(a){this.meta=a;this.F=65937614;this.P=8192}g=ke.prototype;g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){return null};g.ja=function(){return 0};g.Bb=function(){return null};g.Cb=function(){throw Error("Can't pop empty list");};g.fa=function(){return Mc};
g.ca=function(a,b){return(null!=b?b.F&33554432||r===b.gd||(b.F?0:w(Pb,b)):w(Pb,b))||Hd(b)?null==G(b):!1};g.la=function(){return this};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return null};g.wa=function(){return K};g.ha=function(){return null};g.ia=function(a,b){return b===this.meta?this:new ke(b)};g.ma=function(a,b){return new od(this.meta,b,null,1,null)};var K=new ke(null);ke.prototype[Ia]=function(){return Jc(this)};
function le(a){return(null!=a?a.F&134217728||r===a.ld||(a.F?0:w(Rb,a)):w(Rb,a))?(a=Sb(a))?a:K:Na(md,K,a)}var me=function me(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return me.I(c)};me.I=function(a){if(a instanceof I&&0===a.i)var b=a.C;else a:for(b=[];;)if(null!=a)b.push(B(a)),a=hb(a);else break a;a=b.length;for(var c=K;;)if(0<a){var d=a-1;c=ab(c,b[a-1]);a=d}else return c};me.N=0;me.O=function(a){return this.I(G(a))};
function ne(a,b,c,d){this.meta=a;this.first=b;this.Pa=c;this.R=d;this.F=65929452;this.P=8192}g=ne.prototype;g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){return null==this.Pa?null:G(this.Pa)};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};
g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return this.first};g.wa=function(){return null==this.Pa?K:this.Pa};g.ha=function(){return this};g.ia=function(a,b){return b===this.meta?this:new ne(b,this.first,this.Pa,this.R)};g.ma=function(a,b){return new ne(null,b,this,null)};ne.prototype[Ia]=function(){return Jc(this)};
function S(a,b){return null==b?new od(null,a,null,1,null):null!=b&&(b.F&64||r===b.rb)?new ne(null,a,b,null):new ne(null,a,G(b),null)}function oe(a,b){if(a.Aa===b.Aa)return 0;var c=Fa(a.ya);if(v(c?b.ya:c))return-1;if(v(a.ya)){if(Fa(b.ya))return 1;c=ja(a.ya,b.ya);return 0===c?ja(a.name,b.name):c}return ja(a.name,b.name)}function F(a,b,c,d){this.ya=a;this.name=b;this.Aa=c;this._hash=d;this.F=2153775105;this.P=4096}g=F.prototype;g.toString=function(){return[":",z.j(this.Aa)].join("")};
g.ca=function(a,b){return b instanceof F?this.Aa===b.Aa:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return E.B(a,this)};g.B=function(a,b){return E.D(a,this,b)};
g.fa=function(){var a=this._hash;return null!=a?a:this._hash=a=Bc(wc(this.name),zc(this.ya))+2654435769|0};g.ba=function(a,b){return D(b,[":",z.j(this.Aa)].join(""))};function pe(a,b){return a===b?!0:a instanceof F&&b instanceof F?a.Aa===b.Aa:!1}function qe(a){if(null!=a&&(a.P&4096||r===a.qc))return a.ya;throw Error(["Doesn't support namespace: ",z.j(a)].join(""));}function re(a){return a instanceof F||a instanceof Dc}
var se=function se(a){switch(arguments.length){case 1:return se.j(arguments[0]);case 2:return se.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};se.j=function(a){if(a instanceof F)return a;if(a instanceof Dc)return new F(qe(a),W.j?W.j(a):W.call(null,a),a.La,null);if(O.B("/",a))return new F(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new F(b[0],b[1],a,null):new F(null,b[0],a,null)}return null};
se.B=function(a,b){a=a instanceof F?W.j?W.j(a):W.call(null,a):a instanceof Dc?W.j?W.j(a):W.call(null,a):a;b=b instanceof F?W.j?W.j(b):W.call(null,b):b instanceof Dc?W.j?W.j(b):W.call(null,b):b;return new F(a,b,[v(a)?[z.j(a),"/"].join(""):null,z.j(b)].join(""),null)};se.N=2;function te(a,b,c){this.meta=a;this.fn=b;this.s=null;this.R=c;this.F=32374988;this.P=1}g=te.prototype;g.toString=function(){return rc(this)};
function ue(a){null!=a.fn&&(a.s=a.fn.K?a.fn.K():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){this.ha(null);return null==this.s?null:M(this.s)};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};g.ca=function(a,b){return gd(this,b)};
g.la=function(){return Cb(K,this.meta)};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){this.ha(null);return null==this.s?null:J(this.s)};g.wa=function(){this.ha(null);return null!=this.s?Hc(this.s):K};g.ha=function(){ue(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof te)a=ue(a);else return this.s=a,G(this.s)};g.ia=function(a,b){var c=this;return b===this.meta?c:new te(b,function(){return c.ha(null)},this.R)};
g.ma=function(a,b){return S(b,this)};te.prototype[Ia]=function(){return Jc(this)};function ve(a){this.Wb=a;this.end=0;this.F=2;this.P=0}ve.prototype.add=function(a){this.Wb[this.end]=a;return this.end+=1};ve.prototype.oa=function(){var a=new we(this.Wb,0,this.end);this.Wb=null;return a};ve.prototype.ja=function(){return this.end};function xe(a){return new ve(Array(a))}function we(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=we.prototype;g.ja=function(){return this.end-this.off};
g.ga=function(a,b){return this.C[this.off+b]};g.Ca=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.nc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new we(this.C,this.off+1,this.end)};g.ta=function(a,b){return $c(this.C,b,this.C[this.off],this.off+1)};g.ua=function(a,b,c){return $c(this.C,b,c,this.off)};function ye(a,b,c,d){this.oa=a;this.Ha=b;this.meta=c;this.R=d;this.F=31850732;this.P=1536}g=ye.prototype;g.toString=function(){return rc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){return 1<Va(this.oa)?new ye(hc(this.oa),this.Ha,null,null):null==this.Ha?null:Nb(this.Ha)};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};
g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};g.va=function(){return cb(this.oa,0)};g.wa=function(){return 1<Va(this.oa)?new ye(hc(this.oa),this.Ha,null,null):null==this.Ha?K:this.Ha};g.ha=function(){return this};g.Yb=function(){return this.oa};g.Mb=function(){return null==this.Ha?K:this.Ha};g.ia=function(a,b){return b===this.meta?this:new ye(this.oa,this.Ha,b,this.R)};g.ma=function(a,b){return S(b,this)};g.oc=function(){return null==this.Ha?null:this.Ha};ye.prototype[Ia]=function(){return Jc(this)};
function ze(a,b){return 0===Va(a)?b:new ye(a,b,null,null)}function Ae(a,b){a.add(b)}function Vd(a){var b=[];for(a=G(a);;)if(null!=a)b.push(J(a)),a=M(a);else return b}function Be(a,b){if(ad(b))return Q(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=M(b);else return c}
var Ce=function Ce(a){if(null==a)return null;var c=M(a);return null==c?G(J(a)):S(J(a),Ce.j?Ce.j(c):Ce.call(null,c))},De=function De(a){switch(arguments.length){case 0:return De.K();case 1:return De.j(arguments[0]);case 2:return De.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return De.I(arguments[0],arguments[1],c)}};De.K=function(){return Yb(nd)};De.j=function(a){return a};
De.B=function(a,b){return Zb(a,b)};De.I=function(a,b,c){for(;;)if(a=Zb(a,b),v(c))b=J(c),c=M(c);else return a};De.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};De.N=2;
function Ee(a,b,c){var d=G(c);if(0===b)return a.K?a.K():a.call(null);c=B(d);var e=fb(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=B(e);var f=fb(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=B(f);var h=fb(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=B(h);var k=fb(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=B(k);var l=fb(k);if(5===b)return a.sa?a.sa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=B(l);var m=fb(l);if(6===b)return a.Ma?a.Ma(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
B(m);var n=fb(m);if(7===b)return a.gb?a.gb(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=B(n);var p=fb(n);if(8===b)return a.hb?a.hb(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=B(p);var t=fb(p);if(9===b)return a.ib?a.ib(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=B(t);var x=fb(t);if(10===b)return a.Va?a.Va(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);t=B(x);var A=fb(x);if(11===b)return a.Wa?a.Wa(c,d,e,f,h,k,l,m,n,p,t):a.call(null,c,d,e,f,h,k,l,m,n,p,t);x=B(A);var C=fb(A);if(12===
b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,n,p,t,x):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x);A=B(C);var H=fb(C);if(13===b)return a.Ya?a.Ya(c,d,e,f,h,k,l,m,n,p,t,x,A):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A);C=B(H);var N=fb(H);if(14===b)return a.Za?a.Za(c,d,e,f,h,k,l,m,n,p,t,x,A,C):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,C);H=B(N);var V=fb(N);if(15===b)return a.$a?a.$a(c,d,e,f,h,k,l,m,n,p,t,x,A,C,H):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H);N=B(V);var ca=fb(V);if(16===b)return a.ab?a.ab(c,d,e,f,h,k,l,m,n,p,t,x,A,
C,H,N):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N);V=B(ca);var fa=fb(ca);if(17===b)return a.bb?a.bb(c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V);ca=B(fa);var qa=fb(fa);if(18===b)return a.cb?a.cb(c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca);fa=B(qa);qa=fb(qa);if(19===b)return a.eb?a.eb(c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa);var pc=B(qa);fb(qa);if(20===b)return a.fb?
a.fb(c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa,pc):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa,pc);throw Error("Only up to 20 arguments supported on functions");}function Fe(a){return null!=a&&(a.F&128||r===a.Ab)?a.na(null):G(Hc(a))}function Ge(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):He(a,b,B(c),Fe(c))}function He(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Ie(a,b,c,B(d),Fe(d))}function Ie(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Je(a,b,c,d,B(e),Fe(e))}
function Je(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=B(f),k=M(f);if(null==k)return a.sa?a.sa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=B(k);var l=M(k);if(null==l)return a.Ma?a.Ma(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=B(l);var m=M(l);if(null==m)return a.gb?a.gb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=B(m);var n=M(m);if(null==n)return a.hb?a.hb(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=B(n);var p=M(n);if(null==p)return a.ib?a.ib(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=B(p);var t=M(p);if(null==t)return a.Va?a.Va(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=B(t);var x=M(t);if(null==x)return a.Wa?a.Wa(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);t=B(x);var A=M(x);if(null==A)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m,n,p,t):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t);x=B(A);var C=M(A);if(null==C)return a.Ya?a.Ya(b,c,d,e,h,f,k,l,m,n,p,t,x):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x);A=B(C);var H=M(C);if(null==H)return a.Za?a.Za(b,c,d,e,h,f,k,l,m,n,p,t,x,A):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,t,x,A);C=B(H);var N=M(H);if(null==N)return a.$a?a.$a(b,c,d,e,h,f,k,l,m,n,p,t,x,A,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,C);H=B(N);var V=M(N);if(null==V)return a.ab?a.ab(b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H);N=B(V);var ca=M(V);if(null==ca)return a.bb?a.bb(b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N);V=B(ca);var fa=M(ca);if(null==fa)return a.cb?a.cb(b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N,V):a.call(a,b,c,d,e,h,f,k,l,m,
n,p,t,x,A,C,H,N,V);ca=B(fa);var qa=M(fa);if(null==qa)return a.eb?a.eb(b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N,V,ca):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N,V,ca);fa=B(qa);qa=M(qa);if(null==qa)return a.fb?a.fb(b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa);b=[b,c,d,e,h,f,k,l,m,n,p,t,x,A,C,H,N,V,ca,fa];for(c=qa;;)if(c)b.push(B(c)),c=M(c);else break;return a.apply(a,b)}
function ud(a){switch(arguments.length){case 2:return Ke(arguments[0],arguments[1]);case 3:return Le(arguments[0],arguments[1],arguments[2]);case 4:return Me(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new I(b.slice(5),0,null);return Oe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Ke(a,b){if(a.O){var c=a.N,d=Be(c+1,b);return d<=c?Ee(a,d,b):a.O(b)}b=G(b);return null==b?a.K?a.K():a.call(a):Ge(a,B(b),Fe(b))}function Le(a,b,c){if(a.O){b=S(b,c);var d=a.N;c=Be(d,c)+1;return c<=d?Ee(a,c,b):a.O(b)}return Ge(a,b,G(c))}function Me(a,b,c,d){return a.O?(b=S(b,S(c,d)),c=a.N,d=2+Be(c-1,d),d<=c?Ee(a,d,b):a.O(b)):He(a,b,c,G(d))}function Ne(a,b,c,d,e){return a.O?(b=S(b,S(c,S(d,e))),c=a.N,e=3+Be(c-2,e),e<=c?Ee(a,e,b):a.O(b)):Ie(a,b,c,d,G(e))}
function Oe(a,b,c,d,e,f){return a.O?(f=Ce(f),b=S(b,S(c,S(d,S(e,f)))),c=a.N,f=4+Be(c-3,f),f<=c?Ee(a,f,b):a.O(b)):Je(a,b,c,d,e,Ce(f))}function Pe(a){return null!=a&&(a.F&64||r===a.rb)?Ke(Qe,a):a}
function Re(){if("undefined"===typeof ua||"undefined"===typeof va||"undefined"===typeof wa)wa=function(a){this.Wc=a;this.F=393216;this.P=0},wa.prototype.ia=function(a,b){return new wa(b)},wa.prototype.da=function(){return this.Wc},wa.prototype.xa=function(){return!1},wa.prototype.next=function(){return Error("No such element")},wa.prototype.remove=function(){return Error("Unsupported operation")},wa.Eb=!0,wa.jb="cljs.core/t_cljs$core24472",wa.Rb=function(a){return D(a,"cljs.core/t_cljs$core24472")};
return new wa(Se)}function Te(a,b){for(;;){if(null==G(b))return!0;var c=J(b);c=a.j?a.j(c):a.call(null,c);if(v(c))b=M(b);else return!1}}function Ue(a){for(var b=ae;;)if(a=G(a)){var c=J(a);c=b.j?b.j(c):b.call(null,c);if(v(c))return c;a=M(a)}else return null}
function Ve(a){return function(){function b(h,k){return Fa(a.B?a.B(h,k):a.call(null,h,k))}function c(h){return Fa(a.j?a.j(h):a.call(null,h))}function d(){return Fa(a.K?a.K():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var t=Array(arguments.length-2);p<t.length;)t[p]=arguments[p+2],++p;p=new I(t,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return Fa(Me(a,l,m,n))}h.N=2;h.O=function(l){var m=J(l);l=M(l);var n=J(l);l=Hc(l);return k(m,n,l)};
h.I=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new I(n,0,null)}return f.I(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.N=2;e.O=f.O;e.K=d;e.j=c;e.B=b;e.I=f.I;return e}()}
var We=function We(a){switch(arguments.length){case 0:return We.K();case 1:return We.j(arguments[0]);case 2:return We.B(arguments[0],arguments[1]);case 3:return We.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return We.I(arguments[0],arguments[1],arguments[2],c)}};We.K=function(){return ae};We.j=function(a){return a};
We.B=function(a,b){return function(){function c(l,m,n){l=b.D?b.D(l,m,n):b.call(null,l,m,n);return a.j?a.j(l):a.call(null,l)}function d(l,m){l=b.B?b.B(l,m):b.call(null,l,m);return a.j?a.j(l):a.call(null,l)}function e(l){l=b.j?b.j(l):b.call(null,l);return a.j?a.j(l):a.call(null,l)}function f(){var l=b.K?b.K():b.call(null);return a.j?a.j(l):a.call(null,l)}var h=null,k=function(){function l(n,p,t,x){var A=null;if(3<arguments.length){A=0;for(var C=Array(arguments.length-3);A<C.length;)C[A]=arguments[A+
3],++A;A=new I(C,0,null)}return m.call(this,n,p,t,A)}function m(n,p,t,x){n=Ne(b,n,p,t,x);return a.j?a.j(n):a.call(null,n)}l.N=3;l.O=function(n){var p=J(n);n=M(n);var t=J(n);n=M(n);var x=J(n);n=Hc(n);return m(p,t,x,n)};l.I=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var t=null;if(3<arguments.length){t=0;for(var x=Array(arguments.length-3);t<x.length;)x[t]=arguments[t+
3],++t;t=new I(x,0,null)}return k.I(l,m,n,t)}throw Error("Invalid arity: "+arguments.length);};h.N=3;h.O=k.O;h.K=f;h.j=e;h.B=d;h.D=c;h.I=k.I;return h}()};
We.D=function(a,b,c){return function(){function d(m,n,p){m=c.D?c.D(m,n,p):c.call(null,m,n,p);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function e(m,n){m=c.B?c.B(m,n):c.call(null,m,n);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function f(m){m=c.j?c.j(m):c.call(null,m);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function h(){var m=c.K?c.K():c.call(null);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}var k=null,l=function(){function m(p,
t,x,A){var C=null;if(3<arguments.length){C=0;for(var H=Array(arguments.length-3);C<H.length;)H[C]=arguments[C+3],++C;C=new I(H,0,null)}return n.call(this,p,t,x,C)}function n(p,t,x,A){p=Ne(c,p,t,x,A);p=b.j?b.j(p):b.call(null,p);return a.j?a.j(p):a.call(null,p)}m.N=3;m.O=function(p){var t=J(p);p=M(p);var x=J(p);p=M(p);var A=J(p);p=Hc(p);return n(t,x,A,p)};m.I=n;return m}();k=function(m,n,p,t){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var x=null;if(3<arguments.length){x=0;for(var A=Array(arguments.length-3);x<A.length;)A[x]=arguments[x+3],++x;x=new I(A,0,null)}return l.I(m,n,p,x)}throw Error("Invalid arity: "+arguments.length);};k.N=3;k.O=l.O;k.K=h;k.j=f;k.B=e;k.D=d;k.I=l.I;return k}()};
We.I=function(a,b,c,d){var e=le(S(a,S(b,S(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new I(m,0,null)}return h.call(this,l)}function h(k){k=Ke(J(e),k);for(var l=M(e);;)if(l){var m=J(l);k=m.j?m.j(k):m.call(null,k);l=M(l)}else return k}f.N=0;f.O=function(k){k=G(k);return h(k)};f.I=h;return f}()};We.O=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.I(b,a,c,d)};We.N=3;
function Xe(a,b){return new te(null,function(){var c=G(b);if(c){if(Ld(c)){for(var d=ic(c),e=Q(d),f=xe(e),h=0;;)if(h<e){var k=function(){var l=cb(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return ze(f.oa(),Xe(a,jc(c)))}e=function(){var l=J(c);return a.j?a.j(l):a.call(null,l)}();return null==e?Xe(a,Hc(c)):S(e,Xe(a,Hc(c)))}return null},null)}function Ye(a){this.state=a;this.ra=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=Ye.prototype;
g.ca=function(a,b){return this===b};g.Ra=function(){return this.state};g.da=function(){return this.meta};g.fc=function(a,b){for(var c=G(this.ra),d=null,e=0,f=0;;)if(f<e){var h=d.ga(null,f),k=T(h,0,null);h=T(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=G(c))Ld(c)?(d=ic(c),c=jc(c),k=d,e=Q(d),d=k):(d=J(c),k=T(d,0,null),h=T(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=M(c),d=null,e=0),f=0;else break};g.Pb=function(a,b,c){this.ra=U.D(this.ra,b,c);return this};
g.Qb=function(a,b){return this.ra=rd.B(this.ra,b)};g.fa=function(){return ba(this)};function Ze(a,b){if(a instanceof Ye){var c=a.validator;if(null!=c&&!v(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ra&&a.fc(c,b);return b}return kc(a,b)}
var $e=function $e(a){switch(arguments.length){case 2:return $e.B(arguments[0],arguments[1]);case 3:return $e.D(arguments[0],arguments[1],arguments[2]);case 4:return $e.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return $e.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
$e.B=function(a,b){if(a instanceof Ye){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=Ze(a,b)}else a=lc(a,b);return a};$e.D=function(a,b,c){if(a instanceof Ye){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=Ze(a,b)}else a=lc(a,b,c);return a};$e.T=function(a,b,c,d){if(a instanceof Ye){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=Ze(a,b)}else a=lc(a,b,c,d);return a};$e.I=function(a,b,c,d,e){return a instanceof Ye?Ze(a,Ne(b,a.state,c,d,e)):lc(a,b,c,d,e)};
$e.O=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.I(b,a,c,d,e)};$e.N=4;function af(a){this.state=a;this.F=32768;this.P=0}af.prototype.Ra=function(){return this.state};
var X=function X(a){switch(arguments.length){case 1:return X.j(arguments[0]);case 2:return X.B(arguments[0],arguments[1]);case 3:return X.D(arguments[0],arguments[1],arguments[2]);case 4:return X.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return X.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
X.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.K?b.K():b.call(null)}var f=null,h=function(){function k(m,n,p){var t=null;if(2<arguments.length){t=0;for(var x=Array(arguments.length-2);t<x.length;)x[t]=arguments[t+2],++t;t=new I(x,0,null)}return l.call(this,m,n,t)}function l(m,n,p){n=Le(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.N=2;k.O=function(m){var n=
J(m);m=M(m);var p=J(m);m=Hc(m);return l(n,p,m)};k.I=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new I(p,0,null)}return h.I(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.N=2;f.O=h.O;f.K=e;f.j=d;f.B=c;f.I=h.I;return f}()}};
X.B=function(a,b){return new te(null,function(){var c=G(b);if(c){if(Ld(c)){for(var d=ic(c),e=Q(d),f=xe(e),h=0;;)if(h<e)Ae(f,function(){var k=cb(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return ze(f.oa(),X.B(a,jc(c)))}return S(function(){var k=J(c);return a.j?a.j(k):a.call(null,k)}(),X.B(a,Hc(c)))}return null},null)};
X.D=function(a,b,c){return new te(null,function(){var d=G(b),e=G(c);if(d&&e){var f=J(d);var h=J(e);f=a.B?a.B(f,h):a.call(null,f,h);d=S(f,X.D(a,Hc(d),Hc(e)))}else d=null;return d},null)};X.T=function(a,b,c,d){return new te(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=J(e);var l=J(f),m=J(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=S(k,X.T(a,Hc(e),Hc(f),Hc(h)))}else e=null;return e},null)};
X.I=function(a,b,c,d,e){return X.B(function(f){return Ke(a,f)},function k(h){return new te(null,function(){var l=X.B(G,h);return Te(ae,l)?S(X.B(J,l),k(X.B(Hc,l))):null},null)}(md.I(e,d,hd([c,b]))))};X.O=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.I(b,a,c,d,e)};X.N=4;
var bf=function bf(a){switch(arguments.length){case 1:return bf.j(arguments[0]);case 2:return bf.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};
bf.j=function(a){return function(b){var c=new af(a);return function(){function d(k,l){var m=zb(c);var n=c.Ra(null)-1;n=c.state=n;k=0<m?b.B?b.B(k,l):b.call(null,k,l):k;return 0<n?k:Wc(k)?k:new Qc(k)}function e(k){return b.j?b.j(k):b.call(null,k)}function f(){return b.K?b.K():b.call(null)}var h=null;h=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};h.K=f;h.j=e;h.B=d;return h}()}};
bf.B=function(a,b){return new te(null,function(){if(0<a){var c=G(b);return c?S(J(c),bf.B(a-1,Hc(c))):null}return null},null)};bf.N=2;function cf(a,b){return new te(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=Hc(d);else break a;return d},null)}function df(a){return X.D(function(b){return b},a,cf(2,a))}
function of(a,b){return new te(null,function(){var c=G(b);if(c){if(Ld(c)){for(var d=ic(c),e=Q(d),f=xe(e),h=0;;)if(h<e){var k=cb(d,h);k=a.j?a.j(k):a.call(null,k);v(k)&&(k=cb(d,h),f.add(k));h+=1}else break;return ze(f.oa(),of(a,jc(c)))}d=J(c);c=Hc(c);return v(a.j?a.j(d):a.call(null,d))?S(d,of(a,c)):of(a,c)}return null},null)}function pf(a,b){return of(Ve(a),b)}
var qf=function qf(a){switch(arguments.length){case 0:return qf.K();case 1:return qf.j(arguments[0]);case 2:return qf.B(arguments[0],arguments[1]);case 3:return qf.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};qf.K=function(){return nd};qf.j=function(a){return a};qf.B=function(a,b){return null!=a?null!=a&&(a.P&4||r===a.Ic)?Cb($b(Na(Zb,Yb(a),b)),wd(a)):Na(ab,a,b):Na(md,a,b)};
qf.D=function(a,b,c){return null!=a&&(a.P&4||r===a.Ic)?Cb($b(be(b,De,Yb(a),c)),wd(a)):be(b,md,a,c)};qf.N=3;
var rf=function rf(a){switch(arguments.length){case 3:return rf.D(arguments[0],arguments[1],arguments[2]);case 4:return rf.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return rf.sa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return rf.Ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(6),0,null);return rf.I(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};rf.D=function(a,b,c){var d=U.D,e=E.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(U,a,b,c)};rf.T=function(a,b,c,d){var e=U.D,f=E.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(U,a,b,c)};rf.sa=function(a,b,c,d,e){var f=U.D,h=E.B(a,b);c=c.D?c.D(h,d,e):c.call(null,h,d,e);return f.call(U,a,b,c)};rf.Ma=function(a,b,c,d,e,f){var h=U.D,k=E.B(a,b);c=c.T?c.T(k,d,e,f):c.call(null,k,d,e,f);return h.call(U,a,b,c)};
rf.I=function(a,b,c,d,e,f,h){return U.D(a,b,Oe(c,E.B(a,b),d,e,f,hd([h])))};rf.O=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);var f=M(e);e=J(f);var h=M(f);f=J(h);h=M(h);return this.I(b,a,c,d,e,f,h)};rf.N=6;function sf(a,b){this.$=a;this.C=b}function tf(a){return new sf(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function uf(a){return new sf(a.$,La(a.C))}function vf(a){a=a.G;return 32>a?0:a-1>>>5<<5}function wf(a,b,c){for(;;){if(0===b)return c;var d=tf(a);d.C[0]=c;c=d;b-=5}}var xf=function xf(a,b,c,d){var f=uf(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=xf.T?xf.T(a,b,c,d):xf.call(null,a,b,c,d)):a=wf(null,b-5,d),f.C[h]=a);return f};function yf(a,b){if(b>=vf(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}
function zf(a,b){if(0<=b&&b<a.G)b=yf(a,b);else throw a=a.G,Error(["No item ",z.j(b)," in vector of length ",z.j(a)].join(""));return b}
var Af=function Af(a,b,c,d,e){var h=uf(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=Af.sa?Af.sa(a,b,c,d,e):Af.call(null,a,b,c,d,e);h.C[k]=a}return h},Bf=function Bf(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=Bf.D?Bf.D(a,b,f):Bf.call(null,a,b,f);if(null==a&&0===e)return null;c=uf(c);c.C[e]=a;return c}if(0===e)return null;c=uf(c);c.C[e]=null;return c};function Cf(a,b,c){this.base=this.i=0;this.C=a;this.v=b;this.start=0;this.end=c}Cf.prototype.xa=function(){return this.i<this.end};
Cf.prototype.next=function(){32===this.i-this.base&&(this.C=yf(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function Df(a,b,c,d){return c<d?Ef(a,b,cd(a,c),c+1,d):b.K?b.K():b.call(null)}function Ef(a,b,c,d,e){var f=c;c=d;for(d=yf(a,d);;)if(c<e){var h=c&31;d=0===h?yf(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(Wc(f))return zb(f);c+=1}else return f}
function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.R=f;this.F=167666463;this.P=139268}g=Y.prototype;g.zb=function(a,b){return 0<=b&&b<this.G?new Ff(b,yf(this,b)[b&31]):null};g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.za=function(a,b){return this.aa(null,b,null)};g.aa=function(a,b,c){return"number"===typeof b?this.Ca(null,b,c):c};
g.Nb=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=yf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(Wc(d)){e=d;break a}f+=1}else{e=d;break a}if(Wc(e))return zb(e);a+=c;d=e}else return d};g.ga=function(a,b){return zf(this,b)[b&31]};g.Ca=function(a,b,c){return 0<=b&&b<this.G?yf(this,b)[b&31]:c};
g.ec=function(a,b){if(0<=a&&a<this.G){if(vf(this)<=a){var c=La(this.tail);c[a&31]=b;return new Y(this.meta,this.G,this.shift,this.root,c,null)}return new Y(this.meta,this.G,this.shift,Af(this,this.shift,this.root,a,b),this.tail,null)}if(a===this.G)return this.ma(null,b);throw Error(["Index ",z.j(a)," out of bounds  [0,",z.j(this.G),"]"].join(""));};g.Da=function(){var a=this.G;return new Cf(0<Q(this)?yf(this,0):null,this,a)};g.da=function(){return this.meta};g.ja=function(){return this.G};
g.Bb=function(){return 0<this.G?this.ga(null,this.G-1):null};g.Cb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return Cb(nd,this.meta);if(1<this.G-vf(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=yf(this,this.G-2),b=Bf(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.Ob=function(){return 0<this.G?new fd(this,this.G-1,null):null};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};g.ca=function(a,b){if(b instanceof Y)if(this.G===Q(b))for(a=this.Da(null),b=b.Da(null);;)if(a.xa()){var c=a.next(),d=b.next();if(!O.B(c,d))return!1}else return!0;else return!1;else return gd(this,b)};g.qb=function(){return new Gf(this.G,this.shift,Hf.j?Hf.j(this.root):Hf.call(null,this.root),If.j?If.j(this.tail):If.call(null,this.tail))};g.la=function(){return Cb(nd,this.meta)};
g.ta=function(a,b){return Df(this,b,0,this.G)};g.ua=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=yf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(Wc(d)){e=d;break a}f+=1}else{e=d;break a}if(Wc(e))return zb(e);a+=c;d=e}else return d};g.Qa=function(a,b,c){if("number"===typeof b)return this.ec(b,c);throw Error("Vector's key for assoc must be a number.");};
g.ob=function(a,b){return"number"!==typeof b||isNaN(b)||Infinity===b||parseFloat(b)!==parseInt(b,10)?!1:0<=b&&b<this.G};g.ha=function(){if(0===this.G)return null;if(32>=this.G)return new I(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Jf?Jf(this,a,0,0):Kf.call(null,this,a,0,0)};g.ia=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.R)};
g.ma=function(a,b){if(32>this.G-vf(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=tf(null),c.C[0]=this.root,d=wf(null,this.shift,new sf(null,this.tail)),c.C[1]=d):c=xf(this,this.shift,this.root,new sf(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return this.ga(null,a)};g.B=function(a,b){return this.Ca(null,a,b)};
var Z=new sf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),nd=new Y(null,0,5,Z,[],Mc);function Lf(a,b){var c=a.length;a=b?a:La(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).qb(null);;)if(b<c)d=b+1,e=De.B(e,a[b]),b=d;else return $b(e)}Y.prototype[Ia]=function(){return Jc(this)};
function Mf(a){return v(Nf.j?Nf.j(a):Nf.call(null,a))?new Y(null,2,5,Z,[Of.j?Of.j(a):Of.call(null,a),Pf.j?Pf.j(a):Pf.call(null,a)],null):Kd(a)?vd(a,null):Ea(a)?Lf(a,!0):$b(Na(Zb,Yb(nd),a))}var Qf=function Qf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Qf.I(c)};Qf.I=function(a){return a instanceof I&&0===a.i?Lf(a.C,!Ea(a.C)):Mf(a)};Qf.N=0;Qf.O=function(a){return this.I(G(a))};
function Rf(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.R=null;this.F=32375020;this.P=1536}g=Rf.prototype;g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Jf?Jf(a,b,c,d):Kf.call(null,a,b,c,d);return null==a?null:a}return this.oc()};
g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};g.ta=function(a,b){return Df(this.Ba,b,this.i+this.off,Q(this.Ba))};g.ua=function(a,b,c){return Ef(this.Ba,b,c,this.i+this.off,Q(this.Ba))};g.va=function(){return this.node[this.off]};g.wa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Jf?Jf(a,b,c,d):Kf.call(null,a,b,c,d);return null==a?K:a}return this.Mb(null)};g.ha=function(){return this};
g.Yb=function(){var a=this.node;return new we(a,this.off,a.length)};g.Mb=function(){var a=this.i+this.node.length;if(a<Va(this.Ba)){var b=this.Ba,c=yf(this.Ba,a);return Jf?Jf(b,c,a,0):Kf.call(null,b,c,a,0)}return K};g.ia=function(a,b){return b===this.meta?this:Sf?Sf(this.Ba,this.node,this.i,this.off,b):Kf.call(null,this.Ba,this.node,this.i,this.off,b)};g.ma=function(a,b){return S(b,this)};
g.oc=function(){var a=this.i+this.node.length;if(a<Va(this.Ba)){var b=this.Ba,c=yf(this.Ba,a);return Jf?Jf(b,c,a,0):Kf.call(null,b,c,a,0)}return null};Rf.prototype[Ia]=function(){return Jc(this)};
function Kf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Rf(b,zf(b,c),c,d,null);case 4:return Jf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Sf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function Jf(a,b,c,d){return new Rf(a,b,c,d,null)}function Sf(a,b,c,d,e){return new Rf(a,b,c,d,e)}
function Tf(a,b){return a===b.$?b:new sf(a,La(b.C))}function Hf(a){return new sf({},La(a.C))}function If(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Md(a,0,b,0,a.length);return b}var Uf=function Uf(a,b,c,d){c=Tf(a.root.$,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Uf.T?Uf.T(a,b,h,d):Uf.call(null,a,b,h,d)):a=wf(a.root.$,b-5,d)}c.C[f]=a;return c};
function Gf(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Gf.prototype;
g.tb=function(a,b){if(this.root.$){if(32>this.G-vf(this))this.tail[this.G&31]=b;else{a=new sf(this.root.$,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=wf(this.root.$,this.shift,a),this.root=new sf(this.root.$,b),this.shift=c):this.root=Uf(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Db=function(){if(this.root.$){this.root.$=null;var a=this.G-vf(this),b=Array(a);Md(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.sb=function(a,b,c){if("number"===typeof b)return Vf(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Vf(a,b,c){if(a.root.$){if(0<=b&&b<a.G){if(vf(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Tf(a.root.$,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.tb(null,c);throw Error(["Index ",z.j(b)," out of bounds for TransientVector of length",z.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.ja=function(){if(this.root.$)return this.G;throw Error("count after persistent!");};
g.ga=function(a,b){if(this.root.$)return zf(this,b)[b&31];throw Error("nth after persistent!");};g.Ca=function(a,b,c){return 0<=b&&b<this.G?this.ga(null,b):c};g.za=function(a,b){return this.aa(null,b,null)};g.aa=function(a,b,c){if(this.root.$)return"number"===typeof b?this.Ca(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return this.za(null,a)};g.B=function(a,b){return this.aa(null,a,b)};function Wf(){this.F=2097152;this.P=0}Wf.prototype.ca=function(){return!1};var Xf=new Wf;
function Yf(a,b){return Od(Id(b)&&!Jd(b)?Q(a)===Q(b)?(null!=a?a.F&1048576||r===a.fd||(a.F?0:w(Gb,a)):w(Gb,a))?$d(function(c,d,e){return O.B(E.D(b,d,Xf),e)?!0:new Qc(!1)},!0,a):Te(function(c){return O.B(E.D(b,J(c),Xf),J(M(c)))},a):null:null)}function Zf(a){this.s=a}Zf.prototype.next=function(){if(null!=this.s){var a=J(this.s),b=T(a,0,null);a=T(a,1,null);this.s=M(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function $f(a){this.s=a}
$f.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=M(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function qd(a,b){if(b instanceof F)a:{var c=a.length;b=b.Aa;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof F&&b===a[d].Aa){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Dc)a:for(c=a.length,b=b.La,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Dc&&b===a[d].La){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(O.B(b,a[d])){a=d;break a}d+=2}return a}function Ff(a,b){this.key=a;this.ea=b;this.R=null;this.F=166619935;this.P=0}g=Ff.prototype;g.zb=function(a,b){switch(b){case 0:return new Ff(0,this.key);case 1:return new Ff(1,this.ea);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.za=function(a,b){return this.Ca(null,b,null)};g.aa=function(a,b,c){return this.Ca(null,b,c)};g.ga=function(a,b){if(0===b)return this.key;if(1===b)return this.ea;throw Error("Index out of bounds");};
g.Ca=function(a,b,c){return 0===b?this.key:1===b?this.ea:c};g.ec=function(a,b){return(new Y(null,2,5,Z,[this.key,this.ea],null)).ec(a,b)};g.da=function(){return null};g.ja=function(){return 2};g.Oc=function(){return this.key};g.Pc=function(){return this.ea};g.Bb=function(){return this.ea};g.Cb=function(){return new Y(null,1,5,Z,[this.key],null)};g.Ob=function(){return new I([this.ea,this.key],0,null)};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};
g.ca=function(a,b){return gd(this,b)};g.la=function(){return null};g.ta=function(a,b){a:if(a=this.ja(null),0===a)b=b.K?b.K():b.call(null);else for(var c=this.ga(null,0),d=1;;)if(d<a){var e=this.ga(null,d);c=b.B?b.B(c,e):b.call(null,c,e);if(Wc(c)){b=zb(c);break a}d+=1}else{b=c;break a}return b};g.ua=function(a,b,c){a:{a=this.ja(null);var d=c;for(c=0;;)if(c<a){var e=this.ga(null,c);d=b.B?b.B(d,e):b.call(null,d,e);if(Wc(d)){b=zb(d);break a}c+=1}else{b=d;break a}}return b};
g.Qa=function(a,b,c){return U.D(new Y(null,2,5,Z,[this.key,this.ea],null),b,c)};g.ob=function(a,b){return 0===b||1===b};g.ha=function(){return new I([this.key,this.ea],0,null)};g.ia=function(a,b){return vd(new Y(null,2,5,Z,[this.key,this.ea],null),b)};g.ma=function(a,b){return new Y(null,3,5,Z,[this.key,this.ea,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return this.ga(null,a)};g.B=function(a,b){return this.Ca(null,a,b)};function Nf(a){return null!=a?a.F&2048||r===a.jd?!0:!1:!1}function ag(a,b,c){this.C=a;this.i=b;this.Ja=c;this.F=32374990;this.P=0}g=ag.prototype;
g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.Ja};g.na=function(){return this.i<this.C.length-2?new ag(this.C,this.i+2,null):null};g.ja=function(){return(this.C.length-this.i)/2};g.fa=function(){return Lc(this)};
g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return new Ff(this.C[this.i],this.C[this.i+1])};g.wa=function(){return this.i<this.C.length-2?new ag(this.C,this.i+2,null):K};g.ha=function(){return this};g.ia=function(a,b){return b===this.Ja?this:new ag(this.C,this.i,b)};g.ma=function(a,b){return S(b,this)};ag.prototype[Ia]=function(){return Jc(this)};
function bg(a,b){this.C=a;this.i=0;this.G=b}bg.prototype.xa=function(){return this.i<this.G};bg.prototype.next=function(){var a=new Ff(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function u(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.R=d;this.F=16647951;this.P=139268}g=u.prototype;g.zb=function(a,b){a=qd(this.C,b);return-1===a?null:new Ff(this.C[a],this.C[a+1])};g.toString=function(){return rc(this)};g.keys=function(){return Jc(cg.j?cg.j(this):cg.call(null,this))};g.entries=function(){return new Zf(G(G(this)))};
g.values=function(){return Jc(dg.j?dg.j(this):dg.call(null,this))};g.has=function(a){return Qd(this,a)};g.get=function(a,b){return this.aa(null,a,b)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),h=T(f,0,null);f=T(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Ld(b)?(c=ic(b),b=jc(b),h=c,d=Q(c),c=h):(c=J(b),h=T(c,0,null),f=T(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.za=function(a,b){return this.aa(null,b,null)};
g.aa=function(a,b,c){a=qd(this.C,b);return-1===a?c:this.C[a+1]};g.Nb=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(Wc(c))return zb(c);d+=2}else return c};g.Da=function(){return new bg(this.C,2*this.G)};g.da=function(){return this.meta};g.ja=function(){return this.G};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Nc(this)};
g.ca=function(a,b){if(Id(b)&&!Jd(b))if(a=this.C.length,this.G===b.ja(null))for(var c=0;;)if(c<a){var d=b.aa(null,this.C[c],Nd);if(d!==Nd)if(O.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.qb=function(){return new eg(this.C.length,La(this.C))};g.la=function(){return Cb(Se,this.meta)};g.ta=function(a,b){return Xd(this,b)};g.ua=function(a,b,c){return Yd(this,b,c)};
g.Zb=function(a,b){if(0<=qd(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.la(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new u(this.meta,this.G-1,c,null);O.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.Qa=function(a,b,c){a=qd(this.C,b);if(-1===a){if(this.G<fg){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new u(this.meta,this.G+1,e,null)}return Cb(nb(qf.B(gg,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=La(this.C);b[a+1]=c;return new u(this.meta,this.G,b,null)};g.ob=function(a,b){return-1!==qd(this.C,b)};g.ha=function(){var a=this.C;return 0<=a.length-2?new ag(a,0,null):null};
g.ia=function(a,b){return b===this.meta?this:new u(b,this.G,this.C,this.R)};g.ma=function(a,b){if(Kd(b))return this.Qa(null,cb(b,0),cb(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Kd(c))a=nb(a,cb(c,0),cb(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return this.za(null,a)};g.B=function(a,b){return this.aa(null,a,b)};var Se=new u(null,0,[],Oc),fg=8;u.prototype[Ia]=function(){return Jc(this)};
function eg(a,b){this.wb={};this.lb=a;this.C=b;this.F=259;this.P=56}g=eg.prototype;g.ja=function(){if(this.wb)return de(this.lb,2);throw Error("count after persistent!");};g.za=function(a,b){return this.aa(null,b,null)};g.aa=function(a,b,c){if(this.wb)return a=qd(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.tb=function(a,b){if(this.wb){if(Nf(b))return this.sb(null,Of.j?Of.j(b):Of.call(null,b),Pf.j?Pf.j(b):Pf.call(null,b));if(Kd(b))return this.sb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=G(b);for(b=this;;){var c=J(a);if(v(c))a=M(a),b=ac(b,Of.j?Of.j(c):Of.call(null,c),Pf.j?Pf.j(c):Pf.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Db=function(){if(this.wb)return this.wb=!1,new u(null,de(this.lb,2),this.C,null);throw Error("persistent! called twice");};
g.sb=function(a,b,c){if(this.wb){a=qd(this.C,b);if(-1===a){if(this.lb+2<=2*fg)return this.lb+=2,this.C.push(b),this.C.push(c),this;a=hg.B?hg.B(this.lb,this.C):hg.call(null,this.lb,this.C);return ac(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return this.aa(null,a,null)};g.B=function(a,b){return this.aa(null,a,b)};function hg(a,b){for(var c=Yb(gg),d=0;;)if(d<a)c=ac(c,b[d],b[d+1]),d+=2;else return c}function ig(){this.ea=!1}function jg(a,b){return a===b?!0:pe(a,b)?!0:O.B(a,b)}function kg(a,b,c){a=La(a);a[b]=c;return a}function lg(a,b){var c=Array(a.length-2);Md(a,0,c,0,2*b);Md(a,2*(b+1),c,2*b,c.length-2*b);return c}
function mg(a,b,c,d){a=a.kb(b);a.C[c]=d;return a}function ng(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Ib(b,f):f;if(Wc(c))return c;e+=2;f=c}else return f}function og(a){this.C=a;this.i=0;this.Ia=this.Jb=null}og.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Jb=new Ff(b,c):null!=c?(b=oc(c),b=b.xa()?this.Ia=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
og.prototype.xa=function(){var a=null!=this.Jb;return a?a:(a=null!=this.Ia)?a:this.advance()};og.prototype.next=function(){if(null!=this.Jb){var a=this.Jb;this.Jb=null;return a}if(null!=this.Ia)return a=this.Ia.next(),this.Ia.xa()||(this.Ia=null),a;if(this.advance())return this.next();throw Error("No such element");};og.prototype.remove=function(){return Error("Unsupported operation")};function pg(a,b,c){this.$=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=pg.prototype;
g.kb=function(a){if(a===this.$)return this;var b=ee(this.bitmap),c=Array(0>b?4:2*(b+1));Md(this.C,0,c,0,2*b);return new pg(a,this.bitmap,c)};g.Gb=function(){return qg?qg(this.C):rg.call(null,this.C)};g.Ib=function(a,b){return ng(this.C,a,b)};g.Ta=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ee(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Ta(a+5,b,c,d):jg(c,e)?f:d};
g.Ga=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ee(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ee(this.bitmap);if(2*l<this.C.length){a=this.kb(a);b=a.C;f.ea=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=sg.Ga(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?sg.Ga(a,b+5,Ac(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new tg(a,l+1,k)}b=Array(2*(l+4));Md(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Md(this.C,2*k,b,2*(k+1),2*(l-k));f.ea=!0;a=this.kb(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ga(a,b+5,c,d,e,f),l===h?this:mg(this,a,2*k+1,l);if(jg(d,l))return e===h?this:mg(this,a,2*k+1,e);f.ea=!0;f=b+5;d=ug?ug(a,f,l,h,c,d,e):vg.call(null,a,f,
l,h,c,d,e);e=2*k;k=2*k+1;a=this.kb(a);a.C[e]=null;a.C[k]=d;return a};
g.Fa=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ee(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ee(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=sg.Fa(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?sg.Fa(a+5,Ac(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new tg(null,k+1,h)}a=Array(2*
(k+1));Md(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Md(this.C,2*h,a,2*(h+1),2*(k-h));e.ea=!0;return new pg(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Fa(a+5,b,c,d,e),k===f?this:new pg(null,this.bitmap,kg(this.C,2*h+1,k));if(jg(c,l))return d===f?this:new pg(null,this.bitmap,kg(this.C,2*h+1,d));e.ea=!0;e=this.bitmap;k=this.C;a+=5;a=wg?wg(a,l,f,b,c,d):vg.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=La(k);d[c]=null;d[h]=a;return new pg(null,e,d)};
g.Fb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ee(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Fb(a+5,b,c,d):jg(c,e)?new Ff(e,f):d};
g.Hb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ee(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Hb(a+5,b,c),a===h?this:null!=a?new pg(null,this.bitmap,kg(this.C,2*e+1,a)):this.bitmap===d?null:new pg(null,this.bitmap^d,lg(this.C,e))):jg(c,f)?new pg(null,this.bitmap^d,lg(this.C,e)):this};g.Da=function(){return new og(this.C)};var sg=new pg(null,0,[]);function xg(a){this.C=a;this.i=0;this.Ia=null}
xg.prototype.xa=function(){for(var a=this.C.length;;){if(null!=this.Ia&&this.Ia.xa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Ia=oc(b))}else return!1}};xg.prototype.next=function(){if(this.xa())return this.Ia.next();throw Error("No such element");};xg.prototype.remove=function(){return Error("Unsupported operation")};function tg(a,b,c){this.$=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=tg.prototype;g.kb=function(a){return a===this.$?this:new tg(a,this.G,La(this.C))};
g.Gb=function(){return yg?yg(this.C):zg.call(null,this.C)};g.Ib=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Ib(a,b);if(Wc(b))return b;d+=1}else d+=1}else return b};g.Ta=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Ta(a+5,b,c,d):d};g.Ga=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=mg(this,a,h,sg.Ga(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ga(a,b+5,c,d,e,f);return b===k?this:mg(this,a,h,b)};
g.Fa=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new tg(null,this.G+1,kg(this.C,f,sg.Fa(a+5,b,c,d,e)));a=h.Fa(a+5,b,c,d,e);return a===h?this:new tg(null,this.G,kg(this.C,f,a))};g.Fb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Fb(a+5,b,c,d):d};
g.Hb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Hb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new pg(null,h,b);break a}}else d=new tg(null,this.G-1,kg(this.C,d,a));else d=new tg(null,this.G,kg(this.C,d,a));return d}return this};g.Da=function(){return new xg(this.C)};
function Ag(a,b,c){b*=2;for(var d=0;;)if(d<b){if(jg(c,a[d]))return d;d+=2}else return-1}function Bg(a,b,c,d){this.$=a;this.Na=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Bg.prototype;g.kb=function(a){if(a===this.$)return this;var b=Array(2*(this.G+1));Md(this.C,0,b,0,2*this.G);return new Bg(a,this.Na,this.G,b)};g.Gb=function(){return qg?qg(this.C):rg.call(null,this.C)};g.Ib=function(a,b){return ng(this.C,a,b)};
g.Ta=function(a,b,c,d){a=Ag(this.C,this.G,c);return 0>a?d:jg(c,this.C[a])?this.C[a+1]:d};
g.Ga=function(a,b,c,d,e,f){if(c===this.Na){b=Ag(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.kb(a),a.C[b]=d,a.C[c]=e,f.ea=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);Md(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.ea=!0;d=this.G+1;a===this.$?(this.C=b,this.G=d,a=this):a=new Bg(this.$,this.Na,d,b);return a}return this.C[b+1]===e?this:mg(this,a,b+1,e)}return(new pg(a,1<<(this.Na>>>b&31),[null,this,null,null])).Ga(a,b,c,d,e,f)};
g.Fa=function(a,b,c,d,e){return b===this.Na?(a=Ag(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),Md(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.ea=!0,new Bg(null,this.Na,this.G+1,b)):O.B(this.C[a+1],d)?this:new Bg(null,this.Na,this.G,kg(this.C,a+1,d))):(new pg(null,1<<(this.Na>>>a&31),[null,this])).Fa(a,b,c,d,e)};g.Fb=function(a,b,c,d){a=Ag(this.C,this.G,c);return 0>a?d:jg(c,this.C[a])?new Ff(this.C[a],this.C[a+1]):d};
g.Hb=function(a,b,c){a=Ag(this.C,this.G,c);return-1===a?this:1===this.G?null:new Bg(null,this.Na,this.G-1,lg(this.C,de(a,2)))};g.Da=function(){return new og(this.C)};function vg(a){switch(arguments.length){case 6:return wg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return ug(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}
function wg(a,b,c,d,e,f){var h=Ac(b);if(h===d)return new Bg(null,h,2,[b,c,e,f]);var k=new ig;return sg.Fa(a,h,b,c,k).Fa(a,d,e,f,k)}function ug(a,b,c,d,e,f,h){var k=Ac(c);if(k===e)return new Bg(null,k,2,[c,d,f,h]);var l=new ig;return sg.Ga(a,b,k,c,d,l).Ga(a,b,e,f,h,l)}function Cg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.R=e;this.F=32374988;this.P=0}g=Cg.prototype;g.toString=function(){return rc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Dg?Dg(a,b,null):rg.call(null,a,b,null)}a=this.nodes;b=this.i;var c=M(this.s);return Dg?Dg(a,b,c):rg.call(null,a,b,c)};
g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return null==this.s?new Ff(this.nodes[this.i],this.nodes[this.i+1]):J(this.s)};
g.wa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Dg?Dg(c,d,null):rg.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=M(a.s);return Dg?Dg(c,d,e):rg.call(null,c,d,e)}();return null!=b?b:K};g.ha=function(){return this};g.ia=function(a,b){return b===this.meta?this:new Cg(b,this.nodes,this.i,this.s,this.R)};g.ma=function(a,b){return S(b,this)};Cg.prototype[Ia]=function(){return Jc(this)};
function rg(a){switch(arguments.length){case 1:return qg(arguments[0]);case 3:return Dg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function qg(a){return Dg(a,0,null)}function Dg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Cg(null,a,b,null,null);var d=a[b+1];if(v(d)&&(d=d.Gb(),v(d)))return new Cg(null,a,b+2,d,null);b+=2}else return null;else return new Cg(null,a,b,c,null)}
function Eg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.R=e;this.F=32374988;this.P=0}g=Eg.prototype;g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.meta};g.na=function(){var a=this.nodes,b=this.i,c=M(this.s);return Fg?Fg(a,b,c):zg.call(null,a,b,c)};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Lc(this)};
g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return J(this.s)};g.wa=function(){var a=this.nodes;var b=this.i,c=M(this.s);a=Fg?Fg(a,b,c):zg.call(null,a,b,c);return null!=a?a:K};g.ha=function(){return this};g.ia=function(a,b){return b===this.meta?this:new Eg(b,this.nodes,this.i,this.s,this.R)};g.ma=function(a,b){return S(b,this)};Eg.prototype[Ia]=function(){return Jc(this)};
function zg(a){switch(arguments.length){case 1:return yg(arguments[0]);case 3:return Fg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function yg(a){return Fg(a,0,null)}function Fg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(v(d)&&(d=d.Gb(),v(d)))return new Eg(null,a,b+1,d,null);b+=1}else return null;else return new Eg(null,a,b,c,null)}function Gg(a,b){this.qa=a;this.Dc=b;this.seen=!1}
Gg.prototype.xa=function(){return!this.seen||this.Dc.xa()};Gg.prototype.next=function(){if(this.seen)return this.Dc.next();this.seen=!0;return new Ff(null,this.qa)};Gg.prototype.remove=function(){return Error("Unsupported operation")};function Hg(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.pa=d;this.qa=e;this.R=f;this.F=16123663;this.P=139268}g=Hg.prototype;g.zb=function(a,b){return null==b?this.pa?new Ff(null,this.qa):null:null==this.root?null:this.root.Fb(0,Ac(b),b,null)};g.toString=function(){return rc(this)};
g.keys=function(){return Jc(cg.j?cg.j(this):cg.call(null,this))};g.entries=function(){return new Zf(G(G(this)))};g.values=function(){return Jc(dg.j?dg.j(this):dg.call(null,this))};g.has=function(a){return Qd(this,a)};g.get=function(a,b){return this.aa(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),h=T(f,0,null);f=T(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Ld(b)?(c=ic(b),b=jc(b),h=c,d=Q(c),c=h):(c=J(b),h=T(c,0,null),f=T(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.za=function(a,b){return this.aa(null,b,null)};g.aa=function(a,b,c){return null==b?this.pa?this.qa:c:null==this.root?c:this.root.Ta(0,Ac(b),b,c)};
g.Nb=function(a,b,c){a=this.pa?b.D?b.D(c,null,this.qa):b.call(null,c,null,this.qa):c;Wc(a)?b=zb(a):null!=this.root?(b=this.root.Ib(b,a),b=Wc(b)?Xc.j?Xc.j(b):Xc.call(null,b):b):b=a;return b};g.Da=function(){var a=this.root?oc(this.root):Re();return this.pa?new Gg(this.qa,a):a};g.da=function(){return this.meta};g.ja=function(){return this.G};g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Nc(this)};g.ca=function(a,b){return Yf(this,b)};g.qb=function(){return new Ig(this.root,this.G,this.pa,this.qa)};
g.la=function(){return Cb(gg,this.meta)};g.Zb=function(a,b){if(null==b)return this.pa?new Hg(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Hb(0,Ac(b),b);return a===this.root?this:new Hg(this.meta,this.G-1,a,this.pa,this.qa,null)};
g.Qa=function(a,b,c){if(null==b)return this.pa&&c===this.qa?this:new Hg(this.meta,this.pa?this.G:this.G+1,this.root,!0,c,null);a=new ig;b=(null==this.root?sg:this.root).Fa(0,Ac(b),b,c,a);return b===this.root?this:new Hg(this.meta,a.ea?this.G+1:this.G,b,this.pa,this.qa,null)};g.ob=function(a,b){return null==b?this.pa:null==this.root?!1:this.root.Ta(0,Ac(b),b,Nd)!==Nd};g.ha=function(){if(0<this.G){var a=null!=this.root?this.root.Gb():null;return this.pa?S(new Ff(null,this.qa),a):a}return null};
g.ia=function(a,b){return b===this.meta?this:new Hg(b,this.G,this.root,this.pa,this.qa,this.R)};g.ma=function(a,b){if(Kd(b))return this.Qa(null,cb(b,0),cb(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Kd(c))a=nb(a,cb(c,0),cb(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return this.za(null,a)};g.B=function(a,b){return this.aa(null,a,b)};var gg=new Hg(null,0,null,!1,null,Oc);Hg.prototype[Ia]=function(){return Jc(this)};
function Ig(a,b,c,d){this.$={};this.root=a;this.count=b;this.pa=c;this.qa=d;this.F=259;this.P=56}function Jg(a,b,c){if(a.$){if(null==b)a.qa!==c&&(a.qa=c),a.pa||(a.count+=1,a.pa=!0);else{var d=new ig;b=(null==a.root?sg:a.root).Ga(a.$,0,Ac(b),b,c,d);b!==a.root&&(a.root=b);d.ea&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Ig.prototype;g.ja=function(){if(this.$)return this.count;throw Error("count after persistent!");};
g.za=function(a,b){return null==b?this.pa?this.qa:null:null==this.root?null:this.root.Ta(0,Ac(b),b)};g.aa=function(a,b,c){return null==b?this.pa?this.qa:c:null==this.root?c:this.root.Ta(0,Ac(b),b,c)};
g.tb=function(a,b){a:if(this.$)if(Nf(b))a=Jg(this,Of.j?Of.j(b):Of.call(null,b),Pf.j?Pf.j(b):Pf.call(null,b));else if(Kd(b))a=Jg(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=G(b),b=this;;){var c=J(a);if(v(c))a=M(a),b=Jg(b,Of.j?Of.j(c):Of.call(null,c),Pf.j?Pf.j(c):Pf.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Db=function(){if(this.$){this.$=null;var a=new Hg(null,this.count,this.root,this.pa,this.qa,null)}else throw Error("persistent! called twice");return a};g.sb=function(a,b,c){return Jg(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};
g.j=function(a){return this.za(null,a)};g.B=function(a,b){return this.aa(null,a,b)};var Qe=function Qe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Qe.I(c)};Qe.I=function(a){for(var b=G(a),c=Yb(gg);;)if(b){a=M(M(b));var d=J(b);b=J(M(b));c=ac(c,d,b);b=a}else return $b(c)};Qe.N=0;Qe.O=function(a){return this.I(G(a))};function Kg(a,b){this.Y=a;this.Ja=b;this.F=32374988;this.P=0}g=Kg.prototype;g.toString=function(){return rc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.Ja};g.na=function(){var a=(null!=this.Y?this.Y.F&128||r===this.Y.Ab||(this.Y.F?0:w(gb,this.Y)):w(gb,this.Y))?this.Y.na(null):M(this.Y);return null==a?null:new Kg(a,null)};g.fa=function(){return Lc(this)};
g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return this.Y.va(null).key};g.wa=function(){var a=(null!=this.Y?this.Y.F&128||r===this.Y.Ab||(this.Y.F?0:w(gb,this.Y)):w(gb,this.Y))?this.Y.na(null):M(this.Y);return null!=a?new Kg(a,null):K};g.ha=function(){return this};g.ia=function(a,b){return b===this.Ja?this:new Kg(this.Y,b)};g.ma=function(a,b){return S(b,this)};Kg.prototype[Ia]=function(){return Jc(this)};
function cg(a){return(a=G(a))?new Kg(a,null):null}function Of(a){return rb(a)}function Lg(a,b){this.Y=a;this.Ja=b;this.F=32374988;this.P=0}g=Lg.prototype;g.toString=function(){return rc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return P(this,b,0);case 2:return P(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return P(this,b,0)};a.B=function(b,c){return P(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return R(this,c,Q(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return R(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return R(this,c,d)};return b}();g.da=function(){return this.Ja};g.na=function(){var a=(null!=this.Y?this.Y.F&128||r===this.Y.Ab||(this.Y.F?0:w(gb,this.Y)):w(gb,this.Y))?this.Y.na(null):M(this.Y);return null==a?null:new Lg(a,null)};g.fa=function(){return Lc(this)};
g.ca=function(a,b){return gd(this,b)};g.la=function(){return K};g.ta=function(a,b){return id(b,this)};g.ua=function(a,b,c){return kd(b,c,this)};g.va=function(){return this.Y.va(null).ea};g.wa=function(){var a=(null!=this.Y?this.Y.F&128||r===this.Y.Ab||(this.Y.F?0:w(gb,this.Y)):w(gb,this.Y))?this.Y.na(null):M(this.Y);return null!=a?new Lg(a,null):K};g.ha=function(){return this};g.ia=function(a,b){return b===this.Ja?this:new Lg(this.Y,b)};g.ma=function(a,b){return S(b,this)};Lg.prototype[Ia]=function(){return Jc(this)};
function dg(a){return(a=G(a))?new Lg(a,null):null}function Pf(a){return sb(a)}var Mg=function Mg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Mg.I(c)};Mg.I=function(a){return v(Ue(a))?Zd(function(b,c){return md.B(v(b)?b:Se,c)},a):null};Mg.N=0;Mg.O=function(a){return this.I(G(a))};
function Ng(a,b){if(v(Ue(b))){var c=function(d,e){var f=rb(e),h=sb(e);if(Qd(d,f)){e=U.D;var k=E.B(d,f);h=a.B?a.B(k,h):a.call(null,k,h);d=e.call(U,d,f,h)}else d=U.D(d,f,h);return d};return Zd(function(d,e){return Na(c,v(d)?d:Se,G(e))},b)}return null}function Og(a){for(var b=Se,c=G(Pg);;)if(c){var d=J(c),e=E.D(a,d,Qg);b=O.B(e,Qg)?b:U.D(b,d,e);c=M(c)}else return Cb(b,wd(a))}function Rg(a){this.xb=a}Rg.prototype.xa=function(){return this.xb.xa()};
Rg.prototype.next=function(){if(this.xb.xa())return this.xb.next().key;throw Error("No such element");};Rg.prototype.remove=function(){return Error("Unsupported operation")};function Sg(a,b,c){this.meta=a;this.Oa=b;this.R=c;this.F=15077647;this.P=139268}g=Sg.prototype;g.toString=function(){return rc(this)};g.keys=function(){return Jc(G(this))};g.entries=function(){return new $f(G(G(this)))};g.values=function(){return Jc(G(this))};g.has=function(a){return Qd(this,a)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),h=T(f,0,null);f=T(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Ld(b)?(c=ic(b),b=jc(b),h=c,d=Q(c),c=h):(c=J(b),h=T(c,0,null),f=T(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.za=function(a,b){return this.aa(null,b,null)};g.aa=function(a,b,c){a=ob(this.Oa,b);return v(a)?rb(a):c};g.Da=function(){return new Rg(oc(this.Oa))};g.da=function(){return this.meta};g.ja=function(){return Va(this.Oa)};
g.fa=function(){var a=this.R;return null!=a?a:this.R=a=Nc(this)};g.ca=function(a,b){if(a=Gd(b))if(a=Q(this)===Q(b))try{return $d(function(c,d){return(c=Qd(b,d))?c:new Qc(!1)},!0,this.Oa)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.qb=function(){return new Vg(Yb(this.Oa))};g.la=function(){return Cb(Wg,this.meta)};g.sc=function(a,b){return new Sg(this.meta,qb(this.Oa,b),null)};g.ha=function(){return cg(this.Oa)};
g.ia=function(a,b){return b===this.meta?this:new Sg(b,this.Oa,this.R)};g.ma=function(a,b){return new Sg(this.meta,U.D(this.Oa,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return this.za(null,a)};g.B=function(a,b){return this.aa(null,a,b)};
var Wg=new Sg(null,Se,Oc);Sg.prototype[Ia]=function(){return Jc(this)};function Vg(a){this.mb=a;this.P=136;this.F=259}g=Vg.prototype;g.tb=function(a,b){this.mb=ac(this.mb,b,null);return this};g.Db=function(){return new Sg(null,$b(this.mb),null)};g.ja=function(){return Q(this.mb)};g.za=function(a,b){return this.aa(null,b,null)};g.aa=function(a,b,c){return jb(this.mb,b,Nd)===Nd?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};g.j=function(a){return jb(this.mb,a,Nd)===Nd?null:a};g.B=function(a,b){return jb(this.mb,a,Nd)===Nd?b:a};
function Xg(a){if(Gd(a))return vd(a,null);a=G(a);if(null==a)return Wg;if(a instanceof I&&0===a.i){a=a.C;for(var b=a.length,c=Yb(Wg),d=0;;)if(d<b)Zb(c,a[d]),d+=1;else break;return $b(c)}for(c=Yb(Wg);;)if(null!=a)b=M(a),c=Zb(c,B(a)),a=b;else return $b(c)}function Yg(a){for(var b=nd;;)if(M(a))b=md.B(b,J(a)),a=M(a);else return G(b)}function W(a){if(null!=a&&(a.P&4096||r===a.qc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.j(a)].join(""));}
var Zg=function Zg(a){switch(arguments.length){case 2:return Zg.B(arguments[0],arguments[1]);case 3:return Zg.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return Zg.I(arguments[0],arguments[1],arguments[2],c)}};Zg.B=function(a,b){return b};Zg.D=function(a,b,c){return(a.j?a.j(b):a.call(null,b))>(a.j?a.j(c):a.call(null,c))?b:c};
Zg.I=function(a,b,c,d){return Na(function(e,f){return Zg.D(a,e,f)},Zg.D(a,b,c),d)};Zg.O=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.I(b,a,c,d)};Zg.N=3;
function $g(){return function(){function a(h,k,l){return new Y(null,2,5,Z,[Yg.D?Yg.D(h,k,l):Yg.call(null,h,k,l),ld.D?ld.D(h,k,l):ld.call(null,h,k,l)],null)}function b(h,k){return new Y(null,2,5,Z,[Yg.B?Yg.B(h,k):Yg.call(null,h,k),ld.B?ld.B(h,k):ld.call(null,h,k)],null)}function c(h){return new Y(null,2,5,Z,[Yg.j?Yg.j(h):Yg.call(null,h),ld.j?ld.j(h):ld.call(null,h)],null)}function d(){return new Y(null,2,5,Z,[Yg.K?Yg.K():Yg.call(null),ld.K?ld.K():ld.call(null)],null)}var e=null,f=function(){function h(l,
m,n,p){var t=null;if(3<arguments.length){t=0;for(var x=Array(arguments.length-3);t<x.length;)x[t]=arguments[t+3],++t;t=new I(x,0,null)}return k.call(this,l,m,n,t)}function k(l,m,n,p){return new Y(null,2,5,Z,[Ne(Yg,l,m,n,p),Ne(ld,l,m,n,p)],null)}h.N=3;h.O=function(l){var m=J(l);l=M(l);var n=J(l);l=M(l);var p=J(l);l=Hc(l);return k(m,n,p,l)};h.I=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);case 3:return a.call(this,
h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new I(p,0,null)}return f.I(h,k,l,n)}throw Error("Invalid arity: "+arguments.length);};e.N=3;e.O=f.O;e.K=d;e.j=c;e.B=b;e.D=a;e.I=f.I;return e}()}function ah(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&O.B(a[0],b)?1===a.length?a[0]:Mf(a):null;throw new TypeError("re-matches must match against a string.");}
function bh(a,b,c,d,e,f,h){var k=xa;xa=null==xa?null:xa-1;try{if(null!=xa&&0>xa)return D(a,"#");D(a,c);if(0===Da.j(f))G(h)&&D(a,function(){var x=ch.j(f);return v(x)?x:"..."}());else{if(G(h)){var l=J(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=M(h),n=Da.j(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(D(a,d),D(a,function(){var x=ch.j(f);return v(x)?x:"..."}()));break}else{D(a,d);var p=J(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var t=M(m);c=n-1;m=t;n=c}}return D(a,e)}finally{xa=k}}
function dh(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e);D(a,f);e+=1}else if(b=G(b))c=b,Ld(c)?(b=ic(c),d=jc(c),c=b,f=Q(b),b=d,d=f):(f=J(c),D(a,f),b=M(c),c=null,d=0),e=0;else return null}var eh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function fh(a){return['"',z.j(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return eh[b]})),'"'].join("")}function gh(a,b){return(a=Od(E.B(a,Ba)))?(a=null!=b?b.F&131072||r===b.$b?!0:!1:!1)?null!=wd(b):a:a}
function hh(a,b,c){if(null==a)return D(b,"nil");if(gh(c,a)){D(b,"^");var d=wd(a);ih.D?ih.D(d,b,c):ih.call(null,d,b,c);D(b," ")}if(a.Eb)return a.Rb(b);if(null!=a?a.F&2147483648||r===a.ka||(a.F?0:w(Tb,a)):w(Tb,a))return Ub(a,b,c);if(!0===a||!1===a)return D(b,z.j(a));if("number"===typeof a)return D(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.j(a));if(null!=a&&a.constructor===Object)return D(b,"#js "),d=X.B(function(f){return new Ff(null!=ah(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?se.j(f):f,a[f])},ma(a)),jh.T?jh.T(d,ih,b,c):jh.call(null,d,ih,b,c);if(Ea(a))return bh(b,ih,"#js ["," ","]",c,a);if("string"===typeof a)return v(Aa.j(c))?D(b,fh(a)):D(b,a);if("function"===typeof a){var e=a.name;c=v(function(){var f=null==e;return f?f:ra(e)}())?"Function":e;return dh(b,hd(["#object[",c,v(!1)?[' "',z.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=z.j(f);;)if(f.length<h)f=["0",f].join("");else return f},dh(b,hd(['#inst "',c(a.getUTCFullYear(),4),"-",
c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return dh(b,hd(['#"',a.source,'"']));if(Pa(a))return dh(b,hd(["#object[",a.toString(),"]"]));if(v(function(){var f=null==a?null:a.constructor;return null==f?null:f.jb}()))return dh(b,hd(["#object[",a.constructor.jb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:
f.name}();c=v(function(){var f=null==e;return f?f:ra(e)}())?"Object":e;return null==a.constructor?dh(b,hd(["#object[",c,"]"])):dh(b,hd(["#object[",c," ",z.j(a),"]"]))}function ih(a,b,c){var d=kh.j(c);return v(d)?(c=U.D(c,lh,hh),d.D?d.D(a,b,c):d.call(null,a,b,c)):hh(a,b,c)}
function mh(a){var b=ya();if(Ed(a))b="";else{var c=z,d=c.j,e=new ta,f=new qc(e);ih(J(a),f,b);a=G(M(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ga(null,l);D(f," ");ih(m,f,b);l+=1}else if(a=G(a))h=a,Ld(h)?(a=ic(h),k=jc(h),h=a,m=Q(a),a=k,k=m):(m=J(h),D(f," "),ih(m,f,b),a=M(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function nh(a){return a instanceof Dc?Ec.B(null,W(a)):se.B(null,W(a))}
function oh(a){if(v(!1)){var b=G(a),c=G(b),d=J(c);M(c);T(d,0,null);T(d,1,null);c=null==a?null:null!=a&&(a.F&4||r===a.Jc)?a.la(null):(null!=a?a.F&4||r===a.Jc||(a.F?0:w(Wa,a)):w(Wa,a))?Xa(a):null;for(a=null;;){d=a;b=G(b);a=J(b);var e=M(b),f=a;a=T(f,0,null);b=T(f,1,null);if(v(f))if(a instanceof F||a instanceof Dc)if(v(d))if(O.B(d,qe(a)))c=U.D(c,nh(a),b),a=d,b=e;else return null;else if(d=qe(a),v(d))c=U.D(c,nh(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function ph(a,b,c,d,e){return bh(d,function(f,h,k){var l=rb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);D(h," ");f=sb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[z.j(a),"{"].join(""),", ","}",e,G(b))}function jh(a,b,c,d){var e=Id(a)?oh(a):null,f=T(e,0,null);e=T(e,1,null);return v(f)?ph(["#:",z.j(f)].join(""),e,b,c,d):ph(null,a,b,c,d)}af.prototype.ka=r;af.prototype.ba=function(a,b,c){D(b,"#object[cljs.core.Volatile ");ih(new u(null,1,[qh,this.state],null),b,c);return D(b,"]")};I.prototype.ka=r;
I.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};te.prototype.ka=r;te.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Ff.prototype.ka=r;Ff.prototype.ba=function(a,b,c){return bh(b,ih,"["," ","]",c,this)};Cg.prototype.ka=r;Cg.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};ag.prototype.ka=r;ag.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Kc.prototype.ka=r;Kc.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};
Rf.prototype.ka=r;Rf.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};ne.prototype.ka=r;ne.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};fd.prototype.ka=r;fd.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Hg.prototype.ka=r;Hg.prototype.ba=function(a,b,c){return jh(this,ih,b,c)};Eg.prototype.ka=r;Eg.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Sg.prototype.ka=r;Sg.prototype.ba=function(a,b,c){return bh(b,ih,"#{"," ","}",c,this)};
ye.prototype.ka=r;ye.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Ye.prototype.ka=r;Ye.prototype.ba=function(a,b,c){D(b,"#object[cljs.core.Atom ");ih(new u(null,1,[qh,this.state],null),b,c);return D(b,"]")};Lg.prototype.ka=r;Lg.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Y.prototype.ka=r;Y.prototype.ba=function(a,b,c){return bh(b,ih,"["," ","]",c,this)};ke.prototype.ka=r;ke.prototype.ba=function(a,b){return D(b,"()")};u.prototype.ka=r;
u.prototype.ba=function(a,b,c){return jh(this,ih,b,c)};Kg.prototype.ka=r;Kg.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};od.prototype.ka=r;od.prototype.ba=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Dc.prototype.yb=r;Dc.prototype.pb=function(a,b){if(b instanceof Dc)return Cc(this,b);throw Error(["Cannot compare ",z.j(this)," to ",z.j(b)].join(""));};F.prototype.yb=r;
F.prototype.pb=function(a,b){if(b instanceof F)return oe(this,b);throw Error(["Cannot compare ",z.j(this)," to ",z.j(b)].join(""));};Y.prototype.yb=r;Y.prototype.pb=function(a,b){if(Kd(b))return Sd(this,b);throw Error(["Cannot compare ",z.j(this)," to ",z.j(b)].join(""));};Ff.prototype.yb=r;Ff.prototype.pb=function(a,b){if(Kd(b))return Sd(this,b);throw Error(["Cannot compare ",z.j(this)," to ",z.j(b)].join(""));};var rh=null;function sh(){}
function th(a){if(null!=a&&null!=a.Lc)a=a.Lc(a);else{var b=th[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=th._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IEncodeJS.-clj-\x3ejs",a);}return a}function uh(a,b){return(null!=a?r===a.Kc||(a.uc?0:w(sh,a)):w(sh,a))?th(a):"string"===typeof a||"number"===typeof a||a instanceof F||a instanceof Dc?b.j?b.j(a):b.call(null,a):mh(hd([a]))}
var vh=function vh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return vh.I(arguments[0],c)};
vh.I=function(a,b){b=Pe(b);var c=E.D(b,wh,W),d=function h(f){if(null==f)return null;if(null!=f?r===f.Kc||(f.uc?0:w(sh,f)):w(sh,f))return th(f);if(f instanceof F)return c.j?c.j(f):c.call(null,f);if(f instanceof Dc)return z.j(f);if(Id(f)){var k={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ga(null,n),t=T(p,0,null);p=T(p,1,null);t=uh(t,d);p=h(p);k[t]=p;n+=1}else if(f=G(f))Ld(f)?(m=ic(f),f=jc(f),l=m,m=Q(m)):(m=J(f),l=T(m,0,null),m=T(m,1,null),l=uh(l,d),m=h(m),k[l]=m,f=M(f),l=null,m=0),n=0;else break;
return k}if(Fd(f)){k=[];f=G(X.B(h,f));l=null;for(n=m=0;;)if(n<m)t=l.ga(null,n),k.push(t),n+=1;else if(f=G(f))l=f,Ld(l)?(f=ic(l),n=jc(l),l=f,m=Q(f),f=n):(f=J(l),k.push(f),f=M(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};vh.N=1;vh.O=function(a){var b=J(a);a=M(a);return this.I(b,a)};
function xh(){v(Ka)||(Ka=function(){for(var a=Ud(function(e,f){return f.length-e.length},ma(Ja)),b="";;)if(G(a)){var c=M(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),z.j(J(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Ka}
function yh(a){var b=z.j(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(xh(),"g");var d=b.length-1;d=0<=d&&b.indexOf("$",d)==d;b=v(d)?b.substring(0,b.length-1):b;d="";for(var e=0;;){var f=c.exec(b);if(v(f))f=T(f,0,null),d=[d,z.j(b.substring(e,c.lastIndex-f.length)),z.j("$"===f?"/":na(Ja,f))].join(""),e=c.lastIndex;else{c=[d,z.j(b.substring(e,b.length))].join("");break a}}}a=a instanceof Dc?Ec:z;return a.j?a.j(c):a.call(null,c)};var zh=new F(null,"table","table",-564943036),qh=new F(null,"val","val",128701612),Ah=new Dc("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null),Bh=new F(null,"render","render",-1408033454),Ch=new F(null,"auto-run","auto-run",1958400437),Dh=new F(null,"renderer","renderer",336841071),Eh=new F(null,"on-dispose","on-dispose",2105306360),Fh=new F("cljs.spec.alpha","kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Gh=new F(null,"descending","descending",-24766135),Hh=new Dc(null,"fn*","fn*",
-752876845,null),Ih=new F(null,"constructor","constructor",-1953928811),Jh=new F(null,"log-level","log-level",862121670),Kh=new F(null,"childContextTypes","childContextTypes",578717991),Lh=new Dc("cljs.core","fn","cljs.core/fn",-1065745098,null),Mh=new F(null,"vega","vega",-1657843081),Nh=new F(null,"on-click","on-click",1632826543),Oh=new F(null,"vega-lite","vega-lite",-650304770),Ph=new F(null,"th-style","th-style",-1504296072),Qh=new F(null,"getInitialState","getInitialState",1541760916),kh=new F(null,
"alt-impl","alt-impl",670969595),Rh=new F(null,"div.viz","div.viz",1155063891),Qg=new F("cljs.core","not-found","cljs.core/not-found",-1572889185),Sh=new F(null,"sort-order","sort-order",1853277479),Th=new Dc(null,"p1__27391#","p1__27391#",524058521,null),Uh=new F(null,"no-cache","no-cache",1588056370),Vh=new F(null,"\x3c\x3e","\x3c\x3e",1280186386),za=new F(null,"flush-on-newline","flush-on-newline",-151457939),Wh=new F(null,"data-table","data-table",-149582774),Xh=new F(null,"reagent-render","reagent-render",
-985383853),Yh=new F(null,"th","th",-545608566),Zh=new F(null,"tr","tr",-1424774646),$h=new F(null,"a","a",-2123407586),ai=new F("cljs.spec.alpha","name","cljs.spec.alpha/name",205233570),bi=new F(null,"componentWillUnmount","componentWillUnmount",1573788814),ci=new F(null,"p","p",151049309),di=new F(null,"td","td",1479933353),ei=new F(null,"contextType","contextType",1033066077),fi=new F(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),gi=new F(null,"div","div",1057191632),
lh=new F(null,"fallback-impl","fallback-impl",-1501286995),hi=new F(null,"canvas","canvas",-1798817489),ii=new F(null,"display-name","display-name",694513143),ji=new F(null,"margin-bottom","margin-bottom",388334941),ki=new Dc(null,"p1__27392#","p1__27392#",621527949,null),wh=new F(null,"keyword-fn","keyword-fn",-64566675),li=new F(null,"per-page","per-page",-54905429),mi=new F(null,"component-will-unmount","component-will-unmount",-2058314698),ni=new Dc("cljs.spec.alpha","conformer","cljs.spec.alpha/conformer",
2140085535,null),oi=new F(null,"style","style",-496642736),pi=new Dc(null,"v","v",1661996586,null),qi=new F("cljs.spec.alpha","op","cljs.spec.alpha/op",-1269055252),ri=new Dc(null,"k","k",-505765866,null),ch=new F(null,"more-marker","more-marker",-14717935),si=new F(null,"span","span",1394872991),ti=new F(null,"component-will-update","component-will-update",335247566),ui=new F(null,"td-style","td-style",1948769874),Ba=new F(null,"meta","meta",1499536964),vi=new F(null,"displayName","displayName",
-809144601),wi=new F("cljs.spec.alpha","gfn","cljs.spec.alpha/gfn",-593120375),xi=new F(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),yi=new F(null,"mode","mode",654403691),zi=new F(null,"sort-key","sort-key",1285844623),Ai=new F(null,"logLevel","logLevel",1131406165),Bi=new F(null,"class","class",-2030961996),Ci=new F(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Di=new F(null,"tr-style","tr-style",1853585605),Ei=new F(null,"reagentRender","reagentRender",-358306383),
Fi=new F(null,"cursor","cursor",1011937484),Gi=new F(null,"name","name",1843675177),Hi=new F(null,"page","page",849072397),Ii=new F(null,"on-set","on-set",-140953470),Ji=new F(null,"pointer","pointer",85071187),Ki=new F(null,"ascending","ascending",-988350486),Li=new Dc("cljs.core","map","cljs.core/map",-338988913,null),Ca=new F(null,"dup","dup",556298533),Da=new F(null,"print-length","print-length",1931866356),Mi=new F(null,"component-did-update","component-did-update",-1468549173),Ni=new F(null,
"component-did-mount","component-did-mount",-1126910518),Oi=new F("cljs.spec.alpha","v","cljs.spec.alpha/v",552625740),Pi=new F(null,"on-write","on-write",31519475),Qi=new F(null,"key","key",-1516042587),Ri=new F("cljs.spec.alpha","k","cljs.spec.alpha/k",-1602615178),Si=new Dc(null,"%","%",-950237169,null),Ti=new F(null,"validator","validator",-1966190681),Ui=new F(null,"padding-right","padding-right",-1250249681),Vi=new F("cljs.spec.alpha","unknown","cljs.spec.alpha/unknown",651034818),Aa=new F(null,
"readably","readably",1129599760),Wi=new F(null,"contextTypes","contextTypes",-2023853910),Xi=new F(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),Yi=new F(null,"id","id",-1388402092);var Zi={},$i={},aj=[];function bj(a,b){var c=$i[a];if(void 0!==c)return c;try{aj.push(a);var d=Zi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};Zi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,bj,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{aj.pop()}return d.exports}bj.cache={};bj.resolve=function(a){return a};var cj=bj(53,{});var dj=bj(57,{});function ej(a,b,c){var d=RegExp,e=b.source,f=v(b.ignoreCase)?"gi":"g";f=v(b.multiline)?[f,"m"].join(""):f;b=v(b.pd)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function fj(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=df(d);if(O.B(Q(d),1))return d=J(d),a.j?a.j(d):a.call(null,d);d=Mf(d);return a.j?a.j(d):a.call(null,d)}b.N=0;b.O=function(d){d=G(d);return c(d)};b.I=c;return b}()}
function gj(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ej(a,b,c):ej(a,b,fj(c));throw["Invalid match arg: ",z.j(b)].join("");}function hj(a,b){var c=new ta;for(b=G(b);;)if(null!=b)c.append(z.j(J(b))),b=M(b),null!=b&&c.append(a);else return c.toString()}
function ij(a,b){a="/(?:)/"===z.j(b)?md.B(Mf(S("",X.B(z,G(a)))),""):Mf(z.j(a).split(b));if(1<Q(a))a:for(;;)if(""===(null==a?null:vb(a)))a=null==a?null:wb(a);else break a;return a};var jj={};var kj={},lj,mj;function nj(a,b){if(null!=a&&null!=a.hc)a=a.hc(a,b);else{var c=nj[q(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=nj._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw y("Spec.with-gen*",a);}return a}var oj=new Ye(Se);function pj(a){if(re(a)){var b=zb(oj);a=E.B(b,a);if(re(a))a:for(;;)if(re(a))a=E.B(b,a);else{b=a;break a}else b=a;return b}return a}
function qj(a){if(re(a)){var b=pj(a);if(v(b))return b;throw Error(["Unable to resolve spec: ",z.j(a)].join(""));}return a}function rj(a){return null!=a&&r===a.vc?a:null}function sj(a){var b=qi.j(a);return v(b)?a:b}function tj(a,b){return re(a)?a:v(sj(a))?U.D(a,ai,b):null!=a&&(a.F&131072||r===a.$b)?vd(a,U.D(wd(a),ai,b)):null}function uj(a){return re(a)?a:v(sj(a))?ai.j(a):null!=a&&(a.F&131072||r===a.$b)?ai.j(wd(a)):null}
function vj(a){var b=function(){var c=(c=re(a))?pj(a):c;if(v(c))return c;c=rj(a);if(v(c))return c;c=sj(a);return v(c)?c:null}();return v(sj(b))?tj(wj(b,null),uj(b)):b}function xj(a){var b=vj(a);if(v(b))return b;if(re(a))throw Error(["Unable to resolve spec: ",z.j(a)].join(""));return null}
function Cj(a){if(ra(null==a?"":String(a)))return null;a=X.B(yh,ij(a,"$"));if(2<=Q(a)&&Te(function(c){return!ra(null==c?"":String(c))},a)){var b=$g()(a);a=T(b,0,null);b=T(b,1,null);return Ec.j([hj(".",a),"/",z.j(b)].join(""))}return null}
var Ej=function(){function a(d,e){var f=Dj[q(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Dj._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw y("Specize.specize*",d);}function b(d){var e=Dj[q(null==d?null:d)];if(null!=e)return e.j?e.j(d):e.call(null,d);e=Dj._;if(null!=e)return e.j?e.j(d):e.call(null,d);throw y("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.B=a;return c}(),Dj=function Dj(a){switch(arguments.length){case 1:return Dj.j(arguments[0]);case 2:return Dj.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Dj.j=function(a){return null!=a&&null!=a.ub?a.ub(a):Ej(a)};Dj.B=function(a,b){return null!=a&&null!=a.vb?a.vb(a,b):Ej(a,b)};Dj.N=2;F.prototype.ub=function(){return Dj(qj(this))};F.prototype.vb=function(){return Dj(qj(this))};Dc.prototype.ub=function(){return Dj(qj(this))};
Dc.prototype.vb=function(){return Dj(qj(this))};Sg.prototype.ub=function(){return Fj(this,this,null,null,null)};Sg.prototype.vb=function(a,b){return Fj(b,this,null,null,null)};
Dj._=function(){function a(c){var d=(d=sd(c))?Cj(c.name):d;return v(d)?Fj(d,c,null,null,null):Fj(Vi,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Fj(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Fj(d,c,null,null,null)};return b}();
var Gj=function Gj(a){switch(arguments.length){case 1:return Gj.j(arguments[0]);case 2:return Gj.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Gj.j=function(a){var b=rj(a);return v(b)?b:Dj(a)};Gj.B=function(a,b){var c=rj(a);return v(c)?c:Dj(a,b)};Gj.N=2;function Hj(a,b){a=pj(a);return v(sj(a))?U.D(a,wi,b):nj(Gj.j(a),b)}
function Fj(a,b,c,d,e){if(v(rj(b)))return v(c)?Hj(b,c):b;if(v(sj(b)))return wj(b,c);if(re(b))return a=xj(b),v(c)?Hj(a,c):a;if("undefined"===typeof ua||"undefined"===typeof jj||"undefined"===typeof kj||"undefined"===typeof lj)lj=function(f,h,k,l,m,n){this.form=f;this.Cc=h;this.jc=k;this.zc=l;this.Ec=m;this.Xc=n;this.F=393216;this.P=0},lj.prototype.ia=function(f,h){return new lj(this.form,this.Cc,this.jc,this.zc,this.Ec,h)},lj.prototype.da=function(){return this.Xc},lj.prototype.ub=function(){return this},
lj.prototype.vb=function(){return this},lj.prototype.vc=r,lj.prototype.hc=function(f,h){return Fj(this.form,this.Cc,h,this.zc,this.Ec)},lj.Eb=!0,lj.jb="cljs.spec.alpha/t_cljs$spec$alpha26501",lj.Rb=function(f){return D(f,"cljs.spec.alpha/t_cljs$spec$alpha26501")};return new lj(a,b,c,d,e,Se)}
var wj=function wj(a,b){if("undefined"===typeof ua||"undefined"===typeof jj||"undefined"===typeof kj||"undefined"===typeof mj)mj=function(d,e,f){this.re=d;this.jc=e;this.Yc=f;this.F=393216;this.P=0},mj.prototype.ia=function(d,e){return new mj(this.re,this.jc,e)},mj.prototype.da=function(){return this.Yc},mj.prototype.ub=function(){return this},mj.prototype.vb=function(){return this},mj.prototype.vc=r,mj.prototype.hc=function(d,e){return wj.B?wj.B(this.re,e):wj.call(null,this.re,e)},mj.Eb=!0,mj.jb=
"cljs.spec.alpha/t_cljs$spec$alpha27364",mj.Rb=function(d){return D(d,"cljs.spec.alpha/t_cljs$spec$alpha27364")};return new mj(a,b,Se)},Ij=me(ni,me(Hh,new Y(null,1,5,Z,[Th],null),me(Ah,me(Li,Ri,Th),me(Li,Oi,Th))),me(Hh,new Y(null,1,5,Z,[ki],null),me(Li,me(Lh,new Y(null,1,5,Z,[new Y(null,2,5,Z,[ri,pi],null)],null),new u(null,2,[Ri,ri,Oi,pi],null)),ki))),Jj=Fj(me(ni,me(Lh,new Y(null,1,5,Z,[Si],null),me(Ah,me(Li,Ri,Si),me(Li,Oi,Si))),me(Lh,new Y(null,1,5,Z,[Si],null),me(Li,me(Lh,new Y(null,1,5,Z,[new Y(null,
2,5,Z,[ri,pi],null)],null),new u(null,2,[Ri,ri,Oi,pi],null)),Si))),function(a){a:{var b=X.B(Ri,a),c=X.B(Oi,a);a=Yb(Se);b=G(b);for(c=G(c);;)if(b&&c){var d=J(b),e=J(c);a=ac(a,d,e);b=M(b);c=M(c)}else{a=$b(a);break a}}return a},null,!0,function(a){return X.B(function(b){var c=T(b,0,null);b=T(b,1,null);return new u(null,2,[Ri,c,Oi,b],null)},a)});
if(null==Jj)$e.D(oj,rd,Fh);else{var Kj;var Lj=rj(Jj);if(v(Lj))Kj=Lj;else{var Mj=sj(Jj);Kj=v(Mj)?Mj:E.B(zb(oj),Jj)}var Nj=v(Kj)?Jj:Fj(Ij,Jj,null,null,null);$e.T(oj,U,Fh,tj(Nj,Fh))};var Oj=bj(63,{});var Pj="undefined"!==typeof window&&null!=window.document,Qj=new Sg(null,new u(null,2,["aria",null,"data",null],null),null);function Rj(a){return 2>Q(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Sj(a){if("string"===typeof a)return a;a=W(a);var b=ij(a,/-/);var c=G(b);b=J(c);c=M(c);return v(Qj.j?Qj.j(b):Qj.call(null,b))?a:Le(z,b,X.B(Rj,c))}
function Tj(a){var b=function(){var c=function(){var d=sd(a);if(d){d=a.displayName;if(v(d))return d;d=a.name;return"string"===typeof d&&G(d)?d:null}return d}();if(v(c))return c;c=function(){var d=null!=a?a.P&4096||r===a.qc?!0:!1:!1;return d?W(a):d}();if(v(c))return c;c=wd(a);return Id(c)?Gi.j(c):null}();return v(b)?gj(z.j(b),"$","."):null}function Uj(a){return a instanceof F||a instanceof Dc}
var Vj=function Vj(a){switch(arguments.length){case 0:return Vj.K();case 1:return Vj.j(arguments[0]);case 2:return Vj.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Vj.I(arguments[0],arguments[1],c)}};Vj.K=function(){return null};Vj.j=function(a){return Fd(a)?(a=Xe(function(b){return v(b)?Uj(b)?W(b):b:null},a),G(a)?hj(" ",a):null):Uj(a)?W(a):a};
Vj.B=function(a,b){return v(a)?v(b)?[z.j(Vj.j(a))," ",z.j(Vj.j(b))].join(""):Vj.j(a):Vj.j(b)};Vj.I=function(a,b,c){return Na(Vj,Vj.B(a,b),c)};Vj.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};Vj.N=2;var Wj=0;function Xj(a){return setTimeout(a,16)}var Yj=Pj?function(){var a=window,b=a.requestAnimationFrame;if(v(b))return b;b=a.webkitRequestAnimationFrame;if(v(b))return b;b=a.mozRequestAnimationFrame;if(v(b))return b;a=a.msRequestAnimationFrame;return v(a)?a:Xj}():Xj;function Zj(a,b){return a.xc-b.xc}function ak(){return null}function bk(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.K?d.K():d.call(null);c+=1}else return null}function ck(a,b,c){b.push(c);return a.schedule()}
function dk(){this.Ub=!1}g=dk.prototype;g.flush_after_render=function(){var a=this.Kb;if(null==a)return null;this.Kb=null;return bk(a)};g.queue_render=function(a){null==this.Tb&&(this.Tb=[]);return ck(this,this.Tb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Ub)return null;this.Ub=!0;return Yj.j?Yj.j(a):Yj.call(null,a)};g.flush_before_flush=function(){var a=this.Lb;if(null==a)return null;this.Lb=null;return bk(a)};
g.flush_queues=function(){this.flush_before_flush();ak();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Ub=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Lb&&(this.Lb=[]);return ck(this,this.Lb,a)};g.add_after_render=function(a){null==this.Kb&&(this.Kb=[]);return ck(this,this.Kb,a)};
g.flush_render=function(){var a=this.Tb;if(null==a)return null;this.Tb=null;a:{a.sort(Zj);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var ek=new dk;function fk(a){if(v(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return ek.queue_render(a)};function gk(a,b){var c=Le(Zg,a,b);return S(c,pf(function(d){return c===d},b))}var hk=function hk(a){switch(arguments.length){case 0:return hk.K();case 1:return hk.j(arguments[0]);case 2:return hk.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return hk.I(arguments[0],arguments[1],c)}};hk.K=function(){return Wg};hk.j=function(a){return a};hk.B=function(a,b){return Q(a)<Q(b)?Na(md,b,a):Na(md,a,b)};
hk.I=function(a,b,c){a=gk(Q,md.I(c,b,hd([a])));return Na(qf,J(a),Hc(a))};hk.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};hk.N=2;var ik=function ik(a){switch(arguments.length){case 1:return ik.j(arguments[0]);case 2:return ik.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return ik.I(arguments[0],arguments[1],c)}};ik.j=function(a){return a};
ik.B=function(a,b){return Q(a)<Q(b)?Na(function(c,d){return Qd(b,d)?Dd.B(c,d):c},a,a):Na(Dd,a,b)};ik.I=function(a,b,c){return Na(ik,a,md.B(c,b))};ik.O=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.I(b,a,c)};ik.N=2;var jk;function kk(a,b){b.captured=null;a:{var c=jk;jk=b;try{var d=a.K?a.K():a.call(null);break a}finally{jk=c}d=void 0}a=b.captured;b.Sa=!1;a:{c=b.nb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function lk(a){var b=jk;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function mk(a,b,c){a.ra=U.D(a.ra,b,c);return a.mc=null}
function nk(a,b){a.ra=rd.B(a.ra,b);return a.mc=null}function ok(a,b,c){var d=a.mc;d=null==d?a.mc=$d(function(l,m,n){l.push(m);l.push(n);return l},[],a.ra):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function pk(a,b,c,d){D(b,["#\x3c",z.j(d)," "].join(""));a:{d=jk;jk=null;try{var e=zb(a);break a}finally{jk=d}e=void 0}ih(e,b,c);return D(b,"\x3e")}var qk=null;
function rk(){for(;;){var a=qk;if(null==a)return null;qk=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}ak=rk;function sk(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ra=d;this.F=2154201088;this.P=114690}g=sk.prototype;g.ba=function(a,b,c){return pk(this,b,c,"Atom:")};g.da=function(){return this.meta};g.fa=function(){return ba(this)};g.ca=function(a,b){return this===b};g.Ea=function(a,b){a=this.state;this.state=b;null!=this.ra&&ok(this,a,b);return b};
g.ac=function(a,b){return this.Ea(null,b.j?b.j(this.state):b.call(null,this.state))};g.bc=function(a,b,c){return this.Ea(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.cc=function(a,b,c,d){return this.Ea(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.dc=function(a,b,c,d,e){return this.Ea(null,Ne(b,this.state,c,d,e))};g.fc=function(a,b){ok(this,a,b)};g.Pb=function(a,b,c){return mk(this,b,c)};g.Qb=function(a,b){return nk(this,b)};
g.ia=function(a,b){return new sk(this.state,b,this.validator,this.ra)};g.Ra=function(){lk(this);return this.state};var tk=function tk(a){switch(arguments.length){case 1:return tk.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(1),0,null);return tk.I(arguments[0],c)}};tk.j=function(a){return new sk(a,null,null,null)};tk.I=function(a,b){var c=Pe(b);b=E.B(c,Ba);c=E.B(c,Ti);return new sk(a,b,c,null)};
tk.O=function(a){var b=J(a);a=M(a);return this.I(b,a)};tk.N=1;function uk(a){if(null!=a&&null!=a.kc)a.kc(a);else{var b=uk[q(null==a?null:a)];if(null!=b)b.j?b.j(a):b.call(null,a);else if(b=uk._,null!=b)b.j?b.j(a):b.call(null,a);else throw y("IDisposable.dispose!",a);}}function Wb(a,b,c,d){return a._handle_change(b,c,d)}function vk(a){this.f=a;this.state=null;this.Sa=!0;this.Ac=!1;this.Xb=this.Ka=this.ra=this.nb=null;this.F=2153807872;this.P=114690}g=vk.prototype;
g._peek_at=function(){var a=jk;jk=null;try{return this.Ra(null)}finally{jk=a}};g._handle_change=function(a,b,c){return b===c||this.Sa?null:null==this.Ka?(this.Sa=!0,null==qk&&(qk=[],!1===ek.Ub&&ek.schedule()),qk.push(this)):!0===this.Ka?this._run(!1):this.Ka.j?this.Ka.j(this):this.Ka.call(null,this)};
g._update_watching=function(a){var b=Xg(a),c=Xg(this.nb);this.nb=a;a=G(ik.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ga(null,f);Vb(h,this);f+=1}else if(a=G(a))d=a,Ld(d)?(a=ic(d),f=jc(d),d=a,e=Q(a),a=f):(a=J(d),Vb(a,this),a=M(d),d=null,e=0),f=0;else break;b=G(ik.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ga(null,e),Xb(a,this),e+=1;else if(b=G(b))c=b,Ld(c)?(b=ic(c),d=jc(c),c=b,a=Q(b),b=d,d=a):(a=J(c),Xb(a,this),b=M(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Sa&&null!=this.nb?this._run(!0):null};g._try_capture=function(a){try{return this.Xb=null,kk(a,this)}catch(b){return this.Xb=this.state=a=b,this.Sa=!1}};g._run=function(a){var b=this.state;a=v(a)?this._try_capture(this.f):kk(this.f,this);this.Ac||(this.state=a,null==this.ra||O.B(b,a)||ok(this,b,a));return a};
g._set_opts=function(a){var b=Pe(a);a=E.B(b,Ch);var c=E.B(b,Ii),d=E.B(b,Eh);b=E.B(b,Uh);null!=a&&(this.Ka=a);null!=c&&(this.Zc=c);null!=d&&(this.Bc=d);return null!=b?this.Ac=b:null};g.ba=function(a,b,c){return pk(this,b,c,["Reaction ",z.j(Ac(this)),":"].join(""))};g.fa=function(){return ba(this)};g.ca=function(a,b){return this===b};
g.kc=function(){var a=this.state,b=this.nb;this.Ka=this.state=this.nb=null;this.Sa=!0;b=G(Xg(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e);Xb(f,this);e+=1}else if(b=G(b))c=b,Ld(c)?(b=ic(c),e=jc(c),c=b,d=Q(b),b=e):(b=J(c),Xb(b,this),b=M(c),c=null,d=0),e=0;else break;null!=this.Bc&&this.Bc(a);a=this.od;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Ea=function(a,b){a=this.state;this.state=b;this.Zc(a,b);ok(this,a,b);return b};
g.ac=function(a,b){a=this.Ea;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.bc=function(a,b,c){a=this.Ea;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.cc=function(a,b,c,d){a=this.Ea;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.dc=function(a,b,c,d,e){return this.Ea(null,Ne(b,this._peek_at(),c,d,e))};g.fc=function(a,b){ok(this,a,b)};g.Pb=function(a,b,c){return mk(this,b,c)};
g.Qb=function(a,b){a=Ed(this.ra);nk(this,b);return!a&&Ed(this.ra)&&null==this.Ka?this.kc(null):null};g.Ra=function(){var a=this.Xb;if(null!=a)throw a;(a=null==jk)&&rk();a&&null==this.Ka?this.Sa&&(a=this.state,this.state=this.f.K?this.f.K():this.f.call(null),null==this.ra||O.B(a,this.state)||ok(this,a,this.state)):(lk(this),this.Sa&&this._run(!1));return this.state};
function wk(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new I(b.slice(1),0,null):null;b=arguments[0];var e=Pe(c);c=E.B(e,Ch);d=E.B(e,Ii);e=E.B(e,Eh);b=new vk(b);b._set_opts(new u(null,3,[Ch,c,Ii,d,Eh,e],null));return b}var xk=wk(null);function yk(a,b){var c=zk,d=xk,e=kk(a,d);null!=d.nb&&(xk=wk(null),d._set_opts(c),d.f=a,d.Ka=function(){return fk.j?fk.j(b):fk.call(null,b)},b.cljsRatom=d);return e};var Ak;function Bk(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ma(b),e=d.length,f=Se,h=0;;)if(h<e){var k=d[h];f=U.D(f,se.j(k),na(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function Ck(a){var b;if(b=sd(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.lc);return b}var Dk=null;
function Ek(a){for(;;){var b=a.lc,c=!0===a.Sc?b.call(a,a):function(){var d=Bk(a,a.props);switch(Q(d)){case 1:return b.call(a);case 2:return b.call(a,cd(d,1));case 3:return b.call(a,cd(d,1),cd(d,2));case 4:return b.call(a,cd(d,1),cd(d,2),cd(d,3));case 5:return b.call(a,cd(d,1),cd(d,2),cd(d,3),cd(d,4));default:return b.apply(a,Ma(d).slice(1))}}();if(Kd(c))return Dk.j?Dk.j(c):Dk.call(null,c);if(Pd(c))c=Ck(c)?function(d,e,f,h){return function(){function k(m){var n=null;if(0<arguments.length){n=0;for(var p=
Array(arguments.length-0);n<p.length;)p[n]=arguments[n+0],++n;n=new I(p,0,null)}return l.call(this,n)}function l(m){m=Le(Qf,h,m);return Dk.j?Dk.j(m):Dk.call(null,m)}k.N=0;k.O=function(m){m=G(m);return l(m)};k.I=l;return k}()}(a,b,null,c):c,a.lc=c;else return c}}var zk=new u(null,1,[Uh,!0],null),Fk=new u(null,1,[Bh,function(){var a=this,b=na(a,"cljsRatom");a.cljsIsDirty=!1;return null==b?yk(function(){a:{var c=Ak;Ak=a;try{var d=Ek(a);break a}finally{Ak=c}d=void 0}return d},a):b._run(!1)}],null);
function Gk(a,b){switch(a instanceof F?a.Aa:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=T(f,1,null),c=Id(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.Uc;d=null!=d?d:c.Uc=tk.j(null);return Ze(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,Bk(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,Bk(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,Bk(this,c))};case "shouldComponentUpdate":return function(c){if(v(!1))return!1;var d=this.props.argv,e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!O.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,Bk(this,this.props),Bk(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,Bk(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,Bk(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,Bk(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=na(this,"cljsRatom");null!=c&&uk(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var Hk=new u(null,2,[Xi,null,bi,null],null),Ik=function(a){var b=new Ye(Se);return function(c){var d=E.B(zb(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);$e.T(b,U,c,d);return d}}(function(a){if("string"===typeof a)return a;a=W(a);a=gj(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=ij(a,/-/);var b=G(a);a=J(b);b=M(b);return Le(z,a,X.B(Rj,b))});function Jk(a){return $d(function(b,c,d){return U.D(b,se.j(Ik(c)),d)},Se,a)}
function Kk(a){var b=function(){var f=Ei.j(a);return v(f)?f:Bh.j(a)}(),c=null==Ei.j(a),d=function(){var f=vi.j(a);if(v(f))return f;f=Tj(b);if(!v(f)){f=z;var h=f.j;null==rh&&(rh=new Ye(0));var k=Ec.j([z.j("reagent"),z.j($e.B(rh,Pc))].join(""));f=h.call(f,k)}return f}(),e=$d(function(f,h,k){var l=U.D,m=Gk(h,k);return l.call(U,f,h,v(m)?m:k)},Se,a);return U.I(e,vi,d,hd([Ci,c,Ei,b,Bh,Bh.j(Fk)]))}function Lk(a){return $d(function(b,c,d){c=W(c);b[c]=d;return b},{},a)}
var Pg=new Y(null,5,5,Z,[Kh,Wi,ei,fi,xi],null);
function Mk(a){function b(k,l,m){Oj.Component.call(this,k,l,m);v(h)&&(h.B?h.B(this,k):h.call(null,this,k));v(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.xc=Wj+=1;return this}a=Kk(Mg.I(hd([Hk,Jk(a)])));var c=Lk(Oe(rd,a,vi,Qh,Ih,hd([Bh,Ei,Pg]))),d=Lk(Og(a)),e=vi.j(a),f=Qh.j(a),h=Ih.j(a);pa(b.prototype,Oj.Component.prototype,c);v(Bh.j(a))&&(b.prototype.render=Bh.j(a));v(Ei.j(a))&&(b.prototype.lc=Ei.j(a));v(Ci.j(a))&&(b.prototype.Sc=Ci.j(a));pa(b,Oj.Component,d);v(e)&&(b.displayName=e,b.jb=
e,b.Rb=function(k){return D(k,e)});b.Eb=!0;return b.prototype.constructor=b};var Nk=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Ok={"class":"className","for":"htmlFor",charset:"charSet"};function Pk(a,b){return a.hasOwnProperty(b)?na(a,b):null}function Qk(a,b,c){if(Uj(b)){var d=Pk(Ok,W(b));null==d?(d=Sj(b),b=W(b),b=Ok[b]=d):b=d}c=Rk.j?Rk.j(c):Rk.call(null,c);a[b]=c;return a}
function Rk(a){return"object"!==q(a)?a:Uj(a)?W(a):Id(a)?$d(Qk,{},a):Fd(a)?vh(a):Pd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return Ke(a,d)}b.N=0;b.O=function(d){d=G(d);return c(d)};b.I=c;return b}():vh(a)}var Sk={};function Tk(a,b,c){if(Uj(b)){var d=Pk(Sk,W(b));null==d?(d=Sj(b),b=W(b),b=Sk[b]=d):b=d}c=Rk(c);a[b]=c;return a}
function Uk(a){return"object"!==q(a)?a:Uj(a)?W(a):Id(a)?$d(Tk,{},a):Fd(a)?vh(a):Pd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return Ke(a,d)}b.N=0;b.O=function(d){d=G(d);return c(d)};b.I=c;return b}():vh(a)}var Vk=null,Wk=new Sg(null,new u(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Xk(a,b,c,d){var e=Pe(Se);e=E.B(e,Pi);if(a===document.activeElement&&Qd(Wk,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!O.B(f,c))return ek.add_after_render(function(){return Yk.j?Yk.j(d):Yk.call(null,d)});c=Q(f)-a.selectionStart;c=Q(b)-c;d.Sb=b;a.value=b;sd(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Sb=b;a.value=b;return sd(e)?e.j?e.j(b):e.call(null,b):null}
function Yk(a){if(v(a.ic)){a.wc=!1;var b=a.Tc,c=a.Sb,d=Vk.j?Vk.j(a):Vk.call(null,a);return O.B(b,c)?null:Xk(d,b,c,a)}return null}function Zk(a,b,c){a.Sb=c.target.value;v(a.wc)||(a.wc=!0,ek.add_after_render(function(){return Yk(a)}));return b.j?b.j(c):b.call(null,c)}
function $k(a){var b=Ak;if(v(function(){var e=null!=a;return e?(e=a.hasOwnProperty("onChange"),v(e)?a.hasOwnProperty("value"):e):e}())){var c=a.value;c=null==c?"":c;var d=a.onChange;v(b.ic)||(b.ic=!0,b.Sb=c);b.Tc=c;delete a.value;a.defaultValue=c;a.onChange=function(e){return Zk(b,d,e)}}}var al=null,cl=new u(null,4,[ii,"ReagentInput",Mi,Yk,mi,function(a){return a.ic=null},Xh,function(a,b,c,d){$k(c);return bl.T?bl.T(a,b,c,d):bl.call(null,a,b,c,d)}],null);
function dl(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Vc=d}function el(a){if(Id(a))try{var b=E.B(a,Qi)}catch(c){b=null}else b=null;return b}function fl(a){var b=el(wd(a));return null==b?el(T(a,1,null)):b}var gl={};
function hl(a,b,c){var d=a.tag,e=T(b,c,null),f=null==e||Id(e);e=f?e:null;var h=Bi.j(e);e=v(h)?U.D(e,Bi,Vj.j(h)):e;var k=a.id;h=a.className;k=null!=k&&null==Yi.j(e)?U.D(e,Yi,k):e;e=v(h)?U.D(k,Bi,Vj.B(h,Bi.j(e))):k;a=v(a.Vc)?Uk(e):Rk(e);a=v(a)?a:{};c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=Z,null==al&&(al=Mk(cl)),b=vd(new Y(null,5,5,f,[al,b,d,a,c],null),wd(b)),il.j?il.j(b):il.call(null,b);f=el(wd(b));null!=f&&(a.key=f);return bl.T?bl.T(b,d,a,c):bl.call(null,
b,d,a,c)}
function jl(a){for(;;){var b=T(a,0,null);if(pe(Vh,b)){b=T(a,1,null);var c=null==b||Id(b);b=Rk(c?b:null);b=v(b)?b:{};c=1+(c?1:0);var d=fl(a);null!=d&&(b.key=d);return bl.T?bl.T(a,Oj.Fragment,b,c):bl.call(null,a,Oj.Fragment,b,c)}if(Uj(b)||"string"===typeof b)switch(b=W(b),c=b.indexOf("\x3e"),c){case -1:c=Pk(gl,b);if(null==c){var e=M(ah(Nk,W(b)));c=T(e,0,null);d=T(e,1,null);e=T(e,2,null);e=null==e?null:gj(e,/\./," ");var f=c.indexOf("-");f=!O.B(-1,f);c=new dl(c,d,e,f);b=gl[b]=c}else b=c;return hl(b,a,
1);case 0:return b=T(a,1,null),hl(new dl(b,null,null,null),a,2);default:a=vd(new Y(null,2,5,Z,[b.substring(0,c),U.D(vd(a,null),0,b.substring(c+1))],null),wd(a))}else return c=b.yc,null==c?Ck(b)?b=b.yc=b:(c=wd(b),c=U.D(c,Xh,b),c=Mk(c),b=b.yc=c):b=c,c={},c.argv=a,a=fl(a),null!=a&&(c.key=a),Oj.createElement(b,c)}}
function il(a){return"object"!==q(a)?a:Kd(a)?jl(a):(null==a?0:null!=a?a.F&64||r===a.rb||(a.F?0:w(eb,a)):w(eb,a))?kl.j?kl.j(a):kl.call(null,a):Uj(a)?W(a):(null!=a?a.F&2147483648||r===a.ka||(a.F?0:w(Tb,a)):w(Tb,a))?mh(hd([a])):a}Dk=il;function kl(a){return Ma(X.B(il,a))}function bl(a,b,c,d){switch(Q(a)-d){case 0:return Oj.createElement(b,c);case 1:return Oj.createElement(b,c,il(T(a,d,null)));default:return Oj.createElement.apply(null,$d(function(e,f,h){f>=d&&e.push(il(h));return e},[b,c],a))}};var ll=bj(72,{});function ml(a){return ll.findDOMNode(a)}Vk=ml;function nl(a){a=Pe(a);var b=E.B(a,Jh);return b instanceof F||"string"===typeof b?U.D(rd.B(a,Jh),Ai,function(){var c=se.j(b);c=c instanceof F?c.Aa:null;switch(c){case "debug":return cj.Debug;case "info":return cj.Info;case "warn":return cj.Warn;default:throw Error(["No matching clause: ",z.j(c)].join(""));}}()):a}
function ol(a,b,c){return v(b)?(b=vh(b),c=nl(Mg.I(hd([new u(null,2,[Dh,hi,yi,"vega-lite"],null),c]))),c=Mg.I(hd([new u(null,1,[Dh,hi],null),c])),dj(a,b,vh(c)).catch(function(d){return console.log(d)})):null}var pl=function pl(a){switch(arguments.length){case 1:return pl.j(arguments[0]);case 2:return pl.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};pl.j=function(a){return pl.B(a,Se)};
pl.B=function(a,b){var c=Mg.I(hd([new u(null,1,[yi,"vega"],null),b]));return Mk(new u(null,4,[ii,"vega",Ni,function(d){return ol(ml(d),a,c)},ti,function(d,e){T(e,0,null);var f=T(e,1,null);e=T(e,2,null);return ol(ml(d),f,e)},Xh,function(){return new Y(null,1,5,Z,[Rh],null)}],null))};pl.N=2;var ql=function ql(a){switch(arguments.length){case 1:return ql.j(arguments[0]);case 2:return ql.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};
ql.j=function(a){return ql.B(a,Se)};ql.B=function(a,b){return pl.B(a,Mg.I(hd([b,new u(null,1,[yi,"vega-lite"],null)])))};ql.N=2;var rl=tk.j(new u(null,2,[Mh,pl,Oh,ql],null)),sl=new u(null,4,[li,50,Di,Se,ui,new u(null,1,[Ui,10],null),Ph,new u(null,2,[Ui,10,Fi,Ji],null)],null),tl=function tl(a){switch(arguments.length){case 1:return tl.j(arguments[0]);case 2:return tl.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};
tl.j=function(a){return tl.B(a,Se)};
tl.B=function(a,b){var c=Pe(b),d=E.B(c,Hi),e=E.B(c,zi),f=E.B(c,Sh),h=tk.j(new u(null,3,[Hi,v(d)?d:0,zi,e,Sh,v(f)?f:Ki],null)),k=Zd(hk,X.B(We.B(Xg,cg),bf.B(10,a)));return function(l,m){var n=zb(h),p=Pe(n),t=E.B(p,Hi),x=E.B(p,zi),A=E.B(p,Sh),C=Ng(function(sa,Ra){return Id(sa)&&Id(Ra)?Mg.I(hd([sa,Ra])):Ra},hd([sl,m])),H=Pe(C),N=E.B(H,li),V=E.B(H,Di),ca=E.B(H,ui),fa=E.B(H,Ph),qa=function(){var sa=v(x)?Wd(x,l):l;sa=O.B(Gh,A)?le(sa):sa;sa=v(N)?cf(N*t,sa):sa;return v(N)?bf.B(N,sa):sa}(),pc=de(Q(l),N);return new Y(null,
3,5,Z,[gi,Q(l)>N?new Y(null,5,5,Z,[ci,new u(null,1,[oi,new u(null,1,[ji,10],null)],null),new Y(null,4,5,Z,[si,new u(null,1,[oi,new u(null,1,[Ui,20],null)],null),"Current page: ",t+1],null),0<t?new Y(null,3,5,Z,[$h,new u(null,2,[Nh,function(){function sa(Sa){var ha=null;if(0<arguments.length){ha=0;for(var ka=Array(arguments.length-0);ha<ka.length;)ka[ha]=arguments[ha+0],++ha;ha=new I(ka,0,null)}return Ra.call(this,ha)}function Ra(){return $e.T(h,rf,Hi,ce)}sa.N=0;sa.O=function(Sa){Sa=G(Sa);return Ra(Sa)};
sa.I=Ra;return sa}(),oi,new u(null,2,[Ui,10,Fi,Ji],null)],null),"prev"],null):null,t<pc?new Y(null,3,5,Z,[$h,new u(null,2,[Nh,function(){function sa(Sa){var ha=null;if(0<arguments.length){ha=0;for(var ka=Array(arguments.length-0);ha<ka.length;)ka[ha]=arguments[ha+0],++ha;ha=new I(ka,0,null)}return Ra.call(this,ha)}function Ra(){return $e.T(h,rf,Hi,Pc)}sa.N=0;sa.O=function(Sa){Sa=G(Sa);return Ra(Sa)};sa.I=Ra;return sa}(),oi,new u(null,2,[Ui,10,Fi,Ji],null)],null),"next"],null):null],null):null,new Y(null,
3,5,Z,[zh,new Y(null,3,5,Z,[Zh,new u(null,1,[oi,V],null),function(){return function Sa(Ra){return new te(null,function(){for(;;){var ha=G(Ra);if(ha){var ka=ha;if(Ld(ka)){var Rc=ic(ka),Sc=Q(Rc),cc=xe(Sc);return function(){for(var Ha=0;;)if(Ha<Sc){var dc=cb(Rc,Ha);Ae(cc,vd(new Y(null,4,5,Z,[Yh,new u(null,2,[oi,fa,Nh,function(Tc,xd,ef,ff,fe,ge,gf,hf,jf,kf,Uc,lf,he,yd,Jb,xb,ec,Ya,Za,Kb,Tg){return function(){function zd(Ad){var fc=null;if(0<arguments.length){fc=0;for(var ie=Array(arguments.length-0);fc<
ie.length;)ie[fc]=arguments[fc+0],++fc;fc=new I(ie,0,null)}return je.call(this,fc)}function je(){return $e.D(Tg,Mg,new u(null,2,[zi,xd,Sh,O.B(xd,Uc)&&O.B(lf,Ki)?Gh:Ki],null))}zd.N=0;zd.O=function(Ad){Ad=G(Ad);return je(Ad)};zd.I=je;return zd}()}(Ha,dc,Rc,Sc,cc,ka,ha,n,p,t,x,A,C,H,N,V,ca,fa,qa,pc,h,k,b,c,d,e,f)],null),W(dc),O.B(x,dc)?function(){var Tc=A instanceof F?A.Aa:null;switch(Tc){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",z.j(Tc)].join(""));
}}():null],null),new u(null,1,[Qi,dc],null)));Ha+=1}else return!0}()?ze(cc.oa(),Sa(jc(ka))):ze(cc.oa(),null)}var Vc=J(ka);return S(vd(new Y(null,4,5,Z,[Yh,new u(null,2,[oi,fa,Nh,function(Ha,dc,Tc,xd,ef,ff,fe,ge,gf,hf,jf,kf,Uc,lf,he,yd,Jb){return function(){function xb(Ya){var Za=null;if(0<arguments.length){Za=0;for(var Kb=Array(arguments.length-0);Za<Kb.length;)Kb[Za]=arguments[Za+0],++Za;Za=new I(Kb,0,null)}return ec.call(this,Za)}function ec(){return $e.D(Jb,Mg,new u(null,2,[zi,Ha,Sh,O.B(Ha,fe)&&
O.B(ge,Ki)?Gh:Ki],null))}xb.N=0;xb.O=function(Ya){Ya=G(Ya);return ec(Ya)};xb.I=ec;return xb}()}(Vc,ka,ha,n,p,t,x,A,C,H,N,V,ca,fa,qa,pc,h,k,b,c,d,e,f)],null),W(Vc),O.B(x,Vc)?function(){var Ha=A instanceof F?A.Aa:null;switch(Ha){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",z.j(Ha)].join(""));}}():null],null),new u(null,1,[Qi,Vc],null)),Sa(Hc(ka)))}return null}},null)}(k)}()],null),function(){return function Sa(Ra){return new te(null,function(){for(;;){var ha=
G(Ra);if(ha){var ka=ha;if(Ld(ka)){var Rc=ic(ka),Sc=Q(Rc),cc=xe(Sc);return function(){for(var Ha=0;;)if(Ha<Sc){var dc=cb(Rc,Ha);Ae(cc,vd(new Y(null,3,5,Z,[Zh,new u(null,1,[oi,V],null),function(){return function(Tc,xd,ef,ff,fe,ge,gf,hf,jf,kf,Uc,lf,he,yd,Jb,xb,ec,Ya,Za,Kb,Tg,zd,je,Ad,fc,ie,ul){return function yj(vl){return new te(null,function(xl,zj,yl,zl,Al,Bl,Cl,Dl,El,Fl,Gl,Hl,Il,Jl,Kl,Ll,Aj){return function(){for(;;){var Bd=G(vl);if(Bd){if(Ld(Bd)){var mf=ic(Bd),Bj=Q(mf),Cd=xe(Bj);a:for(var Ug=0;;)if(Ug<
Bj){var nf=cb(mf,Ug);nf=vd(new Y(null,3,5,Z,[di,new u(null,1,[oi,Aj],null),E.B(zj,nf)],null),new u(null,1,[Qi,nf],null));Cd.add(nf);Ug+=1}else{mf=!0;break a}return mf?ze(Cd.oa(),yj(jc(Bd))):ze(Cd.oa(),null)}Cd=J(Bd);return S(vd(new Y(null,3,5,Z,[di,new u(null,1,[oi,Aj],null),E.B(zj,Cd)],null),new u(null,1,[Qi,Cd],null)),yj(Hc(Bd)))}return null}}}(Tc,xd,ef,ff,fe,ge,gf,hf,jf,kf,Uc,lf,he,yd,Jb,xb,ec,Ya,Za,Kb,Tg,zd,je,Ad,fc,ie,ul),null)}}(Ha,dc,Rc,Sc,cc,ka,ha,n,p,t,x,A,C,H,N,V,ca,fa,qa,pc,h,k,b,c,d,e,
f)(k)}()],null),new u(null,1,[Qi,Ac(dc)],null)));Ha+=1}else return!0}()?ze(cc.oa(),Sa(jc(ka))):ze(cc.oa(),null)}var Vc=J(ka);return S(vd(new Y(null,3,5,Z,[Zh,new u(null,1,[oi,V],null),function(){return function(Ha,dc,Tc,xd,ef,ff,fe,ge,gf,hf,jf,kf,Uc){return function yd(he){return new te(null,function(){for(;;){var Jb=G(he);if(Jb){if(Ld(Jb)){var xb=ic(Jb),ec=Q(xb),Ya=xe(ec);a:for(var Za=0;;)if(Za<ec){var Kb=cb(xb,Za);Kb=vd(new Y(null,3,5,Z,[di,new u(null,1,[oi,Uc],null),E.B(Ha,Kb)],null),new u(null,
1,[Qi,Kb],null));Ya.add(Kb);Za+=1}else{xb=!0;break a}return xb?ze(Ya.oa(),yd(jc(Jb))):ze(Ya.oa(),null)}Ya=J(Jb);return S(vd(new Y(null,3,5,Z,[di,new u(null,1,[oi,Uc],null),E.B(Ha,Ya)],null),new u(null,1,[Qi,Ya],null)),yd(Hc(Jb)))}return null}},null)}}(Vc,ka,ha,n,p,t,x,A,C,H,N,V,ca,fa,qa,pc,h,k,b,c,d,e,f)(k)}()],null),new u(null,1,[Qi,Ac(Vc)],null)),Sa(Hc(ka)))}return null}},null)}(qa)}()],null)],null)}};tl.N=2;var wl=Pe(hd([Mh,pl,Oh,ql,Wh,tl]));$e.D(rl,Mg,wl);
}).call(this);