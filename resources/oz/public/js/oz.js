var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,f){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||
e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};
(function(){
shadow$provide[0]=function(I,Q,T,ba){(function(D,N){"object"===typeof ba&&"undefined"!==typeof T?N(ba):"function"===typeof define&&define.amd?define(["exports"],N):(D="undefined"!==typeof globalThis?globalThis:D||self,N(D.vega={}))})(this,function(D){function N(q,t,v){q.fields=t||[];q.fname=v;return q}function Na(q){return null==q?null:q.fields}function Od(q){return 1===q.length?nd(q[0]):Pd(q)}function nb(q){throw Error(q);}function uc(q){function t(){v.push(M+q.substring(H,Z));M="";H=Z+1}var v=[],
y=q.length,B=null,F=0,M="",H,Z;q+="";for(H=Z=0;Z<y;++Z){var Oa=q[Z];"\\"===Oa?(M+=q.substring(H,Z),M+=q.substring(++Z,++Z),H=Z):Oa===B?(t(),B=null,F=-1):B||(H===F&&'"'===Oa?(H=Z+1,B=Oa):H===F&&"'"===Oa?(H=Z+1,B=Oa):"."!==Oa||F?"["===Oa?(Z>H&&t(),F=H=Z+1):"]"===Oa&&(F||nb("Access path missing open bracket: "+q),0<F&&t(),F=0,H=Z+1):Z>H?t():H=Z+1)}F&&nb("Access path missing closing bracket: "+q);B&&nb("Access path missing closing quote: "+q);Z>H&&(Z++,t());return v}function ma(q,t,v){var y=uc(q);q=1===
y.length?y[0]:q;return N((v&&v.get||Od)(y),[q],t||q)}function Jc(q,t,v){t=[t].concat([].slice.call(v));console[q].apply(console,t)}function vc(q){return q===Object(q)}function od(q,t,v,y){if("__proto__"!==t){var B;if(vc(v)&&!Lb(v))for(B in q=vc(q[t])?q[t]:q[t]={},v)y&&(!0===y||y[B])?od(q,B,v[B]):"__proto__"!==B&&(q[B]=v[B]);else q[t]=v}}function ya(q,t){function v(F){y[F.name]||(y[F.name]=1,B.push(F))}if(null==q)return t;var y={},B=[];t.forEach(v);q.forEach(v);return B}function ob(q){return q[q.length-
1]}function sa(q){return null==q||""===q?null:+q}function Y(q,t,v,y){var B=v(q[0]);q=v(ob(q));t*=q-B;return[y(B-t),y(q-t)]}function ca(q,t,v,y,B){var F=y(q[0]);q=y(ob(q));t=null!=t?y(t):(F+q)/2;return[B(t+(F-t)*v),B(t+(q-t)*v)]}function fb(q){return null!=q?Lb(q)?q:[q]:[]}function Xb(q){return"function"===typeof q}function Kc(q){for(var t,v=void 0,y=1,B=arguments.length;y<B;++y)for(v in t=arguments[y],t)q[v]=t[v];return q}function bb(q,t){return pd.call(q,t)}function Pa(q){return"[object Date]"===
Object.prototype.toString.call(q)}function ea(q){return"number"===typeof q}function Xc(q){return"string"===typeof q}function R(q,t){for(var v="";0<=--t;)v+=q;return v}function Yb(q){return Lb(q)?"["+q.map(Yb)+"]":vc(q)||Xc(q)?JSON.stringify(q).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):q}var nd=function(q){return function(t){return t[q]}},Pd=function(q){var t=q.length;return function(v){for(var y=0;y<t;++y)v=v[q[y]];return v}},pb=ma("id"),Yc=N(function(q){return q},[],"identity"),qd=
N(function(){return 0},[],"zero"),rd=N(function(){return 1},[],"one"),sd=N(function(){return!0},[],"true"),ja=N(function(){return!1},[],"false"),Lb=Array.isArray,oa=function(q){return function(t){return q*Math.exp(t)}},Zb=function(q){return function(t){return Math.log(q*t)}},Lc=function(q){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/q))}},$b=function(q){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*q}},wc=function(q){return function(t){return 0>t?-Math.pow(-t,q):
Math.pow(t,q)}},Zc=function(q,t){return(q<t||null==q)&&null!=t?-1:(q>t||null==t)&&null!=q?1:(t=t instanceof Date?+t:t,q=q instanceof Date?+q:q)!==q&&t===t?-1:t!==t&&q===q?1:0},Me=function(q,t){return 1===q.length?yb(q[0],t[0]):ac(q,t,q.length)},yb=function(q,t){return function(v,y){return Zc(q(v),q(y))*t}},ac=function(q,t,v){t.push(0);return function(y,B){var F=0;for(var M=-1;0===F&&++M<v;)F=q[M],F=Zc(F(y),F(B));return F*t[M]}},pd=Object.prototype.hasOwnProperty,zb={},ta=function(q){return ea(q)?
q:Pa(q)?q:Date.parse(q)};D.Debug=4;D.Error=1;D.Info=3;D.None=0;D.Warn=2;D.accessor=N;D.accessorFields=Na;D.accessorName=function(q){return null==q?null:q.fname};D.array=fb;D.ascending=Zc;D.clampRange=function(q,t,v){var y=q[0];q=q[1];if(q<y){var B=q;q=y;y=B}B=q-y;return B>=v-t?[t,v]:[y=Math.min(Math.max(y,t),v-B),y+B]};D.compare=function(q,t,v){v=v||{};t=fb(t)||[];var y=[],B=[],F={},M=v.comparator||Me;fb(q).forEach(function(H,Z){null!=H&&(y.push("descending"===t[Z]?-1:1),B.push(H=Xb(H)?H:ma(H,null,
v)),(Na(H)||[]).forEach(function(Oa){return F[Oa]=1}))});return 0===B.length?null:N(M(B,y),Object.keys(F))};D.constant=function(q){return Xb(q)?q:function(){return q}};D.debounce=function(q,t){var v;return function(y){v&&clearTimeout(v);v=setTimeout(function(){return t(y),v=null},q)}};D.error=nb;D.extend=Kc;D.extent=function(q,t){var v=0,y,B,F,M;if(q&&(y=q.length))if(null==t){for(B=q[v];v<y&&(null==B||B!==B);B=q[++v]);for(F=M=B;v<y;++v)B=q[v],null!=B&&(B<F&&(F=B),B>M&&(M=B))}else{for(B=t(q[v]);v<
y&&(null==B||B!==B);B=t(q[++v]));for(F=M=B;v<y;++v)B=t(q[v]),null!=B&&(B<F&&(F=B),B>M&&(M=B))}return[F,M]};D.extentIndex=function(q,t){var v=q.length,y=-1,B,F,M;if(null==t){for(;++y<v;){var H=q[y];if(null!=H&&H>=H){var Z=B=H;break}}if(y===v)return[-1,-1];for(F=M=y;++y<v;)H=q[y],null!=H&&(Z>H&&(Z=H,F=y),B<H&&(B=H,M=y))}else{for(;++y<v;)if(H=t(q[y],y,q),null!=H&&H>=H){Z=B=H;break}if(y===v)return[-1,-1];for(F=M=y;++y<v;)H=t(q[y],y,q),null!=H&&(Z>H&&(Z=H,F=y),B<H&&(B=H,M=y))}return[F,M]};D.falsy=ja;D.fastmap=
function(q){function t(F){return bb(v,F)&&v[F]!==zb}var v={},y,B={size:0,empty:0,object:v,has:t,get:function(F){return t(F)?v[F]:void 0},set:function(F,M){t(F)||(++B.size,v[F]===zb&&--B.empty);v[F]=M;return this},delete:function(F){t(F)&&(--B.size,++B.empty,v[F]=zb);return this},clear:function(){B.size=B.empty=0;B.object=v={}},test:function(F){return arguments.length?(y=F,B):y},clean:function(){var F={},M=0,H;for(H in v){var Z=v[H];Z===zb||y&&y(Z)||(F[H]=Z,++M)}B.size=M;B.empty=0;B.object=v=F}};q&&
Object.keys(q).forEach(function(F){B.set(F,q[F])});return B};D.field=ma;D.flush=function(q,t,v,y,B,F){if(!v&&0!==v)return F;v=+v;var M=q[0],H=ob(q);H<M&&(q=M,M=H,H=q);q=Math.abs(t-M);t=Math.abs(H-t);return q<t&&q<=v?y:t<=v?B:F};D.hasOwnProperty=bb;D.id=pb;D.identity=Yc;D.inherits=function(q,t,v){t=q.prototype=Object.create(t.prototype);t.constructor=q;return Kc(t,v)};D.inrange=function(q,t,v,y){var B=t[0];t=t[t.length-1];if(B>t){var F=B;B=t;t=F}return(void 0===v||v?B<=q:B<q)&&(void 0===y||y?q<=t:
q<t)};D.isArray=Lb;D.isBoolean=function(q){return"boolean"===typeof q};D.isDate=Pa;D.isFunction=Xb;D.isIterable=function(q){return q&&Xb(q[Symbol.iterator])};D.isNumber=ea;D.isObject=vc;D.isRegExp=function(q){return"[object RegExp]"===Object.prototype.toString.call(q)};D.isString=Xc;D.key=function(q,t,v){q&&(q=t?fb(q).map(function(H){return H.replace(/\\(.)/g,"$1")}):fb(q));var y=q&&q.length,B=v&&v.get||Od;v=function(H){return B(t?[H]:uc(H))};if(y)if(1===y){var F=v(q[0]);v=function(H){return""+F(H)}}else{var M=
q.map(v);v=function(H){for(var Z=""+M[0](H),Oa=0;++Oa<y;)Z+="|"+M[Oa](H);return Z}}else v=function(){return""};return N(v,q,"key")};D.lerp=function(q,t){var v=q[0];q=ob(q);return(t=+t)?1===t?q:v+t*(q-v):v};D.logger=function(q,t){var v=q||0;return{level:function(y){return arguments.length?(v=+y,this):v},error:function(){1<=v&&Jc(t||"error","ERROR",arguments);return this},warn:function(){2<=v&&Jc(t||"warn","WARN",arguments);return this},info:function(){3<=v&&Jc(t||"log","INFO",arguments);return this},
debug:function(){4<=v&&Jc(t||"log","DEBUG",arguments);return this}}};D.lruCache=function(q){q=+q||1E4;var t,v,y,B=function(){t={};v={};y=0},F=function(M,H){++y>q&&(v=t,t={},y=1);return t[M]=H};B();return{clear:B,has:function(M){return bb(t,M)||bb(v,M)},get:function(M){return bb(t,M)?t[M]:bb(v,M)?F(M,v[M]):void 0},set:function(M,H){return bb(t,M)?t[M]=H:F(M,H)}}};D.merge=function(q,t,v,y){var B=t.length,F=v.length;if(!F)return t;if(!B)return v;y=y||new t.constructor(B+F);for(var M=0,H=0,Z=0;M<B&&H<
F;++Z)y[Z]=0<q(t[M],v[H])?v[H++]:t[M++];for(;M<B;++M,++Z)y[Z]=t[M];for(;H<F;++H,++Z)y[Z]=v[H];return y};D.mergeConfig=function(q){for(var t=[],v=0;v<arguments.length;++v)t[v-0]=arguments[v];return t.reduce(function(y,B){for(var F in B)"signals"===F?y.signals=ya(y.signals,B.signals):od(y,F,B[F],"legend"===F?{layout:1}:"style"===F?!0:null);return y},{})};D.one=rd;D.pad=function(q,t,v,y){v=v||" ";q+="";t-=q.length;return 0>=t?q:"left"===y?R(v,t)+q:"center"===y?R(v,~~(t/2))+q+R(v,Math.ceil(t/2)):q+R(v,
t)};D.panLinear=function(q,t){return Y(q,t,sa,Yc)};D.panLog=function(q,t){var v=Math.sign(q[0]);return Y(q,t,Zb(v),oa(v))};D.panPow=function(q,t,v){return Y(q,t,wc(v),wc(1/v))};D.panSymlog=function(q,t,v){return Y(q,t,Lc(v),$b(v))};D.peek=ob;D.quarter=function(q){return 1+~~((new Date(q)).getMonth()/3)};D.repeat=R;D.span=function(q){return q&&ob(q)-q[0]||0};D.splitAccessPath=uc;D.stringValue=Yb;D.toBoolean=function(q){return null==q||""===q?null:q&&"false"!==q&&"0"!==q?!!q:!1};D.toDate=function(q,
t){t=t||ta;return null==q||""===q?null:t(q)};D.toNumber=sa;D.toSet=function(q){for(var t={},v=q.length,y=0;y<v;++y)t[q[y]]=!0;return t};D.toString=function(q){return null==q||""===q?null:q+""};D.truncate=function(q,t,v,y){y=null!=y?y:"…";q+="";var B=q.length,F=Math.max(0,t-y.length);return B<=t?q:"left"===v?y+q.slice(B-F):"center"===v?q.slice(0,Math.ceil(F/2))+y+q.slice(B-~~(F/2)):q.slice(0,F)+y};D.truthy=sd;D.utcquarter=function(q){return 1+~~((new Date(q)).getUTCMonth()/3)};D.visitArray=function(q,
t,v){if(q)if(t)for(var y=q.length,B=0;B<y;++B){var F=t(q[B]);F&&v(F,B,q)}else q.forEach(v)};D.writeConfig=od;D.zero=qd;D.zoomLinear=function(q,t,v){return ca(q,t,v,sa,Yc)};D.zoomLog=function(q,t,v){var y=Math.sign(q[0]);return ca(q,t,v,Zb(y),oa(y))};D.zoomPow=function(q,t,v,y){return ca(q,t,v,wc(y),wc(1/y))};D.zoomSymlog=function(q,t,v,y){return ca(q,t,v,Lc(y),$b(y))};Object.defineProperty(D,"__esModule",{value:!0})})};
shadow$provide[1]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(l,k){return l<k?-1:l>k?1:l>=k?0:NaN}function S(l){function k(w,O,la,ma){null==la&&(la=0);null==ma&&(ma=w.length);for(;la<ma;){var ua=la+ma>>>1;0>t(w[ua],O)?la=ua+1:ma=ua}return la}var p=l,t=l;1===l.length&&(p=function(w,O){return l(w)-
O},t=Pa(l));return{left:k,center:function(w,O,la,ma){null==la&&(la=0);null==ma&&(ma=w.length);ma=k(w,O,la,ma-1);return ma>la&&p(w[ma-1],O)>-p(w[ma],O)?ma-1:ma},right:function(w,O,la,ma){null==la&&(la=0);null==ma&&(ma=w.length);for(;la<ma;){var ua=la+ma>>>1;0<t(w[ua],O)?ma=ua:la=ua+1}return la}}}function Pa(l){return function(k,p){return q(l(k),p)}}function Kb(l){return null===l?NaN:+l}function Ma(l,k){var p,t,w,O,la,ma;return $jscomp.generator.createGenerator(Ma,function(ua){switch(ua.nextAddress){case 1:if(void 0===
k){ua.jumpTo(2);break}p=-1;t=$jscomp.makeIterator(l);w=t.next();case 4:if(w.done){ua.jumpTo(0);break}O=w.value;if(!(null!=(O=k(O,++p,l))&&(O=+O)>=O)){ua.jumpTo(5);break}return ua.yield(O,5);case 5:w=t.next();ua.jumpTo(4);break;case 2:la=$jscomp.makeIterator(l),w=la.next();case 9:if(w.done){ua.jumpTo(0);break}ma=w.value;if(!(null!=ma&&(ma=+ma)>=ma)){ua.jumpTo(10);break}return ua.yield(ma,10);case 10:w=la.next(),ua.jumpTo(9)}})}function db(l,k){var p=0;if(void 0===k){l=$jscomp.makeIterator(l);for(var t=
l.next();!t.done;t=l.next())k=t.value,null!=k&&(k=+k)>=k&&++p}else{var w=-1,O=$jscomp.makeIterator(l);for(t=O.next();!t.done;t=O.next())t=t.value,null!=(t=k(t,++w,l))&&(t=+t)>=t&&++p}return p}function Eb(l){return l.length|0}function qb(l){return!(0<l)}function Ea(l){return"object"!==typeof l||"length"in l?l:Array.from(l)}function ab(l){return function(k){return l.apply(null,$jscomp.arrayFromIterable(k))}}function fb(l,k){var p=0,t,w=0,O=0;if(void 0===k)for(l=$jscomp.makeIterator(l),t=l.next();!t.done;t=
l.next())k=t.value,null!=k&&(k=+k)>=k&&(t=k-w,w+=t/++p,O+=t*(k-w));else{var la=-1,ma=$jscomp.makeIterator(l);for(t=ma.next();!t.done;t=ma.next()){var ua=t.value;null!=(ua=k(ua,++la,l))&&(ua=+ua)>=ua&&(t=ua-w,w+=t/++p,O+=t*(ua-w))}}if(1<p)return O/(p-1)}function Ja(l,k){return(l=fb(l,k))?Math.sqrt(l):l}function ea(l,k){var p,t;if(void 0===k){l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;w=l.next())k=w.value,null!=k&&(void 0===p?k>=k&&(p=t=k):(p>k&&(p=k),t<k&&(t=k)))}else{var O=-1,la=$jscomp.makeIterator(l);
for(w=la.next();!w.done;w=la.next())w=w.value,null!=(w=k(w,++O,l))&&(void 0===p?w>=w&&(p=t=w):(p>w&&(p=w),t<w&&(t=w)))}return[p,t]}function pa(l){return l}function Ha(l){if(1!==l.length)throw Error("duplicate key");return l[0]}function Wa(l,k,p,t){return function ma(O,la){if(la>=t.length)return p(O);for(var ua=new Map,eb=t[la++],cb=-1,Ba=$jscomp.makeIterator(O),Ka=Ba.next();!Ka.done;Ka=Ba.next()){Ka=Ka.value;var Z=eb(Ka,++cb,O),ra=ua.get(Z);ra?ra.push(Ka):ua.set(Z,[Ka])}O=$jscomp.makeIterator(ua);
for(eb=O.next();!eb.done;eb=O.next())cb=$jscomp.makeIterator(eb.value),eb=cb.next().value,cb=cb.next().value,ua.set(eb,ma(cb,la));return k(ua)}(l,0)}function ja(l){return function(){return l}}function ba(l,k,p){var t,w=-1,O;k=+k;l=+l;p=+p;if(l===k&&0<p)return[l];if(t=k<l){var la=l;l=k;k=la}if(0===(O=Ra(l,k,p))||!isFinite(O))return[];if(0<O)for(l=Math.ceil(l/O),k=Math.floor(k/O),k=Array(la=Math.ceil(k-l+1));++w<la;)k[w]=(l+w)*O;else for(O=-O,l=Math.ceil(l*O),k=Math.floor(k*O),k=Array(la=Math.ceil(k-
l+1));++w<la;)k[w]=(l+w)/O;t&&k.reverse();return k}function Ra(l,k,p){k=(k-l)/Math.max(0,p);l=Math.floor(Math.log(k)/Math.LN10);k/=Math.pow(10,l);return 0<=l?(k>=Y?10:k>=W?5:k>=H?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(k>=Y?10:k>=W?5:k>=H?2:1)}function xa(l,k,p){for(var t;;){var w=Ra(l,k,p);if(w===t||0===w||!isFinite(w))return[l,k];0<w?(l=Math.floor(l/w)*w,k=Math.ceil(k/w)*w):0>w&&(l=Math.ceil(l*w)/w,k=Math.floor(k*w)/w);t=w}}function Oa(l){return Math.ceil(Math.log(db(l))/Math.LN2)+1}function za(){function l(w){Array.isArray(w)||
(w=Array.from(w));var O,la=w.length,ma=Array(la);for(O=0;O<la;++O)ma[O]=k(w[O],O,w);var ua=p(ma),eb=ua[0],cb=ua[1];ua=t(ma,eb,cb);Array.isArray(ua)||(ua=+ua,p===ea&&(O=$jscomp.makeIterator(xa(eb,cb,ua)),eb=O.next().value,cb=O.next().value),ua=ba(eb,cb,ua),ua[ua.length-1]===cb&&ua.pop());for(var Ba=ua.length;ua[0]<=eb;)ua.shift(),--Ba;for(;ua[Ba-1]>cb;)ua.pop(),--Ba;var Ka=Array(Ba+1);for(O=0;O<=Ba;++O){var Z=Ka[O]=[];Z.x0=0<O?ua[O-1]:eb;Z.x1=O<Ba?ua[O]:cb}for(O=0;O<la;++O)Z=ma[O],eb<=Z&&Z<=cb&&Ka[Ia(ua,
Z,0,Ba)].push(w[O]);return Ka}var k=pa,p=ea,t=Oa;l.value=function(w){return arguments.length?(k="function"===typeof w?w:ja(w),l):k};l.domain=function(w){return arguments.length?(p="function"===typeof w?w:ja([w[0],w[1]]),l):p};l.thresholds=function(w){return arguments.length?(t="function"===typeof w?w:Array.isArray(w)?ja(fa.call(w)):ja(w),l):t};return l}function ia(l,k){var p;if(void 0===k){l=$jscomp.makeIterator(l);for(var t=l.next();!t.done;t=l.next())k=t.value,null!=k&&(p<k||void 0===p&&k>=k)&&
(p=k)}else{var w=-1,O=$jscomp.makeIterator(l);for(t=O.next();!t.done;t=O.next())t=t.value,null!=(t=k(t,++w,l))&&(p<t||void 0===p&&t>=t)&&(p=t)}return p}function wa(l,k){var p;if(void 0===k){l=$jscomp.makeIterator(l);for(var t=l.next();!t.done;t=l.next())k=t.value,null!=k&&(p>k||void 0===p&&k>=k)&&(p=k)}else{var w=-1,O=$jscomp.makeIterator(l);for(t=O.next();!t.done;t=O.next())t=t.value,null!=(t=k(t,++w,l))&&(p>t||void 0===p&&t>=t)&&(p=t)}return p}function sa(l,k,p,t,w){p=void 0===p?0:p;t=void 0===
t?l.length-1:t;for(w=void 0===w?q:w;t>p;){if(600<t-p){var O=t-p+1,la=k-p+1,ma=Math.log(O),ua=.5*Math.exp(2*ma/3);ma=.5*Math.sqrt(ma*ua*(O-ua)/O)*(0>la-O/2?-1:1);sa(l,k,Math.max(p,Math.floor(k-la*ua/O+ma)),Math.min(t,Math.floor(k+(O-la)*ua/O+ma)),w)}O=l[k];la=p;ua=t;qa(l,p,k);for(0<w(l[t],O)&&qa(l,p,t);la<ua;){qa(l,la,ua);++la;for(--ua;0>w(l[la],O);)++la;for(;0<w(l[ua],O);)--ua}0===w(l[p],O)?qa(l,p,ua):(++ua,qa(l,ua,t));ua<=k&&(p=ua+1);k<=ua&&(t=ua-1)}return l}function qa(l,k,p){var t=l[k];l[k]=l[p];
l[p]=t}function Fa(l,k,p){l=Float64Array.from(Ma(l,p));if(p=l.length){if(0>=(k=+k)||2>p)return wa(l);if(1<=k)return ia(l);k*=p-1;p=Math.floor(k);var t=ia(sa(l,p).subarray(0,p+1));l=wa(l.subarray(p+1));return t+(l-t)*(k-p)}}function Ca(l,k){var p=-1,t=-1;if(void 0===k){l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;w=l.next())if(k=w.value,++t,null!=k&&(O<k||void 0===O&&k>=k)){var O=k;p=t}}else{var la=$jscomp.makeIterator(l);for(w=la.next();!w.done;w=la.next())w=w.value,null!=(w=k(w,++t,l))&&
(O<w||void 0===O&&w>=w)&&(O=w,p=t)}return p}function Za(l){var k,p,t;return $jscomp.generator.createGenerator(Za,function(w){1==w.nextAddress&&(k=$jscomp.makeIterator(l),p=k.next());if(3!=w.nextAddress){if(p.done)return w.jumpTo(0);t=p.value;return w.yieldAll(t,3)}p=k.next();return w.jumpTo(2)})}function jb(l,k){var p=-1,t=-1;if(void 0===k){l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;w=l.next())if(k=w.value,++t,null!=k&&(O>k||void 0===O&&k>=k)){var O=k;p=t}}else{var la=$jscomp.makeIterator(l);
for(w=la.next();!w.done;w=la.next())w=w.value,null!=(w=k(w,++t,l))&&(O>w||void 0===O&&w>=w)&&(O=w,p=t)}return p}function y(l,k){return[l,k]}function x(l,k){k=void 0===k?q:k;if(1===k.length)return jb(l,k);var p=-1,t=-1;l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;w=l.next())if(w=w.value,++t,0>p?0===k(w,w):0>k(w,O)){var O=w;p=t}return p}function G(l){return function(k,p,t){p=void 0===p?0:p;t=void 0===t?k.length:t;for(t-=p=+p;t;){var w=l()*t--|0,O=k[t+p];k[t+p]=k[w+p];k[w+p]=O}return k}}function J(l){if(!(O=
l.length))return[];for(var k=-1,p=wa(l,z),t=Array(p);++k<p;)for(var w=-1,O,la=t[k]=Array(O);++w<O;)la[w]=l[w][k];return t}function z(l){return l.length}function F(l){return l instanceof Set?l:new Set(l)}function M(l,k){var p=l[Symbol.iterator]();l=new Set;var t={};k=$jscomp.makeIterator(k);for(var w=k.next();!w.done;t={$jscomp$loop$prop$value$681:t.$jscomp$loop$prop$value$681,$jscomp$loop$prop$done$682:t.$jscomp$loop$prop$done$682},w=k.next())if(w=w.value,!l.has(w))for(t.$jscomp$loop$prop$value$681=
void 0,t.$jscomp$loop$prop$done$682=void 0;function(O){return function(){var la=p.next();O.$jscomp$loop$prop$value$681=la.value;O.$jscomp$loop$prop$done$682=la.done;return la}}(t)();){if(t.$jscomp$loop$prop$done$682)return!1;l.add(t.$jscomp$loop$prop$value$681);if(Object.is(w,t.$jscomp$loop$prop$value$681))break}return!0}var ka=S(q),Ia=ka.right;ka=ka.left;var Ta=S(Kb).center,D=function(){this._partials=new Float64Array(32);this._n=0};D.prototype.add=function(l){for(var k=this._partials,p=0,t=0;t<
this._n&&32>t;t++){var w=k[t],O=l+w;(l=Math.abs(l)<Math.abs(w)?l-(O-w):w-(O-l))&&(k[p++]=l);l=O}k[p]=l;this._n=p+1;return this};D.prototype.valueOf=function(){var l=this._partials,k=this._n,p=0;if(0<k){for(p=l[--k];0<k;){var t=p;var w=l[--k];p=t+w;if(t=w-(p-t))break}0<k&&(0>t&&0>l[k-1]||0<t&&0<l[k-1])&&(w=2*t,t=p+w,w==t-p&&(p=t))}return p};var fa=Array.prototype.slice,Y=Math.sqrt(50),W=Math.sqrt(10),H=Math.sqrt(2),T=G(Math.random);n.Adder=D;n.ascending=q;n.bin=za;n.bisect=Ia;n.bisectCenter=Ta;n.bisectLeft=
ka;n.bisectRight=Ia;n.bisector=S;n.count=db;n.cross=function(l){for(var k=[],p=0;p<arguments.length;++p)k[p-0]=arguments[p];var t=k;k="function"===typeof t[t.length-1]&&ab(t.pop());t=t.map(Ea);p=t.map(Eb);var w=t.length-1,O=Array(w+1).fill(0),la=[];if(0>w||p.some(qb))return la;for(;;){la.push(O.map(function(ua,eb){return t[eb][ua]}));for(var ma=w;++O[ma]===p[ma];){if(0===ma)return k?la.map(k):la;O[ma--]=0}}};n.cumsum=function(l,k){var p=0,t=0;return Float64Array.from(l,void 0===k?function(w){return p+=
+w||0}:function(w){return p+=+k(w,t++,l)||0})};n.descending=function(l,k){return k<l?-1:k>l?1:k>=l?0:NaN};n.deviation=Ja;n.difference=function(l,k){for(var p=[],t=1;t<arguments.length;++t)p[t-1]=arguments[t];l=new Set(l);p=$jscomp.makeIterator(p);for(t=p.next();!t.done;t=p.next()){t=$jscomp.makeIterator(t.value);for(var w=t.next();!w.done;w=t.next())l.delete(w.value)}return l};n.disjoint=function(l,k){var p=k[Symbol.iterator]();k=new Set;var t={};l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;t=
{$jscomp$loop$prop$value$678:t.$jscomp$loop$prop$value$678,$jscomp$loop$prop$done$679:t.$jscomp$loop$prop$done$679},w=l.next()){w=w.value;if(k.has(w))return!1;t.$jscomp$loop$prop$value$678=void 0;for(t.$jscomp$loop$prop$done$679=void 0;function(O){return function(){var la=p.next();O.$jscomp$loop$prop$value$678=la.value;O.$jscomp$loop$prop$done$679=la.done;return la}}(t)()&&!t.$jscomp$loop$prop$done$679;){if(Object.is(w,t.$jscomp$loop$prop$value$678))return!1;k.add(t.$jscomp$loop$prop$value$678)}}return!0};
n.every=function(l,k){if("function"!==typeof k)throw new TypeError("test is not a function");for(var p=-1,t=$jscomp.makeIterator(l),w=t.next();!w.done;w=t.next())if(!k(w.value,++p,l))return!1;return!0};n.extent=ea;n.filter=function(l,k){if("function"!==typeof k)throw new TypeError("test is not a function");for(var p=[],t=-1,w=$jscomp.makeIterator(l),O=w.next();!O.done;O=w.next())O=O.value,k(O,++t,l)&&p.push(O);return p};n.fsum=function(l,k){var p=new D;if(void 0===k){l=$jscomp.makeIterator(l);for(var t=
l.next();!t.done;t=l.next())k=t.value,(k=+k)&&p.add(k)}else{var w=-1,O=$jscomp.makeIterator(l);for(t=O.next();!t.done;t=O.next())t=t.value,(t=+k(t,++w,l))&&p.add(t)}return+p};n.greatest=function(l,k){k=void 0===k?q:k;var p=!1;if(1===k.length){l=$jscomp.makeIterator(l);for(var t=l.next();!t.done;t=l.next()){t=t.value;var w=k(t);if(p?0<q(w,la):0===q(w,w)){var O=t;var la=w;p=!0}}}else for(la=$jscomp.makeIterator(l),l=la.next();!l.done;l=la.next())if(l=l.value,p?0<k(l,O):0===k(l,l))O=l,p=!0;return O};
n.greatestIndex=function(l,k){k=void 0===k?q:k;if(1===k.length)return Ca(l,k);var p=-1,t=-1;l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;w=l.next())if(w=w.value,++t,0>p?0===k(w,w):0<k(w,O)){var O=w;p=t}return p};n.group=function(l,k){for(var p=[],t=1;t<arguments.length;++t)p[t-1]=arguments[t];return Wa(l,pa,pa,p)};n.groups=function(l,k){for(var p=[],t=1;t<arguments.length;++t)p[t-1]=arguments[t];return Wa(l,Array.from,pa,p)};n.histogram=za;n.index=function(l,k){for(var p=[],t=1;t<arguments.length;++t)p[t-
1]=arguments[t];return Wa(l,pa,Ha,p)};n.indexes=function(l,k){for(var p=[],t=1;t<arguments.length;++t)p[t-1]=arguments[t];return Wa(l,Array.from,Ha,p)};n.intersection=function(l,k){for(var p=[],t=1;t<arguments.length;++t)p[t-1]=arguments[t];l=new Set(l);p=p.map(F);t=$jscomp.makeIterator(l);var w=t.next();a:for(;!w.done;w=t.next()){w=w.value;for(var O=$jscomp.makeIterator(p),la=O.next();!la.done;la=O.next())if(!la.value.has(w)){l.delete(w);continue a}}return l};n.least=function(l,k){k=void 0===k?q:
k;var p=!1;if(1===k.length){l=$jscomp.makeIterator(l);for(var t=l.next();!t.done;t=l.next()){t=t.value;var w=k(t);if(p?0>q(w,la):0===q(w,w)){var O=t;var la=w;p=!0}}}else for(la=$jscomp.makeIterator(l),l=la.next();!l.done;l=la.next())if(l=l.value,p?0>k(l,O):0===k(l,l))O=l,p=!0;return O};n.leastIndex=x;n.map=function(l,k){if("function"!==typeof l[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof k)throw new TypeError("mapper is not a function");return Array.from(l,
function(p,t){return k(p,t,l)})};n.max=ia;n.maxIndex=Ca;n.mean=function(l,k){var p=0,t=0;if(void 0===k){l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;w=l.next())k=w.value,null!=k&&(k=+k)>=k&&(++p,t+=k)}else{var O=-1,la=$jscomp.makeIterator(l);for(w=la.next();!w.done;w=la.next())w=w.value,null!=(w=k(w,++O,l))&&(w=+w)>=w&&(++p,t+=w)}if(p)return t/p};n.median=function(l,k){return Fa(l,.5,k)};n.merge=function(l){return Array.from(Za(l))};n.min=wa;n.minIndex=jb;n.nice=xa;n.pairs=function(l,k){k=
void 0===k?y:k;var p=[],t=!1;l=$jscomp.makeIterator(l);for(var w=l.next();!w.done;w=l.next()){w=w.value;t&&p.push(k(O,w));var O=w;t=!0}return p};n.permute=function(l,k){return Array.from(k,function(p){return l[p]})};n.quantile=Fa;n.quantileSorted=function(l,k,p){p=void 0===p?Kb:p;if(t=l.length){if(0>=(k=+k)||2>t)return+p(l[0],0,l);if(1<=k)return+p(l[t-1],t-1,l);var t;k*=t-1;t=Math.floor(k);var w=+p(l[t],t,l);l=+p(l[t+1],t+1,l);return w+(l-w)*(k-t)}};n.quickselect=sa;n.range=function(l,k,p){l=+l;k=
+k;p=2>(w=arguments.length)?(k=l,l=0,1):3>w?1:+p;for(var t=-1,w=Math.max(0,Math.ceil((k-l)/p))|0,O=Array(w);++t<w;)O[t]=l+t*p;return O};n.reduce=function(l,k,p){if("function"!==typeof k)throw new TypeError("reducer is not a function");var t=l[Symbol.iterator](),w,O=-1;if(3>arguments.length){var la=t.next();var ma=la.done;p=la.value;if(ma)return;++O}for(;function(){var ua=t.next();ma=ua.done;w=ua.value;return ua}(),!ma;)p=k(p,w,++O,l);return p};n.reverse=function(l){if("function"!==typeof l[Symbol.iterator])throw new TypeError("values is not iterable");
return Array.from(l).reverse()};n.rollup=function(l,k,p){for(var t=[],w=2;w<arguments.length;++w)t[w-2]=arguments[w];return Wa(l,pa,k,t)};n.rollups=function(l,k,p){for(var t=[],w=2;w<arguments.length;++w)t[w-2]=arguments[w];return Wa(l,Array.from,k,t)};n.scan=function(l,k){l=x(l,k);return 0>l?void 0:l};n.shuffle=T;n.shuffler=G;n.some=function(l,k){if("function"!==typeof k)throw new TypeError("test is not a function");for(var p=-1,t=$jscomp.makeIterator(l),w=t.next();!w.done;w=t.next())if(k(w.value,
++p,l))return!0;return!1};n.sort=function(l,k){k=void 0===k?q:k;if("function"!==typeof l[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(l).sort(k)};n.subset=function(l,k){return M(k,l)};n.sum=function(l,k){var p=0;if(void 0===k){l=$jscomp.makeIterator(l);for(var t=l.next();!t.done;t=l.next())if(k=t.value,k=+k)p+=k}else{var w=-1,O=$jscomp.makeIterator(l);for(t=O.next();!t.done;t=O.next())if(t=t.value,t=+k(t,++w,l))p+=t}return p};n.superset=M;n.thresholdFreedmanDiaconis=
function(l,k,p){return Math.ceil((p-k)/(2*(Fa(l,.75)-Fa(l,.25))*Math.pow(db(l),-1/3)))};n.thresholdScott=function(l,k,p){return Math.ceil((p-k)/(3.5*Ja(l)*Math.pow(db(l),-1/3)))};n.thresholdSturges=Oa;n.tickIncrement=Ra;n.tickStep=function(l,k,p){var t=Math.abs(k-l)/Math.max(0,p);p=Math.pow(10,Math.floor(Math.log(t)/Math.LN10));t/=p;t>=Y?p*=10:t>=W?p*=5:t>=H&&(p*=2);return k<l?-p:p};n.ticks=ba;n.transpose=J;n.union=function(l){for(var k=[],p=0;p<arguments.length;++p)k[p-0]=arguments[p];p=new Set;
k=$jscomp.makeIterator(k);for(var t=k.next();!t.done;t=k.next()){t=$jscomp.makeIterator(t.value);for(var w=t.next();!w.done;w=t.next())p.add(w.value)}return p};n.variance=fb;n.zip=function(){return J(arguments)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[2]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(ja,ba){if(0>(ba=(ja=ba?ja.toExponential(ba-1):ja.toExponential()).indexOf("e")))return null;var Ra=ja.slice(0,ba);return[1<Ra.length?Ra[0]+Ra.slice(2):Ra,+ja.slice(ba+1)]}function S(ja){return ja=q(Math.abs(ja)),ja?ja[1]:NaN}function Pa(ja,
ba){return function(Ra,xa){for(var Oa=Ra.length,za=[],ia=0,wa=ja[0],sa=0;0<Oa&&0<wa;){sa+wa+1>xa&&(wa=Math.max(1,xa-sa));za.push(Ra.substring(Oa-=wa,Oa+wa));if((sa+=wa+1)>xa)break;wa=ja[ia=(ia+1)%ja.length]}return za.reverse().join(ba)}}function Kb(ja){return function(ba){return ba.replace(/[0-9]/g,function(Ra){return ja[+Ra]})}}function Ma(ja){if(!(ba=fb.exec(ja)))throw Error("invalid format: "+ja);var ba;return new db({fill:ba[1],align:ba[2],sign:ba[3],symbol:ba[4],zero:ba[5],width:ba[6],comma:ba[7],
precision:ba[8]&&ba[8].slice(1),trim:ba[9],type:ba[10]})}function db(ja){this.fill=void 0===ja.fill?" ":ja.fill+"";this.align=void 0===ja.align?"\x3e":ja.align+"";this.sign=void 0===ja.sign?"-":ja.sign+"";this.symbol=void 0===ja.symbol?"":ja.symbol+"";this.zero=!!ja.zero;this.width=void 0===ja.width?void 0:+ja.width;this.comma=!!ja.comma;this.precision=void 0===ja.precision?void 0:+ja.precision;this.trim=!!ja.trim;this.type=void 0===ja.type?"":ja.type+""}function Eb(ja,ba){ba=q(ja,ba);if(!ba)return ja+
"";ja=ba[0];ba=ba[1];return 0>ba?"0."+Array(-ba).join("0")+ja:ja.length>ba+1?ja.slice(0,ba+1)+"."+ja.slice(ba+1):ja+Array(ba-ja.length+2).join("0")}function qb(ja){return ja}function Ea(ja){function ba(Fa){function Ca(Y){var W=Ia,H=Ta,T,l;if("c"===ka)H=D(Y)+H,Y="";else{Y=+Y;var k=0>Y||0>1/Y;Y=isNaN(Y)?qa:D(Math.abs(Y),F);if(M){var p=Y.length,t=1,w=-1;a:for(;t<p;++t)switch(Y[t]){case ".":w=T=t;break;case "0":0===w&&(w=t);T=t;break;default:if(!+Y[t])break a;0<w&&(w=0)}Y=0<w?Y.slice(0,w)+Y.slice(T+1):
Y}k&&0===+Y&&"+"!==y&&(k=!1);W=(k?"("===y?y:sa:"-"===y||"("===y?"":y)+W;H=("s"===ka?Ha[8+Ja/3]:"")+H+(k&&"("===y?")":"");if(fa)for(k=-1,T=Y.length;++k<T;)if(l=Y.charCodeAt(k),48>l||57<l){H=(46===l?za+Y.slice(k+1):Y.slice(k))+H;Y=Y.slice(0,k);break}}z&&!G&&(Y=Ra(Y,Infinity));l=W.length+Y.length+H.length;k=l<J?Array(J-l+1).join(Za):"";z&&G&&(Y=Ra(k+Y,k.length?J-H.length:Infinity),k="");switch(jb){case "\x3c":Y=W+Y+H+k;break;case "\x3d":Y=W+k+Y+H;break;case "^":Y=k.slice(0,l=k.length>>1)+W+Y+H+k.slice(l);
break;default:Y=k+W+Y+H}return ia(Y)}Fa=Ma(Fa);var Za=Fa.fill,jb=Fa.align,y=Fa.sign,x=Fa.symbol,G=Fa.zero,J=Fa.width,z=Fa.comma,F=Fa.precision,M=Fa.trim,ka=Fa.type;"n"===ka?(z=!0,ka="g"):ea[ka]||(void 0===F&&(F=12),M=!0,ka="g");if(G||"0"===Za&&"\x3d"===jb)G=!0,Za="0",jb="\x3d";var Ia="$"===x?xa:"#"===x&&/[boxX]/.test(ka)?"0"+ka.toLowerCase():"",Ta="$"===x?Oa:/[%p]/.test(ka)?wa:"",D=ea[ka],fa=/[defgprs%]/.test(ka);F=void 0===F?6:/[gprs]/.test(ka)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));
Ca.toString=function(){return Fa+""};return Ca}var Ra=void 0===ja.grouping||void 0===ja.thousands?qb:Pa(pa.call(ja.grouping,Number),ja.thousands+""),xa=void 0===ja.currency?"":ja.currency[0]+"",Oa=void 0===ja.currency?"":ja.currency[1]+"",za=void 0===ja.decimal?".":ja.decimal+"",ia=void 0===ja.numerals?qb:Kb(pa.call(ja.numerals,String)),wa=void 0===ja.percent?"%":ja.percent+"",sa=void 0===ja.minus?"−":ja.minus+"",qa=void 0===ja.nan?"NaN":ja.nan+"";return{format:ba,formatPrefix:function(Fa,Ca){var Za=
ba((Fa=Ma(Fa),Fa.type="f",Fa));Fa=3*Math.max(-8,Math.min(8,Math.floor(S(Ca)/3)));var jb=Math.pow(10,-Fa),y=Ha[8+Fa/3];return function(x){return Za(jb*x)+y}}}}function ab(ja){Wa=Ea(ja);n.format=Wa.format;n.formatPrefix=Wa.formatPrefix;return Wa}var fb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ma.prototype=db.prototype;db.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+
(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Ja,ea={"%":function(ja,ba){return(100*ja).toFixed(ba)},b:function(ja){return Math.round(ja).toString(2)},c:function(ja){return ja+""},d:function(ja){return 1E21<=Math.abs(ja=Math.round(ja))?ja.toLocaleString("en").replace(/,/g,""):ja.toString(10)},e:function(ja,ba){return ja.toExponential(ba)},f:function(ja,ba){return ja.toFixed(ba)},g:function(ja,ba){return ja.toPrecision(ba)},o:function(ja){return Math.round(ja).toString(8)},
p:function(ja,ba){return Eb(100*ja,ba)},r:Eb,s:function(ja,ba){var Ra=q(ja,ba);if(!Ra)return ja+"";var xa=Ra[0];Ra=Ra[1];Ra=Ra-(Ja=3*Math.max(-8,Math.min(8,Math.floor(Ra/3))))+1;var Oa=xa.length;return Ra===Oa?xa:Ra>Oa?xa+Array(Ra-Oa+1).join("0"):0<Ra?xa.slice(0,Ra)+"."+xa.slice(Ra):"0."+Array(1-Ra).join("0")+q(ja,Math.max(0,ba+Ra-1))[0]},X:function(ja){return Math.round(ja).toString(16).toUpperCase()},x:function(ja){return Math.round(ja).toString(16)}},pa=Array.prototype.map,Ha="y z a f p n µ m  k M G T P E Z Y".split(" "),
Wa;ab({thousands:",",grouping:[3],currency:["$",""]});n.FormatSpecifier=db;n.formatDefaultLocale=ab;n.formatLocale=Ea;n.formatSpecifier=Ma;n.precisionFixed=function(ja){return Math.max(0,-S(Math.abs(ja)))};n.precisionPrefix=function(ja,ba){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(S(ba)/3)))-S(Math.abs(ja)))};n.precisionRound=function(ja,ba){ja=Math.abs(ja);ba=Math.abs(ba)-ja;return Math.max(0,S(ba)-S(ja))+1};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[3]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(Ba,Ka,Z,ra){function hb(mb){return Ba(mb=0===arguments.length?new Date:new Date(+mb)),mb}hb.floor=function(mb){return Ba(mb=new Date(+mb)),mb};hb.ceil=function(mb){return Ba(mb=new Date(mb-1)),Ka(mb,1),Ba(mb),mb};hb.round=function(mb){var Hb=hb(mb),Xb=hb.ceil(mb);return mb-
Hb<Xb-mb?Hb:Xb};hb.offset=function(mb,Hb){return Ka(mb=new Date(+mb),null==Hb?1:Math.floor(Hb)),mb};hb.range=function(mb,Hb,Xb){var ya=[],wb;mb=hb.ceil(mb);Xb=null==Xb?1:Math.floor(Xb);if(!(mb<Hb&&0<Xb))return ya;do ya.push(wb=new Date(+mb)),Ka(mb,Xb),Ba(mb);while(wb<mb&&mb<Hb);return ya};hb.filter=function(mb){return q(function(Hb){if(Hb>=Hb)for(;Ba(Hb),!mb(Hb);)Hb.setTime(Hb-1)},function(Hb,Xb){if(Hb>=Hb)if(0>Xb)for(;0>=++Xb;)for(;Ka(Hb,-1),!mb(Hb););else for(;0<=--Xb;)for(;Ka(Hb,1),!mb(Hb););})};
Z&&(hb.count=function(mb,Hb){Kb.setTime(+mb);Ma.setTime(+Hb);Ba(Kb);Ba(Ma);return Math.floor(Z(Kb,Ma))},hb.every=function(mb){mb=Math.floor(mb);return isFinite(mb)&&0<mb?1<mb?hb.filter(ra?function(Hb){return 0===ra(Hb)%mb}:function(Hb){return 0===hb.count(0,Hb)%mb}):hb:null});return hb}function S(Ba){return q(function(Ka){Ka.setDate(Ka.getDate()-(Ka.getDay()+7-Ba)%7);Ka.setHours(0,0,0,0)},function(Ka,Z){Ka.setDate(Ka.getDate()+7*Z)},function(Ka,Z){return(Z-Ka-6E4*(Z.getTimezoneOffset()-Ka.getTimezoneOffset()))/
6048E5})}function Pa(Ba){return q(function(Ka){Ka.setUTCDate(Ka.getUTCDate()-(Ka.getUTCDay()+7-Ba)%7);Ka.setUTCHours(0,0,0,0)},function(Ka,Z){Ka.setUTCDate(Ka.getUTCDate()+7*Z)},function(Ka,Z){return(Z-Ka)/6048E5})}var Kb=new Date,Ma=new Date,db=q(function(){},function(Ba,Ka){Ba.setTime(+Ba+Ka)},function(Ba,Ka){return Ka-Ba});db.every=function(Ba){Ba=Math.floor(Ba);return isFinite(Ba)&&0<Ba?1<Ba?q(function(Ka){Ka.setTime(Math.floor(Ka/Ba)*Ba)},function(Ka,Z){Ka.setTime(+Ka+Z*Ba)},function(Ka,Z){return(Z-
Ka)/Ba}):db:null};var Eb=db.range,qb=q(function(Ba){Ba.setTime(Ba-Ba.getMilliseconds())},function(Ba,Ka){Ba.setTime(+Ba+1E3*Ka)},function(Ba,Ka){return(Ka-Ba)/1E3},function(Ba){return Ba.getUTCSeconds()}),Ea=qb.range,ab=q(function(Ba){Ba.setTime(Ba-Ba.getMilliseconds()-1E3*Ba.getSeconds())},function(Ba,Ka){Ba.setTime(+Ba+6E4*Ka)},function(Ba,Ka){return(Ka-Ba)/6E4},function(Ba){return Ba.getMinutes()}),fb=ab.range,Ja=q(function(Ba){Ba.setTime(Ba-Ba.getMilliseconds()-1E3*Ba.getSeconds()-6E4*Ba.getMinutes())},
function(Ba,Ka){Ba.setTime(+Ba+36E5*Ka)},function(Ba,Ka){return(Ka-Ba)/36E5},function(Ba){return Ba.getHours()}),ea=Ja.range,pa=q(function(Ba){return Ba.setHours(0,0,0,0)},function(Ba,Ka){return Ba.setDate(Ba.getDate()+Ka)},function(Ba,Ka){return(Ka-Ba-6E4*(Ka.getTimezoneOffset()-Ba.getTimezoneOffset()))/864E5},function(Ba){return Ba.getDate()-1}),Ha=pa.range,Wa=S(0),ja=S(1),ba=S(2),Ra=S(3),xa=S(4),Oa=S(5),za=S(6),ia=Wa.range,wa=ja.range,sa=ba.range,qa=Ra.range,Fa=xa.range,Ca=Oa.range,Za=za.range,
jb=q(function(Ba){Ba.setDate(1);Ba.setHours(0,0,0,0)},function(Ba,Ka){Ba.setMonth(Ba.getMonth()+Ka)},function(Ba,Ka){return Ka.getMonth()-Ba.getMonth()+12*(Ka.getFullYear()-Ba.getFullYear())},function(Ba){return Ba.getMonth()}),y=jb.range,x=q(function(Ba){Ba.setMonth(0,1);Ba.setHours(0,0,0,0)},function(Ba,Ka){Ba.setFullYear(Ba.getFullYear()+Ka)},function(Ba,Ka){return Ka.getFullYear()-Ba.getFullYear()},function(Ba){return Ba.getFullYear()});x.every=function(Ba){return isFinite(Ba=Math.floor(Ba))&&
0<Ba?q(function(Ka){Ka.setFullYear(Math.floor(Ka.getFullYear()/Ba)*Ba);Ka.setMonth(0,1);Ka.setHours(0,0,0,0)},function(Ka,Z){Ka.setFullYear(Ka.getFullYear()+Z*Ba)}):null};var G=x.range,J=q(function(Ba){Ba.setUTCSeconds(0,0)},function(Ba,Ka){Ba.setTime(+Ba+6E4*Ka)},function(Ba,Ka){return(Ka-Ba)/6E4},function(Ba){return Ba.getUTCMinutes()}),z=J.range,F=q(function(Ba){Ba.setUTCMinutes(0,0,0)},function(Ba,Ka){Ba.setTime(+Ba+36E5*Ka)},function(Ba,Ka){return(Ka-Ba)/36E5},function(Ba){return Ba.getUTCHours()}),
M=F.range,ka=q(function(Ba){Ba.setUTCHours(0,0,0,0)},function(Ba,Ka){Ba.setUTCDate(Ba.getUTCDate()+Ka)},function(Ba,Ka){return(Ka-Ba)/864E5},function(Ba){return Ba.getUTCDate()-1}),Ia=ka.range,Ta=Pa(0),D=Pa(1),fa=Pa(2),Y=Pa(3),W=Pa(4),H=Pa(5),T=Pa(6),l=Ta.range,k=D.range,p=fa.range,t=Y.range,w=W.range,O=H.range,la=T.range,ma=q(function(Ba){Ba.setUTCDate(1);Ba.setUTCHours(0,0,0,0)},function(Ba,Ka){Ba.setUTCMonth(Ba.getUTCMonth()+Ka)},function(Ba,Ka){return Ka.getUTCMonth()-Ba.getUTCMonth()+12*(Ka.getUTCFullYear()-
Ba.getUTCFullYear())},function(Ba){return Ba.getUTCMonth()}),ua=ma.range,eb=q(function(Ba){Ba.setUTCMonth(0,1);Ba.setUTCHours(0,0,0,0)},function(Ba,Ka){Ba.setUTCFullYear(Ba.getUTCFullYear()+Ka)},function(Ba,Ka){return Ka.getUTCFullYear()-Ba.getUTCFullYear()},function(Ba){return Ba.getUTCFullYear()});eb.every=function(Ba){return isFinite(Ba=Math.floor(Ba))&&0<Ba?q(function(Ka){Ka.setUTCFullYear(Math.floor(Ka.getUTCFullYear()/Ba)*Ba);Ka.setUTCMonth(0,1);Ka.setUTCHours(0,0,0,0)},function(Ka,Z){Ka.setUTCFullYear(Ka.getUTCFullYear()+
Z*Ba)}):null};var cb=eb.range;n.timeDay=pa;n.timeDays=Ha;n.timeFriday=Oa;n.timeFridays=Ca;n.timeHour=Ja;n.timeHours=ea;n.timeInterval=q;n.timeMillisecond=db;n.timeMilliseconds=Eb;n.timeMinute=ab;n.timeMinutes=fb;n.timeMonday=ja;n.timeMondays=wa;n.timeMonth=jb;n.timeMonths=y;n.timeSaturday=za;n.timeSaturdays=Za;n.timeSecond=qb;n.timeSeconds=Ea;n.timeSunday=Wa;n.timeSundays=ia;n.timeThursday=xa;n.timeThursdays=Fa;n.timeTuesday=ba;n.timeTuesdays=sa;n.timeWednesday=Ra;n.timeWednesdays=qa;n.timeWeek=Wa;
n.timeWeeks=ia;n.timeYear=x;n.timeYears=G;n.utcDay=ka;n.utcDays=Ia;n.utcFriday=H;n.utcFridays=O;n.utcHour=F;n.utcHours=M;n.utcMillisecond=db;n.utcMilliseconds=Eb;n.utcMinute=J;n.utcMinutes=z;n.utcMonday=D;n.utcMondays=k;n.utcMonth=ma;n.utcMonths=ua;n.utcSaturday=T;n.utcSaturdays=la;n.utcSecond=qb;n.utcSeconds=Ea;n.utcSunday=Ta;n.utcSundays=l;n.utcThursday=W;n.utcThursdays=w;n.utcTuesday=fa;n.utcTuesdays=p;n.utcWednesday=Y;n.utcWednesdays=t;n.utcWeek=Ta;n.utcWeeks=l;n.utcYear=eb;n.utcYears=cb;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[4]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(3),sb(1)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.d3,n.d3))})(this,function(n,q,S,Pa){function Kb(J){var z=q.array(J).slice(),F={};z.length||q.error("Missing time unit.");z.forEach(function(M){q.hasOwnProperty(ja,M)?F[M]=1:q.error("Invalid time unit: "+M+".")});
1<(F.week||F.day?1:0)+(F.quarter||F.month||F.date?1:0)+(F.dayofyear?1:0)&&q.error("Incompatible time units: "+J);z.sort(function(M,ka){return ja[M]-ja[ka]});return z}function Ma(J){xa.setFullYear(J);xa.setMonth(0);xa.setDate(1);xa.setHours(0,0,0,0);return xa}function db(J){return S.timeDay.count(Ma(J.getFullYear())-1,J)}function Eb(J){return S.timeWeek.count(Ma(J.getFullYear())-1,J)}function qb(J,z,F,M,ka,Ia,Ta){return 0<=J&&100>J?(z=new Date(-1,z,F,M,ka,Ia,Ta),z.setFullYear(J),z):new Date(J,z,F,
M,ka,Ia,Ta)}function Ea(J){var z=Date.UTC(J.getUTCFullYear(),0,1);return S.utcDay.count(z-1,J)}function ab(J){var z=Date.UTC(J.getUTCFullYear(),0,1);return S.utcWeek.count(z-1,J)}function fb(J){xa.setTime(Date.UTC(J,0,1));return xa.getUTCDay()}function Ja(J,z,F,M,ka,Ia,Ta){return 0<=J&&100>J?(J=new Date(Date.UTC(-1,z,F,M,ka,Ia,Ta)),J.setUTCFullYear(F.y),J):new Date(Date.UTC(J,z,F,M,ka,Ia,Ta))}function ea(J,z,F,M,ka){var Ia=z||1,Ta=q.peek(J);z=function(p,t,w){w=w||p;return pa(F[w],M[w],p===Ta&&Ia,
t)};var D=new Date;J=q.toSet(J);var fa=J.year?z("year"):q.constant(2012),Y=J.month?z("month"):J.quarter?z("quarter"):q.zero,W=J.week&&J.day?z("day",1,"weekday"):J.week?z("week",1):J.day?z("day",1):J.date?z("date",1):J.dayofyear?z("dayofyear",1):q.one,H=J.hours?z("hours"):q.zero,T=J.minutes?z("minutes"):q.zero,l=J.seconds?z("seconds"):q.zero,k=J.milliseconds?z("milliseconds"):q.zero;return function(p){D.setTime(+p);p=fa(D);return ka(p,Y(D),W(D,p),H(D),T(D),l(D),k(D))}}function pa(J,z,F,M){var ka=1>=
F?J:M?function(Ia,Ta){return M+F*Math.floor((J(Ia,Ta)-M)/F)}:function(Ia,Ta){return F*Math.floor(J(Ia,Ta)/F)};return z?function(Ia,Ta){return z(ka(Ia,Ta),Ta)}:ka}function Ha(J,z,F){return z+7*J-(F+6)%7}var Wa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),ja=Wa.reduce(function(J,z,F){return J[z]=1+F,J},{}),ba={},Ra=(ba.year="%Y ",ba.quarter="Q%q ",ba.month="%b ",ba.date="%d ",ba.week="W%U ",ba.day="%a ",ba.dayofyear="%j ",ba.hours="%H:00",ba.minutes="00:%M",
ba.seconds=":%S",ba.milliseconds=".%L",ba["year-month"]="%Y-%m ",ba["year-month-date"]="%Y-%m-%d ",ba["hours-minutes"]="%H:%M",ba),xa=new Date;ba={};var Oa=(ba.year=function(J){return J.getFullYear()},ba.quarter=function(J){return Math.floor(J.getMonth()/3)},ba.month=function(J){return J.getMonth()},ba.date=function(J){return J.getDate()},ba.hours=function(J){return J.getHours()},ba.minutes=function(J){return J.getMinutes()},ba.seconds=function(J){return J.getSeconds()},ba.milliseconds=function(J){return J.getMilliseconds()},
ba.dayofyear=function(J){return db(J)},ba.week=function(J){return Eb(J)},ba.weekday=function(J,z){return Ha(Eb(J),J.getDay(),Ma(z).getDay())},ba.day=function(J,z){return Ha(1,J.getDay(),Ma(z).getDay())},ba);ba={};var za=(ba.quarter=function(J){return 3*J},ba.week=function(J,z){return Ha(J,0,Ma(z).getDay())},ba);ba={};var ia=(ba.year=function(J){return J.getUTCFullYear()},ba.quarter=function(J){return Math.floor(J.getUTCMonth()/3)},ba.month=function(J){return J.getUTCMonth()},ba.date=function(J){return J.getUTCDate()},
ba.hours=function(J){return J.getUTCHours()},ba.minutes=function(J){return J.getUTCMinutes()},ba.seconds=function(J){return J.getUTCSeconds()},ba.milliseconds=function(J){return J.getUTCMilliseconds()},ba.dayofyear=function(J){return Ea(J)},ba.week=function(J){return ab(J)},ba.day=function(J,z){return Ha(1,J.getUTCDay(),fb(z))},ba.weekday=function(J,z){return Ha(ab(J),J.getUTCDay(),fb(z))},ba);ba={};var wa=(ba.quarter=function(J){return 3*J},ba.week=function(J,z){return Ha(J,0,fb(z))},ba);ba={};var sa=
(ba.year=S.timeYear,ba.quarter=S.timeMonth.every(3),ba.month=S.timeMonth,ba.week=S.timeWeek,ba.date=S.timeDay,ba.day=S.timeDay,ba.dayofyear=S.timeDay,ba.hours=S.timeHour,ba.minutes=S.timeMinute,ba.seconds=S.timeSecond,ba.milliseconds=S.timeMillisecond,ba);ba={};var qa=(ba.year=S.utcYear,ba.quarter=S.utcMonth.every(3),ba.month=S.utcMonth,ba.week=S.utcWeek,ba.date=S.utcDay,ba.day=S.utcDay,ba.dayofyear=S.utcDay,ba.hours=S.utcHour,ba.minutes=S.utcMinute,ba.seconds=S.utcSecond,ba.milliseconds=S.utcMillisecond,
ba),Fa="year month date hours minutes seconds milliseconds".split(" ");ba=Fa.slice(0,-1);var Ca=ba.slice(0,-1),Za=Ca.slice(0,-1),jb=Za.slice(0,-1),y=["year","month"],x=["year"],G=[[ba,1,1E3],[ba,5,5E3],[ba,15,15E3],[ba,30,3E4],[Ca,1,6E4],[Ca,5,3E5],[Ca,15,9E5],[Ca,30,18E5],[Za,1,36E5],[Za,3,108E5],[Za,6,216E5],[Za,12,432E5],[jb,1,864E5],[["year","week"],1,6048E5],[y,1,2592E6],[y,3,7776E6],[x,1,31536E6]];n.DATE="date";n.DAY="day";n.DAYOFYEAR="dayofyear";n.HOURS="hours";n.MILLISECONDS="milliseconds";
n.MINUTES="minutes";n.MONTH="month";n.QUARTER="quarter";n.SECONDS="seconds";n.TIME_UNITS=Wa;n.WEEK="week";n.YEAR="year";n.dayofyear=function(J){return db(new Date(J))};n.timeBin=function(J){var z=J.extent;J=J.maxbins||40;var F=Math.abs(q.span(z))/J,M=Pa.bisector(function(ka){return ka[2]}).right(G,F);M===G.length?(F=x,z=Pa.tickStep(z[0]/31536E6,z[1]/31536E6,J)):M?(M=G[F/G[M-1][2]<G[M][2]/F?M-1:M],F=M[0],z=M[1]):(F=Fa,z=Math.max(Pa.tickStep(z[0],z[1],J),1));return{units:F,step:z}};n.timeFloor=function(J,
z){return ea(J,z||1,Oa,za,qb)};n.timeInterval=function(J){return sa[J]};n.timeOffset=function(J,z,F){return(J=sa[J])?J.offset(z,F):void 0};n.timeSequence=function(J,z,F,M){return(J=sa[J])?J.range(z,F,M):void 0};n.timeUnitSpecifier=function(J,z){z=q.extend({},Ra,z);J=Kb(J);var F=J.length,M="",ka,Ia;for(ka=0;ka<F;)for(Ia=J.length;Ia>ka;--Ia){var Ta=J.slice(ka,Ia).join("-");if(null!=z[Ta]){M+=z[Ta];ka=Ia;break}}return M.trim()};n.timeUnits=Kb;n.utcFloor=function(J,z){return ea(J,z||1,ia,wa,Ja)};n.utcInterval=
function(J){return qa[J]};n.utcOffset=function(J,z,F){return(J=qa[J])?J.offset(z,F):void 0};n.utcSequence=function(J,z,F,M){return(J=qa[J])?J.range(z,F,M):void 0};n.utcdayofyear=function(J){return Ea(new Date(J))};n.utcweek=function(J){return ab(new Date(J))};n.week=function(J){return Eb(new Date(J))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[5]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(3)):"function"===typeof define&&define.amd?define(["exports","d3-time"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(Cb){if(0<=Cb.y&&100>Cb.y){var Rb=new Date(-1,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L);Rb.setFullYear(Cb.y);return Rb}return new Date(Cb.y,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L)}function Pa(Cb){if(0<=Cb.y&&100>Cb.y){var Rb=new Date(Date.UTC(-1,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L));
Rb.setUTCFullYear(Cb.y);return Rb}return new Date(Date.UTC(Cb.y,Cb.m,Cb.d,Cb.H,Cb.M,Cb.S,Cb.L))}function Kb(Cb,Rb,Rc){return{y:Cb,m:Rb,d:Rc,H:0,M:0,S:0,L:0}}function Ma(Cb){function Rb($b,Ac){return function(Jc){var Hc=[],ad=-1,md=0,od=$b.length,rd,Vd;for(Jc instanceof Date||(Jc=new Date(+Jc));++ad<od;)if(37===$b.charCodeAt(ad)){Hc.push($b.slice(md,ad));null!=(md=bc[rd=$b.charAt(++ad)])?rd=$b.charAt(++ad):md="e"===rd?" ":"0";if(Vd=Ac[rd])rd=Vd(Jc,md);Hc.push(rd);md=ad+1}Hc.push($b.slice(md,ad));return Hc.join("")}}
function Rc($b,Ac){return function(Jc){var Hc=Kb(1900,void 0,1);if(se(Hc,$b,Jc+="",0)!=Jc.length)return null;if("Q"in Hc)return new Date(Hc.Q);if("s"in Hc)return new Date(1E3*Hc.s+("L"in Hc?Hc.L:0));!Ac||"Z"in Hc||(Hc.Z=0);"p"in Hc&&(Hc.H=Hc.H%12+12*Hc.p);void 0===Hc.m&&(Hc.m="q"in Hc?Hc.q:0);if("V"in Hc){if(1>Hc.V||53<Hc.V)return null;"w"in Hc||(Hc.w=1);if("Z"in Hc){Jc=Pa(Kb(Hc.y,0,1));var ad=Jc.getUTCDay();Jc=4<ad||0===ad?q.utcMonday.ceil(Jc):q.utcMonday(Jc);Jc=q.utcDay.offset(Jc,7*(Hc.V-1));Hc.y=
Jc.getUTCFullYear();Hc.m=Jc.getUTCMonth();Hc.d=Jc.getUTCDate()+(Hc.w+6)%7}else Jc=S(Kb(Hc.y,0,1)),ad=Jc.getDay(),Jc=4<ad||0===ad?q.timeMonday.ceil(Jc):q.timeMonday(Jc),Jc=q.timeDay.offset(Jc,7*(Hc.V-1)),Hc.y=Jc.getFullYear(),Hc.m=Jc.getMonth(),Hc.d=Jc.getDate()+(Hc.w+6)%7}else if("W"in Hc||"U"in Hc)"w"in Hc||(Hc.w="u"in Hc?Hc.u%7:"W"in Hc?1:0),ad="Z"in Hc?Pa(Kb(Hc.y,0,1)).getUTCDay():S(Kb(Hc.y,0,1)).getDay(),Hc.m=0,Hc.d="W"in Hc?(Hc.w+6)%7+7*Hc.W-(ad+5)%7:Hc.w+7*Hc.U-(ad+6)%7;return"Z"in Hc?(Hc.H+=
Hc.Z/100|0,Hc.M+=Hc.Z%100,Pa(Hc)):S(Hc)}}function se($b,Ac,Jc,Hc){for(var ad=0,md=Ac.length,od=Jc.length,rd;ad<md;){if(Hc>=od)return-1;rd=Ac.charCodeAt(ad++);if(37===rd){if(rd=Ac.charAt(ad++),rd=Gc[rd in bc?Ac.charAt(ad++):rd],!rd||0>(Hc=rd($b,Jc,Hc)))return-1}else if(rd!=Jc.charCodeAt(Hc++))return-1}return Hc}var De=Cb.dateTime,Ne=Cb.date,Md=Cb.time,I=Cb.periods,da=Cb.days,bb=Cb.shortDays,La=Cb.months,Fb=Cb.shortMonths,Vb=qb(I),Yb=Ea(I),cc=qb(da),va=Ea(da),Qa=qb(bb),yb=Ea(bb),Nb=qb(La),gc=Ea(La),
tc=qb(Fb),lc=Ea(Fb),xb={a:function($b){return bb[$b.getDay()]},A:function($b){return da[$b.getDay()]},b:function($b){return Fb[$b.getMonth()]},B:function($b){return La[$b.getMonth()]},c:null,d:jb,e:jb,f:z,g:T,G:k,H:y,I:x,j:G,L:J,m:F,M:M,p:function($b){return I[+(12<=$b.getHours())]},q:function($b){return 1+~~($b.getMonth()/3)},Q:ic,s:rc,S:ka,u:Ia,U:Ta,V:fa,w:Y,W:W,x:null,X:null,y:H,Y:l,Z:p,"%":Sb},Qb={a:function($b){return bb[$b.getUTCDay()]},A:function($b){return da[$b.getUTCDay()]},b:function($b){return Fb[$b.getUTCMonth()]},
B:function($b){return La[$b.getUTCMonth()]},c:null,d:t,e:t,f:ua,g:ya,G:Tb,H:w,I:O,j:la,L:ma,m:eb,M:cb,p:function($b){return I[+(12<=$b.getUTCHours())]},q:function($b){return 1+~~($b.getUTCMonth()/3)},Q:ic,s:rc,S:Ba,u:Ka,U:Z,V:hb,w:mb,W:Hb,x:null,X:null,y:Xb,Y:wb,Z:rb,"%":Sb},Gc={a:function($b,Ac,Jc){return(Ac=Qa.exec(Ac.slice(Jc)))?($b.w=yb.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},A:function($b,Ac,Jc){return(Ac=cc.exec(Ac.slice(Jc)))?($b.w=va.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},b:function($b,
Ac,Jc){return(Ac=tc.exec(Ac.slice(Jc)))?($b.m=lc.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},B:function($b,Ac,Jc){return(Ac=Nb.exec(Ac.slice(Jc)))?($b.m=gc.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},c:function($b,Ac,Jc){return se($b,De,Ac,Jc)},d:xa,e:xa,f:qa,g:Wa,G:Ha,H:za,I:za,j:Oa,L:sa,m:Ra,M:ia,p:function($b,Ac,Jc){return(Ac=Vb.exec(Ac.slice(Jc)))?($b.p=Yb.get(Ac[0].toLowerCase()),Jc+Ac[0].length):-1},q:ba,Q:Ca,s:Za,S:wa,u:fb,U:Ja,V:ea,w:ab,W:pa,x:function($b,Ac,Jc){return se($b,Ne,Ac,Jc)},
X:function($b,Ac,Jc){return se($b,Md,Ac,Jc)},y:Wa,Y:Ha,Z:ja,"%":Fa};xb.x=Rb(Ne,xb);xb.X=Rb(Md,xb);xb.c=Rb(De,xb);Qb.x=Rb(Ne,Qb);Qb.X=Rb(Md,Qb);Qb.c=Rb(De,Qb);return{format:function($b){var Ac=Rb($b+="",xb);Ac.toString=function(){return $b};return Ac},parse:function($b){var Ac=Rc($b+="",!1);Ac.toString=function(){return $b};return Ac},utcFormat:function($b){var Ac=Rb($b+="",Qb);Ac.toString=function(){return $b};return Ac},utcParse:function($b){var Ac=Rc($b+="",!0);Ac.toString=function(){return $b};
return Ac}}}function db(Cb,Rb,Rc){var se=0>Cb?"-":"";Cb=(se?-Cb:Cb)+"";var De=Cb.length;return se+(De<Rc?Array(Rc-De+1).join(Rb)+Cb:Cb)}function Eb(Cb){return Cb.replace(Xc,"\\$\x26")}function qb(Cb){return new RegExp("^(?:"+Cb.map(Eb).join("|")+")","i")}function Ea(Cb){return new Map(Cb.map(function(Rb,Rc){return[Rb.toLowerCase(),Rc]}))}function ab(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+1)))?(Cb.w=+Rb[0],Rc+Rb[0].length):-1}function fb(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+1)))?(Cb.u=+Rb[0],
Rc+Rb[0].length):-1}function Ja(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.U=+Rb[0],Rc+Rb[0].length):-1}function ea(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.V=+Rb[0],Rc+Rb[0].length):-1}function pa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.W=+Rb[0],Rc+Rb[0].length):-1}function Ha(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+4)))?(Cb.y=+Rb[0],Rc+Rb[0].length):-1}function Wa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.y=+Rb[0]+(68<+Rb[0]?1900:2E3),Rc+Rb[0].length):
-1}function ja(Cb,Rb,Rc){return(Rb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Rb.slice(Rc,Rc+6)))?(Cb.Z=Rb[1]?0:-(Rb[2]+(Rb[3]||"00")),Rc+Rb[0].length):-1}function ba(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+1)))?(Cb.q=3*Rb[0]-3,Rc+Rb[0].length):-1}function Ra(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.m=Rb[0]-1,Rc+Rb[0].length):-1}function xa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.d=+Rb[0],Rc+Rb[0].length):-1}function Oa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+3)))?(Cb.m=0,Cb.d=
+Rb[0],Rc+Rb[0].length):-1}function za(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.H=+Rb[0],Rc+Rb[0].length):-1}function ia(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.M=+Rb[0],Rc+Rb[0].length):-1}function wa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+2)))?(Cb.S=+Rb[0],Rc+Rb[0].length):-1}function sa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+3)))?(Cb.L=+Rb[0],Rc+Rb[0].length):-1}function qa(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc,Rc+6)))?(Cb.L=Math.floor(Rb[0]/1E3),Rc+Rb[0].length):
-1}function Fa(Cb,Rb,Rc){return(Cb=xc.exec(Rb.slice(Rc,Rc+1)))?Rc+Cb[0].length:-1}function Ca(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc)))?(Cb.Q=+Rb[0],Rc+Rb[0].length):-1}function Za(Cb,Rb,Rc){return(Rb=Mb.exec(Rb.slice(Rc)))?(Cb.s=+Rb[0],Rc+Rb[0].length):-1}function jb(Cb,Rb){return db(Cb.getDate(),Rb,2)}function y(Cb,Rb){return db(Cb.getHours(),Rb,2)}function x(Cb,Rb){return db(Cb.getHours()%12||12,Rb,2)}function G(Cb,Rb){return db(1+q.timeDay.count(q.timeYear(Cb),Cb),Rb,3)}function J(Cb,Rb){return db(Cb.getMilliseconds(),
Rb,3)}function z(Cb,Rb){return J(Cb,Rb)+"000"}function F(Cb,Rb){return db(Cb.getMonth()+1,Rb,2)}function M(Cb,Rb){return db(Cb.getMinutes(),Rb,2)}function ka(Cb,Rb){return db(Cb.getSeconds(),Rb,2)}function Ia(Cb){Cb=Cb.getDay();return 0===Cb?7:Cb}function Ta(Cb,Rb){return db(q.timeSunday.count(q.timeYear(Cb)-1,Cb),Rb,2)}function D(Cb){var Rb=Cb.getDay();return 4<=Rb||0===Rb?q.timeThursday(Cb):q.timeThursday.ceil(Cb)}function fa(Cb,Rb){Cb=D(Cb);return db(q.timeThursday.count(q.timeYear(Cb),Cb)+(4===
q.timeYear(Cb).getDay()),Rb,2)}function Y(Cb){return Cb.getDay()}function W(Cb,Rb){return db(q.timeMonday.count(q.timeYear(Cb)-1,Cb),Rb,2)}function H(Cb,Rb){return db(Cb.getFullYear()%100,Rb,2)}function T(Cb,Rb){Cb=D(Cb);return db(Cb.getFullYear()%100,Rb,2)}function l(Cb,Rb){return db(Cb.getFullYear()%1E4,Rb,4)}function k(Cb,Rb){var Rc=Cb.getDay();Cb=4<=Rc||0===Rc?q.timeThursday(Cb):q.timeThursday.ceil(Cb);return db(Cb.getFullYear()%1E4,Rb,4)}function p(Cb){Cb=Cb.getTimezoneOffset();return(0<Cb?"-":
(Cb*=-1,"+"))+db(Cb/60|0,"0",2)+db(Cb%60,"0",2)}function t(Cb,Rb){return db(Cb.getUTCDate(),Rb,2)}function w(Cb,Rb){return db(Cb.getUTCHours(),Rb,2)}function O(Cb,Rb){return db(Cb.getUTCHours()%12||12,Rb,2)}function la(Cb,Rb){return db(1+q.utcDay.count(q.utcYear(Cb),Cb),Rb,3)}function ma(Cb,Rb){return db(Cb.getUTCMilliseconds(),Rb,3)}function ua(Cb,Rb){return ma(Cb,Rb)+"000"}function eb(Cb,Rb){return db(Cb.getUTCMonth()+1,Rb,2)}function cb(Cb,Rb){return db(Cb.getUTCMinutes(),Rb,2)}function Ba(Cb,
Rb){return db(Cb.getUTCSeconds(),Rb,2)}function Ka(Cb){Cb=Cb.getUTCDay();return 0===Cb?7:Cb}function Z(Cb,Rb){return db(q.utcSunday.count(q.utcYear(Cb)-1,Cb),Rb,2)}function ra(Cb){var Rb=Cb.getUTCDay();return 4<=Rb||0===Rb?q.utcThursday(Cb):q.utcThursday.ceil(Cb)}function hb(Cb,Rb){Cb=ra(Cb);return db(q.utcThursday.count(q.utcYear(Cb),Cb)+(4===q.utcYear(Cb).getUTCDay()),Rb,2)}function mb(Cb){return Cb.getUTCDay()}function Hb(Cb,Rb){return db(q.utcMonday.count(q.utcYear(Cb)-1,Cb),Rb,2)}function Xb(Cb,
Rb){return db(Cb.getUTCFullYear()%100,Rb,2)}function ya(Cb,Rb){Cb=ra(Cb);return db(Cb.getUTCFullYear()%100,Rb,2)}function wb(Cb,Rb){return db(Cb.getUTCFullYear()%1E4,Rb,4)}function Tb(Cb,Rb){var Rc=Cb.getUTCDay();Cb=4<=Rc||0===Rc?q.utcThursday(Cb):q.utcThursday.ceil(Cb);return db(Cb.getUTCFullYear()%1E4,Rb,4)}function rb(){return"+0000"}function Sb(){return"%"}function ic(Cb){return+Cb}function rc(Cb){return Math.floor(+Cb/1E3)}function Tc(Cb){ud=Ma(Cb);n.timeFormat=ud.format;n.timeParse=ud.parse;
n.utcFormat=ud.utcFormat;n.utcParse=ud.utcParse;return ud}function pc(Cb){return Cb.toISOString()}function tb(Cb){Cb=new Date(Cb);return isNaN(Cb)?null:Cb}var bc={"-":"",_:" ",0:"0"},Mb=/^\s*\d+/,xc=/^%/,Xc=/[\\^$*+?|[\]().{}]/g,ud;Tc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var xd=Date.prototype.toISOString?pc:n.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ae=+new Date("2000-01-01T00:00:00.000Z")?tb:n.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");n.isoFormat=xd;n.isoParse=ae;n.timeFormatDefaultLocale=Tc;n.timeFormatLocale=Ma;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[6]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(1),sb(2),sb(4),sb(0),sb(5)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.d3,n.d3,n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa,Kb,Ma){function db(Oa){var za={};return function(ia){return za[ia]||(za[ia]=Oa(ia))}}function Eb(Oa,za){return function(ia){ia=
Oa(ia);var wa=ia.indexOf(za);if(0>wa)return ia;a:{var sa=ia.lastIndexOf("e");if(!(0<sa)){for(sa=ia.length;--sa>wa;){var qa=ia.charCodeAt(sa);if(48<=qa&&57>=qa){sa+=1;break a}}sa=void 0}}for(qa=sa<ia.length?ia.slice(sa):"";--sa>wa;)if("0"!==ia[sa]){++sa;break}return ia.slice(0,sa)+qa}}function qb(Oa){var za=db(Oa.format),ia=Oa.formatPrefix;return{format:za,formatPrefix:ia,formatFloat:function(wa){wa=S.formatSpecifier(wa||",");if(null==wa.precision){wa.precision=12;switch(wa.type){case "%":wa.precision-=
2;break;case "e":--wa.precision}return Eb(za(wa),za(".1f")(1)[1])}return za(wa)},formatSpan:function(wa,sa,qa,Fa){Fa=S.formatSpecifier(null==Fa?",f":Fa);qa=q.tickStep(wa,sa,qa);wa=Math.max(Math.abs(wa),Math.abs(sa));if(null==Fa.precision)switch(Fa.type){case "s":return isNaN(sa=S.precisionPrefix(qa,wa))||(Fa.precision=sa),ia(Fa,wa);case "":case "e":case "g":case "p":case "r":isNaN(sa=S.precisionRound(qa,wa))||(Fa.precision=sa-("e"===Fa.type));break;case "f":case "%":isNaN(sa=S.precisionFixed(qa))||
(Fa.precision=sa-2*("%"===Fa.type))}return za(Fa)}}}function Ea(){return ba=qb({format:S.format,formatPrefix:S.formatPrefix})}function ab(Oa){return qb(S.formatLocale(Oa))}function fb(Oa){return arguments.length?ba=ab(Oa):ba}function Ja(Oa,za,ia){ia=ia||{};Kb.isObject(ia)||Kb.error("Invalid time multi-format specifier: "+ia);var wa=za(Pa.SECONDS),sa=za(Pa.MINUTES),qa=za(Pa.HOURS),Fa=za(Pa.DATE),Ca=za(Pa.WEEK),Za=za(Pa.MONTH),jb=za(Pa.QUARTER),y=za(Pa.YEAR),x=Oa(ia[Pa.MILLISECONDS]||".%L"),G=Oa(ia[Pa.SECONDS]||
":%S"),J=Oa(ia[Pa.MINUTES]||"%I:%M"),z=Oa(ia[Pa.HOURS]||"%I %p"),F=Oa(ia[Pa.DATE]||ia[Pa.DAY]||"%a %d"),M=Oa(ia[Pa.WEEK]||"%b %d"),ka=Oa(ia[Pa.MONTH]||"%B"),Ia=Oa(ia[Pa.QUARTER]||"%B"),Ta=Oa(ia[Pa.YEAR]||"%Y");return function(D){return(wa(D)<D?x:sa(D)<D?G:qa(D)<D?J:Fa(D)<D?z:Za(D)<D?Ca(D)<D?F:M:y(D)<D?jb(D)<D?ka:Ia:Ta)(D)}}function ea(Oa){var za=db(Oa.format),ia=db(Oa.utcFormat);return{timeFormat:function(wa){return Kb.isString(wa)?za(wa):Ja(za,Pa.timeInterval,wa)},utcFormat:function(wa){return Kb.isString(wa)?
ia(wa):Ja(ia,Pa.utcInterval,wa)},timeParse:db(Oa.parse),utcParse:db(Oa.utcParse)}}function pa(){return Ra=ea({format:Ma.timeFormat,parse:Ma.timeParse,utcFormat:Ma.utcFormat,utcParse:Ma.utcParse})}function Ha(Oa){return ea(Ma.timeFormatLocale(Oa))}function Wa(Oa){return arguments.length?Ra=Ha(Oa):Ra}function ja(Oa,za){var ia=arguments.length;ia&&2!==ia&&Kb.error("defaultLocale expects either zero or two arguments.");return ia?xa(fb(Oa),Wa(za)):xa(fb(),Wa())}var ba;Ea();var Ra;pa();var xa=function(Oa,
za){return Kb.extend({},Oa,za)};n.defaultLocale=ja;n.locale=function(Oa,za){Oa=Oa?ab(Oa):fb();za=za?Ha(za):Wa();return xa(Oa,za)};n.numberFormatDefaultLocale=fb;n.numberFormatLocale=ab;n.resetDefaultLocale=function(){Ea();pa();return ja()};n.resetNumberFormatDefaultLocale=Ea;n.resetTimeFormatDefaultLocale=pa;n.timeFormatDefaultLocale=Wa;n.timeFormatLocale=Ha;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[7]=function(Jb,sb,hc,vb){function n(Ma){var db=Ma.length;if(0<db%4)throw Error("Invalid string. Length must be a multiple of 4");Ma=Ma.indexOf("\x3d");-1===Ma&&(Ma=db);return[Ma,Ma===db?0:4-Ma%4]}function q(Ma,db,Eb){for(var qb=[],Ea=db;Ea<Eb;Ea+=3)db=(Ma[Ea]<<16&16711680)+(Ma[Ea+1]<<8&65280)+(Ma[Ea+2]&255),qb.push(S[db>>18&63]+S[db>>12&63]+S[db>>6&63]+S[db&63]);return qb.join("")}vb.byteLength=function(Ma){Ma=n(Ma);var db=Ma[1];return 3*(Ma[0]+db)/4-db};vb.toByteArray=function(Ma){var db=
n(Ma);var Eb=db[0];db=db[1];var qb=new Kb(3*(Eb+db)/4-db),Ea=0,ab=0<db?Eb-4:Eb,fb;for(fb=0;fb<ab;fb+=4)Eb=Pa[Ma.charCodeAt(fb)]<<18|Pa[Ma.charCodeAt(fb+1)]<<12|Pa[Ma.charCodeAt(fb+2)]<<6|Pa[Ma.charCodeAt(fb+3)],qb[Ea++]=Eb>>16&255,qb[Ea++]=Eb>>8&255,qb[Ea++]=Eb&255;2===db&&(Eb=Pa[Ma.charCodeAt(fb)]<<2|Pa[Ma.charCodeAt(fb+1)]>>4,qb[Ea++]=Eb&255);1===db&&(Eb=Pa[Ma.charCodeAt(fb)]<<10|Pa[Ma.charCodeAt(fb+1)]<<4|Pa[Ma.charCodeAt(fb+2)]>>2,qb[Ea++]=Eb>>8&255,qb[Ea++]=Eb&255);return qb};vb.fromByteArray=
function(Ma){for(var db=Ma.length,Eb=db%3,qb=[],Ea=0,ab=db-Eb;Ea<ab;Ea+=16383)qb.push(q(Ma,Ea,Ea+16383>ab?ab:Ea+16383));1===Eb?(Ma=Ma[db-1],qb.push(S[Ma>>2]+S[Ma<<4&63]+"\x3d\x3d")):2===Eb&&(Ma=(Ma[db-2]<<8)+Ma[db-1],qb.push(S[Ma>>10]+S[Ma>>4&63]+S[Ma<<2&63]+"\x3d"));return qb.join("")};var S=[],Pa=[],Kb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Jb=0;64>Jb;++Jb)S[Jb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Jb],Pa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Jb)]=
Jb;Pa[45]=62;Pa[95]=63};
shadow$provide[8]=function(Jb,sb,hc,vb){vb.read=function(n,q,S,Pa,Kb){var Ma=8*Kb-Pa-1;var db=(1<<Ma)-1,Eb=db>>1,qb=-7;Kb=S?Kb-1:0;var Ea=S?-1:1,ab=n[q+Kb];Kb+=Ea;S=ab&(1<<-qb)-1;ab>>=-qb;for(qb+=Ma;0<qb;S=256*S+n[q+Kb],Kb+=Ea,qb-=8);Ma=S&(1<<-qb)-1;S>>=-qb;for(qb+=Pa;0<qb;Ma=256*Ma+n[q+Kb],Kb+=Ea,qb-=8);if(0===S)S=1-Eb;else{if(S===db)return Ma?NaN:Infinity*(ab?-1:1);Ma+=Math.pow(2,Pa);S-=Eb}return(ab?-1:1)*Ma*Math.pow(2,S-Pa)};vb.write=function(n,q,S,Pa,Kb,Ma){var db,Eb=8*Ma-Kb-1,qb=(1<<Eb)-1,Ea=
qb>>1,ab=23===Kb?Math.pow(2,-24)-Math.pow(2,-77):0;Ma=Pa?0:Ma-1;var fb=Pa?1:-1,Ja=0>q||0===q&&0>1/q?1:0;q=Math.abs(q);isNaN(q)||Infinity===q?(q=isNaN(q)?1:0,Pa=qb):(Pa=Math.floor(Math.log(q)/Math.LN2),1>q*(db=Math.pow(2,-Pa))&&(Pa--,db*=2),q=1<=Pa+Ea?q+ab/db:q+ab*Math.pow(2,1-Ea),2<=q*db&&(Pa++,db/=2),Pa+Ea>=qb?(q=0,Pa=qb):1<=Pa+Ea?(q=(q*db-1)*Math.pow(2,Kb),Pa+=Ea):(q=q*Math.pow(2,Ea-1)*Math.pow(2,Kb),Pa=0));for(;8<=Kb;n[S+Ma]=q&255,Ma+=fb,q/=256,Kb-=8);Pa=Pa<<Kb|q;for(Eb+=Kb;0<Eb;n[S+Ma]=Pa&255,
Ma+=fb,Pa/=256,Eb-=8);n[S+Ma-fb]|=128*Ja}};
shadow$provide[9]=function(Jb,sb,hc,vb){var n={}.toString;hc.exports=Array.isArray||function(q){return"[object Array]"==n.call(q)}};
shadow$provide[10]=function(Jb,sb,hc,vb){function n(){try{var y=new Uint8Array(1);y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===y.foo()&&"function"===typeof y.subarray&&0===y.subarray(1,1).byteLength}catch(x){return!1}}function q(y,x){if((S.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<x)throw new RangeError("Invalid typed array length");S.TYPED_ARRAY_SUPPORT?(y=new Uint8Array(x),y.__proto__=S.prototype):(null===y&&(y=new S(x)),y.length=x);return y}function S(y,x,
G){if(!(S.TYPED_ARRAY_SUPPORT||this instanceof S))return new S(y,x,G);if("number"===typeof y){if("string"===typeof x)throw Error("If encoding is specified then the first argument must be a string");return Ma(this,y)}return Pa(this,y,x,G)}function Pa(y,x,G,J){if("number"===typeof x)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&x instanceof ArrayBuffer){x.byteLength;if(0>G||x.byteLength<G)throw new RangeError("'offset' is out of bounds");if(x.byteLength<
G+(J||0))throw new RangeError("'length' is out of bounds");x=void 0===G&&void 0===J?new Uint8Array(x):void 0===J?new Uint8Array(x,G):new Uint8Array(x,G,J);S.TYPED_ARRAY_SUPPORT?(y=x,y.__proto__=S.prototype):y=db(y,x);return y}if("string"===typeof x){J=y;y=G;if("string"!==typeof y||""===y)y="utf8";if(!S.isEncoding(y))throw new TypeError('"encoding" must be a valid string encoding');G=Ea(x,y)|0;J=q(J,G);x=J.write(x,y);x!==G&&(J=J.slice(0,x));return J}return Eb(y,x)}function Kb(y){if("number"!==typeof y)throw new TypeError('"size" argument must be a number');
if(0>y)throw new RangeError('"size" argument must not be negative');}function Ma(y,x){Kb(x);y=q(y,0>x?0:qb(x)|0);if(!S.TYPED_ARRAY_SUPPORT)for(var G=0;G<x;++G)y[G]=0;return y}function db(y,x){var G=0>x.length?0:qb(x.length)|0;y=q(y,G);for(var J=0;J<G;J+=1)y[J]=x[J]&255;return y}function Eb(y,x){if(S.isBuffer(x)){var G=qb(x.length)|0;y=q(y,G);if(0===y.length)return y;x.copy(y,0,0,G);return y}if(x){if("undefined"!==typeof ArrayBuffer&&x.buffer instanceof ArrayBuffer||"length"in x)return(G="number"!==
typeof x.length)||(G=x.length,G=G!==G),G?q(y,0):db(y,x);if("Buffer"===x.type&&Ca(x.data))return db(y,x.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function qb(y){if(y>=(S.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(S.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return y|0}function Ea(y,x){if(S.isBuffer(y))return y.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(y)||y instanceof ArrayBuffer))return y.byteLength;"string"!==typeof y&&(y=""+y);var G=y.length;if(0===G)return 0;for(var J=!1;;)switch(x){case "ascii":case "latin1":case "binary":return G;case "utf8":case "utf-8":case void 0:return ia(y).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*G;case "hex":return G>>>1;case "base64":return qa.toByteArray(za(y)).length;default:if(J)return ia(y).length;x=
(""+x).toLowerCase();J=!0}}function ab(y,x,G){var J=!1;if(void 0===x||0>x)x=0;if(x>this.length)return"";if(void 0===G||G>this.length)G=this.length;if(0>=G)return"";G>>>=0;x>>>=0;if(G<=x)return"";for(y||(y="utf8");;)switch(y){case "hex":y=x;x=G;G=this.length;if(!y||0>y)y=0;if(!x||0>x||x>G)x=G;J="";for(G=y;G<x;++G)y=J,J=this[G],J=16>J?"0"+J.toString(16):J.toString(16),J=y+J;return J;case "utf8":case "utf-8":return pa(this,x,G);case "ascii":y="";for(G=Math.min(this.length,G);x<G;++x)y+=String.fromCharCode(this[x]&
127);return y;case "latin1":case "binary":y="";for(G=Math.min(this.length,G);x<G;++x)y+=String.fromCharCode(this[x]);return y;case "base64":return x=0===x&&G===this.length?qa.fromByteArray(this):qa.fromByteArray(this.slice(x,G)),x;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":x=this.slice(x,G);G="";for(y=0;y<x.length;y+=2)G+=String.fromCharCode(x[y]+256*x[y+1]);return G;default:if(J)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase();J=!0}}function fb(y,x,G){var J=y[x];y[x]=
y[G];y[G]=J}function Ja(y,x,G,J,z){if(0===y.length)return-1;"string"===typeof G?(J=G,G=0):2147483647<G?G=2147483647:-2147483648>G&&(G=-2147483648);G=+G;isNaN(G)&&(G=z?0:y.length-1);0>G&&(G=y.length+G);if(G>=y.length){if(z)return-1;G=y.length-1}else if(0>G)if(z)G=0;else return-1;"string"===typeof x&&(x=S.from(x,J));if(S.isBuffer(x))return 0===x.length?-1:ea(y,x,G,J,z);if("number"===typeof x)return x&=255,S.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?z?Uint8Array.prototype.indexOf.call(y,
x,G):Uint8Array.prototype.lastIndexOf.call(y,x,G):ea(y,[x],G,J,z);throw new TypeError("val must be string, number or Buffer");}function ea(y,x,G,J,z){function F(Ta,D){return 1===M?Ta[D]:Ta.readUInt16BE(D*M)}var M=1,ka=y.length,Ia=x.length;if(void 0!==J&&(J=String(J).toLowerCase(),"ucs2"===J||"ucs-2"===J||"utf16le"===J||"utf-16le"===J)){if(2>y.length||2>x.length)return-1;M=2;ka/=2;Ia/=2;G/=2}if(z)for(J=-1;G<ka;G++)if(F(y,G)===F(x,-1===J?0:G-J)){if(-1===J&&(J=G),G-J+1===Ia)return J*M}else-1!==J&&(G-=
G-J),J=-1;else for(G+Ia>ka&&(G=ka-Ia);0<=G;G--){ka=!0;for(J=0;J<Ia;J++)if(F(y,G+J)!==F(x,J)){ka=!1;break}if(ka)return G}return-1}function pa(y,x,G){G=Math.min(y.length,G);for(var J=[];x<G;){var z=y[x],F=null,M=239<z?4:223<z?3:191<z?2:1;if(x+M<=G)switch(M){case 1:128>z&&(F=z);break;case 2:var ka=y[x+1];128===(ka&192)&&(z=(z&31)<<6|ka&63,127<z&&(F=z));break;case 3:ka=y[x+1];var Ia=y[x+2];128===(ka&192)&&128===(Ia&192)&&(z=(z&15)<<12|(ka&63)<<6|Ia&63,2047<z&&(55296>z||57343<z)&&(F=z));break;case 4:ka=
y[x+1];Ia=y[x+2];var Ta=y[x+3];128===(ka&192)&&128===(Ia&192)&&128===(Ta&192)&&(z=(z&15)<<18|(ka&63)<<12|(Ia&63)<<6|Ta&63,65535<z&&1114112>z&&(F=z))}null===F?(F=65533,M=1):65535<F&&(F-=65536,J.push(F>>>10&1023|55296),F=56320|F&1023);J.push(F);x+=M}y=J.length;if(y<=Za)J=String.fromCharCode.apply(String,J);else{G="";for(x=0;x<y;)G+=String.fromCharCode.apply(String,J.slice(x,x+=Za));J=G}return J}function Ha(y,x,G){if(0!==y%1||0>y)throw new RangeError("offset is not uint");if(y+x>G)throw new RangeError("Trying to access beyond buffer length");
}function Wa(y,x,G,J,z,F){if(!S.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>z||x<F)throw new RangeError('"value" argument is out of bounds');if(G+J>y.length)throw new RangeError("Index out of range");}function ja(y,x,G,J){0>x&&(x=65535+x+1);for(var z=0,F=Math.min(y.length-G,2);z<F;++z)y[G+z]=(x&255<<8*(J?z:1-z))>>>8*(J?z:1-z)}function ba(y,x,G,J){0>x&&(x=4294967295+x+1);for(var z=0,F=Math.min(y.length-G,4);z<F;++z)y[G+z]=x>>>8*(J?z:3-z)&255}function Ra(y,x,
G,J,z,F){if(G+J>y.length)throw new RangeError("Index out of range");if(0>G)throw new RangeError("Index out of range");}function xa(y,x,G,J,z){z||Ra(y,x,G,4,3.4028234663852886E38,-3.4028234663852886E38);Fa.write(y,x,G,J,23,4);return G+4}function Oa(y,x,G,J,z){z||Ra(y,x,G,8,1.7976931348623157E308,-1.7976931348623157E308);Fa.write(y,x,G,J,52,8);return G+8}function za(y){y=y.trim?y.trim():y.replace(/^\s+|\s+$/g,"");y=y.replace(jb,"");if(2>y.length)return"";for(;0!==y.length%4;)y+="\x3d";return y}function ia(y,
x){x=x||Infinity;for(var G,J=y.length,z=null,F=[],M=0;M<J;++M){G=y.charCodeAt(M);if(55295<G&&57344>G){if(!z){if(56319<G){-1<(x-=3)&&F.push(239,191,189);continue}else if(M+1===J){-1<(x-=3)&&F.push(239,191,189);continue}z=G;continue}if(56320>G){-1<(x-=3)&&F.push(239,191,189);z=G;continue}G=(z-55296<<10|G-56320)+65536}else z&&-1<(x-=3)&&F.push(239,191,189);z=null;if(128>G){if(0>--x)break;F.push(G)}else if(2048>G){if(0>(x-=2))break;F.push(G>>6|192,G&63|128)}else if(65536>G){if(0>(x-=3))break;F.push(G>>
12|224,G>>6&63|128,G&63|128)}else if(1114112>G){if(0>(x-=4))break;F.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw Error("Invalid code point");}return F}function wa(y){for(var x=[],G=0;G<y.length;++G)x.push(y.charCodeAt(G)&255);return x}function sa(y,x,G,J){for(var z=0;z<J&&!(z+G>=x.length||z>=y.length);++z)x[z+G]=y[z];return z}var qa=sb(7),Fa=sb(8),Ca=sb(9);vb.Buffer=S;vb.SlowBuffer=function(y){+y!=y&&(y=0);return S.alloc(+y)};vb.INSPECT_MAX_BYTES=50;S.TYPED_ARRAY_SUPPORT=void 0!==
Jb.TYPED_ARRAY_SUPPORT?Jb.TYPED_ARRAY_SUPPORT:n();vb.kMaxLength=S.TYPED_ARRAY_SUPPORT?2147483647:1073741823;S.poolSize=8192;S._augment=function(y){y.__proto__=S.prototype;return y};S.from=function(y,x,G){return Pa(null,y,x,G)};S.TYPED_ARRAY_SUPPORT&&(S.prototype.__proto__=Uint8Array.prototype,S.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&S[Symbol.species]===S&&Object.defineProperty(S,Symbol.species,{value:null,configurable:!0}));S.alloc=function(y,x,G){Kb(y);y=0>=y?q(null,y):
void 0!==x?"string"===typeof G?q(null,y).fill(x,G):q(null,y).fill(x):q(null,y);return y};S.allocUnsafe=function(y){return Ma(null,y)};S.allocUnsafeSlow=function(y){return Ma(null,y)};S.isBuffer=function(y){return!(null==y||!y._isBuffer)};S.compare=function(y,x){if(!S.isBuffer(y)||!S.isBuffer(x))throw new TypeError("Arguments must be Buffers");if(y===x)return 0;for(var G=y.length,J=x.length,z=0,F=Math.min(G,J);z<F;++z)if(y[z]!==x[z]){G=y[z];J=x[z];break}return G<J?-1:J<G?1:0};S.isEncoding=function(y){switch(String(y).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};S.concat=function(y,x){if(!Ca(y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===y.length)return S.alloc(0);var G;if(void 0===x)for(G=x=0;G<y.length;++G)x+=y[G].length;x=S.allocUnsafe(x);var J=0;for(G=0;G<y.length;++G){var z=y[G];if(!S.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(x,J);J+=z.length}return x};S.byteLength=Ea;S.prototype._isBuffer=!0;S.prototype.swap16=function(){var y=this.length;if(0!==y%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var x=0;x<y;x+=2)fb(this,x,x+1);return this};S.prototype.swap32=function(){var y=this.length;if(0!==y%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<y;x+=4)fb(this,x,x+3),fb(this,x+1,x+2);return this};S.prototype.swap64=function(){var y=this.length;if(0!==y%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<y;x+=8)fb(this,x,x+7),fb(this,x+1,x+6),fb(this,x+2,x+5),fb(this,x+3,x+4);return this};S.prototype.toString=function(){var y=
this.length|0;return 0===y?"":0===arguments.length?pa(this,0,y):ab.apply(this,arguments)};S.prototype.equals=function(y){if(!S.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:0===S.compare(this,y)};S.prototype.inspect=function(){var y="",x=vb.INSPECT_MAX_BYTES;0<this.length&&(y=this.toString("hex",0,x).match(/.{2}/g).join(" "),this.length>x&&(y+=" ... "));return"\x3cBuffer "+y+"\x3e"};S.prototype.compare=function(y,x,G,J,z){if(!S.isBuffer(y))throw new TypeError("Argument must be a Buffer");
void 0===x&&(x=0);void 0===G&&(G=y?y.length:0);void 0===J&&(J=0);void 0===z&&(z=this.length);if(0>x||G>y.length||0>J||z>this.length)throw new RangeError("out of range index");if(J>=z&&x>=G)return 0;if(J>=z)return-1;if(x>=G)return 1;x>>>=0;G>>>=0;J>>>=0;z>>>=0;if(this===y)return 0;var F=z-J,M=G-x,ka=Math.min(F,M);J=this.slice(J,z);y=y.slice(x,G);for(x=0;x<ka;++x)if(J[x]!==y[x]){F=J[x];M=y[x];break}return F<M?-1:M<F?1:0};S.prototype.includes=function(y,x,G){return-1!==this.indexOf(y,x,G)};S.prototype.indexOf=
function(y,x,G){return Ja(this,y,x,G,!0)};S.prototype.lastIndexOf=function(y,x,G){return Ja(this,y,x,G,!1)};S.prototype.write=function(y,x,G,J){if(void 0===x)J="utf8",G=this.length,x=0;else if(void 0===G&&"string"===typeof x)J=x,G=this.length,x=0;else if(isFinite(x))x|=0,isFinite(G)?(G|=0,void 0===J&&(J="utf8")):(J=G,G=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var z=this.length-x;if(void 0===G||G>z)G=z;if(0<y.length&&(0>G||0>x)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");
J||(J="utf8");for(z=!1;;)switch(J){case "hex":a:{x=Number(x)||0;J=this.length-x;G?(G=Number(G),G>J&&(G=J)):G=J;J=y.length;if(0!==J%2)throw new TypeError("Invalid hex string");G>J/2&&(G=J/2);for(J=0;J<G;++J){z=parseInt(y.substr(2*J,2),16);if(isNaN(z)){y=J;break a}this[x+J]=z}y=J}return y;case "utf8":case "utf-8":return sa(ia(y,this.length-x),this,x,G);case "ascii":return sa(wa(y),this,x,G);case "latin1":case "binary":return sa(wa(y),this,x,G);case "base64":return sa(qa.toByteArray(za(y)),this,x,G);
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":J=y;z=this.length-x;for(var F=[],M=0;M<J.length&&!(0>(z-=2));++M){var ka=J.charCodeAt(M);y=ka>>8;ka%=256;F.push(ka);F.push(y)}return sa(F,this,x,G);default:if(z)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase();z=!0}};S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Za=4096;S.prototype.slice=function(y,x){var G=this.length;y=~~y;x=void 0===x?G:~~x;0>y?(y+=G,0>y&&(y=0)):
y>G&&(y=G);0>x?(x+=G,0>x&&(x=0)):x>G&&(x=G);x<y&&(x=y);if(S.TYPED_ARRAY_SUPPORT)x=this.subarray(y,x),x.__proto__=S.prototype;else{G=x-y;x=new S(G,void 0);for(var J=0;J<G;++J)x[J]=this[J+y]}return x};S.prototype.readUIntLE=function(y,x,G){y|=0;x|=0;G||Ha(y,x,this.length);G=this[y];for(var J=1,z=0;++z<x&&(J*=256);)G+=this[y+z]*J;return G};S.prototype.readUIntBE=function(y,x,G){y|=0;x|=0;G||Ha(y,x,this.length);G=this[y+--x];for(var J=1;0<x&&(J*=256);)G+=this[y+--x]*J;return G};S.prototype.readUInt8=
function(y,x){x||Ha(y,1,this.length);return this[y]};S.prototype.readUInt16LE=function(y,x){x||Ha(y,2,this.length);return this[y]|this[y+1]<<8};S.prototype.readUInt16BE=function(y,x){x||Ha(y,2,this.length);return this[y]<<8|this[y+1]};S.prototype.readUInt32LE=function(y,x){x||Ha(y,4,this.length);return(this[y]|this[y+1]<<8|this[y+2]<<16)+16777216*this[y+3]};S.prototype.readUInt32BE=function(y,x){x||Ha(y,4,this.length);return 16777216*this[y]+(this[y+1]<<16|this[y+2]<<8|this[y+3])};S.prototype.readIntLE=
function(y,x,G){y|=0;x|=0;G||Ha(y,x,this.length);G=this[y];for(var J=1,z=0;++z<x&&(J*=256);)G+=this[y+z]*J;G>=128*J&&(G-=Math.pow(2,8*x));return G};S.prototype.readIntBE=function(y,x,G){y|=0;x|=0;G||Ha(y,x,this.length);G=x;for(var J=1,z=this[y+--G];0<G&&(J*=256);)z+=this[y+--G]*J;z>=128*J&&(z-=Math.pow(2,8*x));return z};S.prototype.readInt8=function(y,x){x||Ha(y,1,this.length);return this[y]&128?-1*(255-this[y]+1):this[y]};S.prototype.readInt16LE=function(y,x){x||Ha(y,2,this.length);y=this[y]|this[y+
1]<<8;return y&32768?y|4294901760:y};S.prototype.readInt16BE=function(y,x){x||Ha(y,2,this.length);y=this[y+1]|this[y]<<8;return y&32768?y|4294901760:y};S.prototype.readInt32LE=function(y,x){x||Ha(y,4,this.length);return this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24};S.prototype.readInt32BE=function(y,x){x||Ha(y,4,this.length);return this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]};S.prototype.readFloatLE=function(y,x){x||Ha(y,4,this.length);return Fa.read(this,y,!0,23,4)};S.prototype.readFloatBE=
function(y,x){x||Ha(y,4,this.length);return Fa.read(this,y,!1,23,4)};S.prototype.readDoubleLE=function(y,x){x||Ha(y,8,this.length);return Fa.read(this,y,!0,52,8)};S.prototype.readDoubleBE=function(y,x){x||Ha(y,8,this.length);return Fa.read(this,y,!1,52,8)};S.prototype.writeUIntLE=function(y,x,G,J){y=+y;x|=0;G|=0;J||Wa(this,y,x,G,Math.pow(2,8*G)-1,0);J=1;var z=0;for(this[x]=y&255;++z<G&&(J*=256);)this[x+z]=y/J&255;return x+G};S.prototype.writeUIntBE=function(y,x,G,J){y=+y;x|=0;G|=0;J||Wa(this,y,x,
G,Math.pow(2,8*G)-1,0);J=G-1;var z=1;for(this[x+J]=y&255;0<=--J&&(z*=256);)this[x+J]=y/z&255;return x+G};S.prototype.writeUInt8=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,1,255,0);S.TYPED_ARRAY_SUPPORT||(y=Math.floor(y));this[x]=y&255;return x+1};S.prototype.writeUInt16LE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,2,65535,0);S.TYPED_ARRAY_SUPPORT?(this[x]=y&255,this[x+1]=y>>>8):ja(this,y,x,!0);return x+2};S.prototype.writeUInt16BE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,2,65535,0);S.TYPED_ARRAY_SUPPORT?
(this[x]=y>>>8,this[x+1]=y&255):ja(this,y,x,!1);return x+2};S.prototype.writeUInt32LE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,4,4294967295,0);S.TYPED_ARRAY_SUPPORT?(this[x+3]=y>>>24,this[x+2]=y>>>16,this[x+1]=y>>>8,this[x]=y&255):ba(this,y,x,!0);return x+4};S.prototype.writeUInt32BE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,4,4294967295,0);S.TYPED_ARRAY_SUPPORT?(this[x]=y>>>24,this[x+1]=y>>>16,this[x+2]=y>>>8,this[x+3]=y&255):ba(this,y,x,!1);return x+4};S.prototype.writeIntLE=function(y,x,G,J){y=
+y;x|=0;J||(J=Math.pow(2,8*G-1),Wa(this,y,x,G,J-1,-J));J=0;var z=1,F=0;for(this[x]=y&255;++J<G&&(z*=256);)0>y&&0===F&&0!==this[x+J-1]&&(F=1),this[x+J]=(y/z>>0)-F&255;return x+G};S.prototype.writeIntBE=function(y,x,G,J){y=+y;x|=0;J||(J=Math.pow(2,8*G-1),Wa(this,y,x,G,J-1,-J));J=G-1;var z=1,F=0;for(this[x+J]=y&255;0<=--J&&(z*=256);)0>y&&0===F&&0!==this[x+J+1]&&(F=1),this[x+J]=(y/z>>0)-F&255;return x+G};S.prototype.writeInt8=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,1,127,-128);S.TYPED_ARRAY_SUPPORT||
(y=Math.floor(y));0>y&&(y=255+y+1);this[x]=y&255;return x+1};S.prototype.writeInt16LE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,2,32767,-32768);S.TYPED_ARRAY_SUPPORT?(this[x]=y&255,this[x+1]=y>>>8):ja(this,y,x,!0);return x+2};S.prototype.writeInt16BE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,2,32767,-32768);S.TYPED_ARRAY_SUPPORT?(this[x]=y>>>8,this[x+1]=y&255):ja(this,y,x,!1);return x+2};S.prototype.writeInt32LE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,4,2147483647,-2147483648);S.TYPED_ARRAY_SUPPORT?
(this[x]=y&255,this[x+1]=y>>>8,this[x+2]=y>>>16,this[x+3]=y>>>24):ba(this,y,x,!0);return x+4};S.prototype.writeInt32BE=function(y,x,G){y=+y;x|=0;G||Wa(this,y,x,4,2147483647,-2147483648);0>y&&(y=4294967295+y+1);S.TYPED_ARRAY_SUPPORT?(this[x]=y>>>24,this[x+1]=y>>>16,this[x+2]=y>>>8,this[x+3]=y&255):ba(this,y,x,!1);return x+4};S.prototype.writeFloatLE=function(y,x,G){return xa(this,y,x,!0,G)};S.prototype.writeFloatBE=function(y,x,G){return xa(this,y,x,!1,G)};S.prototype.writeDoubleLE=function(y,x,G){return Oa(this,
y,x,!0,G)};S.prototype.writeDoubleBE=function(y,x,G){return Oa(this,y,x,!1,G)};S.prototype.copy=function(y,x,G,J){G||(G=0);J||0===J||(J=this.length);x>=y.length&&(x=y.length);x||(x=0);0<J&&J<G&&(J=G);if(J===G||0===y.length||0===this.length)return 0;if(0>x)throw new RangeError("targetStart out of bounds");if(0>G||G>=this.length)throw new RangeError("sourceStart out of bounds");if(0>J)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length);y.length-x<J-G&&(J=y.length-x+G);var z=
J-G;if(this===y&&G<x&&x<J)for(J=z-1;0<=J;--J)y[J+x]=this[J+G];else if(1E3>z||!S.TYPED_ARRAY_SUPPORT)for(J=0;J<z;++J)y[J+x]=this[J+G];else Uint8Array.prototype.set.call(y,this.subarray(G,G+z),x);return z};S.prototype.fill=function(y,x,G,J){if("string"===typeof y){"string"===typeof x?(J=x,x=0,G=this.length):"string"===typeof G&&(J=G,G=this.length);if(1===y.length){var z=y.charCodeAt(0);256>z&&(y=z)}if(void 0!==J&&"string"!==typeof J)throw new TypeError("encoding must be a string");if("string"===typeof J&&
!S.isEncoding(J))throw new TypeError("Unknown encoding: "+J);}else"number"===typeof y&&(y&=255);if(0>x||this.length<x||this.length<G)throw new RangeError("Out of range index");if(G<=x)return this;x>>>=0;G=void 0===G?this.length:G>>>0;y||(y=0);if("number"===typeof y)for(J=x;J<G;++J)this[J]=y;else for(y=S.isBuffer(y)?y:ia((new S(y,J)).toString()),z=y.length,J=0;J<G-x;++J)this[J+x]=y[J%z];return this};var jb=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[11]=function(Jb,sb,hc,vb){var n=sb(10).Buffer;!function(q,S){"object"==typeof vb&&"undefined"!=typeof hc?S(vb,sb(0),sb(6)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],S):S((q="undefined"!=typeof globalThis?globalThis:q||self).vega={},q.vega,q.vega)}(this,function(q,S,Pa){function Kb(D,fa){var Y=this,W,H;return $jscomp.asyncExecutePromiseGeneratorProgram(function(T){if(1==T.nextAddress)return T.yield(Y.sanitize(D,fa),2);W=T.yieldResult;H=W.href;
return T.return(W.localFile?Y.file(H):Y.http(H,fa))})}function Ma(D,fa){var Y=this,W,H,T,l,k,p,t;return $jscomp.asyncExecutePromiseGeneratorProgram(function(w){fa=S.extend({},Y.options,fa);W=Y.fileAccess;H={href:null};p=jb.test(D.replace(y,""));null!=D&&"string"==typeof D&&p||S.error("Sanitize failure, invalid URI: "+S.stringValue(D));t=Za.test(D);return w.return(((k=fa.baseURL)&&!t&&(D.startsWith("/")||"/"===k[k.length-1]||(D="/"+D),D=k+D),l=(T=D.startsWith("file://"))||"file"===fa.mode||"http"!==
fa.mode&&!t&&W,T?D=D.slice(7):D.startsWith("//")&&("file"===fa.defaultProtocol?(D=D.slice(2),l=!0):D=(fa.defaultProtocol||"http")+":"+D),Object.defineProperty(H,"localFile",{value:!!l}),H.href=D,fa.target&&(H.target=fa.target+""),fa.rel&&(H.rel=fa.rel+""),"image"===fa.context&&fa.crossOrigin&&(H.crossOrigin=fa.crossOrigin+""),H))})}function db(D){return D?function(fa){return new Promise(function(Y,W){D.readFile(fa,function(H,T){H?W(H):Y(T)})})}:Eb}function Eb(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(D){S.error("No file system access.");
D.jumpToEnd()})}function qb(D){return D?function(fa,Y){var W=this,H,T,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress)return H=S.extend({},W.options.http,Y),T=Y&&Y.response,k.yield(D(fa,H),2);l=k.yieldResult;return k.return(l.ok?S.isFunction(l[T])?l[T]():l.text():S.error(l.status+""+l.statusText))})}:Ea}function Ea(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(D){S.error("No HTTP fetch method available.");D.jumpToEnd()})}function ab(D,fa){if(!D||
!D.length)return"unknown";for(var Y=D.length,W=J.length,H=J.map(function(w,O){return O+1}),T=void 0,l=void 0,k=0,p=0;k<Y;++k)for(l=fa?D[k][fa]:D[k],T=0;T<W;++T)if(H[T]&&null!=(t=l)&&t==t&&!J[T](l)&&(H[T]=0,++p,p===J.length))return"string";var t;return z[H.reduce(function(w,O){return 0===w?O:w},0)-1]}function fb(D,fa){return fa.reduce(function(Y,W){return Y[W]=ab(D,W),Y},{})}function Ja(D){return new Function("d","return {"+D.map(function(fa,Y){return JSON.stringify(fa)+": d["+Y+'] || ""'}).join(",")+
"}")}function ea(D){var fa=Object.create(null),Y=[];return D.forEach(function(W){for(var H in W)H in fa||Y.push(fa[H]=H)}),Y}function pa(D,fa){D+="";var Y=D.length;return Y<fa?Array(fa-Y+1).join(0)+D:D}function Ha(D){function fa(k,p){function t(){if(eb)return M;if(cb)return cb=!1,F;var Ka,Z,ra=ma;if(34===k.charCodeAt(ra)){for(;ma++<la&&34!==k.charCodeAt(ma)||34===k.charCodeAt(++ma););return(Ka=ma)>=la?eb=!0:10===(Z=k.charCodeAt(ma++))?cb=!0:13===Z&&(cb=!0,10===k.charCodeAt(ma)&&++ma),k.slice(ra+1,
Ka-1).replace(/""/g,'"')}for(;ma<la;){if(10===(Z=k.charCodeAt(Ka=ma++)))cb=!0;else if(13===Z)cb=!0,10===k.charCodeAt(ma)&&++ma;else if(Z!==l)continue;return k.slice(ra,Ka)}return eb=!0,k.slice(ra,la)}var w,O=[],la=k.length,ma=0,ua=0,eb=0>=la,cb=!1;10===k.charCodeAt(la-1)&&--la;for(13===k.charCodeAt(la-1)&&--la;(w=t())!==M;){for(var Ba=[];w!==F&&w!==M;)Ba.push(w),w=t();p&&null==(Ba=p(Ba,ua++))||O.push(Ba)}return O}function Y(k,p){return k.map(function(t){return p.map(function(w){return H(t[w])}).join(D)})}
function W(k){return k.map(H).join(D)}function H(k){if(null==k)var p="";else{if(k instanceof Date){var t=k.getUTCHours();var w=k.getUTCMinutes(),O=k.getUTCSeconds(),la=k.getUTCMilliseconds();t=isNaN(k)?"Invalid Date":(0>(p=k.getUTCFullYear())?"-"+pa(-p,6):9999<p?"+"+pa(p,6):pa(p,4))+"-"+pa(k.getUTCMonth()+1,2)+"-"+pa(k.getUTCDate(),2)+(la?"T"+pa(t,2)+":"+pa(w,2)+":"+pa(O,2)+"."+pa(la,3)+"Z":O?"T"+pa(t,2)+":"+pa(w,2)+":"+pa(O,2)+"Z":w||t?"T"+pa(t,2)+":"+pa(w,2)+"Z":"")}else t=T.test(k+="")?'"'+k.replace(/"/g,
'""')+'"':k;p=t}return p}var T=new RegExp('["'+D+"\n\r]"),l=D.charCodeAt(0);return{parse:function(k,p){var t,w;k=fa(k,function(O,la){if(t)return t(O,la-1);w=O;t=p?function(ma,ua){var eb=Ja(ma);return function(cb,Ba){return ua(eb(cb),Ba,ma)}}(O,p):Ja(O)});return k.columns=w||[],k},parseRows:fa,format:function(k,p){return null==p&&(p=ea(k)),[p.map(H).join(D)].concat(Y(k,p)).join("\n")},formatBody:function(k,p){return null==p&&(p=ea(k)),Y(k,p).join("\n")},formatRows:function(k){return k.map(W).join("\n")},
formatRow:W,formatValue:H}}function Wa(D){var fa=function(Y,W){var H={delimiter:D};return ja(Y,W?S.extend(W,H):H)};return fa.responseType="text",fa}function ja(D,fa){return fa.header&&(D=fa.header.map(S.stringValue).join(fa.delimiter)+"\n"+D),Ha(fa.delimiter).parse(D+"")}function ba(D,fa){var Y=fa&&fa.property?S.field(fa.property):S.identity;!S.isObject(D)||(W=D,"function"==typeof n&&S.isFunction(n.isBuffer)&&n.isBuffer(W))?fa=Y(JSON.parse(D)):(D=Y(D),!S.isArray(D)&&S.isIterable(D)&&(D=[].concat($jscomp.arrayFromIterable(D))),
fa=fa&&fa.copy?JSON.parse(JSON.stringify(D)):D);return fa;var W}function Ra(D){return D}function xa(D,fa){return"string"==typeof fa&&(fa=D.objects[fa]),"GeometryCollection"===fa.type?{type:"FeatureCollection",features:fa.geometries.map(function(Y){return Oa(D,Y)})}:Oa(D,fa)}function Oa(D,fa){var Y=fa.id,W=fa.bbox,H=null==fa.properties?{}:fa.properties;D=za(D,fa);return null==Y&&null==W?{type:"Feature",properties:H,geometry:D}:null==W?{type:"Feature",id:Y,properties:H,geometry:D}:{type:"Feature",id:Y,
bbox:W,properties:H,geometry:D}}function za(D,fa){function Y(p){return l(p)}function W(p){for(var t=[],w=0,O=p.length;w<O;++w){var la,ma=p[w],ua=t;ua.length&&ua.pop();var eb=k[0>ma?~ma:ma],cb=0;for(la=eb.length;cb<la;++cb)ua.push(l(eb[cb],cb));if(0>ma)for(ma=ua.length,eb=ma-la;eb<--ma;)la=ua[eb],ua[eb++]=ua[ma],ua[ma]=la}return 2>t.length&&t.push(t[0]),t}function H(p){for(p=W(p);4>p.length;)p.push(p[0]);return p}function T(p){return p.map(H)}var l=function(p){if(null==p)return Ra;var t,w,O=p.scale[0],
la=p.scale[1],ma=p.translate[0],ua=p.translate[1];return function(eb,cb){cb||(t=w=0);cb=2;var Ba=eb.length,Ka=Array(Ba);Ka[0]=(t+=eb[0])*O+ma;for(Ka[1]=(w+=eb[1])*la+ua;cb<Ba;)Ka[cb]=eb[cb],++cb;return Ka}}(D.transform),k=D.arcs;return function w(t){var O=t.type;switch(O){case "GeometryCollection":return{type:O,geometries:t.geometries.map(w)};case "Point":t=l(t.coordinates);break;case "MultiPoint":t=t.coordinates.map(Y);break;case "LineString":t=W(t.arcs);break;case "MultiLineString":t=t.arcs.map(W);
break;case "Polygon":t=T(t.arcs);break;case "MultiPolygon":t=t.arcs.map(T);break;default:return null}return{type:O,coordinates:t}}(fa)}function ia(D,fa){function Y(p,t){for(var w in p){var O=p[w];delete t[O.start];delete O.start;delete O.end;O.forEach(function(la){W[0>la?~la:la]=1});l.push(O)}}var W={},H={},T={},l=[],k=-1;return fa.forEach(function(p,t){var w,O=D.arcs[0>p?~p:p];3>O.length&&!O[1][0]&&!O[1][1]&&(w=fa[++k],fa[k]=p,fa[t]=w)}),fa.forEach(function(p){var t=function(la){var ma,ua=D.arcs[0>
la?~la:la],eb=ua[0];D.transform?(ma=[0,0],ua.forEach(function(cb){ma[0]+=cb[0];ma[1]+=cb[1]})):ma=ua[ua.length-1];return 0>la?[ma,eb]:[eb,ma]}(p);var w=t[0],O=t[1];(t=T[w])?(delete T[t.end],t.push(p),t.end=O,p=H[O])?(delete H[p.start],w=p===t?t:t.concat(p),H[w.start=t.start]=T[w.end=p.end]=w):H[t.start]=T[t.end]=t:(t=H[O])?(delete H[t.start],t.unshift(p),t.start=w,p=T[w])?(delete T[p.end],w=p===t?t:p.concat(t),H[w.start=p.start]=T[w.end=t.end]=w):H[t.start]=T[t.end]=t:H[(t=[p]).start=w]=T[t.end=O]=
t}),Y(T,H),Y(H,T),fa.forEach(function(p){W[0>p?~p:p]||l.push([p])}),l}function wa(D){return za(D,sa.apply(this,arguments))}function sa(D,fa,Y){var W;if(1<arguments.length)var H=qa(D,fa,Y);else{var T=0;for(H=Array(W=D.arcs.length);T<W;++T)H[T]=T}return{type:"MultiLineString",arcs:ia(D,H)}}function qa(D,fa,Y){function W(t){var w=0>t?~t:t;(p[w]||(p[w]=[])).push({i:t,g:l})}function H(t){t.forEach(W)}function T(t){t.forEach(H)}var l,k=[],p=[];return function O(w){switch(l=w,w.type){case "GeometryCollection":w.geometries.forEach(O);
break;case "LineString":H(w.arcs);break;case "MultiLineString":case "Polygon":T(w.arcs);break;case "MultiPolygon":w.arcs.forEach(T),!0}}(fa),p.forEach(null==Y?function(w){k.push(w[0].i)}:function(w){Y(w[0].g,w[w.length-1].g)&&k.push(w[0].i)}),k}function Fa(D,fa){var Y,W,H,T;return D=ba(D,fa),fa&&fa.feature?(Y=xa,H=fa.feature):fa&&fa.mesh?(Y=wa,H=fa.mesh,T=ka[fa.filter]):S.error("Missing TopoJSON feature or mesh parameter."),W=(W=D.objects[H])?Y(D,W,T):S.error("Invalid TopoJSON object: "+H),W&&W.features||
[W]}function Ca(D,fa){return 1<arguments.length?(Ia[D]=fa,this):S.hasOwnProperty(Ia,D)?Ia[D]:null}var Za=/^([A-Za-z]+:)?\/\//,jb=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,y=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,x=function(D){return!(Number.isNaN(+D)||D instanceof Date)},G={boolean:S.toBoolean,integer:S.toNumber,number:S.toNumber,date:S.toDate,string:S.toString,unknown:S.identity},J=[function(D){return"true"===D||"false"===
D||!0===D||!1===D},function(D){return x(D)&&Number.isInteger(+D)},x,function(D){return!Number.isNaN(Date.parse(D))}],z=["boolean","integer","number","date"],F={},M={};ja.responseType="text";ba.responseType="json";var ka={interior:function(D,fa){return D!==fa},exterior:function(D,fa){return D===fa}};Fa.responseType="json";var Ia={dsv:ja,csv:Wa(","),tsv:Wa("\t"),json:ba,topojson:Fa},Ta=function(D,fa){return function(Y){return{options:Y||{},sanitize:Ma,load:Kb,fileAccess:!!fa,file:db(fa),http:qb(D)}}}("undefined"!=
typeof fetch&&fetch,null);q.format=Ia;q.formats=Ca;q.inferType=ab;q.inferTypes=fb;q.loader=Ta;q.read=function(D,fa,Y,W){var H=Ca((fa=fa||{}).type||"json");return H||S.error("Unknown data format type: "+fa.type),D=H(D,fa),fa.parse&&function(T,l,k,p){if(T.length){var t=Pa.timeFormatDefaultLocale();k=k||t.timeParse;p=p||t.utcParse;var w,O,la=T.columns||Object.keys(T[0]);"auto"===l&&(l=fb(T,la));la=Object.keys(l);var ma=la.map(function(Ba){var Ka=l[Ba];if(Ka&&(Ka.startsWith("date:")||Ka.startsWith("utc:")))return Ba=
Ka.split(/:(.+)?/,2),Ka=Ba[1],("'"===Ka[0]&&"'"===Ka[Ka.length-1]||'"'===Ka[0]&&'"'===Ka[Ka.length-1])&&(Ka=Ka.slice(1,-1)),("utc"===Ba[0]?p:k)(Ka);if(!G[Ka])throw Error("Illegal format pattern: "+Ba+":"+Ka);return G[Ka]});var ua=0;var eb=T.length;for(O=la.length;ua<eb;++ua)for(t=T[ua],w=0;w<O;++w){var cb=la[w];t[cb]=ma[w](t[cb])}}}(D,fa.parse,Y,W),S.hasOwnProperty(D,"columns")&&delete D.columns,D};q.responseType=function(D){return(D=Ca(D))&&D.responseType||"text"};q.typeParsers=G;Object.defineProperty(q,
"__esModule",{value:!0})})};
shadow$provide[12]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(11),sb(6)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa){function Kb(D){var fa=D||q.identity,Y=[],W={};Y.add=function(H){var T=fa(H);W[T]||(W[T]=1,Y.push(H));return Y};Y.remove=function(H){var T=fa(H);W[T]&&(W[T]=0,
H=Y.indexOf(H),0<=H&&Y.splice(H,1));return Y};return Y}function Ma(D,fa){var Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(W){if(1==W.nextAddress)return W.setCatchFinallyBlocks(2),W.yield(fa(D),4);if(2!=W.nextAddress)return W.leaveTryBlock(0);Y=W.enterCatchBlock();D.error(Y);W.jumpToEnd()})}function db(D){D=D===Object(D)?D:{data:D};if(!D[x]){var fa=G++;D[x]=fa}return D}function Eb(D,fa){for(var Y in D)fa[Y]=D[Y];return fa}function qb(D){return D&&D.constructor===Ea}function Ea(){var D=
[],fa=[],Y=[],W=[],H=[],T=null,l=!1;return{constructor:Ea,insert:function(k){k=q.array(k);for(var p=k.length,t=0;t<p;++t)D.push(k[t]);return this},remove:function(k){var p=q.isFunction(k)?W:fa;k=q.array(k);for(var t=k.length,w=0;w<t;++w)p.push(k[w]);return this},modify:function(k,p,t){p={field:p,value:q.constant(t)};q.isFunction(k)?(p.filter=k,H.push(p)):(p.tuple=k,Y.push(p));return this},encode:function(k,p){q.isFunction(k)?H.push({filter:k,field:p}):Y.push({tuple:k,field:p});return this},clean:function(k){T=
k;return this},reflow:function(){l=!0;return this},pulse:function(k,p){function t(Ka,Z,ra){ra?Ka[Z]=ra(Ka):k.encode=Z;l||(O[Ka[x]]=Ka)}var w={},O={},la;var ma=0;for(la=p.length;ma<la;++ma)w[p[ma][x]]=1;ma=0;for(la=fa.length;ma<la;++ma){var ua=fa[ma];w[ua[x]]=-1}ma=0;for(la=W.length;ma<la;++ma){var eb=W[ma];p.forEach(function(Ka){eb(Ka)&&(w[Ka[x]]=-1)})}ma=0;for(la=D.length;ma<la;++ma){ua=D[ma];var cb=ua[x];w[cb]?w[cb]=1:k.add.push(db(D[ma]))}ma=0;for(la=p.length;ma<la;++ma)ua=p[ma],0>w[ua[x]]&&k.rem.push(ua);
ma=0;for(la=Y.length;ma<la;++ma){var Ba=Y[ma];ua=Ba.tuple;eb=Ba.field;cb=w[ua[x]];0<cb&&(t(ua,eb,Ba.value),k.modifies(eb))}ma=0;for(la=H.length;ma<la;++ma)Ba=H[ma],eb=Ba.filter,p.forEach(function(Ka){eb(Ka)&&0<w[Ka[x]]&&t(Ka,Ba.field,Ba.value)}),k.modifies(Ba.field);if(l)k.mod=fa.length||W.length?p.filter(function(Ka){return 0<w[Ka[x]]}):p.slice();else for(cb in O)k.mod.push(O[cb]);(T||null==T&&(fa.length||W.length))&&k.clean(!0);return k}}}function ab(){Object.defineProperty(this,"_:mod:_",{writable:!0,
value:{}})}function fb(D,fa,Y,W){this.id=++J;this.value=D;this.qrank=this.rank=this.stamp=-1;this.flags=0;fa&&(this._update=fa);Y&&this.parameters(Y,W)}function Ja(D){return function(fa){var Y=this.flags;if(0===arguments.length)return!!(Y&D);this.flags=fa?Y|D:Y&~D;return this}}function ea(D,fa,Y){this.id=++F;this.value=null;Y&&(this.receive=Y);D&&(this._filter=D);fa&&(this._apply=fa)}function pa(D,fa,Y){return new ea(D,fa,Y)}function Ha(D){var fa,Y=new Promise(function(W){return fa=W});Y.requests=
0;Y.done=function(){0===--Y.requests&&(D._pending=null,fa(D))};return D._pending=Y}function Wa(D,fa,Y,W,H,T){var l=q.extend({},T,M);q.isFunction(Y)||(Y=q.constant(Y));if(void 0===W)H=function(p){return D.touch(Y(p))};else if(q.isFunction(W)){var k=new fb(null,W,H,!1);H=function(p){k.evaluate(p);p=Y(p);var t=k.value;qb(t)?D.pulse(p,t,T):D.update(p,t,l)}}else H=function(p){return D.update(Y(p),W,l)};fa.apply(H)}function ja(D,fa,Y,W,H,T){void 0===W?fa.targets().add(Y):(T=T||{},W=new fb(null,ba(Y,W),
H,!1),W.modified(T.force),W.rank=fa.rank,fa.targets().add(W),Y&&(W.skip(!0),W.value=Y.value,W.targets().add(Y),D.connect(Y,[W])))}function ba(D,fa){fa=q.isFunction(fa)?fa:q.constant(fa);return D?function(Y,W){Y=fa(Y,W);D.skip()||(D.skip(Y!==this.value).value=Y);return Y}:fa}function Ra(D,fa,Y){this.dataflow=D;this.stamp=null==fa?-1:fa;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Y||null}function xa(D,fa){var Y=[];q.visitArray(D,fa,function(W){return Y.push(W)});return Y}function Oa(D,
fa){var Y={};D.visit(fa,function(W){Y[W[x]]=1});return function(W){return Y[W[x]]?null:W}}function za(D,fa){return D?function(Y,W){return D(Y,W)&&fa(Y,W)}:fa}function ia(D,fa,Y,W){var H=Y.length,T=0;this.dataflow=D;this.stamp=fa;this.fields=null;this.encode=W||null;this.pulses=Y;for(D=0;D<H;++D)if(W=Y[D],W.stamp===fa){if(W.fields){var l=this.fields||(this.fields={}),k;for(k in W.fields)l[k]=1}W.changed(this.ADD)&&(T|=this.ADD);W.changed(this.REM)&&(T|=this.REM);W.changed(this.MOD)&&(T|=this.MOD)}this.changes=
T}function wa(D){D.error("Dataflow already running. Use runAsync() to chain invocations.");return D}function sa(D,fa){if(fa&&fa.stamp===D.stamp)return fa;D=D.fork();fa&&fa!==ka&&(D.source=fa.source);return D}function qa(D){var fa=[];return{clear:function(){return fa=[]},size:function(){return fa.length},peek:function(){return fa[0]},push:function(Y){fa.push(Y);return Fa(fa,0,fa.length-1,D)},pop:function(){var Y=fa.pop();if(fa.length){var W=fa[0];fa[0]=Y;Y=fa;for(var H=0,T=H,l=Y.length,k=Y[H],p=(H<<
1)+1,t;p<l;)t=p+1,t<l&&0<=D(Y[p],Y[t])&&(p=t),Y[H]=Y[p],H=p,p=(H<<1)+1;Y[H]=k;Fa(Y,T,H,D)}else W=Y;return W}}}function Fa(D,fa,Y,W){for(var H,T,l=D[Y];Y>fa;)if(T=Y-1>>1,H=D[T],0>W(l,H))D[Y]=H,Y=T;else break;return D[Y]=l}function Ca(){this.logger(q.logger());this.logLevel(q.Error);this._rank=this._clock=0;this._locale=Pa.defaultLocale();try{this._loader=S.loader()}catch(D){}this._touched=Kb(q.id);this._input={};this._pulse=null;this._heap=qa(function(D,fa){return D.qrank-fa.qrank});this._postrun=
[]}function Za(D){return function(){return this._log[D].apply(this,arguments)}}function jb(D,fa){fb.call(this,D,null,fa)}function y(D){D=D&&D.toLowerCase();return q.hasOwnProperty(Ta,D)?Ta[D]:null}var x=Symbol("vega_id"),G=1;ab.prototype={set:function(D,fa,Y,W){var H=this[D],T=this["_:mod:_"];if(null!=fa&&0<=fa){if(H[fa]!==Y||W)H[fa]=Y,T[fa+":"+D]=-1,T[D]=-1}else if(H!==Y||W)this[D]=Y,T[D]=q.isArray(Y)?1+Y.length:-1;return this},modified:function(D,fa){var Y=this["_:mod:_"];if(!arguments.length){for(var W in Y)if(Y[W])return!0;
return!1}if(q.isArray(D)){for(W=0;W<D.length;++W)if(Y[D[W]])return!0;return!1}return null!=fa&&0<=fa?fa+1<Y[D]||!!Y[fa+":"+D]:!!Y[D]},clear:function(){this["_:mod:_"]={};return this}};var J=0,z=new ab;fb.prototype={targets:function(){return this._targets||(this._targets=Kb(q.id))},set:function(D){return this.value!==D?(this.value=D,1):0},skip:Ja(1),modified:Ja(2),parameters:function(D,fa,Y){var W=this;fa=!1!==fa;var H=this._argval=this._argval||new ab,T=this._argops=this._argops||[],l=[],k,p,t,w=
function(la,ma,ua){ua instanceof fb?(ua!==W&&(fa&&ua.targets().add(W),l.push(ua)),T.push({op:ua,name:la,index:ma})):H.set(la,ma,ua)};for(k in D){var O=D[k];if("pulse"===k)q.array(O).forEach(function(la){la instanceof fb?la!==W&&(la.targets().add(W),l.push(la)):q.error("Pulse parameters must be operator instances.")}),this.source=O;else if(q.isArray(O))for(H.set(k,-1,Array(p=O.length)),t=0;t<p;++t)w(k,t,O[t]);else w(k,-1,O)}this.marshall().clear();Y&&(T.initonly=!0);return l},marshall:function(D){var fa=
this._argval||z,Y=this._argops,W;if(Y){var H=Y.length;for(W=0;W<H;++W){var T=Y[W];var l=T.op;var k=l.modified()&&l.stamp===D;fa.set(T.name,T.index,l.value,k)}if(Y.initonly){for(W=0;W<H;++W)T=Y[W],T.op.targets().remove(this);this._update=this._argops=null}}return fa},detach:function(){var D=this._argops,fa;if(D){var Y=0;for(fa=D.length;Y<fa;++Y){var W=D[Y];W=W.op;W._targets&&W._targets.remove(this)}}},evaluate:function(D){var fa=this._update;if(fa){var Y=this.marshall(D.stamp);fa=fa.call(this,Y,D);
Y.clear();if(fa!==this.value)this.value=fa;else if(!this.modified())return D.StopPropagation}},run:function(D){if(D.stamp<this.stamp)return D.StopPropagation;if(this.skip()){this.skip(!1);var fa=0}else fa=this.evaluate(D);return this.pulse=fa||D}};var F=0;ea.prototype={_filter:q.truthy,_apply:q.identity,targets:function(){return this._targets||(this._targets=Kb(q.id))},consume:function(D){if(!arguments.length)return!!this._consume;this._consume=!!D;return this},receive:function(D){if(this._filter(D)){for(var fa=
this.value=this._apply(D),Y=this._targets,W=Y?Y.length:0,H=0;H<W;++H)Y[H].receive(fa);this._consume&&(D.preventDefault(),D.stopPropagation())}},filter:function(D){D=pa(D);this.targets().add(D);return D},apply:function(D){D=pa(null,D);this.targets().add(D);return D},merge:function(){var D=pa();this.targets().add(D);for(var fa=0,Y=arguments.length;fa<Y;++fa)arguments[fa].targets().add(D);return D},throttle:function(D){var fa=-1;return this.filter(function(){var Y=Date.now();return Y-fa>D?(fa=Y,1):0})},
debounce:function(D){var fa=pa();this.targets().add(pa(null,null,q.debounce(D,function(Y){var W=Y.dataflow;fa.receive(Y);W&&W.run&&W.run()})));return fa},between:function(D,fa){var Y=!1;D.targets().add(pa(null,null,function(){return Y=!0}));fa.targets().add(pa(null,null,function(){return Y=!1}));return this.filter(function(){return Y})},detach:function(){}};var M={skip:!0},ka={};Ra.prototype={StopPropagation:ka,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,
fork:function(D){return(new Ra(this.dataflow)).init(this,D)},clone:function(){var D=this.fork(7);D.add=D.add.slice();D.rem=D.rem.slice();D.mod=D.mod.slice();D.source&&(D.source=D.source.slice());return D.materialize(23)},addAll:function(){var D=this;D.source&&D.add!==D.rem&&(D.rem.length||D.source.length!==D.add.length)&&(D=(new Ra(this.dataflow)).init(this),D.add=D.source,D.rem=[]);return D},init:function(D,fa){this.stamp=D.stamp;this.encode=D.encode;!D.fields||fa&64||(this.fields=D.fields);fa&1?
(this.addF=D.addF,this.add=D.add):(this.addF=null,this.add=[]);fa&2?(this.remF=D.remF,this.rem=D.rem):(this.remF=null,this.rem=[]);fa&4?(this.modF=D.modF,this.mod=D.mod):(this.modF=null,this.mod=[]);fa&32?this.source=this.srcF=null:(this.srcF=D.srcF,this.source=D.source,D.cleans&&(this.cleans=D.cleans));return this},runAfter:function(D){this.dataflow.runAfter(D)},changed:function(D){D=D||7;return D&1&&this.add.length||D&2&&this.rem.length||D&4&&this.mod.length},reflow:function(D){if(D)return this.fork(7).reflow();
D=this.add.length;var fa=this.source&&this.source.length;fa&&fa!==D&&(this.mod=this.source,D&&this.filter(4,Oa(this,1)));return this},clean:function(D){return arguments.length?(this.cleans=!!D,this):this.cleans},modifies:function(D){var fa=this.fields||(this.fields={});q.isArray(D)?D.forEach(function(Y){return fa[Y]=!0}):fa[D]=!0;return this},modified:function(D,fa){var Y=this.fields;return(fa||this.mod.length)&&Y?arguments.length?q.isArray(D)?D.some(function(W){return Y[W]}):Y[D]:!!Y:!1},filter:function(D,
fa){D&1&&(this.addF=za(this.addF,fa));D&2&&(this.remF=za(this.remF,fa));D&4&&(this.modF=za(this.modF,fa));D&16&&(this.srcF=za(this.srcF,fa));return this},materialize:function(D){D=D||7;D&1&&this.addF&&(this.add=xa(this.add,this.addF),this.addF=null);D&2&&this.remF&&(this.rem=xa(this.rem,this.remF),this.remF=null);D&4&&this.modF&&(this.mod=xa(this.mod,this.modF),this.modF=null);D&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit:function(D,fa){if(D&16)return q.visitArray(this.source,
this.srcF,fa),this;D&1&&q.visitArray(this.add,this.addF,fa);D&2&&q.visitArray(this.rem,this.remF,fa);D&4&&q.visitArray(this.mod,this.modF,fa);var Y=this.source;D&8&&Y&&(D=this.add.length+this.mod.length,D!==Y.length&&(D?q.visitArray(Y,Oa(this,5),fa):q.visitArray(Y,this.srcF,fa)));return this}};q.inherits(ia,Ra,{fork:function(D){var fa=(new Ra(this.dataflow)).init(this,D&this.NO_FIELDS);void 0!==D&&(D&fa.ADD&&this.visit(fa.ADD,function(Y){return fa.add.push(Y)}),D&fa.REM&&this.visit(fa.REM,function(Y){return fa.rem.push(Y)}),
D&fa.MOD&&this.visit(fa.MOD,function(Y){return fa.mod.push(Y)}));return fa},changed:function(D){return this.changes&D},modified:function(D){var fa=this.fields;return fa&&this.changes&this.MOD?q.isArray(D)?D.some(function(Y){return fa[Y]}):fa[D]:0},filter:function(){q.error("MultiPulse does not support filtering.")},materialize:function(){q.error("MultiPulse does not support materialization.")},visit:function(D,fa){var Y=this.pulses,W=Y.length,H=0;if(D&this.SOURCE)for(;H<W;++H)Y[H].visit(D,fa);else for(;H<
W;++H)Y[H].stamp===this.stamp&&Y[H].visit(D,fa);return this}});var Ia={skip:!1,force:!1};Ca.prototype={stamp:function(){return this._clock},loader:function(D){return arguments.length?(this._loader=D,this):this._loader},locale:function(D){return arguments.length?(this._locale=D,this):this._locale},logger:function(D){return arguments.length?(this._log=D,this):this._log},error:Za("error"),warn:Za("warn"),info:Za("info"),debug:Za("debug"),logLevel:Za("level"),cleanThreshold:1E4,add:function(D,fa,Y,W){var H=
1;D instanceof fb||(D&&D.prototype instanceof fb?D=new D:q.isFunction(D)?D=new fb(null,D):(H=0,D=new fb(D,fa)));this.rank(D);H&&(W=Y,Y=fa);Y&&this.connect(D,D.parameters(Y,W));this.touch(D);return D},connect:function(D,fa){for(var Y=D.rank,W=fa.length,H=0;H<W;++H)if(Y<fa[H].rank){this.rerank(D);break}},rank:function(D){D.rank=++this._rank},rerank:function(D){for(var fa=[D],Y,W,H;fa.length;)if(this.rank(Y=fa.pop()),W=Y._targets)for(H=W.length;0<=--H;)fa.push(Y=W[H]),Y===D&&q.error("Cycle detected in dataflow graph.")},
pulse:function(D,fa,Y){this.touch(D,Y||Ia);Y=new Ra(this,this._clock+(this._pulse?0:1));var W=D.pulse&&D.pulse.source||[];Y.target=D;this._input[D.id]=fa.pulse(Y,W);return this},touch:function(D,fa){fa=fa||Ia;this._pulse?this._enqueue(D):this._touched.add(D);fa.skip&&D.skip(!0);return this},update:function(D,fa,Y){Y=Y||Ia;(D.set(fa)||Y.force)&&this.touch(D,Y);return this},changeset:Ea,ingest:function(D,fa,Y){fa=this.parse(fa,Y);return this.pulse(D,this.changeset().insert(fa))},parse:function(D,fa){var Y=
this.locale();return S.read(D,fa,Y.timeParse,Y.utcParse)},preload:function(D,fa,Y){var W=this,H,T,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress)return H=W,T=H._pending||Ha(H),T.requests+=1,k.yield(H.request(fa,Y),2);l=k.yieldResult;H.pulse(D,H.changeset().remove(q.truthy).insert(l.data||[]));T.done();return k.return(l)})},request:function(D,fa){var Y=this,W,H,T,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){switch(k.nextAddress){case 1:return W=
Y,H=0,k.setCatchFinallyBlocks(2),k.yield(W.loader().load(D,{context:"dataflow",response:S.responseType(fa&&fa.type)}),4);case 4:T=k.yieldResult;try{T=W.parse(T,fa)}catch(p){H=-2,W.warn("Data ingestion failed",D,p)}k.leaveTryBlock(3);break;case 2:l=k.enterCatchBlock(),H=-1,W.warn("Loading failed",D,l);case 3:return k.return({data:T,status:H})}})},events:function(D,fa,Y,W){var H=this,T=pa(Y,W);Y=function(k){k.dataflow=H;try{T.receive(k)}catch(p){H.error(p)}finally{H.run()}};D="string"===typeof D&&"undefined"!==
typeof document?document.querySelectorAll(D):q.array(D);W=D.length;for(var l=0;l<W;++l)D[l].addEventListener(fa,Y);return T},on:function(D,fa,Y,W,H){(D instanceof fb?ja:Wa)(this,D,fa,Y,W,H);return this},evaluate:function(D,fa,Y){var W=this,H,T,l,k,p,t,w,O,la,ma;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ua){switch(ua.nextAddress){case 1:H=W;T=[];if(H._pulse)return ua.return(wa(H));if(!H._pending){ua.jumpTo(2);break}return ua.yield(H._pending,2);case 2:if(!fa){ua.jumpTo(4);break}return ua.yield(Ma(H,
fa),4);case 4:if(!H._touched.length)return H.debug("Dataflow invoked, but nothing to do."),ua.return(H);l=++H._clock;H._pulse=new Ra(H,l,D);H._touched.forEach(function(eb){return H._enqueue(eb,!0)});H._touched=Kb(q.id);k=0;ua.setCatchFinallyBlocks(6);case 8:if(!(0<H._heap.size())){ua.leaveTryBlock(7);break}p=H._heap.pop();if(p.rank!==p.qrank){H._enqueue(p,!0);ua.jumpTo(8);break}t=p.run(H._getPulse(p,D));if(!t.then){t.async&&(T.push(t.async),t=ka);ua.jumpTo(10);break}return ua.yield(t,11);case 11:t=
ua.yieldResult;case 10:t!==ka&&p._targets&&p._targets.forEach(function(eb){return H._enqueue(eb)});++k;ua.jumpTo(8);break;case 6:O=ua.enterCatchBlock(),H._heap.clear(),w=O;case 7:H._input={};H._pulse=null;H.debug("Pulse "+l+": "+k+" operators");w&&(H._postrun=[],H.error(w));if(!H._postrun.length){ua.jumpTo(12);break}la=H._postrun.sort(function(eb,cb){return cb.priority-eb.priority});H._postrun=[];ma=0;case 13:if(!(ma<la.length)){ua.jumpTo(12);break}return ua.yield(Ma(H,la[ma].callback),14);case 14:++ma;
ua.jumpTo(13);break;case 12:if(!Y){ua.jumpTo(17);break}return ua.yield(Ma(H,Y),17);case 17:return T.length&&Promise.all(T).then(function(eb){return H.runAsync(null,function(){eb.forEach(function(cb){try{cb(H)}catch(Ba){H.error(Ba)}})})}),ua.return(H)}})},run:function(D,fa,Y){return this._pulse?wa(this):(this.evaluate(D,fa,Y),this)},runAsync:function(D,fa,Y){var W=this,H;return $jscomp.asyncExecutePromiseGeneratorProgram(function(T){if(1==T.nextAddress)return W._running?T.yield(W._running,1):T.jumpTo(3);
H=function(){return W._running=null};(W._running=W.evaluate(D,fa,Y)).then(H,H);return T.return(W._running)})},runAfter:function(D,fa,Y){if(this._pulse||fa)this._postrun.push({priority:Y||0,callback:D});else try{D(this)}catch(W){this.error(W)}},_enqueue:function(D,fa){var Y=D.stamp<this._clock;Y&&(D.stamp=this._clock);if(Y||fa)D.qrank=D.rank,this._heap.push(D)},_getPulse:function(D,fa){var Y=D.source,W=this._clock;return Y&&q.isArray(Y)?new ia(this,W,Y.map(function(H){return H.pulse}),fa):this._input[D.id]||
sa(this._pulse,Y&&Y.pulse)}};q.inherits(jb,fb,{run:function(D){var fa=this;if(D.stamp<this.stamp)return D.StopPropagation;var Y;this.skip()?this.skip(!1):Y=this.evaluate(D);Y=Y||D;Y.then?Y=Y.then(function(W){return fa.pulse=W}):Y!==D.StopPropagation&&(this.pulse=Y);return Y},evaluate:function(D){var fa=this.marshall(D.stamp);D=this.transform(fa,D);fa.clear();return D},transform:function(){}});var Ta={};n.Dataflow=Ca;n.EventStream=ea;n.MultiPulse=ia;n.Operator=fb;n.Parameters=ab;n.Pulse=Ra;n.Transform=
jb;n.UniqueList=Kb;n.asyncCallback=Ma;n.changeset=Ea;n.definition=function(D){return(D=y(D))&&D.Definition||null};n.derive=function(D){return Eb(D,db({}))};n.ingest=db;n.isChangeSet=qb;n.isTuple=function(D){return!(!D||!D[x])};n.rederive=Eb;n.replace=function(D,fa){fa[x]=D[x];return fa};n.stableCompare=function(D,fa){return D?fa?function(Y,W){return D(Y,W)||fa(Y)[x]-fa(W)[x]}:function(Y,W){return D(Y,W)||Y[x]-W[x]}:null};n.transform=y;n.transforms=Ta;n.tupleid=function(D){return D[x]};Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[13]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(1)):"function"===typeof define&&define.amd?define(["exports","d3-array"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.d3))})(this,function(n,q){function S(x,G){var J,z,F,M,ka,Ia;return $jscomp.generator.createGenerator(S,function(Ta){switch(Ta.nextAddress){case 1:if(null==G){Ta.jumpTo(2);break}J=-1;z=$jscomp.makeIterator(x);F=z.next();case 4:if(F.done){Ta.jumpTo(0);
break}M=F.value;M=G(M,++J,x);if(!(null!=M&&""!==M&&(M=+M)>=M)){Ta.jumpTo(5);break}return Ta.yield(M,5);case 5:F=z.next();Ta.jumpTo(4);break;case 2:ka=$jscomp.makeIterator(x),F=ka.next();case 9:if(F.done){Ta.jumpTo(0);break}Ia=F.value;if(!(null!=Ia&&""!==Ia&&(Ia=+Ia)>=Ia)){Ta.jumpTo(10);break}return Ta.yield(Ia,10);case 10:F=ka.next(),Ta.jumpTo(9)}})}function Pa(x,G,J){var z=Float64Array.from(S(x,J));z.sort(q.ascending);return G.map(function(F){return q.quantileSorted(z,F)})}function Kb(x,G){return Pa(x,
[.25,.5,.75],G)}function Ma(x,G){var J=x.length,z=q.deviation(x,G);x=Kb(x,G);return 1.06*(Math.min(z,(x[2]-x[0])/1.34)||z||Math.abs(x[0])||1)*Math.pow(J,-.2)}function db(x,G){for(var J=x.length,z=0,F=1,M,ka;x[z]===x[F];)++F;for(;F<J;){for(M=F+1;x[F]===x[M];)++M;if(x[F]-x[F-1]<G){for(ka=F+(z+M-F-F>>1);ka<F;)x[ka++]=x[F];for(;ka>F;)x[ka--]=x[z]}z=F;F=M}return x}function Eb(x,G){x=x||0;G=null==G?1:G;if(jb===jb){var J=jb;jb=NaN}else{do{J=2*n.random()-1;var z=2*n.random()-1;var F=J*J+z*z}while(0===F||
1<F);F=Math.sqrt(-2*Math.log(F)/F);J*=F;jb=z*F}return x+J*G}function qb(x,G,J){J=null==J?1:J;x=(x-(G||0))/J;return Math.exp(-.5*x*x)/(J*Ca)}function Ea(x,G,J){x=(x-(G||0))/(null==J?1:J);G=Math.abs(x);37<G?G=0:(J=Math.exp(-G*G/2),G=7.07106781186547>G?J*((((((.0352624965998911*G+.700383064443688)*G+6.37396220353165)*G+33.912866078383)*G+112.079291497871)*G+221.213596169931)*G+220.206867912376)/(((((((.0883883476483184*G+1.75566716318264)*G+16.064177579207)*G+86.7807322029461)*G+296.564248779674)*G+
637.333633378831)*G+793.826512519948)*G+440.413735824752):J/(G+1/(G+2/(G+3/(G+4/(G+.65)))))/2.506628274631);return 0<x?1-G:G}function ab(x,G,J){if(0>x||1<x)return NaN;x=2*x-1;var z=-Math.log((1-x)*(1+x));6.25>z?(z-=3.125,z=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+
(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):16>z?(z=Math.sqrt(z)-3.25,z=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+
(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):Number.isFinite(z)?(z=Math.sqrt(z)-5,z=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+
(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):z=Infinity;return(G||0)+(null==J?1:J)*Za*z*x}function fb(x,G){var J,z,F={mean:function(M){return arguments.length?(J=M||0,F):J},stdev:function(M){return arguments.length?(z=null==M?1:M,F):z},sample:function(){return Eb(J,z)},pdf:function(M){return qb(M,
J,z)},cdf:function(M){return Ea(M,J,z)},icdf:function(M){return ab(M,J,z)}};return F.mean(x).stdev(G)}function Ja(x,G){G=null==G?1:G;return Math.exp((x||0)+Eb()*G)}function ea(x,G,J){if(0>=x)return 0;J=null==J?1:J;G=(Math.log(x)-(G||0))/J;return Math.exp(-.5*G*G)/(J*Ca*x)}function pa(x,G,J){return Ea(Math.log(x),G,J)}function Ha(x,G,J){return Math.exp(ab(x,G,J))}function Wa(x,G){null==G&&(G=null==x?1:x,x=0);return x+(G-x)*n.random()}function ja(x,G,J){null==J&&(J=null==G?1:G,G=0);return x>=G&&x<=
J?1/(J-G):0}function ba(x,G,J){null==J&&(J=null==G?1:G,G=0);return x<G?0:x>J?1:(x-G)/(J-G)}function Ra(x,G,J){null==J&&(J=null==G?1:G,G=0);return 0<=x&&1>=x?G+x*(J-G):NaN}function xa(x,G,J,z){z-=x*x;J=1E-24>Math.abs(z)?0:(J-x*G)/z;return[G-J*x,J]}function Oa(x,G,J,z){x=x.filter(function(Y){var W=G(Y);Y=J(Y);return null!=W&&(W=+W)>=W&&null!=Y&&(Y=+Y)>=Y});z&&x.sort(function(Y,W){return G(Y)-G(W)});z=x.length;var F=new Float64Array(z),M=new Float64Array(z),ka=0,Ia=0,Ta=0,D;x=$jscomp.makeIterator(x);
for(D=x.next();!D.done;D=x.next()){var fa=D.value;F[ka]=D=+G(fa);M[ka]=fa=+J(fa);++ka;Ia+=(D-Ia)/ka;Ta+=(fa-Ta)/ka}for(ka=0;ka<z;++ka)F[ka]-=Ia,M[ka]-=Ta;return[F,M,Ia,Ta]}function za(x,G,J,z){var F=-1,M;x=$jscomp.makeIterator(x);for(M=x.next();!M.done;M=x.next()){var ka=M.value;M=G(ka);ka=J(ka);null!=M&&(M=+M)>=M&&null!=ka&&(ka=+ka)>=ka&&z(M,ka,++F)}}function ia(x,G,J,z,F){var M=0,ka=0;za(x,G,J,function(Ia,Ta){Ia=Ta-F(Ia);Ta-=z;M+=Ia*Ia;ka+=Ta*Ta});return 1-M/ka}function wa(x,G,J){var z=0,F=0,M=
0,ka=0,Ia=0;za(x,G,J,function(fa,Y){++Ia;z+=(fa-z)/Ia;F+=(Y-F)/Ia;M+=(fa*Y-M)/Ia;ka+=(fa*fa-ka)/Ia});var Ta=xa(z,F,M,ka),D=function(fa){return Ta[0]+Ta[1]*fa};return{coef:Ta,predict:D,rSquared:ia(x,G,J,F,D)}}function sa(x,G,J){var z=$jscomp.makeIterator(Oa(x,G,J)),F=z.next().value,M=z.next().value,ka=z.next().value,Ia=z.next().value,Ta=F.length,D=z=0,fa=0,Y=0,W=0,H;for(H=0;H<Ta;){var T=F[H];var l=M[H++];var k=T*T;z+=(k-z)/H;D+=(k*T-D)/H;fa+=(k*k-fa)/H;Y+=(T*l-Y)/H;W+=(k*l-W)/H}F=fa-z*z;M=z*F-D*D;
var p=(W*z-Y*D)/M,t=(Y*F-W*D)/M,w=-p*z;z=function(O){O-=ka;return p*O*O+t*O+w+Ia};return{coef:[w-t*ka+p*ka*ka+Ia,t-2*p*ka,p],predict:z,rSquared:ia(x,G,J,Ia,z)}}function qa(x,G,J,z){var F=Array(x),M;for(M=0;M<x;++M)F[M]=0;for(M=x-1;0<=M;--M){var ka=G[M];var Ia=1;F[M]+=ka;for(x=1;x<=M;++x)Ia*=(M+1-x)/x,F[M-x]+=ka*Math.pow(J,x)*Ia}F[0]+=z;return F}function Fa(x){var G=x.length-1,J=[],z,F,M;for(z=0;z<G;++z){var ka=z;for(F=z+1;F<G;++F)Math.abs(x[z][F])>Math.abs(x[z][ka])&&(ka=F);for(M=z;M<G+1;++M){var Ia=
x[M][z];x[M][z]=x[M][ka];x[M][ka]=Ia}for(F=z+1;F<G;++F)for(M=G;M>=z;M--)x[M][F]-=x[M][z]*x[z][F]/x[z][z]}for(F=G-1;0<=F;--F){Ia=0;for(M=F+1;M<G;++M)Ia+=x[M][F]*J[M];J[F]=(x[G][F]-Ia)/x[F][F]}return J}n.random=Math.random;var Ca=Math.sqrt(2*Math.PI),Za=Math.SQRT2,jb=NaN,y=.1*Math.PI/180;n.bandwidthNRD=Ma;n.bin=function(x){var G=x.maxbins||20,J=x.base||10,z=Math.log(J),F=x.divide||[5,2],M=x.extent[0],ka=x.extent[1],Ia,Ta=x.span||ka-M||Math.abs(M)||1;if(x.step)var D=x.step;else if(x.steps){var fa=Ta/
G;var Y=0;for(Ia=x.steps.length;Y<Ia&&x.steps[Y]<fa;++Y);D=x.steps[Math.max(0,Y-1)]}else{D=Math.ceil(Math.log(G)/z);var W=x.minstep||0;for(D=Math.max(W,Math.pow(J,Math.round(Math.log(Ta)/z)-D));Math.ceil(Ta/D)>G;)D*=J;Y=0;for(Ia=F.length;Y<Ia;++Y)fa=D/F[Y],fa>=W&&Ta/fa<=G&&(D=fa)}fa=Math.log(D);G=Math.pow(J,-(0<=fa?0:~~(-fa/z)+1)-1);if(x.nice||void 0===x.nice)fa=Math.floor(M/D+G)*D,M=M<fa?fa-D:fa,ka=Math.ceil(ka/D)*D;return{start:M,stop:ka===M?M+D:ka,step:D}};n.bootstrapCI=function(x,G,J,z){if(!x.length)return[void 0,
void 0];x=Float64Array.from(S(x,z));z=x.length;var F,M,ka;var Ia=0;for(ka=Array(G);Ia<G;++Ia){for(M=F=0;M<z;++M)F+=x[~~(n.random()*z)];ka[Ia]=F/z}ka.sort(q.ascending);return[q.quantile(ka,J/2),q.quantile(ka,1-J/2)]};n.cumulativeLogNormal=pa;n.cumulativeNormal=Ea;n.cumulativeUniform=ba;n.densityLogNormal=ea;n.densityNormal=qb;n.densityUniform=ja;n.dotbin=function(x,G,J,z){z=z||function(W){return W};for(var F=x.length,M=new Float64Array(F),ka=0,Ia=1,Ta=z(x[0]),D=Ta,fa=Ta+G,Y;Ia<F;++Ia){Y=z(x[Ia]);if(Y>=
fa){for(D=(Ta+D)/2;ka<Ia;++ka)M[ka]=D;fa=Y+G;Ta=Y}D=Y}for(D=(Ta+D)/2;ka<Ia;++ka)M[ka]=D;return J?db(M,G+G/4):M};n.quantileLogNormal=Ha;n.quantileNormal=ab;n.quantileUniform=Ra;n.quantiles=Pa;n.quartiles=Kb;n.randomInteger=function(x,G){null==G&&(G=x,x=0);var J,z,F,M={min:function(ka){return arguments.length?(J=ka||0,F=z-J,M):J},max:function(ka){return arguments.length?(z=ka||0,F=z-J,M):z},sample:function(){return J+Math.floor(F*n.random())},pdf:function(ka){return ka===Math.floor(ka)&&ka>=J&&ka<z?
1/F:0},cdf:function(ka){ka=Math.floor(ka);return ka<J?0:ka>=z?1:(ka-J+1)/F},icdf:function(ka){return 0<=ka&&1>=ka?J-1+Math.floor(ka*F):NaN}};return M.min(x).max(G)};n.randomKDE=function(x,G){var J=fb(),z=0,F={data:function(M){return arguments.length?(z=(x=M)?M.length:0,F.bandwidth(G)):x},bandwidth:function(M){if(!arguments.length)return G;G=M;!G&&x&&(G=Ma(x));return F},sample:function(){return x[~~(n.random()*z)]+G*J.sample()},pdf:function(M){for(var ka=0,Ia=0;Ia<z;++Ia)ka+=J.pdf((M-x[Ia])/G);return ka/
G/z},cdf:function(M){for(var ka=0,Ia=0;Ia<z;++Ia)ka+=J.cdf((M-x[Ia])/G);return ka/z},icdf:function(){throw Error("KDE icdf not supported.");}};return F.data(x)};n.randomLCG=function(x){return function(){x=(1103515245*x+12345)%2147483647;return x/2147483647}};n.randomLogNormal=function(x,G){var J,z,F={mean:function(M){return arguments.length?(J=M||0,F):J},stdev:function(M){return arguments.length?(z=null==M?1:M,F):z},sample:function(){return Ja(J,z)},pdf:function(M){return ea(M,J,z)},cdf:function(M){return pa(M,
J,z)},icdf:function(M){return Ha(M,J,z)}};return F.mean(x).stdev(G)};n.randomMixture=function(x,G){var J=0,z,F={weights:function(M){if(arguments.length){var ka=G=M||[],Ia=[],Ta=0,D;for(D=0;D<J;++D)Ta+=Ia[D]=null==ka[D]?1:+ka[D];for(D=0;D<J;++D)Ia[D]/=Ta;z=Ia;return F}return G},distributions:function(M){return arguments.length?(M?(J=M.length,x=M):(J=0,x=[]),F.weights(G)):x},sample:function(){for(var M=n.random(),ka=x[J-1],Ia=z[0],Ta=0;Ta<J-1;Ia+=z[++Ta])if(M<Ia){ka=x[Ta];break}return ka.sample()},
pdf:function(M){for(var ka=0,Ia=0;Ia<J;++Ia)ka+=z[Ia]*x[Ia].pdf(M);return ka},cdf:function(M){for(var ka=0,Ia=0;Ia<J;++Ia)ka+=z[Ia]*x[Ia].cdf(M);return ka},icdf:function(){throw Error("Mixture icdf not supported.");}};return F.distributions(x).weights(G)};n.randomNormal=fb;n.randomUniform=function(x,G){var J,z,F={min:function(M){return arguments.length?(J=M||0,F):J},max:function(M){return arguments.length?(z=null==M?1:M,F):z},sample:function(){return Wa(J,z)},pdf:function(M){return ja(M,J,z)},cdf:function(M){return ba(M,
J,z)},icdf:function(M){return Ra(M,J,z)}};null==G&&(G=null==x?1:x,x=0);return F.min(x).max(G)};n.regressionExp=function(x,G,J){var z=$jscomp.makeIterator(Oa(x,G,J)),F=z.next().value;z.next();var M=z.next().value;z=z.next().value;var ka=0,Ia=0,Ta=0,D=0,fa=0,Y,W,H;za(x,G,J,function(p,t){Y=F[fa++];W=Math.log(t);H=Y*t;ka+=(t*W-ka)/fa;Ia+=(H-Ia)/fa;Ta+=(H*W-Ta)/fa;D+=(Y*H-D)/fa});var T=$jscomp.makeIterator(xa(Ia/z,ka/z,Ta/z,D/z)),l=T.next().value,k=T.next().value;T=function(p){return Math.exp(l+k*(p-M))};
return{coef:[Math.exp(l-k*M),k],predict:T,rSquared:ia(x,G,J,z,T)}};n.regressionLinear=wa;n.regressionLoess=function(x,G,J,z){J=$jscomp.makeIterator(Oa(x,G,J,!0));x=J.next().value;var F=J.next().value;G=J.next().value;J=J.next().value;var M=x.length,ka=Math.max(2,~~(z*M));z=new Float64Array(M);for(var Ia=new Float64Array(M),Ta=(new Float64Array(M)).fill(1),D=-1;2>=++D;){for(var fa=[0,ka-1],Y=0;Y<M;++Y){for(var W=x[Y],H=fa[0],T=fa[1],l=0,k=0,p=0,t=0,w=0,O=1/Math.abs(x[W-x[H]>x[T]-W?H:T]-W||1);H<=T;++H){var la=
x[H],ma=F[H],ua=Math.abs(W-la)*O,eb=(ua=1-ua*ua*ua)*ua*ua*Ta[H];ua=la*eb;l+=eb;k+=ua;p+=ma*eb;t+=ma*ua;w+=la*ua}l=$jscomp.makeIterator(xa(k/l,p/l,t/l,w/l));T=l.next().value;l=l.next().value;z[Y]=T+l*W;Ia[Y]=Math.abs(F[Y]-z[Y]);W=Y+1;T=x[W];l=fa[0];k=fa[1]+1;if(!(k>=x.length))for(;W>l&&x[k]-T<=T-x[l];)fa[0]=++l,fa[1]=k,++k}if(2===D)break;fa=q.median(Ia);if(1E-12>Math.abs(fa))break;Y=0;for(T=void 0;Y<M;++Y)W=Ia[Y]/(6*fa),Ta[Y]=1<=W?1E-12:(T=1-W*W)*T}F=x.length;M=[];Ia=ka=0;for(Ta=[];ka<F;++ka)D=x[ka]+
G,Ta[0]===D?Ta[1]+=(z[ka]-Ta[1])/++Ia:(Ia=0,Ta[1]+=J,Ta=[D,z[ka]],M.push(Ta));Ta[1]+=J;return M};n.regressionLog=function(x,G,J){var z=0,F=0,M=0,ka=0,Ia=0;za(x,G,J,function(fa,Y){++Ia;fa=Math.log(fa);z+=(fa-z)/Ia;F+=(Y-F)/Ia;M+=(fa*Y-M)/Ia;ka+=(fa*fa-ka)/Ia});var Ta=xa(z,F,M,ka),D=function(fa){return Ta[0]+Ta[1]*Math.log(fa)};return{coef:Ta,predict:D,rSquared:ia(x,G,J,F,D)}};n.regressionPoly=function(x,G,J,z){if(1===z)return wa(x,G,J);if(2===z)return sa(x,G,J);var F=$jscomp.makeIterator(Oa(x,G,J)),
M=F.next().value,ka=F.next().value,Ia=F.next().value,Ta=F.next().value;F=M.length;var D=[],fa=[],Y=z+1,W,H,T;for(W=0;W<Y;++W){for(T=H=0;H<F;++H)T+=Math.pow(M[H],W)*ka[H];D.push(T);var l=new Float64Array(Y);for(z=0;z<Y;++z){for(T=H=0;H<F;++H)T+=Math.pow(M[H],W+z);l[z]=T}fa.push(l)}fa.push(D);var k=Fa(fa);M=function(p){p-=Ia;var t=Ta+k[0]+k[1]*p+k[2]*p*p;for(W=3;W<Y;++W)t+=k[W]*Math.pow(p,W);return t};return{coef:qa(Y,k,-Ia,Ta),predict:M,rSquared:ia(x,G,J,Ta,M)}};n.regressionPow=function(x,G,J){var z=
0,F=0,M=0,ka=0,Ia=0,Ta=0;za(x,G,J,function(Y,W){Y=Math.log(Y);var H=Math.log(W);++Ta;z+=(Y-z)/Ta;F+=(H-F)/Ta;M+=(Y*H-M)/Ta;ka+=(Y*Y-ka)/Ta;Ia+=(W-Ia)/Ta});var D=xa(z,F,M,ka),fa=function(Y){return D[0]*Math.pow(Y,D[1])};D[0]=Math.exp(D[0]);return{coef:D,predict:fa,rSquared:ia(x,G,J,Ia,fa)}};n.regressionQuad=sa;n.sampleCurve=function(x,G,J,z){J=J||25;z=Math.max(J,z||200);var F=function(fa){return[fa,x(fa)]},M=G[0],ka=G[1],Ia=ka-M,Ta=Ia/z;G=[F(M)];var D=[];if(J===z){for(Ta=1;Ta<z;++Ta)G.push(F(M+Ta/
J*Ia));G.push(F(ka));return G}D.push(F(ka));for(z=J;0<--z;)D.push(F(M+z/J*Ia));J=G[0];for(M=D[D.length-1];M;)z=F((J[0]+M[0])/2),z[0]-J[0]>=Ta&&Math.abs(Math.atan2(M[1]-J[1],M[0]-J[0])-Math.atan2(z[1]-J[1],z[0]-J[0]))>y?D.push(z):(J=M,G.push(M),D.pop()),M=D[D.length-1];return G};n.sampleLogNormal=Ja;n.sampleNormal=Eb;n.sampleUniform=Wa;n.setRandom=function(x){n.random=x};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[14]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(12),sb(13),sb(1),sb(4)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega))})(this,function(n,q,S,Pa,Kb,Ma){function db(I){return function(da){for(var bb=I.length,La=1,Fb=String(I[0](da));La<bb;++La)Fb+="|"+
I[La](da);return Fb}}function Eb(I){return I&&I.length?1===I.length?I[0]:db(I):function(){return""}}function qb(I,da){return function(bb){return q.extend({name:I,out:bb||I},xd,da)}}function Ea(I,da){return I.idx-da.idx}function ab(I){var da={};I.forEach(function(La){return da[La.name]=La});var bb=function(La){La.req&&La.req.forEach(function(Fb){da[Fb]||bb(da[Fb]=ae[Fb]())})};I.forEach(bb);return Object.values(da).sort(Ea)}function fb(){var I=this;this.missing=this.valid=0;this._ops.forEach(function(da){return da.init(I)})}
function Ja(I,da){var bb=this;null==I||""===I?++this.missing:I===I&&(++this.valid,this._ops.forEach(function(La){return La.add(bb,I,da)}))}function ea(I,da){var bb=this;null==I||""===I?--this.missing:I===I&&(--this.valid,this._ops.forEach(function(La){return La.rem(bb,I,da)}))}function pa(I){var da=this;this._out.forEach(function(bb){return I[bb.out]=bb.value(da)});return I}function Ha(I,da){function bb(Vb){this._ops=La;this._out=Fb;this.cell=Vb;this.init()}da=da||q.identity;var La=ab(I),Fb=I.slice().sort(Ea);
bb.prototype.init=fb;bb.prototype.add=Ja;bb.prototype.rem=ea;bb.prototype.set=pa;bb.prototype.get=da;bb.fields=I.map(function(Vb){return Vb.out});return bb}function Wa(I){this._key=I?q.field(I):S.tupleid;this.reset()}function ja(I){S.Transform.call(this,null,I);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function ba(I){S.Transform.call(this,
null,I)}function Ra(I,da,bb){var La=da||[],Fb=bb||[],Vb={},Yb=0;return{add:function(cc){return Fb.push(cc)},remove:function(cc){return Vb[I(cc)]=++Yb},size:function(){return La.length},data:function(cc,va){Yb&&(La=La.filter(function(Qa){return!Vb[I(Qa)]}),Vb={},Yb=0);va&&cc&&La.sort(cc);Fb.length&&(La=cc?q.merge(cc,La,Fb.sort(cc)):La.concat(Fb),Fb=[]);return La}}}function xa(I){S.Transform.call(this,[],I)}function Oa(I){S.Operator.call(this,null,za,I)}function za(I){return this.value&&!I.modified()?
this.value:q.compare(I.fields,I.orders)}function ia(I){S.Transform.call(this,null,I)}function wa(I){S.Transform.call(this,null,I)}function sa(I,da){var bb=I["function"];q.hasOwnProperty(Rb,bb)||q.error("Unknown distribution function: "+bb);bb=Rb[bb]();for(var La in I)if("field"===La)bb.data((I.from||da()).map(I[La]));else if("distributions"===La)bb[La](I[La].map(function(Fb){return sa(Fb,da)}));else if("function"===typeof bb[La])bb[La](I[La]);return bb}function qa(I){S.Transform.call(this,null,I)}
function Fa(I){return function(){return I.materialize(I.SOURCE).source}}function Ca(I,da){return I?I.map(function(bb,La){return da[La]||q.accessorName(bb)}):null}function Za(I,da,bb){var La=[],Fb=function(Nb){return Nb(va)},Vb;if(null==da)La.push(I.map(bb));else{var Yb={};var cc=0;for(Vb=I.length;cc<Vb;++cc){var va=I[cc];var Qa=da.map(Fb);var yb=Yb[Qa];yb||(Yb[Qa]=yb=[],yb.dims=Qa,La.push(yb));yb.push(bb(va))}}return La}function jb(I){S.Transform.call(this,null,I)}function y(I){S.Operator.call(this,
null,x,I);this.modified(!0)}function x(I){var da=I.expr;return this.value&&!I.modified("expr")?this.value:q.accessor(function(bb){return da(bb,I)},q.accessorFields(da),q.accessorName(da))}function G(I){S.Transform.call(this,[void 0,void 0],I)}function J(I,da){S.Operator.call(this,I);this.parent=da;this.count=0}function z(I){S.Transform.call(this,{},I);this._keys=q.fastmap();var da=this._targets=[];da.active=0;da.forEach=function(bb){for(var La=0,Fb=da.active;La<Fb;++La)bb(da[La],La,da)}}function F(I){S.Operator.call(this,
null,M,I)}function M(I){return this.value&&!I.modified()?this.value:q.isArray(I.name)?q.array(I.name).map(function(da){return q.field(da)}):q.field(I.name,I.as)}function ka(I){S.Transform.call(this,q.fastmap(),I)}function Ia(I){S.Transform.call(this,[],I)}function Ta(I){S.Transform.call(this,[],I)}function D(I){S.Transform.call(this,null,I)}function fa(I){S.Transform.call(this,[],I)}function Y(I){S.Transform.call(this,[],I)}function W(I){var da=I.method||Rc.value;if(null==Rc[da])q.error("Unrecognized imputation method: "+
da);else{if(da===Rc.value){var bb=void 0!==I.value?I.value:0;return function(){return bb}}return Rc[da]}}function H(I){var da=I.field;return function(bb){return bb?da(bb):NaN}}function T(I,da,bb,La){var Fb=function(xb){return xb(Nb)},Vb=[];La=La?La.slice():[];var Yb={},cc={},va,Qa;La.forEach(function(xb,Qb){return Yb[xb]=Qb+1});var yb=0;for(Qa=I.length;yb<Qa;++yb){var Nb=I[yb];var gc=bb(Nb);var tc=Yb[gc]||(Yb[gc]=La.push(gc));var lc=(gc=da?da.map(Fb):se)+"";(va=cc[lc])||(va=cc[lc]=[],Vb.push(va),
va.values=gc);va[tc-1]=Nb}Vb.domain=La;return Vb}function l(I){ja.call(this,I)}function k(I){S.Transform.call(this,null,I)}function p(I){S.Operator.call(this,null,t,I)}function t(I){return this.value&&!I.modified()?this.value:q.key(I.fields,I.flat)}function w(I){S.Transform.call(this,[],I);this._pending=null}function O(I){return I.modified("async")&&!(I.modified("values")||I.modified("url")||I.modified("format"))}function la(I,da,bb){bb.forEach(S.ingest);da=da.fork(da.NO_FIELDS&da.NO_SOURCE);da.rem=
I.value;I.value=da.source=da.add=bb;I._pending=null;da.rem.length&&da.clean(!0);return da}function ma(I){S.Transform.call(this,{},I)}function ua(I){S.Operator.call(this,null,eb,I)}function eb(I){if(this.value&&!I.modified())return this.value;I=I.extents;var da=I.length,bb=Infinity,La=-Infinity,Fb;for(Fb=0;Fb<da;++Fb){var Vb=I[Fb];Vb[0]<bb&&(bb=Vb[0]);Vb[1]>La&&(La=Vb[1])}return[bb,La]}function cb(I){S.Operator.call(this,null,Ba,I)}function Ba(I){return this.value&&!I.modified()?this.value:I.values.reduce(function(da,
bb){return da.concat(bb)},[])}function Ka(I){S.Transform.call(this,null,I)}function Z(I){ja.call(this,I)}function ra(I,da){var bb=I.field,La=I.value,Fb=("count"===I.op?"__count__":I.op)||"sum",Vb=q.accessorFields(bb).concat(q.accessorFields(La)),Yb=mb(bb,I.limit||0,da);da.changed()&&I.set("__pivot__",null,null,!0);return{key:I.key,groupby:I.groupby,ops:Yb.map(function(){return Fb}),fields:Yb.map(function(cc){return hb(cc,bb,La,Vb)}),as:Yb.map(function(cc){return cc+""}),modified:I.modified.bind(I)}}
function hb(I,da,bb,La){return q.accessor(function(Fb){return da(Fb)===I?bb(Fb):NaN},La,I+"")}function mb(I,da,bb){var La={},Fb=[];bb.visit(bb.SOURCE,function(Vb){Vb=I(Vb);La[Vb]||(La[Vb]=1,Fb.push(Vb))});Fb.sort(q.ascending);return da?Fb.slice(0,da):Fb}function Hb(I){z.call(this,I)}function Xb(I){S.Transform.call(this,null,I)}function ya(I){S.Transform.call(this,null,I)}function wb(I){S.Transform.call(this,null,I)}function Tb(I){S.Transform.call(this,null,I)}function rb(I){S.Transform.call(this,
[],I);this.count=0}function Sb(I){S.Transform.call(this,null,I)}function ic(I){S.Transform.call(this,null,I);this.modified(!0)}function rc(I){S.Transform.call(this,null,I)}function Tc(I){S.Transform.call(this,q.fastmap(),I)}function pc(I){S.Transform.call(this,null,I)}function tb(I,da,bb,La){var Fb=Ne[I](da,bb);return{init:Fb.init||q.zero,update:function(Vb,Yb){Yb[La]=Fb.next(Vb)}}}function bc(I){function da(tc){q.array(q.accessorFields(tc)).forEach(function(lc){return va[lc]=1})}var bb=q.array(I.ops),
La=q.array(I.fields),Fb=q.array(I.params),Vb=q.array(I.as),Yb=this.outputs=[],cc=this.windows=[],va={},Qa={},yb=[],Nb=[],gc=!0;da(I.sort);bb.forEach(function(tc,lc){var xb=La[lc],Qb=q.accessorName(xb),Gc=Vb[lc]||tc+(Qb?"_"+Qb:"");da(xb);Yb.push(Gc);q.hasOwnProperty(Ne,tc)?cc.push(tb(tc,La[lc],Fb[lc],Gc)):(null==xb&&"count"!==tc&&q.error("Null aggregate field specified."),"count"===tc?yb.push(Gc):(gc=!1,lc=Qa[Qb],lc||(lc=Qa[Qb]=[],lc.field=xb,Nb.push(lc)),lc.push(ae[tc](Gc))))});if(yb.length||Nb.length)this.cell=
Mb(Nb,yb,gc);this.inputs=Object.keys(va)}function Mb(I,da,bb){I=I.map(function(va){return Ha(va,va.field)});var La={num:0,agg:null,store:!1,count:da};if(!bb)for(var Fb=I.length,Vb=La.agg=Array(Fb),Yb=0;Yb<Fb;++Yb)Vb[Yb]=new I[Yb](La);if(La.store)var cc=La.data=new Wa;La.add=function(va){La.num+=1;if(!bb){cc&&cc.add(va);for(var Qa=0;Qa<Fb;++Qa)Vb[Qa].add(Vb[Qa].get(va),va)}};La.rem=function(va){--La.num;if(!bb){cc&&cc.rem(va);for(var Qa=0;Qa<Fb;++Qa)Vb[Qa].rem(Vb[Qa].get(va),va)}};La.set=function(va){var Qa;
cc&&cc.values();var yb=0;for(Qa=da.length;yb<Qa;++yb)va[da[yb]]=La.num;if(!bb)for(yb=0,Qa=Vb.length;yb<Qa;++yb)Vb[yb].set(va)};La.init=function(){La.num=0;cc&&cc.reset();for(var va=0;va<Fb;++va)Vb[va].init()};return La}function xc(I){S.Transform.call(this,{},I);this._mlen=0;this._mods=[]}function Xc(I,da,bb,La){var Fb=La.sort,Vb=Fb&&!La.ignorePeers;La=La.frame||[null,0];I=I.data(bb);bb=I.length;var Yb=Vb?Kb.bisector(Fb):null;Fb={i0:0,i1:0,p0:0,p1:0,index:0,data:I,compare:Fb||q.constant(-1)};da.init();
for(var cc=0;cc<bb;++cc){var va=cc;Fb.p0=Fb.i0;Fb.p1=Fb.i1;Fb.i0=null==La[0]?0:Math.max(0,va-Math.abs(La[0]));Fb.i1=null==La[1]?bb:Math.min(bb,va+Math.abs(La[1])+1);Fb.index=va;if(Vb){va=Fb.i0;var Qa=Fb.i1-1,yb=Fb.compare,Nb=Fb.data,gc=Nb.length-1;0<va&&!yb(Nb[va],Nb[va-1])&&(Fb.i0=Yb.left(Nb,Nb[va]));Qa<gc&&!yb(Nb[Qa],Nb[Qa+1])&&(Fb.i1=Yb.right(Nb,Nb[Qa]))}da.update(Fb,I[cc])}}var ud=function(){},xd={init:ud,add:ud,rem:ud,idx:0},ae={values:{init:function(I){return I.cell.store=!0},value:function(I){return I.cell.data.values()},
idx:-1},count:{value:function(I){return I.cell.num}},__count__:{value:function(I){return I.missing+I.valid}},missing:{value:function(I){return I.missing}},valid:{value:function(I){return I.valid}},sum:{init:function(I){return I.sum=0},value:function(I){return I.sum},add:function(I,da){return I.sum+=+da},rem:function(I,da){return I.sum-=da}},product:{init:function(I){return I.product=1},value:function(I){return I.valid?I.product:void 0},add:function(I,da){return I.product*=da},rem:function(I,da){return I.product/=
da}},mean:{init:function(I){return I.mean=0},value:function(I){return I.valid?I.mean:void 0},add:function(I,da){return I.mean_d=da-I.mean,I.mean+=I.mean_d/I.valid},rem:function(I,da){return I.mean_d=da-I.mean,I.mean-=I.valid?I.mean_d/I.valid:I.mean}},average:{value:function(I){return I.valid?I.mean:void 0},req:["mean"],idx:1},variance:{init:function(I){return I.dev=0},value:function(I){return 1<I.valid?I.dev/(I.valid-1):void 0},add:function(I,da){return I.dev+=I.mean_d*(da-I.mean)},rem:function(I,
da){return I.dev-=I.mean_d*(da-I.mean)},req:["mean"],idx:1},variancep:{value:function(I){return 1<I.valid?I.dev/I.valid:void 0},req:["variance"],idx:2},stdev:{value:function(I){return 1<I.valid?Math.sqrt(I.dev/(I.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(I){return 1<I.valid?Math.sqrt(I.dev/I.valid):void 0},req:["variance"],idx:2},stderr:{value:function(I){return 1<I.valid?Math.sqrt(I.dev/(I.valid*(I.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(I){return I.cell.data.distinct(I.get)},
req:["values"],idx:3},ci0:{value:function(I){return I.cell.data.ci0(I.get)},req:["values"],idx:3},ci1:{value:function(I){return I.cell.data.ci1(I.get)},req:["values"],idx:3},median:{value:function(I){return I.cell.data.q2(I.get)},req:["values"],idx:3},q1:{value:function(I){return I.cell.data.q1(I.get)},req:["values"],idx:3},q3:{value:function(I){return I.cell.data.q3(I.get)},req:["values"],idx:3},min:{init:function(I){return I.min=void 0},value:function(I){return I.min=Number.isNaN(I.min)?I.cell.data.min(I.get):
I.min},add:function(I,da){if(da<I.min||void 0===I.min)I.min=da},rem:function(I,da){da<=I.min&&(I.min=NaN)},req:["values"],idx:4},max:{init:function(I){return I.max=void 0},value:function(I){return I.max=Number.isNaN(I.max)?I.cell.data.max(I.get):I.max},add:function(I,da){if(da>I.max||void 0===I.max)I.max=da},rem:function(I,da){da>=I.max&&(I.max=NaN)},req:["values"],idx:4},argmin:{init:function(I){return I.argmin=void 0},value:function(I){return I.argmin||I.cell.data.argmin(I.get)},add:function(I,
da,bb){da<I.min&&(I.argmin=bb)},rem:function(I,da){da<=I.min&&(I.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(I){return I.argmax=void 0},value:function(I){return I.argmax||I.cell.data.argmax(I.get)},add:function(I,da,bb){da>I.max&&(I.argmax=bb)},rem:function(I,da){da>=I.max&&(I.argmax=void 0)},req:["max","values"],idx:3}};ud=Object.keys(ae);ud.forEach(function(I){ae[I]=qb(I,ae[I])});var Cb=Wa.prototype;Cb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=
null};Cb.add=function(I){this._add.push(I)};Cb.rem=function(I){this._rem.push(I)};Cb.values=function(){this._get=null;if(0===this._rem.length)return this._add;var I=this._add,da=this._rem,bb=this._key,La=I.length,Fb=da.length,Vb=Array(La-Fb),Yb={},cc,va;for(cc=0;cc<Fb;++cc)Yb[bb(da[cc])]=1;for(da=cc=0;cc<La;++cc)Yb[bb(va=I[cc])]?Yb[bb(va)]=0:Vb[da++]=va;this._rem=[];return this._add=Vb};Cb.distinct=function(I){for(var da=this.values(),bb={},La=da.length,Fb=0,Vb;0<=--La;)Vb=I(da[La])+"",q.hasOwnProperty(bb,
Vb)||(bb[Vb]=1,++Fb);return Fb};Cb.extent=function(I){if(this._get!==I||!this._ext){var da=this.values(),bb=q.extentIndex(da,I);this._ext=[da[bb[0]],da[bb[1]]];this._get=I}return this._ext};Cb.argmin=function(I){return this.extent(I)[0]||{}};Cb.argmax=function(I){return this.extent(I)[1]||{}};Cb.min=function(I){var da=this.extent(I)[0];return null!=da?I(da):void 0};Cb.max=function(I){var da=this.extent(I)[1];return null!=da?I(da):void 0};Cb.quartile=function(I){this._get===I&&this._q||(this._q=Pa.quartiles(this.values(),
I),this._get=I);return this._q};Cb.q1=function(I){return this.quartile(I)[0]};Cb.q2=function(I){return this.quartile(I)[1]};Cb.q3=function(I){return this.quartile(I)[2]};Cb.ci=function(I){this._get===I&&this._ci||(this._ci=Pa.bootstrapCI(this.values(),1E3,.05,I),this._get=I);return this._ci};Cb.ci0=function(I){return this.ci(I)[0]};Cb.ci1=function(I){return this.ci(I)[1]};ja.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",
type:"enum",array:!0,values:ud},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};q.inherits(ja,S.Transform,{transform:function(I,da){var bb=this,La=this,Fb=da.fork(da.NO_SOURCE|da.NO_FIELDS),Vb=I.modified();La.stamp=Fb.stamp;La.value&&(Vb||da.modified(La._inputs,!0))?(La._prev=La.value,La.value=Vb?La.init(I):{},da.visit(da.SOURCE,function(Yb){return La.add(Yb)})):
(La.value=La.value||La.init(I),da.visit(da.REM,function(Yb){return La.rem(Yb)}),da.visit(da.ADD,function(Yb){return La.add(Yb)}));Fb.modifies(La._outputs);La._drop=!1!==I.drop;I.cross&&1<La._dims.length&&(La._drop=!1,La.cross());da.clean()&&La._drop&&Fb.clean(!0).runAfter(function(){return bb.clean()});return La.changes(Fb)},cross:function(){function I(cc){var va,Qa,yb;for(va in cc){var Nb=cc[va].tuple;for(Qa=0;Qa<Yb;++Qa)Vb[Qa][yb=Nb[Fb[Qa]]]=yb}}function da(cc,va,Qa){var yb=Fb[Qa],Nb=Vb[Qa++],gc;
for(gc in Nb){var tc=cc?cc+"|"+gc:gc;va[yb]=Nb[gc];Qa<Yb?da(tc,va,Qa):La[tc]||bb.cell(tc,va)}}var bb=this,La=bb.value,Fb=bb._dnames,Vb=Fb.map(function(){return{}}),Yb=Fb.length;I(bb._prev);I(La);da("",{},0)},init:function(I){function da(xb){xb=q.array(q.accessorFields(xb));for(var Qb=xb.length,Gc=0,$b;Gc<Qb;++Gc)Fb[$b=xb[Gc]]||(Fb[$b]=1,bb.push($b))}var bb=this._inputs=[],La=this._outputs=[],Fb={};this._dims=q.array(I.groupby);this._dnames=this._dims.map(function(xb){var Qb=q.accessorName(xb);da(xb);
La.push(Qb);return Qb});this.cellkey=I.key?I.key:Eb(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];var Vb=I.fields||[null],Yb=I.ops||["count"];I=I.as||[];var cc=Vb.length,va={},Qa;cc!==Yb.length&&q.error("Unmatched number of fields and aggregate ops.");for(Qa=0;Qa<cc;++Qa){var yb=Vb[Qa];var Nb=Yb[Qa];null==yb&&"count"!==Nb&&q.error("Null aggregate field specified.");var gc=q.accessorName(yb);var tc=I[Qa]||Nb+(gc?"_"+gc:"");La.push(tc);if("count"===Nb)this._counts.push(tc);else{var lc=
va[gc];lc||(da(yb),lc=va[gc]=[],lc.field=yb,this._measures.push(lc));"count"!==Nb&&(this._countOnly=!1);lc.push(ae[Nb](tc))}}this._measures=this._measures.map(function(xb){return Ha(xb,xb.field)});return{}},cellkey:Eb(),cell:function(I,da){var bb=this.value[I];bb?0===bb.num&&this._drop&&bb.stamp<this.stamp?(bb.stamp=this.stamp,this._adds[this._alen++]=bb):bb.stamp<this.stamp&&(bb.stamp=this.stamp,this._mods[this._mlen++]=bb):(bb=this.value[I]=this.newcell(I,da),this._adds[this._alen++]=bb);return bb},
newcell:function(I,da){I={key:I,num:0,agg:null,tuple:this.newtuple(da,this._prev&&this._prev[I]),stamp:this.stamp,store:!1};if(!this._countOnly){da=this._measures;var bb=da.length;I.agg=Array(bb);for(var La=0;La<bb;++La)I.agg[La]=new da[La](I)}I.store&&(I.data=new Wa);return I},newtuple:function(I,da){for(var bb=this._dnames,La=this._dims,Fb=La.length,Vb={},Yb=0;Yb<Fb;++Yb)Vb[bb[Yb]]=La[Yb](I);return da?S.replace(da.tuple,Vb):S.ingest(Vb)},clean:function(){var I=this.value,da;for(da in I)0===I[da].num&&
delete I[da]},add:function(I){var da=this.cellkey(I);da=this.cell(da,I);da.num+=1;if(!this._countOnly){da.store&&da.data.add(I);da=da.agg;for(var bb=0,La=da.length;bb<La;++bb)da[bb].add(da[bb].get(I),I)}},rem:function(I){var da=this.cellkey(I);da=this.cell(da,I);--da.num;if(!this._countOnly){da.store&&da.data.rem(I);da=da.agg;for(var bb=0,La=da.length;bb<La;++bb)da[bb].rem(da[bb].get(I),I)}},celltuple:function(I){var da=I.tuple,bb=this._counts;I.store&&I.data.values();for(var La=0,Fb=bb.length;La<
Fb;++La)da[bb[La]]=I.num;if(!this._countOnly)for(I=I.agg,bb=0,La=I.length;bb<La;++bb)I[bb].set(da);return da},changes:function(I){var da=this._adds,bb=this._mods,La=this._prev,Fb=this._drop,Vb=I.add,Yb=I.rem,cc=I.mod,va;if(La)for(va in La){var Qa=La[va];Fb&&!Qa.num||Yb.push(Qa.tuple)}La=0;for(va=this._alen;La<va;++La)Vb.push(this.celltuple(da[La])),da[La]=null;La=0;for(va=this._mlen;La<va;++La)Qa=bb[La],(0===Qa.num&&Fb?Yb:cc).push(this.celltuple(Qa)),bb[La]=null;this._alen=this._mlen=0;this._prev=
null;return I}});ba.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",
"default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};q.inherits(ba,S.Transform,{transform:function(I,da){var bb=!1!==I.interval,La=this._bins(I),Fb=La.start,Vb=La.step,Yb=I.as||["bin0","bin1"],cc=Yb[0],va=Yb[1];I.modified()?(da=da.reflow(!0),I=da.SOURCE):I=da.modified(q.accessorFields(I.field))?da.ADD_MOD:da.ADD;da.visit(I,bb?function(Qa){var yb=La(Qa);Qa[cc]=yb;Qa[va]=null==yb?null:Fb+Vb*(1+(yb-
Fb)/Vb)}:function(Qa){return Qa[cc]=La(Qa)});return da.modifies(bb?Yb:cc)},_bins:function(I){if(this.value&&!I.modified())return this.value;var da=I.field,bb=Pa.bin(I),La=bb.step,Fb=bb.start,Vb=Fb+Math.ceil((bb.stop-Fb)/La)*La,Yb;null!=(Yb=I.anchor)&&(Yb-=Fb+La*Math.floor((Yb-Fb)/La),Fb+=Yb,Vb+=Yb);Yb=function(cc){cc=q.toNumber(da(cc));return null==cc?null:cc<Fb?-Infinity:cc>Vb?Infinity:(cc=Math.max(Fb,Math.min(cc,Vb-La)),Fb+La*Math.floor(1E-14+(cc-Fb)/La))};Yb.start=Fb;Yb.stop=bb.stop;Yb.step=La;
return this.value=q.accessor(Yb,q.accessorFields(da),I.name||"bin_"+q.accessorName(da))}});xa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};q.inherits(xa,S.Transform,{transform:function(I,da){var bb=da.fork(da.ALL),La=Ra(S.tupleid,this.value,bb.materialize(bb.ADD).add),Fb=I.sort;I=da.changed()||Fb&&(I.modified("sort")||da.modified(Fb.fields));bb.visit(bb.REM,La.remove);this.modified(I);this.value=bb.source=La.data(S.stableCompare(Fb),I);da.source&&da.source.root&&
(this.value.root=da.source.root);return bb}});q.inherits(Oa,S.Operator);ia.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};q.inherits(ia,S.Transform,{transform:function(I,da){var bb=function(yb){return function(Nb){Nb=
cc(Nb);switch(I.case){case "upper":Nb=Nb.toUpperCase();break;case "lower":Nb=Nb.toLowerCase()}Nb=Nb.match(Vb)||[];for(var gc,tc=0,lc=Nb.length;tc<lc;++tc)Yb.test(gc=Nb[tc])||yb(gc)}},La=this._parameterCheck(I,da),Fb=this._counts,Vb=this._match,Yb=this._stop,cc=I.field,va=I.as||["text","count"],Qa=bb(function(yb){return Fb[yb]=1+(Fb[yb]||0)});bb=bb(function(yb){return--Fb[yb]});La?da.visit(da.SOURCE,Qa):(da.visit(da.ADD,Qa),da.visit(da.REM,bb));return this._finish(da,va)},_parameterCheck:function(I,
da){var bb=!1;if(I.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(I.stopwords||"")+"$","i"),bb=!0;if(I.modified("pattern")||!this._match)this._match=new RegExp(I.pattern||"[\\w']+","g"),bb=!0;if(I.modified("field")||da.modified(I.field.fields))bb=!0;bb&&(this._counts={});return bb},_finish:function(I,da){var bb=this._counts,La=this._tuples||(this._tuples={}),Fb=da[0],Vb=da[1];I=I.fork(I.NO_SOURCE|I.NO_FIELDS);var Yb;for(Yb in bb){var cc=La[Yb];var va=bb[Yb]||0;!cc&&va?(La[Yb]=cc=S.ingest({}),
cc[Fb]=Yb,cc[Vb]=va,I.add.push(cc)):0===va?(cc&&I.rem.push(cc),bb[Yb]=null,La[Yb]=null):cc[Vb]!==va&&(cc[Vb]=va,I.mod.push(cc))}return I.modifies(da)}});wa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};q.inherits(wa,S.Transform,{transform:function(I,da){var bb=da.fork(da.NO_SOURCE),La=I.as||["a","b"],Fb=La[0],Vb=La[1],Yb=!this.value||da.changed(da.ADD_REM)||I.modified("as")||I.modified("filter"),
cc=this.value;if(Yb){cc&&(bb.rem=cc);da=cc=da.materialize(da.SOURCE).source;I=I.filter||q.truthy;Yb=[];cc={};for(var va=da.length,Qa=0,yb,Nb;Qa<va;++Qa)for(cc[Fb]=Nb=da[Qa],yb=0;yb<va;++yb)cc[Vb]=da[yb],I(cc)&&(Yb.push(S.ingest(cc)),cc={},cc[Fb]=Nb);bb.add=this.value=Yb}else bb.mod=cc;bb.source=this.value;return bb.modifies(La)}});var Rb={kde:Pa.randomKDE,mixture:Pa.randomMixture,normal:Pa.randomNormal,lognormal:Pa.randomLogNormal,uniform:Pa.randomUniform};Cb=[{key:{"function":"normal"},params:[{name:"mean",
type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];qa.Definition={type:"Density",metadata:{generates:!0},
params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Cb.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Cb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};q.inherits(qa,
S.Transform,{transform:function(I,da){var bb=da.fork(da.NO_SOURCE|da.NO_FIELDS);if(!this.value||da.changed()||I.modified()){var La=sa(I.distribution,Fa(da));da=I.steps||I.minsteps||25;var Fb=I.steps||I.maxsteps||200,Vb=I.method||"pdf";"pdf"!==Vb&&"cdf"!==Vb&&q.error("Invalid density method: "+Vb);I.extent||La.data||q.error("Missing density extent parameter.");Vb=La[Vb];var Yb=I.as||["value","density"];I=I.extent||q.extent(La.data());I=Pa.sampleCurve(Vb,I,da,Fb).map(function(cc){var va={};va[Yb[0]]=
cc[0];va[Yb[1]]=cc[1];return S.ingest(va)});this.value&&(bb.rem=this.value);this.value=bb.add=bb.source=I}return bb}});jb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};q.inherits(jb,S.Transform,{transform:function(I,da){if(this.value&&!I.modified()&&!da.changed())return da;var bb=da.materialize(da.SOURCE).source,
La=Za(da.source,I.groupby,q.identity),Fb=I.smooth||!1,Vb=I.field;bb=I.step||q.span(q.extent(bb,Vb))/30;var Yb=S.stableCompare(function(xb,Qb){return Vb(xb)-Vb(Qb)});I=I.as||"bin";for(var cc=La.length,va=Infinity,Qa=-Infinity,yb=0,Nb;yb<cc;++yb){var gc=La[yb].sort(Yb);Nb=-1;for(var tc=$jscomp.makeIterator(Pa.dotbin(gc,bb,Fb,Vb)),lc=tc.next();!lc.done;lc=tc.next())lc=lc.value,lc<va&&(va=lc),lc>Qa&&(Qa=lc),gc[++Nb][I]=lc}this.value={start:va,stop:Qa,step:bb};return da.reflow(!0).modifies(I)}});q.inherits(y,
S.Operator);G.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};q.inherits(G,S.Transform,{transform:function(I,da){var bb=this.value,La=I.field;I=da.changed()||da.modified(La.fields)||I.modified("field");var Fb=bb[0],Vb=bb[1];if(I||null==Fb)Fb=Infinity,Vb=-Infinity;da.visit(I?da.SOURCE:da.ADD,function(Yb){Yb=q.toNumber(La(Yb));null!=Yb&&(Yb<Fb&&(Fb=Yb),Yb>Vb&&(Vb=Yb))});Number.isFinite(Fb)&&Number.isFinite(Vb)||((bb=q.accessorName(La))&&(bb=' for field "'+bb+
'"'),da.dataflow.warn("Infinite extent"+bb+": ["+Fb+", "+Vb+"]"),Fb=Vb=void 0);this.value=[Fb,Vb]}});q.inherits(J,S.Operator,{connect:function(I){this.detachSubflow=I.detachSubflow;this.targets().add(I);return I.source=this},add:function(I){this.count+=1;this.value.add.push(I)},rem:function(I){--this.count;this.value.rem.push(I)},mod:function(I){this.value.mod.push(I)},init:function(I){this.value.init(I,I.NO_SOURCE)},evaluate:function(){return this.value}});q.inherits(z,S.Transform,{activate:function(I){this._targets[this._targets.active++]=
I},subflow:function(I,da,bb,La){var Fb=this.value,Vb=q.hasOwnProperty(Fb,I)&&Fb[I];if(Vb)Vb.value.stamp<bb.stamp&&(Vb.init(bb),this.activate(Vb));else{var Yb=La||(Yb=this._group[I])&&Yb.tuple;La=bb.dataflow;Vb=new J(bb.fork(bb.NO_SOURCE),this);La.add(Vb).connect(da(La,I,Yb));Fb[I]=Vb;this.activate(Vb)}return Vb},clean:function(){var I=this.value,da;for(da in I)if(0===I[da].count){var bb=I[da].detachSubflow;bb&&bb();delete I[da]}},initTargets:function(){for(var I=this._targets,da=I.length,bb=0;bb<
da&&null!=I[bb];++bb)I[bb]=null;I.active=0},transform:function(I,da){var bb=this,La=da.dataflow,Fb=I.key,Vb=I.subflow,Yb=this._keys,cc=I.modified("key"),va=function(Qa){return bb.subflow(Qa,Vb,da)};this._group=I.group||{};this.initTargets();da.visit(da.REM,function(Qa){var yb=S.tupleid(Qa),Nb=Yb.get(yb);void 0!==Nb&&(Yb.delete(yb),va(Nb).rem(Qa))});da.visit(da.ADD,function(Qa){var yb=Fb(Qa);Yb.set(S.tupleid(Qa),yb);va(yb).add(Qa)});cc||da.modified(Fb.fields)?da.visit(da.MOD,function(Qa){var yb=S.tupleid(Qa),
Nb=Yb.get(yb),gc=Fb(Qa);Nb===gc?va(gc).mod(Qa):(Yb.set(yb,gc),va(Nb).rem(Qa),va(gc).add(Qa))}):da.changed(da.MOD)&&da.visit(da.MOD,function(Qa){va(Yb.get(S.tupleid(Qa))).mod(Qa)});cc&&da.visit(da.REFLOW,function(Qa){var yb=S.tupleid(Qa),Nb=Yb.get(yb),gc=Fb(Qa);Nb!==gc&&(Yb.set(yb,gc),va(Nb).rem(Qa),va(gc).add(Qa))});da.clean()?La.runAfter(function(){bb.clean();Yb.clean()}):Yb.empty>La.cleanThreshold&&La.runAfter(Yb.clean);return da}});q.inherits(F,S.Operator);ka.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};q.inherits(ka,S.Transform,{transform:function(I,da){function bb(Nb){var gc=S.tupleid(Nb),tc=Qa(Nb,I),lc=Fb.get(gc);tc&&lc?(Fb.delete(gc),Yb.push(Nb)):tc||lc?yb&&tc&&!lc&&va.push(Nb):(Fb.set(gc,1),cc.push(Nb))}var La=da.dataflow,Fb=this.value,Vb=da.fork(),Yb=Vb.add,cc=Vb.rem,va=Vb.mod,Qa=I.expr,yb=!0;da.visit(da.REM,function(Nb){var gc=S.tupleid(Nb);Fb.has(gc)?Fb.delete(gc):cc.push(Nb)});da.visit(da.ADD,function(Nb){Qa(Nb,I)?Yb.push(Nb):Fb.set(S.tupleid(Nb),
1)});da.visit(da.MOD,bb);I.modified()&&(yb=!1,da.visit(da.REFLOW,bb));Fb.empty>La.cleanThreshold&&La.runAfter(Fb.clean);return Vb}});Ia.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};q.inherits(Ia,S.Transform,{transform:function(I,da){var bb=da.fork(da.NO_SOURCE),La=I.fields,Fb=Ca(La,I.as||[]),Vb=I.index||null,Yb=Fb.length;bb.rem=this.value;da.visit(da.SOURCE,function(cc){for(var va=
La.map(function(lc){return lc(cc)}),Qa=va.reduce(function(lc,xb){return Math.max(lc,xb.length)},0),yb=0,Nb,gc,tc;yb<Qa;++yb){gc=S.derive(cc);for(Nb=0;Nb<Yb;++Nb)gc[Fb[Nb]]=null==(tc=va[Nb][yb])?null:tc;Vb&&(gc[Vb]=yb);bb.add.push(gc)}});this.value=bb.source=bb.add;Vb&&bb.modifies(Vb);return bb.modifies(Fb)}});Ta.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};q.inherits(Ta,
S.Transform,{transform:function(I,da){var bb=da.fork(da.NO_SOURCE),La=I.fields,Fb=La.map(q.accessorName);I=I.as||["key","value"];var Vb=I[0],Yb=I[1],cc=La.length;bb.rem=this.value;da.visit(da.SOURCE,function(va){for(var Qa=0,yb;Qa<cc;++Qa)yb=S.derive(va),yb[Vb]=Fb[Qa],yb[Yb]=La[Qa](va),bb.add.push(yb)});this.value=bb.source=bb.add;return bb.modifies(I)}});D.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",
type:"boolean"}]};q.inherits(D,S.Transform,{transform:function(I,da){var bb=I.expr,La=I.as,Fb=I.modified(),Vb=I.initonly?da.ADD:Fb?da.SOURCE:da.modified(bb.fields)||da.modified(La)?da.ADD_MOD:da.ADD;Fb&&(da=da.materialize().reflow(!0));I.initonly||da.modifies(La);return da.visit(Vb,function(Yb){return Yb[La]=bb(Yb,I)})}});q.inherits(fa,S.Transform,{transform:function(I,da){da=da.fork(da.ALL);var bb=I.generator,La=this.value,Fb=I.size-La.length,Vb,Yb;if(0<Fb){for(Vb=[];0<=--Fb;)Vb.push(Yb=S.ingest(bb(I))),
La.push(Yb);da.add=da.add.length?da.materialize(da.ADD).add.concat(Vb):Vb}else I=La.slice(0,-Fb),da.rem=da.rem.length?da.materialize(da.REM).rem.concat(I):I,La=La.slice(-Fb);da.source=this.value=La;return da}});var Rc={value:"value",median:Kb.median,mean:Kb.mean,min:Kb.min,max:Kb.max},se=[];Y.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",
type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};q.inherits(Y,S.Transform,{transform:function(I,da){var bb=da.fork(da.ALL),La=W(I),Fb=H(I),Vb=q.accessorName(I.field),Yb=q.accessorName(I.key),cc=(I.groupby||[]).map(q.accessorName);I=T(da.source,I.groupby,I.key,I.keyvals);da=[];var va=this.value,Qa=I.domain.length,yb,Nb,gc;var tc=0;for(Nb=I.length;tc<Nb;++tc){var lc=I[tc];var xb=lc.values;var Qb=NaN;for(yb=0;yb<Qa;++yb)if(null==lc[yb]){var Gc=
I.domain[yb];var $b={_impute:!0};var Ac=0;for(gc=xb.length;Ac<gc;++Ac)$b[cc[Ac]]=xb[Ac];$b[Yb]=Gc;$b[Vb]=Number.isNaN(Qb)?Qb=La(lc,Fb):Qb;da.push(S.ingest($b))}}da.length&&(bb.add=bb.materialize(bb.ADD).add.concat(da));va.length&&(bb.rem=bb.materialize(bb.REM).rem.concat(va));this.value=da;return bb}});l.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:ud},
{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};q.inherits(l,ja,{transform:function(I,da){var bb=this,La=I.modified();if(bb.value&&(La||da.modified(bb._inputs,!0))){var Fb=bb.value=La?bb.init(I):{};da.visit(da.SOURCE,function(Vb){return bb.add(Vb)})}else Fb=bb.value=bb.value||this.init(I),da.visit(da.REM,function(Vb){return bb.rem(Vb)}),da.visit(da.ADD,function(Vb){return bb.add(Vb)});bb.changes();da.visit(da.SOURCE,function(Vb){q.extend(Vb,Fb[bb.cellkey(Vb)].tuple)});return da.reflow(La).modifies(this._outputs)},
changes:function(){var I=this._adds,da=this._mods,bb;var La=0;for(bb=this._alen;La<bb;++La)this.celltuple(I[La]),I[La]=null;La=0;for(bb=this._mlen;La<bb;++La)this.celltuple(da[La]),da[La]=null;this._alen=this._mlen=0}});k.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",
type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};q.inherits(k,S.Transform,{transform:function(I,da){var bb=da.fork(da.NO_SOURCE|da.NO_FIELDS);if(!this.value||da.changed()||I.modified()){da=da.materialize(da.SOURCE).source;var La=Za(da,I.groupby,
I.field),Fb=(I.groupby||[]).map(q.accessorName),Vb=I.bandwidth,Yb=I.cumulative?"cdf":"pdf",cc=I.as||["value","density"],va=[],Qa=I.extent,yb=I.steps||I.minsteps||25,Nb=I.steps||I.maxsteps||200;"pdf"!==Yb&&"cdf"!==Yb&&q.error("Invalid density method: "+Yb);"shared"===I.resolve&&(Qa||(Qa=q.extent(da,I.field)),yb=Nb=I.steps||Nb);La.forEach(function(gc){var tc=Pa.randomKDE(gc,Vb)[Yb],lc=I.counts?gc.length:1,xb=Qa||q.extent(gc);Pa.sampleCurve(tc,xb,yb,Nb).forEach(function(Qb){for(var Gc={},$b=0;$b<Fb.length;++$b)Gc[Fb[$b]]=
gc.dims[$b];Gc[cc[0]]=Qb[0];Gc[cc[1]]=Qb[1]*lc;va.push(S.ingest(Gc))})});this.value&&(bb.rem=this.value);this.value=bb.add=bb.source=va}return bb}});q.inherits(p,S.Operator);q.inherits(w,S.Transform,{transform:function(I,da){var bb=this,La=da.dataflow;return this._pending?la(this,da,this._pending):O(I)?da.StopPropagation:I.values?la(this,da,La.parse(I.values,I.format)):I.async?{async:La.request(I.url,I.format).then(function(Fb){bb._pending=q.array(Fb.data);return function(Vb){return Vb.touch(bb)}})}:
La.request(I.url,I.format).then(function(Fb){return la(bb,da,q.array(Fb.data))})}});ma.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};q.inherits(ma,S.Transform,{transform:function(I,da){var bb=I.fields,La=I.index,Fb=I.values,
Vb=null==I.default?null:I.default,Yb=I.modified(),cc=bb.length,va=Yb?da.SOURCE:da.ADD,Qa=da,yb=I.as;if(Fb){var Nb=Fb.length;1<cc&&!yb&&q.error('Multi-field lookup requires explicit "as" parameter.');yb&&yb.length!==cc*Nb&&q.error('The "as" parameter has too few output field names.');yb=yb||Fb.map(q.accessorName);I=function(gc){for(var tc=0,lc=0,xb,Qb;tc<cc;++tc)if(Qb=La.get(bb[tc](gc)),null==Qb)for(xb=0;xb<Nb;++xb,++lc)gc[yb[lc]]=Vb;else for(xb=0;xb<Nb;++xb,++lc)gc[yb[lc]]=Fb[xb](Qb)}}else yb||q.error("Missing output field names."),
I=function(gc){for(var tc=0,lc;tc<cc;++tc)lc=La.get(bb[tc](gc)),gc[yb[tc]]=null==lc?Vb:lc};Yb?Qa=da.reflow(!0):(Yb=bb.some(function(gc){return da.modified(gc.fields)}),va|=Yb?da.MOD:0);da.visit(va,I);return Qa.modifies(yb)}});q.inherits(ua,S.Operator);q.inherits(cb,S.Operator);q.inherits(Ka,S.Transform,{transform:function(I,da){this.modified(I.modified());this.value=I;return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});Z.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ud,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};q.inherits(Z,ja,{_transform:ja.prototype.transform,transform:function(I,da){return this._transform(ra(I,da),da)}});q.inherits(Hb,z,{transform:function(I,da){var bb=this,La=I.subflow,Fb=I.field,Vb=function(Yb){return bb.subflow(S.tupleid(Yb),La,da,Yb)};(I.modified("field")||Fb&&da.modified(q.accessorFields(Fb)))&&
q.error("PreFacet does not support field modification.");this.initTargets();Fb?(da.visit(da.MOD,function(Yb){var cc=Vb(Yb);Fb(Yb).forEach(function(va){return cc.mod(va)})}),da.visit(da.ADD,function(Yb){var cc=Vb(Yb);Fb(Yb).forEach(function(va){return cc.add(S.ingest(va))})}),da.visit(da.REM,function(Yb){var cc=Vb(Yb);Fb(Yb).forEach(function(va){return cc.rem(va)})})):(da.visit(da.MOD,function(Yb){return Vb(Yb).mod(Yb)}),da.visit(da.ADD,function(Yb){return Vb(Yb).add(Yb)}),da.visit(da.REM,function(Yb){return Vb(Yb).rem(Yb)}));
da.clean()&&da.runAfter(function(){return bb.clean()});return da}});Xb.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};q.inherits(Xb,S.Transform,{transform:function(I,da){var bb=da.fork(da.NO_SOURCE),La=I.fields,Fb=Ca(I.fields,I.as||[]),Vb=La?function(cc,va){for(var Qa=0,yb=La.length;Qa<yb;++Qa)va[Fb[Qa]]=La[Qa](cc);return va}:S.rederive;if(this.value)var Yb=this.value;else da=da.addAll(),Yb=
this.value={};da.visit(da.REM,function(cc){cc=S.tupleid(cc);bb.rem.push(Yb[cc]);Yb[cc]=null});da.visit(da.ADD,function(cc){var va=Vb(cc,S.ingest({}));Yb[S.tupleid(cc)]=va;bb.add.push(va)});da.visit(da.MOD,function(cc){bb.mod.push(Vb(cc,Yb[S.tupleid(cc)]))});return bb}});q.inherits(ya,S.Transform,{transform:function(I,da){this.value=I.value;return I.modified("value")?da.fork(da.NO_SOURCE|da.NO_FIELDS):da.StopPropagation}});wb.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};q.inherits(wb,S.Transform,{transform:function(I,da){var bb=da.fork(da.NO_SOURCE|da.NO_FIELDS),La=I.as||["prob","value"];if(this.value&&!I.modified()&&!da.changed())return bb.source=this.value,bb;da=da.materialize(da.SOURCE).source;da=Za(da,I.groupby,I.field);var Fb=(I.groupby||[]).map(q.accessorName),
Vb=[],Yb=I.step||.01,cc=I.probs||Kb.range(Yb/2,1-1E-14,Yb),va=cc.length;da.forEach(function(Qa){for(var yb=Pa.quantiles(Qa,cc),Nb=0;Nb<va;++Nb){for(var gc={},tc=0;tc<Fb.length;++tc)gc[Fb[tc]]=Qa.dims[tc];gc[La[0]]=cc[Nb];gc[La[1]]=yb[Nb];Vb.push(S.ingest(gc))}});this.value&&(bb.rem=this.value);this.value=bb.add=bb.source=Vb;return bb}});q.inherits(Tb,S.Transform,{transform:function(I,da){if(this.value)var bb=this.value;else{var La=da=da.addAll();bb=this.value={}}I.derive&&(La=da.fork(da.NO_SOURCE),
da.visit(da.REM,function(Fb){Fb=S.tupleid(Fb);La.rem.push(bb[Fb]);bb[Fb]=null}),da.visit(da.ADD,function(Fb){var Vb=S.derive(Fb);bb[S.tupleid(Fb)]=Vb;La.add.push(Vb)}),da.visit(da.MOD,function(Fb){var Vb=bb[S.tupleid(Fb)],Yb;for(Yb in Fb)Vb[Yb]=Fb[Yb],La.modifies(Yb);La.mod.push(Vb)}));return La}});rb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};q.inherits(rb,S.Transform,{transform:function(I,da){function bb(yb){if(cc.length<Vb)cc.push(yb);else{var Nb=
~~((va+1)*Pa.random());if(Nb<cc.length&&Nb>=Qa){var gc=cc[Nb];Yb[S.tupleid(gc)]&&La.rem.push(gc);cc[Nb]=yb}}++va}var La=da.fork(da.NO_SOURCE),Fb=I.modified("size"),Vb=I.size,Yb=this.value.reduce(function(yb,Nb){return yb[S.tupleid(Nb)]=1,yb},{}),cc=this.value,va=this.count,Qa=0;da.rem.length&&(da.visit(da.REM,function(yb){var Nb=S.tupleid(yb);Yb[Nb]&&(Yb[Nb]=-1,La.rem.push(yb));--va}),cc=cc.filter(function(yb){return-1!==Yb[S.tupleid(yb)]}));(da.rem.length||Fb)&&cc.length<Vb&&da.source&&(Qa=va=cc.length,
da.visit(da.SOURCE,function(yb){Yb[S.tupleid(yb)]||bb(yb)}),Qa=-1);if(Fb&&cc.length>Vb){I=cc.length-Vb;for(Fb=0;Fb<I;++Fb)Yb[S.tupleid(cc[Fb])]=-1,La.rem.push(cc[Fb]);cc=cc.slice(I)}da.mod.length&&da.visit(da.MOD,function(yb){Yb[S.tupleid(yb)]&&La.mod.push(yb)});da.add.length&&da.visit(da.ADD,bb);if(da.add.length||0>Qa)La.add=cc.filter(function(yb){return!Yb[S.tupleid(yb)]});this.count=va;this.value=La.source=cc;return La}});Sb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",
type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};q.inherits(Sb,S.Transform,{transform:function(I,da){if(!this.value||I.modified()){var bb=da.materialize().fork(da.MOD),La=I.as||"data";bb.rem=this.value?da.rem.concat(this.value):da.rem;this.value=Kb.range(I.start,I.stop,I.step||1).map(function(Fb){var Vb={};Vb[La]=Fb;return S.ingest(Vb)});bb.add=da.add.concat(this.value);return bb}}});q.inherits(ic,
S.Transform,{transform:function(I,da){this.value=da.source;return da.changed()?da.fork(da.NO_SOURCE|da.NO_FIELDS):da.StopPropagation}});var De=["unit0","unit1"];rc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Ma.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":De}]};q.inherits(rc,S.Transform,{transform:function(I,da){var bb=I.field,La=!1!==I.interval,Fb="utc"===I.timezone,Vb=this._floor(I,da),Yb=(Fb?Ma.utcInterval:Ma.timeInterval)(Vb.unit).offset;Fb=I.as||De;var cc=Fb[0],va=Fb[1],Qa=Vb.step,yb=Vb.start||Infinity,Nb=Vb.stop||-Infinity,gc=da.ADD;if(I.modified()||da.modified(q.accessorFields(bb)))da=da.reflow(!0),gc=da.SOURCE,yb=Infinity,Nb=-Infinity;
da.visit(gc,function(tc){var lc=bb(tc),xb;null==lc?(tc[cc]=null,La&&(tc[va]=null)):(tc[cc]=lc=xb=Vb(lc),La&&(tc[va]=xb=Yb(lc,Qa)),lc<yb&&(yb=lc),xb>Nb&&(Nb=xb))});Vb.start=yb;Vb.stop=Nb;return da.modifies(La?Fb:cc)},_floor:function(I,da){var bb="utc"===I.timezone;da=I.units?{units:I.units,step:I.step||1}:Ma.timeBin({extent:I.extent||q.extent(da.materialize(da.SOURCE).source,I.field),maxbins:I.maxbins});I=da.step;da=Ma.timeUnits(da.units);var La=this.value||{};bb=(bb?Ma.utcFloor:Ma.timeFloor)(da,I);
bb.unit=q.peek(da);bb.units=da;bb.step=I;bb.start=La.start;bb.stop=La.stop;return this.value=bb}});q.inherits(Tc,S.Transform,{transform:function(I,da){var bb=da.dataflow,La=I.field,Fb=this.value,Vb=function(cc){return Fb.set(La(cc),cc)},Yb=!0;I.modified("field")||da.modified(La.fields)?(Fb.clear(),da.visit(da.SOURCE,Vb)):da.changed()?(da.visit(da.REM,function(cc){return Fb.delete(La(cc))}),da.visit(da.ADD,Vb)):Yb=!1;this.modified(Yb);Fb.empty>bb.cleanThreshold&&bb.runAfter(Fb.clean);return da.fork()}});
q.inherits(pc,S.Transform,{transform:function(I,da){if(!this.value||I.modified("field")||I.modified("sort")||da.changed()||I.sort&&da.modified(I.sort.fields))this.value=(I.sort?da.source.slice().sort(S.stableCompare(I.sort)):da.source).map(I.field)}});var Ne={row_number:function(){return{next:function(I){return I.index+1}}},rank:function(){var I;return{init:function(){return I=1},next:function(da){var bb=da.index,La=da.data;return bb&&da.compare(La[bb-1],La[bb])?I=bb+1:I}}},dense_rank:function(){var I;
return{init:function(){return I=1},next:function(da){var bb=da.index,La=da.data;return bb&&da.compare(La[bb-1],La[bb])?++I:I}}},percent_rank:function(){var I=Ne.rank(),da=I.next;return{init:I.init,next:function(bb){return(da(bb)-1)/(bb.data.length-1)}}},cume_dist:function(){var I;return{init:function(){return I=0},next:function(da){var bb=da.data,La=da.compare;da=da.index;if(I<da){for(;da+1<bb.length&&!La(bb[da],bb[da+1]);)++da;I=da}return(1+I)/bb.length}}},ntile:function(I,da){da=+da;0<da||q.error("ntile num must be greater than zero.");
I=Ne.cume_dist();var bb=I.next;return{init:I.init,next:function(La){return Math.ceil(da*bb(La))}}},lag:function(I,da){da=+da||1;return{next:function(bb){var La=bb.index-da;return 0<=La?I(bb.data[La]):null}}},lead:function(I,da){da=+da||1;return{next:function(bb){var La=bb.index+da;bb=bb.data;return La<bb.length?I(bb[La]):null}}},first_value:function(I){return{next:function(da){return I(da.data[da.i0])}}},last_value:function(I){return{next:function(da){return I(da.data[da.i1-1])}}},nth_value:function(I,
da){da=+da;0<da||q.error("nth_value nth must be greater than zero.");return{next:function(bb){var La=bb.i0+(da-1);return La<bb.i1?I(bb.data[La]):null}}},prev_value:function(I){var da;return{init:function(){return da=null},next:function(bb){bb=I(bb.data[bb.index]);return null!=bb?da=bb:da}}},next_value:function(I){var da,bb;return{init:function(){return da=null,bb=-1},next:function(La){var Fb=La.data;if(La.index<=bb)Fb=da;else{a:{La=La.index;for(var Vb=Fb.length;La<Vb;++La)if(null!=I(Fb[La]))break a;
La=-1}Fb=0>(bb=La)?(bb=Fb.length,da=null):da=I(Fb[bb])}return Fb}}}};Cb=Object.keys(Ne);var Md=bc.prototype;Md.init=function(){this.windows.forEach(function(I){return I.init()});this.cell&&this.cell.init()};Md.update=function(I,da){var bb=this.cell,La=this.windows,Fb=I.data,Vb=La&&La.length,Yb;if(bb){for(Yb=I.p0;Yb<I.i0;++Yb)bb.rem(Fb[Yb]);for(Yb=I.p1;Yb<I.i1;++Yb)bb.add(Fb[Yb]);bb.set(da)}for(Yb=0;Yb<Vb;++Yb)La[Yb].update(I,da)};xc.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",
type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Cb.concat(ud)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};q.inherits(xc,S.Transform,{transform:function(I,da){var bb=this;this.stamp=da.stamp;var La=I.modified(),Fb=S.stableCompare(I.sort),
Vb=Eb(I.groupby),Yb=this.state;if(!Yb||La)Yb=this.state=new bc(I);La||da.modified(Yb.inputs)?(this.value={},da.visit(da.SOURCE,function(Qa){return bb.group(Vb(Qa)).add(Qa)})):(da.visit(da.REM,function(Qa){return bb.group(Vb(Qa)).remove(Qa)}),da.visit(da.ADD,function(Qa){return bb.group(Vb(Qa)).add(Qa)}));for(var cc=0,va=this._mlen;cc<va;++cc)Xc(this._mods[cc],Yb,Fb,I);this._mlen=0;this._mods=[];return da.reflow(La).modifies(Yb.outputs)},group:function(I){var da=this.value[I];da||(da=this.value[I]=
Ra(S.tupleid),da.stamp=-1);da.stamp<this.stamp&&(da.stamp=this.stamp,this._mods[this._mlen++]=da);return da}});n.aggregate=ja;n.bin=ba;n.collect=xa;n.compare=Oa;n.countpattern=ia;n.cross=wa;n.density=qa;n.dotbin=jb;n.expression=y;n.extent=G;n.facet=z;n.field=F;n.filter=ka;n.flatten=Ia;n.fold=Ta;n.formula=D;n.generate=fa;n.impute=Y;n.joinaggregate=l;n.kde=k;n.key=p;n.load=w;n.lookup=ma;n.multiextent=ua;n.multivalues=cb;n.params=Ka;n.pivot=Z;n.prefacet=Hb;n.project=Xb;n.proxy=ya;n.quantile=wb;n.relay=
Tb;n.sample=rb;n.sequence=Sb;n.sieve=ic;n.subflow=J;n.timeunit=rc;n.tupleindex=Tc;n.values=pc;n.window=xc;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[15]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function S(){return new q}var Pa=Math.PI,Kb=2*Pa,Ma=Kb-1E-6;q.prototype=S.prototype={constructor:q,moveTo:function(db,Eb){this._+="M"+(this._x0=this._x1=+db)+","+(this._y0=this._y1=+Eb)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(db,Eb){this._+="L"+(this._x1=+db)+","+(this._y1=+Eb)},quadraticCurveTo:function(db,Eb,qb,Ea){this._+="Q"+ +db+","+ +Eb+","+(this._x1=+qb)+","+(this._y1=+Ea)},bezierCurveTo:function(db,Eb,qb,Ea,ab,fb){this._+="C"+ +db+","+ +Eb+","+ +qb+","+ +Ea+","+(this._x1=+ab)+","+(this._y1=+fb)},arcTo:function(db,Eb,qb,Ea,ab){db=+db;Eb=+Eb;qb=+qb;Ea=+Ea;ab=+ab;var fb=this._x1,Ja=this._y1,ea=qb-db,pa=Ea-Eb,Ha=fb-db,Wa=Ja-Eb,ja=Ha*Ha+Wa*Wa;if(0>ab)throw Error("negative radius: "+
ab);if(null===this._x1)this._+="M"+(this._x1=db)+","+(this._y1=Eb);else if(1E-6<ja)if(1E-6<Math.abs(Wa*ea-pa*Ha)&&ab){qb-=fb;Ea-=Ja;var ba=ea*ea+pa*pa;Ja=Math.sqrt(ba);fb=Math.sqrt(ja);ja=ab*Math.tan((Pa-Math.acos((ba+ja-(qb*qb+Ea*Ea))/(2*Ja*fb)))/2);fb=ja/fb;ja/=Ja;1E-6<Math.abs(fb-1)&&(this._+="L"+(db+fb*Ha)+","+(Eb+fb*Wa));this._+="A"+ab+","+ab+",0,0,"+ +(Wa*qb>Ha*Ea)+","+(this._x1=db+ja*ea)+","+(this._y1=Eb+ja*pa)}else this._+="L"+(this._x1=db)+","+(this._y1=Eb)},arc:function(db,Eb,qb,Ea,ab,fb){db=
+db;Eb=+Eb;qb=+qb;fb=!!fb;var Ja=qb*Math.cos(Ea),ea=qb*Math.sin(Ea),pa=db+Ja,Ha=Eb+ea,Wa=1^fb;Ea=fb?Ea-ab:ab-Ea;if(0>qb)throw Error("negative radius: "+qb);if(null===this._x1)this._+="M"+pa+","+Ha;else if(1E-6<Math.abs(this._x1-pa)||1E-6<Math.abs(this._y1-Ha))this._+="L"+pa+","+Ha;qb&&(0>Ea&&(Ea=Ea%Kb+Kb),Ea>Ma?this._+="A"+qb+","+qb+",0,1,"+Wa+","+(db-Ja)+","+(Eb-ea)+"A"+qb+","+qb+",0,1,"+Wa+","+(this._x1=pa)+","+(this._y1=Ha):1E-6<Ea&&(this._+="A"+qb+","+qb+",0,"+ +(Ea>=Pa)+","+Wa+","+(this._x1=
db+qb*Math.cos(ab))+","+(this._y1=Eb+qb*Math.sin(ab))))},rect:function(db,Eb,qb,Ea){this._+="M"+(this._x0=this._x1=+db)+","+(this._y0=this._y1=+Eb)+"h"+ +qb+"v"+ +Ea+"h"+-qb+"Z"},toString:function(){return this._}};n.path=S;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[16]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(15)):"function"===typeof define&&define.amd?define(["exports","d3-path"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(va){return function(){return va}}function Pa(va){return 1<=va?ic:-1>=va?-ic:Math.asin(va)}function Kb(va){return va.innerRadius}function Ma(va){return va.outerRadius}function db(va){return va.startAngle}function Eb(va){return va.endAngle}function qb(va){return va&&
va.padAngle}function Ea(va,Qa,yb,Nb,gc,tc,lc){var xb=va-yb,Qb=Qa-Nb;lc=(lc?tc:-tc)/rb(xb*xb+Qb*Qb);Qb*=lc;xb*=-lc;var Gc=va+Qb,$b=Qa+xb,Ac=yb+Qb,Jc=Nb+xb;yb=(Gc+Ac)/2;Nb=($b+Jc)/2;Qa=Ac-Gc;va=Jc-$b;lc=Qa*Qa+va*va;tc=gc-tc;Jc=Gc*Jc-Ac*$b;var Hc=(0>va?-1:1)*rb(ya(0,tc*tc*lc-Jc*Jc));Gc=(Jc*va-Qa*Hc)/lc;$b=(-Jc*Qa-va*Hc)/lc;Ac=(Jc*va+Qa*Hc)/lc;Qa=(-Jc*Qa+va*Hc)/lc;va=Gc-yb;lc=$b-Nb;yb=Ac-yb;Nb=Qa-Nb;va*va+lc*lc>yb*yb+Nb*Nb&&(Gc=Ac,$b=Qa);return{cx:Gc,cy:$b,x01:-Qb,y01:-xb,x11:Gc*(gc/tc-1),y11:$b*(gc/
tc-1)}}function ab(va){return"object"===typeof va&&"length"in va?va:Array.from(va)}function fb(va){this._context=va}function Ja(va){return new fb(va)}function ea(va){return va[0]}function pa(va){return va[1]}function Ha(va,Qa){function yb(xb){var Qb,Gc=(xb=ab(xb)).length,$b,Ac=!1,Jc;null==gc&&(lc=tc(Jc=q.path()));for(Qb=0;Qb<=Gc;++Qb)!(Qb<Gc&&Nb($b=xb[Qb],Qb,xb))===Ac&&((Ac=!Ac)?lc.lineStart():lc.lineEnd()),Ac&&lc.point(+va($b,Qb,xb),+Qa($b,Qb,xb));if(Jc)return lc=null,Jc+""||null}var Nb=S(!0),gc=
null,tc=Ja,lc=null;va="function"===typeof va?va:void 0===va?ea:S(va);Qa="function"===typeof Qa?Qa:void 0===Qa?pa:S(Qa);yb.x=function(xb){return arguments.length?(va="function"===typeof xb?xb:S(+xb),yb):va};yb.y=function(xb){return arguments.length?(Qa="function"===typeof xb?xb:S(+xb),yb):Qa};yb.defined=function(xb){return arguments.length?(Nb="function"===typeof xb?xb:S(!!xb),yb):Nb};yb.curve=function(xb){return arguments.length?(tc=xb,null!=gc&&(lc=tc(gc)),yb):tc};yb.context=function(xb){return arguments.length?
(null==xb?gc=lc=null:lc=tc(gc=xb),yb):gc};return yb}function Wa(va,Qa,yb){function Nb($b){var Ac,Jc,Hc=($b=ab($b)).length,ad,md=!1,od,rd=Array(Hc),Vd=Array(Hc);null==xb&&(Gc=Qb(od=q.path()));for(Ac=0;Ac<=Hc;++Ac){if(!(Ac<Hc&&lc(ad=$b[Ac],Ac,$b))===md)if(md=!md){var Zd=Ac;Gc.areaStart();Gc.lineStart()}else{Gc.lineEnd();Gc.lineStart();for(Jc=Ac-1;Jc>=Zd;--Jc)Gc.point(rd[Jc],Vd[Jc]);Gc.lineEnd();Gc.areaEnd()}md&&(rd[Ac]=+va(ad,Ac,$b),Vd[Ac]=+Qa(ad,Ac,$b),Gc.point(tc?+tc(ad,Ac,$b):rd[Ac],yb?+yb(ad,Ac,
$b):Vd[Ac]))}if(od)return Gc=null,od+""||null}function gc(){return Ha().defined(lc).curve(Qb).context(xb)}var tc=null,lc=S(!0),xb=null,Qb=Ja,Gc=null;va="function"===typeof va?va:void 0===va?ea:S(+va);Qa="function"===typeof Qa?Qa:void 0===Qa?S(0):S(+Qa);yb="function"===typeof yb?yb:void 0===yb?pa:S(+yb);Nb.x=function($b){return arguments.length?(va="function"===typeof $b?$b:S(+$b),tc=null,Nb):va};Nb.x0=function($b){return arguments.length?(va="function"===typeof $b?$b:S(+$b),Nb):va};Nb.x1=function($b){return arguments.length?
(tc=null==$b?null:"function"===typeof $b?$b:S(+$b),Nb):tc};Nb.y=function($b){return arguments.length?(Qa="function"===typeof $b?$b:S(+$b),yb=null,Nb):Qa};Nb.y0=function($b){return arguments.length?(Qa="function"===typeof $b?$b:S(+$b),Nb):Qa};Nb.y1=function($b){return arguments.length?(yb=null==$b?null:"function"===typeof $b?$b:S(+$b),Nb):yb};Nb.lineX0=Nb.lineY0=function(){return gc().x(va).y(Qa)};Nb.lineY1=function(){return gc().x(va).y(yb)};Nb.lineX1=function(){return gc().x(tc).y(Qa)};Nb.defined=
function($b){return arguments.length?(lc="function"===typeof $b?$b:S(!!$b),Nb):lc};Nb.curve=function($b){return arguments.length?(Qb=$b,null!=xb&&(Gc=Qb(xb)),Nb):Qb};Nb.context=function($b){return arguments.length?(null==$b?xb=Gc=null:Gc=Qb(xb=$b),Nb):xb};return Nb}function ja(va,Qa){return Qa<va?-1:Qa>va?1:Qa>=va?0:NaN}function ba(va){return va}function Ra(va){this._curve=va}function xa(va){function Qa(yb){return new Ra(va(yb))}Qa._curve=va;return Qa}function Oa(va){var Qa=va.curve;va.angle=va.x;
delete va.x;va.radius=va.y;delete va.y;va.curve=function(yb){return arguments.length?Qa(xa(yb)):Qa()._curve};return va}function za(){return Oa(Ha().curve(pc))}function ia(){var va=Wa().curve(pc),Qa=va.curve,yb=va.lineX0,Nb=va.lineX1,gc=va.lineY0,tc=va.lineY1;va.angle=va.x;delete va.x;va.startAngle=va.x0;delete va.x0;va.endAngle=va.x1;delete va.x1;va.radius=va.y;delete va.y;va.innerRadius=va.y0;delete va.y0;va.outerRadius=va.y1;delete va.y1;va.lineStartAngle=function(){return Oa(yb())};delete va.lineX0;
va.lineEndAngle=function(){return Oa(Nb())};delete va.lineX1;va.lineInnerRadius=function(){return Oa(gc())};delete va.lineY0;va.lineOuterRadius=function(){return Oa(tc())};delete va.lineY1;va.curve=function(lc){return arguments.length?Qa(xa(lc)):Qa()._curve};return va}function wa(va,Qa){return[(Qa=+Qa)*Math.cos(va-=Math.PI/2),Qa*Math.sin(va)]}function sa(va){return va.source}function qa(va){return va.target}function Fa(va){function Qa(){var xb,Qb=Tc.call(arguments),Gc=yb.apply(this,Qb),$b=Nb.apply(this,
Qb);lc||(lc=xb=q.path());va(lc,+gc.apply(this,(Qb[0]=Gc,Qb)),+tc.apply(this,Qb),+gc.apply(this,(Qb[0]=$b,Qb)),+tc.apply(this,Qb));if(xb)return lc=null,xb+""||null}var yb=sa,Nb=qa,gc=ea,tc=pa,lc=null;Qa.source=function(xb){return arguments.length?(yb=xb,Qa):yb};Qa.target=function(xb){return arguments.length?(Nb=xb,Qa):Nb};Qa.x=function(xb){return arguments.length?(gc="function"===typeof xb?xb:S(+xb),Qa):gc};Qa.y=function(xb){return arguments.length?(tc="function"===typeof xb?xb:S(+xb),Qa):tc};Qa.context=
function(xb){return arguments.length?(lc=null==xb?null:xb,Qa):lc};return Qa}function Ca(va,Qa,yb,Nb,gc){va.moveTo(Qa,yb);va.bezierCurveTo(Qa=(Qa+Nb)/2,yb,Qa,gc,Nb,gc)}function Za(va,Qa,yb,Nb,gc){va.moveTo(Qa,yb);va.bezierCurveTo(Qa,yb=(yb+gc)/2,Nb,yb,Nb,gc)}function jb(va,Qa,yb,Nb,gc){var tc=wa(Qa,yb);Qa=wa(Qa,yb=(yb+gc)/2);yb=wa(Nb,yb);Nb=wa(Nb,gc);va.moveTo(tc[0],tc[1]);va.bezierCurveTo(Qa[0],Qa[1],yb[0],yb[1],Nb[0],Nb[1])}function y(){}function x(va,Qa,yb){va._context.bezierCurveTo((2*va._x0+va._x1)/
3,(2*va._y0+va._y1)/3,(va._x0+2*va._x1)/3,(va._y0+2*va._y1)/3,(va._x0+4*va._x1+Qa)/6,(va._y0+4*va._y1+yb)/6)}function G(va){this._context=va}function J(va){this._context=va}function z(va){this._context=va}function F(va,Qa){this._basis=new G(va);this._beta=Qa}function M(va,Qa,yb){va._context.bezierCurveTo(va._x1+va._k*(va._x2-va._x0),va._y1+va._k*(va._y2-va._y0),va._x2+va._k*(va._x1-Qa),va._y2+va._k*(va._y1-yb),va._x2,va._y2)}function ka(va,Qa){this._context=va;this._k=(1-Qa)/6}function Ia(va,Qa){this._context=
va;this._k=(1-Qa)/6}function Ta(va,Qa){this._context=va;this._k=(1-Qa)/6}function D(va,Qa,yb){var Nb=va._x1,gc=va._y1,tc=va._x2,lc=va._y2;if(1E-12<va._l01_a){var xb=2*va._l01_2a+3*va._l01_a*va._l12_a+va._l12_2a,Qb=3*va._l01_a*(va._l01_a+va._l12_a);Nb=(Nb*xb-va._x0*va._l12_2a+va._x2*va._l01_2a)/Qb;gc=(gc*xb-va._y0*va._l12_2a+va._y2*va._l01_2a)/Qb}1E-12<va._l23_a&&(xb=2*va._l23_2a+3*va._l23_a*va._l12_a+va._l12_2a,Qb=3*va._l23_a*(va._l23_a+va._l12_a),tc=(tc*xb+va._x1*va._l23_2a-Qa*va._l12_2a)/Qb,lc=
(lc*xb+va._y1*va._l23_2a-yb*va._l12_2a)/Qb);va._context.bezierCurveTo(Nb,gc,tc,lc,va._x2,va._y2)}function fa(va,Qa){this._context=va;this._alpha=Qa}function Y(va,Qa){this._context=va;this._alpha=Qa}function W(va,Qa){this._context=va;this._alpha=Qa}function H(va){this._context=va}function T(va,Qa,yb){var Nb=va._x1-va._x0;Qa-=va._x1;var gc=(va._y1-va._y0)/(Nb||0>Qa&&-0);va=(yb-va._y1)/(Qa||0>Nb&&-0);return((0>gc?-1:1)+(0>va?-1:1))*Math.min(Math.abs(gc),Math.abs(va),.5*Math.abs((gc*Qa+va*Nb)/(Nb+Qa)))||
0}function l(va,Qa){var yb=va._x1-va._x0;return yb?(3*(va._y1-va._y0)/yb-Qa)/2:Qa}function k(va,Qa,yb){var Nb=va._x0,gc=va._x1,tc=va._y1,lc=(gc-Nb)/3;va._context.bezierCurveTo(Nb+lc,va._y0+lc*Qa,gc-lc,tc-lc*yb,gc,tc)}function p(va){this._context=va}function t(va){this._context=new w(va)}function w(va){this._context=va}function O(va){this._context=va}function la(va){var Qa,yb=va.length-1,Nb=Array(yb),gc=Array(yb),tc=Array(yb);Nb[0]=0;gc[0]=2;tc[0]=va[0]+2*va[1];for(Qa=1;Qa<yb-1;++Qa)Nb[Qa]=1,gc[Qa]=
4,tc[Qa]=4*va[Qa]+2*va[Qa+1];Nb[yb-1]=2;gc[yb-1]=7;tc[yb-1]=8*va[yb-1]+va[yb];for(Qa=1;Qa<yb;++Qa){var lc=Nb[Qa]/gc[Qa-1];gc[Qa]-=lc;tc[Qa]-=lc*tc[Qa-1]}Nb[yb-1]=tc[yb-1]/gc[yb-1];for(Qa=yb-2;0<=Qa;--Qa)Nb[Qa]=(tc[Qa]-Nb[Qa+1])/gc[Qa];gc[yb-1]=(va[yb]+Nb[yb-1])/2;for(Qa=0;Qa<yb-1;++Qa)gc[Qa]=2*va[Qa+1]-Nb[Qa+1];return[Nb,gc]}function ma(va,Qa){this._context=va;this._t=Qa}function ua(va,Qa){if(1<(lc=va.length))for(var yb=1,Nb,gc,tc=va[Qa[0]],lc,xb=tc.length;yb<lc;++yb)for(gc=tc,tc=va[Qa[yb]],Nb=0;Nb<
xb;++Nb)tc[Nb][1]+=tc[Nb][0]=isNaN(gc[Nb][1])?gc[Nb][0]:gc[Nb][1]}function eb(va){va=va.length;for(var Qa=Array(va);0<=--va;)Qa[va]=va;return Qa}function cb(va,Qa){return va[Qa]}function Ba(va){var Qa=[];Qa.key=va;return Qa}function Ka(va){var Qa=va.map(Z);return eb(va).sort(function(yb,Nb){return Qa[yb]-Qa[Nb]})}function Z(va){for(var Qa=-1,yb=0,Nb=va.length,gc,tc=-Infinity;++Qa<Nb;)(gc=+va[Qa][1])>tc&&(tc=gc,yb=Qa);return yb}function ra(va){var Qa=va.map(hb);return eb(va).sort(function(yb,Nb){return Qa[yb]-
Qa[Nb]})}function hb(va){for(var Qa=0,yb=-1,Nb=va.length,gc;++yb<Nb;)if(gc=+va[yb][1])Qa+=gc;return Qa}var mb=Math.abs,Hb=Math.atan2,Xb=Math.cos,ya=Math.max,wb=Math.min,Tb=Math.sin,rb=Math.sqrt,Sb=Math.PI,ic=Sb/2,rc=2*Sb,Tc=Array.prototype.slice;fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,
Qa){va=+va;Qa=+Qa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,Qa):this._context.moveTo(va,Qa);break;case 1:this._point=2;default:this._context.lineTo(va,Qa)}}};var pc=xa(Ja);Ra.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(va,Qa){this._curve.point(Qa*Math.sin(va),Qa*-Math.cos(va))}};var tb={draw:function(va,Qa){Qa=
Math.sqrt(Qa/Sb);va.moveTo(Qa,0);va.arc(0,0,Qa,0,rc)}},bc={draw:function(va,Qa){Qa=Math.sqrt(Qa/5)/2;va.moveTo(-3*Qa,-Qa);va.lineTo(-Qa,-Qa);va.lineTo(-Qa,-3*Qa);va.lineTo(Qa,-3*Qa);va.lineTo(Qa,-Qa);va.lineTo(3*Qa,-Qa);va.lineTo(3*Qa,Qa);va.lineTo(Qa,Qa);va.lineTo(Qa,3*Qa);va.lineTo(-Qa,3*Qa);va.lineTo(-Qa,Qa);va.lineTo(-3*Qa,Qa);va.closePath()}},Mb=Math.sqrt(1/3),xc=2*Mb,Xc={draw:function(va,Qa){Qa=Math.sqrt(Qa/xc);var yb=Qa*Mb;va.moveTo(0,-Qa);va.lineTo(yb,0);va.lineTo(0,Qa);va.lineTo(-yb,0);va.closePath()}},
ud=Math.sin(Sb/10)/Math.sin(7*Sb/10),xd=Math.sin(rc/10)*ud,ae=-Math.cos(rc/10)*ud;ud={draw:function(va,Qa){Qa=Math.sqrt(.8908130915292852*Qa);var yb=xd*Qa,Nb=ae*Qa;va.moveTo(0,-Qa);va.lineTo(yb,Nb);for(var gc=1;5>gc;++gc){var tc=rc*gc/5,lc=Math.cos(tc);tc=Math.sin(tc);va.lineTo(tc*Qa,-lc*Qa);va.lineTo(lc*yb-tc*Nb,tc*yb+lc*Nb)}va.closePath()}};var Cb={draw:function(va,Qa){Qa=Math.sqrt(Qa);var yb=-Qa/2;va.rect(yb,yb,Qa,Qa)}},Rb=Math.sqrt(3),Rc={draw:function(va,Qa){Qa=-Math.sqrt(Qa/(3*Rb));va.moveTo(0,
2*Qa);va.lineTo(-Rb*Qa,-Qa);va.lineTo(Rb*Qa,-Qa);va.closePath()}},se=Math.sqrt(3)/2,De=1/Math.sqrt(12),Ne=3*(De/2+1),Md={draw:function(va,Qa){var yb=Math.sqrt(Qa/Ne);Qa=yb/2;var Nb=yb*De;yb=yb*De+yb;var gc=-Qa;va.moveTo(Qa,Nb);va.lineTo(Qa,yb);va.lineTo(gc,yb);va.lineTo(-.5*Qa-se*Nb,se*Qa+-.5*Nb);va.lineTo(-.5*Qa-se*yb,se*Qa+-.5*yb);va.lineTo(-.5*gc-se*yb,se*gc+-.5*yb);va.lineTo(-.5*Qa+se*Nb,-.5*Nb-se*Qa);va.lineTo(-.5*Qa+se*yb,-.5*yb-se*Qa);va.lineTo(-.5*gc+se*yb,-.5*yb-se*gc);va.closePath()}},I=
[tb,bc,Xc,Cb,ud,Rc,Md];G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Qa){va=+va;Qa=+Qa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,
Qa):this._context.moveTo(va,Qa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x(this,va,Qa)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Qa}};J.prototype={areaStart:y,areaEnd:y,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();
break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(va,Qa){va=+va;Qa=+Qa;switch(this._point){case 0:this._point=1;this._x2=va;this._y2=Qa;break;case 1:this._point=2;this._x3=va;this._y3=Qa;break;case 2:this._point=3;this._x4=va;this._y4=Qa;this._context.moveTo((this._x0+
4*this._x1+va)/6,(this._y0+4*this._y1+Qa)/6);break;default:x(this,va,Qa)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Qa}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Qa){va=+va;Qa=+Qa;switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;var yb=(this._x0+4*this._x1+va)/6,Nb=(this._y0+4*this._y1+Qa)/6;this._line?this._context.lineTo(yb,Nb):this._context.moveTo(yb,Nb);break;case 3:this._point=4;default:x(this,va,Qa)}this._x0=this._x1;this._x1=va;this._y0=this._y1;this._y1=Qa}};F.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var va=this._x,Qa=this._y,yb=va.length-1;if(0<yb)for(var Nb=va[0],gc=Qa[0],tc=va[yb]-Nb,lc=Qa[yb]-gc,xb=-1,Qb;++xb<=yb;)Qb=xb/yb,this._basis.point(this._beta*
va[xb]+(1-this._beta)*(Nb+Qb*tc),this._beta*Qa[xb]+(1-this._beta)*(gc+Qb*lc));this._x=this._y=null;this._basis.lineEnd()},point:function(va,Qa){this._x.push(+va);this._y.push(+Qa)}};var da=function yb(Qa){function Nb(gc){return 1===Qa?new G(gc):new F(gc,Qa)}Nb.beta=function(gc){return yb(+gc)};return Nb}(.85);ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:M(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Qa,yb){Qa=+Qa;yb=+yb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Qa,yb):this._context.moveTo(Qa,yb);break;case 1:this._point=2;this._x1=Qa;this._y1=yb;break;case 2:this._point=3;default:M(this,Qa,yb)}this._x0=this._x1;this._x1=this._x2;this._x2=Qa;this._y0=this._y1;this._y1=this._y2;this._y2=yb}};var bb=function Nb(yb){function gc(tc){return new ka(tc,
yb)}gc.tension=function(tc){return Nb(+tc)};return gc}(0);Ia.prototype={areaStart:y,areaEnd:y,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(yb,Nb){yb=+yb;Nb=+Nb;switch(this._point){case 0:this._point=1;this._x3=yb;this._y3=Nb;break;case 1:this._point=2;this._context.moveTo(this._x4=yb,this._y4=Nb);break;case 2:this._point=3;this._x5=yb;this._y5=Nb;break;default:M(this,yb,Nb)}this._x0=this._x1;this._x1=this._x2;this._x2=yb;this._y0=this._y1;this._y1=this._y2;this._y2=Nb}};var La=function gc(Nb){function tc(lc){return new Ia(lc,Nb)}tc.tension=function(lc){return gc(+lc)};return tc}(0);Ta.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Nb,gc){Nb=+Nb;gc=+gc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:M(this,Nb,gc)}this._x0=this._x1;this._x1=this._x2;this._x2=Nb;this._y0=this._y1;this._y1=this._y2;this._y2=gc}};var Fb=function tc(gc){function lc(xb){return new Ta(xb,gc)}lc.tension=function(xb){return tc(+xb)};return lc}(0);fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(gc,tc){gc=+gc;tc=+tc;if(this._point){var lc=this._x2-gc,xb=this._y2-tc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lc*lc+xb*xb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(gc,tc):this._context.moveTo(gc,tc);break;case 1:this._point=
2;break;case 2:this._point=3;default:D(this,gc,tc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=gc;this._y0=this._y1;this._y1=this._y2;this._y2=tc}};var Vb=function lc(tc){function xb(Qb){return tc?new fa(Qb,tc):new ka(Qb,0)}xb.alpha=function(Qb){return lc(+Qb)};return xb}(.5);Y.prototype={areaStart:y,areaEnd:y,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(tc,lc){tc=+tc;lc=+lc;if(this._point){var xb=this._x2-tc,Qb=this._y2-
lc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(xb*xb+Qb*Qb,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=tc;this._y3=lc;break;case 1:this._point=2;this._context.moveTo(this._x4=tc,this._y4=lc);break;case 2:this._point=3;this._x5=tc;this._y5=lc;break;default:D(this,tc,lc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=tc;this._y0=this._y1;this._y1=this._y2;this._y2=lc}};var Yb=function xb(lc){function Qb(Gc){return lc?
new Y(Gc,lc):new Ia(Gc,0)}Qb.alpha=function(Gc){return xb(+Gc)};return Qb}(.5);W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(lc,xb){lc=+lc;xb=+xb;if(this._point){var Qb=
this._x2-lc,Gc=this._y2-xb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Qb*Qb+Gc*Gc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:D(this,lc,xb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=lc;this._y0=this._y1;this._y1=
this._y2;this._y2=xb}};var cc=function Qb(xb){function Gc($b){return xb?new W($b,xb):new Ta($b,0)}Gc.alpha=function($b){return Qb(+$b)};return Gc}(.5);H.prototype={areaStart:y,areaEnd:y,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(xb,Qb){xb=+xb;Qb=+Qb;this._point?this._context.lineTo(xb,Qb):(this._point=1,this._context.moveTo(xb,Qb))}};p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k(this,this._t0,l(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xb,Qb){var Gc=NaN;xb=+xb;Qb=+Qb;if(xb!==this._x1||Qb!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xb,Qb):this._context.moveTo(xb,Qb);break;case 1:this._point=2;
break;case 2:this._point=3;k(this,l(this,Gc=T(this,xb,Qb)),Gc);break;default:k(this,this._t0,Gc=T(this,xb,Qb))}this._x0=this._x1;this._x1=xb;this._y0=this._y1;this._y1=Qb;this._t0=Gc}}};(t.prototype=Object.create(p.prototype)).point=function(xb,Qb){p.prototype.point.call(this,Qb,xb)};w.prototype={moveTo:function(xb,Qb){this._context.moveTo(Qb,xb)},closePath:function(){this._context.closePath()},lineTo:function(xb,Qb){this._context.lineTo(Qb,xb)},bezierCurveTo:function(xb,Qb,Gc,$b,Ac,Jc){this._context.bezierCurveTo(Qb,
xb,$b,Gc,Jc,Ac)}};O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var xb=this._x,Qb=this._y,Gc=xb.length;if(Gc)if(this._line?this._context.lineTo(xb[0],Qb[0]):this._context.moveTo(xb[0],Qb[0]),2===Gc)this._context.lineTo(xb[1],Qb[1]);else for(var $b=la(xb),Ac=la(Qb),Jc=0,Hc=1;Hc<Gc;++Jc,++Hc)this._context.bezierCurveTo($b[0][Jc],Ac[0][Jc],$b[1][Jc],Ac[1][Jc],xb[Hc],Qb[Hc]);(this._line||0!==this._line&&
1===Gc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(xb,Qb){this._x.push(+xb);this._y.push(+Qb)}};ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(xb,Qb){xb=+xb;Qb=+Qb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xb,Qb):this._context.moveTo(xb,Qb);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Qb),this._context.lineTo(xb,Qb);else{var Gc=this._x*(1-this._t)+xb*this._t;this._context.lineTo(Gc,this._y);this._context.lineTo(Gc,Qb)}}this._x=xb;this._y=Qb}};n.arc=function(){function xb(){var od,rd=+Qb.apply(this,arguments),Vd=+Gc.apply(this,arguments),Zd=Jc.apply(this,arguments)-
ic,ze=Hc.apply(this,arguments)-ic,te=mb(ze-Zd),ue=ze>Zd;md||(md=od=q.path());if(Vd<rd){var bf=Vd;Vd=rd;rd=bf}if(1E-12<Vd)if(te>rc-1E-12)md.moveTo(Vd*Xb(Zd),Vd*Tb(Zd)),md.arc(0,0,Vd,Zd,ze,!ue),1E-12<rd&&(md.moveTo(rd*Xb(ze),rd*Tb(ze)),md.arc(0,0,rd,ze,Zd,ue));else{var vd=Zd,N=ze;bf=Zd;var na=ze,Da=te,gb=te,Sa=ad.apply(this,arguments)/2,Pb=1E-12<Sa&&(Ac?+Ac.apply(this,arguments):rb(rd*rd+Vd*Vd)),kc=wb(mb(Vd-rd)/2,+$b.apply(this,arguments)),oc=kc,qc=kc;if(1E-12<Pb){var uc=Pa(Pb/rd*Tb(Sa));Sa=Pa(Pb/Vd*
Tb(Sa));1E-12<(Da-=2*uc)?(uc*=ue?1:-1,bf+=uc,na-=uc):(Da=0,bf=na=(Zd+ze)/2);1E-12<(gb-=2*Sa)?(Sa*=ue?1:-1,vd+=Sa,N-=Sa):(gb=0,vd=N=(Zd+ze)/2)}Zd=Vd*Xb(vd);ze=Vd*Tb(vd);uc=rd*Xb(na);Sa=rd*Tb(na);if(1E-12<kc){var kd=Vd*Xb(N),pd=Vd*Tb(N),yd=rd*Xb(bf),ld=rd*Tb(bf);if(te=te<Sb){var Od=yd-Zd;te=ld-ze;Pb=uc-kd;var de=Sa-pd,jc=de*Od-Pb*te;1E-12>jc*jc?Od=void 0:(jc=(Pb*(ze-pd)-de*(Zd-kd))/jc,Od=[Zd+jc*Od,ze+jc*te]);te=Od}te&&(oc=Zd-Od[0],qc=ze-Od[1],te=kd-Od[0],Pb=pd-Od[1],oc=(oc*te+qc*Pb)/(rb(oc*oc+qc*qc)*
rb(te*te+Pb*Pb)),qc=1/Tb((1<oc?0:-1>oc?Sb:Math.acos(oc))/2),Od=rb(Od[0]*Od[0]+Od[1]*Od[1]),oc=wb(kc,(rd-Od)/(qc-1)),qc=wb(kc,(Vd-Od)/(qc+1)))}1E-12<gb?1E-12<qc?(vd=Ea(yd,ld,Zd,ze,Vd,qc,ue),N=Ea(kd,pd,uc,Sa,Vd,qc,ue),md.moveTo(vd.cx+vd.x01,vd.cy+vd.y01),qc<kc?md.arc(vd.cx,vd.cy,qc,Hb(vd.y01,vd.x01),Hb(N.y01,N.x01),!ue):(md.arc(vd.cx,vd.cy,qc,Hb(vd.y01,vd.x01),Hb(vd.y11,vd.x11),!ue),md.arc(0,0,Vd,Hb(vd.cy+vd.y11,vd.cx+vd.x11),Hb(N.cy+N.y11,N.cx+N.x11),!ue),md.arc(N.cx,N.cy,qc,Hb(N.y11,N.x11),Hb(N.y01,
N.x01),!ue))):(md.moveTo(Zd,ze),md.arc(0,0,Vd,vd,N,!ue)):md.moveTo(Zd,ze);1E-12<rd&&1E-12<Da?1E-12<oc?(vd=Ea(uc,Sa,kd,pd,rd,-oc,ue),N=Ea(Zd,ze,yd,ld,rd,-oc,ue),md.lineTo(vd.cx+vd.x01,vd.cy+vd.y01),oc<kc?md.arc(vd.cx,vd.cy,oc,Hb(vd.y01,vd.x01),Hb(N.y01,N.x01),!ue):(md.arc(vd.cx,vd.cy,oc,Hb(vd.y01,vd.x01),Hb(vd.y11,vd.x11),!ue),md.arc(0,0,rd,Hb(vd.cy+vd.y11,vd.cx+vd.x11),Hb(N.cy+N.y11,N.cx+N.x11),ue),md.arc(N.cx,N.cy,oc,Hb(N.y11,N.x11),Hb(N.y01,N.x01),!ue))):md.arc(0,0,rd,na,bf,ue):md.lineTo(uc,Sa)}else md.moveTo(0,
0);md.closePath();if(od)return md=null,od+""||null}var Qb=Kb,Gc=Ma,$b=S(0),Ac=null,Jc=db,Hc=Eb,ad=qb,md=null;xb.centroid=function(){var od=(+Qb.apply(this,arguments)+ +Gc.apply(this,arguments))/2,rd=(+Jc.apply(this,arguments)+ +Hc.apply(this,arguments))/2-Sb/2;return[Xb(rd)*od,Tb(rd)*od]};xb.innerRadius=function(od){return arguments.length?(Qb="function"===typeof od?od:S(+od),xb):Qb};xb.outerRadius=function(od){return arguments.length?(Gc="function"===typeof od?od:S(+od),xb):Gc};xb.cornerRadius=function(od){return arguments.length?
($b="function"===typeof od?od:S(+od),xb):$b};xb.padRadius=function(od){return arguments.length?(Ac=null==od?null:"function"===typeof od?od:S(+od),xb):Ac};xb.startAngle=function(od){return arguments.length?(Jc="function"===typeof od?od:S(+od),xb):Jc};xb.endAngle=function(od){return arguments.length?(Hc="function"===typeof od?od:S(+od),xb):Hc};xb.padAngle=function(od){return arguments.length?(ad="function"===typeof od?od:S(+od),xb):ad};xb.context=function(od){return arguments.length?(md=null==od?null:
od,xb):md};return xb};n.area=Wa;n.areaRadial=ia;n.curveBasis=function(xb){return new G(xb)};n.curveBasisClosed=function(xb){return new J(xb)};n.curveBasisOpen=function(xb){return new z(xb)};n.curveBundle=da;n.curveCardinal=bb;n.curveCardinalClosed=La;n.curveCardinalOpen=Fb;n.curveCatmullRom=Vb;n.curveCatmullRomClosed=Yb;n.curveCatmullRomOpen=cc;n.curveLinear=Ja;n.curveLinearClosed=function(xb){return new H(xb)};n.curveMonotoneX=function(xb){return new p(xb)};n.curveMonotoneY=function(xb){return new t(xb)};
n.curveNatural=function(xb){return new O(xb)};n.curveStep=function(xb){return new ma(xb,.5)};n.curveStepAfter=function(xb){return new ma(xb,1)};n.curveStepBefore=function(xb){return new ma(xb,0)};n.line=Ha;n.lineRadial=za;n.linkHorizontal=function(){return Fa(Ca)};n.linkRadial=function(){var xb=Fa(jb);xb.angle=xb.x;delete xb.x;xb.radius=xb.y;delete xb.y;return xb};n.linkVertical=function(){return Fa(Za)};n.pie=function(){function xb(ad){var md,od=(ad=ab(ad)).length;var rd=0;var Vd=Array(od),Zd=Array(od),
ze=+Ac.apply(this,arguments);var te=Math.min(rc,Math.max(-rc,Jc.apply(this,arguments)-ze));var ue=Math.min(Math.abs(te)/od,Hc.apply(this,arguments)),bf=ue*(0>te?-1:1),vd;for(md=0;md<od;++md)0<(vd=Zd[Vd[md]=md]=+Qb(ad[md],md,ad))&&(rd+=vd);null!=Gc?Vd.sort(function(na,Da){return Gc(Zd[na],Zd[Da])}):null!=$b&&Vd.sort(function(na,Da){return $b(ad[na],ad[Da])});md=0;for(te=rd?(te-od*bf)/rd:0;md<od;++md,ze=N){rd=Vd[md];vd=Zd[rd];var N=ze+(0<vd?vd*te:0)+bf;Zd[rd]={data:ad[rd],index:md,value:vd,startAngle:ze,
endAngle:N,padAngle:ue}}return Zd}var Qb=ba,Gc=ja,$b=null,Ac=S(0),Jc=S(rc),Hc=S(0);xb.value=function(ad){return arguments.length?(Qb="function"===typeof ad?ad:S(+ad),xb):Qb};xb.sortValues=function(ad){return arguments.length?(Gc=ad,$b=null,xb):Gc};xb.sort=function(ad){return arguments.length?($b=ad,Gc=null,xb):$b};xb.startAngle=function(ad){return arguments.length?(Ac="function"===typeof ad?ad:S(+ad),xb):Ac};xb.endAngle=function(ad){return arguments.length?(Jc="function"===typeof ad?ad:S(+ad),xb):
Jc};xb.padAngle=function(ad){return arguments.length?(Hc="function"===typeof ad?ad:S(+ad),xb):Hc};return xb};n.pointRadial=wa;n.radialArea=ia;n.radialLine=za;n.stack=function(){function xb(Jc){var Hc=Array.from(Qb.apply(this,arguments),Ba),ad,md=Hc.length,od=-1,rd=$jscomp.makeIterator(Jc);for(ad=rd.next();!ad.done;ad=rd.next()){var Vd=ad.value;ad=0;for(++od;ad<md;++ad)(Hc[ad][od]=[0,+Ac(Vd,Hc[ad].key,od,Jc)]).data=Vd}ad=0;for(od=ab(Gc(Hc));ad<md;++ad)Hc[od[ad]].index=ad;$b(Hc,od);return Hc}var Qb=
S([]),Gc=eb,$b=ua,Ac=cb;xb.keys=function(Jc){return arguments.length?(Qb="function"===typeof Jc?Jc:S(Array.from(Jc)),xb):Qb};xb.value=function(Jc){return arguments.length?(Ac="function"===typeof Jc?Jc:S(+Jc),xb):Ac};xb.order=function(Jc){return arguments.length?(Gc=null==Jc?eb:"function"===typeof Jc?Jc:S(Array.from(Jc)),xb):Gc};xb.offset=function(Jc){return arguments.length?($b=null==Jc?ua:Jc,xb):$b};return xb};n.stackOffsetDiverging=function(xb,Qb){if(0<(md=xb.length))for(var Gc,$b=0,Ac,Jc,Hc,ad,
md,od=xb[Qb[0]].length;$b<od;++$b)for(Gc=Hc=ad=0;Gc<md;++Gc)0<(Jc=(Ac=xb[Qb[Gc]][$b])[1]-Ac[0])?(Ac[0]=Hc,Ac[1]=Hc+=Jc):0>Jc?(Ac[1]=ad,Ac[0]=ad+=Jc):(Ac[0]=0,Ac[1]=Jc)};n.stackOffsetExpand=function(xb,Qb){if(0<($b=xb.length)){for(var Gc,$b,Ac=0,Jc=xb[0].length,Hc;Ac<Jc;++Ac){for(Hc=Gc=0;Gc<$b;++Gc)Hc+=xb[Gc][Ac][1]||0;if(Hc)for(Gc=0;Gc<$b;++Gc)xb[Gc][Ac][1]/=Hc}ua(xb,Qb)}};n.stackOffsetNone=ua;n.stackOffsetSilhouette=function(xb,Qb){if(0<(Ac=xb.length)){for(var Gc=0,$b=xb[Qb[0]],Ac,Jc=$b.length;Gc<
Jc;++Gc){for(var Hc=0,ad=0;Hc<Ac;++Hc)ad+=xb[Hc][Gc][1]||0;$b[Gc][1]+=$b[Gc][0]=-ad/2}ua(xb,Qb)}};n.stackOffsetWiggle=function(xb,Qb){if(0<(Hc=xb.length)&&0<(Jc=(Ac=xb[Qb[0]]).length)){for(var Gc=0,$b=1,Ac,Jc,Hc;$b<Jc;++$b){for(var ad=0,md=0,od=0;ad<Hc;++ad){var rd=xb[Qb[ad]],Vd=rd[$b][1]||0;rd=(Vd-(rd[$b-1][1]||0))/2;for(var Zd=0;Zd<ad;++Zd){var ze=xb[Qb[Zd]];rd+=(ze[$b][1]||0)-(ze[$b-1][1]||0)}md+=Vd;od+=rd*Vd}Ac[$b-1][1]+=Ac[$b-1][0]=Gc;md&&(Gc-=od/md)}Ac[$b-1][1]+=Ac[$b-1][0]=Gc;ua(xb,Qb)}};n.stackOrderAppearance=
Ka;n.stackOrderAscending=ra;n.stackOrderDescending=function(xb){return ra(xb).reverse()};n.stackOrderInsideOut=function(xb){var Qb=xb.length,Gc=xb.map(hb),$b=Ka(xb),Ac=0,Jc=0,Hc=[],ad=[];for(xb=0;xb<Qb;++xb){var md=$b[xb];Ac<Jc?(Ac+=Gc[md],Hc.push(md)):(Jc+=Gc[md],ad.push(md))}return ad.reverse().concat(Hc)};n.stackOrderNone=eb;n.stackOrderReverse=function(xb){return eb(xb).reverse()};n.symbol=function(xb,Qb){function Gc(){var Ac;$b||($b=Ac=q.path());xb.apply(this,arguments).draw($b,+Qb.apply(this,
arguments));if(Ac)return $b=null,Ac+""||null}var $b=null;xb="function"===typeof xb?xb:S(xb||tb);Qb="function"===typeof Qb?Qb:S(void 0===Qb?64:+Qb);Gc.type=function(Ac){return arguments.length?(xb="function"===typeof Ac?Ac:S(Ac),Gc):xb};Gc.size=function(Ac){return arguments.length?(Qb="function"===typeof Ac?Ac:S(+Ac),Gc):Qb};Gc.context=function(Ac){return arguments.length?($b=null==Ac?null:Ac,Gc):$b};return Gc};n.symbolCircle=tb;n.symbolCross=bc;n.symbolDiamond=Xc;n.symbolSquare=Cb;n.symbolStar=ud;
n.symbolTriangle=Rc;n.symbolWye=Md;n.symbols=I;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[17]=function(wa,ka,Ta,Oa){!function(v,L){"object"==typeof Oa&&"undefined"!=typeof Ta?L(Oa):"function"==typeof define&&define.amd?define(["exports"],L):L((v="undefined"!=typeof globalThis?globalThis:v||self).vega={})}(this,function(v){function L(O,xa){if("undefined"!=typeof document&&document.createElement){var Ba=document.createElement("canvas");if(Ba&&Ba.getContext)return Ba.width=O,Ba.height=xa,Ba}return null}v.canvas=L;v.domCanvas=L;v.image=function(){return"undefined"!=typeof Image?
Image:null};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[18]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(p,t,w){p.prototype=t.prototype=w;w.constructor=p}function S(p,t){p=Object.create(p.prototype);for(var w in t)p[w]=t[w];return p}function Pa(){}function Kb(){return this.rgb().formatHex()}function Ma(){return this.rgb().formatRgb()}function db(p){var t,w;p=(p+"").trim().toLowerCase();
return(t=J.exec(p))?(w=t[1].length,t=parseInt(t[1],16),6===w?Eb(t):3===w?new fb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):8===w?qb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):4===w?qb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z.exec(p))?new fb(t[1],t[2],t[3],1):(t=F.exec(p))?new fb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=M.exec(p))?qb(t[1],t[2],t[3],t[4]):(t=ka.exec(p))?qb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ia.exec(p))?Ha(t[1],t[2]/100,
t[3]/100,1):(t=Ta.exec(p))?Ha(t[1],t[2]/100,t[3]/100,t[4]):D.hasOwnProperty(p)?Eb(D[p]):"transparent"===p?new fb(NaN,NaN,NaN,0):null}function Eb(p){return new fb(p>>16&255,p>>8&255,p&255,1)}function qb(p,t,w,O){0>=O&&(p=t=w=NaN);return new fb(p,t,w,O)}function Ea(p){p instanceof Pa||(p=db(p));if(!p)return new fb;p=p.rgb();return new fb(p.r,p.g,p.b,p.opacity)}function ab(p,t,w,O){return 1===arguments.length?Ea(p):new fb(p,t,w,null==O?1:O)}function fb(p,t,w,O){this.r=+p;this.g=+t;this.b=+w;this.opacity=
+O}function Ja(){return"#"+pa(this.r)+pa(this.g)+pa(this.b)}function ea(){var p=this.opacity;p=isNaN(p)?1:Math.max(0,Math.min(1,p));return(1===p?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===p?")":", "+p+")")}function pa(p){p=Math.max(0,Math.min(255,Math.round(p)||0));return(16>p?"0":"")+p.toString(16)}function Ha(p,t,w,O){0>=O?p=t=w=NaN:0>=w||1<=w?p=t=NaN:0>=t&&(p=NaN);
return new ba(p,t,w,O)}function Wa(p){if(p instanceof ba)return new ba(p.h,p.s,p.l,p.opacity);p instanceof Pa||(p=db(p));if(!p)return new ba;if(p instanceof ba)return p;p=p.rgb();var t=p.r/255,w=p.g/255,O=p.b/255,la=Math.min(t,w,O),ma=Math.max(t,w,O),ua=NaN,eb=ma-la,cb=(ma+la)/2;eb?(ua=t===ma?(w-O)/eb+6*(w<O):w===ma?(O-t)/eb+2:(t-w)/eb+4,eb/=.5>cb?ma+la:2-ma-la,ua*=60):eb=0<cb&&1>cb?0:ua;return new ba(ua,eb,cb,p.opacity)}function ja(p,t,w,O){return 1===arguments.length?Wa(p):new ba(p,t,w,null==O?
1:O)}function ba(p,t,w,O){this.h=+p;this.s=+t;this.l=+w;this.opacity=+O}function Ra(p,t,w){return 255*(60>p?t+(w-t)*p/60:180>p?w:240>p?t+(w-t)*(240-p)/60:t)}function xa(p){if(p instanceof za)return new za(p.l,p.a,p.b,p.opacity);if(p instanceof Za)return jb(p);p instanceof fb||(p=Ea(p));var t=qa(p.r),w=qa(p.g),O=qa(p.b),la=ia(.2225045*t+.7168786*w+.0606169*O);if(t===w&&w===O)var ma=t=la;else ma=ia((.4360747*t+.3850649*w+.1430804*O)/.96422),t=ia((.0139322*t+.0971045*w+.7141733*O)/.82521);return new za(116*
la-16,500*(ma-la),200*(la-t),p.opacity)}function Oa(p,t,w,O){return 1===arguments.length?xa(p):new za(p,t,w,null==O?1:O)}function za(p,t,w,O){this.l=+p;this.a=+t;this.b=+w;this.opacity=+O}function ia(p){return p>l?Math.pow(p,1/3):p/T+W}function wa(p){return p>H?p*p*p:T*(p-W)}function sa(p){return 255*(.0031308>=p?12.92*p:1.055*Math.pow(p,1/2.4)-.055)}function qa(p){return.04045>=(p/=255)?p/12.92:Math.pow((p+.055)/1.055,2.4)}function Fa(p){if(p instanceof Za)return new Za(p.h,p.c,p.l,p.opacity);p instanceof
za||(p=xa(p));if(0===p.a&&0===p.b)return new Za(NaN,0<p.l&&100>p.l?0:NaN,p.l,p.opacity);var t=Math.atan2(p.b,p.a)*Y;return new Za(0>t?t+360:t,Math.sqrt(p.a*p.a+p.b*p.b),p.l,p.opacity)}function Ca(p,t,w,O){return 1===arguments.length?Fa(p):new Za(p,t,w,null==O?1:O)}function Za(p,t,w,O){this.h=+p;this.c=+t;this.l=+w;this.opacity=+O}function jb(p){if(isNaN(p.h))return new za(p.l,0,0,p.opacity);var t=p.h*fa;return new za(p.l,Math.cos(t)*p.c,Math.sin(t)*p.c,p.opacity)}function y(p,t,w,O){if(1===arguments.length){var la=
p;if(la instanceof x)la=new x(la.h,la.s,la.l,la.opacity);else{la instanceof fb||(la=Ea(la));var ma=la.g/255,ua=la.b/255,eb=(k*ua+la.r/255*-1.7884503806-3.5172982438*ma)/(k+-1.7884503806-3.5172982438);ua-=eb;var cb=(1.97294*(ma-eb)- -.29227*ua)/-.90649;ua=(ma=Math.sqrt(cb*cb+ua*ua)/(1.97294*eb*(1-eb)))?Math.atan2(cb,ua)*Y-120:NaN;la=new x(0>ua?ua+360:ua,ma,eb,la.opacity)}}else la=new x(p,t,w,null==O?1:O);return la}function x(p,t,w,O){this.h=+p;this.s=+t;this.l=+w;this.opacity=+O}var G=1/.7,J=/^#([0-9a-f]{3,8})$/,
z=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,F=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,M=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ka=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ia=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Ta=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,D={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q(Pa,db,{copy:function(p){return Object.assign(new this.constructor,this,p)},displayable:function(){return this.rgb().displayable()},hex:Kb,formatHex:Kb,formatHsl:function(){return Wa(this).formatHsl()},
formatRgb:Ma,toString:Ma});q(fb,ab,S(Pa,{brighter:function(p){p=null==p?G:Math.pow(G,p);return new fb(this.r*p,this.g*p,this.b*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new fb(this.r*p,this.g*p,this.b*p,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Ja,formatHex:Ja,formatRgb:ea,toString:ea}));q(ba,ja,S(Pa,{brighter:function(p){p=
null==p?G:Math.pow(G,p);return new ba(this.h,this.s,this.l*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new ba(this.h,this.s,this.l*p,this.opacity)},rgb:function(){var p=this.h%360+360*(0>this.h),t=isNaN(p)||isNaN(this.s)?0:this.s,w=this.l;t=w+(.5>w?w:1-w)*t;w=2*w-t;return new fb(Ra(240<=p?p-240:p+120,w,t),Ra(p,w,t),Ra(120>p?p+240:p-120,w,t),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var p=this.opacity;p=isNaN(p)?1:Math.max(0,Math.min(1,p));return(1===p?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===p?")":", "+p+")")}}));var fa=Math.PI/180,Y=180/Math.PI,W=4/29,H=6/29,T=3*H*H,l=H*H*H;q(za,Oa,S(Pa,{brighter:function(p){return new za(this.l+18*(null==p?1:p),this.a,this.b,this.opacity)},darker:function(p){return new za(this.l-18*(null==p?1:p),this.a,this.b,this.opacity)},rgb:function(){var p=(this.l+16)/116,t=isNaN(this.a)?p:p+
this.a/500,w=isNaN(this.b)?p:p-this.b/200;t=.96422*wa(t);p=1*wa(p);w=.82521*wa(w);return new fb(sa(3.1338561*t-1.6168667*p-.4906146*w),sa(-.9787684*t+1.9161415*p+.033454*w),sa(.0719453*t-.2289914*p+1.4052427*w),this.opacity)}}));q(Za,Ca,S(Pa,{brighter:function(p){return new Za(this.h,this.c,this.l+18*(null==p?1:p),this.opacity)},darker:function(p){return new Za(this.h,this.c,this.l-18*(null==p?1:p),this.opacity)},rgb:function(){return jb(this).rgb()}}));var k=1.78277*-.29227-.1347134789;q(x,y,S(Pa,
{brighter:function(p){p=null==p?G:Math.pow(G,p);return new x(this.h,this.s,this.l*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new x(this.h,this.s,this.l*p,this.opacity)},rgb:function(){var p=isNaN(this.h)?0:(this.h+120)*fa,t=+this.l,w=isNaN(this.s)?0:this.s*t*(1-t),O=Math.cos(p);p=Math.sin(p);return new fb(255*(t+w*(-.14861*O+1.78277*p)),255*(t+w*(-.29227*O+-.90649*p)),255*(t+1.97294*w*O),this.opacity)}}));n.color=db;n.cubehelix=y;n.gray=function(p,t){return new za(p,0,
0,null==t?1:t)};n.hcl=Ca;n.hsl=ja;n.lab=Oa;n.lch=function(p,t,w,O){return 1===arguments.length?Fa(p):new Za(w,t,p,null==O?1:O)};n.rgb=ab;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[19]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(18)):"function"===typeof define&&define.amd?define(["exports","d3-color"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(H,T,l,k,p){var t=H*H,w=t*H;return((1-3*H+3*t-w)*T+(4-6*t+3*w)*l+(1+3*H+3*t-3*w)*k+w*p)/6}function Pa(H){var T=H.length-1;return function(l){var k=0>=l?l=0:1<=l?(l=1,T-1):Math.floor(l*T),p=H[k],t=H[k+1];return S((l-k/T)*T,0<k?H[k-1]:2*p-t,p,t,k<T-1?
H[k+2]:2*t-p)}}function Kb(H){var T=H.length;return function(l){var k=Math.floor((0>(l%=1)?++l:l)*T);return S((l-k/T)*T,H[(k+T-1)%T],H[k%T],H[(k+1)%T],H[(k+2)%T])}}function Ma(H,T){return function(l){return H+l*T}}function db(H,T,l){return H=Math.pow(H,l),T=Math.pow(T,l)-H,l=1/l,function(k){return Math.pow(H+k*T,l)}}function Eb(H,T){var l=T-H;return l?Ma(H,180<l||-180>l?l-360*Math.round(l/360):l):Fa(isNaN(H)?T:H)}function qb(H){return 1===(H=+H)?Ea:function(T,l){return l-T?db(T,l,H):Fa(isNaN(T)?l:
T)}}function Ea(H,T){var l=T-H;return l?Ma(H,l):Fa(isNaN(H)?T:H)}function ab(H){return function(T){var l=T.length,k=Array(l),p=Array(l),t=Array(l),w;for(w=0;w<l;++w){var O=q.rgb(T[w]);k[w]=O.r||0;p[w]=O.g||0;t[w]=O.b||0}k=H(k);p=H(p);t=H(t);O.opacity=1;return function(la){O.r=k(la);O.g=p(la);O.b=t(la);return O+""}}}function fb(H,T){T||(T=[]);var l=H?Math.min(T.length,H.length):0,k=T.slice(),p;return function(t){for(p=0;p<l;++p)k[p]=H[p]*(1-t)+T[p]*t;return k}}function Ja(H){return ArrayBuffer.isView(H)&&
!(H instanceof DataView)}function ea(H,T){var l=T?T.length:0,k=H?Math.min(l,H.length):0,p=Array(k),t=Array(l),w;for(w=0;w<k;++w)p[w]=xa(H[w],T[w]);for(;w<l;++w)t[w]=T[w];return function(O){for(w=0;w<k;++w)t[w]=p[w](O);return t}}function pa(H,T){var l=new Date;return H=+H,T=+T,function(k){return l.setTime(H*(1-k)+T*k),l}}function Ha(H,T){return H=+H,T=+T,function(l){return H*(1-l)+T*l}}function Wa(H,T){var l={},k={},p;if(null===H||"object"!==typeof H)H={};if(null===T||"object"!==typeof T)T={};for(p in T)p in
H?l[p]=xa(H[p],T[p]):k[p]=T[p];return function(t){for(p in l)k[p]=l[p](t);return k}}function ja(H){return function(){return H}}function ba(H){return function(T){return H(T)+""}}function Ra(H,T){var l=y.lastIndex=x.lastIndex=0,k,p,t,w=-1,O=[],la=[];H+="";for(T+="";(k=y.exec(H))&&(p=x.exec(T));)(t=p.index)>l&&(t=T.slice(l,t),O[w]?O[w]+=t:O[++w]=t),(k=k[0])===(p=p[0])?O[w]?O[w]+=p:O[++w]=p:(O[++w]=null,la.push({i:w,x:Ha(k,p)})),l=x.lastIndex;l<T.length&&(t=T.slice(l),O[w]?O[w]+=t:O[++w]=t);return 2>
O.length?la[0]?ba(la[0].x):ja(T):(T=la.length,function(ma){for(var ua=0,eb;ua<T;++ua)O[(eb=la[ua]).i]=eb.x(ma);return O.join("")})}function xa(H,T){var l=typeof T,k;return null==T||"boolean"===l?Fa(T):("number"===l?Ha:"string"===l?(k=q.color(T))?(T=k,Ca):Ra:T instanceof q.color?Ca:T instanceof Date?pa:Ja(T)?fb:Array.isArray(T)?ea:"function"!==typeof T.valueOf&&"function"!==typeof T.toString||isNaN(T)?Wa:Ha)(H,T)}function Oa(H,T,l,k,p,t){var w,O,la;if(w=Math.sqrt(H*H+T*T))H/=w,T/=w;if(la=H*l+T*k)l-=
H*la,k-=T*la;if(O=Math.sqrt(l*l+k*k))l/=O,k/=O,la/=O;H*k<T*l&&(H=-H,T=-T,la=-la,w=-w);return{translateX:p,translateY:t,rotate:Math.atan2(T,H)*G,skewX:Math.atan(la)*G,scaleX:w,scaleY:O}}function za(H,T,l,k){function p(ma){return ma.length?ma.pop()+" ":""}function t(ma,ua,eb,cb,Ba,Ka){ma!==eb||ua!==cb?(Ba=Ba.push("translate(",null,T,null,l),Ka.push({i:Ba-4,x:Ha(ma,eb)},{i:Ba-2,x:Ha(ua,cb)})):(eb||cb)&&Ba.push("translate("+eb+T+cb+l)}function w(ma,ua,eb,cb){ma!==ua?(180<ma-ua?ua+=360:180<ua-ma&&(ma+=
360),cb.push({i:eb.push(p(eb)+"rotate(",null,k)-2,x:Ha(ma,ua)})):ua&&eb.push(p(eb)+"rotate("+ua+k)}function O(ma,ua,eb,cb){ma!==ua?cb.push({i:eb.push(p(eb)+"skewX(",null,k)-2,x:Ha(ma,ua)}):ua&&eb.push(p(eb)+"skewX("+ua+k)}function la(ma,ua,eb,cb,Ba,Ka){ma!==eb||ua!==cb?(Ba=Ba.push(p(Ba)+"scale(",null,",",null,")"),Ka.push({i:Ba-4,x:Ha(ma,eb)},{i:Ba-2,x:Ha(ua,cb)})):1===eb&&1===cb||Ba.push(p(Ba)+"scale("+eb+","+cb+")")}return function(ma,ua){var eb=[],cb=[];ma=H(ma);ua=H(ua);t(ma.translateX,ma.translateY,
ua.translateX,ua.translateY,eb,cb);w(ma.rotate,ua.rotate,eb,cb);O(ma.skewX,ua.skewX,eb,cb);la(ma.scaleX,ma.scaleY,ua.scaleX,ua.scaleY,eb,cb);ma=ua=null;return function(Ba){for(var Ka=-1,Z=cb.length,ra;++Ka<Z;)eb[(ra=cb[Ka]).i]=ra.x(Ba);return eb.join("")}}}function ia(H){return((H=Math.exp(H))+1/H)/2}function wa(H){return function(T,l){var k=H((T=q.hsl(T)).h,(l=q.hsl(l)).h),p=Ea(T.s,l.s),t=Ea(T.l,l.l),w=Ea(T.opacity,l.opacity);return function(O){T.h=k(O);T.s=p(O);T.l=t(O);T.opacity=w(O);return T+
""}}}function sa(H){return function(T,l){var k=H((T=q.hcl(T)).h,(l=q.hcl(l)).h),p=Ea(T.c,l.c),t=Ea(T.l,l.l),w=Ea(T.opacity,l.opacity);return function(O){T.h=k(O);T.c=p(O);T.l=t(O);T.opacity=w(O);return T+""}}}function qa(H){return function k(l){function p(t,w){var O=H((t=q.cubehelix(t)).h,(w=q.cubehelix(w)).h),la=Ea(t.s,w.s),ma=Ea(t.l,w.l),ua=Ea(t.opacity,w.opacity);return function(eb){t.h=O(eb);t.s=la(eb);t.l=ma(Math.pow(eb,l));t.opacity=ua(eb);return t+""}}l=+l;p.gamma=k;return p}(1)}var Fa=function(H){return function(){return H}},
Ca=function l(T){function k(t,w){var O=p((t=q.rgb(t)).r,(w=q.rgb(w)).r),la=p(t.g,w.g),ma=p(t.b,w.b),ua=Ea(t.opacity,w.opacity);return function(eb){t.r=O(eb);t.g=la(eb);t.b=ma(eb);t.opacity=ua(eb);return t+""}}var p=qb(T);k.gamma=l;return k}(1),Za=ab(Pa),jb=ab(Kb),y=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(y.source,"g"),G=180/Math.PI,J={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},z,F=za(function(T){T=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(T+
"");return T.isIdentity?J:Oa(T.a,T.b,T.c,T.d,T.e,T.f)},"px, ","px)","deg)"),M=za(function(T){if(null==T)return J;z||(z=document.createElementNS("http://www.w3.org/2000/svg","g"));z.setAttribute("transform",T);if(!(T=z.transform.baseVal.consolidate()))return J;T=T.matrix;return Oa(T.a,T.b,T.c,T.d,T.e,T.f)},", ",")",")"),ka=function t(l,k,p){function w(O,la){var ma=O[0],ua=O[1],eb=O[2];O=la[2];var cb=la[0]-ma,Ba=la[1]-ua,Ka=cb*cb+Ba*Ba;if(1E-12>Ka){var Z=Math.log(O/eb)/l;O=function(mb){return[ma+mb*
cb,ua+mb*Ba,eb*Math.exp(l*mb*Z)]}}else{var ra=Math.sqrt(Ka);la=(O*O-eb*eb+p*Ka)/(2*eb*k*ra);O=(O*O-eb*eb-p*Ka)/(2*O*k*ra);var hb=Math.log(Math.sqrt(la*la+1)-la);Z=(Math.log(Math.sqrt(O*O+1)-O)-hb)/l;O=function(mb){mb*=Z;var Hb=ia(hb),Xb=l*mb+hb;var ya=((Xb=Math.exp(2*Xb))-1)/(Xb+1);var wb=hb;Xb=((wb=Math.exp(wb))-1/wb)/2;ya=eb/(k*ra)*(Hb*ya-Xb);return[ma+ya*cb,ua+ya*Ba,eb*Hb/ia(l*mb+hb)]}}O.duration=1E3*Z*l/Math.SQRT2;return O}w.rho=function(O){O=Math.max(.001,+O);var la=O*O;return t(O,la,la*la)};
return w}(Math.SQRT2,2,4),Ia=wa(Eb),Ta=wa(Ea),D=sa(Eb),fa=sa(Ea),Y=qa(Eb),W=qa(Ea);n.interpolate=xa;n.interpolateArray=function(l,k){return(Ja(k)?fb:ea)(l,k)};n.interpolateBasis=Pa;n.interpolateBasisClosed=Kb;n.interpolateCubehelix=Y;n.interpolateCubehelixLong=W;n.interpolateDate=pa;n.interpolateDiscrete=function(l){var k=l.length;return function(p){return l[Math.max(0,Math.min(k-1,Math.floor(p*k)))]}};n.interpolateHcl=D;n.interpolateHclLong=fa;n.interpolateHsl=Ia;n.interpolateHslLong=Ta;n.interpolateHue=
function(l,k){var p=Eb(+l,+k);return function(t){t=p(t);return t-360*Math.floor(t/360)}};n.interpolateLab=function(l,k){var p=Ea((l=q.lab(l)).l,(k=q.lab(k)).l),t=Ea(l.a,k.a),w=Ea(l.b,k.b),O=Ea(l.opacity,k.opacity);return function(la){l.l=p(la);l.a=t(la);l.b=w(la);l.opacity=O(la);return l+""}};n.interpolateNumber=Ha;n.interpolateNumberArray=fb;n.interpolateObject=Wa;n.interpolateRgb=Ca;n.interpolateRgbBasis=Za;n.interpolateRgbBasisClosed=jb;n.interpolateRound=function(l,k){return l=+l,k=+k,function(p){return Math.round(l*
(1-p)+k*p)}};n.interpolateString=Ra;n.interpolateTransformCss=F;n.interpolateTransformSvg=M;n.interpolateZoom=ka;n.piecewise=function(l,k){void 0===k&&(k=l,l=xa);for(var p=0,t=k.length-1,w=k[0],O=Array(0>t?0:t);p<t;)O[p]=l(w,w=k[++p]);return function(la){var ma=Math.max(0,Math.min(t-1,Math.floor(la*=t)));return O[ma](la-ma)}};n.quantize=function(l,k){for(var p=Array(k),t=0;t<k;++t)p[t]=l(t/(k-1));return p};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[20]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(1),sb(19),sb(2),sb(3),sb(5)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),q):(n=n||self,q(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3))})(this,function(n,q,S,Pa,Kb,Ma){function db(ya,wb){switch(arguments.length){case 0:break;case 1:this.range(ya);break;default:this.range(wb).domain(ya)}return this}function Eb(ya,wb){switch(arguments.length){case 0:break;
case 1:"function"===typeof ya?this.interpolator(ya):this.range(ya);break;default:this.domain(ya),"function"===typeof wb?this.interpolator(wb):this.range(wb)}return this}function qb(){function ya(ic){var rc=ic+"",Tc=wb.get(rc);if(!Tc){if(Sb!==Hb)return Sb;wb.set(rc,Tc=Tb.push(ic))}return rb[(Tc-1)%rb.length]}var wb=new Map,Tb=[],rb=[],Sb=Hb;ya.domain=function(ic){if(!arguments.length)return Tb.slice();Tb=[];wb=new Map;for(var rc=$jscomp.makeIterator(ic),Tc=rc.next();!Tc.done;Tc=rc.next()){Tc=Tc.value;
var pc=Tc+"";wb.has(pc)||wb.set(pc,Tb.push(Tc))}return ya};ya.range=function(ic){return arguments.length?(rb=Array.from(ic),ya):rb.slice()};ya.unknown=function(ic){return arguments.length?(Sb=ic,ya):Sb};ya.copy=function(){return qb(Tb,rb).unknown(Sb)};db.apply(ya,arguments);return ya}function Ea(){function ya(){var xc=Tb().length,Xc=ic<Sb,ud=Xc?ic:Sb,xd=Xc?Sb:ic;rc=(xd-ud)/Math.max(1,xc-tb+2*bc);pc&&(rc=Math.floor(rc));ud+=(xd-ud-rc*(xc-tb))*Mb;Tc=rc*(1-tb);pc&&(ud=Math.round(ud),Tc=Math.round(Tc));
xc=q.range(xc).map(function(ae){return ud+rc*ae});return rb(Xc?xc.reverse():xc)}var wb=qb().unknown(void 0),Tb=wb.domain,rb=wb.range,Sb=0,ic=1,rc,Tc,pc=!1,tb=0,bc=0,Mb=.5;delete wb.unknown;wb.domain=function(xc){return arguments.length?(Tb(xc),ya()):Tb()};wb.range=function(xc){if(arguments.length){var Xc=$jscomp.makeIterator(xc);Sb=Xc.next().value;ic=Xc.next().value;Xc=(Sb=+Sb,ic=+ic,ya())}else Xc=[Sb,ic];return Xc};wb.rangeRound=function(xc){xc=$jscomp.makeIterator(xc);Sb=xc.next().value;ic=xc.next().value;
return Sb=+Sb,ic=+ic,pc=!0,ya()};wb.bandwidth=function(){return Tc};wb.step=function(){return rc};wb.round=function(xc){return arguments.length?(pc=!!xc,ya()):pc};wb.padding=function(xc){return arguments.length?(tb=Math.min(1,bc=+xc),ya()):tb};wb.paddingInner=function(xc){return arguments.length?(tb=Math.min(1,xc),ya()):tb};wb.paddingOuter=function(xc){return arguments.length?(bc=+xc,ya()):bc};wb.align=function(xc){return arguments.length?(Mb=Math.max(0,Math.min(1,xc)),ya()):Mb};wb.copy=function(){return Ea(Tb(),
[Sb,ic]).round(pc).paddingInner(tb).paddingOuter(bc).align(Mb)};return db.apply(ya(),arguments)}function ab(ya){var wb=ya.copy;ya.padding=ya.paddingOuter;delete ya.paddingInner;delete ya.paddingOuter;ya.copy=function(){return ab(wb())};return ya}function fb(ya){return function(){return ya}}function Ja(ya){return+ya}function ea(ya){return ya}function pa(ya,wb){return(wb-=ya=+ya)?function(Tb){return(Tb-ya)/wb}:fb(isNaN(wb)?NaN:.5)}function Ha(ya,wb){if(ya>wb){var Tb=ya;ya=wb;wb=Tb}return function(rb){return Math.max(ya,
Math.min(wb,rb))}}function Wa(ya,wb,Tb){var rb=ya[0];ya=ya[1];var Sb=wb[0];wb=wb[1];ya<rb?(rb=pa(ya,rb),Sb=Tb(wb,Sb)):(rb=pa(rb,ya),Sb=Tb(Sb,wb));return function(ic){return Sb(rb(ic))}}function ja(ya,wb,Tb){var rb=Math.min(ya.length,wb.length)-1,Sb=Array(rb),ic=Array(rb),rc=-1;ya[rb]<ya[0]&&(ya=ya.slice().reverse(),wb=wb.slice().reverse());for(;++rc<rb;)Sb[rc]=pa(ya[rc],ya[rc+1]),ic[rc]=Tb(wb[rc],wb[rc+1]);return function(Tc){var pc=q.bisect(ya,Tc,1,rb)-1;return ic[pc](Sb[pc](Tc))}}function ba(ya,
wb){return wb.domain(ya.domain()).range(ya.range()).interpolate(ya.interpolate()).clamp(ya.clamp()).unknown(ya.unknown())}function Ra(){function ya(){var xc=Math.min(Tb.length,rb.length);pc!==ea&&(pc=Ha(Tb[0],Tb[xc-1]));tb=2<xc?ja:Wa;bc=Mb=null;return wb}function wb(xc){return isNaN(xc=+xc)?Tc:(bc||(bc=tb(Tb.map(ic),rb,Sb)))(ic(pc(xc)))}var Tb=Xb,rb=Xb,Sb=S.interpolate,ic,rc,Tc,pc=ea,tb,bc,Mb;wb.invert=function(xc){return pc(rc((Mb||(Mb=tb(rb,Tb.map(ic),S.interpolateNumber)))(xc)))};wb.domain=function(xc){return arguments.length?
(Tb=Array.from(xc,Ja),ya()):Tb.slice()};wb.range=function(xc){return arguments.length?(rb=Array.from(xc),ya()):rb.slice()};wb.rangeRound=function(xc){return rb=Array.from(xc),Sb=S.interpolateRound,ya()};wb.clamp=function(xc){return arguments.length?(pc=xc?!0:ea,ya()):pc!==ea};wb.interpolate=function(xc){return arguments.length?(Sb=xc,ya()):Sb};wb.unknown=function(xc){return arguments.length?(Tc=xc,wb):Tc};return function(xc,Xc){ic=xc;rc=Xc;return ya()}}function xa(ya,wb,Tb,rb){Tb=q.tickStep(ya,wb,
Tb);var Sb;rb=Pa.formatSpecifier(null==rb?",f":rb);switch(rb.type){case "s":return ya=Math.max(Math.abs(ya),Math.abs(wb)),null!=rb.precision||isNaN(Sb=Pa.precisionPrefix(Tb,ya))||(rb.precision=Sb),Pa.formatPrefix(rb,ya);case "":case "e":case "g":case "p":case "r":null!=rb.precision||isNaN(Sb=Pa.precisionRound(Tb,Math.max(Math.abs(ya),Math.abs(wb))))||(rb.precision=Sb-("e"===rb.type));break;case "f":case "%":null!=rb.precision||isNaN(Sb=Pa.precisionFixed(Tb))||(rb.precision=Sb-2*("%"===rb.type))}return Pa.format(rb)}
function Oa(ya){var wb=ya.domain;ya.ticks=function(Tb){var rb=wb();return q.ticks(rb[0],rb[rb.length-1],null==Tb?10:Tb)};ya.tickFormat=function(Tb,rb){var Sb=wb();return xa(Sb[0],Sb[Sb.length-1],null==Tb?10:Tb,rb)};ya.nice=function(Tb){null==Tb&&(Tb=10);var rb=wb(),Sb=0,ic=rb.length-1,rc=rb[Sb],Tc=rb[ic],pc=10;if(Tc<rc){var tb=rc;rc=Tc;Tc=tb;tb=Sb;Sb=ic;ic=tb}for(;0<pc--;){tb=q.tickIncrement(rc,Tc,Tb);if(tb===bc)return rb[Sb]=rc,rb[ic]=Tc,wb(rb);if(0<tb)rc=Math.floor(rc/tb)*tb,Tc=Math.ceil(Tc/tb)*
tb;else if(0>tb)rc=Math.ceil(rc*tb)/tb,Tc=Math.floor(Tc*tb)/tb;else break;var bc=tb}return ya};return ya}function za(){var ya=Ra()(ea,ea);ya.copy=function(){return ba(ya,za())};db.apply(ya,arguments);return Oa(ya)}function ia(ya){function wb(rb){return isNaN(rb=+rb)?Tb:rb}var Tb;wb.invert=wb;wb.domain=wb.range=function(rb){return arguments.length?(ya=Array.from(rb,Ja),wb):ya.slice()};wb.unknown=function(rb){return arguments.length?(Tb=rb,wb):Tb};wb.copy=function(){return ia(ya).unknown(Tb)};ya=arguments.length?
Array.from(ya,Ja):[0,1];return Oa(wb)}function wa(ya,wb){ya=ya.slice();var Tb=0,rb=ya.length-1,Sb=ya[Tb],ic=ya[rb];if(ic<Sb){var rc=Tb;Tb=rb;rb=rc;rc=Sb;Sb=ic;ic=rc}ya[Tb]=wb.floor(Sb);ya[rb]=wb.ceil(ic);return ya}function sa(ya){return Math.log(ya)}function qa(ya){return Math.exp(ya)}function Fa(ya){return-Math.log(-ya)}function Ca(ya){return-Math.exp(-ya)}function Za(ya){return isFinite(ya)?+("1e"+ya):0>ya?0:ya}function jb(ya){return 10===ya?Za:ya===Math.E?Math.exp:function(wb){return Math.pow(ya,
wb)}}function y(ya){return ya===Math.E?Math.log:10===ya&&Math.log10||2===ya&&Math.log2||(ya=Math.log(ya),function(wb){return Math.log(wb)/ya})}function x(ya){return function(wb){return-ya(-wb)}}function G(ya){function wb(){ic=y(Sb);rc=jb(Sb);0>rb()[0]?(ic=x(ic),rc=x(rc),ya(Fa,Ca)):ya(sa,qa);return Tb}var Tb=ya(sa,qa),rb=Tb.domain,Sb=10,ic,rc;Tb.base=function(Tc){return arguments.length?(Sb=+Tc,wb()):Sb};Tb.domain=function(Tc){return arguments.length?(rb(Tc),wb()):rb()};Tb.ticks=function(Tc){var pc=
rb(),tb=pc[0];pc=pc[pc.length-1];var bc;if(bc=pc<tb)Mb=tb,tb=pc,pc=Mb;var Mb=ic(tb),xc=ic(pc),Xc=null==Tc?10:+Tc,ud=[];if(!(Sb%1)&&xc-Mb<Xc){Mb=Math.floor(Mb);xc=Math.ceil(xc);if(0<tb)for(;Mb<=xc;++Mb){var xd=1;for(Tc=rc(Mb);xd<Sb;++xd){var ae=Tc*xd;if(!(ae<tb)){if(ae>pc)break;ud.push(ae)}}}else for(;Mb<=xc;++Mb)for(xd=Sb-1,Tc=rc(Mb);1<=xd;--xd)if(ae=Tc*xd,!(ae<tb)){if(ae>pc)break;ud.push(ae)}2*ud.length<Xc&&(ud=q.ticks(tb,pc,Xc))}else ud=q.ticks(Mb,xc,Math.min(xc-Mb,Xc)).map(rc);return bc?ud.reverse():
ud};Tb.tickFormat=function(Tc,pc){null==pc&&(pc=10===Sb?".0e":",");"function"!==typeof pc&&(pc=Pa.format(pc));if(Infinity===Tc)return pc;null==Tc&&(Tc=10);var tb=Math.max(1,Sb*Tc/Tb.ticks().length);return function(bc){var Mb=bc/rc(Math.round(ic(bc)));Mb*Sb<Sb-.5&&(Mb*=Sb);return Mb<=tb?pc(bc):""}};Tb.nice=function(){return rb(wa(rb(),{floor:function(Tc){return rc(Math.floor(ic(Tc)))},ceil:function(Tc){return rc(Math.ceil(ic(Tc)))}}))};return Tb}function J(){var ya=G(Ra()).domain([1,10]);ya.copy=function(){return ba(ya,
J()).base(ya.base())};db.apply(ya,arguments);return ya}function z(ya){return function(wb){return Math.sign(wb)*Math.log1p(Math.abs(wb/ya))}}function F(ya){return function(wb){return Math.sign(wb)*Math.expm1(Math.abs(wb))*ya}}function M(ya){var wb=1,Tb=ya(z(wb),F(wb));Tb.constant=function(rb){return arguments.length?ya(z(wb=+rb),F(wb)):wb};return Oa(Tb)}function ka(){var ya=M(Ra());ya.copy=function(){return ba(ya,ka()).constant(ya.constant())};return db.apply(ya,arguments)}function Ia(ya){return function(wb){return 0>
wb?-Math.pow(-wb,ya):Math.pow(wb,ya)}}function Ta(ya){return 0>ya?-Math.sqrt(-ya):Math.sqrt(ya)}function D(ya){return 0>ya?-ya*ya:ya*ya}function fa(ya){var wb=ya(ea,ea),Tb=1;wb.exponent=function(rb){return arguments.length?(Tb=+rb,1===Tb?ya(ea,ea):.5===Tb?ya(Ta,D):ya(Ia(Tb),Ia(1/Tb))):Tb};return Oa(wb)}function Y(){var ya=fa(Ra());ya.copy=function(){return ba(ya,Y()).exponent(ya.exponent())};db.apply(ya,arguments);return ya}function W(ya){return Math.sign(ya)*ya*ya}function H(){function ya(ic){ic=
wb(ic);ic=Math.sign(ic)*Math.sqrt(Math.abs(ic));return isNaN(ic)?Sb:rb?Math.round(ic):ic}var wb=Ra()(ea,ea),Tb=[0,1],rb=!1,Sb;ya.invert=function(ic){return wb.invert(W(ic))};ya.domain=function(ic){return arguments.length?(wb.domain(ic),ya):wb.domain()};ya.range=function(ic){return arguments.length?(wb.range((Tb=Array.from(ic,Ja)).map(W)),ya):Tb.slice()};ya.rangeRound=function(ic){return ya.range(ic).round(!0)};ya.round=function(ic){return arguments.length?(rb=!!ic,ya):rb};ya.clamp=function(ic){return arguments.length?
(wb.clamp(ic),ya):wb.clamp()};ya.unknown=function(ic){return arguments.length?(Sb=ic,ya):Sb};ya.copy=function(){return H(wb.domain(),Tb).round(rb).clamp(wb.clamp()).unknown(Sb)};db.apply(ya,arguments);return Oa(ya)}function T(){function ya(){var rc=0,Tc=Math.max(1,rb.length);for(Sb=Array(Tc-1);++rc<Tc;)Sb[rc-1]=q.quantileSorted(Tb,rc/Tc);return wb}function wb(rc){return isNaN(rc=+rc)?ic:rb[q.bisect(Sb,rc)]}var Tb=[],rb=[],Sb=[],ic;wb.invertExtent=function(rc){rc=rb.indexOf(rc);return 0>rc?[NaN,NaN]:
[0<rc?Sb[rc-1]:Tb[0],rc<Sb.length?Sb[rc]:Tb[Tb.length-1]]};wb.domain=function(rc){if(!arguments.length)return Tb.slice();Tb=[];for(var Tc=$jscomp.makeIterator(rc),pc=Tc.next();!pc.done;pc=Tc.next())pc=pc.value,null==pc||isNaN(pc=+pc)||Tb.push(pc);Tb.sort(q.ascending);return ya()};wb.range=function(rc){return arguments.length?(rb=Array.from(rc),ya()):rb.slice()};wb.unknown=function(rc){return arguments.length?(ic=rc,wb):ic};wb.quantiles=function(){return Sb.slice()};wb.copy=function(){return T().domain(Tb).range(rb).unknown(ic)};
return db.apply(wb,arguments)}function l(){function ya(pc){return pc<=pc?rc[q.bisect(ic,pc,0,Sb)]:Tc}function wb(){var pc=-1;for(ic=Array(Sb);++pc<Sb;)ic[pc]=((pc+1)*rb-(pc-Sb)*Tb)/(Sb+1);return ya}var Tb=0,rb=1,Sb=1,ic=[.5],rc=[0,1],Tc;ya.domain=function(pc){if(arguments.length){var tb=$jscomp.makeIterator(pc);Tb=tb.next().value;rb=tb.next().value;tb=(Tb=+Tb,rb=+rb,wb())}else tb=[Tb,rb];return tb};ya.range=function(pc){return arguments.length?(Sb=(rc=Array.from(pc)).length-1,wb()):rc.slice()};ya.invertExtent=
function(pc){pc=rc.indexOf(pc);return 0>pc?[NaN,NaN]:1>pc?[Tb,ic[0]]:pc>=Sb?[ic[Sb-1],rb]:[ic[pc-1],ic[pc]]};ya.unknown=function(pc){return arguments.length?(Tc=pc,ya):ya};ya.thresholds=function(){return ic.slice()};ya.copy=function(){return l().domain([Tb,rb]).range(rc).unknown(Tc)};return db.apply(Oa(ya),arguments)}function k(){function ya(ic){return ic<=ic?Tb[q.bisect(wb,ic,0,Sb)]:rb}var wb=[.5],Tb=[0,1],rb,Sb=1;ya.domain=function(ic){return arguments.length?(wb=Array.from(ic),Sb=Math.min(wb.length,
Tb.length-1),ya):wb.slice()};ya.range=function(ic){return arguments.length?(Tb=Array.from(ic),Sb=Math.min(wb.length,Tb.length-1),ya):Tb.slice()};ya.invertExtent=function(ic){ic=Tb.indexOf(ic);return[wb[ic-1],wb[ic]]};ya.unknown=function(ic){return arguments.length?(rb=ic,ya):rb};ya.copy=function(){return k().domain(wb).range(Tb).unknown(rb)};return db.apply(ya,arguments)}function p(ya){return new Date(ya)}function t(ya){return ya instanceof Date?+ya:+new Date(+ya)}function w(ya,wb,Tb,rb,Sb,ic,rc,
Tc,pc){function tb(Md){return(rc(Md)<Md?ud:ic(Md)<Md?xd:Sb(Md)<Md?ae:rb(Md)<Md?Cb:wb(Md)<Md?Tb(Md)<Md?Rb:Rc:ya(Md)<Md?se:De)(Md)}function bc(Md,I,da){null==Md&&(Md=10);if("number"===typeof Md){var bb=Math.abs(da-I)/Md,La=q.bisector(function(Fb){return Fb[2]}).right(Ne,bb);La===Ne.length?(I=q.tickStep(I/31536E6,da/31536E6,Md),Md=ya):La?(La=Ne[bb/Ne[La-1][2]<Ne[La][2]/bb?La-1:La],I=La[1],Md=La[0]):(I=Math.max(q.tickStep(I,da,Md),1),Md=Tc);return Md.every(I)}return Md}var Mb=Ra()(ea,ea),xc=Mb.invert,
Xc=Mb.domain,ud=pc(".%L"),xd=pc(":%S"),ae=pc("%I:%M"),Cb=pc("%I %p"),Rb=pc("%a %d"),Rc=pc("%b %d"),se=pc("%B"),De=pc("%Y"),Ne=[[rc,1,1E3],[rc,5,5E3],[rc,15,15E3],[rc,30,3E4],[ic,1,6E4],[ic,5,3E5],[ic,15,9E5],[ic,30,18E5],[Sb,1,36E5],[Sb,3,108E5],[Sb,6,216E5],[Sb,12,432E5],[rb,1,864E5],[rb,2,1728E5],[Tb,1,6048E5],[wb,1,2592E6],[wb,3,7776E6],[ya,1,31536E6]];Mb.invert=function(Md){return new Date(xc(Md))};Mb.domain=function(Md){return arguments.length?Xc(Array.from(Md,t)):Xc().map(p)};Mb.ticks=function(Md){var I=
Xc(),da=I[0];I=I[I.length-1];var bb=I<da;if(bb){var La=da;da=I;I=La}La=(La=bc(Md,da,I))?La.range(da,I+1):[];return bb?La.reverse():La};Mb.tickFormat=function(Md,I){return null==I?tb:pc(I)};Mb.nice=function(Md){var I=Xc();return(Md=bc(Md,I[0],I[I.length-1]))?Xc(wa(I,Md)):Mb};Mb.copy=function(){return ba(Mb,w(ya,wb,Tb,rb,Sb,ic,rc,Tc,pc))};return Mb}function O(){function ya(Mb){return isNaN(Mb=+Mb)?bc:pc(0===rc?.5:(Mb=(Tc(Mb)-Sb)*rc,tb?Math.max(0,Math.min(1,Mb)):Mb))}function wb(Mb){return function(xc){if(arguments.length){var Xc=
$jscomp.makeIterator(xc);var ud=Xc.next().value;Xc=Xc.next().value;ud=(pc=Mb(ud,Xc),ya)}else ud=[pc(0),pc(1)];return ud}}var Tb=0,rb=1,Sb,ic,rc,Tc,pc=ea,tb=!1,bc;ya.domain=function(Mb){if(arguments.length){var xc=$jscomp.makeIterator(Mb);Tb=xc.next().value;rb=xc.next().value;xc=(Sb=Tc(Tb=+Tb),ic=Tc(rb=+rb),rc=Sb===ic?0:1/(ic-Sb),ya)}else xc=[Tb,rb];return xc};ya.clamp=function(Mb){return arguments.length?(tb=!!Mb,ya):tb};ya.interpolator=function(Mb){return arguments.length?(pc=Mb,ya):pc};ya.range=
wb(S.interpolate);ya.rangeRound=wb(S.interpolateRound);ya.unknown=function(Mb){return arguments.length?(bc=Mb,ya):bc};return function(Mb){Tc=Mb;Sb=Mb(Tb);ic=Mb(rb);rc=Sb===ic?0:1/(ic-Sb);return ya}}function la(ya,wb){return wb.domain(ya.domain()).interpolator(ya.interpolator()).clamp(ya.clamp()).unknown(ya.unknown())}function ma(){var ya=Oa(O()(ea));ya.copy=function(){return la(ya,ma())};return Eb.apply(ya,arguments)}function ua(){var ya=G(O()).domain([1,10]);ya.copy=function(){return la(ya,ua()).base(ya.base())};
return Eb.apply(ya,arguments)}function eb(){var ya=M(O());ya.copy=function(){return la(ya,eb()).constant(ya.constant())};return Eb.apply(ya,arguments)}function cb(){var ya=fa(O());ya.copy=function(){return la(ya,cb()).exponent(ya.exponent())};return Eb.apply(ya,arguments)}function Ba(){function ya(rb){if(!isNaN(rb=+rb))return Tb((q.bisect(wb,rb,1)-1)/(wb.length-1))}var wb=[],Tb=ea;ya.domain=function(rb){if(!arguments.length)return wb.slice();wb=[];for(var Sb=$jscomp.makeIterator(rb),ic=Sb.next();!ic.done;ic=
Sb.next())ic=ic.value,null==ic||isNaN(ic=+ic)||wb.push(ic);wb.sort(q.ascending);return ya};ya.interpolator=function(rb){return arguments.length?(Tb=rb,ya):Tb};ya.range=function(){return wb.map(function(rb,Sb){return Tb(Sb/(wb.length-1))})};ya.quantiles=function(rb){return Array.from({length:rb+1},function(Sb,ic){return q.quantile(wb,ic/rb)})};ya.copy=function(){return Ba(Tb).domain(wb)};return Eb.apply(ya,arguments)}function Ka(){function ya(xd){return isNaN(xd=+xd)?ud:(xd=.5+((xd=+xc(xd))-Tc)*(ic*
xd<ic*Tc?tb:bc),Mb(Xc?Math.max(0,Math.min(1,xd)):xd))}function wb(xd){return function(ae){if(arguments.length){var Cb=$jscomp.makeIterator(ae);var Rb=Cb.next().value;var Rc=Cb.next().value;Cb=Cb.next().value;Rb=(Mb=S.piecewise(xd,[Rb,Rc,Cb]),ya)}else Rb=[Mb(0),Mb(.5),Mb(1)];return Rb}}var Tb=0,rb=.5,Sb=1,ic=1,rc,Tc,pc,tb,bc,Mb=ea,xc,Xc=!1,ud;ya.domain=function(xd){if(arguments.length){var ae=$jscomp.makeIterator(xd);Tb=ae.next().value;rb=ae.next().value;Sb=ae.next().value;ae=(rc=xc(Tb=+Tb),Tc=xc(rb=
+rb),pc=xc(Sb=+Sb),tb=rc===Tc?0:.5/(Tc-rc),bc=Tc===pc?0:.5/(pc-Tc),ic=Tc<rc?-1:1,ya)}else ae=[Tb,rb,Sb];return ae};ya.clamp=function(xd){return arguments.length?(Xc=!!xd,ya):Xc};ya.interpolator=function(xd){return arguments.length?(Mb=xd,ya):Mb};ya.range=wb(S.interpolate);ya.rangeRound=wb(S.interpolateRound);ya.unknown=function(xd){return arguments.length?(ud=xd,ya):ud};return function(xd){xc=xd;rc=xd(Tb);Tc=xd(rb);pc=xd(Sb);tb=rc===Tc?0:.5/(Tc-rc);bc=Tc===pc?0:.5/(pc-Tc);ic=Tc<rc?-1:1;return ya}}
function Z(){var ya=Oa(Ka()(ea));ya.copy=function(){return la(ya,Z())};return Eb.apply(ya,arguments)}function ra(){var ya=G(Ka()).domain([.1,1,10]);ya.copy=function(){return la(ya,ra()).base(ya.base())};return Eb.apply(ya,arguments)}function hb(){var ya=M(Ka());ya.copy=function(){return la(ya,hb()).constant(ya.constant())};return Eb.apply(ya,arguments)}function mb(){var ya=fa(Ka());ya.copy=function(){return la(ya,mb()).exponent(ya.exponent())};return Eb.apply(ya,arguments)}var Hb=Symbol("implicit"),
Xb=[0,1];n.scaleBand=Ea;n.scaleDiverging=Z;n.scaleDivergingLog=ra;n.scaleDivergingPow=mb;n.scaleDivergingSqrt=function(){return mb.apply(null,arguments).exponent(.5)};n.scaleDivergingSymlog=hb;n.scaleIdentity=ia;n.scaleImplicit=Hb;n.scaleLinear=za;n.scaleLog=J;n.scaleOrdinal=qb;n.scalePoint=function(){return ab(Ea.apply(null,arguments).paddingInner(1))};n.scalePow=Y;n.scaleQuantile=T;n.scaleQuantize=l;n.scaleRadial=H;n.scaleSequential=ma;n.scaleSequentialLog=ua;n.scaleSequentialPow=cb;n.scaleSequentialQuantile=
Ba;n.scaleSequentialSqrt=function(){return cb.apply(null,arguments).exponent(.5)};n.scaleSequentialSymlog=eb;n.scaleSqrt=function(){return Y.apply(null,arguments).exponent(.5)};n.scaleSymlog=ka;n.scaleThreshold=k;n.scaleTime=function(){return db.apply(w(Kb.timeYear,Kb.timeMonth,Kb.timeWeek,Kb.timeDay,Kb.timeHour,Kb.timeMinute,Kb.timeSecond,Kb.timeMillisecond,Ma.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};n.scaleUtc=function(){return db.apply(w(Kb.utcYear,Kb.utcMonth,Kb.utcWeek,
Kb.utcDay,Kb.utcHour,Kb.utcMinute,Kb.utcSecond,Kb.utcMillisecond,Ma.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};n.tickFormat=xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[21]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(1),sb(20),sb(19),sb(4)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.d3,n.d3,n.d3,n.vega))})(this,function(n,q,S,Pa,Kb,Ma){function db(l,k,p){k=l-k+2*p;return l?0<k?k:1:0}function Eb(l){return function(k){var p=k[0];k=k[1];if(k<p){var t=
p;p=k;k=t}return[l.invert(p),l.invert(k)]}}function qb(l){return function(k){var p=l.range(),t=k[0];k=k[1];var w=-1,O;if(k<t){var la=t;t=k;k=la}la=0;for(O=p.length;la<O;++la)if(p[la]>=t&&p[la]<=k){0>w&&(w=la);var ma=la}if(!(0>w))return t=l.invertExtent(p[w]),k=l.invertExtent(p[ma]),[void 0===t[0]?t[1]:t[0],void 0===k[1]?k[0]:k[1]]}}function Ea(){function l(){var Ba=p().length,Ka=w[1]<w[0],Z=w[1-Ka],ra=db(Ba,ua,eb),hb=w[Ka-0];O=(Z-hb)/(ra||1);ma&&(O=Math.floor(O));hb+=(Z-hb-O*(Ba-ua))*cb;la=O*(1-ua);
ma&&(hb=Math.round(hb),la=Math.round(la));Ba=S.range(Ba).map(function(mb){return hb+O*mb});return t(Ka?Ba.reverse():Ba)}var k=Pa.scaleOrdinal().unknown(void 0),p=k.domain,t=k.range,w=[0,1],O,la,ma=!1,ua=0,eb=0,cb=.5;delete k.unknown;k.domain=function(Ba){return arguments.length?(p(Ba),l()):p()};k.range=function(Ba){return arguments.length?(w=[+Ba[0],+Ba[1]],l()):w.slice()};k.rangeRound=function(Ba){w=[+Ba[0],+Ba[1]];ma=!0;return l()};k.bandwidth=function(){return la};k.step=function(){return O};k.round=
function(Ba){return arguments.length?(ma=!!Ba,l()):ma};k.padding=function(Ba){return arguments.length?(ua=eb=Math.max(0,Math.min(1,Ba)),l()):ua};k.paddingInner=function(Ba){return arguments.length?(ua=Math.max(0,Math.min(1,Ba)),l()):ua};k.paddingOuter=function(Ba){return arguments.length?(eb=Math.max(0,Math.min(1,Ba)),l()):eb};k.align=function(Ba){return arguments.length?(cb=Math.max(0,Math.min(1,Ba)),l()):cb};k.invertRange=function(Ba){if(null!=Ba[0]&&null!=Ba[1]){var Ka=w[1]<w[0],Z=Ka?t().reverse():
t(),ra=Z.length-1,hb=+Ba[0],mb=+Ba[1];if(hb===hb&&mb===mb){if(mb<hb){var Hb=hb;hb=mb;mb=Hb}if(!(mb<Z[0]||hb>w[1-Ka]))return Ba=Math.max(0,S.bisectRight(Z,hb)-1),mb=hb===mb?Ba:S.bisectRight(Z,mb)-1,hb-Z[Ba]>la+1E-10&&++Ba,Ka&&(Hb=Ba,Ba=ra-mb,mb=ra-Hb),Ba>mb?void 0:p().slice(Ba,mb+1)}}};k.invert=function(Ba){return(Ba=k.invertRange([Ba,Ba]))?Ba[0]:Ba};k.copy=function(){return Ea().domain(p()).range(w).round(ma).paddingInner(ua).paddingOuter(eb).align(cb)};return l()}function ab(l){var k=l.copy;l.padding=
l.paddingOuter;delete l.paddingInner;l.copy=function(){return ab(k())};return l}function fb(){function l(t){return null==t||t!==t?void 0:p[(S.bisect(k,t)-1)%p.length]}var k=[],p=[];l.domain=function(t){return arguments.length?(k=G.call(t,q.toNumber),l):k.slice()};l.range=function(t){return arguments.length?(p=J.call(t),l):p.slice()};l.tickFormat=function(t,w){return Pa.tickFormat(k[0],q.peek(k),null==t?10:t,w)};l.copy=function(){return fb().domain(l.domain()).range(l.range())};return l}function Ja(l,
k,p){var t=function(){var w=k();w.invertRange||(w.invertRange=w.invert?Eb(w):w.invertExtent?qb(w):void 0);w.type=l;return w};t.metadata=q.toSet(q.array(p));return t}function ea(l,k,p){return 1<arguments.length?(z[l]=Ja(l,k,p),this):pa(l)?z[l]:void 0}function pa(l){return q.hasOwnProperty(z,l)}function Ha(l,k){return(l=z[l])&&l.metadata[k]}function Wa(l){return Ha(l,"discrete")}function ja(l){return Ha(l,"discretizing")}function ba(l){return Ha(l,"log")}function Ra(l){return Ha(l,"temporal")}function xa(l,
k,p){return Kb.piecewise(Oa(k||"rgb",p),l)}function Oa(l,k){l=x[za(l)];return null!=k&&l&&l.gamma?l.gamma(k):l}function za(l){return"interpolate"+l.toLowerCase().split("-").map(function(k){return k[0].toUpperCase()+k.slice(1)}).join("")}function ia(l){for(var k=l.length/6|0,p=Array(k),t=0;t<k;)p[t]="#"+l.slice(6*t,6*++t);return p}function wa(l,k){for(var p in l)sa(p,k(l[p]))}function sa(l,k){l=l&&l.toLowerCase();return 1<arguments.length?(M[l]=k,this):M[l]}function qa(l,k,p){var t=l.range(),w=t[0],
O=q.peek(t);t=Ia;w>O&&(t=O,O=w,w=t,t=Ta);w=Math.floor(w);O=Math.ceil(O);k=k.map(function(la){return[la,l(la)]}).filter(function(la){return w<=la[1]&&la[1]<=O}).sort(t).map(function(la){return la[0]});if(0<p&&1<k.length){for(t=[k[0],q.peek(k)];k.length>p&&3<=k.length;)k=k.filter(function(la,ma){return!(ma%2)});3>k.length&&(k=t)}return k}function Fa(l,k){return l.bins?qa(l,l.bins):l.ticks?l.ticks(k):l.domain()}function Ca(l,k,p,t,w,O){var la=k.type,ma=ka;if("time"===la||"time"===w)ma=l.timeFormat(t);
else if("utc"===la||"utc"===w)ma=l.utcFormat(t);else if(ba(la)){var ua=l.formatFloat(t);if(O||k.bins)ma=ua;else{var eb=Za(k,p,!1);ma=function(cb){return eb(cb)?ua(cb):""}}}else k.tickFormat?(k=k.domain(),ma=l.formatSpan(k[0],k[k.length-1],p,t)):t&&(ma=l.format(t));return ma}function Za(l,k,p){var t=Fa(l,k),w=l.base(),O=Math.log(w),la=Math.max(1,w*k/t.length);l=function(ma){ma/=Math.pow(w,Math.round(Math.log(ma)/O));ma*w<w-.5&&(ma*=w);return ma<=la};return p?t.filter(l):l}function jb(l,k){l.bins?(l=
l.bins,k=l.slice(0,-1),k.max=q.peek(l),l=k):"log"===l.type?l=Za(l,k,!0):fa[l.type]?(l=l[fa[l.type]](),l=[-Infinity].concat(l),l.max=Infinity):l=Fa(l,k);return l}function y(l,k,p,t,w,O,la){if(Y[k.type]&&"time"!==O&&"utc"!==O){p=k[Y[k.type]]();O=p.length;la=1<O?p[1]-p[0]:p[0];var ma;for(ma=1;ma<O;++ma)la=Math.min(la,p[ma]-p[ma-1]);l=l.formatSpan(0,la,30,w)}else l=Ca(l,k,p,w,O,la);return"symbol"===t&&(fa[k.type]||k.bins)?W(l):"discrete"===t?H(l):T(l)}var x=function(l){if(l&&l.__esModule)return l;var k=
Object.create(null);l&&Object.keys(l).forEach(function(p){if("default"!==p){var t=Object.getOwnPropertyDescriptor(l,p);Object.defineProperty(k,p,t.get?t:{enumerable:!0,get:function(){return l[p]}})}});k["default"]=l;return Object.freeze(k)}(Kb),G=Array.prototype.map,J=Array.prototype.slice,z={};ea("identity",Pa.scaleIdentity);ea("linear",Pa.scaleLinear,"continuous");ea("log",Pa.scaleLog,["continuous","log"]);ea("pow",Pa.scalePow,"continuous");ea("sqrt",Pa.scaleSqrt,"continuous");ea("symlog",Pa.scaleSymlog,
"continuous");ea("time",Pa.scaleTime,["continuous","temporal"]);ea("utc",Pa.scaleUtc,["continuous","temporal"]);ea("sequential",Pa.scaleSequential,["continuous","interpolating"]);ea("sequential-linear",Pa.scaleSequential,["continuous","interpolating"]);ea("sequential-log",Pa.scaleSequentialLog,["continuous","interpolating","log"]);ea("sequential-pow",Pa.scaleSequentialPow,["continuous","interpolating"]);ea("sequential-sqrt",Pa.scaleSequentialSqrt,["continuous","interpolating"]);ea("sequential-symlog",
Pa.scaleSequentialSymlog,["continuous","interpolating"]);ea("diverging-linear",Pa.scaleDiverging,["continuous","interpolating"]);ea("diverging-log",Pa.scaleDivergingLog,["continuous","interpolating","log"]);ea("diverging-pow",Pa.scaleDivergingPow,["continuous","interpolating"]);ea("diverging-sqrt",Pa.scaleDivergingSqrt,["continuous","interpolating"]);ea("diverging-symlog",Pa.scaleDivergingSymlog,["continuous","interpolating"]);ea("quantile",Pa.scaleQuantile,["discretizing","quantile"]);ea("quantize",
Pa.scaleQuantize,"discretizing");ea("threshold",Pa.scaleThreshold,"discretizing");ea("bin-ordinal",fb,["discrete","discretizing"]);ea("ordinal",Pa.scaleOrdinal,"discrete");ea("band",Ea,"discrete");ea("point",function(){return ab(Ea().paddingInner(1))},"discrete");var F=["clamp","base","constant","exponent"],M={};wa({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ia);wa({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(l){return xa(ia(l))});var ka=function(l){return q.isArray(l)?l.map(function(k){return String(k)}):String(l)},Ia=function(l,k){return l[1]-k[1]},Ta=function(l,k){return k[1]-l[1]},D={},fa=(D.quantile="quantiles",D.quantize="thresholds",D.threshold="domain",D);D={};var Y=(D.quantile="quantiles",D.quantize=
"domain",D),W=function(l){return function(k,p,t){p=t[p+1];t=t.max;t=null!=t?t:Infinity;p=null!=p?p:t;k=Number.isFinite(k)?l(k):null;p=Number.isFinite(p)?l(p):null;return k&&p?k+" – "+p:p?"\x3c "+p:"≥ "+k}},H=function(l){return function(k,p){return p?l(k):null}},T=function(l){return function(k){return l(k)}};Object.defineProperty(n,"scaleImplicit",{enumerable:!0,get:function(){return Pa.scaleImplicit}});n.Band="band";n.BinOrdinal="bin-ordinal";n.DiscreteLegend="discrete";n.Diverging="diverging";n.GradientLegend=
"gradient";n.Identity="identity";n.Linear="linear";n.Log="log";n.Ordinal="ordinal";n.Point="point";n.Pow="pow";n.Quantile="quantile";n.Quantize="quantize";n.Sequential="sequential";n.Sqrt="sqrt";n.SymbolLegend="symbol";n.Symlog="symlog";n.Threshold="threshold";n.Time="time";n.UTC="utc";n.bandSpace=db;n.domainCaption=function(l,k,p){p=p||{};var t=Math.max(3,p.maxlen||7),w=p.format,O=(p=p.formatType)||k.type;q.isString(w)&&Ra(O)&&(w=w.replace(/%a/g,"%A").replace(/%b/g,"%B"));l=w||"time"!==O?w||"utc"!==
O?y(l,k,5,null,w,p,!0):l.utcFormat("%A, %d %B %Y, %X UTC"):l.timeFormat("%A, %d %B %Y, %X");if(ja(k.type))return t=jb(k).slice(1).map(l),k=t.length,k+" boundar"+(1===k?"y":"ies")+": "+t.join(", ");if(Wa(k.type))return w=k.domain(),k=w.length,t=k>t?w.slice(0,t-2).map(l).join(", ")+", ending with "+w.slice(-1).map(l):w.map(l).join(", "),k+" value"+(1===k?"":"s")+": "+t;t=k.domain();return"values from "+l(t[0])+" to "+l(q.peek(t))};n.interpolate=Oa;n.interpolateColors=xa;n.interpolateRange=function(l,
k){var p=k[0],t=q.peek(k)-p;return function(w){return l(p+w*t)}};n.isContinuous=function(l){return Ha(l,"continuous")};n.isDiscrete=Wa;n.isDiscretizing=ja;n.isInterpolating=function(l){return Ha(l,"interpolating")};n.isLogarithmic=ba;n.isQuantile=function(l){return Ha(l,"quantile")};n.isTemporal=Ra;n.isValidScaleType=pa;n.labelFormat=y;n.labelFraction=function(l){var k=l.domain(),p=k.length-1,t=+k[0];k=+q.peek(k);var w=k-t;"threshold"===l.type&&(l=p?w/p:.1,t-=l,w=k+l-t);return function(O){return(O-
t)/w}};n.labelValues=jb;n.quantizeInterpolator=function(l,k){for(var p=Array(k),t=k+1,w=0;w<k;)p[w]=l(++w/t);return p};n.scale=ea;n.scaleCopy=function(l){var k=l.type;l=l.copy();l.type=k;return l};n.scaleFraction=function(l,k,p){var t=p-k,w;if(t&&Number.isFinite(t)){t=(w=l.type).indexOf("-");w=0>t?w:w.slice(t+1);var O=ea(w)().domain([k,p]).range([0,1]);F.forEach(function(la){return l[la]?O[la](l[la]()):0});return O}return q.constant(.5)};n.scheme=sa;n.tickCount=function(l,k,p){q.isNumber(k)&&(l.bins&&
(k=Math.max(k,l.bins.length)),null!=p&&(k=Math.min(k,Math.floor(q.span(l.domain())/p||1))));if(q.isObject(k)){var t=k.step;k=k.interval}q.isString(k)&&(k="time"===l.type?Ma.timeInterval(k):"utc"==l.type?Ma.utcInterval(k):q.error("Only time and utc scales accept interval strings."),t&&(k=k.every(t)));return k};n.tickFormat=Ca;n.tickValues=Fa;n.validTicks=qa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[22]=function(wa,ka,Ta,Oa){(function(v,L){"object"===typeof Oa&&"undefined"!==typeof Ta?L(Oa,ka(0),ka(16),ka(15),ka(17),ka(11),ka(21)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),L):(v="undefined"!==typeof globalThis?globalThis:v||self,L(v.vega={},v.vega,v.d3,v.d3,v.vega,v.vega,v.vega))})(this,function(v,L,O,xa,Ba,Ua,fb){function $a(a,b,c){var d=a.gradient,e=a.id,f="radial"===d?"p_":"";e||(e=a.id="gradient_"+
pc++,"radial"===d?(a.x1=Ha(a.x1,.5),a.y1=Ha(a.y1,.5),a.r1=Ha(a.r1,0),a.x2=Ha(a.x2,.5),a.y2=Ha(a.y2,.5),a.r2=Ha(a.r2,.5),f="p_"):(a.x1=Ha(a.x1,0),a.y1=Ha(a.y1,0),a.x2=Ha(a.x2,1),a.y2=Ha(a.y2,0)));b[e]=a;return"url("+(c||"")+"#"+f+e+")"}function Ha(a,b){return null!=a?a:b}function ab(a,b,c){a=L.hasOwnProperty(qc,a)&&qc[a];var d=null;a&&(d=a.curve||a[b||"vertical"],a.tension&&null!=c&&(d=d[a.tension](c)));return d}function Va(a){var b=[],c,d,e,f=a.slice().replace(Cb[0],"###$1").split(Cb[1]).slice(1);
a=0;for(d=f.length;a<d;++a){var h=f[a];var k=h.slice(1).trim().replace(Cb[2],"$1###$2").replace(Cb[3],"$1###$2").split(Cb[4]);var n=h.charAt(0);h=[n];var r=0;for(e=k.length;r<e;++r)(c=+k[r])===c&&h.push(c);k=$c[n.toLowerCase()];if(h.length-1>k)for(e=h.length,r=1,b.push([n].concat(h.slice(r,r+=k))),n="M"===n?"L":"m"===n?"l":n;r<e;r+=k)b.push([n].concat(h.slice(r,r+k)));else b.push(h)}return b}function Ga(a,b,c,d,e,f,h,k,n){var r=rc.call(arguments);if(Ub[r])return Ub[r];var t=h*mb,G=Math.sin(t);t=Math.cos(t);
c=Math.abs(c);d=Math.abs(d);var R=t*(k-a)*.5+G*(n-b)*.5,u=t*(n-b)*.5-G*(k-a)*.5;R=R*R/(c*c)+u*u/(d*d);1<R&&(R=Math.sqrt(R),c*=R,d*=R);var T=t/c,X=G/c,qa=-G/d,va=t/d;R=T*k+X*n;u=qa*k+va*n;T=T*a+X*b;X=qa*a+va*b;qa=1/((T-R)*(T-R)+(X-u)*(X-u))-.25;0>qa&&(qa=0);va=Math.sqrt(qa);f==e&&(va=-va);qa=.5*(R+T)-va*(X-u);va=.5*(u+X)+va*(T-R);R=Math.atan2(u-va,R-qa);u=Math.atan2(X-va,T-qa)-R;0>u&&1===f?u+=bb:0<u&&0===f&&(u-=bb);T=Math.ceil(Math.abs(u/(tb+.001)));X=[];for(var Ca=0;Ca<T;++Ca)X[Ca]=[qa,va,R+Ca*u/
T,R+(Ca+1)*u/T,c,d,G,t];return Ub[r]=X}function za(a,b,c,d,e,f){var h=null,k=0,n=0,r=0,t=0;null==c&&(c=0);null==d&&(d=0);null==e&&(e=1);null==f&&(f=e);a.beginPath&&a.beginPath();for(var G=0,R=b.length;G<R;++G){var u=b[G];if(1!==e||1!==f){var T=e;var X=f;var qa=Wa[0]=u[0];if("a"===qa||"A"===qa)Wa[1]=T*u[1],Wa[2]=X*u[2],Wa[3]=u[3],Wa[4]=u[4],Wa[5]=u[5],Wa[6]=T*u[6],Wa[7]=X*u[7];else if("h"===qa||"H"===qa)Wa[1]=T*u[1];else if("v"===qa||"V"===qa)Wa[1]=X*u[1];else{qa=1;for(var va=u.length;qa<va;++qa)Wa[qa]=
(1==qa%2?T:X)*u[qa]}u=Wa}switch(u[0]){case "l":k+=u[1];n+=u[2];a.lineTo(k+c,n+d);break;case "L":k=u[1];n=u[2];a.lineTo(k+c,n+d);break;case "h":k+=u[1];a.lineTo(k+c,n+d);break;case "H":k=u[1];a.lineTo(k+c,n+d);break;case "v":n+=u[1];a.lineTo(k+c,n+d);break;case "V":n=u[1];a.lineTo(k+c,n+d);break;case "m":k+=u[1];n+=u[2];a.moveTo(k+c,n+d);break;case "M":k=u[1];n=u[2];a.moveTo(k+c,n+d);break;case "c":T=k+u[5];X=n+u[6];r=k+u[3];t=n+u[4];a.bezierCurveTo(k+u[1]+c,n+u[2]+d,r+c,t+d,T+c,X+d);k=T;n=X;break;
case "C":k=u[5];n=u[6];r=u[3];t=u[4];a.bezierCurveTo(u[1]+c,u[2]+d,r+c,t+d,k+c,n+d);break;case "s":T=k+u[3];X=n+u[4];r=2*k-r;t=2*n-t;a.bezierCurveTo(r+c,t+d,k+u[1]+c,n+u[2]+d,T+c,X+d);r=k+u[1];t=n+u[2];k=T;n=X;break;case "S":T=u[3];X=u[4];r=2*k-r;t=2*n-t;a.bezierCurveTo(r+c,t+d,u[1]+c,u[2]+d,T+c,X+d);k=T;n=X;r=u[1];t=u[2];break;case "q":T=k+u[3];X=n+u[4];r=k+u[1];t=n+u[2];a.quadraticCurveTo(r+c,t+d,T+c,X+d);k=T;n=X;break;case "Q":T=u[3];X=u[4];a.quadraticCurveTo(u[1]+c,u[2]+d,T+c,X+d);k=T;n=X;r=u[1];
t=u[2];break;case "t":T=k+u[1];X=n+u[2];null===h[0].match(/[QqTt]/)?(r=k,t=n):"t"===h[0]?(r=2*k-Ca,t=2*n-Pa):"q"===h[0]&&(r=2*k-r,t=2*n-t);var Ca=r;var Pa=t;a.quadraticCurveTo(r+c,t+d,T+c,X+d);k=T;n=X;r=k+u[1];t=n+u[2];break;case "T":T=u[1];X=u[2];r=2*k-r;t=2*n-t;a.quadraticCurveTo(r+c,t+d,T+c,X+d);k=T;n=X;break;case "a":cb(a,k+c,n+d,[u[1],u[2],u[3],u[4],u[5],u[6]+k+c,u[7]+n+d]);k+=u[6];n+=u[7];break;case "A":cb(a,k+c,n+d,[u[1],u[2],u[3],u[4],u[5],u[6]+c,u[7]+d]);k=u[6];n=u[7];break;case "z":case "Z":a.closePath()}h=
u}}function cb(a,b,c,d){b=Ga(d[5],d[6],d[0],d[1],d[3],d[4],d[2],b,c);for(c=0;c<b.length;++c){var e=b[c];d=rc.call(e);if(Vb[d])d=Vb[d];else{var f=e[0],h=e[1],k=e[2],n=e[3],r=e[4],t=e[5],G=e[6],R=e[7];e=R*r;var u=-G*t;r*=G;t*=R;var T=Math.cos(k),X=Math.sin(k);G=Math.cos(n);R=Math.sin(n);k=.5*(n-k);n=Math.sin(.5*k);n=8/3*n*n/Math.sin(k);k=f+T-n*X;T=h+X+n*T;f+=G;h+=R;R=f+n*R;G=h-n*G;d=Vb[d]=[e*k+u*T,r*k+t*T,e*R+u*G,r*R+t*G,e*f+u*h,r*f+t*h]}a.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5])}}function nb(a){return L.hasOwnProperty(sc,
a)?sc[a]:gb(a)}function gb(a){if(!L.hasOwnProperty(Wb,a)){var b=Va(a);Wb[a]={draw:function(c,d){za(c,b,0,0,Math.sqrt(d)/2)}}}return Wb[a]}function ob(a){return a.x}function Z(a){return a.y}function Q(a){return a.width}function ba(a){return a.height}function ia(a){return"function"===typeof a?a:function(){return+a}}function da(a,b,c){return Math.max(b,Math.min(a,c))}function ha(){function a(t,G,R){var u;G=null!=G?G:+b.call(this,t);R=null!=R?R:+c.call(this,t);var T=+d.call(this,t),X=+e.call(this,t),
qa=Math.min(T,X)/2,va=da(+f.call(this,t),0,qa),Ca=da(+h.call(this,t),0,qa),Pa=da(+k.call(this,t),0,qa);t=da(+n.call(this,t),0,qa);r||(r=u=xa.path());0>=va&&0>=Ca&&0>=Pa&&0>=t?r.rect(G,R,T,X):(T=G+T,X=R+X,r.moveTo(G+va,R),r.lineTo(T-Ca,R),r.bezierCurveTo(T-.448084975506*Ca,R,T,R+.448084975506*Ca,T,R+Ca),r.lineTo(T,X-t),r.bezierCurveTo(T,X-.448084975506*t,T-.448084975506*t,X,T-t,X),r.lineTo(G+Pa,X),r.bezierCurveTo(G+.448084975506*Pa,X,G,X-.448084975506*Pa,G,X-Pa),r.lineTo(G,R+va),r.bezierCurveTo(G,
R+.448084975506*va,G+.448084975506*va,R,G+va,R),r.closePath());if(u)return r=null,u+""||null}var b=ob,c=Z,d=Q,e=ba,f=ia(0),h=f,k=f,n=f,r=null;a.x=function(t){return arguments.length?(b=ia(t),a):b};a.y=function(t){return arguments.length?(c=ia(t),a):c};a.width=function(t){return arguments.length?(d=ia(t),a):d};a.height=function(t){return arguments.length?(e=ia(t),a):e};a.cornerRadius=function(t,G,R,u){return arguments.length?(f=ia(t),h=null!=G?ia(G):f,n=null!=R?ia(R):f,k=null!=u?ia(u):h,a):f};a.context=
function(t){return arguments.length?(r=null==t?null:t,a):r};return a}function ta(){function a(t){var G,R=t.length,u,T=!1,X;null==f&&(f=X=xa.path());for(G=0;G<=R;++G)if(!(G<R&&e(u=t[G],G,t))===T&&(T=!T)&&(h=0),T){var qa=+b(u,G,t),va=+c(u,G,t),Ca=+d(u,G,t)/2;if(h){var Pa=n-va,xb=qa-k;if(Pa||xb){var Db=Math.sqrt(Pa*Pa+xb*xb),tc=(Pa/=Db)*r;Db=(xb/=Db)*r;var Kb=Math.atan2(xb,Pa);f.moveTo(k-tc,n-Db);f.lineTo(qa-Pa*Ca,va-xb*Ca);f.arc(qa,va,Ca,Kb-Math.PI,Kb);f.lineTo(k+tc,n+Db);f.arc(k,n,r,Kb,Kb+Math.PI)}else f.arc(qa,
va,Ca,0,bb);f.closePath()}else h=1;k=qa;n=va;r=Ca}if(X)return f=null,X+""||null}var b,c,d,e,f=null,h,k,n,r;a.x=function(t){return arguments.length?(b=t,a):b};a.y=function(t){return arguments.length?(c=t,a):c};a.size=function(t){return arguments.length?(d=t,a):d};a.defined=function(t){return arguments.length?(e=t,a):e};a.context=function(t){return arguments.length?(f=null==t?null:t,a):f};return a}function ja(a,b){return null!=a?a:b}function ya(a){return a.cornerRadius||a.cornerRadiusTopLeft||a.cornerRadiusTopRight||
a.cornerRadiusBottomRight||a.cornerRadiusBottomLeft}function ma(a,b,c,d){return ad.context(a)(b,c,d)}function ua(a,b,c){var d=b.clip;a=a._defs;b=b.clip_id||(b.clip_id="clip"+Xb++);a=a.clipping[b]||(a.clipping[b]={id:b});L.isFunction(d)?a.path=d(null):ya(c)?a.path=ma(null,c,0,0):(a.width=c.width||0,a.height=c.height||0);return"url(#"+b+")"}function pa(a){this.clear();a&&this.union(a)}function oa(a){this.mark=a;this.bounds=this.bounds||new pa}function la(a){oa.call(this,a);this.items=this.items||[]}
function l(a){this._pending=0;this._loader=a||Ua.loader()}function A(a,b,c){if(b.stroke&&0!==b.opacity&&0!==b.strokeOpacity){var d=null!=b.strokeWidth?+b.strokeWidth:1;a.expand(d+(c?b.strokeJoin&&"miter"!==b.strokeJoin?0:d:0))}return a}function D(a,b){Xa=a;b?(ub=b*mb,hb=ib=Math.cos(ub),db=Math.sin(ub),jb=-db):(hb=ib=1,ub=db=jb=0);return bd}function H(a,b,c,d){c=(a-b)/(a+c-2*b);0<c&&1>c&&d(a+(b-a)*c)}function I(a,b,c,d,e){var f=d-a+3*b-3*c,h=a+c-2*b,k=a-b,n=0,r=0;1E-14<Math.abs(f)?(k=h*h+k*f,0<=k&&
(k=Math.sqrt(k),n=(-h+k)/f,r=(-h-k)/f)):n=.5*k/h;0<n&&1>n&&e(N(n,a,b,c,d));0<r&&1>r&&e(N(r,a,b,c,d))}function N(a,b,c,d,e){var f=1-a,h=f*f,k=a*a;return h*f*b+3*h*a*c+3*f*k*d+k*a*e}function P(a){return function(b,c){if(!pb)return!0;a(pb,b);Yb.clear().union(b.bounds).intersect(c).round();var d=Yb;b=d.x1;c=d.x2;var e=d.y2;for(d=d.y1;d<=e;++d)for(var f=b;f<=c;++f)if(pb.isPointInPath(f,d))return!0;return!1}}function E(a,b){return b.contains(a.x||0,a.y||0)}function aa(a,b){var c=a.x||0,d=a.y||0;return b.intersects(Yb.set(c,
d,c+(a.width||0),d+(a.height||0)))}function B(a,b){var c=a.x||0,d=a.y||0;return K(b,c,d,null!=a.x2?a.x2:c,null!=a.y2?a.y2:d)}function K(a,b,c,d,e){var f=a.x1,h=a.y1,k=a.x2;a=a.y2;d-=b;e-=c;var n=0,r=1,t;for(t=0;4>t;++t){if(0===t){var G=-d;var R=-(f-b)}1===t&&(G=d,R=k-b);2===t&&(G=-e,R=-(h-c));3===t&&(G=e,R=a-c);if(1E-10>Math.abs(G)&&0>R)return!1;var u=R/G;if(0>G){if(u>r)return!1;u>n&&(n=u)}else if(0<G){if(u<n)return!1;u<r&&(r=u)}}return!0}function ca(a,b){a.globalCompositeOperation=b.blend||"source-over"}
function V(a,b){return null==a?b:a}function g(a,b){for(var c=b.length,d=0;d<c;++d)a.addColorStop(b[d].offset,b[d].color);return a}function m(a,b,c){var d=c.width(),e=c.height();if("radial"===b.gradient)a=a.createRadialGradient(c.x1+V(b.x1,.5)*d,c.y1+V(b.y1,.5)*e,Math.max(d,e)*V(b.r1,0),c.x1+V(b.x2,.5)*d,c.y1+V(b.y2,.5)*e,Math.max(d,e)*V(b.r2,.5));else{var f=V(b.x1,0),h=V(b.y1,0),k=V(b.x2,1),n=V(b.y2,0);if(f===k||h===n||d===e)a=a.createLinearGradient(c.x1+f*d,c.y1+h*e,c.x1+k*d,c.y1+n*e);else{c=Ba.canvas(Math.ceil(d),
Math.ceil(e));var r=c.getContext("2d");r.scale(d,e);r.fillStyle=g(r.createLinearGradient(f,h,k,n),b.stops);r.fillRect(0,0,d,e);return a.createPattern(c,"no-repeat")}}return g(a,b.stops)}function q(a,b,c){c*=null==b.fillOpacity?1:b.fillOpacity;return 0<c?(a.globalAlpha=c,b=(c=b.fill)&&c.gradient?m(a,c,b.bounds):c,a.fillStyle=b,!0):!1}function x(a,b,c){var d=null!=(d=b.strokeWidth)?d:1;if(0>=d)return!1;c*=null==b.strokeOpacity?1:b.strokeOpacity;return 0<c?(a.globalAlpha=c,c=(c=b.stroke)&&c.gradient?
m(a,c,b.bounds):c,a.strokeStyle=c,a.lineWidth=d,a.lineCap=b.strokeCap||"butt",a.lineJoin=b.strokeJoin||"miter",a.miterLimit=b.strokeMiterLimit||10,a.setLineDash&&(a.setLineDash(b.strokeDash||cd),a.lineDashOffset=b.strokeDashOffset||0),!0):!1}function p(a,b){return a.zindex-b.zindex||a.index-b.index}function w(a){if(!a.zdirty)return a.zitems;var b=a.items,c=[],d;var e=0;for(d=b.length;e<d;++e){var f=b[e];f.index=e;f.zindex&&c.push(f)}a.zdirty=!1;return a.zitems=c.sort(p)}function M(a,b){var c=a.items,
d;if(c&&c.length){var e=w(a);if(e&&e.length){a=0;for(d=c.length;a<d;++a)c[a].zindex||b(c[a]);c=e}a=0;for(d=c.length;a<d;++a)b(c[a])}}function z(a,b){var c=a.items,d,e;if(!c||!c.length)return null;var f=w(a);f&&f.length&&(c=f);for(e=c.length;0<=--e;)if(d=b(c[e]))return d;if(c===f)for(c=a.items,e=c.length;0<=--e;)if(!c[e].zindex&&(d=b(c[e])))return d;return null}function y(a){return function(b,c,d){M(c,function(e){d&&!d.intersects(e.bounds)||F(a,b,e,e)})}}function J(a){return function(b,c,d){!c.items.length||
d&&!d.intersects(c.bounds)||F(a,b,c.items[0],c.items)}}function F(a,b,c,d){var e=null==c.opacity?1:c.opacity;0===e||a(b,d)||(ca(b,c),c.fill&&q(b,c,e)&&b.fill(),c.stroke&&x(b,c,e)&&b.stroke())}function C(a){a=a||L.truthy;return function(b,c,d,e,f,h){d*=b.pixelRatio;e*=b.pixelRatio;return z(c,function(k){var n=k.bounds;if((!n||n.contains(f,h))&&n&&a(b,k,d,e,f,h))return k})}}function U(a,b){return function(c,d,e,f){var h=Array.isArray(d)?d[0]:d,k=null==b?h.fill:b,n=h.stroke&&c.isPointInStroke;if(n){var r=
h.strokeWidth;h=h.strokeCap;c.lineWidth=null!=r?r:1;c.lineCap=null!=h?h:"butt"}return a(c,d)?!1:k&&c.isPointInPath(e,f)||n&&c.isPointInStroke(e,f)}}function Y(a,b){return"translate("+a+","+b+")"}function S(a,b,c){function d(e,f){var h=f.x||0,k=f.y||0,n=f.angle||0;e.translate(h,k);n&&e.rotate(n*=mb);e.beginPath();b(e,f);n&&e.rotate(-n);e.translate(-h,-k)}return{type:a,tag:"path",nested:!1,attr:function(e,f){var h=Y(f.x||0,f.y||0)+(f.angle?" rotate("+(f.angle+")"):"");e("transform",h);e("d",b(null,
f))},bound:function(e,f){b(D(e,f.angle),f);return A(e,f).translate(f.x||0,f.y||0)},draw:y(d),pick:C(U(d)),isect:c||P(d)}}function W(a,b,c){function d(f,h){f.beginPath();b(f,h)}var e=U(d);return{type:a,tag:"path",nested:!0,attr:function(f,h){h=h.mark.items;h.length&&f("d",b(null,h))},bound:function(f,h){h=h.items;if(0===h.length)return f;b(D(f),h);return A(f,h[0])},draw:J(d),pick:function(f,h,k,n,r,t){var G=h.items;h=h.bounds;if(!G||!G.length||h&&!h.contains(r,t))return null;k*=f.pixelRatio;n*=f.pixelRatio;
return e(f,G,k,n)?G[0]:null},isect:E,tip:c}}function ea(a,b){a.beginPath();ya(b)?ma(a,b,0,0):a.rect(0,0,b.width||0,b.height||0);a.clip()}function fa(a){var b=V(a.strokeWidth,1);return null!=a.strokeOffset?a.strokeOffset:a.stroke&&.5<b&&1.5>b?.5-Math.abs(b-1):0}function na(a,b,c,d){var e=fa(b);a.beginPath();ma(a,b,(c||0)+e,(d||0)+e)}function ra(a,b){var c=a.image;if(!c||a.url&&a.url!==c.url)c={complete:!1,width:0,height:0},b.loadImage(a.url).then(function(d){a.image=d;a.image.url=a.url});return c}
function Da(a,b){return null!=a.width?a.width:b&&b.width?!1!==a.aspect&&a.height?a.height*b.width/b.height:b.width:0}function Ea(a,b){return null!=a.height?a.height:b&&b.height?!1!==a.aspect&&a.width?a.width*b.height/b.width:b.height:0}function Ia(a,b){return"center"===a?b/2:"right"===a?b:0}function sa(a,b){return"middle"===a?b/2:"bottom"===a?b:0}function Aa(a,b){var c=b.path;if(null==c)return!0;var d=b.x||0,e=b.y||0,f=b.scaleX||1,h=b.scaleY||1,k=(b.angle||0)*mb,n=b.pathCache;n&&n.path===c||((b.pathCache=
n=Va(c)).path=c);k&&a.rotate&&a.translate?(a.translate(d,e),a.rotate(k),za(a,n,0,0,f,h),a.rotate(-k),a.translate(-d,-e)):za(a,n,d,e,f,h)}function Eb(a,b){a.beginPath();ma(a,b)}function vb(a,b,c){if(b.stroke&&x(a,b,c)){c=b.x||0;var d=b.y||0;var e=null!=b.x2?b.x2:c;b=null!=b.y2?b.y2:d;a.beginPath();a.moveTo(c,d);a.lineTo(e,b);return!0}return!1}function Qa(a){yb.width=a&&pb?wb:zb}function zb(a,b){b=qb(a,b);a=Sa(a);return~~(.8*b.length*a)}function wb(a,b){return 0>=Sa(a)||!(b=qb(a,b))?0:Ka(b,Lb(a))}function Ka(a,
b){var c="("+b+") "+a,d=uc.get(c);void 0===d&&(pb.font=b,d=pb.measureText(a).width,uc.set(c,d));return d}function Sa(a){return null!=a.fontSize?+a.fontSize||0:11}function La(a){return null!=a.lineHeight?a.lineHeight:Sa(a)+2}function Ma(a){a=a.lineBreak&&a.text&&!L.isArray(a.text)?a.text.split(a.lineBreak):a.text;return L.isArray(a)?1<a.length?a:a[0]:a}function qb(a,b){b=null==b?"":(b+"").trim();if(0<a.limit&&b.length){var c=+a.limit,d=dd(a);if(!(d(b)<c)){var e=a.ellipsis||"…",f="rtl"===a.dir;a=0;
var h=b.length;c-=d(e);if(f){for(;a<h;)f=a+h>>>1,d(b.slice(f))>c?a=f+1:h=f;b=e+b.slice(a)}else{for(;a<h;)f=1+(a+h>>>1),d(b.slice(0,f))<c?a=f:h=f-1;b=b.slice(0,a)+e}}}return b}function dd(a){if(yb.width===wb){var b=Lb(a);return function(d){return Ka(d,b)}}var c=Sa(a);return function(d){return~~(.8*d.length*c)}}function Fb(a,b){a=a.font;return(b&&a?String(a).replace(/"/g,"'"):a)||"sans-serif"}function Lb(a,b){return(a.fontStyle?a.fontStyle+" ":"")+(a.fontVariant?a.fontVariant+" ":"")+(a.fontWeight?
a.fontWeight+" ":"")+Sa(a)+"px "+Fb(a,b)}function Zb(a){var b=a.baseline,c=Sa(a);return Math.round("top"===b?.79*c:"middle"===b?.3*c:"bottom"===b?-.21*c:"line-top"===b?.29*c+.5*La(a):"line-bottom"===b?.29*c-.5*La(a):0)}function Mb(a){var b=a.x||0,c=a.y||0,d=a.radius||0;d&&(a=(a.theta||0)-tb,b+=d*Math.cos(a),c+=d*Math.sin(a));Gb.x1=b;Gb.y1=c;return Gb}function $b(a,b,c){var d=yb.height(b),e=b.align,f=Mb(b),h=f.x1;f=f.y1;var k=b.dx||0,n=(b.dy||0)+Zb(b)-Math.round(.8*d),r=Ma(b);L.isArray(r)?(d+=La(b)*
(r.length-1),r=r.reduce(function(t,G){return Math.max(t,yb.width(b,G))},0)):r=yb.width(b,r);"center"===e?k-=r/2:"right"===e&&(k-=r);a.set(k+=h,n+=f,k+r,n+d);if(b.angle&&!c)a.rotate(b.angle*mb,h,f);else if(2===c)return a.rotatedPoints(b.angle*mb,h,f);return a}function ac(a,b,c){var d=Ya[a.mark.marktype];b=b||d.bound;d.nested&&(a=a.mark);return b(a.bounds||(a.bounds=new pa),a,c)}function vc(a,b,c){var d=Ya[a.marktype],e=d.bound,f=a.items,h=f&&f.length;if(d.nested)return h?a=f[0]:(wc.mark=a,a=wc),c=
ac(a,e,c),b=b&&b.union(c)||c;b=b||a.bounds&&a.bounds.clear()||new pa;if(h)for(d=0,h=f.length;d<h;++d)b.union(ac(f[d],e,c));return a.bounds=b}function xc(a,b){return JSON.stringify(a,ed,b)}function yc(a){a="string"===typeof a?JSON.parse(a):a;return zc(a)}function zc(a){var b=a.marktype,c=a.items,d;if(c){var e=0;for(d=c.length;e<d;++e){var f=b?"mark":"group";c[e][f]=a;c[e].zindex&&(c[e][f].zdirty=!0);"group"===(b||f)&&zc(c[e])}}b&&vc(a);return a}function Ac(a){arguments.length?this.root=yc(a):(this.root=
Bc({marktype:"group",name:"root",role:"frame"}),this.root.items=[new la(this.root)])}function Bc(a,b){b={bounds:new pa,clip:!!a.clip,group:b,interactive:!1===a.interactive?!1:!0,items:[],marktype:a.marktype,name:a.name||void 0,role:a.role||void 0,zindex:a.zindex||0};null!=a.aria&&(b.aria=a.aria);a.description&&(b.description=a.description);return b}function rb(a,b,c){!a&&"undefined"!==typeof document&&document.createElement&&(a=document);return a?c?a.createElementNS(c,b):a.createElement(b):null}function bc(a,
b){b=b.toLowerCase();a=a.childNodes;for(var c=0,d=a.length;c<d;++c)if(a[c].tagName.toLowerCase()===b)return a[c]}function Ra(a,b,c,d){b=a.childNodes[b];if(!b||b.tagName.toLowerCase()!==c.toLowerCase()){var e=b||null;b=rb(a.ownerDocument,c,d);a.insertBefore(b,e)}return b}function Za(a,b){for(var c=a.childNodes,d=c.length;d>b;)a.removeChild(c[--d]);return a}function Cc(a){return"mark-"+a.marktype+(a.role?" role-"+a.role:"")+(a.name?" "+a.name:"")}function cc(a,b){var c=b.getBoundingClientRect();return[a.clientX-
c.left-(b.clientLeft||0),a.clientY-c.top-(b.clientTop||0)]}function sb(a,b){this._active=null;this._handlers={};this._loader=a||Ua.loader();this._tooltip=b||fd}function fd(a,b,c,d){a.element().setAttribute("title",d||"")}function eb(a){this._bgcolor=this._el=null;this._loader=new l(a)}function dc(a,b){sb.call(this,a,b);this._touch=this._down=null;this._first=!0;this._events={}}function Dc(a,b){("touchstart"===b||"touchmove"===b||"touchend"===b?["touchstart","touchmove","touchend"]:[b]).forEach(function(c){return gd(a,
c)})}function gd(a,b){var c=a.canvas();c&&!a._events[b]&&(a._events[b]=1,c.addEventListener(b,a[b]?function(d){return a[b](d)}:function(d){return a.fire(b,d)}))}function Ec(a,b,c){return function(d){var e=this._active,f=this.pickEvent(d);f!==e&&(e&&e.exit||this.fire(c,d),this._active=f,this.fire(b,d));this.fire(a,d)}}function Fc(a){return function(b){this.fire(a,b);this._active=null}}function Nb(a){eb.call(this,a);this._options={};this._redraw=!1;this._dirty=new pa;this._tempb=new pa}function ec(a,
b){sb.call(this,a,b);var c=this;c._hrefHandler=fc(c,function(d,e){e&&e.href&&c.handleHref(d,e,e.href)});c._tooltipHandler=fc(c,function(d,e){c.handleTooltip(d,e,"mouseout"!==d.type)})}function Gc(a,b){var c=!1===b.aria;a("aria-hidden",c||void 0);if(c||null==b.description)for(var d in Hc)a(Hc[d],void 0);else c=b.mark.marktype,a("aria-label",b.description),a("role",b.ariaRole||("group"===c?"graphics-object":"graphics-symbol")),a("aria-roledescription",b.ariaRoleDescription||c+" mark")}function Ic(a){var b=
{};return!1===a.aria?(b["aria-hidden"]=!0,b):hd[a.role]?null:Jc[a.role]?id(a,Jc[a.role]):jd(a)}function jd(a){var b=a.marktype,c="group"===b||"text"===b||a.items.some(function(d){return null!=d.description&&!1!==d.aria});return Kc(c?"graphics-object":"graphics-symbol",b+" mark container",a.description)}function id(a,b){try{var c=a.items[0],d=b.caption||function(){return""};return Kc(b.role||"graphics-symbol",b.desc,c.description||d(c))}catch(e){return null}}function Lc(a){try{return L.array(L.peek(a.items).items[0].text).join(" ")}catch(b){return null}}
function kd(a){a=a.map(function(b){return b+("fill"===b||"stroke"===b?" color":"")});return 2>a.length?a[0]:a.slice(0,-1).join(", ")+" and "+L.peek(a)}function gc(){var a="",b="",c="",d=[],e=function(h,k){null!=k&&(b+=" "+h+'\x3d"'+Mc(k).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")+'"');return f},f={open:function(h,k){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];b&&(a+=b+"\x3e"+c,b=c="");d.push(h);b="\x3c"+h;n=$jscomp.makeIterator(n);
for(r=n.next();!r.done;r=n.next()){r=r.value;for(var t in r)e(t,r[t])}return f},close:function(){var h=d.pop();a=b?a+(b+(c?"\x3e"+c+"\x3c/"+h+"\x3e":"/\x3e")):a+("\x3c/"+h+"\x3e");b=c="";return f},attr:e,text:function(h){return c+=Mc(h),f},toString:function(){return a}};return f}function Nc(a,b){a.open(b.tagName);if(b.hasAttributes())for(var c=b.attributes,d=c.length,e=0;e<d;++e)a.attr(c[e].name,c[e].value);if(b.hasChildNodes())for(b=b.childNodes,c=b.length,d=0;d<c;d++)e=b[d],3===e.nodeType?a.text(e.nodeValue):
Nc(a,e);return a.close()}function hc(a){eb.call(this,a);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Oc(a,b){for(;a&&a.dirty!==b;a=a.mark.group)if(a.dirty=b,a.mark&&a.mark.dirty!==b)a.mark.dirty=b;else break}function ld(a,b,c){b=b.lastChild.previousSibling;var d,e=0;M(c,function(f){d=a.mark(b,f,d);++e});Za(b,1+e)}function Pc(a,b,c,d,e){var f=a._svg;if(!f){var h=b.ownerDocument;f=rb(h,d,Fa);a._svg=f;a.mark&&(f.__data__=a,f.__values__={fill:"default"},"g"===d&&(d=rb(h,
"path",Fa),f.appendChild(d),d.__data__=a,d=rb(h,"g",Fa),f.appendChild(d),d.__data__=a,h=rb(h,"path",Fa),f.appendChild(h),h.__data__=a,h.__values__={fill:"default"}))}(f.ownerSVGElement!==e||f.parentNode&&1<f.parentNode.childNodes.length&&f.previousSibling!=c)&&b.insertBefore(f,c?c.nextSibling:b.firstChild);return f}function Hb(a,b,c){if(b!==Ja[a]){if(c){var d=kb;null!=b?d.setAttributeNS(c,a,b):d.removeAttributeNS(c,a)}else Na(kb,a,b);Ja[a]=b}}function ic(a,b,c){c!==Ja[b]&&(null==c?a.style.removeProperty(b):
a.style.setProperty(b,c+""),Ja[b]=c)}function lb(a,b){for(var c in b)Na(a,c,b[c])}function Na(a,b,c){null!=c?a.setAttribute(b,c):a.removeAttribute(b)}function Qc(){var a;return"undefined"===typeof window?"":(a=window.location).hash?a.href.slice(0,-a.hash.length):a.href}function jc(a){eb.call(this,a);this._text=null;this._defs={gradient:{},clipping:{}}}function md(a,b,c,d,e){if(null==b)return a;"bgrect"===d&&!1===c.interactive&&(a["pointer-events"]="none");if("bgfore"===d&&(!1===c.interactive&&(a["pointer-events"]=
"none"),a.display="none",null!==b.fill))return a;"image"===d&&!1===b.smooth&&(a.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===d&&(a["font-family"]=Fb(b),a["font-size"]=Sa(b)+"px",a["font-style"]=b.fontStyle,a["font-variant"]=b.fontVariant,a["font-weight"]=b.fontWeight);for(var f in Ob)c=b[f],d=Ob[f],("transparent"!==c||"fill"!==d&&"stroke"!==d)&&null!=c&&(c&&c.gradient&&(c=$a(c,e.gradient,"")),a[d]=c);return a}function Rc(a,b,c,d){if(a.bounds&&b.intersects(a.bounds)&&
("group"===a.marktype||!1!==a.interactive&&(!c||c(a)))){var e=a.items,f=a.marktype;a=e.length;var h=0;if("group"===f)for(;h<a;++h)Sc(e[h],b,c,d);else for(c=Ya[f].isect;h<a;++h)f=e[h],Tc(f,b,c)&&d.push(f)}return d}function Sc(a,b,c,d){c&&c(a.mark)&&Tc(a,b,Ya.group.isect)&&d.push(a);var e=a.items,f=e&&e.length;if(f){var h=a.x||0;a=a.y||0;b.translate(-h,-a);for(var k=0;k<f;++k)Rc(e[k],b,c,d);b.translate(h,a)}return d}function Tc(a,b,c){var d=a.bounds;return b.encloses(d)||b.intersects(d)&&c(a,b)}function kc(a,
b,c){return a===b?!0:"path"===c?Uc(a,b):a instanceof Date&&b instanceof Date?+a===+b:L.isNumber(a)&&L.isNumber(b)?1E-9>=Math.abs(a-b):a&&b&&(L.isObject(a)||L.isObject(b))?nd(a,b):a==b}function Uc(a,b){return kc(Va(a),Va(b))}function nd(a,b){var c=Object.keys(a),d=Object.keys(b),e;if(c.length!==d.length)return!1;c.sort();d.sort();for(e=c.length-1;0<=e;e--)if(c[e]!=d[e])return!1;for(e=c.length-1;0<=e;e--)if(d=c[e],!kc(a[d],b[d],d))return!1;return typeof a===typeof b}var pc=0,qc={basis:{curve:O.curveBasis},
"basis-closed":{curve:O.curveBasisClosed},"basis-open":{curve:O.curveBasisOpen},bundle:{curve:O.curveBundle,tension:"beta",value:.85},cardinal:{curve:O.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:O.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:O.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:O.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:O.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:O.curveCatmullRomOpen,
tension:"alpha",value:.5},linear:{curve:O.curveLinear},"linear-closed":{curve:O.curveLinearClosed},monotone:{horizontal:O.curveMonotoneY,vertical:O.curveMonotoneX},natural:{curve:O.curveNatural},step:{curve:O.curveStep},"step-after":{curve:O.curveStepAfter},"step-before":{curve:O.curveStepBefore}},$c={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Cb=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],mb=Math.PI/180,tb=Math.PI/2,bb=2*Math.PI,Ab=Math.sqrt(3)/2,Ub={},Vb={},rc=[].join,
Wa=["l",0,0,0,0,0,0,0],sc={circle:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(b,0);a.arc(0,0,b,0,bb)}},cross:{draw:function(a,b){b=Math.sqrt(b)/2;var c=b/2.5;a.moveTo(-b,-c);a.lineTo(-b,c);a.lineTo(-c,c);a.lineTo(-c,b);a.lineTo(c,b);a.lineTo(c,c);a.lineTo(b,c);a.lineTo(b,-c);a.lineTo(c,-c);a.lineTo(c,-b);a.lineTo(-c,-b);a.lineTo(-c,-c);a.closePath()}},diamond:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(-b,0);a.lineTo(0,-b);a.lineTo(b,0);a.lineTo(0,b);a.closePath()}},square:{draw:function(a,b){b=
Math.sqrt(b);var c=-b/2;a.rect(c,c,b,b)}},arrow:{draw:function(a,b){b=Math.sqrt(b)/2;var c=b/7,d=b/2.5,e=b/8;a.moveTo(-c,b);a.lineTo(c,b);a.lineTo(c,-e);a.lineTo(d,-e);a.lineTo(0,-b);a.lineTo(-d,-e);a.lineTo(-c,-e);a.closePath()}},wedge:{draw:function(a,b){var c=Math.sqrt(b)/2;b=Ab*c;var d=b-.5773502691896257*c;c/=4;a.moveTo(0,-b-d);a.lineTo(-c,b-d);a.lineTo(c,b-d);a.closePath()}},triangle:{draw:function(a,b){b=Math.sqrt(b)/2;var c=Ab*b,d=c-.5773502691896257*b;a.moveTo(0,-c-d);a.lineTo(-b,c-d);a.lineTo(b,
c-d);a.closePath()}},"triangle-up":{draw:function(a,b){b=Math.sqrt(b)/2;var c=Ab*b;a.moveTo(0,-c);a.lineTo(-b,c);a.lineTo(b,c);a.closePath()}},"triangle-down":{draw:function(a,b){b=Math.sqrt(b)/2;var c=Ab*b;a.moveTo(0,c);a.lineTo(-b,-c);a.lineTo(b,-c);a.closePath()}},"triangle-right":{draw:function(a,b){b=Math.sqrt(b)/2;var c=Ab*b;a.moveTo(c,0);a.lineTo(-c,-b);a.lineTo(-c,b);a.closePath()}},"triangle-left":{draw:function(a,b){b=Math.sqrt(b)/2;var c=Ab*b;a.moveTo(-c,0);a.lineTo(c,-b);a.lineTo(c,b);
a.closePath()}},stroke:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(-b,0);a.lineTo(b,0)}}},Wb={},Ib=function(a){return a.x||0},Jb=function(a){return a.y||0},Pb=function(a){return!1!==a.defined},od=O.arc().startAngle(function(a){return a.startAngle||0}).endAngle(function(a){return a.endAngle||0}).padAngle(function(a){return a.padAngle||0}).innerRadius(function(a){return a.innerRadius||0}).outerRadius(function(a){return a.outerRadius||0}).cornerRadius(function(a){return a.cornerRadius||0}),pd=O.area().x(Ib).y1(Jb).y0(function(a){return(a.y||
0)+(a.height||0)}).defined(Pb),qd=O.area().y(Jb).x1(Ib).x0(function(a){return(a.x||0)+(a.width||0)}).defined(Pb),rd=O.line().x(Ib).y(Jb).defined(Pb),ad=ha().x(Ib).y(Jb).width(function(a){return a.width||0}).height(function(a){return a.height||0}).cornerRadius(function(a){return ja(a.cornerRadiusTopLeft,a.cornerRadius)||0},function(a){return ja(a.cornerRadiusTopRight,a.cornerRadius)||0},function(a){return ja(a.cornerRadiusBottomRight,a.cornerRadius)||0},function(a){return ja(a.cornerRadiusBottomLeft,
a.cornerRadius)||0}),sd=O.symbol().type(function(a){return nb(a.shape||"circle")}).size(function(a){return ja(a.size,64)}),td=ta().x(Ib).y(Jb).defined(Pb).size(function(a){return a.size||1}),Xb=1;pa.prototype={clone:function(){return new pa(this)},clear:function(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===
-Number.MAX_VALUE},equals:function(a){return this.x1===a.x1&&this.y1===a.y1&&this.x2===a.x2&&this.y2===a.y2},set:function(a,b,c,d){c<a?(this.x2=a,this.x1=c):(this.x1=a,this.x2=c);d<b?(this.y2=b,this.y1=d):(this.y1=b,this.y2=d);return this},add:function(a,b){a<this.x1&&(this.x1=a);b<this.y1&&(this.y1=b);a>this.x2&&(this.x2=a);b>this.y2&&(this.y2=b);return this},expand:function(a){this.x1-=a;this.y1-=a;this.x2+=a;this.y2+=a;return this},round:function(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);
this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale:function(a){this.x1*=a;this.y1*=a;this.x2*=a;this.y2*=a;return this},translate:function(a,b){this.x1+=a;this.x2+=a;this.y1+=b;this.y2+=b;return this},rotate:function(a,b,c){a=this.rotatedPoints(a,b,c);return this.clear().add(a[0],a[1]).add(a[2],a[3]).add(a[4],a[5]).add(a[6],a[7])},rotatedPoints:function(a,b,c){var d=this.x1,e=this.y1,f=this.x2,h=this.y2,k=Math.cos(a);a=Math.sin(a);var n=b-b*k+c*a;b=c-b*a-c*k;return[k*d-a*e+n,
a*d+k*e+b,k*d-a*h+n,a*d+k*h+b,k*f-a*e+n,a*f+k*e+b,k*f-a*h+n,a*f+k*h+b]},union:function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2);return this},intersect:function(a){a.x1>this.x1&&(this.x1=a.x1);a.y1>this.y1&&(this.y1=a.y1);a.x2<this.x2&&(this.x2=a.x2);a.y2<this.y2&&(this.y2=a.y2);return this},encloses:function(a){return a&&this.x1<=a.x1&&this.x2>=a.x2&&this.y1<=a.y1&&this.y2>=a.y2},alignsWith:function(a){return a&&(this.x1==
a.x1||this.x2==a.x2||this.y1==a.y1||this.y2==a.y2)},intersects:function(a){return a&&!(this.x2<a.x1||this.x1>a.x2||this.y2<a.y1||this.y1>a.y2)},contains:function(a,b){return!(a<this.x1||a>this.x2||b<this.y1||b>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}};L.inherits(la,oa);l.prototype={pending:function(){return this._pending},sanitizeURL:function(a){var b=this;b._pending+=1;return b._loader.sanitize(a,{context:"href"}).then(function(c){--b._pending;
return c}).catch(function(){--b._pending;return null})},loadImage:function(a){var b=this,c=Ba.image();b._pending+=1;return b._loader.sanitize(a,{context:"image"}).then(function(d){var e=d.href;if(!e||!c)throw{url:e};var f=new c;d=L.hasOwnProperty(d,"crossOrigin")?d.crossOrigin:"anonymous";null!=d&&(f.crossOrigin=d);f.onload=function(){--b._pending};f.onerror=function(){--b._pending};f.src=e;return f}).catch(function(d){--b._pending;return{complete:!1,width:0,height:0,src:d&&d.url||""}})},ready:function(){var a=
this;return new Promise(function(b){function c(d){a.pending()?setTimeout(function(){c(!0)},10):b(d)}c(!1)})}};var ud=bb-1E-8,Xa,Qb,Rb,ub,hb,db,jb,ib,Sb=function(a,b){a=Qb=a;b=Rb=b;return Xa.add(a,b)},Vc=function(a){return Xa.add(a,Xa.y1)},Wc=function(a){return Xa.add(Xa.x1,a)},lc=function(a,b){return Xa.add(hb*a+jb*b,db*a+ib*b)},mc=function(a,b){return Sb(hb*a+jb*b,db*a+ib*b)},bd={beginPath:function(){},closePath:function(){},moveTo:mc,lineTo:mc,rect:function(a,b,c,d){ub?(lc(a+c,b),lc(a+c,b+d),lc(a,
b+d),mc(a,b)):(Xa.add(a+c,b+d),Sb(a,b))},quadraticCurveTo:function(a,b,c,d){var e=db*a+ib*b,f=hb*c+jb*d;c=db*c+ib*d;H(Qb,hb*a+jb*b,f,Vc);H(Rb,e,c,Wc);Sb(f,c)},bezierCurveTo:function(a,b,c,d,e,f){var h=db*a+ib*b,k=db*c+ib*d,n=hb*e+jb*f;e=db*e+ib*f;I(Qb,hb*a+jb*b,hb*c+jb*d,n,Vc);I(Rb,h,k,e,Wc);Sb(n,e)},arc:function(a,b,c,d,e,f){d+=ub;e+=ub;Qb=c*Math.cos(e)+a;Rb=c*Math.sin(e)+b;if(Math.abs(e-d)>ud)Xa.add(a-c,b-c),Xa.add(a+c,b+c);else{var h=function(n){return Xa.add(c*Math.cos(n)+a,c*Math.sin(n)+b)};
h(d);h(e);if(e!==d){d%=bb;0>d&&(d+=bb);e%=bb;0>e&&(e+=bb);if(e<d){f=!f;var k=d;d=e;e=k}if(f)for(e-=bb,k=d-d%tb,d=0;4>d&&k>e;++d,k-=tb)h(k);else for(k=d-d%tb+tb,d=0;4>d&&k<e;++d,k+=tb)h(k)}}}},pb=(pb=Ba.canvas(1,1))?pb.getContext("2d"):null,Yb=new pa,cd=[],vd=S("arc",function(a,b){return od.context(a)(b)}),wd=W("area",function(a,b){var c=b[0];return("horizontal"===c.orient?qd:pd).curve(ab(c.interpolate||"linear",c.orient,c.tension)).context(a)(b)},function(a,b){b="horizontal"===a[0].orient?b[1]:b[0];
for(var c="horizontal"===a[0].orient?"y":"x",d=a.length,e=Infinity,f,h;0<=--d;)!1!==a[d].defined&&(h=Math.abs(a[d][c]-b),h<e&&(e=h,f=a[d]));return f}),xd=U(na),yd=U(na,!1),zd=U(na,!0),Ad={type:"group",tag:"g",nested:!1,attr:function(a,b){a("transform",Y(b.x||0,b.y||0))},bound:function(a,b){if(!b.clip&&b.items)for(var c=b.items,d=c.length,e=0;e<d;++e)a.union(c[e].bounds);(b.clip||b.width||b.height)&&!b.noBound&&a.add(0,0).add(b.width||0,b.height||0);A(a,b);return a.translate(b.x||0,b.y||0)},draw:function(a,
b,c){var d=this;M(b,function(e){var f=e.x||0,h=e.y||0,k=e.strokeForeground,n=null==e.opacity?1:e.opacity;(e.stroke||e.fill)&&n&&(na(a,e,f,h),ca(a,e),e.fill&&q(a,e,n)&&a.fill(),e.stroke&&!k&&x(a,e,n)&&a.stroke());a.save();a.translate(f,h);e.clip&&ea(a,e);c&&c.translate(-f,-h);M(e,function(r){d.draw(a,r,c)});c&&c.translate(f,h);a.restore();k&&e.stroke&&n&&(na(a,e,f,h),ca(a,e),x(a,e,n)&&a.stroke())})},pick:function(a,b,c,d,e,f){var h=this;if(b.bounds&&!b.bounds.contains(e,f)||!b.items)return null;var k=
c*a.pixelRatio,n=d*a.pixelRatio;return z(b,function(r){var t=r.bounds;if(!t||t.contains(e,f)){var G=r.x||0;var R=r.y||0;t=G+(r.width||0);var u=R+(r.height||0),T=r.clip;if(!T||!(e<G||e>t||f<R||f>u)){a.save();a.translate(G,R);G=e-G;R=f-R;if(T&&ya(r)&&!zd(a,r,k,n))return a.restore(),null;u=r.strokeForeground;if((T=!1!==b.interactive)&&u&&r.stroke&&yd(a,r,k,n))return a.restore(),r;t=z(r,function(X){return(!1!==X.interactive||"group"===X.marktype)&&X.bounds&&X.bounds.contains(G,R)?h.pick(X,c,d,G,R):null});
!t&&T&&(r.fill||!u&&r.stroke)&&xd(a,r,k,n)&&(t=r);a.restore();return t||null}}})},isect:aa,content:function(a,b,c){b=b.clip?ua(c,b,b):null;a("clip-path",b)},background:function(a,b){a("class","background");a("aria-hidden",!0);var c=fa(b);a("d",ma(null,b,c,c))},foreground:function(a,b){a("class","foreground");a("aria-hidden",!0);if(b.strokeForeground){var c=fa(b);a("d",ma(null,b,c,c))}else a("d","")}},Tb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},
Bd={type:"image",tag:"image",nested:!1,attr:function(a,b,c){var d=ra(b,c);c=Da(b,d);var e=Ea(b,d),f=(b.x||0)-Ia(b.align,c),h=(b.y||0)-sa(b.baseline,e);d=!d.src&&d.toDataURL?d.toDataURL():d.src||"";a("href",d,Tb["xmlns:xlink"],"xlink:href");a("transform",Y(f,h));a("width",c);a("height",e);a("preserveAspectRatio",!1===b.aspect?"none":"xMidYMid")},bound:function(a,b){var c=b.image,d=Da(b,c);c=Ea(b,c);var e=(b.x||0)-Ia(b.align,d);b=(b.y||0)-sa(b.baseline,c);return a.set(e,b,e+d,b+c)},draw:function(a,
b,c){var d=this;M(b,function(e){if(!c||c.intersects(e.bounds)){var f=ra(e,d),h=Da(e,f),k=Ea(e,f),n=(e.x||0)-Ia(e.align,h),r=(e.y||0)-sa(e.baseline,k),t;if(!1!==e.aspect){var G=f.width/f.height;var R=e.width/e.height;G===G&&R===R&&G!==R&&(R<G?(G=h/G,r+=(k-G)/2,k=G):(G*=k,n+=(h-G)/2,h=G))}if(f.complete||f.toDataURL)ca(a,e),a.globalAlpha=null!=(t=e.opacity)?t:1,a.imageSmoothingEnabled=!1!==e.smooth,a.drawImage(f,n,r,h,k)}})},pick:C(),isect:L.truthy,get:ra,xOffset:Ia,yOffset:sa},Cd=W("line",function(a,
b){var c=b[0];return rd.curve(ab(c.interpolate||"linear",c.orient,c.tension)).context(a)(b)},function(a,b){for(var c=Math.pow(a[0].strokeWidth||1,2),d=a.length,e,f;0<=--d;)if(!1!==a[d].defined&&(e=a[d].x-b[0],f=a[d].y-b[1],e=e*e+f*f,e<c))return a[d];return null}),Dd={type:"path",tag:"path",nested:!1,attr:function(a,b){var c=b.scaleY||1;1===(b.scaleX||1)&&1===c||a("vector-effect","non-scaling-stroke");c=Y(b.x||0,b.y||0)+(b.angle?" rotate("+(b.angle+")"):"")+(b.scaleX||b.scaleY?" scale("+((b.scaleX||
1)+","+(b.scaleY||1)+")"):"");a("transform",c);a("d",b.path)},bound:function(a,b){return Aa(D(a,b.angle),b)?a.set(0,0,0,0):A(a,b,!0)},draw:y(Aa),pick:C(U(Aa)),isect:P(Aa)},Ed={type:"rect",tag:"path",nested:!1,attr:function(a,b){a("d",ma(null,b))},bound:function(a,b){var c,d;return A(a.set(c=b.x||0,d=b.y||0,c+b.width||0,d+b.height||0),b)},draw:y(Eb),pick:C(U(Eb)),isect:aa},Fd={type:"rule",tag:"line",nested:!1,attr:function(a,b){a("transform",Y(b.x||0,b.y||0));a("x2",null!=b.x2?b.x2-(b.x||0):0);a("y2",
null!=b.y2?b.y2-(b.y||0):0)},bound:function(a,b){var c,d;return A(a.set(c=b.x||0,d=b.y||0,null!=b.x2?b.x2:c,null!=b.y2?b.y2:d),b)},draw:function(a,b,c){M(b,function(d){if(!c||c.intersects(d.bounds)){var e=null==d.opacity?1:d.opacity;e&&vb(a,d,e)&&(ca(a,d),a.stroke())}})},pick:C(function(a,b,c,d){return a.isPointInStroke?vb(a,b,1)&&a.isPointInStroke(c,d):!1}),isect:B},Gd=S("shape",function(a,b){return(b.mark.shape||b.shape).context(a)(b)}),Hd=S("symbol",function(a,b){return sd.context(a)(b)},E),uc=
L.lruCache(),yb={height:Sa,measureWidth:wb,estimateWidth:zb,width:zb,canvas:Qa};Qa(!0);var Id={left:"start",center:"middle",right:"end"},Gb=new pa,Jd={type:"text",tag:"text",nested:!1,attr:function(a,b){var c=b.dx||0,d=(b.dy||0)+Zb(b),e=Mb(b),f=e.x1;e=e.y1;var h=b.angle||0;a("text-anchor",Id[b.align]||"start");if(h){if(b=Y(f,e)+" rotate("+(h+")"),c||d)b+=" "+Y(c,d)}else b=Y(f+c,e+d);a("transform",b)},bound:$b,draw:function(a,b,c){M(b,function(d){var e=null==d.opacity?1:d.opacity,f;if(!(c&&!c.intersects(d.bounds)||
0===e||0>=d.fontSize||null==d.text||0===d.text.length)){a.font=Lb(d);a.textAlign=d.align||"left";var h=Mb(d);var k=h.x1;h=h.y1;d.angle&&(a.save(),a.translate(k,h),a.rotate(d.angle*mb),k=h=0);k+=d.dx||0;h+=(d.dy||0)+Zb(d);var n=Ma(d);ca(a,d);if(L.isArray(n)){var r=La(d);for(f=0;f<n.length;++f){var t=qb(d,n[f]);d.fill&&q(a,d,e)&&a.fillText(t,k,h);d.stroke&&x(a,d,e)&&a.strokeText(t,k,h);h+=r}}else t=qb(d,n),d.fill&&q(a,d,e)&&a.fillText(t,k,h),d.stroke&&x(a,d,e)&&a.strokeText(t,k,h);d.angle&&a.restore()}})},
pick:C(function(a,b,c,d,e,f){if(0>=b.fontSize)return!1;if(!b.angle)return!0;c=Mb(b);a=c.x1;c=c.y1;d=$b(Gb,b,1);var h=-b.angle*mb;b=Math.cos(h);h=Math.sin(h);return d.contains(b*e-h*f+(a-b*a+h*c),h*e+b*f+(c-h*a-b*c))}),isect:function(a,b){a=$b(Gb,a,2);return K(b,a[0],a[1],a[2],a[3])||K(b,a[0],a[1],a[4],a[5])||K(b,a[4],a[5],a[6],a[7])||K(b,a[2],a[3],a[6],a[7])}},Kd=W("trail",function(a,b){return td.context(a)(b)},function(a,b){for(var c=a.length,d,e;0<=--c;)if(!1!==a[c].defined&&(d=a[c].x-b[0],e=a[c].y-
b[1],e=d*d+e*e,d=a[c].size||1,e<d*d))return a[c];return null}),Ya={arc:vd,area:wd,group:Ad,image:Bd,line:Cd,path:Dd,rect:Ed,rule:Fd,shape:Gd,symbol:Hd,text:Jd,trail:Kd},wc={mark:null},ed="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Ac.prototype={toJSON:function(a){return xc(this.root,a||0)},mark:function(a,b,c){b=b||this.root.items[0];a=Bc(a,b);b.items[c]=a;a.zindex&&(a.group.zdirty=!0);return a}};sb.prototype={initialize:function(a,b,c){this._el=a;this._obj=c||null;return this.origin(b)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(a){return arguments.length?(this._origin=a||[0,0],this):this._origin.slice()},scene:function(a){if(!arguments.length)return this._scene;
this._scene=a;return this},on:function(){},off:function(){},_handlerIndex:function(a,b,c){for(var d=a?a.length:0;0<=--d;)if(a[d].type===b&&(!c||a[d].handler===c))return d;return-1},handlers:function(a){var b=this._handlers,c=[];if(a)c.push.apply(c,$jscomp.arrayFromIterable(b[this.eventName(a)]));else for(var d in b)c.push.apply(c,$jscomp.arrayFromIterable(b[d]));return c},eventName:function(a){var b=a.indexOf(".");return 0>b?a:a.slice(0,b)},handleHref:function(a,b,c){this._loader.sanitize(c,{context:"href"}).then(function(d){var e=
new MouseEvent(a.type,a),f=rb(null,"a"),h;for(h in d)f.setAttribute(h,d[h]);f.dispatchEvent(e)}).catch(function(){})},handleTooltip:function(a,b,c){if(b&&null!=b.tooltip){var d=this.canvas(),e=this._origin,f=b&&b.mark,h;if(f&&(h=Ya[f.marktype]).tip){d=cc(a,d);d[0]-=e[0];for(d[1]-=e[1];b=b.mark.group;)d[0]-=b.x||0,d[1]-=b.y||0;b=h.tip(f.items,d)}this._tooltip.call(this._obj,this,a,b,c&&b&&b.tooltip||null)}},getItemBoundingClientRect:function(a){var b=this.canvas();if(b){var c=b.getBoundingClientRect(),
d=this._origin,e=a.bounds;b=e.width();var f=e.height(),h=e.x1+d[0]+c.left;for(c=e.y1+d[1]+c.top;a.mark&&(a=a.mark.group);)h+=a.x||0,c+=a.y||0;return{x:h,y:c,width:b,height:f,left:h,top:c,right:h+b,bottom:c+f}}}};eb.prototype={initialize:function(a,b,c,d,e){this._el=a;return this.resize(b,c,d,e)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(a){if(0===arguments.length)return this._bgcolor;this._bgcolor=a;return this},resize:function(a,
b,c,d){this._width=a;this._height=b;this._origin=c||[0,0];this._scale=d||1;return this},dirty:function(){},render:function(a){var b=this;b._call=function(){b._render(a)};b._call();b._call=null;return b},_render:function(){},renderAsync:function(a){var b=this.render(a);return this._ready?this._ready.then(function(){return b}):Promise.resolve(b)},_load:function(a,b){var c=this;a=c._loader[a](b);if(!c._ready){var d=c._call;c._ready=c._loader.ready().then(function(e){e&&d();c._ready=null})}return a},
sanitizeURL:function(a){return this._load("sanitizeURL",a)},loadImage:function(a){return this._load("loadImage",a)}};L.inherits(dc,sb,{initialize:function(a,b,c){var d=this;this._canvas=a&&bc(a,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(function(e){return Dc(d,e)});return sb.prototype.initialize.call(this,a,b,c)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),
DOMMouseScroll:function(a){this.fire("mousewheel",a)},mousemove:Ec("mousemove","mouseover","mouseout"),dragover:Ec("dragover","dragenter","dragleave"),mouseout:Fc("mouseout"),dragleave:Fc("dragleave"),mousedown:function(a){this._down=this._active;this.fire("mousedown",a)},click:function(a){this._down===this._active&&(this.fire("click",a),this._down=null)},touchstart:function(a){this._touch=this.pickEvent(a.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",
a,!0)},touchmove:function(a){this.fire("touchmove",a,!0)},touchend:function(a){this.fire("touchend",a,!0);this._touch=null},fire:function(a,b,c){c=c?this._touch:this._active;var d=this._handlers[a];b.vegaType=a;"click"===a&&c&&c.href?this.handleHref(b,c,c.href):("mousemove"===a||"mouseout"===a)&&this.handleTooltip(b,c,"mouseout"!==a);if(d){a=0;for(var e=d.length;a<e;++a)d[a].handler.call(this._obj,b,c)}},on:function(a,b){var c=this.eventName(a),d=this._handlers;0>this._handlerIndex(d[c],a,b)&&(Dc(this,
a),(d[c]||(d[c]=[])).push({type:a,handler:b}));return this},off:function(a,b){var c=this.eventName(a);c=this._handlers[c];a=this._handlerIndex(c,a,b);0<=a&&c.splice(a,1);return this},pickEvent:function(a){a=cc(a,this._canvas);var b=this._origin;return this.pick(this._scene,a[0],a[1],a[0]-b[0],a[1]-b[1])},pick:function(a,b,c,d,e){var f=this.context();return Ya[a.marktype].pick.call(this,f,a,b,c,d,e)}});var Ld="undefined"!==typeof window?window.devicePixelRatio||1:1,Xc=eb.prototype;L.inherits(Nb,eb,
{initialize:function(a,b,c,d,e,f){this._options=f||{};this._canvas=this._options.externalContext?null:Ba.canvas(1,1,this._options.type);a&&this._canvas&&(Za(a,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Xc.initialize.call(this,a,b,c,d,e)},resize:function(a,b,c,d){Xc.resize.call(this,a,b,c,d);if(this._canvas){a=this._canvas;b=this._width;c=this._height;d=this._origin;var e=this._scale,f=this._options.context,h="undefined"!==typeof HTMLElement&&a instanceof HTMLElement&&
null!=a.parentNode,k=a.getContext("2d");e=h?Ld:e;a.width=b*e;a.height=c*e;for(var n in f)k[n]=f[n];h&&1!==e&&(a.style.width=b+"px",a.style.height=c+"px");k.pixelRatio=e;k.setTransform(e,0,0,e,e*d[0],e*d[1])}else(n=this._options.externalContext)||L.error("CanvasRenderer is missing a valid canvas or context"),n.scale(this._scale,this._scale),n.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||
(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(a){var b=this._tempb.clear().union(a.bounds);for(a=a.mark.group;a;)b.translate(a.x||0,a.y||0),a=a.mark.group;this._dirty.union(b)},_render:function(a){var b=this.context(),c=this._origin,d=this._width,e=this._height,f=this._dirty,h=(new pa).set(0,0,d,e).translate(-c[0],-c[1]);b.save();this._redraw||f.empty()?h=(this._redraw=!1,h.expand(1)):(h=h.intersect(f),h.expand(1).round(),b.pixelRatio%1&&h.scale(b.pixelRatio).round().scale(1/b.pixelRatio),
h.translate(-(c[0]%1),-(c[1]%1)),b.beginPath(),b.rect(h.x1,h.y1,h.width(),h.height()),b.clip());this.clear(-c[0],-c[1],d,e);this.draw(b,a,h);b.restore();f.clear();return this},draw:function(a,b,c){var d=Ya[b.marktype];if(b.clip){var e=b.clip;a.save();L.isFunction(e)?(a.beginPath(),e(a),a.clip()):ea(a,b.group)}d.draw.call(this,a,b,c);b.clip&&a.restore()},clear:function(a,b,c,d){var e=this._options,f=this.context();"pdf"===e.type||e.externalContext||f.clearRect(a,b,c,d);null!=this._bgcolor&&(f.fillStyle=
this._bgcolor,f.fillRect(a,b,c,d))}});var fc=function(a,b){return function(c){var d=c.target.__data__;d=Array.isArray(d)?d[0]:d;c.vegaType=c.type;b.call(a._obj,c,d)}};L.inherits(ec,sb,{initialize:function(a,b,c){var d=this._svg;d&&(d.removeEventListener("click",this._hrefHandler),d.removeEventListener("mousemove",this._tooltipHandler),d.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=d=a&&bc(a,"svg"))d.addEventListener("click",this._hrefHandler),d.addEventListener("mousemove",this._tooltipHandler),
d.addEventListener("mouseout",this._tooltipHandler);return sb.prototype.initialize.call(this,a,b,c)},canvas:function(){return this._svg},on:function(a,b){var c=this.eventName(a),d=this._handlers;0>this._handlerIndex(d[c],a,b)&&(a={type:a,handler:b,listener:fc(this,b)},(d[c]||(d[c]=[])).push(a),this._svg&&this._svg.addEventListener(c,a.listener));return this},off:function(a,b){var c=this.eventName(a),d=this._handlers[c];a=this._handlerIndex(d,a,b);0<=a&&(this._svg&&this._svg.removeEventListener(c,
d[a].listener),d.splice(a,1));return this}});var Kc=function(a,b,c){var d={};return d.role=a,d["aria-roledescription"]=b,d["aria-label"]=c||void 0,d},hd=L.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Jc={axis:{desc:"axis",caption:function(a){var b=a.datum,c=a.orient,d=b.title?Lc(a):null,e=a.context;b=e.scales[b.scale].value;e=e.dataflow.locale();var f=b.type;return("left"===c||"right"===
c?"Y":"X")+"-axis"+(d?" titled '"+d+"'":"")+(" for a "+(fb.isDiscrete(f)?"discrete":f)+" scale with ")+fb.domainCaption(e,b,a)}},legend:{desc:"legend",caption:function(a){var b=a.datum,c=b.title?Lc(a):null,d=((b.type||"")+" legend").trim(),e=b.scales;b=Object.keys(e);var f=a.context;e=f.scales[e[b[0]]].value;f=f.dataflow.locale();return(d.length?d[0].toUpperCase()+d.slice(1):d)+(c?" titled '"+c+"'":"")+(" for "+kd(b))+(" with "+fb.domainCaption(f,e,a))}},"title-text":{desc:"title",caption:function(a){return"Title text '"+
L.array(a.text).join(" ")+"'"}},"title-subtitle":{desc:"subtitle",caption:function(a){return"Subtitle text '"+L.array(a.text).join(" ")+"'"}}},Hc={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Mc=function(a){return(a+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},Yc=function(a){return Nc(gc(),a)+""},Ob={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",
strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Zc={fill:"none","stroke-miterlimit":10},Fa=Tb.xmlns,nc=eb.prototype;L.inherits(hc,eb,{initialize:function(a,b,c,d,e){this._defs={};this._clearDefs();a&&(this._svg=Ra(a,0,"svg",Fa),lb(this._svg,Tb),this._svg.setAttribute("class","marks"),Za(a,1),this._root=Ra(this._svg,0,"g",Fa),lb(this._root,Zc),Za(this._svg,1));this.background(this._bgcolor);
return nc.initialize.call(this,a,b,c,d,e)},background:function(a){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",a);return nc.background.apply(this,arguments)},resize:function(a,b,c,d){nc.resize.call(this,a,b,c,d);this._svg&&(lb(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height}),this._root.setAttribute("transform","translate("+this._origin+")"));this._dirty=[];return this},canvas:function(){return this._svg},
svg:function(){var a=this._svg,b=this._bgcolor;if(!a)return null;if(b){a.removeAttribute("style");var c=Ra(a,0,"rect",Fa);lb(c,{width:this._width,height:this._height,fill:b})}var d=Yc(a);b&&(a.removeChild(c),this._svg.style.setProperty("background-color",b));return d},_render:function(a){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,a),Za(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty:function(a){a.dirty!==this._dirtyID&&(a.dirty=this._dirtyID,
this._dirty.push(a))},isDirty:function(a){return this._dirtyAll||!a._svg||a.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var a=this._dirty;if(!a.length||!this._dirtyID)return!0;var b=++this._dirtyID,c;var d=0;for(c=a.length;d<c;++d){var e=a[d];var f=e.mark;if(f.marktype!==h){var h=f.marktype;var k=Ya[h]}f.zdirty&&f.dirty!==b&&(this._dirtyAll=!1,Oc(e,b),f.items.forEach(function(n){n.dirty=b}));f.zdirty||(e.exit?(k.nested&&f.items.length?(f=f.items[0],f._svg&&this._update(k,f._svg,
f)):e._svg&&(f=e._svg.parentNode)&&f.removeChild(e._svg),e._svg=null):(e=k.nested?f.items[0]:e,e._update!==b&&(e._svg&&e._svg.ownerSVGElement?this._update(k,e._svg,e):(this._dirtyAll=!1,Oc(e,b)),e._update=b)))}return!this._dirtyAll},mark:function(a,b,c){var d=this;if(!this.isDirty(b))return b._svg;var e=this._svg,f=Ya[b.marktype],h=!1===b.interactive?"none":null,k="g"===f.tag,n=null,r=0,t=Pc(b,a,c,"g",e);t.setAttribute("class",Cc(b));a=Ic(b);for(var G in a)Na(t,G,a[G]);k||Na(t,"pointer-events",h);
Na(t,"clip-path",b.clip?ua(this,b,b.group):null);h=function(R){var u=d.isDirty(R),T=Pc(R,t,n,f.tag,e);u&&(d._update(f,T,R),k&&ld(d,T,R));n=T;++r};f.nested?b.items.length&&h(b.items[0]):M(b,h);Za(t,r);return t},_update:function(a,b,c){kb=b;Ja=b.__values__;Gc(Hb,c);a.attr(Hb,c,this);var d=Md[a.type];d&&d.call(this,a,b,c);kb&&this.style(kb,c)},style:function(a,b){if(null!=b)for(var c in Ob){var d="font"===c?Fb(b):b[c];if(d!==Ja[c]){var e=Ob[c];null==d?a.removeAttribute(e):(d&&d.gradient&&(d=$a(d,this._defs.gradient,
Qc())),a.setAttribute(e,d+""));Ja[c]=d}}},defs:function(){var a=this._svg,b=this._defs,c=b.el,d=0;for(t in b.gradient){c||(b.el=c=Ra(a,1,"defs",Fa));var e,f=c,h=b.gradient[t];if("radial"===h.gradient){var k=Ra(f,d++,"pattern",Fa);lb(k,{id:"p_"+h.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"});k=Ra(k,0,"rect",Fa);lb(k,{width:1,height:1,fill:"url("+Qc()+"#"+h.id+")"});f=Ra(f,d++,"radialGradient",Fa);lb(f,{id:h.id,fx:h.x1,fy:h.y1,fr:h.r1,cx:h.x2,cy:h.y2,r:h.r2})}else f=
Ra(f,d++,"linearGradient",Fa),lb(f,{id:h.id,x1:h.x1,x2:h.x2,y1:h.y1,y2:h.y2});var n=0;for(e=h.stops.length;n<e;++n)k=Ra(f,n,"stop",Fa),k.setAttribute("offset",h.stops[n].offset),k.setAttribute("stop-color",h.stops[n].color);Za(f,n)}for(var r in b.clipping){c||(b.el=c=Ra(a,1,"defs",Fa));var t=c;f=b.clipping[r];t=Ra(t,d,"clipPath",Fa);t.setAttribute("id",f.id);f.path?(h=Ra(t,0,"path",Fa),h.setAttribute("d",f.path)):(h=Ra(t,0,"rect",Fa),lb(h,{x:0,y:0,width:f.width,height:f.height}));Za(t,1);d+=1}c&&
(0===d?(a.removeChild(c),b.el=null):Za(c,d))},_clearDefs:function(){var a=this._defs;a.gradient={};a.clipping={}}});var kb=null,Ja=null,Md={group:function(a,b,c){var d=kb=b.childNodes[2];Ja=d.__values__;a.foreground(Hb,c,this);Ja=b.__values__;kb=b.childNodes[1];a.content(Hb,c,this);b=kb=b.childNodes[0];a.background(Hb,c,this);a=!1===c.mark.interactive?"none":null;a!==Ja.events&&(Na(d,"pointer-events",a),Na(b,"pointer-events",a),Ja.events=a);c.strokeForeground&&c.stroke?(a=c.fill,Na(d,"display",null),
this.style(b,c),Na(b,"stroke",null),a&&(c.fill=null),Ja=d.__values__,this.style(d,c),a&&(c.fill=a),kb=null):Na(d,"display","none")},image:function(a,b,c){!1===c.smooth?(ic(b,"image-rendering","optimizeSpeed"),ic(b,"image-rendering","pixelated")):ic(b,"image-rendering",null)},text:function(a,b,c){a=Ma(c);if(L.isArray(a)){var d=a.map(function(h){return qb(c,h)});a=d.join("\n");if(a!==Ja.text){Za(b,0);var e=b.ownerDocument;var f=La(c);d.forEach(function(h,k){var n=rb(e,"tspan",Fa);n.__data__=c;n.textContent=
h;k&&(n.setAttribute("x",0),n.setAttribute("dy",f));b.appendChild(n)});Ja.text=a}}else d=qb(c,a),d!==Ja.text&&(b.textContent=d,Ja.text=d);Na(b,"font-family",Fb(c));Na(b,"font-size",Sa(c)+"px");Na(b,"font-style",c.fontStyle);Na(b,"font-variant",c.fontVariant);Na(b,"font-weight",c.fontWeight)}};L.inherits(jc,eb,{svg:function(){return this._text},_render:function(a){var b=gc();b.open("svg",L.extend({},Tb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+
" "+this._height}));var c=this._bgcolor;c&&"transparent"!==c&&"none"!==c&&b.open("rect",{width:this._width,height:this._height,fill:c}).close();b.open("g",Zc,{transform:"translate("+this._origin+")"});this.mark(b,a);b.close();this.defs(b);this._text=b.close()+"";return this},mark:function(a,b){var c=this,d=Ya[b.marktype],e=d.tag,f=[Gc,d.attr];a.open("g",{"class":Cc(b),"clip-path":b.clip?ua(this,b,b.group):null},Ic(b),{"pointer-events":"g"!==e&&!1===b.interactive?"none":null});var h=function(k){var n=
c.href(k);n&&a.open("a",n);a.open(e,c.attr(b,k,f,"g"!==e?e:null));if("text"===e){var r=Ma(k);if(L.isArray(r))for(var t={x:0,dy:La(k)},G=0;G<r.length;++G)a.open("tspan",G?t:null).text(qb(k,r[G])).close();else a.text(qb(k,r))}else"g"===e&&(r=k.strokeForeground,t=k.fill,G=k.stroke,r&&G&&(k.stroke=null),a.open("path",c.attr(b,k,d.background,"bgrect")).close(),a.open("g",c.attr(b,k,d.content)),M(k,function(R){return c.mark(a,R)}),a.close(),r&&G?(t&&(k.fill=null),k.stroke=G,a.open("path",c.attr(b,k,d.foreground,
"bgrect")).close(),t&&(k.fill=t)):a.open("path",c.attr(b,k,d.foreground,"bgfore")).close());a.close();n&&a.close()};d.nested?b.items&&b.items.length&&h(b.items[0]):M(b,h);return a.close()},href:function(a){var b=this,c=a.href;if(c){if(a=this._hrefs&&this._hrefs[c])return a;this.sanitizeURL(c).then(function(d){d["xlink:href"]=d.href;d.href=null;(b._hrefs||(b._hrefs={}))[c]=d})}return null},attr:function(a,b,c,d){var e=this,f={},h=function(k,n,r,t){f[t||k]=n};Array.isArray(c)?c.forEach(function(k){return k(h,
b,e)}):c(h,b,this);d&&md(f,b,a,d,this._defs);return f},defs:function(a){var b=this._defs.gradient,c=this._defs.clipping;if(0!==Object.keys(b).length+Object.keys(c).length){a.open("defs");for(var d in b){var e=b[d],f=e.stops;"radial"===e.gradient?(a.open("pattern",{id:"p_"+d,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a.open("rect",{width:"1",height:"1",fill:"url(#"+d+")"}).close(),a.close(),a.open("radialGradient",{id:d,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,
r:e.r2})):a.open("linearGradient",{id:d,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(e=0;e<f.length;++e)a.open("stop",{offset:f[e].offset,"stop-color":f[e].color}).close();a.close()}for(var h in c)b=c[h],a.open("clipPath",{id:h}),b.path?a.open("path",{d:b.path}).close():a.open("rect",{x:0,y:0,width:b.width,height:b.height}).close(),a.close();a.close()}}});var Bb={};Bb.canvas=Bb.png={renderer:Nb,headless:Nb,handler:dc};Bb.svg={renderer:hc,headless:jc,handler:ec};Bb.none={};var oc=new pa;v.Bounds=pa;v.CanvasHandler=
dc;v.CanvasRenderer=Nb;v.Gradient=function(a,b){var c=[],d;return d={gradient:"linear",x1:a?a[0]:0,y1:a?a[1]:0,x2:b?b[0]:1,y2:b?b[1]:0,stops:c,stop:function(e,f){c.push({offset:e,color:f});return d}}};v.GroupItem=la;v.Handler=sb;v.Item=oa;v.Marks=Ya;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=eb;v.ResourceLoader=l;v.SVGHandler=ec;v.SVGRenderer=hc;v.SVGStringRenderer=jc;v.Scenegraph=Ac;v.boundClip=function(a){var b=a.clip;if(L.isFunction(b))b(D(oc.clear()));else if(b)oc.set(0,
0,a.group.width,a.group.height);else return;a.bounds.intersect(oc)};v.boundContext=D;v.boundItem=ac;v.boundMark=vc;v.boundStroke=A;v.domChild=Ra;v.domClear=Za;v.domCreate=rb;v.domFind=bc;v.font=Lb;v.fontFamily=Fb;v.fontSize=Sa;v.intersect=function(a,b,c){var d=[];b=(new pa).union(b);var e=a.marktype;return e?Rc(a,b,c,d):"group"===e?Sc(a,b,c,d):L.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=K;v.intersectPath=P;v.intersectPoint=E;v.intersectRule=B;v.lineHeight=La;v.markup=
gc;v.multiLineOffset=function(a){var b=Ma(a);return(L.isArray(b)?b.length-1:0)*La(a)};v.pathCurves=ab;v.pathEqual=Uc;v.pathParse=Va;v.pathRectangle=ha;v.pathRender=za;v.pathSymbols=nb;v.pathTrail=ta;v.point=cc;v.renderModule=function(a,b){a=String(a||"").toLowerCase();return 1<arguments.length?(Bb[a]=b,this):Bb[a]};v.resetSVGClipId=function(){Xb=1};v.resetSVGDefIds=function(){Xb=1;pc=0};v.sceneEqual=kc;v.sceneFromJSON=yc;v.scenePickVisit=z;v.sceneToJSON=xc;v.sceneVisit=M;v.sceneZOrder=w;v.serializeXML=
Yc;v.textMetrics=yb;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[23]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(12),sb(22),sb(0)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa){function Kb(l){q.Transform.call(this,null,l)}function Ma(l,k,p){return k(l.bounds.clear(),l,p)}function db(l){q.Transform.call(this,
0,l)}function Eb(l){return l._signals[":vega_identifier:"]||(l._signals[":vega_identifier:"]=l.add(0))}function qb(l){q.Transform.call(this,null,l)}function Ea(l){var k=l.groups;l=l.parent;return k&&1===k.size?k.get(Object.keys(k.object)[0]):k&&l?k.lookup(l):null}function ab(l){q.Transform.call(this,null,l)}function fb(l){q.Transform.call(this,null,l)}function Ja(l,k,p){return l[k]===p?0:(l[k]=p,1)}function ea(l){l=l.items[0].orient;return"left"===l||"right"===l}function pa(l,k,p,t){k=k.items[0];
var w=k.datum,O=null!=k.translate?k.translate:.5,la=k.orient,ma=+w.grid;var ua=[w.ticks?ma++:-1,w.labels?ma++:-1,ma+ +w.domain];ma=k.range;var eb=k.offset,cb=k.position,Ba=k.minExtent,Ka=k.maxExtent;w=w.title&&k.items[ua[2]].items[0];var Z=k.titlePadding,ra=k.bounds,hb=w&&S.multiLineOffset(w),mb;W.clear().union(ra);ra.clear();-1<(mb=ua[0])&&ra.union(k.items[mb].bounds);-1<(mb=ua[1])&&ra.union(k.items[mb].bounds);switch(la){case "top":p=cb||0;t=-eb;Ba=Math.max(Ba,Math.min(Ka,-ra.y1));ra.add(0,-Ba).add(ma,
0);w&&Ha(l,w,Ba,Z,hb,0,-1,ra);break;case "left":p=-eb;t=cb||0;Ba=Math.max(Ba,Math.min(Ka,-ra.x1));ra.add(-Ba,0).add(0,ma);w&&Ha(l,w,Ba,Z,hb,1,-1,ra);break;case "right":p+=eb;t=cb||0;Ba=Math.max(Ba,Math.min(Ka,ra.x2));ra.add(0,0).add(Ba,ma);w&&Ha(l,w,Ba,Z,hb,1,1,ra);break;case "bottom":p=cb||0;t+=eb;Ba=Math.max(Ba,Math.min(Ka,ra.y2));ra.add(0,0).add(ma,Ba);w&&Ha(l,w,Ba,Z,0,0,1,ra);break;default:p=k.x,t=k.y}S.boundStroke(ra.translate(p,t),k);Ja(k,"x",p+O)|Ja(k,"y",t+O)&&(k.bounds=W,l.dirty(k),k.bounds=
ra,l.dirty(k));return k.mark.bounds.clear().union(ra)}function Ha(l,k,p,t,w,O,la,ma){var ua=k.bounds;k.auto&&(p=la*(p+w+t),w=t=0,l.dirty(k),O?t=(k.x||0)-(k.x=p):w=(k.y||0)-(k.y=p),k.mark.bounds.clear().union(ua.translate(-t,-w)),l.dirty(k));ma.union(ua)}function Wa(l){return(new S.Bounds).set(0,0,l.width||0,l.height||0)}function ja(l){var k=l.bounds.clone();return k.empty()?k.set(0,0,0,0):k.translate(-(l.x||0),-(l.y||0))}function ba(l,k,p){l=Pa.isObject(l)?l[k]:l;return null!=l?l:void 0!==p?p:0}function Ra(l){return 0>
l?Math.ceil(-l):0}function xa(l,k,p){var t=!p.nodirty,w="flush"===p.bounds?Wa:ja,O=W.set(0,0,0,0),la=ba(p.align,"column"),ma=ba(p.align,"row"),ua=ba(p.padding,"column"),eb=ba(p.padding,"row"),cb=p.columns||k.length,Ba=0>=cb?1:Math.ceil(k.length/cb),Ka=k.length,Z=Array(Ka),ra=Array(cb),hb=0,mb=Array(Ka),Hb=Array(Ba),Xb=0,ya=Array(Ka),wb=Array(Ka),Tb=Array(Ka),rb,Sb,ic;for(rb=0;rb<cb;++rb)ra[rb]=0;for(rb=0;rb<Ba;++rb)Hb[rb]=0;for(rb=0;rb<Ka;++rb){var rc=k[rb];var Tc=Tb[rb]=w(rc);rc.x=rc.x||0;ya[rb]=
0;rc.y=rc.y||0;wb[rb]=0;rc=rb%cb;var pc=~~(rb/cb);hb=Math.max(hb,Sb=Math.ceil(Tc.x2));Xb=Math.max(Xb,ic=Math.ceil(Tc.y2));ra[rc]=Math.max(ra[rc],Sb);Hb[pc]=Math.max(Hb[pc],ic);Z[rb]=ua+Ra(Tc.x1);mb[rb]=eb+Ra(Tc.y1);t&&l.dirty(k[rb])}for(rb=0;rb<Ka;++rb)0===rb%cb&&(Z[rb]=0),rb<cb&&(mb[rb]=0);if("each"===la)for(rc=1;rc<cb;++rc){w=0;for(rb=rc;rb<Ka;rb+=cb)w<Z[rb]&&(w=Z[rb]);for(rb=rc;rb<Ka;rb+=cb)Z[rb]=w+ra[rc-1]}else if("all"===la){for(rb=w=0;rb<Ka;++rb)rb%cb&&w<Z[rb]&&(w=Z[rb]);for(rb=0;rb<Ka;++rb)rb%
cb&&(Z[rb]=w+hb)}else for(la=!1,rc=1;rc<cb;++rc)for(rb=rc;rb<Ka;rb+=cb)Z[rb]+=ra[rc-1];if("each"===ma)for(pc=1;pc<Ba;++pc){w=0;rb=pc*cb;for(rc=rb+cb;rb<rc;++rb)w<mb[rb]&&(w=mb[rb]);for(rb=pc*cb;rb<rc;++rb)mb[rb]=w+Hb[pc-1]}else if("all"===ma){w=0;for(rb=cb;rb<Ka;++rb)w<mb[rb]&&(w=mb[rb]);for(rb=cb;rb<Ka;++rb)mb[rb]=w+Xb}else for(ma=!1,pc=1;pc<Ba;++pc)for(rb=pc*cb,rc=rb+cb;rb<rc;++rb)mb[rb]+=Hb[pc-1];for(rb=pc=0;rb<Ka;++rb)pc=Z[rb]+(rb%cb?pc:0),ya[rb]+=pc-k[rb].x;for(rc=0;rc<cb;++rc)for(Z=0,rb=rc;rb<
Ka;rb+=cb)Z+=mb[rb],wb[rb]+=Z-k[rb].y;if(la&&ba(p.center,"column")&&1<Ba)for(rb=0;rb<Ka;++rb)Tc="all"===la?hb:ra[rb%cb],pc=Tc-Tb[rb].x2-k[rb].x-ya[rb],0<pc&&(ya[rb]+=pc/2);if(ma&&ba(p.center,"row")&&1!==cb)for(rb=0;rb<Ka;++rb)Tc="all"===ma?Xb:Hb[~~(rb/cb)],Z=Tc-Tb[rb].y2-k[rb].y-wb[rb],0<Z&&(wb[rb]+=Z/2);for(rb=0;rb<Ka;++rb)O.union(Tb[rb].translate(ya[rb],wb[rb]));pc=ba(p.anchor,"x");Z=ba(p.anchor,"y");switch(ba(p.anchor,"column")){case "end":pc-=O.width();break;case "middle":pc-=O.width()/2}switch(ba(p.anchor,
"row")){case "end":Z-=O.height();break;case "middle":Z-=O.height()/2}pc=Math.round(pc);Z=Math.round(Z);O.clear();for(rb=0;rb<Ka;++rb)k[rb].mark.bounds.clear();for(rb=0;rb<Ka;++rb)rc=k[rb],rc.x+=ya[rb]+=pc,rc.y+=wb[rb]+=Z,O.union(rc.mark.bounds.union(rc.bounds.translate(ya[rb],wb[rb]))),t&&l.dirty(rc);return O}function Oa(l,k){return"x1"===k?l.x||0:"y1"===k?l.y||0:"x2"===k?(l.x||0)+(l.width||0):"y2"===k?(l.y||0)+(l.height||0):void 0}function za(l,k){return l.bounds[k]}function ia(l,k,p,t,w,O,la,ma,
ua,eb,cb,Ba,Ka,Z){var ra=p.length,hb=t=0,mb,Hb;if(!ra)return t;for(mb=cb;mb<ra;mb+=Ba)p[mb]&&(t=la(t,ua(p[mb],eb)));if(!k.length)return t;k.length>w&&(l.warn("Grid headers exceed limit: "+w),k=k.slice(0,w));t+=O;w=0;for(O=k.length;w<O;++w)l.dirty(k[w]),k[w].mark.bounds.clear();mb=cb;w=0;for(O=k.length;w<O;++w,mb+=Ba){ua=k[w];cb=ua.mark.bounds;for(ra=mb;0<=ra&&null==(Hb=p[ra]);ra-=Ka);if(ma){ra=null==Z?Hb.x:Math.round(Hb.bounds.x1+Z*Hb.bounds.width());var Xb=t}else ra=t,Xb=null==Z?Hb.y:Math.round(Hb.bounds.y1+
Z*Hb.bounds.height());cb.union(ua.bounds.translate(ra-(ua.x||0),Xb-(ua.y||0)));ua.x=ra;ua.y=Xb;l.dirty(ua);hb=la(hb,cb[eb])}return hb}function wa(l,k,p,t,w,O){if(k){l.dirty(k);var la=p;t?la=Math.round(w.x1+O*w.width()):p=Math.round(w.y1+O*w.height());k.bounds.translate(la-(k.x||0),p-(k.y||0));k.mark.bounds.clear().union(k.bounds);k.x=la;k.y=p;l.dirty(k)}}function sa(l,k){var p=l[k]||{};return function(t,w){return null!=p[t]?p[t]:null!=l[t]?l[t]:w}}function qa(l,k){var p=-Infinity;l.forEach(function(t){null!=
t.offset&&(p=Math.max(p,t.offset))});return-Infinity<p?p:k}function Fa(l,k,p,t,w,O,la){var ma=sa(p,k);p=qa(l,ma("offset",0));var ua=ma("anchor","start"),eb="end"===ua?1:"middle"===ua?.5:0;l={align:"each",bounds:ma("bounds","flush"),columns:"vertical"===ma("direction")?1:l.length,padding:ma("margin",8),center:ma("center"),nodirty:!0};switch(k){case "left":l.anchor={x:Math.floor(t.x1)-p,column:"end",y:eb*(la||t.height()+2*t.y1),row:ua};break;case "right":l.anchor={x:Math.ceil(t.x2)+p,y:eb*(la||t.height()+
2*t.y1),row:ua};break;case "top":l.anchor={y:Math.floor(w.y1)-p,row:"end",x:eb*(O||w.width()+2*w.x1),column:ua};break;case "bottom":l.anchor={y:Math.ceil(w.y2)+p,x:eb*(O||w.width()+2*w.x1),column:ua};break;case "top-left":l.anchor={x:p,y:p};break;case "top-right":l.anchor={x:O-p,y:p,column:"end"};break;case "bottom-left":l.anchor={x:p,y:la-p,row:"end"};break;case "bottom-right":l.anchor={x:O-p,y:la-p,column:"end",row:"end"}}return l}function Ca(l,k){k=k.items[0];var p=k.datum,t=k.orient,w=k.bounds,
O=k.x,la=k.y;k._bounds?k._bounds.clear().union(w):k._bounds=w.clone();w.clear();var ma=k.items[0].items[0];var ua=k.padding,eb=ua-ma.x,cb=ua-ma.y;if(k.datum.title){var Ba=k.items[1].items[0],Ka=Ba.anchor,Z=k.titlePadding||0,ra=ua-Ba.x,hb=ua-Ba.y;switch(Ba.orient){case "left":eb+=Math.ceil(Ba.bounds.width())+Z;break;case "right":case "bottom":break;default:cb+=Ba.bounds.height()+Z}(eb||cb)&&y(l,ma,eb,cb);switch(Ba.orient){case "left":hb+=jb(k,ma,Ba,Ka,1,1);break;case "right":ra+=jb(k,ma,Ba,"end",0,
0)+Z;hb+=jb(k,ma,Ba,Ka,1,1);break;case "bottom":ra+=jb(k,ma,Ba,Ka,0,0);hb+=jb(k,ma,Ba,"end",-1,0,1)+Z;break;default:ra+=jb(k,ma,Ba,Ka,0,0)}(ra||hb)&&y(l,Ba,ra,hb);0>(ra=Math.round(Ba.bounds.x1-ua))&&(y(l,ma,-ra,0),y(l,Ba,-ra,0))}else(eb||cb)&&y(l,ma,eb,cb);w=Za(k,w);l=2*k.padding;ma=2*k.padding;w.empty()||(l=Math.ceil(w.width()+l),ma=Math.ceil(w.height()+ma));"symbol"===p.type&&x(k.items[0].items[0].items[0].items);"none"!==t&&(k.x=O=0,k.y=la=0);k.width=l;k.height=ma;S.boundStroke(w.set(O,la,O+l,
la+ma),k);k.mark.bounds.clear().union(w);return k}function Za(l,k){l.items.forEach(function(p){return k.union(p.bounds)});k.x1=l.padding;k.y1=l.padding;return k}function jb(l,k,p,t,w,O,la){var ma=p.datum.vgrad;l=("symbol"===l.datum.type||!O&&ma||la?k:k.items[0]).bounds[w?"y2":"x2"]-l.padding;k=ma&&O?l:0;O=ma&&O?0:l;p=0>=w?0:S.multiLineOffset(p);return Math.round("start"===t?k:"end"===t?O-p:.5*(l-p))}function y(l,k,p,t){k.x+=p;k.y+=t;k.bounds.translate(p,t);k.mark.bounds.translate(p,t);l.dirty(k)}
function x(l){var k=l.reduce(function(p,t){p[t.column]=Math.max(t.bounds.x2-t.x,p[t.column]||0);return p},{});l.forEach(function(p){p.width=k[p.column];p.height=p.bounds.y2-p.y})}function G(l,k,p,t,w){var O=k.items[0],la=O.orient,ma=O.anchor,ua=O.offset,eb=O.padding,cb=O.items[0].items[0],Ba=O.items[1]&&O.items[1].items[0],Ka="left"===la||"right"===la?t:p,Z=0,ra=p=0;"group"!==O.frame?"left"===la?(Z=w.y2,Ka=w.y1):"right"===la?(Z=w.y1,Ka=w.y2):(Z=w.x1,Ka=w.x2):"left"===la&&(Z=t,Ka=0);t="start"===ma?
Z:"end"===ma?Ka:(Z+Ka)/2;if(Ba&&Ba.text){switch(la){case "top":case "bottom":ra=cb.bounds.height()+eb;break;case "left":p=cb.bounds.width()+eb;break;case "right":p=-cb.bounds.width()-eb}W.clear().union(Ba.bounds);W.translate(p-(Ba.x||0),ra-(Ba.y||0));Ja(Ba,"x",p)|Ja(Ba,"y",ra)&&(l.dirty(Ba),Ba.bounds.clear().union(W),Ba.mark.bounds.clear().union(W),l.dirty(Ba));W.clear().union(Ba.bounds)}else W.clear();W.union(cb.bounds);switch(la){case "top":la=t;w=w.y1-W.height()-ua;break;case "left":la=w.x1-W.width()-
ua;w=t;break;case "right":la=w.x2+W.width()+ua;w=t;break;case "bottom":la=t;w=w.y2+ua;break;default:la=O.x,w=O.y}Ja(O,"x",la)|Ja(O,"y",w)&&(W.translate(la,w),l.dirty(O),O.bounds.clear().union(W),k.bounds.clear().union(W),l.dirty(O));return O.bounds}function J(l){q.Transform.call(this,null,l)}function z(l){return l&&"legend-entry"!==l.mark.role}function F(l,k,p){var t=k.items,w=Math.max(0,k.width||0),O=Math.max(0,k.height||0),la=(new S.Bounds).set(0,0,w,O),ma=la.clone(),ua=la.clone(),eb=[],cb,Ba;var Ka=
0;for(Ba=t.length;Ka<Ba;++Ka){var Z=t[Ka];switch(Z.role){case "axis":var ra=ea(Z)?ma:ua;ra.union(pa(l,Z,w,O));break;case "title":var hb=Z;break;case "legend":eb.push(Ca(l,Z));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":ma.union(Z.bounds);ua.union(Z.bounds);break;default:la.union(Z.bounds)}}if(eb.length){var mb={};eb.forEach(function(Xb){cb=Xb.orient||"right";"none"!==cb&&(mb[cb]||(mb[cb]=[])).push(Xb)});
for(var Hb in mb)t=mb[Hb],xa(l,t,Fa(t,Hb,p.legends,ma,ua,w,O));eb.forEach(function(Xb){var ya=Xb.bounds;ya.equals(Xb._bounds)||(Xb.bounds=Xb._bounds,l.dirty(Xb),Xb.bounds=ya,l.dirty(Xb));if(p.autosize&&"fit"===p.autosize.type)switch(Xb.orient){case "left":case "right":la.add(ya.x1,0).add(ya.x2,0);break;case "top":case "bottom":la.add(0,ya.y1).add(0,ya.y2)}else la.union(ya)})}la.union(ma).union(ua);hb&&la.union(G(l,hb,w,O,la));k.clip&&la.set(0,0,k.width||0,k.height||0);M(l,k,la,p)}function M(l,k,p,
t){t=t.autosize||{};var w=t.type;if(!(1>l._autosize)&&w){var O=l._width,la=l._height,ma=Math.max(0,k.width||0),ua=Math.max(0,Math.ceil(-p.x1));k=Math.max(0,k.height||0);var eb=Math.max(0,Math.ceil(-p.y1)),cb=Math.max(0,Math.ceil(p.x2-ma));p=Math.max(0,Math.ceil(p.y2-k));if("padding"===t.contains){var Ba=l.padding();O-=Ba.left+Ba.right;la-=Ba.top+Ba.bottom}"none"===w?(eb=ua=0,ma=O,k=la):"fit"===w?(ma=Math.max(0,O-ua-cb),k=Math.max(0,la-eb-p)):"fit-x"===w?(ma=Math.max(0,O-ua-cb),la=k+eb+p):"fit-y"===
w?(O=ma+ua+cb,k=Math.max(0,la-eb-p)):"pad"===w&&(O=ma+ua+cb,la=k+eb+p);l._resizeView(O,la,ma,k,[ua,eb],t.resize)}}Pa.inherits(Kb,q.Transform,{transform:function(l,k){var p=k.dataflow,t=l.mark,w=t.marktype,O=S.Marks[w],la=O.bound,ma=t.bounds;if(O.nested)t.items.length&&p.dirty(t.items[0]),ma=Ma(t,la),t.items.forEach(function(eb){eb.bounds.clear().union(ma)});else if("group"===w||l.modified())switch(k.visit(k.MOD,function(eb){return p.dirty(eb)}),ma.clear(),t.items.forEach(function(eb){return ma.union(Ma(eb,
la))}),t.role){case "axis":case "legend":case "title":k.reflow()}else{var ua=k.changed(k.REM);k.visit(k.ADD,function(eb){ma.union(Ma(eb,la))});k.visit(k.MOD,function(eb){ua=ua||ma.alignsWith(eb.bounds);p.dirty(eb);ma.union(Ma(eb,la))});ua&&(ma.clear(),t.items.forEach(function(eb){return ma.union(eb.bounds)}))}S.boundClip(t);return k.modifies("bounds")}});db.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Pa.inherits(db,q.Transform,{transform:function(l,
k){var p=Eb(k.dataflow),t=l.as,w=p.value;k.visit(k.ADD,function(O){return O[t]=O[t]||++w});p.set(this.value=w);return k}});Pa.inherits(qb,q.Transform,{transform:function(l,k){var p=this.value;p||(p=k.dataflow.scenegraph().mark(l.markdef,Ea(l),l.index),p.group.context=l.context,l.context.group||(l.context.group=p.group),p.source=this.source,p.clip=l.clip,p.interactive=l.interactive,this.value=p);var t="group"===p.marktype?S.GroupItem:S.Item;k.visit(k.ADD,function(w){return t.call(w,p)});if(l.modified("clip")||
l.modified("interactive"))p.clip=l.clip,p.interactive=!!l.interactive,p.zdirty=!0,k.reflow();p.items=k.source;return k}});var ka={parity:function(l){return l.filter(function(k,p){return p%2?k.opacity=0:1})},greedy:function(l,k){var p;return l.filter(function(t,w){return w&&Ia(p.bounds,t.bounds,k)?t.opacity=0:(p=t,1)})}},Ia=function(l,k,p){return p>Math.max(k.x1-l.x2,l.x1-k.x2,k.y1-l.y2,l.y1-k.y2)},Ta=function(l,k){for(var p=1,t=l.length,w=l[0].bounds;p<t;++p)if(Ia(w,w=l[p].bounds,k))return!0},D=function(l){l=
l.bounds;return 1<l.width()&&1<l.height()},fa=function(l,k,p){l=l.range();var t=new S.Bounds;"top"===k||"bottom"===k?t.set(l[0],-Infinity,l[1],Infinity):t.set(-Infinity,l[0],Infinity,l[1]);t.expand(p||1);return function(w){return t.encloses(w.bounds)}},Y=function(l){l.forEach(function(k){return k.opacity=1});return l};Pa.inherits(ab,q.Transform,{transform:function(l,k){var p=ka[l.method]||ka.parity,t=l.separation||0,w=k.materialize(k.SOURCE).source;if(w&&w.length){if(!l.method)return l.modified("method")&&
(Y(w),k=k.reflow(l.modified()).modifies("opacity")),k;w=w.filter(D);if(w.length){l.sort&&(w=w.slice().sort(l.sort));var O=Y(w);k=k.reflow(l.modified()).modifies("opacity");if(3<=O.length&&Ta(O,t)){do O=p(O,t);while(3<=O.length&&Ta(O,t));3>O.length&&!Pa.peek(w).opacity&&(1<O.length&&(Pa.peek(O).opacity=0),Pa.peek(w).opacity=1)}if(l.boundScale&&0<=l.boundTolerance){var la=fa(l.boundScale,l.boundOrient,+l.boundTolerance);w.forEach(function(ua){la(ua)||(ua.opacity=0)})}var ma=O[0].mark.bounds.clear();
w.forEach(function(ua){ua.opacity&&ma.union(ua.bounds)});return k}}}});Pa.inherits(fb,q.Transform,{transform:function(l,k){var p=k.dataflow;k.visit(k.ALL,function(t){return p.dirty(t)});k.fields&&k.fields.zindex&&(l=k.source&&k.source[0])&&(l.mark.zdirty=!0)}});var W=new S.Bounds,H=function(l,k){return Math.floor(Math.min(l,k))},T=function(l,k){return Math.ceil(Math.max(l,k))};Pa.inherits(J,q.Transform,{transform:function(l,k){var p=k.dataflow;l.mark.items.forEach(function(t){if(l.layout){for(var w=
l.layout,O=t.items,la=O.length,ma=0,ua,eb,cb=[],Ba=[],Ka=[],Z=[],ra=[],hb=null,mb=null;ma<la;++ma)if(ua=O[ma],eb=ua.items,"group"===ua.marktype)switch(ua.role){case "axis":case "legend":case "title":break;case "row-header":Ba.push.apply(Ba,$jscomp.arrayFromIterable(eb));break;case "row-footer":Ka.push.apply(Ka,$jscomp.arrayFromIterable(eb));break;case "column-header":Z.push.apply(Z,$jscomp.arrayFromIterable(eb));break;case "column-footer":ra.push.apply(ra,$jscomp.arrayFromIterable(eb));break;case "row-title":hb=
eb[0];break;case "column-title":mb=eb[0];break;default:cb.push.apply(cb,$jscomp.arrayFromIterable(eb))}ua="flush"===w.bounds?Oa:za;O=w.offset;eb=w.columns||cb.length;var Hb=0>=eb?1:Math.ceil(cb.length/eb),Xb=Hb*eb;la=xa(p,cb,w);la.empty()&&la.set(0,0,0,0);if(Ba){ma=ba(w.headerBand,"row",null);var ya=ia(p,Ba,cb,eb,Hb,-ba(O,"rowHeader"),H,0,ua,"x1",0,eb,1,ma)}if(Z){ma=ba(w.headerBand,"column",null);var wb=ia(p,Z,cb,eb,eb,-ba(O,"columnHeader"),H,1,ua,"y1",0,1,eb,ma)}if(Ka){ma=ba(w.footerBand,"row",null);
var Tb=ia(p,Ka,cb,eb,Hb,ba(O,"rowFooter"),T,0,ua,"x2",eb-1,eb,1,ma)}if(ra){ma=ba(w.footerBand,"column",null);var rb=ia(p,ra,cb,eb,eb,ba(O,"columnFooter"),T,1,ua,"y2",Xb-eb,1,eb,ma)}hb&&(Ba=ba(w.titleAnchor,"row"),cb=ba(O,"rowTitle"),cb="end"===Ba?Tb+cb:ya-cb,ma=ba(w.titleBand,"row",.5),wa(p,hb,cb,0,la,ma));mb&&(Ba=ba(w.titleAnchor,"column"),cb=ba(O,"columnTitle"),cb="end"===Ba?rb+cb:wb-cb,ma=ba(w.titleBand,"column",.5),wa(p,mb,cb,1,la,ma))}F(p,t,l)});return z(l.mark.group)?k.reflow():k}});n.bound=
Kb;n.identifier=db;n.mark=qb;n.overlap=ab;n.render=fb;n.viewlayout=J;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[24]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(12),sb(21),sb(0),sb(1),sb(19)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.d3,n.d3))})(this,function(n,q,S,Pa,Kb,Ma){function db(z){q.Transform.call(this,null,z)}function Eb(z){q.Transform.call(this,null,z)}function qb(){return q.ingest({})}
function Ea(z){var F=Pa.fastmap().test(function(M){return M.exit});F.lookup=function(M){return F.get(z(M))};return F}function ab(z){q.Transform.call(this,null,z)}function fb(z){q.Transform.call(this,[],z)}function Ja(z){q.Transform.call(this,{},z)}function ea(z){q.Transform.call(this,null,z)}function pa(z){return S.isContinuous(z)&&z!==S.Sequential}function Ha(z){q.Transform.call(this,null,z);this.modified(!0)}function Wa(z,F,M){S.isLogarithmic(z)&&Math.abs(F.reduce(function(ka,Ia){return ka+(0>Ia?
-1:0<Ia?1:0)},0))!==F.length&&M.warn("Log scale domain includes zero: "+Pa.stringValue(F));return F}function ja(z,F,M){return Pa.isFunction(z)&&(F||M)?S.interpolateRange(z,ba(F||[0,1],M)):z}function ba(z,F){return F?z.slice().reverse():z}function Ra(z){q.Transform.call(this,null,z)}function xa(z){q.Transform.call(this,null,z)}function Oa(z,F,M,ka,Ia){F=(F-z.sum)/2;for(var Ta=z.length,D=0,fa;D<Ta;++D)fa=z[D],fa[ka]=F,fa[Ia]=F+=Math.abs(M(fa))}function za(z,F,M,ka,Ia){F=1/z.sum;for(var Ta=0,D=z.length,
fa=0,Y=0,W;fa<D;++fa)W=z[fa],W[ka]=Ta,W[Ia]=Ta=F*(Y+=Math.abs(M(W)))}function ia(z,F,M,ka,Ia){for(var Ta=F=0,D=z.length,fa=0,Y,W;fa<D;++fa)W=z[fa],Y=+M(W),0>Y?(W[ka]=Ta,W[Ia]=Ta+=Y):(W[ka]=F,W[Ia]=F+=Y)}function wa(z,F,M,ka){var Ia=[],Ta=function(l){return l(W)},D;if(null==F)Ia.push(z.slice());else{var fa={};var Y=0;for(D=z.length;Y<D;++Y){var W=z[Y];var H=F.map(Ta);var T=fa[H];T||(fa[H]=T=[],Ia.push(T));T.push(W)}}Ta=H=0;for(z=Ia.length;H<z;++H){T=Ia[H];F=Y=0;for(D=T.length;Y<D;++Y)F+=Math.abs(ka(T[Y]));
T.sum=F;F>Ta&&(Ta=F);M&&T.sort(M)}Ia.max=Ta;return Ia}Pa.inherits(db,q.Transform,{transform:function(z,F){if(this.value&&!z.modified())return F.StopPropagation;var M=F.dataflow.locale();F=F.fork(F.NO_SOURCE|F.NO_FIELDS);var ka=this.value,Ia=z.scale,Ta=S.tickCount(Ia,null==z.count?z.values?z.values.length:10:z.count,z.minstep),D=z.format||S.tickFormat(M,Ia,Ta,z.formatSpecifier,z.formatType,!!z.values),fa=z.values?S.validTicks(Ia,z.values,Ta):S.tickValues(Ia,Ta);ka&&(F.rem=ka);ka=fa.map(function(Y,
W){return q.ingest({index:W/(fa.length-1||1),value:Y,label:D(Y)})});z.extra&&ka.length&&ka.push(q.ingest({index:-1,extra:{value:ka[0].value},label:""}));F.source=ka;this.value=F.add=ka;return F}});Pa.inherits(Eb,q.Transform,{transform:function(z,F){var M=F.dataflow,ka=F.fork(F.NO_SOURCE|F.NO_FIELDS),Ia=z.item||qb,Ta=z.key||q.tupleid,D=this.value;Pa.isArray(ka.encode)&&(ka.encode=null);D&&(z.modified("key")||F.modified(Ta))&&Pa.error("DataJoin does not support modified key function or fields.");D||
(F=F.addAll(),this.value=D=Ea(Ta));F.visit(F.ADD,function(fa){var Y=Ta(fa),W=D.get(Y);W?W.exit?(D.empty--,ka.add.push(W)):ka.mod.push(W):(W=Ia(fa),D.set(Y,W),ka.add.push(W));W.datum=fa;W.exit=!1});F.visit(F.MOD,function(fa){var Y=Ta(fa);if(Y=D.get(Y))Y.datum=fa,ka.mod.push(Y)});F.visit(F.REM,function(fa){var Y=Ta(fa);Y=D.get(Y);fa!==Y.datum||Y.exit||(ka.rem.push(Y),Y.exit=!0,++D.empty)});F.changed(F.ADD_MOD)&&ka.modifies("datum");(F.clean()||z.clean&&D.empty>M.cleanThreshold)&&M.runAfter(D.clean);
return ka}});Pa.inherits(ab,q.Transform,{transform:function(z,F){var M=F.fork(F.ADD_REM),ka=z.mod||!1,Ia=z.encoders,Ta=F.encode;if(Pa.isArray(Ta))if(M.changed()||Ta.every(function(T){return Ia[T]}))Ta=Ta[0],M.encode=null;else return F.StopPropagation;var D="enter"===Ta,fa=Ia.update||Pa.falsy,Y=Ia.enter||Pa.falsy,W=Ia.exit||Pa.falsy,H=(Ta&&!D?Ia[Ta]:fa)||Pa.falsy;F.changed(F.ADD)&&(F.visit(F.ADD,function(T){Y(T,z);fa(T,z)}),M.modifies(Y.output),M.modifies(fa.output),H!==Pa.falsy&&H!==fa&&(F.visit(F.ADD,
function(T){H(T,z)}),M.modifies(H.output)));F.changed(F.REM)&&W!==Pa.falsy&&(F.visit(F.REM,function(T){W(T,z)}),M.modifies(W.output));if(D||H!==Pa.falsy)Ta=F.MOD|(z.modified()?F.REFLOW:0),D?(F.visit(Ta,function(T){var l=Y(T,z)||ka;(H(T,z)||l)&&M.mod.push(T)}),M.mod.length&&M.modifies(Y.output)):F.visit(Ta,function(T){(H(T,z)||ka)&&M.mod.push(T)}),M.mod.length&&M.modifies(H.output);return M.changed()?M:F.StopPropagation}});Pa.inherits(fb,q.Transform,{transform:function(z,F){if(null!=this.value&&!z.modified())return F.StopPropagation;
var M=F.dataflow.locale(),ka=F.fork(F.NO_SOURCE|F.NO_FIELDS),Ia=this.value,Ta=z.type||S.SymbolLegend,D=z.scale,fa=+z.limit,Y=S.tickCount(D,null==z.count?5:z.count,z.minstep),W=!!z.values||Ta===S.SymbolLegend,H=z.format||S.labelFormat(M,D,Y,Ta,z.formatSpecifier,z.formatType,W),T=z.values||S.labelValues(D,Y),l;Ia&&(ka.rem=Ia);if(Ta===S.SymbolLegend){if(fa&&T.length>fa){F.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ia=T.slice(0,fa-1);var k=!0}else Ia=T;if(Pa.isFunction(l=z.size)){z.values||
0!==D(Ia[0])||(Ia=Ia.slice(1));var p=Ia.reduce(function(w,O){return Math.max(w,l(O,z))},0)}else l=Pa.constant(p=l||8);Ia=Ia.map(function(w,O){return q.ingest({index:O,label:H(w,O,Ia),value:w,offset:p,size:l(w,z)})});k&&(k=T[Ia.length],Ia.push(q.ingest({index:Ia.length,label:"…"+(T.length-Ia.length)+" entries",value:k,offset:p,size:l(k,z)})))}else if(Ta===S.GradientLegend){F=D.domain();var t=S.scaleFraction(D,F[0],Pa.peek(F));3>T.length&&!z.values&&F[0]!==Pa.peek(F)&&(T=[F[0],Pa.peek(F)]);Ia=T.map(function(w,
O){return q.ingest({index:O,label:H(w,O,T),value:w,perc:t(w)})})}else l=T.length-1,t=S.labelFraction(D),Ia=T.map(function(w,O){return q.ingest({index:O,label:H(w,O,T),value:w,perc:O?t(w):0,perc2:O===l?1:t(T[O+1])})});ka.source=Ia;this.value=ka.add=Ia;return ka}});var sa=function(z){return z.source.x},qa=function(z){return z.source.y},Fa=function(z){return z.target.x},Ca=function(z){return z.target.y};Ja.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},
{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Pa.inherits(Ja,q.Transform,{transform:function(z,F){var M=z.sourceX||sa,ka=z.sourceY||
qa,Ia=z.targetX||Fa,Ta=z.targetY||Ca,D=z.as||"path",fa=z.shape||"line",Y=x.get(fa+"-"+(z.orient||"vertical"))||x.get(fa);Y||Pa.error("LinkPath unsupported type: "+z.shape+(z.orient?"-"+z.orient:""));F.visit(F.SOURCE,function(W){W[D]=Y(M(W),ka(W),Ia(W),Ta(W))});return F.reflow(z.modified()).modifies(D)}});var Za=function(z,F,M,ka){return"M"+z+","+F+"L"+M+","+ka},jb=function(z,F,M,ka){var Ia=M-z,Ta=ka-F,D=Math.sqrt(Ia*Ia+Ta*Ta)/2;return"M"+z+","+F+"A"+D+","+D+" "+180*Math.atan2(Ta,Ia)/Math.PI+" 0 1 "+
M+","+ka},y=function(z,F,M,ka){var Ia=M-z,Ta=ka-F,D=.2*(Ia+Ta);Ia=.2*(Ta-Ia);return"M"+z+","+F+"C"+(z+D)+","+(F+Ia)+" "+(M+Ia)+","+(ka-D)+" "+M+","+ka},x=Pa.fastmap({line:Za,"line-radial":function(z,F,M,ka){return Za(F*Math.cos(z),F*Math.sin(z),ka*Math.cos(M),ka*Math.sin(M))},arc:jb,"arc-radial":function(z,F,M,ka){return jb(F*Math.cos(z),F*Math.sin(z),ka*Math.cos(M),ka*Math.sin(M))},curve:y,"curve-radial":function(z,F,M,ka){return y(F*Math.cos(z),F*Math.sin(z),ka*Math.cos(M),ka*Math.sin(M))},"orthogonal-horizontal":function(z,
F,M,ka){return"M"+z+","+F+"V"+ka+"H"+M},"orthogonal-vertical":function(z,F,M,ka){return"M"+z+","+F+"H"+M+"V"+ka},"orthogonal-radial":function(z,F,M,ka){var Ia=Math.cos(M),Ta=Math.sin(M);return"M"+F*Math.cos(z)+","+F*Math.sin(z)+"A"+F+","+F+" 0 0,"+((Math.abs(M-z)>Math.PI?M<=z:M>z)?1:0)+" "+F*Ia+","+F*Ta+"L"+ka*Ia+","+ka*Ta},"diagonal-horizontal":function(z,F,M,ka){var Ia=(z+M)/2;return"M"+z+","+F+"C"+Ia+","+F+" "+Ia+","+ka+" "+M+","+ka},"diagonal-vertical":function(z,F,M,ka){var Ia=(F+ka)/2;return"M"+
z+","+F+"C"+z+","+Ia+" "+M+","+Ia+" "+M+","+ka},"diagonal-radial":function(z,F,M,ka){var Ia=Math.cos(z);z=Math.sin(z);var Ta=Math.cos(M);M=Math.sin(M);var D=(F+ka)/2;return"M"+F*Ia+","+F*z+"C"+D*Ia+","+D*z+" "+D*Ta+","+D*M+" "+ka*Ta+","+ka*M}});ea.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",
array:!0,length:2,"default":["startAngle","endAngle"]}]};Pa.inherits(ea,q.Transform,{transform:function(z,F){var M=z.as||["startAngle","endAngle"],ka=M[0],Ia=M[1],Ta=z.startAngle||0,D=null!=z.endAngle?z.endAngle:2*Math.PI,fa=F.source,Y=fa.map(z.field||Pa.one),W=Y.length,H=Ta;Ta=(D-Ta)/Kb.sum(Y);D=Kb.range(W);var T;z.sort&&D.sort(function(p,t){return Y[p]-Y[t]});for(T=0;T<W;++T){var l=Y[D[T]];var k=fa[D[T]];k[ka]=H;k[Ia]=H+=l*Ta}this.value=Y;return F.reflow(z.modified()).modifies(M)}});var G=Pa.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Pa.inherits(Ha,q.Transform,{transform:function(z,F){var M=F.dataflow,ka=this.value;var Ia=z.type;var Ta="";if(Ia===S.Sequential)Ia=S.Sequential+"-"+S.Linear;else{var D=z.type;S.isContinuous(D)&&D!==S.Time&&D!==S.UTC&&(z.scheme||z.range&&z.range.length&&z.range.every(Pa.isString))&&(Ta=z.rawDomain?z.rawDomain.length:z.domain?z.domain.length+ +(null!=z.domainMid):0,Ta=2===Ta?S.Sequential+"-":3===Ta?S.Diverging+"-":"");Ia=(Ta+Ia||S.Linear).toLowerCase()}ka&&Ia===ka.type||(this.value=ka=S.scale(Ia)());
for(Ia in z)G[Ia]||"padding"===Ia&&pa(ka.type)||(Pa.isFunction(ka[Ia])?ka[Ia](z[Ia]):M.warn("Unsupported scale property: "+Ia));Ta=Ia=ka;(D=z.domainRaw)?(ka.domain(Wa(ka.type,D,M)),D=D.length):D=-1;if(-1<D)M=D;else{var fa=z.domain;D=ka.type;var Y;!(Y=z.zero)&&(Y=void 0===z.zero)&&(Y=ka.type,Y=!ka.bins&&(Y===S.Linear||Y===S.Pow||Y===S.Sqrt));if(fa){if(pa(D)&&z.padding&&fa[0]!==Pa.peek(fa)){var W=z.range,H=z.padding;var T=z.exponent;var l=z.constant;W=Math.abs(Pa.peek(W)-W[0]);H=W/(W-2*H);T=D===S.Log?
Pa.zoomLog(fa,null,H):D===S.Sqrt?Pa.zoomPow(fa,null,H,.5):D===S.Pow?Pa.zoomPow(fa,null,H,T||1):D===S.Symlog?Pa.zoomSymlog(fa,null,H,l||1):Pa.zoomLinear(fa,null,H);fa=fa.slice();fa[0]=T[0];fa[fa.length-1]=T[1]}if(Y||null!=z.domainMin||null!=z.domainMax||null!=z.domainMid)T=(fa=fa.slice()).length-1||1,Y&&(0<fa[0]&&(fa[0]=0),0>fa[T]&&(fa[T]=0)),null!=z.domainMin&&(fa[0]=z.domainMin),null!=z.domainMax&&(fa[T]=z.domainMax),null!=z.domainMid&&(Y=z.domainMid,l=Y>fa[T]?T+1:Y<fa[0]?0:T,l!==T&&M.warn("Scale domainMid exceeds domain min or max.",
Y),fa.splice(l,0,Y));ka.domain(Wa(D,fa,M));D===S.Ordinal&&ka.unknown(z.domainImplicit?S.scaleImplicit:void 0);z.nice&&ka.nice&&ka.nice(!0!==z.nice&&S.tickCount(ka,z.nice)||null);M=fa.length}else M=0}(D=z.bins)&&!Pa.isArray(D)&&(Y=Ta.domain(),ka=Y[0],Y=Pa.peek(Y),fa=D.step,T=null==D.start?ka:D.start,D=null==D.stop?Y:D.stop,fa||Pa.error("Scale bins parameter missing step property."),T<ka&&(T=fa*Math.ceil(ka/fa)),D>Y&&(D=fa*Math.floor(Y/fa)),D=Kb.range(T,D+fa/2,fa));D?Ta.bins=D:Ta.bins&&delete Ta.bins;
Ta.type===S.BinOrdinal&&(D?z.domain||z.domainRaw||(Ta.domain(D),M=D.length):Ta.bins=Ta.domain());ka=M;a:{Ta=Ia.type;M=z.round||!1;D=z.range;if(null!=z.rangeStep)Ta!==S.Band&&Ta!==S.Point&&Pa.error("Only band and point scales support rangeStep."),D=[0,z.rangeStep*S.bandSpace(ka,Ta===S.Point?1:(null!=z.paddingInner?z.paddingInner:z.padding)||0,(null!=z.paddingOuter?z.paddingOuter:z.padding)||0)];else if(z.scheme&&(D=z.schemeExtent,Pa.isArray(z.scheme)?Y=S.interpolateColors(z.scheme,z.interpolate,z.interpolateGamma):
(Y=z.scheme.toLowerCase(),(Y=S.scheme(Y))||Pa.error("Unrecognized scheme name: "+z.scheme)),ka=Ta===S.Threshold?ka+1:Ta===S.BinOrdinal?ka-1:Ta===S.Quantile||Ta===S.Quantize?+z.schemeCount||5:ka,D=S.isInterpolating(Ta)?ja(Y,D,z.reverse):Pa.isFunction(Y)?S.quantizeInterpolator(ja(Y,D),ka):Ta===S.Ordinal?Y:Y.slice(0,ka),Pa.isFunction(D)))if(Ia.interpolator){Ia.interpolator(D);break a}else Pa.error("Scale type "+Ta+" does not support interpolating color schemes.");D&&S.isInterpolating(Ta)?Ia.interpolator(S.interpolateColors(ba(D,
z.reverse),z.interpolate,z.interpolateGamma)):(D&&z.interpolate&&Ia.interpolate?Ia.interpolate(S.interpolate(z.interpolate,z.interpolateGamma)):Pa.isFunction(Ia.round)?Ia.round(M):Pa.isFunction(Ia.rangeRound)&&Ia.interpolate(M?Ma.interpolateRound:Ma.interpolate),D&&Ia.range(ba(D,z.reverse)))}return F.fork(F.NO_SOURCE|F.NO_FIELDS)}});Pa.inherits(Ra,q.Transform,{transform:function(z,F){var M=z.modified("sort")||F.changed(F.ADD)||F.modified(z.sort.fields)||F.modified("datum");M&&F.source.sort(q.stableCompare(z.sort));
this.modified(M);return F}});var J=["y0","y1"];xa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":J}]};Pa.inherits(xa,q.Transform,{transform:function(z,F){var M=z.as||J,ka=M[0],Ia=M[1],Ta=q.stableCompare(z.sort),D=z.field||Pa.one,fa="center"===z.offset?Oa:"normalize"===
z.offset?za:ia,Y;Ta=wa(F.source,z.groupby,Ta,D);var W=0;var H=Ta.length;for(Y=Ta.max;W<H;++W)fa(Ta[W],Y,D,ka,Ia);return F.reflow(z.modified()).modifies(M)}});n.axisticks=db;n.datajoin=Eb;n.encode=ab;n.legendentries=fb;n.linkpath=Ja;n.pie=ea;n.scale=Ha;n.sortitems=Ra;n.stack=xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[25]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(1)):"function"===typeof define&&define.amd?define(["exports","d3-array"],q):(n=n||self,q(n.d3=n.d3||{},n.d3))})(this,function(n,q){function S(X){return 1<X?0:-1>X?Sa:Math.acos(X)}function Pa(X){return 1<X?Pb:-1>X?-Pb:Math.asin(X)}function Kb(X){return(X=Lb(X/2))*X}function Ma(){}function db(X,ta){if(X&&Oe.hasOwnProperty(X.type))Oe[X.type](X,ta)}function Eb(X,ta,Ua){var kb=-1;Ua=X.length-Ua;
for(ta.lineStart();++kb<Ua;){var Bb=X[kb];ta.point(Bb[0],Bb[1],Bb[2])}ta.lineEnd()}function qb(X,ta){var Ua=-1,kb=X.length;for(ta.polygonStart();++Ua<kb;)Eb(X[Ua],ta,1);ta.polygonEnd()}function Ea(X,ta){if(X&&Ye.hasOwnProperty(X.type))Ye[X.type](X,ta);else db(X,ta)}function ab(){ne.point=Ja}function fb(){ea(be,fc)}function Ja(X,ta){ne.point=ea;be=X;fc=ta;X*=uc;ta*=uc;Pd=X;dc=ld(ta=ta/2+kc);Yc=Lb(ta)}function ea(X,ta){X*=uc;ta*=uc;ta=ta/2+kc;var Ua=X-Pd,kb=0<=Ua?1:-1,Bb=kb*Ua;Ua=ld(ta);ta=Lb(ta);var mc=
Yc*ta,wc=dc*Ua+mc*ld(Bb);kb=mc*kb*Lb(Bb);ff.add(yd(kb,wc));Pd=X;dc=Ua;Yc=ta}function pa(X){return[yd(X[1],X[0]),Pa(X[2])]}function Ha(X){var ta=X[0];X=X[1];var Ua=ld(X);return[Ua*ld(ta),Ua*Lb(ta),Lb(X)]}function Wa(X,ta){return X[0]*ta[0]+X[1]*ta[1]+X[2]*ta[2]}function ja(X,ta){return[X[1]*ta[2]-X[2]*ta[1],X[2]*ta[0]-X[0]*ta[2],X[0]*ta[1]-X[1]*ta[0]]}function ba(X,ta){X[0]+=ta[0];X[1]+=ta[1];X[2]+=ta[2]}function Ra(X,ta){return[X[0]*ta,X[1]*ta,X[2]*ta]}function xa(X){var ta=oe(X[0]*X[0]+X[1]*X[1]+
X[2]*X[2]);X[0]/=ta;X[1]/=ta;X[2]/=ta}function Oa(X,ta){pe.push(Le=[ee=X,fe=X]);ta<Pc&&(Pc=ta);ta>Sd&&(Sd=ta)}function za(X,ta){var Ua=Ha([X*uc,ta*uc]);if(ke){var kb=ja(ke,Ua);kb=ja([kb[1],-kb[0],0],kb);xa(kb);kb=pa(kb);var Bb=X-Ld,mc=0<Bb?1:-1,wc=kb[0]*qc*mc;Bb=180<kd(Bb);Bb^(mc*Ld<wc&&wc<mc*X)?(kb=kb[1]*qc,kb>Sd&&(Sd=kb)):(wc=(wc+360)%360-180,Bb^(mc*Ld<wc&&wc<mc*X))?(kb=-kb[1]*qc,kb<Pc&&(Pc=kb)):(ta<Pc&&(Pc=ta),ta>Sd&&(Sd=ta));Bb?X<Ld?Ca(ee,X)>Ca(ee,fe)&&(fe=X):Ca(X,fe)>Ca(ee,fe)&&(ee=X):fe>=ee?
(X<ee&&(ee=X),X>fe&&(fe=X)):X>Ld?Ca(ee,X)>Ca(ee,fe)&&(fe=X):Ca(X,fe)>Ca(ee,fe)&&(ee=X)}else pe.push(Le=[ee=X,fe=X]);ta<Pc&&(Pc=ta);ta>Sd&&(Sd=ta);ke=Ua;Ld=X}function ia(){cf.point=za}function wa(){Le[0]=ee;Le[1]=fe;cf.point=Oa;ke=null}function sa(X,ta){if(ke){var Ua=X-Ld;Gd.add(180<kd(Ua)?Ua+(0<Ua?360:-360):Ua)}else Qd=X,Ed=ta;ne.point(X,ta);za(X,ta)}function qa(){ne.lineStart()}function Fa(){sa(Qd,Ed);ne.lineEnd();1E-6<kd(Gd)&&(ee=-(fe=180));Le[0]=ee;Le[1]=fe;ke=null}function Ca(X,ta){return 0>(ta-=
X)?ta+360:ta}function Za(X,ta){return X[0]-ta[0]}function jb(X,ta){return X[0]<=X[1]?X[0]<=ta&&ta<=X[1]:ta<X[0]||X[1]<ta}function y(X,ta){X*=uc;ta*=uc;var Ua=ld(ta);x(Ua*ld(X),Ua*Lb(X),Lb(ta))}function x(X,ta,Ua){++qf;rf+=(X-rf)/qf;Fe+=(ta-Fe)/qf;Pe+=(Ua-Pe)/qf}function G(){ac.point=J}function J(X,ta){X*=uc;ta*=uc;var Ua=ld(ta);Ab=Ua*ld(X);zb=Ua*Lb(X);Ib=Lb(ta);ac.point=z;x(Ab,zb,Ib)}function z(X,ta){X*=uc;ta*=uc;var Ua=ld(ta),kb=Ua*ld(X);X=Ua*Lb(X);ta=Lb(ta);var Bb=yd(oe((Bb=zb*ta-Ib*X)*Bb+(Bb=Ib*
kb-Ab*ta)*Bb+(Bb=Ab*X-zb*kb)*Bb),Ab*kb+zb*X+Ib*ta);gd+=Bb;Ee+=Bb*(Ab+(Ab=kb));$e+=Bb*(zb+(zb=X));Qe+=Bb*(Ib+(Ib=ta));x(Ab,zb,Ib)}function F(){ac.point=y}function M(){ac.point=Ia}function ka(){Ta(Q,Na);ac.point=y}function Ia(X,ta){Q=X;Na=ta;X*=uc;ta*=uc;ac.point=Ta;var Ua=ld(ta);Ab=Ua*ld(X);zb=Ua*Lb(X);Ib=Lb(ta);x(Ab,zb,Ib)}function Ta(X,ta){X*=uc;ta*=uc;var Ua=ld(ta),kb=Ua*ld(X);X=Ua*Lb(X);ta=Lb(ta);Ua=zb*ta-Ib*X;var Bb=Ib*kb-Ab*ta,mc=Ab*X-zb*kb,wc=jc(Ua,Bb,mc),nc=Pa(wc);wc=wc&&-nc/wc;df.add(wc*Ua);
Be.add(wc*Bb);C.add(wc*mc);gd+=nc;Ee+=nc*(Ab+(Ab=kb));$e+=nc*(zb+(zb=X));Qe+=nc*(Ib+(Ib=ta));x(Ab,zb,Ib)}function D(X){return function(){return X}}function fa(X,ta){function Ua(kb,Bb){return kb=X(kb,Bb),ta(kb[0],kb[1])}X.invert&&ta.invert&&(Ua.invert=function(kb,Bb){return kb=ta.invert(kb,Bb),kb&&X.invert(kb[0],kb[1])});return Ua}function Y(X,ta){return[kd(X)>Sa?X+Math.round(-X/oc)*oc:X,ta]}function W(X,ta,Ua){return(X%=oc)?ta||Ua?fa(T(X),l(ta,Ua)):T(X):ta||Ua?l(ta,Ua):Y}function H(X){return function(ta,
Ua){return ta+=X,[ta>Sa?ta-oc:ta<-Sa?ta+oc:ta,Ua]}}function T(X){var ta=H(X);ta.invert=H(-X);return ta}function l(X,ta){function Ua(nc,yc){var Bc=ld(yc),dd=ld(nc)*Bc;nc=Lb(nc)*Bc;yc=Lb(yc);Bc=yc*kb+dd*Bb;return[yd(nc*mc-Bc*wc,dd*kb-yc*Bb),Pa(Bc*mc+nc*wc)]}var kb=ld(X),Bb=Lb(X),mc=ld(ta),wc=Lb(ta);Ua.invert=function(nc,yc){var Bc=ld(yc),dd=ld(nc)*Bc;nc=Lb(nc)*Bc;yc=Lb(yc);Bc=yc*mc-nc*wc;return[yd(nc*mc+yc*wc,dd*kb+Bc*Bb),Pa(Bc*kb-dd*Bb)]};return Ua}function k(X){function ta(Ua){Ua=X(Ua[0]*uc,Ua[1]*
uc);return Ua[0]*=qc,Ua[1]*=qc,Ua}X=W(X[0]*uc,X[1]*uc,2<X.length?X[2]*uc:0);ta.invert=function(Ua){Ua=X.invert(Ua[0]*uc,Ua[1]*uc);return Ua[0]*=qc,Ua[1]*=qc,Ua};return ta}function p(X,ta,Ua,kb,Bb,mc){if(Ua){var wc=ld(ta),nc=Lb(ta);Ua*=kb;if(null==Bb)Bb=ta+kb*oc,mc=ta-Ua/2;else if(Bb=t(wc,Bb),mc=t(wc,mc),0<kb?Bb<mc:Bb>mc)Bb+=kb*oc;for(;0<kb?Bb>mc:Bb<mc;Bb-=Ua)ta=pa([wc,-nc*ld(Bb),-nc*Lb(Bb)]),X.point(ta[0],ta[1])}}function t(X,ta){ta=Ha(ta);ta[0]-=X;xa(ta);X=S(-ta[1]);return((0>-ta[2]?-X:X)+oc-1E-6)%
oc}function w(){var X=[],ta;return{point:function(Ua,kb,Bb){ta.push([Ua,kb,Bb])},lineStart:function(){X.push(ta=[])},lineEnd:Ma,rejoin:function(){1<X.length&&X.push(X.pop().concat(X.shift()))},result:function(){var Ua=X;X=[];ta=null;return Ua}}}function O(X,ta){return 1E-6>kd(X[0]-ta[0])&&1E-6>kd(X[1]-ta[1])}function la(X,ta,Ua,kb){this.x=X;this.z=ta;this.o=Ua;this.e=kb;this.v=!1;this.n=this.p=null}function ma(X,ta,Ua,kb,Bb){var mc=[],wc=[];X.forEach(function(Qc){if(!(0>=(Kc=Qc.length-1))){var Kc,
Wc=Qc[0],fd=Qc[Kc];if(O(Wc,fd)){if(!Wc[2]&&!fd[2]){Bb.lineStart();for(nc=0;nc<Kc;++nc)Bb.point((Wc=Qc[nc])[0],Wc[1]);Bb.lineEnd();return}fd[0]+=2E-6}mc.push(Kc=new la(Wc,Qc,null,!0));wc.push(Kc.o=new la(Wc,null,Kc,!1));mc.push(Kc=new la(fd,Qc,null,!1));wc.push(Kc.o=new la(fd,null,Kc,!0))}});if(mc.length){wc.sort(ta);ua(mc);ua(wc);var nc=0;for(X=wc.length;nc<X;++nc)wc[nc].e=Ua=!Ua;Ua=mc[0];for(var yc;;){for(var Bc=Ua,dd=!0;Bc.v;)if((Bc=Bc.n)===Ua)return;ta=Bc.z;Bb.lineStart();do{Bc.v=Bc.o.v=!0;if(Bc.e){if(dd)for(nc=
0,X=ta.length;nc<X;++nc)Bb.point((yc=ta[nc])[0],yc[1]);else kb(Bc.x,Bc.n.x,1,Bb);Bc=Bc.n}else{if(dd)for(ta=Bc.p.z,nc=ta.length-1;0<=nc;--nc)Bb.point((yc=ta[nc])[0],yc[1]);else kb(Bc.x,Bc.p.x,-1,Bb);Bc=Bc.p}Bc=Bc.o;ta=Bc.z;dd=!dd}while(!Bc.v);Bb.lineEnd()}}}function ua(X){if(ta=X.length){for(var ta,Ua=0,kb=X[0],Bb;++Ua<ta;)kb.n=Bb=X[Ua],Bb.p=kb,kb=Bb;kb.n=Bb=X[0];Bb.p=kb}}function eb(X){return kd(X[0])<=Sa?X[0]:Ke(X[0])*((kd(X[0])+Sa)%oc-Sa)}function cb(X,ta){var Ua=eb(ta);ta=ta[1];var kb=Lb(ta),Bb=
[Lb(Ua),-ld(Ua),0],mc=0,wc=0,nc=new q.Adder;1===kb?ta=Pb+1E-6:-1===kb&&(ta=-Pb-1E-6);kb=0;for(var yc=X.length;kb<yc;++kb)if(dd=(Bc=X[kb]).length){var Bc,dd,Qc=Bc[dd-1],Kc=eb(Qc),Wc=Qc[1]/2+kc,fd=Lb(Wc),hd=ld(Wc);for(Wc=0;Wc<dd;++Wc,Kc=Td,fd=Id,hd=sd,Qc=ie){var ie=Bc[Wc],Td=eb(ie);sd=ie[1]/2+kc;var Id=Lb(sd),sd=ld(sd),ed=Td-Kc,Rd=0<=ed?1:-1,Ie=Rd*ed,Re=Ie>Sa;fd*=Id;nc.add(yd(fd*Rd*Lb(Ie),hd*sd+fd*ld(Ie)));mc+=Re?ed+Rd*oc:ed;Re^Kc>=Ua^Td>=Ua&&(Qc=ja(Ha(Qc),Ha(ie)),xa(Qc),Kc=ja(Bb,Qc),xa(Kc),Kc=(Re^
0<=ed?-1:1)*Pa(Kc[2]),ta>Kc||ta===Kc&&(Qc[0]||Qc[1]))&&(wc+=Re^0<=ed?1:-1)}}return(-1E-6>mc||1E-6>mc&&-1E-12>nc)^wc&1}function Ba(X,ta,Ua,kb){return function(Bb){function mc(ed,Rd){X(ed,Rd)&&Bb.point(ed,Rd)}function wc(ed,Rd){Kc.point(ed,Rd)}function nc(){sd.point=wc;Kc.lineStart()}function yc(){sd.point=mc;Kc.lineEnd()}function Bc(ed,Rd){Id.push([ed,Rd]);fd.point(ed,Rd)}function dd(){fd.lineStart();Id=[]}function Qc(){Bc(Id[0][0],Id[0][1]);fd.lineEnd();var ed=fd.clean(),Rd=Wc.result(),Ie=Rd.length,
Re;Id.pop();ie.push(Id);Id=null;if(Ie)if(ed&1){if(Ie=Rd[0],0<(Rd=Ie.length-1)){hd||(Bb.polygonStart(),hd=!0);Bb.lineStart();for(ed=0;ed<Rd;++ed)Bb.point((Re=Ie[ed])[0],Re[1]);Bb.lineEnd()}}else 1<Ie&&ed&2&&Rd.push(Rd.pop().concat(Rd.shift())),Td.push(Rd.filter(Ka))}var Kc=ta(Bb),Wc=w(),fd=ta(Wc),hd=!1,ie,Td,Id,sd={point:mc,lineStart:nc,lineEnd:yc,polygonStart:function(){sd.point=Bc;sd.lineStart=dd;sd.lineEnd=Qc;Td=[];ie=[]},polygonEnd:function(){sd.point=mc;sd.lineStart=nc;sd.lineEnd=yc;Td=q.merge(Td);
var ed=cb(ie,kb);Td.length?(hd||(Bb.polygonStart(),hd=!0),ma(Td,Z,ed,Ua,Bb)):ed&&(hd||(Bb.polygonStart(),hd=!0),Bb.lineStart(),Ua(null,null,1,Bb),Bb.lineEnd());hd&&(Bb.polygonEnd(),hd=!1);Td=ie=null},sphere:function(){Bb.polygonStart();Bb.lineStart();Ua(null,null,1,Bb);Bb.lineEnd();Bb.polygonEnd()}};return sd}}function Ka(X){return 1<X.length}function Z(X,ta){return(0>(X=X.x)[0]?X[1]-Pb-1E-6:Pb-X[1])-(0>(ta=ta.x)[0]?ta[1]-Pb-1E-6:Pb-ta[1])}function ra(X){function ta(yc,Bc){return ld(yc)*ld(Bc)>Bb}
function Ua(yc,Bc,dd){var Qc=Ha(yc),Kc=Ha(Bc),Wc=[1,0,0];Kc=ja(Qc,Kc);var fd=Wa(Kc,Kc);Qc=Kc[0];var hd=fd-Qc*Qc;if(!hd)return!dd&&yc;fd=Bb*fd/hd;hd=-Bb*Qc/hd;Qc=ja(Wc,Kc);Wc=Ra(Wc,fd);Kc=Ra(Kc,hd);ba(Wc,Kc);Kc=Wa(Wc,Qc);fd=Wa(Qc,Qc);hd=Kc*Kc-fd*(Wa(Wc,Wc)-1);if(!(0>hd)){var ie=oe(hd);hd=Ra(Qc,(-Kc-ie)/fd);ba(hd,Wc);hd=pa(hd);if(!dd)return hd;dd=yc[0];var Td=Bc[0];yc=yc[1];Bc=Bc[1];if(Td<dd){var Id=dd;dd=Td;Td=Id}var sd=Td-dd,ed=1E-6>kd(sd-Sa);!ed&&Bc<yc&&(Id=yc,yc=Bc,Bc=Id);if(ed||1E-6>sd?ed?0<yc+
Bc^hd[1]<(1E-6>kd(hd[0]-dd)?yc:Bc):yc<=hd[1]&&hd[1]<=Bc:sd>Sa^(dd<=hd[0]&&hd[0]<=Td))return Bc=Ra(Qc,(-Kc+ie)/fd),ba(Bc,Wc),[hd,pa(Bc)]}}function kb(yc,Bc){var dd=wc?X:Sa-X,Qc=0;yc<-dd?Qc|=1:yc>dd&&(Qc|=2);Bc<-dd?Qc|=4:Bc>dd&&(Qc|=8);return Qc}var Bb=ld(X),mc=6*uc,wc=0<Bb,nc=1E-6<kd(Bb);return Ba(ta,function(yc){var Bc,dd,Qc,Kc,Wc;return{lineStart:function(){Kc=Qc=!1;Wc=1},point:function(fd,hd){var ie=[fd,hd],Td=ta(fd,hd);hd=wc?Td?0:kb(fd,hd):Td?kb(fd+(0>fd?Sa:-Sa),hd):0;!Bc&&(Kc=Qc=Td)&&yc.lineStart();
Td!==Qc&&(fd=Ua(Bc,ie),!fd||O(Bc,fd)||O(ie,fd))&&(ie[2]=1);if(Td!==Qc)Wc=0,Td?(yc.lineStart(),fd=Ua(ie,Bc),yc.point(fd[0],fd[1])):(fd=Ua(Bc,ie),yc.point(fd[0],fd[1],2),yc.lineEnd()),Bc=fd;else if(nc&&Bc&&wc^Td){var Id;hd&dd||!(Id=Ua(ie,Bc,!0))||(Wc=0,wc?(yc.lineStart(),yc.point(Id[0][0],Id[0][1]),yc.point(Id[1][0],Id[1][1]),yc.lineEnd()):(yc.point(Id[1][0],Id[1][1]),yc.lineEnd(),yc.lineStart(),yc.point(Id[0][0],Id[0][1],3)))}!Td||Bc&&O(Bc,ie)||yc.point(ie[0],ie[1]);Bc=ie;Qc=Td;dd=hd},lineEnd:function(){Qc&&
yc.lineEnd();Bc=null},clean:function(){return Wc|(Kc&&Qc)<<1}}},function(yc,Bc,dd,Qc){p(Qc,X,mc,dd,yc,Bc)},wc?[0,-X]:[-Sa,X-Sa])}function hb(X,ta,Ua,kb,Bb,mc){var wc=X[0],nc=X[1],yc=0,Bc=1,dd=ta[0]-wc,Qc=ta[1]-nc;Ua-=wc;if(dd||!(0<Ua)){Ua/=dd;if(0>dd){if(Ua<yc)return;Ua<Bc&&(Bc=Ua)}else if(0<dd){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}Ua=Bb-wc;if(dd||!(0>Ua)){Ua/=dd;if(0>dd){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}else if(0<dd){if(Ua<yc)return;Ua<Bc&&(Bc=Ua)}Ua=kb-nc;if(Qc||!(0<Ua)){Ua/=Qc;if(0>Qc){if(Ua<yc)return;
Ua<Bc&&(Bc=Ua)}else if(0<Qc){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}Ua=mc-nc;if(Qc||!(0>Ua)){Ua/=Qc;if(0>Qc){if(Ua>Bc)return;Ua>yc&&(yc=Ua)}else if(0<Qc){if(Ua<yc)return;Ua<Bc&&(Bc=Ua)}0<yc&&(X[0]=wc+yc*dd,X[1]=nc+yc*Qc);1>Bc&&(ta[0]=wc+Bc*dd,ta[1]=nc+Bc*Qc);return!0}}}}}function mb(X,ta,Ua,kb){function Bb(yc,Bc,dd,Qc){var Kc=0,Wc=0;if(null==yc||(Kc=mc(yc,dd))!==(Wc=mc(Bc,dd))||0>nc(yc,Bc)^0<dd){do Qc.point(0===Kc||3===Kc?X:Ua,1<Kc?kb:ta);while((Kc=(Kc+dd+4)%4)!==Wc)}else Qc.point(Bc[0],Bc[1])}function mc(yc,
Bc){return 1E-6>kd(yc[0]-X)?0<Bc?0:3:1E-6>kd(yc[0]-Ua)?0<Bc?2:1:1E-6>kd(yc[1]-ta)?0<Bc?1:0:0<Bc?3:2}function wc(yc,Bc){return nc(yc.x,Bc.x)}function nc(yc,Bc){var dd=mc(yc,1),Qc=mc(Bc,1);return dd!==Qc?dd-Qc:0===dd?Bc[1]-yc[1]:1===dd?yc[0]-Bc[0]:2===dd?yc[1]-Bc[1]:Bc[0]-yc[0]}return function(yc){function Bc(je,Ce){X<=je&&je<=Ua&&ta<=Ce&&Ce<=kb&&Qc.point(je,Ce)}function dd(je,Ce){var lf=X<=je&&je<=Ua&&ta<=Ce&&Ce<=kb;fd&&hd.push([je,Ce]);if(Ie)ie=je,Td=Ce,Id=lf,Ie=!1,lf&&(Qc.lineStart(),Qc.point(je,
Ce));else if(lf&&Rd)Qc.point(je,Ce);else{var hf=[sd=Math.max(-1E9,Math.min(1E9,sd)),ed=Math.max(-1E9,Math.min(1E9,ed))],Kf=[je=Math.max(-1E9,Math.min(1E9,je)),Ce=Math.max(-1E9,Math.min(1E9,Ce))];hb(hf,Kf,X,ta,Ua,kb)?(Rd||(Qc.lineStart(),Qc.point(hf[0],hf[1])),Qc.point(Kf[0],Kf[1]),lf||Qc.lineEnd(),Re=!1):lf&&(Qc.lineStart(),Qc.point(je,Ce),Re=!1)}sd=je;ed=Ce;Rd=lf}var Qc=yc,Kc=w(),Wc,fd,hd,ie,Td,Id,sd,ed,Rd,Ie,Re,Ae={point:Bc,lineStart:function(){Ae.point=dd;fd&&fd.push(hd=[]);Ie=!0;Rd=!1;sd=ed=NaN},
lineEnd:function(){Wc&&(dd(ie,Td),Id&&Rd&&Kc.rejoin(),Wc.push(Kc.result()));Ae.point=Bc;Rd&&Qc.lineEnd()},polygonStart:function(){Qc=Kc;Wc=[];fd=[];Re=!0},polygonEnd:function(){for(var je,Ce=je=0,lf=fd.length;Ce<lf;++Ce){var hf=fd[Ce],Kf=1,dg=hf.length,Bd=hf[0],af=Bd[0];for(Bd=Bd[1];Kf<dg;++Kf){var lg=af;var mh=Bd;Bd=hf[Kf];af=Bd[0];Bd=Bd[1];mh<=kb?Bd>kb&&(af-lg)*(kb-mh)>(Bd-mh)*(X-lg)&&++je:Bd<=kb&&(af-lg)*(kb-mh)<(Bd-mh)*(X-lg)&&--je}}Ce=Re&&je;lf=(Wc=q.merge(Wc)).length;if(Ce||lf)yc.polygonStart(),
Ce&&(yc.lineStart(),Bb(null,null,1,yc),yc.lineEnd()),lf&&ma(Wc,wc,je,Bb,yc),yc.polygonEnd();Qc=yc;Wc=fd=hd=null}};return Ae}}function Hb(){wd.point=wd.lineEnd=Ma}function Xb(X,ta){X*=uc;ta*=uc;bd=X;cd=Lb(ta);jd=ld(ta);wd.point=ya}function ya(X,ta){X*=uc;ta*=uc;var Ua=Lb(ta);ta=ld(ta);var kb=kd(X-bd),Bb=ld(kb);kb=Lb(kb);kb*=ta;var mc=jd*Ua-cd*ta*Bb;Bb=cd*Ua+jd*ta*Bb;Fc.add(yd(oe(kb*kb+mc*mc),Bb));bd=X;cd=Ua;jd=ta}function wb(X){Fc=new q.Adder;Ea(X,wd);return+Fc}function Tb(X,ta){Hd[0]=X;Hd[1]=ta;return wb(ge)}
function rb(X,ta){return X&&qe.hasOwnProperty(X.type)?qe[X.type](X,ta):!1}function Sb(X,ta){for(var Ua,kb,Bb,mc=0,wc=X.length;mc<wc;mc++){kb=Tb(X[mc],ta);if(0===kb||0<mc&&(Bb=Tb(X[mc],X[mc-1]),0<Bb&&Ua<=Bb&&kb<=Bb&&(Ua+kb-Bb)*(1-Math.pow((Ua-kb)/Bb,2))<1E-12*Bb))return!0;Ua=kb}return!1}function ic(X,ta){return!!cb(X.map(rc),Tc(ta))}function rc(X){return X=X.map(Tc),X.pop(),X}function Tc(X){return[X[0]*uc,X[1]*uc]}function pc(X,ta,Ua){var kb=q.range(X,ta-1E-6,Ua).concat(ta);return function(Bb){return kb.map(function(mc){return[Bb,
mc]})}}function tb(X,ta,Ua){var kb=q.range(X,ta-1E-6,Ua).concat(ta);return function(Bb){return kb.map(function(mc){return[mc,Bb]})}}function bc(){function X(){return{type:"MultiLineString",coordinates:ta()}}function ta(){return q.range(Od(mc/Kc)*Kc,Bb,Kc).map(ie).concat(q.range(Od(Bc/Wc)*Wc,yc,Wc).map(Td)).concat(q.range(Od(kb/dd)*dd,Ua,dd).filter(function(sd){return 1E-6<kd(sd%Kc)}).map(fd)).concat(q.range(Od(nc/Qc)*Qc,wc,Qc).filter(function(sd){return 1E-6<kd(sd%Wc)}).map(hd))}var Ua,kb,Bb,mc,wc,
nc,yc,Bc,dd=10,Qc=dd,Kc=90,Wc=360,fd,hd,ie,Td,Id=2.5;X.lines=function(){return ta().map(function(sd){return{type:"LineString",coordinates:sd}})};X.outline=function(){return{type:"Polygon",coordinates:[ie(mc).concat(Td(yc).slice(1),ie(Bb).reverse().slice(1),Td(Bc).reverse().slice(1))]}};X.extent=function(sd){return arguments.length?X.extentMajor(sd).extentMinor(sd):X.extentMinor()};X.extentMajor=function(sd){if(!arguments.length)return[[mc,Bc],[Bb,yc]];mc=+sd[0][0];Bb=+sd[1][0];Bc=+sd[0][1];yc=+sd[1][1];
mc>Bb&&(sd=mc,mc=Bb,Bb=sd);Bc>yc&&(sd=Bc,Bc=yc,yc=sd);return X.precision(Id)};X.extentMinor=function(sd){if(!arguments.length)return[[kb,nc],[Ua,wc]];kb=+sd[0][0];Ua=+sd[1][0];nc=+sd[0][1];wc=+sd[1][1];kb>Ua&&(sd=kb,kb=Ua,Ua=sd);nc>wc&&(sd=nc,nc=wc,wc=sd);return X.precision(Id)};X.step=function(sd){return arguments.length?X.stepMajor(sd).stepMinor(sd):X.stepMinor()};X.stepMajor=function(sd){if(!arguments.length)return[Kc,Wc];Kc=+sd[0];Wc=+sd[1];return X};X.stepMinor=function(sd){if(!arguments.length)return[dd,
Qc];dd=+sd[0];Qc=+sd[1];return X};X.precision=function(sd){if(!arguments.length)return Id;Id=+sd;fd=pc(nc,wc,90);hd=tb(kb,Ua,Id);ie=pc(Bc,yc,90);Td=tb(mc,Bb,Id);return X};return X.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Mb(){yf.point=xc}function xc(X,ta){yf.point=Xc;xf=kf=X;Ff=cg=ta}function Xc(X,ta){ef.add(cg*X-kf*ta);kf=X;cg=ta}function ud(){Xc(xf,Ff)}function xd(X,ta){aa+=X;ha+=ta;++Aa}function ae(){Ga.point=Cb}function Cb(X,ta){Ga.point=
Rb;xd(P=X,V=ta)}function Rb(X,ta){var Ua=X-P,kb=ta-V;Ua=oe(Ua*Ua+kb*kb);Xa+=Ua*(P+X)/2;Va+=Ua*(V+ta)/2;lb+=Ua;xd(P=X,V=ta)}function Rc(){Ga.point=xd}function se(){Ga.point=Ne}function De(){Md(m,v)}function Ne(X,ta){Ga.point=Md;xd(m=P=X,v=V=ta)}function Md(X,ta){var Ua=X-P,kb=ta-V;Ua=oe(Ua*Ua+kb*kb);Xa+=Ua*(P+X)/2;Va+=Ua*(V+ta)/2;lb+=Ua;Ua=V*X-P*ta;pb+=Ua*(P+X);Gb+=Ua*(V+ta);Wb+=3*Ua;xd(P=X,V=ta)}function I(X){this._context=X}function da(X,ta){$c.point=bb;Ub=zc=X;ec=Cc=ta}function bb(X,ta){zc-=X;Cc-=
ta;ob.add(oe(zc*zc+Cc*Cc));zc=X;Cc=ta}function La(){this._string=[]}function Fb(X){return"m0,"+X+"a"+X+","+X+" 0 1,1 0,"+-2*X+"a"+X+","+X+" 0 1,1 0,"+2*X+"z"}function Vb(X){return function(ta){var Ua=new Yb,kb;for(kb in X)Ua[kb]=X[kb];Ua.stream=ta;return Ua}}function Yb(){}function cc(X,ta,Ua){var kb=X.clipExtent&&X.clipExtent();X.scale(150).translate([0,0]);null!=kb&&X.clipExtent(null);Ea(Ua,X.stream(U));ta(U.result());null!=kb&&X.clipExtent(kb);return X}function va(X,ta,Ua){return cc(X,function(kb){var Bb=
ta[1][0]-ta[0][0],mc=ta[1][1]-ta[0][1],wc=Math.min(Bb/(kb[1][0]-kb[0][0]),mc/(kb[1][1]-kb[0][1]));Bb=+ta[0][0]+(Bb-wc*(kb[1][0]+kb[0][0]))/2;kb=+ta[0][1]+(mc-wc*(kb[1][1]+kb[0][1]))/2;X.scale(150*wc).translate([Bb,kb])},Ua)}function Qa(X,ta,Ua){return cc(X,function(kb){var Bb=+ta,mc=Bb/(kb[1][0]-kb[0][0]);Bb=(Bb-mc*(kb[1][0]+kb[0][0]))/2;kb=-mc*kb[0][1];X.scale(150*mc).translate([Bb,kb])},Ua)}function yb(X,ta,Ua){return cc(X,function(kb){var Bb=+ta,mc=Bb/(kb[1][1]-kb[0][1]),wc=-mc*kb[0][0];kb=(Bb-
mc*(kb[1][1]+kb[0][1]))/2;X.scale(150*mc).translate([wc,kb])},Ua)}function Nb(X){return Vb({point:function(ta,Ua){ta=X(ta,Ua);this.stream.point(ta[0],ta[1])}})}function gc(X,ta){function Ua(kb,Bb,mc,wc,nc,yc,Bc,dd,Qc,Kc,Wc,fd,hd,ie){var Td=Bc-kb,Id=dd-Bb,sd=Td*Td+Id*Id;if(sd>4*ta&&hd--){var ed=wc+Kc,Rd=nc+Wc,Ie=yc+fd,Re=oe(ed*ed+Rd*Rd+Ie*Ie),Ae=Pa(Ie/=Re),je=1E-6>kd(kd(Ie)-1)||1E-6>kd(mc-Qc)?(mc+Qc)/2:yd(Rd,ed),Ce=X(je,Ae);Ae=Ce[0];Ce=Ce[1];var lf=Ae-kb,hf=Ce-Bb,Kf=Id*lf-Td*hf;if(Kf*Kf/sd>ta||.3<
kd((Td*lf+Id*hf)/sd-.5)||wc*Kc+nc*Wc+yc*fd<qd)Ua(kb,Bb,mc,wc,nc,yc,Ae,Ce,je,ed/=Re,Rd/=Re,Ie,hd,ie),ie.point(Ae,Ce),Ua(Ae,Ce,je,ed,Rd,Ie,Bc,dd,Qc,Kc,Wc,fd,hd,ie)}}return function(kb){function Bb(Ae,je){Ae=X(Ae,je);kb.point(Ae[0],Ae[1])}function mc(){Id=NaN;Re.point=wc;kb.lineStart()}function wc(Ae,je){var Ce=Ha([Ae,je]);je=X(Ae,je);Ua(Id,sd,Td,ed,Rd,Ie,Id=je[0],sd=je[1],Td=Ae,ed=Ce[0],Rd=Ce[1],Ie=Ce[2],16,kb);kb.point(Id,sd)}function nc(){Re.point=Bb;kb.lineEnd()}function yc(){mc();Re.point=Bc;Re.lineEnd=
dd}function Bc(Ae,je){wc(Qc=Ae,je);Kc=Id;Wc=sd;fd=ed;hd=Rd;ie=Ie;Re.point=wc}function dd(){Ua(Id,sd,Td,ed,Rd,Ie,Kc,Wc,Qc,fd,hd,ie,16,kb);Re.lineEnd=nc;nc()}var Qc,Kc,Wc,fd,hd,ie,Td,Id,sd,ed,Rd,Ie,Re={point:Bb,lineStart:mc,lineEnd:nc,polygonStart:function(){kb.polygonStart();Re.lineStart=yc},polygonEnd:function(){kb.polygonEnd();Re.lineStart=mc}};return Re}}function tc(X){return Vb({point:function(ta,Ua){ta=X(ta,Ua);return this.stream.point(ta[0],ta[1])}})}function lc(X,ta,Ua,kb,Bb){function mc(wc,
nc){wc*=kb;nc*=Bb;return[ta+X*wc,Ua-X*nc]}mc.invert=function(wc,nc){return[(wc-ta)/X*kb,(Ua-nc)/X*Bb]};return mc}function xb(X,ta,Ua,kb,Bb,mc){function wc(fd,hd){fd*=kb;hd*=Bb;return[yc*fd-Bc*hd+ta,Ua-Bc*fd-yc*hd]}if(!mc)return lc(X,ta,Ua,kb,Bb);var nc=ld(mc);mc=Lb(mc);var yc=nc*X,Bc=mc*X,dd=nc/X,Qc=mc/X,Kc=(mc*Ua-nc*ta)/X,Wc=(mc*ta+nc*Ua)/X;wc.invert=function(fd,hd){return[kb*(dd*fd-Qc*hd+Kc),Bb*(Wc-Qc*fd-dd*hd)]};return wc}function Qb(X){return Gc(function(){return X})()}function Gc(X){function ta(Bd){return hf(Bd[0]*
uc,Bd[1]*uc)}function Ua(Bd){return(Bd=hf.invert(Bd[0],Bd[1]))&&[Bd[0]*qc,Bd[1]*qc]}function kb(){var Bd=xb(wc,0,0,ie,Td,hd).apply(null,mc(Bc,dd));Bd=xb(wc,nc-Bd[0],yc-Bd[1],ie,Td,hd);fd=W(Qc,Kc,Wc);lf=fa(mc,Bd);hf=fa(fd,lf);Bd=lf;Ce=+je?gc(Bd,je):Nb(Bd);return Bb()}function Bb(){Kf=dg=null;return ta}var mc,wc=150,nc=480,yc=250,Bc=0,dd=0,Qc=0,Kc=0,Wc=0,fd,hd=0,ie=1,Td=1,Id=null,sd=Oc,ed=null,Rd,Ie,Re,Ae=he,je=.5,Ce,lf,hf,Kf,dg;ta.stream=function(Bd){return Kf&&dg===Bd?Kf:Kf=Mc(tc(fd)(sd(Ce(Ae(dg=
Bd)))))};ta.preclip=function(Bd){return arguments.length?(sd=Bd,Id=void 0,Bb()):sd};ta.postclip=function(Bd){return arguments.length?(Ae=Bd,ed=Rd=Ie=Re=null,Bb()):Ae};ta.clipAngle=function(Bd){return arguments.length?(sd=+Bd?ra(Id=Bd*uc):(Id=null,Oc),Bb()):Id*qc};ta.clipExtent=function(Bd){return arguments.length?(Ae=null==Bd?(ed=Rd=Ie=Re=null,he):mb(ed=+Bd[0][0],Rd=+Bd[0][1],Ie=+Bd[1][0],Re=+Bd[1][1]),Bb()):null==ed?null:[[ed,Rd],[Ie,Re]]};ta.scale=function(Bd){return arguments.length?(wc=+Bd,kb()):
wc};ta.translate=function(Bd){return arguments.length?(nc=+Bd[0],yc=+Bd[1],kb()):[nc,yc]};ta.center=function(Bd){return arguments.length?(Bc=Bd[0]%360*uc,dd=Bd[1]%360*uc,kb()):[Bc*qc,dd*qc]};ta.rotate=function(Bd){return arguments.length?(Qc=Bd[0]%360*uc,Kc=Bd[1]%360*uc,Wc=2<Bd.length?Bd[2]%360*uc:0,kb()):[Qc*qc,Kc*qc,Wc*qc]};ta.angle=function(Bd){return arguments.length?(hd=Bd%360*uc,kb()):hd*qc};ta.reflectX=function(Bd){return arguments.length?(ie=Bd?-1:1,kb()):0>ie};ta.reflectY=function(Bd){return arguments.length?
(Td=Bd?-1:1,kb()):0>Td};ta.precision=function(Bd){if(arguments.length){var af=lf;var lg=je=Bd*Bd;af=(Ce=+lg?gc(af,lg):Nb(af),Bb())}else af=oe(je);return af};ta.fitExtent=function(Bd,af){return va(ta,Bd,af)};ta.fitSize=function(Bd,af){return va(ta,[[0,0],Bd],af)};ta.fitWidth=function(Bd,af){return Qa(ta,Bd,af)};ta.fitHeight=function(Bd,af){return yb(ta,Bd,af)};return function(){mc=X.apply(this,arguments);ta.invert=mc.invert&&Ua;return kb()}}function $b(X){var ta=0,Ua=Sa/3,kb=Gc(X);X=kb(ta,Ua);X.parallels=
function(Bb){return arguments.length?kb(ta=Bb[0]*uc,Ua=Bb[1]*uc):[ta*qc,Ua*qc]};return X}function Ac(X){function ta(kb,Bb){return[kb*Ua,Lb(Bb)/Ua]}var Ua=ld(X);ta.invert=function(kb,Bb){return[kb/Ua,Pa(Bb*Ua)]};return ta}function Jc(X,ta){function Ua(nc,yc){yc=oe(mc-2*Bb*Lb(yc))/Bb;return[yc*Lb(nc*=Bb),wc-yc*ld(nc)]}var kb=Lb(X),Bb=(kb+Lb(ta))/2;if(1E-6>kd(Bb))return Ac(X);var mc=1+kb*(2*Bb-kb),wc=oe(mc)/Bb;Ua.invert=function(nc,yc){yc=wc-yc;var Bc=yd(nc,kd(yc))*Ke(yc);0>yc*Bb&&(Bc-=Sa*Ke(nc)*Ke(yc));
return[Bc/Bb,Pa((mc-(nc*nc+yc*yc)*Bb*Bb)/(2*Bb))]};return Ua}function Hc(){return $b(Jc).scale(155.424).center([0,33.6442])}function ad(){return Hc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function md(X){var ta=X.length;return{point:function(Ua,kb){for(var Bb=-1;++Bb<ta;)X[Bb].point(Ua,kb)},sphere:function(){for(var Ua=-1;++Ua<ta;)X[Ua].sphere()},lineStart:function(){for(var Ua=-1;++Ua<ta;)X[Ua].lineStart()},lineEnd:function(){for(var Ua=-1;++Ua<
ta;)X[Ua].lineEnd()},polygonStart:function(){for(var Ua=-1;++Ua<ta;)X[Ua].polygonStart()},polygonEnd:function(){for(var Ua=-1;++Ua<ta;)X[Ua].polygonEnd()}}}function od(X){return function(ta,Ua){var kb=ld(ta),Bb=ld(Ua);kb=X(kb*Bb);return Infinity===kb?[2,0]:[kb*Bb*Lb(ta),kb*Lb(Ua)]}}function rd(X){return function(ta,Ua){var kb=oe(ta*ta+Ua*Ua),Bb=X(kb),mc=Lb(Bb);Bb=ld(Bb);return[yd(ta*mc,kb*Bb),Pa(kb&&Ua*mc/kb)]}}function Vd(X,ta){return[X,Wd(re((Pb+ta)/2))]}function Zd(X){function ta(){var Qc=Sa*Bb(),
Kc=Ua(k(Ua.rotate()).invert([0,0]));return wc(null==nc?[[Kc[0]-Qc,Kc[1]-Qc],[Kc[0]+Qc,Kc[1]+Qc]]:X===Vd?[[Math.max(Kc[0]-Qc,nc),yc],[Math.min(Kc[0]+Qc,Bc),dd]]:[[nc,Math.max(Kc[1]-Qc,yc)],[Bc,Math.min(Kc[1]+Qc,dd)]])}var Ua=Qb(X),kb=Ua.center,Bb=Ua.scale,mc=Ua.translate,wc=Ua.clipExtent,nc=null,yc,Bc,dd;Ua.scale=function(Qc){return arguments.length?(Bb(Qc),ta()):Bb()};Ua.translate=function(Qc){return arguments.length?(mc(Qc),ta()):mc()};Ua.center=function(Qc){return arguments.length?(kb(Qc),ta()):
kb()};Ua.clipExtent=function(Qc){return arguments.length?(null==Qc?nc=yc=Bc=dd=null:(nc=+Qc[0][0],yc=+Qc[0][1],Bc=+Qc[1][0],dd=+Qc[1][1]),ta()):null==nc?null:[[nc,yc],[Bc,dd]]};return ta()}function ze(X,ta){function Ua(wc,nc){0<mc?nc<-Pb+1E-6&&(nc=-Pb+1E-6):nc>Pb-1E-6&&(nc=Pb-1E-6);nc=mc/Jd(re((Pb+nc)/2),Bb);return[nc*Lb(Bb*wc),mc-nc*ld(Bb*wc)]}var kb=ld(X),Bb=X===ta?Lb(X):Wd(kb/ld(ta))/Wd(re((Pb+ta)/2)/re((Pb+X)/2)),mc=kb*Jd(re((Pb+X)/2),Bb)/Bb;if(!Bb)return Vd;Ua.invert=function(wc,nc){nc=mc-nc;
var yc=Ke(Bb)*oe(wc*wc+nc*nc),Bc=yd(wc,kd(nc))*Ke(nc);0>nc*Bb&&(Bc-=Sa*Ke(wc)*Ke(nc));return[Bc/Bb,2*pd(Jd(mc/yc,1/Bb))-Pb]};return Ua}function te(X,ta){return[X,ta]}function ue(X,ta){function Ua(wc,nc){nc=mc-nc;wc*=Bb;return[nc*Lb(wc),mc-nc*ld(wc)]}var kb=ld(X),Bb=X===ta?Lb(X):(kb-ld(ta))/(ta-X),mc=kb/Bb+X;if(1E-6>kd(Bb))return te;Ua.invert=function(wc,nc){nc=mc-nc;var yc=yd(wc,kd(nc))*Ke(nc);0>nc*Bb&&(yc-=Sa*Ke(wc)*Ke(nc));return[yc/Bb,mc-Ke(Bb)*oe(wc*wc+nc*nc)]};return Ua}function bf(X,ta){ta=
Pa(we*Lb(ta));var Ua=ta*ta,kb=Ua*Ua*Ua;return[X*ld(ta)/(we*(1.340264+3*-.081106*Ua+kb*(7*8.93E-4+.034164*Ua))),ta*(1.340264+-.081106*Ua+kb*(8.93E-4+.003796*Ua))]}function vd(X,ta){var Ua=ld(ta),kb=ld(X)*Ua;return[Ua*Lb(X)/kb,Lb(ta)/kb]}function N(X,ta){var Ua=ta*ta,kb=Ua*Ua;return[X*(.8707-.131979*Ua+kb*(-.013791+kb*(.003971*Ua-.001529*kb))),ta*(1.007226+Ua*(.015085+kb*(-.044475+.028874*Ua-.005916*kb)))]}function na(X,ta){return[ld(ta)*Lb(X),Lb(ta)]}function Da(X,ta){var Ua=ld(ta),kb=1+ld(X)*Ua;return[Ua*
Lb(X)/kb,Lb(ta)/kb]}function gb(X,ta){return[Wd(re((Pb+ta)/2)),-X]}var Sa=Math.PI,Pb=Sa/2,kc=Sa/4,oc=2*Sa,qc=180/Sa,uc=Sa/180,kd=Math.abs,pd=Math.atan,yd=Math.atan2,ld=Math.cos,Od=Math.ceil,de=Math.exp,jc=Math.hypot,Wd=Math.log,Jd=Math.pow,Lb=Math.sin,Ke=Math.sign||function(X){return 0<X?1:0>X?-1:0},oe=Math.sqrt,re=Math.tan,Ye={Feature:function(X,ta){db(X.geometry,ta)},FeatureCollection:function(X,ta){X=X.features;for(var Ua=-1,kb=X.length;++Ua<kb;)db(X[Ua].geometry,ta)}},Oe={Sphere:function(X,ta){ta.sphere()},
Point:function(X,ta){X=X.coordinates;ta.point(X[0],X[1],X[2])},MultiPoint:function(X,ta){for(var Ua=X.coordinates,kb=-1,Bb=Ua.length;++kb<Bb;)X=Ua[kb],ta.point(X[0],X[1],X[2])},LineString:function(X,ta){Eb(X.coordinates,ta,0)},MultiLineString:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)Eb(X[Ua],ta,0)},Polygon:function(X,ta){qb(X.coordinates,ta)},MultiPolygon:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)qb(X[Ua],ta)},GeometryCollection:function(X,ta){X=X.geometries;
for(var Ua=-1,kb=X.length;++Ua<kb;)db(X[Ua],ta)}},ff=new q.Adder,He=new q.Adder,be,fc,Pd,dc,Yc,ne={point:Ma,lineStart:Ma,lineEnd:Ma,polygonStart:function(){ff=new q.Adder;ne.lineStart=ab;ne.lineEnd=fb},polygonEnd:function(){var X=+ff;He.add(0>X?oc+X:X);this.lineStart=this.lineEnd=this.point=Ma},sphere:function(){He.add(oc)}},ee,Pc,fe,Sd,Ld,Qd,Ed,ke,Gd,pe,Le,cf={point:Oa,lineStart:ia,lineEnd:wa,polygonStart:function(){cf.point=sa;cf.lineStart=qa;cf.lineEnd=Fa;Gd=new q.Adder;ne.polygonStart()},polygonEnd:function(){ne.polygonEnd();
cf.point=Oa;cf.lineStart=ia;cf.lineEnd=wa;0>ff?(ee=-(fe=180),Pc=-(Sd=90)):1E-6<Gd?Sd=90:-1E-6>Gd&&(Pc=-90);Le[0]=ee;Le[1]=fe},sphere:function(){ee=-(fe=180);Pc=-(Sd=90)}},qf,gd,rf,Fe,Pe,Ee,$e,Qe,df,Be,C,Q,Na,Ab,zb,Ib,ac={sphere:Ma,point:y,lineStart:G,lineEnd:F,polygonStart:function(){ac.lineStart=M;ac.lineEnd=ka},polygonEnd:function(){ac.lineStart=G;ac.lineEnd=F}};Y.invert=Y;var Oc=Ba(function(){return!0},function(X){var ta=NaN,Ua=NaN,kb=NaN,Bb;return{lineStart:function(){X.lineStart();Bb=1},point:function(mc,
wc){var nc=0<mc?Sa:-Sa,yc=kd(mc-ta);if(1E-6>kd(yc-Sa))X.point(ta,Ua=0<(Ua+wc)/2?Pb:-Pb),X.point(kb,Ua),X.lineEnd(),X.lineStart(),X.point(nc,Ua),X.point(mc,Ua),Bb=0;else if(kb!==nc&&yc>=Sa){1E-6>kd(ta-kb)&&(ta-=1E-6*kb);1E-6>kd(mc-nc)&&(mc-=1E-6*nc);yc=ta;var Bc=Ua,dd=mc,Qc,Kc,Wc=Lb(yc-dd);Ua=1E-6<kd(Wc)?pd((Lb(Bc)*(Kc=ld(wc))*Lb(dd)-Lb(wc)*(Qc=ld(Bc))*Lb(yc))/(Qc*Kc*Wc)):(Bc+wc)/2;X.point(kb,Ua);X.lineEnd();X.lineStart();X.point(nc,Ua);Bb=0}X.point(ta=mc,Ua=wc);kb=nc},lineEnd:function(){X.lineEnd();
ta=Ua=NaN},clean:function(){return 2-Bb}}},function(X,ta,Ua,kb){null==X?(Ua*=Pb,kb.point(-Sa,Ua),kb.point(0,Ua),kb.point(Sa,Ua),kb.point(Sa,0),kb.point(Sa,-Ua),kb.point(0,-Ua),kb.point(-Sa,-Ua),kb.point(-Sa,0),kb.point(-Sa,Ua)):1E-6<kd(X[0]-ta[0])?(X=X[0]<ta[0]?Sa:-Sa,Ua=Ua*X/2,kb.point(-X,Ua),kb.point(0,Ua),kb.point(X,Ua)):kb.point(ta[0],ta[1])},[-Sa,-Pb]),Fc,bd,cd,jd,wd={sphere:Ma,point:Ma,lineStart:function(){wd.point=Xb;wd.lineEnd=Hb},lineEnd:Ma,polygonStart:Ma,polygonEnd:Ma},Hd=[null,null],ge=
{type:"LineString",coordinates:Hd},me={Feature:function(X,ta){return rb(X.geometry,ta)},FeatureCollection:function(X,ta){X=X.features;for(var Ua=-1,kb=X.length;++Ua<kb;)if(rb(X[Ua].geometry,ta))return!0;return!1}},qe={Sphere:function(){return!0},Point:function(X,ta){return 0===Tb(X.coordinates,ta)},MultiPoint:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)if(0===Tb(X[Ua],ta))return!0;return!1},LineString:function(X,ta){return Sb(X.coordinates,ta)},MultiLineString:function(X,ta){X=
X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)if(Sb(X[Ua],ta))return!0;return!1},Polygon:function(X,ta){return ic(X.coordinates,ta)},MultiPolygon:function(X,ta){X=X.coordinates;for(var Ua=-1,kb=X.length;++Ua<kb;)if(ic(X[Ua],ta))return!0;return!1},GeometryCollection:function(X,ta){X=X.geometries;for(var Ua=-1,kb=X.length;++Ua<kb;)if(rb(X[Ua],ta))return!0;return!1}},he=function(X){return X},Fd=new q.Adder,ef=new q.Adder,xf,Ff,kf,cg,yf={point:Ma,lineStart:Ma,lineEnd:Ma,polygonStart:function(){yf.lineStart=
Mb;yf.lineEnd=ud},polygonEnd:function(){yf.lineStart=yf.lineEnd=yf.point=Ma;Fd.add(kd(ef));ef=new q.Adder},result:function(){var X=Fd/2;Fd=new q.Adder;return X}},Xf=Infinity,A=Xf,B=-Xf,K=B,U={point:function(X,ta){X<Xf&&(Xf=X);X>B&&(B=X);ta<A&&(A=ta);ta>K&&(K=ta)},lineStart:Ma,lineEnd:Ma,polygonStart:Ma,polygonEnd:Ma,result:function(){var X=[[Xf,A],[B,K]];B=K=-(A=Xf=Infinity);return X}},aa=0,ha=0,Aa=0,Xa=0,Va=0,lb=0,pb=0,Gb=0,Wb=0,m,v,P,V,Ga={point:xd,lineStart:ae,lineEnd:Rc,polygonStart:function(){Ga.lineStart=
se;Ga.lineEnd=De},polygonEnd:function(){Ga.point=xd;Ga.lineStart=ae;Ga.lineEnd=Rc},result:function(){var X=Wb?[pb/Wb,Gb/Wb]:lb?[Xa/lb,Va/lb]:Aa?[aa/Aa,ha/Aa]:[NaN,NaN];aa=ha=Aa=Xa=Va=lb=pb=Gb=Wb=0;return X}};I.prototype={_radius:4.5,pointRadius:function(X){return this._radius=X,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(X,ta){switch(this._point){case 0:this._context.moveTo(X,
ta);this._point=1;break;case 1:this._context.lineTo(X,ta);break;default:this._context.moveTo(X+this._radius,ta),this._context.arc(X,ta,this._radius,0,oc)}},result:Ma};var ob=new q.Adder,Db,Ub,ec,zc,Cc,$c={point:Ma,lineStart:function(){$c.point=da},lineEnd:function(){Db&&bb(Ub,ec);$c.point=Ma},polygonStart:function(){Db=!0},polygonEnd:function(){Db=null},result:function(){var X=+ob;ob=new q.Adder;return X}};La.prototype={_radius:4.5,_circle:Fb(4.5),pointRadius:function(X){(X=+X)!==this._radius&&(this._radius=
X,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(X,ta){switch(this._point){case 0:this._string.push("M",X,",",ta);this._point=1;break;case 1:this._string.push("L",X,",",ta);break;default:null==this._circle&&(this._circle=Fb(this._radius)),this._string.push("M",X,",",ta,this._circle)}},result:function(){if(this._string.length){var X=
this._string.join("");this._string=[];return X}return null}};Yb.prototype={constructor:Yb,point:function(X,ta){this.stream.point(X,ta)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var qd=ld(30*uc),Mc=Vb({point:function(X,ta){this.stream.point(X*uc,ta*uc)}}),Ad=od(function(X){return oe(2/(1+X))});Ad.invert=rd(function(X){return 2*
Pa(X/2)});var Cd=od(function(X){return(X=S(X))&&X/Lb(X)});Cd.invert=rd(function(X){return X});Vd.invert=function(X,ta){return[X,2*pd(de(ta))-Pb]};te.invert=te;var we=oe(3)/2;bf.invert=function(X,ta){for(var Ua=ta,kb=Ua*Ua,Bb=kb*kb*kb,mc=0,wc;12>mc&&!(wc=Ua*(1.340264+-.081106*kb+Bb*(8.93E-4+.003796*kb))-ta,kb=1.340264+3*-.081106*kb+Bb*(7*8.93E-4+.034164*kb),Ua-=wc/=kb,kb=Ua*Ua,Bb=kb*kb*kb,1E-12>kd(wc));++mc);return[we*X*(1.340264+3*-.081106*kb+Bb*(7*8.93E-4+.034164*kb))/ld(Ua),Pa(Lb(Ua)/we)]};vd.invert=
rd(pd);N.invert=function(X,ta){var Ua=ta,kb=25;do{var Bb=Ua*Ua;var mc=Bb*Bb;Ua-=mc=(Ua*(1.007226+Bb*(.015085+mc*(-.044475+.028874*Bb-.005916*mc)))-ta)/(1.007226+Bb*(.045255+mc*(-.311325+.259866*Bb-.005916*11*mc)))}while(1E-6<kd(mc)&&0<--kb);return[X/(.8707+(Bb=Ua*Ua)*(-.131979+Bb*(-.013791+Bb*Bb*Bb*(.003971-.001529*Bb)))),Ua]};na.invert=rd(Pa);Da.invert=rd(function(X){return 2*pd(X)});gb.invert=function(X,ta){return[-ta,2*pd(de(X))-Pb]};n.geoAlbers=ad;n.geoAlbersUsa=function(){function X(Kc){var Wc=
Kc[0];Kc=Kc[1];return dd=null,(mc.point(Wc,Kc),dd)||(nc.point(Wc,Kc),dd)||(Bc.point(Wc,Kc),dd)}function ta(){Ua=kb=null;return X}var Ua,kb,Bb=ad(),mc,wc=Hc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),nc,yc=Hc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Bc,dd,Qc={point:function(Kc,Wc){dd=[Kc,Wc]}};X.invert=function(Kc){var Wc=Bb.scale(),fd=Bb.translate(),hd=(Kc[0]-fd[0])/Wc;Wc=(Kc[1]-fd[1])/Wc;return(.12<=Wc&&.234>Wc&&-.425<=hd&&-.214>hd?wc:.166<=Wc&&.234>Wc&&-.214<=hd&&-.115>
hd?yc:Bb).invert(Kc)};X.stream=function(Kc){return Ua&&kb===Kc?Ua:Ua=md([Bb.stream(kb=Kc),wc.stream(Kc),yc.stream(Kc)])};X.precision=function(Kc){if(!arguments.length)return Bb.precision();Bb.precision(Kc);wc.precision(Kc);yc.precision(Kc);return ta()};X.scale=function(Kc){if(!arguments.length)return Bb.scale();Bb.scale(Kc);wc.scale(.35*Kc);yc.scale(Kc);return X.translate(Bb.translate())};X.translate=function(Kc){if(!arguments.length)return Bb.translate();var Wc=Bb.scale(),fd=+Kc[0],hd=+Kc[1];mc=
Bb.translate(Kc).clipExtent([[fd-.455*Wc,hd-.238*Wc],[fd+.455*Wc,hd+.238*Wc]]).stream(Qc);nc=wc.translate([fd-.307*Wc,hd+.201*Wc]).clipExtent([[fd-.425*Wc+1E-6,hd+.12*Wc+1E-6],[fd-.214*Wc-1E-6,hd+.234*Wc-1E-6]]).stream(Qc);Bc=yc.translate([fd-.205*Wc,hd+.212*Wc]).clipExtent([[fd-.214*Wc+1E-6,hd+.166*Wc+1E-6],[fd-.115*Wc-1E-6,hd+.234*Wc-1E-6]]).stream(Qc);return ta()};X.fitExtent=function(Kc,Wc){return va(X,Kc,Wc)};X.fitSize=function(Kc,Wc){return va(X,[[0,0],Kc],Wc)};X.fitWidth=function(Kc,Wc){return Qa(X,
Kc,Wc)};X.fitHeight=function(Kc,Wc){return yb(X,Kc,Wc)};return X.scale(1070)};n.geoArea=function(X){He=new q.Adder;Ea(X,ne);return 2*He};n.geoAzimuthalEqualArea=function(){return Qb(Ad).scale(124.75).clipAngle(179.999)};n.geoAzimuthalEqualAreaRaw=Ad;n.geoAzimuthalEquidistant=function(){return Qb(Cd).scale(79.4188).clipAngle(179.999)};n.geoAzimuthalEquidistantRaw=Cd;n.geoBounds=function(X){var ta,Ua,kb;Sd=fe=-(ee=Pc=Infinity);pe=[];Ea(X,cf);if(ta=pe.length){pe.sort(Za);X=1;var Bb=pe[0];for(Ua=[Bb];X<
ta;++X){var mc=pe[X];jb(Bb,mc[0])||jb(Bb,mc[1])?(Ca(Bb[0],mc[1])>Ca(Bb[0],Bb[1])&&(Bb[1]=mc[1]),Ca(mc[0],Bb[1])>Ca(Bb[0],Bb[1])&&(Bb[0]=mc[0])):Ua.push(Bb=mc)}var wc=-Infinity;ta=Ua.length-1;X=0;for(Bb=Ua[ta];X<=ta;Bb=mc,++X)mc=Ua[X],(kb=Ca(Bb[1],mc[0]))>wc&&(wc=kb,ee=mc[0],fe=Bb[1])}pe=Le=null;return Infinity===ee||Infinity===Pc?[[NaN,NaN],[NaN,NaN]]:[[ee,Pc],[fe,Sd]]};n.geoCentroid=function(X){qf=gd=rf=Fe=Pe=Ee=$e=Qe=0;df=new q.Adder;Be=new q.Adder;C=new q.Adder;Ea(X,ac);X=+df;var ta=+Be,Ua=+C,
kb=jc(X,ta,Ua);return 1E-12>kb&&(X=Ee,ta=$e,Ua=Qe,1E-6>gd&&(X=rf,ta=Fe,Ua=Pe),kb=jc(X,ta,Ua),1E-12>kb)?[NaN,NaN]:[yd(ta,X)*qc,Pa(Ua/kb)*qc]};n.geoCircle=function(){function X(){var nc=ta.apply(this,arguments),yc=Ua.apply(this,arguments)*uc,Bc=kb.apply(this,arguments)*uc;Bb=[];mc=W(-nc[0]*uc,-nc[1]*uc,0).invert;p(wc,yc,Bc,1);nc={type:"Polygon",coordinates:[Bb]};Bb=mc=null;return nc}var ta=D([0,0]),Ua=D(90),kb=D(6),Bb,mc,wc={point:function(nc,yc){Bb.push(nc=mc(nc,yc));nc[0]*=qc;nc[1]*=qc}};X.center=
function(nc){return arguments.length?(ta="function"===typeof nc?nc:D([+nc[0],+nc[1]]),X):ta};X.radius=function(nc){return arguments.length?(Ua="function"===typeof nc?nc:D(+nc),X):Ua};X.precision=function(nc){return arguments.length?(kb="function"===typeof nc?nc:D(+nc),X):kb};return X};n.geoClipAntimeridian=Oc;n.geoClipCircle=ra;n.geoClipExtent=function(){var X=0,ta=0,Ua=960,kb=500,Bb,mc,wc;return wc={stream:function(nc){return Bb&&mc===nc?Bb:Bb=mb(X,ta,Ua,kb)(mc=nc)},extent:function(nc){return arguments.length?
(X=+nc[0][0],ta=+nc[0][1],Ua=+nc[1][0],kb=+nc[1][1],Bb=mc=null,wc):[[X,ta],[Ua,kb]]}}};n.geoClipRectangle=mb;n.geoConicConformal=function(){return $b(ze).scale(109.5).parallels([30,30])};n.geoConicConformalRaw=ze;n.geoConicEqualArea=Hc;n.geoConicEqualAreaRaw=Jc;n.geoConicEquidistant=function(){return $b(ue).scale(131.154).center([0,13.9389])};n.geoConicEquidistantRaw=ue;n.geoContains=function(X,ta){return(X&&me.hasOwnProperty(X.type)?me[X.type]:rb)(X,ta)};n.geoDistance=Tb;n.geoEqualEarth=function(){return Qb(bf).scale(177.158)};
n.geoEqualEarthRaw=bf;n.geoEquirectangular=function(){return Qb(te).scale(152.63)};n.geoEquirectangularRaw=te;n.geoGnomonic=function(){return Qb(vd).scale(144.049).clipAngle(60)};n.geoGnomonicRaw=vd;n.geoGraticule=bc;n.geoGraticule10=function(){return bc()()};n.geoIdentity=function(){function X(){fd=Ua*mc;hd=Ua*wc;Id=sd=null;return ta}function ta(ed){var Rd=ed[0]*fd;ed=ed[1]*hd;if(nc){var Ie=ed*yc-Rd*Bc;Rd=Rd*yc+ed*Bc;ed=Ie}return[Rd+kb,ed+Bb]}var Ua=1,kb=0,Bb=0,mc=1,wc=1,nc=0,yc,Bc,dd=null,Qc,Kc,
Wc,fd=1,hd=1,ie=Vb({point:function(ed,Rd){ed=ta([ed,Rd]);this.stream.point(ed[0],ed[1])}}),Td=he,Id,sd;ta.invert=function(ed){var Rd=ed[0]-kb;ed=ed[1]-Bb;if(nc){var Ie=ed*yc+Rd*Bc;Rd=Rd*yc-ed*Bc;ed=Ie}return[Rd/fd,ed/hd]};ta.stream=function(ed){return Id&&sd===ed?Id:Id=ie(Td(sd=ed))};ta.postclip=function(ed){return arguments.length?(Td=ed,dd=Qc=Kc=Wc=null,X()):Td};ta.clipExtent=function(ed){return arguments.length?(Td=null==ed?(dd=Qc=Kc=Wc=null,he):mb(dd=+ed[0][0],Qc=+ed[0][1],Kc=+ed[1][0],Wc=+ed[1][1]),
X()):null==dd?null:[[dd,Qc],[Kc,Wc]]};ta.scale=function(ed){return arguments.length?(Ua=+ed,X()):Ua};ta.translate=function(ed){return arguments.length?(kb=+ed[0],Bb=+ed[1],X()):[kb,Bb]};ta.angle=function(ed){return arguments.length?(nc=ed%360*uc,Bc=Lb(nc),yc=ld(nc),X()):nc*qc};ta.reflectX=function(ed){return arguments.length?(mc=ed?-1:1,X()):0>mc};ta.reflectY=function(ed){return arguments.length?(wc=ed?-1:1,X()):0>wc};ta.fitExtent=function(ed,Rd){return va(ta,ed,Rd)};ta.fitSize=function(ed,Rd){return va(ta,
[[0,0],ed],Rd)};ta.fitWidth=function(ed,Rd){return Qa(ta,ed,Rd)};ta.fitHeight=function(ed,Rd){return yb(ta,ed,Rd)};return ta};n.geoInterpolate=function(X,ta){var Ua=X[0]*uc,kb=X[1]*uc;X=ta[0]*uc;ta=ta[1]*uc;var Bb=ld(kb),mc=Lb(kb),wc=ld(ta),nc=Lb(ta),yc=Bb*ld(Ua),Bc=Bb*Lb(Ua),dd=wc*ld(X),Qc=wc*Lb(X),Kc=2*Pa(oe(Kb(ta-kb)+Bb*wc*Kb(X-Ua))),Wc=Lb(Kc);X=Kc?function(fd){var hd=Lb(fd*=Kc)/Wc,ie=Lb(Kc-fd)/Wc;fd=ie*yc+hd*dd;var Td=ie*Bc+hd*Qc;hd=ie*mc+hd*nc;return[yd(Td,fd)*qc,yd(hd,oe(fd*fd+Td*Td))*qc]}:
function(){return[Ua*qc,kb*qc]};X.distance=Kc;return X};n.geoLength=wb;n.geoMercator=function(){return Zd(Vd).scale(961/oc)};n.geoMercatorRaw=Vd;n.geoNaturalEarth1=function(){return Qb(N).scale(175.295)};n.geoNaturalEarth1Raw=N;n.geoOrthographic=function(){return Qb(na).scale(249.5).clipAngle(90.000001)};n.geoOrthographicRaw=na;n.geoPath=function(X,ta){function Ua(wc){wc&&("function"===typeof kb&&mc.pointRadius(+kb.apply(this,arguments)),Ea(wc,Bb(mc)));return mc.result()}var kb=4.5,Bb,mc;Ua.area=
function(wc){Ea(wc,Bb(yf));return yf.result()};Ua.measure=function(wc){Ea(wc,Bb($c));return $c.result()};Ua.bounds=function(wc){Ea(wc,Bb(U));return U.result()};Ua.centroid=function(wc){Ea(wc,Bb(Ga));return Ga.result()};Ua.projection=function(wc){return arguments.length?(Bb=null==wc?(X=null,he):(X=wc).stream,Ua):X};Ua.context=function(wc){if(!arguments.length)return ta;mc=null==wc?(ta=null,new La):new I(ta=wc);"function"!==typeof kb&&mc.pointRadius(kb);return Ua};Ua.pointRadius=function(wc){if(!arguments.length)return kb;
kb="function"===typeof wc?wc:(mc.pointRadius(+wc),+wc);return Ua};return Ua.projection(X).context(ta)};n.geoProjection=Qb;n.geoProjectionMutator=Gc;n.geoRotation=k;n.geoStereographic=function(){return Qb(Da).scale(250).clipAngle(142)};n.geoStereographicRaw=Da;n.geoStream=Ea;n.geoTransform=function(X){return{stream:Vb(X)}};n.geoTransverseMercator=function(){var X=Zd(gb),ta=X.center,Ua=X.rotate;X.center=function(kb){return arguments.length?ta([-kb[1],kb[0]]):(kb=ta(),[kb[1],-kb[0]])};X.rotate=function(kb){return arguments.length?
Ua([kb[0],kb[1],2<kb.length?kb[2]+90:90]):(kb=Ua(),[kb[0],kb[1],kb[2]-90])};return Ua([0,0,90]).scale(159.155)};n.geoTransverseMercatorRaw=gb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[26]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(25),sb(1)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],q):q(n.d3=n.d3||{},n.d3,n.d3)})(this,function(n,q,S){function Pa(A){return 1<A?Yc:-1>A?-Yc:Math.asin(A)}function Kb(A){return 1<A?0:-1>A?dc:Math.acos(A)}function Ma(A){return 0<A?Math.sqrt(A):0}function db(A){return(Ke(A)-Ke(-A))/2}function Eb(A){return(Ke(A)+Ke(-A))/2}function qb(A){function B(aa,ha){var Aa=
Lb(aa),Xa=Lb(ha);ha=fc(ha);Aa*=Xa;Aa=-((1-Aa?re((1+Aa)/2)/(1-Aa):-.5)+U/(1+Aa));return[Aa*Xa*fc(aa),Aa*ha]}var K=Pd(A/2),U=2*re(Lb(A/2))/(K*K);B.invert=function(aa,ha){var Aa=Ma(aa*aa+ha*ha),Xa=-A/2,Va=50;if(!Aa)return[0,0];do{var lb=Xa/2;var pb=Lb(lb);lb=fc(lb);var Gb=lb/pb,Wb=-re(jc(pb));Xa-=pb=(2/Gb*Wb-U*Gb-Aa)/(-Wb/(lb*lb)+1-U/(2*pb*pb))*(0>pb?.7:1)}while(1E-6<jc(pb)&&0<--Va);Va=fc(Xa);return[Jd(aa*Va,Aa*Lb(Xa)),Pa(ha*Va/Aa)]};return B}function Ea(A,B){var K=Lb(B);var U=(U=Kb(K*Lb(A/=2)))?U/Math.sin(U):
1;return[2*K*fc(A)*U,fc(B)*U]}function ab(A){function B(Xa,Va){var lb=Lb(Va),pb=Lb(Xa/=2);return[(1+lb)*fc(Xa),(aa*Va>-Jd(pb,ha)-.001?0:10*-aa)+Aa+fc(Va)*U-(1+lb)*K*pb]}var K=fc(A),U=Lb(A),aa=0<=A?1:-1,ha=Pd(aa*A),Aa=(1+K-U)/2;B.invert=function(Xa,Va){var lb=0,pb=0,Gb=50;do{var Wb=Lb(lb),m=fc(lb),v=Lb(pb),P=fc(pb),V=1+v,Ga=V*m-Xa,ob=Aa+P*U-V*K*Wb-Va,Db=V*Wb/2,Ub=-m*P;m=K*V*m/2;v=U*v+K*Wb*P;Wb=Ub*m-v*Db;Ub=(ob*Ub-Ga*v)/Wb/2;Ga=(Ga*m-ob*Db)/Wb;2<jc(Ga)&&(Ga/=2);lb-=Ub;pb-=Ga}while((1E-6<jc(Ub)||1E-6<
jc(Ga))&&0<--Gb);return aa*pb>-Jd(Lb(lb),ha)-.001?[2*lb,pb]:null};return B}function fb(A,B){B=Pd(B/2);var K=Ma(1-B*B),U=1+K*Lb(A/=2);A=fc(A)*K/U;B/=U;U=A*A;K=B*B;return[4/3*A*(3+U-3*K),4/3*B*(3+3*U-K)]}function Ja(A,B){var K=jc(B);return K<ne?[A,re(Pd(ne+B/2))]:[A*Lb(K)*(2*Pc-1/fc(K)),be(B)*(2*Pc*(K-ne)-re(Pd(K/2)))]}function ea(A){function B(U,aa){aa=q.geoAzimuthalEquidistantRaw(U,aa);if(jc(U)>Yc){U=Jd(aa[1],aa[0]);var ha=Ma(aa[0]*aa[0]+aa[1]*aa[1]),Aa=K*He((U-Yc)/K)+Yc,Xa=Jd(fc(U-=Aa),2-Lb(U));
U=Aa+Pa(dc/ha*fc(Xa))-Xa;aa[0]=ha*Lb(U);aa[1]=ha*fc(U)}return aa}var K=2*dc/A;B.invert=function(U,aa){var ha=Ma(U*U+aa*aa);if(ha>Yc){var Aa=Jd(aa,U);U=K*He((Aa-Yc)/K)+Yc;aa=Aa>U?-1:1;Aa=ha*Lb(U-Aa);Aa=1/Pd(aa*Kb((Aa-dc)/Ma(dc*(dc-2*Aa)+ha*ha)));Aa=U+2*Wd((Aa+aa*Ma(Aa*Aa-3))/3);U=ha*Lb(Aa);aa=ha*fc(Aa)}return q.geoAzimuthalEquidistantRaw.invert(U,aa)};return B}function pa(A,B){function K(U,aa){U=q.geoAzimuthalEqualAreaRaw(U/B,aa);U[0]*=A;return U}2>arguments.length&&(B=A);if(1===B)return q.geoAzimuthalEqualAreaRaw;
if(Infinity===B)return Ha;K.invert=function(U,aa){U=q.geoAzimuthalEqualAreaRaw.invert(U/A,aa);U[0]*=B;return U};return K}function Ha(A,B){return[A*Lb(B)/Lb(B/=2),2*fc(B)]}function Wa(A,B,K){var U=100;K=void 0===K?0:+K;B=+B;do{var aa=A(K);var ha=A(K+1E-6);aa===ha&&(ha=aa+1E-6);K-=aa=-1E-6*(aa-B)/(aa-ha)}while(0<U--&&1E-6<jc(aa));return 0>U?NaN:K}function ja(A,B,K){void 0===B&&(B=40);void 0===K&&(K=1E-12);return function(U,aa,ha,Aa){ha=void 0===ha?0:+ha;Aa=void 0===Aa?0:+Aa;for(var Xa=0;Xa<B;Xa++){var Va=
A(ha,Aa),lb=Va[0]-U,pb=Va[1]-aa;if(jc(lb)<K&&jc(pb)<K)break;var Gb=lb*lb+pb*pb;if(Gb>Wb)ha-=v/=2,Aa-=V/=2;else{var Wb=Gb;Gb=(0<ha?-1:1)*K;var m=(0<Aa?-1:1)*K;var v=A(ha+Gb,Aa);var P=A(ha,Aa+m);var V=(v[0]-Va[0])/Gb;Gb=(v[1]-Va[1])/Gb;v=(P[0]-Va[0])/m;Va=(P[1]-Va[1])/m;m=Va*V-Gb*v;m=(.5>jc(m)?.5:1)/m;v=(pb*v-lb*Va)*m;V=(lb*Gb-pb*V)*m;ha+=v;Aa+=V;if(jc(v)<K&&jc(V)<K)break}}return[ha,Aa]}}function ba(){function A(K,U){if(-1.4>K+U){var aa=(K-U+1.6)*(K+U+1.4)/8;K+=aa;U-=.8*aa*fc(U+dc/2)}aa=B(K,U);K=(1-
Lb(K*U))/12;0>aa[1]&&(aa[0]*=1+K);0<aa[1]&&(aa[1]*=1+K/1.5*aa[0]*aa[0]);return aa}var B=pa(1.68,2);A.invert=ja(A);return A}function Ra(A,B){A*=fc(B);var K=30,U;do B-=U=(B+fc(B)-A)/(1+Lb(B));while(1E-6<jc(U)&&0<--K);return B/2}function xa(A,B,K){function U(aa,ha){return[A*aa*Lb(ha=Ra(K,ha)),B*fc(ha)]}U.invert=function(aa,ha){return ha=Pa(ha/B),[aa/(A*Lb(ha)),Pa((2*ha+fc(2*ha))/K)]};return U}function Oa(A,B){var K=Ra(dc,B);return[2.00276*A/(1/Lb(B)+1.11072/Lb(K)),(B+Pc*fc(K))/2.00276]}function za(A){var B=
0,K=q.geoProjectionMutator(A);A=K(B);A.parallel=function(U){return arguments.length?K(B=U*Qd):B*Ld};return A}function ia(A,B){return[A*Lb(B),B]}function wa(A){function B(U,aa){var ha=K+A-aa;U=ha?U*Lb(aa)/ha:ha;return[ha*fc(U),K-ha*Lb(U)]}if(!A)return ia;var K=1/Pd(A);B.invert=function(U,aa){var ha=Ma(U*U+(aa=K-aa)*aa),Aa=K+A-ha;return[ha/Lb(Aa)*Jd(U,aa),Aa]};return B}function sa(A){function B(K,U){K=(U=Yc-U)?K*A*fc(U)/U:U;return[U*fc(K)/A,Yc-U*Lb(K)]}B.invert=function(K,U){K*=A;var aa=Yc-U;U=Ma(K*
K+aa*aa);K=Jd(K,aa);return[(U?U/fc(U):1)*K/A,Yc-U]};return B}function qa(A,B,K,U,aa,ha){var Aa=Lb(ha);if(1<jc(A)||1<jc(ha))A=Kb(K*aa+B*U*Aa);else{A=fc(A/2);var Xa=fc(ha/2);A=2*Pa(Ma(A*A+B*U*Xa*Xa))}return 1E-6<jc(A)?[A,Jd(U*fc(ha),B*aa-K*U*Aa)]:[0,0]}function Fa(A,B,K){return Kb((A*A+B*B-K*K)/(2*A*B))}function Ca(A,B,K){var U=[[A[0],A[1],fc(A[1]),Lb(A[1])],[B[0],B[1],fc(B[1]),Lb(B[1])],[K[0],K[1],fc(K[1]),Lb(K[1])]];A=U[2];for(K=0;3>K;++K,A=B)B=U[K],A.v=qa(B[1]-A[1],A[3],A[2],B[3],B[2],B[0]-A[0]),
A.point=[0,0];A=Fa(U[0].v[0],U[2].v[0],U[1].v[0]);var aa=Fa(U[0].v[0],U[1].v[0],U[2].v[0]),ha=dc-A;U[2].point[1]=0;U[0].point[0]=-(U[1].point[0]=U[0].v[0]/2);var Aa=[U[2].point[0]=U[0].point[0]+U[2].v[0]*Lb(A),2*(U[0].point[1]=U[1].point[1]=U[2].v[0]*fc(A))];return function(Xa,Va){var lb=fc(Va),pb=Lb(Va),Gb=Array(3),Wb;for(Wb=0;3>Wb;++Wb){var m=U[Wb];Gb[Wb]=qa(Va-m[1],m[3],m[2],pb,lb,Xa-m[0]);if(!Gb[Wb][0])return m.point;var v=Gb[Wb];m=Gb[Wb][1]-m.v[1];m-=2*dc*oe((m+dc)/(2*dc));v[1]=m}Xa=Aa.slice();
for(Wb=0;3>Wb;++Wb)Va=Fa(U[Wb].v[0],Gb[Wb][0],Gb[2==Wb?0:Wb+1][0]),0>Gb[Wb][1]&&(Va=-Va),Wb?1==Wb?(Va=aa-Va,Xa[0]-=Gb[Wb][0]*Lb(Va),Xa[1]-=Gb[Wb][0]*fc(Va)):(Va=ha-Va,Xa[0]+=Gb[Wb][0]*Lb(Va),Xa[1]+=Gb[Wb][0]*fc(Va)):(Xa[0]+=Gb[Wb][0]*Lb(Va),Xa[1]-=Gb[Wb][0]*fc(Va));Xa[0]/=3;Xa[1]/=3;return Xa}}function Za(A){return A[0]*=Qd,A[1]*=Qd,A}function jb(A,B,K){var U=q.geoCentroid({type:"MultiPoint",coordinates:[A,B,K]});U=[-U[0],-U[1]];var aa=q.geoRotation(U);A=Ca(Za(aa(A)),Za(aa(B)),Za(aa(K)));A.invert=
ja(A);A=q.geoProjection(A).rotate(U);var ha=A.center;delete A.rotate;A.center=function(Aa){return arguments.length?ha(aa(Aa)):aa.invert(ha())};return A.clipAngle(90)}function y(A,B){B=Ma(1-fc(B));return[2/fe*A*B,fe*(1-B)]}function x(A){function B(U,aa){return[U,(U?U/fc(U):1)*(fc(aa)*Lb(U)-K*Lb(aa))]}var K=Pd(A);B.invert=K?function(U,aa){U&&(aa*=fc(U)/U);var ha=Lb(U);return[U,2*Jd(Ma(ha*ha+K*K-aa*aa)-ha,K-aa)]}:function(U,aa){return[U,Pa(U?aa*Pd(U)/U:aa)]};return B}function G(A,B){return[Le*A*(2*Lb(2*
B/3)-1)/fe,Le*fe*fc(B/3)]}function J(A){function B(U,aa){return[U*K,fc(aa)/K]}var K=Lb(A);B.invert=function(U,aa){return[U/K,Pa(aa*K)]};return B}function z(A){function B(U,aa){return[U*K,(1+K)*Pd(aa/2)]}var K=Lb(A);B.invert=function(U,aa){return[U/K,2*Wd(aa/(1+K))]};return B}function F(A,B){var K=Ma(8/(3*dc));return[K*A*(1-jc(B)/dc),K*B]}function M(A,B){var K=Ma(4-3*fc(jc(B)));return[2/Ma(6*dc)*A*K,be(B)*Ma(2*dc/3)*(2-K)]}function ka(A,B){var K=Ma(dc*(4+dc));return[2/K*A*(1+Ma(1-4*B*B/(dc*dc))),4/
K*B]}function Ia(A,B){var K=(2+Yc)*fc(B);B/=2;for(var U=0,aa=Infinity;10>U&&1E-6<jc(aa);U++)aa=Lb(B),B-=aa=(B+fc(B)*(aa+2)-K)/(2*aa*(1+aa));return[2/Ma(dc*(4+dc))*A*(1+Lb(B)),2*Ma(dc/(4+dc))*fc(B)]}function Ta(A,B){return[A*(1+Lb(B))/Ma(2+dc),2*B/Ma(2+dc)]}function D(A,B){for(var K=(1+Yc)*fc(B),U=0,aa=Infinity;10>U&&1E-6<jc(aa);U++)B-=aa=(B+fc(B)-K)/(1+Lb(B));K=Ma(2+dc);return[A*(1+Lb(B))/K,2*B/K]}function fa(A,B){var K=fc(A/=2);A=Lb(A);var U=Ma(Lb(B)),aa=Lb(B/=2);B=fc(B)/(aa+Pc*A*U);var ha=Ma(2/
(1+B*B));K=Ma((Pc*aa+(A+K)*U)/(Pc*aa+(A-K)*U));return[cf*(ha*(K-1/K)-2*re(K)),cf*(ha*B*(K+1/K)-2*Wd(B))]}function Y(A,B){B=Pd(B/2);return[A*qf*Ma(1-B*B),(1+qf)*B]}function W(A,B){var K=B/2,U=Lb(K);return[2*A/fe*Lb(B)*U*U,fe*Pd(K)]}function H(A){function B(Va,lb){var pb=Lb(lb),Gb=fc(lb);return[pb/(aa+A*pb)*Va,aa*lb+A*Gb]}function K(Va,lb){Va=B(Va,lb);return[Va[0]*Xa,Va[1]/Xa]}function U(Va){return K(0,Va)[1]}var aa=1-A,ha=B(dc,0)[0]-B(-dc,0)[0],Aa=B(0,Yc)[1]-B(0,-Yc)[1],Xa=Ma(2*Aa/ha);K.invert=function(Va,
lb){lb=Wa(U,lb);return[Va/Xa*(A+aa/Lb(lb)),lb]};return K}function T(A){return[2*A[0],2*Wd(fc(A[1]*Qd))*Ld]}function l(A,B){function K(ha,Aa){ha=q.geoAzimuthalEquidistantRaw(ha,Aa);Aa=ha[0];var Xa=ha[1],Va=Aa*Aa+Xa*Xa;if(Va>aa){var lb=Ma(Va);Aa=Jd(Xa,Aa);Va=U*He(Aa/U);Xa=Aa-Va;var pb=A*Lb(Xa),Gb=(A*fc(Xa)-Xa*fc(pb))/(Yc-pb),Wb=k(Xa,Gb),m=(dc-A)/p(Wb,pb,dc);Aa=lb;var v=50,P;do Aa-=P=(A+p(Wb,pb,Aa)*m-lb)/(Wb(Aa)*m);while(1E-6<jc(P)&&0<--v);Xa*=fc(Aa);Aa<Yc&&(Xa-=Gb*(Aa-Yc));lb=fc(Va);Va=Lb(Va);ha[0]=
Aa*Va-Xa*lb;ha[1]=Aa*lb+Xa*Va}return ha}var U=2*dc/B,aa=A*A;K.invert=function(ha,Aa){var Xa=ha*ha+Aa*Aa;if(Xa>aa){var Va=Ma(Xa);Aa=Jd(Aa,ha);Xa=U*He(Aa/U);Aa-=Xa;ha=Va*Lb(Aa);Aa=Va*fc(Aa);Va=ha-Yc;for(var lb=fc(ha),pb=Aa/lb,Gb=ha<Yc?Infinity:0,Wb=10;;){var m=A*fc(pb),v=A*Lb(pb),P=fc(v),V=Yc-v,Ga=(m-pb*P)/V,ob=k(pb,Ga);if(1E-12>jc(Gb)||!--Wb)break;pb-=Gb=(pb*lb-Ga*Va-Aa)/(lb-2*Va*(V*(v+pb*m*Lb(v)-P)-m*(m-pb*P))/(V*V))}Va=A+p(ob,v,ha)*(dc-A)/p(ob,v,dc);Aa=Xa+pb;ha=Va*Lb(Aa);Aa=Va*fc(Aa)}return q.geoAzimuthalEquidistantRaw.invert(ha,
Aa)};return K}function k(A,B){return function(K){var U=A*Lb(K);K<Yc&&(U-=B);return Ma(1+U*U)}}function p(A,B,K){var U=(K-B)/50;K=A(B)+A(K);for(var aa=1;50>aa;++aa)K+=2*A(B+=U);return.5*K*U}function t(A,B,K,U,aa,ha,Aa,Xa){function Va(lb,pb){if(!pb)return[A*lb/dc,0];var Gb=pb*pb,Wb=A+Gb*(B+Gb*(K+Gb*U)),m=pb*(aa-1+Gb*(ha-Xa+Gb*Aa));m=(Wb*Wb+m*m)/(2*m);lb=lb*Pa(Wb/m)/dc;return[m*fc(lb),pb*(1+Gb*Xa)+m*(1-Lb(lb))]}8>arguments.length&&(Xa=0);Va.invert=function(lb,pb){var Gb=dc*lb/A,Wb=pb,m=50;do{var v=Wb*
Wb,P=A+v*(B+v*(K+v*U)),V=Wb*(aa-1+v*(ha-Xa+v*Aa)),Ga=P*P+V*V,ob=2*V;var Db=Ga/ob;var Ub=Db*Db;var ec=Pa(P/Db)/dc;var zc=Gb*ec,Cc=P*P,$c=(2*B+v*(4*K+6*v*U))*Wb,qd=aa+v*(3*ha+5*v*Aa);V=(2*(P*$c+V*(qd-1))*ob-2*Ga*(qd-1))/(ob*ob);Ga=Lb(zc);qd=fc(zc);ob=Db*Ga;zc=Db*qd;Ub=Gb/dc*(1/Ma(1-Cc/Ub))*($c*Db-P*V)/Ub;P=zc-lb;v=Wb*(1+v*Xa)+Db-ob-pb;Db=V*qd+ob*Ub;Cc=ob*ec;V=1+V-(V*Ga-zc*Ub);ec*=zc;Ga=Db*ec-V*Cc;if(!Ga)break;Gb-=Db=(v*Db-P*V)/Ga;Wb-=ec=(P*ec-v*Cc)/Ga}while((1E-6<jc(Db)||1E-6<jc(ec))&&0<--m);return[Gb,
Wb]};return Va}function w(A,B){var K=A*A,U=B*B;return[A*(1-.162388*U)*(.87-9.52426E-4*K*K),B*(1+U/12)]}function O(A){function B(U,aa){var ha=0<U?-.5:.5;U=A(U+ha*dc,aa);U[0]-=ha*K;return U}var K=A(Yc,0)[0]-A(-Yc,0)[0];A.invert&&(B.invert=function(U,aa){var ha=0<U?-.5:.5;U=A.invert(U+ha*K,aa);ha=U[0]-ha*dc;ha<-dc?ha+=2*dc:ha>dc&&(ha-=2*dc);U[0]=ha;return U});return B}function la(A,B){var K=be(A),U=be(B),aa=Lb(B),ha=Lb(A)*aa;A=fc(A)*aa;B=fc(U*B);A=jc(Jd(A,B));B=Pa(ha);1E-6<jc(A-Yc)&&(A%=Yc);ha=ma(A>
dc/4?Yc-A:A,B);A>dc/4&&(B=ha[0],ha[0]=-ha[1],ha[1]=-B);return ha[0]*=K,ha[1]*=-U,ha}function ma(A,B){if(B===Yc)return[0,0];var K=fc(B),U=K*K,aa=U*U,ha=1+aa,Aa=1+3*aa,Xa=1-aa,Va=Pa(1/Ma(ha)),lb=Xa+U*ha*Va,pb=(1-K)/lb,Gb=Ma(pb),Wb=pb*ha,m=Ma(Wb),v=Gb*Xa;if(0===A)return[0,-(v+U*m)];var P=Lb(B),V=1/P,Ga=2*K*P;Va=(-lb*P-(1-K)*(-3*U+Va*Aa)*Ga)/(lb*lb);K=-V*Ga;ha=-V*(U*ha*Va+pb*Aa*Ga);Xa=-2*V*(.5*Va/Gb*Xa-2*U*Gb*Ga);Gb=4*A/dc;if(A>.222*dc||B<dc/4&&A>.175*dc){B=(v+U*Ma(Wb*(1+aa)-v*v))/(1+aa);if(A>dc/4)return[B,
B];aa=B;V=.5*B;B=.5*(V+aa);A=50;do{Ga=Ma(Wb-B*B);Ga=B*(Xa+K*Ga)+ha*Pa(B/m)-Gb;if(!Ga)break;0>Ga?V=B:aa=B;B=.5*(V+aa)}while(1E-6<jc(aa-V)&&0<--A)}else{B=1E-6;A=25;do Ga=B*B,aa=Ma(Wb-Ga),Aa=Xa+K*aa,V=B*Aa+ha*Pa(B/m)-Gb,Ga=Aa+(ha-K*Ga)/aa,B-=aa=aa?V/Ga:0;while(1E-6<jc(aa)&&0<--A)}return[B,-v-U*Ma(Wb-B*B)]}function ua(A,B){if(1E-6>B){var K=fc(A);var U=Lb(A);var aa=B*(A-K*U)/4;return[K-aa*U,U+aa*K,1-B*K*K/2,A-aa]}if(.999999<=B){aa=(1-B)/4;U=Eb(A);K=Ke(2*A);K=(K-1)/(K+1);B=1/U;var ha=U*db(A);return[K+aa*
(ha-A)/(U*U),B-aa*K*B*(ha-A),B+aa*K*B*(ha+A),2*Wd(Ke(A))-Yc+aa*(ha-A)/U]}var Aa=[1,0,0,0,0,0,0,0,0],Xa=[Ma(B),0,0,0,0,0,0,0,0],Va=0;U=Ma(1-B);for(ha=1;1E-6<jc(Xa[Va]/Aa[Va])&&8>Va;)aa=Aa[Va++],Xa[Va]=(aa-U)/2,Aa[Va]=(aa+U)/2,U=Ma(aa*U),ha*=2;B=ha*Aa[Va]*A;do K=Xa[Va]*fc(U=B)/Aa[Va],B=(Pa(K)+B)/2;while(--Va);return[fc(B),K=Lb(B),K/Lb(B-U),B]}function eb(A,B){if(!B)return A;if(1===B)return re(Pd(A/2+ne));var K=1,U=Ma(1-B),aa=Ma(B);for(B=0;1E-6<jc(aa);B++)A%dc?(aa=Wd(U*Pd(A)/K),0>aa&&(aa+=dc),A+=aa+
~~(A/dc)*dc):A+=A,aa=(K+U)/2,U=Ma(K*U),aa=((K=aa)-U)/2;return A/(ff(2,B)*K)}function cb(A,B){var K=(Pc-1)/(Pc+1),U=Ma(1-K*K),aa=eb(Yc,U*U),ha=re(Pd(dc/4+jc(B)/2));ha=Ke(-1*ha)/Ma(K);K=ha*Lb(-1*A);var Aa=ha*fc(-1*A);A=K*K;ha=Aa+1;Aa=1-A-Aa*Aa;A=[.5*((0<=K?Yc:-Yc)-Jd(Aa,2*K)),-.25*re(Aa*Aa+4*A)+.5*re(ha*ha+A)];K=A[0];A=A[1];U*=U;ha=jc(K);Aa=jc(A);Aa=db(Aa);if(ha){var Xa=1/fc(ha);ha=1/(Pd(ha)*Pd(ha));Aa=-(ha+U*Aa*Aa*Xa*Xa-1+U);Aa=(-Aa+Ma(Aa*Aa-4*(U-1)*ha))/2;U=[eb(Wd(1/Ma(Aa)),U)*be(K),eb(Wd(Ma((Aa/
ha-1)/U)),1-U)*be(A)]}else U=[0,eb(Wd(Aa),1-U)*be(A)];return[-U[1],(0<=B?1:-1)*(.5*aa-U[0])]}function Ba(A){function B(ha,Aa){var Xa=aa(ha,Aa);ha=Xa[0];Aa=Xa[1];Xa=fc(Aa);Aa=Lb(Aa);var Va=Lb(ha),lb=Kb(K*Xa+U*Aa*Va),pb=fc(lb);lb=1E-6<jc(pb)?lb/pb:1;return[lb*U*fc(ha),(jc(ha)>Yc?lb:-lb)*(K*Aa-U*Xa*Va)]}var K=fc(A),U=Lb(A),aa=Ka(A);aa.invert=Ka(-A);B.invert=function(ha,Aa){var Xa=Ma(ha*ha+Aa*Aa),Va=-fc(Xa),lb=Lb(Xa),pb=Xa*lb,Gb=-Aa*Va,Wb=Xa*K,m=Ma(pb*pb+Gb*Gb-Wb*Wb);pb=Jd(pb*Wb+Gb*m,Gb*Wb-pb*m);ha=(Xa>
Yc?-1:1)*Jd(ha*Va,Xa*Lb(pb)*lb+Aa*fc(pb)*Va);return aa.invert(ha,pb)};return B}function Ka(A){var B=fc(A),K=Lb(A);return function(U,aa){var ha=Lb(aa),Aa=Lb(U)*ha;U=fc(U)*ha;aa=fc(aa);return[Jd(U,Aa*K-aa*B),Pa(aa*K+Aa*B)]}}function Z(A){function B(pb,Gb){var Wb=jc(Gb);if(Wb>K){var m=Oe(A-1,Ye(0,oe((pb+dc)/Xa)));pb+=dc*(A-1)/A-m*Xa;pb=y(pb,Wb);pb[0]=pb[0]*Sd/U-Sd*(A-1)/(2*A)+m*Sd/A;pb[1]=aa+4*(pb[1]-ha)*Aa/Sd;0>Gb&&(pb[1]=-pb[1])}else pb=$e(pb,Gb);pb[0]*=Va;pb[1]/=lb;return pb}var K=Ee*Qd,U=y(dc,K)[0]-
y(-dc,K)[0],aa=$e(0,K)[1],ha=y(0,K)[1],Aa=fe-ha,Xa=Sd/A,Va=4/Sd,lb=aa+Aa*Aa*4/Sd;B.invert=function(pb,Gb){pb/=Va;Gb*=lb;var Wb=jc(Gb);if(Wb>aa){var m=Oe(A-1,Ye(0,oe((pb+dc)/Xa)));pb=(pb+dc*(A-1)/A-m*Xa)*U/Sd;pb=y.invert(pb,.25*(Wb-aa)*Sd/Aa+ha);pb[0]-=dc*(A-1)/A-m*Xa;0>Gb&&(pb[1]=-pb[1]);return pb}return $e.invert(pb,Gb)};return B}function ra(A,B){return[A,B&1?89.999999:Ee]}function hb(A,B){return[A,B&1?-89.999999:-Ee]}function mb(A){return[.999999*A[0],A[1]]}function Hb(A){var B=[].concat(S.range(-180,
180+A/2,A).map(ra),S.range(180,-180-A/2,-A).map(hb));return{type:"Polygon",coordinates:[180===A?B.map(mb):B]}}function Xb(A){function B(pb,Gb){var Wb=1-fc(Gb);if(Wb&&2>Wb){var m=Yc-Gb,v=25;do{var P=fc(m);var V=Lb(m);Gb=aa+Jd(P,K-V);V=1+lb-2*K*V;m-=P=(m-Va*aa-K*P+V*Gb-.5*Wb*Aa)/(2*K*P*Gb)}while(1E-12<jc(P)&&0<--v);Wb=ha*Ma(V);pb=pb*Gb/dc}else Wb=ha*(A+Wb),pb=pb*aa/dc;return[Wb*fc(pb),Xa-Wb*Lb(pb)]}var K=1+A,U=fc(1/K),aa=Pa(U),ha=2*Ma(dc/(Aa=dc+4*aa*K)),Aa,Xa=.5*ha*(K+Ma(A*(2+A))),Va=A*A,lb=K*K;B.invert=
function(pb,Gb){var Wb=pb*pb+(Gb-=Xa)*Gb;Gb=(1+lb-Wb/(ha*ha))/(2*K);var m=Kb(Gb),v=fc(m),P=aa+Jd(v,K-Gb);return[Pa(pb/Ma(Wb))*dc/P,Pa(1-2*(m-Va*aa-K*v+(1+lb-2*K*Gb)*P)/Aa)]};return B}function ya(A,B){return-.7109889596207567<B?(A=Gd(A,B),A[1]+=.0528035274542,A):ia(A,B)}function wb(A,B){return.7109889596207567<jc(B)?(A=Gd(A,B),A[1]-=0<B?.0528035274542:-.0528035274542,A):ia(A,B)}function Tb(A,B,K,U){function aa(Gb){return Ma(1+A*Lb(2*Gb)+B*Lb(4*Gb))}function ha(Gb){Gb*=K;return(2*Gb+(1+A-B/2)*fc(2*
Gb)+(A+B)/2*fc(4*Gb)+B/2*fc(6*Gb))/K}function Aa(Gb){return aa(Gb)*fc(Gb)}var Xa=Ma(4*dc/(2*K+(1+A-B/2)*fc(2*K)+(A+B)/2*fc(4*K)+B/2*fc(6*K))),Va=Ma(U*fc(K)*Ma((1+A*Lb(2*K)+B*Lb(4*K))/(1+A+B))),lb=K*ha(1),pb=function(Gb,Wb){var m=K*Wa(ha,lb*fc(Wb)/K,Wb/dc);isNaN(m)&&(m=K*be(Wb));Wb=Xa*aa(m);return[Wb*Va*Gb/dc*Lb(m),Wb/Va*fc(m)]};pb.invert=function(Gb,Wb){Wb=Wa(Aa,Wb*Va/Xa);return[Gb*dc/(Lb(Wb)*Xa*Va*aa(Wb)),Pa(K*ha(Wb/K)/lb)]};0===K&&(Xa=Ma(U/dc),pb=function(Gb,Wb){return[Gb*Xa,fc(Wb)/Xa]},pb.invert=
function(Gb,Wb){return[Gb/Xa,Pa(Wb*Xa)]});return pb}function rb(A,B,K,U,aa,ha,Aa,Xa,Va,lb,pb){if(pb.nanEncountered)return NaN;var Gb=K-B;var Wb=A(B+.25*Gb);var m=A(K-.25*Gb);if(isNaN(Wb))pb.nanEncountered=!0;else if(isNaN(m))pb.nanEncountered=!0;else{var v=Gb*(U+4*Wb+aa)/12;var P=Gb*(aa+4*m+ha)/12;var V=v+P;Aa=(V-Aa)/15;if(lb>Va)return pb.maxDepthCount++,V+Aa;if(Math.abs(Aa)<Xa)return V+Aa;Gb=B+.5*Gb;B=rb(A,B,Gb,U,Wb,aa,v,.5*Xa,Va,lb+1,pb);if(isNaN(B))return pb.nanEncountered=!0,NaN;A=rb(A,Gb,K,aa,
m,ha,P,.5*Xa,Va,lb+1,pb);return isNaN(A)?(pb.nanEncountered=!0,NaN):B+A}}function Sb(A,B,K,U,aa){void 0===U&&(U=1E-8);void 0===aa&&(aa=20);var ha=A(B),Aa=A(.5*(B+K)),Xa=A(K);return rb(A,B,K,ha,Aa,Xa,(ha+4*Aa+Xa)*(K-B)/6,U,aa,1,{maxDepthCount:0,nanEncountered:!1})}function ic(A,B,K){function U(pb){return A+(1-A)*ff(1-ff(pb,B),1/B)}function aa(pb){var Gb=0,Wb=1E3,m=500;do Xa[m]>pb?Wb=m:Gb=m,m=Gb+Wb>>1;while(m>Gb);(Gb=Xa[m+1]-Xa[m])&&(Gb=(pb-Xa[m+1])/Gb);return(m+1+Gb)/1E3}for(var ha=1/Sb(U,0,1,1E-4),
Aa=1.00000001*ha,Xa=[],Va=0;1E3>=Va;Va++)Xa.push(Sb(U,0,Va/1E3,1E-4)*Aa);var lb=2*aa(1)/dc*ha/K;K=function(pb,Gb){var Wb=aa(jc(fc(Gb)));pb*=U(Wb);Wb/=lb;return[pb,0<=Gb?Wb:-Wb]};K.invert=function(pb,Gb){var Wb;Gb*=lb;1>jc(Gb)&&(Wb=be(Gb)*Pa(Sb(U,0,jc(Gb),1E-4)*ha));return[pb/U(jc(Gb)),Wb]};return K}function rc(A,B){for(var K=-1,U=A.length,aa=A[0],ha,Aa,Xa,Va=[];++K<U;){ha=A[K];Aa=(ha[0]-aa[0])/B;Xa=(ha[1]-aa[1])/B;for(var lb=0;lb<B;++lb)Va.push([aa[0]+lb*Aa,aa[1]+lb*Xa]);aa=ha}Va.push(ha);return Va}
function Tc(A){var B=[],K,U=A[0].length;for(K=0;K<U;++K){var aa=A[0][K];var ha=aa[0][0];var Aa=aa[0][1];var Xa=aa[1][1];var Va=aa[2][0];aa=aa[2][1];B.push(rc([[ha+1E-6,Aa+1E-6],[ha+1E-6,Xa-1E-6],[Va-1E-6,Xa-1E-6],[Va-1E-6,aa+1E-6]],30))}for(K=A[1].length-1;0<=K;--K)aa=A[1][K],ha=aa[0][0],Aa=aa[0][1],Xa=aa[1][1],Va=aa[2][0],aa=aa[2][1],B.push(rc([[Va-1E-6,aa-1E-6],[Va-1E-6,Xa+1E-6],[ha+1E-6,Xa+1E-6],[ha+1E-6,Aa-1E-6]],30));return{type:"Polygon",coordinates:[S.merge(B)]}}function pc(A,B,K){function U(Va,
lb){for(var pb=0>lb?-1:1,Gb=B[+(0>lb)],Wb=0,m=Gb.length-1;Wb<m&&Va>Gb[Wb][2][0];++Wb);Va=A(Va-Gb[Wb][1][0],lb);Va[0]+=A(Gb[Wb][1][0],pb*lb>pb*Gb[Wb][0][1]?Gb[Wb][0][1]:lb)[0];return Va}var aa,ha;K?U.invert=K(U):A.invert&&(U.invert=function(Va,lb){for(var pb=ha[+(0>lb)],Gb=B[+(0>lb)],Wb=0,m=pb.length;Wb<m;++Wb){var v=pb[Wb];if(v[0][0]<=Va&&Va<v[1][0]&&v[0][1]<=lb&&lb<v[1][1])return pb=A.invert(Va-A(Gb[Wb][1][0],0)[0],lb),pb[0]+=Gb[Wb][1][0],Gb=U(pb[0],pb[1]),Va=[Va,lb],1E-6>jc(Gb[0]-Va[0])&&1E-6>jc(Gb[1]-
Va[1])?pb:null}});var Aa=q.geoProjection(U),Xa=Aa.stream;Aa.stream=function(Va){var lb=Aa.rotate(),pb=Xa(Va),Gb=(Aa.rotate([0,0]),Xa(Va));Aa.rotate(lb);pb.sphere=function(){q.geoStream(aa,Gb)};return pb};Aa.lobes=function(Va){if(!arguments.length)return B.map(function(lb){return lb.map(function(pb){return[[pb[0][0]*Ld,pb[0][1]*Ld],[pb[1][0]*Ld,pb[1][1]*Ld],[pb[2][0]*Ld,pb[2][1]*Ld]]})});aa=Tc(Va);B=Va.map(function(lb){return lb.map(function(pb){return[[pb[0][0]*Qd,pb[0][1]*Qd],[pb[1][0]*Qd,pb[1][1]*
Qd],[pb[2][0]*Qd,pb[2][1]*Qd]]})});ha=B.map(function(lb){return lb.map(function(pb){var Gb=A(pb[0][0],pb[0][1])[0],Wb=A(pb[2][0],pb[2][1])[0],m=A(pb[1][0],pb[0][1])[1];pb=A(pb[1][0],pb[1][1])[1];if(m>pb){var v=m;m=pb;pb=v}return[[Gb,m],[Wb,pb]]})});return Aa};null!=B&&Aa.lobes(B);return Aa}function tb(A,B){return[3/Sd*A*Ma(dc*dc/3-B*B),B]}function bc(A){function B(K,U){if(1E-6>jc(jc(U)-Yc))return[0,0>U?-2:2];U=fc(U);U=ff((1+U)/(1-U),A/2);var aa=.5*(U+1/U)+Lb(K*=A);return[2*fc(K)/aa,(U-1/U)/aa]}B.invert=
function(K,U){var aa=jc(U);if(1E-6>jc(aa-2))return K?null:[0,be(U)*Yc];if(2<aa)return null;K/=2;U/=2;aa=K*K;var ha=U*U;U=2*U/(1+aa+ha);U=ff((1+U)/(1-U),1/A);return[Jd(2*K,1-aa-ha)/A,Pa((U-1)/(U+1))]};return B}function Mb(A,B){return[A*(1+Ma(Lb(B)))/2,B/(Lb(B/2)*Lb(A/6))]}function xc(A,B){var K=A*A,U=B*B;return[A*(.975534+U*(-.119161+-.0143059*K+-.0547009*U)),B*(1.00384+K*(.0802894+-.02855*U+1.99025E-4*K)+U*(.0998909+-.0491032*U))]}function Xc(A,B){return[fc(A)/Lb(B),Pd(B)*Lb(A)]}function ud(A){function B(aa,
ha){var Aa=ha-A,Xa=1E-6>jc(Aa)?aa*K:1E-6>jc(Xa=ne+ha/2)||1E-6>jc(jc(Xa)-Yc)?0:aa*Aa/re(Pd(Xa)/U);return[Xa,Aa]}var K=Lb(A),U=Pd(ne+A/2);B.invert=function(aa,ha){var Aa,Xa=ha+A;return[1E-6>jc(ha)?aa/K:1E-6>jc(Aa=ne+Xa/2)||1E-6>jc(jc(Aa)-Yc)?0:aa*re(Pd(Aa)/U)/ha,Xa]};return B}function xd(A,B){return[A,1.25*re(Pd(ne+.4*B))]}function ae(A){function B(U,aa){var ha=Lb(aa),Aa=2/(1+ha*Lb(U));U=Aa*ha*fc(U);aa=Aa*fc(aa);Aa=K;ha=A[Aa];for(var Xa=ha[0],Va=ha[1],lb;0<=--Aa;)ha=A[Aa],Xa=ha[0]+U*(lb=Xa)-aa*Va,Va=
ha[1]+U*Va+aa*lb;Xa=U*(lb=Xa)-aa*Va;return[Xa,U*Va+aa*lb]}var K=A.length-1;B.invert=function(U,aa){var ha=20,Aa=U,Xa=aa;do{for(var Va=K,lb=A[Va],pb=lb[0],Gb=lb[1],Wb=0,m=0,v;0<=--Va;)lb=A[Va],Wb=pb+Aa*(v=Wb)-Xa*m,m=Gb+Aa*m+Xa*v,pb=lb[0]+Aa*(v=pb)-Xa*Gb,Gb=lb[1]+Aa*Gb+Xa*v;Wb=pb+Aa*(v=Wb)-Xa*m;m=Gb+Aa*m+Xa*v;pb=Aa*(v=pb)-Xa*Gb-U;Gb=Aa*Gb+Xa*v-aa;lb=Wb*Wb+m*m;Aa-=Va=(pb*Wb+Gb*m)/lb;Xa-=pb=(Gb*Wb-pb*m)/lb}while(1E-12<jc(Va)+jc(pb)&&0<--ha);if(ha)return U=Ma(Aa*Aa+Xa*Xa),aa=2*Wd(.5*U),ha=fc(aa),[Jd(Aa*
ha,U*Lb(aa)),U?Pa(Xa*ha/U):0]};return B}function Cb(A,B){A=q.geoProjection(ae(A)).rotate(B).clipAngle(90);var K=q.geoRotation(B),U=A.center;delete A.rotate;A.center=function(aa){return arguments.length?U(K(aa)):K.invert(U())};return A}function Rb(A,B){B=Pa(7*fc(B)/(3*bd));return[bd*A*(2*Lb(2*B/3)-1)/cd,9*fc(B/3)/cd]}function Rc(A,B){for(var K=(1+ee)*fc(B),U=0,aa;25>U&&!(B-=aa=(fc(B/2)+fc(B)-K)/(.5*Lb(B/2)+Lb(B)),1E-6>jc(aa));U++);return[A*(1+2*Lb(B)/Lb(B/2))/(3*Pc),2*Ma(3)*fc(B/2)/Ma(2+Pc)]}function se(A,
B){var K=Ma(6/(4+dc)),U=(1+dc/4)*fc(B);B/=2;for(var aa=0,ha;25>aa&&!(B-=ha=(B/2+fc(B)-U)/(.5+Lb(B)),1E-6>jc(ha));aa++);return[K*(.5+Lb(B))*A/1.5,K*B]}function De(A,B){var K=B*B,U=K*K,aa=K*U;return[A*(.84719-.13063*K+aa*aa*(-.04515+.05494*K-.02326*U+.00331*aa)),B*(1.01183+U*U*(-.02625+.01926*K-.00396*U))]}function Ne(A,B){return[A*(1+Lb(B))/2,2*(B-Pd(B/2))]}function Md(A,B){var K=fc(B),U=Lb(B),aa=be(A);if(0===A||jc(B)===Yc)return[0,B];if(0===B)return[A,0];if(jc(A)===Yc)return[A*U,Yc*K];A=dc/(2*A)-
2*A/dc;var ha=2*B/dc,Aa=(1-ha*ha)/(K-ha),Xa=A*A,Va=Aa*Aa;ha=1+Xa/Va;var lb=1+Va/Xa,pb=(A*K/Aa-A/2)/ha,Gb=(Va*K/Xa+Aa/2)/lb;K=Gb*Gb-(Va*K*K/Xa+Aa*K-1)/lb;return[Yc*(pb+Ma(pb*pb+U*U/ha)*aa),Yc*(Gb+Ma(0>K?0:K)*be(-B*A)*aa)]}function I(A,B){var K=B*B;return[A,B*(1.0148+K*K*(.23185+K*(-.14499+.02406*K)))]}function da(A,B){if(1E-6>jc(B))return[A,0];var K=Pd(B);A*=fc(B);return[fc(A)/K,B+(1-Lb(A))/K]}function bb(A,B){var K=Fb(A[1],A[0]),U=Fb(B[1],B[0]),aa=Jd(K[0]*U[1]-K[1]*U[0],K[0]*U[0]+K[1]*U[1]);K=Ma(K[0]*
K[0]+K[1]*K[1])/Ma(U[0]*U[0]+U[1]*U[1]);return La([1,0,A[0][0],0,1,A[0][1]],La([K,0,0,0,K,0],La([Lb(aa),fc(aa),0,-fc(aa),Lb(aa),0],[1,0,-B[0][0],0,1,-B[0][1]])))}function La(A,B){return[A[0]*B[0]+A[1]*B[3],A[0]*B[1]+A[1]*B[4],A[0]*B[2]+A[1]*B[5]+A[2],A[3]*B[0]+A[4]*B[3],A[3]*B[1]+A[4]*B[4],A[3]*B[2]+A[4]*B[5]+A[5]]}function Fb(A,B){return[A[0]-B[0],A[1]-B[1]]}function Vb(A,B){function K(Xa,Va){Xa.edges=Qa(Xa.face);if(Va.face){var lb=Xa.shared=va(Xa.face,Va.face),pb=bb(lb.map(Va.project),lb.map(Xa.project));
Xa.transform=Va.transform?La(Va.transform,pb):pb;pb=Va.edges;for(var Gb=0,Wb=pb.length;Gb<Wb;++Gb)cc(lb[0],pb[Gb][1])&&cc(lb[1],pb[Gb][0])&&(pb[Gb]=Xa),cc(lb[0],pb[Gb][0])&&cc(lb[1],pb[Gb][1])&&(pb[Gb]=Xa);pb=Xa.edges;Gb=0;for(Wb=pb.length;Gb<Wb;++Gb)cc(lb[0],pb[Gb][0])&&cc(lb[1],pb[Gb][1])&&(pb[Gb]=Va),cc(lb[0],pb[Gb][1])&&cc(lb[1],pb[Gb][0])&&(pb[Gb]=Va)}else Xa.transform=Va.transform;Xa.children&&Xa.children.forEach(function(m){K(m,Xa)});return Xa}function U(Xa,Va){var lb=B(Xa,Va);Xa=lb.project([Xa*
Ld,Va*Ld]);if(lb=lb.transform)return[lb[0]*Xa[0]+lb[1]*Xa[1]+lb[2],-(lb[3]*Xa[0]+lb[4]*Xa[1]+lb[5])];Xa[1]=-Xa[1];return Xa}function aa(Xa,Va){var lb=Xa.project.invert,pb=Xa.transform,Gb=Va;if(pb){var Wb=1/(pb[0]*pb[4]-pb[1]*pb[3]);pb=[Wb*pb[4],-Wb*pb[1],Wb*(pb[1]*pb[5]-pb[2]*pb[4]),-Wb*pb[3],Wb*pb[0],Wb*(pb[2]*pb[3]-pb[0]*pb[5])];Gb=[pb[0]*Gb[0]+pb[1]*Gb[1]+pb[2],pb[3]*Gb[0]+pb[4]*Gb[1]+pb[5]]}if(pb=lb)lb=m=lb(Gb),lb=B(lb[0]*Qd,lb[1]*Qd),pb=Xa===lb;if(pb)return m;var m;Xa=Xa.children;lb=0;for(Gb=
Xa&&Xa.length;lb<Gb;++lb)if(m=aa(Xa[lb],Va))return m}K(A,{transform:null});yb(A)&&(U.invert=function(Xa,Va){return(Xa=aa(A,[Xa,-Va]))&&(Xa[0]*=Qd,Xa[1]*=Qd,Xa)});var ha=q.geoProjection(U),Aa=ha.stream;ha.stream=function(Xa){var Va=ha.rotate(),lb=Aa(Xa),pb=(ha.rotate([0,0]),Aa(Xa));ha.rotate(Va);lb.sphere=function(){pb.polygonStart();pb.lineStart();Yb(pb,A);pb.lineEnd();pb.polygonEnd()};return lb};return ha.angle(-30)}function Yb(A,B,K){var U,aa=B.edges,ha=aa.length;var Aa={type:"MultiPoint",coordinates:B.face};
var Xa=B.face.filter(function(Gb){return 90!==jc(Gb[1])}),Va=q.geoBounds({type:"MultiPoint",coordinates:Xa});Xa=!1;var lb=-1,pb=Va[1][0]-Va[0][0];Va=180===pb||360===pb?[(Va[0][0]+Va[1][0])/2,(Va[0][1]+Va[1][1])/2]:q.geoCentroid(Aa);if(K)for(;++lb<ha&&aa[lb]!==K;);++lb;for(pb=0;pb<ha;++pb)Aa=aa[(pb+lb)%ha],Array.isArray(Aa)?(Xa||(A.point((U=q.geoInterpolate(Aa[0],Va)(1E-6))[0],U[1]),Xa=!0),A.point((U=q.geoInterpolate(Aa[1],Va)(1E-6))[0],U[1])):(Xa=!1,Aa!==K&&Yb(A,Aa,B))}function cc(A,B){return A&&
B&&A[0]===B[0]&&A[1]===B[1]}function va(A,B){for(var K,U,aa=A.length,ha=null,Aa=0;Aa<aa;++Aa){K=A[Aa];for(var Xa=B.length;0<=--Xa;)if(U=B[Xa],K[0]===U[0]&&K[1]===U[1]){if(ha)return[ha,K];ha=K}}}function Qa(A){for(var B=A.length,K=[],U=A[B-1],aa=0;aa<B;++aa)K.push([U,U=A[aa]]);return K}function yb(A){return A.project.invert||A.children&&A.children.some(yb)}function Nb(A,B){A=y(A,B);return[A[0]*me,A[1]]}function gc(A,B){for(var K=0,U=A.length,aa=0;K<U;++K)aa+=A[K]*B[K];return aa}function tc(A,B){return[A[1]*
B[2]-A[2]*B[1],A[2]*B[0]-A[0]*B[2],A[0]*B[1]-A[1]*B[0]]}function lc(A){return[Jd(A[1],A[0])*Ld,Pa(Ye(-1,Oe(1,A[2])))*Ld]}function xb(A){var B=A[0]*Qd;A=A[1]*Qd;var K=Lb(A);return[K*Lb(B),K*fc(B),fc(A)]}function Qb(A,B){return{type:"FeatureCollection",features:A.features.map(function(K){return Gc(K,B)})}}function Gc(A,B){return{type:"Feature",id:A.id,properties:A.properties,geometry:Ac(A.geometry,B)}}function $b(A,B){return{type:"GeometryCollection",geometries:A.geometries.map(function(K){return Ac(K,
B)})}}function Ac(A,B){if(!A)return null;if("GeometryCollection"===A.type)return $b(A,B);switch(A.type){case "Point":var K=ef;break;case "MultiPoint":K=ef;break;case "LineString":K=xf;break;case "MultiLineString":K=xf;break;case "Polygon":K=Ff;break;case "MultiPolygon":K=Ff;break;case "Sphere":K=Ff;break;default:return null}q.geoStream(A,B(K));return K.result()}function Jc(A){function B(U,aa){var ha=jc(U)<Yc;aa=A(ha?U:0<U?U-dc:U+dc,aa);U=(aa[0]-aa[1])*ee;aa=(aa[0]+aa[1])*ee;if(ha)return[U,aa];ha=
K*ee;var Aa=0<U^0<aa?-1:1;return[Aa*U-be(aa)*ha,Aa*aa-be(U)*ha]}var K=A(Yc,0)[0]-A(-Yc,0)[0];A.invert&&(B.invert=function(U,aa){var ha=(U+aa)*ee,Aa=(aa-U)*ee,Xa=jc(ha)<.5*K&&jc(Aa)<.5*K;if(!Xa){var Va=K*ee,lb=0<ha^0<Aa?-1:1;U=-lb*U+(0<Aa?1:-1)*Va;aa=-lb*aa+(0<ha?1:-1)*Va;ha=(-U-aa)*ee;Aa=(U-aa)*ee}aa=A.invert(ha,Aa);Xa||(aa[0]+=0<ha?dc:-dc);return aa});return q.geoProjection(B).rotate([-90,-90,45]).clipAngle(179.999)}function Hc(A){function B(U,aa){U=K?Pd(U*K/2)/K:U/2;if(!aa)return[2*U,-A];U=2*Wd(U*
fc(aa));var ha=1/Pd(aa);return[fc(U)*ha,aa+(1-Lb(U))*ha-A]}var K=fc(A);B.invert=function(U,aa){if(1E-6>jc(aa+=A))return[K?2*Wd(K*U/2)/K:U,0];var ha=U*U+aa*aa,Aa=0,Xa=10;do{var Va=Pd(Aa);var lb=1/Lb(Aa),pb=ha-2*aa*Aa+Aa*Aa;Aa-=Va=(Va*pb+2*(Aa-aa))/(2+pb*lb*lb+2*(Aa-aa)*Va)}while(1E-6<jc(Va)&&0<--Xa);U*=Va=Pd(Aa);aa=Pd(jc(aa)<jc(Aa+1/Va)?.5*Pa(U):.5*Kb(U)+dc/4)/fc(Aa);return[K?2*Wd(K*aa)/K:2*aa,Aa]};return B}function ad(A,B){var K=Oe(18,36*jc(B)/dc),U=oe(K);K-=U;var aa=(Va=kf[U])[0],ha=Va[1],Aa=(Va=
kf[++U])[0],Xa=Va[1];U=(Va=kf[Oe(19,++U)])[0];Va=Va[1];var Va;return[A*(Aa+K*(U-aa)/2+K*K*(U-2*Aa+aa)/2),(0<B?Yc:-Yc)*(Xa+K*(Va-ha)/2+K*K*(Va-2*Xa+ha)/2)]}function md(A){function B(K,U){var aa=Lb(U),ha=(A-1)/(A-aa*Lb(K));return[ha*aa*fc(K),ha*fc(U)]}B.invert=function(K,U){var aa=K*K+U*U,ha=Ma(aa);aa=(A-Ma(1-aa*(A+1)/(A-1)))/((A-1)/ha+ha/(A-1));return[Jd(K*aa,ha*Ma(1-aa*aa)),ha?Pa(U*aa/ha):0]};return B}function od(A,B){function K(Aa,Xa){Aa=U(Aa,Xa);Xa=Aa[1];var Va=Xa*ha/(A-1)+aa;return[Aa[0]*aa/Va,
Xa/Va]}var U=md(A);if(!B)return U;var aa=Lb(B),ha=fc(B);K.invert=function(Aa,Xa){var Va=(A-1)/(A-1-Xa*ha);return U.invert(Va*Aa,Va*Xa*aa)};return K}function rd(A){return 0<A.length}function Vd(A){return-90===A||90===A?[0,A]:[-180,Math.floor(1E4*A)/1E4]}function Zd(A){var B=A[0],K=A[1],U=!1;-179.9999>=B?(B=-180,U=!0):179.9999<=B&&(B=180,U=!0);-89.9999>=K?(K=-90,U=!0):89.9999<=K&&(K=90,U=!0);return U?[B,K]:A}function ze(A){return A.map(Zd)}function te(A,B,K){for(var U=0,aa=A.length;U<aa;++U){var ha=
A[U].slice();K.push({index:-1,polygon:B,ring:ha});for(var Aa=0,Xa=ha.length;Aa<Xa;++Aa){var Va=ha[Aa],lb=Va[0],pb=Va[1];if(-179.9999>=lb||179.9999<=lb||-89.9999>=pb||89.9999<=pb){ha[Aa]=Zd(Va);for(Va=Aa+1;Va<Xa;++Va){var Gb=ha[Va];lb=Gb[0];Gb=Gb[1];if(-179.9999<lb&&179.9999>lb&&-89.9999<Gb&&89.9999>Gb)break}if(Va!==Aa+1){Aa?(Aa={index:-1,polygon:B,ring:ha.slice(0,Aa+1)},Aa.ring[Aa.ring.length-1]=Vd(pb),K[K.length-1]=Aa):K.pop();if(Va>=Xa)break;K.push({index:-1,polygon:B,ring:ha=ha.slice(Va-1)});ha[0]=
Vd(ha[0][1]);Aa=-1;Xa=ha.length}}}}}function ue(A){var B,K=A.length,U={},aa={};for(B=0;B<K;++B){var ha=A[B];var Aa=ha.ring[0];var Xa=ha.ring[ha.ring.length-1];Aa[0]===Xa[0]&&Aa[1]===Xa[1]?(ha.polygon.push(ha.ring),A[B]=null):(ha.index=B,U[Aa]=aa[Xa]=ha)}for(B=0;B<K;++B)if(ha=A[B]){Aa=ha.ring[0];Xa=ha.ring[ha.ring.length-1];var Va=aa[Aa];var lb=U[Xa];delete U[Aa];delete aa[Xa];Aa[0]===Xa[0]&&Aa[1]===Xa[1]?ha.polygon.push(ha.ring):Va?(delete aa[Aa],delete U[Va.ring[0]],Va.ring.pop(),A[Va.index]=null,
ha={index:-1,polygon:Va.polygon,ring:Va.ring.concat(ha.ring)},Va===lb?ha.polygon.push(ha.ring):(ha.index=K++,A.push(U[ha.ring[0]]=aa[ha.ring[ha.ring.length-1]]=ha))):lb?(delete U[Xa],delete aa[lb.ring[lb.ring.length-1]],ha.ring.pop(),ha={index:K++,polygon:lb.polygon,ring:ha.ring.concat(lb.ring)},A[lb.index]=null,A.push(U[ha.ring[0]]=aa[ha.ring[ha.ring.length-1]]=ha)):(ha.ring.push(ha.ring[0]),ha.polygon.push(ha.ring))}}function bf(A){var B={type:"Feature",geometry:vd(A.geometry)};null!=A.id&&(B.id=
A.id);null!=A.bbox&&(B.bbox=A.bbox);null!=A.properties&&(B.properties=A.properties);return B}function vd(A){if(null==A)return A;switch(A.type){case "GeometryCollection":var B={type:"GeometryCollection",geometries:A.geometries.map(vd)};break;case "Point":B={type:"Point",coordinates:Zd(A.coordinates)};break;case "MultiPoint":case "LineString":B={type:A.type,coordinates:ze(A.coordinates)};break;case "MultiLineString":B={type:"MultiLineString",coordinates:A.coordinates.map(ze)};break;case "Polygon":var K=
[];te(A.coordinates,K,B=[]);ue(B);B={type:"Polygon",coordinates:K};break;case "MultiPolygon":B=[];K=-1;var U=A.coordinates.length;for(var aa=Array(U);++K<U;)te(A.coordinates[K],aa[K]=[],B);ue(B);B={type:"MultiPolygon",coordinates:aa.filter(rd)};break;default:return A}null!=A.bbox&&(B.bbox=A.bbox);return B}function N(A,B){B=Pd(B/2);var K=fc(ne*B);return[A*(.74482-.34588*K*K),1.70711*B]}function na(A,B,K){var U=q.geoInterpolate(B,K);K=U(.5);B=q.geoRotation([-K[0],-K[1]])(B);U=U.distance/2;var aa=-Pa(fc(B[1]*
Qd)/fc(U));K=[-K[0],-K[1],-(0<B[0]?dc-aa:aa)*Ld];A=q.geoProjection(A(U)).rotate(K);var ha=q.geoRotation(K),Aa=A.center;delete A.rotate;A.center=function(Xa){return arguments.length?Aa(ha(Xa)):ha.invert(Aa())};return A.clipAngle(90)}function Da(A){function B(U,aa){U=q.geoGnomonicRaw(U,aa);U[0]*=K;return U}var K=Lb(A);B.invert=function(U,aa){return q.geoGnomonicRaw.invert(U/K,aa)};return B}function gb(A,B){return na(Da,A,B)}function Sa(A){function B(Xa,Va){var lb=Kb(Lb(Va)*Lb(Xa-K));Xa=Kb(Lb(Va)*Lb(Xa-
U));lb*=lb;Xa*=Xa;return[(lb-Xa)/(2*A),(0>Va?-1:1)*Ma(4*aa*Xa-(aa-lb+Xa)*(aa-lb+Xa))/(2*A)]}if(!(A*=2))return q.geoAzimuthalEquidistantRaw;var K=-A/2,U=-K,aa=A*A,ha=Pd(U),Aa=.5/fc(U);B.invert=function(Xa,Va){var lb=Va*Va,pb=Lb(Ma(lb+(Gb=Xa+K)*Gb));Xa=Lb(Ma(lb+(Gb=Xa+U)*Gb));var Gb,Wb;return[Jd(Wb=pb-Xa,Gb=(pb+Xa)*ha),(0>Va?-1:1)*Kb(Ma(Gb*Gb+Wb*Wb)*Aa)]};return B}function Pb(A,B){return na(Sa,A,B)}function kc(A,B){if(1E-6>jc(B))return[A,0];var K=jc(B/Yc),U=Pa(K);if(1E-6>jc(A)||1E-6>jc(jc(B)-Yc))return[0,
be(B)*dc*Pd(U/2)];var aa=Lb(U);U=jc(dc/A-A/dc)/2;var ha=U*U;aa/=K+aa-1;K=aa*(2/K-1);var Aa=K*K,Xa=Aa+ha,Va=aa-Aa,lb=ha+aa;return[be(A)*dc*(U*Va+Ma(ha*Va*Va-Xa*(aa*aa-Aa)))/Xa,be(B)*dc*(K*lb-U*Ma((ha+1)*Xa-lb*lb))/Xa]}function oc(A,B){if(1E-6>jc(B))return[A,0];var K=jc(B/Yc),U=Pa(K);if(1E-6>jc(A)||1E-6>jc(jc(B)-Yc))return[0,be(B)*dc*Pd(U/2)];var aa=Lb(U);U=jc(dc/A-A/dc)/2;var ha=U*U;K=aa*(Ma(1+ha)-U*aa)/(1+ha*K*K);return[be(A)*dc*K,be(B)*dc*Ma(1-K*(2*U+K))]}function qc(A,B){if(1E-6>jc(B))return[A,
0];var K=B/Yc,U=Pa(K);if(1E-6>jc(A)||1E-6>jc(jc(B)-Yc))return[0,dc*Pd(U/2)];B=(dc/A-A/dc)/2;K/=1+Lb(U);return[dc*(be(A)*Ma(B*B+1-K*K)-B),dc*K]}function uc(A,B){if(!B)return[A,0];var K=jc(B);if(!A||K===Yc)return[0,B];var U=K/Yc;K=U*U;var aa=(8*U-K*(K+2)-5)/(2*K*(U-1)),ha=aa*aa,Aa=U*aa,Xa=K+ha+2*Aa;U+=3*aa;aa=A/Yc;aa+=1/aa;aa=be(jc(A)-Yc)*Ma(aa*aa-4);var Va=aa*aa;K=(aa*(Xa+ha-1)+2*Ma(Xa*(K+ha*Va-1)+(1-K)*(K*(U*U+4*ha)+12*Aa*ha+4*ha*ha)))/(4*Xa+Va);return[be(A)*Yc*K,be(B)*Yc*Ma(1+aa*jc(K)-K*K)]}function kd(A,
B,K,U,aa){function ha(Aa,Xa){Xa=K*fc(U*Xa);var Va=Ma(1-Xa*Xa),lb=Ma(2/(1+Va*Lb(Aa*=aa)));return[A*Va*lb*fc(Aa),B*Xa*lb]}ha.invert=function(Aa,Xa){var Va=Aa/A,lb=Xa/B;Va=Ma(Va*Va+lb*lb);lb=2*Pa(Va/2);return[Jd(Aa*Pd(lb),A*Va)/aa,Va&&Pa(Xa*fc(lb)/(B*K*Va))/U]};return ha}function pd(A,B,K,U){var aa=dc/3;A=Ye(A,1E-6);B=Ye(B,1E-6);A=Oe(A,Yc);B=Oe(B,dc-1E-6);K=Ye(K,0);K=Oe(K,99.999999);U=Ye(U,1E-6);var ha=U/100;K=Kb((K/100+1)*Lb(aa))/aa;aa=fc(A)/fc(K*Yc);U=B/dc;B=Ma(ha*fc(A/2)/fc(B/2));A=B/Ma(U*aa*K);B=
1/(B*Ma(U*aa*K));return kd(A,B,aa,K,U)}function yd(){var A=65*Qd,B=60*Qd,K=20,U=200,aa=q.geoProjectionMutator(pd),ha=aa(A,B,K,U);ha.poleline=function(Aa){return arguments.length?aa(A=+Aa*Qd,B,K,U):A*Ld};ha.parallels=function(Aa){return arguments.length?aa(A,B=+Aa*Qd,K,U):B*Ld};ha.inflation=function(Aa){return arguments.length?aa(A,B,K=+Aa,U):K};ha.ratio=function(Aa){return arguments.length?aa(A,B,K,U=+Aa):U};return ha.scale(163.775)}function ld(A,B){return[A*Ma(1-3*B*B/(dc*dc)),B]}function Od(A,B){var K=
Lb(B),U=Lb(A)*K,aa=1-U;B=Lb(A=Jd(fc(A)*K,-fc(B)));A=fc(A);K=Ma(1-U*U);return[A*K-B*aa,-B*K-A*aa]}function de(A,B){var K=Ea(A,B);return[(K[0]+A/Yc)/2,(K[1]+B)/2]}var jc=Math.abs,Wd=Math.atan,Jd=Math.atan2,Lb=Math.cos,Ke=Math.exp,oe=Math.floor,re=Math.log,Ye=Math.max,Oe=Math.min,ff=Math.pow,He=Math.round,be=Math.sign||function(A){return 0<A?1:0>A?-1:0},fc=Math.sin,Pd=Math.tan,dc=Math.PI,Yc=dc/2,ne=dc/4,ee=Math.SQRT1_2,Pc=Ma(2),fe=Ma(dc),Sd=2*dc,Ld=180/dc,Qd=dc/180;Ea.invert=function(A,B){if(!(A*A+4*
B*B>dc*dc+1E-6)){var K=A,U=B,aa=25;do{var ha=fc(K),Aa=fc(K/2),Xa=Lb(K/2),Va=fc(U),lb=Lb(U),pb=fc(2*U),Gb=Va*Va,Wb=lb*lb,m=Aa*Aa,v=1-Wb*Xa*Xa,P=v?Kb(lb*Xa)*Ma(V=1/v):V=0,V;v=2*P*lb*Aa-A;var Ga=P*Va-B,ob=V*(Wb*m+P*lb*Xa*Gb),Db=V*(.5*ha*pb-2*P*Va*Aa);ha=.25*V*(pb*Aa-P*Va*Wb*ha);lb=V*(Gb*Xa+P*m*lb);Xa=Db*ha-lb*ob;if(!Xa)break;Db=(Ga*Db-v*lb)/Xa;v=(v*ha-Ga*ob)/Xa;K-=Db;U-=v}while((1E-6<jc(Db)||1E-6<jc(v))&&0<--aa);return[K,U]}};fb.invert=function(A,B){A*=.375;B*=.375;if(!A&&1<jc(B))return null;var K=1+
A*A+B*B,U=Ma((K-Ma(K*K-4*B*B))/2);K=Pa(U)/3;U?(U=jc(B/U),U=re(U+Ma(U*U-1))/3):(U=jc(A),U=re(U+Ma(U*U+1))/3);var aa=Lb(K),ha=Eb(U),Aa=ha*ha-aa*aa;return[2*be(A)*Jd(db(U)*aa,.25-Aa),2*be(B)*Jd(ha*fc(K),.25+Aa)]};var Ed=Ma(8),ke=re(1+Pc);Ja.invert=function(A,B){if((aa=jc(B))<ke)return[A,2*Wd(Ke(B))-Yc];var K=ne,U=25,aa;do{var ha=Lb(K/2);var Aa=Pd(K/2);K-=ha=(Ed*(K-ne)-re(Aa)-aa)/(Ed-ha*ha/(2*Aa))}while(1E-12<jc(ha)&&0<--U);return[A/(Lb(K)*(Ed-1/fc(K))),be(B)*K]};Ha.invert=function(A,B){B=2*Pa(B/2);return[A*
Lb(B/2)/Lb(B),B]};var Gd=xa(Pc/Yc,Pc,dc);Oa.invert=function(A,B){var K=2.00276*B;B=0>B?-ne:ne;var U=25;do{var aa=K-Pc*fc(B);B-=aa=(fc(2*B)+2*B-dc*fc(aa))/(2*Lb(2*B)+2+dc*Lb(aa)*Pc*Lb(B))}while(1E-6<jc(aa)&&0<--U);aa=K-Pc*fc(B);return[A*(1/Lb(aa)+1.11072/Lb(B))/2.00276,aa]};ia.invert=function(A,B){return[A/Lb(B),B]};var pe=xa(1,4/dc,dc);y.invert=function(A,B){var K=(K=B/fe-1)*K;return[0<K?A*Ma(dc/K)/2:0,Pa(1-K)]};var Le=Ma(3);G.invert=function(A,B){B=3*Pa(B/(Le*fe));return[fe*A/(Le*(2*Lb(2*B/3)-1)),
B]};F.invert=function(A,B){var K=Ma(8/(3*dc));B/=K;return[A/(K*(1-jc(B)/dc)),B]};M.invert=function(A,B){var K=2-jc(B)/Ma(2*dc/3);return[A*Ma(6*dc)/(2*K),be(B)*Pa((4-K*K)/3)]};ka.invert=function(A,B){var K=Ma(dc*(4+dc))/2;return[A*K/(1+Ma(1-B*B*(4+dc)/(4*dc))),B*K/2]};Ia.invert=function(A,B){B=B*Ma((4+dc)/dc)/2;var K=Pa(B),U=Lb(K);return[A/(2/Ma(dc*(4+dc))*(1+U)),Pa((K+B*(U+2))/(2+Yc))]};Ta.invert=function(A,B){var K=Ma(2+dc);B=B*K/2;return[K*A/(1+Lb(B)),B]};D.invert=function(A,B){var K=1+Yc,U=Ma(K/
2);return[2*A*U/(1+Lb(B*=U)),Pa((B+fc(B))/K)]};var cf=3+2*Pc;fa.invert=function(A,B){if(!(aa=fb.invert(A/1.2,1.065*B)))return null;var K=aa[0];aa=aa[1];var U=20,aa;A/=cf;B/=cf;do{var ha=K/2,Aa=aa/2,Xa=fc(ha),Va=Lb(ha),lb=fc(Aa),pb=Lb(Aa),Gb=Lb(aa),Wb=Ma(Gb),m=lb/(pb+Pc*Va*Wb),v=m*m,P=Ma(2/(1+v)),V=(Pc*pb+(Va+Xa)*Wb)/(Pc*pb+(Va-Xa)*Wb),Ga=Ma(V),ob=Ga-1/Ga,Db=Ga+1/Ga;Aa=P*ob-2*re(Ga)-A;ha=P*m*Db-2*Wd(m)-B;var Ub=lb&&ee*Wb*Xa*v/lb,ec=(Pc*Va*pb+Wb)/(2*(pb+Pc*Va*Wb)*(pb+Pc*Va*Wb)*Wb),zc=-.5*m*P*P*P,Cc=
zc*Ub;zc*=ec;var $c=($c=2*pb+Pc*Wb*(Va-Xa))*$c*Ga;Va=(Pc*Va*pb*Wb+Gb)/$c;lb=-(Pc*Xa*lb)/(Wb*$c);Xa=ob*Cc-2*Va/Ga+P*(Va+Va/V);Ga=ob*zc-2*lb/Ga+P*(lb+lb/V);Ub=m*Db*Cc-2*Ub/(1+v)+P*Db*Ub+P*m*(Va-Va/V);v=m*Db*zc-2*ec/(1+v)+P*Db*ec+P*m*(lb-lb/V);m=Ga*Ub-v*Xa;if(!m)break;v=(ha*Ga-Aa*v)/m;Aa=(Aa*Ub-ha*Xa)/m;K-=v;aa=Ye(-Yc,Oe(Yc,aa-Aa))}while((1E-6<jc(v)||1E-6<jc(Aa))&&0<--U);return 1E-6>jc(jc(aa)-Yc)?[0,aa]:U&&[K,aa]};var qf=Lb(35*Qd);Y.invert=function(A,B){B/=1+qf;return[A&&A/(qf*Ma(1-B*B)),2*Wd(B)]};W.invert=
function(A,B){var K=Wd(B/fe);B=Lb(K);K*=2;return[A*fe/2/(Lb(K)*B*B),K]};var gd=t(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),rf=t(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Fe=t(5/6*dc,-.62636,-.0344,0,1.3493,-.05524,0,.045);w.invert=function(A,B){var K=A,U=B,aa=50,ha;do{var Aa=U*U;U-=ha=(U*(1+Aa/12)-B)/(1+Aa/4)}while(1E-6<jc(ha)&&0<--aa);aa=50;A/=1-.162388*Aa;do{var Xa=(Xa=K*K)*Xa;K-=ha=(K*(.87-9.52426E-4*Xa)-A)/(.87-.00476213*Xa)}while(1E-6<jc(ha)&&0<--aa);return[K,
U]};var Pe=t(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);la.invert=function(A,B){1<jc(A)&&(A=2*be(A)-A);1<jc(B)&&(B=2*be(B)-B);var K=be(A),U=be(B),aa=-K*A,ha=-U*B;B=1>ha/aa;A=B?ha:aa;var Aa=B?aa:ha,Xa=0,Va=1;aa=.5;for(var lb=50;;){ha=aa*aa;var pb=Ma(aa),Gb=Pa(1/Ma(1+ha)),Wb=1-ha+aa*(1+ha)*Gb,m=(1-pb)/Wb,v=Ma(m),P=m*(1+ha),V=v*(1-ha),Ga=Ma(P-A*A);V=Aa+V+aa*Ga;if(1E-12>jc(Va-Xa)||0===--lb||0===V)break;0<V?Xa=aa:Va=aa;aa=.5*(Xa+Va)}lb?(Aa=Pa(pb),lb=Lb(Aa),Xa=1/lb,Va=2*pb*lb,pb=(-Wb*lb-(1-
pb)*(-3*aa+Gb*(1+3*ha))*Va)/(Wb*Wb),aa=[dc/4*(A*(-2*Xa*(.5*pb/v*(1-ha)-2*aa*v*Va)+-Xa*Va*Ga)+-Xa*(aa*(1+ha)*pb+m*(1+3*ha)*Va)*Pa(A/Ma(P))),Aa]):aa=null;A=aa[0];aa=aa[1];ha=Lb(aa);B&&(A=-Yc-A);return[K*(Jd(fc(A)*ha,-fc(aa))+dc),U*Pa(Lb(A)*ha)]};cb.invert=function(A,B){var K=(Pc-1)/(Pc+1),U=Ma(1-K*K);B=.5*eb(Yc,U*U)-B;A=-A;U*=U;if(B)if(B=ua(B,U),A){A=ua(A,1-U);var aa=A[1]*A[1]+U*B[0]*B[0]*A[0]*A[0];B=[[B[0]*A[2]/aa,B[1]*B[2]*A[0]*A[1]/aa],[B[1]*A[1]/aa,-B[0]*B[2]*A[0]*A[2]/aa],[B[2]*A[1]*A[2]/aa,-U*
B[0]*B[1]*A[0]/aa]]}else B=[[B[0],0],[B[1],0],[B[2],0]];else A=ua(A,1-U),B=[[0,A[0]/A[1]],[1/A[1],0],[A[2]/A[1],0]];U=B[0];B=B[1];A=B[0]*B[0]+B[1]*B[1];U=[(U[0]*B[0]+U[1]*B[1])/A,(U[1]*B[0]-U[0]*B[1])/A];return[Jd(U[1],U[0])/-1,2*Wd(Ke(-.5*re(K*U[0]*U[0]+K*U[1]*U[1])))-Yc]};var Ee=Pa(1-1/3)*Ld,$e=J(0);ya.invert=function(A,B){return-.7109889596207567<B?Gd.invert(A,B-.0528035274542):ia.invert(A,B)};wb.invert=function(A,B){return.7109889596207567<jc(B)?Gd.invert(A,B+(0<B?.0528035274542:-.0528035274542)):
ia.invert(A,B)};var Qe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],df=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Be=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,
0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],C=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Q=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Na=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];tb.invert=function(A,
B){return[Sd/3*A/Ma(dc*dc/3-B*B),B]};var Ab=dc/Pc;Mb.invert=function(A,B){var K=jc(A),U=jc(B),aa=1E-6,ha=Yc;U<Ab?ha*=U/Ab:aa+=6*Kb(Ab/U);for(var Aa=0;25>Aa;Aa++){var Xa=fc(ha),Va=Ma(Lb(ha)),lb=fc(ha/2),pb=Lb(ha/2),Gb=fc(aa/6),Wb=Lb(aa/6),m=.5*aa*(1+Va)-K,v=ha/(pb*Wb)-U;Xa=Va?-.25*aa*Xa/Va:0;Va=.5*(1+Va);lb=(1+.5*ha*lb/pb)/(pb*Wb);Gb=ha/pb*(Gb/6)/(Wb*Wb);pb=Xa*Gb-lb*Va;Gb=(m*Gb-v*Va)/pb;m=(v*Xa-m*lb)/pb;ha-=Gb;aa-=m;if(1E-6>jc(Gb)&&1E-6>jc(m))break}return[0>A?-aa:aa,0>B?-ha:ha]};xc.invert=function(A,
B){var K=be(A)*dc,U=B/2,aa=50;do{var ha=K*K,Aa=U*U,Xa=K*U,Va=K*(.975534+Aa*(-.119161+-.0143059*ha+-.0547009*Aa))-A,lb=U*(1.00384+ha*(.0802894+-.02855*Aa+1.99025E-4*ha)+Aa*(.0998909+-.0491032*Aa))-B,pb=.975534-Aa*(.119161+.0429177*ha+.0547009*Aa),Gb=-Xa*(.238322+.2188036*Aa+.0286118*ha);Xa*=.1605788+7.961E-4*ha+-.0571*Aa;Aa=1.00384+ha*(.0802894+1.99025E-4*ha)+Aa*(3*(.0998909-.02855*ha)-.245516*Aa);ha=Gb*Xa-Aa*pb;Gb=(lb*Gb-Va*Aa)/ha;Va=(Va*Xa-lb*pb)/ha;K-=Gb;U-=Va}while((1E-6<jc(Gb)||1E-6<jc(Va))&&
0<--aa);return aa&&[K,U]};Xc.invert=function(A,B){var K=A*A,U=B*B+1,aa=K+U;K=A?ee*Ma((aa-Ma(aa*aa-4*K))/K):1/Ma(U);return[Pa(A*K),be(B)*Kb(K)]};xd.invert=function(A,B){return[A,2.5*Wd(Ke(.8*B))-.625*dc]};var zb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ib=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ac=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],
[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Oc=[[.9245,0],[0,0],[.01943,0]],Fc=[[.721316,0],[0,0],[-.00881625,-.00617325]],bd=Ma(6),cd=Ma(7);Rb.invert=function(A,B){B=3*Pa(B*cd/9);return[A*cd/(bd*(2*Lb(2*B/3)-1)),Pa(3*fc(B)*bd/7)]};Rc.invert=function(A,B){B=B*Ma(2+Pc)/(2*Ma(3));var K=2*Pa(B);return[3*Pc*A/(1+2*Lb(K)/Lb(K/2)),Pa((B+fc(K))/(1+ee))]};se.invert=function(A,B){var K=Ma(6/(4+dc));B/=K;1E-6>jc(jc(B)-Yc)&&(B=0>B?-Yc:Yc);return[1.5*A/(K*(.5+Lb(B))),
Pa((B/2+fc(B))/(1+dc/4))]};De.invert=function(A,B){var K=B,U=25;do{var aa=K*K;var ha=aa*aa;K-=aa=(K*(1.01183+ha*ha*(-.02625+.01926*aa-.00396*ha))-B)/(1.01183+ha*ha*(-.23625+.21186*aa+-.05148*ha))}while(1E-12<jc(aa)&&0<--U);aa=K*K;ha=aa*aa;B=aa*ha;return[A/(.84719-.13063*aa+B*B*(-.04515+.05494*aa-.02326*ha+.00331*B)),K]};Ne.invert=function(A,B){for(var K=B/2,U=0,aa=Infinity;10>U&&1E-6<jc(aa);++U)aa=Lb(B/2),B-=aa=(B-Pd(B/2)-K)/(1-.5/(aa*aa));return[2*A/(1+Lb(B)),B]};var jd=[[[[-180,0],[-90,90],[0,0]],
[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];Md.invert=function(A,B){A/=Yc;B/=Yc;var K=A*A,U=K+B*B,aa=dc*dc;return[A?(U-1+Ma((1-U)*(1-U)+4*K))/(2*A)*Yc:0,Wa(function(ha){return U*(dc*fc(ha)-2*ha)*dc+4*ha*ha*(B-fc(ha))+2*dc*ha-aa*B},0)]};var wd=5*.23185;I.invert=function(A,B){1.790857183<B?B=1.790857183:-1.790857183>B&&(B=-1.790857183);var K=B;do{var U=K*K;K-=U=(K*(1.0148+U*U*(.23185+U*(-.14499+.02406*U)))-B)/(1.0148+U*U*(wd+U*(-1.01493+.21654*U)))}while(1E-6<jc(U));
return[A,K]};da.invert=function(A,B){if(1E-6>jc(B))return[A,0];var K=A*A+B*B,U=.5*B,aa=10;do{var ha=Pd(U);var Aa=1/Lb(U),Xa=K-2*B*U+U*U;U-=ha=(ha*Xa+2*(U-B))/(2+Xa*Aa*Aa+2*(U-B)*ha)}while(1E-6<jc(ha)&&0<--aa);ha=Pd(U);return[(jc(B)<jc(U+1/ha)?Pa(A*ha):be(B)*be(A)*(Kb(jc(A*ha))+Yc))/fc(U),U]};var Hd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ge=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(A){return A.map(function(B){return Hd[B]})}),me=2/Ma(3);Nb.invert=function(A,
B){return y.invert(A/me,B)};var qe=function(){},he=[],Fd=[],ef={point:function(A,B){he.push([A,B])},result:function(){var A=he.length?2>he.length?{type:"Point",coordinates:he[0]}:{type:"MultiPoint",coordinates:he}:null;he=[];return A}},xf={lineStart:qe,point:function(A,B){he.push([A,B])},lineEnd:function(){he.length&&(Fd.push(he),he=[])},result:function(){var A=Fd.length?2>Fd.length?{type:"LineString",coordinates:Fd[0]}:{type:"MultiLineString",coordinates:Fd}:null;Fd=[];return A}},Ff={polygonStart:qe,
lineStart:qe,point:function(A,B){he.push([A,B])},lineEnd:function(){var A=he.length;if(A){do he.push(he[0].slice());while(4>++A);Fd.push(he);he=[]}},polygonEnd:qe,result:function(){if(!Fd.length)return null;var A=[],B=[];Fd.forEach(function(K){if(4>(aa=K.length))var U=!1;else{U=0;for(var aa,ha=K[aa-1][1]*K[0][0]-K[aa-1][0]*K[0][1];++U<aa;)ha+=K[U-1][1]*K[U][0]-K[U-1][0]*K[U][1];U=0>=ha}U?A.push([K]):B.push(K)});B.forEach(function(K){var U=K[0];A.some(function(aa){for(var ha=aa[0],Aa=U[0],Xa=U[1],
Va=!1,lb=0,pb=ha.length,Gb=pb-1;lb<pb;Gb=lb++){var Wb=ha[lb],m=Wb[0];Wb=Wb[1];var v=ha[Gb];Gb=v[0];v=v[1];Wb>Xa^v>Xa&&Aa<(Gb-m)*(Xa-Wb)/(v-Wb)+m&&(Va=!Va)}if(Va)return aa.push(K),!0})||A.push([K])});Fd=[];return A.length?1<A.length?{type:"MultiPolygon",coordinates:A}:{type:"Polygon",coordinates:A[0]}:null}},kf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],
[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];kf.forEach(function(A){A[1]*=1.0144});ad.invert=function(A,B){var K=B/Yc,U=90*K,aa=Oe(18,jc(U/5)),ha=Ye(0,oe(aa));do{var Aa=kf[ha][1],Xa=kf[ha+1][1],Va=kf[Oe(19,ha+2)][1],lb=Va-Aa;Aa=Va-2*Xa+Aa;Xa=2*(jc(K)-Xa)/lb;lb=Aa/lb;lb=Xa*(1-lb*Xa*(1-2*lb*Xa));if(0<=lb||1===ha){U=(0<=B?5:-5)*(lb+aa);K=50;do aa=Oe(18,jc(U)/5),ha=oe(aa),lb=aa-ha,Aa=kf[ha][1],Xa=kf[ha+1][1],Va=kf[Oe(19,ha+2)][1],U-=(aa=(0<=B?Yc:-Yc)*(Xa+lb*(Va-Aa)/2+lb*lb*(Va-2*
Xa+Aa)/2)-B)*Ld;while(1E-12<jc(aa)&&0<--K);break}}while(0<=--ha);B=kf[ha][0];aa=kf[ha+1][0];ha=kf[Oe(19,ha+2)][0];return[A/(aa+lb*(ha-B)/2+lb*lb*(ha-2*aa+B)/2),U*Qd]};N.invert=function(A,B){B/=1.70711;var K=fc(ne*B);return[A/(.74482-.34588*K*K),2*Wd(B)]};kc.invert=function(A,B){if(1E-6>jc(B))return[A,0];if(1E-6>jc(A))return[0,Yc*fc(2*Wd(B/dc))];var K=(A/=dc)*A,U=(B/=dc)*B,aa=K+U,ha=aa*aa,Aa=-jc(B)*(1+aa),Xa=Aa-2*U+K,Va=-2*Aa+1+2*U+ha,lb=U/Va+(2*Xa*Xa*Xa/(Va*Va*Va)-9*Aa*Xa/(Va*Va))/27,pb=(Aa-Xa*Xa/
(3*Va))/Va;Aa=2*Ma(-pb/3);lb=Kb(3*lb/(pb*Aa))/3;return[dc*(aa-1+Ma(1+2*(K-U)+ha))/(2*A),be(B)*dc*(-Aa*Lb(lb+dc/3)-Xa/(3*Va))]};oc.invert=function(A,B){if(!A)return[0,Yc*fc(2*Wd(B/dc))];var K=jc(A/dc),U=(1-K*K-(B/=dc)*B)/(2*K),aa=Ma(U*U+1);return[be(A)*dc*(aa-U),be(B)*Yc*fc(2*Jd(Ma((1-2*U*K)*(U+aa)-K),Ma(aa+U+K)))]};qc.invert=function(A,B){if(!B)return[A,0];B/=dc;var K=(dc*dc*(1-B*B)-A*A)/(2*dc*A);return[A?dc*(be(A)*Ma(K*K+1)-K):0,Yc*fc(2*Wd(B))]};uc.invert=function(A,B){if(!A||!B)return[A,B];var K=
be(B);B=jc(B)/dc;var U=be(A)*A/Yc,aa=(U*U-1+4*B*B)/jc(U),ha=aa*aa,Aa=B*(2-(.5<B?Oe(B,jc(A)):0));B=A*A+B*B;var Xa=50;do{var Va=Aa*Aa;var lb=(8*Aa-Va*(Va+2)-5)/(2*Va*(Aa-1));var pb=(3*Aa-Va*Aa-10)/(2*Va*Aa),Gb=lb*lb,Wb=Aa*lb,m=Aa+lb,v=m*m,P=Aa+3*lb,V=-2*m*(4*Wb*Gb+(1-4*Va+3*Va*Va)*(1+pb)+Gb*(-6+14*Va-ha+(-8+8*Va-2*ha)*pb)+Wb*(-8+12*Va+(-10+10*Va-ha)*pb));Va=Ma(v*(Va+Gb*ha-1)+(1-Va)*(Va*(P*P+4*Gb)+Gb*(12*Wb+4*Gb)));Aa-=lb=(aa*(v+Gb-1)+2*Va-U*(4*v+ha))/(aa*(2*lb*pb+2*m*(1+pb))+V/Va-8*m*(aa*(-1+Gb+v)+
2*Va)*(1+pb)/(ha+4*v))}while(1E-6<lb*B*B&&0<--Xa);return[be(A)*(Ma(aa*aa+4)+aa)*dc/4,K*Yc*Aa]};var cg=4*dc+3*Ma(3),yf=2*Ma(2*dc*Ma(3)/cg),Xf=xa(yf*Ma(3)/dc,yf,cg/6);ld.invert=function(A,B){return[A/Ma(1-3*B*B/(dc*dc)),B]};Od.invert=function(A,B){var K=(A*A+B*B)/-2,U=Ma(-K*(2+K)),aa=B*K+A*U;A=A*K-B*U;B=Ma(A*A+aa*aa);return[Jd(U*aa,B*(1+K)),B?-Pa(U*A/B):0]};de.invert=function(A,B){var K=A,U=B,aa=25;do{var ha=Lb(U),Aa=fc(U),Xa=fc(2*U),Va=Aa*Aa,lb=ha*ha,pb=fc(K),Gb=Lb(K/2),Wb=fc(K/2),m=Wb*Wb,v=1-lb*Gb*
Gb,P=v?Kb(ha*Gb)*Ma(V=1/v):V=0,V;v=.5*(2*P*ha*Wb+K/Yc)-A;var Ga=.5*(P*Aa+U)-B,ob=.5*V*(lb*m+P*ha*Gb*Va)+.5/Yc,Db=V*(pb*Xa/4-P*Aa*Wb);Aa=.125*V*(Xa*Wb-P*Aa*lb*pb);Va=.5*V*(Va*Gb+P*m*ha)+.5;ha=Db*Aa-Va*ob;Db=(Ga*Db-v*Va)/ha;v=(v*Aa-Ga*ob)/ha;K-=Db;U-=v}while((1E-6<jc(Db)||1E-6<jc(v))&&0<--aa);return[K,U]};n.geoAiry=function(){var A=Yc,B=q.geoProjectionMutator(qb),K=B(A);K.radius=function(U){return arguments.length?B(A=U*Qd):A*Ld};return K.scale(179.976).clipAngle(147)};n.geoAiryRaw=qb;n.geoAitoff=function(){return q.geoProjection(Ea).scale(152.63)};
n.geoAitoffRaw=Ea;n.geoArmadillo=function(){var A=20*Qd,B=0<=A?1:-1,K=Pd(B*A),U=q.geoProjectionMutator(ab),aa=U(A),ha=aa.stream;aa.parallel=function(Aa){if(!arguments.length)return A*Ld;K=Pd((B=0<=(A=Aa*Qd)?1:-1)*A);return U(A)};aa.stream=function(Aa){var Xa=aa.rotate(),Va=ha(Aa),lb=(aa.rotate([0,0]),ha(Aa)),pb=aa.precision();aa.rotate(Xa);Va.sphere=function(){lb.polygonStart();lb.lineStart();for(var Gb=-180*B;180>B*Gb;Gb+=90*B)lb.point(Gb,90*B);if(A)for(;-180<=B*(Gb-=3*B*pb);)lb.point(Gb,B*-Jd(Lb(Gb*
Qd/2),K)*Ld);lb.lineEnd();lb.polygonEnd()};return Va};return aa.scale(218.695).center([0,28.0974])};n.geoArmadilloRaw=ab;n.geoAugust=function(){return q.geoProjection(fb).scale(66.1603)};n.geoAugustRaw=fb;n.geoBaker=function(){return q.geoProjection(Ja).scale(112.314)};n.geoBakerRaw=Ja;n.geoBerghaus=function(){var A=5,B=q.geoProjectionMutator(ea),K=B(A),U=K.stream,aa=-Lb(.01*Qd),ha=fc(.01*Qd);K.lobes=function(Aa){return arguments.length?B(A=+Aa):A};K.stream=function(Aa){var Xa=K.rotate(),Va=U(Aa),
lb=(K.rotate([0,0]),U(Aa));K.rotate(Xa);Va.sphere=function(){lb.polygonStart();lb.lineStart();for(var pb=0,Gb=360/A,Wb=2*dc/A,m=90-180/A,v=Yc;pb<A;++pb,m-=Gb,v-=Wb)lb.point(Jd(ha*Lb(v),aa)*Ld,Pa(ha*fc(v))*Ld),-90>m?(lb.point(-90,-180-m-.01),lb.point(-90,-180-m+.01)):(lb.point(90,m+.01),lb.point(90,m-.01));lb.lineEnd();lb.polygonEnd()};return Va};return K.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};n.geoBerghausRaw=ea;n.geoBertin1953=function(){return q.geoProjection(ba()).rotate([-16.5,
-42]).scale(176.57).center([7.93,.09])};n.geoBertin1953Raw=ba;n.geoBoggs=function(){return q.geoProjection(Oa).scale(160.857)};n.geoBoggsRaw=Oa;n.geoBonne=function(){return za(wa).scale(123.082).center([0,26.1441]).parallel(45)};n.geoBonneRaw=wa;n.geoBottomley=function(){var A=.5,B=q.geoProjectionMutator(sa),K=B(A);K.fraction=function(U){return arguments.length?B(A=+U):A};return K.scale(158.837)};n.geoBottomleyRaw=sa;n.geoBromley=function(){return q.geoProjection(pe).scale(152.63)};n.geoBromleyRaw=
pe;n.geoChamberlin=jb;n.geoChamberlinRaw=Ca;n.geoChamberlinAfrica=function(){return jb([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};n.geoCollignon=function(){return q.geoProjection(y).scale(95.6464).center([0,30])};n.geoCollignonRaw=y;n.geoCraig=function(){return za(x).scale(249.828).clipAngle(90)};n.geoCraigRaw=x;n.geoCraster=function(){return q.geoProjection(G).scale(156.19)};n.geoCrasterRaw=G;n.geoCylindricalEqualArea=function(){return za(J).parallel(38.58).scale(195.044)};n.geoCylindricalEqualAreaRaw=
J;n.geoCylindricalStereographic=function(){return za(z).scale(124.75)};n.geoCylindricalStereographicRaw=z;n.geoEckert1=function(){return q.geoProjection(F).scale(165.664)};n.geoEckert1Raw=F;n.geoEckert2=function(){return q.geoProjection(M).scale(165.664)};n.geoEckert2Raw=M;n.geoEckert3=function(){return q.geoProjection(ka).scale(180.739)};n.geoEckert3Raw=ka;n.geoEckert4=function(){return q.geoProjection(Ia).scale(180.739)};n.geoEckert4Raw=Ia;n.geoEckert5=function(){return q.geoProjection(Ta).scale(173.044)};
n.geoEckert5Raw=Ta;n.geoEckert6=function(){return q.geoProjection(D).scale(173.044)};n.geoEckert6Raw=D;n.geoEisenlohr=function(){return q.geoProjection(fa).scale(62.5271)};n.geoEisenlohrRaw=fa;n.geoFahey=function(){return q.geoProjection(Y).scale(137.152)};n.geoFaheyRaw=Y;n.geoFoucaut=function(){return q.geoProjection(W).scale(135.264)};n.geoFoucautRaw=W;n.geoFoucautSinusoidal=function(){var A=.5,B=q.geoProjectionMutator(H),K=B(A);K.alpha=function(U){return arguments.length?B(A=+U):A};return K.scale(168.725)};
n.geoFoucautSinusoidalRaw=H;n.geoGilbert=function(A){function B(ha){return U([ha[0]/2,Pa(Pd(ha[1]/2*Qd))*Ld])}function K(ha){B[ha]=function(){return arguments.length?(U[ha].apply(U,arguments),B):U[ha]()}}null==A&&(A=q.geoOrthographic);var U=A(),aa=q.geoEquirectangular().scale(Ld).precision(0).clipAngle(null).translate([0,0]);U.invert&&(B.invert=function(ha){return T(U.invert(ha))});B.stream=function(ha){var Aa=U.stream(ha);ha=aa.stream({point:function(Xa,Va){Aa.point(Xa/2,Pa(Pd(-Va/2*Qd))*Ld)},lineStart:function(){Aa.lineStart()},
lineEnd:function(){Aa.lineEnd()},polygonStart:function(){Aa.polygonStart()},polygonEnd:function(){Aa.polygonEnd()}});ha.sphere=Aa.sphere;return ha};B.rotate=function(ha){return arguments.length?(aa.rotate(ha),B):aa.rotate()};B.center=function(ha){return arguments.length?(U.center([ha[0]/2,Pa(Pd(ha[1]/2*Qd))*Ld]),B):T(U.center())};K("angle");K("clipAngle");K("clipExtent");K("fitExtent");K("fitHeight");K("fitSize");K("fitWidth");K("scale");K("translate");K("precision");return B.scale(249.5)};n.geoGingery=
function(){var A=6,B=30*Qd,K=Lb(B),U=fc(B),aa=q.geoProjectionMutator(l),ha=aa(B,A),Aa=ha.stream,Xa=-Lb(.01*Qd),Va=fc(.01*Qd);ha.radius=function(lb){if(!arguments.length)return B*Ld;K=Lb(B=lb*Qd);U=fc(B);return aa(B,A)};ha.lobes=function(lb){return arguments.length?aa(B,A=+lb):A};ha.stream=function(lb){var pb=ha.rotate(),Gb=Aa(lb),Wb=(ha.rotate([0,0]),Aa(lb));ha.rotate(pb);Gb.sphere=function(){Wb.polygonStart();Wb.lineStart();for(var m=0,v=2*dc/A,P=0;m<A;++m,P-=v)Wb.point(Jd(Va*Lb(P),Xa)*Ld,Pa(Va*
fc(P))*Ld),Wb.point(Jd(U*Lb(P-v/2),K)*Ld,Pa(U*fc(P-v/2))*Ld);Wb.lineEnd();Wb.polygonEnd()};return Gb};return ha.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};n.geoGingeryRaw=l;n.geoGinzburg4=function(){return q.geoProjection(gd).scale(149.995)};n.geoGinzburg4Raw=gd;n.geoGinzburg5=function(){return q.geoProjection(rf).scale(153.93)};n.geoGinzburg5Raw=rf;n.geoGinzburg6=function(){return q.geoProjection(Fe).scale(130.945)};n.geoGinzburg6Raw=Fe;n.geoGinzburg8=function(){return q.geoProjection(w).scale(131.747)};
n.geoGinzburg8Raw=w;n.geoGinzburg9=function(){return q.geoProjection(Pe).scale(131.087)};n.geoGinzburg9Raw=Pe;n.geoGringorten=function(){return q.geoProjection(O(la)).scale(239.75)};n.geoGringortenRaw=la;n.geoGuyou=function(){return q.geoProjection(O(cb)).scale(151.496)};n.geoGuyouRaw=cb;n.geoHammer=function(){var A=2,B=q.geoProjectionMutator(pa),K=B(A);K.coefficient=function(U){return arguments.length?B(A=+U):A};return K.scale(169.529)};n.geoHammerRaw=pa;n.geoHammerRetroazimuthal=function(){var A=
0,B=q.geoProjectionMutator(Ba),K=B(A),U=K.rotate,aa=K.stream,ha=q.geoCircle();K.parallel=function(Aa){if(!arguments.length)return A*Ld;var Xa=K.rotate();return B(A=Aa*Qd).rotate(Xa)};K.rotate=function(Aa){if(!arguments.length)return Aa=U.call(K),Aa[1]+=A*Ld,Aa;U.call(K,[Aa[0],Aa[1]-A*Ld]);ha.center([-Aa[0],-Aa[1]]);return K};K.stream=function(Aa){Aa=aa(Aa);Aa.sphere=function(){Aa.polygonStart();var Xa=ha.radius(89.99)().coordinates[0],Va=Xa.length-1,lb=-1,pb;for(Aa.lineStart();++lb<Va;)Aa.point((pb=
Xa[lb])[0],pb[1]);Aa.lineEnd();Xa=ha.radius(90.01)().coordinates[0];for(Aa.lineStart();0<=--lb;)Aa.point((pb=Xa[lb])[0],pb[1]);Aa.lineEnd();Aa.polygonEnd()};return Aa};return K.scale(79.4187).parallel(45).clipAngle(179.999)};n.geoHammerRetroazimuthalRaw=Ba;n.geoHealpix=function(){var A=4,B=q.geoProjectionMutator(Z),K=B(A),U=K.stream;K.lobes=function(aa){return arguments.length?B(A=+aa):A};K.stream=function(aa){var ha=K.rotate(),Aa=U(aa),Xa=(K.rotate([0,0]),U(aa));K.rotate(ha);Aa.sphere=function(){q.geoStream(Hb(180/
A),Xa)};return Aa};return K.scale(239.75)};n.geoHealpixRaw=Z;n.geoHill=function(){var A=1,B=q.geoProjectionMutator(Xb),K=B(A);K.ratio=function(U){return arguments.length?B(A=+U):A};return K.scale(167.774).center([0,18.67])};n.geoHillRaw=Xb;n.geoHomolosine=function(){return q.geoProjection(wb).scale(152.63)};n.geoHomolosineRaw=wb;n.geoHufnagel=function(){var A=1,B=0,K=45*Qd,U=2,aa=q.geoProjectionMutator(Tb),ha=aa(A,B,K,U);ha.a=function(Aa){return arguments.length?aa(A=+Aa,B,K,U):A};ha.b=function(Aa){return arguments.length?
aa(A,B=+Aa,K,U):B};ha.psiMax=function(Aa){return arguments.length?aa(A,B,K=+Aa*Qd,U):K*Ld};ha.ratio=function(Aa){return arguments.length?aa(A,B,K,U=+Aa):U};return ha.scale(180.739)};n.geoHufnagelRaw=Tb;n.geoHyperelliptical=function(){var A=0,B=2.5,K=1.183136,U=q.geoProjectionMutator(ic),aa=U(A,B,K);aa.alpha=function(ha){return arguments.length?U(A=+ha,B,K):A};aa.k=function(ha){return arguments.length?U(A,B=+ha,K):B};aa.gamma=function(ha){return arguments.length?U(A,B,K=+ha):K};return aa.scale(152.63)};
n.geoHyperellipticalRaw=ic;n.geoInterrupt=pc;n.geoInterruptedBoggs=function(){return pc(Oa,Qe).scale(160.857)};n.geoInterruptedHomolosine=function(){return pc(wb,df).scale(152.63)};n.geoInterruptedMollweide=function(){return pc(Gd,Be).scale(169.529)};n.geoInterruptedMollweideHemispheres=function(){return pc(Gd,C).scale(169.529).rotate([20,0])};n.geoInterruptedSinuMollweide=function(){return pc(ya,Q,ja).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoInterruptedSinusoidal=function(){return pc(ia,
Na).scale(152.63).rotate([-20,0])};n.geoKavrayskiy7=function(){return q.geoProjection(tb).scale(158.837)};n.geoKavrayskiy7Raw=tb;n.geoLagrange=function(){var A=.5,B=q.geoProjectionMutator(bc),K=B(A);K.spacing=function(U){return arguments.length?B(A=+U):A};return K.scale(124.75)};n.geoLagrangeRaw=bc;n.geoLarrivee=function(){return q.geoProjection(Mb).scale(97.2672)};n.geoLarriveeRaw=Mb;n.geoLaskowski=function(){return q.geoProjection(xc).scale(139.98)};n.geoLaskowskiRaw=xc;n.geoLittrow=function(){return q.geoProjection(Xc).scale(144.049).clipAngle(89.999)};
n.geoLittrowRaw=Xc;n.geoLoximuthal=function(){return za(ud).parallel(40).scale(158.837)};n.geoLoximuthalRaw=ud;n.geoMiller=function(){return q.geoProjection(xd).scale(108.318)};n.geoMillerRaw=xd;n.geoModifiedStereographic=Cb;n.geoModifiedStereographicRaw=ae;n.geoModifiedStereographicAlaska=function(){return Cb(zb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};n.geoModifiedStereographicGs48=function(){return Cb(Ib,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};
n.geoModifiedStereographicGs50=function(){return Cb(ac,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};n.geoModifiedStereographicMiller=function(){return Cb(Oc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};n.geoModifiedStereographicLee=function(){return Cb(Fc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};n.geoMollweide=function(){return q.geoProjection(Gd).scale(169.529)};n.geoMollweideRaw=Gd;n.geoMtFlatPolarParabolic=function(){return q.geoProjection(Rb).scale(164.859)};
n.geoMtFlatPolarParabolicRaw=Rb;n.geoMtFlatPolarQuartic=function(){return q.geoProjection(Rc).scale(188.209)};n.geoMtFlatPolarQuarticRaw=Rc;n.geoMtFlatPolarSinusoidal=function(){return q.geoProjection(se).scale(166.518)};n.geoMtFlatPolarSinusoidalRaw=se;n.geoNaturalEarth2=function(){return q.geoProjection(De).scale(175.295)};n.geoNaturalEarth2Raw=De;n.geoNellHammer=function(){return q.geoProjection(Ne).scale(152.63)};n.geoNellHammerRaw=Ne;n.geoInterruptedQuarticAuthalic=function(){return pc(pa(Infinity),
jd).rotate([20,0]).scale(152.63)};n.geoNicolosi=function(){return q.geoProjection(Md).scale(127.267)};n.geoNicolosiRaw=Md;n.geoPatterson=function(){return q.geoProjection(I).scale(139.319)};n.geoPattersonRaw=I;n.geoPolyconic=function(){return q.geoProjection(da).scale(103.74)};n.geoPolyconicRaw=da;n.geoPolyhedral=Vb;n.geoPolyhedralButterfly=function(A){A=A||function(K){K=q.geoCentroid({type:"MultiPoint",coordinates:K});return q.geoGnomonic().scale(1).translate([0,0]).rotate([-K[0],-K[1]])};var B=
ge.map(function(K){return{face:K,project:A(K)}});[-1,0,0,1,0,1,4,5].forEach(function(K,U){(K=B[K])&&(K.children||(K.children=[])).push(B[U])});return Vb(B[0],function(K,U){return B[K<-dc/2?0>U?6:4:0>K?0>U?2:0:K<dc/2?0>U?3:1:0>U?7:5]}).angle(-30).scale(101.858).center([0,45])};n.geoPolyhedralCollignon=function(A){A=A||function(K){K=q.geoCentroid({type:"MultiPoint",coordinates:K});return q.geoProjection(Nb).translate([0,0]).scale(1).rotate(0<K[1]?[-K[0],0]:[180-K[0],180])};var B=ge.map(function(K){return{face:K,
project:A(K)}});[-1,0,0,1,0,1,4,5].forEach(function(K,U){(K=B[K])&&(K.children||(K.children=[])).push(B[U])});return Vb(B[0],function(K,U){return B[K<-dc/2?0>U?6:4:0>K?0>U?2:0:K<dc/2?0>U?3:1:0>U?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};n.geoPolyhedralWaterman=function(A){A=A||function(ha){ha=6===ha.length?q.geoCentroid({type:"MultiPoint",coordinates:ha}):ha[0];return q.geoGnomonic().scale(1).translate([0,0]).rotate([-ha[0],-ha[1]])};var B=ge.map(function(ha){ha=ha.map(xb);for(var Aa=
ha.length,Xa=ha[Aa-1],Va,lb=[],pb=0;pb<Aa;++pb)Va=ha[pb],lb.push(lc([.9486832980505138*Xa[0]+.31622776601683794*Va[0],.9486832980505138*Xa[1]+.31622776601683794*Va[1],.9486832980505138*Xa[2]+.31622776601683794*Va[2]]),lc([.9486832980505138*Va[0]+.31622776601683794*Xa[0],.9486832980505138*Va[1]+.31622776601683794*Xa[1],.9486832980505138*Va[2]+.31622776601683794*Xa[2]])),Xa=Va;return lb}),K=[],U=[-1,0,0,1,0,1,4,5];B.forEach(function(ha,Aa){for(var Xa=ge[Aa],Va=Xa.length,lb=K[Aa]=[],pb=0;pb<Va;++pb)B.push([Xa[pb],
ha[(2*pb+2)%(2*Va)],ha[(2*pb+1)%(2*Va)]]),U.push(Aa),lb.push(tc(xb(ha[(2*pb+2)%(2*Va)]),xb(ha[(2*pb+1)%(2*Va)])))});var aa=B.map(function(ha){return{project:A(ha),face:ha}});U.forEach(function(ha,Aa){(ha=aa[ha])&&(ha.children||(ha.children=[])).push(aa[Aa])});return Vb(aa[0],function(ha,Aa){var Xa=Lb(Aa);Xa=[Xa*Lb(ha),Xa*fc(ha),fc(Aa)];ha=ha<-dc/2?0>Aa?6:4:0>ha?0>Aa?2:0:ha<dc/2?0>Aa?3:1:0>Aa?7:5;Aa=K[ha];return aa[0>gc(Aa[0],Xa)?8+3*ha:0>gc(Aa[1],Xa)?3*ha+9:0>gc(Aa[2],Xa)?3*ha+10:ha]}).angle(-30).scale(110.625).center([0,
45])};n.geoProject=function(A,B){B=B.stream;if(!B)throw Error("invalid projection");switch(A&&A.type){case "Feature":var K=Gc;break;case "FeatureCollection":K=Qb;break;default:K=Ac}return K(A,B)};n.geoGringortenQuincuncial=function(){return Jc(la).scale(176.423)};n.geoPeirceQuincuncial=function(){return Jc(cb).scale(111.48)};n.geoQuantize=function(A,B){function K(Va){var lb=Va.length,pb=2,Gb=Array(lb);Gb[0]=+Va[0].toFixed(B);for(Gb[1]=+Va[1].toFixed(B);pb<lb;)Gb[pb]=Va[pb],++pb;return Gb}function U(Va){for(var lb=
K(Va[0]),pb=[lb],Gb=1;Gb<Va.length;Gb++){var Wb=K(Va[Gb]);if(2<Wb.length||Wb[0]!=lb[0]||Wb[1]!=lb[1])pb.push(Wb),lb=Wb}1===pb.length&&1<Va.length&&pb.push(K(Va[Va.length-1]));return pb}function aa(Va){return Va.map(U)}function ha(Va){if(null==Va)return Va;switch(Va.type){case "GeometryCollection":var lb={type:"GeometryCollection",geometries:Va.geometries.map(ha)};break;case "Point":lb={type:"Point",coordinates:K(Va.coordinates)};break;case "MultiPoint":lb={type:Va.type,coordinates:Va.coordinates.map(K)};
break;case "LineString":lb={type:Va.type,coordinates:U(Va.coordinates)};break;case "MultiLineString":case "Polygon":lb={type:Va.type,coordinates:aa(Va.coordinates)};break;case "MultiPolygon":lb={type:"MultiPolygon",coordinates:Va.coordinates.map(aa)};break;default:return Va}null!=Va.bbox&&(lb.bbox=Va.bbox);return lb}function Aa(Va){var lb={type:"Feature",properties:Va.properties,geometry:ha(Va.geometry)};null!=Va.id&&(lb.id=Va.id);null!=Va.bbox&&(lb.bbox=Va.bbox);return lb}if(!(0<=(B=+B)&&20>=B))throw Error("invalid digits");
if(null!=A)switch(A.type){case "Feature":return Aa(A);case "FeatureCollection":var Xa={type:"FeatureCollection",features:A.features.map(Aa)};null!=A.bbox&&(Xa.bbox=A.bbox);return Xa;default:return ha(A)}return A};n.geoQuincuncial=Jc;n.geoRectangularPolyconic=function(){return za(Hc).scale(131.215)};n.geoRectangularPolyconicRaw=Hc;n.geoRobinson=function(){return q.geoProjection(ad).scale(152.63)};n.geoRobinsonRaw=ad;n.geoSatellite=function(){var A=2,B=0,K=q.geoProjectionMutator(od),U=K(A,B);U.distance=
function(aa){return arguments.length?K(A=+aa,B):A};U.tilt=function(aa){return arguments.length?K(A,B=aa*Qd):B*Ld};return U.scale(432.147).clipAngle(Kb(1/A)*Ld-1E-6)};n.geoSatelliteRaw=od;n.geoSinuMollweide=function(){return q.geoProjection(ya).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoSinuMollweideRaw=ya;n.geoSinusoidal=function(){return q.geoProjection(ia).scale(152.63)};n.geoSinusoidalRaw=ia;n.geoStitch=function(A){if(null==A)return A;switch(A.type){case "Feature":return bf(A);
case "FeatureCollection":var B={type:"FeatureCollection",features:A.features.map(bf)};null!=A.bbox&&(B.bbox=A.bbox);return B;default:return vd(A)}};n.geoTimes=function(){return q.geoProjection(N).scale(146.153)};n.geoTimesRaw=N;n.geoTwoPointAzimuthal=gb;n.geoTwoPointAzimuthalRaw=Da;n.geoTwoPointAzimuthalUsa=function(){return gb([-158,21.5],[-77,39]).clipAngle(60).scale(400)};n.geoTwoPointEquidistant=Pb;n.geoTwoPointEquidistantRaw=Sa;n.geoTwoPointEquidistantUsa=function(){return Pb([-158,21.5],[-77,
39]).clipAngle(130).scale(122.571)};n.geoVanDerGrinten=function(){return q.geoProjection(kc).scale(79.4183)};n.geoVanDerGrintenRaw=kc;n.geoVanDerGrinten2=function(){return q.geoProjection(oc).scale(79.4183)};n.geoVanDerGrinten2Raw=oc;n.geoVanDerGrinten3=function(){return q.geoProjection(qc).scale(79.4183)};n.geoVanDerGrinten3Raw=qc;n.geoVanDerGrinten4=function(){return q.geoProjection(uc).scale(127.16)};n.geoVanDerGrinten4Raw=uc;n.geoWagner=yd;n.geoWagner7=function(){return yd().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};
n.geoWagnerRaw=pd;n.geoWagner4=function(){return q.geoProjection(Xf).scale(176.84)};n.geoWagner4Raw=Xf;n.geoWagner6=function(){return q.geoProjection(ld).scale(152.63)};n.geoWagner6Raw=ld;n.geoWiechel=function(){return q.geoProjection(Od).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};n.geoWiechelRaw=Od;n.geoWinkel3=function(){return q.geoProjection(de).scale(158.837)};n.geoWinkel3Raw=de;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[27]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(25),sb(26)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.d3,n.d3))})(this,function(n,q,S){function Pa(Ea,ab){return function Ja(){var ea=ab();ea.type=Ea;ea.path=q.geoPath().projection(ea);ea.copy=ea.copy||function(){var pa=Ja();db.forEach(function(Ha){if(ea[Ha])pa[Ha](ea[Ha]())});
pa.path.pointRadius(ea.path.pointRadius());return pa};return ea}}function Kb(Ea,ab){if(!Ea||"string"!==typeof Ea)throw Error("Projection type must be a name string.");Ea=Ea.toLowerCase();return 1<arguments.length?(Eb[Ea]=Pa(Ea,ab),this):Eb[Ea]||null}var Ma=q.geoPath(),db="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Eb={albers:q.geoAlbers,albersusa:q.geoAlbersUsa,azimuthalequalarea:q.geoAzimuthalEqualArea,
azimuthalequidistant:q.geoAzimuthalEquidistant,conicconformal:q.geoConicConformal,conicequalarea:q.geoConicEqualArea,conicequidistant:q.geoConicEquidistant,equalEarth:q.geoEqualEarth,equirectangular:q.geoEquirectangular,gnomonic:q.geoGnomonic,identity:q.geoIdentity,mercator:q.geoMercator,mollweide:S.geoMollweide,naturalEarth1:q.geoNaturalEarth1,orthographic:q.geoOrthographic,stereographic:q.geoStereographic,transversemercator:q.geoTransverseMercator},qb;for(qb in Eb)Kb(qb,Eb[qb]);n.getProjectionPath=
function(Ea){return Ea&&Ea.path||Ma};n.projection=Kb;n.projectionProperties=db;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[28]=function(wa,ka,Ta,Oa){(function(v,L){"object"===typeof Oa&&"undefined"!==typeof Ta?L(Oa,ka(12),ka(0),ka(1),ka(13),ka(27),ka(25),ka(18),ka(17)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),L):(v="undefined"!==typeof globalThis?globalThis:v||self,L((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.d3,v.vega,v.vega,v.d3,v.d3,v.vega))})(this,function(v,L,O,xa,Ba,
Ua,fb,$a,Ha){function ab(){}function Va(){function g(z,y){return y.map(function(J){return m(z,J)})}function m(z,y){var J=[],F=[];q(z,y,function(C){M(C,z,y);for(var U=0,Y=C.length,S=C[Y-1][1]*C[0][0]-C[Y-1][0]*C[0][1];++U<Y;)S+=C[U-1][1]*C[U][0]-C[U-1][0]*C[U][1];0<S?J.push([C]):F.push(C)});F.forEach(function(C){for(var U=0,Y=J.length,S;U<Y;++U){a:{var W=(S=J[U])[0];for(var ea=C,fa=-1,na=ea.length;++fa<na;){b:{var ra=W;for(var Da=ea[fa],Ea=Da[0],Ia=Da[1],sa=-1,Aa=0,Eb=ra.length,vb=Eb-1;Aa<Eb;vb=Aa++){var Qa=
ra[Aa],zb=Qa[0],wb=Qa[1],Ka=ra[vb];vb=Ka[0];var Sa=Ka[1],La,Ma=Qa;Qa=Ka;Ka=Da;if(La=(Qa[0]-Ma[0])*(Ka[1]-Ma[1])===(Ka[0]-Ma[0])*(Qa[1]-Ma[1]))Ma=Ma[La=+(Ma[0]===Qa[0])],Ka=Ka[La],Qa=Qa[La],La=Ma<=Ka&&Ka<=Qa||Qa<=Ka&&Ka<=Ma;if(La){ra=0;break b}wb>Ia!==Sa>Ia&&Ea<(vb-zb)*(Ia-wb)/(Sa-wb)+zb&&(sa=-sa)}ra=sa}if(ra){W=ra;break a}}W=0}if(-1!==W){S.push(C);break}}});return{type:"MultiPolygon",value:y,coordinates:J}}function q(z,y,J){function F(ra){var Da=[ra[0][0]+S,ra[0][1]+Y];ra=[ra[1][0]+S,ra[1][1]+Y];
var Ea=2*Da[0]+Da[1]*(p+1)*4,Ia=2*ra[0]+ra[1]*(p+1)*4,sa,Aa;(sa=U[Ea])?(Aa=C[Ia])?(delete U[sa.end],delete C[Aa.start],sa===Aa?(sa.ring.push(ra),J(sa.ring)):C[sa.start]=U[Aa.end]={start:sa.start,end:Aa.end,ring:sa.ring.concat(Aa.ring)}):(delete U[sa.end],sa.ring.push(ra),U[sa.end=Ia]=sa):(sa=C[Ia])?(Aa=U[Ea])?(delete C[sa.start],delete U[Aa.end],sa===Aa?(sa.ring.push(ra),J(sa.ring)):C[Aa.start]=U[sa.end]={start:Aa.start,end:sa.end,ring:Aa.ring.concat(sa.ring)}):(delete C[sa.start],sa.ring.unshift(Da),
C[sa.start=Ea]=sa):C[Ea]=U[Ia]={start:Ea,end:Ia,ring:[Da,ra]}}var C=[],U=[],Y;var S=Y=-1;var W=z[0]>=y;for(ca[W<<1].forEach(F);++S<p-1;){var ea=W;W=z[S+1]>=y;ca[ea|W<<1].forEach(F)}for(ca[W<<0].forEach(F);++Y<w-1;){S=-1;W=z[Y*p+p]>=y;var fa=z[Y*p]>=y;for(ca[W<<1|fa<<2].forEach(F);++S<p-1;){ea=W;W=z[Y*p+p+S+1]>=y;var na=fa;fa=z[Y*p+S+1]>=y;ca[ea|W<<1|fa<<2|na<<3].forEach(F)}ca[W|fa<<3].forEach(F)}S=-1;fa=z[Y*p]>=y;for(ca[fa<<2].forEach(F);++S<p-1;)na=fa,fa=z[Y*p+S+1]>=y,ca[fa<<2|na<<3].forEach(F);
ca[fa<<3].forEach(F)}function x(z,y,J){z.forEach(function(F){var C=F[0],U=F[1],Y=C|0,S=U|0,W=y[S*p+Y];if(0<C&&C<p&&Y===C){var ea=y[S*p+Y-1];F[0]=C+(J-ea)/(W-ea)-.5}0<U&&U<w&&S===U&&(ea=y[(S-1)*p+Y],F[1]=U+(J-ea)/(W-ea)-.5)})}var p=1,w=1,M=x;g.contour=m;g.size=function(z){if(!arguments.length)return[p,w];var y=Math.floor(z[0]),J=Math.floor(z[1]);0<=y&&0<=J||O.error("invalid size");return p=y,w=J,g};g.smooth=function(z){return arguments.length?(M=z?x:ab,g):M===x};return g}function Ga(g,m,q){return function(x){var p=
O.extent(x);x=q?Math.min(p[0],0):p[0];p=p[1];var w=p-x;x=m?xa.tickStep(x,p,g):w/(g+1);return xa.range(x,p,x)}}function za(g){L.Transform.call(this,null,g)}function cb(g,m,q){var x=Ga(q.levels||10,q.nice,!1!==q.zero);return"shared"!==q.resolve?x:x(g.map(function(p){return xa.max(m(p).values)}))}function nb(g,m,q,x){var p=x.scale||m.scale,w=x.translate||m.translate;O.isFunction(p)&&(p=p(q,x));O.isFunction(w)&&(w=w(q,x));if(1!==p&&null!=p||w)q=(O.isNumber(p)?p:p[0])||1,p=(O.isNumber(p)?p:p[1])||1,g.forEach(gb(m,
q,p,w&&w[0]||0,w&&w[1]||0))}function gb(g,m,q,x,p){function w(C){C.forEach(M)}function M(C){F&&C.reverse();C.forEach(z)}function z(C){C[0]=(C[0]-y)*m+x;C[1]=(C[1]-J)*q+p}var y=g.x1||0,J=g.y1||0,F=0>m*q;return function(C){C.coordinates.forEach(w);return C}}function ob(g,m,q){g=0<=g?g:Ba.bandwidthNRD(m,q);return Math.round((Math.sqrt(4*g*g+1)-1)/2)}function Z(g){return O.isFunction(g)?g:O.constant(+g)}function Q(){function g(y,J){var F=ob(p[0],y,m)>>z,C=ob(p[1],y,q)>>z,U=F?F+2:0,Y=C?C+2:0,S=2*U+(w>>
z),W=2*Y+(M>>z),ea=new Float32Array(S*W),fa=new Float32Array(S*W),na=ea;y.forEach(function(ra){var Da=U+(+m(ra)>>z),Ea=Y+(+q(ra)>>z);0<=Da&&Da<S&&0<=Ea&&Ea<W&&(ea[Da+Ea*S]+=+x(ra))});0<F&&0<C?(ba(S,W,ea,fa,F),ia(S,W,fa,ea,C),ba(S,W,ea,fa,F),ia(S,W,fa,ea,C),ba(S,W,ea,fa,F),ia(S,W,fa,ea,C)):0<F?(ba(S,W,ea,fa,F),ba(S,W,fa,ea,F),ba(S,W,ea,fa,F),na=fa):0<C&&(ia(S,W,ea,fa,C),ia(S,W,fa,ea,C),ia(S,W,ea,fa,C),na=fa);y=J?Math.pow(2,-2*z):1/xa.sum(na);J=0;for(F=S*W;J<F;++J)na[J]*=y;return{values:na,scale:1<<
z,width:S,height:W,x1:U,y1:Y,x2:U+(w>>z),y2:Y+(M>>z)}}var m=function(y){return y[0]},q=function(y){return y[1]},x=O.one,p=[-1,-1],w=960,M=500,z=2;g.x=function(y){return arguments.length?(m=Z(y),g):m};g.y=function(y){return arguments.length?(q=Z(y),g):q};g.weight=function(y){return arguments.length?(x=Z(y),g):x};g.size=function(y){if(!arguments.length)return[w,M];var J=+y[0],F=+y[1];0<=J&&0<=F||O.error("invalid size");return w=J,M=F,g};g.cellSize=function(y){if(!arguments.length)return 1<<z;1<=(y=
+y)||O.error("invalid cell size");z=Math.floor(Math.log(y)/Math.LN2);return g};g.bandwidth=function(y){if(!arguments.length)return p;y=O.array(y);1===y.length&&(y=[+y[0],+y[0]]);2!==y.length&&O.error("invalid bandwidth");return p=y,g};return g}function ba(g,m,q,x,p){for(var w=(p<<1)+1,M=0;M<m;++M)for(var z=0,y=0;z<g+p;++z)z<g&&(y+=q[z+M*g]),z>=p&&(z>=w&&(y-=q[z-w+M*g]),x[z-p+M*g]=y/Math.min(z+1,g-1+w-z,w))}function ia(g,m,q,x,p){for(var w=(p<<1)+1,M=0;M<g;++M)for(var z=0,y=0;z<m+p;++z)z<m&&(y+=q[M+
z*g]),z>=p&&(z>=w&&(y-=q[M+(z-w)*g]),x[M+(z-p)*g]=y/Math.min(z+1,m-1+w-z,w))}function da(g){L.Transform.call(this,null,g)}function ha(g,m){V.forEach(function(q){return null!=m[q]?g[q](m[q]):0});return g}function ta(g,m){var q=[],x=function(F){return F(z)},p;if(null==m)q.push(g);else{var w={};var M=0;for(p=g.length;M<p;++M){var z=g[M];var y=m.map(x);var J=w[y];J||(w[y]=J=[],J.dims=y,q.push(J));J.push(z)}}return q}function ja(g){L.Transform.call(this,null,g)}function ya(g){L.Transform.call(this,null,
g)}function ma(g){L.Transform.call(this,null,g)}function ua(g,m){var q=g.pointRadius();g.context(null);null!=m&&g.pointRadius(m);return q}function pa(g){L.Transform.call(this,null,g)}function oa(g){L.Transform.call(this,null,g)}function la(g,m,q){var x=null==q?function(p){return g(m(p))}:function(p){var w=g.pointRadius();p=g.pointRadius(q)(m(p));g.pointRadius(w);return p};x.context=function(p){g.context(p);return x};return x}function l(g){L.Transform.call(this,[],g);this.generator=fb.geoGraticule()}
function A(g){L.Transform.call(this,null,g)}function D(g,m){if(O.isFunction(g)){var q=function(x){return $a.rgb(g(x,m))};q.dep=I(g)}else q=O.constant($a.rgb(g||"#888"));return q}function H(g,m){if(O.isFunction(g)){var q=function(x){return g(x,m)};q.dep=I(g)}else g?q=O.constant(g):(q=function(x){return x.$value/x.$max||0},q.dep=!0);return q}function I(g){if(!O.isFunction(g))return!1;g=O.toSet(O.accessorFields(g));return g.$x||g.$y||g.$value||g.$max}function N(g,m,q,x){var p=g.width,w=g.height,M=g.x1||
0,z=g.y1||0,y=g.x2||p;w=g.y2||w;var J=g.values;g=J?function(ra){return J[ra]}:O.zero;for(var F=Ha.canvas(y-M,w-z),C=F.getContext("2d"),U=C.getImageData(0,0,y-M,w-z),Y=U.data,S=z,W=0;S<w;++S){m.$y=S-z;for(var ea=M,fa=S*p;ea<y;++ea,W+=4){m.$x=ea-M;m.$value=g(ea+fa);var na=q(m);Y[W+0]=na.r;Y[W+1]=na.g;Y[W+2]=na.b;Y[W+3]=~~(255*x(m))}}C.putImageData(U,0,0);return F}function P(g){L.Transform.call(this,null,g);this.modified(!0)}function E(g,m){var q=B(m.fit);m.extent?g.fitExtent(m.extent,q):m.size?g.fitSize(m.size,
q):0}function aa(g){var m=Ua.projection((g||"mercator").toLowerCase());m||O.error("Unrecognized projection type: "+g);return m()}function B(g){g=O.array(g);return 1===g.length?g[0]:{type:"FeatureCollection",features:g.reduce(function(m,q){return m.concat(K(q))},[])}}function K(g){return"FeatureCollection"===g.type?g.features:O.array(g).filter(function(m){return null!=m}).map(function(m){return"Feature"===m.type?m:{type:"Feature",geometry:m}})}var ca=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,
1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];za.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared",
"independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};O.inherits(za,L.Transform,{transform:function(g,m){if(this.value&&!m.changed()&&!g.modified())return m.StopPropagation;var q=m.fork(m.NO_SOURCE|m.NO_FIELDS);m=m.materialize(m.SOURCE).source;var x=g.field||O.identity,p=Va().smooth(!1!==
g.smooth),w=g.thresholds||cb(m,x,g),M=null===g.as?null:g.as||"contour",z=[];m.forEach(function(y){var J=x(y),F=p.size([J.width,J.height])(J.values,O.isArray(w)?w:w(J.values));nb(F,J,y,g);F.forEach(function(C){var U={};z.push(L.rederive(y,L.ingest(null!=M?(U[M]=C,U):C)))})});this.value&&(q.rem=this.value);this.value=q.source=q.add=z;return q}});da.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",
type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};var V="x y weight size cellSize bandwidth".split(" ");O.inherits(da,L.Transform,{transform:function(g,m){function q(y,J){for(var F=0;F<p.length;++F)y[p[F]]=J[F];return y}if(this.value&&!m.changed()&&!g.modified())return m.StopPropagation;
var x=m.fork(m.NO_SOURCE|m.NO_FIELDS);m=m.materialize(m.SOURCE).source;m=ta(m,g.groupby);var p=(g.groupby||[]).map(O.accessorName),w=ha(Q(),g),M=g.as||"grid",z=[];z=m.map(function(y){var J={};return L.ingest(q((J[M]=w(y,g.counts),J),y.dims))});this.value&&(x.rem=this.value);this.value=x.source=x.add=z;return x}});ja.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",
type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};O.inherits(ja,L.Transform,{transform:function(g,m){if(this.value&&!m.changed()&&!g.modified())return m.StopPropagation;var q=m.fork(m.NO_SOURCE|m.NO_FIELDS),x=Va().smooth(!1!==g.smooth),p=g.values,w=g.thresholds||Ga(g.count||10,g.nice,
!!p),M=g.size;if(!p){p=m.materialize(m.SOURCE).source;g=ha(Q(),g)(p,!0);var z=gb(g,g.scale||1,g.scale||1,0,0);M=[g.width,g.height];p=g.values}w=O.isArray(w)?w:w(p);p=x.size(M)(p,w);z&&p.forEach(z);this.value&&(q.rem=this.value);this.value=q.source=q.add=(p||[]).map(L.ingest);return q}});ya.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};O.inherits(ya,L.Transform,{transform:function(g,m){var q=this._features,x=this._points,
p=g.fields,w=p&&p[0],M=p&&p[1],z=g.geojson||!p&&O.identity;p=m.ADD;g=g.modified()||m.changed(m.REM)||m.modified(O.accessorFields(z))||w&&m.modified(O.accessorFields(w))||M&&m.modified(O.accessorFields(M));if(!this.value||g)p=m.SOURCE,this._features=q=[],this._points=x=[];z&&m.visit(p,function(y){return q.push(z(y))});w&&M&&(m.visit(p,function(y){var J=w(y);y=M(y);null!=J&&null!=y&&(J=+J)===J&&(y=+y)===y&&x.push([J,y])}),q=q.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:x}}));this.value=
{type:"FeatureCollection",features:q}}});ma.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};O.inherits(ma,L.Transform,{transform:function(g,m){var q=m.fork(m.ALL),x=this.value,p=g.field||O.identity,w=g.as||"path",M=q.SOURCE;!x||g.modified()?(this.value=x=Ua.getProjectionPath(g.projection),q.materialize().reflow()):M=p===O.identity||m.modified(p.fields)?
q.ADD_MOD:q.ADD;g=ua(x,g.pointRadius);q.visit(M,function(z){return z[w]=x(p(z))});x.pointRadius(g);return q.modifies(w)}});pa.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};O.inherits(pa,L.Transform,{transform:function(g,m){function q(J){var F=x([p(J),w(J)]);F?(J[z]=F[0],J[y]=F[1]):(J[z]=void 0,J[y]=void 0)}var x=
g.projection,p=g.fields[0],w=g.fields[1],M=g.as||["x","y"],z=M[0],y=M[1];g.modified()?m=m.materialize().reflow(!0).visit(m.SOURCE,q):(g=m.modified(p.fields)||m.modified(w.fields),m.visit(g?m.ADD_MOD:m.ADD,q));return m.modifies(M)}});oa.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};O.inherits(oa,L.Transform,
{transform:function(g,m){m=m.fork(m.ALL);var q=this.value,x=g.as||"shape",p=m.ADD;if(!q||g.modified())this.value=q=la(Ua.getProjectionPath(g.projection),g.field||O.field("datum"),g.pointRadius),m.materialize().reflow(),p=m.SOURCE;m.visit(p,function(w){return w[x]=q});return m.modifies(x)}});l.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,
content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};O.inherits(l,L.Transform,{transform:function(g,m){var q=this.value,x=this.generator;if(!q.length||g.modified())for(var p in g)if(O.isFunction(x[p]))x[p](g[p]);
g=x();q.length?m.mod.push(L.replace(q[0],g)):m.add.push(L.ingest(g));q[0]=g;return m}});A.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};O.inherits(A,L.Transform,{transform:function(g,m){if(!m.changed()&&!g.modified())return m.StopPropagation;var q=m.materialize(m.SOURCE).source,
x="shared"===g.resolve,p=g.field||O.identity,w=H(g.opacity,g),M=D(g.color,g),z=g.as||"image",y={$x:0,$y:0,$value:0,$max:x?xa.max(q.map(function(J){return xa.max(p(J).values)})):0};q.forEach(function(J){var F=p(J),C=O.extend({},J,y);x||(C.$max=xa.max(F.values||[]));J[z]=N(F,C,M.dep?M:O.constant(M(C)),w.dep?w:O.constant(w(C)))});return m.reflow(!0).modifies(z)}});O.inherits(P,L.Transform,{transform:function(g,m){var q=this.value;!q||g.modified("type")?(this.value=q=aa(g.type),Ua.projectionProperties.forEach(function(x){if(null!=
g[x]){var p=q,w=g[x];if(O.isFunction(p[x]))p[x](w)}})):Ua.projectionProperties.forEach(function(x){if(g.modified(x)){var p=q,w=g[x];if(O.isFunction(p[x]))p[x](w)}});null!=g.pointRadius&&q.path.pointRadius(g.pointRadius);g.fit&&E(q,g);return m.fork(m.NO_SOURCE|m.NO_FIELDS)}});v.contour=ja;v.geojson=ya;v.geopath=ma;v.geopoint=pa;v.geoshape=oa;v.graticule=l;v.heatmap=A;v.isocontour=za;v.kde2d=da;v.projection=P;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[29]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(Ea,ab,fb,Ja){if(isNaN(ab)||isNaN(fb))return Ea;var ea,pa=Ea._root;Ja={data:Ja};var Ha=Ea._x0,Wa=Ea._y0,ja=Ea._x1,ba=Ea._y1,Ra,xa,Oa,za;if(!pa)return Ea._root=Ja,Ea;for(;pa.length;)if((Oa=ab>=(Ra=(Ha+ja)/2))?Ha=Ra:ja=Ra,(za=fb>=(xa=(Wa+ba)/2))?Wa=xa:ba=xa,ea=pa,!(pa=pa[Oa|=
za<<1]))return ea[Oa]=Ja,Ea;var ia=+Ea._x.call(null,pa.data);var wa=+Ea._y.call(null,pa.data);if(ab===ia&&fb===wa)return Ja.next=pa,ea?ea[Oa]=Ja:Ea._root=Ja,Ea;do ea=ea?ea[Oa]=Array(4):Ea._root=Array(4),(Oa=ab>=(Ra=(Ha+ja)/2))?Ha=Ra:ja=Ra,(za=fb>=(xa=(Wa+ba)/2))?Wa=xa:ba=xa;while((Oa|=za<<1)===(za=(wa>=xa)<<1|ia>=Ra));return ea[za]=pa,ea[Oa]=Ja,Ea}function S(Ea,ab,fb,Ja,ea){this.node=Ea;this.x0=ab;this.y0=fb;this.x1=Ja;this.y1=ea}function Pa(Ea){return Ea[0]}function Kb(Ea){return Ea[1]}function Ma(Ea,
ab,fb){ab=new db(null==ab?Pa:ab,null==fb?Kb:fb,NaN,NaN,NaN,NaN);return null==Ea?ab:ab.addAll(Ea)}function db(Ea,ab,fb,Ja,ea,pa){this._x=Ea;this._y=ab;this._x0=fb;this._y0=Ja;this._x1=ea;this._y1=pa;this._root=void 0}function Eb(Ea){for(var ab={data:Ea.data},fb=ab;Ea=Ea.next;)fb=fb.next={data:Ea.data};return ab}var qb=Ma.prototype=db.prototype;qb.copy=function(){var Ea=new db(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ab=this._root,fb,Ja;if(!ab)return Ea;if(!ab.length)return Ea._root=Eb(ab),
Ea;for(fb=[{source:ab,target:Ea._root=Array(4)}];ab=fb.pop();)for(var ea=0;4>ea;++ea)if(Ja=ab.source[ea])Ja.length?fb.push({source:Ja,target:ab.target[ea]=Array(4)}):ab.target[ea]=Eb(Ja);return Ea};qb.add=function(Ea){var ab=+this._x.call(null,Ea),fb=+this._y.call(null,Ea);return q(this.cover(ab,fb),ab,fb,Ea)};qb.addAll=function(Ea){var ab,fb,Ja=Ea.length,ea,pa,Ha=Array(Ja),Wa=Array(Ja),ja=Infinity,ba=Infinity,Ra=-Infinity,xa=-Infinity;for(fb=0;fb<Ja;++fb)isNaN(ea=+this._x.call(null,ab=Ea[fb]))||
isNaN(pa=+this._y.call(null,ab))||(Ha[fb]=ea,Wa[fb]=pa,ea<ja&&(ja=ea),ea>Ra&&(Ra=ea),pa<ba&&(ba=pa),pa>xa&&(xa=pa));if(ja>Ra||ba>xa)return this;this.cover(ja,ba).cover(Ra,xa);for(fb=0;fb<Ja;++fb)q(this,Ha[fb],Wa[fb],Ea[fb]);return this};qb.cover=function(Ea,ab){if(isNaN(Ea=+Ea)||isNaN(ab=+ab))return this;var fb=this._x0,Ja=this._y0,ea=this._x1,pa=this._y1;if(isNaN(fb))ea=(fb=Math.floor(Ea))+1,pa=(Ja=Math.floor(ab))+1;else{for(var Ha=ea-fb||1,Wa=this._root,ja,ba;fb>Ea||Ea>=ea||Ja>ab||ab>=pa;)switch(ba=
(ab<Ja)<<1|Ea<fb,ja=Array(4),ja[ba]=Wa,Wa=ja,Ha*=2,ba){case 0:ea=fb+Ha;pa=Ja+Ha;break;case 1:fb=ea-Ha;pa=Ja+Ha;break;case 2:ea=fb+Ha;Ja=pa-Ha;break;case 3:fb=ea-Ha,Ja=pa-Ha}this._root&&this._root.length&&(this._root=Wa)}this._x0=fb;this._y0=Ja;this._x1=ea;this._y1=pa;return this};qb.data=function(){var Ea=[];this.visit(function(ab){if(!ab.length){do Ea.push(ab.data);while(ab=ab.next)}});return Ea};qb.extent=function(Ea){return arguments.length?this.cover(+Ea[0][0],+Ea[0][1]).cover(+Ea[1][0],+Ea[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};qb.find=function(Ea,ab,fb){var Ja=this._x0,ea=this._y0,pa,Ha,Wa,ja,ba=this._x1,Ra=this._y1,xa=[],Oa=this._root,za;Oa&&xa.push(new S(Oa,Ja,ea,ba,Ra));null==fb?fb=Infinity:(Ja=Ea-fb,ea=ab-fb,ba=Ea+fb,Ra=ab+fb,fb*=fb);for(;za=xa.pop();)if(!(!(Oa=za.node)||(pa=za.x0)>ba||(Ha=za.y0)>Ra||(Wa=za.x1)<Ja||(ja=za.y1)<ea))if(Oa.length){za=(pa+Wa)/2;var ia=(Ha+ja)/2;xa.push(new S(Oa[3],za,ia,Wa,ja),new S(Oa[2],pa,ia,za,ja),new S(Oa[1],za,Ha,Wa,
ia),new S(Oa[0],pa,Ha,za,ia));if(Oa=(ab>=ia)<<1|Ea>=za)za=xa[xa.length-1],xa[xa.length-1]=xa[xa.length-1-Oa],xa[xa.length-1-Oa]=za}else if(za=Ea-+this._x.call(null,Oa.data),ia=ab-+this._y.call(null,Oa.data),za=za*za+ia*ia,za<fb){var wa=Math.sqrt(fb=za);Ja=Ea-wa;ea=ab-wa;ba=Ea+wa;Ra=ab+wa;wa=Oa.data}return wa};qb.remove=function(Ea){if(isNaN(ja=+this._x.call(null,Ea))||isNaN(ba=+this._y.call(null,Ea)))return this;var ab,fb=this._root,Ja,ea=this._x0,pa=this._y0,Ha=this._x1,Wa=this._y1,ja,ba,Ra,xa,Oa,
za;if(!fb)return this;if(fb.length)for(;;){(Oa=ja>=(Ra=(ea+Ha)/2))?ea=Ra:Ha=Ra;(za=ba>=(xa=(pa+Wa)/2))?pa=xa:Wa=xa;if(!(ab=fb,fb=fb[Oa|=za<<1]))return this;if(!fb.length)break;if(ab[Oa+1&3]||ab[Oa+2&3]||ab[Oa+3&3]){var ia=ab;var wa=Oa}}for(;fb.data!==Ea;)if(!(Ja=fb,fb=fb.next))return this;(Ea=fb.next)&&delete fb.next;if(Ja)return Ea?Ja.next=Ea:delete Ja.next,this;if(!ab)return this._root=Ea,this;Ea?ab[Oa]=Ea:delete ab[Oa];(fb=ab[0]||ab[1]||ab[2]||ab[3])&&fb===(ab[3]||ab[2]||ab[1]||ab[0])&&!fb.length&&
(ia?ia[wa]=fb:this._root=fb);return this};qb.removeAll=function(Ea){for(var ab=0,fb=Ea.length;ab<fb;++ab)this.remove(Ea[ab]);return this};qb.root=function(){return this._root};qb.size=function(){var Ea=0;this.visit(function(ab){if(!ab.length){do++Ea;while(ab=ab.next)}});return Ea};qb.visit=function(Ea){var ab=[],fb,Ja=this._root,ea,pa,Ha,Wa;for(Ja&&ab.push(new S(Ja,this._x0,this._y0,this._x1,this._y1));fb=ab.pop();)if(!Ea(Ja=fb.node,pa=fb.x0,Ha=fb.y0,Wa=fb.x1,fb=fb.y1)&&Ja.length){var ja=(pa+Wa)/
2,ba=(Ha+fb)/2;(ea=Ja[3])&&ab.push(new S(ea,ja,ba,Wa,fb));(ea=Ja[2])&&ab.push(new S(ea,pa,ba,ja,fb));(ea=Ja[1])&&ab.push(new S(ea,ja,Ha,Wa,ba));(ea=Ja[0])&&ab.push(new S(ea,pa,Ha,ja,ba))}return this};qb.visitAfter=function(Ea){var ab=[],fb=[],Ja;for(this._root&&ab.push(new S(this._root,this._x0,this._y0,this._x1,this._y1));Ja=ab.pop();){var ea=Ja.node;if(ea.length){var pa,Ha=Ja.x0,Wa=Ja.y0,ja=Ja.x1,ba=Ja.y1,Ra=(Ha+ja)/2,xa=(Wa+ba)/2;(pa=ea[0])&&ab.push(new S(pa,Ha,Wa,Ra,xa));(pa=ea[1])&&ab.push(new S(pa,
Ra,Wa,ja,xa));(pa=ea[2])&&ab.push(new S(pa,Ha,xa,Ra,ba));(pa=ea[3])&&ab.push(new S(pa,Ra,xa,ja,ba))}fb.push(Ja)}for(;Ja=fb.pop();)Ea(Ja.node,Ja.x0,Ja.y0,Ja.x1,Ja.y1);return this};qb.x=function(Ea){return arguments.length?(this._x=Ea,this):this._x};qb.y=function(Ea){return arguments.length?(this._y=Ea,this):this._y};n.quadtree=Ma;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[30]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(){for(var db=0,Eb=arguments.length,qb={},Ea;db<Eb;++db){if(!(Ea=arguments[db]+"")||Ea in qb||/[\s.]/.test(Ea))throw Error("illegal type: "+Ea);qb[Ea]=[]}return new S(qb)}function S(db){this._=db}function Pa(db,Eb){return db.trim().split(/^|\s+/).map(function(qb){var Ea="",
ab=qb.indexOf(".");0<=ab&&(Ea=qb.slice(ab+1),qb=qb.slice(0,ab));if(qb&&!Eb.hasOwnProperty(qb))throw Error("unknown type: "+qb);return{type:qb,name:Ea}})}function Kb(db,Eb,qb){for(var Ea=0,ab=db.length;Ea<ab;++Ea)if(db[Ea].name===Eb){db[Ea]=Ma;db=db.slice(0,Ea).concat(db.slice(Ea+1));break}null!=qb&&db.push({name:Eb,value:qb});return db}var Ma={value:function(){}};S.prototype=q.prototype={constructor:S,on:function(db,Eb){var qb=this._,Ea=Pa(db+"",qb),ab,fb=-1,Ja=Ea.length;if(2>arguments.length)for(;++fb<
Ja;){var ea;if(ea=ab=(db=Ea[fb]).type){a:{ea=qb[ab];for(var pa=0,Ha=ea.length;pa<Ha;++pa)if((ab=ea[pa]).name===db.name){ab=ab.value;break a}ab=void 0}ea=ab}if(ea)return ab}else{if(null!=Eb&&"function"!==typeof Eb)throw Error("invalid callback: "+Eb);for(;++fb<Ja;)if(ab=(db=Ea[fb]).type)qb[ab]=Kb(qb[ab],db.name,Eb);else if(null==Eb)for(ab in qb)qb[ab]=Kb(qb[ab],db.name,null);return this}},copy:function(){var db={},Eb=this._,qb;for(qb in Eb)db[qb]=Eb[qb].slice();return new S(db)},call:function(db,Eb){if(0<
(ab=arguments.length-2))for(var qb=Array(ab),Ea=0,ab,fb;Ea<ab;++Ea)qb[Ea]=arguments[Ea+2];if(!this._.hasOwnProperty(db))throw Error("unknown type: "+db);fb=this._[db];Ea=0;for(ab=fb.length;Ea<ab;++Ea)fb[Ea].value.apply(Eb,qb)},apply:function(db,Eb,qb){if(!this._.hasOwnProperty(db))throw Error("unknown type: "+db);db=this._[db];for(var Ea=0,ab=db.length;Ea<ab;++Ea)db[Ea].value.apply(Eb,qb)}};n.dispatch=q;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[31]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(){return Ha||(ba(S),Ha=ja.now()+Wa)}function S(){Ha=0}function Pa(){this._call=this._time=this._next=null}function Kb(Ra,xa,Oa){var za=new Pa;za.restart(Ra,xa,Oa);return za}function Ma(){q();++Ea;for(var Ra=Ja,xa;Ra;)0<=(xa=Ha-Ra._time)&&Ra._call.call(null,xa),Ra=Ra._next;
--Ea}function db(){Ha=(pa=ja.now())+Wa;Ea=ab=0;try{Ma()}finally{Ea=0;for(var Ra,xa=Ja,Oa,za=Infinity;xa;)xa._call?(za>xa._time&&(za=xa._time),Ra=xa,xa=xa._next):(Oa=xa._next,xa._next=null,xa=Ra?Ra._next=Oa:Ja=Oa);ea=Ra;qb(za);Ha=0}}function Eb(){var Ra=ja.now(),xa=Ra-pa;1E3<xa&&(Wa-=xa,pa=Ra)}function qb(Ra){Ea||(ab&&(ab=clearTimeout(ab)),24<Ra-Ha?(Infinity>Ra&&(ab=setTimeout(db,Ra-ja.now()-Wa)),fb&&(fb=clearInterval(fb))):(fb||(pa=ja.now(),fb=setInterval(Eb,1E3)),Ea=1,ba(db)))}var Ea=0,ab=0,fb=0,
Ja,ea,pa=0,Ha=0,Wa=0,ja="object"===typeof performance&&performance.now?performance:Date,ba="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ra){setTimeout(Ra,17)};Pa.prototype=Kb.prototype={constructor:Pa,restart:function(Ra,xa,Oa){if("function"!==typeof Ra)throw new TypeError("callback is not a function");Oa=(null==Oa?q():+Oa)+(null==xa?0:+xa);this._next||ea===this||(ea?ea._next=this:Ja=this,ea=this);this._call=Ra;this._time=Oa;qb()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,qb())}};n.interval=function(Ra,xa,Oa){var za=new Pa,ia=xa;if(null==xa)return za.restart(Ra,xa,Oa),za;za._restart=za.restart;za.restart=function(wa,sa,qa){sa=+sa;qa=null==qa?q():+qa;za._restart(function Za(Ca){Ca+=ia;za._restart(Za,ia+=sa,qa);wa(Ca)},sa,qa)};za.restart(Ra,xa,Oa);return za};n.now=q;n.timeout=function(Ra,xa,Oa){var za=new Pa;xa=null==xa?0:+xa;za.restart(function(ia){za.stop();Ra(ia+xa)},xa,Oa);return za};n.timer=Kb;n.timerFlush=Ma;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[32]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(29),sb(30),sb(31)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],q):(n=n||self,q(n.d3=n.d3||{},n.d3,n.d3,n.d3))})(this,function(n,q,S,Pa){function Kb(ea){return function(){return ea}}function Ma(ea){return ea.x+ea.vx}function db(ea){return ea.y+ea.vy}function Eb(ea){return ea.index}function qb(ea,pa){ea=ea.get(pa);if(!ea)throw Error("node not found: "+
pa);return ea}function Ea(){var ea=1;return function(){return(ea=(1664525*ea+1013904223)%4294967296)/4294967296}}function ab(ea){return ea.x}function fb(ea){return ea.y}var Ja=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(ea,pa){function Ha(){var ba,Ra=Wa.length,xa=0,Oa=0;for(ba=0;ba<Ra;++ba){var za=Wa[ba];xa+=za.x;Oa+=za.y}xa=(xa/Ra-ea)*ja;Oa=(Oa/Ra-pa)*ja;for(ba=0;ba<Ra;++ba)za=Wa[ba],za.x-=xa,za.y-=Oa}var Wa,ja=1;null==ea&&(ea=0);null==pa&&(pa=0);Ha.initialize=function(ba){Wa=ba};Ha.x=function(ba){return arguments.length?
(ea=+ba,Ha):ea};Ha.y=function(ba){return arguments.length?(pa=+ba,Ha):pa};Ha.strength=function(ba){return arguments.length?(ja=+ba,Ha):ja};return Ha};n.forceCollide=function(ea){function pa(){function za(x,G,J,z,F){var M=x.data;x=x.r;var ka=Za+x;if(M)M.index>qa.index&&(G=Fa-M.x-M.vx,J=Ca-M.y-M.vy,z=G*G+J*J,z<ka*ka&&(0===G&&(G=1E-6*(Ra()-.5),z+=G*G),0===J&&(J=1E-6*(Ra()-.5),z+=J*J),z=(ka-(z=Math.sqrt(z)))/z*xa,qa.vx+=(G*=z)*(ka=(x*=x)/(jb+x)),qa.vy+=(J*=z)*ka,M.vx-=G*(ka=1-ka),M.vy-=J*ka));else return G>
Fa+ka||z<Fa-ka||J>Ca+ka||F<Ca-ka}for(var ia,wa=ja.length,sa,qa,Fa,Ca,Za,jb,y=0;y<Oa;++y)for(sa=q.quadtree(ja,Ma,db).visitAfter(Ha),ia=0;ia<wa;++ia)qa=ja[ia],Za=ba[qa.index],jb=Za*Za,Fa=qa.x+qa.vx,Ca=qa.y+qa.vy,sa.visit(za)}function Ha(za){if(za.data)return za.r=ba[za.data.index];for(var ia=za.r=0;4>ia;++ia)za[ia]&&za[ia].r>za.r&&(za.r=za[ia].r)}function Wa(){if(ja){var za,ia=ja.length;ba=Array(ia);for(za=0;za<ia;++za){var wa=ja[za];ba[wa.index]=+ea(wa,za,ja)}}}var ja,ba,Ra,xa=1,Oa=1;"function"!==
typeof ea&&(ea=Kb(null==ea?1:+ea));pa.initialize=function(za,ia){ja=za;Ra=ia;Wa()};pa.iterations=function(za){return arguments.length?(Oa=+za,pa):Oa};pa.strength=function(za){return arguments.length?(xa=+za,pa):xa};pa.radius=function(za){return arguments.length?(ea="function"===typeof za?za:Kb(+za),Wa(),pa):ea};return pa};n.forceLink=function(ea){function pa(Ca){for(var Za=0,jb=ea.length;Za<Fa;++Za)for(var y=0,x,G,J,z,F;y<jb;++y)x=ea[y],G=x.source,x=x.target,J=x.x+x.vx-G.x-G.vx||1E-6*(qa()-.5),z=
x.y+x.vy-G.y-G.vy||1E-6*(qa()-.5),F=Math.sqrt(J*J+z*z),F=(F-za[y])/F*Ca*xa[y],J*=F,z*=F,x.vx-=J*(F=sa[y]),x.vy-=z*F,G.vx+=J*(F=1-F),G.vy+=z*F}function Ha(){if(ia){var Ca=ia.length,Za=ea.length,jb=new Map(ia.map(function(x,G){return[ba(x,G,ia),x]}));var y=0;for(wa=Array(Ca);y<Za;++y)Ca=ea[y],Ca.index=y,"object"!==typeof Ca.source&&(Ca.source=qb(jb,Ca.source)),"object"!==typeof Ca.target&&(Ca.target=qb(jb,Ca.target)),wa[Ca.source.index]=(wa[Ca.source.index]||0)+1,wa[Ca.target.index]=(wa[Ca.target.index]||
0)+1;y=0;for(sa=Array(Za);y<Za;++y)Ca=ea[y],sa[y]=wa[Ca.source.index]/(wa[Ca.source.index]+wa[Ca.target.index]);xa=Array(Za);Wa();za=Array(Za);ja()}}function Wa(){if(ia)for(var Ca=0,Za=ea.length;Ca<Za;++Ca)xa[Ca]=+Ra(ea[Ca],Ca,ea)}function ja(){if(ia)for(var Ca=0,Za=ea.length;Ca<Za;++Ca)za[Ca]=+Oa(ea[Ca],Ca,ea)}var ba=Eb,Ra=function(Ca){return 1/Math.min(wa[Ca.source.index],wa[Ca.target.index])},xa,Oa=Kb(30),za,ia,wa,sa,qa,Fa=1;null==ea&&(ea=[]);pa.initialize=function(Ca,Za){ia=Ca;qa=Za;Ha()};pa.links=
function(Ca){return arguments.length?(ea=Ca,Ha(),pa):ea};pa.id=function(Ca){return arguments.length?(ba=Ca,pa):ba};pa.iterations=function(Ca){return arguments.length?(Fa=+Ca,pa):Fa};pa.strength=function(Ca){return arguments.length?(Ra="function"===typeof Ca?Ca:Kb(+Ca),Wa(),pa):Ra};pa.distance=function(Ca){return arguments.length?(Oa="function"===typeof Ca?Ca:Kb(+Ca),ja(),pa):Oa};return pa};n.forceManyBody=function(){function ea(qa){var Fa=ja.length,Ca=q.quadtree(ja,ab,fb).visitAfter(Ha);xa=qa;for(qa=
0;qa<Fa;++qa)ba=ja[qa],Ca.visit(Wa)}function pa(){if(ja){var qa,Fa=ja.length;za=Array(Fa);for(qa=0;qa<Fa;++qa){var Ca=ja[qa];za[Ca.index]=+Oa(Ca,qa,ja)}}}function Ha(qa){var Fa=0,Ca,Za,jb=0,y,x,G;if(qa.length){for(y=x=G=0;4>G;++G)(Ca=qa[G])&&(Za=Math.abs(Ca.value))&&(Fa+=Ca.value,jb+=Za,y+=Za*Ca.x,x+=Za*Ca.y);qa.x=y/jb;qa.y=x/jb}else{Ca=qa;Ca.x=Ca.data.x;Ca.y=Ca.data.y;do Fa+=za[Ca.data.index];while(Ca=Ca.next)}qa.value=Fa}function Wa(qa,Fa,Ca,Za){if(!qa.value)return!0;Ca=qa.x-ba.x;var jb=qa.y-ba.y;
Fa=Za-Fa;Za=Ca*Ca+jb*jb;if(Fa*Fa/sa<Za)return Za<wa&&(0===Ca&&(Ca=1E-6*(Ra()-.5),Za+=Ca*Ca),0===jb&&(jb=1E-6*(Ra()-.5),Za+=jb*jb),Za<ia&&(Za=Math.sqrt(ia*Za)),ba.vx+=Ca*qa.value*xa/Za,ba.vy+=jb*qa.value*xa/Za),!0;if(!(qa.length||Za>=wa)){if(qa.data!==ba||qa.next)0===Ca&&(Ca=1E-6*(Ra()-.5),Za+=Ca*Ca),0===jb&&(jb=1E-6*(Ra()-.5),Za+=jb*jb),Za<ia&&(Za=Math.sqrt(ia*Za));do qa.data!==ba&&(Fa=za[qa.data.index]*xa/Za,ba.vx+=Ca*Fa,ba.vy+=jb*Fa);while(qa=qa.next)}}var ja,ba,Ra,xa,Oa=Kb(-30),za,ia=1,wa=Infinity,
sa=.81;ea.initialize=function(qa,Fa){ja=qa;Ra=Fa;pa()};ea.strength=function(qa){return arguments.length?(Oa="function"===typeof qa?qa:Kb(+qa),pa(),ea):Oa};ea.distanceMin=function(qa){return arguments.length?(ia=qa*qa,ea):Math.sqrt(ia)};ea.distanceMax=function(qa){return arguments.length?(wa=qa*qa,ea):Math.sqrt(wa)};ea.theta=function(qa){return arguments.length?(sa=qa*qa,ea):Math.sqrt(sa)};return ea};n.forceRadial=function(ea,pa,Ha){function Wa(za){for(var ia=0,wa=ba.length;ia<wa;++ia){var sa=ba[ia],
qa=sa.x-pa||1E-6,Fa=sa.y-Ha||1E-6,Ca=Math.sqrt(qa*qa+Fa*Fa);Ca=(Oa[ia]-Ca)*xa[ia]*za/Ca;sa.vx+=qa*Ca;sa.vy+=Fa*Ca}}function ja(){if(ba){var za,ia=ba.length;xa=Array(ia);Oa=Array(ia);for(za=0;za<ia;++za)Oa[za]=+ea(ba[za],za,ba),xa[za]=isNaN(Oa[za])?0:+Ra(ba[za],za,ba)}}var ba,Ra=Kb(.1),xa,Oa;"function"!==typeof ea&&(ea=Kb(+ea));null==pa&&(pa=0);null==Ha&&(Ha=0);Wa.initialize=function(za){ba=za;ja()};Wa.strength=function(za){return arguments.length?(Ra="function"===typeof za?za:Kb(+za),ja(),Wa):Ra};
Wa.radius=function(za){return arguments.length?(ea="function"===typeof za?za:Kb(+za),ja(),Wa):ea};Wa.x=function(za){return arguments.length?(pa=+za,Wa):pa};Wa.y=function(za){return arguments.length?(Ha=+za,Wa):Ha};return Wa};n.forceSimulation=function(ea){function pa(){Ha();qa.call("tick",ba);Ra<xa&&(sa.stop(),qa.call("end",ba))}function Ha(Ca){var Za,jb=ea.length;void 0===Ca&&(Ca=1);for(var y=0;y<Ca;++y)for(Ra+=(za-Ra)*Oa,wa.forEach(function(G){G(Ra)}),Za=0;Za<jb;++Za){var x=ea[Za];null==x.fx?x.x+=
x.vx*=ia:(x.x=x.fx,x.vx=0);null==x.fy?x.y+=x.vy*=ia:(x.y=x.fy,x.vy=0)}return ba}function Wa(){for(var Ca=0,Za=ea.length,jb;Ca<Za;++Ca){jb=ea[Ca];jb.index=Ca;null!=jb.fx&&(jb.x=jb.fx);null!=jb.fy&&(jb.y=jb.fy);if(isNaN(jb.x)||isNaN(jb.y)){var y=10*Math.sqrt(.5+Ca),x=Ca*Ja;jb.x=y*Math.cos(x);jb.y=y*Math.sin(x)}if(isNaN(jb.vx)||isNaN(jb.vy))jb.vx=jb.vy=0}}function ja(Ca){Ca.initialize&&Ca.initialize(ea,Fa);return Ca}var ba,Ra=1,xa=.001,Oa=1-Math.pow(xa,1/300),za=0,ia=.6,wa=new Map,sa=Pa.timer(pa),qa=
S.dispatch("tick","end"),Fa=Ea();null==ea&&(ea=[]);Wa();return ba={tick:Ha,restart:function(){return sa.restart(pa),ba},stop:function(){return sa.stop(),ba},nodes:function(Ca){return arguments.length?(ea=Ca,Wa(),wa.forEach(ja),ba):ea},alpha:function(Ca){return arguments.length?(Ra=+Ca,ba):Ra},alphaMin:function(Ca){return arguments.length?(xa=+Ca,ba):xa},alphaDecay:function(Ca){return arguments.length?(Oa=+Ca,ba):+Oa},alphaTarget:function(Ca){return arguments.length?(za=+Ca,ba):za},velocityDecay:function(Ca){return arguments.length?
(ia=1-Ca,ba):1-ia},randomSource:function(Ca){return arguments.length?(Fa=Ca,wa.forEach(ja),ba):Fa},force:function(Ca,Za){return 1<arguments.length?(null==Za?wa.delete(Ca):wa.set(Ca,ja(Za)),ba):wa.get(Ca)},find:function(Ca,Za,jb){var y,x=ea.length;jb=null==jb?Infinity:jb*jb;for(y=0;y<x;++y){var G=ea[y];var J=Ca-G.x;var z=Za-G.y;J=J*J+z*z;if(J<jb){var F=G;jb=J}}return F},on:function(Ca,Za){return 1<arguments.length?(qa.on(Ca,Za),ba):qa.on(Ca)}}};n.forceX=function(ea){function pa(xa){for(var Oa=0,za=
ja.length,ia;Oa<za;++Oa)ia=ja[Oa],ia.vx+=(Ra[Oa]-ia.x)*ba[Oa]*xa}function Ha(){if(ja){var xa,Oa=ja.length;ba=Array(Oa);Ra=Array(Oa);for(xa=0;xa<Oa;++xa)ba[xa]=isNaN(Ra[xa]=+ea(ja[xa],xa,ja))?0:+Wa(ja[xa],xa,ja)}}var Wa=Kb(.1),ja,ba,Ra;"function"!==typeof ea&&(ea=Kb(null==ea?0:+ea));pa.initialize=function(xa){ja=xa;Ha()};pa.strength=function(xa){return arguments.length?(Wa="function"===typeof xa?xa:Kb(+xa),Ha(),pa):Wa};pa.x=function(xa){return arguments.length?(ea="function"===typeof xa?xa:Kb(+xa),
Ha(),pa):ea};return pa};n.forceY=function(ea){function pa(xa){for(var Oa=0,za=ja.length,ia;Oa<za;++Oa)ia=ja[Oa],ia.vy+=(Ra[Oa]-ia.y)*ba[Oa]*xa}function Ha(){if(ja){var xa,Oa=ja.length;ba=Array(Oa);Ra=Array(Oa);for(xa=0;xa<Oa;++xa)ba[xa]=isNaN(Ra[xa]=+ea(ja[xa],xa,ja))?0:+Wa(ja[xa],xa,ja)}}var Wa=Kb(.1),ja,ba,Ra;"function"!==typeof ea&&(ea=Kb(null==ea?0:+ea));pa.initialize=function(xa){ja=xa;Ha()};pa.strength=function(xa){return arguments.length?(Wa="function"===typeof xa?xa:Kb(+xa),Ha(),pa):Wa};pa.y=
function(xa){return arguments.length?(ea="function"===typeof xa?xa:Kb(+xa),Ha(),pa):ea};return pa};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[33]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(12),sb(0),sb(32)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa){function Kb(ea){q.Transform.call(this,null,ea)}function Ma(ea,pa){return function(){return ea.touch(pa).run()}}function db(ea,pa){ea=
Pa.forceSimulation(ea);var Ha=ea.stop,Wa=ea.restart,ja=!1;ea.stopped=function(){return ja};ea.restart=function(){return ja=!1,Wa()};ea.stop=function(){return ja=!0,Ha()};return Eb(ea,pa,!0).on("end",function(){return ja=!0})}function Eb(ea,pa,Ha,Wa){var ja=S.array(pa.forces),ba;var Ra=0;for(ba=ab.length;Ra<ba;++Ra){var xa=ab[Ra];if("forces"!==xa&&pa.modified(xa))ea[xa](pa[xa])}Ra=0;for(ba=ja.length;Ra<ba;++Ra){var Oa="forces"+Ra;if(Ha||pa.modified("forces",Ra)){xa=void 0;var za=ja[Ra];S.hasOwnProperty(Ea,
za.force)||S.error("Unrecognized force: "+za.force);var ia=Ea[za.force]();for(xa in za)S.isFunction(ia[xa])&&qb(ia[xa],za[xa],za);xa=ia}else{if(xa=Wa)a:{ia=xa=void 0;za=ja[Ra];var wa=Wa;for(ia in za)if(S.isFunction(xa=za[ia])&&wa.modified(S.accessorFields(xa))){xa=1;break a}xa=0}xa=xa?ea.force(Oa):null}xa&&ea.force(Oa,xa)}for(ba=ea.numForces||0;Ra<ba;++Ra)ea.force("forces"+Ra,null);ea.numForces=ja.length;return ea}function qb(ea,pa,Ha){ea(S.isFunction(pa)?function(Wa){return pa(Wa,Ha)}:pa)}var Ea=
{center:Pa.forceCenter,collide:Pa.forceCollide,nbody:Pa.forceManyBody,link:Pa.forceLink,x:Pa.forceX,y:Pa.forceY},ab=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],fb=["static","iterations"],Ja=["x","y","vx","vy"];Kb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},
{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number",
"default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},
{name:"as",type:"string",array:!0,modify:!1,"default":Ja}]};S.inherits(Kb,q.Transform,{transform:function(ea,pa){var Ha=this.value,Wa=pa.changed(pa.ADD_REM),ja=ea.modified(ab),ba=ea.iterations||300;Ha?(Wa&&(pa.modifies("index"),Ha.nodes(pa.source)),(ja||pa.changed(pa.MOD))&&Eb(Ha,ea,0,pa)):(this.value=Ha=db(pa.source,ea),Ha.on("tick",Ma(pa.dataflow,this)),ea.static||(Wa=!0,Ha.tick()),pa.modifies("index"));if(ja||Wa||ea.modified(fb)||pa.changed()&&ea.restart)if(Ha.alpha(Math.max(Ha.alpha(),ea.alpha||
1)).alphaDecay(1-Math.pow(Ha.alphaMin(),1/ba)),ea.static)for(Ha.stop();0<=--ba;)Ha.tick();else if(Ha.stopped()&&Ha.restart(),!Wa)return pa.StopPropagation;return this.finish(ea,pa)},finish:function(ea,pa){for(var Ha=pa.dataflow,Wa=this._argops,ja=0,ba=Wa.length,Ra;ja<ba;++ja)if(Ra=Wa[ja],"forces"===Ra.name&&"link"===Ra.op._argval.force){Ra=Ra.op._argops;for(var xa=0,Oa=Ra.length,za;xa<Oa;++xa)if("links"===Ra[xa].name&&(za=Ra[xa].op.source)){Ha.pulse(za,Ha.changeset().reflow());break}}return pa.reflow(ea.modified()).modifies(Ja)}});
n.force=Kb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[34]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(l,k){return l.parent===k.parent?1:2}function S(l,k){return l+k.x}function Pa(l,k){return Math.max(l,k.y)}function Kb(l){for(var k;k=l.children;)l=k[0];return l}function Ma(l){for(var k;k=l.children;)l=k[k.length-1];return l}function db(l){var k=0,p=l.children,t=p&&p.length;
if(t)for(;0<=--t;)k+=p[t].value;else k=1;l.value=k}function Eb(){var l=this,k,p,t,w,O,la;return $jscomp.generator.createGenerator(Eb,function(ma){switch(ma.nextAddress){case 1:k=l,t=[k];case 2:p=t.reverse(),t=[];case 5:if(!(k=p.pop())){ma.jumpTo(4);break}return ma.yield(k,7);case 7:if(w=k.children)for(O=0,la=w.length;O<la;++O)t.push(w[O]);ma.jumpTo(5);break;case 4:t.length?ma.jumpTo(2):ma.jumpToEnd()}})}function qb(l,k){l instanceof Map?(l=[void 0,l],void 0===k&&(k=ab)):void 0===k&&(k=Ea);l=new ea(l);
for(var p,t=[l],w,O,la,ma;p=t.pop();)if((O=k(p.data))&&(ma=(O=Array.from(O)).length))for(p.children=O,la=ma-1;0<=la;--la)t.push(w=O[la]=new ea(O[la])),w.parent=p,w.depth=p.depth+1;return l.eachBefore(Ja)}function Ea(l){return l.children}function ab(l){return Array.isArray(l)?l[1]:null}function fb(l){void 0!==l.data.value&&(l.value=l.data.value);l.data=l.data.data}function Ja(l){var k=0;do l.height=k;while((l=l.parent)&&l.height<++k)}function ea(l){this.data=l;this.depth=this.height=0;this.parent=
null}function pa(l){var k=0;l=Array.from(l);for(var p=l.length,t,w;p;)w=Math.random()*p--|0,t=l[p],l[p]=l[w],l[w]=t;p=l.length;t=[];for(var O;k<p;)if(w=l[k],O&&Wa(O,w))++k;else{a:if(k=t,ja(w,k))k=[w];else{for(t=0;t<k.length;++t)if(Ha(w,k[t])&&ja(ba(k[t],w),k)){k=[k[t],w];break a}for(t=0;t<k.length-1;++t)for(O=t+1;O<k.length;++O)if(Ha(ba(k[t],k[O]),w)&&Ha(ba(k[t],w),k[O])&&Ha(ba(k[O],w),k[t])&&ja(Ra(k[t],k[O],w),k)){k=[k[t],k[O],w];break a}throw Error();}a:{k=t=k;switch(k.length){case 1:k=k[0];k={x:k.x,
y:k.y,r:k.r};break a;case 2:k=ba(k[0],k[1]);break a;case 3:k=Ra(k[0],k[1],k[2]);break a}k=void 0}O=k;k=0}return O}function Ha(l,k){var p=l.r-k.r,t=k.x-l.x;l=k.y-l.y;return 0>p||p*p<t*t+l*l}function Wa(l,k){var p=l.r-k.r+1E-9*Math.max(l.r,k.r,1),t=k.x-l.x;l=k.y-l.y;return 0<p&&p*p>t*t+l*l}function ja(l,k){for(var p=0;p<k.length;++p)if(!Wa(l,k[p]))return!1;return!0}function ba(l,k){var p=l.x,t=l.y;l=l.r;var w=k.x,O=k.y;k=k.r;var la=w-p,ma=O-t,ua=k-l,eb=Math.sqrt(la*la+ma*ma);return{x:(p+w+la/eb*ua)/
2,y:(t+O+ma/eb*ua)/2,r:(eb+l+k)/2}}function Ra(l,k,p){var t=l.x,w=l.y;l=l.r;var O=k.x,la=k.y,ma=k.r,ua=p.x,eb=p.y,cb=p.r;p=t-O;k=t-ua;var Ba=w-la,Ka=w-eb,Z=ma-l,ra=cb-l,hb=t*t+w*w-l*l;la=hb-O*O-la*la+ma*ma;eb=hb-ua*ua-eb*eb+cb*cb;ua=k*Ba-p*Ka;O=(Ba*eb-Ka*la)/(2*ua)-t;Ba=(Ka*Z-Ba*ra)/ua;Ka=(k*la-p*eb)/(2*ua)-w;p=(p*ra-k*Z)/ua;k=Ba*Ba+p*p-1;Z=2*(l+O*Ba+Ka*p);l=O*O+Ka*Ka-l*l;l=-(k?(Z+Math.sqrt(Z*Z-4*k*l))/(2*k):l/Z);return{x:t+O+Ba*l,y:w+Ka+p*l,r:l}}function xa(l,k,p){var t=l.x-k.x,w=l.y-k.y,O=t*t+w*
w;if(O){var la=k.r+p.r;la*=la;var ma=l.r+p.r;ma*=ma;if(la>ma){var ua=(O+ma-la)/(2*O);la=Math.sqrt(Math.max(0,ma/O-ua*ua));p.x=l.x-ua*t-la*w;p.y=l.y-ua*w+la*t}else ua=(O+la-ma)/(2*O),la=Math.sqrt(Math.max(0,la/O-ua*ua)),p.x=k.x+ua*t-la*w,p.y=k.y+ua*w+la*t}else p.x=k.x+p.r,p.y=k.y}function Oa(l,k){var p=l.r+k.r-1E-6,t=k.x-l.x;l=k.y-l.y;return 0<p&&p*p>t*t+l*l}function za(l){var k=l._,p=l.next._,t=k.r+p.r;l=(k.x*p.r+p.x*k.r)/t;k=(k.y*p.r+p.y*k.r)/t;return l*l+k*k}function ia(l){this._=l;this.previous=
this.next=null}function wa(l){if(!(p=(l="object"===typeof l&&"length"in l?l:Array.from(l)).length))return 0;var k,p;var t=l[0];t.x=0;t.y=0;if(!(1<p))return t.r;var w=l[1];t.x=-w.r;w.x=t.r;w.y=0;if(!(2<p))return t.r+w.r;xa(w,t,k=l[2]);t=new ia(t);w=new ia(w);k=new ia(k);t.next=k.previous=w;w.next=t.previous=k;k.next=w.previous=t;var O=3;a:for(;O<p;++O){xa(t._,w._,k=l[O]);k=new ia(k);var la=w.next;var ma=t.previous;var ua=w._.r;var eb=t._.r;do if(ua<=eb){if(Oa(la._,k._)){w=la;t.next=w;w.previous=t;
--O;continue a}ua+=la._.r;la=la.next}else{if(Oa(ma._,k._)){t=ma;t.next=w;w.previous=t;--O;continue a}eb+=ma._.r;ma=ma.previous}while(la!==ma.next);k.previous=t;k.next=w;t.next=w.previous=w=k;for(la=za(t);(k=k.next)!==w;)(ma=za(k))<la&&(t=k,la=ma);w=t.next}t=[w._];for(k=w;(k=k.next)!==w;)t.push(k._);k=pa(t);for(O=0;O<p;++O)t=l[O],t.x-=k.x,t.y-=k.y;return k.r}function sa(l){if("function"!==typeof l)throw Error();return l}function qa(){return 0}function Fa(l){return function(){return l}}function Ca(l){return Math.sqrt(l.value)}
function Za(l){return function(k){k.children||(k.r=Math.max(0,+l(k)||0))}}function jb(l,k){return function(p){if(t=p.children){var t,w,O=t.length,la=l(p)*k||0;if(la)for(w=0;w<O;++w)t[w].r+=la;var ma=wa(t);if(la)for(w=0;w<O;++w)t[w].r-=la;p.r=ma+la}}}function y(l){return function(k){var p=k.parent;k.r*=l;p&&(k.x=p.x+l*k.x,k.y=p.y+l*k.y)}}function x(l){l.x0=Math.round(l.x0);l.y0=Math.round(l.y0);l.x1=Math.round(l.x1);l.y1=Math.round(l.y1)}function G(l,k,p,t,w){var O=l.children,la=-1,ma=O.length;for(t=
l.value&&(t-k)/l.value;++la<ma;)l=O[la],l.y0=p,l.y1=w,l.x0=k,l.x1=k+=l.value*t}function J(l){return l.id}function z(l){return l.parentId}function F(l,k){return l.parent===k.parent?1:2}function M(l){var k=l.children;return k?k[0]:l.t}function ka(l){var k=l.children;return k?k[k.length-1]:l.t}function Ia(l,k){this._=l;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=k}function Ta(l){l=new Ia(l,0);for(var k,p=[l],t,w,O;k=p.pop();)if(w=k._.children)for(k.children=
Array(t=w.length),O=t-1;0<=O;--O)p.push(t=k.children[O]=new Ia(w[O],O)),t.parent=k;(l.parent=new Ia(null,0)).children=[l];return l}function D(l,k,p,t,w){var O=l.children,la=-1,ma=O.length;for(w=l.value&&(w-p)/l.value;++la<ma;)l=O[la],l.x0=k,l.x1=t,l.y0=p,l.y1=p+=l.value*w}function fa(l,k,p,t,w,O){for(var la=[],ma=k.children,ua,eb,cb=ua=0,Ba=ma.length,Ka,Z=k.value,ra,hb,mb,Hb,Xb,ya;ua<Ba;){k=w-p;Ka=O-t;do ra=ma[cb++].value;while(!ra&&cb<Ba);hb=mb=ra;ya=Math.max(Ka/k,k/Ka)/(Z*l);Hb=ra*ra*ya;for(Xb=
Math.max(mb/Hb,Hb/hb);cb<Ba;++cb){ra+=eb=ma[cb].value;eb<hb&&(hb=eb);eb>mb&&(mb=eb);Hb=ra*ra*ya;Hb=Math.max(mb/Hb,Hb/hb);if(Hb>Xb){ra-=eb;break}Xb=Hb}la.push(ua={value:ra,dice:k<Ka,children:ma.slice(ua,cb)});ua.dice?G(ua,p,t,w,Z?t+=Ka*ra/Z:O):D(ua,p,t,Z?p+=k*ra/Z:w,O);Z-=ra;ua=cb}return la}var Y={};ea.prototype=qb.prototype=(Y.constructor=ea,Y.count=function(){return this.eachAfter(db)},Y.each=function(l,k){for(var p=-1,t=$jscomp.makeIterator(this),w=t.next();!w.done;w=t.next())l.call(k,w.value,++p,
this);return this},Y.eachAfter=function(l,k){for(var p,t=[this],w=[],O,la,ma=-1;p=t.pop();)if(w.push(p),p=p.children)for(O=0,la=p.length;O<la;++O)t.push(p[O]);for(;p=w.pop();)l.call(k,p,++ma,this);return this},Y.eachBefore=function(l,k){for(var p,t=[this],w,O=-1;p=t.pop();)if(l.call(k,p,++O,this),p=p.children)for(w=p.length-1;0<=w;--w)t.push(p[w]);return this},Y.find=function(l,k){for(var p=-1,t=$jscomp.makeIterator(this),w=t.next();!w.done;w=t.next())if(w=w.value,l.call(k,w,++p,this))return w},Y.sum=
function(l){return this.eachAfter(function(k){for(var p=+l(k.data)||0,t=k.children,w=t&&t.length;0<=--w;)p+=t[w].value;k.value=p})},Y.sort=function(l){return this.eachBefore(function(k){k.children&&k.children.sort(l)})},Y.path=function(l){var k=this;var p=k;var t=l;if(p!==t){var w=p.ancestors(),O=t.ancestors(),la=null;p=w.pop();for(t=O.pop();p===t;)la=p,p=w.pop(),t=O.pop();p=la}for(t=[k];k!==p;)k=k.parent,t.push(k);for(k=t.length;l!==p;)t.splice(k,0,l),l=l.parent;return t},Y.ancestors=function(){for(var l=
this,k=[l];l=l.parent;)k.push(l);return k},Y.descendants=function(){return Array.from(this)},Y.leaves=function(){var l=[];this.eachBefore(function(k){k.children||l.push(k)});return l},Y.links=function(){var l=this,k=[];l.each(function(p){p!==l&&k.push({source:p.parent,target:p})});return k},Y.copy=function(){return qb(this).eachBefore(fb)},Y[Symbol.iterator]=Eb,Y);var W={depth:-1},H={};Ia.prototype=Object.create(ea.prototype);Y=(1+Math.sqrt(5))/2;var T=function p(k){function t(w,O,la,ma,ua){fa(k,
w,O,la,ma,ua)}t.ratio=function(w){return p(1<(w=+w)?w:1)};return t}(Y);Y=function t(p){function w(O,la,ma,ua,eb){if((cb=O._squarify)&&cb.ratio===p)for(var cb,Ba,Ka,Z=-1,ra,hb=cb.length,mb=O.value;++Z<hb;){O=cb[Z];Ba=O.children;Ka=O.value=0;for(ra=Ba.length;Ka<ra;++Ka)O.value+=Ba[Ka].value;O.dice?G(O,la,ma,ua,mb?ma+=(eb-ma)*O.value/mb:eb):D(O,la,ma,mb?la+=(ua-la)*O.value/mb:ua,eb);mb-=O.value}else O._squarify=cb=fa(p,O,la,ma,ua,eb),cb.ratio=p}w.ratio=function(O){return t(1<(O=+O)?O:1)};return w}(Y);
n.cluster=function(){function p(ma){var ua,eb=0;ma.eachAfter(function(ra){var hb=ra.children;if(hb){var mb=hb.reduce(S,0)/hb.length;ra.x=mb;ra.y=1+hb.reduce(Pa,0)}else ra.x=ua?eb+=t(ra,ua):0,ra.y=0,ua=ra});var cb=Kb(ma),Ba=Ma(ma),Ka=cb.x-t(cb,Ba)/2,Z=Ba.x+t(Ba,cb)/2;return ma.eachAfter(la?function(ra){ra.x=(ra.x-ma.x)*w;ra.y=(ma.y-ra.y)*O}:function(ra){ra.x=(ra.x-Ka)/(Z-Ka)*w;ra.y=(1-(ma.y?ra.y/ma.y:1))*O})}var t=q,w=1,O=1,la=!1;p.separation=function(ma){return arguments.length?(t=ma,p):t};p.size=
function(ma){return arguments.length?(la=!1,w=+ma[0],O=+ma[1],p):la?null:[w,O]};p.nodeSize=function(ma){return arguments.length?(la=!0,w=+ma[0],O=+ma[1],p):la?[w,O]:null};return p};n.hierarchy=qb;n.pack=function(){function p(ma){ma.x=w/2;ma.y=O/2;t?ma.eachBefore(Za(t)).eachAfter(jb(la,.5)).eachBefore(y(1)):ma.eachBefore(Za(Ca)).eachAfter(jb(qa,1)).eachAfter(jb(la,ma.r/Math.min(w,O))).eachBefore(y(Math.min(w,O)/(2*ma.r)));return ma}var t=null,w=1,O=1,la=qa;p.radius=function(ma){return arguments.length?
(t=null==ma?null:sa(ma),p):t};p.size=function(ma){return arguments.length?(w=+ma[0],O=+ma[1],p):[w,O]};p.padding=function(ma){return arguments.length?(la="function"===typeof ma?ma:Fa(+ma),p):la};return p};n.packEnclose=pa;n.packSiblings=function(p){wa(p);return p};n.partition=function(){function p(ua){var eb=ua.height+1;ua.x0=ua.y0=la;ua.x1=w;ua.y1=O/eb;ua.eachBefore(t(O,eb));ma&&ua.eachBefore(x);return ua}function t(ua,eb){return function(cb){cb.children&&G(cb,cb.x0,ua*(cb.depth+1)/eb,cb.x1,ua*(cb.depth+
2)/eb);var Ba=cb.x0,Ka=cb.y0,Z=cb.x1-la,ra=cb.y1-la;Z<Ba&&(Ba=Z=(Ba+Z)/2);ra<Ka&&(Ka=ra=(Ka+ra)/2);cb.x0=Ba;cb.y0=Ka;cb.x1=Z;cb.y1=ra}}var w=1,O=1,la=0,ma=!1;p.round=function(ua){return arguments.length?(ma=!!ua,p):ma};p.size=function(ua){return arguments.length?(w=+ua[0],O=+ua[1],p):[w,O]};p.padding=function(ua){return arguments.length?(la=+ua,p):la};return p};n.stratify=function(){function p(O){var la=Array.from(O),ma=la.length,ua,eb,cb=new Map;for(ua=0;ua<ma;++ua){var Ba=la[ua];var Ka=la[ua]=new ea(Ba);
if(null!=(eb=t(Ba,ua,O))&&(eb+="")){var Z=Ka.id=eb;cb.set(Z,cb.has(Z)?H:Ka)}null!=(eb=w(Ba,ua,O))&&(eb+="")&&(Ka.parent=eb)}for(ua=0;ua<ma;++ua)if(Ka=la[ua],eb=Ka.parent){O=cb.get(eb);if(!O)throw Error("missing: "+eb);if(O===H)throw Error("ambiguous: "+eb);O.children?O.children.push(Ka):O.children=[Ka];Ka.parent=O}else{if(ra)throw Error("multiple roots");var ra=Ka}if(!ra)throw Error("no root");ra.parent=W;ra.eachBefore(function(hb){hb.depth=hb.parent.depth+1;--ma}).eachBefore(Ja);ra.parent=null;if(0<
ma)throw Error("cycle");return ra}var t=J,w=z;p.id=function(O){return arguments.length?(t=sa(O),p):t};p.parentId=function(O){return arguments.length?(w=sa(O),p):w};return p};n.tree=function(){function p(cb){var Ba=Ta(cb);Ba.eachAfter(t);Ba.parent.m=-Ba.z;Ba.eachBefore(w);if(eb)cb.eachBefore(O);else{var Ka=cb,Z=cb,ra=cb;cb.eachBefore(function(Xb){Xb.x<Ka.x&&(Ka=Xb);Xb.x>Z.x&&(Z=Xb);Xb.depth>ra.depth&&(ra=Xb)});Ba=Ka===Z?1:la(Ka,Z)/2;var hb=Ba-Ka.x,mb=ma/(Z.x+Ba+hb),Hb=ua/(ra.depth||1);cb.eachBefore(function(Xb){Xb.x=
(Xb.x+hb)*mb;Xb.y=Xb.depth*Hb})}return cb}function t(cb){var Ba=cb.children,Ka=cb.parent.children,Z=cb.i?Ka[cb.i-1]:null;if(Ba){for(var ra=0,hb=0,mb=cb.children,Hb=mb.length,Xb;0<=--Hb;)Xb=mb[Hb],Xb.z+=ra,Xb.m+=ra,ra+=Xb.s+(hb+=Xb.c);Ba=(Ba[0].z+Ba[Ba.length-1].z)/2;Z?(cb.z=Z.z+la(cb._,Z._),cb.m=cb.z-Ba):cb.z=Ba}else Z&&(cb.z=Z.z+la(cb._,Z._));Ba=cb.parent;Ka=cb.parent.A||Ka[0];if(Z){hb=ra=cb;mb=ra.parent.children[0];Hb=ra.m;Xb=hb.m;for(var ya=Z.m,wb=mb.m,Tb;Z=ka(Z),ra=M(ra),Z&&ra;){mb=M(mb);hb=ka(hb);
hb.a=cb;Tb=Z.z+ya-ra.z-Hb+la(Z._,ra._);if(0<Tb){var rb=Z.a.parent===cb.parent?Z.a:Ka,Sb=cb,ic=Tb,rc=ic/(Sb.i-rb.i);Sb.c-=rc;Sb.s+=ic;rb.c+=rc;Sb.z+=ic;Sb.m+=ic;Hb+=Tb;Xb+=Tb}ya+=Z.m;Hb+=ra.m;wb+=mb.m;Xb+=hb.m}Z&&!ka(hb)&&(hb.t=Z,hb.m+=ya-Xb);ra&&!M(mb)&&(mb.t=ra,mb.m+=Hb-wb,Ka=cb)}Ba.A=Ka}function w(cb){cb._.x=cb.z+cb.parent.m;cb.m+=cb.parent.m}function O(cb){cb.x*=ma;cb.y=cb.depth*ua}var la=F,ma=1,ua=1,eb=null;p.separation=function(cb){return arguments.length?(la=cb,p):la};p.size=function(cb){return arguments.length?
(eb=!1,ma=+cb[0],ua=+cb[1],p):eb?null:[ma,ua]};p.nodeSize=function(cb){return arguments.length?(eb=!0,ma=+cb[0],ua=+cb[1],p):eb?[ma,ua]:null};return p};n.treemap=function(){function p(ra){ra.x0=ra.y0=0;ra.x1=la;ra.y1=ma;ra.eachBefore(t);ua=[0];O&&ra.eachBefore(x);return ra}function t(ra){var hb=ua[ra.depth],mb=ra.x0+hb,Hb=ra.y0+hb,Xb=ra.x1-hb,ya=ra.y1-hb;Xb<mb&&(mb=Xb=(mb+Xb)/2);ya<Hb&&(Hb=ya=(Hb+ya)/2);ra.x0=mb;ra.y0=Hb;ra.x1=Xb;ra.y1=ya;ra.children&&(hb=ua[ra.depth+1]=eb(ra)/2,mb+=Z(ra)-hb,Hb+=
cb(ra)-hb,Xb-=Ba(ra)-hb,ya-=Ka(ra)-hb,Xb<mb&&(mb=Xb=(mb+Xb)/2),ya<Hb&&(Hb=ya=(Hb+ya)/2),w(ra,mb,Hb,Xb,ya))}var w=T,O=!1,la=1,ma=1,ua=[0],eb=qa,cb=qa,Ba=qa,Ka=qa,Z=qa;p.round=function(ra){return arguments.length?(O=!!ra,p):O};p.size=function(ra){return arguments.length?(la=+ra[0],ma=+ra[1],p):[la,ma]};p.tile=function(ra){return arguments.length?(w=sa(ra),p):w};p.padding=function(ra){return arguments.length?p.paddingInner(ra).paddingOuter(ra):p.paddingInner()};p.paddingInner=function(ra){return arguments.length?
(eb="function"===typeof ra?ra:Fa(+ra),p):eb};p.paddingOuter=function(ra){return arguments.length?p.paddingTop(ra).paddingRight(ra).paddingBottom(ra).paddingLeft(ra):p.paddingTop()};p.paddingTop=function(ra){return arguments.length?(cb="function"===typeof ra?ra:Fa(+ra),p):cb};p.paddingRight=function(ra){return arguments.length?(Ba="function"===typeof ra?ra:Fa(+ra),p):Ba};p.paddingBottom=function(ra){return arguments.length?(Ka="function"===typeof ra?ra:Fa(+ra),p):Ka};p.paddingLeft=function(ra){return arguments.length?
(Z="function"===typeof ra?ra:Fa(+ra),p):Z};return p};n.treemapBinary=function(p,t,w,O,la){function ma(Z,ra,hb,mb,Hb,Xb,ya){if(Z>=ra-1)Z=ua[Z],Z.x0=mb,Z.y0=Hb,Z.x1=Xb,Z.y1=ya;else{for(var wb=Ka[Z],Tb=hb/2+wb,rb=Z+1,Sb=ra-1;rb<Sb;){var ic=rb+Sb>>>1;Ka[ic]<Tb?rb=ic+1:Sb=ic}Tb-Ka[rb-1]<Ka[rb]-Tb&&Z+1<rb&&--rb;wb=Ka[rb]-wb;Tb=hb-wb;Xb-mb>ya-Hb?(hb=hb?(mb*Tb+Xb*wb)/hb:Xb,ma(Z,rb,wb,mb,Hb,hb,ya),ma(rb,ra,Tb,hb,Hb,Xb,ya)):(hb=hb?(Hb*Tb+ya*wb)/hb:ya,ma(Z,rb,wb,mb,Hb,Xb,hb),ma(rb,ra,Tb,mb,hb,Xb,ya))}}var ua=
p.children,eb,cb=ua.length,Ba,Ka=Array(cb+1);for(Ka[0]=Ba=eb=0;eb<cb;++eb)Ka[eb+1]=Ba+=ua[eb].value;ma(0,cb,p.value,t,w,O,la)};n.treemapDice=G;n.treemapResquarify=Y;n.treemapSlice=D;n.treemapSliceDice=function(p,t,w,O,la){(p.depth&1?D:G)(p,t,w,O,la)};n.treemapSquarify=T;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[35]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(12),sb(0),sb(34)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa){function Kb(xa,Oa,za){var ia={};xa.each(function(wa){var sa=wa.data;za(sa)&&(ia[Oa(sa)]=wa)});xa.lookup=ia;return xa}function Ma(xa){q.Transform.call(this,null,
xa)}function db(){function xa(wa,sa){if(sa>=za.length)return wa;for(var qa=wa.length,Fa=za[sa++],Ca={},Za={},jb=-1,y,x,G;++jb<qa;)y=Fa(x=wa[jb])+"",(G=Ca[y])?G.push(x):Ca[y]=[x];for(y in Ca)Za[y]=xa(Ca[y],sa);return Za}function Oa(wa,sa){if(++sa>za.length)return wa;var qa=[],Fa;for(Fa in wa)qa.push({key:Fa,values:Oa(wa[Fa],sa)});return qa}var za=[],ia={entries:function(wa){return Oa(xa(wa,0),0)},key:function(wa){return za.push(wa),ia}};return ia}function Eb(xa){q.Transform.call(this,null,xa)}function qb(xa,
Oa,za){for(var ia,wa=0,sa=Oa.length;wa<sa;++wa)if(ia=Oa[wa],ia in za)xa[ia](za[ia])}function Ea(xa){Eb.call(this,xa)}function ab(xa){Eb.call(this,xa)}function fb(xa){q.Transform.call(this,null,xa)}function Ja(xa){Eb.call(this,xa)}function ea(xa){q.Transform.call(this,[],xa)}function pa(xa){Eb.call(this,xa)}Ma.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var Ha=function(xa){return xa.values};S.inherits(Ma,
q.Transform,{transform:function(xa,Oa){Oa.source||S.error("Nest transform requires an upstream data source.");var za=xa.generate,ia=xa.modified(),wa=Oa.clone(),sa=this.value;if(!sa||ia||Oa.changed())sa&&sa.each(function(qa){qa.children&&q.isTuple(qa.data)&&wa.rem.push(qa.data)}),this.value=sa=Pa.hierarchy({values:S.array(xa.keys).reduce(function(qa,Fa){qa.key(Fa);return qa},db()).entries(wa.source)},Ha),za&&sa.each(function(qa){qa.children&&(qa=q.ingest(qa.data),wa.add.push(qa),wa.source.push(qa))}),
Kb(sa,q.tupleid,q.tupleid);wa.source.root=sa;return wa}});var Wa=function(xa,Oa){return xa.parent===Oa.parent?1:2};S.inherits(Eb,q.Transform,{transform:function(xa,Oa){Oa.source&&Oa.source.root||S.error(this.constructor.name+" transform requires a backing tree data source.");var za=this.layout(xa.method),ia=this.fields,wa=Oa.source.root,sa=xa.as||ia;xa.field?wa.sum(xa.field):wa.count();xa.sort&&wa.sort(q.stableCompare(xa.sort,function(qa){return qa.data}));qb(za,this.params,xa);za.separation&&za.separation(!1!==
xa.separation?Wa:S.one);try{this.value=za(wa)}catch(qa){S.error(qa)}wa.each(function(qa){for(var Fa=qa.data,Ca=ia.length-1,Za=0;Za<Ca;++Za)Fa[sa[Za]]=qa[ia[Za]];Fa[sa[Ca]]=qa.children?qa.children.length:0});return Oa.reflow(xa.modified()).modifies(sa).modifies("leaf")}});var ja=["x","y","r","depth","children"];Ea.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field",
"default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ja.length,"default":ja}]};S.inherits(Ea,Eb,{layout:Pa.pack,params:["radius","size","padding"],fields:ja});ja="x0 y0 x1 y1 depth children".split(" ");ab.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,
length:2},{name:"as",type:"string",array:!0,length:ja.length,"default":ja}]};S.inherits(ab,Eb,{layout:Pa.partition,params:["size","round","padding"],fields:ja});fb.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};S.inherits(fb,q.Transform,{transform:function(xa,Oa){Oa.source||S.error("Stratify transform requires an upstream data source.");var za=this.value,ia=xa.modified(),wa=Oa.fork(Oa.ALL).materialize(Oa.SOURCE);
Oa=!za||ia||Oa.changed(Oa.ADD_REM)||Oa.modified(xa.key.fields)||Oa.modified(xa.parentKey.fields);wa.source=wa.source.slice();Oa&&(za=wa.source.length?Kb(Pa.stratify().id(xa.key).parentId(xa.parentKey)(wa.source),xa.key,S.truthy):Kb(Pa.stratify()([{}]),xa.key,xa.key));wa.source.root=this.value=za;return wa}});var ba={tidy:Pa.tree,cluster:Pa.cluster};ja=["x","y","depth","children"];Ja.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:ja.length,"default":ja}]};S.inherits(Ja,Eb,{layout:function(xa){xa=xa||"tidy";if(S.hasOwnProperty(ba,xa))return ba[xa]();S.error("Unrecognized Tree layout method: "+xa)},params:["size","nodeSize"],fields:ja});ea.Definition={type:"TreeLinks",metadata:{tree:!0,
generates:!0,changes:!0},params:[]};S.inherits(ea,q.Transform,{transform:function(xa,Oa){xa=this.value;var za=Oa.source&&Oa.source.root,ia=Oa.fork(Oa.NO_SOURCE),wa={};za||S.error("TreeLinks transform requires a tree data source.");Oa.changed(Oa.ADD_REM)?(ia.rem=xa,Oa.visit(Oa.SOURCE,function(sa){return wa[q.tupleid(sa)]=1}),za.each(function(sa){var qa=sa.data;(sa=sa.parent&&sa.parent.data)&&wa[q.tupleid(qa)]&&wa[q.tupleid(sa)]&&ia.add.push(q.ingest({source:sa,target:qa}))}),this.value=ia.add):Oa.changed(Oa.MOD)&&
(Oa.visit(Oa.MOD,function(sa){return wa[q.tupleid(sa)]=1}),xa.forEach(function(sa){(wa[q.tupleid(sa.source)]||wa[q.tupleid(sa.target)])&&ia.mod.push(sa)}));return ia}});var Ra={binary:Pa.treemapBinary,dice:Pa.treemapDice,slice:Pa.treemapSlice,slicedice:Pa.treemapSliceDice,squarify:Pa.treemapSquarify,resquarify:Pa.treemapResquarify};ja="x0 y0 x1 y1 depth children".split(" ");pa.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},
{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ja.length,"default":ja}]};S.inherits(pa,Eb,{layout:function(){var xa=Pa.treemap();xa.ratio=function(Oa){var za=xa.tile();za.ratio&&xa.tile(za.ratio(Oa))};xa.method=function(Oa){S.hasOwnProperty(Ra,Oa)?xa.tile(Ra[Oa]):S.error("Unrecognized Treemap layout method: "+Oa)};return xa},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:ja});n.nest=Ma;n.pack=Ea;n.partition=ab;n.stratify=fb;n.tree=Ja;n.treelinks=ea;n.treemap=pa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[36]=function(wa,ka,Ta,Oa){(function(v,L){"object"===typeof Oa&&"undefined"!==typeof Ta?L(Oa,ka(17),ka(12),ka(22),ka(0)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],L):(v="undefined"!==typeof globalThis?globalThis:v||self,L((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega))})(this,function(v,L,O,xa,Ba){function Ua(l,A){var D=l.bitmap();(A||[]).forEach(function(H){return D.set(l(H.boundary[0]),
l(H.boundary[3]))});return[D,void 0]}function fb(l,A,D,H){var I=l.width,N=l.height,P=D||H,E=L.canvas(I,N).getContext("2d");A.forEach(function(m){return $a(E,m,P)});A=new Uint32Array(E.getImageData(0,0,I,N).data.buffer);D=l.bitmap();var aa=P&&l.bitmap(),B,K,ca;for(K=0;K<N;++K)for(B=0;B<I;++B)if(ca=A[K*I+B]&4278190080){var V=l(B);var g=l(K);H||D.set(V,g);P&&ca^268435456&&aa.set(V,g)}return[D,aa]}function $a(l,A,D){if(A.length){var H=A[0].mark.marktype;"group"===H?A.forEach(function(I){I.items.forEach(function(N){return $a(l,
N.items,D)})}):xa.Marks[H].draw(l,{items:D?A.map(Ha):A})}}function Ha(l){l=O.rederive(l,{});l.stroke&&(l.strokeOpacity=1);l.fill&&(l.fillOpacity=.0625,l.stroke="#000",l.strokeOpacity=1,l.strokeWidth=2);return l}function ab(l,A){var D=new Uint32Array(~~((l*A+32)/32));return{array:D,get:function(H,I){H=I*l+H;return D[H>>>5]&1<<(H&31)},set:function(H,I){H=I*l+H;D[H>>>5]|=1<<(H&31)},clear:function(H,I){H=I*l+H;D[H>>>5]&=~(1<<(H&31))},getRange:function(H,I,N,P){for(var E,aa,B,K;P>=I;--P)if(E=P*l+H,aa=
P*l+N,B=E>>>5,K=aa>>>5,B===K){if(D[B]&ia[E&31]&da[(aa&31)+1])return!0}else{if(D[B]&ia[E&31]||D[K]&da[(aa&31)+1])return!0;for(E=B+1;E<K;++E)if(D[E])return!0}return!1},setRange:function(H,I,N,P){for(var E,aa,B,K;I<=P;++I)if(E=I*l+H,aa=I*l+N,B=E>>>5,K=aa>>>5,B===K)D[B]|=ia[E&31]&da[(aa&31)+1];else for(D[B]|=ia[E&31],D[K]|=da[(aa&31)+1],E=B+1;E<K;++E)D[E]|=4294967295},clearRange:function(H,I,N,P){for(var E,aa,B,K;I<=P;++I)if(E=I*l+H,aa=I*l+N,B=E>>>5,K=aa>>>5,B===K)D[B]&=da[E&31]|ia[(aa&31)+1];else for(D[B]&=
da[E&31],D[K]&=ia[(aa&31)+1],E=B+1;E<K;++E)D[E]&=0},outOfBounds:function(H,I,N,P){return 0>H||0>I||P>=A||N>=l}}}function Va(l,A,D){var H=Math.max(1,Math.sqrt(l*A/1E6)),I=~~((l+2*D+H)/H),N=~~((A+2*D+H)/H),P=function(E){return~~((E+D)/H)};P.invert=function(E){return E*H-D};P.bitmap=function(){return ab(I,N)};P.ratio=H;P.padding=D;P.width=l;P.height=A;return P}function Ga(l,A,D,H,I,N){D/=2;return 0>l-D||l+D>I||0>A-(D=H/2)||A+D>N}function za(l,A,D,H,I,N,P,E){I=I*N/(2*H);H=l(A-I);A=l(A+I);I=l(D-(N/=2));
l=l(D+N);return P.outOfBounds(H,I,A,l)||P.getRange(H,I,A,l)||E&&E.getRange(H,I,A,l)}function cb(l,A,D,H){var I=l.width,N=l.height,P=A[0],E=A[1],aa=H.length;return function(B){var K=B.boundary,ca=B.datum.fontSize;if(0>K[2]||0>K[5]||K[0]>I||K[3]>N)return!1;for(var V=0,g,m,q,x,p,w,M,z,y,J,F,C,U,Y,S=0;S<aa;++S){g=(D[S]&3)-1;m=(D[S]>>>2&3)-1;q=0===g&&0===m||0>H[S];x=g&&m?Math.SQRT1_2:1;p=0>H[S]?-1:1;w=K[1+g]+H[S]*g*x;J=K[4+m]+p*ca*m/2+H[S]*m*x;x=J-ca/2;z=J+ca/2;F=l(w);U=l(x);Y=l(z);if(!V){M=F;y=U;C=Y;
var W=w,ea=w,fa=x,na=z,ra=q;if(!P.outOfBounds(M,y,F,C)&&(ra&&E?!E.getRange(M,y,F,C)&&K[0]<=W&&ea<=K[2]&&K[3]<=fa&&na<=K[5]:!P.getRange(M,y,F,C)))V=xa.textMetrics.width(B.datum,B.datum.text);else continue}y=w+p*V*g/2;w=y-V/2;M=y+V/2;F=l(w);C=l(M);W=F;ea=C;fa=U;na=Y;ra=w;var Da=M,Ea=x,Ia=z;if(!P.outOfBounds(W,fa,ea,na)&&(q&&E?!E.getRange(W,fa,ea,na)&&K[0]<=ra&&Da<=K[2]&&K[3]<=Ea&&Ia<=K[5]:!P.getRange(W,fa,ea,na)))return B.x=g?0>g*p?M:w:y,B.y=m?0>m*p?z:x:J,B.align=ya[g*p+1],B.baseline=ma[m*p+1],P.setRange(F,
U,C,Y),!0}return!1}}function nb(l,A,D,H,I,N,P,E,aa,B,K){if(!l.length)return l;var ca=Math.max(H.length,I.length);H=gb(H,ca);I=ob(I,ca);ca=Z(l[0].datum);var V="group"===ca&&l[0].datum.items[aa].marktype,g="area"===V,m=Q(ca,V,E,aa);A=Va(A[0],A[1],B);B=g&&"naive"===K;E=l.map(function(p){return{datum:p,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:m(p)}});if(!B){D&&E.sort(function(p,w){return D(p.datum,w.datum)});var q=!1;for(B=0;B<I.length&&!q;++B)q=5===I[B]||0>H[B];ca&&(P||g)&&(N=
[l.map(function(p){return p.datum})].concat(N));q=N.length?fb(A,N,q,g):Ua(A,P&&E)}var x=g?pa[K](A,q,P,aa):cb(A,q,I,H);E.forEach(function(p){return p.opacity=+x(p)});return E}function gb(l,A){for(var D=new Float64Array(A),H=l.length,I=0;I<H;++I)D[I]=l[I]||0;for(l=H;l<A;++l)D[l]=D[H-1];return D}function ob(l,A){for(var D=new Int8Array(A),H=l.length,I=0;I<H;++I)D[I]|=ua[l[I]];for(l=H;l<A;++l)D[l]=D[H-1];return D}function Z(l){return l&&l.mark&&l.mark.marktype}function Q(l,A,D,H){var I=function(N){return[N.x,
N.x,N.x,N.y,N.y,N.y]};return l?"line"===l||"area"===l?function(N){return I(N.datum)}:"line"===A?function(N){N=N.datum.items[H].items;return I(N.length?N["start"===D?0:N.length-1]:{x:NaN,y:NaN})}:function(N){N=N.datum.bounds;return[N.x1,(N.x1+N.x2)/2,N.x2,N.y1,(N.y1+N.y2)/2,N.y2]}:I}function ba(l){O.Transform.call(this,null,l)}var ia=new Uint32Array(33),da=new Uint32Array(33);da[0]=0;ia[0]=~da[0];for(var ha=1;32>=ha;++ha)da[ha]=da[ha-1]<<1|1,ia[ha]=~da[ha];var ta=[-1,-1,1,1],ja=[-1,1,-1,1],ya=["right",
"center","left"],ma=["bottom","middle","top"],ua={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},pa={naive:function(l,A,D,H){var I=l.width,N=l.height;return function(P){for(var E=P.datum.datum.items[H].items,aa=E.length,B=P.datum.fontSize,K=xa.textMetrics.width(P.datum,P.datum.text),ca=0,V,g,m,q,x,p,w=0;w<aa;++w)V=E[w].x,m=E[w].y,g=void 0===E[w].x2?V:E[w].x2,q=void 0===E[w].y2?m:E[w].y2,x=(V+g)/2,p=(m+q)/2,V=Math.abs(g-V+q-m),V>=ca&&(ca=V,P.x=
x,P.y=p);x=K/2;p=B/2;V=P.x-x;g=P.x+x;m=P.y-p;q=P.y+p;P.align="center";0>V&&g<=I?P.align="left":0<=V&&I<g&&(P.align="right");P.baseline="middle";0>m&&q<=N?P.baseline="top":0<=m&&N<q&&(P.baseline="bottom");return!0}},"reduced-search":function(l,A,D,H){function I(B,K,ca,V,g){B=l.invert(B);K=l.invert(K);var m=ca,q=P;if(!Ga(B,K,V,g,N,P)&&!za(l,B,K,g,V,m,E,aa)&&!za(l,B,K,g,V,g,E,null)){for(;1<=q-m;){var x=(m+q)/2;za(l,B,K,g,V,x,E,aa)?q=x:m=x}if(m>ca)return[B,K,m,!0]}}var N=l.width,P=l.height,E=A[0],aa=
A[1];return function(B){for(var K=B.datum.datum.items[H].items,ca=K.length,V=B.datum.fontSize,g=xa.textMetrics.width(B.datum,B.datum.text),m=D?V:0,q=!1,x=!1,p=0,w,M,z,y,J,F,C,U,Y,S,W,ea,fa,na=0;na<ca;++na){w=K[na].x;z=K[na].y;M=void 0===K[na].x2?w:K[na].x2;y=void 0===K[na].y2?z:K[na].y2;w>M&&(J=w,w=M,M=J);z>y&&(J=z,z=y,y=J);C=l(w);Y=l(M);U=~~((C+Y)/2);S=l(z);ea=l(y);W=~~((S+ea)/2);for(J=U;J>=C;--J)for(F=W;F>=S;--F)if(fa=I(J,F,m,g,V))q=$jscomp.makeIterator(fa),B.x=q.next().value,B.y=q.next().value,
m=q.next().value,q=q.next().value;for(J=U;J<=Y;++J)for(F=W;F<=ea;++F)if(fa=I(J,F,m,g,V))q=$jscomp.makeIterator(fa),B.x=q.next().value,B.y=q.next().value,m=q.next().value,q=q.next().value;q||D||(J=Math.abs(M-w+y-z),w=(w+M)/2,z=(z+y)/2,J>=p&&!Ga(w,z,g,V,N,P)&&!za(l,w,z,V,g,V,E,null)&&(p=J,B.x=w,B.y=z,x=!0))}return q||x?(w=g/2,z=V/2,E.setRange(l(B.x-w),l(B.y-z),l(B.x+w),l(B.y+z)),B.align="center",B.baseline="middle",!0):!1}},floodfill:function(l,A,D,H){var I=l.width,N=l.height,P=A[0],E=A[1],aa=l.bitmap();
return function(B){for(var K=B.datum.datum.items[H].items,ca=K.length,V=B.datum.fontSize,g=xa.textMetrics.width(B.datum,B.datum.text),m=[],q=D?V:0,x=!1,p=!1,w=0,M,z,y,J,F,C,U,Y,S,W=0;W<ca;++W){M=K[W].x;y=K[W].y;z=void 0===K[W].x2?M:K[W].x2;J=void 0===K[W].y2?y:K[W].y2;for(m.push([l((M+z)/2),l((y+J)/2)]);m.length;)if(F=$jscomp.makeIterator(m.pop()),U=F.next().value,Y=F.next().value,!(P.get(U,Y)||E.get(U,Y)||aa.get(U,Y))){aa.set(U,Y);for(S=0;4>S;++S)F=U+ta[S],C=Y+ja[S],aa.outOfBounds(F,C,F,C)||m.push([F,
C]);F=l.invert(U);C=l.invert(Y);U=q;Y=N;if(!Ga(F,C,g,V,I,N)&&!za(l,F,C,V,g,U,P,E)&&!za(l,F,C,V,g,V,P,null)){for(;1<=Y-U;)S=(U+Y)/2,za(l,F,C,V,g,S,P,E)?Y=S:U=S;U>q&&(B.x=F,B.y=C,q=U,x=!0)}}x||D||(U=Math.abs(z-M+J-y),F=(M+z)/2,C=(y+J)/2,U>=w&&!Ga(F,C,g,V,I,N)&&!za(l,F,C,V,g,V,P,null)&&(w=U,B.x=F,B.y=C,p=!0))}return x||p?(F=g/2,C=V/2,P.setRange(l(B.x-F),l(B.y-C),l(B.x+F),l(B.y+C)),B.align="center",B.baseline="middle",!0):!1}}},oa=["x","y","opacity","align","baseline"],la="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
ba.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:la},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:oa.length,default:oa}]};Ba.inherits(ba,O.Transform,{transform:function(l,A){function D(N){N=l[N];return Ba.isFunction(N)&&A.modified(N.fields)}var H=l.modified();if(H||A.changed(A.ADD_REM)||D("sort")){l.size&&2===l.size.length||Ba.error("Size parameter should be specified as a [width, height] array.");var I=l.as||oa;nb(A.materialize(A.SOURCE).source,l.size,l.sort,Ba.array(l.offset||1),Ba.array(l.anchor||la),l.avoidMarks||[],!1===
l.avoidBaseMark?!1:!0,l.lineAnchor||"end",l.markIndex||0,l.padding||0,l.method||"naive").forEach(function(N){var P=N.datum;P[I[0]]=N.x;P[I[1]]=N.y;P[I[2]]=N.opacity;P[I[3]]=N.align;P[I[4]]=N.baseline});return A.reflow(H).modifies(I)}}});v.label=ba;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[37]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(13),sb(12),sb(0)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa){function Kb(qb,Ea){var ab=[],fb=function(ba){return ba(Ha)},Ja;if(null==Ea)ab.push(qb);else{var ea={};var pa=0;for(Ja=qb.length;pa<Ja;++pa){var Ha=qb[pa];
var Wa=Ea.map(fb);var ja=ea[Wa];ja||(ea[Wa]=ja=[],ja.dims=Wa,ab.push(ja));ja.push(Ha)}}return ab}function Ma(qb){S.Transform.call(this,null,qb)}function db(qb){S.Transform.call(this,null,qb)}Ma.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Pa.inherits(Ma,S.Transform,{transform:function(qb,Ea){var ab=
Ea.fork(Ea.NO_SOURCE|Ea.NO_FIELDS);if(!this.value||Ea.changed()||qb.modified()){Ea=Ea.materialize(Ea.SOURCE).source;Ea=Kb(Ea,qb.groupby);var fb=(qb.groupby||[]).map(Pa.accessorName),Ja=fb.length,ea=qb.as||[Pa.accessorName(qb.x),Pa.accessorName(qb.y)],pa=[];Ea.forEach(function(Ha){q.regressionLoess(Ha,qb.x,qb.y,qb.bandwidth||.3).forEach(function(Wa){for(var ja={},ba=0;ba<Ja;++ba)ja[fb[ba]]=Ha.dims[ba];ja[ea[0]]=Wa[0];ja[ea[1]]=Wa[1];pa.push(S.ingest(ja))})});this.value&&(ab.rem=this.value);this.value=
ab.add=ab.source=pa}return ab}});var Eb={linear:q.regressionLinear,log:q.regressionLog,exp:q.regressionExp,pow:q.regressionPow,quad:q.regressionQuad,poly:q.regressionPoly};db.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Eb)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Pa.inherits(db,S.Transform,{transform:function(qb,Ea){var ab=Ea.fork(Ea.NO_SOURCE|Ea.NO_FIELDS);if(!this.value||Ea.changed()||qb.modified()){var fb=Ea.materialize(Ea.SOURCE).source;fb=Kb(fb,qb.groupby);var Ja=(qb.groupby||[]).map(Pa.accessorName),ea=qb.method||"linear",pa=qb.order||3,Ha="poly"===ea?pa:"quad"===ea?2:1,Wa=qb.as||[Pa.accessorName(qb.x),Pa.accessorName(qb.y)],ja=Eb[ea],ba=[],Ra=qb.extent;Pa.hasOwnProperty(Eb,
ea)||Pa.error("Invalid regression method: "+ea);null!=Ra&&"log"===ea&&0>=Ra[0]&&(Ea.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),Ra=null);fb.forEach(function(xa){if(xa.length<=Ha)Ea.dataflow.warn("Skipping regression with more parameters than data points.");else{var Oa=ja(xa,qb.x,qb.y,pa);if(qb.params)ba.push(S.ingest({keys:xa.dims,coef:Oa.coef,rSquared:Oa.rSquared}));else{var za=Ra||Pa.extent(xa,qb.x),ia=function(wa){for(var sa={},qa=0;qa<Ja.length;++qa)sa[Ja[qa]]=
xa.dims[qa];sa[Wa[0]]=wa[0];sa[Wa[1]]=wa[1];ba.push(S.ingest(sa))};"linear"===ea?za.forEach(function(wa){return ia([wa,Oa.predict(wa)])}):q.sampleCurve(Oa.predict,za,25,200).forEach(ia)}}});this.value&&(ab.rem=this.value);this.value=ab.add=ab.source=ba}return ab}});n.loess=Ma;n.regression=db;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[38]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n=n||self,q(n.d3=n.d3||{}))})(this,function(n){function q(ia,wa){ia/=Math.abs(ia)+Math.abs(wa);return(0<wa?3-ia:1+ia)/4}function S(ia,wa,sa,qa){ia-=sa;wa-=qa;return ia*ia+wa*wa}function Pa(ia,wa,sa,qa,Fa,Ca){qa=(qa-wa)*(Fa-ia);ia=(sa-ia)*(Ca-wa);return Math.abs(qa-ia)>=3.3306690738754716E-16*Math.abs(qa+ia)?qa-ia:0}function Kb(ia,
wa,sa,qa,Fa,Ca){return 0>(Pa(Fa,Ca,ia,wa,sa,qa)||Pa(ia,wa,sa,qa,Fa,Ca)||Pa(sa,qa,Fa,Ca,ia,wa))}function Ma(ia,wa,sa,qa){if(20>=qa-sa)for(var Fa=sa+1;Fa<=qa;Fa++){for(var Ca=ia[Fa],Za=wa[Ca],jb=Fa-1;jb>=sa&&wa[ia[jb]]>Za;)ia[jb+1]=ia[jb--];ia[jb+1]=Ca}else{Fa=sa+1;Ca=qa;db(ia,sa+qa>>1,Fa);wa[ia[sa]]>wa[ia[qa]]&&db(ia,sa,qa);wa[ia[Fa]]>wa[ia[qa]]&&db(ia,Fa,qa);wa[ia[sa]]>wa[ia[Fa]]&&db(ia,sa,Fa);Za=ia[Fa];for(jb=wa[Za];;){do Fa++;while(wa[ia[Fa]]<jb);do Ca--;while(wa[ia[Ca]]>jb);if(Ca<Fa)break;db(ia,
Fa,Ca)}ia[sa+1]=ia[Ca];ia[Ca]=Za;qa-Fa+1>=Ca-sa?(Ma(ia,wa,Fa,qa),Ma(ia,wa,sa,Ca-1)):(Ma(ia,wa,sa,Ca-1),Ma(ia,wa,Fa,qa))}}function db(ia,wa,sa){var qa=ia[wa];ia[wa]=ia[sa];ia[sa]=qa}function Eb(ia){return ia[0]}function qb(ia){return ia[1]}function Ea(ia){return ia[0]}function ab(ia){return ia[1]}function fb(ia){var wa=ia.triangles;ia=ia.coords;for(var sa=0;sa<wa.length;sa+=3){var qa=2*wa[sa],Fa=2*wa[sa+1],Ca=2*wa[sa+2];if(1E-10<(ia[Ca]-ia[qa])*(ia[Fa+1]-ia[qa+1])-(ia[Fa]-ia[qa])*(ia[Ca+1]-ia[qa+1]))return!1}return!0}
function Ja(ia,wa,sa){return[ia+Math.sin(ia+wa)*sa,wa+Math.cos(ia-wa)*sa]}function ea(ia,wa,sa,qa){var Fa,Ca,Za,jb;return $jscomp.generator.createGenerator(ea,function(y){switch(y.nextAddress){case 1:Fa=0,Ca=$jscomp.makeIterator(ia),Za=Ca.next();case 2:if(Za.done){y.jumpTo(0);break}jb=Za.value;return y.yield(wa.call(qa,jb,Fa,ia),5);case 5:return y.yield(sa.call(qa,jb,Fa,ia),6);case 6:++Fa,Za=Ca.next(),y.jumpTo(2)}})}var pa=Math.pow(2,-52),Ha=new Uint32Array(512),Wa=function(ia){var wa=ia.length>>
1;if(0<wa&&"number"!==typeof ia[0])throw Error("Expected coords to contain numbers.");this.coords=ia;ia=Math.max(2*wa-5,0);this._triangles=new Uint32Array(3*ia);this._halfedges=new Int32Array(3*ia);this._hashSize=Math.ceil(Math.sqrt(wa));this._hullPrev=new Uint32Array(wa);this._hullNext=new Uint32Array(wa);this._hullTri=new Uint32Array(wa);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(wa);this._dists=new Float64Array(wa);this.update()};Wa.from=function(ia,wa,sa){wa=
void 0===wa?Eb:wa;sa=void 0===sa?qb:sa;for(var qa=ia.length,Fa=new Float64Array(2*qa),Ca=0;Ca<qa;Ca++){var Za=ia[Ca];Fa[2*Ca]=wa(Za);Fa[2*Ca+1]=sa(Za)}return new Wa(Fa)};Wa.prototype.update=function(){for(var ia,wa,sa=this.coords,qa=this._hullPrev,Fa=this._hullNext,Ca=this._hullTri,Za=this._hullHash,jb=sa.length>>1,y=Infinity,x=Infinity,G=-Infinity,J=-Infinity,z=0;z<jb;z++){var F=sa[2*z];ia=sa[2*z+1];F<y&&(y=F);ia<x&&(x=ia);F>G&&(G=F);ia>J&&(J=ia);this._ids[z]=z}G=(y+G)/2;x=(x+J)/2;y=Infinity;for(J=
0;J<jb;J++)if(z=S(G,x,sa[2*J],sa[2*J+1]),z<y){var M=J;y=z}x=sa[2*M];J=sa[2*M+1];y=Infinity;for(G=0;G<jb;G++)if(G!==M&&(z=S(x,J,sa[2*G],sa[2*G+1]),z<y&&0<z)){var ka=G;y=z}y=sa[2*ka];G=sa[2*ka+1];ia=Infinity;for(z=0;z<jb;z++)if(z!==M&&z!==ka){F=y-x;var Ia=G-J;wa=sa[2*z]-x;var Ta=sa[2*z+1]-J,D=F*F+Ia*Ia,fa=wa*wa+Ta*Ta,Y=.5/(F*Ta-Ia*wa);Ia=(Ta*D-Ia*fa)*Y;F=(F*fa-wa*D)*Y;F=Ia*Ia+F*F;if(F<ia){var W=z;ia=F}}z=sa[2*W];F=sa[2*W+1];if(Infinity===ia){for(Fa=0;Fa<jb;Fa++)this._dists[Fa]=sa[2*Fa]-sa[0]||sa[2*
Fa+1]-sa[1];Ma(this._ids,this._dists,0,jb-1);Fa=new Uint32Array(jb);qa=sa=0;for(Ca=-Infinity;qa<jb;qa++)Za=this._ids[qa],this._dists[Za]>Ca&&(Fa[sa++]=Za,Ca=this._dists[Za]);this.hull=Fa.subarray(0,sa);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Kb(x,J,y,G,z,F)&&(ia=ka,wa=y,D=G,ka=W,y=z,G=F,W=ia,z=wa,F=D);wa=y-x;ia=G-J;D=z-x;Ta=F-J;fa=wa*wa+ia*ia;Y=D*D+Ta*Ta;Ia=.5/(wa*Ta-ia*D);ia=x+(Ta*fa-ia*Y)*Ia;wa=J+(wa*Y-D*fa)*Ia;this._cx=ia;this._cy=wa;for(D=0;D<jb;D++)this._dists[D]=
S(sa[2*D],sa[2*D+1],ia,wa);Ma(this._ids,this._dists,0,jb-1);this._hullStart=M;jb=3;Fa[M]=qa[W]=ka;Fa[ka]=qa[M]=W;Fa[W]=qa[ka]=M;Ca[M]=0;Ca[ka]=1;Ca[W]=2;Za.fill(-1);Za[this._hashKey(x,J)]=M;Za[this._hashKey(y,G)]=ka;Za[this._hashKey(z,F)]=W;this.trianglesLen=0;this._addTriangle(M,ka,W,-1,-1,-1);x=0;for(y=J=void 0;x<this._ids.length;x++)if(G=this._ids[x],z=sa[2*G],F=sa[2*G+1],!(0<x&&Math.abs(z-J)<=pa&&Math.abs(F-y)<=pa)&&(J=z,y=F,G!==M&&G!==ka&&G!==W)){wa=ia=0;for(D=this._hashKey(z,F);wa<this._hashSize&&
(ia=Za[(D+wa)%this._hashSize],-1===ia||ia===Fa[ia]);wa++);wa=ia=qa[ia];for(D=void 0;D=Fa[wa],!Kb(z,F,sa[2*wa],sa[2*wa+1],sa[2*D],sa[2*D+1]);)if(wa=D,wa===ia){wa=-1;break}if(-1!==wa){fa=this._addTriangle(wa,G,Fa[wa],-1,-1,Ca[wa]);Ca[G]=this._legalize(fa+2);Ca[wa]=fa;jb++;for(Y=Fa[wa];D=Fa[Y],Kb(z,F,sa[2*Y],sa[2*Y+1],sa[2*D],sa[2*D+1]);)fa=this._addTriangle(Y,G,D,Ca[G],-1,Ca[Y]),Ca[G]=this._legalize(fa+2),Fa[Y]=Y,jb--,Y=D;if(wa===ia)for(;D=qa[wa],Kb(z,F,sa[2*D],sa[2*D+1],sa[2*wa],sa[2*wa+1]);)fa=this._addTriangle(D,
G,wa,-1,Ca[wa],Ca[D]),this._legalize(fa+2),Ca[D]=fa,Fa[wa]=wa,jb--,wa=D;this._hullStart=qa[G]=wa;Fa[wa]=qa[Y]=G;Fa[G]=Y;Za[this._hashKey(z,F)]=G;Za[this._hashKey(sa[2*wa],sa[2*wa+1])]=wa}}this.hull=new Uint32Array(jb);sa=0;for(qa=this._hullStart;sa<jb;sa++)this.hull[sa]=qa,qa=Fa[qa];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};Wa.prototype._hashKey=function(ia,wa){return Math.floor(q(ia-this._cx,wa-this._cy)*this._hashSize)%
this._hashSize};Wa.prototype._legalize=function(ia){for(var wa=this._triangles,sa=this._halfedges,qa=this.coords,Fa=0,Ca;;){var Za=sa[ia],jb=ia-ia%3;Ca=jb+(ia+2)%3;if(-1===Za){if(0===Fa)break;ia=Ha[--Fa]}else{var y=Za-Za%3,x=y+(Za+2)%3,G=wa[Ca],J=wa[ia],z=wa[jb+(ia+1)%3];jb=wa[x];var F=qa[2*jb],M=qa[2*jb+1],ka=qa[2*G]-F,Ia=qa[2*G+1]-M,Ta=qa[2*J]-F;J=qa[2*J+1]-M;F=qa[2*z]-F;z=qa[2*z+1]-M;M=Ta*Ta+J*J;var D=F*F+z*z;if(0>ka*(J*D-M*z)-Ia*(Ta*D-M*F)+(ka*ka+Ia*Ia)*(Ta*z-J*F)){wa[ia]=jb;wa[Za]=G;G=sa[x];
if(-1===G){jb=this._hullStart;do{if(this._hullTri[jb]===x){this._hullTri[jb]=ia;break}jb=this._hullPrev[jb]}while(jb!==this._hullStart)}this._link(ia,G);this._link(Za,sa[Ca]);this._link(Ca,x);Ca=y+(Za+1)%3;Fa<Ha.length&&(Ha[Fa++]=Ca)}else{if(0===Fa)break;ia=Ha[--Fa]}}}return Ca};Wa.prototype._link=function(ia,wa){this._halfedges[ia]=wa;-1!==wa&&(this._halfedges[wa]=ia)};Wa.prototype._addTriangle=function(ia,wa,sa,qa,Fa,Ca){var Za=this.trianglesLen;this._triangles[Za]=ia;this._triangles[Za+1]=wa;this._triangles[Za+
2]=sa;this._link(Za,qa);this._link(Za+1,Fa);this._link(Za+2,Ca);this.trianglesLen+=3;return Za};var ja=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};ja.prototype.moveTo=function(ia,wa){this._+="M"+(this._x0=this._x1=+ia)+","+(this._y0=this._y1=+wa)};ja.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")};ja.prototype.lineTo=function(ia,wa){this._+="L"+(this._x1=+ia)+","+(this._y1=+wa)};ja.prototype.arc=function(ia,wa,sa){ia=+ia;wa=+wa;
sa=+sa;var qa=ia+sa,Fa=wa;if(0>sa)throw Error("negative radius");if(null===this._x1)this._+="M"+qa+","+Fa;else if(1E-6<Math.abs(this._x1-qa)||1E-6<Math.abs(this._y1-Fa))this._+="L"+qa+","+Fa;sa&&(this._+="A"+sa+","+sa+",0,1,1,"+(ia-sa)+","+wa+"A"+sa+","+sa+",0,1,1,"+(this._x1=qa)+","+(this._y1=Fa))};ja.prototype.rect=function(ia,wa,sa,qa){this._+="M"+(this._x0=this._x1=+ia)+","+(this._y0=this._y1=+wa)+"h"+ +sa+"v"+ +qa+"h"+-sa+"Z"};ja.prototype.value=function(){return this._||null};var ba=function(){this._=
[]};ba.prototype.moveTo=function(ia,wa){this._.push([ia,wa])};ba.prototype.closePath=function(){this._.push(this._[0].slice())};ba.prototype.lineTo=function(ia,wa){this._.push([ia,wa])};ba.prototype.value=function(){return this._.length?this._:null};var Ra=function(ia,wa){var sa=$jscomp.makeIterator(void 0===wa?[0,0,960,500]:wa);wa=sa.next().value;var qa=sa.next().value,Fa=sa.next().value;sa=sa.next().value;if(!((Fa=+Fa)>=(wa=+wa)&&(sa=+sa)>=(qa=+qa)))throw Error("invalid bounds");this.delaunay=ia;
this._circumcenters=new Float64Array(2*ia.points.length);this.vectors=new Float64Array(2*ia.points.length);this.xmax=Fa;this.xmin=wa;this.ymax=sa;this.ymin=qa;this._init()};Ra.prototype.update=function(){this.delaunay.update();this._init();return this};Ra.prototype._init=function(){var ia=this.delaunay,wa=ia.points,sa=ia.hull,qa=ia.triangles;ia=this.vectors;for(var Fa=this.circumcenters=this._circumcenters.subarray(0,qa.length/3*2),Ca=0,Za=0,jb=qa.length,y,x;Ca<jb;Ca+=3,Za+=2){x=2*qa[Ca];var G=2*
qa[Ca+1],J=2*qa[Ca+2];y=wa[x];x=wa[x+1];var z=wa[J],F=wa[J+1];J=wa[G]-y;var M=wa[G+1]-x;G=z-y;var ka=F-x,Ia=J*J+M*M,Ta=G*G+ka*ka,D=2*(J*ka-M*G);D?1E-8>Math.abs(D)?(y=(y+z)/2,x=(x+F)/2):(z=1/D,y+=(ka*Ia-M*Ta)*z,x+=(J*Ta-G*Ia)*z):(y=(y+z)/2-1E8*ka,x=(x+F)/2+1E8*G);Fa[Za]=y;Fa[Za+1]=x}qa=sa[sa.length-1];Ca=4*qa;jb=wa[2*qa];x=wa[2*qa+1];ia.fill(0);for(J=0;J<sa.length;++J)qa=sa[J],Fa=Ca,Za=jb,y=x,Ca=4*qa,jb=wa[2*qa],x=wa[2*qa+1],ia[Fa+2]=ia[Ca]=y-x,ia[Fa+3]=ia[Ca+1]=jb-Za};Ra.prototype.render=function(ia){var wa=
null==ia?ia=new ja:void 0,sa=this.delaunay,qa=sa.halfedges,Fa=sa.inedges;sa=sa.hull;var Ca=this.circumcenters,Za=this.vectors;if(1>=sa.length)return null;for(var jb=0,y=qa.length;jb<y;++jb){var x=qa[jb];if(!(x<jb)){var G=2*Math.floor(jb/3);x=2*Math.floor(x/3);this._renderSegment(Ca[G],Ca[G+1],Ca[x],Ca[x+1],ia)}}qa=sa[sa.length-1];for(jb=0;jb<sa.length;++jb)x=qa,qa=sa[jb],G=2*Math.floor(Fa[qa]/3),y=Ca[G],G=Ca[G+1],x*=4,(x=this._project(y,G,Za[x+2],Za[x+3]))&&this._renderSegment(y,G,x[0],x[1],ia);return wa&&
wa.value()};Ra.prototype.renderBounds=function(ia){var wa=null==ia?ia=new ja:void 0;ia.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return wa&&wa.value()};Ra.prototype.renderCell=function(ia,wa){var sa=null==wa?wa=new ja:void 0;ia=this._clip(ia);if(null!==ia&&ia.length){wa.moveTo(ia[0],ia[1]);for(var qa=ia.length;ia[0]===ia[qa-2]&&ia[1]===ia[qa-1]&&1<qa;)qa-=2;for(var Fa=2;Fa<qa;Fa+=2)ia[Fa]===ia[Fa-2]&&ia[Fa+1]===ia[Fa-1]||wa.lineTo(ia[Fa],ia[Fa+1]);wa.closePath();return sa&&
sa.value()}};Ra.prototype.cellPolygons=function wa(){var sa=this,qa,Fa,Ca,Za,jb,y;return $jscomp.generator.createGenerator(wa,function(x){switch(x.nextAddress){case 1:qa=sa,Fa=qa.delaunay,Ca=Fa.points,Za=0,jb=Ca.length/2;case 2:if(!(Za<jb)){x.jumpTo(0);break}y=sa.cellPolygon(Za);if(!y){x.jumpTo(3);break}y.index=Za;return x.yield(y,6);case 6:case 3:++Za,x.jumpTo(2)}})};Ra.prototype.cellPolygon=function(wa){var sa=new ba;this.renderCell(wa,sa);return sa.value()};Ra.prototype._renderSegment=function(wa,
sa,qa,Fa,Ca){var Za=this._regioncode(wa,sa),jb=this._regioncode(qa,Fa);if(0===Za&&0===jb)Ca.moveTo(wa,sa),Ca.lineTo(qa,Fa);else if(wa=this._clipSegment(wa,sa,qa,Fa,Za,jb))Ca.moveTo(wa[0],wa[1]),Ca.lineTo(wa[2],wa[3])};Ra.prototype.contains=function(wa,sa,qa){return(sa=+sa,sa!==sa)||(qa=+qa,qa!==qa)?!1:this.delaunay._step(wa,sa,qa)===wa};Ra.prototype.neighbors=function qa(sa){var Fa=this,Ca,Za,jb,y,x,G,J,z,F;return $jscomp.generator.createGenerator(qa,function(M){switch(M.nextAddress){case 1:Ca=Fa._clip(sa);
if(!Ca){M.jumpTo(0);break}Za=$jscomp.makeIterator(Fa.delaunay.neighbors(sa));jb=Za.next();case 3:if(jb.done){M.jumpTo(0);break}y=jb.value;x=Fa._clip(y);if(!x){M.jumpTo(4);break}G=0;J=Ca.length;case 9:if(!(G<J)){M.jumpTo(4);break}z=0;F=x.length;case 10:if(!(z<F)){G+=2;M.jumpTo(9);break}if(Ca[G]!=x[z]||Ca[G+1]!=x[z+1]||Ca[(G+2)%J]!=x[(z+F-2)%F]||Ca[(G+3)%J]!=x[(z+F-1)%F]){M.jumpTo(11);break}return M.yield(y,14);case 14:M.jumpTo(4);break;case 11:z+=2;M.jumpTo(10);break;case 4:jb=Za.next(),M.jumpTo(3)}})};
Ra.prototype._cell=function(sa){var qa=this.circumcenters,Fa=this.delaunay,Ca=Fa.halfedges,Za=Fa.triangles;Fa=Fa.inedges[sa];if(-1===Fa)return null;var jb=[],y=Fa;do{var x=Math.floor(y/3);jb.push(qa[2*x],qa[2*x+1]);y=2===y%3?y-2:y+1;if(Za[y]!==sa)break;y=Ca[y]}while(y!==Fa&&-1!==y);return jb};Ra.prototype._clip=function(sa){if(0===sa&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var qa=this._cell(sa);if(null===qa)return null;
var Fa=this.vectors,Ca=4*sa;return Fa[Ca]||Fa[Ca+1]?this._clipInfinite(sa,qa,Fa[Ca],Fa[Ca+1],Fa[Ca+2],Fa[Ca+3]):this._clipFinite(sa,qa)};Ra.prototype._clipFinite=function(sa,qa){for(var Fa=qa.length,Ca=null,Za,jb,y=qa[Fa-2],x=qa[Fa-1],G,J=this._regioncode(y,x),z,F,M=0;M<Fa;M+=2)if(Za=y,jb=x,y=qa[M],x=qa[M+1],G=J,J=this._regioncode(y,x),0===G&&0===J)F=0,Ca?Ca.push(y,x):Ca=[y,x];else{if(0===G){if(null===(Za=this._clipSegment(Za,jb,y,x,G,J)))continue;jb=$jscomp.makeIterator(Za);jb.next();jb.next();Za=
jb.next().value;G=jb.next().value}else{if(null===(Za=this._clipSegment(y,x,Za,jb,J,G)))continue;z=$jscomp.makeIterator(Za);Za=z.next().value;G=z.next().value;jb=z.next().value;var ka=z.next().value;z=F;F=this._edgecode(jb,ka);z&&F&&this._edge(sa,z,F,Ca,Ca.length);Ca?Ca.push(jb,ka):Ca=[jb,ka]}z=F;F=this._edgecode(Za,G);z&&F&&this._edge(sa,z,F,Ca,Ca.length);Ca?Ca.push(Za,G):Ca=[Za,G]}if(Ca)z=F,F=this._edgecode(Ca[0],Ca[1]),z&&F&&this._edge(sa,z,F,Ca,Ca.length);else if(this.contains(sa,(this.xmin+this.xmax)/
2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Ca};Ra.prototype._clipSegment=function(sa,qa,Fa,Ca,Za,jb){for(;;){if(0===Za&&0===jb)return[sa,qa,Fa,Ca];if(Za&jb)return null;var y=Za||jb;if(y&8){y=sa+(Fa-sa)*(this.ymax-qa)/(Ca-qa);var x=this.ymax}else y&4?(y=sa+(Fa-sa)*(this.ymin-qa)/(Ca-qa),x=this.ymin):y&2?(x=qa+(Ca-qa)*(this.xmax-sa)/(Fa-sa),y=this.xmax):(x=qa+(Ca-qa)*(this.xmin-sa)/(Fa-sa),y=this.xmin);Za?(sa=y,qa=x,Za=this._regioncode(sa,
qa)):(Fa=y,Ca=x,jb=this._regioncode(Fa,Ca))}};Ra.prototype._clipInfinite=function(sa,qa,Fa,Ca,Za,jb){qa=Array.from(qa);var y;(y=this._project(qa[0],qa[1],Fa,Ca))&&qa.unshift(y[0],y[1]);(y=this._project(qa[qa.length-2],qa[qa.length-1],Za,jb))&&qa.push(y[0],y[1]);if(qa=this._clipFinite(sa,qa))for(Fa=0,Ca=qa.length,jb=this._edgecode(qa[Ca-2],qa[Ca-1]);Fa<Ca;Fa+=2)Za=jb,jb=this._edgecode(qa[Fa],qa[Fa+1]),Za&&jb&&(Fa=this._edge(sa,Za,jb,qa,Fa),Ca=qa.length);else this.contains(sa,(this.xmin+this.xmax)/
2,(this.ymin+this.ymax)/2)&&(qa=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return qa};Ra.prototype._edge=function(sa,qa,Fa,Ca,Za){for(;qa!==Fa;){var jb=void 0,y=void 0;switch(qa){case 5:qa=4;continue;case 4:qa=6;jb=this.xmax;y=this.ymin;break;case 6:qa=2;continue;case 2:qa=10;jb=this.xmax;y=this.ymax;break;case 10:qa=8;continue;case 8:qa=9;jb=this.xmin;y=this.ymax;break;case 9:qa=1;continue;case 1:qa=5,jb=this.xmin,y=this.ymin}Ca[Za]===jb&&Ca[Za+1]===y||!this.contains(sa,
jb,y)||(Ca.splice(Za,0,jb,y),Za+=2)}if(4<Ca.length)for(sa=0;sa<Ca.length;sa+=2)if(qa=(sa+2)%Ca.length,Fa=(sa+4)%Ca.length,Ca[sa]===Ca[qa]&&Ca[qa]===Ca[Fa]||Ca[sa+1]===Ca[qa+1]&&Ca[qa+1]===Ca[Fa+1])Ca.splice(qa,2),sa-=2;return Za};Ra.prototype._project=function(sa,qa,Fa,Ca){var Za=Infinity,jb;if(0>Ca){if(qa<=this.ymin)return null;if((jb=(this.ymin-qa)/Ca)<Za){var y=this.ymin;var x=sa+(Za=jb)*Fa}}else if(0<Ca){if(qa>=this.ymax)return null;(jb=(this.ymax-qa)/Ca)<Za&&(y=this.ymax,x=sa+(Za=jb)*Fa)}if(0<
Fa){if(sa>=this.xmax)return null;(jb=(this.xmax-sa)/Fa)<Za&&(x=this.xmax,y=qa+jb*Ca)}else if(0>Fa){if(sa<=this.xmin)return null;(jb=(this.xmin-sa)/Fa)<Za&&(x=this.xmin,y=qa+jb*Ca)}return[x,y]};Ra.prototype._edgecode=function(sa,qa){return(sa===this.xmin?1:sa===this.xmax?2:0)|(qa===this.ymin?4:qa===this.ymax?8:0)};Ra.prototype._regioncode=function(sa,qa){return(sa<this.xmin?1:sa>this.xmax?2:0)|(qa<this.ymin?4:qa>this.ymax?8:0)};var xa=2*Math.PI,Oa=Math.pow,za=function(sa){this._delaunator=new Wa(sa);
this.inedges=new Int32Array(sa.length/2);this._hullIndex=new Int32Array(sa.length/2);this.points=this._delaunator.coords;this._init()};za.from=function(sa,qa,Fa,Ca){qa=void 0===qa?Ea:qa;Fa=void 0===Fa?ab:Fa;if("length"in sa){for(var Za=sa.length,jb=new Float64Array(2*Za),y=0;y<Za;++y){var x=sa[y];jb[2*y]=qa.call(Ca,x,y,sa);jb[2*y+1]=Fa.call(Ca,x,y,sa)}sa=jb}else sa=Float64Array.from(ea(sa,qa,Fa,Ca));return new za(sa)};za.prototype.update=function(){this._delaunator.update();this._init();return this};
za.prototype._init=function(){var sa=this._delaunator,qa=this.points;if(sa.hull&&2<sa.hull.length&&fb(sa)){this.collinear=Int32Array.from({length:qa.length/2},function(J,z){return z}).sort(function(J,z){return qa[2*J]-qa[2*z]||qa[2*J+1]-qa[2*z+1]});sa=this.collinear[0];var Fa=this.collinear[this.collinear.length-1];sa=[qa[2*sa],qa[2*sa+1],qa[2*Fa],qa[2*Fa+1]];sa=1E-8*Math.hypot(sa[3]-sa[1],sa[2]-sa[0]);Fa=0;for(var Ca=qa.length/2;Fa<Ca;++Fa){var Za=Ja(qa[2*Fa],qa[2*Fa+1],sa);qa[2*Fa]=Za[0];qa[2*Fa+
1]=Za[1]}this._delaunator=new Wa(qa)}else delete this.collinear;Za=this.halfedges=this._delaunator.halfedges;sa=this.hull=this._delaunator.hull;var jb=this.triangles=this._delaunator.triangles;Fa=this.inedges.fill(-1);Ca=this._hullIndex.fill(-1);for(var y=0,x=Za.length;y<x;++y){var G=jb[2===y%3?y-2:y+1];if(-1===Za[y]||-1===Fa[G])Fa[G]=y}Za=0;for(jb=sa.length;Za<jb;++Za)Ca[sa[Za]]=Za;2>=sa.length&&0<sa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),
this.triangles[0]=sa[0],this.triangles[1]=sa[1],this.triangles[2]=sa[1],Fa[sa[0]]=1,2===sa.length&&(Fa[sa[1]]=0))};za.prototype.voronoi=function(sa){return new Ra(this,sa)};za.prototype.neighbors=function Fa(qa){var Ca=this,Za,jb,y,x,G,J,z,F,M,ka,Ia,Ta;return $jscomp.generator.createGenerator(Fa,function(D){switch(D.nextAddress){case 1:Za=Ca;jb=Za.inedges;y=Za.hull;x=Za._hullIndex;G=Za.halfedges;J=Za.triangles;z=Za.collinear;if(!z){D.jumpTo(2);break}F=z.indexOf(qa);if(!(0<F)){D.jumpTo(3);break}return D.yield(z[F-
1],3);case 3:if(!(F<z.length-1)){D.jumpTo(5);break}return D.yield(z[F+1],5);case 5:return D.return();case 2:M=jb[qa];if(-1===M)return D.return();ka=M;Ia=-1;case 7:return D.yield(Ia=J[ka],10);case 10:ka=2===ka%3?ka-2:ka+1;if(J[ka]!==qa)return D.return();ka=G[ka];if(-1!==ka){D.jumpTo(9);break}Ta=y[(x[qa]+1)%y.length];if(Ta===Ia){D.jumpTo(12);break}return D.yield(Ta,12);case 12:return D.return();case 9:ka!==M?D.jumpTo(7):D.jumpToEnd()}})};za.prototype.find=function(qa,Fa,Ca){Ca=void 0===Ca?0:Ca;if((qa=
+qa,qa!==qa)||(Fa=+Fa,Fa!==Fa))return-1;for(var Za=Ca,jb;0<=(jb=this._step(Ca,qa,Fa))&&jb!==Ca&&jb!==Za;)Ca=jb;return jb};za.prototype._step=function(qa,Fa,Ca){var Za=this.inedges,jb=this.hull,y=this._hullIndex,x=this.halfedges,G=this.triangles,J=this.points;if(-1===Za[qa]||!J.length)return(qa+1)%(J.length>>1);var z=qa,F=Oa(Fa-J[2*qa],2)+Oa(Ca-J[2*qa+1],2),M=Za=Za[qa];do{var ka=G[M],Ia=Oa(Fa-J[2*ka],2)+Oa(Ca-J[2*ka+1],2);Ia<F&&(F=Ia,z=ka);M=2===M%3?M-2:M+1;if(G[M]!==qa)break;M=x[M];if(-1===M){M=jb[(y[qa]+
1)%jb.length];if(M!==ka&&Oa(Fa-J[2*M],2)+Oa(Ca-J[2*M+1],2)<F)return M;break}}while(M!==Za);return z};za.prototype.render=function(qa){for(var Fa=null==qa?qa=new ja:void 0,Ca=this.points,Za=this.halfedges,jb=this.triangles,y=0,x=Za.length;y<x;++y){var G=Za[y];if(!(G<y)){var J=2*jb[y];G=2*jb[G];qa.moveTo(Ca[J],Ca[J+1]);qa.lineTo(Ca[G],Ca[G+1])}}this.renderHull(qa);return Fa&&Fa.value()};za.prototype.renderPoints=function(qa,Fa){Fa=void 0===Fa?2:Fa;for(var Ca=null==qa?qa=new ja:void 0,Za=this.points,
jb=0,y=Za.length;jb<y;jb+=2){var x=Za[jb],G=Za[jb+1];qa.moveTo(x+Fa,G);qa.arc(x,G,Fa,0,xa)}return Ca&&Ca.value()};za.prototype.renderHull=function(qa){var Fa=null==qa?qa=new ja:void 0,Ca=this.hull,Za=this.points,jb=2*Ca[0],y=Ca.length;qa.moveTo(Za[jb],Za[jb+1]);for(jb=1;jb<y;++jb){var x=2*Ca[jb];qa.lineTo(Za[x],Za[x+1])}qa.closePath();return Fa&&Fa.value()};za.prototype.hullPolygon=function(){var qa=new ba;this.renderHull(qa);return qa.value()};za.prototype.renderTriangle=function(qa,Fa){var Ca=null==
Fa?Fa=new ja:void 0,Za=this.points,jb=this.triangles,y=2*jb[qa*=3],x=2*jb[qa+1];qa=2*jb[qa+2];Fa.moveTo(Za[y],Za[y+1]);Fa.lineTo(Za[x],Za[x+1]);Fa.lineTo(Za[qa],Za[qa+1]);Fa.closePath();return Ca&&Ca.value()};za.prototype.trianglePolygons=function Fa(){var Ca=this,Za,jb,y,x;return $jscomp.generator.createGenerator(Fa,function(G){1==G.nextAddress&&(Za=Ca,jb=Za.triangles,y=0,x=jb.length/3);if(3!=G.nextAddress)return y<x?G.yield(Ca.trianglePolygon(y),3):G.jumpTo(0);++y;return G.jumpTo(2)})};za.prototype.trianglePolygon=
function(Fa){var Ca=new ba;this.renderTriangle(Fa,Ca);return Ca.value()};n.Delaunay=za;n.Voronoi=Ra;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[39]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(12),sb(0),sb(38)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa){function Kb(db){q.Transform.call(this,null,db)}Kb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};var Ma=[-1E5,-1E5,1E5,1E5];S.inherits(Kb,q.Transform,{transform:function(db,Eb){var qb=db.as||"path",Ea=Eb.source;if(!Ea||!Ea.length)return Eb;var ab=db.size;ab=ab?[0,0,ab[0],ab[1]]:(ab=db.extent)?[ab[0][0],ab[0][1],ab[1][0],ab[1][1]]:Ma;
ab=this.value=Pa.Delaunay.from(Ea,db.x,db.y).voronoi(ab);for(var fb=0,Ja=Ea.length;fb<Ja;++fb){var ea=ab.cellPolygon(fb),pa=Ea[fb];if(ea){for(var Ha=ea[0][0],Wa=ea[0][1],ja=ea.length-1;ea[ja][0]===Ha&&ea[ja][1]===Wa;--ja);ea="M"+ea.slice(0,ja+1).join("L")+"Z"}else ea=null;pa[qb]=ea}return Eb.reflow(db.modified()).modifies(qb)}});n.voronoi=Kb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[40]=function(wa,ka,Ta,Oa){(function(v,L){"object"===typeof Oa&&"undefined"!==typeof Ta?L(Oa,ka(17),ka(12),ka(0),ka(21),ka(13)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),L):(v="undefined"!==typeof globalThis?globalThis:v||self,L((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,L,O,xa,Ba,Ua){function fb(){function Z(l){l.width=l.height=1;var A=Math.sqrt(l.getContext("2d").getImageData(0,
0,1,1).data.length>>2);l.width=2048/A;l.height=2048/A;l=l.getContext("2d");l.fillStyle=l.strokeStyle="red";l.textAlign="center";return{context:l,ratio:A}}function Q(l,A,D){for(var H=A.x,I=A.y,N=Math.sqrt(ba[0]*ba[0]+ba[1]*ba[1]),P=ua(ba),E=.5>oa()?1:-1,aa=-E,B,K;B=P(aa+=E);){K=~~B[0];B=~~B[1];if(Math.min(Math.abs(K),Math.abs(B))>=N)break;A.x=H+K;A.y=I+B;if(!(0>A.x+A.x0||0>A.y+A.y0||A.x+A.x1>ba[0]||A.y+A.y1>ba[1])){if(!(K=!D)){a:{K=ba[0];K>>=5;B=A.sprite;var ca=A.width>>5;var V=A.x-(ca<<4);for(var g=
V&127,m=32-g,q=A.y1-A.y0,x=(A.y+A.y0)*K+(V>>5),p=0;p<q;p++){for(var w=V=0;w<=ca;w++)if((V<<m|(w<ca?(V=B[p*ca+w])>>>g:0))&l[x+w]){K=!0;break a}x+=K}K=!1}K=!K}if(K&&(!D||A.x+A.x1>D[0].x&&A.x+A.x0<D[1].x&&A.y+A.y1>D[0].y&&A.y+A.y0<D[1].y)){D=A.sprite;H=A.width>>5;I=ba[0]>>5;aa=A.x-(H<<4);N=aa&127;P=32-N;E=A.y1-A.y0;aa=(A.y+A.y0)*I+(aa>>5);for(B=0;B<E;B++){for(ca=K=0;ca<=H;ca++)l[aa+ca]=l[aa+ca]|K<<P|(ca<H?(K=D[B*H+ca])>>>N:0);aa+=I}A.sprite=null;return!0}}}return!1}var ba=[256,256],ia,da,ha,ta,ja,ya,
ma,ua=ab,pa=[],oa=Math.random,la={layout:function(){for(var l=Z(L.canvas()),A=Va((ba[0]>>5)*ba[1]),D=null,H=pa.length,I=-1,N=[],P=pa.map(function(aa){return{text:ia(aa),font:da(aa),style:ta(aa),weight:ja(aa),rotate:ya(aa),size:~~(ha(aa)+1E-14),padding:ma(aa),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:aa}}).sort(function(aa,B){return B.size-aa.size});++I<H;){var E=P[I];E.x=ba[0]*(oa()+.5)>>1;E.y=ba[1]*(oa()+.5)>>1;$a(l,E,P,I);E.hasText&&Q(A,E,D)&&(N.push(E),D?Ha(D,E):D=[{x:E.x+
E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=ba[0]>>1,E.y-=ba[1]>>1)}return N},words:function(l){return arguments.length?(pa=l,la):pa},size:function(l){return arguments.length?(ba=[+l[0],+l[1]],la):ba},font:function(l){return arguments.length?(da=Ga(l),la):da},fontStyle:function(l){return arguments.length?(ta=Ga(l),la):ta},fontWeight:function(l){return arguments.length?(ja=Ga(l),la):ja},rotate:function(l){return arguments.length?(ya=Ga(l),la):ya},text:function(l){return arguments.length?(ia=Ga(l),
la):ia},spiral:function(l){return arguments.length?(ua=nb[l]||l,la):ua},fontSize:function(l){return arguments.length?(ha=Ga(l),la):ha},padding:function(l){return arguments.length?(ma=Ga(l),la):ma},random:function(l){return arguments.length?(oa=l,la):oa}};return la}function $a(Z,Q,ba,ia){if(!Q.sprite){var da=Z.context,ha=Z.ratio;da.clearRect(0,0,2048/ha,2048/ha);var ta=Z=0,ja=0,ya=ba.length;for(--ia;++ia<ya;){Q=ba[ia];da.save();da.font=Q.style+" "+Q.weight+" "+~~((Q.size+1)/ha)+"px "+Q.font;var ma=
da.measureText(Q.text+"m").width*ha;var ua=Q.size<<1;if(Q.rotate){var pa=Math.sin(Q.rotate*cb),oa=Math.cos(Q.rotate*cb),la=ma*oa,l=ma*pa;oa*=ua;ma=ua*pa;ma=Math.max(Math.abs(la+ma),Math.abs(la-ma))+31>>5<<5;ua=~~Math.max(Math.abs(l+oa),Math.abs(l-oa))}else ma=ma+31>>5<<5;ua>ja&&(ja=ua);2048<=Z+ma&&(Z=0,ta+=ja,ja=0);if(2048<=ta+ua)break;da.translate((Z+(ma>>1))/ha,(ta+(ua>>1))/ha);Q.rotate&&da.rotate(Q.rotate*cb);da.fillText(Q.text,0,0);Q.padding&&(da.lineWidth=2*Q.padding,da.strokeText(Q.text,0,0));
da.restore();Q.width=ma;Q.height=ua;Q.xoff=Z;Q.yoff=ta;Q.x1=ma>>1;Q.y1=ua>>1;Q.x0=-Q.x1;Q.y0=-Q.y1;Q.hasText=!0;Z+=ma}ya=da.getImageData(0,0,2048/ha,2048/ha).data;for(la=[];0<=--ia;)if(Q=ba[ia],Q.hasText){ma=Q.width;da=ma>>5;ua=Q.y1-Q.y0;for(ha=0;ha<ua*da;ha++)la[ha]=0;Z=Q.xoff;if(null==Z)break;ta=Q.yoff;l=0;pa=-1;for(ja=0;ja<ua;ja++){for(ha=0;ha<ma;ha++)oa=ya[2048*(ta+ja)+(Z+ha)<<2]?1<<31-ha%32:0,la[da*ja+(ha>>5)]|=oa,l|=oa;l?pa=ja:(Q.y0++,ua--,ja--,ta++)}Q.y1=Q.y0+pa;Q.sprite=la.slice(0,(Q.y1-Q.y0)*
da)}}}function Ha(Z,Q){var ba=Z[0];Z=Z[1];Q.x+Q.x0<ba.x&&(ba.x=Q.x+Q.x0);Q.y+Q.y0<ba.y&&(ba.y=Q.y+Q.y0);Q.x+Q.x1>Z.x&&(Z.x=Q.x+Q.x1);Q.y+Q.y1>Z.y&&(Z.y=Q.y+Q.y1)}function ab(Z){var Q=Z[0]/Z[1];return function(ba){return[Q*(ba*=.1)*Math.cos(ba),ba*Math.sin(ba)]}}function Va(Z){for(var Q=[],ba=-1;++ba<Z;)Q[ba]=0;return Q}function Ga(Z){return"function"===typeof Z?Z:function(){return Z}}function za(Z){O.Transform.call(this,fb(),Z)}var cb=Math.PI/180,nb={archimedean:ab,rectangular:function(Z){var Q=4*
Z[0]/Z[1],ba=0,ia=0;return function(da){var ha=0>da?-1:1;switch(Math.sqrt(1+4*ha*da)-ha&3){case 0:ba+=Q;break;case 1:ia+=4;break;case 2:ba-=Q;break;default:ia-=4}return[ba,ia]}}},gb="x y font fontSize fontStyle fontWeight angle".split(" "),ob="text font rotate fontSize fontStyle fontWeight".split(" ");za.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",
expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":gb}]};xa.inherits(za,O.Transform,{transform:function(Z,
Q){function ba(l){l=Z[l];return xa.isFunction(l)&&Q.modified(l.fields)}!Z.size||Z.size[0]&&Z.size[1]||xa.error("Wordcloud size dimensions must be non-zero.");var ia=Z.modified();if(ia||Q.changed(Q.ADD_REM)||ob.some(ba)){var da=Q.materialize(Q.SOURCE).source,ha=this.value,ta=Z.as||gb,ja=Z.fontSize||14,ya;xa.isFunction(ja)?ya=Z.fontSizeRange:ja=xa.constant(ja);if(ya){var ma=ja,ua=Ba.scale("sqrt")().domain(xa.extent(da,ma)).range(ya);ja=function(l){return ua(ma(l))}}da.forEach(function(l){l[ta[0]]=NaN;
l[ta[1]]=NaN;l[ta[3]]=0});da=ha.words(da).text(Z.text).size(Z.size||[500,500]).padding(Z.padding||1).spiral(Z.spiral||"archimedean").rotate(Z.rotate||0).font(Z.font||"sans-serif").fontStyle(Z.fontStyle||"normal").fontWeight(Z.fontWeight||"normal").fontSize(ja).random(Ua.random).layout();ja=ha.size();ha=ja[0]>>1;ja=ja[1]>>1;ya=da.length;for(var pa=0,oa=void 0,la=void 0;pa<ya;++pa)oa=da[pa],la=oa.datum,la[ta[0]]=oa.x+ha,la[ta[1]]=oa.y+ja,la[ta[2]]=oa.font,la[ta[3]]=oa.size,la[ta[4]]=oa.style,la[ta[5]]=
oa.weight,la[ta[6]]=oa.rotate;return Q.reflow(ia).modifies(ta)}}});v.wordcloud=za;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[41]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(1),sb(12),sb(0)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q((n.vega=n.vega||{},n.vega.transforms={}),n.d3,n.vega,n.vega))})(this,function(n,q,S,Pa){function Kb(){var pa=8,Ha=[],Wa=ea(0),ja=Ma(0,pa),ba=Ma(0,pa);return{data:function(){return Ha},seen:function(){var Ra=Wa;var xa=Ha.length;
Ra.length>=xa||(xa=new Ra.constructor(xa),xa.set(Ra),Ra=xa);return Wa=Ra},add:function(Ra){for(var xa=0,Oa=Ha.length,za=Ra.length,ia;xa<za;++xa)ia=Ra[xa],ia._index=Oa++,Ha.push(ia)},remove:function(Ra,xa){var Oa=Ha.length;Ra=Array(Oa-Ra);var za=Ha,ia,wa;for(ia=0;!xa[ia]&&ia<Oa;++ia)Ra[ia]=Ha[ia],za[ia]=ia;for(wa=ia;ia<Oa;++ia){var sa=Ha[ia];xa[ia]?za[ia]=-1:(za[ia]=wa,ja[wa]=ja[ia],ba[wa]=ba[ia],Ra[wa]=sa,sa._index=wa++);ja[ia]=0}Ha=Ra;return za},size:function(){return Ha.length},curr:function(){return ja},
prev:function(){return ba},reset:function(Ra){return ba[Ra]=ja[Ra]},all:function(){return 257>pa?255:65537>pa?65535:4294967295},set:function(Ra,xa){ja[Ra]|=xa},clear:function(Ra,xa){ja[Ra]&=~xa},resize:function(Ra,xa){if(Ra>ja.length||xa>pa)pa=Math.max(xa,pa),ja=Ma(Ra,pa,ja),ba=Ma(Ra,pa)}}}function Ma(pa,Ha,Wa){pa=(257>Ha?fb:65537>Ha?Ja:ea)(pa);Wa&&pa.set(Wa);return pa}function db(pa,Ha,Wa){var ja=1<<Ha;return{one:ja,zero:~ja,range:Wa.slice(),bisect:pa.bisect,index:pa.index,size:pa.size,onAdd:function(ba,
Ra){var xa=this.bisect(this.range,ba.value);ba=ba.index;var Oa=xa[0];xa=xa[1];var za=ba.length,ia;for(ia=0;ia<Oa;++ia)Ra[ba[ia]]|=ja;for(ia=xa;ia<za;++ia)Ra[ba[ia]]|=ja;return this}}}function Eb(){var pa=ea(0),Ha=[],Wa=0;return{insert:function(ja,ba,Ra){if(!ba.length)return[];var xa=Wa,Oa=ba.length,za=ea(Oa),ia=Array(Oa),wa;for(wa=0;wa<Oa;++wa)ia[wa]=ja(ba[wa]),za[wa]=wa;ia=qb(ia,za);if(xa){ja=Ha;ba=pa;Ha=Array(xa+Oa);pa=ea(xa+Oa);wa=ia;var sa=Ha,qa=pa,Fa=0,Ca=0,Za;for(Za=0;Fa<xa&&Ca<Oa;++Za)ja[Fa]<
wa[Ca]?(sa[Za]=ja[Fa],qa[Za]=ba[Fa++]):(sa[Za]=wa[Ca],qa[Za]=za[Ca++]+Ra);for(;Fa<xa;++Fa,++Za)sa[Za]=ja[Fa],qa[Za]=ba[Fa];for(;Ca<Oa;++Ca,++Za)sa[Za]=wa[Ca],qa[Za]=za[Ca]+Ra}else{if(0<Ra)for(wa=0;wa<Oa;++wa)za[wa]+=Ra;Ha=ia;pa=za}Wa=xa+Oa;return{index:za,value:ia}},remove:function(ja,ba){var Ra=Wa,xa,Oa,za;for(Oa=0;!ba[pa[Oa]]&&Oa<Ra;++Oa);for(za=Oa;Oa<Ra;++Oa)ba[xa=pa[Oa]]||(pa[za]=xa,Ha[za]=Ha[Oa],++za);Wa=Ra-ja},bisect:function(ja,ba){if(ba)var Ra=ba.length;else ba=Ha,Ra=Wa;return[q.bisectLeft(ba,
ja[0],0,Ra),q.bisectRight(ba,ja[1],0,Ra)]},reindex:function(ja){for(var ba=0,Ra=Wa;ba<Ra;++ba)pa[ba]=ja[pa[ba]]},index:function(){return pa},size:function(){return Wa}}}function qb(pa,Ha){pa.sort.call(Ha,function(Wa,ja){Wa=pa[Wa];ja=pa[ja];return Wa<ja?-1:Wa>ja?1:0});return q.permute(pa,Ha)}function Ea(pa){S.Transform.call(this,Kb(),pa);this._dims=this._indices=null}function ab(pa){S.Transform.call(this,null,pa)}var fb=function(pa){return new Uint8Array(pa)},Ja=function(pa){return new Uint16Array(pa)},
ea=function(pa){return new Uint32Array(pa)};Ea.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Pa.inherits(Ea,S.Transform,{transform:function(pa,Ha){return this._dims?pa.modified("fields")||pa.fields.some(function(Wa){return Ha.modified(Wa.fields)})?this.reinit(pa,Ha):this.eval(pa,Ha):this.init(pa,Ha)},init:function(pa,Ha){for(var Wa=pa.fields,ja=pa.query,
ba=this._indices={},Ra=this._dims=[],xa=ja.length,Oa=0,za;Oa<xa;++Oa)za=Wa[Oa].fname,za=ba[za]||(ba[za]=Eb()),Ra.push(db(za,Oa,ja[Oa]));return this.eval(pa,Ha)},reinit:function(pa,Ha){var Wa=Ha.materialize().fork(),ja=pa.fields,ba=pa.query,Ra=this._indices,xa=this._dims,Oa=this.value,za=Oa.curr(),ia=Oa.prev(),wa=Oa.all(),sa=Wa.rem=Wa.add,qa=Wa.mod,Fa=ba.length,Ca={},Za,jb,y;ia.set(za);Ha.rem.length&&(y=this.remove(pa,Ha,Wa));Ha.add.length&&Oa.add(Ha.add);if(Ha.mod.length){var x={};var G=Ha.mod;var J=
0;for(jb=G.length;J<jb;++J)x[G[J]._index]=1}for(J=0;J<Fa;++J){var z=ja[J];if(!xa[J]||pa.modified("fields",J)||Ha.modified(z.fields))jb=z.fname,(G=Ca[jb])||(Ra[jb]=Za=Eb(),Ca[jb]=G=Za.insert(z,Ha.source,0)),xa[J]=db(Za,J,ba[J]).onAdd(G,za)}J=0;for(jb=Oa.data().length;J<jb;++J)y[J]||(ia[J]!==za[J]?sa.push(J):x[J]&&za[J]!==wa&&qa.push(J));Oa.mask=(1<<Fa)-1;return Wa},eval:function(pa,Ha){var Wa=Ha.materialize().fork(),ja=this._dims.length,ba=0;Ha.rem.length&&(this.remove(pa,Ha,Wa),ba|=(1<<ja)-1);pa.modified("query")&&
!pa.modified("fields")&&(ba|=this.update(pa,Ha,Wa));Ha.add.length&&(this.insert(pa,Ha,Wa),ba|=(1<<ja)-1);Ha.mod.length&&(this.modify(Ha,Wa),ba|=(1<<ja)-1);this.value.mask=ba;return Wa},insert:function(pa,Ha,Wa){Ha=Ha.add;var ja=this.value,ba=this._dims,Ra=this._indices;pa=pa.fields;var xa={};Wa=Wa.add;var Oa=ja.size()+Ha.length,za=ba.length,ia=ja.size();ja.resize(Oa,za);ja.add(Ha);var wa=ja.curr(),sa=ja.prev(),qa=ja.all();for(ja=0;ja<za;++ja){var Fa=pa[ja].fname;Fa=xa[Fa]||(xa[Fa]=Ra[Fa].insert(pa[ja],
Ha,ia));ba[ja].onAdd(Fa,wa)}for(;ia<Oa;++ia)sa[ia]=qa,wa[ia]!==qa&&Wa.push(ia)},modify:function(pa,Ha){Ha=Ha.mod;var Wa=this.value,ja=Wa.curr();Wa=Wa.all();pa=pa.mod;var ba;var Ra=0;for(ba=pa.length;Ra<ba;++Ra){var xa=pa[Ra]._index;ja[xa]!==Wa&&Ha.push(xa)}},remove:function(pa,Ha,Wa){pa=this._indices;var ja=this.value,ba=ja.curr(),Ra=ja.prev();ja=ja.all();var xa={};Wa=Wa.rem;var Oa=Ha.rem,za,ia;var wa=0;for(za=Oa.length;wa<za;++wa){var sa=Oa[wa]._index;xa[sa]=1;Ra[sa]=ia=ba[sa];ba[sa]=ja;ia!==ja&&
Wa.push(sa)}for(sa in pa)pa[sa].remove(za,xa);this.reindex(Ha,za,xa);return xa},reindex:function(pa,Ha,Wa){var ja=this._indices,ba=this.value;pa.runAfter(function(){var Ra=ba.remove(Ha,Wa),xa;for(xa in ja)ja[xa].reindex(Ra)})},update:function(pa,Ha,Wa){var ja=this._dims,ba=pa.query;Ha=Ha.stamp;var Ra=ja.length,xa=0,Oa;for(Oa=Wa.filters=0;Oa<Ra;++Oa)if(pa.modified("query",Oa)){var za=Oa;++xa}if(1===xa)xa=ja[za].one,this.incrementOne(ja[za],ba[za],Wa.add,Wa.rem);else for(xa=Oa=0;Oa<Ra;++Oa)pa.modified("query",
Oa)&&(xa|=ja[Oa].one,this.incrementAll(ja[Oa],ba[Oa],Ha,Wa.add),Wa.rem=Wa.add);return xa},incrementAll:function(pa,Ha,Wa,ja){var ba=this.value,Ra=ba.seen(),xa=ba.curr();ba=ba.prev();var Oa=pa.index(),za=pa.bisect(pa.range),ia=pa.bisect(Ha),wa=ia[0];ia=ia[1];var sa=za[0];za=za[1];var qa=pa.one,Fa;if(wa<sa){var Ca=wa;for(Fa=Math.min(sa,ia);Ca<Fa;++Ca){var Za=Oa[Ca];Ra[Za]!==Wa&&(ba[Za]=xa[Za],Ra[Za]=Wa,ja.push(Za));xa[Za]^=qa}}else if(wa>sa)for(Ca=sa,Fa=Math.min(wa,za);Ca<Fa;++Ca)Za=Oa[Ca],Ra[Za]!==
Wa&&(ba[Za]=xa[Za],Ra[Za]=Wa,ja.push(Za)),xa[Za]^=qa;if(ia>za)for(Ca=Math.max(wa,za),Fa=ia;Ca<Fa;++Ca)Za=Oa[Ca],Ra[Za]!==Wa&&(ba[Za]=xa[Za],Ra[Za]=Wa,ja.push(Za)),xa[Za]^=qa;else if(ia<za)for(Ca=Math.max(sa,ia),Fa=za;Ca<Fa;++Ca)Za=Oa[Ca],Ra[Za]!==Wa&&(ba[Za]=xa[Za],Ra[Za]=Wa,ja.push(Za)),xa[Za]^=qa;pa.range=Ha.slice()},incrementOne:function(pa,Ha,Wa,ja){var ba=this.value.curr(),Ra=pa.index(),xa=pa.bisect(pa.range),Oa=pa.bisect(Ha),za=Oa[0];Oa=Oa[1];var ia=xa[0];xa=xa[1];var wa=pa.one,sa;if(za<ia){var qa=
za;for(sa=Math.min(ia,Oa);qa<sa;++qa){var Fa=Ra[qa];ba[Fa]^=wa;Wa.push(Fa)}}else if(za>ia)for(qa=ia,sa=Math.min(za,xa);qa<sa;++qa)Fa=Ra[qa],ba[Fa]^=wa,ja.push(Fa);if(Oa>xa)for(qa=Math.max(za,xa),sa=Oa;qa<sa;++qa)Fa=Ra[qa],ba[Fa]^=wa,Wa.push(Fa);else if(Oa<xa)for(qa=Math.max(ia,Oa),sa=xa;qa<sa;++qa)Fa=Ra[qa],ba[Fa]^=wa,ja.push(Fa);pa.range=Ha.slice()}});ab.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},
{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Pa.inherits(ab,S.Transform,{transform:function(pa,Ha){var Wa=~(pa.ignore||0);pa=pa.filter;var ja=pa.mask;if(0===(ja&Wa))return Ha.StopPropagation;Ha=Ha.fork(Ha.ALL);var ba=pa.data(),Ra=pa.curr(),xa=pa.prev(),Oa=function(za){return Ra[za]&Wa?null:ba[za]};Ha.filter(Ha.MOD,Oa);ja&ja-1?(Ha.filter(Ha.ADD,function(za){var ia=Ra[za]&Wa;return!ia&&ia^xa[za]&Wa?ba[za]:null}),Ha.filter(Ha.REM,function(za){var ia=
Ra[za]&Wa;return!ia||ia^ia^xa[za]&Wa?null:ba[za]})):(Ha.filter(Ha.ADD,Oa),Ha.filter(Ha.REM,function(za){return(Ra[za]&Wa)===ja?ba[za]:null}));return Ha.filter(Ha.SOURCE,function(za){return Oa(za._index)})}});n.crossfilter=Ea;n.resolvefilter=ab;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[42]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0)):"function"===typeof define&&define.amd?define(["exports","vega-util"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega))})(this,function(n,q){function S(H){this.type=H}function Pa(H){switch(H.type){case "ArrayExpression":return H.elements;case "BinaryExpression":case "LogicalExpression":return[H.left,H.right];case "CallExpression":return[H.callee].concat(H.arguments);
case "ConditionalExpression":return[H.test,H.consequent,H.alternate];case "MemberExpression":return[H.object,H.property];case "ObjectExpression":return H.properties;case "Property":return[H.key,H.value];case "UnaryExpression":return[H.argument];default:return[]}}function Kb(H,T){if(!H)throw Error("ASSERT: "+T);}function Ma(H){return 48<=H&&57>=H}function db(H){return 0<="0123456789abcdefABCDEF".indexOf(H)}function Eb(H){return 0<="01234567".indexOf(H)}function qb(H){return 10===H||13===H||8232===
H||8233===H}function Ea(H){return 36===H||95===H||65<=H&&90>=H||97<=H&&122>=H||92===H||128<=H&&Ta.test(String.fromCharCode(H))}function ab(H){return 36===H||95===H||65<=H&&90>=H||97<=H&&122>=H||48<=H&&57>=H||92===H||128<=H&&D.test(String.fromCharCode(H))}function fb(){for(;M<ka;){var H=F.charCodeAt(M);if(32===H||9===H||11===H||12===H||160===H||5760<=H&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(H)||qb(H))++M;else break}}function Ja(H){var T=
0;var l="u"===H?4:2;for(H=0;H<l;++H)if(M<ka&&db(F[M])){var k=F[M++];T=16*T+"0123456789abcdef".indexOf(k.toLowerCase())}else wa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(T)}function ea(){var H=F.charCodeAt(M++);var T=String.fromCharCode(H);92===H&&(117!==F.charCodeAt(M)&&wa({},"Unexpected token %0","ILLEGAL"),++M,(H=Ja("u"))&&"\\"!==H&&Ea(H.charCodeAt(0))||wa({},"Unexpected token %0","ILLEGAL"),T=H);for(;M<ka;){H=F.charCodeAt(M);if(!ab(H))break;++M;T+=String.fromCharCode(H);92===
H&&(T=T.substr(0,T.length-1),117!==F.charCodeAt(M)&&wa({},"Unexpected token %0","ILLEGAL"),++M,(H=Ja("u"))&&"\\"!==H&&ab(H.charCodeAt(0))||wa({},"Unexpected token %0","ILLEGAL"),T+=H)}return T}function pa(){var H=M,T=F.charCodeAt(M),l=F[M];switch(T){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++M,{type:7,value:String.fromCharCode(T),start:H,end:M};default:var k=F.charCodeAt(M+1);if(61===k)switch(T){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return M+=
2,{type:7,value:String.fromCharCode(T)+String.fromCharCode(k),start:H,end:M};case 33:case 61:return M+=2,61===F.charCodeAt(M)&&++M,{type:7,value:F.slice(H,M),start:H,end:M}}}T=F.substr(M,4);if("\x3e\x3e\x3e\x3d"===T)return M+=4,{type:7,value:T,start:H,end:M};T=T.substr(0,3);if("\x3e\x3e\x3e"===T||"\x3c\x3c\x3d"===T||"\x3e\x3e\x3d"===T)return M+=3,{type:7,value:T,start:H,end:M};T=T.substr(0,2);if(l===T[1]&&0<="+-\x3c\x3e\x26|".indexOf(l)||"\x3d\x3e"===T)return M+=2,{type:7,value:T,start:H,end:M};if(0<=
"\x3c\x3e\x3d!+-*%\x26|^/".indexOf(l))return++M,{type:7,value:l,start:H,end:M};wa({},"Unexpected token %0","ILLEGAL")}function Ha(){var H=F[M];Kb(Ma(H.charCodeAt(0))||"."===H,"Numeric literal must start with a decimal digit or a decimal point");var T=M;var l="";if("."!==H){l=F[M++];H=F[M];if("0"===l){if("x"===H||"X"===H){++M;for(l="";M<ka&&db(F[M]);)l+=F[M++];0===l.length&&wa({},"Unexpected token %0","ILLEGAL");Ea(F.charCodeAt(M))&&wa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+
l,16),start:T,end:M}}if(Eb(H)){for(l="0"+F[M++];M<ka&&Eb(F[M]);)l+=F[M++];(Ea(F.charCodeAt(M))||Ma(F.charCodeAt(M)))&&wa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(l,8),octal:!0,start:T,end:M}}H&&Ma(H.charCodeAt(0))&&wa({},"Unexpected token %0","ILLEGAL")}for(;Ma(F.charCodeAt(M));)l+=F[M++];H=F[M]}if("."===H){for(l+=F[M++];Ma(F.charCodeAt(M));)l+=F[M++];H=F[M]}if("e"===H||"E"===H){l+=F[M++];H=F[M];if("+"===H||"-"===H)l+=F[M++];if(Ma(F.charCodeAt(M)))for(;Ma(F.charCodeAt(M));)l+=
F[M++];else wa({},"Unexpected token %0","ILLEGAL")}Ea(F.charCodeAt(M))&&wa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(l),start:T,end:M}}function Wa(H,T){var l=H;0<=T.indexOf("u")&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(k,p){if(1114111>=parseInt(p,16))return"x";wa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(l)}catch(k){wa({},"Invalid regular expression")}try{return new RegExp(H,T)}catch(k){return null}}function ja(){fb();
if(M>=ka)return{type:2,start:M,end:M};var H=F.charCodeAt(M);if(Ea(H)){H=M;if(92===F.charCodeAt(M))var T=ea();else a:{for(T=M++;M<ka;){var l=F.charCodeAt(M);if(92===l){M=T;T=ea();break a}if(ab(l))++M;else break}T=F.slice(T,M)}return{type:1===T.length?3:fa.hasOwnProperty(T)?4:"null"===T?5:"true"===T||"false"===T?1:3,value:T,start:H,end:M}}if(40===H||41===H||59===H)return pa();if(39===H||34===H){var k="";l=!1;H=F[M];Kb("'"===H||'"'===H,"String literal must starts with a quote");T=M;for(++M;M<ka;){var p=
F[M++];if(p===H){H="";break}else if("\\"===p)if((p=F[M++])&&qb(p.charCodeAt(0)))"\r"===p&&"\n"===F[M]&&++M;else switch(p){case "u":case "x":if("{"===F[M]){++M;var t=F[M];p=0;for("}"===t&&wa({},"Unexpected token %0","ILLEGAL");M<ka;){t=F[M++];if(!db(t))break;p=16*p+"0123456789abcdef".indexOf(t.toLowerCase())}(1114111<p||"}"!==t)&&wa({},"Unexpected token %0","ILLEGAL");p=65535>=p?String.fromCharCode(p):String.fromCharCode((p-65536>>10)+55296,(p-65536&1023)+56320);k+=p}else k+=Ja(p);break;case "n":k+=
"\n";break;case "r":k+="\r";break;case "t":k+="\t";break;case "b":k+="\b";break;case "f":k+="\f";break;case "v":k+="\x0B";break;default:Eb(p)?(t="01234567".indexOf(p),0!==t&&(l=!0),M<ka&&Eb(F[M])&&(l=!0,t=8*t+"01234567".indexOf(F[M++]),0<="0123".indexOf(p)&&M<ka&&Eb(F[M])&&(t=8*t+"01234567".indexOf(F[M++]))),k+=String.fromCharCode(t)):k+=p}else if(qb(p.charCodeAt(0)))break;else k+=p}""!==H&&wa({},"Unexpected token %0","ILLEGAL");return{type:8,value:k,octal:l,start:T,end:M}}return 46===H?Ma(F.charCodeAt(M+
1))?Ha():pa():Ma(H)?Ha():pa()}function ba(){var H=Ia;M=H.end;Ia=ja();M=H.end;return H}function Ra(H,T,l){var k=new S("||"===H||"\x26\x26"===H?"LogicalExpression":"BinaryExpression");k.operator=H;k.left=T;k.right=l;return k}function xa(H){var T=new S("Identifier");T.name=H;return T}function Oa(H){var T=new S("Literal");T.value=H.value;T.raw=F.slice(H.start,H.end);H.regex&&("//"===T.raw&&(T.raw="/(?:)/"),T.regex=H.regex);return T}function za(H,T,l){var k=new S("MemberExpression");k.computed="["===H;
k.object=T;k.property=l;k.computed||(l.member=!0);return k}function ia(H,T,l){var k=new S("Property");k.key=T;k.value=l;k.kind=H;return k}function wa(H,T){var l=Array.prototype.slice.call(arguments,2),k=T.replace(/%(\d)/g,function(t,w){Kb(w<l.length,"Message reference must be in range");return l[w]});var p=Error(k);p.index=M;p.description=k;throw p;}function sa(H){2===H.type&&wa(H,"Unexpected end of input");6===H.type&&wa(H,"Unexpected number");8===H.type&&wa(H,"Unexpected string");3===H.type&&wa(H,
"Unexpected identifier");4===H.type&&wa(H,"Unexpected reserved word");wa(H,"Unexpected token %0",H.value)}function qa(H){var T=ba();7===T.type&&T.value===H||sa(T)}function Fa(H){return 7===Ia.type&&Ia.value===H}function Ca(){M=Ia.start;var H=ba();return 8===H.type||6===H.type?(H.octal&&wa(H,"Octal literals are not allowed in strict mode."),Oa(H)):xa(H.value)}function Za(){if(Fa("(")){qa("(");var H=J();qa(")");return H}if(Fa("[")){H=[];M=Ia.start;for(qa("[");!Fa("]");)Fa(",")?(ba(),H.push(null)):(H.push(G()),
Fa("]")||qa(","));ba();var T=new S("ArrayExpression");T.elements=H;return T}if(Fa("{")){H=[];T={};var l=String;M=Ia.start;for(qa("{");!Fa("}");){M=Ia.start;var k=Ia;if(3===k.type){var p=Ca();qa(":");k=G();k=ia("init",p,k)}else 2===k.type||7===k.type?(sa(k),k=void 0):(p=Ca(),qa(":"),k=G(),k=ia("init",p,k));p="Identifier"===k.key.type?k.key.name:l(k.key.value);p="$"+p;Object.prototype.hasOwnProperty.call(T,p)?wa({},"Duplicate data property in object literal not allowed in strict mode"):T[p]=!0;H.push(k);
Fa("}")||qa(",")}qa("}");T=new S("ObjectExpression");T.properties=H;return T}T=Ia.type;M=Ia.start;if(3===T||Y[Ia.value])H=xa(ba().value);else if(8===T||6===T)Ia.octal&&wa(Ia,"Octal literals are not allowed in strict mode."),H=Oa(ba());else{if(4===T)throw Error("Disabled.");if(1===T)H=ba(),H.value="true"===H.value,H=Oa(H);else if(5===T)H=ba(),H.value=null,H=Oa(H);else if(Fa("/")||Fa("/\x3d")){var t;Ia=null;fb();H=M;T=F[M];Kb("/"===T,"Regular expression literal must start with a slash");l=F[M++];for(p=
k=!1;M<ka;)if(T=F[M++],l+=T,"\\"===T)T=F[M++],qb(T.charCodeAt(0))&&wa({},"Invalid regular expression: missing /"),l+=T;else if(qb(T.charCodeAt(0)))wa({},"Invalid regular expression: missing /");else if(k)"]"===T&&(k=!1);else if("/"===T){p=!0;break}else"["===T&&(k=!0);p||wa({},"Invalid regular expression: missing /");T=l.substr(1,l.length-2);for(t=p="";M<ka;){k=F[M];if(!ab(k.charCodeAt(0)))break;++M;"\\"===k&&M<ka?wa({},"Unexpected token %0","ILLEGAL"):(t+=k,p+=k)}0<=t.search(/[^gimuy]/g)&&wa({},"Invalid regular expression",
t);k=t;t=Wa(T,k);H=Oa({literal:l+p,value:t,regex:{pattern:T,flags:k},start:H,end:M});T=M;Ia=ja();M=T}else sa(ba())}return H}function jb(){var H;for(H=Za();;)if(Fa(".")){qa(".");M=Ia.start;var T=ba();3===T.type||4===T.type||1===T.type||5===T.type||sa(T);T=xa(T.value);H=za(".",H,T)}else if(Fa("(")){T=[];qa("(");if(!Fa(")"))for(;M<ka;){T.push(G());if(Fa(")"))break;qa(",")}qa(")");var l=new S("CallExpression");l.callee=H;l.arguments=T;H=l}else if(Fa("["))qa("["),T=J(),qa("]"),H=za("[",H,T);else break;
if(7===Ia.type&&(Fa("++")||Fa("--")))throw Error("Disabled.");return H}function y(){if(7!==Ia.type&&4!==Ia.type)var H=jb();else{if(Fa("++")||Fa("--"))throw Error("Disabled.");if(Fa("+")||Fa("-")||Fa("~")||Fa("!")){var T=ba();H=y();T=T.value;var l=new S("UnaryExpression");l.operator=T;l.argument=H;l.prefix=!0;H=l}else{if(4===Ia.type&&"delete"===Ia.value||4===Ia.type&&"void"===Ia.value||4===Ia.type&&"typeof"===Ia.value)throw Error("Disabled.");H=jb()}}return H}function x(H){var T=0;if(7!==H.type&&4!==
H.type)return 0;switch(H.value){case "||":T=1;break;case "\x26\x26":T=2;break;case "|":T=3;break;case "^":T=4;break;case "\x26":T=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":T=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":T=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":T=8;break;case "+":case "-":T=9;break;case "*":case "/":case "%":T=11}return T}function G(){var H=Ia;var T=y();var l=Ia;var k=x(l);if(0===k)var p=
T;else{l.prec=k;ba();H=[H,Ia];var t=y();for(p=[T,l,t];0<(k=x(Ia));){for(;2<p.length&&k<=p[p.length-2].prec;)t=p.pop(),l=p.pop().value,T=p.pop(),H.pop(),T=Ra(l,T,t),p.push(T);l=ba();l.prec=k;p.push(l);H.push(Ia);T=y();p.push(T)}k=p.length-1;T=p[k];for(H.pop();1<k;)H.pop(),T=Ra(p[k-1].value,p[k-2],T),k-=2;p=T}Fa("?")&&(ba(),H=G(),qa(":"),k=G(),T=new S("ConditionalExpression"),T.test=p,T.consequent=H,T.alternate=k,p=T);return p}function J(){var H=G();if(Fa(","))throw Error("Disabled.");return H}function z(H){function T(l,
k,p){return function(t){var w=H(t[0]);k&&(w=k+"("+w+")",0===k.lastIndexOf("new ",0)&&(w="("+w+")"));return w+"."+l+(0>p?"":0===p?"()":"("+t.slice(1).map(H).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",
tan:"Math.tan",clamp:function(l){3>l.length&&q.error("Missing arguments to clamp function.");3<l.length&&q.error("Too many arguments to clamp function.");l=l.map(H);return"Math.max("+l[1]+", Math.min("+l[2]+","+l[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:T("getDate","new Date",0),day:T("getDay","new Date",0),year:T("getFullYear","new Date",0),month:T("getMonth","new Date",0),hours:T("getHours","new Date",0),minutes:T("getMinutes","new Date",0),seconds:T("getSeconds","new Date",
0),milliseconds:T("getMilliseconds","new Date",0),time:T("getTime","new Date",0),timezoneoffset:T("getTimezoneOffset","new Date",0),utcdate:T("getUTCDate","new Date",0),utcday:T("getUTCDay","new Date",0),utcyear:T("getUTCFullYear","new Date",0),utcmonth:T("getUTCMonth","new Date",0),utchours:T("getUTCHours","new Date",0),utcminutes:T("getUTCMinutes","new Date",0),utcseconds:T("getUTCSeconds","new Date",0),utcmilliseconds:T("getUTCMilliseconds","new Date",0),length:T("length",null,-1),join:T("join",
null),indexof:T("indexOf",null),lastindexof:T("lastIndexOf",null),slice:T("slice",null),reverse:function(l){return"("+H(l[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:T("toUpperCase","String",0),lower:T("toLowerCase","String",0),substring:T("substring","String"),split:T("split","String"),replace:T("replace","String"),trim:T("trim","String",0),regexp:"RegExp",test:T("test","RegExp"),if:function(l){3>l.length&&q.error("Missing arguments to if function.");3<l.length&&
q.error("Too many arguments to if function.");l=l.map(H);return"("+l[0]+"?"+l[1]+":"+l[2]+")"}}}S.prototype.visit=function(H){var T;if(H(this))return 1;var l=Pa(this);var k=0;for(T=l.length;k<T;++k)if(l[k].visit(H))return 1};var F,M,ka,Ia,Ta=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
D=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
fa={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Y={"if":1},W={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};n.ASTNode=S;n.ArrayExpression="ArrayExpression";n.BinaryExpression="BinaryExpression";n.CallExpression="CallExpression";n.ConditionalExpression="ConditionalExpression";n.Identifier="Identifier";n.Literal="Literal";n.LogicalExpression="LogicalExpression";n.MemberExpression="MemberExpression";n.ObjectExpression="ObjectExpression";n.Property="Property";
n.RawCode="RawCode";n.UnaryExpression="UnaryExpression";n.codegen=function(H){function T(Ka){if(q.isString(Ka))return Ka;var Z=Ba[Ka.type];null==Z&&q.error("Unsupported type: "+Ka.type);return Z(Ka)}function l(Ka){Ka={code:T(Ka),globals:Object.keys(ua),fields:Object.keys(eb)};ua={};eb={};return Ka}H=H||{};var k=H.allowed?q.toSet(H.allowed):{},p=H.forbidden?q.toSet(H.forbidden):{},t=H.constants||W,w=(H.functions||z)(T),O=H.globalvar,la=H.fieldvar,ma=q.isFunction(O)?O:function(Ka){return O+'["'+Ka+
'"]'},ua={},eb={},cb=0,Ba={Literal:function(Ka){return Ka.raw},Identifier:function(Ka){Ka=Ka.name;if(0<cb)return Ka;if(q.hasOwnProperty(p,Ka))return q.error("Illegal identifier: "+Ka);if(q.hasOwnProperty(t,Ka))return t[Ka];if(q.hasOwnProperty(k,Ka))return Ka;ua[Ka]=1;return ma(Ka)},MemberExpression:function(Ka){var Z=!Ka.computed,ra=T(Ka.object);Z&&(cb+=1);Ka=T(Ka.property);if(ra===la){var hb=eb;var mb=(mb=Ka&&Ka.length-1)&&('"'===Ka[0]&&'"'===Ka[mb]||"'"===Ka[0]&&"'"===Ka[mb])?Ka.slice(1,-1):Ka;
hb[mb]=1}Z&&--cb;return ra+(Z?"."+Ka:"["+Ka+"]")},CallExpression:function(Ka){"Identifier"!==Ka.callee.type&&q.error("Illegal callee type: "+Ka.callee.type);var Z=Ka.callee.name;Ka=Ka.arguments;var ra=q.hasOwnProperty(w,Z)&&w[Z];ra||q.error("Unrecognized function: "+Z);return q.isFunction(ra)?ra(Ka):ra+"("+Ka.map(T).join(",")+")"},ArrayExpression:function(Ka){return"["+Ka.elements.map(T).join(",")+"]"},BinaryExpression:function(Ka){return"("+T(Ka.left)+Ka.operator+T(Ka.right)+")"},UnaryExpression:function(Ka){return"("+
Ka.operator+T(Ka.argument)+")"},ConditionalExpression:function(Ka){return"("+T(Ka.test)+"?"+T(Ka.consequent)+":"+T(Ka.alternate)+")"},LogicalExpression:function(Ka){return"("+T(Ka.left)+Ka.operator+T(Ka.right)+")"},ObjectExpression:function(Ka){return"{"+Ka.properties.map(T).join(",")+"}"},Property:function(Ka){cb+=1;var Z=T(Ka.key);--cb;return Z+":"+T(Ka.value)}};l.functions=w;l.constants=t;return l};n.constants=W;n.functions=z;n.parse=function(H){F=H;M=0;ka=F.length;Ia=null;H=M;Ia=ja();M=H;H=J();
if(2!==Ia.type)throw Error("Unexpect token after expression.");return H};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[43]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega))})(this,function(n,q,S){function Pa(Ma,db){var Eb=db.fields;db=db.values;for(var qb=Eb.length,Ea=0,ab,fb;Ea<qb;++Ea)if(fb=Eb[Ea],fb.getter=q.field.getter||q.field(fb.field),ab=fb.getter(Ma),q.isDate(ab)&&(ab=
q.toNumber(ab)),q.isDate(db[Ea])&&(db[Ea]=q.toNumber(db[Ea])),q.isDate(db[Ea][0])&&(db[Ea]=db[Ea].map(q.toNumber)),"E"===fb.type){if(q.isArray(db[Ea])?0>db[Ea].indexOf(ab):ab!==db[Ea])return!1}else if("R"===fb.type){if(!q.inrange(ab,db[Ea]))return!1}else if("R-RE"===fb.type){if(!q.inrange(ab,db[Ea],!0,!1))return!1}else if("R-E"===fb.type){if(!q.inrange(ab,db[Ea],!1,!1))return!1}else if("R-LE"===fb.type&&!q.inrange(ab,db[Ea],!1,!0))return!1;return!0}var Kb={E_union:function(Ma,db){if(!Ma.length)return db;
for(var Eb=0,qb=db.length;Eb<qb;++Eb)0>Ma.indexOf(db[Eb])&&Ma.push(db[Eb]);return Ma},E_intersect:function(Ma,db){return Ma.length?Ma.filter(function(Eb){return 0<=db.indexOf(Eb)}):db},R_union:function(Ma,db){var Eb=q.toNumber(db[0]),qb=q.toNumber(db[1]);Eb>qb&&(Eb=db[1],qb=db[0]);if(!Ma.length)return[Eb,qb];Ma[0]>Eb&&(Ma[0]=Eb);Ma[1]<qb&&(Ma[1]=qb);return Ma},R_intersect:function(Ma,db){var Eb=q.toNumber(db[0]),qb=q.toNumber(db[1]);Eb>qb&&(Eb=db[1],qb=db[0]);if(!Ma.length)return[Eb,qb];if(qb<Ma[0]||
Ma[1]<Eb)return[];Ma[0]<Eb&&(Ma[0]=Eb);Ma[1]>qb&&(Ma[1]=qb);return Ma}};n.selectionResolve=function(Ma,db,Eb){Ma=(Ma=this.context.data[Ma])?Ma.values.value:[];for(var qb={},Ea={},ab={},fb,Ja,ea,pa,Ha,Wa,ja=Ma.length,ba=0,Ra,xa;ba<ja;++ba){fb=Ma[ba];ea=fb.unit;Ja=fb.fields;fb=fb.values;Ra=0;for(xa=Ja.length;Ra<xa;++Ra)pa=Ja[Ra],Ha=qb[pa.field]||(qb[pa.field]={}),Wa=Ha[ea]||(Ha[ea]=[]),ab[pa.field]=pa=pa.type.charAt(0),pa=Kb[pa+"_union"],Ha[ea]=pa(Wa,q.array(fb[Ra]));Eb&&(Wa=Ea[ea]||(Ea[ea]=[]),Wa.push(q.array(fb).reduce(function(Oa,
za,ia){return Oa[Ja[ia].field]=za,Oa},{})))}db=db||"union";Object.keys(qb).forEach(function(Oa){qb[Oa]=Object.keys(qb[Oa]).map(function(za){return qb[Oa][za]}).reduce(function(za,ia){return void 0===za?ia:Kb[ab[Oa]+"_"+db](za,ia)})});Ma=Object.keys(Ea);Eb&&Ma.length&&(Eb={},ea={},qb.vlMulti="union"===db?(Eb.or=Ma.reduce(function(Oa,za){return Oa.push.apply(Oa,$jscomp.arrayFromIterable(Ea[za])),Oa},[]),Eb):(ea.and=Ma.map(function(Oa){var za={};return za.or=Ea[Oa],za}),ea));return qb};n.selectionTest=
function(Ma,db,Eb){var qb=this.context.data[Ma];Ma=qb?qb.values.value:[];qb=qb?qb["index:unit"]&&qb["index:unit"].value:void 0;Eb="intersect"===Eb;for(var Ea=Ma.length,ab=0,fb,Ja,ea,pa;ab<Ea;++ab)if(fb=Ma[ab],qb&&Eb){if(Ja=Ja||{},ea=Ja[pa=fb.unit]||0,-1!==ea){fb=Pa(db,fb);Ja[pa]=fb?-1:++ea;if(fb&&1===qb.size)return!0;if(!fb&&ea===qb.get(pa).count)return!1}}else if(fb=Pa(db,fb),Eb^fb)return fb;return Ea&&Eb};n.selectionVisitor=function(Ma,db,Eb,qb){db[0].type!==S.Literal&&q.error("First argument to selection functions must be a string literal.");
Ma=db[0].value;db=2<=db.length&&q.peek(db).value;var Ea=":"+Ma;"intersect"!==db||q.hasOwnProperty(qb,"@unit")||(qb["@unit"]=Eb.getData(Ma).indataRef(Eb,"unit"));q.hasOwnProperty(qb,Ea)||(qb[Ea]=Eb.getData(Ma).tuplesRef())};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[44]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(42),sb(25),sb(18),sb(12),sb(21),sb(22),sb(43),sb(13),sb(4),sb(1)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.d3,n.d3,n.vega,n.vega,n.vega,n.vega,
n.vega,n.vega,n.d3))})(this,function(n,q,S,Pa,Kb,Ma,db,Eb,qb,Ea,ab,fb){function Ja(tb){return(tb=this.context.data[tb])?tb.values.value:[]}function ea(tb,bc,Mb){return(Mb=(tb=this.context.data[tb]["index:"+bc])?tb.value.get(Mb):void 0)?Mb.count:Mb}function pa(tb,bc){var Mb=this.context.dataflow;Mb.pulse(this.context.data[tb].input,Mb.changeset().remove(q.truthy).insert(bc));return 1}function Ha(tb,bc,Mb){if(tb){var xc=this.context.dataflow;xc.pulse(tb.mark.source,xc.changeset().encode(tb,bc))}return void 0!==
Mb?Mb:tb}function Wa(tb,bc,Mb){if(!Number.isInteger(tb)||!Number.isInteger(bc))return"";ya.setYear(2E3);ya.setMonth(tb);ya.setDate(bc);return mb.call(this,ya,Mb)}function ja(tb){return Wa.call(this,tb,1,"%B")}function ba(tb){return Wa.call(this,tb,1,"%b")}function Ra(tb){return Wa.call(this,0,2+tb,"%A")}function xa(tb){return Wa.call(this,0,2+tb,"%a")}function Oa(tb,bc,Mb,xc){bc[0].type!==S.Literal&&q.error("First argument to data functions must be a string literal.");tb=bc[0].value;bc=":"+tb;if(!q.hasOwnProperty(bc,
xc))try{xc[bc]=Mb.getData(tb).tuplesRef()}catch(Xc){}}function za(tb,bc,Mb,xc){bc[0].type!==S.Literal&&q.error("First argument to indata must be a string literal.");bc[1].type!==S.Literal&&q.error("Second argument to indata must be a string literal.");tb=bc[0].value;bc=bc[1].value;var Xc="@"+bc;q.hasOwnProperty(Xc,xc)||(xc[Xc]=Mb.getData(tb).indataRef(Mb,bc))}function ia(tb,bc,Mb,xc){if(bc[0].type===S.Literal)wa(Mb,xc,bc[0].value);else for(tb in Mb.scales)wa(Mb,xc,tb)}function wa(tb,bc,Mb){var xc=
"%"+Mb;if(!q.hasOwnProperty(bc,xc))try{bc[xc]=tb.scaleRef(Mb)}catch(Xc){}}function sa(tb,bc){var Mb;return q.isFunction(tb)?tb:q.isString(tb)?(Mb=bc.scales[tb])&&Mb.value:void 0}function qa(tb,bc,Mb){bc.__bandwidth=function(Xc){return Xc&&Xc.bandwidth?Xc.bandwidth():0};Mb._bandwidth=ia;Mb._range=ia;Mb._scale=ia;var xc=function(Xc){return"_["+(Xc.type===S.Literal?q.stringValue("%"+Xc.value):q.stringValue("%")+"+"+tb(Xc))+"]"};return{_bandwidth:function(Xc){return"this.__bandwidth("+xc(Xc[0])+")"},
_range:function(Xc){return xc(Xc[0])+".range()"},_scale:function(Xc){return xc(Xc[0])+"("+tb(Xc[1])+")"}}}function Fa(tb,bc){return function(Mb,xc,Xc){return Mb?(Mb=sa(Mb,(Xc||this).context))&&Mb.path[tb](xc):bc(xc)}}function Ca(tb){var bc=this.context.group,Mb=!1;if(bc)for(;tb;){if(tb===bc){Mb=!0;break}tb=tb.mark.group}return Mb}function Za(tb,bc,Mb){try{tb[bc].apply(tb,["EXPRESSION"].concat([].slice.call(Mb)))}catch(xc){tb.warn(xc)}return Mb[Mb.length-1]}function jb(){return Za(this.context.dataflow,
"warn",arguments)}function y(){return Za(this.context.dataflow,"info",arguments)}function x(){return Za(this.context.dataflow,"debug",arguments)}function G(tb){tb/=255;return.03928>=tb?tb/12.92:Math.pow((tb+.055)/1.055,2.4)}function J(tb){var bc=Kb.rgb(tb);tb=G(bc.r);var Mb=G(bc.g);bc=G(bc.b);return.2126*tb+.7152*Mb+.0722*bc}function z(tb,bc){tb=J(tb);bc=J(bc);return(Math.max(tb,bc)+.05)/(Math.min(tb,bc)+.05)}function F(){var tb=[].slice.call(arguments);tb.unshift({});return q.extend.apply(q,$jscomp.arrayFromIterable(tb))}
function M(tb,bc){if(tb===bc||tb!==tb&&bc!==bc)tb=!0;else if(q.isArray(tb))if(q.isArray(bc)&&tb.length===bc.length)a:{for(var Mb=0,xc=tb.length;Mb<xc;++Mb)if(!M(tb[Mb],bc[Mb])){tb=!1;break a}tb=!0}else tb=!1;else tb=q.isObject(tb)&&q.isObject(bc)?ka(tb,bc):!1;return tb}function ka(tb,bc){for(var Mb in tb)if(!M(tb[Mb],bc[Mb]))return!1;return!0}function Ia(tb){return function(bc){return ka(tb,bc)}}function Ta(tb,bc,Mb,xc,Xc,ud){var xd=this.context.dataflow,ae=this.context.data[tb],Cb=ae.input;tb=xd.stamp();
var Rb=ae.changes,Rc;if(!1===xd._trigger||!(Cb.value.length||bc||xc))return 0;if(!Rb||Rb.stamp<tb)ae.changes=Rb=xd.changeset(),Rb.stamp=tb,xd.runAfter(function(){ae.modified=!0;xd.pulse(Cb,Rb).run()},!0,1);Mb&&(Mb=!0===Mb?q.truthy:q.isArray(Mb)||Ma.isTuple(Mb)?Mb:Ia(Mb),Rb.remove(Mb));bc&&Rb.insert(bc);xc&&(Mb=Ia(xc),Cb.value.some(Mb)?Rb.remove(Mb):Rb.insert(xc));if(Xc)for(Rc in ud)Rb.modify(Xc,Rc,ud[Rc]);return 1}function D(tb){var bc=tb.touches;tb=bc[0].clientX-bc[1].clientX;bc=bc[0].clientY-bc[1].clientY;
return Math.sqrt(tb*tb+bc*bc)}function fa(tb){tb=tb.touches;return Math.atan2(tb[0].clientY-tb[1].clientY,tb[0].clientX-tb[1].clientX)}function Y(tb,bc,Mb){return db.bandSpace(tb||0,bc||0,Mb||0)}function W(tb,bc){return(tb=sa(tb,(bc||this).context))&&tb.bandwidth?tb.bandwidth():0}function H(tb,bc){return(tb=sa(tb,(bc||this).context))?tb.copy():void 0}function T(tb,bc){return(tb=sa(tb,(bc||this).context))?tb.domain():[]}function l(tb,bc,Mb){return(tb=sa(tb,(Mb||this).context))?q.isArray(bc)?(tb.invertRange||
tb.invert)(bc):(tb.invert||tb.invertExtent)(bc):void 0}function k(tb,bc){return(tb=sa(tb,(bc||this).context))&&tb.range?tb.range():[]}function p(tb,bc,Mb){return(tb=sa(tb,(Mb||this).context))?tb(bc):void 0}function t(tb,bc,Mb,xc,Xc){tb=sa(tb,(Xc||this).context);var ud=Eb.Gradient(bc,Mb);bc=tb.domain();Mb=bc[0];Xc=q.peek(bc);var xd=q.identity;Xc-Mb?xd=db.scaleFraction(tb,Mb,Xc):tb=(tb.interpolator?db.scale("sequential")().interpolator(tb.interpolator()):db.scale("linear")().interpolate(tb.interpolate()).range(tb.range())).domain([Mb=
0,Xc=1]);tb.ticks&&(bc=tb.ticks(+xc||15),Mb!==bc[0]&&bc.unshift(Mb),Xc!==q.peek(bc)&&bc.push(Xc));bc.forEach(function(ae){return ud.stop(xd(ae),tb(ae))});return ud}function w(tb,bc,Mb){var xc=sa(tb,(Mb||this).context);return function(Xc){return xc?xc.path.context(Xc)(bc):""}}function O(tb){var bc=null;return function(Mb){return Mb?Eb.pathRender(Mb,bc=bc||Eb.pathParse(tb)):tb}}function la(tb,bc){tb=Ja.call(bc,tb);return tb.root&&tb.root.lookup||{}}function ma(tb,bc,Mb){tb=la(tb,this);bc=tb[bc];Mb=
tb[Mb];return bc&&Mb?bc.path(Mb).map(rb):void 0}function ua(tb,bc){return(tb=la(tb,this)[bc])?tb.ancestors().map(rb):void 0}function eb(){var tb="undefined"!==typeof window&&window||null;return tb?tb.screen:{}}function cb(){var tb="undefined"!==typeof window&&window||null;return tb?[tb.innerWidth,tb.innerHeight]:[void 0,void 0]}function Ba(){var tb=this.context.dataflow;return(tb=tb.container&&tb.container())?[tb.clientWidth,tb.clientHeight]:[void 0,void 0]}function Ka(tb){var bc=null;if(tb){var Mb=
q.array(tb.marktype),xc=q.array(tb.markname);bc=function(Xc){return(!Mb.length||Mb.some(function(ud){return Xc.marktype===ud}))&&(!xc.length||xc.some(function(ud){return Xc.name===ud}))}}return bc}function Z(tb,bc,Mb){if(1===arguments.length)return Sb[tb];Sb[tb]=bc;Mb&&(rc[tb]=Mb);pc&&(pc.functions[tb]="this."+tb);return this}var ra=function(tb){return function(bc,Mb){return this.context.dataflow.locale()[tb](Mb)(bc)}},hb=ra("format"),mb=ra("timeFormat"),Hb=ra("utcFormat"),Xb=ra("timeParse");ra=ra("utcParse");
var ya=new Date(2E3,0,1),wb=Fa("area",Pa.geoArea),Tb=Fa("bounds",Pa.geoBounds);Pa=Fa("centroid",Pa.geoCentroid);var rb=function(tb){return tb.data},Sb={random:function(){return Ea.random()},cumulativeNormal:Ea.cumulativeNormal,cumulativeLogNormal:Ea.cumulativeLogNormal,cumulativeUniform:Ea.cumulativeUniform,densityNormal:Ea.densityNormal,densityLogNormal:Ea.densityLogNormal,densityUniform:Ea.densityUniform,quantileNormal:Ea.quantileNormal,quantileLogNormal:Ea.quantileLogNormal,quantileUniform:Ea.quantileUniform,
sampleNormal:Ea.sampleNormal,sampleLogNormal:Ea.sampleLogNormal,sampleUniform:Ea.sampleUniform,isArray:q.isArray,isBoolean:q.isBoolean,isDate:q.isDate,isDefined:function(tb){return void 0!==tb},isNumber:q.isNumber,isObject:q.isObject,isRegExp:q.isRegExp,isString:q.isString,isTuple:Ma.isTuple,isValid:function(tb){return null!=tb&&tb===tb},toBoolean:q.toBoolean,toDate:q.toDate,toNumber:q.toNumber,toString:q.toString,flush:q.flush,lerp:q.lerp,merge:F,pad:q.pad,peek:q.peek,span:q.span,inrange:q.inrange,
truncate:q.truncate,rgb:Kb.rgb,lab:Kb.lab,hcl:Kb.hcl,hsl:Kb.hsl,luminance:J,contrast:z,sequence:fb.range,format:hb,utcFormat:Hb,utcParse:ra,utcOffset:ab.utcOffset,utcSequence:ab.utcSequence,timeFormat:mb,timeParse:Xb,timeOffset:ab.timeOffset,timeSequence:ab.timeSequence,timeUnitSpecifier:ab.timeUnitSpecifier,monthFormat:ja,monthAbbrevFormat:ba,dayFormat:Ra,dayAbbrevFormat:xa,quarter:q.quarter,utcquarter:q.utcquarter,week:ab.week,utcweek:ab.utcweek,dayofyear:ab.dayofyear,utcdayofyear:ab.utcdayofyear,
warn:jb,info:y,debug:x,extent:q.extent,inScope:Ca,intersect:function(tb,bc,Mb){if(!tb)return[];var xc=$jscomp.makeIterator(tb);tb=xc.next().value;xc=xc.next().value;tb=(new Eb.Bounds).set(tb[0],tb[1],xc[0],xc[1]);Mb=Mb||this.context.dataflow.scenegraph().root;return Eb.intersect(Mb,tb,Ka(bc))},clampRange:q.clampRange,pinchDistance:D,pinchAngle:fa,screen:eb,containerSize:Ba,windowSize:cb,bandspace:Y,setdata:pa,pathShape:O,panLinear:q.panLinear,panLog:q.panLog,panPow:q.panPow,panSymlog:q.panSymlog,
zoomLinear:q.zoomLinear,zoomLog:q.zoomLog,zoomPow:q.zoomPow,zoomSymlog:q.zoomSymlog,encode:Ha,modify:Ta},ic="view item group xy x y".split(" "),rc={},Tc={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(tb){return"_["+q.stringValue("$"+tb)+"]"},functions:function(tb){var bc=S.functions(tb);ic.forEach(function(xc){return bc[xc]="event.vega."+xc});for(var Mb in Sb)bc[Mb]="this."+Mb;q.extend(bc,qa(tb,Sb,rc));return bc},constants:S.constants,visitors:rc},pc=S.codegen(Tc);
Z("bandwidth",W,ia);Z("copy",H,ia);Z("domain",T,ia);Z("range",k,ia);Z("invert",l,ia);Z("scale",p,ia);Z("gradient",t,ia);Z("geoArea",wb,ia);Z("geoBounds",Tb,ia);Z("geoCentroid",Pa,ia);Z("geoShape",w,ia);Z("indata",ea,za);Z("data",Ja,Oa);Z("treePath",ma,Oa);Z("treeAncestors",ua,Oa);Z("vlSelectionTest",qb.selectionTest,qb.selectionVisitor);Z("vlSelectionResolve",qb.selectionResolve,qb.selectionVisitor);n.DataPrefix=":";n.IndexPrefix="@";n.ScalePrefix="%";n.SignalPrefix="$";n.bandspace=Y;n.bandwidth=
W;n.codeGenerator=pc;n.codegenParams=Tc;n.containerSize=Ba;n.contrast=z;n.copy=H;n.data=Ja;n.dataVisitor=Oa;n.dayAbbrevFormat=xa;n.dayFormat=Ra;n.debug=x;n.domain=T;n.encode=Ha;n.expressionFunction=Z;n.format=hb;n.functionContext=Sb;n.geoArea=wb;n.geoBounds=Tb;n.geoCentroid=Pa;n.geoShape=w;n.inScope=Ca;n.indata=ea;n.indataVisitor=za;n.info=y;n.invert=l;n.luminance=J;n.merge=F;n.modify=Ta;n.monthAbbrevFormat=ba;n.monthFormat=ja;n.parseExpression=function(tb,bc){var Mb={};try{tb=q.isString(tb)?tb:q.stringValue(tb)+
"";var xc=S.parse(tb)}catch(Xc){q.error("Expression parse error: "+tb)}xc.visit(function(Xc){if(Xc.type===S.CallExpression){var ud=Xc.callee.name,xd=Tc.visitors[ud];xd&&xd(ud,Xc.arguments,bc,Mb)}});tb=pc(xc);tb.globals.forEach(function(Xc){var ud="$"+Xc;!q.hasOwnProperty(Mb,ud)&&bc.getSignal(Xc)&&(Mb[ud]=bc.signalRef(Xc))});return{$expr:q.extend({code:tb.code},bc.options.ast?{ast:xc}:null),$fields:tb.fields,$params:Mb}};n.pathShape=O;n.pinchAngle=fa;n.pinchDistance=D;n.range=k;n.scale=p;n.scaleGradient=
t;n.scaleVisitor=ia;n.screen=eb;n.setdata=pa;n.timeFormat=mb;n.timeParse=Xb;n.treeAncestors=ua;n.treePath=ma;n.utcFormat=Hb;n.utcParse=ra;n.warn=jb;n.windowSize=cb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[45]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(12)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega))})(this,function(n,q,S){function Pa(Ja,ea,pa){";"!==pa[pa.length-1]&&(pa="return("+pa+");");ea=Function.apply(null,$jscomp.arrayFromIterable(ea.concat(pa)));return Ja&&Ja.functions?ea.bind(Ja.functions):ea}function Kb(Ja,
ea,pa){if(!Ja||!q.isObject(Ja))return Ja;for(var Ha=0,Wa=ab.length,ja;Ha<Wa;++Ha)if(ja=ab[Ha],q.hasOwnProperty(Ja,ja.key))return ja.parse(Ja,ea,pa);return Ja}function Ma(Ja,ea,pa,Ha){this.dataflow=Ja;this.transforms=ea;this.events=Ja.events.bind(Ja);this.expr=Ha||Ea;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};pa&&(this.functions=Object.create(pa),this.functions.context=this)}function db(Ja){this.dataflow=Ja.dataflow;this.transforms=Ja.transforms;this.events=Ja.events;this.expr=
Ja.expr;this.signals=Object.create(Ja.signals);this.scales=Object.create(Ja.scales);this.nodes=Object.create(Ja.nodes);this.data=Object.create(Ja.data);this.fn=Object.create(Ja.fn);Ja.functions&&(this.functions=Object.create(Ja.functions),this.functions.context=this)}var Eb=q.toSet(["rule"]),qb=q.toSet(["group","image","rect"]),Ea={operator:function(Ja,ea){return Pa(Ja,["_"],ea.code)},parameter:function(Ja,ea){return Pa(Ja,["datum","_"],ea.code)},event:function(Ja,ea){return Pa(Ja,["event"],ea.code)},
handler:function(Ja,ea){return Pa(Ja,["_","event"],"var datum\x3devent.item\x26\x26event.item.datum;return "+ea.code+";")},encode:function(Ja,ea){var pa=ea.marktype;ea=ea.channels;var Ha="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(ja in ea){var Wa="o["+q.stringValue(ja)+"]";Ha+="$\x3d"+ea[ja].code+";if("+Wa+"!\x3d\x3d$)"+Wa+"\x3d$,m\x3d1;"}var ja="";Eb[pa]||(ea.x2&&(ea.x?(qb[pa]&&(ja+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),ja+="o.width\x3do.x2-o.x;"):ja+="o.x\x3do.x2-(o.width||0);"),
ea.xc&&(ja+="o.x\x3do.xc-(o.width||0)/2;"),ea.y2&&(ea.y?(qb[pa]&&(ja+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),ja+="o.height\x3do.y2-o.y;"):ja+="o.y\x3do.y2-(o.height||0);"),ea.yc&&(ja+="o.y\x3do.yc-(o.height||0)/2;"));Ha+=ja;return Pa(Ja,["item","_"],Ha+"return m;")},codegen:{get:function(Ja){Ja="["+Ja.map(q.stringValue).join("][")+"]";var ea=Function("_","return _"+Ja+";");ea.path=Ja;return ea},comparator:function(Ja,ea){var pa;Ja=Function("a","b","var u, v; return "+Ja.map(function(Ha,
Wa){var ja=ea[Wa];if(Ha.path){var ba="a"+Ha.path;Ha="b"+Ha.path}else(pa=pa||{})["f"+Wa]=Ha,ba="this.f"+Wa+"(a)",Ha="this.f"+Wa+"(b)";Wa=-ja;return"((u \x3d "+ba+") \x3c (v \x3d "+Ha+") || u \x3d\x3d null) \x26\x26 v !\x3d null ? "+Wa+"\n  : (u \x3e v || v \x3d\x3d null) \x26\x26 u !\x3d null ? "+ja+"\n  : ((v \x3d v instanceof Date ? +v : v), (u \x3d u instanceof Date ? +u : u)) !\x3d\x3d u \x26\x26 v \x3d\x3d\x3d v ? "+Wa+"\n  : v !\x3d\x3d v \x26\x26 u \x3d\x3d\x3d u ? "+ja+" : "}).join("")+"0;");
return pa?Ja.bind(pa):Ja}}},ab=[{key:"$ref",parse:function(Ja,ea){return ea.get(Ja.$ref)||q.error("Operator not defined: "+Ja.$ref)}},{key:"$key",parse:function(Ja,ea){var pa="k:"+Ja.$key+"_"+!!Ja.$flat;return ea.fn[pa]||(ea.fn[pa]=q.key(Ja.$key,Ja.$flat,ea.expr.codegen))}},{key:"$expr",parse:function(Ja,ea,pa){Ja.$params&&ea.parseParameters(Ja.$params,pa);pa="e:"+Ja.$expr.code+"_"+Ja.$name;return ea.fn[pa]||(ea.fn[pa]=q.accessor(ea.parameterExpression(Ja.$expr),Ja.$fields,Ja.$name))}},{key:"$field",
parse:function(Ja,ea){if(!Ja.$field)return null;var pa="f:"+Ja.$field+"_"+Ja.$name;return ea.fn[pa]||(ea.fn[pa]=q.field(Ja.$field,Ja.$name,ea.expr.codegen))}},{key:"$encode",parse:function(Ja,ea){Ja=Ja.$encode;var pa={},Ha;for(Ha in Ja){var Wa=Ja[Ha];pa[Ha]=q.accessor(ea.encodeExpression(Wa.$expr),Wa.$fields);pa[Ha].output=Wa.$output}return pa}},{key:"$compare",parse:function(Ja,ea){var pa="c:"+Ja.$compare+"_"+Ja.$order,Ha=q.array(Ja.$compare).map(function(Wa){return Wa&&Wa.$tupleid?S.tupleid:Wa});
return ea.fn[pa]||(ea.fn[pa]=q.compare(Ha,Ja.$order,ea.expr.codegen))}},{key:"$context",parse:function(Ja,ea){return ea}},{key:"$subflow",parse:function(Ja,ea){var pa=Ja.$subflow;return function(Ha,Wa,ja){var ba=ea.fork().parse(pa);Ha=ba.get(pa.operators[0].id);(Wa=ba.signals.parent)&&Wa.set(ja);Ha.detachSubflow=function(){return ea.detach(ba)};return Ha}}},{key:"$tupleid",parse:function(){return S.tupleid}}],fb={skip:!0};Ma.prototype=db.prototype={fork:function(){var Ja=new db(this);(this.subcontext||
(this.subcontext=[])).push(Ja);return Ja},detach:function(Ja){this.subcontext=this.subcontext.filter(function(Wa){return Wa!==Ja});for(var ea=Object.keys(Ja.nodes),pa=$jscomp.makeIterator(ea),Ha=pa.next();!Ha.done;Ha=pa.next())Ja.nodes[Ha.value]._targets=null;ea=$jscomp.makeIterator(ea);for(Ha=ea.next();!Ha.done;Ha=ea.next())Ja.nodes[Ha.value].detach();Ja.nodes=null},get:function(Ja){return this.nodes[Ja]},set:function(Ja,ea){return this.nodes[Ja]=ea},add:function(Ja,ea){var pa=this,Ha=pa.dataflow,
Wa=Ja.value;pa.set(Ja.id,ea);"collect"===(Ja.type+"").toLowerCase()&&Wa&&(Wa.$ingest?Ha.ingest(ea,Wa.$ingest,Wa.$format):Wa.$request?Ha.preload(ea,Wa.$request,Wa.$format):Ha.pulse(ea,Ha.changeset().insert(Wa)));Ja.root&&(pa.root=ea);if(Ja.parent){var ja=pa.get(Ja.parent.$ref);ja?(Ha.connect(ja,[ea]),ea.targets().add(ja)):(pa.unresolved=pa.unresolved||[]).push(function(){ja=pa.get(Ja.parent.$ref);Ha.connect(ja,[ea]);ea.targets().add(ja)})}Ja.signal&&(pa.signals[Ja.signal]=ea);Ja.scale&&(pa.scales[Ja.scale]=
ea);if(Ja.data){Wa={};for(var ba in Ja.data)Wa.$jscomp$loop$prop$data$496$684=pa.data[ba]||(pa.data[ba]={}),Ja.data[ba].forEach(function(Ra){return function(xa){return Ra.$jscomp$loop$prop$data$496$684[xa]=ea}}(Wa)),Wa={$jscomp$loop$prop$data$496$684:Wa.$jscomp$loop$prop$data$496$684}}},resolve:function(){(this.unresolved||[]).forEach(function(Ja){return Ja()});delete this.unresolved;return this},operator:function(Ja,ea){this.add(Ja,this.dataflow.add(Ja.value,ea))},transform:function(Ja,ea){this.add(Ja,
this.dataflow.add(this.transforms[(ea+"").toLowerCase()]))},stream:function(Ja,ea){this.set(Ja.id,ea)},update:function(Ja,ea,pa,Ha,Wa){this.dataflow.on(ea,pa,Ha,Wa,Ja.options)},operatorExpression:function(Ja){return this.expr.operator(this,Ja)},parameterExpression:function(Ja){return this.expr.parameter(this,Ja)},eventExpression:function(Ja){return this.expr.event(this,Ja)},handlerExpression:function(Ja){return this.expr.handler(this,Ja)},encodeExpression:function(Ja){return this.expr.encode(this,
Ja)},parse:function(Ja){var ea=this,pa=Ja.operators||[];Ja.background&&(ea.background=Ja.background);Ja.eventConfig&&(ea.eventConfig=Ja.eventConfig);Ja.locale&&(ea.locale=Ja.locale);pa.forEach(function(Ha){return ea.parseOperator(Ha)});pa.forEach(function(Ha){return ea.parseOperatorParameters(Ha)});(Ja.streams||[]).forEach(function(Ha){return ea.parseStream(Ha)});(Ja.updates||[]).forEach(function(Ha){return ea.parseUpdate(Ha)});return ea.resolve()},parseOperator:function(Ja){"operator"!==(Ja.type+
"").toLowerCase()&&Ja.type?this.transform(Ja,Ja.type):this.operator(Ja,Ja.update?this.operatorExpression(Ja.update):null)},parseOperatorParameters:function(Ja){if(Ja.params){var ea=this.get(Ja.id);ea||q.error("Invalid operator id: "+Ja.id);this.dataflow.connect(ea,ea.parameters(this.parseParameters(Ja.params),Ja.react,Ja.initonly))}},parseParameters:function(Ja,ea){ea=ea||{};var pa=this,Ha;for(Ha in Ja){var Wa=Ja[Ha];ea[Ha]=q.isArray(Wa)?Wa.map(function(ja){return Kb(ja,pa,ea)}):Kb(Wa,pa,ea)}return ea},
parseStream:function(Ja){var ea=this,pa=null!=Ja.filter?ea.eventExpression(Ja.filter):void 0,Ha=null!=Ja.stream?ea.get(Ja.stream):void 0;if(Ja.source)Ha=ea.events(Ja.source,Ja.type,pa);else if(Ja.merge){var Wa=Ja.merge.map(function(ja){return ea.get(ja)});Ha=Wa[0].merge.apply(Wa[0],Wa.slice(1))}Ja.between&&(Wa=Ja.between.map(function(ja){return ea.get(ja)}),Ha=Ha.between(Wa[0],Wa[1]));Ja.filter&&(Ha=Ha.filter(pa));null!=Ja.throttle&&(Ha=Ha.throttle(+Ja.throttle));null!=Ja.debounce&&(Ha=Ha.debounce(+Ja.debounce));
null==Ha&&q.error("Invalid stream definition: "+JSON.stringify(Ja));Ja.consume&&Ha.consume(!0);ea.stream(Ja,Ha)},parseUpdate:function(Ja){var ea=q.isObject(ea=Ja.source)?ea.$ref:ea;ea=this.get(ea);var pa=Ja.update,Ha=void 0;ea||q.error("Source not defined: "+Ja.source);var Wa=Ja.target&&Ja.target.$expr?this.eventExpression(Ja.target.$expr):this.get(Ja.target);pa&&pa.$expr&&(pa.$params&&(Ha=this.parseParameters(pa.$params)),pa=this.handlerExpression(pa.$expr));this.update(Ja,ea,Wa,pa,Ha)},getState:function(Ja){var ea=
this,pa={};if(Ja.signals){var Ha=pa.signals={};Object.keys(ea.signals).forEach(function(ja){var ba=ea.signals[ja];Ja.signals(ja,ba)&&(Ha[ja]=ba.value)})}if(Ja.data){var Wa=pa.data={};Object.keys(ea.data).forEach(function(ja){var ba=ea.data[ja];Ja.data(ja,ba)&&(Wa[ja]=ba.input.value)})}ea.subcontext&&!1!==Ja.recurse&&(pa.subcontext=ea.subcontext.map(function(ja){return ja.getState(Ja)}));return pa},setState:function(Ja){var ea=this,pa=ea.dataflow,Ha=Ja.data,Wa=Ja.signals;Object.keys(Wa||{}).forEach(function(ja){pa.update(ea.signals[ja],
Wa[ja],fb)});Object.keys(Ha||{}).forEach(function(ja){pa.pulse(ea.data[ja].input,pa.changeset().remove(q.truthy).insert(Ha[ja]))});(Ja.subcontext||[]).forEach(function(ja,ba){(ba=ea.subcontext[ba])&&ba.setState(ja)})}};n.context=function(Ja,ea,pa,Ha){return new Ma(Ja,ea,pa,Ha)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[46]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(12),sb(22),sb(1),sb(44),sb(45),sb(31),sb(6)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.vega))})(this,function(n,q,S,Pa,Kb,Ma,db,Eb,qb){function Ea(Z){var ra=
Z.container();ra&&(ra.setAttribute("role","graphics-document"),ra.setAttribute("aria-roleDescription","visualization"),ab(ra,Z.description()))}function ab(Z,ra){Z&&(null==ra?Z.removeAttribute("aria-label"):Z.setAttribute("aria-label",ra))}function fb(Z){Z.add(null,function(ra){Z._background=ra.bg;Z._resize=1;return ra.bg},{bg:Z._signals.background})}function Ja(Z){var ra=Z._signals.cursor||(Z._signals.cursor=Z.add({user:"default",item:null}));Z.on(Z.events("view","mousemove"),ra,function(hb,mb){var Hb=
(hb=ra.value)?q.isString(hb)?hb:hb.user:"default";mb=mb.item&&mb.item.cursor||null;return hb&&Hb===hb.user&&mb==hb.item?hb:{user:Hb,item:mb}});Z.add(null,function(hb){hb=hb.cursor;var mb=this.value;q.isString(hb)||(mb=hb.item,hb=hb.user);ea(Z,hb&&"default"!==hb?hb:mb||hb);return mb},{cursor:ra})}function ea(Z,ra){if(Z=Z.globalCursor()?"undefined"!==typeof document&&document.body:Z.container())return null==ra?Z.style.removeProperty("cursor"):Z.style.cursor=ra}function pa(Z,ra){Z=Z._runtime.data;q.hasOwnProperty(Z,
ra)||q.error("Unrecognized data set: "+ra);return Z[ra]}function Ha(Z,ra){S.isChangeSet(ra)||q.error("Second argument to changes must be a changeset.");Z=pa(this,Z);Z.modified=!0;return this.pulse(Z.input,ra)}function Wa(Z){var ra=Z.padding();return Math.max(0,Z._viewWidth+ra.left+ra.right)}function ja(Z){var ra=Z.padding();return Math.max(0,Z._viewHeight+ra.top+ra.bottom)}function ba(Z){var ra=Z.padding();Z=Z._origin;return[ra.left+Z[0],ra.top+Z[1]]}function Ra(Z){var ra=ba(Z),hb=Wa(Z),mb=ja(Z);
Z._renderer.background(Z.background());Z._renderer.resize(hb,mb,ra);Z._handler.origin(ra);Z._resizeListeners.forEach(function(Hb){try{Hb(hb,mb)}catch(Xb){Z.error(Xb)}})}function xa(Z,ra,hb){var mb=Z._renderer;mb=mb&&mb.canvas();if(mb){var Hb=ba(Z);var Xb=ra.changedTouches?ra.changedTouches[0]:ra;Xb=Pa.point(Xb,mb);Xb[0]-=Hb[0];Xb[1]-=Hb[1]}ra.dataflow=Z;ra.item=hb;ra.vega=Oa(Z,hb,Xb);return ra}function Oa(Z,ra,hb){function mb(ya){var wb=Xb,Tb;if(ya)for(Tb=ra;Tb;Tb=Tb.mark.group)if(Tb.mark.name===
ya){wb=Tb;break}return wb&&wb.mark&&wb.mark.interactive?wb:{}}function Hb(ya){if(!ya)return hb;q.isString(ya)&&(ya=mb(ya));for(var wb=hb.slice();ya;)wb[0]-=ya.x||0,wb[1]-=ya.y||0,ya=ya.mark&&ya.mark.group;return wb}var Xb=ra?"group"===ra.mark.marktype?ra:ra.mark.group:null;return{view:q.constant(Z),item:q.constant(ra||{}),group:mb,xy:Hb,x:function(ya){return Hb(ya)[0]},y:function(ya){return Hb(ya)[1]}}}function za(Z){Z=q.extend({defaults:{}},Z);var ra=function(hb,mb){mb.forEach(function(Hb){q.isArray(hb[Hb])&&
(hb[Hb]=q.toSet(hb[Hb]))})};ra(Z.defaults,["prevent","allow"]);ra(Z,["view","window","selector"]);return Z}function ia(Z,ra,hb){var mb=Z._eventConfig&&Z._eventConfig[ra];return!1===mb||q.isObject(mb)&&!mb[hb]?(Z.warn("Blocked "+ra+" "+hb+" event listener."),!1):!0}function wa(Z){return Z.item}function sa(Z){return Z.item.mark.source}function qa(Z){return function(ra,hb){return hb.vega.view().changeset().encode(hb.item,Z)}}function Fa(Z,ra,hb){Z=document.createElement(Z);for(var mb in ra)Z.setAttribute(mb,
ra[mb]);null!=hb&&(Z.textContent=hb);return Z}function Ca(Z,ra,hb){if(ra){var mb=hb.param,Hb=hb.state;Hb||(Hb=hb.state={elements:null,active:!1,set:null,update:function(Xb){Xb!==Z.signal(mb.signal)&&Z.runAsync(null,function(){Hb.source=!0;Z.signal(mb.signal,Xb)})}},mb.debounce&&(Hb.update=q.debounce(mb.debounce,Hb.update)));Za(Hb,ra,mb,Z.signal(mb.signal));Hb.active||(Z.on(Z._signals[mb.signal],null,function(){Hb.source?Hb.source=!1:Hb.set(Z.signal(mb.signal))}),Hb.active=!0);return Hb}}function Za(Z,
ra,hb,mb){var Hb=Fa("div",{"class":"vega-bind"}),Xb="radio"===hb.input?Hb:Hb.appendChild(Fa("label"));Xb.appendChild(Fa("span",{"class":"vega-bind-name"},hb.name||hb.signal));ra.appendChild(Hb);ra=jb;switch(hb.input){case "checkbox":ra=y;break;case "select":ra=x;break;case "radio":ra=G;break;case "range":ra=J}ra(Z,Xb,hb,mb)}function jb(Z,ra,hb,mb){var Hb=Fa("input"),Xb;for(Xb in hb)"signal"!==Xb&&"element"!==Xb&&Hb.setAttribute("input"===Xb?"type":Xb,hb[Xb]);Hb.setAttribute("name",hb.signal);Hb.value=
mb;ra.appendChild(Hb);Hb.addEventListener("input",function(){return Z.update(Hb.value)});Z.elements=[Hb];Z.set=function(ya){return Hb.value=ya}}function y(Z,ra,hb,mb){hb={type:"checkbox",name:hb.signal};mb&&(hb.checked=!0);var Hb=Fa("input",hb);ra.appendChild(Hb);Hb.addEventListener("change",function(){return Z.update(Hb.checked)});Z.elements=[Hb];Z.set=function(Xb){return Hb.checked=!!Xb||null}}function x(Z,ra,hb,mb){var Hb=Fa("select",{name:hb.signal}),Xb=hb.labels||[];hb.options.forEach(function(ya,
wb){var Tb={value:ya};z(ya,mb)&&(Tb.selected=!0);Hb.appendChild(Fa("option",Tb,(Xb[wb]||ya)+""))});ra.appendChild(Hb);Hb.addEventListener("change",function(){Z.update(hb.options[Hb.selectedIndex])});Z.elements=[Hb];Z.set=function(ya){for(var wb=0,Tb=hb.options.length;wb<Tb;++wb)if(z(hb.options[wb],ya)){Hb.selectedIndex=wb;break}}}function G(Z,ra,hb,mb){var Hb=Fa("span",{"class":"vega-bind-radio"}),Xb=hb.labels||[];ra.appendChild(Hb);Z.elements=hb.options.map(function(ya,wb){var Tb={type:"radio",name:hb.signal,
value:ya};z(ya,mb)&&(Tb.checked=!0);Tb=Fa("input",Tb);Tb.addEventListener("change",function(){return Z.update(ya)});wb=Fa("label",{},(Xb[wb]||ya)+"");wb.prepend(Tb);Hb.appendChild(wb);return Tb});Z.set=function(ya){for(var wb=Z.elements,Tb=wb.length,rb=0;rb<Tb;++rb)z(wb[rb].value,ya)&&(wb[rb].checked=!0)}}function J(Z,ra,hb,mb){mb=void 0!==mb?mb:(+hb.max+ +hb.min)/2;var Hb=null!=hb.max?hb.max:Math.max(100,+mb)||100,Xb=hb.min||Math.min(0,Hb,+mb)||0,ya=hb.step||Kb.tickStep(Xb,Hb,100),wb=Fa("input",
{type:"range",name:hb.signal,min:Xb,max:Hb,step:ya});wb.value=mb;var Tb=Fa("span",{},+mb);ra.appendChild(wb);ra.appendChild(Tb);ra=function(){Tb.textContent=wb.value;Z.update(+wb.value)};wb.addEventListener("input",ra);wb.addEventListener("change",ra);Z.elements=[wb];Z.set=function(rb){wb.value=rb;Tb.textContent=rb}}function z(Z,ra){return Z===ra||Z+""===ra+""}function F(Z,ra,hb,mb,Hb,Xb){ra=ra||new mb(Z.loader());return ra.initialize(hb,Wa(Z),ja(Z),ba(Z),Hb,Xb).background(Z.background())}function M(Z,
ra){return ra?function(){try{ra.apply(this,arguments)}catch(hb){Z.error(hb)}}:null}function ka(Z,ra,hb,mb){var Hb=(new mb(Z.loader(),M(Z,Z.tooltip()))).scene(Z.scenegraph().root).initialize(hb,ba(Z),Z);ra&&ra.handlers().forEach(function(Xb){Hb.on(Xb.type,Xb.handler)});return Hb}function Ia(Z,ra){if("string"===typeof ra)if("undefined"!==typeof document){if(ra=document.querySelector(ra),!ra)return Z.error("Signal bind element not found: "+ra),null}else return Z.error("DOM document instance not found."),
null;if(ra)try{ra.innerHTML=""}catch(hb){ra=null,Z.error(hb)}return ra}function Ta(Z){q.isObject(Z)?Z={top:+Z.top||0,bottom:+Z.bottom||0,left:+Z.left||0,right:+Z.right||0}:(Z=+Z||0,Z={top:Z,bottom:Z,left:Z,right:Z});return Z}function D(Z,ra,hb,mb){var Hb,Xb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ya){return 1==ya.nextAddress?((Xb=(Hb=Pa.renderModule(ra))&&Hb.headless)||q.error("Unrecognized renderer type: "+ra),ya.yield(Z.runAsync(),2)):ya.return(F(Z,null,null,Xb,hb,mb).renderAsync(Z._scenegraph.root))})}
function fa(Z,ra){Z=new Blob([Z],{type:ra});return window.URL.createObjectURL(Z)}function Y(Z,ra,hb){return db.context(Z,S.transforms,Ma.functionContext,hb).parse(ra)}function W(Z,ra){var hb=Z.autosize();Z=Z.padding();return ra-(hb&&"padding"===hb.contains?Z.left+Z.right:0)}function H(Z,ra){var hb=Z.autosize();Z=Z.padding();return ra-(hb&&"padding"===hb.contains?Z.top+Z.bottom:0)}function T(Z){function ra(){Z._autosize=Z._resize=1}var hb=Z._signals,mb=hb.width,Hb=hb.height;hb=hb.padding;Z._resizeWidth=
Z.add(null,function(ya){Z._width=ya.size;Z._viewWidth=W(Z,ya.size);ra()},{size:mb});Z._resizeHeight=Z.add(null,function(ya){Z._height=ya.size;Z._viewHeight=H(Z,ya.size);ra()},{size:Hb});var Xb=Z.add(null,ra,{pad:hb});Z._resizeWidth.rank=mb.rank+1;Z._resizeHeight.rank=Hb.rank+1;Xb.rank=hb.rank+1}function l(Z,ra){return ra.modified&&q.isArray(ra.input.value)&&Z.indexOf("_:vega:_")}function k(Z,ra){return!("parent"===Z||ra instanceof S.transforms.proxy)}function p(Z,ra,hb,mb){(Z=Z.element())&&Z.setAttribute("title",
t(mb))}function t(Z){return null==Z?"":q.isArray(Z)?"["+Z.map(O).join(", ")+"]":q.isObject(Z)&&!q.isDate(Z)?w(Z):Z+""}function w(Z){return Object.keys(Z).map(function(ra){var hb=Z[ra];return ra+": "+(q.isArray(hb)?"["+hb.map(O).join(", ")+"]":O(hb))}).join("\n")}function O(Z){return q.isArray(Z)?"[…]":q.isObject(Z)&&!q.isDate(Z)?"{…}":Z}function la(Z,ra){ra=ra||{};S.Dataflow.call(this);ra.loader&&this.loader(ra.loader);ra.logger&&this.logger(ra.logger);null!=ra.logLevel&&this.logLevel(ra.logLevel);
if(ra.locale||Z.locale){var hb=q.extend({},Z.locale,ra.locale);this.locale(qb.locale(hb.number,hb.time))}this._elBind=this._el=null;this._renderType=ra.renderer||Pa.RenderType.Canvas;this._scenegraph=new Pa.Scenegraph;hb=this._scenegraph.root;this._renderer=null;this._tooltip=ra.tooltip||p;this._redraw=!0;this._handler=(new Pa.CanvasHandler).scene(hb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=za(Z.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
var mb=Y(this,Z,ra.expr);this._runtime=mb;this._signals=mb.signals;this._bind=(Z.bindings||[]).map(function(Hb){return{state:null,param:q.extend({},Hb)}});mb.root&&mb.root.set(hb);hb.source=mb.data.root.input;this.pulse(mb.data.root.input,this.changeset().insert(hb.items));this._width=this.width();this._height=this.height();this._viewWidth=W(this,this._width);this._viewHeight=H(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;T(this);fb(this);Ja(this);this.description(Z.description);
ra.hover&&this.hover();ra.container&&this.initialize(ra.container,ra.bind)}function ma(Z,ra){return q.hasOwnProperty(Z._signals,ra)?Z._signals[ra]:q.error("Unrecognized signal name: "+q.stringValue(ra))}function ua(Z,ra){Z=(Z._targets||[]).filter(function(hb){return hb._update&&hb._update.handler===ra});return Z.length?Z[0]:null}function eb(Z,ra,hb,mb){var Hb=ua(hb,mb);Hb||(Hb=M(Z,function(){return mb(ra,hb.value)}),Hb.handler=mb,Z.on(hb,null,Hb));return Z}function cb(Z,ra,hb){(hb=ua(ra,hb))&&ra._targets.remove(hb);
return Z}var Ba={trap:!1},Ka={skip:!0};q.inherits(la,S.Dataflow,{evaluate:function(Z,ra,hb){var mb=this,Hb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xb){switch(Xb.nextAddress){case 1:return Xb.yield(S.Dataflow.prototype.evaluate.call(mb,Z,ra),2);case 2:if(!mb._redraw&&!mb._resize){Xb.jumpTo(3);break}Xb.setCatchFinallyBlocks(4);if(!mb._renderer){Xb.jumpTo(6);break}mb._resize&&(mb._resize=0,Ra(mb));return Xb.yield(mb._renderer.renderAsync(mb._scenegraph.root),6);case 6:mb._redraw=
!1;Xb.leaveTryBlock(3);break;case 4:Hb=Xb.enterCatchBlock(),mb.error(Hb);case 3:return hb&&S.asyncCallback(mb,hb),Xb.return(mb)}})},dirty:function(Z){this._redraw=!0;this._renderer&&this._renderer.dirty(Z)},description:function(Z){if(arguments.length){var ra=null!=Z?Z+"":null;ra!==this._desc&&ab(this._el,this._desc=ra);return this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(Z,
ra,hb){var mb=ma(this,Z);return 1===arguments.length?mb.value:this.update(mb,ra,hb)},width:function(Z){return arguments.length?this.signal("width",Z):this.signal("width")},height:function(Z){return arguments.length?this.signal("height",Z):this.signal("height")},padding:function(Z){return arguments.length?this.signal("padding",Ta(Z)):Ta(this.signal("padding"))},autosize:function(Z){return arguments.length?this.signal("autosize",Z):this.signal("autosize")},background:function(Z){return arguments.length?
this.signal("background",Z):this.signal("background")},renderer:function(Z){if(!arguments.length)return this._renderType;Pa.renderModule(Z)||q.error("Unrecognized renderer type: "+Z);Z!==this._renderType&&(this._renderType=Z,this._resetRenderer());return this},tooltip:function(Z){if(!arguments.length)return this._tooltip;Z!==this._tooltip&&(this._tooltip=Z,this._resetRenderer());return this},loader:function(Z){if(!arguments.length)return this._loader;Z!==this._loader&&(S.Dataflow.prototype.loader.call(this,
Z),this._resetRenderer());return this},resize:function(){this._autosize=1;return this.touch(ma(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Z,ra,hb,mb,Hb,Xb){this.runAfter(function(ya){var wb=0;ya._autosize=0;ya.width()!==hb&&(wb=1,ya.signal("width",hb,Ka),ya._resizeWidth.skip(!0));ya.height()!==mb&&(wb=1,ya.signal("height",mb,Ka),ya._resizeHeight.skip(!0));ya._viewWidth!==Z&&(ya._resize=1,ya._viewWidth=
Z);ya._viewHeight!==ra&&(ya._resize=1,ya._viewHeight=ra);if(ya._origin[0]!==Hb[0]||ya._origin[1]!==Hb[1])ya._resize=1,ya._origin=Hb;wb&&ya.run("enter");Xb&&ya.runAfter(function(Tb){return Tb.resize()})},!1,1)},addEventListener:function(Z,ra,hb){var mb=ra;hb&&!1===hb.trap||(mb=M(this,ra),mb.raw=ra);this._handler.on(Z,mb);return this},removeEventListener:function(Z,ra){for(var hb=this._handler.handlers(Z),mb=hb.length,Hb,Xb;0<=--mb;)if(Xb=hb[mb].type,Hb=hb[mb].handler,Z===Xb&&(ra===Hb||ra===Hb.raw)){this._handler.off(Xb,
Hb);break}return this},addResizeListener:function(Z){var ra=this._resizeListeners;0>ra.indexOf(Z)&&ra.push(Z);return this},removeResizeListener:function(Z){var ra=this._resizeListeners;Z=ra.indexOf(Z);0<=Z&&ra.splice(Z,1);return this},addSignalListener:function(Z,ra){return eb(this,Z,ma(this,Z),ra)},removeSignalListener:function(Z,ra){return cb(this,ma(this,Z),ra)},addDataListener:function(Z,ra){return eb(this,Z,pa(this,Z).values,ra)},removeDataListener:function(Z,ra){return cb(this,pa(this,Z).values,
ra)},globalCursor:function(Z){if(arguments.length){if(this._globalCursor!==!!Z){var ra=ea(this,null);this._globalCursor=!!Z;ra&&ea(this,ra)}return this}return this._globalCursor},preventDefault:function(Z){return arguments.length?(this._preventDefault=Z,this):this._preventDefault},timer:function(Z,ra){this._timers.push(Eb.interval(function(hb){Z({timestamp:Date.now(),elapsed:hb})},ra))},events:function(Z,ra,hb){var mb=this,Hb=new S.EventStream(hb);hb=function(Tb,rb){mb.runAsync(null,function(){var Sb;
if(Sb="view"===Z){var ic=mb._eventConfig.defaults;Sb=ic.prevent;ic=ic.allow;Sb=!1===Sb||!0===ic?!1:!0===Sb||!1===ic?!0:Sb?Sb[ra]:ic?!ic[ra]:mb.preventDefault()}Sb&&Tb.preventDefault();Hb.receive(xa(mb,Tb,rb))})};var Xb;if("timer"===Z)ia(mb,"timer",ra)&&mb.timer(hb,ra);else if("view"===Z)ia(mb,"view",ra)&&mb.addEventListener(ra,hb,Ba);else if("window"===Z?ia(mb,"window",ra)&&"undefined"!==typeof window&&(Xb=[window]):"undefined"!==typeof document&&ia(mb,"selector",ra)&&(Xb=document.querySelectorAll(Z)),
Xb){for(var ya=0,wb=Xb.length;ya<wb;++ya)Xb[ya].addEventListener(ra,hb);mb._eventListeners.push({type:ra,sources:Xb,handler:hb})}else mb.warn("Can not resolve event source: "+Z);return Hb},finalize:function(){var Z=this._tooltip,ra=this._timers,hb=this._eventListeners,mb;for(mb=ra.length;0<=--mb;)ra[mb].stop();for(mb=hb.length;0<=--mb;){var Hb=hb[mb];for(ra=Hb.sources.length;0<=--ra;)Hb.sources[ra].removeEventListener(Hb.type,Hb.handler)}Z&&Z.call(this,this._handler,null,null,null);return this},hover:function(Z,
ra){Z=[Z||"hover"];ra=[ra||"update",Z[0]];this.on(this.events("view","mouseover",wa),sa,qa(Z));this.on(this.events("view","mouseout",wa),sa,qa(ra));return this},data:function(Z,ra){return 2>arguments.length?pa(this,Z).values.value:Ha.call(this,Z,S.changeset().remove(q.truthy).insert(ra))},change:Ha,insert:function(Z,ra){return Ha.call(this,Z,S.changeset().insert(ra))},remove:function(Z,ra){return Ha.call(this,Z,S.changeset().remove(ra))},scale:function(Z){var ra=this._runtime.scales;q.hasOwnProperty(ra,
Z)||q.error("Unrecognized scale or projection: "+Z);return ra[Z].value},initialize:function(Z,ra){var hb=this,mb=hb._renderType,Hb=hb._eventConfig.bind,Xb=Pa.renderModule(mb);Z=hb._el=Z?Ia(hb,Z):null;Ea(hb);Xb||hb.error("Unrecognized renderer type: "+mb);mb=Xb.handler||Pa.CanvasHandler;Xb=Z?Xb.renderer:Xb.headless;hb._renderer=Xb?F(hb,hb._renderer,Z,Xb):null;hb._handler=ka(hb,hb._handler,Z,mb);hb._redraw=!0;Z&&"none"!==Hb&&(ra=ra?hb._elBind=Ia(hb,ra):Z.appendChild(Fa("form",{"class":"vega-bindings"})),
hb._bind.forEach(function(ya){ya.param.element&&"container"!==Hb&&(ya.element=Ia(hb,ya.param.element))}),hb._bind.forEach(function(ya){Ca(hb,ya.element||ra,ya)}));return hb},toImageURL:function(Z,ra){var hb=this,mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Hb){if(1==Hb.nextAddress)return Z!==Pa.RenderType.Canvas&&Z!==Pa.RenderType.SVG&&Z!==Pa.RenderType.PNG&&q.error("Unrecognized image type: "+Z),Hb.yield(D(hb,Z,ra),2);mb=Hb.yieldResult;return Hb.return(Z===Pa.RenderType.SVG?fa(mb.svg(),
"image/svg+xml"):mb.canvas().toDataURL("image/png"))})},toCanvas:function(Z,ra){var hb=this,mb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Hb){if(1==Hb.nextAddress)return Hb.yield(D(hb,Pa.RenderType.Canvas,Z,ra),2);mb=Hb.yieldResult;return Hb.return(mb.canvas())})},toSVG:function(Z){var ra=this,hb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(mb){if(1==mb.nextAddress)return mb.yield(D(ra,Pa.RenderType.SVG,Z),2);hb=mb.yieldResult;return mb.return(hb.svg())})},getState:function(Z){return this._runtime.getState(Z||
{data:l,signals:k,recurse:!0})},setState:function(Z){this.runAsync(null,function(ra){ra._trigger=!1;ra._runtime.setState(Z)},function(ra){ra._trigger=!0});return this}});n.View=la;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[47]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb):"function"===typeof define&&define.amd?define(["exports"],q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={}))})(this,function(n){function q(Ea,ab,fb,Ja,ea){for(var pa=Ea.length,Ha=0,Wa;ab<pa;++ab)if(Wa=Ea[ab],Ha||Wa!==fb)ea&&0<=ea.indexOf(Wa)?--Ha:Ja&&0<=Ja.indexOf(Wa)&&++Ha;else break;return ab}function S(Ea){for(var ab=[],fb=Ea.length,Ja=0,ea=0;ea<fb;)ea=q(Ea,ea,",","[{",
"]}"),ab.push(Ea.substring(Ja,ea).trim()),Ja=++ea;if(0===ab.length)throw"Empty event selector: "+Ea;return ab}function Pa(Ea){if("["===Ea[0]){var ab=Ea;var fb=ab.length;Ea=q(ab,1,"]","[","]");if(Ea===fb)throw"Empty between selector: "+ab;fb=S(ab.substring(1,Ea));if(2!==fb.length)throw"Between selector must have two elements: "+ab;ab=ab.slice(Ea+1).trim();if("\x3e"!==ab[0])throw"Expected '\x3e' after between selector: "+ab;fb=fb.map(Pa);ab=Pa(ab.slice(1).trim());ab.between?ab={between:fb,stream:ab}:
ab.between=fb}else{fb={source:Eb};var Ja=[],ea=[0,0],pa=0,Ha=0,Wa=Ea.length,ja=0;if("}"===Ea[Wa-1]){ja=Ea.lastIndexOf("{");if(0<=ja){try{ea=Kb(Ea.substring(ja+1,Wa-1))}catch(Ra){throw"Invalid throttle specification: "+Ea;}Ea=Ea.slice(0,ja).trim();Wa=Ea.length}else throw"Unmatched right brace: "+Ea;ja=0}if(!Wa)throw Ea;"@"===Ea[0]&&(pa=++ja);var ba=q(Ea,ja,":");ba<Wa&&(Ja.push(Ea.substring(Ha,ba).trim()),Ha=ja=++ba);ja=q(Ea,ja,"[");if(ja===Wa)Ja.push(Ea.substring(Ha,Wa).trim());else if(Ja.push(Ea.substring(Ha,
ja).trim()),ab=[],Ha=++ja,Ha===Wa)throw"Unmatched left bracket: "+Ea;for(;ja<Wa;){ja=q(Ea,ja,"]");if(ja===Wa)throw"Unmatched left bracket: "+Ea;ab.push(Ea.substring(Ha,ja).trim());if(ja<Wa-1&&"["!==Ea[++ja])throw"Expected left bracket: "+Ea;Ha=++ja}if(!(Wa=Ja.length)||Ma.test(Ja[Wa-1]))throw"Invalid event selector: "+Ea;1<Wa?(fb.type=Ja[1],pa?fb.markname=Ja[0].slice(1):qb[Ja[0]]?fb.marktype=Ja[0]:fb.source=Ja[0]):fb.type=Ja[0];"!"===fb.type.slice(-1)&&(fb.consume=!0,fb.type=fb.type.slice(0,-1));null!=
ab&&(fb.filter=ab);ea[0]&&(fb.throttle=ea[0]);ea[1]&&(fb.debounce=ea[1]);ab=fb}return ab}function Kb(Ea){var ab=Ea.split(",");if(!Ea.length||2<ab.length)throw Ea;return ab.map(function(fb){fb=+fb;if(fb!==fb)throw Ea;return fb})}var Ma=/[[\]{}]/,db={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Eb,qb;n.selector=function(Ea,ab,fb){Eb=ab||"view";qb=fb||db;return S(Ea.trim()).map(Pa)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[48]=function(Jb,sb,hc,vb){(function(n,q){"object"===typeof vb&&"undefined"!==typeof hc?q(vb,sb(0),sb(44),sb(47),sb(21),sb(12)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),q):(n="undefined"!==typeof globalThis?globalThis:n||self,q(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,q,S,Pa,Kb,Ma){function db(C){return q.isObject(C)?C:{type:C||"pad"}}function Eb(C){q.isObject(C)?C=
C.signal?C:{top:+C.top||0,bottom:+C.bottom||0,left:+C.left||0,right:+C.right||0}:(C=+C||0,C={top:C,bottom:C,left:C,right:C});return C}function qb(C,Q,Na,Ab){return null!=Na?(q.isObject(Na)&&!q.isArray(Na)||q.isArray(Na)&&Na.length&&q.isObject(Na[0])?C.update[Q]=Na:C[Ab||"enter"][Q]={value:Na},1):0}function Ea(C,Q,Na){for(var Ab in Q)qb(C,Ab,Q[Ab]);for(var zb in Na)qb(C,zb,Na[zb],"update")}function ab(C,Q,Na){for(var Ab in Q)Na&&q.hasOwnProperty(Na,Ab)||(C[Ab]=q.extend(C[Ab]||{},Q[Ab]));return C}function fb(C,
Q){return Q&&(Q.enter&&Q.enter[C]||Q.update&&Q.update[C])}function Ja(C,Q,Na,Ab,zb){var Ib={},ac={},Oc;var Fc="lineBreak";"text"!==Q||null==zb[Fc]||fb(Fc,C)||ea(Ib,Fc,zb[Fc]);if("legend"==Na||String(Na).startsWith("axis"))Na=null;Na="frame"===Na?zb.group:"mark"===Na?q.extend({},zb.mark,zb[Q]):null;for(Fc in Na)(Q=fb(Fc,C)||("fill"===Fc||"stroke"===Fc)&&(fb("fill",C)||fb("stroke",C)))||ea(Ib,Fc,Na[Fc]);q.array(Ab).forEach(function(bd){bd=zb.style&&zb.style[bd];for(var cd in bd)fb(cd,C)||ea(Ib,cd,bd[cd])});
C=q.extend({},C);for(Fc in Ib)Na=Ib[Fc],Na.signal?(Oc=Oc||{})[Fc]=Na:ac[Fc]=Na;C.enter=q.extend(ac,C.enter);Oc&&(C.update=q.extend(Oc,C.update));return C}function ea(C,Q,Na){C[Q]=Na&&Na.signal?{signal:Na.signal}:{value:Na}}function pa(C){if(null!=C.gradient)return Ha(C);if(C.signal)var Q="("+C.signal+")";else C.color?(Q=C.color,Q=Q.c?Sa("hcl",Q.h,Q.c,Q.l):Q.h||Q.s?Sa("hsl",Q.h,Q.s,Q.l):Q.l||Q.a?Sa("lab",Q.l,Q.a,Q.b):Q.r||Q.g||Q.b?Sa("rgb",Q.r,Q.g,Q.b):null):Q=null!=C.field?ja(C.field):void 0!==C.value?
q.stringValue(C.value):void 0;if(null!=C.scale){var Na=gb(C.scale);null!=C.range?Q="lerp(_range("+Na+"), "+ +C.range+")":(void 0!==Q&&(Q="_scale("+Na+", "+Q+")"),C.band&&(Q=(Q?Q+"+":"")+("_bandwidth("+Na+")")+(1===+C.band?"":"*"+Wa(C.band)),C.extra&&(Q="(datum.extra ? _scale("+Na+", datum.extra.value) : "+Q+")")),null==Q&&(Q="0"))}void 0===Q&&(Q=null);null!=C.exponent&&(Q="pow("+Q+","+Wa(C.exponent)+")");null!=C.mult&&(Q+="*"+Wa(C.mult));null!=C.offset&&(Q+="+"+Wa(C.offset));C.round&&(Q="round("+
Q+")");return Q}function Ha(C){for(var Q=[C.start,C.stop,C.count].map(function(Na){return null==Na?null:q.stringValue(Na)});Q.length&&null==q.peek(Q);)Q.pop();Q.unshift(gb(C.gradient));return"gradient("+Q.join(",")+")"}function Wa(C){return q.isObject(C)?"("+pa(C)+")":C}function ja(C){return ba(q.isObject(C)?C:{datum:C})}function ba(C){if(C.signal){var Q="datum";var Na=C.signal}else if(C.group||C.parent){Na=Math.max(1,C.level||1);for(Q="item";0<Na--;)Q+=".mark.group";C.parent?(Na=C.parent,Q+=".datum"):
Na=C.group}else C.datum?(Q="datum",Na=C.datum):q.error("Invalid field reference: "+q.stringValue(C));C.signal||(Na=q.isString(Na)?q.splitAccessPath(Na).map(q.stringValue).join("]["):ba(Na));return Q+"["+Na+"]"}function Ra(C){var Q="";C.forEach(function(Na){var Ab=pa(Na);Q+=Na.test?"("+Na.test+")?"+Ab+":":Ab});":"===q.peek(Q)&&(Q+="null");return Q}function xa(C,Q,Na,Ab,zb,Ib){var ac={};Ib=Ib||{};Ib.encoders={$encode:ac};C=Ja(C,Q,Na,Ab,zb.config);for(var Oc in C){Na=void 0;Ab=C[Oc];var Fc=Q,bd=Ib,cd=
zb,jd={},wd={};for(Na in Ab)if(null!=Ab[Na]){var Hd=Ab[Na];Hd=q.isArray(Hd)?Ra(Hd):pa(Hd);jd[Na]=Oa(Hd,cd,bd,wd)}Na={$expr:{marktype:Fc,channels:jd},$fields:Object.keys(wd),$output:Object.keys(Ab)};ac[Oc]=Na}return Ib}function Oa(C,Q,Na,Ab){C=S.parseExpression(C,Q);C.$fields.forEach(function(zb){return Ab[zb]=1});q.extend(Na,C.$params);return C.$expr}function za(C,Q){q.error(C+' for "outer" push: '+q.stringValue(Q))}function ia(C,Q){var Na=C.name;if("outer"===C.push)Q.signals[Na]||za("No prior signal definition",
Na),Pb.forEach(function(zb){void 0!==C[zb]&&za("Invalid property ",zb)});else{var Ab=Q.addSignal(Na,C.value);!1===C.react&&(Ab.react=!1);C.bind&&Q.addBinding(Na,C.bind)}}function wa(C,Q,Na,Ab){this.id=-1;this.type=C;this.value=Q;this.params=Na;Ab&&(this.parent=Ab)}function sa(C){var Q={$ref:C.id};0>C.id&&(C.refs=C.refs||[]).push(Q);return Q}function qa(C,Q){return Q?{$field:C,$name:Q}:{$field:C}}function Fa(C,Q){C={$key:C};Q&&(C.$flat=!0);return C}function Ca(C,Q){return(C&&C.signal?"$"+C.signal:
C||"")+(C&&Q?"_":"")+(Q&&Q.signal?"$"+Q.signal:Q||"")}function Za(C){return C&&C.signal}function jb(C){if(Za(C))return!0;if(q.isObject(C))for(var Q in C)if(jb(C[Q]))return!0;return!1}function y(C,Q){return null!=C?C:Q}function x(C){return C&&C.signal||C}function G(C,Q){return(C.merge?z:C.stream?F:C.type?M:q.error("Invalid stream specification: "+q.stringValue(C)))(C,Q)}function J(C){return"scope"===C?"view":C||"view"}function z(C,Q){var Na=C.merge.map(function(Ab){return G(Ab,Q)});C=ka({merge:Na},
C,Q);return Q.addStream(C).id}function F(C,Q){var Na=G(C.stream,Q);C=ka({stream:Na},C,Q);return Q.addStream(C).id}function M(C,Q){if("timer"===C.type){var Na=Q.event("timer",C.throttle);C={between:C.between,filter:C.filter}}else Na=Q.event(J(C.source),C.type);C=ka({stream:Na},C,Q);return 1===Object.keys(C).length?Na:Q.addStream(C).id}function ka(C,Q,Na){var Ab=Q.between;Ab&&(2!==Ab.length&&q.error('Stream "between" parameter must have 2 entries: '+q.stringValue(Q)),C.between=[G(Ab[0],Na),G(Ab[1],
Na)]);Ab=Q.filter?[].concat(Q.filter):[];(Q.marktype||Q.markname||Q.markrole)&&Ab.push(Ia(Q.marktype,Q.markname,Q.markrole));"scope"===Q.source&&Ab.push("inScope(event.item)");Ab.length&&(C.filter=S.parseExpression("("+Ab.join(")\x26\x26(")+")",Na).$expr);null!=(Ab=Q.throttle)&&(C.throttle=+Ab);null!=(Ab=Q.debounce)&&(C.debounce=+Ab);Q.consume&&(C.consume=!0);return C}function Ia(C,Q,Na){return"event.item"+(C&&"*"!==C?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+C+"'":"")+(Na?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+
Na+"'":"")+(Q?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Q+"'":"")}function Ta(C,Q,Na){var Ab=C.encode,zb={target:Na};Na=C.events;var Ib=C.update,ac=[];Na||q.error("Signal update missing events specification.");q.isString(Na)&&(Na=Pa.selector(Na,Q.isSubscope()?"scope":"view"));Na=q.array(Na).filter(function(Oc){return Oc.signal||Oc.scale?(ac.push(Oc),0):1});1<ac.length&&(ac=[fa(ac)]);Na.length&&ac.push(1<Na.length?{merge:Na}:Na[0]);null!=Ab&&(Ib&&q.error("Signal encode and update are mutually exclusive."),
Ib="encode(item(),"+q.stringValue(Ab)+")");zb.update=q.isString(Ib)?S.parseExpression(Ib,Q):null!=Ib.expr?S.parseExpression(Ib.expr,Q):null!=Ib.value?Ib.value:null!=Ib.signal?{$expr:oc,$params:{$value:Q.signalRef(Ib.signal)}}:q.error("Invalid signal update specification.");C.force&&(zb.options={force:!0});ac.forEach(function(Oc){return Q.addUpdate(q.extend(D(Oc,Q),zb))})}function D(C,Q){return{source:C.signal?Q.signalRef(C.signal):C.scale?Q.scaleRef(C.scale):G(C,Q)}}function fa(C){return{signal:"["+
C.map(function(Q){return Q.scale?'scale("'+Q.scale+'")':Q.signal})+"]"}}function Y(C,Q){var Na=Q.getSignal(C.name),Ab=C.update;C.init&&(Ab?q.error("Signals can not include both init and update expressions."):(Ab=C.init,Na.initonly=!0));Ab&&(Ab=S.parseExpression(Ab,Q),Na.update=Ab.$expr,Na.params=Ab.$params);C.on&&C.on.forEach(function(zb){return Ta(zb,Q,Na.id)})}function W(C,Q){return q.isObject(C)?C.signal?Q.signalRef(C.signal):q.error("Unsupported object: "+q.stringValue(C)):C}function H(C,Q){return C.signal?
Q.signalRef(C.signal):C.map(function(Na){return W(Na,Q)})}function T(C){q.error("Can not find data set: "+q.stringValue(C))}function l(C,Q,Na){if(C)return C.signal?Na.signalRef(C.signal):(q.isArray(C)?k:C.fields?t:p)(C,Q,Na);null==Q.domainMin&&null==Q.domainMax||q.error("No scale domain defined for domainMin/domainMax to override.")}function k(C,Q,Na){return C.map(function(Ab){return W(Ab,Na)})}function p(C,Q,Na){var Ab=Na.getData(C.data);Ab||T(C.data);return Kb.isDiscrete(Q.type)?Ab.valuesRef(Na,
C.field,O(C.sort,!1)):Kb.isQuantile(Q.type)?Ab.domainRef(Na,C.field):Ab.extentRef(Na,C.field)}function t(C,Q,Na){var Ab=C.data,zb=C.fields.reduce(function(Ib,ac){if(q.isString(ac))ac={data:Ab,field:ac};else if(q.isArray(ac)||ac.signal){var Oc=ac;ac="_:vega:_"+Ld++;var Fc=yd({});q.isArray(Oc)?Fc.value={$ingest:Oc}:Oc.signal&&(Oc="setdata("+q.stringValue(ac)+","+Oc.signal+")",Fc.params.input=Na.signalRef(Oc));Na.addDataPipeline(ac,[Fc,ee({})]);ac={data:ac,field:"data"}}Ib.push(ac);return Ib},[]);return(Kb.isDiscrete(Q.type)?
w:Kb.isQuantile(Q.type)?la:ma)(C,Na,zb)}function w(C,Q,Na){var Ab=O(C.sort,!0);C=Na.map(function(Ib){var ac=Q.getData(Ib.data);ac||T(Ib.data);return ac.countsRef(Q,Ib.field,Ab)});var zb={groupby:kc,pulse:C};Ab&&(C=Ab.op||"count",Na=Ab.field?Ca(C,Ab.field):"count",zb.ops=[Qd[C]],zb.fields=[Q.fieldRef(Na)],zb.as=[Na]);C=Q.add(uc(zb));C=Q.add(yd({pulse:sa(C)}));Na=Q.add(Sd({field:kc,sort:Q.sortRef(Ab),pulse:sa(C)}));return sa(Na)}function O(C,Q){C&&(C.field||C.op?C.field||"count"===C.op?Q&&C.field&&
C.op&&!Qd[C.op]&&q.error("Multiple domain scales can not be sorted using "+C.op):q.error("No field provided for sort aggregate op: "+C.op):q.isObject(C)?C.field="key":C={field:"key"});return C}function la(C,Q,Na){C=Na.map(function(Ab){var zb=Q.getData(Ab.data);zb||T(Ab.data);return zb.domainRef(Q,Ab.field)});return sa(Q.add(Oe({values:C})))}function ma(C,Q,Na){C=Na.map(function(Ab){var zb=Q.getData(Ab.data);zb||T(Ab.data);return zb.extentRef(Q,Ab.field)});return sa(Q.add(Ye({extents:C})))}function ua(C,
Q,Na){var Ab=Q.config.range,zb=C.range;if(zb.signal)return Q.signalRef(zb.signal);if(q.isString(zb)){if(Ab&&q.hasOwnProperty(Ab,zb))return C=q.extend({},C,{range:Ab[zb]}),ua(C,Q,Na);"width"===zb?zb=[0,{signal:"width"}]:"height"===zb?zb=Kb.isDiscrete(C.type)?[0,{signal:"height"}]:[{signal:"height"},0]:q.error("Unrecognized scale range value: "+q.stringValue(zb))}else{if(zb.scheme){Na.scheme=q.isArray(zb.scheme)?H(zb.scheme,Q):W(zb.scheme,Q);zb.extent&&(Na.schemeExtent=H(zb.extent,Q));zb.count&&(Na.schemeCount=
W(zb.count,Q));return}if(zb.step){Na.rangeStep=W(zb.step,Q);return}if(Kb.isDiscrete(C.type)&&!q.isArray(zb))return l(zb,C,Q);q.isArray(zb)||q.error("Unsupported range type: "+q.stringValue(zb))}return zb.map(function(Ib){return(q.isArray(Ib)?H:W)(Ib,Q)})}function eb(C,Q,Na){return q.isArray(C)?C.map(function(Ab){return eb(Ab,Q,Na)}):q.isObject(C)?C.signal?Na.signalRef(C.signal):"fit"===Q?C:q.error("Unsupported parameter object: "+q.stringValue(C)):C}function cb(C){C.type="group";C.interactive=C.interactive||
!1;return C}function Ba(C,Q){var Na=function(Ab,zb){return y(C[Ab],y(Q[Ab],zb))};Na.isVertical=function(Ab){return"vertical"===y(C.direction,Q.direction||(Ab?Q.symbolDirection:Q.gradientDirection))};Na.gradientLength=function(){return y(C.gradientLength,Q.gradientLength||Q.gradientWidth)};Na.gradientThickness=function(){return y(C.gradientThickness,Q.gradientThickness||Q.gradientHeight)};Na.entryColumns=function(){return y(C.columns,y(Q.columns,+Na.isVertical(!0)))};return Na}function Ka(C,Q){return(C=
Q&&(Q.update&&Q.update[C]||Q.enter&&Q.enter[C]))&&C.signal?C:C?C.value:null}function Z(C,Q,Na){return"item.anchor \x3d\x3d\x3d 'start' ? "+C+" : item.anchor \x3d\x3d\x3d 'end' ? "+Q+" : "+Na}function ra(C,Q){return Q?C?q.isObject(C)?Object.assign({},C,{offset:ra(C.offset,Q)}):{value:C,offset:Q}:Q:C}function hb(C,Q){Q?(C.name=Q.name,C.style=Q.style||C.style,C.interactive=!!Q.interactive,C.encode=ab(C.encode,Q,ke)):C.interactive=!1;return C}function mb(C,Q,Na,Ab){C=Ba(C,Na);var zb=C.isVertical();Na=
C.gradientThickness();var Ib=C.gradientLength(),ac;if(zb){zb=[0,1];var Oc=[0,0];var Fc=Na;Na=Ib}else zb=[0,0],Oc=[1,0],Fc=Ib;Q={enter:ac={opacity:Gd,x:Gd,y:Gd,width:Da(Fc),height:Da(Na)},update:q.extend({},ac,{opacity:pe,fill:{gradient:Q,start:zb,stop:Oc}}),exit:{opacity:Gd}};Ea(Q,{stroke:C("gradientStrokeColor"),strokeWidth:C("gradientStrokeWidth")},{opacity:C("gradientOpacity")});return hb({type:"rect",role:"legend-gradient",encode:Q},Ab)}function Hb(C,Q,Na,Ab,zb){C=Ba(C,Na);var Ib=C.isVertical();
Na=C.gradientThickness();var ac=C.gradientLength(),Oc,Fc,bd,cd,jd="";Ib?(Oc="y",bd="y2",Fc="x",cd="width",jd="1-"):(Oc="x",bd="x2",Fc="y",cd="height");Q={opacity:Gd,fill:{scale:Q,field:"value"}};Q[Oc]={signal:jd+"datum.perc",mult:ac};Q[Fc]=Gd;Q[bd]={signal:jd+"datum.perc2",mult:ac};Q[cd]=Da(Na);Oc={enter:Q,update:q.extend({},Q,{opacity:pe}),exit:{opacity:Gd}};Ea(Oc,{stroke:C("gradientStrokeColor"),strokeWidth:C("gradientStrokeWidth")},{opacity:C("gradientOpacity")});return hb({type:"rect",role:"legend-band",
key:"value",from:zb,encode:Oc},Ab)}function Xb(C,Q,Na,Ab){var zb=Ba(C,Q),Ib=zb.isVertical(),ac=Da(zb.gradientThickness()),Oc=zb.gradientLength(),Fc=zb("labelOverlap"),bd,cd,jd="",wd={enter:bd={opacity:Gd},update:cd={opacity:pe,text:{field:"label"}},exit:{opacity:Gd}};Ea(wd,{fill:zb("labelColor"),fillOpacity:zb("labelOpacity"),font:zb("labelFont"),fontSize:zb("labelFontSize"),fontStyle:zb("labelFontStyle"),fontWeight:zb("labelFontWeight"),limit:y(C.labelLimit,Q.gradientLabelLimit)});if(Ib){bd.align=
{value:"left"};bd.baseline=cd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'};Ib="y";var Hd="x";jd="1-"}else bd.align=cd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},bd.baseline={value:"top"},Ib="x",Hd="y";bd[Ib]=cd[Ib]={signal:jd+"datum.perc",mult:Oc};bd[Hd]=cd[Hd]=ac;ac.offset=y(C.labelOffset,Q.gradientLabelOffset)||0;Fc=Fc?{separation:zb("labelSeparation"),method:Fc,order:"datum.index"}:void 0;return hb({type:"text",role:"legend-label",
style:"guide-label",key:"value",from:Ab,encode:wd,overlap:Fc},Na)}function ya(C,Q,Na,Ab,zb){var Ib=Ba(C,Q),ac=Na.entries,Oc=!(!ac||!ac.interactive),Fc=ac?ac.name:void 0,bd=Ib("clipHeight"),cd=Ib("symbolOffset"),jd={data:"value"},wd="("+zb+") ? datum.offset : datum.size",Hd=bd?Da(bd):{field:"size"},ge="max(1, "+zb+")",me,qe;Hd.mult=.5;var he={enter:me={opacity:Gd,x:{signal:wd,mult:.5,offset:cd},y:Hd},update:qe={opacity:pe,x:me.x,y:me.y},exit:{opacity:Gd}};var Fd=null,ef=null;C.fill||(Fd=Q.symbolBaseFillColor,
ef=Q.symbolBaseStrokeColor);Ea(he,{fill:Ib("symbolFillColor",Fd),shape:Ib("symbolType"),size:Ib("symbolSize"),stroke:Ib("symbolStrokeColor",ef),strokeDash:Ib("symbolDash"),strokeDashOffset:Ib("symbolDashOffset"),strokeWidth:Ib("symbolStrokeWidth")},{opacity:Ib("symbolOpacity")});Ed.forEach(function(xf){C[xf]&&(qe[xf]=me[xf]={scale:C[xf],field:"value"})});Q=hb({type:"symbol",role:"legend-symbol",key:"value",from:jd,clip:bd?!0:void 0,encode:he},Na.symbols);he=Da(cd);he.offset=Ib("labelOffset");he={enter:me=
{opacity:Gd,x:{signal:wd,offset:he},y:Hd},update:qe={opacity:pe,text:{field:"label"},x:me.x,y:me.y},exit:{opacity:Gd}};Ea(he,{align:Ib("labelAlign"),baseline:Ib("labelBaseline"),fill:Ib("labelColor"),fillOpacity:Ib("labelOpacity"),font:Ib("labelFont"),fontSize:Ib("labelFontSize"),fontStyle:Ib("labelFontStyle"),fontWeight:Ib("labelFontWeight"),limit:Ib("labelLimit")});Na=hb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:jd,encode:he},Na.labels);he={enter:{noBound:{value:!bd},
width:Gd,height:bd?Da(bd):Gd,opacity:Gd},exit:{opacity:Gd},update:qe={opacity:pe,row:{signal:null},column:{signal:null}}};Ib.isVertical(!0)?(Ib="ceil(item.mark.items.length / "+ge+")",qe.row.signal="datum.index%"+Ib,qe.column.signal="floor(datum.index / "+Ib+")",Ib={field:["row","datum.index"]}):(qe.row.signal="floor(datum.index / "+ge+")",qe.column.signal="datum.index % "+ge,Ib={field:"datum.index"});qe.column.signal="("+zb+")?"+qe.column.signal+":datum.index";Ab={facet:{data:Ab,name:"value",groupby:"index"}};
return cb({role:"scope",from:Ab,encode:ab(he,ac,ke),marks:[Q,Na],name:Fc,interactive:Oc,sort:Ib})}function wb(C,Q){C=Ba(C,Q);return{align:C("gridAlign"),columns:C.entryColumns(),center:{row:!0,column:!1},padding:{row:C("rowPadding"),column:C("columnPadding")}}}function Tb(C,Q,Na,Ab){Q=Ba(C,Q);var zb={enter:{opacity:Gd},update:{opacity:pe,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Gd}};Ea(zb,{orient:Q("titleOrient"),_anchor:Q("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},
angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:qf},baseline:{signal:gd},text:C.title,fill:Q("titleColor"),fillOpacity:Q("titleOpacity"),font:Q("titleFont"),fontSize:Q("titleFontSize"),fontStyle:Q("titleFontStyle"),fontWeight:Q("titleFontWeight"),limit:Q("titleLimit"),lineHeight:Q("titleLineHeight")},{align:Q("titleAlign"),baseline:Q("titleBaseline")});return hb({type:"text",
role:"legend-title",style:"guide-title",from:Ab,encode:zb},Na)}function rb(C,Q){var Na;q.isObject(C)&&(C.signal?Na=C.signal:C.path?Na="pathShape("+Sb(C.path)+")":C.sphere&&(Na="geoShape("+Sb(C.sphere)+', {type: "Sphere"})'));return Na?Q.signalRef(Na):!!C}function Sb(C){return q.isObject(C)&&C.signal?C.signal:q.stringValue(C)}function ic(C){var Q=C.role||"";return Q.indexOf("axis")&&Q.indexOf("legend")&&Q.indexOf("title")?"group"===C.type?"scope":Q||"mark":Q}function rc(C){return{marktype:C.type,name:C.name||
void 0,role:C.role||ic(C),zindex:+C.zindex||void 0,aria:C.aria,description:C.description}}function Tc(C,Q){return C&&C.signal?Q.signalRef(C.signal):!1===C?!1:!0}function pc(C,Q){var Na=Ma.definition(C.type);Na||q.error("Unrecognized transform type: "+q.stringValue(C.type));var Ab=Na.type.toLowerCase();var zb=tb(Na,C,Q);Ab=new wa(Ab,null,zb,void 0);C.signal&&Q.addSignal(C.signal,Q.proxy(Ab));Ab.metadata=Na.metadata||{};return Ab}function tb(C,Q,Na){for(var Ab={},zb=C.params.length,Ib=0;Ib<zb;++Ib){var ac=
C.params[Ib];Ab[ac.name]=bc(ac,Q,Na)}return Ab}function bc(C,Q,Na){var Ab=C.type,zb=Q[C.name];if("index"===Ab)return xc(C,Q,Na);if(void 0===zb)C.required&&q.error("Missing required "+q.stringValue(Q.type)+" parameter: "+q.stringValue(C.name));else return"param"===Ab?Xc(C,Q,Na):"projection"===Ab?Na.projectionRef(Q[C.name]):C.array&&!Za(zb)?zb.map(function(Ib){return Mb(C,Ib,Na)}):Mb(C,zb,Na)}function Mb(C,Q,Na){var Ab=C.type;return Za(Q)?"expr"===Ab?q.error("Expression references can not be signals."):
"field"===Ab?Na.fieldRef(Q):"compare"===Ab?Na.compareRef(Q):Na.signalRef(Q.signal):(C=C.expr||"field"===Ab)&&Q&&Q.expr?Na.exprRef(Q.expr,Q.as):C&&Q&&Q.field?qa(Q.field,Q.as):"expr"===Ab?S.parseExpression(Q,Na):"data"===Ab?sa(Na.getData(Q).values):"field"===Ab?qa(Q):"compare"===Ab?Na.compareRef(Q):Q}function xc(C,Q,Na){q.isString(Q.from)||q.error('Lookup "from" parameter must be a string literal.');return Na.getData(Q.from).lookupRef(Na,Q.key)}function Xc(C,Q,Na){Q=Q[C.name];return C.array?(q.isArray(Q)||
q.error("Expected an array of sub-parameters. Instead: "+q.stringValue(Q)),Q.map(function(Ab){return ud(C,Ab,Na)})):ud(C,Q,Na)}function ud(C,Q,Na){for(var Ab=C.params.length,zb,Ib=0;Ib<Ab;++Ib){zb=C.params[Ib];for(var ac in zb.key)if(zb.key[ac]!==Q[ac]){zb=null;break}if(zb)break}zb||q.error("Unsupported parameter: "+q.stringValue(Q));C=q.extend(tb(zb,Q,Na),zb.key);return sa(Na.add(He(C)))}function xd(C,Q,Na){var Ab,zb;if(!C)var Ib=sa(Na.add(yd(null,[{}])));else if(Ab=C.facet)if(Q||q.error("Only group marks can be faceted."),
null!=Ab.field)Ib=zb=ae(Ab,Na);else{C.data?zb=sa(Na.getData(C.data).aggregate):(Q=pc(q.extend({type:"aggregate",groupby:q.array(Ab.groupby)},Ab.aggregate),Na),Q.params.key=Na.keyRef(Ab.groupby),Q.params.pulse=ae(Ab,Na),Ib=zb=sa(Na.add(Q)));var ac=Na.keyRef(Ab.groupby,!0)}Ib||(Ib=ae(C,Na));return{key:ac,pulse:Ib,parent:zb}}function ae(C,Q){return C.$ref?C:C.data&&C.data.$ref?C.data:sa(Q.getData(C.data).output)}function Cb(C,Q,Na,Ab,zb){this.scope=C;this.input=Q;this.output=Na;this.values=Ab;this.aggregate=
zb;this.index={}}function Rb(C){return q.isString(C)?C:null}function Rc(C,Q,Na){var Ab=Ca(Na.op,Na.field),zb;if(Q.ops)for(var Ib=0,ac=Q.as.length;Ib<ac;++Ib){if(Q.as[Ib]===Ab)return}else Q.ops=["count"],Q.fields=[null],Q.as=["count"];Na.op&&(Q.ops.push((zb=Na.op.signal)?C.signalRef(zb):Na.op),Q.fields.push(C.fieldRef(Na.field)),Q.as.push(Ab))}function se(C,Q,Na,Ab,zb,Ib,ac){Na=Q[Na]||(Q[Na]={});var Oc=q.isObject(Ib)?("descending"===Ib.order?"-":"+")+Ca(Ib.op,Ib.field):"";var Fc=Rb(zb);if(null!=Fc){C=
Q.scope;Fc+=Oc?"|"+Oc:"";var bd=Na[Fc]}bd||(bd=Ib?{field:kc,pulse:Q.countsRef(C,zb,Ib)}:{field:C.fieldRef(zb),pulse:sa(Q.output)},Oc&&(bd.sort=C.sortRef(Ib)),C=C.add(new wa(Ab,void 0,bd,void 0)),ac&&(Q.index[zb]=C),bd=sa(C),null!=Fc&&(Na[Fc]=bd));return bd}function De(C,Q,Na){var Ab=C.from.facet,zb=Ab.name,Ib=ae(Ab,Q),ac;Ab.name||q.error("Facet must have a name: "+q.stringValue(Ab));Ab.data||q.error("Facet must reference a data set: "+q.stringValue(Ab));Ab.field?ac=Q.add(be({field:Q.fieldRef(Ab.field),
pulse:Ib})):Ab.groupby?ac=Q.add(Wd({key:Q.keyRef(Ab.groupby),group:sa(Q.proxy(Na.parent)),pulse:Ib})):q.error("Facet must specify groupby or field: "+q.stringValue(Ab));Q=Q.fork();Na=Q.add(yd());Ab=Q.add(ee({pulse:sa(Na)}));Q.addData(zb,new Cb(Q,Na,Na,Ab));Q.addSignal("parent",null);ac.params.subflow={$subflow:Q.parse(C).toRuntime()}}function Ne(C,Q,Na){Na=Q.add(be({pulse:Na.pulse}));Q=Q.fork();Q.add(ee());Q.addSignal("parent",null);Na.params.subflow={$subflow:Q.parse(C).toRuntime()}}function Md(C,
Q,Na){var Ab=C.remove,zb=C.insert,Ib=C.toggle,ac=C.modify,Oc=C.values,Fc=Q.add(new wa("operator",void 0,void 0,void 0));C="if("+C.trigger+',modify("'+Na+'",'+[zb,Ab,Ib,ac,Oc].map(function(bd){return null==bd?"null":bd}).join(",")+"),0)";Q=S.parseExpression(C,Q);Fc.update=Q.$expr;Fc.params=Q.$params}function I(C,Q){var Na=ic(C),Ab="group"===C.type,zb=C.from&&C.from.facet,Ib=C.overlap,ac=C.layout||"scope"===Na||"frame"===Na,Oc,Fc,bd="mark"===Na||ac||zb,cd=xd(C.from,Ab,Q);var jd=Q.add(Od({key:cd.key||
(C.key?qa(C.key):void 0),pulse:cd.pulse,clean:!Ab}));var wd=sa(jd);jd=Oc=Q.add(yd({pulse:wd}));jd=Q.add(re({markdef:rc(C),interactive:Tc(C.interactive,Q),clip:rb(C.clip,Q),context:{$context:!0},groups:Q.lookup(),parent:Q.signals.parent?Q.signalRef("parent"):null,index:Q.markpath(),pulse:sa(jd)}));var Hd=sa(jd);jd=Fc=Q.add(de(xa(C.encode,C.type,Na,C.style,Q,{mod:!1,pulse:Hd})));jd.params.parent=Q.encode();C.transform&&C.transform.forEach(function(Fd){Fd=pc(Fd,Q);var ef=Fd.metadata;(ef.generates||ef.changes)&&
q.error("Mark transforms should not generate new data.");ef.nomod||(Fc.params.mod=!0);Fd.params.pulse=sa(jd);Q.add(jd=Fd)});C.sort&&(jd=Q.add(Pc({sort:Q.compareRef(C.sort),pulse:sa(jd)})));Na=sa(jd);if(zb||ac){ac=Q.add(fe({layout:Q.objectProperty(C.layout),legends:Q.legends,mark:Hd,pulse:Na}));var ge=sa(ac)}var me=Q.add(pd({mark:Hd,pulse:ge||Na}));Hd=sa(me);if(Ab){if(bd){var qe=Q.operators;qe.pop();ac&&qe.pop()}Q.pushState(Na,ge||Hd,wd);zb?De(C,Q,cd):bd?Ne(C,Q,cd):Q.parse(C);Q.popState();bd&&(ac&&
qe.push(ac),qe.push(me))}Ib&&(Hd=da(Ib,Hd,Q));Ab=Q.add(Yc({pulse:Hd}));zb=Q.add(ee({pulse:sa(Ab)},void 0,Q.parent()));if(null!=C.name){var he=C.name;Q.addData(he,new Cb(Q,Oc,Ab,zb));C.on&&C.on.forEach(function(Fd){(Fd.insert||Fd.remove||Fd.toggle)&&q.error("Marks only support modify triggers.");Md(Fd,Q,he)})}}function da(C,Q,Na){var Ab=C.method,zb=C.bound,Ib=C.separation;Q={separation:Za(Ib)?Na.signalRef(Ib.signal):Ib,method:Za(Ab)?Na.signalRef(Ab.signal):Ab,pulse:Q};C.order&&(Q.sort=Na.compareRef({field:C.order}));
zb&&(C=zb.tolerance,Q.boundTolerance=Za(C)?Na.signalRef(C.signal):+C,Q.boundScale=Na.scaleRef(zb.scale),Q.boundOrient=zb.orient);return sa(Na.add(ff(Q)))}function bb(C,Q){var Na=Q.config.legend,Ab=C.encode||{},zb=Ba(C,Na),Ib=Ab.legend||{},ac=Ib.name||void 0,Oc=Ib.interactive,Fc=Ib.style,bd={},cd=0,jd;Ed.forEach(function(he){return C[he]?(bd[he]=C[he],cd=cd||C[he]):0});cd||q.error("Missing valid scale for legend.");var wd=La(C,Q.scaleType(cd));var Hd={title:null!=C.title,scales:bd,type:wd,vgrad:"symbol"!==
wd&&zb.isVertical()},ge=sa(Q.add(yd(null,[Hd]))),me=sa(Q.add(Ke(jd={type:wd,scale:Q.scaleRef(cd),count:Q.objectProperty(zb("tickCount")),limit:Q.property(zb("symbolLimit")),values:Q.objectProperty(C.values),minstep:Q.property(C.tickMinStep),formatType:Q.property(C.formatType),formatSpecifier:Q.property(C.format)})));if("gradient"===wd)wd=[mb(C,cd,Na,Ab.gradient),Xb(C,Na,Ab.labels,me)],jd.count=jd.count||Q.signalRef("max(2,2*floor(("+x(zb.gradientLength())+")/100))");else if("discrete"===wd)wd=[Hb(C,
cd,Na,Ab.gradient,me),Xb(C,Na,Ab.labels,me)];else{var qe=wb(C,Na);wd=[ya(C,Na,Ab,me,x(qe.columns))];jd.size=Yb(C,Q,wd[0].marks)}wd=[cb({role:"legend-entry",from:ge,encode:{enter:{x:{value:0},y:{value:0}}},marks:wd,layout:qe,interactive:Oc})];Hd.title&&wd.push(Tb(C,Na,Ab.title,ge));return I(cb({role:"legend",from:ge,encode:ab(Vb(zb,C,Na),Ib,ke),marks:wd,aria:zb("aria"),description:zb("description"),zindex:zb("zindex"),name:ac,interactive:Oc,style:Fc}),Q)}function La(C,Q){var Na=C.type||"symbol";C.type||
1!==Fb(C)||!C.fill&&!C.stroke||(Na=Kb.isContinuous(Q)?"gradient":Kb.isDiscretizing(Q)?"discrete":"symbol");return"gradient"!==Na?Na:Kb.isDiscretizing(Q)?"discrete":"gradient"}function Fb(C){return Ed.reduce(function(Q,Na){return Q+(C[Na]?1:0)},0)}function Vb(C,Q,Na){var Ab={enter:{},update:{}};Ea(Ab,{orient:C("orient"),offset:C("offset"),padding:C("padding"),titlePadding:C("titlePadding"),cornerRadius:C("cornerRadius"),fill:C("fillColor"),stroke:C("strokeColor"),strokeWidth:Na.strokeWidth,strokeDash:Na.strokeDash,
x:C("legendX"),y:C("legendY"),format:Q.format,formatType:Q.formatType});return Ab}function Yb(C,Q,Na){var Ab=x(cc("size",C,Na));C=x(cc("strokeWidth",C,Na));(Na=Ka("fontSize",Na[1].encode))||(Na=(Na=Q.config.style["guide-label"])&&Na.fontSize);Na=x(Na);return S.parseExpression("max(ceil(sqrt("+Ab+")+"+C+"),"+Na+")",Q)}function cc(C,Q,Na){return Q[C]?'scale("'+Q[C]+'",datum)':Ka(C,Na[0].encode)}function va(C,Q){C=q.isString(C)?{text:C}:C;var Na=Ba(C,Q.config.title),Ab=C.encode||{},zb=Ab.group||{},Ib=
zb.name||void 0,ac=zb.interactive,Oc=zb.style,Fc=[],bd=sa(Q.add(yd(null,[{}])));Fc.push(yb(C,Na,Qa(C),bd));C.subtitle&&Fc.push(Nb(C,Na,Ab.subtitle,bd));C={enter:{},update:{}};Ea(C,{orient:Na("orient"),anchor:Na("anchor"),align:{signal:Le},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:Na("limit"),frame:Na("frame"),offset:Na("offset")||0,padding:Na("subtitlePadding")});zb=ab(C,zb,ke);return I(cb({role:"title",from:bd,encode:zb,marks:Fc,aria:Na("aria"),
description:Na("description"),zindex:Na("zindex"),name:Ib,interactive:ac,style:Oc}),Q)}function Qa(C){var Q=C.encode;return Q&&Q.title||q.extend({name:C.name,interactive:C.interactive,style:C.style},Q)}function yb(C,Q,Na,Ab){var zb={value:0};zb={enter:{opacity:zb},update:{opacity:{value:1}},exit:{opacity:zb}};Ea(zb,{text:C.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Q("dx"),dy:Q("dy"),fill:Q("color"),font:Q("font"),
fontSize:Q("fontSize"),fontStyle:Q("fontStyle"),fontWeight:Q("fontWeight"),lineHeight:Q("lineHeight")},{align:Q("align"),angle:Q("angle"),baseline:Q("baseline")});return hb({type:"text",role:"title-text",style:"group-title",from:Ab,encode:zb},Na)}function Nb(C,Q,Na,Ab){var zb={value:0};zb={enter:{opacity:zb},update:{opacity:{value:1}},exit:{opacity:zb}};Ea(zb,{text:C.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",
dx:Q("dx"),dy:Q("dy"),fill:Q("subtitleColor"),font:Q("subtitleFont"),fontSize:Q("subtitleFontSize"),fontStyle:Q("subtitleFontStyle"),fontWeight:Q("subtitleFontWeight"),lineHeight:Q("subtitleLineHeight")},{align:Q("align"),angle:Q("angle"),baseline:Q("baseline")});return hb({type:"text",role:"title-subtitle",style:"group-subtitle",from:Ab,encode:zb},Na)}function gc(C,Q){var Na=[];C.transform&&C.transform.forEach(function(Ab){Na.push(pc(Ab,Q))});C.on&&C.on.forEach(function(Ab){Md(Ab,Q,C.name)});Q.addDataPipeline(C.name,
tc(C,Q,Na))}function tc(C,Q,Na){var Ab=[],zb=null,Ib=!1,ac=!1,Oc,Fc;C.values?jb(C.values)||jb(C.format)?(Ab.push(xb(Q,C)),Ab.push(zb=lc())):Ab.push(zb=lc({$ingest:C.values,$format:C.format})):C.url?jb(C.url)||jb(C.format)?(Ab.push(xb(Q,C)),Ab.push(zb=lc())):Ab.push(zb=lc({$request:C.url,$format:C.format})):C.source&&(zb=Oc=q.array(C.source).map(function(jd){return sa(Q.getData(jd).output)}),Ab.push(null));C=0;for(Fc=Na.length;C<Fc;++C){var bd=Na[C];var cd=bd.metadata;zb||cd.source||Ab.push(zb=lc());
Ab.push(bd);cd.generates&&(ac=!0);cd.modifies&&!ac&&(Ib=!0);cd.source?zb=bd:cd.changes&&(zb=null)}Oc&&(Fc=Oc.length-1,Ab[0]=dc({derive:Ib,pulse:Fc?Oc:Oc[0]}),(Ib||Fc)&&Ab.splice(1,0,lc()));zb||Ab.push(lc());Ab.push(ee({}));return Ab}function lc(C){C=yd({},C);C.metadata={source:!0};return C}function xb(C,Q){return oe({url:Q.url?C.property(Q.url):void 0,async:Q.async?C.property(Q.async):void 0,values:Q.values?C.property(Q.values):void 0,format:C.objectProperty(Q.format)})}function Qb(C,Q,Na,Ab){if(Q&&
q.hasOwnProperty(Q,C))return Q[C];if(q.hasOwnProperty(Na,C))return Na[C];if(C.startsWith("title")){switch(C){case "titleColor":var zb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":zb=C[5].toLowerCase()+C.slice(6)}return Ab["guide-title"][zb]}if(C.startsWith("label")){switch(C){case "labelColor":zb="fill";break;case "labelFont":case "labelFontSize":zb=C[5].toLowerCase()+C.slice(6)}return Ab["guide-label"][zb]}return null}function Gc(C){var Q={};C=$jscomp.makeIterator(C);
for(var Na=C.next();!Na.done;Na=C.next())if(Na=Na.value)for(var Ab in Na)Q[Ab]=1;return Object.keys(Q)}function $b(C,Q,Na,Ab){var zb=Ba(C,Q);Q=C.orient;var Ib,ac,Oc={enter:Ib={opacity:Gd},update:ac={opacity:pe},exit:{opacity:Gd}};Ea(Oc,{stroke:zb("domainColor"),strokeCap:zb("domainCap"),strokeDash:zb("domainDash"),strokeDashOffset:zb("domainDashOffset"),strokeWidth:zb("domainWidth"),strokeOpacity:zb("domainOpacity")});zb={scale:C.scale,range:0};C={scale:C.scale,range:1};Ib.x=ac.x=Fe(Q,zb,Gd);Ib.x2=
ac.x2=Fe(Q,C);Ib.y=ac.y=Pe(Q,zb,Gd);Ib.y2=ac.y2=Pe(Q,C);return hb({type:"rule",role:"axis-domain",from:Ab,encode:Oc},Na)}function Ac(C,Q,Na,Ab,zb){var Ib=Ba(C,Q);Q=C.orient;var ac=C.gridScale,Oc=rf(Q,1,-1);a:{var Fc=C.offset;if(1!==Oc)if(q.isObject(Fc)){for(var bd=Fc=q.extend({},Fc);null!=bd.mult;)if(q.isObject(bd.mult))bd=bd.mult=q.extend({},bd.mult);else{bd.mult=Za(Oc)?{signal:"("+bd.mult+") * ("+Oc.signal+")"}:bd.mult*Oc;break a}bd.mult=Oc}else Fc=Za(Oc)?{signal:"("+Oc.signal+") * ("+(Fc||0)+")"}:
Oc*(Fc||0)}var cd=Fc,jd,wd={enter:Fc={opacity:Gd},update:jd={opacity:pe},exit:bd={opacity:Gd}};Ea(wd,{stroke:Ib("gridColor"),strokeCap:Ib("gridCap"),strokeDash:Ib("gridDash"),strokeDashOffset:Ib("gridDashOffset"),strokeOpacity:Ib("gridOpacity"),strokeWidth:Ib("gridWidth")});C={scale:C.scale,field:"value",band:zb.band,extra:zb.extra,offset:zb.offset,round:Ib("tickRound")};Ib=Fe(Q,{signal:"height"},{signal:"width"});zb=ac?{scale:ac,range:0,mult:Oc,offset:cd}:{value:0,offset:cd};ac=ac?{scale:ac,range:1,
mult:Oc,offset:cd}:q.extend(Ib,{mult:Oc,offset:cd});Fc.x=jd.x=Fe(Q,C,zb);Fc.y=jd.y=Pe(Q,C,zb);Fc.x2=jd.x2=Pe(Q,ac);Fc.y2=jd.y2=Fe(Q,ac);bd.x=Fe(Q,C);bd.y=Pe(Q,C);return hb({type:"rule",role:"axis-grid",key:"value",from:Ab,encode:wd},Na)}function Jc(C,Q,Na,Ab,zb,Ib){var ac=Ba(C,Q);Q=C.orient;var Oc=rf(Q,-1,1),Fc,bd,cd,jd={enter:Fc={opacity:Gd},update:cd={opacity:pe},exit:bd={opacity:Gd}};Ea(jd,{stroke:ac("tickColor"),strokeCap:ac("tickCap"),strokeDash:ac("tickDash"),strokeDashOffset:ac("tickDashOffset"),
strokeOpacity:ac("tickOpacity"),strokeWidth:ac("tickWidth")});zb=Da(zb);zb.mult=Oc;C={scale:C.scale,field:"value",band:Ib.band,extra:Ib.extra,offset:Ib.offset,round:ac("tickRound")};cd.y=Fc.y=Fe(Q,Gd,C);cd.y2=Fc.y2=Fe(Q,zb);bd.x=Fe(Q,C);cd.x=Fc.x=Pe(Q,Gd,C);cd.x2=Fc.x2=Pe(Q,zb);bd.y=Pe(Q,C);return hb({type:"rule",role:"axis-tick",key:"value",from:Ab,encode:jd},Na)}function Hc(C,Q,Na,Ab,zb){return{signal:'flush(range("'+C+'"), scale("'+C+'", datum.value), '+Q+","+Na+","+Ab+","+zb+")"}}function ad(C,
Q,Na,Ab,zb,Ib){Q=Ba(C,Q);var ac=C.orient;C=C.scale;var Oc=rf(ac,-1,1),Fc=x(Q("labelFlush")),bd=x(Q("labelFlushOffset")),cd=Q("labelAlign"),jd=Q("labelBaseline"),wd=0===Fc||!!Fc,Hd=Da(zb);Hd.mult=Oc;Hd.offset=Da(Q("labelPadding")||0);Hd.offset.mult=Oc;Oc={scale:C,field:"value",band:.5,offset:ra(Ib.offset,Q("labelOffset"))};Ib=wd?Hc(C,Fc,'"left"','"right"','"center"'):{value:"center"};zb=Za(ac)?Qe(ac.signal+" \x3d\x3d\x3d 'right'","left","right"):"right"===ac?{value:"left"}:{value:"right"};Ib=Fe(ac,
Ib,zb);zb=Fe(ac,Ee(ac,"bottom","top"),wd?Hc(C,Fc,'"top"','"bottom"','"middle"'):{value:"middle"});Fc=Hc(C,Fc,"-("+bd+")",bd,0);wd=wd&&bd;Hd={opacity:Gd,x:Fe(ac,Oc,Hd),y:Pe(ac,Oc,Hd)};Hd={enter:Hd,update:bd={opacity:pe,text:{field:"label"},x:Hd.x,y:Hd.y,align:Ib,baseline:zb},exit:{opacity:Gd,x:Hd.x,y:Hd.y}};Ea(Hd,{dx:!cd&&wd?Fe(ac,Fc):null,dy:!jd&&wd?Pe(ac,Fc):null});Ea(Hd,{angle:Q("labelAngle"),fill:Q("labelColor"),fillOpacity:Q("labelOpacity"),font:Q("labelFont"),fontSize:Q("labelFontSize"),fontWeight:Q("labelFontWeight"),
fontStyle:Q("labelFontStyle"),limit:Q("labelLimit"),lineHeight:Q("labelLineHeight")},{align:cd,baseline:jd});cd=Q("labelBound");jd=(jd=Q("labelOverlap"))||cd?{separation:Q("labelSeparation"),method:jd,order:"datum.index",bound:cd?{scale:C,orient:ac,tolerance:cd}:null}:void 0;bd.align!==Ib&&(bd.align=Be(bd.align,Ib));bd.baseline!==zb&&(bd.baseline=Be(bd.baseline,zb));return hb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Ab,encode:Hd,overlap:jd},Na)}function md(C,Q,Na,Ab){Q=
Ba(C,Q);var zb=C.orient,Ib=rf(zb,-1,1),ac,Oc,Fc={enter:ac={opacity:Gd,anchor:Da(Q("titleAnchor",null)),align:{signal:Le}},update:Oc=q.extend({},ac,{opacity:pe,text:Da(C.title)}),exit:{opacity:Gd}};C={signal:'lerp(range("'+C.scale+'"), '+Z(0,1,.5)+")"};Oc.x=Fe(zb,C);Oc.y=Pe(zb,C);ac.angle=Fe(zb,Gd,Za(Ib)?{signal:"("+Ib.signal+") * 90"}:{value:90*Ib});ac.baseline=Fe(zb,Ee(zb,"bottom","top"),{value:"bottom"});Oc.angle=ac.angle;Oc.baseline=ac.baseline;Ea(Fc,{fill:Q("titleColor"),fillOpacity:Q("titleOpacity"),
font:Q("titleFont"),fontSize:Q("titleFontSize"),fontStyle:Q("titleFontStyle"),fontWeight:Q("titleFontWeight"),limit:Q("titleLimit"),lineHeight:Q("titleLineHeight")},{align:Q("titleAlign"),angle:Q("titleAngle"),baseline:Q("titleBaseline")});od(Q,zb,Fc,Na);Fc.update.align=Be(Fc.update.align,ac.align);Fc.update.angle=Be(Fc.update.angle,ac.angle);Fc.update.baseline=Be(Fc.update.baseline,ac.baseline);return hb({type:"text",role:"axis-title",style:"guide-title",from:Ab,encode:Fc},Na)}function od(C,Q,Na,
Ab){var zb=function(ac,Oc){return null!=ac?(Na.update[Oc]=Be(Da(ac),Na.update[Oc]),!1):fb(Oc,Ab)?!1:!0},Ib=zb(C("titleX"),"x");C=zb(C("titleY"),"y");Na.enter.auto=C===Ib?Da(C):Fe(Q,Da(C),Da(Ib))}function rd(C,Q,Na){var Ab=q.array(C.signals),zb=q.array(C.scales);Na||Ab.forEach(function(Ib){return ia(Ib,Q)});q.array(C.projections).forEach(function(Ib){var ac=Q.config.projection||{},Oc={},Fc;for(Fc in Ib)"name"!==Fc&&(Oc[Fc]=eb(Ib[Fc],Fc,Q));for(var bd in ac)null==Oc[bd]&&(Oc[bd]=eb(ac[bd],bd,Q));Q.addProjection(Ib.name,
Oc)});zb.forEach(function(Ib){var ac=Ib.type||"linear";Kb.isValidScaleType(ac)||q.error("Unrecognized scale type: "+q.stringValue(ac));Q.addScale(Ib.name,{type:ac,domain:void 0})});q.array(C.data).forEach(function(Ib){return gc(Ib,Q)});zb.forEach(function(Ib){var ac=Q.getScale(Ib.name).params,Oc;ac.domain=l(Ib.domain,Ib,Q);null!=Ib.range&&(ac.range=ua(Ib,Q,ac));if(null!=Ib.interpolate){var Fc=Ib.interpolate;ac.interpolate=W(Fc.type||Fc);null!=Fc.gamma&&(ac.interpolateGamma=W(Fc.gamma))}null!=Ib.nice&&
(Fc=Ib.nice,Fc=q.isObject(Fc)?{interval:W(Fc.interval),step:W(Fc.step)}:W(Fc),ac.nice=Fc);null!=Ib.bins&&(Fc=Ib.bins,Fc=Fc.signal||q.isArray(Fc)?H(Fc,Q):Q.objectProperty(Fc),ac.bins=Fc);for(Oc in Ib)q.hasOwnProperty(ac,Oc)||"name"===Oc||(ac[Oc]=W(Ib[Oc],Q))});(Na||Ab).forEach(function(Ib){return Y(Ib,Q)});q.array(C.axes).forEach(function(Ib){var ac=Q.config,Oc=ac.style,Fc=ac.axis,bd="band"===Q.scaleType(Ib.scale)&&ac.axisBand,cd=Ib.orient,jd;if(Za(cd)){var wd=Gc([ac.axisX,ac.axisY]);var Hd=Gc([ac.axisTop,
ac.axisBottom,ac.axisLeft,ac.axisRight]);var ge={};wd=$jscomp.makeIterator(wd);for(jd=wd.next();!jd.done;jd=wd.next())jd=jd.value,ge[jd]=Fe(cd,Qb(jd,ac.axisX,Fc,Oc),Qb(jd,ac.axisY,Fc,Oc));wd={};Hd=$jscomp.makeIterator(Hd);for(jd=Hd.next();!jd.done;jd=Hd.next()){jd=jd.value;var me=wd,qe=jd,he=cd.signal,Fd=Qb(jd,ac.axisTop,Fc,Oc),ef=Qb(jd,ac.axisBottom,Fc,Oc),xf=Qb(jd,ac.axisLeft,Fc,Oc);jd=Qb(jd,ac.axisRight,Fc,Oc);jd={signal:(null!=xf?he+" \x3d\x3d\x3d 'left' ? ("+df(xf)+") : ":"")+(null!=ef?he+" \x3d\x3d\x3d 'bottom' ? ("+
df(ef)+") : ":"")+(null!=jd?he+" \x3d\x3d\x3d 'right' ? ("+df(jd)+") : ":"")+(null!=Fd?he+" \x3d\x3d\x3d 'top' ? ("+df(Fd)+") : ":"")+"(null)"};me[qe]=jd}}else ge="top"===cd||"bottom"===cd?ac.axisX:ac.axisY,wd=ac["axis"+cd[0].toUpperCase()+cd.slice(1)];ge=ge||wd||bd?q.extend({},Fc,ge,wd,bd):Fc;wd=Ib.encode||{};ac=wd.axis||{};Oc=ac.name||void 0;Fc=ac.interactive;bd=ac.style;cd=Ba(Ib,ge);Hd=cd("tickBand");jd=cd("tickOffset");Hd?Hd.signal?(me={signal:"("+Hd.signal+") \x3d\x3d\x3d 'extent' ? 1 : 0.5"},
qe={signal:"("+Hd.signal+") \x3d\x3d\x3d 'extent'"},q.isObject(jd)||(jd={signal:"("+Hd.signal+") \x3d\x3d\x3d 'extent' ? 0 : "+jd})):"extent"===Hd?(me=1,qe=!0,jd=0):(me=.5,qe=!1):(me=cd("bandPosition"),qe=cd("tickExtra"));me={extra:qe,band:me,offset:jd};qe={scale:Ib.scale,ticks:!!cd("ticks"),labels:!!cd("labels"),grid:!!cd("grid"),domain:!!cd("domain"),title:null!=Ib.title};Hd=sa(Q.add(yd({},[qe])));he=sa(Q.add(kd({scale:Q.scaleRef(Ib.scale),extra:Q.property(me.extra),count:Q.objectProperty(Ib.tickCount),
values:Q.objectProperty(Ib.values),minstep:Q.property(Ib.tickMinStep),formatType:Q.property(Ib.formatType),formatSpecifier:Q.property(Ib.format)})));jd=[];qe.grid&&jd.push(Ac(Ib,ge,wd.grid,he,me));if(qe.ticks){var Ff=cd("tickSize");jd.push(Jc(Ib,ge,wd.ticks,he,Ff,me))}qe.labels&&(Ff=qe.ticks?Ff:0,jd.push(ad(Ib,ge,wd.labels,he,Ff,me)));qe.domain&&jd.push($b(Ib,ge,wd.domain,Hd));qe.title&&jd.push(md(Ib,ge,wd.title,Hd));Ff={enter:{},update:{}};Ea(Ff,{orient:cd("orient"),offset:cd("offset")||0,position:y(Ib.position,
0),titlePadding:cd("titlePadding"),minExtent:cd("minExtent"),maxExtent:cd("maxExtent"),range:{signal:'abs(span(range("'+Ib.scale+'")))'},translate:cd("translate"),format:Ib.format,formatType:Ib.formatType});return I(cb({role:"axis",from:Hd,encode:ab(Ff,ac,ke),marks:jd,aria:cd("aria"),description:cd("description"),zindex:cd("zindex"),name:Oc,interactive:Fc,style:bd}),Q)});q.array(C.marks).forEach(function(Ib){return I(Ib,Q)});q.array(C.legends).forEach(function(Ib){return bb(Ib,Q)});C.title&&va(C.title,
Q);Q.parseLambdas();return Q}function Vd(C,Q){var Na=Q.config,Ab=sa(Q.root=Q.add(new wa("operator",void 0,void 0,void 0))),zb=ze(C,Na);zb.forEach(function(Oc){return ia(Oc,Q)});Q.description=C.description||Na.description;Q.eventConfig=Na.events;Q.legends=Q.objectProperty(Na.legend&&Na.legend.layout);Q.locale=Na.locale;Na=Q.add(yd());var Ib=Q.add(de(xa(ab({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},C.encode),"group","frame",C.style,Q,{pulse:sa(Na)}))),
ac=Q.add(fe({layout:Q.objectProperty(C.layout),legends:Q.legends,autosize:Q.signalRef("autosize"),mark:Ab,pulse:sa(Ib)}));Q.operators.pop();Q.pushState(sa(Ib),sa(ac),null);rd(C,Q,zb);Q.operators.push(ac);C=Q.add(pd({mark:Ab,pulse:sa(ac)}));C=Q.add(Yc({pulse:sa(C)}));C=Q.add(ee({pulse:sa(C)}));Q.addData("root",new Cb(Q,Na,Na,C));return Q}function Zd(C,Q){return Q&&Q.signal?{name:C,update:Q.signal}:{name:C,value:Q}}function ze(C,Q){var Na=function(ac){return y(C[ac],Q[ac])},Ab=[Zd("background",Na("background")),
Zd("autosize",db(Na("autosize"))),Zd("padding",Eb(Na("padding"))),Zd("width",Na("width")||0),Zd("height",Na("height")||0)],zb=Ab.reduce(function(ac,Oc){return ac[Oc.name]=Oc,ac},{}),Ib={};q.array(C.signals).forEach(function(ac){q.hasOwnProperty(zb,ac.name)?ac=q.extend(zb[ac.name],ac):Ab.push(ac);Ib[ac.name]=ac});q.array(Q.signals).forEach(function(ac){q.hasOwnProperty(Ib,ac.name)||q.hasOwnProperty(zb,ac.name)||Ab.push(ac)});return Ab}function te(C,Q){this.config=C||{};this.options=Q||{};this.bindings=
[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function ue(C){this.config=C.config;this.options=C.options;this.legends=C.legends;this.field=Object.create(C.field);this.signals=Object.create(C.signals);this.lambdas=Object.create(C.lambdas);this.scales=Object.create(C.scales);
this.events=Object.create(C.events);this.data=Object.create(C.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++C._nextsub[0];this._nextsub=C._nextsub;this._parent=C._parent.slice();this._encode=C._encode.slice();this._lookup=C._lookup.slice();this._markpath=C._markpath}function bf(C){return(q.isArray(C)?vd:N)(C)}function vd(C){for(var Q=C.length,Na="[",Ab=0;Ab<Q;++Ab){var zb=C[Ab];Na+=(0<Ab?",":"")+(q.isObject(zb)?zb.signal||bf(zb):q.stringValue(zb))}return Na+"]"}
function N(C){var Q="{",Na=0,Ab;for(Ab in C){var zb=C[Ab];Q+=(1<++Na?",":"")+q.stringValue(Ab)+":"+(q.isObject(zb)?zb.signal||bf(zb):q.stringValue(zb))}return Q+"}"}function na(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},
symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},
cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,
rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",
left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}var Da=function(C){return q.isObject(C)&&!q.isArray(C)?q.extend({},C):{value:C}},gb=function(C){return q.isString(C)?q.stringValue(C):C.signal?"("+C.signal+")":ja(C)},Sa=function(C,
Q,Na,Ab){return"("+C+"("+[Q,Na,Ab].map(pa).join(",")+")+'')"},Pb=["value","update","init","react","bind"],kc=qa("key"),oc={code:"_.$value",ast:{type:"Identifier",value:"value"}},qc=function(C){return function(Q,Na,Ab){return new wa(C,Na,Q||void 0,Ab)}},uc=qc("aggregate"),kd=qc("axisticks"),pd=qc("bound"),yd=qc("collect"),ld=qc("compare"),Od=qc("datajoin"),de=qc("encode"),jc=qc("expression"),Wd=qc("facet"),Jd=qc("field"),Lb=qc("key"),Ke=qc("legendentries"),oe=qc("load"),re=qc("mark"),Ye=qc("multiextent"),
Oe=qc("multivalues"),ff=qc("overlap"),He=qc("params"),be=qc("prefacet"),fc=qc("projection"),Pd=qc("proxy"),dc=qc("relay"),Yc=qc("render"),ne=qc("scale"),ee=qc("sieve"),Pc=qc("sortitems"),fe=qc("viewlayout"),Sd=qc("values"),Ld=0,Qd={min:"min",max:"max",count:"sum"},Ed="size shape fill stroke strokeWidth strokeDash opacity".split(" "),ke={name:1,style:1,interactive:1},Gd={value:0},pe={value:1},Le=Z(q.stringValue("left"),q.stringValue("right"),q.stringValue("center")),cf=Z('"top"','"bottom"','"middle"'),
qf='datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "right" ? ('+Z('"right"','"left"','"center"')+') : ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") \x26\x26 !(datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "left")) ? "left" : '+Le,gd='(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (datum.vgrad ? (item.orient \x3d\x3d\x3d "right" ? "bottom" : "top") : '+cf+') : "top"';Cb.fromEntries=function(C,Q){var Na=Q.length,Ab=Q[Na-1],zb=Q[Na-2],Ib=Q[0],ac=null,
Oc=1;Ib&&"load"===Ib.type&&(Ib=Q[1]);for(C.add(Q[0]);Oc<Na;++Oc)Q[Oc].params.pulse=sa(Q[Oc-1]),C.add(Q[Oc]),"aggregate"===Q[Oc].type&&(ac=Q[Oc]);return new Cb(C,Ib,zb,Ab,ac)};Cb.prototype={countsRef:function(C,Q,Na){var Ab=this.counts||(this.counts={}),zb=Rb(Q);if(null!=zb){C=this.scope;var Ib=Ab[zb]}Ib?Na&&Na.field&&Rc(C,Ib.agg.params,Na):(Ib={groupby:C.fieldRef(Q,"key"),pulse:sa(this.output)},Na&&Na.field&&Rc(C,Ib,Na),Na=C.add(uc(Ib)),Ib=C.add(yd({pulse:sa(Na)})),Ib={agg:Na,ref:sa(Ib)},null!=zb&&
(Ab[zb]=Ib));return Ib.ref},tuplesRef:function(){return sa(this.values)},extentRef:function(C,Q){return se(C,this,"extent","extent",Q,!1)},domainRef:function(C,Q){return se(C,this,"domain","values",Q,!1)},valuesRef:function(C,Q,Na){return se(C,this,"vals","values",Q,Na||!0)},lookupRef:function(C,Q){return se(C,this,"lookup","tupleindex",Q,!1)},indataRef:function(C,Q){return se(C,this,"indata","tupleindex",Q,!0,!0)}};var rf=function(C,Q,Na){Za(C)?(C=C.signal,Q=Qe(C+" \x3d\x3d\x3d 'left' || "+C+" \x3d\x3d\x3d 'top'",
Q,Na)):Q="left"===C||"top"===C?Q:Na;return Q},Fe=function(C,Q,Na){Za(C)?(C=C.signal,Q=$e(C+" \x3d\x3d\x3d 'top' || "+C+" \x3d\x3d\x3d 'bottom'",Q,Na)):Q="bottom"===C||"top"===C?Q:Na;return Q},Pe=function(C,Q,Na){Za(C)?(C=C.signal,Q=$e(C+" !\x3d\x3d 'top' \x26\x26 "+C+" !\x3d\x3d 'bottom'",Q,Na)):Q="bottom"===C||"top"===C?Na:Q;return Q},Ee=function(C,Q,Na){return Za(C)?Qe(C.signal+" \x3d\x3d\x3d 'top'",Q,Na):"top"===C?{value:Q}:{value:Na}},$e=function(C,Q,Na){Q=null!=Q?Da(Q):Q;Na=null!=Na?Da(Na):Na;
if(null!=Q&&1!==Object.keys(Q).length||null!=Na&&1!==Object.keys(Na).length)return[q.extend({test:C},Q)].concat(Na||[]);Q=Q?Q.signal||q.stringValue(Q.value):null;Na=Na?Na.signal||q.stringValue(Na.value):null;return{signal:C+" ? ("+Q+") : ("+Na+")"}},Qe=function(C,Q,Na){return{signal:C+" ? ("+df(Q)+") : ("+df(Na)+")"}},df=function(C){return Za(C)?C.signal:null==C?null:q.stringValue(C)},Be=function(C,Q){var Na=C.signal;return Na&&Na.endsWith("(null)")?{signal:Na.slice(0,-6)+Q.signal}:C};te.prototype=
ue.prototype={parse:function(C){return rd(C,this)},fork:function(){return new ue(this)},isSubscope:function(){return 0<this._subid},toRuntime:function(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(C){this.operators.push(C);C.id=this.id();C.refs&&(C.refs.forEach(function(Q){Q.$ref=
C.id}),C.refs=null);return C},proxy:function(C){C=C instanceof wa?sa(C):C;return this.add(Pd({value:C}))},addStream:function(C){this.streams.push(C);C.id=this.id();return C},addUpdate:function(C){this.updates.push(C);return C},finish:function(){function C(zb,Ib,ac){zb&&(zb=zb.data||(zb.data={}),Ib=zb[Ib]||(zb[Ib]=[]),Ib.push(ac))}var Q;this.root&&(this.root.root=!0);for(Q in this.signals)this.signals[Q].signal=Q;for(Q in this.scales)this.scales[Q].scale=Q;for(Q in this.data){var Na=this.data[Q];C(Na.input,
Q,"input");C(Na.output,Q,"output");C(Na.values,Q,"values");for(var Ab in Na.index)C(Na.index[Ab],Q,"index:"+Ab)}return this},pushState:function(C,Q,Na){this._encode.push(sa(this.add(ee({pulse:C}))));this._parent.push(Q);this._lookup.push(Na?sa(this.proxy(Na)):null);this._markpath.push(-1)},popState:function(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent:function(){return q.peek(this._parent)},encode:function(){return q.peek(this._encode)},lookup:function(){return q.peek(this._lookup)},
markpath:function(){var C=this._markpath;return++C[C.length-1]},fieldRef:function(C,Q){if(q.isString(C))return qa(C,Q);C.signal||q.error("Unsupported field reference: "+q.stringValue(C));C=C.signal;var Na=this.field[C];Na||(Na={name:this.signalRef(C)},Q&&(Na.as=Q),this.field[C]=Na=sa(this.add(Jd(Na))));return Na},compareRef:function(C){var Q=this,Na=!1,Ab=function(Ib){return Za(Ib)?(Na=!0,Q.signalRef(Ib.signal)):Ib&&Ib.expr?(Na=!0,Q.exprRef(Ib.expr)):Ib},zb=q.array(C.field).map(Ab);C=q.array(C.order).map(Ab);
return Na?sa(this.add(ld({fields:zb,orders:C}))):{$compare:zb,$order:C}},keyRef:function(C,Q){var Na=!1,Ab=this.signals;C=q.array(C).map(function(zb){return Za(zb)?(Na=!0,sa(Ab[zb.signal])):zb});return Na?sa(this.add(Lb({fields:C,flat:Q}))):Fa(C,Q)},sortRef:function(C){if(!C)return C;var Q=Ca(C.op,C.field);C=C.order||"ascending";return C.signal?sa(this.add(ld({fields:Q,orders:this.signalRef(C.signal)}))):{$compare:Q,$order:C}},event:function(C,Q){var Na=C+":"+Q;if(!this.events[Na]){var Ab=this.id();
this.streams.push({id:Ab,source:C,type:Q});this.events[Na]=Ab}return this.events[Na]},hasOwnSignal:function(C){return q.hasOwnProperty(this.signals,C)},addSignal:function(C,Q){this.hasOwnSignal(C)&&q.error("Duplicate signal name: "+q.stringValue(C));Q=Q instanceof wa?Q:this.add(new wa("operator",Q,void 0,void 0));return this.signals[C]=Q},getSignal:function(C){this.signals[C]||q.error("Unrecognized signal name: "+q.stringValue(C));return this.signals[C]},signalRef:function(C){if(this.signals[C])return sa(this.signals[C]);
q.hasOwnProperty(this.lambdas,C)||(this.lambdas[C]=this.add(new wa("operator",null,void 0,void 0)));return sa(this.lambdas[C])},parseLambdas:function(){for(var C=Object.keys(this.lambdas),Q=0,Na=C.length;Q<Na;++Q){var Ab=C[Q],zb=S.parseExpression(Ab,this);Ab=this.lambdas[Ab];Ab.params=zb.$params;Ab.update=zb.$expr}},property:function(C){return C&&C.signal?this.signalRef(C.signal):C},objectProperty:function(C){return C&&q.isObject(C)?this.signalRef(C.signal||bf(C)):C},exprRef:function(C,Q){C={expr:S.parseExpression(C,
this)};Q&&(C.expr.$name=Q);return sa(this.add(jc(C)))},addBinding:function(C,Q){this.bindings||q.error("Nested signals do not support binding: "+q.stringValue(C));this.bindings.push(q.extend({signal:C},Q))},addScaleProj:function(C,Q){q.hasOwnProperty(this.scales,C)&&q.error("Duplicate scale or projection name: "+q.stringValue(C));this.scales[C]=this.add(Q)},addScale:function(C,Q){this.addScaleProj(C,ne(Q))},addProjection:function(C,Q){this.addScaleProj(C,fc(Q))},getScale:function(C){this.scales[C]||
q.error("Unrecognized scale name: "+q.stringValue(C));return this.scales[C]},scaleRef:function(C){return sa(this.getScale(C))},scaleType:function(C){return this.getScale(C).params.type},projectionRef:function(C){return this.scaleRef(C)},projectionType:function(C){return this.scaleType(C)},addData:function(C,Q){q.hasOwnProperty(this.data,C)&&q.error("Duplicate data set name: "+q.stringValue(C));return this.data[C]=Q},getData:function(C){this.data[C]||q.error("Undefined data set name: "+q.stringValue(C));
return this.data[C]},addDataPipeline:function(C,Q){q.hasOwnProperty(this.data,C)&&q.error("Duplicate data set name: "+q.stringValue(C));return this.addData(C,Cb.fromEntries(this,Q))}};n.AxisDomainRole="axis-domain";n.AxisGridRole="axis-grid";n.AxisLabelRole="axis-label";n.AxisRole="axis";n.AxisTickRole="axis-tick";n.AxisTitleRole="axis-title";n.DataScope=Cb;n.FrameRole="frame";n.LegendEntryRole="legend-entry";n.LegendLabelRole="legend-label";n.LegendRole="legend";n.LegendSymbolRole="legend-symbol";
n.LegendTitleRole="legend-title";n.MarkRole="mark";n.Scope=te;n.ScopeRole="scope";n.config=na;n.parse=function(C,Q,Na){q.isObject(C)||q.error("Input Vega specification must be an object.");Q=q.mergeConfig(na(),Q,C.config);return Vd(C,new te(Q,Na)).toRuntime()};n.signal=ia;n.signalUpdates=Y;n.stream=G;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[49]=function(Jb,sb,hc,vb){function n(ia){if(ia&&ia.__esModule)return ia;var wa=Object.create(null);ia&&Object.keys(ia).forEach(function(sa){if("default"!==sa){var qa=Object.getOwnPropertyDescriptor(ia,sa);Object.defineProperty(wa,sa,qa.get?qa:{enumerable:!0,get:function(){return ia[sa]}})}});wa["default"]=ia;return Object.freeze(wa)}Object.defineProperty(vb,"__esModule",{value:!0});var q=sb(0),S=sb(12),Pa=sb(14),Kb=sb(23),Ma=sb(24),db=sb(28),Eb=sb(33),qb=sb(35),Ea=sb(36),ab=sb(37),
fb=sb(39);hc=sb(40);Jb=sb(41);var Ja=sb(13),ea=sb(4),pa=sb(11),Ha=sb(22),Wa=sb(21),ja=sb(27),ba=sb(46),Ra=sb(6),xa=sb(44),Oa=sb(48),za=sb(45);sb=n(Pa);Kb=n(Kb);Ma=n(Ma);db=n(db);Eb=n(Eb);qb=n(qb);Ea=n(Ea);ab=n(ab);fb=n(fb);hc=n(hc);Jb=n(Jb);q.extend(S.transforms,sb,Kb,Ma,db,Eb,Ea,qb,ab,fb,hc,Jb);Object.keys(q).forEach(function(ia){"default"!==ia&&Object.defineProperty(vb,ia,{enumerable:!0,get:function(){return q[ia]}})});Object.keys(Ja).forEach(function(ia){"default"!==ia&&Object.defineProperty(vb,
ia,{enumerable:!0,get:function(){return Ja[ia]}})});Object.keys(ea).forEach(function(ia){"default"!==ia&&Object.defineProperty(vb,ia,{enumerable:!0,get:function(){return ea[ia]}})});Object.keys(pa).forEach(function(ia){"default"!==ia&&Object.defineProperty(vb,ia,{enumerable:!0,get:function(){return pa[ia]}})});Object.keys(Ha).forEach(function(ia){"default"!==ia&&Object.defineProperty(vb,ia,{enumerable:!0,get:function(){return Ha[ia]}})});Object.defineProperty(vb,"Dataflow",{enumerable:!0,get:function(){return S.Dataflow}});
Object.defineProperty(vb,"EventStream",{enumerable:!0,get:function(){return S.EventStream}});Object.defineProperty(vb,"MultiPulse",{enumerable:!0,get:function(){return S.MultiPulse}});Object.defineProperty(vb,"Operator",{enumerable:!0,get:function(){return S.Operator}});Object.defineProperty(vb,"Parameters",{enumerable:!0,get:function(){return S.Parameters}});Object.defineProperty(vb,"Pulse",{enumerable:!0,get:function(){return S.Pulse}});Object.defineProperty(vb,"Transform",{enumerable:!0,get:function(){return S.Transform}});
Object.defineProperty(vb,"changeset",{enumerable:!0,get:function(){return S.changeset}});Object.defineProperty(vb,"definition",{enumerable:!0,get:function(){return S.definition}});Object.defineProperty(vb,"ingest",{enumerable:!0,get:function(){return S.ingest}});Object.defineProperty(vb,"isTuple",{enumerable:!0,get:function(){return S.isTuple}});Object.defineProperty(vb,"transform",{enumerable:!0,get:function(){return S.transform}});Object.defineProperty(vb,"transforms",{enumerable:!0,get:function(){return S.transforms}});
Object.defineProperty(vb,"tupleid",{enumerable:!0,get:function(){return S.tupleid}});Object.defineProperty(vb,"interpolate",{enumerable:!0,get:function(){return Wa.interpolate}});Object.defineProperty(vb,"interpolateColors",{enumerable:!0,get:function(){return Wa.interpolateColors}});Object.defineProperty(vb,"interpolateRange",{enumerable:!0,get:function(){return Wa.interpolateRange}});Object.defineProperty(vb,"quantizeInterpolator",{enumerable:!0,get:function(){return Wa.quantizeInterpolator}});
Object.defineProperty(vb,"scale",{enumerable:!0,get:function(){return Wa.scale}});Object.defineProperty(vb,"scheme",{enumerable:!0,get:function(){return Wa.scheme}});Object.defineProperty(vb,"projection",{enumerable:!0,get:function(){return ja.projection}});Object.defineProperty(vb,"View",{enumerable:!0,get:function(){return ba.View}});Object.defineProperty(vb,"defaultLocale",{enumerable:!0,get:function(){return Ra.defaultLocale}});Object.defineProperty(vb,"formatLocale",{enumerable:!0,get:function(){return Ra.numberFormatDefaultLocale}});
Object.defineProperty(vb,"locale",{enumerable:!0,get:function(){return Ra.locale}});Object.defineProperty(vb,"resetDefaultLocale",{enumerable:!0,get:function(){return Ra.resetDefaultLocale}});Object.defineProperty(vb,"timeFormatLocale",{enumerable:!0,get:function(){return Ra.timeFormatDefaultLocale}});Object.defineProperty(vb,"expressionFunction",{enumerable:!0,get:function(){return xa.expressionFunction}});Object.defineProperty(vb,"parse",{enumerable:!0,get:function(){return Oa.parse}});Object.defineProperty(vb,
"runtimeContext",{enumerable:!0,get:function(){return za.context}});vb.version="5.17.0"};
shadow$provide[50]=function(I,Q,T,ba){var D=Q(10).Buffer;(function(N,Na){"object"===typeof ba&&"undefined"!==typeof T?Na(ba):"function"===typeof define&&define.amd?define(["exports"],Na):(N="undefined"!==typeof globalThis?globalThis:N||self,Na(N.vegaLite={}))})(this,function(N){function Na(b,e,a){b.fields=e||[];b.fname=a;return b}function Od(b){return 1===b.length?mk(b[0]):nk(b)}function nb(b){function e(){a.push(g+b.substring(h,k));g="";h=k+1}var a=[],c=b.length,d=null,f=0,g="",h,k;b+="";for(h=k=
0;k<c;++k){var l=b[k];if("\\"===l)g+=b.substring(h,k),g+=b.substring(++k,++k),h=k;else if(l===d)e(),d=null,f=-1;else if(!d)if(h===f&&'"'===l)h=k+1,d=l;else if(h===f&&"'"===l)h=k+1,d=l;else if("."===l&&!f)k>h?e():h=k+1;else if("["===l)k>h&&e(),f=h=k+1;else if("]"===l){if(!f)throw Error("Access path missing open bracket: "+b);0<f&&e();f=0;h=k+1}}if(f)throw Error("Access path missing closing bracket: "+b);if(d)throw Error("Access path missing closing quote: "+b);k>h&&(k++,e());return a}function uc(b,
e,a){e=[e].concat([].slice.call(a));console[b].apply(console,e)}function ma(b){return b===Object(b)}function Jc(b){for(var e=[],a=0;a<arguments.length;++a)e[a-0]=arguments[a];return e.reduce(function(c,d){for(var f in d)"signals"===f?c.signals=od(c.signals,d.signals):vc(c,f,d[f],"legend"===f?{layout:1}:"style"===f?!0:null);return c},{})}function vc(b,e,a,c){if("__proto__"!==e){var d;if(ma(a)&&!U(a))for(d in b=ma(b[e])?b[e]:b[e]={},a)c&&(!0===c||c[d])?vc(b,d,a[d]):"__proto__"!==d&&(b[d]=a[d]);else b[e]=
a}}function od(b,e){function a(f){c[f.name]||(c[f.name]=1,d.push(f))}if(null==b)return e;var c={},d=[];e.forEach(a);b.forEach(a);return d}function ya(b){return null!=b?U(b)?b:[b]:[]}function ob(b){return"boolean"===typeof b}function sa(b){return"number"===typeof b}function Y(b){return"string"===typeof b}function ca(b){return U(b)?"["+b.map(ca)+"]":ma(b)||Y(b)?JSON.stringify(b).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):b}function fb(b){for(var e={},a=b.length,c=0;c<a;++c)e[b[c]]=!0;return e}
function Xb(b,e){if(b.not)Xb(b.not,e);else if(b.and){var a=$jscomp.makeIterator(b.and);for(b=a.next();!b.done;b=a.next())Xb(b.value,e)}else if(b.or)for(a=$jscomp.makeIterator(b.or),b=a.next();!b.done;b=a.next())Xb(b.value,e);else e(b)}function Kc(b,e){return b.not?{not:Kc(b.not,e)}:b.and?{and:b.and.map(function(a){return Kc(a,e)})}:b.or?{or:b.or.map(function(a){return Kc(a,e)})}:e(b)}function bb(b,e){var a={};e=$jscomp.makeIterator(e);for(var c=e.next();!c.done;c=e.next())c=c.value,$c.call(b,c)&&
(a[c]=b[c]);return a}function Pa(b,e){b=Object.assign({},b);e=$jscomp.makeIterator(e);for(var a=e.next();!a.done;a=e.next())delete b[a.value];return b}function ea(b){if(sa(b))return b;b=Y(b)?b:td(b);if(250>b.length)return b;for(var e=0,a=0;a<b.length;a++){var c=b.charCodeAt(a);e=(e<<5)-e+c;e&=e}return e}function Xc(b){return!1===b||null===b}function R(b,e){return-1<b.indexOf(e)}function Yb(b,e){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var d=$jscomp.makeIterator(c.value);
c=d.next().value;d=d.next().value;if(e(d,c,a++))return!0}return!1}function nd(b,e){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var d=$jscomp.makeIterator(c.value);c=d.next().value;d=d.next().value;if(!e(d,c,a++))return!1}return!0}function Pd(b,e){for(var a=[],c=1;c<arguments.length;++c)a[c-1]=arguments[c];a=$jscomp.makeIterator(a);for(c=a.next();!c.done;c=a.next()){var d=c.value;c=b;d=null!==d&&void 0!==d?d:{};for(var f=$jscomp.makeIterator(E(d)),g=f.next();!g.done;g=
f.next())g=g.value,vc(c,g,d[g],!0)}return b}function pb(b,e){var a=[],c={},d;b=$jscomp.makeIterator(b);for(d=b.next();!d.done;d=b.next()){var f=d.value;d=e(f);d in c||(c[d]=1,a.push(f))}return a}function Yc(b,e){if(b.size!==e.size)return!1;b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())if(!e.has(a.value))return!1;return!0}function qd(b,e){b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())if(e.has(a.value))return!0;return!1}function rd(b){var e=new Set,a={};b=$jscomp.makeIterator(b);
for(var c=b.next();!c.done;a={$jscomp$loop$prop$wrappedWithAccessors$435:a.$jscomp$loop$prop$wrappedWithAccessors$435},c=b.next()){c=nb(c.value);a.$jscomp$loop$prop$wrappedWithAccessors$435=c.map(function(f,g){return 0===g?f:"[".concat(f,"]")});c=a.$jscomp$loop$prop$wrappedWithAccessors$435.map(function(f){return function(g,h){return f.$jscomp$loop$prop$wrappedWithAccessors$435.slice(0,h+1).join("")}}(a));c=$jscomp.makeIterator(c);for(var d=c.next();!d.done;d=c.next())e.add(d.value)}return e}function sd(b,
e){return void 0===b||void 0===e?!0:qd(rd(b),rd(e))}function ja(b){return 0===E(b).length}function Lb(b){return!0===b||!1===b}function oa(b){var e=b.replace(/\W/g,"_");return(b.match(/^\d+/)?"_":"")+e}function Zb(b,e){return b.not?"!("+Zb(b.not,e)+")":b.and?"("+b.and.map(function(a){return Zb(a,e)}).join(") \x26\x26 (")+")":b.or?"("+b.or.map(function(a){return Zb(a,e)}).join(") || (")+")":e(b)}function Lc(b,e){if(0===e.length)return!0;var a=e.shift();a in b&&Lc(b[a],e)&&delete b[a];return ja(b)}function $b(b){return b.charAt(0).toUpperCase()+
b.substr(1)}function wc(b,e){e=void 0===e?"datum":e;b=nb(b);for(var a=[],c=1;c<=b.length;c++){var d="[".concat(b.slice(0,c).map(ca).join("]["),"]");a.push("".concat(e).concat(d))}return a.join(" \x26\x26 ")}function Zc(b,e){return"".concat(void 0===e?"datum":e,"[").concat(ca(nb(b).join(".")),"]")}function Me(b){return b.replace(/(\[|\]|\.|'|")/g,"\\$1")}function yb(b){return"".concat(nb(b).map(Me).join("\\."))}function ac(b,e,a){return b.replace(new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),
"g"),a)}function pd(b){return"".concat(nb(b).join("."))}function zb(b){return b?nb(b).length:0}function ta(b){for(var e=[],a=0;a<arguments.length;++a)e[a-0]=arguments[a];e=$jscomp.makeIterator(e);for(a=e.next();!a.done;a=e.next())if(a=a.value,void 0!==a)return a}function q(b){var e=++Gg;return b?String(b)+e:e}function t(b){return v(b)?b:"__".concat(b)}function v(b){return 0===b.indexOf("__")}function y(b){if(void 0!==b)return(b%360+360)%360}function B(b){return sa(b)?!0:!isNaN(b)&&!isNaN(parseFloat(b))}
function F(b){return b&&b.condition}function M(b){return!!b&&!!b.argmin}function H(b){return!!b&&!!b.argmax}function Z(b){return Y(b)&&!!ok[b]}function Oa(b){switch(b){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function ad(b){return"color"===b||"fill"===b||"stroke"===b}function Hg(b){return Mc(b)!==b}function Mc(b){switch(b){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";
case "theta2":return"theta";case "radius2":return"radius"}return b}function xc(b){if(b in Ne)switch(b){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return b}function Mb(b){switch(b){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Nb(b){switch(b){case "x":case "x2":return"width";case "y":case "y2":return"height"}}
function pk(b){switch(b){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function Qd(b){return"width"===b?"x":"y"}function qk(b){switch(b){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Ig;
case "x":case "y":case "latitude":case "longitude":return rk;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",
rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function Oe(b){switch(b){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function Jg(b){ob(b)&&(b=Rd(b,void 0));return"bin"+E(b).map(function(e){return Sd(b[e])?oa("_".concat(e,"_").concat(ud(b[e]))):oa("_".concat(e,"_").concat(b[e]))}).join("")}function ua(b){return!0===b||ma(b)&&!b.binned}function Va(b){return"binned"===b||ma(b)&&!0===b.binned}function Sd(b){return null===b||void 0===b?void 0:b.selection}function Kg(b){switch(b){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;
case "strokeDash":return 4;default:return 10}}function V(b,e,a){e in b?Object.defineProperty(b,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[e]=a;return b}function Lg(b,e,a){e=e.get(b);if(!e)throw new TypeError("attempted to set private field on non-instance");if(e.set)e.set.call(b,a);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=a}return a}function Pe(b){return"Invalid specification ".concat(JSON.stringify(b),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function Mg(b){return"".concat("width"==b?"Width":"Height",' "container" only works for single views and layered views.')}function Ng(b){var e="width"==b?"x":"y";return"".concat("width"==b?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(e,'".')}function Og(b){return b?'Dropping "fit-'.concat(b,'" because spec has discrete ').concat(Nb(b),"."):'Dropping "fit" because spec has discrete size.'}function Qe(b){return"Unknown field for ".concat(b,". Cannot calculate view size.")}
function Pg(b){return'Cannot project a selection on encoding channel "'.concat(b,'", which has no field.')}function sk(b,e){return'Cannot project a selection on encoding channel "'.concat(b,'" as it uses an aggregate function ("').concat(e,'").')}function Qg(b){return"Selection not supported for ".concat(b," yet.")}function Rg(b){return'The "columns" property cannot be used when "'.concat(b,'" has nested row/column.')}function Sg(b,e,a){return'An ancestor parsed field "'.concat(b,'" as ').concat(a,
" but a child wants to parse the field as ").concat(e,".")}function Tg(b){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(b," are dropped.")}function Ug(b,e){var a=e.fill;e=e.stroke;return"Dropping color ".concat(b," as the plot also has ").concat(a&&e?"fill and stroke":a?"fill":"stroke",".")}function Re(b,e){return"Dropping ".concat(va(b),' from channel "').concat(e,'" since it does not contain any data field, datum, value, or signal.')}function Td(b,
e,a){return"".concat(b,' dropped as it is incompatible with "').concat(e,'"').concat(a?" when ".concat(a):"",".")}function tk(b){return"".concat(b,"-encoding is dropped as ").concat(b," is not a valid encoding channel.")}function Se(b,e){return'Using discrete channel "'.concat(b,'" to encode "').concat(e,'" field can be misleading as it does not encode ').concat("ordinal"===e?"order":"magnitude",".")}function Vg(b,e,a){return"".concat(a,"-scale's \"").concat(e,'" is dropped as it does not work with ').concat(b,
" scale.")}function Wg(b){return'The step for "'.concat(b,'" is dropped because the ').concat("width"===b?"x":"y"," is continuous.")}function Ud(b,e){return"Invalid ".concat(b,": ").concat(va(e),".")}function Xg(b){return"1D error band does not support ".concat(b,".")}function Yg(b){return"Channel ".concat(b,' is required for "binned" bin.')}function G(b){for(var e=[],a=0;a<arguments.length;++a)e[a-0]=arguments[a];bd.warn.apply(bd,$jscomp.arrayFromIterable(e))}function uk(b){for(var e=[],a=0;a<arguments.length;++a)e[a-
0]=arguments[a];bd.debug.apply(bd,$jscomp.arrayFromIterable(e))}function Nc(b){if(b&&ma(b))for(var e=$jscomp.makeIterator(Te),a=e.next();!a.done;a=e.next())if(a.value in b)return!0;return!1}function vk(b){B(b)&&(b=+b);if(sa(b))return b-1;var e=b.toLowerCase(),a=Zg.indexOf(e);if(-1!==a)return a;e=e.substr(0,3);e=wk.indexOf(e);if(-1!==e)return e;throw Error(Ud("month",b));}function xk(b){B(b)&&(b=+b);if(sa(b))return b%7;var e=b.toLowerCase(),a=$g.indexOf(e);if(-1!==a)return a;e=e.substr(0,3);e=yk.indexOf(e);
if(-1!==e)return e;throw Error(Ud("day",b));}function Ue(b,e){var a=[];e&&void 0!==b.day&&1<E(b).length&&(G("Dropping day from datetime ".concat(va(b)," as day cannot be combined with other units.")),b=aa(b),delete b.day);void 0!==b.year?a.push(b.year):a.push(2012);if(void 0!==b.month){var c=e?vk(b.month):b.month;a.push(c)}else if(void 0!==b.quarter){if(e)if(c=b.quarter,B(c)&&(c=+c),sa(c))4<c&&G(Ud("quarter",c)),--c;else throw Error(Ud("quarter",c));else c=b.quarter;a.push(sa(c)?3*c:c+"*3")}else a.push(0);
void 0!==b.date?a.push(b.date):void 0!==b.day?(e=e?xk(b.day):b.day,a.push(sa(e)?e+1:e+"+1")):a.push(1);e=$jscomp.makeIterator(["hours","minutes","seconds","milliseconds"]);for(c=e.next();!c.done;c=e.next())c=b[c.value],a.push("undefined"===typeof c?0:c);return a}function vd(b){var e=Ue(b,!0).join(", ");return b.utc?"utc(".concat(e,")"):"datetime(".concat(e,")")}function zk(b){var e=Ue(b,!0);return b.utc?+new Date(Date.UTC.apply(Date,$jscomp.arrayFromIterable(e))):+new (Function.prototype.bind.apply(Date,
[null].concat($jscomp.arrayFromIterable(e))))}function Ve(b){for(var e=[],a=$jscomp.makeIterator(Te),c=a.next();!c.done;c=a.next())c=c.value,ah(b,c)&&e.push(c);return e}function ah(b,e){var a=b.indexOf(e);return 0>a||0<a&&"seconds"===e&&"i"===b.charAt(a-1)||b.length>a+3&&"day"===e&&"o"===b.charAt(a+3)||0<a&&"year"===e&&"f"===b.charAt(a-1)?!1:!0}function bh(b){if(b)return b=Ve(b),"timeUnitSpecifier(".concat(td(b),", ").concat(td(Ak),")")}function Wa(b){if(b){var e;Y(b)?e={unit:b}:ma(b)&&(e=Object.assign({},
b,b.unit?{unit:b.unit}:{}));e.unit.startsWith("utc")&&(e.utc=!0,e.unit=e.unit.substr(3));return e}}function Bk(b){var e=Wa(b);b=Object.assign({},e);e=e.utc;var a=(delete b.utc,b);return a.unit?(e?"utc":"")+E(a).map(function(c){return oa("".concat("unit"===c?"":"_".concat(c,"_")).concat(a[c]))}).join(""):(e?"utc":"")+"timeunit"+E(a).map(function(c){return oa("_".concat(c,"_").concat(a[c]))}).join("")}function W(b){return b&&!!b.signal}function yc(b){return!!b.step}function bc(b){return U(b)?!1:"field"in
b&&"data"in b}function We(b){return b&&!!b.field&&void 0!==b.equal}function Xe(b){return b&&!!b.field&&void 0!==b.lt}function Ye(b){return b&&!!b.field&&void 0!==b.lte}function Ze(b){return b&&!!b.field&&void 0!==b.gt}function $e(b){return b&&!!b.field&&void 0!==b.gte}function af(b){return b&&b.field&&(U(b.range)&&2===b.range.length||W(b.range))?!0:!1}function bf(b){return b&&!!b.field&&(U(b.oneOf)||U(b.in))}function ch(b){return bf(b)||We(b)||af(b)||Xe(b)||Ze(b)||Ye(b)||$e(b)}function Ob(b,e){return Vd(b,
{timeUnit:e,wrapTime:!0})}function Ck(b,e){return b.map(function(a){return Ob(a,e)})}function dh(b,e){e=void 0===e?!0:e;var a,c=b.field,d=null===(a=Wa(b.timeUnit))||void 0===a?void 0:a.unit;if(d){c=wc(c);var f=d.startsWith("utc")?"utc":"";a={};for(var g=$jscomp.makeIterator(Te),h=g.next();!h.done;h=g.next())if(h=h.value,ah(d,h)){var k="quarter"===h?"(".concat(f,"quarter(").concat(c,")-1)"):"".concat(f).concat(h,"(").concat(c,")");a[h]=k}c=Ue(a,!1).join(", ");a="time("+(a.utc?"utc(".concat(c,")"):
"datetime(".concat(c,")"))+")"}else a=J(b,{expr:"datum"});if(We(b))return a+"\x3d\x3d\x3d"+Ob(b.equal,d);if(Xe(b))return e=b.lt,"".concat(a,"\x3c").concat(Ob(e,d));if(Ze(b))return e=b.gt,"".concat(a,"\x3e").concat(Ob(e,d));if(Ye(b))return e=b.lte,"".concat(a,"\x3c\x3d").concat(Ob(e,d));if($e(b))return e=b.gte,"".concat(a,"\x3e\x3d").concat(Ob(e,d));if(bf(b))return"indexof([".concat(Ck(b.oneOf,d).join(","),"], ").concat(a,") !\x3d\x3d -1");if(b&&b.field&&void 0!==b.valid)return cf(a,b.valid);if(af(b)){c=
b.range;b=W(c)?{signal:"".concat(c.signal,"[0]")}:c[0];c=W(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==b&&null!==c&&e)return"inrange("+a+", ["+Ob(b,d)+", "+Ob(c,d)+"])";e=[];null!==b&&e.push("".concat(a," \x3e\x3d ").concat(Ob(b,d)));null!==c&&e.push("".concat(a," \x3c\x3d ").concat(Ob(c,d)));return 0<e.length?e.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(b)));}function cf(b,e){return void 0===e||e?"isValid(".concat(b,") \x26\x26 isFinite(+").concat(b,
")"):"!isValid(".concat(b,") || !isFinite(+").concat(b,")")}function Dk(b){if(ch(b)&&b.timeUnit){var e;return Object.assign({},b,{timeUnit:null===(e=Wa(b.timeUnit))||void 0===e?void 0:e.unit})}return b}function Ek(b){if(b)switch(b=b.toLowerCase(),b){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function eh(b){return null===b||void 0===b?void 0:
b.selection}function df(b,e){switch(e){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!R(["point","band","identity"],b);case "bins":return!R(["point","band","identity","ordinal"],b);case "round":return b in Ab||"band"===b||"point"===b;case "padding":case "rangeMin":case "rangeMax":return b in Ab||R(["point","band"],b);case "paddingOuter":case "align":return R(["point","band"],b);case "paddingInner":return"band"===b;case "domainMax":case "domainMid":case "domainMin":case "clamp":return b in
Ab;case "nice":return b in Ab||"quantize"===b||"threshold"===b;case "exponent":return"pow"===b;case "base":return"log"===b;case "constant":return"symlog"===b;case "zero":return b in qb&&!R(["log","time","utc","threshold","quantile"],b)}}function fh(b,e){switch(e){case "interpolate":case "scheme":case "domainMid":if(!ad(b))return'Cannot use the scale property "'.concat(b,'" with non-color channel.')}}function Fk(b,e){if(!cc[b])return!1;switch(b){case "x":case "y":case "theta":case "radius":return e in
Ab||R(["band","point"],e);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return e in Ab||e in Wd||R(["band","point","ordinal"],e);case "color":case "fill":case "stroke":return"band"!==e;case "strokeDash":return"ordinal"===e||e in Wd;case "shape":return"ordinal"===e}}function wd(b){return b&&!!b.expr}function Bb(b){var e=E(b||{}),a={};e=$jscomp.makeIterator(e);for(var c=e.next();!c.done;c=e.next())c=c.value,a[c]=Xa(b[c]);return a}function zc(b){return R(["line",
"area","trail"],b)}function dc(b){return b.type}function ef(b){var e=b.channel,a=b.channelDef,c=b.markDef,d=b.scale,f=b.config;b=gh(b);var g;if(g=K(a))g=a.aggregate,g=!(Y(g)&&R(hh,g));return g&&d&&d.get("type")in Ab&&!1===d.get("zero")?ih({fieldDef:a,channel:e,markDef:c,ref:b,config:f}):b}function ih(b){var e=b.fieldDef,a=b.channel,c=b.markDef,d=b.ref;b=b.config;if(zc(c.type)||null===la("invalid",c,b))return d;e=ff(e,!0);a="y"===Mc(a)?{field:{group:"height"}}:{value:0};return[Object.assign({},{test:e},
a),d]}function ff(b,e){e=void 0===e?!0:e;return cf(Y(b)?b:J(b,{expr:"datum"}),!e)}function Oc(b,e,a,c){var d={};e&&(d.scale=e);Ac(b)?(b=b.datum,Nc(b)?d.signal=vd(b):W(b)?d.signal=b.signal:wd(b)?d.signal=b.expr:d.value=b):d.field=J(b,a);c&&(b=c.offset,c=c.band,b&&(d.offset=b),c&&(d.band=c));return d}function Xd(b){var e=b.scaleName,a=b.fieldOrDatumDef,c=b.fieldOrDatumDef2,d=b.offset,f=void 0===b.band?.5:b.band,g=0<f&&1>f?"datum":void 0;b=J(a,{expr:g,suffix:b.startSuffix});c=void 0!==c?J(c,{expr:g}):
J(a,{suffix:"end",expr:g});a={};0===f||1===f?(a.scale=e,a.field=0===f?b:c):(f="".concat(f," * ").concat(b," + ").concat(1-f," * ").concat(c),a.signal='scale("'.concat(e,'", ').concat(f,")"));d&&(a.offset=d);return a}function gh(b){var e=b.channel,a=b.channelDef,c=b.channel2Def,d=b.markDef,f=b.config,g=b.scaleName,h=b.scale,k=b.stack,l=b.offset,n=b.defaultRef;b=b.band;if(a){if(X(a)){var m,p;if(rb(a)){var r;b=null!==(r=b)&&void 0!==r?r:xd({channel:e,fieldDef:a,fieldDef2:c,markDef:d,stack:k,config:f,
isMidPoint:!0});d=a.bin;f=a.timeUnit;n=a.type;if(ua(d)||b&&f&&"temporal"===n)return k&&k.impute?Oc(a,g,{binSuffix:"mid"},{offset:l}):b?Xd({scaleName:g,fieldOrDatumDef:a,band:b,offset:l}):Oc(a,g,yd(a,e)?{binSuffix:"range"}:{},{offset:l});if(Va(d)){if(K(c))return Xd({scaleName:g,fieldOrDatumDef:a,fieldOrDatumDef2:c,band:b,offset:l});G(Yg("x"===e?"x2":"y2"))}}e=null===h||void 0===h?void 0:h.get("type");return Oc(a,g,e in cb?{binSuffix:"range"}:{},{offset:l,band:"band"===e?null!==(m=null!==(p=b)&&void 0!==
p?p:a.band)&&void 0!==m?m:.5:void 0})}if(Cb(a))return g=l?{offset:l}:{},Object.assign({},zd(e,a.value),g)}"function"===typeof n&&(n=n());return n?Object.assign({},n,l?{offset:l}:{}):n}function zd(b,e){return R(["x","x2"],b)&&"width"===e?{field:{group:"width"}}:R(["y","y2"],b)&&"height"===e?{field:{group:"height"}}:za(e)}function Pc(b){return b&&"number"!==b&&"time"!==b}function jh(b,e,a){return"".concat(b,"(").concat(e).concat(a?", ".concat(JSON.stringify(a)):"",")")}function gf(b){var e=b.fieldOrDatumDef,
a=b.format,c=b.formatType,d=b.expr,f=b.normalizeStack;b=b.config;if(Pc(c))return hf({fieldOrDatumDef:e,format:a,formatType:c,expr:d,config:b});f=kh(e,d,f);if(cd(e)){var g,h;c=K(e)?null===(g=Wa(e.timeUnit))||void 0===g?void 0:g.unit:void 0;b=b.timeFormat;e=Yd(e)&&(null===(h=e.scale)||void 0===h?void 0:h.type)===Fa.UTC;!c||a?(a=Y(a)?a:b,f="".concat(e?"utc":"time","Format(").concat(f,", '").concat(a,"')")):c?(h=bh(c),e=e||c.startsWith("utc"),f="".concat(e?"utc":"time","Format(").concat(f,", ").concat(h,
")")):f=void 0;return f?{signal:f}:void 0}a=lh(Bc(e),a,b);return K(e)&&ua(e.bin)?(h=J(e,{expr:d,binSuffix:"end"}),{signal:Zd(f,h,a,c,b)}):a||"quantitative"===Bc(e)?{signal:"".concat(mh(f,a))}:{signal:"isValid(".concat(f,") ? ").concat(f,' : ""+').concat(f)}}function kh(b,e,a){if(K(b))return a?"".concat(J(b,{expr:e,suffix:"end"}),"-").concat(J(b,{expr:e,suffix:"start"})):J(b,{expr:e});b=b.datum;b=Nc(b)?vd(b):"".concat(JSON.stringify(b));return b}function hf(b){var e=b.fieldOrDatumDef,a=b.format,c=
b.formatType,d=b.expr,f=b.normalizeStack,g=b.config;b=b.field;var h;b=null!==(h=b)&&void 0!==h?h:kh(e,d,f);return K(e)&&ua(e.bin)?(e=J(e,{expr:d,binSuffix:"end"}),{signal:Zd(b,e,a,c,g)}):{signal:jh(c,b,a)}}function nh(b,e,a,c,d,f){if(!Pc(c)){if(cd(b)){var g;b=K(b)?null===(g=Wa(b.timeUnit))||void 0===g?void 0:g.unit:void 0;a=a?a:b?{signal:bh(b)}:f?void 0:d.timeFormat;return a}return lh(e,a,d)}}function oh(b,e,a){if(b&&(W(b)||"number"===b||"time"===b))return b;if(cd(e)&&"time"!==a&&"utc"!==a)return"time"}
function lh(b,e,a){if(Y(e))return e;if("quantitative"===b)return a.numberFormat}function mh(b,e){return"format(".concat(b,', "').concat(e||"",'")')}function ph(b,e,a,c){var d;return Pc(a)?jh(a,b,e):mh(b,null!==(d=Y(e)?e:void 0)&&void 0!==d?d:c.numberFormat)}function Zd(b,e,a,c,d){var f=ph(b,a,c,d);e=ph(e,a,c,d);return"".concat(cf(b,!1),' ? "null" : ').concat(f,' + "').concat(" – ",'" + ').concat(e)}function Pb(b){return!!b&&("count"===b.op||!!b.field)}function qh(b){return!!b&&U(b)}function Ad(b){return"row"in
b||"column"in b}function rh(b){var e=b.timeUnit,a=b.bin,c=b.aggregate;return Object.assign({},e?{timeUnit:e}:{},a?{bin:a}:{},c?{aggregate:c}:{},{field:b.field})}function xd(b){var e=b.channel,a=b.fieldDef,c=b.fieldDef2,d=b.markDef,f=b.stack,g=b.config;b=b.isMidPoint;if(X(a)&&void 0!==a.band)return a.band;if(K(a)){var h=a.bin;if(a.timeUnit&&!c)return b?Qc("timeUnitBandPosition",d,g):R(["rect","bar","image","arc"],d.type)?Qc("timeUnitBand",d,g):0;if(ua(h))return R(["rect","bar","image","arc"],d.type)&&
!b?1:.5}if((null===f||void 0===f?void 0:f.fieldChannel)===e&&b)return.5}function jf(b,e,a,c,d,f){return ua(e.bin)||e.timeUnit&&rb(e)&&"temporal"===e.type?!!xd({channel:b,fieldDef:e,fieldDef2:a,stack:c,markDef:d,config:f}):!1}function $d(b){b=b&&b.condition;return!!b&&!U(b)&&K(b)}function ae(b){b=b&&b.condition;return!!b&&!U(b)&&X(b)}function K(b){return!!b&&(!!b.field||"count"===b.aggregate)}function Bc(b){return b&&b.type}function Ac(b){return!!b&&"datum"in b}function Qb(b){return rb(b)&&!kf(b)||
lf(b)}function lf(b){return Ac(b)&&sa(b.datum)}function X(b){return K(b)||Ac(b)}function rb(b){return!!b&&("field"in b||"count"===b.aggregate)&&"type"in b}function Cb(b){return b&&"value"in b&&"value"in b}function Yd(b){return!!b&&("scale"in b||"sort"in b)}function mf(b){return b&&("axis"in b||"stack"in b||"impute"in b)}function sh(b){return!!b&&("format"in b||"formatType"in b)}function Gk(b){return Pa(b,["legend","axis","header","scale"])}function J(b,e){e=void 0===e?{}:e;var a=b.field,c=e.prefix,
d=e.suffix,f="";if("count"===b.aggregate)a=t("count");else{if(!e.nofn)if("op"in b)var g=b.op;else{var h=b.bin,k=b.aggregate;b=b.timeUnit;if(ua(h)){var l,n;g=Jg(h);d=(null!==(l=e.binSuffix)&&void 0!==l?l:"")+(null!==(n=e.suffix)&&void 0!==n?n:"")}else if(k)H(k)?(f='["'.concat(a,'"]'),a="argmax_".concat(k.argmax)):M(k)?(f='["'.concat(a,'"]'),a="argmin_".concat(k.argmin)):g=String(k);else if(b){var m;g=Bk(b);d=(!R(["range","mid"],e.binSuffix)&&e.binSuffix||"")+(null!==(m=e.suffix)&&void 0!==m?m:"")}}g&&
(a=a?"".concat(g,"_").concat(a):g)}d&&(a="".concat(a,"_").concat(d));c&&(a="".concat(c,"_").concat(a));return e.forAs?pd(a):e.expr?Zc(a,e.expr)+f:yb(a)+f}function kf(b){switch(b.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return K(b)&&!!b.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(b.type,'".'));}function Hk(b,e){var a=b.field,c=b.timeUnit,d=b.aggregate;if("count"===d)return e.countTitle;if(ua(b.bin))return"".concat(a," (binned)");if(c){var f;
if(b=null===(f=Wa(c))||void 0===f?void 0:f.unit)return"".concat(a," (").concat(Ve(b).join("-"),")")}else if(d)return H(d)?"".concat(a," for max ").concat(d.argmax):M(d)?"".concat(a," for min ").concat(d.argmin):"".concat($b(d)," of ").concat(a);return a}function dd(b,e,a){var c=a.allowDisabling,d=void 0===a.includeDefault?!0:a.includeDefault,f;a=null===(f=nf(b))||void 0===f?void 0:f.title;if(!K(b))return a;e=d?Bd(b,e):void 0;if(c)return ta(a,b.title,e);var g;return null!==(g=null!==a&&void 0!==a?
a:b.title)&&void 0!==g?g:e}function nf(b){if(mf(b)&&b.axis)return b.axis;if(b&&"legend"in b&&b.legend)return b.legend;if(b&&"header"in b&&b.header)return b.header}function be(b){if(sh(b))return{format:b.format,formatType:b.formatType};var e;b=null!==(e=nf(b))&&void 0!==e?e:{};return{format:b.format,formatType:b.formatType}}function Ik(b,e){var a;switch(e){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in
b&&U(b.sort))return"ordinal";e=b.aggregate;if(b.timeUnit)return"temporal";if(b.bin||e&&!H(e)&&!M(e))return"quantitative";if(Yd(b)&&(null===(a=b.scale)||void 0===a?0:a.type))switch(of[b.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Rb(b){if(K(b))return b;if($d(b))return b.condition}function Ga(b){if(X(b))return b;if(ae(b))return b.condition}function th(b,e,a,c){c=void 0===c?{}:c;return Y(b)||sa(b)||ob(b)?(a=Y(b)?"string":
sa(b)?"number":"boolean",e="Channel ".concat(e," is a ").concat(a,". Converted to {value: ").concat(va(b),"}."),G(e),{value:b}):X(b)?ce(b,e,a,c):ae(b)?Object.assign({},b,{condition:ce(b.condition,e,a,c)}):b}function ce(b,e,a,c){if(sh(b)){var d=Object.assign({},b),f=b.formatType;d=(delete d.format,delete d.formatType,d);if(Pc(f)&&!a.customFormatTypes)return G(Tg(e)),ce(d,e,a,c)}else if((f=mf(b)?"axis":b&&"legend"in b?"legend":b&&"header"in b?"header":null)&&b[f]){var g=b[f];d=Object.assign({},g);g=
g.formatType;d=(delete d.format,delete d.formatType,d);if(Pc(g)&&!a.customFormatTypes)return G(Tg(e)),g={},ce(Object.assign({},b,(g[f]=d,g)),e,a,c)}if(K(b))return pf(b,e,c);e=b.type;e||(e=b.datum,e=sa(e)?"quantitative":Y(e)?"nominal":Nc(e)?"temporal":void 0,b=Object.assign({},b,{type:e}));return b}function pf(b,e,a){a=void 0===a?{}:a;var c=void 0===a.compositeMark?!1:a.compositeMark;a=b.aggregate;var d=b.timeUnit,f=b.bin,g=b.field;b=Object.assign({},b);c||!a||Z(a)||H(a)||M(a)||(G('Invalid aggregation operator "'.concat(a,
'".')),delete b.aggregate);d&&(b.timeUnit=Wa(d));g&&(b.field="".concat(g));ua(f)&&(b.bin=Rd(f,e));!Va(f)||e in La||G("Channel ".concat(e,' should not be used with "binned" bin.'));rb(b)?(c=b.type,d=Ek(c),c!==d&&(b.type=d),"quantitative"!==c&&Y(a)&&R(hh,a)&&(G('Invalid field type "'.concat(c,'" for aggregate: "').concat(a,'", using "quantitative" instead.')),b.type="quantitative")):Hg(e)||(a=Ik(b,e),b.type=a);rb(b)&&(e=Jk(b,e)||{},a=e.warning,!1===e.compatible&&G(a));if("sort"in b&&Y(b.sort)){e=b.sort;
if(e in uh)return Object.assign({},b,{sort:{encoding:e}});a=e.substr(1);if("-"===e.charAt(0)&&a in uh)return Object.assign({},b,{sort:{encoding:a,order:"descending"}})}return b&&"header"in b&&(e=b.header,c=Object.assign({},e),a=e.orient,c=(delete c.orient,c),a)?Object.assign({},b,{header:Object.assign({},c,{labelOrient:e.labelOrient||a,titleOrient:e.titleOrient||a})}):b}function Rd(b,e){return ob(b)?{maxbins:Kg(e)}:"binned"===b?{binned:!0}:b.maxbins||b.step?b:Object.assign({},b,{maxbins:Kg(e)})}function Jk(b,
e){var a=b.type;if("geojson"===a&&"shape"!==e)return{compatible:!1,warning:"Channel ".concat(e," should not be used with a geojson data.")};switch(e){case "row":case "column":case "facet":return kf(b)?Rc:{compatible:!1,warning:"".concat(e," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Rc;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==a?{compatible:!1,warning:"Channel ".concat(e," should be used with a quantitative field only, not ").concat(b.type," field.")}:Rc;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==a||b.sort?Rc:{compatible:!1,warning:"Channel ".concat(e," should not be used with an unsorted discrete field.")};case "strokeDash":return R(["ordinal",
"nominal"],b.type)?Rc:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return R(["ordinal","nominal","geojson"],b.type)?Rc:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==b.type||"sort"in b?Rc:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function cd(b){var e=be(b).formatType,a;if(!(a="time"===e)){if(e=!e)e=b&&
("temporal"===b.type||K(b)&&!!b.timeUnit);a=e}return a}function Vd(b,e){var a=e.timeUnit,c=e.type,d=e.wrapTime;e=e.undefinedIfExprNotRequired;var f;c=(a=a&&(null===(f=Wa(a))||void 0===f?void 0:f.unit))||"temporal"===c;if(wd(b))var g=b.expr;else W(b)?g=b.signal:Nc(b)?(c=!0,g=vd(b)):(Y(b)||sa(b))&&c&&(g="datetime(".concat(JSON.stringify(b),")"),vh[a]&&(sa(b)&&1E4>b||Y(b)&&isNaN(Date.parse(b)))&&(g={},g=vd((g[a]=b,g))));return g?d&&c?"time(".concat(g,")"):g:e?void 0:JSON.stringify(b)}function wh(b,e){var a=
b.type;return e.map(function(c){var d=Vd(c,{timeUnit:K(b)?b.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==d?{signal:d}:c})}function yd(b,e){return ua(b.bin)?!!cc[e]&&R(["ordinal","nominal"],b.type):(console.warn("Only call this method for binned field defs."),!1)}function xh(b){var e=Object.assign({},b),a=b.anchor,c=b.frame,d=b.offset,f=b.orient,g=b.color,h=b.subtitleColor,k=b.subtitleFont,l=b.subtitleFontSize,n=b.subtitleFontStyle,m=b.subtitleFontWeight,p=b.subtitleLineHeight;
b=b.subtitlePadding;e=(delete e.anchor,delete e.frame,delete e.offset,delete e.orient,delete e.color,delete e.subtitleColor,delete e.subtitleFont,delete e.subtitleFontSize,delete e.subtitleFontStyle,delete e.subtitleFontWeight,delete e.subtitleLineHeight,delete e.subtitlePadding,e);g=Object.assign({},e,g?{fill:g}:{});a=Object.assign({},a?{anchor:a}:{},c?{frame:c}:{},d?{offset:d}:{},f?{orient:f}:{});h=Object.assign({},h?{subtitleColor:h}:{},k?{subtitleFont:k}:{},l?{subtitleFontSize:l}:{},n?{subtitleFontStyle:n}:
{},m?{subtitleFontWeight:m}:{},p?{subtitleLineHeight:p}:{},b?{subtitlePadding:b}:{});k=bb(g,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:k,nonMark:a,subtitle:h}}function Cc(b){return Y(b)||U(b)&&Y(b[0])}function yh(b){var e=U(b.condition)?b.condition.map(zh):zh(b.condition);return Object.assign({},Xa(b),{condition:e})}function Xa(b){if(wd(b)){var e=Object.assign({},b);b=b.expr;e=(delete e.expr,e);return Object.assign({},{signal:b},e)}return b}function zh(b){if(wd(b)){var e=
Object.assign({},b);b=b.expr;e=(delete e.expr,e);return Object.assign({},{signal:b},e)}return b}function za(b){if(wd(b)){var e=Object.assign({},b);b=b.expr;e=(delete e.expr,e);return Object.assign({},{signal:b},e)}return W(b)?b:void 0!==b?{value:b}:void 0}function ec(b){return W(b)?b.signal:null==b?null:ca(b)}function Kk(b,e,a){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=Qc(c,e.markDef,e.config);void 0!==d&&(b[c]=za(d))}return b}function Ah(b){var e;return[].concat(b.type,
null!==(e=b.style)&&void 0!==e?e:[])}function la(b,e,a,c){var d=c=void 0===c?{}:c,f=d.vgChannel;if(f&&void 0!==e[f])return e[f];if(void 0!==e[b])return e[b];if(!d.ignoreVgConfig||f&&f!==b)return Qc(b,e,a,c)}function Qc(b,e,a,c){c=(void 0===c?{}:c).vgChannel;return ta(c?de(b,e,a.style):void 0,de(b,e,a.style),c?a[e.type][c]:void 0,a[e.type][b],c?a.mark[c]:a.mark[b])}function de(b,e,a){return Bh(b,Ah(e),a)}function Bh(b,e,a){e=ya(e);var c;e=$jscomp.makeIterator(e);for(var d=e.next();!d.done;d=e.next())(d=
a[d.value])&&void 0!==d[b]&&(c=d[b]);return c}function Ch(b,e){return ya(b).reduce(function(a,c){var d;a.field.push(J(c,e));a.order.push(null!==(d=c.sort)&&void 0!==d?d:"ascending");return a},{field:[],order:[]})}function Dh(b,e){var a=[].concat($jscomp.arrayFromIterable(b));e.forEach(function(c){for(var d=$jscomp.makeIterator(a),f=d.next();!f.done;f=d.next())if(ed(f.value,c))return;a.push(c)});return a}function Eh(b,e){return ed(b,e)||!e?b:b?[].concat($jscomp.arrayFromIterable(ya(b)),$jscomp.arrayFromIterable(ya(e))).join(", "):
e}function Fh(b,e){var a=b.value;e=e.value;if(null==a||null===e)return{explicit:b.explicit,value:null};if((Cc(a)||W(a))&&(Cc(e)||W(e)))return{explicit:b.explicit,value:Eh(a,e)};if(Cc(a)||W(a))return{explicit:b.explicit,value:a};if(Cc(e)||W(e))return{explicit:b.explicit,value:e};if(!(Cc(a)||W(a)||Cc(e)||W(e)))return{explicit:b.explicit,value:Dh(a,e)};throw Error("It should never reach here");}function fc(b){return"mark"in b}function Sc(b,e){return(b=b&&b[e])?U(b)?Yb(b,function(a){return!!a.field}):
K(b)||$d(b):!1}function qf(b){return Yb(Lk,function(e){return Sc(b,e)?(e=b[e],U(e)?Yb(e,function(a){return!!a.aggregate}):(e=Rb(e))&&!!e.aggregate):!1})}function Gh(b,e){var a=[],c=[],d=[],f=[],g={};rf(b,function(h,k){if(K(h)){var l=Object.assign({},h),n=h.field,m=h.aggregate,p=h.bin,r=h.timeUnit;l=(delete l.field,delete l.aggregate,delete l.bin,delete l.timeUnit,l);if(m||r||p){var u=nf(h),w=u&&u.title;u=J(h,{forAs:!0});l=Object.assign({},w?[]:{title:dd(h,e,{allowDisabling:!0})},l,{field:u});if(m){if(H(m)){var x=
"argmax";u=J({op:"argmax",field:m.argmax},{forAs:!0});l.field="".concat(u,".").concat(n)}else M(m)?(x="argmin",u=J({op:"argmin",field:m.argmin},{forAs:!0}),l.field="".concat(u,".").concat(n)):"boxplot"!==m&&"errorbar"!==m&&"errorband"!==m&&(x=m);x&&(h={op:x,as:u},n&&(h.field=n),f.push(h))}else a.push(u),rb(h)&&ua(p)?(c.push({bin:p,field:n,as:u}),a.push(J(h,{binSuffix:"end"})),yd(h,k)&&a.push(J(h,{binSuffix:"range"})),k in La&&(g[k+"2"]={field:u+"_end"}),l.bin="binned",Hg(k)||(l.type="quantitative")):
r&&(d.push({timeUnit:r,field:n,as:u}),(n=rb(h)&&"temporal"!==h.type&&"time")&&("text"===k||"tooltip"===k?l.formatType=n:sf[k]?l.legend=Object.assign({},{formatType:n},l.legend):k in La&&(l.axis=Object.assign({},{formatType:n},l.axis))));g[k]=l}else a.push(n),g[k]=b[k]}else g[k]=b[k]});return{bins:c,timeUnits:d,aggregate:f,groupby:a,encoding:g}}function Mk(b,e,a){a=qk(e)[a];return a&&("binned"!==a||(a=b["x2"===e?"x":"y"],K(a)&&K(b[e])&&Va(a.bin)))?!0:!1}function Nk(b,e,a,c){return E(b).reduce(function(d,
f){if(!ee[f])return G(tk(f)),d;var g=b[f];"angle"!==f||"arc"!==e||b.theta||(G("Arc marks uses theta channel rather than angle, replacing angle with theta."),f="theta");if(!Mk(b,f,e))return G(Td(f,e)),d;if("size"===f&&"line"===e){var h=Rb(b[f]);if(null===h||void 0===h?0:h.aggregate)return G("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),d}if("color"===f&&(a?"fill"in b:"stroke"in b))return G(Ug("encoding",{fill:"fill"in b,stroke:"stroke"in b})),d;
if("detail"===f||"order"===f&&!U(g)&&!Cb(g)||"tooltip"===f&&U(g))g&&(d[f]=ya(g).reduce(function(k,l){K(l)?k.push(pf(l,f)):G(Re(l,f));return k},[]));else{if("tooltip"===f&&null===g)d[f]=null;else if(!(K(g)||Ac(g)||Cb(g)||g&&"condition"in g||W(g)))return G(Re(g,f)),d;d[f]=th(g,f,c)}return d},{})}function fe(b,e){for(var a={},c=$jscomp.makeIterator(E(b)),d=c.next();!d.done;d=c.next()){d=d.value;var f=th(b[d],d,e,{compositeMark:!0});a[d]=f}return a}function Ok(b){for(var e=[],a=$jscomp.makeIterator(E(b)),
c=a.next();!c.done;c=a.next())if(c=c.value,Sc(b,c)){c=ya(b[c]);c=$jscomp.makeIterator(c);for(var d=c.next();!d.done;d=c.next())d=d.value,K(d)?e.push(d):$d(d)&&e.push(d.condition)}return e}function rf(b,e,a){if(b)for(var c=$jscomp.makeIterator(E(b)),d=c.next();!d.done;d=c.next()){d=d.value;var f=b[d];if(U(f)){f=$jscomp.makeIterator(f);for(var g=f.next();!g.done;g=f.next())e.call(a,g.value,d)}else e.call(a,f,d)}}function Pk(b,e,a,c){return b?E(b).reduce(function(d,f){var g=b[f];return U(g)?g.reduce(function(h,
k){return e.call(c,h,k,f)},d):e.call(c,d,g,f)},a):a}function Hh(b,e){return E(e).reduce(function(a,c){switch(c){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;case "order":if("line"===b||"trail"===b)return a;case "detail":case "key":c=e[c];if(U(c)||K(c)){c=$jscomp.makeIterator(ya(c));
for(var d=c.next();!d.done;d=c.next())d=d.value,d.aggregate||a.push(J(d,{}))}return a;case "size":if("trail"===b)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(c=Rb(e[c]))&&!c.aggregate&&a.push(J(c,{})),a}},[])}function tf(b,e,a,c){c=void 0===c?!0:c;if("tooltip"in a)return{tooltip:a.tooltip};b=b.map(function(d){var f=d.fieldPrefix;d=d.titlePrefix;var g=c?" of ".concat(ta(e.title,e.field)):"";return{field:f+
e.field,type:e.type,title:W(d)?{signal:d+'"'.concat(escape(g),'"')}:d+g}});a=Ok(a).map(Gk);return{tooltip:[].concat($jscomp.arrayFromIterable(b),$jscomp.arrayFromIterable(pb(a,ea)))}}function Cd(b,e,a,c,d){var f=a.scale,g=a.axis;return function(h){var k=h.partName,l=h.mark,n=h.positionPrefix,m=void 0===h.endPositionPrefix?void 0:h.endPositionPrefix;h=void 0===h.extraEncoding?{}:h.extraEncoding;var p=ta(a.title,a.field),r={},u={};return Ih(b,k,d,{mark:l,encoding:Object.assign({},(r[e]=Object.assign({},
{field:n+"_"+a.field,type:a.type},void 0!==p?{title:p}:{},void 0!==f?{scale:f}:{},void 0!==g?{axis:g}:{}),r),Y(m)?(u[e+"2"]={field:m+"_"+a.field},u):{},c,h)})}}function Ih(b,e,a,c){var d=b.clip,f=b.color,g=b.opacity,h=b.type;return b[e]||void 0===b[e]&&a[e]?[Object.assign({},c,{mark:Object.assign({},a[e],d?{clip:d}:{},f?{color:f}:{},g?{opacity:g}:{},dc(c.mark)?c.mark:{type:c.mark},{style:"".concat(h,"-").concat(e)},ob(b[e])?{}:b[e])})]:[]}function Jh(b,e,a){b=b.encoding;e="vertical"===e?"y":"x";var c=
b[e+"2"],d=b[e+"Error"],f=b[e+"Error2"];return{continuousAxisChannelDef:ge(b[e],a),continuousAxisChannelDef2:ge(c,a),continuousAxisChannelDefError:ge(d,a),continuousAxisChannelDefError2:ge(f,a),continuousAxis:e}}function ge(b,e){if(b&&b.aggregate){var a=Object.assign({},b);b=b.aggregate;a=(delete a.aggregate,a);b!==e&&(e="Continuous axis should not have customized aggregation function ".concat(b,"; ").concat(e," already agregates the axis."),G(e));return a}return b}function Kh(b,e){var a=b.mark,c=
b.encoding;b=c.x;c=c.y;if(dc(a)&&a.orient)return a.orient;if(Qb(b)){if(Qb(c)){a=K(b)&&b.aggregate;var d=K(c)&&c.aggregate;if(!a&&d===e)return"vertical";if(d||a!==e){if(a===e&&d===e)throw Error("Both x and y cannot have aggregate");return cd(c)&&!cd(b)?"horizontal":"vertical"}}return"horizontal"}if(Qb(c))return"vertical";throw Error("Need a valid continuous axis for ".concat(e,"s"));}function Lh(b,e){var a=e.config,c,d=b=Object.assign({},b,{encoding:fe(b.encoding,a)});e=Object.assign({},d);var f=d.mark;
d=d.selection;e=(delete e.mark,delete e.encoding,delete e.selection,delete e.projection,e);f=dc(f)?f:{type:f};d&&G(Qg("boxplot"));d=null!==(c=f.extent)&&void 0!==c?c:a.boxplot.extent;var g=la("size",f,a),h=sa(d)?"tukey":d,k=b,l=Kh(k,"boxplot");c=Jh(k,l,"boxplot");b=c.continuousAxisChannelDef;c=c.continuousAxis;var n=b.field,m=sa(d)?"tukey":d,p=[].concat($jscomp.arrayFromIterable(Mh(n)),[{op:"median",field:n,as:"mid_box_"+n},{op:"min",field:n,as:("min-max"===m?"lower_whisker_":"min_")+n},{op:"max",
field:n,as:("min-max"===m?"upper_whisker_":"max_")+n}]);n="min-max"===m||"tukey"===m?[]:[{calculate:'datum["upper_box_'.concat(n,'"] - datum["lower_box_').concat(n,'"]'),as:"iqr_"+n},{calculate:'min(datum["upper_box_'.concat(n,'"] + datum["iqr_').concat(n,'"] * ').concat(d,', datum["max_').concat(n,'"])'),as:"upper_whisker_"+n},{calculate:'max(datum["lower_box_'.concat(n,'"] - datum["iqr_').concat(n,'"] * ').concat(d,', datum["min_').concat(n,'"])'),as:"lower_whisker_"+n}];k=Object.assign({},k.encoding);
var r;m=(delete k[c],k);k=Object.assign({},m);m=m.tooltip;k=(delete k.tooltip,k);if(m){var u;if(U(m)){m=$jscomp.makeIterator(m);for(var w=m.next();!w.done;w=m.next())w=w.value,w.aggregate?(r||(r=[]),r.push(w)):(u||(u=[]),u.push(w));r&&(k.tooltip=r)}else m.aggregate?k.tooltip=m:u=m;U(u)&&1===u.length&&(u=u[0]);r={customTooltipWithoutAggregatedField:u,filteredEncoding:k}}else r={filteredEncoding:k};u=r;r=u.customTooltipWithoutAggregatedField;var x=Gh(u.filteredEncoding,a);u=x.bins;k=x.timeUnits;m=x.aggregate;
w=x.groupby;var z=x.encoding,C="vertical"===l?"horizontal":"vertical";p=[].concat($jscomp.arrayFromIterable(u),$jscomp.arrayFromIterable(k),[{aggregate:[].concat($jscomp.arrayFromIterable(m),$jscomp.arrayFromIterable(p)),groupby:w}],$jscomp.arrayFromIterable(n));x=Object.assign({},z);n=z.color;var O=z.size;x=(delete x.color,delete x.size,x);var L=Cd(f,c,b,x,a.boxplot),Aa=Cd(f,c,b,z,a.boxplot);O=Cd(f,c,b,Object.assign({},x,O?{size:O}:{}),a.boxplot);var ha=tf([{fieldPrefix:"min-max"===h?"upper_whisker_":
"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===h?"lower_whisker_":"min_",titlePrefix:"Min"}],b,z),Da={type:"tick",color:"black",opacity:1,orient:C,invalid:null,aria:!1};z="min-max"===h?ha:tf([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],b,z);z=[].concat($jscomp.arrayFromIterable(L({partName:"rule",
mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z})),$jscomp.arrayFromIterable(L({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z})),$jscomp.arrayFromIterable(L({partName:"ticks",mark:Da,positionPrefix:"lower_whisker",extraEncoding:z})),$jscomp.arrayFromIterable(L({partName:"ticks",mark:Da,positionPrefix:"upper_whisker",extraEncoding:z})));g=[].concat($jscomp.arrayFromIterable("tukey"!==
h?z:[]),$jscomp.arrayFromIterable(Aa({partName:"box",mark:Object.assign({},{type:"bar"},g?{size:g}:{},{orient:l,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:ha})),$jscomp.arrayFromIterable(O({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},ma(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:{},g?{size:g}:{},{orient:C,aria:!1}),positionPrefix:"mid_box",extraEncoding:ha})));if("min-max"===h){var fa;
return Object.assign({},e,{transform:(null!==(fa=e.transform)&&void 0!==fa?fa:[]).concat(p),layer:g})}fa='datum["lower_box_'.concat(b.field,'"]');h='datum["upper_box_'.concat(b.field,'"]');l="(".concat(h," - ").concat(fa,")");fa="".concat(fa," - ").concat(d," * ").concat(l);h="".concat(h," + ").concat(d," * ").concat(l);l='datum["'.concat(b.field,'"]');d={joinaggregate:Mh(b.field),groupby:w};m={transform:[{filter:"(".concat(fa," \x3c\x3d ").concat(l,") \x26\x26 (").concat(l," \x3c\x3d ").concat(h,
")")},{aggregate:[{op:"min",field:b.field,as:"lower_whisker_"+b.field},{op:"max",field:b.field,as:"upper_whisker_"+b.field},{op:"min",field:"lower_box_"+b.field,as:"lower_box_"+b.field},{op:"max",field:"upper_box_"+b.field,as:"upper_box_"+b.field}].concat($jscomp.arrayFromIterable(m)),groupby:w}],layer:z};w=Object.assign({},x);w=(delete w.tooltip,w);x=b.scale;z=b.axis;C=ta(b.title,b.field);z=Pa(z,["title"]);Aa={};a=Ih(f,"outliers",a.boxplot,{transform:[{filter:"(".concat(l," \x3c ").concat(fa,") || (").concat(l,
" \x3e ").concat(h,")")}],mark:"point",encoding:Object.assign({},(Aa[c]=Object.assign({},{field:b.field,type:b.type},void 0!==C?{title:C}:{},void 0!==x?{scale:x}:{},ja(z)?{}:{axis:z}),Aa),w,n?{color:n}:{},r?{tooltip:r}:{})})[0];f=[].concat($jscomp.arrayFromIterable(u),$jscomp.arrayFromIterable(k),[d]);a?a={transform:f,layer:[a,m]}:(a=m,a.transform.unshift.apply(a.transform,$jscomp.arrayFromIterable(f)));return Object.assign({},e,{layer:[a,{transform:p,layer:g}]})}function Mh(b){return[{op:"q1",field:b,
as:"lower_box_"+b},{op:"q3",field:b,as:"upper_box_"+b}]}function Nh(b,e){var a=e.config;b=Object.assign({},b,{encoding:fe(b.encoding,a)});var c=Oh(b,"errorbar",a);b=c.transform;var d=c.continuousAxisChannelDef,f=c.continuousAxis,g=c.encodingWithoutContinuousAxis,h=c.ticksOrient,k=c.markDef;e=c.outerSpec;c=c.tooltipEncoding;delete g.size;a=Cd(k,f,d,g,a.errorbar);d=k.thickness;k=k.size;h=Object.assign({},{type:"tick",orient:h,aria:!1},void 0!==d?{thickness:d}:{},void 0!==k?{size:k}:{});h=[].concat($jscomp.arrayFromIterable(a({partName:"ticks",
mark:h,positionPrefix:"lower",extraEncoding:c})),$jscomp.arrayFromIterable(a({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:c})),$jscomp.arrayFromIterable(a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==d?{size:d}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})));return Object.assign({},e,{transform:b},1<h.length?{layer:h}:Object.assign({},h[0]))}function Qk(b,e){var a=b.encoding;if(!(!X(a.x)&&!X(a.y)||X(a.x2)||X(a.y2)||
X(a.xError)||X(a.xError2)||X(a.yError)||X(a.yError2)))return{orient:Kh(b,e),inputType:"raw"};var c=X(a.x2)||X(a.y2),d=X(a.xError)||X(a.xError2)||X(a.yError)||X(a.yError2);b=a.x;var f=a.y;if(c){if(d)throw Error("".concat(e," cannot be both type aggregated-upper-lower and aggregated-error"));c=a.x2;a=a.y2;if(X(c)&&X(a))throw Error("".concat(e," cannot have both x2 and y2"));if(X(c)){if(Qb(b))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(e));
}if(X(a)){if(Qb(f))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(e));}}else{c=a.xError;d=a.yError;var g=a.yError2;if(X(a.xError2)&&!X(c))throw Error("".concat(e," cannot have xError2 without xError"));if(X(g)&&!X(d))throw Error("".concat(e," cannot have yError2 without yError"));if(X(c)&&X(d))throw Error("".concat(e," cannot have both xError and yError with both are quantiative"));if(X(c)){if(Qb(b))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(X(d)){if(Qb(f))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Oh(b,e,a){var c,d=Object.assign({},b),f=b.mark,g=b.encoding,h=b.selection;d=(delete d.mark,delete d.encoding,delete d.selection,delete d.projection,d);f=dc(f)?f:{type:f};h&&G(Qg(e));var k=Qk(b,e);h=k.orient;
k=k.inputType;var l=Jh(b,h,e);b=l.continuousAxisChannelDef;var n=l.continuousAxisChannelDef2,m=l.continuousAxisChannelDefError,p=l.continuousAxisChannelDefError2;l=l.continuousAxis;var r=[];var u=[];var w=b.field,x=!1;if("raw"===k){var z=f.center?f.center:f.extent?"iqr"===f.extent?"median":"mean":a.errorbar.center;n=f.extent?f.extent:"mean"===z?"stderr":"iqr";"median"===z!==("iqr"===n)&&(r="".concat(z," is not usually used with ").concat(n," for ").concat(e,"."),G(r));"stderr"===n||"stdev"===n?(r=
[{op:n,field:w,as:"extent_"+w},{op:z,field:w,as:"center_"+w}],u=[{calculate:'datum["center_'.concat(w,'"] + datum["extent_').concat(w,'"]'),as:"upper_"+w},{calculate:'datum["center_'.concat(w,'"] - datum["extent_').concat(w,'"]'),as:"lower_"+w}],z=[{fieldPrefix:"center_",titlePrefix:$b(z)},{fieldPrefix:"upper_",titlePrefix:$b(z)+" + "+n},{fieldPrefix:"lower_",titlePrefix:$b(z)+" - "+n}],x=!0):("ci"===n?(z="mean",e="ci0",n="ci1"):(z="median",e="q1",n="q3"),r=[{op:e,field:w,as:"lower_"+w},{op:n,field:w,
as:"upper_"+w},{op:z,field:w,as:"center_"+w}],z=[{fieldPrefix:"upper_",titlePrefix:dd({field:w,aggregate:n,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:dd({field:w,aggregate:e,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:dd({field:w,aggregate:z,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(f.center||f.extent){e=f.center;var C=f.extent;e="".concat(C?"extent ":"").concat(C&&e?"and ":"").concat(e?"center ":"").concat(C&&e?
"are ":"is ","not needed when data are aggregated.");G(e)}"aggregated-upper-lower"===k?(z=[],u=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+w},{calculate:'datum["'.concat(w,'"]'),as:"lower_"+w}]):"aggregated-error"===k&&(z=[{fieldPrefix:"",titlePrefix:w}],u=[{calculate:'datum["'.concat(w,'"] + datum["').concat(m.field,'"]'),as:"upper_"+w}],p?u.push({calculate:'datum["'.concat(w,'"] + datum["').concat(p.field,'"]'),as:"lower_"+w}):u.push({calculate:'datum["'.concat(w,'"] - datum["').concat(m.field,
'"]'),as:"lower_"+w}));w=$jscomp.makeIterator(u);for(e=w.next();!e.done;e=w.next())e=e.value,z.push({fieldPrefix:e.as.substring(0,6),titlePrefix:ac(ac(e.calculate,'datum["',""),'"]',"")})}g=Object.assign({},g);w="x"===l?"x2":"y2";e="x"===l?"xError":"yError";n="x"===l?"xError2":"yError2";g=(delete g[l],delete g[w],delete g[e],delete g[n],g);n=Gh(g,a);a=n.bins;g=n.timeUnits;e=n.groupby;w=n.encoding;r=[].concat($jscomp.arrayFromIterable(n.aggregate),$jscomp.arrayFromIterable(r));k="raw"!==k?[]:e;x=tf(z,
b,w,x);return{transform:[].concat($jscomp.arrayFromIterable(null!==(c=d.transform)&&void 0!==c?c:[]),$jscomp.arrayFromIterable(a),$jscomp.arrayFromIterable(g),$jscomp.arrayFromIterable(0===r.length?[]:[{aggregate:r,groupby:k}]),$jscomp.arrayFromIterable(u)),groupby:k,continuousAxisChannelDef:b,continuousAxis:l,encodingWithoutContinuousAxis:w,ticksOrient:"vertical"===h?"horizontal":"vertical",markDef:f,outerSpec:d,tooltipEncoding:x}}function Ph(b,e){var a=e.config;b=Object.assign({},b,{encoding:fe(b.encoding,
a)});var c=Oh(b,"errorband",a);e=c.transform;var d=c.outerSpec,f=c.tooltipEncoding,g=c.markDef;a=Cd(g,c.continuousAxis,c.continuousAxisChannelDef,c.encodingWithoutContinuousAxis,a.errorband);b=void 0!==b.encoding.x&&void 0!==b.encoding.y;c={type:b?"area":"rect"};var h={type:b?"line":"rule"},k=Object.assign({},g.interpolate?{interpolate:g.interpolate}:{},g.tension&&g.interpolate?{tension:g.tension}:{});b?(c=Object.assign({},c,k,{ariaRoleDescription:"errorband"}),h=Object.assign({},h,k,{aria:!1})):
g.interpolate?G(Xg("interpolate")):g.tension&&G(Xg("tension"));return Object.assign({},d,{transform:e,layer:[].concat($jscomp.arrayFromIterable(a({partName:"band",mark:c,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})),$jscomp.arrayFromIterable(a({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:f})),$jscomp.arrayFromIterable(a({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:f})))})}function uf(b,e,a){e=new Dd(b,e);Qh[b]={normalizer:e,parts:a}}function Rh(b){var e=
[];b=$jscomp.makeIterator(b||[]);for(var a=b.next();!a.done;a=b.next()){var c=a.value,d=Object.assign({},c);a=c.expr;c=c.bind;d=(delete d.expr,delete d.bind,d);c&&a?(a=Object.assign({},d,{bind:c,init:a}),e.push(a)):(a=Object.assign({},d,a?{update:a}:{},c?{bind:c}:{}),e.push(a))}return e}function vf(b){return!!b&&("legend"===b||!!b.legend)}function wf(b){return vf(b)&&ma(b)}function Sh(b,e){for(var a={},c=$jscomp.makeIterator(Rk),d=c.next();!d.done;d=c.next())d=d.value,b&&void 0!==b[d]&&(a[d]=Xa(b[d]));
e&&(a.params=b.params);return a}function Sb(b){return ma(b)&&void 0!==b.step}function Th(b){return b.view||b.width||b.height}function Sk(b,e,a){var c={};a=a[e];e=a.spacing;a=a.columns;void 0!==e&&(c.spacing=e);void 0!==a&&("facet"in b&&!Ad(b.facet)||"concat"in b)&&(c.columns=a);"vconcat"in b&&(c.columns=1);a=$jscomp.makeIterator(Tk);for(var d=a.next();!d.done;d=a.next())if(d=d.value,void 0!==b[d])if("spacing"===d){var f,g,h=b[d];c[d]=sa(h)?h:{row:null!==(f=h.row)&&void 0!==f?f:e,column:null!==(g=
h.column)&&void 0!==g?g:e}}else c[d]=b[d];return c}function xf(b,e){var a;return null!==(a=b[e])&&void 0!==a?a:b["width"===e?"continuousWidth":"continuousHeight"]}function he(b,e){b=Ed(b,e);return Sb(b)?b.step:20}function Ed(b,e){var a;e=null!==(a=b[e])&&void 0!==a?a:b["width"===e?"discreteWidth":"discreteHeight"];return ta(e,{step:b.step})}function Uh(b){var e=E(b||{}),a={};e=$jscomp.makeIterator(e);for(var c=e.next();!c.done;c=e.next()){c=c.value;var d=b[c];a[c]=F(d)?yh(d):Xa(d)}return a}function Vh(b){b=
void 0===b?{}:b;var e=Object.assign({},b),a=b.color,c=b.font;b=b.fontSize;e=(delete e.color,delete e.font,delete e.fontSize,e);c=c?{text:{font:c},style:{"guide-label":{font:c},"guide-title":{font:c},"group-title":{font:c},"group-subtitle":{font:c}}}:{};a?(a=void 0===a?{}:a,a={signals:[{name:"color",value:ma(a)?Object.assign({},Wh,a):Wh}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},
"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):a={};b=Jc({},
Uk,c,a,b?{signals:[{name:"fontSize",value:ma(b)?Object.assign({},Xh,b):Xh}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{},e||{});a=Pa(b,Vk);e=$jscomp.makeIterator(["background","lineBreak","padding"]);for(c=e.next();!c.done;c=e.next())c=c.value,b[c]&&(a[c]=Xa(b[c]));
e=$jscomp.makeIterator(Yh);for(c=e.next();!c.done;c=e.next())c=c.value,b[c]&&(a[c]=Bb(b[c]));e=$jscomp.makeIterator(Zh);for(c=e.next();!c.done;c=e.next())c=c.value,b[c]&&(a[c]=Uh(b[c]));e=$jscomp.makeIterator($h);for(c=e.next();!c.done;c=e.next())c=c.value,b[c]&&(a[c]=Bb(b[c]));b.legend&&(a.legend=Bb(b.legend));b.scale&&(a.scale=Bb(b.scale));if(b.style){e=b.style;var d=E(e);c={};d=$jscomp.makeIterator(d);for(var f=d.next();!f.done;f=d.next())f=f.value,c[f]=Uh(e[f]);a.style=c}b.title&&(a.title=Bb(b.title));
b.view&&(a.view=Bb(b.view));return a}function Wk(b){b=aa(b);for(var e=$jscomp.makeIterator(Xk),a=e.next();!a.done;a=e.next())delete b[a.value];if(b.axis)for(var c in b.axis)F(b.axis[c])&&delete b.axis[c];if(b.legend)for(e=$jscomp.makeIterator(Yk),a=e.next();!a.done;a=e.next())delete b.legend[a.value];if(b.mark){e=$jscomp.makeIterator(ai);for(a=e.next();!a.done;a=e.next())delete b.mark[a.value];b.mark.tooltip&&ma(b.mark.tooltip)&&delete b.mark.tooltip}b.params&&(b.signals=(b.signals||[]).concat(Rh(b.params)),
delete b.params);e=$jscomp.makeIterator(Zk);for(c=e.next();!c.done;c=e.next()){c=c.value;var d=$jscomp.makeIterator(ai);for(a=d.next();!a.done;a=d.next())delete b[c][a.value];if(a=$k[c])for(d=$jscomp.makeIterator(a),a=d.next();!a.done;a=d.next())delete b[c][a.value];d=a=void 0;var f=b,g=void 0,h=f[c];"view"===c&&(g="cell");h=Object.assign({},h,f.style[null!==(d=g)&&void 0!==d?d:c]);ja(h)||(f.style[null!==(a=g)&&void 0!==a?a:c]=h);delete f[c]}e=$jscomp.makeIterator(E(Qh));for(c=e.next();!c.done;c=
e.next())delete b[c.value];e=b;d=xh(e.title);c=d.titleMarkConfig;a=d.subtitleMarkConfig;d=d.subtitle;ja(c)||(e.style["group-title"]=Object.assign({},e.style["group-title"],c));ja(a)||(e.style["group-subtitle"]=Object.assign({},e.style["group-subtitle"],a));ja(d)?delete e.title:e.title=d;for(var k in b)ma(b[k])&&ja(b[k])&&delete b[k];return ja(b)?void 0:b}function bi(b,e){var a="x"===e?"y":"radius",c=b[e];b=b[a];if(K(c)&&K(b))if("quantitative"===Bc(c)&&"quantitative"===Bc(b)){if(c.stack)return e;if(b.stack)return a;
var d=K(c)&&!!c.aggregate,f=K(b)&&!!b.aggregate;if(d!==f)return d?e:a;var g,h;c=null===(g=c.scale)||void 0===g?void 0:g.type;g=null===(h=b.scale)||void 0===h?void 0:h.type;if(c&&"linear"!==c)return a;if(g&&"linear"!==g)return e}else{if("quantitative"===Bc(c))return e;if("quantitative"===Bc(b))return a}else{if("quantitative"===Bc(c))return e;if("quantitative"===Bc(b))return a}}function al(b){switch(b){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function ci(b,
e,a){a=void 0===a?{}:a;b=dc(b)?b.type:b;if(!bl.has(b))return null;var c=bi(e,"x")||bi(e,"theta");if(!c)return null;var d=e[c],f=K(d)?J(d,{}):void 0,g=al(c),h=e[g],k=K(h)?J(h,{}):void 0;k===f&&(g=h=k=void 0);f=cl.reduce(function(n,m){if("tooltip"!==m&&Sc(e,m))for(var p=$jscomp.makeIterator(ya(e[m])),r=p.next();!r.done;r=p.next())if(r=Rb(r.value),!r.aggregate){var u=J(r,{});u&&u===k||n.push({channel:m,fieldDef:r})}return n},[]);var l;void 0!==d.stack?l=ob(d.stack)?d.stack?"zero":null:d.stack:0<f.length&&
dl.has(b)&&(l="zero");if(!(l&&l in el)||qf(e)&&0===f.length)return null;if(d.scale&&d.scale.type&&d.scale.type!==Fa.LINEAR){if(a.disallowNonLinearStack)return null;G("Cannot stack non-linear scale (".concat(d.scale.type,")."))}if(X(e[Mb(c)]))return void 0!==d.stack&&G('Cannot stack "'.concat(c,'" if there is already "').concat(c,'2".')),null;K(d)&&d.aggregate&&!R(fl,d.aggregate)&&G('Stacking is applied even though the aggregate function is non-summative ("'.concat(d.aggregate,'").'));return{groupbyChannel:h?
g:void 0,groupbyField:k,fieldChannel:c,impute:null===d.impute?!1:zc(b),stackBy:f,offset:l}}function gl(b){b=Object.assign({},b);b=(delete b.point,delete b.line,b);return 1<E(b).length?b:b.type}function hl(b){for(var e=$jscomp.makeIterator(["line","area","rule","trail"]),a=e.next();!a.done;a=e.next())if(a=a.value,b[a]){var c={};b=Object.assign({},b,(c[a]=Pa(b[a],["point","line"]),c))}return b}function yf(b,e,a){e=void 0===e?{}:e;if("transparent"===b.point)return{opacity:0};if(b.point)return ma(b.point)?
b.point:{};if(void 0!==b.point)return null;if(e.point||a.shape)return ma(e.point)?e.point:{}}function di(b,e){e=void 0===e?{}:e;if(b.line)return!0===b.line?{}:b.line;if(void 0!==b.line)return null;if(e.line)return!0===e.line?{}:e.line}function zf(b,e){return e?ei(b,e):b}function Af(b,e,a){var c=e[b];if(c&&!Y(c)&&"repeat"in c){if(c.repeat in a){var d={};return Object.assign({},e,(d[b]=a[c.repeat],d))}G('Unknown repeated value "'.concat(c.repeat,'".'))}else return e}function fi(b,e){b=Af("field",b,
e);if(void 0!==b){if(null===b)return null;"sort"in b&&Pb(b.sort)&&(e=Af("field",b.sort,e),b=Object.assign({},b,e?{sort:e}:{}));return b}}function gi(b,e){if(K(b))return fi(b,e);e=Af("datum",b,e);e===b||e.type||(e.type="nominal");return e}function hi(b,e){if(X(b)){if(e=gi(b,e))return e;if(b&&"condition"in b)return{condition:b.condition}}else{if(ae(b)){if(e=gi(b.condition,e))return Object.assign({},b,{condition:e});b=Object.assign({},b);return delete b.condition,b}return b}}function ei(b,e){var a={},
c;for(c in b)if($c.call(b,c)){var d=b[c];U(d)?a[c]=d.map(function(f){return hi(f,e)}).filter(function(f){return f}):(d=hi(d,e),void 0!==d&&(a[c]=d))}return a}function ii(b){var e=b.parentEncoding,a=void 0===b.encoding?{}:b.encoding;b=b.layer;var c={};if(e){var d=new Set([].concat($jscomp.arrayFromIterable(E(e)),$jscomp.arrayFromIterable(E(a))));d=$jscomp.makeIterator(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=a[f],h=e[f];if(X(g))g=Object.assign({},h,g),c[f]=g;else if(ae(g))c[f]=Object.assign({},
g,{condition:Object.assign({},h,g.condition)});else if(g||null===g)c[f]=g;else if(b||Cb(h)||W(h)||X(h)||U(h))c[f]=h}}else c=a;return!c||ja(c)?void 0:c}function ji(b){var e=b.parentProjection;b=b.projection;if(e&&b){var a="Layer's shared projection ".concat(va(e)," is overridden by a child projection ").concat(va(b),".");G(a)}return null!==b&&void 0!==b?b:e}function ki(b,e){void 0===e&&(e=Vh(b.config));var a=e;a=void 0===a?{}:a;a=il.map(b,{config:a});var c=e;e=b.width;b=b.height;var d=fc(a)||"layer"in
a,f={};d?"container"==e&&"container"==b?(f.type="fit",f.contains="padding"):"container"==e?(f.type="fit-x",f.contains="padding"):"container"==b&&(f.type="fit-y",f.contains="padding"):("container"==e&&(G(Mg("width")),e=void 0),"container"==b&&(G(Mg("height")),b=void 0));c=Object.assign({},{type:"pad"},f,c?li(c.autosize):{},li(a.autosize));"fit"!==c.type||d||(G('Autosize "fit" only works for single views and layered views.'),c.type="pad");"container"==e&&"fit"!=c.type&&"fit-x"!=c.type&&G(Ng("width"));
"container"==b&&"fit"!=c.type&&"fit-y"!=c.type&&G(Ng("height"));e=ed(c,{type:"pad"})?void 0:c;return Object.assign({},a,e?{autosize:e}:{})}function li(b){return Y(b)?{type:b}:null!==b&&void 0!==b?b:{}}function gc(b){return{explicit:!0,value:b}}function gb(b){return{explicit:!1,value:b}}function mi(b){return function(e,a,c,d){var f=b(e.value,a.value);return 0<f?e:0>f?a:ie(e,a,c,d)}}function ie(b,e,a,c){if(b.explicit&&e.explicit){var d=b.value;e=e.value;a="Conflicting ".concat(c.toString(),' property "').concat(a.toString(),
'" (').concat(va(d)," and ").concat(va(e),"). Using ").concat(va(d),".");G(a)}return b}function Dc(b,e,a,c,d){d=void 0===d?ie:d;return void 0===b||void 0===b.value?e:b.explicit&&!e.explicit?b:e.explicit&&!b.explicit?e:ed(b.value,e.value)?b:d(b,e,a,c)}function ni(b){return"name"in b&&!("url"in b)&&!("values"in b)&&!Tc(b)}function Tc(b){return b&&("sequence"in b||"sphere"in b||"graticule"in b)}function jl(b){return b.map(function(e){return"filter"in e?{filter:Kc(e.filter,Dk)}:e})}function fd(b,e,a){oi=
e||"view";pi=a||kl;return qi(b.trim()).map(Bf)}function Fd(b,e,a,c,d){for(var f=b.length,g=0,h;e<f;++e)if(h=b[e],g||h!==a)d&&0<=d.indexOf(h)?--g:c&&0<=c.indexOf(h)&&++g;else break;return e}function qi(b){for(var e=[],a=b.length,c=0,d=0;d<a;)d=Fd(b,d,",","[{","]}"),e.push(b.substring(c,d).trim()),c=++d;if(0===e.length)throw"Empty event selector: "+b;return e}function Bf(b){if("["===b[0]){var e=b;var a=e.length;b=Fd(e,1,"]","[","]");if(b===a)throw"Empty between selector: "+e;a=qi(e.substring(1,b));
if(2!==a.length)throw"Between selector must have two elements: "+e;e=e.slice(b+1).trim();if("\x3e"!==e[0])throw"Expected '\x3e' after between selector: "+e;a=a.map(Bf);e=Bf(e.slice(1).trim());e.between?e={between:a,stream:e}:e.between=a}else{a={source:oi};var c=[],d=[0,0],f=0,g=0,h=b.length,k=0;if("}"===b[h-1]){k=b.lastIndexOf("{");if(0<=k){try{d=ll(b.substring(k+1,h-1))}catch(n){throw"Invalid throttle specification: "+b;}b=b.slice(0,k).trim();h=b.length}else throw"Unmatched right brace: "+b;k=0}if(!h)throw b;
"@"===b[0]&&(f=++k);var l=Fd(b,k,":");l<h&&(c.push(b.substring(g,l).trim()),g=k=++l);k=Fd(b,k,"[");if(k===h)c.push(b.substring(g,h).trim());else if(c.push(b.substring(g,k).trim()),e=[],g=++k,g===h)throw"Unmatched left bracket: "+b;for(;k<h;){k=Fd(b,k,"]");if(k===h)throw"Unmatched left bracket: "+b;e.push(b.substring(g,k).trim());if(k<h-1&&"["!==b[++k])throw"Expected left bracket: "+b;g=++k}if(!(h=c.length)||ml.test(c[h-1]))throw"Invalid event selector: "+b;1<h?(a.type=c[1],f?a.markname=c[0].slice(1):
pi[c[0]]?a.marktype=c[0]:a.source=c[0]):a.type=c[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=e&&(a.filter=e);d[0]&&(a.throttle=d[0]);d[1]&&(a.debounce=d[1]);e=a}return e}function ll(b){var e=b.split(",");if(!b.length||2<e.length)throw b;return e.map(function(a){a=+a;if(a!==a)throw b;return a})}function gd(b,e,a,c){var d=!!e&&"condition"in e&&e.condition;e=c(e);if(d){d=ya(d).map(function(g){var h=c(g);g=g.selection?ri(b,g.selection):je(b,g.test);return Object.assign({},
{test:g},h)});var f={};return f[a]=[].concat($jscomp.arrayFromIterable(d),$jscomp.arrayFromIterable(void 0!==e?[e]:[])),f}d={};return void 0!==e?(d[a]=e,d):{}}function Cf(b,e){e=void 0===e?"text":e;return gd(b,b.encoding[e],e,function(a){return ke(a,b.config)})}function ke(b,e,a){a=void 0===a?"datum":a;if(b){if(Cb(b))return za(b.value);if(X(b)){var c=be(b);return gf({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,expr:a,config:e})}}}function si(b,e){e=void 0===e?{}:e;var a=b.encoding,c=
b.markDef,d=b.config,f=b.stack,g=a.tooltip;if(U(g))return{tooltip:ti({tooltip:g},f,d,e)};var h=e.reactiveGeom?"datum.datum":"datum";return gd(b,g,"tooltip",function(k){var l=ke(k,d,h);if(l)return l;if(null!==k){k=la("tooltip",c,d);!0===k&&(k={content:"encoding"});if(Y(k))return{value:k};if(ma(k))return W(k)?k:"encoding"===k.content?ti(a,f,d,e):{signal:h}}})}function ui(b,e,a,c){function d(p,r){var u,w=Mc(r);p=rb(p)?p:Object.assign({},p,{type:b[w].type});w=p.title||Bd(p,a);w=ya(w).join(", ");if(r in
La){var x="x"===r?"x2":"y2",z=Rb(b[x]);if(Va(p.bin)&&z){var C=J(p,{expr:g});z=J(z,{expr:g});var O=be(p);C=Zd(C,z,O.format,O.formatType,a);f[x]=!0}else e&&e.fieldChannel===r&&"normalize"===e.offset&&(C=be(p),C=gf({fieldOrDatumDef:p,format:C.format,formatType:C.formatType,expr:g,config:a,normalizeStack:!0}).signal)}C=null!==(u=C)&&void 0!==u?u:ke(p,a,g).signal;h.push({channel:r,key:w,value:C})}var f={},g=(void 0===c?{}:c).reactiveGeom?"datum.datum":"datum",h=[];rf(b,function(p,r){K(p)?d(p,r):$d(p)&&
d(p.condition,r)});c={};for(var k=$jscomp.makeIterator(h),l=k.next();!l.done;l=k.next()){l=l.value;var n=l.key,m=l.value;f[l.channel]||c[n]||(c[n]=m)}return c}function ti(b,e,a,c){b=ui(b,e,a,{reactiveGeom:(void 0===c?{}:c).reactiveGeom});b=ud(b).map(function(d){var f=$jscomp.makeIterator(d);d=f.next().value;f=f.next().value;return'"'.concat(d,'": ').concat(f)});return 0<b.length?{signal:"{".concat(b.join(", "),"}")}:void 0}function nl(b){var e=la("aria",b.markDef,b.config);return!1===e?{}:Object.assign({},
e?{aria:e}:{},ol(b),pl(b))}function ol(b){var e=b.mark,a=b.config;if(!1===a.aria)return{};b=la("ariaRoleDescription",b.markDef,a);return null!=b?{ariaRoleDescription:{value:b}}:e in ql?{}:{ariaRoleDescription:{value:e}}}function pl(b){var e=b.encoding,a=b.markDef,c=b.config,d=b.stack,f=e.description;if(f)return gd(b,f,"description",function(g){return ke(g,b.config)});a=la("description",a,c);if(null!=a)return{description:za(a)};if(!1===c.aria)return{};e=ui(e,d,c);if(!ja(e))return{description:{signal:ud(e).map(function(g,
h){var k=$jscomp.makeIterator(g);g=k.next().value;k=k.next().value;return'"'.concat(0<h?"; ":"").concat(g,': " + (').concat(k,")")}).join(" + ")}}}function Ja(b,e,a){a=void 0===a?{}:a;var c=e.markDef,d=e.encoding,f=e.config,g=a.vgChannel,h=a.defaultRef;a=a.defaultValue;if(void 0===h){var k;a=null!==(k=a)&&void 0!==k?k:la(b,c,f,{vgChannel:g,ignoreVgConfig:!0});void 0!==a&&(h=za(a))}return gd(e,d[b],null!==g&&void 0!==g?g:b,function(l){return gh({channel:b,channelDef:l,markDef:c,config:f,scaleName:e.scaleName(b),
scale:e.getScaleComponent(b),stack:null,defaultRef:h})})}function vi(b,e){e=void 0===e?{filled:void 0}:e;var a,c,d,f,g=b.markDef,h=b.encoding,k=b.config,l=g.type;e=null!==(a=e.filled)&&void 0!==a?a:la("filled",g,k);a=R(["bar","point","circle","square","geoshape"],l)?"transparent":void 0;a=null!==(c=null!==(d=la(!0===e?"color":void 0,g,k,{vgChannel:"fill"}))&&void 0!==d?d:k.mark[!0===e&&"color"])&&void 0!==c?c:a;c=null!==(f=la(!1===e?"color":void 0,g,k,{vgChannel:"stroke"}))&&void 0!==f?f:k.mark[!1===
e&&"color"];f=e?"fill":"stroke";d=Object.assign({},a?{fill:za(a)}:{},c?{stroke:za(c)}:{});g.color&&(e?g.fill:g.stroke)&&G(Ug("property",{fill:"fill"in g,stroke:"stroke"in g}));return Object.assign({},d,Ja("color",b,{vgChannel:f,defaultValue:e?a:c}),Ja("fill",b,{defaultValue:h.fill?a:void 0}),Ja("stroke",b,{defaultValue:h.stroke?c:void 0}))}function rl(b){var e=b.encoding.order;return!zc(b.mark)&&Cb(e)?gd(b,e,"zindex",function(a){return za(a.value)}):{}}function Gd(b,e){b=pk(b);if(e=e[b])return e}
function Qa(b,e,a){var c=a.defaultPos,d=a.vgChannel;a=a.isMidPoint;var f=e.encoding,g=e.markDef,h=e.config,k=e.stack,l=f[b],n=f[Mb(b)],m=e.scaleName(b),p=e.getScaleComponent(b),r=Gd(b,g);c=Df({model:e,defaultPos:c,channel:b,scaleName:m,scale:p});if(!l&&b in La&&(f.latitude||f.longitude))e={field:e.getName(b)};else a:if(f={channel:b,channelDef:l,channel2Def:n,markDef:g,config:h,isMidPoint:a,scaleName:m,scale:p,stack:k,offset:r,defaultRef:c},g=f.channel,e=f.channelDef,h=f.isMidPoint,c=f.scaleName,k=
f.stack,a=f.offset,l=f.markDef,n=f.config,X(e)&&k&&g===k.fieldChannel){if(K(e)&&(f=xd({channel:g,fieldDef:e,isMidPoint:h,markDef:l,stack:k,config:n}),void 0!==f)){e=Xd({scaleName:c,fieldOrDatumDef:e,startSuffix:"start",band:f,offset:a});break a}e=Oc(e,c,{suffix:"end"},{offset:a})}else e=ef(f);c={};return e?(c[d||b]=e,c):void 0}function Df(b){var e=b.model,a=b.defaultPos,c=b.channel,d=b.scaleName,f=b.scale,g=e.markDef,h=e.config;return function(){var k=Mc(c),l=xc(c);l=la(c,g,h,{vgChannel:l});if(void 0!==
l)return zd(c,l);switch(a){case "zeroOrMin":case "zeroOrMax":if(d&&(l=f.get("type"),!R([Fa.LOG,Fa.TIME,Fa.UTC],l)&&f.domainDefinitelyIncludesZero()))return{scale:d,value:0};if("zeroOrMin"===a)return"y"===k?{field:{group:"height"}}:{value:0};switch(k){case "radius":return{signal:"min(".concat(e.width.signal,",").concat(e.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return k=e[Nb(c)],Object.assign({},k,{mult:.5})}}}
function wi(b,e,a,c){c=void 0===c?"middle":c;if("radius"===b||"theta"===b)return xc(b);var d="x"===b?"align":"baseline";e=la(d,e,a);W(e)?(G("The ".concat(d," for range marks cannot be an expression")),d=void 0):d=e;return"x"===b?sl[d||("top"===c?"left":"center")]:tl[d||c]}function le(b,e,a){var c=a.defaultPos,d=a.defaultPos2;return a.range?xi(b,e,{defaultPos:c,defaultPos2:d}):Qa(b,e,{defaultPos:c})}function xi(b,e,a){var c=a.defaultPos,d=a.defaultPos2;a=e.markDef;var f=e.config,g=Mb(b),h=Nb(b);var k=
e.encoding,l=e.mark,n=e.markDef,m=e.stack,p=e.config,r=Mc(g),u=Nb(g);var w=xc(g);var x=k[r],z=e.scaleName(r),C=e.getScaleComponent(r);r=g in k||g in n?Gd(g,e.markDef):Gd(r,e.markDef);x||"x2"!==g&&"y2"!==g||!k.latitude&&!k.longitude?(k=k[g],m=X(x)&&m&&g.charAt(0)===m.fieldChannel.charAt(0)?Oc(x,z,{suffix:"start"},{offset:r}):ef({channel:g,channelDef:k,scaleName:z,scale:C,stack:m,markDef:n,config:p,offset:r,defaultRef:void 0}),void 0!==m?(g={},w=(g[w]=m,g)):(m={},x={},w=me(g,n)||me(g,(m[g]=de(g,n,p.style),
m[u]=de(u,n,p.style),m))||me(g,p[l])||me(g,p.mark)||(x[w]=Df({model:e,defaultPos:d,channel:g,scaleName:z,scale:C})(),x))):(d={},w=(d[w]={field:e.getName(g)},d));a=w[h]?wi(b,a,f):xc(b);return Object.assign({},Qa(b,e,{defaultPos:c,vgChannel:a}),w)}function me(b,e){var a=Nb(b),c=xc(b);if(void 0!==e[c])return a={},a[c]=zd(b,e[c]),a;if(void 0!==e[b])return a={},a[c]=zd(b,e[b]),a;if(e[a])return c={},c[a]=zd(b,e[a]),c}function Ec(b,e,a){var c,d,f=b.config,g=b.encoding,h=b.markDef,k=b.stack,l=Mb(e),n=Nb(e),
m=g[e],p=g[l],r=b.getScaleComponent(e),u=r?r.get("type"):void 0;l=b.scaleName(e);var w=h.orient;g=null!==(c=null!==(d=g[n])&&void 0!==d?d:g.size)&&void 0!==c?c:la("size",h,f,{vgChannel:n});c="bar"===a&&("x"===e?"vertical"===w:"horizontal"===w);if(K(m)&&(ua(m.bin)||Va(m.bin)||m.timeUnit&&!p)&&!g&&!(u in cb)){var x,z,C=xd({channel:e,fieldDef:m,stack:k,markDef:h,config:f});b=null===(x=b.component.axes[e])||void 0===x?void 0:x[0];b=null!==(z=null===b||void 0===b?void 0:b.get("translate"))&&void 0!==z?
z:.5;a:{var O=e in La?la("binSpacing",h,f):void 0;a=r.get("reverse");O=void 0===O?0:O;k=Mb(e);r=xc(e);z=xc(k);x=Gd(e,h);if(ua(m.bin)||m.timeUnit)p={},e=(p[z]=yi({channel:e,fieldDef:m,scaleName:l,markDef:h,band:(1-C)/2,offset:Hd(k,O,a,b,x),config:f}),p[r]=yi({channel:e,fieldDef:m,scaleName:l,markDef:h,band:1-(1-C)/2,offset:Hd(e,O,a,b,x),config:f}),p);else{if(Va(m.bin)){C=Oc(m,l,{},{offset:Hd(k,O,a,b,x)});if(K(p)){m={};e=(m[z]=C,m[r]=Oc(p,l,{},{offset:Hd(e,O,a,b,x)}),m);break a}if(ma(m.bin)&&m.bin.step){f=
{};e=(f[z]=C,f[r]={signal:'scale("'.concat(l,'", ').concat(J(m,{expr:"datum"})," + ").concat(m.bin.step,")"),offset:Hd(e,O,a,b,x)},f);break a}}G(Yg(k));e=void 0}}return e}if((X(m)&&u in cb||c)&&!p){h=b.markDef;k=b.encoding;p=b.config;r=b.stack;c=h.orient;z=b.scaleName(e);x=b.getScaleComponent(e);l=Nb(e);f=Mb(e);c="horizontal"===c&&"y"===e||"vertical"===c&&"x"===e;d=la(c?"size":l,h,p,{vgChannel:l});if(k.size||void 0!==d)c?C=Ja("size",b,{vgChannel:l,defaultValue:d}):G('Cannot apply size to non-oriented mark "'.concat(h.type,
'".'));k=null!==(O=X(m)?xd({channel:e,fieldDef:m,markDef:h,stack:r,config:p}):void 0)&&void 0!==O?O:1;O={};C||(x?(C=x.get("type"),"point"===C||"band"===C?void 0!==p[a].discreteBandSize?C={value:p[a].discreteBandSize}:C===Fa.POINT?(C=x.get("range"),C=yc(C)&&sa(C.step)?{value:C.step-2}:{value:18}):C={scale:z,band:k}:C={value:p[a].continuousBandSize}):(C=he(p.view,l),C=ta(p[a].discreteBandSize,C-2),C=void 0!==C?{value:C}:void 0),C=(O[l]=C,O));c="band"!==(null===x||void 0===x?void 0:x.get("type"))||!("band"in
C[l]);a=wi(e,h,p,c?"middle":"top");O=Gd(e,h);e=ef({channel:e,channelDef:m,markDef:h,config:p,scaleName:z,scale:x,stack:r,offset:O,defaultRef:Df({model:b,defaultPos:"mid",channel:e,scaleName:z,scale:x}),band:c?.5:(1-k)/2});l?(m={},e=Object.assign({},(m[a]=e,m),C)):(m=xc(f),b=C[l],b=O?Object.assign({},b,{offset:O}):b,C={},e=(C[a]=e,C[m]=U(e)?[e[0],Object.assign({},e[1],{offset:b})]:Object.assign({},e,{offset:b}),C));return e}return xi(e,b,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Hd(b,
e,a,c,d){if(b in Ne)return 0;b="x"===b||"y2"===b?-e/2:e/2;if(W(a)||W(d)||W(c))return a=ec(a),d=ec(d),c=(c=ec(c))?"".concat(c," + "):"",a=a?"(".concat(a," ? -1 : 1) * "):"",b=d?"(".concat(d," + ").concat(b,")"):b,{signal:c+a+b};d=d||0;return c+(a?-d-b:+d+b)}function yi(b){var e=b.channel,a=b.fieldDef,c=b.markDef,d=b.config;b=Xd({scaleName:b.scaleName,fieldOrDatumDef:a,band:b.band,offset:b.offset});return ih({fieldDef:a,channel:e,markDef:c,ref:b,config:d})}function sb(b,e){var a="include"===e.color?
vi(b):{},c=void 0===a.fill?void 0:a.fill;a=void 0===a.stroke?void 0:a.stroke;return Object.assign({},ul(b.markDef,e),zi(b,"fill",c),zi(b,"stroke",a),Ja("opacity",b),Ja("fillOpacity",b),Ja("strokeOpacity",b),Ja("strokeWidth",b),Ja("strokeDash",b),rl(b),si(b),Cf(b,"href"),nl(b))}function zi(b,e,a){var c=b.mark;if("hide"===la("invalid",b.markDef,b.config)&&a&&!zc(c)&&(b=vl(b,{invalid:!0,channels:ne})))return c={},c[e]=[{test:b,value:null}].concat($jscomp.arrayFromIterable(ya(a))),c;b={};return a?(b[e]=
a,b):{}}function ul(b,e){return wl.reduce(function(a,c){xl.has(c)||void 0===b[c]||"ignore"===e[c]||(a[c]=za(b[c]));return a},{})}function vl(b,e){var a=void 0===e.invalid?!1:e.invalid;e=e.channels.reduce(function(d,f){var g=b.getScaleComponent(f);g&&(g=g.get("type"),(f=b.vgField(f,{expr:"datum"}))&&g in qb&&(d[f]=!0));return d},{});e=E(e);if(0<e.length){var c=a?"||":"\x26\x26";return e.map(function(d){return ff(d,a)}).join(" ".concat(c," "))}}function Ef(b){return la("invalid",b.markDef,b.config)&&
(b=yl(b,{channels:tb}))?{defined:{signal:b}}:{}}function yl(b,e){var a=void 0===e.invalid?!1:e.invalid;e=e.channels.reduce(function(d,f){var g=b.getScaleComponent(f);g&&(g=g.get("type"),(f=b.vgField(f,{expr:"datum"}))&&g in qb&&(d[f]=!0));return d},{});e=E(e);if(0<e.length){var c=a?"||":"\x26\x26";return e.map(function(d){return ff(d,a)}).join(" ".concat(c," "))}}function Ai(b,e){if(void 0!==e){var a={};return a[b]=za(e),a}}function Ff(b,e){b=ca(b.scaleName(e));return"domain(".concat(b,")")}function Gf(b){var e;
return b.parent&&hd(b.parent)&&(null!==(e=!b.parent.parent)&&void 0!==e?e:Gf(b.parent.parent))}function zl(b,e,a){var c,d=null===(c=b.fieldDef(e))||void 0===c?void 0:c.field;Uc(b,function(f){var g,h=null!==(g=f.project.hasField[d])&&void 0!==g?g:f.project.hasChannel[e];if(h&&Bi.has(f)){var k;g=null!==(k=a.get("selections"))&&void 0!==k?k:[];g.push(f.name);a.set("selections",g,!1);h.hasLegend=!0}})}function Ci(b,e,a,c,d){var f,g=e.name,h=g+"_translate_anchor";g+="_translate_delta";var k=a.channel,
l=Fc.has(e);e=d.filter(function(m){return m.name===a.signals[l?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;b=b.getScaleComponent(k);d=b.get("type");var n=l&&"x"===k?"-":"";h="".concat(h,".extent_").concat(k);k="".concat(n).concat(g,".").concat(k," / ")+(l?"".concat(c):"span(".concat(h,")"));h="".concat(l?"log"===d?"panLog":"pow"===d?"panPow":"panLinear":"panLinear","(").concat(h,", ").concat(k)+(l&&"pow"===d?", ".concat(null!==(f=b.get("exponent"))&&void 0!==f?f:1):"")+")";e.on.push({events:{signal:g},
update:l?h:"clampRange(".concat(h,", 0, ").concat(c,")")})}function Di(b,e,a,c,d){var f,g=e.name,h=a.channel,k=Fc.has(e);e=d.filter(function(m){return m.name===a.signals[k?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;d=b.getScaleComponent(h);var l=d.get("type"),n=k?Ff(b,h):e.name;b=g+"_zoom_delta";g="".concat(g).concat("_zoom_anchor",".").concat(h);g="".concat(k?"log"===l?"zoomLog":"pow"===l?"zoomPow":"zoomLinear":"zoomLinear","(").concat(n,", ").concat(g,", ").concat(b)+(k&&"pow"===l?", ".concat(null!==
(f=d.get("exponent"))&&void 0!==f?f:1):"")+")";e.on.push({events:{signal:b},update:k?g:"clampRange(".concat(g,", 0, ").concat(c,")")})}function oe(b,e){for(var a=$jscomp.makeIterator(Al),c=a.next();!c.done;c=a.next())c=c.value,c.has(b)&&e(c)}function id(b,e,a){e=void 0===e?!0:e;a=void 0===a?Bl:a;return U(b)?(b=b.map(function(c){return id(c,e,a)}),e?"[".concat(b.join(", "),"]"):b):Nc(b)?e?a(vd(b)):a(zk(b)):e?a(JSON.stringify(b)):b}function Cl(b,e){Uc(b,function(a,c){var d=a.name,f=c.modifyExpr(b,a);
e.push.apply(e,$jscomp.arrayFromIterable(c.signals(b,a)));oe(a,function(g){g.signals&&(e=g.signals(b,a,e));g.modifyExpr&&(f=g.modifyExpr(b,a,f))});e.push({name:d+"_modify",on:[{events:{signal:a.name+"_tuple"},update:"modify(".concat(ca(a.name+"_store"),", ").concat(f,")")}]})});return Hf(e)}function Dl(b,e){b.component.selection&&E(b.component.selection).length&&(b=ca(b.getName("cell")),e.unshift({name:"facet",value:{},on:[{events:fd("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(b,
").datum")}]}));return Hf(e)}function El(b,e){var a=!1;Uc(b,function(c,d){var f=c.name,g=ca(f+"_store");if(0===e.filter(function(l){return l.name===f}).length){var h="global"===c.resolve?"union":c.resolve,k="multi"===c.type?", true)":")";e.push({name:c.name,update:"".concat("vlSelectionResolve","(").concat(g,", ").concat(ca(h)).concat(k)})}a=!0;d.topLevelSignals&&(e=d.topLevelSignals(b,c,e));oe(c,function(l){l.topLevelSignals&&(e=l.topLevelSignals(b,c,e))})});a&&0===e.filter(function(c){return"unit"===
c.name}).length&&e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Hf(e)}function Fl(b,e){var a=[].concat($jscomp.arrayFromIterable(e));Uc(b,function(c){var d={name:c.name+"_store"};if(c.init){var f=c.project.items.map(function(h){h=Object.assign({},h);return delete h.signals,h}),g=c.init.map(function(h){return id(h,!1)});d.values="interval"===c.type?[{unit:hc(b,{escape:!1}),fields:f,values:g}]:g.map(function(h){return{unit:hc(b,{escape:!1}),
fields:f,values:h}})}a.filter(function(h){return h.name===c.name+"_store"}).length||a.push(d)});return a}function Ei(b,e){Uc(b,function(a,c){e=c.marks?c.marks(b,a,e):e;oe(a,function(d){d.marks&&(e=d.marks(b,a,e))})});return e}function Gl(b,e){b=$jscomp.makeIterator(b.children);for(var a=b.next();!a.done;a=b.next())a=a.value,xa(a)&&(e=Ei(a,e));return e}function Hf(b){return b.map(function(e){e.on&&!e.on.length&&delete e.on;return e})}function Hl(b,e,a,c){var d=a.channel,f=a.signals.visual;a=a.signals.data;
var g=Fc.has(e),h=ca(b.scaleName(d)),k=b.getScaleComponent(d);k=k?k.get("type"):void 0;var l=function(p){return"scale(".concat(h,", ").concat(p,")")},n=b.getSizeSignalRef("x"===d?"width":"height").signal,m="".concat(d,"(unit)");b=Fi(e,function(p,r){return[].concat($jscomp.arrayFromIterable(p),[{events:r.between[0],update:"[".concat(m,", ").concat(m,"]")},{events:r,update:"[".concat(f,"[0], clamp(").concat(m,", 0, ").concat(n,")]")}])});b.push({events:{signal:e.name+"_scale_trigger"},update:k in qb?
"[".concat(l("".concat(a,"[0]")),", ").concat(l("".concat(a,"[1]")),"]"):"[0, 0]"});return g?[{name:a,on:[]}]:[Object.assign({},{name:f},c?{init:id(c,!0,l)}:{value:[]},{on:b}),Object.assign({},{name:a},c?{init:id(c)}:{},{on:[{events:{signal:f},update:"".concat(f,"[0] \x3d\x3d\x3d ").concat(f,"[1] ? null : invert(").concat(h,", ").concat(f,")")}]})]}function Fi(b,e){return b.events.reduce(function(a,c){return c.between?e(a,c):(G("".concat(c," is not an ordered event stream for interval selections.")),
a)},[])}function Gi(b,e){var a=e.name,c=a+"_tuple_fields",d=e.project.items.map(function(f){var g=b.fieldDef(f.channel);return g&&g.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(ca(b.vgField(f.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(ca(b.vgField(f.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(ca(f.field),"]")}).join(", ");c="unit: ".concat(hc(b),", fields: ").concat(c,", values");
e=e.events;return[{name:a+"_tuple",on:e?[{events:e,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(c,": [").concat(d,"]} : null"),force:!0}]:[]}]}function Uc(b,e){if(b=b.component.selection){b=$jscomp.makeIterator(ic(b));for(var a=b.next();!a.done&&(a=a.value,!0!==e(a,Il[a.type]));a=b.next());}}function hc(b,e){e=(void 0===e?{escape:!0}:e).escape?ca(b.name):b.name;for(b=b.parent;b&&!Db(b);)b=b.parent;if(b)for(var a=b.facet,c=$jscomp.makeIterator(ub),d=c.next();!d.done;d=
c.next())d=d.value,a[d]&&(e+=" + '__facet_".concat(d,"_' + (facet[").concat(ca(b.vgField(d)),"])"));return e}function If(b){var e=!1;Uc(b,function(a){e=e||a.project.items.some(function(c){return"_vgsid_"===c.field})});return e}function Eb(b){this.type=b}function Jl(b){switch(b.type){case "ArrayExpression":return b.elements;case "BinaryExpression":case "LogicalExpression":return[b.left,b.right];case "CallExpression":return[b.callee].concat(b.arguments);case "ConditionalExpression":return[b.test,b.consequent,
b.alternate];case "MemberExpression":return[b.object,b.property];case "ObjectExpression":return b.properties;case "Property":return[b.key,b.value];case "UnaryExpression":return[b.argument];default:return[]}}function pe(b,e){if(!b)throw Error("ASSERT: "+e);}function jc(b){return 48<=b&&57>=b}function Jf(b){return 0<="0123456789abcdefABCDEF".indexOf(b)}function Id(b){return 0<="01234567".indexOf(b)}function Jd(b){return 10===b||13===b||8232===b||8233===b}function Kd(b){return 36===b||95===b||65<=b&&
90>=b||97<=b&&122>=b||92===b||128<=b&&Kl.test(String.fromCharCode(b))}function qe(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||48<=b&&57>=b||92===b||128<=b&&Ll.test(String.fromCharCode(b))}function Hi(){for(;A<Ra;){var b=S.charCodeAt(A);if(32===b||9===b||11===b||12===b||160===b||5760<=b&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)||Jd(b))++A;else break}}function Kf(b){var e=0;var a="u"===b?4:2;for(b=0;b<a;++b)if(A<Ra&&Jf(S[A])){var c=
S[A++];e=16*e+"0123456789abcdef".indexOf(c.toLowerCase())}else ka({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(e)}function Ii(){var b=S.charCodeAt(A++);var e=String.fromCharCode(b);92===b&&(117!==S.charCodeAt(A)&&ka({},"Unexpected token %0","ILLEGAL"),++A,(b=Kf("u"))&&"\\"!==b&&Kd(b.charCodeAt(0))||ka({},"Unexpected token %0","ILLEGAL"),e=b);for(;A<Ra;){b=S.charCodeAt(A);if(!qe(b))break;++A;e+=String.fromCharCode(b);92===b&&(e=e.substr(0,e.length-1),117!==S.charCodeAt(A)&&ka({},
"Unexpected token %0","ILLEGAL"),++A,(b=Kf("u"))&&"\\"!==b&&qe(b.charCodeAt(0))||ka({},"Unexpected token %0","ILLEGAL"),e+=b)}return e}function Lf(){var b=A,e=S.charCodeAt(A),a=S[A];switch(e){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++A,{type:7,value:String.fromCharCode(e),start:b,end:A};default:var c=S.charCodeAt(A+1);if(61===c)switch(e){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return A+=2,{type:7,
value:String.fromCharCode(e)+String.fromCharCode(c),start:b,end:A};case 33:case 61:return A+=2,61===S.charCodeAt(A)&&++A,{type:7,value:S.slice(b,A),start:b,end:A}}}e=S.substr(A,4);if("\x3e\x3e\x3e\x3d"===e)return A+=4,{type:7,value:e,start:b,end:A};e=e.substr(0,3);if("\x3e\x3e\x3e"===e||"\x3c\x3c\x3d"===e||"\x3e\x3e\x3d"===e)return A+=3,{type:7,value:e,start:b,end:A};e=e.substr(0,2);if(a===e[1]&&0<="+-\x3c\x3e\x26|".indexOf(a)||"\x3d\x3e"===e)return A+=2,{type:7,value:e,start:b,end:A};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(a))return++A,
{type:7,value:a,start:b,end:A};ka({},"Unexpected token %0","ILLEGAL")}function Ji(){var b=S[A];pe(jc(b.charCodeAt(0))||"."===b,"Numeric literal must start with a decimal digit or a decimal point");var e=A;var a="";if("."!==b){a=S[A++];b=S[A];if("0"===a){if("x"===b||"X"===b){++A;for(a="";A<Ra&&Jf(S[A]);)a+=S[A++];0===a.length&&ka({},"Unexpected token %0","ILLEGAL");Kd(S.charCodeAt(A))&&ka({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+a,16),start:e,end:A}}if(Id(b)){for(a="0"+
S[A++];A<Ra&&Id(S[A]);)a+=S[A++];(Kd(S.charCodeAt(A))||jc(S.charCodeAt(A)))&&ka({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(a,8),octal:!0,start:e,end:A}}b&&jc(b.charCodeAt(0))&&ka({},"Unexpected token %0","ILLEGAL")}for(;jc(S.charCodeAt(A));)a+=S[A++];b=S[A]}if("."===b){for(a+=S[A++];jc(S.charCodeAt(A));)a+=S[A++];b=S[A]}if("e"===b||"E"===b){a+=S[A++];b=S[A];if("+"===b||"-"===b)a+=S[A++];if(jc(S.charCodeAt(A)))for(;jc(S.charCodeAt(A));)a+=S[A++];else ka({},"Unexpected token %0",
"ILLEGAL")}Kd(S.charCodeAt(A))&&ka({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(a),start:e,end:A}}function Ml(b,e){var a=b;0<=e.indexOf("u")&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(c,d){if(1114111>=parseInt(d,16))return"x";ka({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(c){ka({},"Invalid regular expression")}try{return new RegExp(b,e)}catch(c){return null}}function Mf(){Hi();if(A>=Ra)return{type:2,start:A,
end:A};var b=S.charCodeAt(A);if(Kd(b)){b=A;if(92===S.charCodeAt(A))var e=Ii();else a:{for(e=A++;A<Ra;){var a=S.charCodeAt(A);if(92===a){A=e;e=Ii();break a}if(qe(a))++A;else break}e=S.slice(e,A)}return{type:1===e.length?3:Nl.hasOwnProperty(e)?4:"null"===e?5:"true"===e||"false"===e?1:3,value:e,start:b,end:A}}if(40===b||41===b||59===b)return Lf();if(39===b||34===b){var c="";a=!1;b=S[A];pe("'"===b||'"'===b,"String literal must starts with a quote");e=A;for(++A;A<Ra;){var d=S[A++];if(d===b){b="";break}else if("\\"===
d)if((d=S[A++])&&Jd(d.charCodeAt(0)))"\r"===d&&"\n"===S[A]&&++A;else switch(d){case "u":case "x":if("{"===S[A]){++A;var f=S[A];d=0;for("}"===f&&ka({},"Unexpected token %0","ILLEGAL");A<Ra;){f=S[A++];if(!Jf(f))break;d=16*d+"0123456789abcdef".indexOf(f.toLowerCase())}(1114111<d||"}"!==f)&&ka({},"Unexpected token %0","ILLEGAL");d=65535>=d?String.fromCharCode(d):String.fromCharCode((d-65536>>10)+55296,(d-65536&1023)+56320);c+=d}else c+=Kf(d);break;case "n":c+="\n";break;case "r":c+="\r";break;case "t":c+=
"\t";break;case "b":c+="\b";break;case "f":c+="\f";break;case "v":c+="\x0B";break;default:Id(d)?(f="01234567".indexOf(d),0!==f&&(a=!0),A<Ra&&Id(S[A])&&(a=!0,f=8*f+"01234567".indexOf(S[A++]),0<="0123".indexOf(d)&&A<Ra&&Id(S[A])&&(f=8*f+"01234567".indexOf(S[A++]))),c+=String.fromCharCode(f)):c+=d}else if(Jd(d.charCodeAt(0)))break;else c+=d}""!==b&&ka({},"Unexpected token %0","ILLEGAL");return{type:8,value:c,octal:a,start:e,end:A}}return 46===b?jc(S.charCodeAt(A+1))?Ji():Lf():jc(b)?Ji():Lf()}function db(){var b=
ia;A=b.end;ia=Mf();A=b.end;return b}function Ki(b,e,a){var c=new Eb("||"===b||"\x26\x26"===b?"LogicalExpression":"BinaryExpression");c.operator=b;c.left=e;c.right=a;return c}function Nf(b){var e=new Eb("Identifier");e.name=b;return e}function Ld(b){var e=new Eb("Literal");e.value=b.value;e.raw=S.slice(b.start,b.end);b.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=b.regex);return e}function Li(b,e,a){var c=new Eb("MemberExpression");c.computed="["===b;c.object=e;c.property=a;c.computed||(a.member=
!0);return c}function Mi(b,e,a){var c=new Eb("Property");c.key=e;c.value=a;c.kind=b;return c}function ka(b,e){var a=Array.prototype.slice.call(arguments,2),c=e.replace(/%(\d)/g,function(f,g){pe(g<a.length,"Message reference must be in range");return a[g]});var d=Error(c);d.index=A;d.description=c;throw d;}function re(b){2===b.type&&ka(b,"Unexpected end of input");6===b.type&&ka(b,"Unexpected number");8===b.type&&ka(b,"Unexpected string");3===b.type&&ka(b,"Unexpected identifier");4===b.type&&ka(b,
"Unexpected reserved word");ka(b,"Unexpected token %0",b.value)}function Sa(b){var e=db();7===e.type&&e.value===b||re(e)}function wa(b){return 7===ia.type&&ia.value===b}function Ni(){A=ia.start;var b=db();return 8===b.type||6===b.type?(b.octal&&ka(b,"Octal literals are not allowed in strict mode."),Ld(b)):Nf(b.value)}function Ol(){if(wa("(")){Sa("(");var b=Of();Sa(")");return b}if(wa("[")){b=[];A=ia.start;for(Sa("[");!wa("]");)wa(",")?(db(),b.push(null)):(b.push(Vc()),wa("]")||Sa(","));db();var e=
new Eb("ArrayExpression");e.elements=b;return e}if(wa("{")){b=[];e={};var a=String;A=ia.start;for(Sa("{");!wa("}");){A=ia.start;var c=ia;if(3===c.type){var d=Ni();Sa(":");c=Vc();c=Mi("init",d,c)}else 2===c.type||7===c.type?(re(c),c=void 0):(d=Ni(),Sa(":"),c=Vc(),c=Mi("init",d,c));d="Identifier"===c.key.type?c.key.name:a(c.key.value);d="$"+d;Object.prototype.hasOwnProperty.call(e,d)?ka({},"Duplicate data property in object literal not allowed in strict mode"):e[d]=!0;b.push(c);wa("}")||Sa(",")}Sa("}");
e=new Eb("ObjectExpression");e.properties=b;return e}e=ia.type;A=ia.start;if(3===e||Pl[ia.value])b=Nf(db().value);else if(8===e||6===e)ia.octal&&ka(ia,"Octal literals are not allowed in strict mode."),b=Ld(db());else{if(4===e)throw Error("Disabled.");if(1===e)b=db(),b.value="true"===b.value,b=Ld(b);else if(5===e)b=db(),b.value=null,b=Ld(b);else if(wa("/")||wa("/\x3d")){var f;ia=null;Hi();b=A;e=S[A];pe("/"===e,"Regular expression literal must start with a slash");a=S[A++];for(d=c=!1;A<Ra;)if(e=S[A++],
a+=e,"\\"===e)e=S[A++],Jd(e.charCodeAt(0))&&ka({},"Invalid regular expression: missing /"),a+=e;else if(Jd(e.charCodeAt(0)))ka({},"Invalid regular expression: missing /");else if(c)"]"===e&&(c=!1);else if("/"===e){d=!0;break}else"["===e&&(c=!0);d||ka({},"Invalid regular expression: missing /");e=a.substr(1,a.length-2);for(f=d="";A<Ra;){c=S[A];if(!qe(c.charCodeAt(0)))break;++A;"\\"===c&&A<Ra?ka({},"Unexpected token %0","ILLEGAL"):(f+=c,d+=c)}0<=f.search(/[^gimuy]/g)&&ka({},"Invalid regular expression",
f);c=f;f=Ml(e,c);b=Ld({literal:a+d,value:f,regex:{pattern:e,flags:c},start:b,end:A});e=A;ia=Mf();A=e}else re(db())}return b}function Oi(){var b;for(b=Ol();;)if(wa(".")){Sa(".");A=ia.start;var e=db();3===e.type||4===e.type||1===e.type||5===e.type||re(e);e=Nf(e.value);b=Li(".",b,e)}else if(wa("(")){e=[];Sa("(");if(!wa(")"))for(;A<Ra;){e.push(Vc());if(wa(")"))break;Sa(",")}Sa(")");var a=new Eb("CallExpression");a.callee=b;a.arguments=e;b=a}else if(wa("["))Sa("["),e=Of(),Sa("]"),b=Li("[",b,e);else break;
if(7===ia.type&&(wa("++")||wa("--")))throw Error("Disabled.");return b}function se(){if(7!==ia.type&&4!==ia.type)var b=Oi();else{if(wa("++")||wa("--"))throw Error("Disabled.");if(wa("+")||wa("-")||wa("~")||wa("!")){var e=db();b=se();e=e.value;var a=new Eb("UnaryExpression");a.operator=e;a.argument=b;a.prefix=!0;b=a}else{if(4===ia.type&&"delete"===ia.value||4===ia.type&&"void"===ia.value||4===ia.type&&"typeof"===ia.value)throw Error("Disabled.");b=Oi()}}return b}function Pi(b){var e=0;if(7!==b.type&&
4!==b.type)return 0;switch(b.value){case "||":e=1;break;case "\x26\x26":e=2;break;case "|":e=3;break;case "^":e=4;break;case "\x26":e=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":e=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":e=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":e=8;break;case "+":case "-":e=9;break;case "*":case "/":case "%":e=11}return e}function Vc(){var b=ia;var e=se();var a=ia;var c=Pi(a);if(0===
c)var d=e;else{a.prec=c;db();b=[b,ia];var f=se();for(d=[e,a,f];0<(c=Pi(ia));){for(;2<d.length&&c<=d[d.length-2].prec;)f=d.pop(),a=d.pop().value,e=d.pop(),b.pop(),e=Ki(a,e,f),d.push(e);a=db();a.prec=c;d.push(a);b.push(ia);e=se();d.push(e)}c=d.length-1;e=d[c];for(b.pop();1<c;)b.pop(),e=Ki(d[c-1].value,d[c-2],e),c-=2;d=e}wa("?")&&(db(),b=Vc(),Sa(":"),c=Vc(),e=new Eb("ConditionalExpression"),e.test=d,e.consequent=b,e.alternate=c,d=e);return d}function Of(){var b=Vc();if(wa(","))throw Error("Disabled.");
return b}function Ql(b){S=b;A=0;Ra=S.length;ia=null;b=A;ia=Mf();A=b;b=Of();if(2!==ia.type)throw Error("Unexpect token after expression.");return b}function Pf(b){var e=[];if("Identifier"===b.type)return[b.name];if("Literal"===b.type)return[b.value];"MemberExpression"===b.type&&(e.push.apply(e,$jscomp.arrayFromIterable(Pf(b.object))),e.push.apply(e,$jscomp.arrayFromIterable(Pf(b.property))));return e}function Qi(b){return"MemberExpression"===b.object.type?Qi(b.object):"datum"===b.object.name}function Ri(b){b=
Ql(b);var e=new Set;b.visit(function(a){"MemberExpression"===a.type&&Qi(a)&&e.add(Pf(a).slice(1).join("."))});return e}function Rl(b,e){for(var a={},c=b.config.selection,d={},f=$jscomp.makeIterator(E(null!==e&&void 0!==e?e:{})),g=f.next();!g.done;d={$jscomp$loop$prop$selCmpt$446:d.$jscomp$loop$prop$selCmpt$446,$jscomp$loop$prop$selDef$447:d.$jscomp$loop$prop$selDef$447,$jscomp$loop$prop$name$448:d.$jscomp$loop$prop$name$448},g=f.next()){d.$jscomp$loop$prop$name$448=g.value;d.$jscomp$loop$prop$selDef$447=
aa(e[d.$jscomp$loop$prop$name$448]);g=Object.assign({},c[d.$jscomp$loop$prop$selDef$447.type]);g=(delete g.fields,delete g.encodings,g);for(var h in g)if(!("encodings"===h&&d.$jscomp$loop$prop$selDef$447.fields||"fields"===h&&d.$jscomp$loop$prop$selDef$447.encodings)&&("mark"===h&&(d.$jscomp$loop$prop$selDef$447[h]=Object.assign({},g[h],d.$jscomp$loop$prop$selDef$447[h])),void 0===d.$jscomp$loop$prop$selDef$447[h]||!0===d.$jscomp$loop$prop$selDef$447[h])){var k;d.$jscomp$loop$prop$selDef$447[h]=null!==
(k=g[h])&&void 0!==k?k:d.$jscomp$loop$prop$selDef$447[h]}g=oa(d.$jscomp$loop$prop$name$448);d.$jscomp$loop$prop$selCmpt$446=a[g]=Object.assign({},d.$jscomp$loop$prop$selDef$447,{name:g,events:Y(d.$jscomp$loop$prop$selDef$447.on)?fd(d.$jscomp$loop$prop$selDef$447.on,"scope"):aa(d.$jscomp$loop$prop$selDef$447.on)});oe(d.$jscomp$loop$prop$selCmpt$446,function(l){return function(n){n.has(l.$jscomp$loop$prop$selCmpt$446)&&n.parse&&n.parse(b,l.$jscomp$loop$prop$selCmpt$446,l.$jscomp$loop$prop$selDef$447,
e[l.$jscomp$loop$prop$name$448])}}(d))}return a}function ri(b,e,a,c){c=void 0===c?"datum":c;var d=[];e=Zb(e,function(f){var g=oa(f);f=b.getSelectionComponent(g,f);g=ca(g+"_store");if(f.project.timeUnit){var h=null!==a&&void 0!==a?a:b.component.data.raw,k=f.project.timeUnit.clone();h.parent?k.insertAsParentOf(h):h.parent=k}"none"!==f.empty&&d.push(g);return"vlSelectionTest(".concat(g,", ").concat(c)+("global"===f.resolve?")":", ".concat(ca(f.resolve),")"))});return(d.length?"!("+d.map(function(f){return"length(data(".concat(f,
"))")}).join(" || ")+") || ":"")+"(".concat(e,")")}function Si(b,e){var a=e.encoding,c=e.field;if(!a&&!c)c=b.project.items[0].field,1<b.project.items.length&&G('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(ca(c),"."));else if(a&&!c){var d=b.project.items.filter(function(f){return f.channel===a});!d.length||1<d.length?(c=b.project.items[0].field,G((d.length?"Multiple ":"No ")+"matching ".concat(ca(a)," encoding found for selection ").concat(ca(e.selection),
". ")+'Using "field": '.concat(ca(c),"."))):c=d[0].field}return"".concat(b.name,"[").concat(ca(c),"]")}function Sl(b,e){Uc(b,function(a){var c=a.name,d=b.getName("lookup_".concat(c));b.component.data.outputNodes[d]=a.materialized=new Ba(new Fb(e,b,{selection:c}),d,qa.Lookup,b.component.data.outputNodeRefCounts)})}function je(b,e,a){return Zb(e,function(c){return Y(c)?c:(null===c||void 0===c?0:c.selection)?ri(b,c.selection,a):dh(c)})}function Tl(b,e){if(b)return U(b)&&!Cc(b)?b.map(function(a){return Bd(a,
e)}).join(", "):b}function Qf(b,e,a,c){var d,f,g;b.encode=null!==(d=b.encode)&&void 0!==d?d:{};b.encode[e]=null!==(f=b.encode[e])&&void 0!==f?f:{};b.encode[e].update=null!==(g=b.encode[e].update)&&void 0!==g?g:{};b.encode[e].update[a]=c}function Md(b,e,a,c){c=void 0===c?{header:!1}:c;var d=b.combine(),f=Object.assign({},d),g=d.disable,h=d.orient,k=d.scale,l=d.labelExpr,n=d.title;d=d.zindex;f=(delete f.disable,delete f.orient,delete f.scale,delete f.labelExpr,delete f.title,delete f.zindex,f);if(!g){for(var m in f){var p=
Ul[m];g=f[m];if(p&&p!==e&&"both"!==p)delete f[m];else if(F(g)){p=g;g=Object.assign({},p);p=p.condition;g=(delete g.condition,g);p=ya(p);var r=Ti[m];if(r){var u=r;r=u.vgProp;u=u.part;g=[].concat($jscomp.arrayFromIterable(p.map(function(z){var C=Object.assign({},z);z=z.test;C=(delete C.test,C);return Object.assign({},{test:je(null,z)},C)})),[g]);Qf(f,u,r,g);delete f[m]}else null===r&&(g={signal:p.map(function(z){var C=Object.assign({},z);z=z.test;C=(delete C.test,C);return"".concat(je(null,z)," ? ").concat(W(C)?
C.signal:ca(C.value)," : ")}).join("")+(W(g)?g.signal:ca(g.value))},f[m]=g)}else W(g)&&(p=Ti[m])&&(Qf(f,p.part,p.vgProp,g),delete f[m])}if("grid"===e){if(f.grid)return f.encode&&(a=f.encode.grid,f.encode=Object.assign({},a?{grid:a}:{}),ja(f.encode)&&delete f.encode),Object.assign({},{scale:k,orient:h},f,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ta(d,0)})}else if(c.header||!b.mainExtracted){if(void 0!==l){var w,x;e=l;(null===(w=f.encode)||void 0===w?0:null===(x=w.labels)||
void 0===x?0:x.update)&&W(f.encode.labels.update.text)&&(e=ac(l,"datum.label",f.encode.labels.update.text.signal));Qf(f,"labels","text",{signal:e})}null===f.labelAlign&&delete f.labelAlign;if(f.encode){l=$jscomp.makeIterator(Ui);for(w=l.next();!w.done;w=l.next())w=w.value,b.hasAxisPart(w)||delete f.encode[w];ja(f.encode)&&delete f.encode}b=Tl(n,a);return Object.assign({},{scale:k,orient:h,grid:!1},b?{title:b}:{},f,!1===a.aria?{aria:!1}:{},{zindex:ta(d,0)})}}}function Vi(b){for(var e=b.component.axes,
a=[],c=$jscomp.makeIterator(tb),d=c.next();!d.done;d=c.next())if(d=d.value,e[d])for(var f=$jscomp.makeIterator(e[d]),g=f.next();!g.done;g=f.next())if(g=g.value,!g.get("disable")&&!g.get("gridScale")){g="x"===d?"height":"width";var h=b.getSizeSignalRef(g).signal;g!==h&&a.push({name:g,update:h})}return a}function Vl(b,e){var a=void 0===b.x?[]:b.x;b=void 0===b.y?[]:b.y;return[].concat($jscomp.arrayFromIterable(a.map(function(c){return Md(c,"grid",e)})),$jscomp.arrayFromIterable(b.map(function(c){return Md(c,
"grid",e)})),$jscomp.arrayFromIterable(a.map(function(c){return Md(c,"main",e)})),$jscomp.arrayFromIterable(b.map(function(c){return Md(c,"main",e)}))).filter(function(c){return c})}function Wi(b,e,a,c){return Object.assign.apply(null,[{}].concat($jscomp.arrayFromIterable(b.map(function(d){if("axisOrient"===d){d="x"===a?"bottom":"left";var f=e["x"===a?"axisBottom":"axisLeft"]||{},g=e["x"===a?"axisTop":"axisRight"]||{},h=new Set([].concat($jscomp.arrayFromIterable(E(f)),$jscomp.arrayFromIterable(E(g)))),
k={};h=$jscomp.makeIterator(h.values());for(var l=h.next();!l.done;l=h.next())l=l.value,k[l]={signal:"".concat(c.signal,' \x3d\x3d\x3d "').concat(d,'" ? ').concat(ec(f[l])," : ").concat(ec(g[l]))};return k}return e[d]}))))}function Wl(b,e,a,c){var d="band"===e?["axisDiscrete","axisBand"]:"point"===e?["axisDiscrete","axisPoint"]:e in Xl?["axisQuantitative"]:"time"===e||"utc"===e?["axisTemporal"]:[],f="x"===b?"axisX":"axisY";e=W(a)?"axisOrient":"axis"+$b(a);d=[].concat($jscomp.arrayFromIterable(d),
$jscomp.arrayFromIterable(d.map(function(g){return f+g.substr(4)})));e=["axis",e,f];return{vlOnlyAxisConfig:Wi(d,c,b,a),vgAxisConfig:Wi(e,c,b,a),axisConfigStyle:Yl([].concat($jscomp.arrayFromIterable(e),$jscomp.arrayFromIterable(d)),c)}}function Yl(b,e){var a=[{}];b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next()){var d;if(c=null===(d=e[c.value])||void 0===d?void 0:d.style){c=ya(c);c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next())a.push(e.style[f.value])}}return Object.assign.apply(null,
a)}function Rf(b,e,a,c){c=void 0===c?{}:c;e=Bh(b,a,e);if(void 0!==e)return{configFrom:"style",configValue:e};e=$jscomp.makeIterator(["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]);for(a=e.next();!a.done;a=e.next()){a=a.value;var d;if(void 0!==(null===(d=c[a])||void 0===d?void 0:d[b]))return{configFrom:a,configValue:c[a][b]}}return{}}function Zl(b,e,a,c,d){var f=null===e||void 0===e?void 0:e.labelAngle;if(void 0!==f)return W(f)?f:y(f);e=Rf("labelAngle",c,null===e||void 0===e?void 0:e.style,
d).configValue;if(void 0!==e)return y(e);if("x"===a&&R(["nominal","ordinal"],b.type)&&(!K(b)||!b.timeUnit))return 270}function Sf(b){return"(((".concat(b.signal," % 360) + 360) % 360)")}function Xi(b,e,a,c){if(void 0!==b)return"x"===a?W(b)?(c=Sf(b),e=W(e)?"(".concat(e.signal,' \x3d\x3d\x3d "top")'):"top"===e,{signal:"(45 \x3c ".concat(c," \x26\x26 ").concat(c," \x3c 135) || (225 \x3c ").concat(c," \x26\x26 ").concat(c,' \x3c 315) ? "middle" :')+"(".concat(c," \x3c\x3d 45 || 315 \x3c\x3d ").concat(c,
") \x3d\x3d\x3d ").concat(e,' ? "bottom" : "top"')}):45<b&&135>b||225<b&&315>b?"middle":W(e)?(c=45>=b||315<=b?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(e.signal," ").concat(c,' "top" ? "bottom" : "top"')}):(45>=b||315<=b)===("top"===e)?"bottom":"top":W(b)?(b=Sf(b),e=W(e)?"(".concat(e.signal,' \x3d\x3d\x3d "left")'):"left"===e,c=c?'"middle"':"null",{signal:"".concat(b," \x3c\x3d 45 || 315 \x3c\x3d ").concat(b," || (135 \x3c\x3d ").concat(b," \x26\x26 ").concat(b," \x3c\x3d 225) ? ").concat(c," : (45 \x3c\x3d ").concat(b,
" \x26\x26 ").concat(b," \x3c\x3d 135) \x3d\x3d\x3d ").concat(e,' ? "top" : "bottom"')}):45>=b||315<=b||135<=b&&225>=b?c?"middle":null:W(e)?(c=45<=b&&135>=b?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(e.signal," ").concat(c,' "left" ? "top" : "bottom"')}):(45<=b&&135>=b)===("left"===e)?"top":"bottom"}function Yi(b,e,a){if(void 0!==b){var c=(a="x"===a)?0:90,d=a?"bottom":"left";return W(b)?(b=Sf(b),e=W(e)?"(".concat(e.signal,' \x3d\x3d\x3d "').concat(d,'")'):e===d,{signal:"(".concat(c?"("+b+" + 90)":
b," % 180 \x3d\x3d\x3d 0) ? ").concat(a?null:'"center"'," :")+"(".concat(c," \x3c ").concat(b," \x26\x26 ").concat(b," \x3c ").concat(180+c,") \x3d\x3d\x3d ").concat(e,' ? "left" : "right"')}):0===(b+c)%180?a?null:"center":W(e)?(a=c<b&&b<180+c?"\x3d\x3d\x3d":"!\x3d\x3d",e="".concat(e.signal," ").concat(a,' "').concat(d,'"'),{signal:"".concat(e,' ? "left" : "right"')}):(c<b&&b<180+c)===(e===d)?"left":"right"}}function Zi(b,e){var a="x"===e?"x2":"y2";e=b.fieldDef(e);b=b.fieldDef(a);a=e?e.title:void 0;
b=b?b.title:void 0;if(a&&b)return Eh(a,b);if(a)return a;if(b)return b;if(void 0!==a)return a;if(void 0!==b)return b}function jd(b,e,a){return J(b,Object.assign({},{prefix:e,suffix:"sort_index"},null!==a&&void 0!==a?a:{}))}function te(b,e){return R(["top","bottom"],e)?"column":R(["left","right"],e)?"row":"row"===b?"row":"column"}function kd(b,e,a,c){return ta((e||{})[b],("row"===c?a.headerRow:"column"===c?a.headerColumn:a.headerFacet)[b],a.header[b])}function ue(b,e,a,c){var d={};b=$jscomp.makeIterator(b);
for(var f=b.next();!f.done;f=b.next()){f=f.value;var g=kd(f,e||{},a,c);void 0!==g&&(d[f]=g)}return d}function $l(b,e){var a=b.component.layoutHeaders[e].title,c=b.config?b.config:void 0;b=b.component.layoutHeaders[e].facetFieldDef?b.component.layoutHeaders[e].facetFieldDef:void 0;var d=ue(["titleAnchor","titleAngle","titleOrient"],b.header,c,e),f=d.titleAnchor,g=d.titleAngle;d=te(e,d.titleOrient);g=y(g);return{name:"".concat(e,"-title"),type:"group",role:"".concat(d,"-title"),title:Object.assign({},
{text:a},"row"===e?{orient:"left"}:{},{style:"guide-title"},$i(g,d),aj(d,g,f),bj(c,b,e,am,cj))}}function aj(b,e,a){switch(void 0===a?"middle":a){case "start":return{align:"left"};case "end":return{align:"right"}}return(b=Yi(e,"row"===b?"left":"top","row"===b?"y":"x"))?{align:b}:{}}function $i(b,e){return(b=Xi(b,"row"===e?"left":"top","row"===e?"y":"x",!0))?{baseline:b}:{}}function bm(b,e){for(var a=b.component.layoutHeaders[e],c=[],d=$jscomp.makeIterator(Tf),f=d.next();!f.done;f=d.next())if(f=f.value,
a[f])for(var g=$jscomp.makeIterator(a[f]),h=g.next();!h.done;h=g.next()){h=h.value;a:{var k=b,l=e;if(h){var n=null,m=a.facetFieldDef,p=k.config?k.config:void 0;if(m&&h.labels){var r=ue(["labelOrient"],m.header,p,l).labelOrient;if("row"===l&&!R(["top","bottom"],r)||"column"===l&&!R(["left","right"],r))n=Uf(m,l,p)}p=Db(k)&&!Ad(k.facet);r=h.axes;var u=0<(null===r||void 0===r?void 0:r.length);if(n||u){var w="row"===l?"height":"width",x={};h=Object.assign({},{name:k.getName("".concat(l,"_").concat(f)),
type:"group",role:"".concat(l,"-").concat(f)},a.facetFieldDef?{from:{data:k.getName(l+"_domain")},sort:cm(m,l)}:{},u&&p?{from:{data:k.getName("facet_domain_".concat(l))}}:{},n?{title:n}:{},h.sizeSignal?{encode:{update:(x[w]=h.sizeSignal,x)}}:{},u?{axes:r}:{});break a}}h=null}null!=h&&c.push(h)}return c}function cm(b,e){var a=b.sort;if(Pb(a)){var c;return{field:J(a,{expr:"datum"}),order:null!==(c=a.order)&&void 0!==c?c:"ascending"}}return U(a)?{field:jd(b,e,{expr:"datum"}),order:"ascending"}:{field:J(b,
{expr:"datum"}),order:null!==a&&void 0!==a?a:"ascending"}}function Uf(b,e,a){var c=ue("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),b.header,a,e),d=c.labelAngle,f=c.labelAnchor,g=c.labelOrient,h=c.labelExpr;c=gf({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,expr:"parent",config:a}).signal;g=te(e,g);return Object.assign({},{text:{signal:h?ac(ac(h,"datum.label",c),"datum.value",J(b,{expr:"parent"})):c}},"row"===e?{orient:"left"}:{},{style:"guide-label",frame:"group"},
$i(d,g),aj(g,d,f),bj(a,b,e,dm,dj))}function bj(b,e,a,c,d){var f={};c=$jscomp.makeIterator(c);for(var g=c.next();!g.done;g=c.next())if(g=g.value,d[g]){var h=kd(g,null===e||void 0===e?void 0:e.header,b,a);void 0!==h&&(f[d[g]]=h)}return f}function Vf(b){return[].concat($jscomp.arrayFromIterable(ve(b,"width")),$jscomp.arrayFromIterable(ve(b,"height")),$jscomp.arrayFromIterable(ve(b,"childWidth")),$jscomp.arrayFromIterable(ve(b,"childHeight")))}function ve(b,e){var a="width"===e?"x":"y",c=b.component.layoutSize.get(e);
if(!c||"merged"===c)return[];e=b.getSizeSignalRef(e).signal;if("step"===c){if(c=b.getScaleComponent(a)){var d=c.get("type"),f=c.get("range");if(d in cb&&yc(f))return d=b.scaleName(a),Db(b.parent)&&"independent"===b.parent.component.resolve.scale[a]?[{name:d+"_step",value:f.step}]:[{name:d+"_step",value:f.step},{name:e,update:ej(d,c,"domain('".concat(d,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==c?(a=(c=e.endsWith("width"))?"containerSize()[0]":
"containerSize()[1]",b=xf(b.config.view,c?"width":"height"),b="isFinite(".concat(a,") ? ").concat(a," : ").concat(b),[{name:e,init:b,on:[{update:b,events:"window:resize"}]}]):[{name:e,value:c}]}function ej(b,e,a){var c=e.get("type"),d=e.get("padding"),f=ta(e.get("paddingOuter"),d);e=e.get("paddingInner");e="band"===c?void 0!==e?e:d:1;return"bandspace(".concat(a,", ").concat(ec(e),", ").concat(ec(f),") * ").concat(b,"_step")}function fj(b){return"childWidth"===b?"width":"childHeight"===b?"height":
b}function gj(b,e){return E(b).reduce(function(a,c){return Object.assign({},a,gd(e,b[c],c,function(d){return za(d.value)}))},{})}function Wf(b,e){var a=e in La?"axis":"legend";return"independent"===b.scale[e]?("shared"===b[a][e]&&G('Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):b[a][e]||"shared"}function hj(b){return ij(b,function(e,a){return Math.max(e,a.value)})}function Xf(b){return ij(b,function(e,
a){return ta(e,a.value)})}function ij(b,e){var a=b&&b.condition;if(a&&(U(a)||Cb(a)))return ya(b.condition).reduce(e,b.value);if(Cb(b))return b.value}function jj(b,e,a){b=e.get("selections");if(null!==b&&void 0!==b&&b.length){var c=ca(a.field);return b.map(function(d){var f=ca(oa(d)+"_store");return"(!length(data(".concat(f,")) || (").concat(d,"[").concat(c,"] \x26\x26 indexof(").concat(d,"[").concat(c,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function kj(b,e,a,c){b=b.getSizeSignalRef(e).signal;
return{signal:"clamp(".concat(b,", ").concat(a,", ").concat(c,")")}}function lj(b){if(xa(b)){var e=b.encoding;for(var a={},c=$jscomp.makeIterator(["color"].concat($jscomp.arrayFromIterable(mj))),d=c.next();!d.done;d=c.next()){d=d.value;var f=Ga(e[d]);if(f&&b.getScaleComponent(d)&&("shape"!==d||!K(f)||"geojson"!==f.type)){var g=f=void 0,h=void 0,k=void 0,l=void 0;var n=void 0;var m=b,p=m.legend(d),r=m.markDef,u=m.encoding,w=m.config,x=w.legend,z=new nj({},em(m,d));zl(m,d,z);var C=void 0!==p?!p:x.disable;
z.set("disable",C,void 0!==p);if(!C){p=p||{};var O=m.getScaleComponent(d).get("type");C=Ga(u[d]);var L=K(C)?null===(n=Wa(C.timeUnit))||void 0===n?void 0:n.unit:void 0,Aa=p.orient||w.legend.orient||"right";n=p.type;b:{var ha=O;if(ad(d)){if(R(["quarter","month","day"],L)){L="symbol";break b}if(ha in Ab){L="gradient";break b}}L="symbol"}n=ta(n,L);L=x;ha=n;var Da=Aa;if(null!==(h=null!==(g=p.direction)&&void 0!==g?g:L[ha?"gradientDirection":"symbolDirection"])&&void 0!==h)g=h;else b:{switch(Da){case "top":case "bottom":g=
"horizontal";break b;case "left":case "right":case "none":case void 0:break;default:g="gradient"===ha?"horizontal":void 0;break b}g=void 0}r={legend:p,channel:d,model:m,markDef:r,encoding:u,fieldOrDatumDef:C,legendConfig:x,config:w,scaleType:O,orient:Aa,legendType:n,direction:g};u=$jscomp.makeIterator(oj);for(x=u.next();!x.done;x=u.next())if(x=x.value,!("gradient"===n&&x.startsWith("symbol")||"symbol"===n&&x.startsWith("gradient"))&&(O=x in pj?pj[x](r):p[x],void 0!==O)){b:{g=m.fieldDef(d);switch(x){case "disable":g=
void 0!==p;break b;case "values":g=!(null===p||void 0===p||!p.values);break b;case "title":if("title"===x&&O===(null===g||void 0===g?void 0:g.title)){g=!0;break b}}g=O===(p||{})[x]}(g||void 0===w.legend[x])&&z.set(x,O,g)}w=null!==(l=null===(k=p)||void 0===k?void 0:k.encoding)&&void 0!==l?l:{};k=z.get("selections");l={};n={fieldOrDatumDef:C,model:m,channel:d,legendCmpt:z,legendType:n};r=$jscomp.makeIterator("labels legend title symbols gradient entries".split(" "));for(u=r.next();!u.done;u=r.next()){u=
u.value;var fa;x=gj(null!==(fa=w[u])&&void 0!==fa?fa:{},m);x=u in qj?qj[u](x,n):x;void 0===x||ja(x)||(l[u]=Object.assign({},(null===k||void 0===k?0:k.length)&&K(C)?{name:"".concat(oa(C.field),"_legend_").concat(u)}:{},(null===k||void 0===k?0:k.length)?{interactive:!!k}:{},{update:x}))}ja(l)||z.set("encode",l,!(null===(f=p)||void 0===f||!f.encoding))}f=z;a[d]=f}}e=a}else{a=b.component;e=a.legends;a=a.resolve;c=$jscomp.makeIterator(b.children);for(fa=c.next();!fa.done;fa=c.next())for(fa=fa.value,lj(fa),
d=$jscomp.makeIterator(E(fa.component.legends)),f=d.next();!f.done;f=d.next())f=f.value,a.legend[f]=Wf(b.component.resolve,f),"shared"===a.legend[f]&&(e[f]=rj(e[f],fa.component.legends[f]),e[f]||(a.legend[f]="independent",delete e[f]));c=$jscomp.makeIterator(E(e));for(f=c.next();!f.done;f=c.next())for(d=f.value,f=$jscomp.makeIterator(b.children),fa=f.next();!fa.done;fa=f.next())fa=fa.value,fa.component.legends[d]&&"shared"===a.legend[d]&&delete fa.component.legends[d]}return b.component.legends=e}
function em(b,e){var a=b.scaleName(e);if("trail"===b.mark){if("color"===e)return{stroke:a};if("size"===e)return{strokeWidth:a}}if("color"===e)return b.markDef.filled?{fill:a}:{stroke:a};b={};return b[e]=a,b}function rj(b,e){if(!b)return e.clone();var a=b.getWithExplicit("orient"),c=e.getWithExplicit("orient");if(!a.explicit||!c.explicit||a.value===c.value){var d=!1;a={};c=$jscomp.makeIterator(oj);for(var f=c.next();!f.done;a={$jscomp$loop$prop$prop$450:a.$jscomp$loop$prop$prop$450},f=c.next())a.$jscomp$loop$prop$prop$450=
f.value,f=Dc(b.getWithExplicit(a.$jscomp$loop$prop$prop$450),e.getWithExplicit(a.$jscomp$loop$prop$prop$450),a.$jscomp$loop$prop$prop$450,"legend",function(n){return function(m,p){switch(n.$jscomp$loop$prop$prop$450){case "symbolType":return m="circle"===p.value?p:m,m;case "title":return Fh(m,p);case "type":return d=!0,gb("symbol")}return ie(m,p,n.$jscomp$loop$prop$prop$450,"legend")}}(a)),b.setWithExplicit(a.$jscomp$loop$prop$prop$450,f);if(d){var g,h,k,l;(null===(g=b.implicit)||void 0===g?0:null===
(h=g.encode)||void 0===h?0:h.gradient)&&Lc(b.implicit,["encode","gradient"]);(null===(k=b.explicit)||void 0===k?0:null===(l=k.encode)||void 0===l?0:l.gradient)&&Lc(b.explicit,["encode","gradient"])}return b}}function sj(b){for(var e=b.component.legends,a={},c=$jscomp.makeIterator(E(e)),d=c.next();!d.done;d=c.next()){d=d.value;var f=b.getScaleComponent(d);f=va(f.get("domains"));if(a[f])for(var g=$jscomp.makeIterator(a[f]),h=g.next();!h.done;h=g.next())rj(h.value,e[d])||a[f].push(e[d]);else a[f]=[e[d].clone()]}return ic(a).flat().map(function(k){var l=
b.config,n;k=k.combine();var m=Object.assign({},k),p=k.disable;k=k.labelExpr;m=(delete m.disable,delete m.labelExpr,delete m.selections,m);if(p)var r=void 0;else{!1===l.aria&&void 0==m.aria&&(m.aria=!1);if(null===(n=m.encode)||void 0===n?0:n.symbols)for(l=m.encode.symbols.update,!l.fill||"transparent"===l.fill.value||l.stroke||m.stroke||(l.stroke={value:"transparent"}),n=$jscomp.makeIterator(mj),p=n.next();!p.done;p=n.next())p=p.value,m[p]&&delete l[p];m.title||delete m.title;if(void 0!==k){var u,
w;l=k;(null===(u=m.encode)||void 0===u?0:null===(w=u.labels)||void 0===w?0:w.update)&&W(m.encode.labels.update.text)&&(l=ac(k,"datum.label",m.encode.labels.update.text.signal));u={signal:l};var x,z;m.encode=null!==(r=m.encode)&&void 0!==r?r:{};m.encode.labels=null!==(x=m.encode.labels)&&void 0!==x?x:{};m.encode.labels.update=null!==(z=m.encode.labels.update)&&void 0!==z?z:{};m.encode.labels.update.text=u}r=m}return r}).filter(function(k){return void 0!==k})}function fm(b){return b.children.reduce(function(e,
a){return e.concat(a.assembleProjections())},tj(b))}function tj(b){var e=b.component.projection;if(!e||e.merged)return[];var a=e.combine(),c=a.name;if(e.data){var d={signal:"[".concat(e.size.map(function(f){return f.signal}).join(", "),"]")};e=e.data.reduce(function(f,g){g=W(g)?g.signal:"data('".concat(b.lookupDataSource(g),"')");R(f,g)||f.push(g);return f},[]);if(0>=e.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:c,size:d,fit:{signal:1<e.length?
"[".concat(e.join(", "),"]"):e[0]}},a)]}return[Object.assign({},{name:c},{translate:{signal:"[width / 2, height / 2]"}},a)]}function uj(b){if(b.hasProjection){var e,a=b.specifiedProjection,c=!(a&&(null!=a.scale||null!=a.translate)),d=c?[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]:void 0;if(c){c=[];for(var f=b.encoding,g=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),h=g.next();!h.done;h=g.next())h=h.value,(Ga(f[h[0]])||Ga(f[h[1]]))&&c.push({signal:b.getName("geojson_".concat(c.length))});
b.channelHasField("shape")&&"geojson"===b.typedFieldDef("shape").type&&c.push({signal:b.getName("geojson_".concat(c.length))});0===c.length&&c.push(b.requestDataName(qa.Main))}else c=void 0;return new we(b.projectionName(!0),Object.assign({},null!==(e=b.config.projection)&&void 0!==e?e:{},null!==a&&void 0!==a?a:{}),d,c)}}function gm(b,e){var a=nd(hm,function(c){return!$c.call(b.explicit,c)&&!$c.call(e.explicit,c)||$c.call(b.explicit,c)&&$c.call(e.explicit,c)&&va(b.get(c))===va(e.get(c))?!0:!1});if(va(b.size)===
va(e.size)){if(a)return b;if(va(b.explicit)===va({}))return e;if(va(e.explicit)===va({}))return b}return null}function vj(b){if(0!==b.children.length){for(var e,a=$jscomp.makeIterator(b.children),c=a.next();!c.done;c=a.next()){var d=c.value;d.component.projection=xa(d)?uj(d):vj(d)}a=nd(b.children,function(g){if(g=g.component.projection){if(e)return(g=gm(e,g))&&(e=g),!!g;e=g}return!0});if(e&&a){a=b.projectionName(!0);d=new we(a,e.specifiedProjection,e.size,aa(e.data));b=$jscomp.makeIterator(b.children);
for(c=b.next();!c.done;c=b.next()){c=c.value;var f=c.component.projection;f&&(f.isFit&&d.data.push.apply(d.data,$jscomp.arrayFromIterable(c.component.projection.data)),c.renameProjection(f.get("name"),a),f.merged=!0)}return d}}}function im(b,e,a,c){if(yd(e,a)){var d,f;b=xa(b)?null!==(d=null!==(f=b.axis(a))&&void 0!==f?f:b.legend(a))&&void 0!==d?d:{}:{};d=J(e,{expr:"datum"});f=J(e,{expr:"datum",binSuffix:"end"});return{formulaAs:J(e,{binSuffix:"range",forAs:!0}),formula:Zd(d,f,b.format,b.formatType,
c)}}return{}}function wj(b,e){return"".concat(Jg(b),"_").concat(e)}function Yf(b,e,a){var c;a=null!==(c=Rd(a,void 0))&&void 0!==c?c:{};e=wj(a,e);return b.getName("".concat(e,"_bins"))}function xj(b,e,a){var c="as"in b?Y(b.as)?[b.as,"".concat(b.as,"_end")]:[b.as[0],b.as[1]]:[J(b,{forAs:!0}),J(b,{binSuffix:"end",forAs:!0})];var d=Object.assign({},Rd(e,void 0));e=wj(d,b.field);var f=a.getName("".concat(e,"_bins"));var g=a.getName("".concat(e,"_extent"));if(Sd(d.extent)){var h=d.extent;var k=h.selection;
h=Si(a.getSelectionComponent(oa(k),k),h);delete d.extent}b=Object.assign({},{bin:d,field:b.field,as:[c]},f?{signal:f}:{},g?{extentSignal:g}:{},h?{span:h}:{});return{key:e,binComponent:b}}function yj(b){return"'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):b}function jm(b,e){b=wc(b);if("number"===e)return"toNumber(".concat(b,")");if("boolean"===e)return"toBoolean(".concat(b,")");if("string"===e)return"toString(".concat(b,")");if("date"===e)return"toDate(".concat(b,")");
if("flatten"===e)return b;if(0===e.indexOf("date:"))return e=yj(e.slice(5,e.length)),"timeParse(".concat(b,",'").concat(e,"')");if(0===e.indexOf("utc:"))return e=yj(e.slice(4,e.length)),"utcParse(".concat(b,",'").concat(e,"')");G('Unrecognized parse "'.concat(e,'".'));return null}function km(b){var e={};Xb(b.filter,function(a){if(ch(a)){var c=null;if(We(a))c=Xa(a.equal);else if(Ye(a))c=Xa(a.lte);else if(Xe(a))c=Xa(a.lt);else if(Ze(a))c=Xa(a.gt);else if($e(a))c=Xa(a.gte);else if(af(a))c=a.range[0];
else if(bf(a)){var d;c=(null!==(d=a.oneOf)&&void 0!==d?d:a["in"])[0]}c&&(Nc(c)?e[a.field]="date":sa(c)?e[a.field]="number":Y(c)&&(e[a.field]="string"));a.timeUnit&&(e[a.field]="date")}});return e}function lm(b){function e(f){if(cd(f))a[f.field]="date";else{var g;if(g="quantitative"===f.type)g=f.aggregate,g=Y(g)&&R(["min","max"],g);g?a[f.field]="number":1<zb(f.field)?f.field in a||(a[f.field]="flatten"):Yd(f)&&Pb(f.sort)&&1<zb(f.sort.field)&&(f.sort.field in a||(a[f.sort.field]="flatten"))}}var a=
{};(xa(b)||Db(b))&&b.forEachFieldDef(function(f,g){rb(f)?e(f):(g=Mc(g),g=b.fieldDef(g),e(Object.assign({},f,{type:g.type})))});if(xa(b)){var c=b.markDef,d=b.encoding;zc(b.mark)&&!b.encoding.order&&(c=d["horizontal"===c.orient?"y":"x"],!K(c)||"quantitative"!==c.type||c.field in a||(a[c.field]="number"))}return a}function Zf(b){return b instanceof Ya||b instanceof Tb||b instanceof Ub}function mm(b){return b.stack.stackBy.reduce(function(e,a){(a=J(a.fieldDef))&&e.push(a);return e},[])}function nm(b){return U(b)&&
b.every(function(e){return Y(e)})&&1<b.length}function om(b){function e(a){if(!(a instanceof Ta)){var c=a.clone();if(c instanceof Ba){var d="scale_"+c.getSource();c.setSource(d);b.model.component.data.outputNodes[d]=c}else(c instanceof Ea||c instanceof Ha||c instanceof hb||c instanceof eb)&&c.addDimensions(b.fields);a=$jscomp.makeIterator(a.children.flatMap(e));for(d=a.next();!d.done;d=a.next())d.value.parent=c;return[c]}return a.children.flatMap(e)}return e}function $f(b){if(b instanceof Ta)if(1!==
b.numChildren()||b.children[0]instanceof Ba){var e=b.model.component.data.main;zj(e);var a=om(b);b=b.children.map(a).flat();b=$jscomp.makeIterator(b);for(a=b.next();!a.done;a=b.next())a.value.parent=e}else e=b.children[0],(e instanceof Ea||e instanceof Ha||e instanceof hb||e instanceof eb)&&e.addDimensions(b.fields),e.swapWithParent(),$f(b);else b.children.map($f)}function zj(b){if(b instanceof Ba&&b.type===qa.Main&&1===b.numChildren()){var e=b.children[0];e instanceof Ta||(e.swapWithParent(),zj(b))}}
function ag(b){b=$jscomp.makeIterator(b);for(var e=b.next();!e.done;e=b.next()){e=e.value;for(var a=$jscomp.makeIterator(e.children),c=a.next();!c.done;c=a.next())if(c.value.parent!==e)return!1;if(!ag(e.children))return!1}return!0}function Gb(b,e){var a=!1;e=$jscomp.makeIterator(e);for(var c=e.next();!c.done;c=e.next())a=b.optimize(c.value)||a;return a}function Aj(b,e,a){var c=b.sources,d=!1;d=Gb(new bg,c)||d;d=Gb(new cg(e),c)||d;c=c.filter(function(f){return 0<f.numChildren()});d=Gb(new dg,c)||d;
c=c.filter(function(f){return 0<f.numChildren()});a||(d=Gb(new eg,c)||d,d=Gb(new fg(e),c)||d,d=Gb(new xe,c)||d,d=Gb(new gg,c)||d,d=Gb(new hg,c)||d,d=Gb(new ig,c)||d,d=Gb(new ye,c)||d,d=Gb(new jg,c)||d);b.sources=c;return d}function Bj(b){for(var e=b.component.scales,a=$jscomp.makeIterator(E(e)),c=a.next();!c.done;c=a.next()){c=c.value;var d=b,f=d.getScaleComponent(c).get("type"),g=d.encoding;var h=d.scaleDomain(c);var k=d.typedFieldDef(c),l=d.config.scale;"unaggregated"===h?(k=Cj(k,f),l=k.reason,
k.valid||(G(l),h=void 0)):void 0===h&&l.useUnaggregatedDomain&&Cj(k,f).valid&&(h="unaggregated");h!==d.scaleDomain(c)&&(d.specifiedScales[c]=Object.assign({},d.specifiedScales[c],{domain:h}));d="x"===c&&Ga(g.x2)?Ga(g.x)?Dc(Gc(f,h,d,"x"),Gc(f,h,d,"x2"),"domain","scale",kg):Gc(f,h,d,"x2"):"y"===c&&Ga(g.y2)?Ga(g.y)?Dc(Gc(f,h,d,"y"),Gc(f,h,d,"y2"),"domain","scale",kg):Gc(f,h,d,"y2"):Gc(f,h,d,c);e[c].setWithExplicit("domains",d);h=void 0;f=b.component.scales[c];k=b.specifiedScales[c].domain;g=null===(h=
b.fieldDef(c))||void 0===h?void 0:h.bin;h=eh(k)&&k;g=ma(g)&&Sd(g.extent)&&g.extent;(h||g)&&f.set("selectionExtent",null!==h&&void 0!==h?h:g,!0);if(b.component.data.isFaceted){for(f=b;!Db(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[c])for(c=$jscomp.makeIterator(d.value),d=c.next();!d.done;d=c.next())d=d.value,bc(d)&&(d.data="scale_"+d.data.replace("scale_",""))}}}function Dj(b){for(var e=$jscomp.makeIterator(b.children),a=e.next();!a.done;a=e.next()){var c=a.value;xa(c)?Bj(c):
Dj(c)}e=b.component.scales;c=$jscomp.makeIterator(E(e));for(var d=c.next();!d.done;d=c.next()){d=d.value;var f=void 0,g=null,h=$jscomp.makeIterator(b.children);for(a=h.next();!a.done;a=h.next())if(a=a.value.component.scales[d])f=void 0===f?a.getWithExplicit("domains"):Dc(f,a.getWithExplicit("domains"),"domains","scale",kg),a=a.get("selectionExtent"),g&&a&&g.selection!==a.selection&&G("The same selection must be used to override scale domains in a layered view."),g=a;e[d].setWithExplicit("domains",
f);g&&e[d].set("selectionExtent",g,!0)}}function pm(b,e,a){return b.map(function(c){c=Vd(c,{timeUnit:a,type:e});return{signal:"{data: ".concat(c,"}")}})}function lg(b,e,a){var c;a=null===(c=Wa(a))||void 0===c?void 0:c.unit;return"temporal"===e||a?pm(b,e,a):[b]}function Gc(b,e,a,c){var d=Ga(a.encoding[c]),f=d.type,g=d.timeUnit;if(e&&e.unionWith)return c=Gc(b,void 0,a,c),d=lg(e.unionWith,f,g),gc([].concat($jscomp.arrayFromIterable(c.value),$jscomp.arrayFromIterable(d)));if(W(e))return gc([e]);if(e&&
"unaggregated"!==e&&!eh(e))return gc(lg(e,f,g));var h=a.stack;if(h&&c===h.fieldChannel){if("normalize"===h.offset)return gb([[0,1]]);d=a.requestDataName(qa.Main);return gb([{data:d,field:a.vgField(c,{suffix:"start"})},{data:d,field:a.vgField(c,{suffix:"end"})}])}h=cc[c]&&K(d)?qm(a,c,b):void 0;if(Ac(d))return c=lg([d.datum],f,g),gb(c);if("unaggregated"===e)return c=a.requestDataName(qa.Main),d=d.field,gb([{data:c,field:J({field:d,aggregate:"min"})},{data:c,field:J({field:d,aggregate:"max"})}]);if(ua(d.bin)){if(b in
cb)return"bin-ordinal"===b?gb([]):gb([{data:Lb(h)?a.requestDataName(qa.Main):a.requestDataName(qa.Raw),field:a.vgField(c,yd(d,c)?{binSuffix:"range"}:{}),sort:!0!==h&&ma(h)?h:{field:a.vgField(c,{}),op:"min"}}]);e=d.bin;if(ua(e)){var k=Yf(a,d.field,e);return gb([new ib(function(){var l=a.getSignalName(k);return"[".concat(l,".start, ").concat(l,".stop]")})])}return gb([{data:a.requestDataName(qa.Main),field:a.vgField(c,{})}])}return d.timeUnit&&R(["time","utc"],b)&&jf(c,d,xa(a)?a.encoding[Mb(c)]:void 0,
a.stack,a.markDef,a.config)?(d=a.requestDataName(qa.Main),gb([{data:d,field:a.vgField(c)},{data:d,field:a.vgField(c,{suffix:"end"})}])):h?gb([{data:Lb(h)?a.requestDataName(qa.Main):a.requestDataName(qa.Raw),field:a.vgField(c),sort:h}]):gb([{data:a.requestDataName(qa.Main),field:a.vgField(c)}])}function mg(b,e){var a=b.op,c=b.field;b=b.order;return Object.assign({},{op:null!==a&&void 0!==a?a:e?"sum":"min"},c?{field:yb(c)}:{},b?{order:b}:{})}function qm(b,e,a){if(a in cb){a=b.fieldDef(e);var c=a.sort;
if(qh(c))return{op:"min",field:jd(a,e),order:"ascending"};var d=(a=b.stack)?[].concat($jscomp.arrayFromIterable(a.groupbyField?[a.groupbyField]:[]),$jscomp.arrayFromIterable(a.stackBy.map(function(g){return g.fieldDef.field}))):void 0;if(Pb(c))return a=a&&!R(d,c.field),mg(c,a);if(c&&c.encoding){e=c.order;b=b.fieldDef(c.encoding);c=b.aggregate;var f=b.field;a=a&&!R(d,f);if(M(c)||H(c))return mg({field:J(b),order:e},a);if(Z(c)||!c)return mg({op:c,field:f,order:e},a)}else{if("descending"===c)return{op:"min",
field:b.vgField(e),order:"descending"};if(R(["ascending",void 0],c))return!0}}}function Cj(b,e){var a=b.aggregate,c=b.type;return a?Y(a)&&!rm[a]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(a,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===c&&"log"===e?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(va(b),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(va(b),
").")}}function kg(b,e,a,c){if(b.explicit&&e.explicit){var d=b.value,f=e.value;a="Conflicting ".concat(c.toString(),' property "').concat(a.toString(),'" (').concat(va(d)," and ").concat(va(f),"). Using the union of the two domains.");G(a)}return{explicit:b.explicit,value:[].concat($jscomp.arrayFromIterable(b.value),$jscomp.arrayFromIterable(e.value))}}function sm(b){var e=pb(b.map(function(d){return bc(d)?(d=Object.assign({},d),delete d.sort,d):d}),ea),a=pb(b.map(function(d){if(bc(d))return d=d.sort,
void 0===d||Lb(d)||("op"in d&&"count"===d.op&&delete d.field,"ascending"===d.order&&delete d.order),d}).filter(function(d){return void 0!==d}),ea);if(0!==e.length){if(1===e.length){e=b[0];if(bc(e)&&0<a.length){var c=a[0];1<a.length?(G("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0):ma(c)&&"field"in c&&e.field===c.field&&(c=c.order?{order:c.order}:!0);return Object.assign({},e,{sort:c})}return e}a=pb(a.map(function(d){if(Lb(d)||!("op"in d)||Y(d.op)&&
d.op in tm)return d;G("Dropping sort property ".concat(va(d),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),ea);1===a.length?c=a[0]:1<a.length&&(G("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0);a=pb(b.map(function(d){return bc(d)?d.data:null}),function(d){return d});return 1===a.length&&null!==a[0]?Object.assign({},{data:a[0],fields:e.map(function(d){return d.field})},c?{sort:c}:{}):Object.assign({},{fields:e},
c?{sort:c}:{})}}function ng(b){if(bc(b)&&Y(b.field))return b.field;var e=U(b)?!1:"fields"in b&&!("data"in b);if(e){b=$jscomp.makeIterator(b.fields);for(e=b.next();!e.done;e=b.next())if(e=e.value,bc(e)&&Y(e.field))if(!a)var a=e.field;else if(a!==e.field)return G("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),a;G("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return a}a=U(b)?!1:"fields"in b&&"data"in b;if(a)return G("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),a=b.fields[0],Y(a)?a:void 0}function ze(b,e){e=b.component.scales[e].get("domains").map(function(a){bc(a)&&(a.data=b.lookupDataSource(a.data));return a});return sm(e)}function Ej(b){return hd(b)||og(b)?b.children.reduce(function(e,a){return e.concat(Ej(a))},Fj(b)):Fj(b)}function Fj(b){return E(b.component.scales).reduce(function(e,
a){var c=b.component.scales[a];if(c.merged)return e;var d=c.combine(),f=Object.assign({},d);c=d.name;var g=d.type,h=d.selectionExtent,k=d.reverse;f=(delete f.name,delete f.type,delete f.selectionExtent,delete f.domains,delete f.range,delete f.reverse,f);d=d.range;a in La?yc(d)&&(d={step:{signal:c+"_step"}}):ma(d)&&bc(d)&&(d=Object.assign({},d,{data:b.lookupDataSource(d.data)}));if(h){var l=h.selection;l=b.getSelectionComponent(l,oa(l));l={signal:Si(l,h)}}a=ze(b,a);e.push(Object.assign({},{name:c,
type:g},a?{domain:a}:{},l?{domainRaw:l}:{},{range:d},void 0!==k?{reverse:k}:{},f));return e},[])}function Gj(b){return"x"===b?"width":"y"===b?"height":void 0}function Hj(b,e){var a=b.fieldDef(e);if(a&&a.bin&&ua(a.bin)){var c=Yf(b,a.field,a.bin);e=Gj(e);var d=b.getName(e);return new ib(function(){var f=b.getSignalName(c);f="(".concat(f,".stop - ").concat(f,".start) / ").concat(f,".step");return"".concat(b.getSignalName(d)," / (").concat(f,")")})}}function um(b,e){for(var a=e.specifiedScales[b],c=e.size,
d=e.getScaleComponent(b).get("type"),f=$jscomp.makeIterator(vm),g=f.next();!g.done;g=f.next())if(g=g.value,void 0!==a[g]){var h=df(d,g),k=fh(b,g);if(h)if(k)G(k);else switch(g){case "range":d=a.range;if(U(d)){if(b in La)return gc(d.map(function(l){if("width"===l||"height"===l){l=e.getName(l);var n=e.getSignalName.bind(e);return ib.fromName(n,l)}return l}))}else if(ma(d))return gc({data:e.requestDataName(qa.Main),field:d.field,sort:{op:"min",field:e.vgField(b)}});return gc(d);case "scheme":return gc(wm(a[g]))}else G(Vg(d,
g,b))}if("x"===b||"y"===b)if(f="x"===b?"width":"height",c=c[f],Sb(c)){if(d in cb)return gc({step:c.step});G(Wg(f))}c=a.rangeMin;a=a.rangeMax;b=xm(b,e);return(void 0!==c||void 0!==a)&&df(d,"rangeMin")&&U(b)&&2===b.length?gc([null!==c&&void 0!==c?c:b[0],null!==a&&void 0!==a?a:b[1]]):gb(b)}function wm(b){return!Y(b)&&b.name?Object.assign({},{scheme:b.name},Pa(b,["name"])):{scheme:b}}function xm(b,e){var a=e.size,c=e.config,d=e.mark,f=e.encoding,g=e.getSignalName.bind(e),h=Ga(f[b]).type;f=e.getScaleComponent(b).get("type");
var k=e.specifiedScales[b],l=k.domain;k=k.domainMid;switch(b){case "x":case "y":if(R(["point","band"],f))if("x"===b&&!a.width){if(c=Ed(c.view,"width"),Sb(c))return c}else if("y"===b&&!a.height&&(c=Ed(c.view,"height"),Sb(c)))return c;c=Gj(b);c=e.getName(c);return"y"===b&&f in qb?[ib.fromName(g,c),0]:[0,ib.fromName(g,c)];case "size":return g=e.component.scales[b].get("zero"),g=Ij(d,g,c),a=ym(d,a,e,c),f in Wd?zm(g,a,Am(f,c,l,b)):[g,a];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,
new ib(function(){var n=e.getSignalName("width"),m=e.getSignalName("height");return"min(".concat(n,",").concat(m,")/2")})];case "strokeWidth":return[c.scale.minStrokeWidth,c.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===f?"nominal"===h?"category":"ordinal":void 0!==k?"diverging":"rect"===d||"geoshape"===d?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[c.scale.minOpacity,
c.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(b));}function Am(b,e,a,c){switch(b){case "quantile":return e.scale.quantileCount;case "quantize":return e.scale.quantizeCount;case "threshold":if(void 0!==a&&U(a))return a.length+1;G("Domain for ".concat(c," is required for threshold scale."));return 3}}function zm(b,e,a){var c=function(){var d=ec(e),f=ec(b),g="(".concat(d," - ").concat(f,") / (").concat(a," - 1)");return"sequence(".concat(f,", ").concat(d," + ").concat(g,
", ").concat(g,")")};return W(e)?new ib(c):{signal:c()}}function Ij(b,e,a){if(e)return W(e)?{signal:"".concat(e.signal," ? 0 : ").concat(Ij(b,!1,a))}:0;switch(b){case "bar":case "tick":return a.scale.minBandSize;case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;case "point":case "square":case "circle":return a.scale.minSize}throw Error(Td("size",b));}function ym(b,e,a,c){a={x:Hj(a,"x"),y:Hj(a,"y")};switch(b){case "bar":case "tick":if(void 0!==
c.scale.maxBandSize)return c.scale.maxBandSize;var d=Jj(e,a,c.view);return sa(d)?d-1:new ib(function(){return"".concat(d.signal," - 1")});case "line":case "trail":case "rule":return c.scale.maxStrokeWidth;case "text":return c.scale.maxFontSize;case "point":case "square":case "circle":if(c.scale.maxSize)return c.scale.maxSize;var f=Jj(e,a,c.view);return sa(f)?Math.pow(.95*f,2):new ib(function(){return"pow(".concat(.95," * ").concat(f.signal,", 2)")})}throw Error(Td("size",b));}function Jj(b,e,a){var c=
Sb(b.width)?b.width.step:he(a,"width"),d=Sb(b.height)?b.height.step:he(a,"height");return e.x||e.y?new ib(function(){return"min(".concat([e.x?e.x.signal:c,e.y?e.y.signal:d].join(", "),")")}):Math.min(c,d)}function Kj(b,e){if(xa(b))for(var a=b.component.scales,c=b.config,d=b.encoding,f=b.markDef,g=b.specifiedScales,h=$jscomp.makeIterator(E(a)),k=h.next();!k.done;k=h.next()){var l=k.value,n=g[l];k=a[l];var m=b.getScaleComponent(l),p=Ga(d[l]),r=n[e],u=m.get("type"),w=m.get("padding");m=m.get("paddingInner");
var x=df(u,e),z=fh(l,e);void 0!==r&&(x?z&&G(z):G(Vg(u,e,l)));if(x&&void 0===z)if(void 0!==r)switch(l=p.timeUnit,p=p.type,e){case "domainMax":case "domainMin":Nc(n[e])||"temporal"===p||l?k.set(e,{signal:Vd(n[e],{type:p,timeUnit:l})},!0):k.set(e,n[e],!0);break;default:k.copyKeyFromObject(e,n)}else n=e in Lj?Lj[e]({model:b,channel:l,fieldOrDatumDef:p,scaleType:u,scalePadding:w,scalePaddingInner:m,domain:n.domain,markDef:f,config:c}):c.scale[e],void 0!==n&&k.set(e,n,!1)}else Mj(b,e)}function Nj(b){if(xa(b))for(var e=
b.component.scales,a=$jscomp.makeIterator(ne),c=a.next();!c.done;c=a.next()){var d=c.value;if(c=e[d])d=um(d,b),c.setWithExplicit("range",d)}else Mj(b,"range")}function Mj(b,e){for(var a=b.component.scales,c=$jscomp.makeIterator(b.children),d=c.next();!d.done;d=c.next()){var f=d.value;"range"===e?Nj(f):Kj(f,e)}c=$jscomp.makeIterator(E(a));for(f=c.next();!f.done;f=c.next()){f=f.value;var g=void 0,h=$jscomp.makeIterator(b.children);for(d=h.next();!d.done;d=h.next())if(d=d.value.component.scales[f])d=
d.getWithExplicit(e),g=Dc(g,d,e,"scale",mi(function(k,l){switch(e){case "range":if(k.step&&l.step)return k.step-l.step}return 0}));a[f].setWithExplicit(e,g)}}function Bm(b,e){var a=e.bin;if(ua(a)){var c=Yf(b,e.field,a);return new ib(function(){return b.getSignalName(c)})}if(Va(a)&&ma(a)&&void 0!==a.step)return{step:a.step}}function Cm(b,e,a){var c;switch(e.type){case "nominal":case "ordinal":if(ad(b)||"discrete"===Oe(b))return"shape"===b&&"ordinal"===e.type&&G(Se(b,"ordinal")),"ordinal";if(b in La){if(R(["rect",
"bar","image","rule"],a))return"band"}else if("arc"===a&&b in pg)return"band";return void 0!==e.band||mf(e)&&(null===(c=e.axis)||void 0===c?0:c.tickBand)?"band":"point";case "temporal":if(!ad(b)){if("discrete"===Oe(b))return G(Se(b,"temporal")),"ordinal";if(K(e)&&e.timeUnit&&Wa(e.timeUnit).utc)return"utc"}return"time";case "quantitative":if(ad(b)){if(K(e)&&ua(e.bin))return"bin-ordinal"}else if("discrete"===Oe(b))return G(Se(b,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(e.type,
'".'));}function Oj(b){if(xa(b))b.component.scales=Dm(b);else{for(var e=b.component,a=b.component.scales={},c={},d=b.component.resolve,f=$jscomp.makeIterator(b.children),g=f.next();!g.done;g=f.next()){g=g.value;Oj(g);for(var h=$jscomp.makeIterator(E(g.component.scales)),k=h.next();!k.done;k=h.next()){k=k.value;var l,n=d.scale;if(null!==(l=d.scale[k])&&void 0!==l)var m=l;else if(m=b,hd(m)||Db(m))m="shared";else if(og(m))m=k in La?"independent":"shared";else throw Error("invalid model type for resolve");
n[k]=m;if("shared"===d.scale[k])if(n=c[k],m=g.component.scales[k].getWithExplicit("type"),n){var p=of[n.value],r=of[m.value];p===r||"ordinal-position"===p&&"time"===r||"ordinal-position"===r&&"time"===p?c[k]=Dc(n,m,"type","scale",Em):(d.scale[k]="independent",delete c[k])}else c[k]=m}}d=$jscomp.makeIterator(E(c));for(k=d.next();!k.done;k=d.next())for(f=k.value,l=b.scaleName(f,!0),a[f]=new Ae(l,c[f]),h=$jscomp.makeIterator(b.children),g=h.next();!g.done;g=h.next())if(g=g.value,k=g.component.scales[f])g.renameScale(k.get("name"),
l),k.merged=!0;e.scales=a}}function Dm(b){var e=b.encoding,a=b.mark;return ne.reduce(function(c,d){var f=Ga(e[d]);if(f&&a===Pj&&"shape"===d&&"geojson"===f.type)return c;var g=f&&f.scale;if(f&&null!==g&&!1!==g){var h;g=null!==(h=g)&&void 0!==h?h:{};var k=g;h=Cm(d,f,a);k=k.type;if(cc[d])if(void 0!==k)if(Fk(d,k)){var l;if(l=K(f))f=f.type,l=!(R(["ordinal","nominal"],f)?void 0===k||k in cb:"temporal"===f?R([Fa.TIME,Fa.UTC,void 0],k):"quantitative"===f?R([Fa.LOG,Fa.POW,Fa.SQRT,Fa.SYMLOG,Fa.QUANTILE,Fa.QUANTIZE,
Fa.THRESHOLD,Fa.LINEAR,void 0],k):1);l?(G('FieldDef does not work with "'.concat(k,'" scale. We are using "').concat(h,'" scale instead.')),f=h):f=k}else G('Channel "'.concat(d,'" does not work with "').concat(k,'" scale. We are using "').concat(h,'" scale instead.')),f=h;else f=h;else f=null;c[d]=new Ae(b.scaleName(d+"",!0),{value:f,explicit:g.type===f})}return c},{})}function xa(b){return"unit"===(null===b||void 0===b?void 0:b.type)}function Db(b){return"facet"===(null===b||void 0===b?void 0:b.type)}
function og(b){return"concat"===(null===b||void 0===b?void 0:b.type)}function hd(b){return"layer"===(null===b||void 0===b?void 0:b.type)}function Qj(b){function e(c,d){c instanceof Ya&&!(c.isGenerator||"url"in c.data)&&(b.push(d),d={name:null,source:d.name,transform:[]});if(c instanceof ra)if(c.parent instanceof Ya&&!d.source){var f;d.format=Object.assign({},null!==(f=d.format)&&void 0!==f?f:{},{parse:c.assembleFormatParse()});d.transform.push.apply(d.transform,$jscomp.arrayFromIterable(c.assembleTransforms(!0)))}else d.transform.push.apply(d.transform,
$jscomp.arrayFromIterable(c.assembleTransforms()));if(c instanceof Ta)for(d.name||(d.name="data_".concat(a++)),!d.source||0<d.transform.length?(b.push(d),c.data=d.name):c.data=d.source,f=$jscomp.makeIterator(c.assemble()),c=f.next();!c.done;c=f.next())b.push(c.value);else switch((c instanceof Tb||c instanceof Ub||c instanceof Hb||c instanceof Fb||c instanceof vb||c instanceof Ib||c instanceof wb||c instanceof Ea||c instanceof Jb||c instanceof hb||c instanceof eb||c instanceof kc||c instanceof lc||
c instanceof mc||c instanceof nc||c instanceof oc||c instanceof pc||c instanceof jb||c instanceof qc||c instanceof Vb)&&d.transform.push(c.assemble()),(c instanceof Ka||c instanceof Ia||c instanceof Za||c instanceof Ha)&&d.transform.push.apply(d.transform,$jscomp.arrayFromIterable(c.assemble())),c instanceof Ba&&(d.source&&0===d.transform.length?c.setSource(d.source):c.parent instanceof Ba?c.setSource(d.name):(d.name||(d.name="data_".concat(a++)),c.setSource(d.name),1===c.numChildren()&&(b.push(d),
d={name:null,source:d.name,transform:[]}))),c.numChildren()){case 0:c instanceof Ba&&(!d.source||0<d.transform.length)&&b.push(d);break;case 1:e(c.children[0],d);break;default:for(d.name||(d.name="data_".concat(a++)),f=d.name,!d.source||0<d.transform.length?b.push(d):f=d.source,c=$jscomp.makeIterator(c.children),d=c.next();!d.done;d=c.next())e(d.value,{name:null,source:f,transform:[]})}}var a=0;return e}function Fm(b){for(var e=[],a=Qj(e),c=$jscomp.makeIterator(b.children),d=c.next();!d.done;d=c.next())a(d.value,
{source:b.name,name:null,transform:[]});return e}function Gm(b,e){for(var a=[],c=Qj(a),d=0,f=$jscomp.makeIterator(b.sources),g=f.next();!g.done;g=f.next()){g=g.value;g.hasName()||(g.dataName="source_".concat(d++));var h=g.assemble();c(g,h)}d=$jscomp.makeIterator(a);for(c=d.next();!c.done;c=d.next())c=c.value,0===c.transform.length&&delete c.transform;c=0;d=$jscomp.makeIterator(a.entries());for(f=d.next();!f.done;f=d.next()){g=$jscomp.makeIterator(f.value);f=g.next().value;g=g.next().value;var k;0!==
(null!==(k=g.transform)&&void 0!==k?k:[]).length||g.source||a.splice(c++,0,a.splice(f,1)[0])}k=$jscomp.makeIterator(a);for(c=k.next();!c.done;c=k.next())for(c=$jscomp.makeIterator(null!==(l=c.value.transform)&&void 0!==l?l:[]),d=c.next();!d.done;d=c.next()){d=d.value;var l;"lookup"===d.type&&(d.from=b.outputNodes[d.from].getSource())}b=$jscomp.makeIterator(a);for(c=b.next();!c.done;c=b.next())l=c.value,l.name in e&&(l.values=e[l.name]);return a}function Rj(b,e,a){e="row"===e?"height":"width";return{labels:a,
sizeSignal:b.child.component.layoutSize.get(e)?b.child.getSizeSignalRef(e):void 0,axes:[]}}function Sj(b,e){var a=b.child;if(a.component.axes[e]){var c=b.component,d=c.layoutHeaders;c=c.resolve;c.axis[e]=Wf(c,e);if("shared"===c.axis[e])for(c="x"===e?"column":"row",d=d[c],e=$jscomp.makeIterator(a.component.axes[e]),a=e.next();!a.done;a=e.next()){a=a.value;var f;var g=a.get("orient");g="top"===g||"left"===g||W(g)?"header":"footer";d[g]=null!==(f=d[g])&&void 0!==f?f:[Rj(b,c,!1)];var h=Md(a,"main",b.config,
{header:!0});h&&d[g][0].axes.push(h);a.mainExtracted=!0}}}function qg(b){b=$jscomp.makeIterator(b.children);for(var e=b.next();!e.done;e=b.next())e.value.parseLayoutSize()}function Be(b,e){for(var a=fj(e),c=Qd(a),d=b.component.resolve,f=b.component.layoutSize,g,h=$jscomp.makeIterator(b.children),k=h.next();!k.done;k=h.next()){k=k.value.component.layoutSize.getWithExplicit(a);var l=d.scale[c];if("independent"===l&&"step"===k.value){g=void 0;break}if(g){if("independent"===l&&g.value!==k.value){g=void 0;
break}g=Dc(g,k,a,"")}else g=k}if(g){c=$jscomp.makeIterator(b.children);for(k=c.next();!k.done;k=c.next())d=k.value,b.renameSignal(d.getName(a),b.getName(e)),d.component.layoutSize.set(a,"merged",!1);f.setWithExplicit(e,g)}else f.setWithExplicit(e,{explicit:!1,value:void 0})}function Hm(b,e){var a=b.config,c=b.getScaleComponent("width"===e?"x":"y");if(c)return b=c.get("type"),c=c.get("range"),b in cb?(e=Ed(a.view,e),yc(c)||Sb(e)?"step":e):xf(a.view,e);if(b.hasProjection||"arc"===b.mark)return xf(a.view,
e);e=Ed(a.view,e);return Sb(e)?e.step:e}function rg(b,e,a){return J(e,Object.assign({},{suffix:"by_".concat(J(b))},null!==a&&void 0!==a?a:{}))}function Tj(b,e){e=$jscomp.makeIterator(e);for(var a=e.next();!a.done;a=e.next()){a=a.value;var c,d,f,g,h=a.data;if(!b.name||!a.hasName()||b.name===a.dataName){var k=null===(c=b.format)||void 0===c?void 0:c.mesh,l=null===(d=h.format)||void 0===d?void 0:d.feature;if(!k||!l){var n=null===(f=b.format)||void 0===f?void 0:f.feature;if(!n&&!l||n===l)if(l=null===
(g=h.format)||void 0===g?void 0:g.mesh,!k&&!l||k===l)if("values"in b&&"values"in h){if(ed(b.values,h.values))return a}else if("url"in b&&"url"in h){if(b.url===h.url)return a}else if(ni(b)&&b.name===a.dataName)return a}}}return null}function Im(b,e){if(b.data||!b.parent){if(null===b.data)return b=new Ya({values:[]}),e.push(b),b;var a=Tj(b.data,e);if(a)return Tc(b.data)||(a.data.format=Pd({},b.data.format,a.data.format)),!a.hasName()&&b.data.name&&(a.dataName=b.data.name),a;b=new Ya(b.data);e.push(b);
return b}return b.parent.component.data.facetRoot?b.parent.component.data.facetRoot:b.parent.component.data.main}function Ce(b){var e,a,c,d=Im(b,b.component.data.sources),f=b.component.data,g=f.outputNodes;f=f.outputNodeRefCounts;var h=b.parent?b.parent.component.data.ancestorParse.clone():new sg,k=b.data;Tc(k)?("sequence"in k?d=new Ub(d,k.sequence):"graticule"in k&&(d=new Tb(d,k.graticule)),h.parseNothing=!0):null===(null===k||void 0===k?void 0:null===(e=k.format)||void 0===e?void 0:e.parse)&&(h.parseNothing=
!0);d=null!==(a=ra.makeExplicit(d,b,h))&&void 0!==a?a:d;d=new jb(d);e=b.parent&&hd(b.parent);if((xa(b)||Db(b))&&e){var l;d=null!==(l=Ka.makeFromEncoding(d,b))&&void 0!==l?l:d}if(0<b.transforms.length)for(l=0,a=$jscomp.makeIterator(b.transforms),k=a.next();!k.done;k=a.next()){var n=k.value,m=k=void 0;if("calculate"in n)m=d=new vb(d,n),k="derived";else if("filter"in n){var p;m=km(n);m=d=null!==(p=ra.makeWithAncestors(d,{},m,h))&&void 0!==p?p:d;d=new Fb(d,b,n.filter)}else if("bin"in n)m=d=Ka.makeFromTransform(d,
n,b),k="number";else if("timeUnit"in n)k="date",void 0===h.getWithExplicit(n.field).value&&(m={},d=new ra(d,(m[n.field]=k,m)),h.set(n.field,k,!1)),m=d=Ia.makeFromTransform(d,n);else if("aggregate"in n)m=d=Ea.makeFromTransform(d,n),k="number",If(b)&&(d=new jb(d));else if("lookup"in n)m=d=Jb.make(d,b,n,l++),k="derived";else if("window"in n)m=d=new hb(d,n),k="number";else if("joinaggregate"in n)m=d=new eb(d,n),k="number";else if("stack"in n)m=d=Ha.makeFromTransform(d,n),k="derived";else if("fold"in n)m=
d=new kc(d,n),k="derived";else if("flatten"in n)m=d=new lc(d,n),k="derived";else if("pivot"in n)m=d=new Vb(d,n),k="derived";else if("sample"in n)d=new qc(d,n);else if("impute"in n)m=d=Za.makeFromTransform(d,n),k="derived";else if("density"in n)m=d=new mc(d,n),k="derived";else if("quantile"in n)m=d=new oc(d,n),k="derived";else if("regression"in n)m=d=new pc(d,n),k="derived";else if("loess"in n)m=d=new nc(d,n),k="derived";else{G("Ignoring an invalid transform: ".concat(va(n),"."));continue}if(m&&void 0!==
k)for(n=$jscomp.makeIterator(null!==(r=m.producedFields())&&void 0!==r?r:[]),m=n.next();!m.done;m=n.next()){var r;h.set(m.value,k,!1)}}p={};if(xa(b)&&b.component.selection)for(r=$jscomp.makeIterator(E(b.component.selection)),l=r.next();!l.done;l=r.next())for(l=$jscomp.makeIterator(b.component.selection[l.value].project.items),a=l.next();!a.done;a=l.next())a=a.value,!a.channel&&1<zb(a.field)&&(p[a.field]="flatten");r=lm(b);d=null!==(c=ra.makeWithAncestors(d,{},Object.assign({},p,r),h))&&void 0!==c?
c:d;xa(b)&&(d=wb.parseAll(d,b),d=Ib.parseAll(d,b));if(xa(b)||Db(b)){var u;if(!e){var w;d=null!==(w=Ka.makeFromEncoding(d,b))&&void 0!==w?w:d}d=null!==(u=Ia.makeFromEncoding(d,b))&&void 0!==u?u:d;d=vb.parseAllForSortIndex(d,b)}u=b.getDataName(qa.Raw);c=new Ba(d,u,qa.Raw,f);d=g[u]=c;if(xa(b)){var x,z;if(u=Ea.makeFromEncoding(d,b))d=u,If(b)&&(d=new jb(d));d=null!==(x=Za.makeFromEncoding(d,b))&&void 0!==x?x:d;d=null!==(z=Ha.makeFromEncoding(d,b))&&void 0!==z?z:d}if(xa(b)){var C;d=null!==(C=Hb.make(d,
b))&&void 0!==C?C:d}z=b.getDataName(qa.Main);x=new Ba(d,z,qa.Main,f);d=g[z]=x;xa(b)&&Sl(b,x);C=null;if(Db(b)){var O;z=b.getName("facet");C=d;u=b.facet;w=u.row;e=u.column;if(w&&e){u=null;w=$jscomp.makeIterator([w,e]);for(e=w.next();!e.done;e=w.next())e=e.value,Pb(e.sort)&&(u=e.sort,C=u=new eb(C,{joinaggregate:[{op:void 0===u.op?"min":u.op,field:u.field,as:rg(e,e.sort,{forAs:!0})}],groupby:[J(e)]}));C=u}else C=null;d=null!==(O=C)&&void 0!==O?O:d;C=new Ta(d,b,z,x.getSource());g[z]=C}return Object.assign({},
b.component.data,{outputNodes:g,outputNodeRefCounts:f,raw:c,main:x,facetRoot:C,ancestorParse:h})}function Jm(b){return tb.reduce(function(e,a){b.component.scales[a]&&(e[a]=[Km(a,b)]);return e},{})}function Lm(b,e){if(b){if(b.length!==e.length)return;for(var a=b.length,c=0;c<a;c++){var d=b[c],f=e[c];if(!!d!==!!f)return;if(d&&f){var g=d.getWithExplicit("orient"),h=f.getWithExplicit("orient");if(g.explicit&&h.explicit&&g.value!==h.value)return;b[c]=Mm(d,f)}}}else return e.map(function(k){return k.clone()});
return b}function Mm(b,e){for(var a={},c=$jscomp.makeIterator(Uj),d=c.next();!d.done;a={$jscomp$loop$prop$prop$452:a.$jscomp$loop$prop$prop$452},d=c.next())a.$jscomp$loop$prop$prop$452=d.value,d=Dc(b.getWithExplicit(a.$jscomp$loop$prop$prop$452),e.getWithExplicit(a.$jscomp$loop$prop$prop$452),a.$jscomp$loop$prop$prop$452,"axis",function(f){return function(g,h){switch(f.$jscomp$loop$prop$prop$452){case "title":return Fh(g,h);case "gridScale":return{explicit:g.explicit,value:ta(g.value,h.value)}}return ie(g,
h,f.$jscomp$loop$prop$prop$452,"axis")}}(a)),b.setWithExplicit(a.$jscomp$loop$prop$prop$452,d);return b}function Nm(b,e,a,c,d){if("disable"===e)return void 0!==a;a=a||{};switch(e){case "titleAngle":case "labelAngle":return b===(W(a.labelAngle)?a.labelAngle:y(a.labelAngle));case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(b===Zi(c,d))return!0}return b===a[e]}function Km(b,e){var a,c,d,f,g,h=e.axis(b),k=new ld,l=Ga(e.encoding[b]),n=e.mark,m=e.config,p=
(null===(a=h)||void 0===a?void 0:a.orient)||(null===(c=m["x"===b?"axisX":"axisY"])||void 0===c?void 0:c.orient)||(null===(d=m.axis)||void 0===d?void 0:d.orient)||("x"===b?"bottom":"left");c=e.getScaleComponent(b).get("type");a=Wl(b,c,p,e.config);d=void 0!==h?!h:Rf("disable",m.style,null===(f=h)||void 0===f?void 0:f.style,a).configValue;k.set("disable",d,void 0!==h);if(d)return k;h=h||{};f=Zl(l,h,b,m.style,a);l={fieldOrDatumDef:l,axis:h,channel:b,model:e,scaleType:c,orient:p,labelAngle:f,mark:n,config:m};
n=$jscomp.makeIterator(Uj);for(p=n.next();!p.done;p=n.next())if(p=p.value,f=p in Vj?Vj[p](l):Wj[p]?h[p]:void 0,c=void 0!==f,d=Nm(f,p,h,e,b),c&&d)k.set(p,f,d);else{var r=Wj[p]&&"values"!==p?Rf(p,m.style,h.style,a):{},u=void 0===r.configValue?void 0:r.configValue;r=void 0===r.configFrom?void 0:r.configFrom;var w=void 0!==u;c&&!w?k.set(p,f,d):("vgAxisConfig"!==r||Om.has(p)&&w||F(u)||W(u))&&k.set(p,u,!1)}var x=null!==(g=h.encoding)&&void 0!==g?g:{};g=Ui.reduce(function(z,C){var O;if(!k.hasAxisPart(C))return z;
var L=gj(null!==(O=x[C])&&void 0!==O?O:{},e);if("labels"===C){var Aa,ha=e.encoding;O=e.config;ha=null!==(Aa=Ga(ha[b]))&&void 0!==Aa?Aa:Ga(ha[Mb(b)]);var Da=e.axis(b)||{};Aa=Da.format;Da=Da.formatType;L=Pc(Da)?Object.assign({},{text:hf({fieldOrDatumDef:ha,field:"datum.value",format:Aa,formatType:Da,config:O})},L):L}void 0===L||ja(L)||(z[C]={update:L});return z},{});ja(g)||k.set("encode",g,!!h.encoding||void 0!==h.labelAngle);return k}function Pm(b,e,a){switch(b){case De:case tg:case ug:case Xj:case Qm:case Rm:return}var c=
e.x,d=e.y,f=e.x2;e=e.y2;switch(b){case Ee:if(K(c)&&(Va(c.bin)||K(d)&&d.aggregate&&!c.aggregate))break;if(K(d)&&(Va(d.bin)||K(c)&&c.aggregate&&!d.aggregate))return"horizontal";if(e||f){if(a)return a;if(!f&&(K(c)&&"quantitative"===c.type&&!ua(c.bin)||lf(c)))return"horizontal";if(!e&&(K(d)&&"quantitative"===d.type&&!ua(d.bin)||lf(d)))break}case Fe:if(!(!f||K(c)&&Va(c.bin)||!e||K(d)&&Va(d.bin)))return;case Ge:if(e){if(K(d)&&Va(d.bin))return"horizontal";break}else if(f)if(K(c)&&Va(c.bin))break;else return"horizontal";
else if(b===Fe)if(c&&!d)break;else if(d&&!c)return"horizontal";case He:case vg:f=Qb(c);e=Qb(d);if(f&&!e)return"tick"!==b?"horizontal":"vertical";if(!f&&e)return"tick"!==b?"vertical":"horizontal";if(f&&e){f="temporal"===c.type;e="temporal"===d.type;if(f&&!e)return"tick"!==b?"vertical":"horizontal";if(!f&&e)return"tick"!==b?"horizontal":"vertical";if(!c.aggregate&&d.aggregate)return"tick"!==b?"vertical":"horizontal";if(c.aggregate&&!d.aggregate)return"tick"!==b?"horizontal":"vertical";if(a)return a}else{if(a)return a;
return}}return"vertical"}function wg(b,e){return Object.assign({},sb(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Qa("x",b,{defaultPos:"mid"}),Qa("y",b,{defaultPos:"mid"}),Ja("size",b),Ja("angle",b),e?{shape:{value:e}}:Ja("shape",b))}function Sm(b,e,a){if(void 0===la("align",b,a))return"center"}function Tm(b,e,a){if(void 0===la("baseline",b,a))return"middle"}function Um(b){var e,a=b.config,c=b.markDef,d=c.orient,f="horizontal"===d?"width":"height";
b=b.getScaleComponent("horizontal"===d?"x":"y");c=null!==(e=la("size",c,a,{vgChannel:f}))&&void 0!==e?e:a.tick.bandSize;return void 0!==c?c:(e=b?b.get("range"):void 0)&&yc(e)&&sa(e.step)?3*e.step/4:3*he(a.view,f)/4}function Vm(b){if(R([He,Ge,Wm],b.mark)){var e=Hh(b.mark,b.encoding);if(0<e.length)return Xm(b,e)}else if(R([Ee],b.mark)&&(e=xg.some(function(a){return la(a,b.markDef,b.config)}),b.stack&&!b.fieldDef("size")&&e))return Ym(b);return yg(b)}function Xm(b,e){return[{name:b.getName("pathgroup"),
type:"group",from:{facet:{name:"faceted_path_"+b.requestDataName(qa.Main),data:b.requestDataName(qa.Main),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:yg(b,{fromPrefix:"faceted_path_"})}]}function Ym(b){var e=$jscomp.makeIterator(yg(b,{fromPrefix:"stack_group_"})).next().value,a=b.scaleName(b.stack.fieldChannel),c=function(l){l=void 0===l?{}:l;return b.vgField(b.stack.fieldChannel,l)},d=function(l,n){n=[c({prefix:"min",suffix:"start",expr:n}),c({prefix:"max",
suffix:"start",expr:n}),c({prefix:"min",suffix:"end",expr:n}),c({prefix:"max",suffix:"end",expr:n})];return"".concat(l,"(").concat(n.map(function(m){return"scale('".concat(a,"',").concat(m,")")}).join(","),")")};if("x"===b.stack.fieldChannel){d=Object.assign({},bb(e.encode.update,["y","yc","y2","height"].concat($jscomp.arrayFromIterable(xg))),{x:{signal:d("min","datum")},x2:{signal:d("max","datum")},clip:{value:!0}});var f={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}};e.encode.update=
Object.assign({},Pa(e.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})}else d=Object.assign({},bb(e.encode.update,["x","xc","x2","width"]),{y:{signal:d("min","datum")},y2:{signal:d("max","datum")},clip:{value:!0}}),f={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},e.encode.update=Object.assign({},Pa(e.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}});for(var g=$jscomp.makeIterator(xg),h=g.next();!h.done;h=g.next()){h=h.value;var k=Qc(h,b.markDef,b.config);
e.encode.update[h]?(d[h]=e.encode.update[h],delete e.encode.update[h]):k&&(d[h]=za(k));k&&(e.encode.update[h]={value:0})}g=b.fieldDef(b.stack.groupbyChannel);h=J(g)?[J(g)]:[];((null===g||void 0===g?0:g.bin)||(null===g||void 0===g?0:g.timeUnit))&&h.push(J(g,{binSuffix:"end"}));d="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce(function(l,n){if(e.encode.update[n]){var m={};return Object.assign({},l,(m[n]=e.encode.update[n],m))}m=
Qc(n,b.markDef,b.config);if(void 0!==m){var p={};return Object.assign({},l,(p[n]=za(m),p))}return l},d);d.stroke&&(d.strokeForeground={value:!0},d.strokeOffset={value:0});return[{type:"group",from:{facet:{data:b.requestDataName(qa.Main),name:"stack_group_"+b.requestDataName(qa.Main),groupby:h,aggregate:{fields:[c({suffix:"start"}),c({suffix:"start"}),c({suffix:"end"}),c({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:d},marks:[{type:"group",encode:{update:f},marks:[e]}]}]}function Zm(b){var e=
b.encoding,a=b.stack,c=b.mark,d=b.markDef,f=b.config,g=e.order;if(!(!U(g)&&Cb(g)&&Xc(g.value)||!g&&Xc(la("order",d,f)))){if((U(g)||K(g))&&!a)return Ch(g,{expr:"datum"});if(zc(c)&&(a="horizontal"===d.orient?"y":"x",c=e[a],K(c))){e=c.sort;if(U(e))return{field:J(c,{prefix:a,suffix:"sort_index",expr:"datum"})};if(Pb(e))return{field:J({aggregate:qf(b.encoding)?e.op:void 0,field:e.field},{expr:"datum"})};if(e&&e.encoding)return b=b.fieldDef(e.encoding),{field:J(b,{expr:"datum"}),order:e.order};if(null!==
e)return{field:J(c,{binSuffix:b.stack&&b.stack.impute?"mid":void 0,expr:"datum"})}}}}function yg(b,e){e=void 0===e?{fromPrefix:""}:e;var a=b.mark,c=b.markDef,d=b.encoding,f=b.config,g=c.clip;var h=b.getScaleComponent("x");var k=b.getScaleComponent("y");h=h&&h.get("selectionExtent")||k&&k.get("selectionExtent")?!0:void 0;k=b.component.projection;g=ta(g,h,k&&!k.isFit?!0:void 0);h=Ah(c);d=d.key;k=Zm(b);var l;if(b.component.selection){for(var n=l=E(b.component.selection).length,m=b.parent;m&&0===n;)n=
E(m.component.selection).length,m=m.parent;l=n?{interactive:0<l||!!b.encoding.tooltip}:null}else l=null;c=la("aria",c,f);f=Ie[a].postEncodingTransform?Ie[a].postEncodingTransform(b):null;return[Object.assign({},{name:b.getName("marks"),type:Ie[a].vgMark},g?{clip:!0}:{},h?{style:h}:{},d?{key:d.field}:{},k?{sort:k}:{},l?l:{},!1===c?{aria:c}:{},{from:{data:e.fromPrefix+b.requestDataName(qa.Main)},encode:{update:Ie[a].encodeEntry(b)}},f?{transform:f}:{})]}function zg(b,e,a,c,d){if("facet"in b)return new na(b,
e,a,d);if("layer"in b)return new Ua(b,e,a,c,d);if(fc(b))return new pa(b,e,a,c,d);if("vconcat"in b||"hconcat"in b||"concat"in b)return new $a(b,e,a,d);throw Error(Pe(b));}function $m(b,e,a,c){a=void 0===a?{}:a;var d=b.config?Wk(b.config):void 0;a=[].concat(b.assembleSelectionData([]),Gm(b.component.data,a));var f=b.assembleProjections(),g=b.assembleTitle(),h=b.assembleGroupStyle(),k=b.assembleGroupEncodeEntry(!0),l=b.assembleLayoutSignals();l=l.filter(function(p){return"width"!==p.name&&"height"!==
p.name||void 0===p.value?!0:(e[p.name]=+p.value,!1)});var n=Object.assign({},e),m=e.params;n=(delete n.params,n);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},b.description?{description:b.description}:{},n,g?{title:g}:{},h?{style:h}:{},k?{encode:{update:k}}:{},{data:a},0<f.length?{projections:f}:{},b.assembleGroup([].concat($jscomp.arrayFromIterable(l),$jscomp.arrayFromIterable(b.assembleSelectionTopLevelSignals([])),$jscomp.arrayFromIterable(Rh(m)))),d?{config:d}:
{},c?{usermeta:c}:{})}var mk=function(b){return function(e){return e[b]}},nk=function(b){var e=b.length;return function(a){for(var c=0;c<e;++c)a=a[b[c]];return a}};(function(b,e,a){var c=nb(b);b=1===c.length?c[0]:b;return Na((a&&a.get||Od)(c),[b],e||b)})("id");var Bl=Na(function(b){return b},[],"identity");Na(function(){return 0},[],"zero");Na(function(){return 1},[],"one");Na(function(){return!0},[],"true");Na(function(){return!1},[],"false");var U=Array.isArray,$c=Object.prototype.hasOwnProperty;
Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(e){var c=isNaN(e)?1:Number(e);return c?Array.prototype.reduce.call(this,function(d,f){return Array.isArray(f)?d.push.apply(d,a.call(f,c-1)):d.push(f),d},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var td=function(e,
a){a||(a={});"function"===typeof a&&(a={cmp:a});var c="boolean"===typeof a.cycles?a.cycles:!1,d=a.cmp&&function(g){return function(h){return function(k,l){return g({key:k,value:h[k]},{key:l,value:h[l]})}}}(a.cmp),f=[];return function k(h){h&&h.toJSON&&"function"===typeof h.toJSON&&(h=h.toJSON());if(void 0!==h){if("number"==typeof h)return isFinite(h)?""+h:"null";if("object"!==typeof h)return JSON.stringify(h);var l;if(Array.isArray(h)){var n="[";for(l=0;l<h.length;l++)l&&(n+=","),n+=k(h[l])||"null";
return n+"]"}if(null===h)return"null";if(-1!==f.indexOf(h)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var m=f.push(h)-1,p=Object.keys(h).sort(d&&d(h));n="";for(l=0;l<p.length;l++){var r=p[l],u=k(h[r]);u&&(n&&(n+=","),n+=JSON.stringify(r)+":"+u)}f.splice(m,1);return"{"+n+"}"}}(e)},ed=function d(a,c){if(a===c)return!0;if(a&&c&&"object"==typeof a&&"object"==typeof c){if(a.constructor!==c.constructor)return!1;var f;if(Array.isArray(a)){var g=
a.length;if(g!=c.length)return!1;for(f=g;0!==f--;)if(!d(a[f],c[f]))return!1;return!0}if(a.constructor===RegExp)return a.source===c.source&&a.flags===c.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===c.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===c.toString();var h=Object.keys(a);g=h.length;if(g!==Object.keys(c).length)return!1;for(f=g;0!==f--;)if(!Object.prototype.hasOwnProperty.call(c,h[f]))return!1;for(f=g;0!==f--;)if(g=h[f],!d(a[g],c[g]))return!1;
return!0}return a!==a&&c!==c},aa=function(a,c,d){return d={path:c,exports:{},require:function(f,g){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},a(d,d.exports),d.exports}(function(a){var c=function(){function d(m,p){return null!=p&&m instanceof p}function f(m,p,r,u,w){function x(L,Aa){if(null===L)return null;if(0===Aa||"object"!=typeof L)return L;if(d(L,k))var ha=new k;else if(d(L,l))ha=new l;else if(d(L,n))ha=new n(function(rc,Nd){L.then(function(Ag){rc(x(Ag,
Aa-1))},function(Ag){Nd(x(Ag,Aa-1))})});else if(f.__isArray(L))ha=[];else if(f.__isRegExp(L))ha=new RegExp(L.source,h(L)),L.lastIndex&&(ha.lastIndex=L.lastIndex);else if(f.__isDate(L))ha=new Date(L.getTime());else{if(O&&D.isBuffer(L))return ha=D.allocUnsafe?D.allocUnsafe(L.length):new D(L.length),L.copy(ha),ha;if(d(L,Error))ha=Object.create(L);else if("undefined"==typeof u){var Da=Object.getPrototypeOf(L);ha=Object.create(Da)}else ha=Object.create(u),Da=u}if(p){var fa=z.indexOf(L);if(-1!=fa)return C[fa];
z.push(L);C.push(ha)}d(L,k)&&L.forEach(function(rc,Nd){Nd=x(Nd,Aa-1);rc=x(rc,Aa-1);ha.set(Nd,rc)});d(L,l)&&L.forEach(function(rc){rc=x(rc,Aa-1);ha.add(rc)});for(var Kb in L){var kb;Da&&(kb=Object.getOwnPropertyDescriptor(Da,Kb));kb&&null==kb.set||(ha[Kb]=x(L[Kb],Aa-1))}if(Object.getOwnPropertySymbols)for(fa=Object.getOwnPropertySymbols(L),Kb=0;Kb<fa.length;Kb++)if(kb=fa[Kb],Da=Object.getOwnPropertyDescriptor(L,kb),!Da||Da.enumerable||w)ha[kb]=x(L[kb],Aa-1),Da.enumerable||Object.defineProperty(ha,
kb,{enumerable:!1});if(w)for(fa=Object.getOwnPropertyNames(L),Kb=0;Kb<fa.length;Kb++)kb=fa[Kb],Da=Object.getOwnPropertyDescriptor(L,kb),Da&&Da.enumerable||(ha[kb]=x(L[kb],Aa-1),Object.defineProperty(ha,kb,{enumerable:!1}));return ha}"object"===typeof p&&(r=p.depth,u=p.prototype,w=p.includeNonEnumerable,p=p.circular);var z=[],C=[],O="undefined"!=typeof D;"undefined"==typeof p&&(p=!0);"undefined"==typeof r&&(r=Infinity);return x(m,r)}function g(m){return Object.prototype.toString.call(m)}function h(m){var p=
"";m.global&&(p+="g");m.ignoreCase&&(p+="i");m.multiline&&(p+="m");return p}try{var k=Map}catch(m){k=function(){}}try{var l=Set}catch(m){l=function(){}}try{var n=Promise}catch(m){n=function(){}}f.clonePrototype=function(m){if(null===m)return null;var p=function(){};p.prototype=m;return new p};f.__objToStr=g;f.__isDate=function(m){return"object"===typeof m&&"[object Date]"===g(m)};f.__isArray=function(m){return"object"===typeof m&&"[object Array]"===g(m)};f.__isRegExp=function(m){return"object"===
typeof m&&"[object RegExp]"===g(m)};f.__getRegExpFlags=h;return f}();a.exports&&(a.exports=c)});Set.prototype.toJSON=function(){return"Set(".concat([].concat($jscomp.arrayFromIterable(this)).map(function(a){return td(a)}).join(","),")")};var va=td,E=Object.keys,ic=Object.values,ud=Object.entries,Gg=42,Ti={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",
vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},
tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Ui=["domain","grid","labels","ticks","title"],Ul={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",
domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",
tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",
scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Yj={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,
labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,
titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Wj=Object.assign({},Yj,{style:1,labelExpr:1,encoding:1}),Zh=E({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),ok={argmax:1,argmin:1,average:1,count:1,distinct:1,
product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},tm={count:1,min:1,max:1},hh=["count","valid","missing","distinct"],fl=["count","sum","distinct","valid","missing"],rm=fb("mean average median q1 q3 min max".split(" ")),Ne={theta:1,theta2:1,radius:1,radius2:1},Bg={longitude:1,longitude2:1,latitude:1,latitude2:1},an=E(Bg),Zj=Object.assign({},{x:1,y:1,x2:1,y2:1},Ne,Bg,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,
strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),ak={row:1,column:1,facet:1},ub=E(ak),ee=Object.assign({},Zj,ak),Lk=E(ee),Je=Object.assign({},ee),bn=(delete Je.order,delete Je.detail,delete Je.tooltip,Je),Ke=Object.assign({},bn),cn=(delete Ke.row,delete Ke.column,delete Ke.facet,Ke),dn="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),lb=Object.assign({},Zj),sf=(delete lb.x,delete lb.y,delete lb.x2,delete lb.y2,
delete lb.latitude,delete lb.longitude,delete lb.latitude2,delete lb.longitude2,delete lb.theta,delete lb.theta2,delete lb.radius,delete lb.radius2,lb),cl=E(sf),La={x:1,y:1},tb=E(La),pg={theta:1,radius:1},en=E(pg),sc=Object.assign({},sf),bk=(delete sc.text,delete sc.tooltip,delete sc.href,delete sc.url,delete sc.description,delete sc.detail,delete sc.key,delete sc.order,sc),fn=E(bk),cc=Object.assign({},La,pg,bk),ne=E(cc),Ig={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",
image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},ck=Object.assign({},Ig),rk=(delete ck.geoshape,ck),dk=function(a,c){var d=a||0;return{level:function(f){return arguments.length?(d=+f,this):d},error:function(){1<=d&&uc(c||"error","ERROR",arguments);return this},warn:function(){2<=d&&uc(c||"warn","WARN",arguments);return this},info:function(){3<=d&&uc(c||"log","INFO",arguments);return this},debug:function(){4<=d&&uc(c||
"log","DEBUG",arguments);return this}}}(2),bd=dk,Zg="january february march april may june july august september october november december".split(" "),wk=Zg.map(function(a){return a.substr(0,3)}),$g="sunday monday tuesday wednesday thursday friday saturday".split(" "),yk=$g.map(function(a){return a.substr(0,3)}),vh={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Te=E(vh),Ak={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},wl=E({aria:1,description:1,
ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,
cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),ql={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},xg=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Fa={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",
QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},of={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ek={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,
point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},fk="linear log pow sqrt symlog time utc".split(" "),Ab=fb(fk),Xl=fb(["linear","log","pow","sqrt","symlog"]),Wd=fb(["quantile","quantize","threshold"]),gn=fk.concat(["quantile","quantize","threshold","sequential","identity"]),qb=fb(gn),cb=fb(["ordinal","bin-ordinal","point","band"]),Wc=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,
clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1}),hn=(delete Wc.type,delete Wc.domain,delete Wc.range,delete Wc.rangeMax,delete Wc.rangeMin,delete Wc.scheme,Wc),jn=E(hn),ab={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},gk=ab.arc,Ge=ab.area,Ee=ab.bar,Rm=ab.image,He=ab.line,De=ab.point,Qm=ab.rect,Fe=ab.rule,
Xj=ab.text,vg=ab.tick,Wm=ab.trail,tg=ab.circle,ug=ab.square,Pj=ab.geoshape,hk=E(ab);fb(hk);var kn=[].concat($jscomp.arrayFromIterable("stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit".split(" ")),$jscomp.arrayFromIterable(["fill","fillOpacity"])),ai=E({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Yh=E({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),
ln={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},uh={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},ik=function(a,c){switch(c.fieldTitle){case "plain":return a.field;case "functional":c=a.aggregate;var d=a.bin,f=a.timeUnit;a=a.field;H(c)?c="".concat(a," for argmax(").concat(c.argmax,")"):M(c)?c="".concat(a," for argmin(").concat(c.argmin,")"):(f=Wa(f),c=(c=c||(null===
f||void 0===f?void 0:f.unit)||(null===f||void 0===f?void 0:f.maxbins)&&"timeunit"||ua(d)&&"bin")?c.toUpperCase()+"("+a+")":a);return c;default:return Hk(a,c)}},Bd=ik,Rc={compatible:!0},Dd=function(a,c){this.name=a;this.run=c};Dd.prototype.hasMatchingType=function(a){return fc(a)?(a=a.mark,(dc(a)?a.type:a)===this.name):!1};var mn=new Dd("boxplot",Lh),nn=new Dd("errorbar",Nh),on=new Dd("errorband",Ph),Qh={};uf("boxplot",Lh,["box","median","outliers","rule","ticks"]);uf("errorbar",Nh,["ticks","rule"]);
uf("errorband",Ph,["band","borders"]);var Yk=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],cj={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},dj={labelAlign:"align",
labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},am=E(cj),dm=E(dj),$h=E({header:1,headerRow:1,headerColumn:1,headerFacet:1}),mj="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Rk=["background","padding"],Tk=E({align:1,bounds:1,center:1,columns:1,spacing:1}),
Uk={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},
median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},
header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},
resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},tc="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Xh={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Wh={blue:tc[0],orange:tc[1],red:tc[2],teal:tc[3],green:tc[4],yellow:tc[5],purple:tc[6],pink:tc[7],brown:tc[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",
gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Vk=[].concat($jscomp.arrayFromIterable(Yh),$jscomp.arrayFromIterable(Zh),$jscomp.arrayFromIterable($h),"background padding legend lineBreak scale style title view".split(" ")),Zk=["view"].concat($jscomp.arrayFromIterable(hk)),Xk="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
$k=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]}),mb=function(){};mb.prototype.map=function(a,c){return"facet"in a?this.mapFacet(a,c):"repeat"in a?this.mapRepeat(a,c):"hconcat"in a?this.mapHConcat(a,c):"vconcat"in a?this.mapVConcat(a,c):"concat"in a?this.mapConcat(a,
c):this.mapLayerOrUnit(a,c)};mb.prototype.mapLayerOrUnit=function(a,c){if("layer"in a)return this.mapLayer(a,c);if(fc(a))return this.mapUnit(a,c);throw Error(Pe(a));};mb.prototype.mapLayer=function(a,c){var d=this;return Object.assign({},a,{layer:a.layer.map(function(f){return d.mapLayerOrUnit(f,c)})})};mb.prototype.mapHConcat=function(a,c){var d=this;return Object.assign({},a,{hconcat:a.hconcat.map(function(f){return d.map(f,c)})})};mb.prototype.mapVConcat=function(a,c){var d=this;return Object.assign({},
a,{vconcat:a.vconcat.map(function(f){return d.map(f,c)})})};mb.prototype.mapConcat=function(a,c){var d=this,f=Object.assign({},a);a=a.concat;f=(delete f.concat,f);return Object.assign({},f,{concat:a.map(function(g){return d.map(g,c)})})};mb.prototype.mapFacet=function(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})};mb.prototype.mapRepeat=function(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})};var el={zero:1,center:1,normalize:1},bl=new Set([gk,Ee,Ge,Fe,De,tg,ug,He,Xj,vg]),dl=
new Set([Ee,Ge,gk]),Cg=function(){V(this,"name","path-overlay")};Cg.prototype.hasMatchingType=function(a,c){if(fc(a)){var d=a.mark;a=a.encoding;d=dc(d)?d:{type:d};switch(d.type){case "line":case "rule":case "trail":return!!yf(d,c[d.type],a);case "area":return!!yf(d,c[d.type],a)||!!di(d,c[d.type])}}return!1};Cg.prototype.run=function(a,c,d){var f=c.config,g=Object.assign({},a),h=a.selection,k=a.projection,l=a.mark;a=a.encoding;g=(delete g.selection,delete g.projection,delete g.mark,delete g.encoding,
g);a=fe(a,f);l=dc(l)?l:{type:l};var n=yf(l,f[l.type],a),m="area"===l.type&&di(l,f[l.type]);h=[Object.assign({},h?{selection:h}:{},{mark:gl(Object.assign({},"area"===l.type&&void 0===l.opacity&&void 0===l.fillOpacity?{opacity:.7}:{},l)),encoding:Pa(a,["shape"])})];var p=ci(l,a),r=a;if(p){r=p.fieldChannel;p=p.offset;var u={};r=Object.assign({},a,(u[r]=Object.assign({},a[r],p?{stack:p}:{}),u))}m&&h.push(Object.assign({},k?{projection:k}:{},{mark:Object.assign({},{type:"line"},bb(l,["clip","interpolate",
"tension","tooltip"]),m),encoding:r}));n&&h.push(Object.assign({},k?{projection:k}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},bb(l,["clip","tooltip"]),n),encoding:r}));return d(Object.assign({},g,{layer:h}),Object.assign({},c,{config:hl(f)}))};var Dg=function(){V(this,"name","RangeStep")};Dg.prototype.hasMatchingType=function(a){if(fc(a)&&a.encoding)for(var c=$jscomp.makeIterator(tb),d=c.next();!d.done;d=c.next())if((d=a.encoding[d.value])&&X(d)){var f;if(null===d||void 0===d?0:
null===(f=d.scale)||void 0===f?0:f.rangeStep)return!0}return!1};Dg.prototype.run=function(a){for(var c={},d=Object.assign({},a.encoding),f=$jscomp.makeIterator(tb),g=f.next();!g.done;g=f.next()){g=g.value;var h=Nb(g),k=d[g];if(k&&X(k)){var l;if(null===k||void 0===k?0:null===(l=k.scale)||void 0===l?0:l.rangeStep){var n=Object.assign({},k);k=k.scale;n=(delete n.scale,n);var m=Object.assign({},k);m=(delete m.rangeStep,m);c[h]={step:k.rangeStep};G('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');
h={};d=Object.assign({},d,(h[g]=Object.assign({},n,ja(m)?{}:{scale:m}),h))}}}return Object.assign({},c,a,{encoding:d})};var Eg=function(){V(this,"name","RuleForRangedLine")};Eg.prototype.hasMatchingType=function(a){if(fc(a)){var c=a.encoding;if("line"===a.mark){a=$jscomp.makeIterator(dn);for(var d=a.next();!d.done;d=a.next()){d=d.value;var f=Mc(d);f=c[f];if(c[d]&&(K(f)&&!Va(f.bin)||Ac(f)))return!0}}}return!1};Eg.prototype.run=function(a,c,d){var f=a.encoding,g=!!f.x2;f="Line mark is for continuous lines and thus cannot be used with ".concat(g&&
f.y2?"x2 and y2":g?"x2":"y2",". We will use the rule mark (line segments) instead.");G(f);return d(Object.assign({},a,{mark:"rule"}),c)};var xb=function(a){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];c=mb.apply(this,[].concat($jscomp.arrayFromIterable(c)))||this;V(c,"nonFacetUnitNormalizers",[mn,nn,on,new Cg,new Eg,new Dg]);return c};$jscomp.inherits(xb,mb);xb.prototype.map=function(a,c){if(fc(a)){var d=Sc(a.encoding,"row"),f=Sc(a.encoding,"column"),g=Sc(a.encoding,"facet");if(d||
f||g)return this.mapFacetedUnit(a,c)}return mb.prototype.map.call(this,a,c)};xb.prototype.mapUnit=function(a,c){var d=c.parentEncoding,f=c.parentProjection,g=zf(a.encoding,c.repeater);a=Object.assign({},a,g?{encoding:g}:{});if(d||f)return this.mapUnitWithParentEncodingOrProjection(a,c);d=this.mapLayerOrUnit.bind(this);f=$jscomp.makeIterator(this.nonFacetUnitNormalizers);for(g=f.next();!g.done;g=f.next())if(g=g.value,g.hasMatchingType(a,c.config))return g.run(a,c,d);return a};xb.prototype.mapRepeat=
function(a,c){return!U(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,c):this.mapNonLayerRepeat(a,c)};xb.prototype.mapLayerRepeat=function(a,c){var d=this,f=Object.assign({},a),g=a.repeat,h=a.spec;f=(delete f.repeat,delete f.spec,f);var k=g.row,l=g.column;g=g.layer;var n=void 0===c.repeater?{}:c.repeater,m=void 0===c.repeaterPrefix?"":c.repeaterPrefix;return k||l?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},k?{row:k}:{},l?{column:l}:{}),spec:{repeat:{layer:g},spec:h}}),c):Object.assign({},
f,{layer:g.map(function(p){var r=Object.assign({},n,{layer:p});p=(h.name||"")+m+"child__layer_".concat(oa(p));r=d.mapLayerOrUnit(h,Object.assign({},c,{repeater:r,repeaterPrefix:p}));r.name=p;return r})})};xb.prototype.mapNonLayerRepeat=function(a,c){var d,f=a,g=Object.assign({},f),h=f.repeat,k=f.spec;f=f.data;g=(delete g.repeat,delete g.spec,delete g.data,g);!U(h)&&a.columns&&(a=Pa(a,["columns"]),G(Rg("repeat")));var l=[],n=void 0===c.repeater?{}:c.repeater,m=void 0===c.repeaterPrefix?"":c.repeaterPrefix,
p=!U(h)&&h.row||[n?n.row:null],r=!U(h)&&h.column||[n?n.column:null],u=U(h)&&h||[n?n.repeat:null];u=$jscomp.makeIterator(u);for(var w=u.next();!w.done;w=u.next()){w=w.value;for(var x=$jscomp.makeIterator(p),z=x.next();!z.done;z=x.next()){z=z.value;for(var C=$jscomp.makeIterator(r),O=C.next();!O.done;O=C.next()){var L=O.value;O={repeat:w,row:z,column:L,layer:n.layer};L=(k.name||"")+m+"child__"+(U(h)?"".concat(oa(w)):(h.row?"row_".concat(oa(z)):"")+(h.column?"column_".concat(oa(L)):""));O=this.map(k,
Object.assign({},c,{repeater:O,repeaterPrefix:L}));O.name=L;l.push(Pa(O,["data"]))}}}a=U(h)?a.columns:h.column?h.column.length:1;return Object.assign({},{data:null!==(d=k.data)&&void 0!==d?d:f,align:"all"},g,{columns:a,concat:l})};xb.prototype.mapFacet=function(a,c){Ad(a.facet)&&a.columns&&(a=Pa(a,["columns"]),G(Rg("facet")));return mb.prototype.mapFacet.call(this,a,c)};xb.prototype.mapUnitWithParentEncodingOrProjection=function(a,c){var d=a.encoding,f=c.parentEncoding,g=c.config,h=ji({parentProjection:c.parentProjection,
projection:a.projection});c=ii({parentEncoding:f,encoding:zf(d,c.repeater)});return this.mapUnit(Object.assign({},a,h?{projection:h}:{},c?{encoding:c}:{}),{config:g})};xb.prototype.mapFacetedUnit=function(a,c){var d=a.encoding,f=Object.assign({},d),g=d.row,h=d.column,k=d.facet,l=(delete f.row,delete f.column,delete f.facet,f),n=Object.assign({},a);f=a.mark;d=a.width;var m=a.projection,p=a.height,r=a.view;a=a.selection;n=(delete n.mark,delete n.width,delete n.projection,delete n.height,delete n.view,
delete n.selection,delete n.encoding,n);h=this.getFacetMappingAndLayout({row:g,column:h,facet:k},c);g=h.facetMapping;h=h.layout;l=zf(l,c.repeater);return this.mapFacet(Object.assign({},n,h,{facet:g,spec:Object.assign({},d?{width:d}:{},p?{height:p}:{},r?{view:r}:{},m?{projection:m}:{},{mark:f,encoding:l},a?{selection:a}:{})}),c)};xb.prototype.getFacetMappingAndLayout=function(a,c){var d=a.row,f=a.column,g=a.facet;if(d||f){g&&(c=[].concat($jscomp.arrayFromIterable(d?["row"]:[]),$jscomp.arrayFromIterable(f?
["column"]:[])),c="Facet encoding dropped as ".concat(c.join(" and ")," ").concat(1<c.length?"are":"is"," also specified."),G(c));c={};g={};d=$jscomp.makeIterator(["row","column"]);for(f=d.next();!f.done;f=d.next()){f=f.value;var h=a[f];if(h){var k=Object.assign({},h);k=(delete k.align,delete k.center,delete k.spacing,delete k.columns,k);c[f]=k;k=$jscomp.makeIterator(["align","center","spacing"]);for(var l=k.next();!l.done;l=k.next())if(l=l.value,void 0!==h[l]){var n;g[l]=null!==(n=g[l])&&void 0!==
n?n:{};g[l][f]=h[l]}}}return{facetMapping:c,layout:g}}f=Object.assign({},g);a=g.align;n=g.center;d=g.spacing;g=g.columns;f=(delete f.align,delete f.center,delete f.spacing,delete f.columns,f);c=(c=c.repeater)?Ad(f)?ei(f,c):fi(f,c):f;return{facetMapping:c,layout:Object.assign({},a?{align:a}:{},n?{center:n}:{},d?{spacing:d}:{},g?{columns:g}:{})}};xb.prototype.mapLayer=function(a,c){var d=Object.assign({},c),f=c.parentEncoding;c=c.parentProjection;d=(delete d.parentEncoding,delete d.parentProjection,
d);var g=Object.assign({},a),h=a.encoding;a=a.projection;g=(delete g.encoding,delete g.projection,g);f=Object.assign({},d,{parentEncoding:ii({parentEncoding:f,encoding:h,layer:!0}),parentProjection:ji({parentProjection:c,projection:a})});return mb.prototype.mapLayer.call(this,g,f)};var il=new xb,Ca=function(a,c){a=void 0===a?{}:a;c=void 0===c?{}:c;this.explicit=a;this.implicit=c};Ca.prototype.clone=function(){return new Ca(aa(this.explicit),aa(this.implicit))};Ca.prototype.combine=function(){return Object.assign({},
this.explicit,this.implicit)};Ca.prototype.get=function(a){return ta(this.explicit[a],this.implicit[a])};Ca.prototype.getWithExplicit=function(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}};Ca.prototype.setWithExplicit=function(a,c){void 0!==c.value&&this.set(a,c.value,c.explicit)};Ca.prototype.set=function(a,c,d){delete this[d?"implicit":"explicit"][a];this[d?"explicit":"implicit"][a]=
c;return this};Ca.prototype.copyKeyFromSplit=function(a,c){void 0!==c.explicit[a]?this.set(a,c.explicit[a],!0):void 0!==c.implicit[a]&&this.set(a,c.implicit[a],!1)};Ca.prototype.copyKeyFromObject=function(a,c){void 0!==c[a]&&this.set(a,c[a],!0)};Ca.prototype.copyAll=function(a){for(var c=$jscomp.makeIterator(E(a.combine())),d=c.next();!d.done;d=c.next()){d=d.value;var f=a.getWithExplicit(d);this.setWithExplicit(d,f)}};var sg=function(a,c,d){a=void 0===a?{}:a;c=void 0===c?{}:c;d=void 0===d?!1:d;var f=
Ca.call(this,a,c)||this;f.explicit=a;f.implicit=c;f.parseNothing=d;return f};$jscomp.inherits(sg,Ca);sg.prototype.clone=function(){var a=Ca.prototype.clone.call(this);a.parseNothing=this.parseNothing;return a};var qa;(function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup"})(qa||(qa={}));var ml=/[[\]{}]/,kl={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},oi,pi,sl={left:"x",center:"xc",right:"x2"},
tl={top:"y",middle:"yc",bottom:"y2"},xl=new Set(["aria"]),jk={has:function(a){return"interval"!==a.type&&a.nearest},parse:function(a,c){if(c.events){c=$jscomp.makeIterator(c.events);for(var d=c.next();!d.done;d=c.next())d.value.markname=a.getName("voronoi")}},marks:function(a,c,d){var f=c.project.hasChannel;c=f.x;f=f.y;var g=a.mark;if(zc(g))return G('The "nearest" transform is not supported for '.concat(g," marks.")),d;c={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},
encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},si(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:c||!f?"datum.datum.x || 0":"0"},y:{expr:f||!c?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};var h=0,k=!1;d.forEach(function(l,n){var m;l=null!==(m=l.name)&&void 0!==m?m:"";l===a.component.mark[0].name?h=n:0<=l.indexOf("voronoi")&&(k=!0)});k||d.splice(h+1,0,c);
return d}},P=function(a,c){this.debugName=c;V(this,"_children",[]);V(this,"_parent",null);V(this,"_hash",void 0);a&&(this.parent=a)};P.prototype.clone=function(){throw Error("Cannot clone node");};P.prototype.numChildren=function(){return this._children.length};P.prototype.addChild=function(a,c){-1<this._children.indexOf(a)?G("Attempt to add the same child twice."):void 0!==c?this._children.splice(c,0,a):this._children.push(a)};P.prototype.removeChild=function(a){a=this._children.indexOf(a);this._children.splice(a,
1);return a};P.prototype.remove=function(){for(var a=this._parent.removeChild(this),c=$jscomp.makeIterator(this._children),d=c.next();!d.done;d=c.next())d=d.value,d._parent=this._parent,this._parent.addChild(d,a++)};P.prototype.insertAsParentOf=function(a){var c=a.parent;c.removeChild(this);this.parent=c;a.parent=this};P.prototype.swapWithParent=function(){for(var a=this._parent,c=a.parent,d=$jscomp.makeIterator(this._children),f=d.next();!f.done;f=d.next())f.value.parent=a;this._children=[];a.removeChild(this);
a.parent.removeChild(a);this.parent=c;a.parent=this};$jscomp.global.Object.defineProperties(P.prototype,{parent:{configurable:!0,enumerable:!0,get:function(){return this._parent},set:function(a){(this._parent=a)&&a.addChild(this)}},children:{configurable:!0,enumerable:!0,get:function(){return this._children}}});var Ba=function(a,c,d,f){a=P.call(this,a,c)||this;a.type=d;a.refCounts=f;V(a,"_source",void 0);V(a,"_name",void 0);a._source=a._name=c;!a.refCounts||a._name in a.refCounts||(a.refCounts[a._name]=
0);return a};$jscomp.inherits(Ba,P);Ba.prototype.clone=function(){var a=new this.constructor;a.debugName="clone_"+this.debugName;a._source=this._source;a._name="clone_"+this._name;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a};Ba.prototype.dependentFields=function(){return new Set};Ba.prototype.producedFields=function(){return new Set};Ba.prototype.hash=function(){void 0===this._hash&&(this._hash="Output ".concat(q()));return this._hash};Ba.prototype.getSource=function(){this.refCounts[this._name]++;
return this._source};Ba.prototype.isRequired=function(){return!!this.refCounts[this._name]};Ba.prototype.setSource=function(a){this._source=a};var Ia=function(a,c){a=P.call(this,a)||this;a.formula=c;return a};$jscomp.inherits(Ia,P);Ia.prototype.clone=function(){return new Ia(null,aa(this.formula))};Ia.makeFromEncoding=function(a,c){var d=c.reduceFieldDef(function(f,g,h){var k=g.field,l=g.timeUnit,n=xa(c)?c.encoding[Mb(h)]:void 0;h=xa(c)&&jf(h,g,n,c.stack,c.markDef,c.config);l&&(g=J(g,{forAs:!0}),
f[ea({as:g,field:k,timeUnit:l})]=Object.assign({},{as:g,field:k,timeUnit:l},h?{band:!0}:{}));return f},{});return ja(d)?null:new Ia(a,d)};Ia.makeFromTransform=function(a,c){var d=Object.assign({},c);c=Object.assign({},d);d=d.timeUnit;c=(delete c.timeUnit,c);d=Wa(d);c=Object.assign({},c,{timeUnit:d});d={};return new Ia(a,(d[ea(c)]=c,d))};Ia.prototype.merge=function(a){this.formula=Object.assign({},this.formula);for(var c in a.formula)if(!this.formula[c]||a.formula[c].band)this.formula[c]=a.formula[c];
c=$jscomp.makeIterator(a.children);for(var d=c.next();!d.done;d=c.next())d=d.value,a.removeChild(d),d.parent=this;a.remove()};Ia.prototype.removeFormulas=function(a){for(var c={},d=$jscomp.makeIterator(ud(this.formula)),f=d.next();!f.done;f=d.next()){var g=$jscomp.makeIterator(f.value);f=g.next().value;g=g.next().value;a.has(g.as)||(c[f]=g)}this.formula=c};Ia.prototype.producedFields=function(){return new Set(ic(this.formula).map(function(a){return a.as}))};Ia.prototype.dependentFields=function(){return new Set(ic(this.formula).map(function(a){return a.field}))};
Ia.prototype.hash=function(){return"TimeUnit ".concat(ea(this.formula))};Ia.prototype.assemble=function(){for(var a=[],c=$jscomp.makeIterator(ic(this.formula)),d=c.next();!d.done;d=c.next()){var f=d.value;d=f.field;var g=f.as,h=Wa(f.timeUnit),k=Object.assign({},h);f=h.unit;h=h.utc;k=(delete k.unit,delete k.utc,k);a.push(Object.assign({},{field:yb(d),type:"timeunit"},f?{units:Ve(f)}:{},h?{timezone:"utc"}:{},k,{as:[g,"".concat(g,"_end")]}))}return a};var pn=function(a){for(var c=[],d=0;d<arguments.length;++d)c[d-
0]=arguments[d];V(this,"hasChannel",void 0);V(this,"hasField",void 0);V(this,"timeUnit",void 0);V(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}},kk={has:function(a){return"single"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!vf(a.bind)},parse:function(a,c,d,f){f.on||delete c.events;f.clear||delete c.clear},topLevelSignals:function(a,c,d){var f=c.name;a=c.project;var g=c.bind,h=c.init&&c.init[0],k=jk.has(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach(function(l,
n){var m=oa("".concat(f,"_").concat(l.field));if(!d.filter(function(u){return u.name===m}).length){var p,r;d.unshift(Object.assign({},{name:m},h?{init:id(h[n])}:{value:null},{on:c.events?[{events:c.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(k,"[").concat(ca(l.field),"] : null")}]:[],bind:null!==(p=null!==(r=g[l.field])&&void 0!==r?r:g[l.channel])&&void 0!==p?p:g}))}});return d},signals:function(a,c,d){var f=c.name,g=c.project;a=d.filter(function(k){return k.name===
f+"_tuple"})[0];c=f+"_tuple_fields";g=g.items.map(function(k){return oa("".concat(f,"_").concat(k.field))});var h=g.map(function(k){return"".concat(k," !\x3d\x3d null")}).join(" \x26\x26 ");g.length&&(a.update="".concat(h," ? {fields: ").concat(c,", values: [").concat(g.join(", "),"]} : null"));delete a.value;delete a.on;return d}},lk={has:function(a){return"multi"===a.type&&!!a.toggle},signals:function(a,c,d){return d.concat({name:c.name+"_toggle",value:!1,on:[{events:c.events,update:c.toggle}]})},
modifyExpr:function(a,c){var d=c.name+"_tuple",f=c.name+"_toggle";return"".concat(f," ? null : ").concat(d,", ")+("global"===c.resolve?"".concat(f," ? null : true, "):"".concat(f," ? null : {unit: ").concat(hc(a),"}, "))+"".concat(f," ? ").concat(d," : null")}},Fc={has:function(a){return"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind},parse:function(a,c){for(var d=c.scales=[],f=$jscomp.makeIterator(c.project.items),g=f.next();!g.done;g=f.next()){g=g.value;var h=g.channel;if(cc[h]){var k=
(h=a.getScaleComponent(h))?h.get("type"):void 0;h&&k in qb?(h.set("selectionExtent",{selection:c.name,field:g.field},!0),d.push(g)):G("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}},topLevelSignals:function(a,c,d){var f=c.scales.filter(function(l){return 0===d.filter(function(n){return n.name===l.signals.data}).length});if(!a.parent||Gf(a)||0===f.length)return d;a=d.filter(function(l){return l.name===c.name})[0];var g=a.update;if(0<=g.indexOf("vlSelectionResolve"))a.update=
"{".concat(f.map(function(l){return"".concat(ca(l.field),": ").concat(l.signals.data)}).join(", "),"}");else{for(var h=$jscomp.makeIterator(f),k=h.next();!k.done;k=h.next())k=k.value,k="".concat(ca(k.field),": ").concat(k.signals.data),0>g.indexOf(k)&&(g="".concat(g.substring(0,g.length-1),", ").concat(k,"}"));a.update=g}return d.concat(f.map(function(l){return{name:l.signals.data}}))},signals:function(a,c,d){if(a.parent&&!Gf(a)){a={};c=$jscomp.makeIterator(c.scales);for(var f=c.next();!f.done;a=
{$jscomp$loop$prop$proj$442:a.$jscomp$loop$prop$proj$442},f=c.next())a.$jscomp$loop$prop$proj$442=f.value,f=d.filter(function(g){return function(h){return h.name===g.$jscomp$loop$prop$proj$442.signals.data}}(a))[0],f.push="outer",delete f.value,delete f.update}return d}},Bi={has:function(a){var c="global"===a.resolve&&a.bind&&vf(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;c&&!a&&G("Legend bindings are only supported for selections over an individual field or encoding channel.");
return c&&a},parse:function(a,c,d,f){f.on||delete c.events;f.clear||delete c.clear;if(f.on||f.clear)for(a=$jscomp.makeIterator(c.events),d=a.next();!d.done;d=a.next()){d=d.value;var g;d.filter=ya(null!==(g=d.filter)&&void 0!==g?g:[]);0>d.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&d.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}g=wf(c.bind)?c.bind.legend:"click";g=Y(g)?fd(g,"view"):ya(g);c.bind={legend:{merge:g}}},topLevelSignals:function(a,
c,d){a=c.name;for(var f=wf(c.bind)&&c.bind.legend,g=function(n){return function(m){m=aa(m);m.markname=n;return m}},h={},k=$jscomp.makeIterator(c.project.items),l=k.next();!l.done;h={$jscomp$loop$prop$sgName$444:h.$jscomp$loop$prop$sgName$444},l=k.next())l=l.value,l.hasLegend&&(l="".concat(oa(l.field),"_legend"),h.$jscomp$loop$prop$sgName$444="".concat(a,"_").concat(l),0===d.filter(function(n){return function(m){return m.name===n.$jscomp$loop$prop$sgName$444}}(h)).length&&(l=f.merge.map(g("".concat(l,
"_symbols"))).concat(f.merge.map(g("".concat(l,"_labels")))).concat(f.merge.map(g("".concat(l,"_entries")))),d.unshift(Object.assign({},{name:h.$jscomp$loop$prop$sgName$444},c.init?{}:{value:null},{on:[{events:l,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:f.merge,update:"!event.item || !datum ? null : ".concat(h.$jscomp$loop$prop$sgName$444),force:!0}]}))));return d},signals:function(a,c,d){var f=c.name,g=c.project;a=d.find(function(l){return l.name===f+"_tuple"});
var h=f+"_tuple_fields";g=g.items.filter(function(l){return l.hasLegend}).map(function(l){return oa("".concat(f,"_").concat(oa(l.field),"_legend"))});var k=g.map(function(l){return"".concat(l," !\x3d\x3d null")}).join(" \x26\x26 ");h="".concat(k," ? {fields: ").concat(h,", values: [").concat(g.join(", "),"]} : null");c.events&&0<g.length?a.on.push({events:g.map(function(l){return{signal:l}}),update:h}):0<g.length&&(a.update=h,delete a.value,delete a.on);a=d.find(function(l){return l.name===f+"_toggle"});
h=wf(c.bind)&&c.bind.legend;a&&(c.events?a.on.push(Object.assign({},a.on[0],{events:h})):a.on[0].events=h);return d}},Al=[{has:function(){return!0},parse:function(a,c,d){var f,g=c.name,h=null!==(f=c.project)&&void 0!==f?f:c.project=new pn,k={};f={};var l=new Set,n=function(z,C){var O="visual"===C?z.channel:z.field;z=oa("".concat(g,"_").concat(O));for(var L=1;l.has(z);L++)z=oa("".concat(g,"_").concat(O,"_").concat(L));l.add(z);O={};return O[C]=z,O};if(!d.fields&&!d.encodings){var m=a.config.selection[d.type];
if(d.init)for(var p=$jscomp.makeIterator(ya(d.init)),r=p.next();!r.done;r=p.next()){r=$jscomp.makeIterator(E(r.value));for(var u=r.next();!u.done;u=r.next())u=u.value,cn[u]?(d.encodings||(d.encodings=[])).push(u):"interval"===d.type?(G('Interval selections should be initialized using "x" and/or "y" keys.'),d.encodings=m.encodings):(d.fields||(d.fields=[])).push(u)}else d.encodings=m.encodings,d.fields=m.fields}m=$jscomp.makeIterator(null!==(w=d.fields)&&void 0!==w?w:[]);for(w=m.next();!w.done;w=m.next()){w=
w.value;var w;p={type:"E",field:w};p.signals=Object.assign({},n(p,"data"));h.items.push(p);h.hasField[w]=p}w=$jscomp.makeIterator(null!==(x=d.encodings)&&void 0!==x?x:[]);for(x=w.next();!x.done;x=w.next()){x=x.value;var x;(p=a.fieldDef(x))?(m=p.field,p.aggregate?G(sk(x,p.aggregate)):m?(p.timeUnit&&(m=a.vgField(x),r={timeUnit:p.timeUnit,as:m,field:p.field},f[ea(r)]=r),k[m]||(r="E","interval"===c.type?a.getScaleComponent(x).get("type")in qb&&(r="R"):p.bin&&(r="R-RE"),p={field:m,channel:x,type:r},p.signals=
Object.assign({},n(p,"data"),n(p,"visual")),h.items.push(k[m]=p),h.hasField[m]=h.hasChannel[x]=k[m])):G(Pg(x))):G(Pg(x))}d.init&&(a=function(z){return h.items.map(function(C){return void 0!==z[C.channel]?z[C.channel]:z[C.field]})},"interval"===d.type?c.init=a(d.init):(d=ya(d.init),c.init=d.map(a)));ja(f)||(h.timeUnit=new Ia(null,f))},signals:function(a,c,d){var f=c.name+"_tuple_fields";return 0<d.filter(function(g){return g.name===f}).length?d:d.concat({name:f,value:c.project.items.map(function(g){g=
Object.assign({},g);g=(delete g.signals,delete g.hasLegend,g);g.field=yb(g.field);return g})})}},lk,Fc,Bi,{has:function(a){return"interval"===a.type&&a.translate},signals:function(a,c,d){var f=c.name,g=Fc.has(c),h=f+"_translate_anchor",k=c.project.hasChannel,l=k.x;k=k.y;var n=fd(c.translate,"scope");g||(n=n.map(function(m){return m.between[0].markname=f+"_brush",m}));d.push({name:h,value:{},on:[{events:n.map(function(m){return m.between[0]}),update:"{x: x(unit), y: y(unit)"+(void 0!==l?", extent_x: "+
(g?Ff(a,"x"):"slice(".concat(l.signals.visual,")")):"")+(void 0!==k?", extent_y: "+(g?Ff(a,"y"):"slice(".concat(k.signals.visual,")")):"")+"}"}]},{name:f+"_translate_delta",value:{},on:[{events:n,update:"{x: ".concat(h,".x - x(unit), y: ").concat(h,".y - y(unit)}")}]});void 0!==l&&Ci(a,c,l,"width",d);void 0!==k&&Ci(a,c,k,"height",d);return d}},{has:function(a){return"interval"===a.type&&a.zoom},signals:function(a,c,d){var f=c.name,g=Fc.has(c),h=f+"_zoom_delta",k=c.project.hasChannel,l=k.x;k=k.y;var n=
ca(a.scaleName("x")),m=ca(a.scaleName("y")),p=fd(c.zoom,"scope");g||(p=p.map(function(r){return r.markname=f+"_brush",r}));d.push({name:f+"_zoom_anchor",on:[{events:p,update:g?"{"+[n?"x: invert(".concat(n,", x(unit))"):"",m?"y: invert(".concat(m,", y(unit))"):""].filter(function(r){return!!r}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:h,on:[{events:p,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==l&&Di(a,c,l,"width",d);void 0!==k&&Di(a,c,k,"height",d);
return d}},kk,jk,{has:function(a){return void 0!==a.clear&&!1!==a.clear},parse:function(a,c,d){d.clear&&(c.clear=Y(d.clear)?fd(d.clear,"scope"):d.clear)},topLevelSignals:function(a,c,d){if(kk.has(c)){a={};for(var f=$jscomp.makeIterator(c.project.items),g=f.next();!g.done;a={$jscomp$loop$prop$proj$437:a.$jscomp$loop$prop$proj$437},g=f.next())a.$jscomp$loop$prop$proj$437=g.value,g=d.findIndex(function(h){return function(k){return k.name===oa("".concat(c.name,"_").concat(h.$jscomp$loop$prop$proj$437.field))}}(a)),
-1!==g&&d[g].on.push({events:c.clear,update:"null"})}return d},signals:function(a,c,d){function f(k,l){-1!==k&&d[k].on&&d[k].on.push({events:c.clear,update:l})}if("interval"===c.type){a={};for(var g=$jscomp.makeIterator(c.project.items),h=g.next();!h.done;a={$jscomp$loop$prop$proj$440:a.$jscomp$loop$prop$proj$440},h=g.next())a.$jscomp$loop$prop$proj$440=h.value,h=d.findIndex(function(k){return function(l){return l.name===k.$jscomp$loop$prop$proj$440.signals.visual}}(a)),f(h,"[0, 0]"),-1===h&&(h=d.findIndex(function(k){return function(l){return l.name===
k.$jscomp$loop$prop$proj$440.signals.data}}(a)),f(h,"null"))}else a=d.findIndex(function(k){return k.name===c.name+"_tuple"}),f(a,"null"),lk.has(c)&&(a=d.findIndex(function(k){return k.name===c.name+"_toggle"}),f(a,"false"));return d}}],Il={single:{signals:Gi,modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"true":"{unit: ".concat(hc(a),"}"))}},multi:{signals:Gi,modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"null":"{unit: ".concat(hc(a),"}"))}},interval:{signals:function(a,
c){var d=c.name,f=d+"_tuple_fields",g=Fc.has(c),h=[],k=[],l=[];if(c.translate&&!g){var n="!event.item || event.item.mark.name !\x3d\x3d ".concat(ca(d+"_brush"));Fi(c,function(m,p){var r;p=ya(null!==(r=p.between[0].filter)&&void 0!==r?r:p.between[0].filter=[]);0>p.indexOf(n)&&p.push(n);return m})}c.project.items.forEach(function(m,p){var r=m.channel;if("x"!==r&&"y"!==r)G("Interval selections only support x and y encoding channels.");else{p=Hl(a,c,m,c.init?c.init[p]:null);var u=m.signals.data;m=m.signals.visual;
var w=ca(a.scaleName(r)),x=a.getScaleComponent(r).get("type")in qb?"+":"";h.push.apply(h,$jscomp.arrayFromIterable(p));k.push(u);l.push({scaleName:a.scaleName(r),expr:"(!isArray(".concat(u,") || ")+"(".concat(x,"invert(").concat(w,", ").concat(m,")[0] \x3d\x3d\x3d ").concat(x).concat(u,"[0] \x26\x26 ")+"".concat(x,"invert(").concat(w,", ").concat(m,")[1] \x3d\x3d\x3d ").concat(x).concat(u,"[1]))")})}});g||h.push({name:d+"_scale_trigger",value:{},on:[{events:l.map(function(m){return{scale:m.scaleName}}),
update:l.map(function(m){return m.expr}).join(" \x26\x26 ")+" ? ".concat(d+"_scale_trigger"," : {}")}]});g=c.init;f="unit: ".concat(hc(a),", fields: ").concat(f,", values");return h.concat(Object.assign({},{name:d+"_tuple"},g?{init:"{".concat(f,": ").concat(id(g),"}")}:{},{on:[{events:[{signal:k.join(" || ")}],update:k.join(" \x26\x26 ")+" ? {".concat(f,": [").concat(k,"]} : null")}]}))},modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"true":"{unit: ".concat(hc(a),"}"))},marks:function(a,
c,d){var f=c.name,g=c.project.hasChannel,h=g.x,k=g.y,l=h&&h.signals.visual,n=k&&k.signals.visual,m="data(".concat(ca(c.name+"_store"),")");if(Fc.has(c))return d;g={x:void 0!==h?{signal:"".concat(l,"[0]")}:{value:0},y:void 0!==k?{signal:"".concat(n,"[0]")}:{value:0},x2:void 0!==h?{signal:"".concat(l,"[1]")}:{field:{group:"width"}},y2:void 0!==k?{signal:"".concat(n,"[1]")}:{field:{group:"height"}}};if("global"===c.resolve)for(var p=$jscomp.makeIterator(E(g)),r=p.next();!r.done;r=p.next())r=r.value,
g[r]=[Object.assign({},{test:"".concat(m,".length \x26\x26 ").concat(m,"[0].unit \x3d\x3d\x3d ").concat(hc(a))},g[r]),{value:0}];p=c.mark;m=Object.assign({},p);a=p.fill;c=p.fillOpacity;p=p.cursor;var u=(delete m.fill,delete m.fillOpacity,delete m.cursor,m);m=E(u).reduce(function(w,x){w[x]=[{test:[void 0!==h&&"".concat(l,"[0] !\x3d\x3d ").concat(l,"[1]"),void 0!==k&&"".concat(n,"[0] !\x3d\x3d ").concat(n,"[1]")].filter(function(z){return z}).join(" \x26\x26 "),value:u[x]},{value:null}];return w},{});
return[{name:f+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:c}},update:g}}].concat($jscomp.arrayFromIterable(d),[{name:f+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},p?{cursor:{value:p}}:{},{fill:{value:"transparent"}}),update:Object.assign({},g,m)}}])}}};Eb.prototype.visit=function(a){var c;if(a(this))return 1;var d=Jl(this);var f=0;for(c=d.length;f<c;++f)if(d[f].visit(a))return 1};var S,A,Ra,ia,Kl=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ll=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Nl={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Pl={"if":1},Fb=function(a,c,d){a=P.call(this,a)||this;a.model=
c;a.filter=d;V(a,"expr",void 0);V(a,"_dependentFields",void 0);a.expr=je(a.model,a.filter,a);a._dependentFields=Ri(a.expr);return a};$jscomp.inherits(Fb,P);Fb.prototype.clone=function(){return new Fb(null,this.model,aa(this.filter))};Fb.prototype.dependentFields=function(){return this._dependentFields};Fb.prototype.producedFields=function(){return new Set};Fb.prototype.assemble=function(){return{type:"filter",expr:this.expr}};Fb.prototype.hash=function(){return"Filter ".concat(this.expr)};var Vj=
{scale:function(a){return a.model.scaleName(a.channel)},format:function(a){var c=a.fieldOrDatumDef,d=a.axis;return nh(c,c.type,d.format,d.formatType,a.config,!0)},formatType:function(a){return oh(a.axis.formatType,a.fieldOrDatumDef,a.scaleType)},grid:function(a){var c=a.fieldOrDatumDef,d=a.axis;a=a.scaleType;if(K(c)&&Va(c.bin))return!1;var f;return null!==(f=d.grid)&&void 0!==f?f:!(a in cb)&&K(c)&&!ua(null===c||void 0===c?void 0:c.bin)},gridScale:function(a){var c=a.model;a="x"===a.channel?"y":"x";
c=c.getScaleComponent(a)?c.scaleName(a):void 0;return c},labelAlign:function(a){var c=a.labelAngle,d=a.orient,f=a.channel;return a.axis.labelAlign||Yi(c,d,f)},labelAngle:function(a){return a.labelAngle},labelBaseline:function(a){var c=a.labelAngle,d=a.orient,f=a.channel;return a.axis.labelBaseline||Xi(c,d,f)},labelFlush:function(a){var c=a.fieldOrDatumDef,d=a.channel,f;a=null!==(f=a.axis.labelFlush)&&void 0!==f?f:"x"===d&&R(["quantitative","temporal"],c.type)?!0:void 0;return a},labelOverlap:function(a){var c=
a.fieldOrDatumDef,d=a.scaleType,f;null!==(f=a.axis.labelOverlap)&&void 0!==f?d=f:(a=c.type,f=K(c)&&!!c.timeUnit,c=K(c)?c.sort:void 0,d=f&&!ma(c)||"nominal"!==a&&"ordinal"!==a?"log"===d||"symlog"===d?"greedy":!0:void 0);return d},orient:function(a){return a.orient},tickCount:function(a){var c=a.channel,d=a.model,f=a.axis,g=a.fieldOrDatumDef;a=a.scaleType;var h;d=(c="x"===c?"width":"y"===c?"height":void 0)?d.getSizeSignalRef(c):void 0;if(null!==(h=f.tickCount)&&void 0!==h)f=h;else a:if(f.values||a in
cb||"log"===a)f=void 0;else{if(K(g)){var k;if(ua(g.bin)){f={signal:"ceil(".concat(d.signal,"/10)")};break a}if(g.timeUnit&&R(["month","hours","day","quarter"],null===(k=Wa(g.timeUnit))||void 0===k?void 0:k.unit)){f=void 0;break a}}f={signal:"ceil(".concat(d.signal,"/40)")}}return f},title:function(a){var c=a.axis,d=a.model;a=a.channel;if(void 0!==c.title)return c.title;c=Zi(d,a);if(void 0!==c)return c;c=d.typedFieldDef(a);d=d.fieldDef("x"===a?"x2":"y2");return Dh(c?[rh(c)]:[],K(d)?[rh(d)]:[])},values:function(a){var c=
a.fieldOrDatumDef;a=a.axis.values;c=U(a)?wh(c,a):W(a)?a:void 0;return c},zindex:function(a){var c=a.fieldOrDatumDef,d=a.mark,f;a=null!==(f=a.axis.zindex)&&void 0!==f?f:"rect"===d&&kf(c)?1:0;return a}},vb=function(a,c){a=P.call(this,a)||this;a.transform=c;V(a,"_dependentFields",void 0);a._dependentFields=Ri(a.transform.calculate);return a};$jscomp.inherits(vb,P);vb.prototype.clone=function(){return new vb(null,aa(this.transform))};vb.parseAllForSortIndex=function(a,c){c.forEachFieldDef(function(d,
f){if(Yd(d)&&qh(d.sort)){var g=d.field,h=d.timeUnit,k=d.sort;k=k.map(function(l,n){return"".concat(dh({field:g,timeUnit:h,equal:l})," ? ").concat(n," : ")}).join("")+k.length;a=new vb(a,{calculate:k,as:jd(d,f,{forAs:!0})})}});return a};vb.prototype.producedFields=function(){return new Set([this.transform.as])};vb.prototype.dependentFields=function(){return this._dependentFields};vb.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}};vb.prototype.hash=
function(){return"Calculate ".concat(ea(this.transform))};var Fg=["row","column"],Tf=["header","footer"],qn={column:{start:0,end:1},row:{start:1,end:0}},rn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,
labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,
titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),oj=E(rn),nj=function(){return Ca.apply(this,arguments)||this};$jscomp.inherits(nj,Ca);var qj={symbols:function(a,c){var d=c.fieldOrDatumDef,f=c.model,g=c.channel,h=c.legendCmpt,k,l,n,m;if("symbol"===c.legendType){var p=f.markDef,r=f.encoding;c=f.config;var u=f.mark,w=p.filled&&"trail"!==u;u=Object.assign({},Kk({},f,
kn),vi(f,{filled:w}));var x=null!==(k=h.get("symbolOpacity"))&&void 0!==k?k:c.legend.symbolOpacity;k=null!==(l=h.get("symbolFillColor"))&&void 0!==l?l:c.legend.symbolFillColor;l=null!==(n=h.get("symbolStrokeColor"))&&void 0!==n?n:c.legend.symbolStrokeColor;n=void 0===x?null!==(m=hj(r.opacity))&&void 0!==m?m:p.opacity:void 0;if(u.fill)if("fill"===g||w&&"color"===g)delete u.fill;else if(u.fill.field)if(k)delete u.fill;else{var z;u.fill=za(null!==(z=c.legend.symbolBaseFillColor)&&void 0!==z?z:"black");
u.fillOpacity=za(null!==n&&void 0!==n?n:1)}else if(U(u.fill)){var C,O,L;if(m=null!==(C=null!==(O=Xf(null!==(L=r.fill)&&void 0!==L?L:r.color))&&void 0!==O?O:p.fill)&&void 0!==C?C:w&&p.color)u.fill=za(m)}u.stroke&&("stroke"===g||!w&&"color"===g?delete u.stroke:u.stroke.field||l?delete u.stroke:U(u.stroke)&&(C=ta(Xf(r.stroke||r.color),p.stroke,w?p.color:void 0))&&(u.stroke={value:C}));"opacity"!==g&&((d=K(d)&&jj(f,h,d))?u.opacity=[Object.assign({},{test:d},za(null!==n&&void 0!==n?n:1)),za(c.legend.unselectedOpacity)]:
n&&(u.opacity=za(n)));u=Object.assign({},u,a);return ja(u)?void 0:u}},gradient:function(a,c){var d;if("gradient"===c.legendType){var f=c.model,g=f.config,h=f.markDef,k=f.encoding;f={};if(c=void 0===(null!==(d=c.legendCmpt.get("gradientOpacity"))&&void 0!==d?d:g.legend.gradientOpacity)?hj(k.opacity)||h.opacity:void 0)f.opacity=za(c);f=Object.assign({},f,a);return ja(f)?void 0:f}},labels:function(a,c){var d=c.fieldOrDatumDef,f=c.model,g=c.legendCmpt,h=f.legend(c.channel)||{};c=f.config;f=(f=K(d)?jj(f,
g,d):void 0)?[{test:f,value:1},{value:c.legend.unselectedOpacity}]:void 0;g=h.format;h=h.formatType;d=Pc(h)?hf({fieldOrDatumDef:d,field:"datum.value",format:g,formatType:h,config:c}):void 0;a=Object.assign({},f?{opacity:f}:{},d?{text:d}:{},a);return ja(a)?void 0:a},entries:function(a,c){c=c.legendCmpt.get("selections");return(null===c||void 0===c?0:c.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},pj={direction:function(a){return a.direction},format:function(a){var c=a.fieldOrDatumDef,
d=a.legend;return nh(c,c.type,d.format,d.formatType,a.config,!1)},formatType:function(a){return oh(a.legend.formatType,a.fieldOrDatumDef,a.scaleType)},gradientLength:function(a){var c,d,f=a.legendConfig;if(null!==(c=null!==(d=a.legend.gradientLength)&&void 0!==d?d:f.gradientLength)&&void 0!==c)a=c;else{c=a.model;d=a.direction;f=a.orient;var g=a.legendConfig,h=g.gradientHorizontalMaxLength,k=g.gradientHorizontalMinLength,l=g.gradientVerticalMaxLength;g=g.gradientVerticalMinLength;a=a.scaleType in Ab?
"horizontal"===d?"top"===f||"bottom"===f?kj(c,"width",k,h):k:kj(c,"height",g,l):void 0}return a},labelOverlap:function(a){var c=a.legendConfig,d=a.scaleType,f,g;a=null!==(f=null!==(g=a.legend.labelOverlap)&&void 0!==g?g:c.labelOverlap)&&void 0!==f?f:R(["quantile","threshold","log","symlog"],d)?"greedy":void 0;return a},symbolType:function(a){var c=a.markDef,d=a.channel,f=a.encoding,g;if(null!==(g=a.legend.symbolType)&&void 0!==g)var h=g;else a:{a=c.type;c=c.shape;if("shape"!==d&&(d=null!==(h=Xf(f.shape))&&
void 0!==h?h:c)){h=d;break a}switch(a){case "bar":case "rect":case "image":case "square":h="square";break a;case "line":case "trail":case "rule":h="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":h="circle";break a}h=void 0}return h},title:function(a){return dd(a.fieldOrDatumDef,a.config,{allowDisabling:!0})},type:function(a){var c=a.legendType,d=a.scaleType;if(ad(a.channel)&&d in Ab){if("gradient"===c)return}else if("symbol"===c)return;return c},
values:function(a){var c=a.fieldOrDatumDef;a=a.legend.values;c=U(a)?wh(c,a):W(a)?a:void 0;return c}},hm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),we=function(a,c,d,f){a=Ca.call(this,Object.assign({},c),{name:a})||this;a.specifiedProjection=c;a.size=d;a.data=f;V(a,"merged",!1);return a};$jscomp.inherits(we,Ca);$jscomp.global.Object.defineProperties(we.prototype,{isFit:{configurable:!0,enumerable:!0,
get:function(){return!!this.data}}});var Ka=function(a,c){a=P.call(this,a)||this;a.bins=c;return a};$jscomp.inherits(Ka,P);Ka.prototype.clone=function(){return new Ka(null,aa(this.bins))};Ka.makeFromEncoding=function(a,c){var d=c.reduceFieldDef(function(f,g,h){if(rb(g)&&ua(g.bin)){var k=xj(g,g.bin,c),l=k.key;f[l]=Object.assign({},k.binComponent,f[l],im(c,g,h,c.config))}return f},{});return ja(d)?null:new Ka(a,d)};Ka.makeFromTransform=function(a,c,d){c=xj(c,c.bin,d);d={};return new Ka(a,(d[c.key]=
c.binComponent,d))};Ka.prototype.merge=function(a,c){for(var d=$jscomp.makeIterator(E(a.bins)),f=d.next();!f.done;f=d.next())f=f.value,f in this.bins?(c(a.bins[f].signal,this.bins[f].signal),this.bins[f].as=pb([].concat($jscomp.arrayFromIterable(this.bins[f].as),$jscomp.arrayFromIterable(a.bins[f].as)),ea)):this.bins[f]=a.bins[f];c=$jscomp.makeIterator(a.children);for(d=c.next();!d.done;d=c.next())d=d.value,a.removeChild(d),d.parent=this;a.remove()};Ka.prototype.producedFields=function(){return new Set(ic(this.bins).map(function(a){return a.as}).flat(2))};
Ka.prototype.dependentFields=function(){return new Set(ic(this.bins).map(function(a){return a.field}))};Ka.prototype.hash=function(){return"Bin ".concat(ea(this.bins))};Ka.prototype.assemble=function(){return ic(this.bins).flatMap(function(a){var c=[],d=$jscomp.makeIterator(a.as),f=d.next().value;d=$jscomp.arrayFromIterator(d);var g=a.bin,h=Object.assign({},g);g=g.extent;h=(delete h.extent,h);h=Object.assign({},{type:"bin",field:yb(a.field),as:f,signal:a.signal},Sd(g)?{extent:null}:{extent:g},a.span?
{span:{signal:"span(".concat(a.span,")")}}:{},h);!g&&a.extentSignal&&(c.push({type:"extent",field:yb(a.field),signal:a.extentSignal}),h.extent={signal:a.extentSignal});c.push(h);d=$jscomp.makeIterator(d);for(g=d.next();!g.done;g=d.next())for(g=g.value,h=0;2>h;h++)c.push({type:"formula",expr:J({field:f[h]},{expr:"datum"}),as:g[h]});a.formula&&c.push({type:"formula",expr:a.formula,as:a.formulaAs});return c})};var Ea=function(a,c,d){a=P.call(this,a)||this;a.dimensions=c;a.measures=d;return a};$jscomp.inherits(Ea,
P);Ea.prototype.clone=function(){return new Ea(null,new Set(this.dimensions),aa(this.measures))};Ea.makeFromEncoding=function(a,c){var d=!1;c.forEachFieldDef(function(h){h.aggregate&&(d=!0)});var f={},g=new Set;if(!d)return null;c.forEachFieldDef(function(h,k){var l=h.aggregate,n=h.field;if(l)if("count"===l){var m;f["*"]=null!==(m=f["*"])&&void 0!==m?m:{};f["*"].count=new Set([J(h,{forAs:!0})])}else{if(M(l)||H(l)){var p;h=M(l)?"argmin":"argmax";l=l[h];f[l]=null!==(p=f[l])&&void 0!==p?p:{};f[l][h]=
new Set([J({op:h,field:l},{forAs:!0})])}else{var r;f[n]=null!==(r=f[n])&&void 0!==r?r:{};f[n][l]=new Set([J(h,{forAs:!0})])}if(cc[k]&&"unaggregated"===c.scaleDomain(k)){var u;f[n]=null!==(u=f[n])&&void 0!==u?u:{};f[n].min=new Set([J({field:n,aggregate:"min"},{forAs:!0})]);f[n].max=new Set([J({field:n,aggregate:"max"},{forAs:!0})])}}else n=xa(c)?c.encoding[Mb(k)]:void 0,rb(h)&&xa(c)&&jf(k,h,n,c.stack,c.markDef,c.config)?(g.add(J(h,{})),g.add(J(h,{suffix:"end"})),h.bin&&yd(h,k)&&g.add(J(h,{binSuffix:"range"}))):
k in Bg?(k=Oa(k),g.add(c.getName(k))):g.add(J(h))});return 0===g.size+E(f).length?null:new Ea(a,g,f)};Ea.makeFromTransform=function(a,c){for(var d=new Set,f={},g=$jscomp.makeIterator(c.aggregate),h=g.next();!h.done;h=g.next()){var k=h=h.value,l=k.op,n=k.field;k=k.as;if(l)if("count"===l){var m;f["*"]=null!==(m=f["*"])&&void 0!==m?m:{};f["*"].count=new Set([k?k:J(h,{forAs:!0})])}else{var p;f[n]=null!==(p=f[n])&&void 0!==p?p:{};f[n][l]=new Set([k?k:J(h,{forAs:!0})])}}c=$jscomp.makeIterator(null!==(r=
c.groupby)&&void 0!==r?r:[]);for(h=c.next();!h.done;h=c.next()){var r;d.add(h.value)}return 0===d.size+E(f).length?null:new Ea(a,d,f)};Ea.prototype.merge=function(a){if(Yc(this.dimensions,a.dimensions)){var c=this.measures;a=a.measures;for(var d=$jscomp.makeIterator(E(a)),f=d.next();!f.done;f=d.next()){f=f.value;for(var g=a[f],h=$jscomp.makeIterator(E(g)),k=h.next();!k.done;k=h.next())if(k=k.value,f in c){var l;c[f][k]=new Set([].concat($jscomp.arrayFromIterable(null!==(l=c[f][k])&&void 0!==l?l:[]),
$jscomp.arrayFromIterable(g[k])))}else{var n={};c[f]=(n[k]=g[k],n)}}return!0}uk("different dimensions, cannot merge");return!1};Ea.prototype.addDimensions=function(a){a.forEach(this.dimensions.add,this.dimensions)};Ea.prototype.dependentFields=function(){return new Set([].concat($jscomp.arrayFromIterable(this.dimensions),$jscomp.arrayFromIterable(E(this.measures))))};Ea.prototype.producedFields=function(){for(var a=new Set,c=$jscomp.makeIterator(E(this.measures)),d=c.next();!d.done;d=c.next()){d=
d.value;for(var f=$jscomp.makeIterator(E(this.measures[d])),g=f.next();!g.done;g=f.next()){g=g.value;var h=this.measures[d][g];0===h.size?a.add("".concat(g,"_").concat(d)):h.forEach(a.add,a)}}return a};Ea.prototype.hash=function(){return"Aggregate ".concat(ea({dimensions:this.dimensions,measures:this.measures}))};Ea.prototype.assemble=function(){for(var a=[],c=[],d=[],f=$jscomp.makeIterator(E(this.measures)),g=f.next();!g.done;g=f.next()){g=g.value;for(var h=$jscomp.makeIterator(E(this.measures[g])),
k=h.next();!k.done;k=h.next()){k=k.value;for(var l=$jscomp.makeIterator(this.measures[g][k]),n=l.next();!n.done;n=l.next())d.push(n.value),a.push(k),c.push("*"===g?null:yb(g))}}return{type:"aggregate",groupby:[].concat($jscomp.arrayFromIterable(this.dimensions)).map(yb),ops:a,fields:c,as:d}};$jscomp.global.Object.defineProperties(Ea.prototype,{groupBy:{configurable:!0,enumerable:!0,get:function(){return this.dimensions}}});var Ta=function(a,c,d,f){a=P.call(this,a)||this;a.model=c;a.name=d;a.data=
f;V(a,"column",void 0);V(a,"row",void 0);V(a,"facet",void 0);V(a,"childModel",void 0);d=$jscomp.makeIterator(ub);for(f=d.next();!f.done;f=d.next()){f=f.value;var g=c.facet[f];if(g){var h=g,k=h.bin;h=h.sort;a[f]=Object.assign({},{name:c.getName("".concat(f,"_domain")),fields:[J(g)].concat($jscomp.arrayFromIterable(ua(k)?[J(g,{binSuffix:"end"})]:[]))},Pb(h)?{sortField:h}:U(h)?{sortIndexField:jd(g,f)}:{})}}a.childModel=c.child;return a};$jscomp.inherits(Ta,P);Ta.prototype.hash=function(){for(var a="Facet",
c=$jscomp.makeIterator(ub),d=c.next();!d.done;d=c.next())d=d.value,this[d]&&(a+=" ".concat(d.charAt(0),":").concat(ea(this[d])));return a};Ta.prototype.dependentFields=function(){for(var a=new Set(this.fields),c=$jscomp.makeIterator(ub),d=c.next();!d.done;d=c.next())d=d.value,this[d]&&(this[d].sortField&&a.add(this[d].sortField.field),this[d].sortIndexField&&a.add(this[d].sortIndexField));return a};Ta.prototype.producedFields=function(){return new Set};Ta.prototype.getSource=function(){return this.name};
Ta.prototype.getChildIndependentFieldsWithStep=function(){for(var a={},c=$jscomp.makeIterator(tb),d=c.next();!d.done;d=c.next()){d=d.value;var f=this.childModel.component.scales[d];if(f&&!f.merged){var g=f.get("type");f=f.get("range");g in cb&&yc(f)&&(g=ze(this.childModel,d),(g=ng(g))?a[d]=g:G(Qe(d)))}}return a};Ta.prototype.assembleRowColumnHeaderData=function(a,c,d){var f={row:"y",column:"x"}[a],g=[],h=[],k=[];d&&d[f]&&(c?(g.push("distinct_".concat(d[f])),h.push("max")):(g.push(d[f]),h.push("distinct")),
k.push("distinct_".concat(d[f])));f=this[a];d=f.sortField;f=f.sortIndexField;d?(f=void 0===d.op?"min":d.op,g.push(d.field),h.push(f),k.push(J(d,{forAs:!0}))):f&&(g.push(f),h.push("max"),k.push(f));return{name:this[a].name,source:null!==c&&void 0!==c?c:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},g.length?{fields:g,ops:h,as:k}:{})]}};Ta.prototype.assembleFacetHeaderData=function(a){for(var c=this.model.layout.columns,d=this.model.component.layoutHeaders,f=[],g={},
h=$jscomp.makeIterator(Fg),k=h.next();!k.done;k=h.next()){k=k.value;for(var l=$jscomp.makeIterator(Tf),n=l.next();!n.done;n=l.next()){n=n.value;var m;n=null!==(m=d[k]&&d[k][n])&&void 0!==m?m:[];n=$jscomp.makeIterator(n);for(var p=n.next();!p.done;p=n.next()){var r;if(0<(null===(r=p.value.axes)||void 0===r?void 0:r.length)){g[k]=!0;break}}}g[k]&&(l='length(data("'.concat(this.facet.name,'"))'),l="row"===k?c?{signal:"ceil(".concat(l," / ").concat(c,")")}:1:c?{signal:"min(".concat(l,", ").concat(c,")")}:
{signal:l},f.push({name:"".concat(this.facet.name,"_").concat(k),transform:[{type:"sequence",start:0,stop:l}]}))}c=g.column;(g.row||c)&&f.unshift(this.assembleRowColumnHeaderData("facet",null,a));return f};Ta.prototype.assemble=function(){var a=[],c=null,d=this.getChildIndependentFieldsWithStep(),f=this.row,g=this.facet;if(this.column&&f&&(d.x||d.y)){var h,k;c="cross_".concat(this.column.name,"_").concat(this.row.name);f=[].concat(null!==(h=d.x)&&void 0!==h?h:[],null!==(k=d.y)&&void 0!==k?k:[]);h=
f.map(function(){return"distinct"});a.push({name:c,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:f,ops:h}]})}h=$jscomp.makeIterator(["column","row"]);for(k=h.next();!k.done;k=h.next())k=k.value,this[k]&&a.push(this.assembleRowColumnHeaderData(k,c,d));g&&(c=this.assembleFacetHeaderData(d))&&a.push.apply(a,$jscomp.arrayFromIterable(c));return a};$jscomp.global.Object.defineProperties(Ta.prototype,{fields:{configurable:!0,enumerable:!0,get:function(){for(var a=[],c=$jscomp.makeIterator(ub),
d=c.next();!d.done;d=c.next()){d=d.value;var f;(null===(f=this[d])||void 0===f?0:f.fields)&&a.push.apply(a,$jscomp.arrayFromIterable(this[d].fields))}return a}}});var ra=function(a,c){a=P.call(this,a)||this;V(a,"_parse",void 0);a._parse=c;return a};$jscomp.inherits(ra,P);ra.prototype.clone=function(){return new ra(null,aa(this._parse))};ra.prototype.hash=function(){return"Parse ".concat(ea(this._parse))};ra.makeExplicit=function(a,c,d){var f={};c=c.data;!Tc(c)&&c&&c.format&&c.format.parse&&(f=c.format.parse);
return this.makeWithAncestors(a,f,{},d)};ra.makeWithAncestors=function(a,c,d,f){for(var g=$jscomp.makeIterator(E(d)),h=g.next();!h.done;h=g.next()){h=h.value;var k=f.getWithExplicit(h);void 0!==k.value&&(k.explicit||k.value===d[h]||"derived"===k.value||"flatten"===d[h]?delete d[h]:G(Sg(h,d[h],k.value)))}g=$jscomp.makeIterator(E(c));for(h=g.next();!h.done;h=g.next())h=h.value,k=f.get(h),void 0!==k&&(k===c[h]?delete c[h]:G(Sg(h,c[h],k)));c=new Ca(c,d);f.copyAll(c);d={};g=$jscomp.makeIterator(E(c.combine()));
for(h=g.next();!h.done;h=g.next())h=h.value,k=c.get(h),null!==k&&(d[h]=k);return 0===E(d).length||f.parseNothing?null:new ra(a,d)};ra.prototype.merge=function(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()};ra.prototype.assembleFormatParse=function(){for(var a={},c=$jscomp.makeIterator(E(this._parse)),d=c.next();!d.done;d=c.next()){d=d.value;var f=this._parse[d];1===zb(d)&&(a[d]=f)}return a};ra.prototype.producedFields=function(){return new Set(E(this._parse))};ra.prototype.dependentFields=
function(){return new Set(E(this._parse))};ra.prototype.assembleTransforms=function(a){var c=this;a=void 0===a?!1:a;return E(this._parse).filter(function(d){return a?1<zb(d):!0}).map(function(d){var f=jm(d,c._parse[d]);return f?{type:"formula",expr:f,as:pd(d)}:null}).filter(function(d){return null!==d})};$jscomp.global.Object.defineProperties(ra.prototype,{parse:{configurable:!0,enumerable:!0,get:function(){return this._parse}}});var jb=function(a){return P.call(this,a)||this};$jscomp.inherits(jb,
P);jb.prototype.clone=function(){return new jb(null)};jb.prototype.dependentFields=function(){return new Set};jb.prototype.producedFields=function(){return new Set(["_vgsid_"])};jb.prototype.hash=function(){return"Identifier"};jb.prototype.assemble=function(){return{type:"identifier",as:"_vgsid_"}};var Tb=function(a,c){a=P.call(this,a)||this;a.params=c;return a};$jscomp.inherits(Tb,P);Tb.prototype.clone=function(){return new Tb(null,this.params)};Tb.prototype.dependentFields=function(){return new Set};
Tb.prototype.producedFields=function(){};Tb.prototype.hash=function(){return"Graticule ".concat(ea(this.params))};Tb.prototype.assemble=function(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)};var Ub=function(a,c){a=P.call(this,a)||this;a.params=c;return a};$jscomp.inherits(Ub,P);Ub.prototype.clone=function(){return new Ub(null,this.params)};Ub.prototype.dependentFields=function(){return new Set};Ub.prototype.producedFields=function(){var a;return new Set([null!==(a=
this.params.as)&&void 0!==a?a:"data"])};Ub.prototype.hash=function(){return"Hash ".concat(ea(this.params))};Ub.prototype.assemble=function(){return Object.assign({},{type:"sequence"},this.params)};var Ya=function(a){var c;var d=P.call(this,null)||this;V(d,"_data",void 0);V(d,"_name",void 0);V(d,"_generator",void 0);a=null!==(c=a)&&void 0!==c?c:{name:"source"};var f;Tc(a)||(f=a.format?Object.assign({},Pa(a.format,["parse"])):{});if("values"in a)d._data={values:a.values};else if("url"in a)d._data={url:a.url},
f.type||(c=/(?:\.([^.]+))?$/.exec(a.url)[1],R(["json","csv","tsv","dsv","topojson"],c)||(c="json"),f.type=c);else if("sphere"in a)d._data={values:[{type:"Sphere"}]};else if(ni(a)||Tc(a))d._data={};d._generator=Tc(a);a.name&&(d._name=a.name);f&&!ja(f)&&(d._data.format=f);return d};$jscomp.inherits(Ya,P);Ya.prototype.dependentFields=function(){return new Set};Ya.prototype.producedFields=function(){};Ya.prototype.hasName=function(){return!!this._name};Ya.prototype.remove=function(){throw Error("Source nodes are roots and cannot be removed.");
};Ya.prototype.hash=function(){throw Error("Cannot hash sources");};Ya.prototype.assemble=function(){return Object.assign({},{name:this._name},this._data,{transform:[]})};$jscomp.global.Object.defineProperties(Ya.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this._data}},isGenerator:{configurable:!0,enumerable:!0,get:function(){return this._generator}},dataName:{configurable:!0,enumerable:!0,get:function(){return this._name},set:function(a){this._name=a}},parent:{configurable:!0,
enumerable:!0,set:function(a){throw Error("Source nodes have to be roots.");}}});var Le=new WeakMap,Hc=function(){Le.set(this,{writable:!0,value:void 0});Lg(this,Le,!1)};Hc.prototype.setModified=function(){Lg(this,Le,!0)};$jscomp.global.Object.defineProperties(Hc.prototype,{modifiedFlag:{configurable:!0,enumerable:!0,get:function(){var a=Le.get(this);if(!a)throw new TypeError("attempted to get private field on non-instance");a=a.get?a.get.call(this):a.value;return a}}});var Ma=function(){return Hc.apply(this,
arguments)||this};$jscomp.inherits(Ma,Hc);Ma.prototype.getNodeDepths=function(a,c,d){d.set(a,c);a=$jscomp.makeIterator(a.children);for(var f=a.next();!f.done;f=a.next())this.getNodeDepths(f.value,c+1,d);return d};Ma.prototype.optimize=function(a){a=this.getNodeDepths(a,0,new Map);a=[].concat($jscomp.arrayFromIterable(a.entries())).sort(function(d,f){return f[1]-d[1]});a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())this.run(c.value[0]);return this.modifiedFlag};var Ic=function(){return Hc.apply(this,
arguments)||this};$jscomp.inherits(Ic,Hc);Ic.prototype.optimize=function(a){this.run(a);a=$jscomp.makeIterator(a.children);for(var c=a.next();!c.done;c=a.next())this.optimize(c.value);return this.modifiedFlag};var ye=function(){return Ic.apply(this,arguments)||this};$jscomp.inherits(ye,Ic);ye.prototype.mergeNodes=function(a,c){var d=c.shift();c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next())f=f.value,a.removeChild(f),f.parent=d,f.remove()};ye.prototype.run=function(a){for(var c=a.children.map(function(g){return g.hash()}),
d={},f=0;f<c.length;f++)void 0===d[c[f]]?d[c[f]]=[a.children[f]]:d[c[f]].push(a.children[f]);c=$jscomp.makeIterator(E(d));for(f=c.next();!f.done;f=c.next())f=f.value,1<d[f].length&&(this.setModified(),this.mergeNodes(a,d[f]))};var cg=function(a){var c=Ic.call(this)||this;V(c,"requiresSelectionId",void 0);c.requiresSelectionId=a&&If(a);return c};$jscomp.inherits(cg,Ic);cg.prototype.run=function(a){!(a instanceof jb)||this.requiresSelectionId&&(Zf(a.parent)||a.parent instanceof Ea||a.parent instanceof
ra)||(this.setModified(),a.remove())};var xe=function(){return Hc.apply(this,arguments)||this};$jscomp.inherits(xe,Hc);xe.prototype.optimize=function(a){this.run(a,new Set);return this.modifiedFlag};xe.prototype.run=function(a,c){var d=new Set;a instanceof Ia&&(d=a.producedFields(),qd(d,c)&&(this.setModified(),a.removeFormulas(c),0===a.producedFields.length&&a.remove()));a=$jscomp.makeIterator(a.children);for(var f=a.next();!f.done;f=a.next())this.run(f.value,new Set([].concat($jscomp.arrayFromIterable(c),
$jscomp.arrayFromIterable(d))))};var bg=function(){return Ic.call(this)||this};$jscomp.inherits(bg,Ic);bg.prototype.run=function(a){a instanceof Ba&&!a.isRequired()&&(this.setModified(),a.remove())};var eg=function(){return Ma.apply(this,arguments)||this};$jscomp.inherits(eg,Ma);eg.prototype.run=function(a){if(!(Zf(a)||1<a.numChildren()))for(var c=$jscomp.makeIterator(a.children),d=c.next();!d.done;d=c.next())d=d.value,d instanceof ra&&(a instanceof ra?(this.setModified(),a.merge(d)):sd(a.producedFields(),
d.dependentFields())||(this.setModified(),d.swapWithParent()))};var gg=function(){return Ma.apply(this,arguments)||this};$jscomp.inherits(gg,Ma);gg.prototype.run=function(a){var c=[].concat($jscomp.arrayFromIterable(a.children)),d=a.children.filter(function(n){return n instanceof ra});if(1<a.numChildren()&&1<=d.length){var f={},g=new Set;d=$jscomp.makeIterator(d);for(var h=d.next();!h.done;h=d.next()){h=h.value.parse;for(var k=$jscomp.makeIterator(E(h)),l=k.next();!l.done;l=k.next())l=l.value,l in
f?f[l]!==h[l]&&g.add(l):f[l]=h[l]}g=$jscomp.makeIterator(g);for(d=g.next();!d.done;d=g.next())delete f[d.value];if(!ja(f))for(this.setModified(),g=new ra(a,f),c=$jscomp.makeIterator(c),d=c.next();!d.done;d=c.next()){d=d.value;if(d instanceof ra)for(h=$jscomp.makeIterator(E(f)),k=h.next();!k.done;k=h.next())delete d.parse[k.value];a.removeChild(d);d.parent=g;d instanceof ra&&0===E(d.parse).length&&d.remove()}}};var dg=function(){return Ma.apply(this,arguments)||this};$jscomp.inherits(dg,Ma);dg.prototype.run=
function(a){a instanceof Ba||0<a.numChildren()||a instanceof Ta||a instanceof Ya||(this.setModified(),a.remove())};var ig=function(){return Ma.apply(this,arguments)||this};$jscomp.inherits(ig,Ma);ig.prototype.run=function(a){var c=a.children.filter(function(f){return f instanceof Ia});a=c.pop();c=$jscomp.makeIterator(c);for(var d=c.next();!d.done;d=c.next())d=d.value,this.setModified(),a.merge(d)};var hg=function(){return Ma.apply(this,arguments)||this};$jscomp.inherits(hg,Ma);hg.prototype.run=function(a){var c=
a.children.filter(function(k){return k instanceof Ea}),d={};c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next()){var g=f.value;f=ea(g.groupBy);f in d||(d[f]=[]);d[f].push(g)}c=$jscomp.makeIterator(E(d));for(g=c.next();!g.done;g=c.next())if(f=d[g.value],1<f.length){g=f.pop();var h=$jscomp.makeIterator(f);for(f=h.next();!f.done;f=h.next())f=f.value,g.merge(f)&&(a.removeChild(f),f.parent=g,f.remove(),this.setModified())}};var fg=function(a){var c=Ma.call(this)||this;c.model=a;return c};$jscomp.inherits(fg,
Ma);fg.prototype.run=function(a){for(var c=!(Zf(a)||a instanceof Fb||a instanceof ra||a instanceof jb),d=[],f=[],g=$jscomp.makeIterator(a.children),h=g.next();!h.done;h=g.next())h=h.value,h instanceof Ka&&(c&&!sd(a.producedFields(),h.dependentFields())?d.push(h):f.push(h));if(0<d.length){c=d.pop();g=$jscomp.makeIterator(d);for(d=g.next();!d.done;d=g.next())c.merge(d.value,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Ka?a.merge(c,this.model.renameSignal.bind(this.model)):
c.swapWithParent()}if(1<f.length){a=f.pop();f=$jscomp.makeIterator(f);for(d=f.next();!d.done;d=f.next())a.merge(d.value,this.model.renameSignal.bind(this.model));this.setModified()}};var jg=function(){return Ma.apply(this,arguments)||this};$jscomp.inherits(jg,Ma);jg.prototype.run=function(a){var c=[].concat($jscomp.arrayFromIterable(a.children));if(Yb(c,function(l){return l instanceof Ba})&&!(1>=a.numChildren())){var d=[];c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next())if(f=f.value,
f instanceof Ba){for(var g=f;1===g.numChildren();){var h=$jscomp.makeIterator(g.children).next().value;if(h instanceof Ba)g=h;else break}d.push.apply(d,$jscomp.arrayFromIterable(g.children));if(k)a.removeChild(f),f.parent=k.parent,k.parent.removeChild(k),k.parent=g,this.setModified();else var k=g}else d.push(f);if(d.length)for(this.setModified(),a=$jscomp.makeIterator(d),f=a.next();!f.done;f=a.next())d=f.value,d.parent.removeChild(d),d.parent=k}};var eb=function(a,c){a=P.call(this,a)||this;a.transform=
c;return a};$jscomp.inherits(eb,P);eb.prototype.clone=function(){return new eb(null,aa(this.transform))};eb.prototype.addDimensions=function(a){this.transform.groupby=pb(this.transform.groupby.concat(a),function(c){return c})};eb.prototype.dependentFields=function(){var a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(function(c){return c.field}).filter(function(c){return void 0!==c}).forEach(a.add,a);return a};eb.prototype.producedFields=
function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))};eb.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:J(a)};eb.prototype.hash=function(){return"JoinAggregateTransform ".concat(ea(this.transform))};eb.prototype.assemble=function(){for(var a=[],c=[],d=[],f=$jscomp.makeIterator(this.transform.joinaggregate),g=f.next();!g.done;g=f.next())g=g.value,c.push(g.op),d.push(this.getDefaultName(g)),a.push(void 0===g.field?null:g.field);f=this.transform.groupby;
return Object.assign({},{type:"joinaggregate",as:d,ops:c,fields:a},void 0!==f?{groupby:f}:{})};var Ha=function(a,c){a=P.call(this,a)||this;V(a,"_stack",void 0);a._stack=c;return a};$jscomp.inherits(Ha,P);Ha.prototype.clone=function(){return new Ha(null,aa(this._stack))};Ha.makeFromTransform=function(a,c){var d=c.stack,f=c.groupby,g=c.as,h=void 0===c.offset?"zero":c.offset,k=[],l=[];if(void 0!==c.sort)for(var n=$jscomp.makeIterator(c.sort),m=n.next();!m.done;m=n.next())m=m.value,k.push(m.field),l.push(ta(m.order,
"ascending"));k={field:k,order:l};c=nm(g)?g:Y(g)?[g,g+"_end"]:[c.stack+"_start",c.stack+"_end"];return new Ha(a,{stackField:d,groupby:f,offset:h,sort:k,facetby:[],as:c})};Ha.makeFromEncoding=function(a,c){var d=c.stack,f=c.encoding;if(!d)return null;var g=d.groupbyChannel,h=d.fieldChannel,k=d.offset;d=d.impute;var l;g&&(l=Rb(f[g]));f=mm(c);g=c.encoding.order;g=U(g)||K(g)?Ch(g):f.reduce(function(n,m){n.field.push(m);n.order.push("y"===h?"descending":"ascending");return n},{field:[],order:[]});return new Ha(a,
{dimensionFieldDef:l,stackField:c.vgField(h),facetby:[],stackby:f,sort:g,offset:k,impute:d,as:[c.vgField(h,{suffix:"start",forAs:!0}),c.vgField(h,{suffix:"end",forAs:!0})]})};Ha.prototype.addDimensions=function(a){this._stack.facetby.push.apply(this._stack.facetby,$jscomp.arrayFromIterable(a))};Ha.prototype.dependentFields=function(){var a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a};
Ha.prototype.producedFields=function(){return new Set(this._stack.as)};Ha.prototype.hash=function(){return"Stack ".concat(ea(this._stack))};Ha.prototype.getGroupbyFields=function(){var a=this._stack,c=a.dimensionFieldDef,d=a.impute;a=a.groupby;return c?c.bin?d?[J(c,{binSuffix:"mid"})]:[J(c,{}),J(c,{binSuffix:"end"})]:[J(c)]:null!==a&&void 0!==a?a:[]};Ha.prototype.assemble=function(){var a=[],c=this._stack,d=c.facetby,f=c.dimensionFieldDef,g=c.stackField,h=c.stackby,k=c.sort,l=c.offset,n=c.as;c.impute&&
f&&(c=void 0===f.band?.5:f.band,f.bin&&a.push({type:"formula",expr:"".concat(c,"*")+J(f,{expr:"datum"})+"+".concat(1-c,"*")+J(f,{expr:"datum",binSuffix:"end"}),as:J(f,{binSuffix:"mid",forAs:!0})}),a.push({type:"impute",field:g,groupby:[].concat($jscomp.arrayFromIterable(h),$jscomp.arrayFromIterable(d)),key:J(f,{binSuffix:"mid"}),method:"value",value:0}));a.push({type:"stack",groupby:[].concat($jscomp.arrayFromIterable(this.getGroupbyFields()),$jscomp.arrayFromIterable(d)),field:g,sort:k,as:n,offset:l});
return a};$jscomp.global.Object.defineProperties(Ha.prototype,{stack:{configurable:!0,enumerable:!0,get:function(){return this._stack}}});var hb=function(a,c){a=P.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(hb,P);hb.prototype.clone=function(){return new hb(null,aa(this.transform))};hb.prototype.addDimensions=function(a){this.transform.groupby=pb(this.transform.groupby.concat(a),function(c){return c})};hb.prototype.dependentFields=function(){var a,c,d=new Set;(null!==(a=this.transform.groupby)&&
void 0!==a?a:[]).forEach(d.add,d);(null!==(c=this.transform.sort)&&void 0!==c?c:[]).forEach(function(f){return d.add(f.field)});this.transform.window.map(function(f){return f.field}).filter(function(f){return void 0!==f}).forEach(d.add,d);return d};hb.prototype.producedFields=function(){return new Set(this.transform.window.map(this.getDefaultName))};hb.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:J(a)};hb.prototype.hash=function(){return"WindowTransform ".concat(ea(this.transform))};
hb.prototype.assemble=function(){for(var a=[],c=[],d=[],f=[],g=$jscomp.makeIterator(this.transform.window),h=g.next();!h.done;h=g.next())h=h.value,c.push(h.op),d.push(this.getDefaultName(h)),f.push(void 0===h.param?null:h.param),a.push(void 0===h.field?null:h.field);g=this.transform.frame;h=this.transform.groupby;if(g&&null===g[0]&&null===g[1]&&c.every(function(r){return Z(r)}))return Object.assign({},{type:"joinaggregate",as:d,ops:c,fields:a},void 0!==h?{groupby:h}:{});var k=[],l=[];if(void 0!==
this.transform.sort)for(var n=$jscomp.makeIterator(this.transform.sort),m=n.next();!m.done;m=n.next()){m=m.value;var p;k.push(m.field);l.push(null!==(p=m.order)&&void 0!==p?p:"ascending")}p=this.transform.ignorePeers;return Object.assign({},{type:"window",params:f,as:d,ops:c,fields:a,sort:{field:k,order:l}},void 0!==p?{ignorePeers:p}:{},void 0!==h?{groupby:h}:{},void 0!==g?{frame:g}:{})};var ib=function(a){V(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})};ib.fromName=
function(a,c){return new ib(function(){return a(c)})};var Ae=function(a,c){a=Ca.call(this,{},{name:a})||this;V(a,"merged",!1);a.setWithExplicit("type",c);return a};$jscomp.inherits(Ae,Ca);Ae.prototype.domainDefinitelyIncludesZero=function(){return!1!==this.get("zero")?!0:Yb(this.get("domains"),function(a){return U(a)&&2===a.length&&0>=a[0]&&0<=a[1]})};var vm=["range","scheme"],Lj={bins:function(a){var c=a.model;a=a.fieldOrDatumDef;return K(a)?Bm(c,a):void 0},interpolate:function(a){var c=a.fieldOrDatumDef.type;
a=R(["color","fill","stroke"],a.channel)&&"nominal"!==c?"hcl":void 0;return a},nice:function(a){var c=a.scaleType,d=a.channel,f;a=(null===(f=Rb(a.fieldOrDatumDef))||void 0===f?0:f.bin)||R([Fa.TIME,Fa.UTC],c)?void 0:d in La?!0:void 0;return a},padding:function(a){var c=a.config;a:{var d=a.channel;var f=a.scaleType,g=c.scale,h=a.fieldOrDatumDef;a=a.markDef;c=c.bar;if(d in La){if(f in Ab){if(void 0!==g.continuousPadding){d=g.continuousPadding;break a}var k=a.orient;if("bar"===a.type&&(!K(h)||!h.bin&&
!h.timeUnit)&&("vertical"===k&&"x"===d||"horizontal"===k&&"y"===d)){d=c.continuousBandSize;break a}}if(f===Fa.POINT){d=g.pointPadding;break a}}d=void 0}return d},paddingInner:function(a){var c=a.channel,d=a.markDef,f=a.config;void 0!==a.scalePadding?d=void 0:c in La?(a=f.scale,c=a.barBandPaddingInner,f=a.rectBandPaddingInner,d=ta(a.bandPaddingInner,"bar"===d.type?c:f)):d=void 0;return d},paddingOuter:function(a){var c=a.channel,d=a.scaleType,f=a.config;var g=a.scalePaddingInner;a=void 0!==a.scalePadding?
void 0:c in La&&d===Fa.BAND?ta(f.scale.bandPaddingOuter,W(g)?{signal:"".concat(g.signal,"/2")}:g/2):void 0;return a},reverse:function(a){var c=a.fieldOrDatumDef,d=a.scaleType,f=a.channel;a=a.config;c=K(c)?c.sort:void 0;a=a.scale;d="x"===f&&void 0!==a.xReverse?d in qb&&"descending"===c?W(a.xReverse)?{signal:"!".concat(a.xReverse.signal)}:!a.xReverse:a.xReverse:d in qb&&"descending"===c?!0:void 0;return d},zero:function(a){a:{var c=a.channel;var d=a.fieldOrDatumDef,f=a.domain,g=a.markDef;a=a.scaleType;
if(f&&"unaggregated"!==f&&a in qb){if(U(f)&&(c=f[f.length-1],0>=f[0]&&0<=c)){c=!0;break a}c=!1}else"size"!==c||"quantitative"!==d.type||a in Wd?K(d)&&d.bin||!R([].concat($jscomp.arrayFromIterable(tb),$jscomp.arrayFromIterable(en)),c)?c=!1:(f=g.orient,c=R(["bar","area","line","trail"],g.type)&&("horizontal"===f&&"y"===c||"vertical"===f&&"x"===c)?!1:!0):c=!0}return c}},Em=mi(function(a,c){return ek[a]-ek[c]}),md=function(){V(this,"nameMap",void 0);this.nameMap={}};md.prototype.rename=function(a,c){this.nameMap[a]=
c};md.prototype.has=function(a){return void 0!==this.nameMap[a]};md.prototype.get=function(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a};var da=function(a,c,d,f,g,h,k){var l=this,n,m;this.type=c;this.parent=d;this.config=g;V(this,"name",void 0);V(this,"size",void 0);V(this,"title",void 0);V(this,"description",void 0);V(this,"data",void 0);V(this,"transforms",void 0);V(this,"layout",void 0);V(this,"scaleNameMap",void 0);V(this,"projectionNameMap",void 0);V(this,"signalNameMap",
void 0);V(this,"component",void 0);V(this,"view",void 0);V(this,"children",[]);V(this,"correctDataNames",function(p){p.from&&p.from.data&&(p.from.data=l.lookupDataSource(p.from.data));p.from&&p.from.facet&&p.from.facet.data&&(p.from.facet.data=l.lookupDataSource(p.from.facet.data));return p});this.parent=d;this.config=g;this.view=Bb(k);this.name=null!==(n=a.name)&&void 0!==n?n:f;this.title=Cc(a.title)?{text:a.title}:a.title?this.initTitle(a.title):void 0;this.scaleNameMap=d?d.scaleNameMap:new md;
this.projectionNameMap=d?d.projectionNameMap:new md;this.signalNameMap=d?d.signalNameMap:new md;this.data=a.data;this.description=a.description;this.transforms=jl(null!==(m=a.transform)&&void 0!==m?m:[]);this.layout="layer"===c||"unit"===c?{}:Sk(a,c,g);this.component={data:{sources:d?d.component.data.sources:[],outputNodes:d?d.component.data.outputNodes:{},outputNodeRefCounts:d?d.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||d&&d.component.data.isFaceted&&void 0===a.data},layoutSize:new Ca,
layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},h?aa(h):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}};da.prototype.initTitle=function(a){var c=E(a),d={text:Xa(a.text)};c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next())f=f.value,d[f]=Xa(a[f]);return d};da.prototype.parse=function(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();
this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()};da.prototype.parseScale=function(){var a={}.ignoreRange;Oj(this);xa(this)?Bj(this):Dj(this);for(var c=$jscomp.makeIterator(jn),d=c.next();!d.done;d=c.next())Kj(this,d.value);a||Nj(this)};da.prototype.parseProjection=function(){this.component.projection=xa(this)?uj(this):vj(this)};da.prototype.renameTopLevelLayoutSizeSignal=function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");
"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")};da.prototype.parseLegends=function(){lj(this)};da.prototype.assembleGroupStyle=function(){if("unit"===this.type||"layer"===this.type){var a,c;return null!==(a=null===(c=this.view)||void 0===c?void 0:c.style)&&void 0!==a?a:"cell"}};da.prototype.assembleEncodeFromView=function(a){a=Object.assign({},a);a=(delete a.style,a);for(var c={},d=$jscomp.makeIterator(E(a)),f=d.next();!f.done;f=d.next()){f=f.value;var g=a[f];
void 0!==g&&(c[f]=za(g))}return c};da.prototype.assembleGroupEncodeEntry=function(a){var c={};this.view&&(c=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(c.description=za(this.description)),"unit"===this.type||"layer"===this.type)){var d;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(d=c)&&void 0!==d?d:{})}return ja(c)?void 0:c};da.prototype.assembleLayout=function(){if(this.layout){var a=this.layout,c=Object.assign({},
a);a=a.spacing;c=(delete c.spacing,c);for(var d=this.config,f=this.component.layoutHeaders,g={},h=$jscomp.makeIterator(ub),k=h.next();!k.done;k=h.next()){k=k.value;var l=f[k];if(null===l||void 0===l?0:l.facetFieldDef){var n=ue(["titleAnchor","titleOrient"],l.facetFieldDef.header,d,k);l=n.titleAnchor;k=te(k,n.titleOrient);l=qn[k][l];void 0!==l&&(g[k]=l)}}d=ja(g)?void 0:g;return Object.assign({},{padding:a},this.assembleDefaultLayout(),c,d?{titleBand:d}:{})}};da.prototype.assembleDefaultLayout=function(){return{}};
da.prototype.assembleHeaderMarks=function(){for(var a=this.component.layoutHeaders,c=[],d=$jscomp.makeIterator(ub),f=d.next();!f.done;f=d.next())f=f.value,a[f].title&&c.push($l(this,f));a=$jscomp.makeIterator(Fg);for(f=a.next();!f.done;f=a.next())c=c.concat(bm(this,f.value));return c};da.prototype.assembleAxes=function(){return Vl(this.component.axes,this.config)};da.prototype.assembleLegends=function(){return sj(this)};da.prototype.assembleProjections=function(){var a=hd(this)||og(this)?fm(this):
tj(this);return a};da.prototype.assembleTitle=function(){var a,c=null!==(a=this.title)&&void 0!==a?a:{};a=Object.assign({},c);c=c.encoding;a=(delete a.encoding,a);c=Object.assign({},xh(this.config.title).nonMark,a,c?{encode:{update:c}}:{});if(c.text){if(R(["unit","layer"],this.type)){if(R(["middle",void 0],c.anchor)){var d;c.frame=null!==(d=c.frame)&&void 0!==d?d:"group"}}else{var f;c.anchor=null!==(f=c.anchor)&&void 0!==f?f:"start"}return ja(c)?void 0:c}};da.prototype.assembleGroup=function(a){a=
void 0===a?[]:a;var c={};a=a.concat(this.assembleSignals());0<a.length&&(c.signals=a);if(a=this.assembleLayout())c.layout=a;c.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||Db(this.parent)?Ej(this):[];0<a.length&&(c.scales=a);a=this.assembleAxes();0<a.length&&(c.axes=a);a=this.assembleLegends();0<a.length&&(c.legends=a);return c};da.prototype.getName=function(a){return oa((this.name?this.name+"_":"")+a)};da.prototype.getDataName=function(a){return this.getName(qa[a].toLowerCase())};
da.prototype.requestDataName=function(a){a=this.getDataName(a);var c=this.component.data.outputNodeRefCounts;c[a]=(c[a]||0)+1;return a};da.prototype.getSizeSignalRef=function(a){if(Db(this.parent)){var c=fj(a),d=Qd(c);if((c=this.component.scales[d])&&!c.merged){var f=c.get("type"),g=c.get("range");if(f in cb&&yc(g)){a=c.get("name");f=ze(this,d);if(f=ng(f))return d=J({aggregate:"distinct",field:f},{expr:"datum"}),{signal:ej(a,c,d)};G(Qe(d));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}};
da.prototype.lookupDataSource=function(a){var c=this.component.data.outputNodes[a];return c?c.getSource():a};da.prototype.getSignalName=function(a){return this.signalNameMap.get(a)};da.prototype.renameSignal=function(a,c){this.signalNameMap.rename(a,c)};da.prototype.renameScale=function(a,c){this.scaleNameMap.rename(a,c)};da.prototype.renameProjection=function(a,c){this.projectionNameMap.rename(a,c)};da.prototype.scaleName=function(a,c){if(c)return this.getName(a);if(ee[a]&&cc[a]&&this.component.scales[a]||
this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))};da.prototype.projectionName=function(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))};da.prototype.getScaleComponent=function(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
var c=this.component.scales[a];return c&&!c.merged?c:this.parent?this.parent.getScaleComponent(a):void 0};da.prototype.getSelectionComponent=function(a,c){var d=this.component.selection[a];!d&&this.parent&&(d=this.parent.getSelectionComponent(a,c));if(!d)throw Error('Cannot find a selection named "'.concat(c,'".'));return d};da.prototype.hasAxisOrientSignalRef=function(){var a,c;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(function(d){return d.hasOrientSignalRef()}))||(null===
(c=this.component.axes.y)||void 0===c?void 0:c.some(function(d){return d.hasOrientSignalRef()}))};$jscomp.global.Object.defineProperties(da.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("width")}},height:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("height")}}});var Wb=function(){return da.apply(this,arguments)||this};$jscomp.inherits(Wb,da);Wb.prototype.vgField=function(a,c){c=void 0===c?{}:c;if(a=this.fieldDef(a))return J(a,
c)};Wb.prototype.reduceFieldDef=function(a,c){return Pk(this.getMapping(),function(d,f,g){return(f=Rb(f))?a(d,f,g):d},c)};Wb.prototype.forEachFieldDef=function(a,c){rf(this.getMapping(),function(d,f){(d=Rb(d))&&a(d,f)},c)};var mc=function(a,c){var d,f,g;a=P.call(this,a)||this;a.transform=c;a.transform=aa(c);c=null!==(d=a.transform.as)&&void 0!==d?d:[void 0,void 0];a.transform.as=[null!==(f=c[0])&&void 0!==f?f:"value",null!==(g=c[1])&&void 0!==g?g:"density"];return a};$jscomp.inherits(mc,P);mc.prototype.clone=
function(){return new mc(null,aa(this.transform))};mc.prototype.dependentFields=function(){var a;return new Set([this.transform.density].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};mc.prototype.producedFields=function(){return new Set(this.transform.as)};mc.prototype.hash=function(){return"DensityTransform ".concat(ea(this.transform))};mc.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a);a=a.density;c=(delete c.density,c);return Object.assign({},
{type:"kde",field:a},c)};var Hb=function(a,c){a=P.call(this,a)||this;a.filter=c;return a};$jscomp.inherits(Hb,P);Hb.prototype.clone=function(){return new Hb(null,Object.assign({},this.filter))};Hb.make=function(a,c){var d=c.mark;if("filter"!==la("invalid",c.markDef,c.config))return null;var f=c.reduceFieldDef(function(g,h,k){(k=!!cc[k]&&c.getScaleComponent(k))&&k.get("type")in qb&&"count"!==h.aggregate&&!zc(d)&&(g[h.field]=h);return g},{});return E(f).length?new Hb(a,f):null};Hb.prototype.dependentFields=
function(){return new Set(E(this.filter))};Hb.prototype.producedFields=function(){return new Set};Hb.prototype.hash=function(){return"FilterInvalid ".concat(ea(this.filter))};Hb.prototype.assemble=function(){var a=this,c=E(this.filter).reduce(function(d,f){f=a.filter[f];var g=J(f,{expr:"datum"});null!==f&&("temporal"===f.type?d.push("(isDate(".concat(g,") || (isValid(").concat(g,") \x26\x26 isFinite(+").concat(g,")))")):"quantitative"===f.type&&(d.push("isValid(".concat(g,")")),d.push("isFinite(+".concat(g,
")"))));return d},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null};var lc=function(a,c){a=P.call(this,a)||this;a.transform=c;a.transform=aa(c);c=a.transform;var d=void 0===c.as?[]:c.as;a.transform.as=c.flatten.map(function(f,g){var h;return null!==(h=d[g])&&void 0!==h?h:f});return a};$jscomp.inherits(lc,P);lc.prototype.clone=function(){return new lc(this.parent,aa(this.transform))};lc.prototype.dependentFields=function(){return new Set(this.transform.flatten)};lc.prototype.producedFields=
function(){return new Set(this.transform.as)};lc.prototype.hash=function(){return"FlattenTransform ".concat(ea(this.transform))};lc.prototype.assemble=function(){var a=this.transform;return{type:"flatten",fields:a.flatten,as:a.as}};var kc=function(a,c){var d,f,g;a=P.call(this,a)||this;a.transform=c;a.transform=aa(c);c=null!==(d=a.transform.as)&&void 0!==d?d:[void 0,void 0];a.transform.as=[null!==(f=c[0])&&void 0!==f?f:"key",null!==(g=c[1])&&void 0!==g?g:"value"];return a};$jscomp.inherits(kc,P);kc.prototype.clone=
function(){return new kc(null,aa(this.transform))};kc.prototype.dependentFields=function(){return new Set(this.transform.fold)};kc.prototype.producedFields=function(){return new Set(this.transform.as)};kc.prototype.hash=function(){return"FoldTransform ".concat(ea(this.transform))};kc.prototype.assemble=function(){var a=this.transform;return{type:"fold",fields:a.fold,as:a.as}};var wb=function(a,c,d,f){a=P.call(this,a)||this;a.fields=c;a.geojson=d;a.signal=f;return a};$jscomp.inherits(wb,P);wb.prototype.clone=
function(){return new wb(null,aa(this.fields),this.geojson,this.signal)};wb.parseAll=function(a,c){if(c.component.projection&&!c.component.projection.isFit)return a;for(var d=0,f=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),g=f.next();!g.done;g=f.next())if(g=g.value.map(function(h){h=Ga(c.encoding[h]);return K(h)?h.field:Ac(h)?{expr:"".concat(h.datum)}:Cb(h)?{expr:"".concat(h.value)}:void 0}),g[0]||g[1])a=new wb(a,g,null,c.getName("geojson_".concat(d++)));c.channelHasField("shape")&&
(f=c.typedFieldDef("shape"),"geojson"===f.type&&(a=new wb(a,null,f.field,c.getName("geojson_".concat(d++)))));return a};wb.prototype.dependentFields=function(){var a,c=(null!==(a=this.fields)&&void 0!==a?a:[]).filter(Y);return new Set([].concat($jscomp.arrayFromIterable(this.geojson?[this.geojson]:[]),$jscomp.arrayFromIterable(c)))};wb.prototype.producedFields=function(){return new Set};wb.prototype.hash=function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(ea(this.fields))};
wb.prototype.assemble=function(){return Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})};var Ib=function(a,c,d,f){a=P.call(this,a)||this;a.projection=c;a.fields=d;a.as=f;return a};$jscomp.inherits(Ib,P);Ib.prototype.clone=function(){return new Ib(null,this.projection,aa(this.fields),aa(this.as))};Ib.parseAll=function(a,c){if(!c.projectionName())return a;for(var d=$jscomp.makeIterator([["longitude","latitude"],["longitude2",
"latitude2"]]),f=d.next();!f.done;f=d.next()){var g=f.value;f=g.map(function(h){h=Ga(c.encoding[h]);return K(h)?h.field:Ac(h)?{expr:"".concat(h.datum)}:Cb(h)?{expr:"".concat(h.value)}:void 0});g="longitude2"===g[0]?"2":"";if(f[0]||f[1])a=new Ib(a,c.projectionName(),f,[c.getName("x"+g),c.getName("y"+g)])}return a};Ib.prototype.dependentFields=function(){return new Set(this.fields.filter(Y))};Ib.prototype.producedFields=function(){return new Set(this.as)};Ib.prototype.hash=function(){return"Geopoint ".concat(this.projection,
" ").concat(ea(this.fields)," ").concat(ea(this.as))};Ib.prototype.assemble=function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}};var Za=function(a,c){a=P.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Za,P);Za.prototype.clone=function(){return new Za(null,aa(this.transform))};Za.prototype.dependentFields=function(){var a;return new Set([this.transform.impute,this.transform.key].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&
void 0!==a?a:[])))};Za.prototype.producedFields=function(){return new Set([this.transform.impute])};Za.prototype.processSequence=function(a){var c=a.step;a=[void 0===a.start?0:a.start,a.stop].concat($jscomp.arrayFromIterable(c?[c]:[])).join(",");return{signal:"sequence(".concat(a,")")}};Za.makeFromTransform=function(a,c){return new Za(a,c)};Za.makeFromEncoding=function(a,c){var d=c.encoding,f=d.x,g=d.y;if(K(f)&&K(g)){var h=f.impute?f:g.impute?g:void 0;if(void 0===h)return;f=f.impute?g:g.impute?f:
void 0;var k=h.impute;g=k.method;var l=k.value,n=k.frame;k=k.keyvals;c=Hh(c.mark,d);return new Za(a,Object.assign({},{impute:h.field,key:f.field},g?{method:g}:{},void 0!==l?{value:l}:{},n?{frame:n}:{},void 0!==k?{keyvals:k}:{},c.length?{groupby:c}:{}))}return null};Za.prototype.hash=function(){return"Impute ".concat(ea(this.transform))};Za.prototype.assemble=function(){var a=this.transform,c=a.impute,d=a.keyvals,f=a.method,g=a.groupby,h=a.value,k=void 0===a.frame?[null,null]:a.frame;a=Object.assign({},
{type:"impute",field:c,key:a.key},d?{keyvals:void 0!==(null===d||void 0===d?void 0:d.stop)?this.processSequence(d):d}:{},{method:"value"},g?{groupby:g}:{},{value:f&&"value"!==f?null:h});return f&&"value"!==f?(f=Object.assign({},{type:"window",as:["imputed_".concat(c,"_value")],ops:[f],fields:[c],frame:k,ignorePeers:!1},g?{groupby:g}:{}),c={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,"_value : datum.").concat(c),as:c},[a,f,c]):[a]};var nc=function(a,c){var d,
f,g;a=P.call(this,a)||this;a.transform=c;a.transform=aa(c);var h=null!==(d=a.transform.as)&&void 0!==d?d:[void 0,void 0];a.transform.as=[null!==(f=h[0])&&void 0!==f?f:c.on,null!==(g=h[1])&&void 0!==g?g:c.loess];return a};$jscomp.inherits(nc,P);nc.prototype.clone=function(){return new nc(null,aa(this.transform))};nc.prototype.dependentFields=function(){var a;return new Set([this.transform.loess,this.transform.on].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};
nc.prototype.producedFields=function(){return new Set(this.transform.as)};nc.prototype.hash=function(){return"LoessTransform ".concat(ea(this.transform))};nc.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a),d=a.loess;a=a.on;c=(delete c.loess,delete c.on,c);return Object.assign({},{type:"loess",x:a,y:d},c)};var Jb=function(a,c,d){a=P.call(this,a)||this;a.transform=c;a.secondary=d;return a};$jscomp.inherits(Jb,P);Jb.prototype.clone=function(){return new Jb(null,aa(this.transform),
this.secondary)};Jb.make=function(a,c,d,f){var g=c.component.data.sources,h=d.from,k=null;if("data"in h)k=Tj(h.data,g),k||(k=new Ya(h.data),g.push(k)),f=c.getName("lookup_".concat(f)),k=new Ba(k,f,qa.Lookup,c.component.data.outputNodeRefCounts),c.component.data.outputNodes[f]=k;else if("selection"in h&&(f=h.selection,d=Object.assign({},{as:f},d),k=c.getSelectionComponent(oa(f),f).materialized,!k))throw Error('Cannot define and lookup the "'.concat(f,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");
return new Jb(a,d,k.getSource())};Jb.prototype.dependentFields=function(){return new Set([this.transform.lookup])};Jb.prototype.producedFields=function(){return new Set(this.transform.as?ya(this.transform.as):this.transform.from.fields)};Jb.prototype.hash=function(){return"Lookup ".concat(ea({transform:this.transform,secondary:this.secondary}))};Jb.prototype.assemble=function(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:ya(this.transform.as)}:
{});else a=this.transform.as,Y(a)||(G('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})};var oc=function(a,c){var d,f,g;a=P.call(this,a)||this;a.transform=c;a.transform=aa(c);c=null!==(d=a.transform.as)&&void 0!==
d?d:[void 0,void 0];a.transform.as=[null!==(f=c[0])&&void 0!==f?f:"prob",null!==(g=c[1])&&void 0!==g?g:"value"];return a};$jscomp.inherits(oc,P);oc.prototype.clone=function(){return new oc(null,aa(this.transform))};oc.prototype.dependentFields=function(){var a;return new Set([this.transform.quantile].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};oc.prototype.producedFields=function(){return new Set(this.transform.as)};oc.prototype.hash=function(){return"QuantileTransform ".concat(ea(this.transform))};
oc.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a);a=a.quantile;c=(delete c.quantile,c);return Object.assign({},{type:"quantile",field:a},c)};var pc=function(a,c){var d,f,g;a=P.call(this,a)||this;a.transform=c;a.transform=aa(c);var h=null!==(d=a.transform.as)&&void 0!==d?d:[void 0,void 0];a.transform.as=[null!==(f=h[0])&&void 0!==f?f:c.on,null!==(g=h[1])&&void 0!==g?g:c.regression];return a};$jscomp.inherits(pc,P);pc.prototype.clone=function(){return new pc(null,aa(this.transform))};
pc.prototype.dependentFields=function(){var a;return new Set([this.transform.regression,this.transform.on].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};pc.prototype.producedFields=function(){return new Set(this.transform.as)};pc.prototype.hash=function(){return"RegressionTransform ".concat(ea(this.transform))};pc.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a),d=a.regression;a=a.on;c=(delete c.regression,delete c.on,c);return Object.assign({},
{type:"regression",x:a,y:d},c)};var Vb=function(a,c){a=P.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Vb,P);Vb.prototype.clone=function(){return new Vb(null,aa(this.transform))};Vb.prototype.addDimensions=function(a){var c;this.transform.groupby=pb((null!==(c=this.transform.groupby)&&void 0!==c?c:[]).concat(a),function(d){return d})};Vb.prototype.producedFields=function(){};Vb.prototype.dependentFields=function(){var a;return new Set([this.transform.pivot,this.transform.value].concat($jscomp.arrayFromIterable(null!==
(a=this.transform.groupby)&&void 0!==a?a:[])))};Vb.prototype.hash=function(){return"PivotTransform ".concat(ea(this.transform))};Vb.prototype.assemble=function(){var a=this.transform,c=a.groupby,d=a.limit,f=a.op;return Object.assign({},{type:"pivot",field:a.pivot,value:a.value},void 0!==d?{limit:d}:{},void 0!==f?{op:f}:{},void 0!==c?{groupby:c}:{})};var qc=function(a,c){a=P.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(qc,P);qc.prototype.clone=function(){return new qc(null,aa(this.transform))};
qc.prototype.dependentFields=function(){return new Set};qc.prototype.producedFields=function(){return new Set};qc.prototype.hash=function(){return"SampleTransform ".concat(ea(this.transform))};qc.prototype.assemble=function(){return{type:"sample",size:this.transform.sample}};var na=function(a,c,d,f){c=Wb.call(this,a,"facet",c,d,f,a.resolve)||this;V(c,"facet",void 0);V(c,"child",void 0);V(c,"children",void 0);c.child=zg(a.spec,c,c.getName("child"),void 0,f);c.children=[c.child];c.facet=c.initFacet(a.facet);
return c};$jscomp.inherits(na,Wb);na.prototype.initFacet=function(a){if(!Ad(a))return{facet:this.initFacetFieldDef(a,"facet")};var c=E(a),d={};c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next()){f=f.value;if(!R(["row","column"],f)){G(Td(f,"facet"));break}var g=a[f];if(void 0===g.field){G(Re(g,f));break}d[f]=this.initFacetFieldDef(g,f)}return d};na.prototype.initFacetFieldDef=function(a,c){var d=Object.assign({},a);a=a.header;d=(delete d.header,d);c=pf(d,c);a&&(c.header=Bb(a));return c};
na.prototype.channelHasField=function(a){return!!this.facet[a]};na.prototype.fieldDef=function(a){return this.facet[a]};na.prototype.parseData=function(){this.component.data=Ce(this);this.child.parseData()};na.prototype.parseLayoutSize=function(){qg(this)};na.prototype.parseSelections=function(){this.child.parseSelections();this.component.selection=this.child.component.selection};na.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()};na.prototype.parseAxesAndHeaders=function(){this.child.parseAxesAndHeaders();
for(var a=$jscomp.makeIterator(ub),c=a.next();!c.done;c=a.next()){var d=void 0;c=c.value;var f=this.facet,g=this.config,h=this.child,k=this.component;if(this.channelHasField(c)){f=f[c];var l=kd("title",null,g,c);l=dd(f,g,{allowDisabling:!0,includeDefault:void 0===l||!!l});h.component.layoutHeaders[c].title&&(l=U(l)?l.join(", "):l,l+=" / "+h.component.layoutHeaders[c].title,h.component.layoutHeaders[c].title=null);h=kd("labelOrient",f,g,c);var n=null!==(d=f.header)&&void 0!==d?d:{};d=ta(n.labels,g.header.labels,
!0);g=R(["bottom","right"],h)?"footer":"header";h={};k.layoutHeaders[c]=(h.title=l,h.facetFieldDef=f,h[g]="facet"===c?[]:[Rj(this,c,d)],h)}}Sj(this,"x");Sj(this,"y")};na.prototype.assembleSelectionTopLevelSignals=function(a){return this.child.assembleSelectionTopLevelSignals(a)};na.prototype.assembleSignals=function(){this.child.assembleSignals();return[]};na.prototype.assembleSelectionData=function(a){return this.child.assembleSelectionData(a)};na.prototype.getHeaderLayoutMixins=function(){for(var a=
{},c=$jscomp.makeIterator(ub),d=c.next();!d.done;d=c.next()){d=d.value;for(var f=$jscomp.makeIterator(Tf),g=f.next();!g.done;g=f.next()){var h=g.value;g=this.component.layoutHeaders[d];var k=g[h],l=g.facetFieldDef;if(l&&(l=kd("titleOrient",l.header,this.config,d),R(["right","bottom"],l))){var n;l=te(d,l);a.titleAnchor=null!==(n=a.titleAnchor)&&void 0!==n?n:{};a.titleAnchor[l]="end"}if(null===k||void 0===k?0:k[0]){k="row"===d?"height":"width";h="header"===h?"headerBand":"footerBand";if("facet"!==d&&
!this.child.component.layoutSize.get(k)){var m;a[h]=null!==(m=a[h])&&void 0!==m?m:{};a[h][d]=.5}if(g.title){var p;a.offset=null!==(p=a.offset)&&void 0!==p?p:{};a.offset["row"===d?"rowTitle":"columnTitle"]=10}}}}return a};na.prototype.assembleDefaultLayout=function(){var a=this.facet,c=a.column;a=a.row;var d=c?this.columnDistinctSignal():a?1:void 0,f="all";a||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(f="none"):f="none";return Object.assign({},
this.getHeaderLayoutMixins(),d?{columns:d}:{},{bounds:"full",align:f})};na.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()};na.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof na)){var a=this.getName("column_domain");return{signal:"length(data('".concat(a,"'))")}}};na.prototype.assembleGroup=function(a){return this.parent&&this.parent instanceof na?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:J(this.facet.column,
{prefix:"distinct"})}}}}:{},Wb.prototype.assembleGroup.call(this,a)):Wb.prototype.assembleGroup.call(this,a)};na.prototype.getCardinalityAggregateForChild=function(){var a=[],c=[],d=[];if(this.child instanceof na){if(this.child.channelHasField("column")){var f=J(this.child.facet.column);a.push(f);c.push("distinct");d.push("distinct_".concat(f))}}else{f=$jscomp.makeIterator(tb);for(var g=f.next();!g.done;g=f.next()){g=g.value;var h=this.child.component.scales[g];if(h&&!h.merged){var k=h.get("type");
h=h.get("range");k in cb&&yc(h)&&(k=ze(this.child,g),(k=ng(k))?(a.push(k),c.push("distinct"),d.push("distinct_".concat(k))):G(Qe(g)))}}}return{fields:a,ops:c,as:d}};na.prototype.assembleFacet=function(){var a=this.component.data.facetRoot,c=a.name;a=a.data;var d=this.facet,f=d.row,g=d.column,h=this.getCardinalityAggregateForChild();d=h.fields;var k=h.ops;h=h.as;for(var l=[],n=$jscomp.makeIterator(ub),m=n.next();!m.done;m=n.next()){var p=m.value;if(m=this.facet[p]){l.push(J(m));var r=m,u=r.sort;ua(r.bin)&&
l.push(J(m,{binSuffix:"end"}));Pb(u)?(r=u,p=r.field,r=void 0===r.op?"min":r.op,m=rg(m,u),f&&g?(d.push(m),k.push("max")):(d.push(p),k.push(r)),h.push(m)):U(u)&&(m=jd(m,p),d.push(m),k.push("max"),h.push(m))}}f=!!f&&!!g;return Object.assign({},{name:c,data:a,groupby:l},f||0<d.length?{aggregate:Object.assign({},f?{cross:f}:{},d.length?{fields:d,ops:k,as:h}:{})}:{})};na.prototype.facetSortFields=function(a){var c=this.facet[a];return c?Pb(c.sort)?[rg(c,c.sort,{expr:"datum"})]:U(c.sort)?[jd(c,a,{expr:"datum"})]:
[J(c,{expr:"datum"})]:[]};na.prototype.facetSortOrder=function(a){return(a=this.facet[a])?(a=a.sort,[(Pb(a)?a.order:!U(a)&&a)||"ascending"]):[]};na.prototype.assembleLabelTitle=function(){var a=this.facet,c=this.config;if(a.facet)return Uf(a.facet,"facet",c);for(var d={row:["top","bottom"],column:["left","right"]},f=$jscomp.makeIterator(Fg),g=f.next();!g.done;g=f.next())if(g=g.value,a[g]){var h,k=kd("labelOrient",null===(h=a[g])||void 0===h?void 0:h.header,c,g);if(R(d[g],k))return Uf(a[g],g,c)}};
na.prototype.assembleMarks=function(){var a=this,c=this.child,d=Fm(this.component.data.facetRoot),f=c.assembleGroupEncodeEntry(!1),g=this.assembleLabelTitle()||c.assembleTitle(),h=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},g?{title:g}:{},h?{style:h}:{},{from:{facet:this.assembleFacet()},sort:{field:ub.map(function(k){return a.facetSortFields(k)}).flat(),order:ub.map(function(k){return a.facetSortOrder(k)}).flat()}},0<d.length?{data:d}:{},f?{encode:{update:f}}:
{},c.assembleGroup(Dl(this,[])))]};na.prototype.getMapping=function(){return this.facet};var $a=function(a,c,d,f){var g,h,k,l;var n=da.call(this,a,"concat",c,d,f,a.resolve)||this;V(n,"children",void 0);"shared"!==(null===(g=a.resolve)||void 0===g?void 0:null===(h=g.axis)||void 0===h?void 0:h.x)&&"shared"!==(null===(k=a.resolve)||void 0===k?void 0:null===(l=k.axis)||void 0===l?void 0:l.y)||G("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
n.children=n.getChildren(a).map(function(m,p){return zg(m,n,n.getName("concat_"+p),void 0,f)});return n};$jscomp.inherits($a,da);$a.prototype.parseData=function(){this.component.data=Ce(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};$a.prototype.parseSelections=function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();for(var d=$jscomp.makeIterator(E(c.component.selection)),
f=d.next();!f.done;f=d.next())f=f.value,this.component.selection[f]=c.component.selection[f]}};$a.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};$a.prototype.parseAxesAndHeaders=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseAxesAndHeaders()};$a.prototype.getChildren=function(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat};$a.prototype.parseLayoutSize=
function(){qg(this);var a=void 0===this.layout.columns?"height":"childHeight";Be(this,1===this.layout.columns?"width":"childWidth");Be(this,a)};$a.prototype.parseAxisGroup=function(){return null};$a.prototype.assembleSelectionTopLevelSignals=function(a){return this.children.reduce(function(c,d){return d.assembleSelectionTopLevelSignals(c)},a)};$a.prototype.assembleSignals=function(){this.children.forEach(function(a){return a.assembleSignals()});return[]};$a.prototype.assembleLayoutSignals=function(){for(var a=
Vf(this),c=$jscomp.makeIterator(this.children),d=c.next();!d.done;d=c.next())a.push.apply(a,$jscomp.arrayFromIterable(d.value.assembleLayoutSignals()));return a};$a.prototype.assembleSelectionData=function(a){return this.children.reduce(function(c,d){return d.assembleSelectionData(c)},a)};$a.prototype.assembleMarks=function(){return this.children.map(function(a){var c=a.assembleTitle(),d=a.assembleGroupStyle(),f=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},
c?{title:c}:{},d?{style:d}:{},f?{encode:{update:f}}:{},a.assembleGroup())})};$a.prototype.assembleDefaultLayout=function(){var a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})};var sn=Object.assign({},{disable:1,gridScale:1,scale:1},Yj,{labelExpr:1,encode:1}),Uj=E(sn),ld=function(a,c,d){a=void 0===a?{}:a;c=void 0===c?{}:c;d=void 0===d?!1:d;var f=Ca.call(this)||this;f.explicit=a;f.implicit=c;f.mainExtracted=d;return f};$jscomp.inherits(ld,Ca);ld.prototype.clone=
function(){return new ld(aa(this.explicit),aa(this.implicit),this.mainExtracted)};ld.prototype.hasAxisPart=function(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)};ld.prototype.hasOrientSignalRef=function(){return W(this.explicit.orient)};var tn={bottom:"top",top:"bottom",left:"right",right:"left"},Om=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Ie={arc:{vgMark:"arc",encodeEntry:function(a){return Object.assign({},
sb(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Qa("x",a,{defaultPos:"mid"}),Qa("y",a,{defaultPos:"mid"}),Ec(a,"radius","arc"),Ec(a,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(a){return Object.assign({},sb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),le("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),le("y",a,{defaultPos:"zeroOrMin",
defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),Ef(a))}},bar:{vgMark:"rect",encodeEntry:function(a){return Object.assign({},sb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ec(a,"x","bar"),Ec(a,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(a){return wg(a,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(a){return Object.assign({},sb(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",
theta:"ignore"}))},postEncodingTransform:function(a){var c=a.encoding.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},c&&K(c)&&"geojson"===c.type?{field:J(c,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(a){return Object.assign({},sb(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ec(a,"x","image"),Ec(a,"y","image"),Cf(a,"url"))}},line:{vgMark:"line",encodeEntry:function(a){return Object.assign({},
sb(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Qa("x",a,{defaultPos:"mid"}),Qa("y",a,{defaultPos:"mid"}),Ja("size",a,{vgChannel:"strokeWidth"}),Ef(a))}},point:{vgMark:"symbol",encodeEntry:function(a){return wg(a)}},rect:{vgMark:"rect",encodeEntry:function(a){return Object.assign({},sb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ec(a,"x","rect"),Ec(a,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(a){var c=
a.markDef.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},sb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),le("x",a,{defaultPos:"horizontal"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==c}),le("y",a,{defaultPos:"vertical"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==c}),Ja("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(a){return wg(a,
"square")}},text:{vgMark:"text",encodeEntry:function(a){var c=a.config,d=a.encoding;return Object.assign({},sb(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Qa("x",a,{defaultPos:"mid"}),Qa("y",a,{defaultPos:"mid"}),Cf(a),Ja("size",a,{vgChannel:"fontSize"}),Ja("angle",a),Ai("align",Sm(a.markDef,d,c)),Ai("baseline",Tm(a.markDef,d,c)),Qa("radius",a,{defaultPos:null,isMidPoint:!0}),Qa("theta",a,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",
encodeEntry:function(a){var c=a.config,d=a.markDef,f=d.orient,g="horizontal"===f?"width":"height";f="horizontal"===f?"height":"width";var h={};return Object.assign({},sb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Qa("x",a,{defaultPos:"mid",vgChannel:"xc"}),Qa("y",a,{defaultPos:"mid",vgChannel:"yc"}),Ja("size",a,{defaultValue:Um(a),vgChannel:g}),(h[f]=za(la("thickness",d,c)),h))}},trail:{vgMark:"trail",encodeEntry:function(a){return Object.assign({},
sb(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Qa("x",a,{defaultPos:"mid"}),Qa("y",a,{defaultPos:"mid"}),Ja("size",a),Ef(a))}}},pa=function(a,c,d,f,g){f=void 0===f?{}:f;c=Wb.call(this,a,"unit",c,d,g,void 0,Th(a)?a.view:void 0)||this;V(c,"markDef",void 0);V(c,"encoding",void 0);V(c,"specifiedScales",{});V(c,"stack",void 0);V(c,"specifiedAxes",{});V(c,"specifiedLegends",{});V(c,"specifiedProjection",{});V(c,"selection",{});V(c,"children",[]);var h=
dc(a.mark)?Object.assign({},a.mark):{type:a.mark};d=h.type;if(void 0===h.filled){if(a.data&&"graticule"in a.data)var k=!1;else{k=Qc("filled",h,g);var l=h.type;k=ta(k,l!==De&&l!==He&&l!==Fe)}h.filled=k}k=c.encoding=Nk(a.encoding||{},d,h.filled,g);h=Bb(h);l=la("orient",h,g);h.orient=Pm(h.type,k,l);void 0!==l&&l!==h.orient&&G('Specified orient "'.concat(h.orient,'" overridden with "').concat(l,'".'));if("bar"===h.type&&h.orient&&(l=la("cornerRadiusEnd",h,g),void 0!==l)){for(var n=$jscomp.makeIterator("horizontal"===
h.orient&&k.x2||"vertical"===h.orient&&k.y2?["cornerRadius"]:ln[h.orient]),m=n.next();!m.done;m=n.next())h[m.value]=l;void 0!==h.cornerRadiusEnd&&delete h.cornerRadiusEnd}void 0===la("opacity",h,g)&&(l=R([De,vg,tg,ug],h.type)&&!qf(k)?.7:void 0,h.opacity=l);void 0===la("cursor",h,g)&&(h.cursor=k.href||h.href||la("href",h,g)?"pointer":h.cursor);c.markDef=h;f=Th(a)?Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):f;g=$jscomp.makeIterator(tb);for(h=g.next();!h.done;h=g.next())h=
h.value,l=Nb(h),Sb(f[l])&&Qb(k[h])&&(delete f[l],G(Wg(l)));c.size=f;c.stack=ci(d,k);c.specifiedScales=c.initScales(d,k);c.specifiedAxes=c.initAxes(k);c.specifiedLegends=c.initLegends(k);c.specifiedProjection=a.projection;c.selection=a.selection;return c};$jscomp.inherits(pa,Wb);pa.prototype.scaleDomain=function(a){return(a=this.specifiedScales[a])?a.domain:void 0};pa.prototype.axis=function(a){return this.specifiedAxes[a]};pa.prototype.legend=function(a){return this.specifiedLegends[a]};pa.prototype.initScales=
function(a,c){var d=this;return ne.reduce(function(f,g){var h=Ga(c[g]);if(h){var k;f[g]=d.initScale(null!==(k=h.scale)&&void 0!==k?k:{})}return f},{})};pa.prototype.initScale=function(a){var c=a.domain,d=a.range;a=Bb(a);U(c)&&(a.domain=c.map(Xa));U(d)&&(a.range=d.map(Xa));return a};pa.prototype.initAxes=function(a){var c=this;return tb.reduce(function(d,f){var g=a[f];if(X(g)||"x"===f&&X(a.x2)||"y"===f&&X(a.y2))g=X(g)?g.axis:void 0,d[f]=g?c.initAxis(Object.assign({},g)):g;return d},{})};pa.prototype.initAxis=
function(a){var c=E(a),d={};c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next()){f=f.value;var g=a[f];d[f]=F(g)?yh(g):Xa(g)}return d};pa.prototype.initLegends=function(a){return fn.reduce(function(c,d){var f=Ga(a[d]),g;if(g=f)a:{switch(d){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":g=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":g=!1;break a}g=void 0}g&&(f=f.legend,c[d]=f?Bb(f):f);return c},{})};
pa.prototype.parseData=function(){this.component.data=Ce(this)};pa.prototype.parseLayoutSize=function(){for(var a=this.size,c=this.component,d=$jscomp.makeIterator(tb),f=d.next();!f.done;f=d.next())if(f=Nb(f.value),a[f]){var g=a[f];c.layoutSize.set(f,Sb(g)?"step":g,!0)}else g=Hm(this,f),c.layoutSize.set(f,g,!1)};pa.prototype.parseSelections=function(){this.component.selection=Rl(this,this.selection)};pa.prototype.parseMarkGroup=function(){this.component.mark=Vm(this)};pa.prototype.parseAxesAndHeaders=
function(){this.component.axes=Jm(this)};pa.prototype.assembleSelectionTopLevelSignals=function(a){return El(this,a)};pa.prototype.assembleSignals=function(){return[].concat($jscomp.arrayFromIterable(Vi(this)),$jscomp.arrayFromIterable(Cl(this,[])))};pa.prototype.assembleSelectionData=function(a){return Fl(this,a)};pa.prototype.assembleLayout=function(){return null};pa.prototype.assembleLayoutSignals=function(){return Vf(this)};pa.prototype.assembleMarks=function(){var a,c=null!==(a=this.component.mark)&&
void 0!==a?a:[];this.parent&&hd(this.parent)||(c=Ei(this,c));return c.map(this.correctDataNames)};pa.prototype.getMapping=function(){return this.encoding};pa.prototype.channelHasField=function(a){return Sc(this.encoding,a)};pa.prototype.fieldDef=function(a){return Rb(this.encoding[a])};pa.prototype.typedFieldDef=function(a){a=this.fieldDef(a);return rb(a)?a:null};$jscomp.global.Object.defineProperties(pa.prototype,{hasProjection:{configurable:!0,enumerable:!0,get:function(){var a=this.encoding,c=
this.mark===Pj,d=a&&an.some(function(f){return X(a[f])});return c||d}},mark:{configurable:!0,enumerable:!0,get:function(){return this.markDef.type}}});var Ua=function(a,c,d,f,g){var h=da.call(this,a,"layer",c,d,g,a.resolve,a.view)||this;V(h,"children",void 0);var k=Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{});h.children=a.layer.map(function(l,n){if("layer"in l)return new Ua(l,h,h.getName("layer_"+n),k,g);if(fc(l))return new pa(l,h,h.getName("layer_"+n),k,g);throw Error(Pe(l));
});return h};$jscomp.inherits(Ua,da);Ua.prototype.parseData=function(){this.component.data=Ce(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};Ua.prototype.parseLayoutSize=function(){qg(this);Be(this,"width");Be(this,"height")};Ua.prototype.parseSelections=function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();for(var d=$jscomp.makeIterator(E(c.component.selection)),
f=d.next();!f.done;f=d.next())f=f.value,this.component.selection[f]=c.component.selection[f]}};Ua.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};Ua.prototype.parseAxesAndHeaders=function(){var a=this.component,c=a.axes;a=a.resolve;for(var d={top:0,bottom:0,right:0,left:0},f=$jscomp.makeIterator(this.children),g=f.next();!g.done;g=f.next()){var h=g.value;h.parseAxesAndHeaders();var k=$jscomp.makeIterator(E(h.component.axes));
for(g=k.next();!g.done;g=k.next())g=g.value,a.axis[g]=Wf(this.component.resolve,g),"shared"===a.axis[g]&&(c[g]=Lm(c[g],h.component.axes[g]),c[g]||(a.axis[g]="independent",delete c[g]))}f=$jscomp.makeIterator(tb);for(g=f.next();!g.done;g=f.next()){h=g.value;k=$jscomp.makeIterator(this.children);for(g=k.next();!g.done;g=k.next())if(g=g.value,g.component.axes[h]){if("independent"===a.axis[h]){var l;c[h]=(null!==(l=c[h])&&void 0!==l?l:[]).concat(g.component.axes[h]);for(var n=$jscomp.makeIterator(g.component.axes[h]),
m=n.next();!m.done;m=n.next()){m=m.value;var p=m.getWithExplicit("orient"),r=p.value;p=p.explicit;W(r)||(0<d[r]&&!p&&(p=tn[r],d[r]>d[p]&&m.set("orient",p,!1)),d[r]++)}}delete g.component.axes[h]}if("independent"===a.axis[h]&&c[h]&&1<c[h].length)for(h=$jscomp.makeIterator(c[h]),k=h.next();!k.done;k=h.next())k=k.value,k.get("grid")&&!k.explicit.grid&&(k.implicit.grid=!1)}};Ua.prototype.assembleSelectionTopLevelSignals=function(a){return this.children.reduce(function(c,d){return d.assembleSelectionTopLevelSignals(c)},
a)};Ua.prototype.assembleSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleSignals())},Vi(this))};Ua.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLayoutSignals())},Vf(this))};Ua.prototype.assembleSelectionData=function(a){return this.children.reduce(function(c,d){return d.assembleSelectionData(c)},a)};Ua.prototype.assembleTitle=function(){var a=da.prototype.assembleTitle.call(this);if(a)return a;
var c=$jscomp.makeIterator(this.children);for(a=c.next();!a.done;a=c.next())if(a=a.value.assembleTitle())return a};Ua.prototype.assembleLayout=function(){return null};Ua.prototype.assembleMarks=function(){return Gl(this,this.children.flatMap(function(a){return a.assembleMarks()}))};Ua.prototype.assembleLegends=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLegends())},sj(this))};N.accessPathDepth=zb;N.accessPathWithDatum=wc;N.compile=function(a,c){c=void 0===c?{}:c;
c.logger&&(bd=c.logger);c.fieldTitle&&(Bd=c.fieldTitle);try{var d=Vh(Jc(c.config,a.config)),f=ki(a,d),g=zg(f,null,"",void 0,d);g.parse();var h=g.component.data;ag(h.sources);for(var k=0,l=0,n=0;5>n&&Aj(h,g,!0);n++)k++;h.sources.map($f);for(n=0;5>n&&Aj(h,g,!1);n++)l++;ag(h.sources);5===Math.max(k,l)&&G("Maximum optimization runs(".concat(5,") reached."));var m=f.autosize,p=g.component.layoutSize.get("width"),r=g.component.layoutSize.get("height");void 0===m?(m={type:"pad"},g.hasAxisOrientSignalRef()&&
(m.resize=!0)):Y(m)&&(m={type:m});var u;if(u=p&&r){var w=m.type;u="fit"===w||"fit-x"===w||"fit-y"===w}if(u)if("step"===p&&"step"===r)G(Og()),m.type="pad";else if("step"===p||"step"===r){k="step"===p?"width":"height";G(Og(Qd(k)));h=m;var x=(k="width"===k?"height":"width","fit-".concat(Qd(k)));h.type=x}var z=Object.assign({},1===E(m).length&&m.type?"pad"===m.type?{}:{autosize:m.type}:{autosize:m},Sh(d,!1),Sh(a,!0));return{spec:$m(g,z,a.datasets,a.usermeta),normalized:f}}finally{c.logger&&(bd=dk),c.fieldTitle&&
(Bd=ik)}};N.contains=R;N.deepEqual=ed;N.deleteNestedProperty=Lc;N.duplicate=aa;N.entries=ud;N.every=nd;N.fieldIntersection=sd;N.flatAccessWithDatum=Zc;N.getFirstDefined=ta;N.hasIntersection=qd;N.hash=ea;N.internalField=t;N.isBoolean=Lb;N.isEmpty=ja;N.isEqual=function(a,c){var d=E(a),f=E(c);if(d.length!==f.length)return!1;d=$jscomp.makeIterator(d);for(f=d.next();!f.done;f=d.next())if(f=f.value,a[f]!==c[f])return!1;return!0};N.isInternalField=v;N.isNullOrFalse=Xc;N.isNumeric=B;N.keys=E;N.logicalExpr=
Zb;N.mergeDeep=Pd;N.normalize=ki;N.normalizeAngle=y;N.omit=Pa;N.pick=bb;N.prefixGenerator=rd;N.removePathFromField=pd;N.replaceAll=ac;N.replacePathInField=yb;N.resetIdCounter=function(){Gg=42};N.setEqual=Yc;N.some=Yb;N.stringify=va;N.titleCase=$b;N.unique=pb;N.uniqueId=q;N.vals=ic;N.varName=oa;N.version="4.17.0";Object.defineProperty(N,"__esModule",{value:!0})})};
shadow$provide[51]=function(Jb,sb,hc,vb){function n(){throw Error("setTimeout has not been defined");}function q(){throw Error("clearTimeout has not been defined");}function S(pa){if(qb===setTimeout)return setTimeout(pa,0);if((qb===n||!qb)&&setTimeout)return qb=setTimeout,setTimeout(pa,0);try{return qb(pa,0)}catch(Ha){try{return qb.call(null,pa,0)}catch(Wa){return qb.call(this,pa,0)}}}function Pa(pa){if(Ea===clearTimeout)return clearTimeout(pa);if((Ea===q||!Ea)&&clearTimeout)return Ea=clearTimeout,
clearTimeout(pa);try{return Ea(pa)}catch(Ha){try{return Ea.call(null,pa)}catch(Wa){return Ea.call(this,pa)}}}function Kb(){fb&&Ja&&(fb=!1,Ja.length?ab=Ja.concat(ab):ea=-1,ab.length&&Ma())}function Ma(){if(!fb){var pa=S(Kb);fb=!0;for(var Ha=ab.length;Ha;){Ja=ab;for(ab=[];++ea<Ha;)Ja&&Ja[ea].run();ea=-1;Ha=ab.length}Ja=null;fb=!1;Pa(pa)}}function db(pa,Ha){this.fun=pa;this.array=Ha}function Eb(){}Jb=hc.exports={};try{var qb="function"===typeof setTimeout?setTimeout:n}catch(pa){qb=n}try{var Ea="function"===
typeof clearTimeout?clearTimeout:q}catch(pa){Ea=q}var ab=[],fb=!1,Ja,ea=-1;Jb.nextTick=function(pa){var Ha=Array(arguments.length-1);if(1<arguments.length)for(var Wa=1;Wa<arguments.length;Wa++)Ha[Wa-1]=arguments[Wa];ab.push(new db(pa,Ha));1!==ab.length||fb||S(Ma)};db.prototype.run=function(){this.fun.apply(null,this.array)};Jb.title="browser";Jb.browser=!0;Jb.env={};Jb.argv=[];Jb.version="";Jb.versions={};Jb.on=Eb;Jb.addListener=Eb;Jb.once=Eb;Jb.off=Eb;Jb.removeListener=Eb;Jb.removeAllListeners=Eb;
Jb.emit=Eb;Jb.prependListener=Eb;Jb.prependOnceListener=Eb;Jb.listeners=function(pa){return[]};Jb.binding=function(pa){throw Error("process.binding is not supported");};Jb.cwd=function(){return"/"};Jb.chdir=function(pa){throw Error("process.chdir is not supported");};Jb.umask=function(){return 0}};
shadow$provide[52]=function(Jb,sb,hc,vb){var n=sb(51);(function(q,S){"object"===typeof vb&&"undefined"!==typeof hc?hc.exports=S(sb(49),sb(50)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],S):(q="undefined"!==typeof globalThis?globalThis:q||self,q.vegaEmbed=S(q.vega,q.vegaLite))})(this,function(q,S){function Pa(N){if(N&&N.__esModule)return N;var na=Object.create(null);N&&Object.keys(N).forEach(function(Da){if("default"!==Da){var gb=Object.getOwnPropertyDescriptor(N,Da);Object.defineProperty(na,
Da,gb.get?gb:{enumerable:!0,get:function(){return N[Da]}})}});na["default"]=N;return Object.freeze(na)}function Kb(N,na,Da,gb){function Sa(Pb){return Pb instanceof Da?Pb:new Da(function(kc){kc(Pb)})}return new (Da||(Da=Promise))(function(Pb,kc){function oc(kd){try{uc(gb.next(kd))}catch(pd){kc(pd)}}function qc(kd){try{uc(gb["throw"](kd))}catch(pd){kc(pd)}}function uc(kd){kd.done?Pb(kd.value):Sa(kd.value).then(oc,qc)}uc((gb=gb.apply(N,na||[])).next())})}function Ma(N,na){function Da(uc){return function(kd){return gb([uc,
kd])}}function gb(uc){if(Pb)throw new TypeError("Generator is already executing.");for(;Sa;)try{if(Pb=1,kc&&(oc=uc[0]&2?kc["return"]:uc[0]?kc["throw"]||((oc=kc["return"])&&oc.call(kc),0):kc.next)&&!(oc=oc.call(kc,uc[1])).done)return oc;if(kc=0,oc)uc=[uc[0]&2,oc.value];switch(uc[0]){case 0:case 1:oc=uc;break;case 4:return Sa.label++,{value:uc[1],done:!1};case 5:Sa.label++;kc=uc[1];uc=[0];continue;case 7:uc=Sa.ops.pop();Sa.trys.pop();continue;default:if(!(oc=Sa.trys,oc=0<oc.length&&oc[oc.length-1])&&
(6===uc[0]||2===uc[0])){Sa=0;continue}if(3===uc[0]&&(!oc||uc[1]>oc[0]&&uc[1]<oc[3]))Sa.label=uc[1];else if(6===uc[0]&&Sa.label<oc[1])Sa.label=oc[1],oc=uc;else if(oc&&Sa.label<oc[2])Sa.label=oc[2],Sa.ops.push(uc);else{oc[2]&&Sa.ops.pop();Sa.trys.pop();continue}}uc=na.call(N,Sa)}catch(kd){uc=[6,kd],kc=0}finally{Pb=oc=0}if(uc[0]&5)throw uc[1];return{value:uc[0]?uc[1]:void 0,done:!0}}var Sa={label:0,sent:function(){if(oc[0]&1)throw oc[1];return oc[1]},trys:[],ops:[]},Pb,kc,oc,qc;return qc={next:Da(0),
"throw":Da(1),"return":Da(2)},"function"===typeof Symbol&&(qc[Symbol.iterator]=function(){return this}),qc}function db(N){if(Array.isArray(N)){var na=Array(N.length);for(N=0;N<na.length;N++)na[N]=""+N;return na}if(Object.keys)return Object.keys(N);na=[];for(var Da in N)D.call(N,Da)&&na.push(Da);return na}function Eb(N){switch(typeof N){case "object":return JSON.parse(JSON.stringify(N));case "undefined":return null;default:return N}}function qb(N){for(var na=0,Da=N.length,gb;na<Da;)if(gb=N.charCodeAt(na),
48<=gb&&57>=gb)na++;else return!1;return!0}function Ea(N){return-1===N.indexOf("/")&&-1===N.indexOf("~")?N:N.replace(/~/g,"~0").replace(/\//g,"~1")}function ab(N){return N.replace(/~1/g,"/").replace(/~0/g,"~")}function fb(N){if(void 0===N)return!0;if(N)if(Array.isArray(N))for(var na=0,Da=N.length;na<Da;na++){if(fb(N[na]))return!0}else if("object"===typeof N){Da=db(N);var gb=Da.length;for(na=0;na<gb;na++)if(fb(N[Da[na]]))return!0}return!1}function Ja(N,na){N=[N];for(var Da in na){var gb="object"===
typeof na[Da]?JSON.stringify(na[Da],null,2):na[Da];"undefined"!==typeof gb&&N.push(Da+": "+gb)}return N.join("\n")}function ea(N,na){if(""==na)return N;na={op:"_get",path:na};pa(N,na);return na.value}function pa(N,na,Da,gb,Sa,Pb){void 0===Da&&(Da=!1);void 0===gb&&(gb=!0);void 0===Sa&&(Sa=!0);void 0===Pb&&(Pb=0);Da&&("function"==typeof Da?Da(na,0,N,na.path):Wa(na,0));if(""===na.path){Sa={newDocument:N};if("add"===na.op)return Sa.newDocument=na.value,Sa;if("replace"===na.op)return Sa.newDocument=na.value,
Sa.removed=N,Sa;if("move"===na.op||"copy"===na.op)return Sa.newDocument=ea(N,na.from),"move"===na.op&&(Sa.removed=N),Sa;if("test"===na.op){Sa.test=ba(N,na.value);if(!1===Sa.test)throw new Y("Test operation failed","TEST_OPERATION_FAILED",Pb,na,N);Sa.newDocument=N;return Sa}if("remove"===na.op)return Sa.removed=N,Sa.newDocument=null,Sa;if("_get"===na.op)return na.value=N,Sa;if(Da)throw new Y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Pb,na,N);return Sa}gb||
(N=Eb(N));gb=(na.path||"").split("/");var kc=N,oc=1,qc=gb.length,uc=void 0,kd;for(kd="function"==typeof Da?Da:Wa;;){var pd=gb[oc];if(Sa&&"__proto__"==pd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Da&&void 0===uc&&(void 0===kc[pd]?uc=gb.slice(0,oc).join("/"):oc==qc-1&&(uc=na.path),void 0!==uc&&kd(na,0,N,uc));oc++;
if(Array.isArray(kc)){if("-"===pd)pd=kc.length;else{if(Da&&!qb(pd))throw new Y("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Pb,na,N);qb(pd)&&(pd=~~pd)}if(oc>=qc){if(Da&&"add"===na.op&&pd>kc.length)throw new Y("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Pb,na,N);Sa=H[na.op].call(na,kc,pd,N);if(!1===Sa.test)throw new Y("Test operation failed",
"TEST_OPERATION_FAILED",Pb,na,N);return Sa}}else if(pd&&-1!=pd.indexOf("~")&&(pd=ab(pd)),oc>=qc){Sa=W[na.op].call(na,kc,pd,N);if(!1===Sa.test)throw new Y("Test operation failed","TEST_OPERATION_FAILED",Pb,na,N);return Sa}kc=kc[pd]}}function Ha(N,na,Da,gb,Sa){void 0===gb&&(gb=!0);void 0===Sa&&(Sa=!0);if(Da&&!Array.isArray(na))throw new Y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");gb||(N=Eb(N));gb=Array(na.length);for(var Pb=0,kc=na.length;Pb<kc;Pb++)gb[Pb]=pa(N,na[Pb],Da,!0,Sa,Pb),
N=gb[Pb].newDocument;gb.newDocument=N;return gb}function Wa(N,na,Da,gb){if("object"!==typeof N||null===N||Array.isArray(N))throw new Y("Operation is not an object","OPERATION_NOT_AN_OBJECT",na,N,Da);if(W[N.op]){if("string"!==typeof N.path)throw new Y("Operation `path` property is not a string","OPERATION_PATH_INVALID",na,N,Da);if(0!==N.path.indexOf("/")&&0<N.path.length)throw new Y('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",na,N,Da);if("move"!==N.op&&"copy"!==N.op||"string"===
typeof N.from)if("add"!==N.op&&"replace"!==N.op&&"test"!==N.op||void 0!==N.value){if(("add"===N.op||"replace"===N.op||"test"===N.op)&&fb(N.value))throw new Y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",na,N,Da);if(Da)if("add"==N.op){var Sa=N.path.split("/").length;gb=gb.split("/").length;if(Sa!==gb+1&&Sa!==gb)throw new Y("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",
na,N,Da);}else if("replace"===N.op||"remove"===N.op||"_get"===N.op){if(N.path!==gb)throw new Y("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",na,N,Da);}else if(("move"===N.op||"copy"===N.op)&&(Sa=ja([{op:"_get",path:N.from,value:void 0}],Da))&&"OPERATION_PATH_UNRESOLVABLE"===Sa.name)throw new Y("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",na,N,Da);}else throw new Y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",na,N,Da);else throw new Y("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",na,N,Da);}else throw new Y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",na,N,Da);}function ja(N,na,Da){try{if(!Array.isArray(N))throw new Y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(na)Ha(Eb(na),Eb(N),Da||!0);else{Da=Da||Wa;for(var gb=0;gb<N.length;gb++)Da(N[gb],gb,
na,void 0)}}catch(Sa){if(Sa instanceof Y)return Sa;throw Sa;}}function ba(N,na){if(N===na)return!0;if(N&&na&&"object"==typeof N&&"object"==typeof na){var Da=Array.isArray(N),gb=Array.isArray(na);if(Da&&gb){var Sa=N.length;if(Sa!=na.length)return!1;for(Da=Sa;0!==Da--;)if(!ba(N[Da],na[Da]))return!1;return!0}if(Da!=gb)return!1;gb=Object.keys(N);Sa=gb.length;if(Sa!==Object.keys(na).length)return!1;for(Da=Sa;0!==Da--;)if(!na.hasOwnProperty(gb[Da]))return!1;for(Da=Sa;0!==Da--;)if(Sa=gb[Da],!ba(N[Sa],na[Sa]))return!1;
return!0}return N!==N&&na!==na}function Ra(N,na){void 0===na&&(na=!1);var Da=l.get(N.object);xa(Da.value,N.object,N.patches,"",na);N.patches.length&&Ha(Da.value,N.patches);na=N.patches;0<na.length&&(N.patches=[],N.callback&&N.callback(na));return na}function xa(N,na,Da,gb,Sa){if(na!==N){"function"===typeof na.toJSON&&(na=na.toJSON());for(var Pb=db(na),kc=db(N),oc=!1,qc=kc.length-1;0<=qc;qc--){var uc=kc[qc],kd=N[uc];if(!D.call(na,uc)||void 0===na[uc]&&void 0!==kd&&!1===Array.isArray(na))Array.isArray(N)===
Array.isArray(na)?(Sa&&Da.push({op:"test",path:gb+"/"+Ea(uc),value:Eb(kd)}),Da.push({op:"remove",path:gb+"/"+Ea(uc)}),oc=!0):(Sa&&Da.push({op:"test",path:gb,value:N}),Da.push({op:"replace",path:gb,value:na}));else{var pd=na[uc];"object"==typeof kd&&null!=kd&&"object"==typeof pd&&null!=pd?xa(kd,pd,Da,gb+"/"+Ea(uc),Sa):kd!==pd&&(Sa&&Da.push({op:"test",path:gb+"/"+Ea(uc),value:Eb(kd)}),Da.push({op:"replace",path:gb+"/"+Ea(uc),value:Eb(pd)}))}}if(oc||Pb.length!=kc.length)for(qc=0;qc<Pb.length;qc++)uc=
Pb[qc],D.call(N,uc)||void 0===na[uc]||Da.push({op:"add",path:gb+"/"+Ea(uc),value:Eb(na[uc])})}}function Oa(N){var na=$jscomp.makeIterator(/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(N).slice(1,3));N=na.next().value;na=na.next().value;return{library:N,version:na}}function za(N,na,Da){N.fields=na||[];N.fname=Da;return N}function ia(N){return 1===N.length?$b(N[0]):Ac(N)}function wa(N){function na(){Da.push(kc+N.substring(oc,qc));kc="";oc=qc+1}var Da=[],gb=N.length,Sa=null,Pb=0,kc="",oc,qc;N+="";for(oc=
qc=0;qc<gb;++qc){var uc=N[qc];if("\\"===uc)kc+=N.substring(oc,qc),kc+=N.substring(++qc,++qc),oc=qc;else if(uc===Sa)na(),Sa=null,Pb=-1;else if(!Sa)if(oc===Pb&&'"'===uc)oc=qc+1,Sa=uc;else if(oc===Pb&&"'"===uc)oc=qc+1,Sa=uc;else if("."===uc&&!Pb)qc>oc?na():oc=qc+1;else if("["===uc)qc>oc&&na(),Pb=oc=qc+1;else if("]"===uc){if(!Pb)throw Error("Access path missing open bracket: "+N);0<Pb&&na();Pb=0;oc=qc+1}}if(Pb)throw Error("Access path missing closing bracket: "+N);if(Sa)throw Error("Access path missing closing quote: "+
N);qc>oc&&(qc++,na());return Da}function sa(N,na){var Da={},gb;for(gb in N)Object.prototype.hasOwnProperty.call(N,gb)&&0>na.indexOf(gb)&&(Da[gb]=N[gb]);if(null!=N&&"function"===typeof Object.getOwnPropertySymbols){var Sa=0;for(gb=Object.getOwnPropertySymbols(N);Sa<gb.length;Sa++)0>na.indexOf(gb[Sa])&&Object.prototype.propertyIsEnumerable.call(N,gb[Sa])&&(Da[gb[Sa]]=N[gb[Sa]])}return Da}function qa(N,na,Da){if(Jc(N))return"["+N.map(function(oc){return na("string"===typeof oc?oc:JSON.stringify(oc,Fa(Da)))}).join(", ")+
"]";if(N===Object(N)){var gb="",Sa=N.title,Pb=N.image;N=sa(N,["title","image"]);Sa&&(gb+="\x3ch2\x3e"+na(Sa)+"\x3c/h2\x3e");Pb&&(gb+='\x3cimg src\x3d"'+na(Pb)+'"\x3e');Sa=Object.keys(N);if(0<Sa.length){gb+="\x3ctable\x3e";Sa=$jscomp.makeIterator(Sa);for(Pb=Sa.next();!Pb.done;Pb=Sa.next()){Pb=Pb.value;var kc=N[Pb];void 0!==kc&&(kc===Object(kc)&&(kc=JSON.stringify(kc,Fa(Da))),gb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'+na(Pb)+':\x3c/td\x3e\x3ctd class\x3d"value"\x3e'+na(kc)+"\x3c/td\x3e\x3c/tr\x3e")}gb+=
"\x3c/table\x3e"}return gb||"{}"}return na(N)}function Fa(N){var na=[];return function(Da,gb){if("object"!==typeof gb||null===gb)return gb;Da=na.indexOf(this)+1;na.length=Da;if(na.length>N)return"[Object]";if(0<=na.indexOf(gb))return"[Circular]";na.push(gb);return gb}}function Ca(N,na,Da){function gb(qc){qc.source===Pb&&(oc=0,N.removeEventListener("message",gb,!1))}function Sa(){0>=oc||(Pb.postMessage(Da,kc),setTimeout(Sa,250),--oc)}var Pb=N.open(na),kc=(new URL(na)).origin,oc=40;N.addEventListener("message",
gb,!1);setTimeout(Sa,250)}function Za(N){for(var na=[],Da=1;Da<arguments.length;Da++)na[Da-1]=arguments[Da];for(Da=0;Da<na.length;Da++)for(var gb=N,Sa=na[Da],Pb=0,kc=Object.keys(Sa);Pb<kc.length;Pb++){var oc=kc[Pb];q.writeConfig(gb,oc,Sa[oc],!0)}return N}function jb(N,na,Da,gb){na="\x3chtml\x3e\x3chead\x3e"+na+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Da="\x3c/code\x3e\x3c/pre\x3e"+Da+"\x3c/body\x3e\x3c/html\x3e";var Sa=window.open("");Sa.document.write(na+N+Da);Sa.document.title=
te[gb]+" JSON Source"}function y(N,na){var Da;return N.$schema?(N=Oa(N.$schema),na&&na!==N.library&&console.warn("The given visualization spec is written in "+te[N.library]+", but mode argument sets "+(null!==(Da=te[na])&&void 0!==Da?Da:na)+"."),na=N.library,lc.satisfies(ue[na],"^"+N.version.slice(1))||console.warn("The input spec uses "+te[na]+" "+N.version+", but the current version of "+te[na]+" is v"+ue[na]+"."),na):"mark"in N||"encoding"in N||"layer"in N||"hconcat"in N||"vconcat"in N||"facet"in
N||"repeat"in N?"vega-lite":"marks"in N||"signals"in N||"scales"in N||"axes"in N?"vega":null!==na&&void 0!==na?na:"vega"}function x(N,na,Da){var gb,Sa,Pb;void 0===Da&&(Da={});return Kb(this,void 0,void 0,function(){var kc,oc,qc,uc,kd,pd,yd,ld;return Ma(this,function(Od){switch(Od.label){case 0:kc=(Od=Da.loader)&&"load"in Od?Da.loader:od.loader(Da.loader);if(!q.isString(na))return[3,2];kd=(uc=JSON).parse;return[4,kc.load(na)];case 1:return qc=kd.apply(uc,[Od.sent()]),[3,3];case 2:qc=na,Od.label=3;
case 3:return oc=qc,[4,G(null!==(gb=oc.usermeta&&oc.usermeta.embedOptions)&&void 0!==gb?gb:{},kc)];case 4:return pd=Od.sent(),[4,G(Da,kc)];case 5:return yd=Od.sent(),ld=Ia(Ia({},Za(yd,pd)),{config:q.mergeConfig(null!==(Sa=yd.config)&&void 0!==Sa?Sa:{},null!==(Pb=pd.config)&&void 0!==Pb?Pb:{})}),[4,z(N,oc,ld,kc)];case 6:return[2,Od.sent()]}})})}function G(N,na){var Da;return Kb(this,void 0,void 0,function(){var gb,Sa,Pb,kc,oc,qc,uc,kd;return Ma(this,function(pd){switch(pd.label){case 0:if(!q.isString(N.config))return[3,
2];kc=(Pb=JSON).parse;return[4,na.load(N.config)];case 1:return Sa=kc.apply(Pb,[pd.sent()]),[3,3];case 2:Sa=null!==(Da=N.config)&&void 0!==Da?Da:{},pd.label=3;case 3:gb=Sa;if(!q.isString(N.patch))return[3,5];kd=(uc=JSON).parse;return[4,na.load(N.patch)];case 4:return qc=kd.apply(uc,[pd.sent()]),[3,6];case 5:qc=N.patch,pd.label=6;case 6:return oc=qc,[2,Ia(Ia(Ia({},N),oc?{patch:oc}:{}),gb?{config:gb}:{})]}})})}function J(N){var na;N=N.getRootNode?N.getRootNode():document;return N instanceof ShadowRoot?
{root:N,rootContainer:N}:{root:document,rootContainer:null!==(na=document.head)&&void 0!==na?na:document.body}}function z(N,na,Da,gb){var Sa,Pb,kc,oc,qc,uc;void 0===Da&&(Da={});return Kb(this,void 0,void 0,function(){function kd(){Sd&&document.removeEventListener("click",Sd);dc.finalize()}var pd,yd,ld,Od,de,jc,Wd,Jd,Lb,Ke,oe,re,Ye,Oe,ff,He,be,fc,Pd,dc,Yc,ne,ee,Pc,fe,Sd,Ld,Qd,Ed,ke,Gd,pe,Le,cf,qf,gd,rf,Fe;return Ma(this,function(Pe){switch(Pe.label){case 0:pd=Da.theme?q.mergeConfig(Gc[Da.theme],null!==
(Sa=Da.config)&&void 0!==Sa?Sa:{}):Da.config;yd=q.isBoolean(Da.actions)?Da.actions:Za({},Zd,null!==(Pb=Da.actions)&&void 0!==Pb?Pb:{});ld=Ia(Ia({},ze),Da.i18n);Od=null!==(kc=Da.renderer)&&void 0!==kc?kc:"canvas";de=null!==(oc=Da.logLevel)&&void 0!==oc?oc:od.Warn;jc=null!==(qc=Da.downloadFileName)&&void 0!==qc?qc:"visualization";Wd="string"===typeof N?document.querySelector(N):N;if(!Wd)throw Error(N+" does not exist");!1!==Da.defaultStyle&&(Jd=J(Wd),Lb=Jd.root,Ke=Jd.rootContainer,Lb.getElementById("vega-embed-style")||
(oe=document.createElement("style"),oe.id="vega-embed-style",oe.innerText=void 0===Da.defaultStyle||!0===Da.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Da.defaultStyle,Ke.appendChild(oe)));re=y(na,Da.mode);Ye=bf[re](na,pd);"vega-lite"===re&&Ye.$schema&&(Oe=Oa(Ye.$schema),lc.satisfies(ue.vega,"^"+Oe.version.slice(1))||console.warn("The compiled spec uses Vega "+Oe.version+", but current version is v"+ue.vega+"."));Wd.classList.add("vega-embed");yd&&Wd.classList.add("has-actions");Wd.innerHTML="";ff=Wd;yd&&(He=document.createElement("div"),He.classList.add("chart-wrapper"),Wd.appendChild(He),ff=He);(be=Da.patch)&&(Ye=be instanceof Function?be(Ye):
Ha(Ye,be,!0,!1).newDocument);Da.formatLocale&&od.formatLocale(Da.formatLocale);Da.timeFormatLocale&&od.timeFormatLocale(Da.timeFormatLocale);fc=Da.ast;Pd=od.parse(Ye,"vega-lite"===re?{}:pd,{ast:fc});dc=new od.View(Pd,Ia({loader:gb,logLevel:de,renderer:Od},fc?{expr:od.expressionInterpreter}:{}));!1!==Da.tooltip&&(Yc=void 0,Yc="function"===typeof Da.tooltip?Da.tooltip:(new ad(!0===Da.tooltip?{}:Da.tooltip)).call,dc.tooltip(Yc));ne=Da.hover;void 0===ne&&(ne="vega"===re);ne&&(ee="boolean"===typeof ne?
{}:ne,Pc=ee.hoverSet,fe=ee.updateSet,dc.hover(Pc,fe));Da&&(null!=Da.width&&dc.width(Da.width),null!=Da.height&&dc.height(Da.height),null!=Da.padding&&dc.padding(Da.padding));return[4,dc.initialize(ff).runAsync()];case 1:Pe.sent();if(!1!==yd){Ld=Wd;!1!==Da.defaultStyle&&(Qd=document.createElement("details"),Qd.title=ld.CLICK_TO_VIEW_ACTIONS,Wd.append(Qd),Ld=Qd,Ed=document.createElement("summary"),Ed.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
Qd.append(Ed),Sd=function(Ee){Qd.contains(Ee.target)||Qd.removeAttribute("open")},document.addEventListener("click",Sd));ke=document.createElement("div");Ld.append(ke);ke.classList.add("vega-actions");if(!0===yd||!1!==yd["export"])for(Gd=function(Ee){if(!0===yd||!0===yd["export"]||yd["export"][Ee]){var $e=ld[Ee.toUpperCase()+"_ACTION"],Qe=document.createElement("a");Qe.text=$e;Qe.href="#";Qe.target="_blank";Qe.download=jc+"."+Ee;Qe.addEventListener("mousedown",function(df){return Kb(this,void 0,void 0,
function(){var Be;return Ma(this,function(C){switch(C.label){case 0:return df.preventDefault(),[4,dc.toImageURL(Ee,Da.scaleFactor)];case 1:return this.href=Be=C.sent(),[2]}})})});ke.append(Qe)}},pe=0,Le=["svg","png"];pe<Le.length;pe++)cf=Le[pe],Gd(cf);if(!0===yd||!1!==yd.source)qf=document.createElement("a"),qf.text=ld.SOURCE_ACTION,qf.href="#",qf.addEventListener("click",function(Ee){var $e,Qe;jb(O(na),null!==($e=Da.sourceHeader)&&void 0!==$e?$e:"",null!==(Qe=Da.sourceFooter)&&void 0!==Qe?Qe:"",
re);Ee.preventDefault()}),ke.append(qf);"vega-lite"!==re||!0!==yd&&!1===yd.compiled||(gd=document.createElement("a"),gd.text=ld.COMPILED_ACTION,gd.href="#",gd.addEventListener("click",function(Ee){var $e,Qe;jb(O(Ye),null!==($e=Da.sourceHeader)&&void 0!==$e?$e:"",null!==(Qe=Da.sourceFooter)&&void 0!==Qe?Qe:"","vega");Ee.preventDefault()}),ke.append(gd));if(!0===yd||!1!==yd.editor)rf=null!==(uc=Da.editorUrl)&&void 0!==uc?uc:"https://vega.github.io/editor/",Fe=document.createElement("a"),Fe.text=ld.EDITOR_ACTION,
Fe.href="#",Fe.addEventListener("click",function(Ee){Ca(window,rf,{config:pd,mode:re,renderer:Od,spec:O(na)});Ee.preventDefault()}),ke.append(Fe)}return[2,{view:dc,spec:na,vgSpec:Ye,finalize:kd}]}})})}function F(N,na){var Da;void 0===na&&(na={});return Kb(this,void 0,void 0,function(){var gb,Sa,Pb,kc;return Ma(this,function(oc){switch(oc.label){case 0:return gb=document.createElement("div"),gb.classList.add("vega-embed-wrapper"),Sa=document.createElement("div"),gb.appendChild(Sa),Pb=!0===na.actions||
!1===na.actions?na.actions:Ia({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Da=na.actions)&&void 0!==Da?Da:{}),[4,x(Sa,N,Ia({actions:Pb},null!==na&&void 0!==na?na:{}))];case 1:return kc=oc.sent(),gb.value=kc.view,[2,gb]}})})}var M=Pa(q),ka=Pa(S),Ia=function(){Ia=Object.assign||function(N){for(var na,Da=1,gb=arguments.length;Da<gb;Da++){na=arguments[Da];for(var Sa in na)Object.prototype.hasOwnProperty.call(na,Sa)&&(N[Sa]=na[Sa])}return N};return Ia.apply(this,arguments)},Ta=function(){var N=
function(na,Da){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gb,Sa){gb.__proto__=Sa}||function(gb,Sa){for(var Pb in Sa)Sa.hasOwnProperty(Pb)&&(gb[Pb]=Sa[Pb])};return N(na,Da)};return function(na,Da){function gb(){this.constructor=na}N(na,Da);na.prototype=null===Da?Object.create(Da):(gb.prototype=Da.prototype,new gb)}}(),D=Object.prototype.hasOwnProperty,fa=function(N){function na(Da,gb,Sa,Pb,kc){var oc=this.constructor,qc=N.call(this,Ja(Da,{name:gb,index:Sa,operation:Pb,tree:kc}))||
this;qc.name=gb;qc.index=Sa;qc.operation=Pb;qc.tree=kc;Object.setPrototypeOf(qc,oc.prototype);qc.message=Ja(Da,{name:gb,index:Sa,operation:Pb,tree:kc});return qc}Ta(na,N);return na}(Error),Y=fa,W={add:function(N,na,Da){N[na]=this.value;return{newDocument:Da}},remove:function(N,na,Da){var gb=N[na];delete N[na];return{newDocument:Da,removed:gb}},replace:function(N,na,Da){var gb=N[na];N[na]=this.value;return{newDocument:Da,removed:gb}},move:function(N,na,Da){(N=ea(Da,this.path))&&(N=Eb(N));na=pa(Da,
{op:"remove",path:this.from}).removed;pa(Da,{op:"add",path:this.path,value:na});return{newDocument:Da,removed:N}},copy:function(N,na,Da){N=ea(Da,this.from);pa(Da,{op:"add",path:this.path,value:Eb(N)});return{newDocument:Da}},test:function(N,na,Da){return{newDocument:Da,test:ba(N[na],this.value)}},_get:function(N,na,Da){this.value=N[na];return{newDocument:Da}}},H={add:function(N,na,Da){qb(na)?N.splice(na,0,this.value):N[na]=this.value;return{newDocument:Da,index:na}},remove:function(N,na,Da){N=N.splice(na,
1);return{newDocument:Da,removed:N[0]}},replace:function(N,na,Da){var gb=N[na];N[na]=this.value;return{newDocument:Da,removed:gb}},move:W.move,copy:W.copy,test:W.test,_get:W._get},T=Object.freeze({__proto__:null,JsonPatchError:Y,deepClone:Eb,getValueByPointer:ea,applyOperation:pa,applyPatch:Ha,applyReducer:function(N,na,Da){var gb=pa(N,na);if(!1===gb.test)throw new Y("Test operation failed","TEST_OPERATION_FAILED",Da,na,N);return gb.newDocument},validator:Wa,validate:ja,_areEquals:ba}),l=new WeakMap,
k=function(){return function(N){this.observers=new Map;this.obj=N}}(),p=function(){return function(N,na){this.callback=N;this.observer=na}}(),t=Object.freeze({__proto__:null,unobserve:function(N,na){na.unobserve()},observe:function(N,na){var Da=l.get(N);if(Da){var gb=Da.observers.get(na);var Sa=gb&&gb.observer}else Da=new k(N),l.set(N,Da);if(Sa)return Sa;Sa={};Da.value=Eb(N);if(na){Sa.callback=na;Sa.next=null;var Pb=function(){Ra(Sa)},kc=function(){clearTimeout(Sa.next);Sa.next=setTimeout(Pb)};"undefined"!==
typeof window&&(window.addEventListener("mouseup",kc),window.addEventListener("keyup",kc),window.addEventListener("mousedown",kc),window.addEventListener("keydown",kc),window.addEventListener("change",kc))}Sa.patches=[];Sa.object=N;Sa.unobserve=function(){Ra(Sa);clearTimeout(Sa.next);Da.observers.delete(Sa.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",kc),window.removeEventListener("keyup",kc),window.removeEventListener("mousedown",kc),window.removeEventListener("keydown",
kc),window.removeEventListener("change",kc))};Da.observers.set(na,new p(na,Sa));return Sa},generate:Ra,compare:function(N,na,Da){void 0===Da&&(Da=!1);var gb=[];xa(N,na,gb,"",Da);return gb}});Object.assign({},T,t,{JsonPatchError:fa,deepClone:Eb,escapePathComponent:Ea,unescapePathComponent:ab});var w=/("(?:[^\\"]|\\.)*")|[:,]/g,O=function(N,na){na=na||{};var Da=JSON.stringify([1],void 0,void 0===na.indent?2:na.indent).slice(2,-3);var gb=""===Da?Infinity:void 0===na.maxLength?80:na.maxLength;var Sa=
na.replacer;return function uc(kc,oc,qc){kc&&"function"===typeof kc.toJSON&&(kc=kc.toJSON());var kd=JSON.stringify(kc,Sa);if(void 0===kd)return kd;qc=gb-oc.length-qc;if(kd.length<=qc){var pd=kd.replace(w,function(Lb,Ke){return Ke||Lb+" "});if(pd.length<=qc)return pd}null!=Sa&&(kc=JSON.parse(kd),Sa=void 0);if("object"===typeof kc&&null!==kc){var yd=oc+Da;var ld=[];var Od=0;if(Array.isArray(kc)){var de="[";pd="]";for(qc=kc.length;Od<qc;Od++)ld.push(uc(kc[Od],yd,Od===qc-1?0:1)||"null")}else{de="{";pd=
"}";var jc=Object.keys(kc);for(qc=jc.length;Od<qc;Od++){var Wd=jc[Od];var Jd=JSON.stringify(Wd)+": ";Wd=uc(kc[Wd],yd,Jd.length+(Od===qc-1?0:1));void 0!==Wd&&ld.push(Jd+Wd)}}if(0<ld.length)return[de,Da+ld.join(",\n"+yd),pd].join("\n"+oc)}return kd}(N,"",0)},la=Number.MAX_SAFE_INTEGER||9007199254740991,ma="object"===typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?function(N){for(var na=[],Da=0;Da<arguments.length;++Da)na[Da-0]=arguments[Da];return console.error.apply(console,
["SEMVER"].concat($jscomp.arrayFromIterable(na)))}:function(){},ua=function(N,na,Da){return Da={path:na,exports:{},require:function(gb,Sa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},N(Da,Da.exports),Da.exports}(function(N,na){na=N.exports={};var Da=na.re=[],gb=na.src=[],Sa=na.t={},Pb=0;N=function(kc,oc,qc){var uc=Pb++;ma(uc,oc);Sa[kc]=uc;gb[uc]=oc;Da[uc]=new RegExp(oc,qc?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*");N("NUMERICIDENTIFIERLOOSE","[0-9]+");
N("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");N("MAINVERSION","("+gb[Sa.NUMERICIDENTIFIER]+")\\.("+(gb[Sa.NUMERICIDENTIFIER]+")\\.(")+(gb[Sa.NUMERICIDENTIFIER]+")"));N("MAINVERSIONLOOSE","("+gb[Sa.NUMERICIDENTIFIERLOOSE]+")\\.("+(gb[Sa.NUMERICIDENTIFIERLOOSE]+")\\.(")+(gb[Sa.NUMERICIDENTIFIERLOOSE]+")"));N("PRERELEASEIDENTIFIER","(?:"+gb[Sa.NUMERICIDENTIFIER]+"|"+gb[Sa.NONNUMERICIDENTIFIER]+")");N("PRERELEASEIDENTIFIERLOOSE","(?:"+gb[Sa.NUMERICIDENTIFIERLOOSE]+"|"+gb[Sa.NONNUMERICIDENTIFIER]+
")");N("PRERELEASE","(?:-("+gb[Sa.PRERELEASEIDENTIFIER]+"(?:\\."+gb[Sa.PRERELEASEIDENTIFIER]+")*))");N("PRERELEASELOOSE","(?:-?("+gb[Sa.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+gb[Sa.PRERELEASEIDENTIFIERLOOSE]+")*))");N("BUILDIDENTIFIER","[0-9A-Za-z-]+");N("BUILD","(?:\\+("+gb[Sa.BUILDIDENTIFIER]+"(?:\\."+gb[Sa.BUILDIDENTIFIER]+")*))");N("FULLPLAIN","v?"+gb[Sa.MAINVERSION]+gb[Sa.PRERELEASE]+"?"+gb[Sa.BUILD]+"?");N("FULL","^"+gb[Sa.FULLPLAIN]+"$");N("LOOSEPLAIN","[v\x3d\\s]*"+gb[Sa.MAINVERSIONLOOSE]+gb[Sa.PRERELEASELOOSE]+
"?"+gb[Sa.BUILD]+"?");N("LOOSE","^"+gb[Sa.LOOSEPLAIN]+"$");N("GTLT","((?:\x3c|\x3e)?\x3d?)");N("XRANGEIDENTIFIERLOOSE",gb[Sa.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*");N("XRANGEIDENTIFIER",gb[Sa.NUMERICIDENTIFIER]+"|x|X|\\*");N("XRANGEPLAIN","[v\x3d\\s]*("+gb[Sa.XRANGEIDENTIFIER]+")(?:\\.("+(gb[Sa.XRANGEIDENTIFIER]+")(?:\\.(")+(gb[Sa.XRANGEIDENTIFIER]+")(?:")+(gb[Sa.PRERELEASE]+")?"+gb[Sa.BUILD]+"?)?)?"));N("XRANGEPLAINLOOSE","[v\x3d\\s]*("+gb[Sa.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+(gb[Sa.XRANGEIDENTIFIERLOOSE]+
")(?:\\.(")+(gb[Sa.XRANGEIDENTIFIERLOOSE]+")(?:")+(gb[Sa.PRERELEASELOOSE]+")?"+gb[Sa.BUILD]+"?)?)?"));N("XRANGE","^"+gb[Sa.GTLT]+"\\s*"+gb[Sa.XRANGEPLAIN]+"$");N("XRANGELOOSE","^"+gb[Sa.GTLT]+"\\s*"+gb[Sa.XRANGEPLAINLOOSE]+"$");N("COERCE","(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])");N("COERCERTL",gb[Sa.COERCE],!0);N("LONETILDE","(?:~\x3e?)");N("TILDETRIM","(\\s*)"+gb[Sa.LONETILDE]+"\\s+",!0);na.tildeTrimReplace="$1~";N("TILDE","^"+gb[Sa.LONETILDE]+gb[Sa.XRANGEPLAIN]+
"$");N("TILDELOOSE","^"+gb[Sa.LONETILDE]+gb[Sa.XRANGEPLAINLOOSE]+"$");N("LONECARET","(?:\\^)");N("CARETTRIM","(\\s*)"+gb[Sa.LONECARET]+"\\s+",!0);na.caretTrimReplace="$1^";N("CARET","^"+gb[Sa.LONECARET]+gb[Sa.XRANGEPLAIN]+"$");N("CARETLOOSE","^"+gb[Sa.LONECARET]+gb[Sa.XRANGEPLAINLOOSE]+"$");N("COMPARATORLOOSE","^"+gb[Sa.GTLT]+"\\s*("+gb[Sa.LOOSEPLAIN]+")$|^$");N("COMPARATOR","^"+gb[Sa.GTLT]+"\\s*("+gb[Sa.FULLPLAIN]+")$|^$");N("COMPARATORTRIM","(\\s*)"+gb[Sa.GTLT]+"\\s*("+gb[Sa.LOOSEPLAIN]+"|"+gb[Sa.XRANGEPLAIN]+
")",!0);na.comparatorTrimReplace="$1$2$3";N("HYPHENRANGE","^\\s*("+gb[Sa.XRANGEPLAIN]+")\\s+-\\s+("+(gb[Sa.XRANGEPLAIN]+")\\s*$"));N("HYPHENRANGELOOSE","^\\s*("+gb[Sa.XRANGEPLAINLOOSE]+")\\s+-\\s+("+(gb[Sa.XRANGEPLAINLOOSE]+")\\s*$"));N("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");N("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");N("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")}),eb=/^[0-9]+$/,cb=function(N,na){var Da=eb.test(N),gb=eb.test(na);Da&&gb&&(N=+N,na=+na);return N===na?0:Da&&!gb?-1:gb&&!Da?1:N<na?-1:1},Ba=ua.re,
Ka=ua.t,Z=function(N,na){na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(N instanceof Z){if(N.loose===!!na.loose&&N.includePrerelease===!!na.includePrerelease)return N;N=N.version}else if("string"!==typeof N)throw new TypeError("Invalid Version: "+N);if(256<N.length)throw new TypeError("version is longer than 256 characters");ma("SemVer",N,na);this.options=na;this.loose=!!na.loose;this.includePrerelease=!!na.includePrerelease;na=N.trim().match(na.loose?Ba[Ka.LOOSE]:Ba[Ka.FULL]);
if(!na)throw new TypeError("Invalid Version: "+N);this.raw=N;this.major=+na[1];this.minor=+na[2];this.patch=+na[3];if(this.major>la||0>this.major)throw new TypeError("Invalid major version");if(this.minor>la||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>la||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=na[4]?na[4].split(".").map(function(Da){if(/^[0-9]+$/.test(Da)){var gb=+Da;if(0<=gb&&gb<la)return gb}return Da}):[];this.build=na[5]?na[5].split("."):
[];this.format()};Z.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;this.prerelease.length&&(this.version+="-"+this.prerelease.join("."));return this.version};Z.prototype.toString=function(){return this.version};Z.prototype.compare=function(N){ma("SemVer.compare",this.version,this.options,N);if(!(N instanceof Z)){if("string"===typeof N&&N===this.version)return 0;N=new Z(N,this.options)}return N.version===this.version?0:this.compareMain(N)||this.comparePre(N)};Z.prototype.compareMain=
function(N){N instanceof Z||(N=new Z(N,this.options));return cb(this.major,N.major)||cb(this.minor,N.minor)||cb(this.patch,N.patch)};Z.prototype.comparePre=function(N){N instanceof Z||(N=new Z(N,this.options));if(this.prerelease.length&&!N.prerelease.length)return-1;if(!this.prerelease.length&&N.prerelease.length)return 1;if(!this.prerelease.length&&!N.prerelease.length)return 0;var na=0;do{var Da=this.prerelease[na],gb=N.prerelease[na];ma("prerelease compare",na,Da,gb);if(void 0===Da&&void 0===gb)return 0;
if(void 0===gb)return 1;if(void 0===Da)return-1;if(Da!==gb)return cb(Da,gb)}while(++na)};Z.prototype.compareBuild=function(N){N instanceof Z||(N=new Z(N,this.options));var na=0;do{var Da=this.build[na],gb=N.build[na];ma("prerelease compare",na,Da,gb);if(void 0===Da&&void 0===gb)return 0;if(void 0===gb)return 1;if(void 0===Da)return-1;if(Da!==gb)return cb(Da,gb)}while(++na)};Z.prototype.inc=function(N,na){switch(N){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",
na);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",na);break;case "prepatch":this.prerelease.length=0;this.inc("patch",na);this.inc("pre",na);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",na);this.inc("pre",na);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=
[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(N=this.prerelease.length;0<=--N;)"number"===typeof this.prerelease[N]&&(this.prerelease[N]++,N=-2);-1===N&&this.prerelease.push(0)}na&&(this.prerelease[0]===na?isNaN(this.prerelease[1])&&(this.prerelease=[na,0]):this.prerelease=[na,0]);break;default:throw Error("invalid increment argument: "+N);}this.format();this.raw=this.version;return this};
var ra=Z,hb=ua.re,mb=ua.t,Hb=function(N,na){na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(N instanceof ra)return N;if("string"!==typeof N||256<N.length||!(na.loose?hb[mb.LOOSE]:hb[mb.FULL]).test(N))return null;try{return new ra(N,na)}catch(Da){return null}},Xb=function(N,na,Da){return(new ra(N,Da)).compare(new ra(na,Da))},ya=function(N,na,Da){return 0===Xb(N,na,Da)},wb=function(N,na,Da){N=new ra(N,Da);na=new ra(na,Da);return N.compare(na)||N.compareBuild(na)},Tb=function(N,na,
Da){return 0<Xb(N,na,Da)},rb=function(N,na,Da){return 0>Xb(N,na,Da)},Sb=function(N,na,Da){return 0!==Xb(N,na,Da)},ic=function(N,na,Da){return 0<=Xb(N,na,Da)},rc=function(N,na,Da){return 0>=Xb(N,na,Da)},Tc=function(N,na,Da,gb){switch(na){case "\x3d\x3d\x3d":return"object"===typeof N&&(N=N.version),"object"===typeof Da&&(Da=Da.version),N===Da;case "!\x3d\x3d":return"object"===typeof N&&(N=N.version),"object"===typeof Da&&(Da=Da.version),N!==Da;case "":case "\x3d":case "\x3d\x3d":return ya(N,Da,gb);
case "!\x3d":return Sb(N,Da,gb);case "\x3e":return Tb(N,Da,gb);case "\x3e\x3d":return ic(N,Da,gb);case "\x3c":return rb(N,Da,gb);case "\x3c\x3d":return rc(N,Da,gb);default:throw new TypeError("Invalid operator: "+na);}},pc=ua.re,tb=ua.t,bc=function(N,na){var Da=this;na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(N instanceof bc)return N.loose===!!na.loose&&N.includePrerelease===!!na.includePrerelease?N:new bc(N.raw,na);if(N instanceof Fb)return this.raw=N.value,this.set=[[N]],
this.format(),this;this.options=na;this.loose=!!na.loose;this.includePrerelease=!!na.includePrerelease;this.raw=N;this.set=N.split(/\s*\|\|\s*/).map(function(gb){return Da.parseRange(gb.trim())}).filter(function(gb){return gb.length});if(!this.set.length)throw new TypeError("Invalid SemVer Range: "+N);this.format()};bc.prototype.format=function(){return this.range=this.set.map(function(N){return N.join(" ").trim()}).join("||").trim()};bc.prototype.toString=function(){return this.range};bc.prototype.parseRange=
function(N){var na=this,Da=this.options.loose;N=N.trim();N=N.replace(Da?xc[Xc.HYPHENRANGELOOSE]:xc[Xc.HYPHENRANGE],da(this.options.includePrerelease));ma("hyphen replace",N);N=N.replace(xc[Xc.COMPARATORTRIM],ud);ma("comparator trim",N,xc[Xc.COMPARATORTRIM]);N=N.replace(xc[Xc.TILDETRIM],xd);N=N.replace(xc[Xc.CARETTRIM],ae);N=N.split(/\s+/).join(" ");var gb=Da?xc[Xc.COMPARATORLOOSE]:xc[Xc.COMPARATOR];return N.split(" ").map(function(Sa){var Pb=Sa;Sa=na.options;ma("comp",Pb,Sa);Pb=De(Pb,Sa);ma("caret",
Pb);Pb=Rc(Pb,Sa);ma("tildes",Pb);Pb=Md(Pb,Sa);ma("xrange",Pb);ma("replaceStars",Pb,Sa);Pb=Pb.trim().replace(xc[Xc.STAR],"");ma("stars",Pb);return Pb}).join(" ").split(/\s+/).map(function(Sa){var Pb=na.options;ma("replaceGTE0",Sa,Pb);return Sa.trim().replace(xc[Pb.includePrerelease?Xc.GTE0PRE:Xc.GTE0],"")}).filter(this.options.loose?function(Sa){return!!Sa.match(gb)}:function(){return!0}).map(function(Sa){return new Fb(Sa,na.options)})};bc.prototype.intersects=function(N,na){if(!(N instanceof bc))throw new TypeError("a Range is required");
return this.set.some(function(Da){return Cb(Da,na)&&N.set.some(function(gb){return Cb(gb,na)&&Da.every(function(Sa){return gb.every(function(Pb){return Sa.intersects(Pb,na)})})})})};bc.prototype.test=function(N){if(!N)return!1;if("string"===typeof N)try{N=new ra(N,this.options)}catch(kc){return!1}for(var na=0;na<this.set.length;na++){a:{var Da=this.set[na];for(var gb=N,Sa=this.options,Pb=0;Pb<Da.length;Pb++)if(!Da[Pb].test(gb)){Da=!1;break a}if(gb.prerelease.length&&!Sa.includePrerelease){for(Sa=
0;Sa<Da.length;Sa++)if(ma(Da[Sa].semver),Da[Sa].semver!==Fb.ANY&&0<Da[Sa].semver.prerelease.length&&(Pb=Da[Sa].semver,Pb.major===gb.major&&Pb.minor===gb.minor&&Pb.patch===gb.patch)){Da=!0;break a}Da=!1}else Da=!0}if(Da)return!0}return!1};var Mb=bc,xc=ua.re,Xc=ua.t,ud=ua.comparatorTrimReplace,xd=ua.tildeTrimReplace,ae=ua.caretTrimReplace,Cb=function(N,na){var Da=!0;N=N.slice();for(var gb=N.pop();Da&&N.length;)Da=N.every(function(Sa){return gb.intersects(Sa,na)}),gb=N.pop();return Da},Rb=function(N){return!N||
"x"===N.toLowerCase()||"*"===N},Rc=function(N,na){return N.trim().split(/\s+/).map(function(Da){return se(Da,na)}).join(" ")},se=function(N,na){return N.replace(na.loose?xc[Xc.TILDELOOSE]:xc[Xc.TILDE],function(Da,gb,Sa,Pb,kc){ma("tilde",N,Da,gb,Sa,Pb,kc);Rb(gb)?Da="":Rb(Sa)?Da="\x3e\x3d"+gb+".0.0 \x3c"+(+gb+1)+".0.0-0":Rb(Pb)?Da="\x3e\x3d"+gb+"."+Sa+".0 \x3c"+gb+"."+(+Sa+1)+".0-0":kc?(ma("replaceTilde pr",kc),Da="\x3e\x3d"+gb+"."+Sa+"."+Pb+"-"+kc+" \x3c"+gb+"."+(+Sa+1)+".0-0"):Da="\x3e\x3d"+gb+"."+
Sa+"."+Pb+" \x3c"+gb+"."+(+Sa+1)+".0-0";ma("tilde return",Da);return Da})},De=function(N,na){return N.trim().split(/\s+/).map(function(Da){return Ne(Da,na)}).join(" ")},Ne=function(N,na){ma("caret",N,na);var Da=na.includePrerelease?"-0":"";return N.replace(na.loose?xc[Xc.CARETLOOSE]:xc[Xc.CARET],function(gb,Sa,Pb,kc,oc){ma("caret",N,gb,Sa,Pb,kc,oc);Rb(Sa)?gb="":Rb(Pb)?gb="\x3e\x3d"+Sa+".0.0"+Da+" \x3c"+(+Sa+1)+".0.0-0":Rb(kc)?gb="0"===Sa?"\x3e\x3d"+Sa+"."+Pb+".0"+Da+" \x3c"+Sa+"."+(+Pb+1)+".0-0":
"\x3e\x3d"+Sa+"."+Pb+".0"+Da+" \x3c"+(+Sa+1)+".0.0-0":oc?(ma("replaceCaret pr",oc),gb="0"===Sa?"0"===Pb?"\x3e\x3d"+Sa+"."+Pb+"."+kc+"-"+oc+" \x3c"+Sa+"."+Pb+"."+(+kc+1)+"-0":"\x3e\x3d"+Sa+"."+Pb+"."+kc+"-"+oc+" \x3c"+Sa+"."+(+Pb+1)+".0-0":"\x3e\x3d"+Sa+"."+Pb+"."+kc+"-"+oc+" \x3c"+(+Sa+1)+".0.0-0"):(ma("no pr"),gb="0"===Sa?"0"===Pb?"\x3e\x3d"+Sa+"."+Pb+"."+kc+Da+" \x3c"+Sa+"."+Pb+"."+(+kc+1)+"-0":"\x3e\x3d"+Sa+"."+Pb+"."+kc+Da+" \x3c"+Sa+"."+(+Pb+1)+".0-0":"\x3e\x3d"+Sa+"."+Pb+"."+kc+" \x3c"+(+Sa+
1)+".0.0-0");ma("caret return",gb);return gb})},Md=function(N,na){ma("replaceXRanges",N,na);return N.split(/\s+/).map(function(Da){return I(Da,na)}).join(" ")},I=function(N,na){N=N.trim();return N.replace(na.loose?xc[Xc.XRANGELOOSE]:xc[Xc.XRANGE],function(Da,gb,Sa,Pb,kc,oc){ma("xRange",N,Da,gb,Sa,Pb,kc,oc);var qc=Rb(Sa),uc=qc||Rb(Pb);kc=uc||Rb(kc);"\x3d"===gb&&kc&&(gb="");oc=na.includePrerelease?"-0":"";qc?Da="\x3e"===gb||"\x3c"===gb?"\x3c0.0.0-0":"*":gb&&kc?(uc&&(Pb=0),kc=0,"\x3e"===gb?(gb="\x3e\x3d",
uc?(Sa=+Sa+1,Pb=0):Pb=+Pb+1,kc=0):"\x3c\x3d"===gb&&(gb="\x3c",uc?Sa=+Sa+1:Pb=+Pb+1),"\x3c"===gb&&(oc="-0"),Da=gb+Sa+"."+Pb+"."+kc+oc):uc?Da="\x3e\x3d"+Sa+".0.0"+oc+" \x3c"+(+Sa+1)+".0.0-0":kc&&(Da="\x3e\x3d"+Sa+"."+Pb+".0"+oc+" \x3c"+Sa+"."+(+Pb+1)+".0-0");ma("xRange return",Da);return Da})},da=function(N){return function(na,Da,gb,Sa,Pb,kc,oc,qc,uc,kd,pd,yd,ld){Da=Rb(gb)?"":Rb(Sa)?"\x3e\x3d"+gb+".0.0"+(N?"-0":""):Rb(Pb)?"\x3e\x3d"+gb+"."+Sa+".0"+(N?"-0":""):kc?"\x3e\x3d"+Da:"\x3e\x3d"+Da+(N?"-0":
"");qc=Rb(uc)?"":Rb(kd)?"\x3c"+(+uc+1)+".0.0-0":Rb(pd)?"\x3c"+uc+"."+(+kd+1)+".0-0":yd?"\x3c\x3d"+uc+"."+kd+"."+pd+"-"+yd:N?"\x3c"+uc+"."+kd+"."+(+pd+1)+"-0":"\x3c\x3d"+qc;return(Da+" "+qc).trim()}},bb=Symbol("SemVer ANY"),La=function(N,na){na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(N instanceof La){if(N.loose===!!na.loose)return N;N=N.value}ma("comparator",N,na);this.options=na;this.loose=!!na.loose;this.parse(N);this.value=this.semver===bb?"":this.operator+this.semver.version;
ma("comp",this)};La.prototype.parse=function(N){var na=N.match(this.options.loose?Vb[Yb.COMPARATORLOOSE]:Vb[Yb.COMPARATOR]);if(!na)throw new TypeError("Invalid comparator: "+N);this.operator=void 0!==na[1]?na[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=na[2]?new ra(na[2],this.options.loose):bb};La.prototype.toString=function(){return this.value};La.prototype.test=function(N){ma("Comparator.test",N,this.options.loose);if(this.semver===bb||N===bb)return!0;if("string"===typeof N)try{N=
new ra(N,this.options)}catch(na){return!1}return Tc(N,this.operator,this.semver,this.options)};La.prototype.intersects=function(N,na){if(!(N instanceof La))throw new TypeError("a Comparator is required");na&&"object"===typeof na||(na={loose:!!na,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Mb(N.value,na)).test(this.value);if(""===N.operator)return""===N.value?!0:(new Mb(this.value,na)).test(N.semver);var Da=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===
N.operator||"\x3e"===N.operator),gb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===N.operator||"\x3c"===N.operator),Sa=this.semver.version===N.semver.version,Pb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===N.operator||"\x3c\x3d"===N.operator),kc=Tc(this.semver,"\x3c",N.semver,na)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===N.operator||"\x3c"===N.operator);N=Tc(this.semver,"\x3e",N.semver,na)&&("\x3c\x3d"===this.operator||"\x3c"===
this.operator)&&("\x3e\x3d"===N.operator||"\x3e"===N.operator);return Da||gb||Sa&&Pb||kc||N};$jscomp.global.Object.defineProperties(La,{ANY:{configurable:!0,enumerable:!0,get:function(){return bb}}});var Fb=La,Vb=ua.re,Yb=ua.t,cc=function(N,na,Da){try{na=new Mb(na,Da)}catch(gb){return!1}return na.test(N)},va=Fb.ANY,Qa=function(N,na,Da,gb){N=new ra(N,gb);na=new Mb(na,gb);switch(Da){case "\x3e":var Sa=Tb;Da=rc;var Pb=rb;var kc="\x3e";var oc="\x3e\x3d";break;case "\x3c":Sa=rb;Da=ic;Pb=Tb;kc="\x3c";oc=
"\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(cc(N,na,gb))return!1;for(var qc={},uc=0;uc<na.set.length;qc={$jscomp$loop$prop$high$705:qc.$jscomp$loop$prop$high$705,$jscomp$loop$prop$low$706:qc.$jscomp$loop$prop$low$706},++uc){var kd=na.set[uc];qc.$jscomp$loop$prop$high$705=null;qc.$jscomp$loop$prop$low$706=null;kd.forEach(function(pd){return function(yd){yd.semver===va&&(yd=new Fb("\x3e\x3d0.0.0"));pd.$jscomp$loop$prop$high$705=pd.$jscomp$loop$prop$high$705||
yd;pd.$jscomp$loop$prop$low$706=pd.$jscomp$loop$prop$low$706||yd;Sa(yd.semver,pd.$jscomp$loop$prop$high$705.semver,gb)?pd.$jscomp$loop$prop$high$705=yd:Pb(yd.semver,pd.$jscomp$loop$prop$low$706.semver,gb)&&(pd.$jscomp$loop$prop$low$706=yd)}}(qc));if(qc.$jscomp$loop$prop$high$705.operator===kc||qc.$jscomp$loop$prop$high$705.operator===oc||(!qc.$jscomp$loop$prop$low$706.operator||qc.$jscomp$loop$prop$low$706.operator===kc)&&Da(N,qc.$jscomp$loop$prop$low$706.semver)||qc.$jscomp$loop$prop$low$706.operator===
oc&&Pb(N,qc.$jscomp$loop$prop$low$706.semver))return!1}return!0},yb=Fb.ANY,Nb=function(N,na,Da){if(1===N.length&&N[0].semver===yb)return 1===na.length&&na[0].semver===yb;var gb=new Set,Sa,Pb,kc=$jscomp.makeIterator(N);for(N=kc.next();!N.done;N=kc.next())N=N.value,"\x3e"===N.operator||"\x3e\x3d"===N.operator?Sa=gc(Sa,N,Da):"\x3c"===N.operator||"\x3c\x3d"===N.operator?Pb=tc(Pb,N,Da):gb.add(N.semver);if(1<gb.size)return null;if(Sa&&Pb){var oc=Xb(Sa.semver,Pb.semver,Da);if(0<oc||0===oc&&("\x3e\x3d"!==
Sa.operator||"\x3c\x3d"!==Pb.operator))return null}for(N=$jscomp.makeIterator(gb).next();!N.done;){oc=N.value;if(Sa&&!cc(oc,String(Sa),Da)||Pb&&!cc(oc,String(Pb),Da))return null;Sa=$jscomp.makeIterator(na);for(N=Sa.next();!N.done;N=Sa.next())if(!cc(oc,String(N.value),Da))return!1;return!0}na=$jscomp.makeIterator(na);for(N=na.next();!N.done;N=na.next()){N=N.value;var qc=qc||"\x3e"===N.operator||"\x3e\x3d"===N.operator;var uc=uc||"\x3c"===N.operator||"\x3c\x3d"===N.operator;if(Sa)if("\x3e"===N.operator||
"\x3e\x3d"===N.operator){if(gb=gc(Sa,N,Da),gb===N)return!1}else if("\x3e\x3d"===Sa.operator&&!cc(Sa.semver,String(N),Da))return!1;if(Pb)if("\x3c"===N.operator||"\x3c\x3d"===N.operator){if(gb=tc(Pb,N,Da),gb===N)return!1}else if("\x3c\x3d"===Pb.operator&&!cc(Pb.semver,String(N),Da))return!1;if(!N.operator&&(Pb||Sa)&&0!==oc)return!1}return Sa&&uc&&!Pb&&0!==oc||Pb&&qc&&!Sa&&0!==oc?!1:!0},gc=function(N,na,Da){if(!N)return na;Da=Xb(N.semver,na.semver,Da);return 0<Da?N:0>Da?na:"\x3e"===na.operator&&"\x3e\x3d"===
N.operator?na:N},tc=function(N,na,Da){if(!N)return na;Da=Xb(N.semver,na.semver,Da);return 0>Da?N:0<Da?na:"\x3c"===na.operator&&"\x3c\x3d"===N.operator?na:N},lc={re:ua.re,src:ua.src,tokens:ua.t,SEMVER_SPEC_VERSION:"2.0.0",SemVer:ra,compareIdentifiers:cb,rcompareIdentifiers:function(N,na){return cb(na,N)},parse:Hb,valid:function(N,na){return(N=Hb(N,na))?N.version:null},clean:function(N,na){return(N=Hb(N.trim().replace(/^[=v]+/,""),na))?N.version:null},inc:function(N,na,Da,gb){"string"===typeof Da&&
(gb=Da,Da=void 0);try{return(new ra(N,Da)).inc(na,gb).version}catch(Sa){return null}},diff:function(N,na){if(ya(N,na))return null;N=Hb(N);na=Hb(na);var Da=N.prerelease.length||na.prerelease.length,gb=Da?"pre":"",Sa;for(Sa in N)if(("major"===Sa||"minor"===Sa||"patch"===Sa)&&N[Sa]!==na[Sa])return gb+Sa;return Da?"prerelease":""},major:function(N,na){return(new ra(N,na)).major},minor:function(N,na){return(new ra(N,na)).minor},patch:function(N,na){return(new ra(N,na)).patch},prerelease:function(N,na){return(N=
Hb(N,na))&&N.prerelease.length?N.prerelease:null},compare:Xb,rcompare:function(N,na,Da){return Xb(na,N,Da)},compareLoose:function(N,na){return Xb(N,na,!0)},compareBuild:wb,sort:function(N,na){return N.sort(function(Da,gb){return wb(Da,gb,na)})},rsort:function(N,na){return N.sort(function(Da,gb){return wb(gb,Da,na)})},gt:Tb,lt:rb,eq:ya,neq:Sb,gte:ic,lte:rc,cmp:Tc,coerce:function(N,na){if(N instanceof ra)return N;"number"===typeof N&&(N=String(N));if("string"!==typeof N)return null;na=na||{};var Da=
null;if(na.rtl){for(var gb;(gb=pc[tb.COERCERTL].exec(N))&&(!Da||Da.index+Da[0].length!==N.length);)Da&&gb.index+gb[0].length===Da.index+Da[0].length||(Da=gb),pc[tb.COERCERTL].lastIndex=gb.index+gb[1].length+gb[2].length;pc[tb.COERCERTL].lastIndex=-1}else Da=N.match(pc[tb.COERCE]);return null===Da?null:Hb(Da[2]+"."+(Da[3]||"0")+"."+(Da[4]||"0"),na)},Comparator:Fb,Range:Mb,satisfies:cc,toComparators:function(N,na){return(new Mb(N,na)).set.map(function(Da){return Da.map(function(gb){return gb.value}).join(" ").trim().split(" ")})},
maxSatisfying:function(N,na,Da){var gb=null,Sa=null,Pb=null;try{Pb=new Mb(na,Da)}catch(kc){return null}N.forEach(function(kc){!Pb.test(kc)||gb&&-1!==Sa.compare(kc)||(gb=kc,Sa=new ra(gb,Da))});return gb},minSatisfying:function(N,na,Da){var gb=null,Sa=null,Pb=null;try{Pb=new Mb(na,Da)}catch(kc){return null}N.forEach(function(kc){!Pb.test(kc)||gb&&1!==Sa.compare(kc)||(gb=kc,Sa=new ra(gb,Da))});return gb},minVersion:function(N,na){N=new Mb(N,na);var Da=new ra("0.0.0");if(N.test(Da))return Da;Da=new ra("0.0.0-0");
if(N.test(Da))return Da;Da=null;for(na=0;na<N.set.length;++na)N.set[na].forEach(function(gb){var Sa=new ra(gb.semver.version);switch(gb.operator){case "\x3e":0===Sa.prerelease.length?Sa.patch++:Sa.prerelease.push(0),Sa.raw=Sa.format();case "":case "\x3e\x3d":if(!Da||Tb(Da,Sa))Da=Sa;break;case "\x3c":case "\x3c\x3d":break;default:throw Error("Unexpected operation: "+gb.operator);}});return Da&&N.test(Da)?Da:null},validRange:function(N,na){try{return(new Mb(N,na)).range||"*"}catch(Da){return null}},
outside:Qa,gtr:function(N,na,Da){return Qa(N,na,"\x3e",Da)},ltr:function(N,na,Da){return Qa(N,na,"\x3c",Da)},intersects:function(N,na,Da){N=new Mb(N,Da);na=new Mb(na,Da);return N.intersects(na)},simplifyRange:function(N,na,Da){var gb=[],Sa=null,Pb=null;N=N.sort(function(qc,uc){return Xb(qc,uc,Da)});for(var kc=$jscomp.makeIterator(N),oc=kc.next();!oc.done;oc=kc.next())oc=oc.value,cc(oc,na,Da)?(Pb=oc,Sa||(Sa=oc)):(Pb&&gb.push([Sa,Pb]),Sa=Pb=null);Sa&&gb.push([Sa,null]);Sa=[];gb=$jscomp.makeIterator(gb);
for(Pb=gb.next();!Pb.done;Pb=gb.next())kc=$jscomp.makeIterator(Pb.value),Pb=kc.next().value,kc=kc.next().value,Pb===kc?Sa.push(Pb):kc||Pb!==N[0]?kc?Pb===N[0]?Sa.push("\x3c\x3d"+kc):Sa.push(Pb+" - "+kc):Sa.push("\x3e\x3d"+Pb):Sa.push("*");N=Sa.join(" || ");return N.length<("string"===typeof na.raw?na.raw:String(na)).length?N:na},subset:function(N,na,Da){N=new Mb(N,Da);na=new Mb(na,Da);var gb=!1;N=$jscomp.makeIterator(N.set);var Sa=N.next();a:for(;!Sa.done;Sa=N.next()){Sa=Sa.value;for(var Pb=$jscomp.makeIterator(na.set),
kc=Pb.next();!kc.done;kc=Pb.next())if(kc=Nb(Sa,kc.value,Da),gb=gb||null!==kc,kc)continue a;if(gb)return!1}return!0}},xb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Qb={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")},Gc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,
size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,
titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:xb["category-6"],diverging:xb["fireandice-6"],heatmap:xb["fire-7"],ordinal:xb["fire-7"],ramp:xb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Qb["six-groups-cat-1"],diverging:Qb["diverging-colors"],heatmap:Qb["diverging-colors"],ordinal:Qb["six-groups-seq"],ramp:Qb["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}}),$b=function(N){return function(na){return na[N]}},Ac=function(N){var na=N.length;return function(Da){for(var gb=0;gb<na;++gb)Da=Da[N[gb]];return Da}};(function(N,na,Da){var gb=wa(N);N=1===gb.length?gb[0]:N;return za((Da&&Da.get||ia)(gb),[N],na||N)})("id");za(function(N){return N},[],"identity");
za(function(){return 0},[],"zero");za(function(){return 1},[],"one");za(function(){return!0},[],"true");za(function(){return!1},[],"false");var Jc=Array.isArray,Hc={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(N){return String(N).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2},ad=function(N){this.options=Object.assign(Object.assign({},Hc),N);N=this.options.id;this.call=this.tooltipHandler.bind(this);
if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var na=document.createElement("style");na.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(N))throw Error("Invalid HTML ID");var Da="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
N);na.innerHTML=Da;Da=document.head;0<Da.childNodes.length?Da.insertBefore(na,Da.childNodes[0]):Da.appendChild(na)}this.el=document.getElementById(N);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",N),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))};ad.prototype.tooltipHandler=function(N,na,Da,gb){if(null==gb||""===gb)this.el.classList.remove("visible",this.options.theme+"-theme");else{this.el.innerHTML=qa(gb,this.options.sanitize,this.options.maxDepth);
this.el.classList.add("visible",this.options.theme+"-theme");N=this.el.getBoundingClientRect();var Sa=this.options.offsetX;Da=this.options.offsetY;gb=na.clientX+Sa;gb+N.width>window.innerWidth&&(gb=+na.clientX-Sa-N.width);Sa=na.clientY+Da;Sa+N.height>window.innerHeight&&(Sa=+na.clientY-Da-N.height);this.el.setAttribute("style","top: "+Sa+"px; left: "+gb+"px")}};String.prototype.startsWith||(String.prototype.startsWith=function(N,na){return this.substr(!na||0>na?0:+na,N.length)===N});var md,od=M,rd=
ka,Vd="undefined"!==typeof window?window:void 0;void 0===rd&&(null===(md=null===Vd||void 0===Vd?void 0:Vd.vl)||void 0===md?0:md.compile)&&(rd=Vd.vl);var Zd={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ze={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},te={vega:"Vega","vega-lite":"Vega-Lite"},ue={vega:od.version,"vega-lite":rd?rd.version:
"not available"},bf={vega:function(N){return N},"vega-lite":function(N,na){return rd.compile(N,{config:na}).spec}},vd=function(){for(var N=[],na=0;na<arguments.length;na++)N[na]=arguments[na];if(na=1<N.length){if(na=q.isString(N[0]))na=N[0],na=!(na.startsWith("http://")||na.startsWith("https://")||na.startsWith("//"));na=na||N[0]instanceof HTMLElement||3===N.length}return na?x(N[0],N[1],N[2]):F(N[0],N[1])};vd.vegaLite=rd;vd.vl=rd;vd.container=F;vd.embed=x;vd.vega=od;vd["default"]=x;vd.version="6.12.2";
return vd})};
shadow$provide[53]=function(Jb,sb,hc,vb){var n=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;hc.exports=function(){try{if(!Object.assign)return!1;var Pa=new String("abc");Pa[5]="de";if("5"===Object.getOwnPropertyNames(Pa)[0])return!1;var Kb={};for(Pa=0;10>Pa;Pa++)Kb["_"+String.fromCharCode(Pa)]=Pa;if("0123456789"!==Object.getOwnPropertyNames(Kb).map(function(db){return Kb[db]}).join(""))return!1;var Ma={};"abcdefghijklmnopqrst".split("").forEach(function(db){Ma[db]=
db});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},Ma)).join("")?!1:!0}catch(db){return!1}}()?Object.assign:function(Pa,Kb){if(null===Pa||void 0===Pa)throw new TypeError("Object.assign cannot be called with null or undefined");var Ma=Object(Pa);for(var db,Eb=1;Eb<arguments.length;Eb++){var qb=Object(arguments[Eb]);for(var Ea in qb)q.call(qb,Ea)&&(Ma[Ea]=qb[Ea]);if(n){db=n(qb);for(var ab=0;ab<db.length;ab++)S.call(qb,db[ab])&&(Ma[db[ab]]=qb[db[ab]])}}return Ma}};
shadow$provide[54]=function(Jb,sb,hc,vb){function n(F){for(var M="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+F,ka=1;ka<arguments.length;ka++)M+="\x26args[]\x3d"+encodeURIComponent(arguments[ka]);return"Minified React error #"+F+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q(F,M,ka){this.props=F;this.context=M;this.refs=Za;this.updater=ka||Ca}function S(){}function Pa(F,M,ka){this.props=F;this.context=
M;this.refs=Za;this.updater=ka||Ca}function Kb(F,M,ka){var Ia,Ta={},D=null,fa=null;if(null!=M)for(Ia in void 0!==M.ref&&(fa=M.ref),void 0!==M.key&&(D=""+M.key),M)y.call(M,Ia)&&!x.hasOwnProperty(Ia)&&(Ta[Ia]=M[Ia]);var Y=arguments.length-2;if(1===Y)Ta.children=ka;else if(1<Y){for(var W=Array(Y),H=0;H<Y;H++)W[H]=arguments[H+2];Ta.children=W}if(F&&F.defaultProps)for(Ia in Y=F.defaultProps,Y)void 0===Ta[Ia]&&(Ta[Ia]=Y[Ia]);return{$$typeof:Ra,type:F,key:D,ref:fa,props:Ta,_owner:jb.current}}function Ma(F,
M){return{$$typeof:Ra,type:F.type,key:M,ref:F.ref,props:F.props,_owner:F._owner}}function db(F){return"object"===typeof F&&null!==F&&F.$$typeof===Ra}function Eb(F){var M={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+F).replace(/[=:]/g,function(ka){return M[ka]})}function qb(F,M,ka,Ia){if(J.length){var Ta=J.pop();Ta.result=F;Ta.keyPrefix=M;Ta.func=ka;Ta.context=Ia;Ta.count=0;return Ta}return{result:F,keyPrefix:M,func:ka,context:Ia,count:0}}function Ea(F){F.result=null;F.keyPrefix=null;F.func=null;F.context=
null;F.count=0;10>J.length&&J.push(F)}function ab(F,M,ka,Ia){var Ta=typeof F;if("undefined"===Ta||"boolean"===Ta)F=null;var D=!1;if(null===F)D=!0;else switch(Ta){case "string":case "number":D=!0;break;case "object":switch(F.$$typeof){case Ra:case xa:D=!0}}if(D)return ka(Ia,F,""===M?"."+Ja(F,0):M),1;D=0;M=""===M?".":M+":";if(Array.isArray(F))for(var fa=0;fa<F.length;fa++){Ta=F[fa];var Y=M+Ja(Ta,fa);D+=ab(Ta,Y,ka,Ia)}else if(null===F||"object"!==typeof F?Y=null:(Y=Fa&&F[Fa]||F["@@iterator"],Y="function"===
typeof Y?Y:null),"function"===typeof Y)for(F=Y.call(F),fa=0;!(Ta=F.next()).done;)Ta=Ta.value,Y=M+Ja(Ta,fa++),D+=ab(Ta,Y,ka,Ia);else if("object"===Ta)throw ka=""+F,Error(n(31,"[object Object]"===ka?"object with keys {"+Object.keys(F).join(", ")+"}":ka,""));return D}function fb(F,M,ka){return null==F?0:ab(F,"",M,ka)}function Ja(F,M){return"object"===typeof F&&null!==F&&null!=F.key?Eb(F.key):M.toString(36)}function ea(F,M){F.func.call(F.context,M,F.count++)}function pa(F,M,ka){var Ia=F.result,Ta=F.keyPrefix;
F=F.func.call(F.context,M,F.count++);Array.isArray(F)?Ha(F,Ia,ka,function(D){return D}):null!=F&&(db(F)&&(F=Ma(F,Ta+(!F.key||M&&M.key===F.key?"":(""+F.key).replace(G,"$\x26/")+"/")+ka)),Ia.push(F))}function Ha(F,M,ka,Ia,Ta){var D="";null!=ka&&(D=(""+ka).replace(G,"$\x26/")+"/");M=qb(M,D,Ia,Ta);fb(F,pa,M);Ea(M)}function Wa(){var F=z.current;if(null===F)throw Error(n(321));return F}var ja=sb(53),ba="function"===typeof Symbol&&Symbol.for,Ra=ba?Symbol.for("react.element"):60103,xa=ba?Symbol.for("react.portal"):
60106;Jb=ba?Symbol.for("react.fragment"):60107;sb=ba?Symbol.for("react.strict_mode"):60108;hc=ba?Symbol.for("react.profiler"):60114;var Oa=ba?Symbol.for("react.provider"):60109,za=ba?Symbol.for("react.context"):60110,ia=ba?Symbol.for("react.forward_ref"):60112,wa=ba?Symbol.for("react.suspense"):60113,sa=ba?Symbol.for("react.memo"):60115,qa=ba?Symbol.for("react.lazy"):60116,Fa="function"===typeof Symbol&&Symbol.iterator,Ca={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},
enqueueSetState:function(){}},Za={};q.prototype.isReactComponent={};q.prototype.setState=function(F,M){if("object"!==typeof F&&"function"!==typeof F&&null!=F)throw Error(n(85));this.updater.enqueueSetState(this,F,M,"setState")};q.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};S.prototype=q.prototype;ba=Pa.prototype=new S;ba.constructor=Pa;ja(ba,q.prototype);ba.isPureReactComponent=!0;var jb={current:null},y=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,
__self:!0,__source:!0},G=/\/+/g,J=[],z={current:null};ba={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:jb,IsSomeRendererActing:{current:!1},assign:ja};vb.Children={map:function(F,M,ka){if(null==F)return F;var Ia=[];Ha(F,Ia,null,M,ka);return Ia},forEach:function(F,M,ka){if(null==F)return F;M=qb(null,null,M,ka);fb(F,ea,M);Ea(M)},count:function(F){return fb(F,function(){return null},null)},toArray:function(F){var M=[];Ha(F,M,null,function(ka){return ka});return M},
only:function(F){if(!db(F))throw Error(n(143));return F}};vb.Component=q;vb.Fragment=Jb;vb.Profiler=hc;vb.PureComponent=Pa;vb.StrictMode=sb;vb.Suspense=wa;vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ba;vb.cloneElement=function(F,M,ka){if(null===F||void 0===F)throw Error(n(267,F));var Ia=ja({},F.props),Ta=F.key,D=F.ref,fa=F._owner;if(null!=M){void 0!==M.ref&&(D=M.ref,fa=jb.current);void 0!==M.key&&(Ta=""+M.key);if(F.type&&F.type.defaultProps)var Y=F.type.defaultProps;for(W in M)y.call(M,
W)&&!x.hasOwnProperty(W)&&(Ia[W]=void 0===M[W]&&void 0!==Y?Y[W]:M[W])}var W=arguments.length-2;if(1===W)Ia.children=ka;else if(1<W){Y=Array(W);for(var H=0;H<W;H++)Y[H]=arguments[H+2];Ia.children=Y}return{$$typeof:Ra,type:F.type,key:Ta,ref:D,props:Ia,_owner:fa}};vb.createContext=function(F,M){void 0===M&&(M=null);F={$$typeof:za,_calculateChangedBits:M,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null};F.Provider={$$typeof:Oa,_context:F};return F.Consumer=F};vb.createElement=
Kb;vb.createFactory=function(F){var M=Kb.bind(null,F);M.type=F;return M};vb.createRef=function(){return{current:null}};vb.forwardRef=function(F){return{$$typeof:ia,render:F}};vb.isValidElement=db;vb.lazy=function(F){return{$$typeof:qa,_ctor:F,_status:-1,_result:null}};vb.memo=function(F,M){return{$$typeof:sa,type:F,compare:void 0===M?null:M}};vb.useCallback=function(F,M){return Wa().useCallback(F,M)};vb.useContext=function(F,M){return Wa().useContext(F,M)};vb.useDebugValue=function(){};vb.useEffect=
function(F,M){return Wa().useEffect(F,M)};vb.useImperativeHandle=function(F,M,ka){return Wa().useImperativeHandle(F,M,ka)};vb.useLayoutEffect=function(F,M){return Wa().useLayoutEffect(F,M)};vb.useMemo=function(F,M){return Wa().useMemo(F,M)};vb.useReducer=function(F,M,ka){return Wa().useReducer(F,M,ka)};vb.useRef=function(F){return Wa().useRef(F)};vb.useState=function(F){return Wa().useState(F)};vb.version="16.13.1"};
shadow$provide[58]=function(Jb,sb,hc,vb){hc.exports=sb(54)};
shadow$provide[59]=function(Jb,sb,hc,vb){function n(z,F){var M=z.length;z.push(F);a:for(;;){var ka=M-1>>>1,Ia=z[ka];if(void 0!==Ia&&0<Pa(Ia,F))z[ka]=F,z[M]=Ia,M=ka;else break a}}function q(z){z=z[0];return void 0===z?null:z}function S(z){var F=z[0];if(void 0!==F){var M=z.pop();if(M!==F){z[0]=M;var ka=0,Ia=z.length;a:for(;ka<Ia;){var Ta=2*(ka+1)-1,D=z[Ta],fa=Ta+1,Y=z[fa];if(void 0!==D&&0>Pa(D,M))void 0!==Y&&0>Pa(Y,D)?(z[ka]=Y,z[fa]=M,ka=fa):(z[ka]=D,z[Ta]=M,ka=Ta);else if(void 0!==Y&&0>Pa(Y,M))z[ka]=
Y,z[fa]=M,ka=fa;else break a}}return F}return null}function Pa(z,F){var M=z.sortIndex-F.sortIndex;return 0!==M?M:z.id-F.id}function Kb(z){for(var F=q(Ca);null!==F;){if(null===F.callback)S(Ca);else if(F.startTime<=z)S(Ca),F.sortIndex=F.expirationTime,n(Fa,F);else break;F=q(Ca)}}function Ma(z){J=!1;Kb(z);if(!G)if(null!==q(Fa))G=!0,Ja(db);else{var F=q(Ca);null!==F&&ea(Ma,F.startTime-z)}}function db(z,F){G=!1;J&&(J=!1,pa());x=!0;var M=y;try{Kb(F);for(jb=q(Fa);null!==jb&&(!(jb.expirationTime>F)||z&&!Ha());){var ka=
jb.callback;if(null!==ka){jb.callback=null;y=jb.priorityLevel;var Ia=ka(jb.expirationTime<=F);F=vb.unstable_now();"function"===typeof Ia?jb.callback=Ia:jb===q(Fa)&&S(Fa);Kb(F)}else S(Fa);jb=q(Fa)}if(null!==jb)var Ta=!0;else{var D=q(Ca);null!==D&&ea(Ma,D.startTime-F);Ta=!1}return Ta}finally{jb=null,y=M,x=!1}}function Eb(z){switch(z){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var qb=
null,Ea=null,ab=function(){if(null!==qb)try{var z=vb.unstable_now();qb(!0,z);qb=null}catch(F){throw setTimeout(ab,0),F;}},fb=Date.now();vb.unstable_now=function(){return Date.now()-fb};var Ja=function(z){null!==qb?setTimeout(Ja,0,z):(qb=z,setTimeout(ab,0))};var ea=function(z,F){Ea=setTimeout(z,F)};var pa=function(){clearTimeout(Ea)};var Ha=function(){return!1};Jb=vb.unstable_forceFrameRate=function(){}}else{var Wa=window.performance,ja=window.Date,ba=window.setTimeout,Ra=window.clearTimeout;"undefined"!==
typeof console&&(Jb=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof Jb&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof Wa&&"function"===typeof Wa.now)vb.unstable_now=function(){return Wa.now()};
else{var xa=ja.now();vb.unstable_now=function(){return ja.now()-xa}}var Oa=!1,za=null,ia=-1,wa=5,sa=0;Ha=function(){return vb.unstable_now()>=sa};Jb=function(){};vb.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):wa=0<z?Math.floor(1E3/z):5};sb=new MessageChannel;var qa=sb.port2;sb.port1.onmessage=function(){if(null!==za){var z=vb.unstable_now();sa=z+wa;try{za(!0,z)?qa.postMessage(null):
(Oa=!1,za=null)}catch(F){throw qa.postMessage(null),F;}}else Oa=!1};Ja=function(z){za=z;Oa||(Oa=!0,qa.postMessage(null))};ea=function(z,F){ia=ba(function(){z(vb.unstable_now())},F)};pa=function(){Ra(ia);ia=-1}}var Fa=[],Ca=[],Za=1,jb=null,y=3,x=!1,G=!1,J=!1;vb.unstable_IdlePriority=5;vb.unstable_ImmediatePriority=1;vb.unstable_LowPriority=4;vb.unstable_NormalPriority=3;vb.unstable_Profiling=null;vb.unstable_UserBlockingPriority=2;vb.unstable_cancelCallback=function(z){z.callback=null};vb.unstable_continueExecution=
function(){G||x||(G=!0,Ja(db))};vb.unstable_getCurrentPriorityLevel=function(){return y};vb.unstable_getFirstCallbackNode=function(){return q(Fa)};vb.unstable_next=function(z){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var M=y;y=F;try{return z()}finally{y=M}};vb.unstable_pauseExecution=function(){};vb.unstable_requestPaint=Jb;vb.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=y;y=z;try{return F()}finally{y=M}};vb.unstable_scheduleCallback=
function(z,F,M){var ka=vb.unstable_now();if("object"===typeof M&&null!==M){var Ia=M.delay;Ia="number"===typeof Ia&&0<Ia?ka+Ia:ka;M="number"===typeof M.timeout?M.timeout:Eb(z)}else M=Eb(z),Ia=ka;M=Ia+M;z={id:Za++,callback:F,priorityLevel:z,startTime:Ia,expirationTime:M,sortIndex:-1};Ia>ka?(z.sortIndex=Ia,n(Ca,z),null===q(Fa)&&z===q(Ca)&&(J?pa():J=!0,ea(Ma,Ia-ka))):(z.sortIndex=M,n(Fa,z),G||x||(G=!0,Ja(db)));return z};vb.unstable_shouldYield=function(){var z=vb.unstable_now();Kb(z);var F=q(Fa);return F!==
jb&&null!==jb&&null!==F&&null!==F.callback&&F.startTime<=z&&F.expirationTime<jb.expirationTime||Ha()};vb.unstable_wrapCallback=function(z){var F=y;return function(){var M=y;y=F;try{return z.apply(this,arguments)}finally{y=M}}}};
shadow$provide[61]=function(Jb,sb,hc,vb){hc.exports=sb(59)};
shadow$provide[62]=function(Jb,sb,hc,vb){function n(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+d,r=1;r<arguments.length;r++)g+="\x26args[]\x3d"+encodeURIComponent(arguments[r]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q(d,g,r,L,ca,ib,nb,Ob,Lc){var Nc=Array.prototype.slice.call(arguments,3);try{g.apply(r,Nc)}catch(td){this.onError(td)}}function S(d,
g,r,L,ca,ib,nb,Ob,Lc){ji=!1;Li=null;q.apply(Kl,arguments)}function Pa(d,g,r,L,ca,ib,nb,Ob,Lc){S.apply(this,arguments);if(ji){if(ji){var Nc=Li;ji=!1;Li=null}else throw Error(n(198));Fh||(Fh=!0,qh=Nc)}}function Kb(d,g,r){var L=d.type||"unknown-event";d.currentTarget=Rk(r);Pa(L,g,void 0,d);d.currentTarget=null}function Ma(){if(Mi)for(var d in mi){var g=mi[d],r=Mi.indexOf(d);if(!(-1<r))throw Error(n(96,d));if(!li[r]){if(!g.extractEvents)throw Error(n(97,d));li[r]=g;r=g.eventTypes;for(var L in r){var ca=
void 0,ib=r[L],nb=g,Ob=L;if(lk.hasOwnProperty(Ob))throw Error(n(99,Ob));lk[Ob]=ib;var Lc=ib.phasedRegistrationNames;if(Lc){for(ca in Lc)Lc.hasOwnProperty(ca)&&db(Lc[ca],nb,Ob);ca=!0}else ib.registrationName?(db(ib.registrationName,nb,Ob),ca=!0):ca=!1;if(!ca)throw Error(n(98,L,d));}}}}function db(d,g,r){if(Gh[d])throw Error(n(100,d));Gh[d]=g;pj[d]=g.eventTypes[r].dependencies}function Eb(d){var g=!1,r;for(r in d)if(d.hasOwnProperty(r)){var L=d[r];if(!mi.hasOwnProperty(r)||mi[r]!==L){if(mi[r])throw Error(n(102,
r));mi[r]=L;g=!0}}g&&Ma()}function qb(d){if(d=Qk(d)){if("function"!==typeof Bg)throw Error(n(280));var g=d.stateNode;g&&(g=kk(g),Bg(d.stateNode,d.type,g))}}function Ea(d){sh?Uf?Uf.push(d):Uf=[d]:sh=d}function ab(){if(sh){var d=sh,g=Uf;Uf=sh=null;qb(d);if(g)for(d=0;d<g.length;d++)qb(g[d])}}function fb(d,g){return d(g)}function Ja(d,g,r,L,ca){return d(g,r,L,ca)}function ea(){}function pa(){if(null!==sh||null!==Uf)ea(),ab()}function Ha(d,g,r){if(Cg)return d(g,r);Cg=!0;try{return Sk(d,g,r)}finally{Cg=
!1,pa()}}function Wa(d){if(ni.call(pi,d))return!0;if(ni.call(oi,d))return!1;if(mk.test(d))return pi[d]=!0;oi[d]=!0;return!1}function ja(d,g,r,L){if(null!==r&&0===r.type)return!1;switch(typeof g){case "function":case "symbol":return!0;case "boolean":if(L)return!1;if(null!==r)return!r.acceptsBooleans;d=d.toLowerCase().slice(0,5);return"data-"!==d&&"aria-"!==d;default:return!1}}function ba(d,g,r,L){if(null===g||"undefined"===typeof g||ja(d,g,r,L))return!0;if(L)return!1;if(null!==r)switch(r.type){case 3:return!g;
case 4:return!1===g;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function Ra(d,g,r,L,ca,ib){this.acceptsBooleans=2===g||3===g||4===g;this.attributeName=L;this.attributeNamespace=ca;this.mustUseProperty=r;this.propertyName=d;this.type=g;this.sanitizeURL=ib}function xa(d){return d[1].toUpperCase()}function Oa(d,g,r,L){var ca=If.hasOwnProperty(g)?If[g]:null;(null!==ca?0===ca.type:L?0:2<g.length&&("o"===g[0]||"O"===g[0])&&("n"===g[1]||"N"===g[1]))||(ba(g,r,ca,L)&&(r=null),L||null===ca?
Wa(g)&&(null===r?d.removeAttribute(g):d.setAttribute(g,""+r)):ca.mustUseProperty?d[ca.propertyName]=null===r?3===ca.type?!1:"":r:(g=ca.attributeName,L=ca.attributeNamespace,null===r?d.removeAttribute(g):(ca=ca.type,r=3===ca||4===ca&&!0===r?"":""+r,L?d.setAttributeNS(L,g,r):d.setAttribute(g,r))))}function za(d){if(null===d||"object"!==typeof d)return null;d=Vk&&d[Vk]||d["@@iterator"];return"function"===typeof d?d:null}function ia(d){if(-1===d._status){d._status=0;var g=d._ctor;g=g();d._result=g;g.then(function(r){0===
d._status&&(r=r.default,d._status=1,d._result=r)},function(r){0===d._status&&(d._status=2,d._result=r)})}}function wa(d){if(null==d)return null;if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d;switch(d){case bh:return"Fragment";case qi:return"Portal";case Oi:return"Profiler";case $f:return"StrictMode";case Ve:return"Suspense";case si:return"SuspenseList"}if("object"===typeof d)switch(d.$$typeof){case ri:return"Context.Consumer";case rj:return"Context.Provider";
case sj:var g=d.render;g=g.displayName||g.name||"";return d.displayName||(""!==g?"ForwardRef("+g+")":"ForwardRef");case Nf:return wa(d.type);case nk:return wa(d.render);case jf:if(d=1===d._status?d._result:null)return wa(d)}return null}function sa(d){var g="";do{a:switch(d.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break a;default:var L=d._debugOwner,ca=d._debugSource,ib=wa(d.type);r=null;L&&(r=wa(L.type));L=ib;ib="";ca?ib=" (at "+ca.fileName.replace(Tk,"")+":"+ca.lineNumber+")":r&&
(ib=" (created by "+r+")");r="\n    in "+(L||"Unknown")+ib}g+=r;d=d.return}while(d);return g}function qa(d){switch(typeof d){case "boolean":case "number":case "object":case "string":case "undefined":return d;default:return""}}function Fa(d){var g=d.type;return(d=d.nodeName)&&"input"===d.toLowerCase()&&("checkbox"===g||"radio"===g)}function Ca(d){var g=Fa(d)?"checked":"value",r=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),L=""+d[g];if(!d.hasOwnProperty(g)&&"undefined"!==typeof r&&"function"===
typeof r.get&&"function"===typeof r.set){var ca=r.get,ib=r.set;Object.defineProperty(d,g,{configurable:!0,get:function(){return ca.call(this)},set:function(nb){L=""+nb;ib.call(this,nb)}});Object.defineProperty(d,g,{enumerable:r.enumerable});return{getValue:function(){return L},setValue:function(nb){L=""+nb},stopTracking:function(){d._valueTracker=null;delete d[g]}}}}function Za(d){d._valueTracker||(d._valueTracker=Ca(d))}function jb(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var r=g.getValue(),
L="";d&&(L=Fa(d)?d.checked?"true":"false":d.value);d=L;return d!==r?(g.setValue(d),!0):!1}function y(d,g){var r=g.checked;return Pf({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:d._wrapperState.initialChecked})}function x(d,g){var r=null==g.defaultValue?"":g.defaultValue,L=null!=g.checked?g.checked:g.defaultChecked;r=qa(null!=g.value?g.value:r);d._wrapperState={initialChecked:L,initialValue:r,controlled:"checkbox"===g.type||"radio"===g.type?null!=g.checked:null!=g.value}}
function G(d,g){g=g.checked;null!=g&&Oa(d,"checked",g,!1)}function J(d,g){G(d,g);var r=qa(g.value),L=g.type;if(null!=r)if("number"===L){if(0===r&&""===d.value||d.value!=r)d.value=""+r}else d.value!==""+r&&(d.value=""+r);else if("submit"===L||"reset"===L){d.removeAttribute("value");return}g.hasOwnProperty("value")?F(d,g.type,r):g.hasOwnProperty("defaultValue")&&F(d,g.type,qa(g.defaultValue));null==g.checked&&null!=g.defaultChecked&&(d.defaultChecked=!!g.defaultChecked)}function z(d,g,r){if(g.hasOwnProperty("value")||
g.hasOwnProperty("defaultValue")){var L=g.type;if(!("submit"!==L&&"reset"!==L||void 0!==g.value&&null!==g.value))return;g=""+d._wrapperState.initialValue;r||g===d.value||(d.value=g);d.defaultValue=g}r=d.name;""!==r&&(d.name="");d.defaultChecked=!!d._wrapperState.initialChecked;""!==r&&(d.name=r)}function F(d,g,r){if("number"!==g||d.ownerDocument.activeElement!==d)null==r?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+r&&(d.defaultValue=""+r)}function M(d){var g="";hi.Children.forEach(d,
function(r){null!=r&&(g+=r)});return g}function ka(d,g){d=Pf({children:void 0},g);if(g=M(g.children))d.children=g;return d}function Ia(d,g,r,L){d=d.options;if(g){g={};for(var ca=0;ca<r.length;ca++)g["$"+r[ca]]=!0;for(r=0;r<d.length;r++)ca=g.hasOwnProperty("$"+d[r].value),d[r].selected!==ca&&(d[r].selected=ca),ca&&L&&(d[r].defaultSelected=!0)}else{r=""+qa(r);g=null;for(ca=0;ca<d.length;ca++){if(d[ca].value===r){d[ca].selected=!0;L&&(d[ca].defaultSelected=!0);return}null!==g||d[ca].disabled||(g=d[ca])}null!==
g&&(g.selected=!0)}}function Ta(d,g){if(null!=g.dangerouslySetInnerHTML)throw Error(n(91));return Pf({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function D(d,g){var r=g.value;if(null==r){r=g.children;g=g.defaultValue;if(null!=r){if(null!=g)throw Error(n(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(n(93));r=r[0]}g=r}null==g&&(g="");r=g}d._wrapperState={initialValue:qa(r)}}function fa(d,g){var r=qa(g.value),L=qa(g.defaultValue);null!=r&&(r=""+r,r!==d.value&&
(d.value=r),null==g.defaultValue&&d.defaultValue!==r&&(d.defaultValue=r));null!=L&&(d.defaultValue=""+L)}function Y(d){var g=d.textContent;g===d._wrapperState.initialValue&&""!==g&&null!==g&&(d.value=g)}function W(d){switch(d){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H(d,g){return null==d||"http://www.w3.org/1999/xhtml"===d?W(g):"http://www.w3.org/2000/svg"===d&&"foreignObject"===g?"http://www.w3.org/1999/xhtml":
d}function T(d,g){if(g){var r=d.firstChild;if(r&&r===d.lastChild&&3===r.nodeType){r.nodeValue=g;return}}d.textContent=g}function l(d,g){var r={};r[d.toLowerCase()]=g.toLowerCase();r["Webkit"+d]="webkit"+g;r["Moz"+d]="moz"+g;return r}function k(d){if(ch[d])return ch[d];if(!Hh[d])return d;var g=Hh[d],r;for(r in g)if(g.hasOwnProperty(r)&&r in tj)return ch[d]=g[r];return d}function p(d){var g=bk.get(d);void 0===g&&(g=new Map,bk.set(d,g));return g}function t(d){var g=d,r=d;if(d.alternate)for(;g.return;)g=
g.return;else{d=g;do g=d,0!==(g.effectTag&1026)&&(r=g.return),d=g.return;while(d)}return 3===g.tag?r:null}function w(d){if(13===d.tag){var g=d.memoizedState;null===g&&(d=d.alternate,null!==d&&(g=d.memoizedState));if(null!==g)return g.dehydrated}return null}function O(d){if(t(d)!==d)throw Error(n(188));}function la(d){var g=d.alternate;if(!g){g=t(d);if(null===g)throw Error(n(188));return g!==d?null:d}for(var r=d,L=g;;){var ca=r.return;if(null===ca)break;var ib=ca.alternate;if(null===ib){L=ca.return;
if(null!==L){r=L;continue}break}if(ca.child===ib.child){for(ib=ca.child;ib;){if(ib===r)return O(ca),d;if(ib===L)return O(ca),g;ib=ib.sibling}throw Error(n(188));}if(r.return!==L.return)r=ca,L=ib;else{for(var nb=!1,Ob=ca.child;Ob;){if(Ob===r){nb=!0;r=ca;L=ib;break}if(Ob===L){nb=!0;L=ca;r=ib;break}Ob=Ob.sibling}if(!nb){for(Ob=ib.child;Ob;){if(Ob===r){nb=!0;r=ib;L=ca;break}if(Ob===L){nb=!0;L=ib;r=ca;break}Ob=Ob.sibling}if(!nb)throw Error(n(189));}}if(r.alternate!==L)throw Error(n(190));}if(3!==r.tag)throw Error(n(188));
return r.stateNode.current===r?d:g}function ma(d){d=la(d);if(!d)return null;for(var g=d;;){if(5===g.tag||6===g.tag)return g;if(g.child)g.child.return=g,g=g.child;else{if(g===d)break;for(;!g.sibling;){if(!g.return||g.return===d)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}}return null}function ua(d,g){if(null==g)throw Error(n(30));if(null==d)return g;if(Array.isArray(d)){if(Array.isArray(g))return d.push.apply(d,g),d;d.push(g);return d}return Array.isArray(g)?[d].concat(g):[d,g]}function eb(d,
g,r){Array.isArray(d)?d.forEach(g,r):d&&g.call(r,d)}function cb(d){if(d){var g=d._dispatchListeners,r=d._dispatchInstances;if(Array.isArray(g))for(var L=0;L<g.length&&!d.isPropagationStopped();L++)Kb(d,g[L],r[L]);else g&&Kb(d,g,r);d._dispatchListeners=null;d._dispatchInstances=null;d.isPersistent()||d.constructor.release(d)}}function Ba(d){null!==d&&(ti=ua(ti,d));d=ti;ti=null;if(d){eb(d,cb);if(ti)throw Error(n(95));if(Fh)throw d=qh,Fh=!1,qh=null,d;}}function Ka(d){d=d.target||d.srcElement||window;
d.correspondingUseElement&&(d=d.correspondingUseElement);return 3===d.nodeType?d.parentNode:d}function Z(d){if(!gg)return!1;d="on"+d;var g=d in document;g||(g=document.createElement("div"),g.setAttribute(d,"return;"),g="function"===typeof g[d]);return g}function ra(d){d.topLevelType=null;d.nativeEvent=null;d.targetInst=null;d.ancestors.length=0;10>vj.length&&vj.push(d)}function hb(d,g,r,L){if(vj.length){var ca=vj.pop();ca.topLevelType=d;ca.eventSystemFlags=L;ca.nativeEvent=g;ca.targetInst=r;return ca}return{topLevelType:d,
eventSystemFlags:L,nativeEvent:g,targetInst:r,ancestors:[]}}function mb(d){var g=d.targetInst,r=g;do{if(!r){d.ancestors.push(r);break}var L=r;if(3===L.tag)L=L.stateNode.containerInfo;else{for(;L.return;)L=L.return;L=3!==L.tag?null:L.stateNode.containerInfo}if(!L)break;g=r.tag;5!==g&&6!==g||d.ancestors.push(r);r=Qa(L)}while(r);for(r=0;r<d.ancestors.length;r++){g=d.ancestors[r];var ca=Ka(d.nativeEvent);L=d.topLevelType;var ib=d.nativeEvent,nb=d.eventSystemFlags;0===r&&(nb|=64);for(var Ob=null,Lc=0;Lc<
li.length;Lc++){var Nc=li[Lc];Nc&&(Nc=Nc.extractEvents(L,g,ib,ca,nb))&&(Ob=ua(Ob,Nc))}Ba(Ob)}}function Hb(d,g,r){if(!r.has(d)){switch(d){case "scroll":xc(g,"scroll",!0);break;case "focus":case "blur":xc(g,"focus",!0);xc(g,"blur",!0);r.set("blur",null);r.set("focus",null);break;case "cancel":case "close":Z(d)&&xc(g,d,!0);break;case "invalid":case "submit":case "reset":break;default:-1===Ri.indexOf(d)&&Mb(d,g)}r.set(d,null)}}function Xb(d,g){var r=p(g);qk.forEach(function(L){Hb(L,g,r)});rk.forEach(function(L){Hb(L,
g,r)})}function ya(d,g,r,L,ca){return{blockedOn:d,topLevelType:g,eventSystemFlags:r|32,nativeEvent:ca,container:L}}function wb(d,g){switch(d){case "focus":case "blur":Pg=null;break;case "dragenter":case "dragleave":rg=null;break;case "mouseover":case "mouseout":eh=null;break;case "pointerover":case "pointerout":Si.delete(g.pointerId);break;case "gotpointercapture":case "lostpointercapture":ui.delete(g.pointerId)}}function Tb(d,g,r,L,ca,ib){if(null===d||d.nativeEvent!==ib)return d=ya(g,r,L,ca,ib),
null!==g&&(g=yb(g),null!==g&&Af(g)),d;d.eventSystemFlags|=L;return d}function rb(d,g,r,L,ca){switch(g){case "focus":return Pg=Tb(Pg,d,g,r,L,ca),!0;case "dragenter":return rg=Tb(rg,d,g,r,L,ca),!0;case "mouseover":return eh=Tb(eh,d,g,r,L,ca),!0;case "pointerover":var ib=ca.pointerId;Si.set(ib,Tb(Si.get(ib)||null,d,g,r,L,ca));return!0;case "gotpointercapture":return ib=ca.pointerId,ui.set(ib,Tb(ui.get(ib)||null,d,g,r,L,ca)),!0}return!1}function Sb(d){var g=Qa(d.target);if(null!==g){var r=t(g);if(null!==
r)if(g=r.tag,13===g){if(g=w(r),null!==g){d.blockedOn=g;Qf.unstable_runWithPriority(d.priority,function(){Yj(r)});return}}else if(3===g&&r.stateNode.hydrate){d.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}d.blockedOn=null}function ic(d){if(null!==d.blockedOn)return!1;var g=ae(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);if(null!==g){var r=yb(g);null!==r&&Af(r);d.blockedOn=g;return!1}return!0}function rc(d,g,r){ic(d)&&r.delete(g)}function Tc(){for(ei=!1;0<Og.length;){var d=
Og[0];if(null!==d.blockedOn){d=yb(d.blockedOn);null!==d&&Ik(d);break}var g=ae(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);null!==g?d.blockedOn=g:Og.shift()}null!==Pg&&ic(Pg)&&(Pg=null);null!==rg&&ic(rg)&&(rg=null);null!==eh&&ic(eh)&&(eh=null);Si.forEach(rc);ui.forEach(rc)}function pc(d,g){d.blockedOn===g&&(d.blockedOn=null,ei||(ei=!0,Qf.unstable_scheduleCallback(Qf.unstable_NormalPriority,Tc)))}function tb(d){function g(ca){return pc(ca,d)}if(0<Og.length){pc(Og[0],d);for(var r=1;r<
Og.length;r++){var L=Og[r];L.blockedOn===d&&(L.blockedOn=null)}}null!==Pg&&pc(Pg,d);null!==rg&&pc(rg,d);null!==eh&&pc(eh,d);Si.forEach(g);ui.forEach(g);for(r=0;r<Ti.length;r++)L=Ti[r],L.blockedOn===d&&(L.blockedOn=null);for(;0<Ti.length&&(r=Ti[0],null===r.blockedOn);)Sb(r),null===r.blockedOn&&Ti.shift()}function bc(d,g){for(var r=0;r<d.length;r+=2){var L=d[r],ca=d[r+1],ib="on"+(ca[0].toUpperCase()+ca.slice(1));ib={phasedRegistrationNames:{bubbled:ib,captured:ib+"Capture"},dependencies:[L],eventPriority:g};
xj.set(L,g);wj.set(L,ib);Yk[ca]=ib}}function Mb(d,g){xc(g,d,!1)}function xc(d,g,r){var L=xj.get(g);switch(void 0===L?2:L){case 0:L=Xc.bind(null,g,1,d);break;case 1:L=ud.bind(null,g,1,d);break;default:L=xd.bind(null,g,1,d)}r?d.addEventListener(g,L,!0):d.addEventListener(g,L,!1)}function Xc(d,g,r,L){Ng||ea();var ca=xd,ib=Ng;Ng=!0;try{Ja(ca,d,g,r,L)}finally{(Ng=ib)||pa()}}function ud(d,g,r,L){vi(yj,xd.bind(null,d,g,r,L))}function xd(d,g,r,L){if(Ih)if(0<Og.length&&-1<qk.indexOf(d))d=ya(null,d,g,r,L),
Og.push(d);else{var ca=ae(d,g,r,L);if(null===ca)wb(d,L);else if(-1<qk.indexOf(d))d=ya(ca,d,g,r,L),Og.push(d);else if(!rb(ca,d,g,r,L)){wb(d,L);d=hb(d,L,null,g);try{Ha(mb,d)}finally{ra(d)}}}}function ae(d,g,r,L){r=Ka(L);r=Qa(r);if(null!==r){var ca=t(r);if(null===ca)r=null;else{var ib=ca.tag;if(13===ib){r=w(ca);if(null!==r)return r;r=null}else if(3===ib){if(ca.stateNode.hydrate)return 3===ca.tag?ca.stateNode.containerInfo:null;r=null}else ca!==r&&(r=null)}}d=hb(d,L,r,g);try{Ha(mb,d)}finally{ra(d)}return null}
function Cb(d,g,r){return null==g||"boolean"===typeof g||""===g?"":r||"number"!==typeof g||0===g||Ui.hasOwnProperty(d)&&Ui[d]?(""+g).trim():g+"px"}function Rb(d,g){d=d.style;for(var r in g)if(g.hasOwnProperty(r)){var L=0===r.indexOf("--"),ca=Cb(r,g[r],L);"float"===r&&(r="cssFloat");L?d.setProperty(r,ca):d[r]=ca}}function Rc(d,g){if(g){if($k[d]&&(null!=g.children||null!=g.dangerouslySetInnerHTML))throw Error(n(137,d,""));if(null!=g.dangerouslySetInnerHTML){if(null!=g.children)throw Error(n(60));if(!("object"===
typeof g.dangerouslySetInnerHTML&&"__html"in g.dangerouslySetInnerHTML))throw Error(n(61));}if(null!=g.style&&"object"!==typeof g.style)throw Error(n(62,""));}}function se(d,g){if(-1===d.indexOf("-"))return"string"===typeof g.is;switch(d){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function De(d,g){d=9===d.nodeType||11===d.nodeType?d:d.ownerDocument;
var r=p(d);g=pj[g];for(var L=0;L<g.length;L++)Hb(g[L],d,r)}function Ne(){}function Md(d){d=d||("undefined"!==typeof document?document:void 0);if("undefined"===typeof d)return null;try{return d.activeElement||d.body}catch(g){return d.body}}function I(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function da(d,g){var r=I(d);d=0;for(var L;r;){if(3===r.nodeType){L=d+r.textContent.length;if(d<=g&&L>=g)return{node:r,offset:g-d};d=L}a:{for(;r;){if(r.nextSibling){r=r.nextSibling;break a}r=r.parentNode}r=
void 0}r=I(r)}}function bb(d,g){return d&&g?d===g?!0:d&&3===d.nodeType?!1:g&&3===g.nodeType?bb(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function La(){for(var d=window,g=Md();g instanceof d.HTMLIFrameElement;){try{var r="string"===typeof g.contentWindow.location.href}catch(L){r=!1}if(r)d=g.contentWindow;else break;g=Md(d.document)}return g}function Fb(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&("input"===g&&("text"===
d.type||"search"===d.type||"tel"===d.type||"url"===d.type||"password"===d.type)||"textarea"===g||"true"===d.contentEditable)}function Vb(d,g){switch(d){case "button":case "input":case "select":case "textarea":return!!g.autoFocus}return!1}function Yb(d,g){return"textarea"===d||"option"===d||"noscript"===d||"string"===typeof g.children||"number"===typeof g.children||"object"===typeof g.dangerouslySetInnerHTML&&null!==g.dangerouslySetInnerHTML&&null!=g.dangerouslySetInnerHTML.__html}function cc(d){for(;null!=
d;d=d.nextSibling){var g=d.nodeType;if(1===g||3===g)break}return d}function va(d){d=d.previousSibling;for(var g=0;d;){if(8===d.nodeType){var r=d.data;if(r===bl||r===zj||r===Vi){if(0===g)return d;g--}else r===cl&&g++}d=d.previousSibling}return null}function Qa(d){var g=d[Sg];if(g)return g;for(var r=d.parentNode;r;){if(g=r[Jh]||r[Sg]){r=g.alternate;if(null!==g.child||null!==r&&null!==r.child)for(d=va(d);null!==d;){if(r=d[Sg])return r;d=va(d)}return g}d=r;r=d.parentNode}return null}function yb(d){d=
d[Sg]||d[Jh];return!d||5!==d.tag&&6!==d.tag&&13!==d.tag&&3!==d.tag?null:d}function Nb(d){if(5===d.tag||6===d.tag)return d.stateNode;throw Error(n(33));}function gc(d){return d[Xi]||null}function tc(d){do d=d.return;while(d&&5!==d.tag);return d?d:null}function lc(d,g){var r=d.stateNode;if(!r)return null;var L=kk(r);if(!L)return null;r=L[g];a:switch(g){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(L=
!L.disabled)||(d=d.type,L=!("button"===d||"input"===d||"select"===d||"textarea"===d));d=!L;break a;default:d=!1}if(d)return null;if(r&&"function"!==typeof r)throw Error(n(231,g,typeof r));return r}function xb(d,g,r){if(g=lc(d,r.dispatchConfig.phasedRegistrationNames[g]))r._dispatchListeners=ua(r._dispatchListeners,g),r._dispatchInstances=ua(r._dispatchInstances,d)}function Qb(d){if(d&&d.dispatchConfig.phasedRegistrationNames){for(var g=d._targetInst,r=[];g;)r.push(g),g=tc(g);for(g=r.length;0<g--;)xb(r[g],
"captured",d);for(g=0;g<r.length;g++)xb(r[g],"bubbled",d)}}function Gc(d,g,r){d&&r&&r.dispatchConfig.registrationName&&(g=lc(d,r.dispatchConfig.registrationName))&&(r._dispatchListeners=ua(r._dispatchListeners,g),r._dispatchInstances=ua(r._dispatchInstances,d))}function $b(d){d&&d.dispatchConfig.registrationName&&Gc(d._targetInst,null,d)}function Ac(d){eb(d,Qb)}function Jc(){if(Yi)return Yi;var d,g=Cj,r=g.length,L,ca="value"in fh?fh.value:fh.textContent,ib=ca.length;for(d=0;d<r&&g[d]===ca[d];d++);
var nb=r-d;for(L=1;L<=nb&&g[r-L]===ca[ib-L];L++);return Yi=ca.slice(d,1<L?1-L:void 0)}function Hc(){return!0}function ad(){return!1}function md(d,g,r,L){this.dispatchConfig=d;this._targetInst=g;this.nativeEvent=r;d=this.constructor.Interface;for(var ca in d)d.hasOwnProperty(ca)&&((g=d[ca])?this[ca]=g(r):"target"===ca?this.target=L:this[ca]=r[ca]);this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Hc:ad;this.isPropagationStopped=ad;return this}function od(d,g,
r,L){if(this.eventPool.length){var ca=this.eventPool.pop();this.call(ca,d,g,r,L);return ca}return new this(d,g,r,L)}function rd(d){if(!(d instanceof this))throw Error(n(279));d.destructor();10>this.eventPool.length&&this.eventPool.push(d)}function Vd(d){d.eventPool=[];d.getPooled=od;d.release=rd}function Zd(d,g){switch(d){case "keyup":return-1!==fl.indexOf(g.keyCode);case "keydown":return 229!==g.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ze(d){d=d.detail;
return"object"===typeof d&&"data"in d?d.data:null}function te(d,g){switch(d){case "compositionend":return ze(g);case "keypress":if(32!==g.which)return null;jl=!0;return il;case "textInput":return d=g.data,d===il&&jl?null:d;default:return null}}function ue(d,g){if(Kh)return"compositionend"===d||!Dj&&Zd(d,g)?(d=Jc(),Yi=Cj=fh=null,Kh=!1,d):null;switch(d){case "paste":return null;case "keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;
case "compositionend":return tk&&"ko"!==g.locale?null:g.data;default:return null}}function bf(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return"input"===g?!!kl[d.type]:"textarea"===g?!0:!1}function vd(d,g,r){d=md.getPooled(vk.change,d,g,r);d.type="change";Ea(r);Ac(d);return d}function N(d){Ba(d)}function na(d){var g=Nb(d);if(jb(g))return d}function Da(d,g){if("change"===d)return g}function gb(){$i&&($i.detachEvent("onpropertychange",Sa),aj=$i=null)}function Sa(d){if("value"===d.propertyName&&
na(aj))if(d=vd(aj,d,Ka(d)),Ng)Ba(d);else{Ng=!0;try{fb(N,d)}finally{Ng=!1,pa()}}}function Pb(d,g,r){"focus"===d?(gb(),$i=g,aj=r,$i.attachEvent("onpropertychange",Sa)):"blur"===d&&gb()}function kc(d){if("selectionchange"===d||"keyup"===d||"keydown"===d)return na(aj)}function oc(d,g){if("click"===d)return na(g)}function qc(d,g){if("input"===d||"change"===d)return na(g)}function uc(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=Nl[d])?!!g[d]:!1}function kd(){return uc}function pd(d,
g){return d===g&&(0!==d||1/d===1/g)||d!==d&&g!==g}function yd(d,g){if(Mh(d,g))return!0;if("object"!==typeof d||null===d||"object"!==typeof g||null===g)return!1;var r=Object.keys(d),L=Object.keys(g);if(r.length!==L.length)return!1;for(L=0;L<r.length;L++)if(!Ak.call(g,r[L])||!Mh(d[r[L]],g[r[L]]))return!1;return!0}function ld(d,g){var r=g.window===g?g.document:9===g.nodeType?g:g.ownerDocument;if(Bk||null==yi||yi!==Md(r))return null;r=yi;"selectionStart"in r&&Fb(r)?r={start:r.selectionStart,end:r.selectionEnd}:
(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset});return Lh&&yd(Lh,r)?null:(Lh=r,d=md.getPooled(Hj.select,Gj,d,g),d.type="select",d.target=yi,Ac(d),d)}function Od(d){var g=d.keyCode;"charCode"in d?(d=d.charCode,0===d&&13===g&&(d=13)):d=g;10===d&&(d=13);return 32<=d||13===d?d:0}function de(d){0>Nh||(d.current=Jj[Nh],Jj[Nh]=null,Nh--)}function jc(d,g){Nh++;Jj[Nh]=d.current;
d.current=g}function Wd(d,g){var r=d.type.contextTypes;if(!r)return gh;var L=d.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===g)return L.__reactInternalMemoizedMaskedChildContext;var ca={},ib;for(ib in r)ca[ib]=g[ib];L&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=ca);return ca}function Jd(d){d=d.childContextTypes;return null!==d&&void 0!==d}function Lb(){de(jg);de(Sf)}function Ke(d,g,r){if(Sf.current!==gh)throw Error(n(168));
jc(Sf,g);jc(jg,r)}function oe(d,g,r){var L=d.stateNode;d=g.childContextTypes;if("function"!==typeof L.getChildContext)return r;L=L.getChildContext();for(var ca in L)if(!(ca in d))throw Error(n(108,wa(g)||"Unknown",ca));return Pf({},r,{},L)}function re(d){d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||gh;Oh=Sf.current;jc(Sf,d);jc(jg,jg.current);return!0}function Ye(d,g,r){var L=d.stateNode;if(!L)throw Error(n(169));r?(d=oe(d,g,Oh),L.__reactInternalMemoizedMergedChildContext=d,de(jg),
de(Sf),jc(Sf,d)):de(jg);jc(jg,r)}function Oe(){switch(ii()){case dj:return 99;case wl:return 98;case xl:return 97;case Ek:return 96;case Fk:return 95;default:throw Error(n(332));}}function ff(d){switch(d){case 99:return dj;case 98:return wl;case 97:return xl;case 96:return Ek;case 95:return Fk;default:throw Error(n(332));}}function He(d,g){d=ff(d);return ul(d,g)}function be(d,g,r){d=ff(d);return Dk(d,g,r)}function fc(d){null===Hg?(Hg=[d],ej=Dk(dj,dc)):Hg.push(d);return Kj}function Pd(){if(null!==
ej){var d=ej;ej=null;nf(d)}dc()}function dc(){if(!Gk&&null!==Hg){Gk=!0;var d=0;try{var g=Hg;He(99,function(){for(;d<g.length;d++){var r=g[d];do r=r(!0);while(null!==r)}});Hg=null}catch(r){throw null!==Hg&&(Hg=Hg.slice(d+1)),Dk(dj,Pd),r;}finally{Gk=!1}}}function Yc(d,g,r){r/=10;return 1073741821-(((1073741821-d+g/10)/r|0)+1)*r}function ne(d,g){if(d&&d.defaultProps){g=Pf({},g);d=d.defaultProps;for(var r in d)void 0===g[r]&&(g[r]=d[r])}return g}function ee(d){var g=Mj.current;de(Mj);d.type._context._currentValue=
g}function Pc(d,g){for(;null!==d;){var r=d.alternate;if(d.childExpirationTime<g)d.childExpirationTime=g,null!==r&&r.childExpirationTime<g&&(r.childExpirationTime=g);else if(null!==r&&r.childExpirationTime<g)r.childExpirationTime=g;else break;d=d.return}}function fe(d,g){Ai=d;zi=yh=null;d=d.dependencies;null!==d&&null!==d.firstContext&&(d.expirationTime>=g&&(Qg=!0),d.firstContext=null)}function Sd(d,g){if(zi!==d&&!1!==g&&0!==g){if("number"!==typeof g||1073741823===g)zi=d,g=1073741823;g={context:d,
observedBits:g,next:null};if(null===yh){if(null===Ai)throw Error(n(308));yh=g;Ai.dependencies={expirationTime:0,firstContext:g,responders:null}}else yh=yh.next=g}return d._currentValue}function Ld(d){d.updateQueue={baseState:d.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Qd(d,g){d=d.updateQueue;g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,baseQueue:d.baseQueue,shared:d.shared,effects:d.effects})}function Ed(d,g){d={expirationTime:d,suspenseConfig:g,tag:0,payload:null,
callback:null,next:null};return d.next=d}function ke(d,g){d=d.updateQueue;if(null!==d){d=d.shared;var r=d.pending;null===r?g.next=g:(g.next=r.next,r.next=g);d.pending=g}}function Gd(d,g){var r=d.alternate;null!==r&&Qd(r,d);d=d.updateQueue;r=d.baseQueue;null===r?(d.baseQueue=g.next=g,g.next=g):(g.next=r.next,r.next=g)}function pe(d,g,r,L){var ca=d.updateQueue;zh=!1;var ib=ca.baseQueue,nb=ca.shared.pending;if(null!==nb){if(null!==ib){var Ob=ib.next;ib.next=nb.next;nb.next=Ob}ib=nb;ca.shared.pending=
null;Ob=d.alternate;null!==Ob&&(Ob=Ob.updateQueue,null!==Ob&&(Ob.baseQueue=nb))}if(null!==ib){Ob=ib.next;var Lc=ca.baseState,Nc=0,td=null,Kd=null,Je=null;if(null!==Ob){var We=Ob;do{nb=We.expirationTime;if(nb<L){var vg={expirationTime:We.expirationTime,suspenseConfig:We.suspenseConfig,tag:We.tag,payload:We.payload,callback:We.callback,next:null};null===Je?(Kd=Je=vg,td=Lc):Je=Je.next=vg;nb>Nc&&(Nc=nb)}else{null!==Je&&(Je=Je.next={expirationTime:1073741823,suspenseConfig:We.suspenseConfig,tag:We.tag,
payload:We.payload,callback:We.callback,next:null});lf(nb,We.suspenseConfig);a:{var Jf=d,Dc=We;nb=g;vg=r;switch(Dc.tag){case 1:Jf=Dc.payload;if("function"===typeof Jf){Lc=Jf.call(vg,Lc,nb);break a}Lc=Jf;break a;case 3:Jf.effectTag=Jf.effectTag&-4097|64;case 0:Jf=Dc.payload;nb="function"===typeof Jf?Jf.call(vg,Lc,nb):Jf;if(null===nb||void 0===nb)break a;Lc=Pf({},Lc,nb);break a;case 2:zh=!0}}null!==We.callback&&(d.effectTag|=32,nb=ca.effects,null===nb?ca.effects=[We]:nb.push(We))}We=We.next;if(null===
We||We===Ob)if(nb=ca.shared.pending,null===nb)break;else We=ib.next=nb.next,nb.next=Ob,ca.baseQueue=ib=nb,ca.shared.pending=null}while(1)}null===Je?td=Lc:Je.next=Kd;ca.baseState=td;ca.baseQueue=Je;hf(Nc);d.expirationTime=Nc;d.memoizedState=Lc}}function Le(d,g,r){d=g.effects;g.effects=null;if(null!==d)for(g=0;g<d.length;g++){var L=d[g],ca=L.callback;if(null!==ca){L.callback=null;L=ca;ca=r;if("function"!==typeof L)throw Error(n(191,L));L.call(ca)}}}function cf(d,g,r,L){g=d.memoizedState;r=r(L,g);r=
null===r||void 0===r?g:Pf({},g,r);d.memoizedState=r;0===d.expirationTime&&(d.updateQueue.baseState=r)}function qf(d,g,r,L,ca,ib,nb){d=d.stateNode;return"function"===typeof d.shouldComponentUpdate?d.shouldComponentUpdate(L,ib,nb):g.prototype&&g.prototype.isPureReactComponent?!yd(r,L)||!yd(ca,ib):!0}function gd(d,g,r){var L=!1,ca=gh,ib=g.contextType;"object"===typeof ib&&null!==ib?ib=Sd(ib):(ca=Jd(g)?Oh:Sf.current,L=g.contextTypes,ib=(L=null!==L&&void 0!==L)?Wd(d,ca):gh);g=new g(r,ib);d.memoizedState=
null!==g.state&&void 0!==g.state?g.state:null;g.updater=Oj;d.stateNode=g;g._reactInternalFiber=d;L&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=ca,d.__reactInternalMemoizedMaskedChildContext=ib);return g}function rf(d,g,r,L){d=g.state;"function"===typeof g.componentWillReceiveProps&&g.componentWillReceiveProps(r,L);"function"===typeof g.UNSAFE_componentWillReceiveProps&&g.UNSAFE_componentWillReceiveProps(r,L);g.state!==d&&Oj.enqueueReplaceState(g,g.state,null)}function Fe(d,g,r,L){var ca=
d.stateNode;ca.props=r;ca.state=d.memoizedState;ca.refs=zl;Ld(d);var ib=g.contextType;"object"===typeof ib&&null!==ib?ca.context=Sd(ib):(ib=Jd(g)?Oh:Sf.current,ca.context=Wd(d,ib));pe(d,r,ca,L);ca.state=d.memoizedState;ib=g.getDerivedStateFromProps;"function"===typeof ib&&(cf(d,g,ib,r),ca.state=d.memoizedState);"function"===typeof g.getDerivedStateFromProps||"function"===typeof ca.getSnapshotBeforeUpdate||"function"!==typeof ca.UNSAFE_componentWillMount&&"function"!==typeof ca.componentWillMount||
(g=ca.state,"function"===typeof ca.componentWillMount&&ca.componentWillMount(),"function"===typeof ca.UNSAFE_componentWillMount&&ca.UNSAFE_componentWillMount(),g!==ca.state&&Oj.enqueueReplaceState(ca,ca.state,null),pe(d,r,ca,L),ca.state=d.memoizedState);"function"===typeof ca.componentDidMount&&(d.effectTag|=4)}function Pe(d,g,r){d=r.ref;if(null!==d&&"function"!==typeof d&&"object"!==typeof d){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var L=r.stateNode}if(!L)throw Error(n(147,d));
var ca=""+d;if(null!==g&&null!==g.ref&&"function"===typeof g.ref&&g.ref._stringRef===ca)return g.ref;g=function(ib){var nb=L.refs;nb===zl&&(nb=L.refs={});null===ib?delete nb[ca]:nb[ca]=ib};g._stringRef=ca;return g}if("string"!==typeof d)throw Error(n(284));if(!r._owner)throw Error(n(290,d));}return d}function Ee(d,g){if("textarea"!==d.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(g)?"object with keys {"+Object.keys(g).join(", ")+"}":g,""));}function $e(d){function g(Dc,
vc){if(d){var Sc=Dc.lastEffect;null!==Sc?(Sc.nextEffect=vc,Dc.lastEffect=vc):Dc.firstEffect=Dc.lastEffect=vc;vc.nextEffect=null;vc.effectTag=8}}function r(Dc,vc){if(!d)return null;for(;null!==vc;)g(Dc,vc),vc=vc.sibling;return null}function L(Dc,vc){for(Dc=new Map;null!==vc;)null!==vc.key?Dc.set(vc.key,vc):Dc.set(vc.index,vc),vc=vc.sibling;return Dc}function ca(Dc,vc){Dc=sf(Dc,vc);Dc.index=0;Dc.sibling=null;return Dc}function ib(Dc,vc,Sc){Dc.index=Sc;if(!d)return vc;Sc=Dc.alternate;if(null!==Sc)return Sc=
Sc.index,Sc<vc?(Dc.effectTag=2,vc):Sc;Dc.effectTag=2;return vc}function nb(Dc){d&&null===Dc.alternate&&(Dc.effectTag=2);return Dc}function Ob(Dc,vc,Sc,nd){if(null===vc||6!==vc.tag)return vc=Dh(Sc,Dc.mode,nd),vc.return=Dc,vc;vc=ca(vc,Sc);vc.return=Dc;return vc}function Lc(Dc,vc,Sc,nd){if(null!==vc&&vc.elementType===Sc.type)return nd=ca(vc,Sc.props),nd.ref=Pe(Dc,vc,Sc),nd.return=Dc,nd;nd=Ii(Sc.type,Sc.key,Sc.props,null,Dc.mode,nd);nd.ref=Pe(Dc,vc,Sc);nd.return=Dc;return nd}function Nc(Dc,vc,Sc,nd){if(null===
vc||4!==vc.tag||vc.stateNode.containerInfo!==Sc.containerInfo||vc.stateNode.implementation!==Sc.implementation)return vc=Mf(Sc,Dc.mode,nd),vc.return=Dc,vc;vc=ca(vc,Sc.children||[]);vc.return=Dc;return vc}function td(Dc,vc,Sc,nd,Dd){if(null===vc||7!==vc.tag)return vc=ph(Sc,Dc.mode,nd,Dd),vc.return=Dc,vc;vc=ca(vc,Sc);vc.return=Dc;return vc}function Kd(Dc,vc,Sc){if("string"===typeof vc||"number"===typeof vc)return vc=Dh(""+vc,Dc.mode,Sc),vc.return=Dc,vc;if("object"===typeof vc&&null!==vc){switch(vc.$$typeof){case Ni:return Sc=
Ii(vc.type,vc.key,vc.props,null,Dc.mode,Sc),Sc.ref=Pe(Dc,null,vc),Sc.return=Dc,Sc;case qi:return vc=Mf(vc,Dc.mode,Sc),vc.return=Dc,vc}if(Pj(vc)||za(vc))return vc=ph(vc,Dc.mode,Sc,null),vc.return=Dc,vc;Ee(Dc,vc)}return null}function Je(Dc,vc,Sc,nd){var Dd=null!==vc?vc.key:null;if("string"===typeof Sc||"number"===typeof Sc)return null!==Dd?null:Ob(Dc,vc,""+Sc,nd);if("object"===typeof Sc&&null!==Sc){switch(Sc.$$typeof){case Ni:return Sc.key===Dd?Sc.type===bh?td(Dc,vc,Sc.props.children,nd,Dd):Lc(Dc,vc,
Sc,nd):null;case qi:return Sc.key===Dd?Nc(Dc,vc,Sc,nd):null}if(Pj(Sc)||za(Sc))return null!==Dd?null:td(Dc,vc,Sc,nd,null);Ee(Dc,Sc)}return null}function We(Dc,vc,Sc,nd,Dd){if("string"===typeof nd||"number"===typeof nd)return Dc=Dc.get(Sc)||null,Ob(vc,Dc,""+nd,Dd);if("object"===typeof nd&&null!==nd){switch(nd.$$typeof){case Ni:return Dc=Dc.get(null===nd.key?Sc:nd.key)||null,nd.type===bh?td(vc,Dc,nd.props.children,Dd,nd.key):Lc(vc,Dc,nd,Dd);case qi:return Dc=Dc.get(null===nd.key?Sc:nd.key)||null,Nc(vc,
Dc,nd,Dd)}if(Pj(nd)||za(nd))return Dc=Dc.get(Sc)||null,td(vc,Dc,nd,Dd,null);Ee(vc,nd)}return null}function vg(Dc,vc,Sc,nd){for(var Dd=null,Ud=null,le=vc,Te=vc=0,uf=null;null!==le&&Te<Sc.length;Te++){le.index>Te?(uf=le,le=null):uf=le.sibling;var Ge=Je(Dc,le,Sc[Te],nd);if(null===Ge){null===le&&(le=uf);break}d&&le&&null===Ge.alternate&&g(Dc,le);vc=ib(Ge,vc,Te);null===Ud?Dd=Ge:Ud.sibling=Ge;Ud=Ge;le=uf}if(Te===Sc.length)return r(Dc,le),Dd;if(null===le){for(;Te<Sc.length;Te++)le=Kd(Dc,Sc[Te],nd),null!==
le&&(vc=ib(le,vc,Te),null===Ud?Dd=le:Ud.sibling=le,Ud=le);return Dd}for(le=L(Dc,le);Te<Sc.length;Te++)uf=We(le,Dc,Te,Sc[Te],nd),null!==uf&&(d&&null!==uf.alternate&&le.delete(null===uf.key?Te:uf.key),vc=ib(uf,vc,Te),null===Ud?Dd=uf:Ud.sibling=uf,Ud=uf);d&&le.forEach(function(Ah){return g(Dc,Ah)});return Dd}function Jf(Dc,vc,Sc,nd){var Dd=za(Sc);if("function"!==typeof Dd)throw Error(n(150));Sc=Dd.call(Sc);if(null==Sc)throw Error(n(151));for(var Ud=Dd=null,le=vc,Te=vc=0,uf=null,Ge=Sc.next();null!==le&&
!Ge.done;Te++,Ge=Sc.next()){le.index>Te?(uf=le,le=null):uf=le.sibling;var Ah=Je(Dc,le,Ge.value,nd);if(null===Ah){null===le&&(le=uf);break}d&&le&&null===Ah.alternate&&g(Dc,le);vc=ib(Ah,vc,Te);null===Ud?Dd=Ah:Ud.sibling=Ah;Ud=Ah;le=uf}if(Ge.done)return r(Dc,le),Dd;if(null===le){for(;!Ge.done;Te++,Ge=Sc.next())Ge=Kd(Dc,Ge.value,nd),null!==Ge&&(vc=ib(Ge,vc,Te),null===Ud?Dd=Ge:Ud.sibling=Ge,Ud=Ge);return Dd}for(le=L(Dc,le);!Ge.done;Te++,Ge=Sc.next())Ge=We(le,Dc,Te,Ge.value,nd),null!==Ge&&(d&&null!==Ge.alternate&&
le.delete(null===Ge.key?Te:Ge.key),vc=ib(Ge,vc,Te),null===Ud?Dd=Ge:Ud.sibling=Ge,Ud=Ge);d&&le.forEach(function(Mk){return g(Dc,Mk)});return Dd}return function(Dc,vc,Sc,nd){var Dd="object"===typeof Sc&&null!==Sc&&Sc.type===bh&&null===Sc.key;Dd&&(Sc=Sc.props.children);var Ud="object"===typeof Sc&&null!==Sc;if(Ud)switch(Sc.$$typeof){case Ni:a:{Ud=Sc.key;for(Dd=vc;null!==Dd;){if(Dd.key===Ud){switch(Dd.tag){case 7:if(Sc.type===bh){r(Dc,Dd.sibling);vc=ca(Dd,Sc.props.children);vc.return=Dc;Dc=vc;break a}break;
default:if(Dd.elementType===Sc.type){r(Dc,Dd.sibling);vc=ca(Dd,Sc.props);vc.ref=Pe(Dc,Dd,Sc);vc.return=Dc;Dc=vc;break a}}r(Dc,Dd);break}else g(Dc,Dd);Dd=Dd.sibling}Sc.type===bh?(vc=ph(Sc.props.children,Dc.mode,nd,Sc.key),vc.return=Dc,Dc=vc):(nd=Ii(Sc.type,Sc.key,Sc.props,null,Dc.mode,nd),nd.ref=Pe(Dc,vc,Sc),nd.return=Dc,Dc=nd)}return nb(Dc);case qi:a:{for(Dd=Sc.key;null!==vc;){if(vc.key===Dd)if(4===vc.tag&&vc.stateNode.containerInfo===Sc.containerInfo&&vc.stateNode.implementation===Sc.implementation){r(Dc,
vc.sibling);vc=ca(vc,Sc.children||[]);vc.return=Dc;Dc=vc;break a}else{r(Dc,vc);break}else g(Dc,vc);vc=vc.sibling}vc=Mf(Sc,Dc.mode,nd);vc.return=Dc;Dc=vc}return nb(Dc)}if("string"===typeof Sc||"number"===typeof Sc)return Sc=""+Sc,null!==vc&&6===vc.tag?(r(Dc,vc.sibling),vc=ca(vc,Sc),vc.return=Dc,Dc=vc):(r(Dc,vc),vc=Dh(Sc,Dc.mode,nd),vc.return=Dc,Dc=vc),nb(Dc);if(Pj(Sc))return vg(Dc,vc,Sc,nd);if(za(Sc))return Jf(Dc,vc,Sc,nd);Ud&&Ee(Dc,Sc);if("undefined"===typeof Sc&&!Dd)switch(Dc.tag){case 1:case 0:throw Dc=
Dc.type,Error(n(152,Dc.displayName||Dc.name||"Component"));}return r(Dc,vc)}}function Qe(d){if(d===gj)throw Error(n(174));return d}function df(d,g){jc(Yh,g);jc(Xh,d);jc(Wg,gj);d=g.nodeType;switch(d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:H(null,"");break;default:d=8===d?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=H(g,d)}de(Wg);jc(Wg,g)}function Be(){de(Wg);de(Xh);de(Yh)}function C(d){Qe(Yh.current);var g=Qe(Wg.current),r=H(g,d.type);g!==r&&(jc(Xh,d),jc(Wg,r))}function Q(d){Xh.current===
d&&(de(Wg),de(Xh))}function Na(d){for(var g=d;null!==g;){if(13===g.tag){var r=g.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||r.data===Vi||r.data===zj))return g}else if(19===g.tag&&void 0!==g.memoizedProps.revealOrder){if(0!==(g.effectTag&64))return g}else if(null!==g.child){g.child.return=g;g=g.child;continue}if(g===d)break;for(;null===g.sibling;){if(null===g.return||g.return===d)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}return null}function Ab(d,g){return{responder:d,props:g}}
function zb(){throw Error(n(321));}function Ib(d,g){if(null===g)return!1;for(var r=0;r<g.length&&r<d.length;r++)if(!Mh(d[r],g[r]))return!1;return!0}function ac(d,g,r,L,ca,ib){rh=ib;zd=g;g.memoizedState=null;g.updateQueue=null;g.expirationTime=0;kj.current=null===d||null===d.memoizedState?mf:id;d=r(L,ca);if(g.expirationTime===rh){ib=0;do{g.expirationTime=0;if(!(25>ib))throw Error(n(301));ib+=1;Gf=zf=null;g.updateQueue=null;kj.current=ah;d=r(L,ca)}while(g.expirationTime===rh)}kj.current=xe;g=null!==
zf&&null!==zf.next;rh=0;Gf=zf=zd=null;Zg=!1;if(g)throw Error(n(300));return d}function Oc(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Gf?zd.memoizedState=Gf=d:Gf=Gf.next=d;return Gf}function Fc(){if(null===zf){var d=zd.alternate;d=null!==d?d.memoizedState:null}else d=zf.next;var g=null===Gf?zd.memoizedState:Gf.next;if(null!==g)Gf=g,zf=d;else{if(null===d)throw Error(n(310));zf=d;d={memoizedState:zf.memoizedState,baseState:zf.baseState,baseQueue:zf.baseQueue,
queue:zf.queue,next:null};null===Gf?zd.memoizedState=Gf=d:Gf=Gf.next=d}return Gf}function bd(d,g){return"function"===typeof g?g(d):g}function cd(d){var g=Fc(),r=g.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=d;var L=zf,ca=L.baseQueue,ib=r.pending;if(null!==ib){if(null!==ca){var nb=ca.next;ca.next=ib.next;ib.next=nb}L.baseQueue=ca=ib;r.pending=null}if(null!==ca){ca=ca.next;L=L.baseState;var Ob=nb=ib=null,Lc=ca;do{var Nc=Lc.expirationTime;if(Nc<rh){var td={expirationTime:Lc.expirationTime,
suspenseConfig:Lc.suspenseConfig,action:Lc.action,eagerReducer:Lc.eagerReducer,eagerState:Lc.eagerState,next:null};null===Ob?(nb=Ob=td,ib=L):Ob=Ob.next=td;Nc>zd.expirationTime&&(zd.expirationTime=Nc,hf(Nc))}else null!==Ob&&(Ob=Ob.next={expirationTime:1073741823,suspenseConfig:Lc.suspenseConfig,action:Lc.action,eagerReducer:Lc.eagerReducer,eagerState:Lc.eagerState,next:null}),lf(Nc,Lc.suspenseConfig),L=Lc.eagerReducer===d?Lc.eagerState:d(L,Lc.action);Lc=Lc.next}while(null!==Lc&&Lc!==ca);null===Ob?
ib=L:Ob.next=nb;Mh(L,g.memoizedState)||(Qg=!0);g.memoizedState=L;g.baseState=ib;g.baseQueue=Ob;r.lastRenderedState=L}return[g.memoizedState,r.dispatch]}function jd(d){var g=Fc(),r=g.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=d;var L=r.dispatch,ca=r.pending,ib=g.memoizedState;if(null!==ca){r.pending=null;var nb=ca=ca.next;do ib=d(ib,nb.action),nb=nb.next;while(nb!==ca);Mh(ib,g.memoizedState)||(Qg=!0);g.memoizedState=ib;null===g.baseQueue&&(g.baseState=ib);r.lastRenderedState=ib}return[ib,
L]}function wd(d){var g=Oc();"function"===typeof d&&(d=d());g.memoizedState=g.baseState=d;d=g.queue={pending:null,dispatch:null,lastRenderedReducer:bd,lastRenderedState:d};d=d.dispatch=B.bind(null,zd,d);return[g.memoizedState,d]}function Hd(d,g,r,L){d={tag:d,create:g,destroy:r,deps:L,next:null};g=zd.updateQueue;null===g?(g={lastEffect:null},zd.updateQueue=g,g.lastEffect=d.next=d):(r=g.lastEffect,null===r?g.lastEffect=d.next=d:(L=r.next,r.next=d,d.next=L,g.lastEffect=d));return d}function ge(){return Fc().memoizedState}
function me(d,g,r,L){var ca=Oc();zd.effectTag|=d;ca.memoizedState=Hd(1|g,r,void 0,void 0===L?null:L)}function qe(d,g,r,L){var ca=Fc();L=void 0===L?null:L;var ib=void 0;if(null!==zf){var nb=zf.memoizedState;ib=nb.destroy;if(null!==L&&Ib(L,nb.deps)){Hd(g,r,ib,L);return}}zd.effectTag|=d;ca.memoizedState=Hd(1|g,r,ib,L)}function he(d,g){return me(516,4,d,g)}function Fd(d,g){return qe(516,4,d,g)}function ef(d,g){return qe(4,2,d,g)}function xf(d,g){if("function"===typeof g)return d=d(),g(d),function(){g(null)};
if(null!==g&&void 0!==g)return d=d(),g.current=d,function(){g.current=null}}function Ff(d,g,r){r=null!==r&&void 0!==r?r.concat([d]):null;return qe(4,2,xf.bind(null,g,d),r)}function kf(){}function cg(d,g){Oc().memoizedState=[d,void 0===g?null:g];return d}function yf(d,g){var r=Fc();g=void 0===g?null:g;var L=r.memoizedState;if(null!==L&&null!==g&&Ib(g,L[1]))return L[0];r.memoizedState=[d,g];return d}function Xf(d,g){var r=Fc();g=void 0===g?null:g;var L=r.memoizedState;if(null!==L&&null!==g&&Ib(g,L[1]))return L[0];
d=d();r.memoizedState=[d,g];return d}function A(d,g,r){var L=Oe();He(98>L?98:L,function(){d(!0)});He(97<L?97:L,function(){var ca=pg.suspense;pg.suspense=void 0===g?null:g;try{d(!1),r()}finally{pg.suspense=ca}})}function B(d,g,r){var L=Wc(),ca=Wh.suspense;L=fd(L,d,ca);ca={expirationTime:L,suspenseConfig:ca,action:r,eagerReducer:null,eagerState:null,next:null};var ib=g.pending;null===ib?ca.next=ca:(ca.next=ib.next,ib.next=ca);g.pending=ca;ib=d.alternate;if(d===zd||null!==ib&&ib===zd)Zg=!0,ca.expirationTime=
rh,zd.expirationTime=rh;else{if(0===d.expirationTime&&(null===ib||0===ib.expirationTime)&&(ib=g.lastRenderedReducer,null!==ib))try{var nb=g.lastRenderedState,Ob=ib(nb,r);ca.eagerReducer=ib;ca.eagerState=Ob;if(Mh(Ob,nb))return}catch(Lc){}finally{}hd(d,L)}}function K(d,g){var r=Lg(5,null,null,0);r.elementType="DELETED";r.type="DELETED";r.stateNode=g;r.return=d;r.effectTag=8;null!==d.lastEffect?(d.lastEffect.nextEffect=r,d.lastEffect=r):d.firstEffect=d.lastEffect=r}function U(d,g){switch(d.tag){case 5:var r=
d.type;g=1!==g.nodeType||r.toLowerCase()!==g.nodeName.toLowerCase()?null:g;return null!==g?(d.stateNode=g,!0):!1;case 6:return g=""===d.pendingProps||3!==g.nodeType?null:g,null!==g?(d.stateNode=g,!0):!1;case 13:return!1;default:return!1}}function aa(d){if(Rg){var g=yg;if(g){var r=g;if(!U(d,g)){g=cc(r.nextSibling);if(!g||!U(d,g)){d.effectTag=d.effectTag&-1025|2;Rg=!1;Yf=d;return}K(Yf,r)}Yf=d;yg=cc(g.firstChild)}else d.effectTag=d.effectTag&-1025|2,Rg=!1,Yf=d}}function ha(d){for(d=d.return;null!==d&&
5!==d.tag&&3!==d.tag&&13!==d.tag;)d=d.return;Yf=d}function Aa(d){if(d!==Yf)return!1;if(!Rg)return ha(d),Rg=!0,!1;var g=d.type;if(5!==d.tag||"head"!==g&&"body"!==g&&!Yb(g,d.memoizedProps))for(g=yg;g;)K(d,g),g=cc(g.nextSibling);ha(d);if(13===d.tag){d=d.memoizedState;d=null!==d?d.dehydrated:null;if(!d)throw Error(n(317));a:{d=d.nextSibling;for(g=0;d;){if(8===d.nodeType){var r=d.data;if(r===cl){if(0===g){yg=cc(d.nextSibling);break a}g--}else r!==bl&&r!==zj&&r!==Vi||g++}d=d.nextSibling}yg=null}}else yg=
Yf?cc(d.stateNode.nextSibling):null;return!0}function Xa(d,g,r,L){g.child=null===d?Hk(g,null,r,L):Bi(g,d.child,r,L)}function Va(d,g,r,L,ca){r=r.render;var ib=g.ref;fe(g,ca);L=ac(d,g,r,L,ib,ca);if(null!==d&&!Qg)return g.updateQueue=d.updateQueue,g.effectTag&=-517,d.expirationTime<=ca&&(d.expirationTime=0),Ub(d,g,ca);g.effectTag|=1;Xa(d,g,L,ca);return g.child}function lb(d,g,r,L,ca,ib){if(null===d){var nb=r.type;if("function"===typeof nb&&!ck(nb)&&void 0===nb.defaultProps&&null===r.compare&&void 0===
r.defaultProps)return g.tag=15,g.type=nb,pb(d,g,nb,L,ca,ib);d=Ii(r.type,null,L,null,g.mode,ib);d.ref=g.ref;d.return=g;return g.child=d}nb=d.child;if(ca<ib&&(ca=nb.memoizedProps,r=r.compare,r=null!==r?r:yd,r(ca,L)&&d.ref===g.ref))return Ub(d,g,ib);g.effectTag|=1;d=sf(nb,L);d.ref=g.ref;d.return=g;return g.child=d}function pb(d,g,r,L,ca,ib){return null!==d&&yd(d.memoizedProps,L)&&d.ref===g.ref&&(Qg=!1,ca<ib)?(g.expirationTime=d.expirationTime,Ub(d,g,ib)):Wb(d,g,r,L,ib)}function Gb(d,g){var r=g.ref;if(null===
d&&null!==r||null!==d&&d.ref!==r)g.effectTag|=128}function Wb(d,g,r,L,ca){var ib=Jd(r)?Oh:Sf.current;ib=Wd(g,ib);fe(g,ca);r=ac(d,g,r,L,ib,ca);if(null!==d&&!Qg)return g.updateQueue=d.updateQueue,g.effectTag&=-517,d.expirationTime<=ca&&(d.expirationTime=0),Ub(d,g,ca);g.effectTag|=1;Xa(d,g,r,ca);return g.child}function m(d,g,r,L,ca){if(Jd(r)){var ib=!0;re(g)}else ib=!1;fe(g,ca);if(null===g.stateNode)null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2),gd(g,r,L),Fe(g,r,L,ca),L=!0;else if(null===
d){var nb=g.stateNode,Ob=g.memoizedProps;nb.props=Ob;var Lc=nb.context,Nc=r.contextType;"object"===typeof Nc&&null!==Nc?Nc=Sd(Nc):(Nc=Jd(r)?Oh:Sf.current,Nc=Wd(g,Nc));var td=r.getDerivedStateFromProps,Kd="function"===typeof td||"function"===typeof nb.getSnapshotBeforeUpdate;Kd||"function"!==typeof nb.UNSAFE_componentWillReceiveProps&&"function"!==typeof nb.componentWillReceiveProps||(Ob!==L||Lc!==Nc)&&rf(g,nb,L,Nc);zh=!1;var Je=g.memoizedState;nb.state=Je;pe(g,L,nb,ca);Lc=g.memoizedState;Ob!==L||
Je!==Lc||jg.current||zh?("function"===typeof td&&(cf(g,r,td,L),Lc=g.memoizedState),(Ob=zh||qf(g,r,Ob,L,Je,Lc,Nc))?(Kd||"function"!==typeof nb.UNSAFE_componentWillMount&&"function"!==typeof nb.componentWillMount||("function"===typeof nb.componentWillMount&&nb.componentWillMount(),"function"===typeof nb.UNSAFE_componentWillMount&&nb.UNSAFE_componentWillMount()),"function"===typeof nb.componentDidMount&&(g.effectTag|=4)):("function"===typeof nb.componentDidMount&&(g.effectTag|=4),g.memoizedProps=L,g.memoizedState=
Lc),nb.props=L,nb.state=Lc,nb.context=Nc,L=Ob):("function"===typeof nb.componentDidMount&&(g.effectTag|=4),L=!1)}else nb=g.stateNode,Qd(d,g),Ob=g.memoizedProps,nb.props=g.type===g.elementType?Ob:ne(g.type,Ob),Lc=nb.context,Nc=r.contextType,"object"===typeof Nc&&null!==Nc?Nc=Sd(Nc):(Nc=Jd(r)?Oh:Sf.current,Nc=Wd(g,Nc)),td=r.getDerivedStateFromProps,(Kd="function"===typeof td||"function"===typeof nb.getSnapshotBeforeUpdate)||"function"!==typeof nb.UNSAFE_componentWillReceiveProps&&"function"!==typeof nb.componentWillReceiveProps||
(Ob!==L||Lc!==Nc)&&rf(g,nb,L,Nc),zh=!1,Lc=g.memoizedState,nb.state=Lc,pe(g,L,nb,ca),Je=g.memoizedState,Ob!==L||Lc!==Je||jg.current||zh?("function"===typeof td&&(cf(g,r,td,L),Je=g.memoizedState),(td=zh||qf(g,r,Ob,L,Lc,Je,Nc))?(Kd||"function"!==typeof nb.UNSAFE_componentWillUpdate&&"function"!==typeof nb.componentWillUpdate||("function"===typeof nb.componentWillUpdate&&nb.componentWillUpdate(L,Je,Nc),"function"===typeof nb.UNSAFE_componentWillUpdate&&nb.UNSAFE_componentWillUpdate(L,Je,Nc)),"function"===
typeof nb.componentDidUpdate&&(g.effectTag|=4),"function"===typeof nb.getSnapshotBeforeUpdate&&(g.effectTag|=256)):("function"!==typeof nb.componentDidUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=4),"function"!==typeof nb.getSnapshotBeforeUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=256),g.memoizedProps=L,g.memoizedState=Je),nb.props=L,nb.state=Je,nb.context=Nc,L=td):("function"!==typeof nb.componentDidUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=
4),"function"!==typeof nb.getSnapshotBeforeUpdate||Ob===d.memoizedProps&&Lc===d.memoizedState||(g.effectTag|=256),L=!1);return v(d,g,r,L,ib,ca)}function v(d,g,r,L,ca,ib){Gb(d,g);var nb=0!==(g.effectTag&64);if(!L&&!nb)return ca&&Ye(g,r,!1),Ub(d,g,ib);L=g.stateNode;Xk.current=g;var Ob=nb&&"function"!==typeof r.getDerivedStateFromError?null:L.render();g.effectTag|=1;null!==d&&nb?(g.child=Bi(g,d.child,null,ib),g.child=Bi(g,null,Ob,ib)):Xa(d,g,Ob,ib);g.memoizedState=L.state;ca&&Ye(g,r,!0);return g.child}
function P(d){var g=d.stateNode;g.pendingContext?Ke(d,g.pendingContext,g.pendingContext!==g.context):g.context&&Ke(d,g.context,!1);df(d,g.containerInfo)}function V(d,g,r){var L=g.mode,ca=g.pendingProps,ib=wf.current,nb=!1,Ob;(Ob=0!==(g.effectTag&64))||(Ob=0!==(ib&2)&&(null===d||null!==d.memoizedState));Ob?(nb=!0,g.effectTag&=-65):null!==d&&null===d.memoizedState||void 0===ca.fallback||!0===ca.unstable_avoidThisFallback||(ib|=1);jc(wf,ib&1);if(null===d){void 0!==ca.fallback&&aa(g);if(nb){nb=ca.fallback;
ca=ph(null,L,0,null);ca.return=g;if(0===(g.mode&2))for(d=null!==g.memoizedState?g.child.child:g.child,ca.child=d;null!==d;)d.return=ca,d=d.sibling;r=ph(nb,L,r,null);r.return=g;ca.sibling=r;g.memoizedState=Qj;g.child=ca;return r}L=ca.children;g.memoizedState=null;return g.child=Hk(g,null,L,r)}if(null!==d.memoizedState){d=d.child;L=d.sibling;if(nb){ca=ca.fallback;r=sf(d,d.pendingProps);r.return=g;if(0===(g.mode&2)&&(nb=null!==g.memoizedState?g.child.child:g.child,nb!==d.child))for(r.child=nb;null!==
nb;)nb.return=r,nb=nb.sibling;L=sf(L,ca);L.return=g;r.sibling=L;r.childExpirationTime=0;g.memoizedState=Qj;g.child=r;return L}r=Bi(g,d.child,ca.children,r);g.memoizedState=null;return g.child=r}d=d.child;if(nb){nb=ca.fallback;ca=ph(null,L,0,null);ca.return=g;ca.child=d;null!==d&&(d.return=ca);if(0===(g.mode&2))for(d=null!==g.memoizedState?g.child.child:g.child,ca.child=d;null!==d;)d.return=ca,d=d.sibling;r=ph(nb,L,r,null);r.return=g;ca.sibling=r;r.effectTag|=2;ca.childExpirationTime=0;g.memoizedState=
Qj;g.child=ca;return r}g.memoizedState=null;return g.child=Bi(g,d,ca.children,r)}function Ga(d,g){d.expirationTime<g&&(d.expirationTime=g);var r=d.alternate;null!==r&&r.expirationTime<g&&(r.expirationTime=g);Pc(d.return,g)}function ob(d,g,r,L,ca,ib){var nb=d.memoizedState;null===nb?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:L,tail:r,tailExpiration:0,tailMode:ca,lastEffect:ib}:(nb.isBackwards=g,nb.rendering=null,nb.renderingStartTime=0,nb.last=L,nb.tail=r,nb.tailExpiration=
0,nb.tailMode=ca,nb.lastEffect=ib)}function Db(d,g,r){var L=g.pendingProps,ca=L.revealOrder,ib=L.tail;Xa(d,g,L.children,r);L=wf.current;if(0!==(L&2))L=L&1|2,g.effectTag|=64;else{if(null!==d&&0!==(d.effectTag&64))a:for(d=g.child;null!==d;){if(13===d.tag)null!==d.memoizedState&&Ga(d,r);else if(19===d.tag)Ga(d,r);else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===g)break a;for(;null===d.sibling;){if(null===d.return||d.return===g)break a;d=d.return}d.sibling.return=d.return;d=d.sibling}L&=
1}jc(wf,L);if(0===(g.mode&2))g.memoizedState=null;else switch(ca){case "forwards":r=g.child;for(ca=null;null!==r;)d=r.alternate,null!==d&&null===Na(d)&&(ca=r),r=r.sibling;r=ca;null===r?(ca=g.child,g.child=null):(ca=r.sibling,r.sibling=null);ob(g,!1,ca,r,ib,g.lastEffect);break;case "backwards":r=null;ca=g.child;for(g.child=null;null!==ca;){d=ca.alternate;if(null!==d&&null===Na(d)){g.child=ca;break}d=ca.sibling;ca.sibling=r;r=ca;ca=d}ob(g,!0,r,null,ib,g.lastEffect);break;case "together":ob(g,!1,null,
null,void 0,g.lastEffect);break;default:g.memoizedState=null}return g.child}function Ub(d,g,r){null!==d&&(g.dependencies=d.dependencies);var L=g.expirationTime;0!==L&&hf(L);if(g.childExpirationTime<r)return null;if(null!==d&&g.child!==d.child)throw Error(n(153));if(null!==g.child){d=g.child;r=sf(d,d.pendingProps);g.child=r;for(r.return=g;null!==d.sibling;)d=d.sibling,r=r.sibling=sf(d,d.pendingProps),r.return=g;r.sibling=null}return g.child}function ec(d,g){switch(d.tailMode){case "hidden":g=d.tail;
for(var r=null;null!==g;)null!==g.alternate&&(r=g),g=g.sibling;null===r?d.tail=null:r.sibling=null;break;case "collapsed":r=d.tail;for(var L=null;null!==r;)null!==r.alternate&&(L=r),r=r.sibling;null===L?g||null===d.tail?d.tail=null:d.tail.sibling=null:L.sibling=null}}function zc(d,g,r){var L=g.pendingProps;switch(g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Jd(g.type)&&Lb(),null;case 3:return Be(),de(jg),de(Sf),r=g.stateNode,r.pendingContext&&
(r.context=r.pendingContext,r.pendingContext=null),null!==d&&null!==d.child||!Aa(g)||(g.effectTag|=4),ak(g),null;case 5:Q(g);r=Qe(Yh.current);var ca=g.type;if(null!==d&&null!=g.stateNode)Dl(d,g,ca,L,r),d.ref!==g.ref&&(g.effectTag|=128);else{if(!L){if(null===g.stateNode)throw Error(n(166));return null}d=Qe(Wg.current);if(Aa(g)){L=g.stateNode;ca=g.type;var ib=g.memoizedProps;L[Sg]=g;L[Xi]=ib;switch(ca){case "iframe":case "object":case "embed":Mb("load",L);break;case "video":case "audio":for(d=0;d<Ri.length;d++)Mb(Ri[d],
L);break;case "source":Mb("error",L);break;case "img":case "image":case "link":Mb("error",L);Mb("load",L);break;case "form":Mb("reset",L);Mb("submit",L);break;case "details":Mb("toggle",L);break;case "input":x(L,ib);Mb("invalid",L);De(r,"onChange");break;case "select":L._wrapperState={wasMultiple:!!ib.multiple};Mb("invalid",L);De(r,"onChange");break;case "textarea":D(L,ib),Mb("invalid",L),De(r,"onChange")}Rc(ca,ib);d=null;for(var nb in ib)if(ib.hasOwnProperty(nb)){var Ob=ib[nb];"children"===nb?"string"===
typeof Ob?L.textContent!==Ob&&(d=["children",Ob]):"number"===typeof Ob&&L.textContent!==""+Ob&&(d=["children",""+Ob]):Gh.hasOwnProperty(nb)&&null!=Ob&&De(r,nb)}switch(ca){case "input":Za(L);z(L,ib,!0);break;case "textarea":Za(L);Y(L);break;case "select":case "option":break;default:"function"===typeof ib.onClick&&(L.onclick=Ne)}r=d;g.updateQueue=r;null!==r&&(g.effectTag|=4)}else{nb=9===r.nodeType?r:r.ownerDocument;"http://www.w3.org/1999/xhtml"===d&&(d=W(ca));"http://www.w3.org/1999/xhtml"===d?"script"===
ca?(d=nb.createElement("div"),d.innerHTML="\x3cscript\x3e\x3c/script\x3e",d=d.removeChild(d.firstChild)):"string"===typeof L.is?d=nb.createElement(ca,{is:L.is}):(d=nb.createElement(ca),"select"===ca&&(nb=d,L.multiple?nb.multiple=!0:L.size&&(nb.size=L.size))):d=nb.createElementNS(d,ca);d[Sg]=g;d[Xi]=L;yl(d,g,!1,!1);g.stateNode=d;nb=se(ca,L);switch(ca){case "iframe":case "object":case "embed":Mb("load",d);Ob=L;break;case "video":case "audio":for(Ob=0;Ob<Ri.length;Ob++)Mb(Ri[Ob],d);Ob=L;break;case "source":Mb("error",
d);Ob=L;break;case "img":case "image":case "link":Mb("error",d);Mb("load",d);Ob=L;break;case "form":Mb("reset",d);Mb("submit",d);Ob=L;break;case "details":Mb("toggle",d);Ob=L;break;case "input":x(d,L);Ob=y(d,L);Mb("invalid",d);De(r,"onChange");break;case "option":Ob=ka(d,L);break;case "select":d._wrapperState={wasMultiple:!!L.multiple};Ob=Pf({},L,{value:void 0});Mb("invalid",d);De(r,"onChange");break;case "textarea":D(d,L);Ob=Ta(d,L);Mb("invalid",d);De(r,"onChange");break;default:Ob=L}Rc(ca,Ob);var Lc=
Ob;for(ib in Lc)if(Lc.hasOwnProperty(ib)){var Nc=Lc[ib];"style"===ib?Rb(d,Nc):"dangerouslySetInnerHTML"===ib?(Nc=Nc?Nc.__html:void 0,null!=Nc&&Qi(d,Nc)):"children"===ib?"string"===typeof Nc?("textarea"!==ca||""!==Nc)&&T(d,Nc):"number"===typeof Nc&&T(d,""+Nc):"suppressContentEditableWarning"!==ib&&"suppressHydrationWarning"!==ib&&"autoFocus"!==ib&&(Gh.hasOwnProperty(ib)?null!=Nc&&De(r,ib):null!=Nc&&Oa(d,ib,Nc,nb))}switch(ca){case "input":Za(d);z(d,L,!1);break;case "textarea":Za(d);Y(d);break;case "option":null!=
L.value&&d.setAttribute("value",""+qa(L.value));break;case "select":d.multiple=!!L.multiple;r=L.value;null!=r?Ia(d,!!L.multiple,r,!1):null!=L.defaultValue&&Ia(d,!!L.multiple,L.defaultValue,!0);break;default:"function"===typeof Ob.onClick&&(d.onclick=Ne)}Vb(ca,L)&&(g.effectTag|=4)}null!==g.ref&&(g.effectTag|=128)}return null;case 6:if(d&&null!=g.stateNode)Yl(d,g,d.memoizedProps,L);else{if("string"!==typeof L&&null===g.stateNode)throw Error(n(166));r=Qe(Yh.current);Qe(Wg.current);Aa(g)?(r=g.stateNode,
L=g.memoizedProps,r[Sg]=g,r.nodeValue!==L&&(g.effectTag|=4)):(r=(9===r.nodeType?r:r.ownerDocument).createTextNode(L),r[Sg]=g,g.stateNode=r)}return null;case 13:de(wf);L=g.memoizedState;if(0!==(g.effectTag&64))return g.expirationTime=r,g;r=null!==L;L=!1;null===d?void 0!==g.memoizedProps.fallback&&Aa(g):(ca=d.memoizedState,L=null!==ca,r||null===ca||(ca=d.child.sibling,null!==ca&&(ib=g.firstEffect,null!==ib?(g.firstEffect=ca,ca.nextEffect=ib):(g.firstEffect=g.lastEffect=ca,ca.nextEffect=null),ca.effectTag=
8)));if(r&&!L&&0!==(g.mode&2))if(null===d&&!0!==g.memoizedProps.unstable_avoidThisFallback||0!==(wf.current&1))Ue===Kg&&(Ue=Tj);else{if(Ue===Kg||Ue===Tj)Ue=$h;0!==Ci&&null!==pf&&(Mg(pf,eg),gk(pf,Ci))}if(r||L)g.effectTag|=4;return null;case 4:return Be(),ak(g),null;case 10:return ee(g),null;case 17:return Jd(g.type)&&Lb(),null;case 19:de(wf);L=g.memoizedState;if(null===L)return null;ca=0!==(g.effectTag&64);ib=L.rendering;if(null===ib)if(ca)ec(L,!1);else{if(Ue!==Kg||null!==d&&0!==(d.effectTag&64))for(ib=
g.child;null!==ib;){d=Na(ib);if(null!==d){g.effectTag|=64;ec(L,!1);ca=d.updateQueue;null!==ca&&(g.updateQueue=ca,g.effectTag|=4);null===L.lastEffect&&(g.firstEffect=null);g.lastEffect=L.lastEffect;for(L=g.child;null!==L;)ca=L,ib=r,ca.effectTag&=2,ca.nextEffect=null,ca.firstEffect=null,ca.lastEffect=null,d=ca.alternate,null===d?(ca.childExpirationTime=0,ca.expirationTime=ib,ca.child=null,ca.memoizedProps=null,ca.memoizedState=null,ca.updateQueue=null,ca.dependencies=null):(ca.childExpirationTime=d.childExpirationTime,
ca.expirationTime=d.expirationTime,ca.child=d.child,ca.memoizedProps=d.memoizedProps,ca.memoizedState=d.memoizedState,ca.updateQueue=d.updateQueue,ib=d.dependencies,ca.dependencies=null===ib?null:{expirationTime:ib.expirationTime,firstContext:ib.firstContext,responders:ib.responders}),L=L.sibling;jc(wf,wf.current&1|2);return g.child}ib=ib.sibling}}else{if(!ca)if(d=Na(ib),null!==d){if(g.effectTag|=64,ca=!0,r=d.updateQueue,null!==r&&(g.updateQueue=r,g.effectTag|=4),ec(L,!0),null===L.tail&&"hidden"===
L.tailMode&&!ib.alternate)return g=g.lastEffect=L.lastEffect,null!==g&&(g.nextEffect=null),null}else 2*ug()-L.renderingStartTime>L.tailExpiration&&1<r&&(g.effectTag|=64,ca=!0,ec(L,!1),g.expirationTime=g.childExpirationTime=r-1);L.isBackwards?(ib.sibling=g.child,g.child=ib):(r=L.last,null!==r?r.sibling=ib:g.child=ib,L.last=ib)}return null!==L.tail?(0===L.tailExpiration&&(L.tailExpiration=ug()+500),r=L.tail,L.rendering=r,L.tail=r.sibling,L.lastEffect=g.lastEffect,L.renderingStartTime=ug(),r.sibling=
null,g=wf.current,jc(wf,ca?g&1|2:g&1),r):null}throw Error(n(156,g.tag));}function Cc(d){switch(d.tag){case 1:Jd(d.type)&&Lb();var g=d.effectTag;return g&4096?(d.effectTag=g&-4097|64,d):null;case 3:Be();de(jg);de(Sf);g=d.effectTag;if(0!==(g&64))throw Error(n(285));d.effectTag=g&-4097|64;return d;case 5:return Q(d),null;case 13:return de(wf),g=d.effectTag,g&4096?(d.effectTag=g&-4097|64,d):null;case 19:return de(wf),null;case 4:return Be(),null;case 10:return ee(d),null;default:return null}}function $c(d,
g){return{value:d,source:g,stack:sa(g)}}function qd(d,g){var r=g.source,L=g.stack;null===L&&null!==r&&(L=sa(r));null!==r&&wa(r.type);g=g.value;null!==d&&1===d.tag&&wa(d.type);try{console.error(g)}catch(ca){setTimeout(function(){throw ca;})}}function Mc(d,g){try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(r){$g(d,r)}}function Ad(d){var g=d.ref;if(null!==g)if("function"===typeof g)try{g(null)}catch(r){$g(d,r)}else g.current=null}function Cd(d,g){switch(g.tag){case 0:case 11:case 15:case 22:return;
case 1:if(g.effectTag&256&&null!==d){var r=d.memoizedProps,L=d.memoizedState;d=g.stateNode;g=d.getSnapshotBeforeUpdate(g.elementType===g.type?r:ne(g.type,r),L);d.__reactInternalSnapshotBeforeUpdate=g}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163));}function we(d,g){g=g.updateQueue;g=null!==g?g.lastEffect:null;if(null!==g){var r=g=g.next;do{if((r.tag&d)===d){var L=r.destroy;r.destroy=void 0;void 0!==L&&L()}r=r.next}while(r!==g)}}function X(d,g){g=g.updateQueue;g=null!==g?g.lastEffect:
null;if(null!==g){var r=g=g.next;do{if((r.tag&d)===d){var L=r.create;r.destroy=L()}r=r.next}while(r!==g)}}function ta(d,g,r){switch(r.tag){case 0:case 11:case 15:case 22:X(3,r);return;case 1:d=r.stateNode;if(r.effectTag&4)if(null===g)d.componentDidMount();else{var L=r.elementType===r.type?g.memoizedProps:ne(r.type,g.memoizedProps);d.componentDidUpdate(L,g.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}g=r.updateQueue;null!==g&&Le(r,g,d);return;case 3:g=r.updateQueue;if(null!==g){d=null;if(null!==
r.child)switch(r.child.tag){case 5:d=r.child.stateNode;break;case 1:d=r.child.stateNode}Le(r,g,d)}return;case 5:d=r.stateNode;null===g&&r.effectTag&4&&Vb(r.type,r.memoizedProps)&&d.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&tb(r))));return;case 19:case 17:case 20:case 21:return}throw Error(n(163));}function Ua(d,g,r){"function"===typeof dk&&dk(g);switch(g.tag){case 0:case 11:case 14:case 15:case 22:d=
g.updateQueue;if(null!==d&&(d=d.lastEffect,null!==d)){var L=d.next;He(97<r?97:r,function(){var ca=L;do{var ib=ca.destroy;if(void 0!==ib){var nb=g;try{ib()}catch(Ob){$g(nb,Ob)}}ca=ca.next}while(ca!==L)})}break;case 1:Ad(g);r=g.stateNode;"function"===typeof r.componentWillUnmount&&Mc(g,r);break;case 5:Ad(g);break;case 4:yc(d,g,r)}}function kb(d){var g=d.alternate;d.return=null;d.child=null;d.memoizedState=null;d.updateQueue=null;d.dependencies=null;d.alternate=null;d.firstEffect=null;d.lastEffect=null;
d.pendingProps=null;d.memoizedProps=null;d.stateNode=null;null!==g&&kb(g)}function Bb(d){return 5===d.tag||3===d.tag||4===d.tag}function mc(d){a:{for(var g=d.return;null!==g;){if(Bb(g)){var r=g;break a}g=g.return}throw Error(n(160));}g=r.stateNode;switch(r.tag){case 5:var L=!1;break;case 3:g=g.containerInfo;L=!0;break;case 4:g=g.containerInfo;L=!0;break;default:throw Error(n(161));}r.effectTag&16&&(T(g,""),r.effectTag&=-17);r=d;a:b:for(;;){for(;null===r.sibling;){if(null===r.return||Bb(r.return)){r=
null;break a}r=r.return}r.sibling.return=r.return;for(r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(r.effectTag&2)continue b;if(null===r.child||4===r.tag)continue b;else r.child.return=r,r=r.child}if(!(r.effectTag&2)){r=r.stateNode;break a}}L?wc(d,r,g):nc(d,r,g)}function wc(d,g,r){var L=d.tag,ca=5===L||6===L;if(ca)d=ca?d.stateNode:d.stateNode.instance,g?8===r.nodeType?r.parentNode.insertBefore(d,g):r.insertBefore(d,g):(8===r.nodeType?(g=r.parentNode,g.insertBefore(d,r)):(g=r,g.appendChild(d)),
r=r._reactRootContainer,null!==r&&void 0!==r||null!==g.onclick||(g.onclick=Ne));else if(4!==L&&(d=d.child,null!==d))for(wc(d,g,r),d=d.sibling;null!==d;)wc(d,g,r),d=d.sibling}function nc(d,g,r){var L=d.tag,ca=5===L||6===L;if(ca)d=ca?d.stateNode:d.stateNode.instance,g?r.insertBefore(d,g):r.appendChild(d);else if(4!==L&&(d=d.child,null!==d))for(nc(d,g,r),d=d.sibling;null!==d;)nc(d,g,r),d=d.sibling}function yc(d,g,r){for(var L=g,ca=!1,ib,nb;;){if(!ca){ca=L.return;a:for(;;){if(null===ca)throw Error(n(160));
ib=ca.stateNode;switch(ca.tag){case 5:nb=!1;break a;case 3:ib=ib.containerInfo;nb=!0;break a;case 4:ib=ib.containerInfo;nb=!0;break a}ca=ca.return}ca=!0}if(5===L.tag||6===L.tag){var Ob=d,Lc=L,Nc=r,td=Lc;a:for(;;)if(Ua(Ob,td,Nc),null!==td.child&&4!==td.tag)td.child.return=td,td=td.child;else{if(td===Lc)break a;for(;null===td.sibling;){if(null===td.return||td.return===Lc)break a;td=td.return}td.sibling.return=td.return;td=td.sibling}nb?(Ob=ib,Lc=L.stateNode,8===Ob.nodeType?Ob.parentNode.removeChild(Lc):
Ob.removeChild(Lc)):ib.removeChild(L.stateNode)}else if(4===L.tag){if(null!==L.child){ib=L.stateNode.containerInfo;nb=!0;L.child.return=L;L=L.child;continue}}else if(Ua(d,L,r),null!==L.child){L.child.return=L;L=L.child;continue}if(L===g)break;for(;null===L.sibling;){if(null===L.return||L.return===g)return;L=L.return;4===L.tag&&(ca=!1)}L.sibling.return=L.return;L=L.sibling}}function Bc(d,g){switch(g.tag){case 0:case 11:case 14:case 15:case 22:we(3,g);return;case 1:return;case 5:var r=g.stateNode;if(null!=
r){var L=g.memoizedProps,ca=null!==d?d.memoizedProps:L;d=g.type;var ib=g.updateQueue;g.updateQueue=null;if(null!==ib){r[Xi]=L;"input"===d&&"radio"===L.type&&null!=L.name&&G(r,L);se(d,ca);g=se(d,L);for(ca=0;ca<ib.length;ca+=2){var nb=ib[ca],Ob=ib[ca+1];"style"===nb?Rb(r,Ob):"dangerouslySetInnerHTML"===nb?Qi(r,Ob):"children"===nb?T(r,Ob):Oa(r,nb,Ob,g)}switch(d){case "input":J(r,L);break;case "textarea":fa(r,L);break;case "select":g=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!L.multiple,
d=L.value,null!=d?Ia(r,!!L.multiple,d,!1):g!==!!L.multiple&&(null!=L.defaultValue?Ia(r,!!L.multiple,L.defaultValue,!0):Ia(r,!!L.multiple,L.multiple?[]:"",!1))}}}return;case 6:if(null===g.stateNode)throw Error(n(162));g.stateNode.nodeValue=g.memoizedProps;return;case 3:g=g.stateNode;g.hydrate&&(g.hydrate=!1,tb(g.containerInfo));return;case 12:return;case 13:r=g;null===g.memoizedState?L=!1:(L=!0,r=g.child,zg=ug());if(null!==r)a:for(d=r;;){if(5===d.tag)ib=d.stateNode,L?(ib=ib.style,"function"===typeof ib.setProperty?
ib.setProperty("display","none","important"):ib.display="none"):(ib=d.stateNode,ca=d.memoizedProps.style,ca=void 0!==ca&&null!==ca&&ca.hasOwnProperty("display")?ca.display:null,ib.style.display=Cb("display",ca));else if(6===d.tag)d.stateNode.nodeValue=L?"":d.memoizedProps;else if(13===d.tag&&null!==d.memoizedState&&null===d.memoizedState.dehydrated){ib=d.child.sibling;ib.return=d;d=ib;continue}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===r)break;for(;null===d.sibling;){if(null===
d.return||d.return===r)break a;d=d.return}d.sibling.return=d.return;d=d.sibling}dd(g);return;case 19:dd(g);return;case 17:return}throw Error(n(163));}function dd(d){var g=d.updateQueue;if(null!==g){d.updateQueue=null;var r=d.stateNode;null===r&&(r=d.stateNode=new Lk);g.forEach(function(L){var ca=Nk.bind(null,d,L);r.has(L)||(r.add(L),L.then(ca,ca))})}}function Qc(d,g,r){r=Ed(r,null);r.tag=3;r.payload={element:null};var L=g.value;r.callback=function(){jj||(jj=!0,Wj=L);qd(d,g)};return r}function Kc(d,
g,r){r=Ed(r,null);r.tag=3;var L=d.type.getDerivedStateFromError;if("function"===typeof L){var ca=g.value;r.payload=function(){qd(d,g);return L(ca)}}var ib=d.stateNode;null!==ib&&"function"===typeof ib.componentDidCatch&&(r.callback=function(){"function"!==typeof L&&(null===lh?lh=new Set([this]):lh.add(this),qd(d,g));var nb=g.stack;this.componentDidCatch(g.value,{componentStack:null!==nb?nb:""})});return r}function Wc(){return(ve&(wg|Cf))!==Of?1073741821-(ug()/10|0):0!==ci?ci:ci=1073741821-(ug()/10|
0)}function fd(d,g,r){g=g.mode;if(0===(g&2))return 1073741823;var L=Oe();if(0===(g&4))return 99===L?1073741823:1073741822;if((ve&wg)!==Of)return eg;if(null!==r)d=Yc(d,r.timeoutMs|0||5E3,250);else switch(L){case 99:d=1073741823;break;case 98:d=Yc(d,150,100);break;case 97:case 96:d=Yc(d,5E3,250);break;case 95:d=2;break;default:throw Error(n(326));}null!==pf&&d===eg&&--d;return d}function hd(d,g){if(50<Gi)throw Gi=0,lj=null,Error(n(185));d=ie(d,g);if(null!==d){var r=Oe();1073741823===g?(ve&Sj)!==Of&&
(ve&(wg|Cf))===Of?ed(d):(Id(d),ve===Of&&Pd()):Id(d);(ve&4)===Of||98!==r&&99!==r||(null===nh?nh=new Map([[d,g]]):(r=nh.get(d),(void 0===r||r>g)&&nh.set(d,g)))}}function ie(d,g){d.expirationTime<g&&(d.expirationTime=g);var r=d.alternate;null!==r&&r.expirationTime<g&&(r.expirationTime=g);var L=d.return,ca=null;if(null===L&&3===d.tag)ca=d.stateNode;else for(;null!==L;){r=L.alternate;L.childExpirationTime<g&&(L.childExpirationTime=g);null!==r&&r.childExpirationTime<g&&(r.childExpirationTime=g);if(null===
L.return&&3===L.tag){ca=L.stateNode;break}L=L.return}null!==ca&&(pf===ca&&(hf(g),Ue===$h&&Mg(ca,eg)),gk(ca,g));return ca}function Td(d){var g=d.lastExpiredTime;if(0!==g)return g;g=d.firstPendingTime;if(!fk(d,g))return g;var r=d.lastPingedTime;d=d.nextKnownPendingLevel;d=r>d?r:d;return 2>=d&&g!==d?0:d}function Id(d){if(0!==d.lastExpiredTime)d.callbackExpirationTime=1073741823,d.callbackPriority=99,d.callbackNode=fc(ed.bind(null,d));else{var g=Td(d),r=d.callbackNode;if(0===g)null!==r&&(d.callbackNode=
null,d.callbackExpirationTime=0,d.callbackPriority=90);else{var L=Wc();1073741823===g?L=99:1===g||2===g?L=95:(L=10*(1073741821-g)-10*(1073741821-L),L=0>=L?99:250>=L?98:5250>=L?97:95);if(null!==r){var ca=d.callbackPriority;if(d.callbackExpirationTime===g&&ca>=L)return;r!==Kj&&nf(r)}d.callbackExpirationTime=g;d.callbackPriority=L;g=1073741823===g?fc(ed.bind(null,d)):be(L,sd.bind(null,d),{timeout:10*(1073741821-g)-ug()});d.callbackNode=g}}}function sd(d,g){ci=0;if(g)return g=Wc(),fi(d,g),Id(d),null;
var r=Td(d);if(0!==r){g=d.callbackNode;if((ve&(wg|Cf))!==Of)throw Error(n(327));oh();d===pf&&r===eg||Ae(d,r);if(null!==ye){var L=ve;ve|=wg;var ca=Ce();do try{for(;null!==ye&&!Lj();)ye=Kf(ye);break}catch(Ob){je(d,Ob)}while(1);zi=yh=Ai=null;ve=L;bi.current=ca;if(Ue===mj)throw g=Zf,Ae(d,r),Mg(d,r),Id(d),g;if(null===ye)switch(ca=d.finishedWork=d.current.alternate,d.finishedExpirationTime=r,L=Ue,pf=null,L){case Kg:case mj:throw Error(n(345));case hj:fi(d,2<r?2:r);break;case Tj:Mg(d,r);L=d.lastSuspendedTime;
r===L&&(d.nextKnownPendingLevel=Bd(ca));if(1073741823===Fg&&(ca=zg+Ki-ug(),10<ca)){if(Uj){var ib=d.lastPingedTime;if(0===ib||ib>=r){d.lastPingedTime=r;Ae(d,r);break}}ib=Td(d);if(0!==ib&&ib!==r)break;if(0!==L&&L!==r){d.lastPingedTime=L;break}d.timeoutHandle=Aj(af.bind(null,d),ca);break}af(d);break;case $h:Mg(d,r);L=d.lastSuspendedTime;r===L&&(d.nextKnownPendingLevel=Bd(ca));if(Uj&&(ca=d.lastPingedTime,0===ca||ca>=r)){d.lastPingedTime=r;Ae(d,r);break}ca=Td(d);if(0!==ca&&ca!==r)break;if(0!==L&&L!==r){d.lastPingedTime=
L;break}1073741823!==ij?L=10*(1073741821-ij)-ug():1073741823===Fg?L=0:(L=10*(1073741821-Fg)-5E3,ca=ug(),r=10*(1073741821-r)-ca,L=ca-L,0>L&&(L=0),L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3E3>L?3E3:4320>L?4320:1960*Xl(L/1960))-L,r<L&&(L=r));if(10<L){d.timeoutHandle=Aj(af.bind(null,d),L);break}af(d);break;case Kk:if(1073741823!==Fg&&null!==xg){ib=Fg;var nb=xg;L=nb.busyMinDurationMs|0;0>=L?L=0:(ca=nb.busyDelayMs|0,ib=ug()-(10*(1073741821-ib)-(nb.timeoutMs|0||5E3)),L=ib<=ca?0:ca+L-ib);if(10<L){Mg(d,
r);d.timeoutHandle=Aj(af.bind(null,d),L);break}}af(d);break;default:throw Error(n(329));}Id(d);if(d.callbackNode===g)return sd.bind(null,d)}}return null}function ed(d){var g=d.lastExpiredTime;g=0!==g?g:1073741823;if((ve&(wg|Cf))!==Of)throw Error(n(327));oh();d===pf&&g===eg||Ae(d,g);if(null!==ye){var r=ve;ve|=wg;var L=Ce();do try{for(;null!==ye;)ye=Kf(ye);break}catch(ca){je(d,ca)}while(1);zi=yh=Ai=null;ve=r;bi.current=L;if(Ue===mj)throw r=Zf,Ae(d,g),Mg(d,g),Id(d),r;if(null!==ye)throw Error(n(261));
d.finishedWork=d.current.alternate;d.finishedExpirationTime=g;pf=null;af(d);Id(d)}return null}function Rd(){if(null!==nh){var d=nh;nh=null;d.forEach(function(g,r){fi(r,g);Id(r)});Pd()}}function Ie(d,g){var r=ve;ve|=1;try{return d(g)}finally{ve=r,ve===Of&&Pd()}}function Re(d,g){var r=ve;ve&=-2;ve|=Sj;try{return d(g)}finally{ve=r,ve===Of&&Pd()}}function Ae(d,g){d.finishedWork=null;d.finishedExpirationTime=0;var r=d.timeoutHandle;-1!==r&&(d.timeoutHandle=-1,dl(r));if(null!==ye)for(r=ye.return;null!==
r;){var L=r;switch(L.tag){case 1:L=L.type.childContextTypes;null!==L&&void 0!==L&&Lb();break;case 3:Be();de(jg);de(Sf);break;case 5:Q(L);break;case 4:Be();break;case 13:de(wf);break;case 19:de(wf);break;case 10:ee(L)}r=r.return}pf=d;ye=sf(d.current,null);eg=g;Ue=Kg;Zf=null;ij=Fg=1073741823;xg=null;Ci=0;Uj=!1}function je(d,g){do{try{zi=yh=Ai=null;kj.current=xe;if(Zg)for(var r=zd.memoizedState;null!==r;){var L=r.queue;null!==L&&(L.pending=null);r=r.next}rh=0;Gf=zf=zd=null;Zg=!1;if(null===ye||null===
ye.return)return Ue=mj,Zf=g,ye=null;a:{var ca=d,ib=ye.return,nb=ye,Ob=g;g=eg;nb.effectTag|=2048;nb.firstEffect=nb.lastEffect=null;if(null!==Ob&&"object"===typeof Ob&&"function"===typeof Ob.then){var Lc=Ob;if(0===(nb.mode&2)){var Nc=nb.alternate;Nc?(nb.updateQueue=Nc.updateQueue,nb.memoizedState=Nc.memoizedState,nb.expirationTime=Nc.expirationTime):(nb.updateQueue=null,nb.memoizedState=null)}var td=0!==(wf.current&1),Kd=ib;do{var Je;if(Je=13===Kd.tag){var We=Kd.memoizedState;if(null!==We)Je=null!==
We.dehydrated?!0:!1;else{var vg=Kd.memoizedProps;Je=void 0===vg.fallback?!1:!0!==vg.unstable_avoidThisFallback?!0:td?!1:!0}}if(Je){var Jf=Kd.updateQueue;if(null===Jf){var Dc=new Set;Dc.add(Lc);Kd.updateQueue=Dc}else Jf.add(Lc);if(0===(Kd.mode&2)){Kd.effectTag|=64;nb.effectTag&=-2981;if(1===nb.tag)if(null===nb.alternate)nb.tag=17;else{var vc=Ed(1073741823,null);vc.tag=2;ke(nb,vc)}nb.expirationTime=1073741823;break a}Ob=void 0;nb=g;var Sc=ca.pingCache;null===Sc?(Sc=ca.pingCache=new Fl,Ob=new Set,Sc.set(Lc,
Ob)):(Ob=Sc.get(Lc),void 0===Ob&&(Ob=new Set,Sc.set(Lc,Ob)));if(!Ob.has(nb)){Ob.add(nb);var nd=nj.bind(null,ca,Lc,nb);Lc.then(nd,nd)}Kd.effectTag|=4096;Kd.expirationTime=g;break a}Kd=Kd.return}while(null!==Kd);Ob=Error((wa(nb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+sa(nb))}Ue!==Kk&&(Ue=hj);Ob=$c(Ob,nb);Kd=ib;do{switch(Kd.tag){case 3:Lc=
Ob;Kd.effectTag|=4096;Kd.expirationTime=g;var Dd=Qc(Kd,Lc,g);Gd(Kd,Dd);break a;case 1:Lc=Ob;var Ud=Kd.type,le=Kd.stateNode;if(0===(Kd.effectTag&64)&&("function"===typeof Ud.getDerivedStateFromError||null!==le&&"function"===typeof le.componentDidCatch&&(null===lh||!lh.has(le)))){Kd.effectTag|=4096;Kd.expirationTime=g;var Te=Kc(Kd,Lc,g);Gd(Kd,Te);break a}}Kd=Kd.return}while(null!==Kd)}ye=dg(ye)}catch(uf){g=uf;continue}break}while(1)}function Ce(){var d=bi.current;bi.current=xe;return null===d?xe:d}
function lf(d,g){d<Fg&&2<d&&(Fg=d);null!==g&&d<ij&&2<d&&(ij=d,xg=g)}function hf(d){d>Ci&&(Ci=d)}function Kf(d){var g=El(d.alternate,d,eg);d.memoizedProps=d.pendingProps;null===g&&(g=dg(d));Rj.current=null;return g}function dg(d){ye=d;do{var g=ye.alternate;d=ye.return;if(0===(ye.effectTag&2048)){g=zc(g,ye,eg);if(1===eg||1!==ye.childExpirationTime){for(var r=0,L=ye.child;null!==L;){var ca=L.expirationTime,ib=L.childExpirationTime;ca>r&&(r=ca);ib>r&&(r=ib);L=L.sibling}ye.childExpirationTime=r}if(null!==
g)return g;null!==d&&0===(d.effectTag&2048)&&(null===d.firstEffect&&(d.firstEffect=ye.firstEffect),null!==ye.lastEffect&&(null!==d.lastEffect&&(d.lastEffect.nextEffect=ye.firstEffect),d.lastEffect=ye.lastEffect),1<ye.effectTag&&(null!==d.lastEffect?d.lastEffect.nextEffect=ye:d.firstEffect=ye,d.lastEffect=ye))}else{g=Cc(ye);if(null!==g)return g.effectTag&=2047,g;null!==d&&(d.firstEffect=d.lastEffect=null,d.effectTag|=2048)}g=ye.sibling;if(null!==g)return g;ye=d}while(null!==ye);Ue===Kg&&(Ue=Kk);return null}
function Bd(d){var g=d.expirationTime;d=d.childExpirationTime;return g>d?g:d}function af(d){var g=Oe();He(99,lg.bind(null,d,g));return null}function lg(d,g){do oh();while(null!==di);if((ve&(wg|Cf))!==Of)throw Error(n(327));var r=d.finishedWork,L=d.finishedExpirationTime;if(null===r)return null;d.finishedWork=null;d.finishedExpirationTime=0;if(r===d.current)throw Error(n(177));d.callbackNode=null;d.callbackExpirationTime=0;d.callbackPriority=90;d.nextKnownPendingLevel=0;var ca=Bd(r);d.firstPendingTime=
ca;L<=d.lastSuspendedTime?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:L<=d.firstSuspendedTime&&(d.firstSuspendedTime=L-1);L<=d.lastPingedTime&&(d.lastPingedTime=0);L<=d.lastExpiredTime&&(d.lastExpiredTime=0);d===pf&&(ye=pf=null,eg=0);1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,ca=r.firstEffect):ca=r:ca=r.firstEffect;if(null!==ca){var ib=ve;ve|=Cf;Rj.current=null;Wi=Ih;var nb=La();if(Fb(nb)){if("selectionStart"in nb)var Ob={start:nb.selectionStart,end:nb.selectionEnd};
else a:{Ob=(Ob=nb.ownerDocument)&&Ob.defaultView||window;var Lc=Ob.getSelection&&Ob.getSelection();if(Lc&&0!==Lc.rangeCount){Ob=Lc.anchorNode;var Nc=Lc.anchorOffset,td=Lc.focusNode;Lc=Lc.focusOffset;try{Ob.nodeType,td.nodeType}catch(Ge){Ob=null;break a}var Kd=0,Je=-1,We=-1,vg=0,Jf=0,Dc=nb,vc=null;b:for(;;){for(var Sc;;){Dc!==Ob||0!==Nc&&3!==Dc.nodeType||(Je=Kd+Nc);Dc!==td||0!==Lc&&3!==Dc.nodeType||(We=Kd+Lc);3===Dc.nodeType&&(Kd+=Dc.nodeValue.length);if(null===(Sc=Dc.firstChild))break;vc=Dc;Dc=Sc}for(;;){if(Dc===
nb)break b;vc===Ob&&++vg===Nc&&(Je=Kd);vc===td&&++Jf===Lc&&(We=Kd);if(null!==(Sc=Dc.nextSibling))break;Dc=vc;vc=Dc.parentNode}Dc=Sc}Ob=-1===Je||-1===We?null:{start:Je,end:We}}else Ob=null}Ob=Ob||{start:0,end:0}}else Ob=null;wi={activeElementDetached:null,focusedElem:nb,selectionRange:Ob};Ih=!1;Xd=ca;do try{mh()}catch(Ge){if(null===Xd)throw Error(n(330));$g(Xd,Ge);Xd=Xd.nextEffect}while(null!==Xd);Xd=ca;do try{for(nb=d,Ob=g;null!==Xd;){var nd=Xd.effectTag;nd&16&&T(Xd.stateNode,"");if(nd&128){var Dd=
Xd.alternate;if(null!==Dd){var Ud=Dd.ref;null!==Ud&&("function"===typeof Ud?Ud(null):Ud.current=null)}}switch(nd&1038){case 2:mc(Xd);Xd.effectTag&=-3;break;case 6:mc(Xd);Xd.effectTag&=-3;Bc(Xd.alternate,Xd);break;case 1024:Xd.effectTag&=-1025;break;case 1028:Xd.effectTag&=-1025;Bc(Xd.alternate,Xd);break;case 4:Bc(Xd.alternate,Xd);break;case 8:Nc=Xd,yc(nb,Nc,Ob),kb(Nc)}Xd=Xd.nextEffect}}catch(Ge){if(null===Xd)throw Error(n(330));$g(Xd,Ge);Xd=Xd.nextEffect}while(null!==Xd);Ud=wi;Dd=La();nd=Ud.focusedElem;
Ob=Ud.selectionRange;if(Dd!==nd&&nd&&nd.ownerDocument&&bb(nd.ownerDocument.documentElement,nd)){null!==Ob&&Fb(nd)&&(Dd=Ob.start,Ud=Ob.end,void 0===Ud&&(Ud=Dd),"selectionStart"in nd?(nd.selectionStart=Dd,nd.selectionEnd=Math.min(Ud,nd.value.length)):(Ud=(Dd=nd.ownerDocument||document)&&Dd.defaultView||window,Ud.getSelection&&(Ud=Ud.getSelection(),Nc=nd.textContent.length,nb=Math.min(Ob.start,Nc),Ob=void 0===Ob.end?nb:Math.min(Ob.end,Nc),!Ud.extend&&nb>Ob&&(Nc=Ob,Ob=nb,nb=Nc),Nc=da(nd,nb),td=da(nd,
Ob),Nc&&td&&(1!==Ud.rangeCount||Ud.anchorNode!==Nc.node||Ud.anchorOffset!==Nc.offset||Ud.focusNode!==td.node||Ud.focusOffset!==td.offset)&&(Dd=Dd.createRange(),Dd.setStart(Nc.node,Nc.offset),Ud.removeAllRanges(),nb>Ob?(Ud.addRange(Dd),Ud.extend(td.node,td.offset)):(Dd.setEnd(td.node,td.offset),Ud.addRange(Dd))))));Dd=[];for(Ud=nd;Ud=Ud.parentNode;)1===Ud.nodeType&&Dd.push({element:Ud,left:Ud.scrollLeft,top:Ud.scrollTop});"function"===typeof nd.focus&&nd.focus();for(nd=0;nd<Dd.length;nd++)Ud=Dd[nd],
Ud.element.scrollLeft=Ud.left,Ud.element.scrollTop=Ud.top}Ih=!!Wi;wi=Wi=null;d.current=r;Xd=ca;do try{for(nd=d;null!==Xd;){var le=Xd.effectTag;le&36&&ta(nd,Xd.alternate,Xd);if(le&128){Dd=void 0;var Te=Xd.ref;if(null!==Te){var uf=Xd.stateNode;switch(Xd.tag){case 5:Dd=uf;break;default:Dd=uf}"function"===typeof Te?Te(Dd):Te.current=Dd}}Xd=Xd.nextEffect}}catch(Ge){if(null===Xd)throw Error(n(330));$g(Xd,Ge);Xd=Xd.nextEffect}while(null!==Xd);Xd=null;em();ve=ib}else d.current=r;if(Yg)Yg=!1,di=d,Fi=g;else for(Xd=
ca;null!==Xd;)g=Xd.nextEffect,Xd.nextEffect=null,Xd=g;g=d.firstPendingTime;0===g&&(lh=null);1073741823===g?d===lj?Gi++:(Gi=0,lj=d):Gi=0;"function"===typeof ik&&ik(r.stateNode,L);Id(d);if(jj)throw jj=!1,d=Wj,Wj=null,d;if((ve&Sj)!==Of)return null;Pd();return null}function mh(){for(;null!==Xd;){var d=Xd.effectTag;0!==(d&256)&&Cd(Xd.alternate,Xd);0===(d&512)||Yg||(Yg=!0,be(97,function(){oh();return null}));Xd=Xd.nextEffect}}function oh(){if(90!==Fi){var d=97<Fi?97:Fi;Fi=90;return He(d,Gl)}}function Gl(){if(null===
di)return!1;var d=di;di=null;if((ve&(wg|Cf))!==Of)throw Error(n(331));var g=ve;ve|=Cf;for(d=d.current.firstEffect;null!==d;){try{var r=d;if(0!==(r.effectTag&512))switch(r.tag){case 0:case 11:case 15:case 22:we(5,r),X(5,r)}}catch(L){if(null===d)throw Error(n(330));$g(d,L)}r=d.nextEffect;d.nextEffect=null;d=r}ve=g;Pd();return!0}function Ch(d,g,r){g=$c(r,g);g=Qc(d,g,1073741823);ke(d,g);d=ie(d,1073741823);null!==d&&Id(d)}function $g(d,g){if(3===d.tag)Ch(d,d,g);else for(var r=d.return;null!==r;){if(3===
r.tag){Ch(r,d,g);break}else if(1===r.tag){var L=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof L.componentDidCatch&&(null===lh||!lh.has(L))){d=$c(g,d);d=Kc(r,d,1073741823);ke(r,d);r=ie(r,1073741823);null!==r&&Id(r);break}}r=r.return}}function nj(d,g,r){var L=d.pingCache;null!==L&&L.delete(g);pf===d&&eg===r?Ue===$h||Ue===Tj&&1073741823===Fg&&ug()-zg<Ki?Ae(d,eg):Uj=!0:fk(d,r)&&(g=d.lastPingedTime,0!==g&&g<r||(d.lastPingedTime=r,Id(d)))}function Nk(d,g){var r=
d.stateNode;null!==r&&r.delete(g);g=0;0===g&&(g=Wc(),g=fd(g,d,null));d=ie(d,g);null!==d&&Id(d)}function Pk(d){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)return!0;try{var r=g.inject(d);ik=function(L){try{g.onCommitFiberRoot(r,L,void 0,64===(L.current.effectTag&64))}catch(ca){}};dk=function(L){try{g.onCommitFiberUnmount(r,L)}catch(ca){}}}catch(L){}return!0}function Ok(d,g,r,L){this.tag=d;this.key=r;this.sibling=
this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=g;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=L;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Lg(d,g,r,L){return new Ok(d,g,r,L)}function ck(d){d=d.prototype;return!(!d||!d.isReactComponent)}function Hl(d){if("function"===typeof d)return ck(d)?
1:0;if(void 0!==d&&null!==d){d=d.$$typeof;if(d===sj)return 11;if(d===Nf)return 14}return 2}function sf(d,g){var r=d.alternate;null===r?(r=Lg(d.tag,g,d.key,d.mode),r.elementType=d.elementType,r.type=d.type,r.stateNode=d.stateNode,r.alternate=d,d.alternate=r):(r.pendingProps=g,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null);r.childExpirationTime=d.childExpirationTime;r.expirationTime=d.expirationTime;r.child=d.child;r.memoizedProps=d.memoizedProps;r.memoizedState=d.memoizedState;
r.updateQueue=d.updateQueue;g=d.dependencies;r.dependencies=null===g?null:{expirationTime:g.expirationTime,firstContext:g.firstContext,responders:g.responders};r.sibling=d.sibling;r.index=d.index;r.ref=d.ref;return r}function Ii(d,g,r,L,ca,ib){var nb=2;L=d;if("function"===typeof d)ck(d)&&(nb=1);else if("string"===typeof d)nb=5;else a:switch(d){case bh:return ph(r.children,ca,ib,g);case Uk:nb=8;ca|=7;break;case $f:nb=8;ca|=1;break;case Oi:return d=Lg(12,r,g,ca|8),d.elementType=Oi,d.type=Oi,d.expirationTime=
ib,d;case Ve:return d=Lg(13,r,g,ca),d.type=Ve,d.elementType=Ve,d.expirationTime=ib,d;case si:return d=Lg(19,r,g,ca),d.elementType=si,d.expirationTime=ib,d;default:if("object"===typeof d&&null!==d)switch(d.$$typeof){case rj:nb=10;break a;case ri:nb=9;break a;case sj:nb=11;break a;case Nf:nb=14;break a;case jf:nb=16;L=null;break a;case nk:nb=22;break a}throw Error(n(130,null==d?d:typeof d,""));}g=Lg(nb,r,g,ca);g.elementType=d;g.type=L;g.expirationTime=ib;return g}function ph(d,g,r,L){d=Lg(7,d,L,g);
d.expirationTime=r;return d}function Dh(d,g,r){d=Lg(6,d,null,g);d.expirationTime=r;return d}function Mf(d,g,r){g=Lg(4,null!==d.children?d.children:[],d.key,g);g.expirationTime=r;g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation};return g}function ek(d,g,r){this.tag=g;this.current=null;this.containerInfo=d;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=
null;this.hydrate=r;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function fk(d,g){var r=d.firstSuspendedTime;d=d.lastSuspendedTime;return 0!==r&&r>=g&&d<=g}function Mg(d,g){var r=d.firstSuspendedTime,L=d.lastSuspendedTime;r<g&&(d.firstSuspendedTime=g);if(L>g||0===r)d.lastSuspendedTime=g;g<=d.lastPingedTime&&(d.lastPingedTime=0);g<=d.lastExpiredTime&&(d.lastExpiredTime=
0)}function gk(d,g){g>d.firstPendingTime&&(d.firstPendingTime=g);var r=d.firstSuspendedTime;0!==r&&(g>=r?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:g>=d.lastSuspendedTime&&(d.lastSuspendedTime=g+1),g>d.nextKnownPendingLevel&&(d.nextKnownPendingLevel=g))}function fi(d,g){var r=d.lastExpiredTime;if(0===r||r>g)d.lastExpiredTime=g}function Ag(d,g,r,L){var ca=g.current,ib=Wc(),nb=Wh.suspense;ib=fd(ib,ca,nb);a:if(r){r=r._reactInternalFiber;b:{if(t(r)!==r||1!==r.tag)throw Error(n(170));
var Ob=r;do{switch(Ob.tag){case 3:Ob=Ob.stateNode.context;break b;case 1:if(Jd(Ob.type)){Ob=Ob.stateNode.__reactInternalMemoizedMergedChildContext;break b}}Ob=Ob.return}while(null!==Ob);throw Error(n(171));}if(1===r.tag){var Lc=r.type;if(Jd(Lc)){r=oe(r,Lc,Ob);break a}}r=Ob}else r=gh;null===g.context?g.context=r:g.pendingContext=r;g=Ed(ib,nb);g.payload={element:d};L=void 0===L?null:L;null!==L&&(g.callback=L);ke(ca,g);hd(ca,ib);return ib}function Eh(d){d=d.current;if(!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;
default:return d.child.stateNode}}function hk(d,g){d=d.memoizedState;null!==d&&null!==d.dehydrated&&d.retryTime<g&&(d.retryTime=g)}function fg(d,g){hk(d,g);(d=d.alternate)&&hk(d,g)}function oj(d,g,r){r=null!=r&&!0===r.hydrate;var L=new ek(d,g,r),ca=Lg(3,null,null,2===g?7:1===g?3:0);L.current=ca;ca.stateNode=L;Ld(ca);d[Jh]=L.current;r&&0!==g&&Xb(d,9===d.nodeType?d:d.ownerDocument);this._internalRoot=L}function Ji(d){return!(!d||1!==d.nodeType&&9!==d.nodeType&&11!==d.nodeType&&(8!==d.nodeType||" react-mount-point-unstable "!==
d.nodeValue))}function Il(d,g){g||(g=d?9===d.nodeType?d.documentElement:d.firstChild:null,g=!(!g||1!==g.nodeType||!g.hasAttribute("data-reactroot")));if(!g)for(var r;r=d.lastChild;)d.removeChild(r);return new oj(d,0,g?{hydrate:!0}:void 0)}function gi(d,g,r,L,ca){var ib=r._reactRootContainer;if(ib){var nb=ib._internalRoot;if("function"===typeof ca){var Ob=ca;ca=function(){var Nc=Eh(nb);Ob.call(Nc)}}Ag(g,nb,d,ca)}else{ib=r._reactRootContainer=Il(r,L);nb=ib._internalRoot;if("function"===typeof ca){var Lc=
ca;ca=function(){var Nc=Eh(nb);Lc.call(Nc)}}Re(function(){Ag(g,nb,d,ca)})}return Eh(nb)}function Jl(d,g,r){var L=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qi,key:null==L?null:""+L,children:d,containerInfo:g,implementation:r}}function jk(d,g){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ji(g))throw Error(n(200));return Jl(d,g,null,r)}var hi=sb(58),Pf=sb(53),Qf=sb(61);if(!hi)throw Error(n(227));var ji=!1,Li=null,Fh=!1,qh=null,Kl={onError:function(d){ji=
!0;Li=d}},kk=null,Qk=null,Rk=null,Mi=null,mi={},li=[],lk={},Gh={},pj={},gg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bg=null,sh=null,Uf=null,Sk=fb,Ng=!1,Cg=!1,mk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
ni=Object.prototype.hasOwnProperty,oi={},pi={},If={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){If[d]=new Ra(d,0,!1,d,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];If[g]=new Ra(g,1,!1,d[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){If[d]=
new Ra(d,2,!1,d.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){If[d]=new Ra(d,2,!1,d,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){If[d]=new Ra(d,3,!1,d.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(d){If[d]=
new Ra(d,3,!0,d,null,!1)});["capture","download"].forEach(function(d){If[d]=new Ra(d,4,!1,d,null,!1)});["cols","rows","size","span"].forEach(function(d){If[d]=new Ra(d,6,!1,d,null,!1)});["rowSpan","start"].forEach(function(d){If[d]=new Ra(d,5,!1,d.toLowerCase(),null,!1)});var qj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=
d.replace(qj,xa);If[g]=new Ra(g,1,!1,d,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(qj,xa);If[g]=new Ra(g,1,!1,d,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(qj,xa);If[g]=new Ra(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(d){If[d]=new Ra(d,1,!1,d.toLowerCase(),null,!1)});If.xlinkHref=new Ra("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(d){If[d]=new Ra(d,1,!1,d.toLowerCase(),null,!0)});var mg=hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;mg.hasOwnProperty("ReactCurrentDispatcher")||(mg.ReactCurrentDispatcher={current:null});mg.hasOwnProperty("ReactCurrentBatchConfig")||(mg.ReactCurrentBatchConfig={suspense:null});var Tk=/^(.*)[\\\/]/,Vf="function"===typeof Symbol&&Symbol.for,Ni=Vf?Symbol.for("react.element"):60103,qi=
Vf?Symbol.for("react.portal"):60106,bh=Vf?Symbol.for("react.fragment"):60107,$f=Vf?Symbol.for("react.strict_mode"):60108,Oi=Vf?Symbol.for("react.profiler"):60114,rj=Vf?Symbol.for("react.provider"):60109,ri=Vf?Symbol.for("react.context"):60110,Uk=Vf?Symbol.for("react.concurrent_mode"):60111,sj=Vf?Symbol.for("react.forward_ref"):60112,Ve=Vf?Symbol.for("react.suspense"):60113,si=Vf?Symbol.for("react.suspense_list"):60120,Nf=Vf?Symbol.for("react.memo"):60115,jf=Vf?Symbol.for("react.lazy"):60116,nk=Vf?
Symbol.for("react.block"):60121,Vk="function"===typeof Symbol&&Symbol.iterator,Pi,Qi=function(d){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(g,r,L,ca){MSApp.execUnsafeLocalFunction(function(){return d(g,r,L,ca)})}:d}(function(d,g){if("http://www.w3.org/2000/svg"!==d.namespaceURI||"innerHTML"in d)d.innerHTML=g;else{Pi=Pi||document.createElement("div");Pi.innerHTML="\x3csvg\x3e"+g.valueOf().toString()+"\x3c/svg\x3e";for(g=Pi.firstChild;d.firstChild;)d.removeChild(d.firstChild);
for(;g.firstChild;)d.appendChild(g.firstChild)}}),Hh={animationend:l("Animation","AnimationEnd"),animationiteration:l("Animation","AnimationIteration"),animationstart:l("Animation","AnimationStart"),transitionend:l("Transition","TransitionEnd")},ch={},tj={};gg&&(tj=document.createElement("div").style,"AnimationEvent"in window||(delete Hh.animationend.animation,delete Hh.animationiteration.animation,delete Hh.animationstart.animation),"TransitionEvent"in window||delete Hh.transitionend.transition);
var Wk=k("animationend"),uj=k("animationiteration"),ok=k("animationstart"),pk=k("transitionend"),Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bk=new ("function"===typeof WeakMap?WeakMap:Map),ti=null,vj=[],ei=!1,Og=[],Pg=null,rg=null,eh=null,Si=new Map,ui=new Map,Ti=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
rk="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),Yk={},wj=new Map,xj=new Map,Zk=["abort","abort",Wk,"animationEnd",uj,"animationIteration",ok,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",pk,"transitionEnd","waiting","waiting"];bc("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);bc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);bc(Zk,2);for(var sk="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),th=0;th<sk.length;th++)xj.set(sk[th],0);var yj=Qf.unstable_UserBlockingPriority,vi=Qf.unstable_runWithPriority,
Ih=!0,Ui={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},al=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(d){al.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1);Ui[g]=Ui[d]})});var $k=Pf({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),bl="$",cl="/$",Vi="$?",zj="$!",Wi=null,wi=null,Aj="function"===typeof setTimeout?
setTimeout:void 0,dl="function"===typeof clearTimeout?clearTimeout:void 0,Bj=Math.random().toString(36).slice(2),Sg="__reactInternalInstance$"+Bj,Xi="__reactEventHandlers$"+Bj,Jh="__reactContainere$"+Bj,fh=null,Cj=null,Yi=null;Pf(md.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():"unknown"!==typeof d.returnValue&&(d.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?
d.stopPropagation():"unknown"!==typeof d.cancelBubble&&(d.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){this.isPersistent=Hc},isPersistent:ad,destructor:function(){var d=this.constructor.Interface,g;for(g in d)this[g]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ad;this._dispatchInstances=this._dispatchListeners=null}});md.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};md.extend=function(d){function g(){}function r(){return L.apply(this,arguments)}var L=this;g.prototype=L.prototype;var ca=new g;Pf(ca,r.prototype);r.prototype=ca;r.prototype.constructor=r;r.Interface=Pf({},L.Interface,d);r.extend=L.extend;Vd(r);return r};Vd(md);var el=md.extend({data:null}),Ml=md.extend({data:null}),fl=[9,13,27,32],Dj=gg&&"CompositionEvent"in window,Zi=null;gg&&
"documentMode"in document&&(Zi=document.documentMode);var gl=gg&&"TextEvent"in window&&!Zi,tk=gg&&(!Dj||Zi&&8<Zi&&11>=Zi),il=String.fromCharCode(32),Tg={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},jl=!1,Kh=!1,uk={eventTypes:Tg,extractEvents:function(d,g,r,L){var ca;if(Dj)a:{switch(d){case "compositionstart":var ib=Tg.compositionStart;break a;case "compositionend":ib=Tg.compositionEnd;
break a;case "compositionupdate":ib=Tg.compositionUpdate;break a}ib=void 0}else Kh?Zd(d,r)&&(ib=Tg.compositionEnd):"keydown"===d&&229===r.keyCode&&(ib=Tg.compositionStart);ib?(tk&&"ko"!==r.locale&&(Kh||ib!==Tg.compositionStart?ib===Tg.compositionEnd&&Kh&&(ca=Jc()):(fh=L,Cj="value"in fh?fh.value:fh.textContent,Kh=!0)),ib=el.getPooled(ib,g,r,L),ca?ib.data=ca:(ca=ze(r),null!==ca&&(ib.data=ca)),Ac(ib),ca=ib):ca=null;(d=gl?te(d,r):ue(d,r))?(g=Ml.getPooled(Tg.beforeInput,g,r,L),g.data=d,Ac(g)):g=null;return null===
ca?g:null===g?ca:[ca,g]}},kl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},vk={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},$i=null,aj=null,wk=!1;gg&&(wk=Z("input")&&(!document.documentMode||9<document.documentMode));var xk={eventTypes:vk,_isInputEventSupported:wk,extractEvents:function(d,
g,r,L){var ca=g?Nb(g):window,ib=ca.nodeName&&ca.nodeName.toLowerCase();if("select"===ib||"input"===ib&&"file"===ca.type)var nb=Da;else if(bf(ca))if(wk)nb=qc;else{nb=kc;var Ob=Pb}else(ib=ca.nodeName)&&"input"===ib.toLowerCase()&&("checkbox"===ca.type||"radio"===ca.type)&&(nb=oc);if(nb&&(nb=nb(d,g)))return vd(nb,r,L);Ob&&Ob(d,ca,g);"blur"===d&&(d=ca._wrapperState)&&d.controlled&&"number"===ca.type&&F(ca,"number",ca.value)}},bj=md.extend({view:null,detail:null}),Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",
Shift:"shiftKey"},ll=0,Ej=0,yk=!1,Fj=!1,ag=bj.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kd,button:null,buttons:null,relatedTarget:function(d){return d.relatedTarget||(d.fromElement===d.srcElement?d.toElement:d.fromElement)},movementX:function(d){if("movementX"in d)return d.movementX;var g=ll;ll=d.screenX;return yk?"mousemove"===d.type?d.screenX-g:0:(yk=!0,0)},movementY:function(d){if("movementY"in
d)return d.movementY;var g=Ej;Ej=d.screenY;return Fj?"mousemove"===d.type?d.screenY-g:0:(Fj=!0,0)}}),zk=ag.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),xi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout",
"pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ol={eventTypes:xi,extractEvents:function(d,g,r,L,ca){var ib="mouseover"===d||"pointerover"===d,nb="mouseout"===d||"pointerout"===d;if(ib&&0===(ca&32)&&(r.relatedTarget||r.fromElement)||!nb&&!ib)return null;ib=L.window===L?L:(ib=L.ownerDocument)?ib.defaultView||ib.parentWindow:window;if(nb){if(nb=g,g=(g=r.relatedTarget||r.toElement)?Qa(g):null,null!==g){var Ob=t(g);if(g!==Ob||5!==g.tag&&6!==
g.tag)g=null}}else nb=null;if(nb===g)return null;if("mouseout"===d||"mouseover"===d)var Lc=ag,Nc=xi.mouseLeave,td=xi.mouseEnter,Kd="mouse";else if("pointerout"===d||"pointerover"===d)Lc=zk,Nc=xi.pointerLeave,td=xi.pointerEnter,Kd="pointer";d=null==nb?ib:Nb(nb);ib=null==g?ib:Nb(g);Nc=Lc.getPooled(Nc,nb,r,L);Nc.type=Kd+"leave";Nc.target=d;Nc.relatedTarget=ib;r=Lc.getPooled(td,g,r,L);r.type=Kd+"enter";r.target=ib;r.relatedTarget=d;L=nb;Kd=g;if(L&&Kd)a:{Lc=L;td=Kd;nb=0;for(d=Lc;d;d=tc(d))nb++;d=0;for(g=
td;g;g=tc(g))d++;for(;0<nb-d;)Lc=tc(Lc),nb--;for(;0<d-nb;)td=tc(td),d--;for(;nb--;){if(Lc===td||Lc===td.alternate)break a;Lc=tc(Lc);td=tc(td)}Lc=null}else Lc=null;td=Lc;for(Lc=[];L&&L!==td;){nb=L.alternate;if(null!==nb&&nb===td)break;Lc.push(L);L=tc(L)}for(L=[];Kd&&Kd!==td;){nb=Kd.alternate;if(null!==nb&&nb===td)break;L.push(Kd);Kd=tc(Kd)}for(Kd=0;Kd<Lc.length;Kd++)Gc(Lc[Kd],"bubbled",Nc);for(Kd=L.length;0<Kd--;)Gc(L[Kd],"captured",r);return 0===(ca&64)?[Nc]:[Nc,r]}},Mh="function"===typeof Object.is?
Object.is:pd,Ak=Object.prototype.hasOwnProperty,wh=gg&&"documentMode"in document&&11>=document.documentMode,Hj={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},yi=null,Gj=null,Lh=null,Bk=!1,Ck={eventTypes:Hj,extractEvents:function(d,g,r,L,ca,ib){ca=ib||(L.window===L?L.document:9===L.nodeType?L:L.ownerDocument);if(!(ib=!ca)){a:{ca=p(ca);ib=pj.onSelect;for(var nb=
0;nb<ib.length;nb++)if(!ca.has(ib[nb])){ca=!1;break a}ca=!0}ib=!ca}if(ib)return null;ca=g?Nb(g):window;switch(d){case "focus":if(bf(ca)||"true"===ca.contentEditable)yi=ca,Gj=g,Lh=null;break;case "blur":Lh=Gj=yi=null;break;case "mousedown":Bk=!0;break;case "contextmenu":case "mouseup":case "dragend":return Bk=!1,ld(r,L);case "selectionchange":if(wh)break;case "keydown":case "keyup":return ld(r,L)}return null}},Ij=md.extend({animationName:null,elapsedTime:null,pseudoElement:null}),pl=md.extend({clipboardData:function(d){return"clipboardData"in
d?d.clipboardData:window.clipboardData}}),ql=bj.extend({relatedTarget:null}),rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl=bj.extend({key:function(d){if(d.key){var g=rl[d.key]||d.key;if("Unidentified"!==g)return g}return"keypress"===d.type?(d=Od(d),13===d?"Enter":String.fromCharCode(d)):"keydown"===d.type||"keyup"===d.type?sl[d.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:kd,charCode:function(d){return"keypress"===d.type?Od(d):0},keyCode:function(d){return"keydown"===d.type||"keyup"===d.type?d.keyCode:0},which:function(d){return"keypress"===d.type?Od(d):"keydown"===d.type||"keyup"===d.type?d.keyCode:0}}),$l=ag.extend({dataTransfer:null}),am=bj.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kd}),dm=md.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cm=
ag.extend({deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:null,deltaMode:null}),tl={eventTypes:Yk,extractEvents:function(d,g,r,L){var ca=wj.get(d);if(!ca)return null;switch(d){case "keypress":if(0===Od(r))return null;case "keydown":case "keyup":d=Zl;break;case "blur":case "focus":d=ql;break;case "click":if(2===r.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":d=
ag;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":d=$l;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":d=am;break;case Wk:case uj:case ok:d=Ij;break;case pk:d=dm;break;case "scroll":d=bj;break;case "wheel":d=cm;break;case "copy":case "cut":case "paste":d=pl;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":d=
zk;break;default:d=md}g=d.getPooled(ca,g,r,L);Ac(g);return g}};if(Mi)throw Error(n(101));Mi=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));Ma();var bm=yb;kk=gc;Qk=bm;Rk=Nb;Eb({SimpleEventPlugin:tl,EnterLeaveEventPlugin:ol,ChangeEventPlugin:xk,SelectEventPlugin:Ck,BeforeInputEventPlugin:uk});var Jj=[],Nh=-1,gh={},Sf={current:gh},jg={current:!1},Oh=gh,ul=Qf.unstable_runWithPriority,Dk=Qf.unstable_scheduleCallback,
nf=Qf.unstable_cancelCallback,qg=Qf.unstable_requestPaint,cj=Qf.unstable_now,ii=Qf.unstable_getCurrentPriorityLevel,dj=Qf.unstable_ImmediatePriority,wl=Qf.unstable_UserBlockingPriority,xl=Qf.unstable_NormalPriority,Ek=Qf.unstable_LowPriority,Fk=Qf.unstable_IdlePriority,Kj={},Lj=Qf.unstable_shouldYield,em=void 0!==qg?qg:function(){},Hg=null,ej=null,Gk=!1,fj=cj(),ug=1E4>fj?cj:function(){return cj()-fj},Mj={current:null},Ai=null,yh=null,zi=null,zh=!1,Wh=mg.ReactCurrentBatchConfig,zl=(new hi.Component).refs,
Oj={isMounted:function(d){return(d=d._reactInternalFiber)?t(d)===d:!1},enqueueSetState:function(d,g,r){d=d._reactInternalFiber;var L=Wc(),ca=Wh.suspense;L=fd(L,d,ca);ca=Ed(L,ca);ca.payload=g;void 0!==r&&null!==r&&(ca.callback=r);ke(d,ca);hd(d,L)},enqueueReplaceState:function(d,g,r){d=d._reactInternalFiber;var L=Wc(),ca=Wh.suspense;L=fd(L,d,ca);ca=Ed(L,ca);ca.tag=1;ca.payload=g;void 0!==r&&null!==r&&(ca.callback=r);ke(d,ca);hd(d,L)},enqueueForceUpdate:function(d,g){d=d._reactInternalFiber;var r=Wc(),
L=Wh.suspense;r=fd(r,d,L);L=Ed(r,L);L.tag=2;void 0!==g&&null!==g&&(L.callback=g);ke(d,L);hd(d,r)}},Pj=Array.isArray,Bi=$e(!0),Hk=$e(!1),gj={},Wg={current:gj},Xh={current:gj},Yh={current:gj},wf={current:0},kj=mg.ReactCurrentDispatcher,pg=mg.ReactCurrentBatchConfig,rh=0,zd=null,zf=null,Gf=null,Zg=!1,xe={readContext:Sd,useCallback:zb,useContext:zb,useEffect:zb,useImperativeHandle:zb,useLayoutEffect:zb,useMemo:zb,useReducer:zb,useRef:zb,useState:zb,useDebugValue:zb,useResponder:zb,useDeferredValue:zb,
useTransition:zb},mf={readContext:Sd,useCallback:cg,useContext:Sd,useEffect:he,useImperativeHandle:function(d,g,r){r=null!==r&&void 0!==r?r.concat([d]):null;return me(4,2,xf.bind(null,g,d),r)},useLayoutEffect:function(d,g){return me(4,2,d,g)},useMemo:function(d,g){var r=Oc();g=void 0===g?null:g;d=d();r.memoizedState=[d,g];return d},useReducer:function(d,g,r){var L=Oc();g=void 0!==r?r(g):g;L.memoizedState=L.baseState=g;d=L.queue={pending:null,dispatch:null,lastRenderedReducer:d,lastRenderedState:g};
d=d.dispatch=B.bind(null,zd,d);return[L.memoizedState,d]},useRef:function(d){var g=Oc();d={current:d};return g.memoizedState=d},useState:wd,useDebugValue:kf,useResponder:Ab,useDeferredValue:function(d,g){var r=wd(d),L=r[0],ca=r[1];he(function(){var ib=pg.suspense;pg.suspense=void 0===g?null:g;try{ca(d)}finally{pg.suspense=ib}},[d,g]);return L},useTransition:function(d){var g=wd(!1),r=g[0];g=g[1];return[cg(A.bind(null,g,d),[g,d]),r]}},id={readContext:Sd,useCallback:yf,useContext:Sd,useEffect:Fd,useImperativeHandle:Ff,
useLayoutEffect:ef,useMemo:Xf,useReducer:cd,useRef:ge,useState:function(){return cd(bd)},useDebugValue:kf,useResponder:Ab,useDeferredValue:function(d,g){var r=cd(bd),L=r[0],ca=r[1];Fd(function(){var ib=pg.suspense;pg.suspense=void 0===g?null:g;try{ca(d)}finally{pg.suspense=ib}},[d,g]);return L},useTransition:function(d){var g=cd(bd),r=g[0];g=g[1];return[yf(A.bind(null,g,d),[g,d]),r]}},ah={readContext:Sd,useCallback:yf,useContext:Sd,useEffect:Fd,useImperativeHandle:Ff,useLayoutEffect:ef,useMemo:Xf,
useReducer:jd,useRef:ge,useState:function(){return jd(bd)},useDebugValue:kf,useResponder:Ab,useDeferredValue:function(d,g){var r=jd(bd),L=r[0],ca=r[1];Fd(function(){var ib=pg.suspense;pg.suspense=void 0===g?null:g;try{ca(d)}finally{pg.suspense=ib}},[d,g]);return L},useTransition:function(d){var g=jd(bd),r=g[0];g=g[1];return[yf(A.bind(null,g,d),[g,d]),r]}},Yf=null,yg=null,Rg=!1,Xk=mg.ReactCurrentOwner,Qg=!1,Qj={dehydrated:null,retryTime:0};var yl=function(d,g){for(var r=g.child;null!==r;){if(5===r.tag||
6===r.tag)d.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===g)break;for(;null===r.sibling;){if(null===r.return||r.return===g)return;r=r.return}r.sibling.return=r.return;r=r.sibling}};var ak=function(){};var Dl=function(d,g,r,L,ca){var ib=d.memoizedProps;if(ib!==L){var nb=g.stateNode;Qe(Wg.current);d=null;switch(r){case "input":ib=y(nb,ib);L=y(nb,L);d=[];break;case "option":ib=ka(nb,ib);L=ka(nb,L);d=[];break;case "select":ib=Pf({},ib,{value:void 0});
L=Pf({},L,{value:void 0});d=[];break;case "textarea":ib=Ta(nb,ib);L=Ta(nb,L);d=[];break;default:"function"!==typeof ib.onClick&&"function"===typeof L.onClick&&(nb.onclick=Ne)}Rc(r,L);var Ob,Lc;r=null;for(Ob in ib)if(!L.hasOwnProperty(Ob)&&ib.hasOwnProperty(Ob)&&null!=ib[Ob])if("style"===Ob)for(Lc in nb=ib[Ob],nb)nb.hasOwnProperty(Lc)&&(r||(r={}),r[Lc]="");else"dangerouslySetInnerHTML"!==Ob&&"children"!==Ob&&"suppressContentEditableWarning"!==Ob&&"suppressHydrationWarning"!==Ob&&"autoFocus"!==Ob&&
(Gh.hasOwnProperty(Ob)?d||(d=[]):(d=d||[]).push(Ob,null));for(Ob in L){var Nc=L[Ob];nb=null!=ib?ib[Ob]:void 0;if(L.hasOwnProperty(Ob)&&Nc!==nb&&(null!=Nc||null!=nb))if("style"===Ob)if(nb){for(Lc in nb)!nb.hasOwnProperty(Lc)||Nc&&Nc.hasOwnProperty(Lc)||(r||(r={}),r[Lc]="");for(Lc in Nc)Nc.hasOwnProperty(Lc)&&nb[Lc]!==Nc[Lc]&&(r||(r={}),r[Lc]=Nc[Lc])}else r||(d||(d=[]),d.push(Ob,r)),r=Nc;else"dangerouslySetInnerHTML"===Ob?(Nc=Nc?Nc.__html:void 0,nb=nb?nb.__html:void 0,null!=Nc&&nb!==Nc&&(d=d||[]).push(Ob,
Nc)):"children"===Ob?nb===Nc||"string"!==typeof Nc&&"number"!==typeof Nc||(d=d||[]).push(Ob,""+Nc):"suppressContentEditableWarning"!==Ob&&"suppressHydrationWarning"!==Ob&&(Gh.hasOwnProperty(Ob)?(null!=Nc&&De(ca,Ob),d||nb===Nc||(d=[])):(d=d||[]).push(Ob,Nc))}r&&(d=d||[]).push("style",r);if(g.updateQueue=d)g.effectTag|=4}};var Yl=function(d,g,r,L){r!==L&&(g.effectTag|=4)};var Lk="function"===typeof WeakSet?WeakSet:Set,Fl="function"===typeof WeakMap?WeakMap:Map,Xl=Math.ceil,bi=mg.ReactCurrentDispatcher,
Rj=mg.ReactCurrentOwner,Of=0,Sj=8,wg=16,Cf=32,Kg=0,mj=1,hj=2,Tj=3,$h=4,Kk=5,ve=Of,pf=null,ye=null,eg=0,Ue=Kg,Zf=null,Fg=1073741823,ij=1073741823,xg=null,Ci=0,Uj=!1,zg=0,Ki=500,Xd=null,jj=!1,Wj=null,lh=null,Yg=!1,di=null,Fi=90,nh=null,Gi=0,lj=null,ci=0;var El=function(d,g,r){var L=g.expirationTime;if(null!==d){var ca=g.pendingProps;if(d.memoizedProps!==ca||jg.current)Qg=!0;else{if(L<r){Qg=!1;switch(g.tag){case 3:P(g);yg=Yf=null;Rg=!1;break;case 5:C(g);if(g.mode&4&&1!==r&&ca.hidden)return g.expirationTime=
g.childExpirationTime=1,null;break;case 1:Jd(g.type)&&re(g);break;case 4:df(g,g.stateNode.containerInfo);break;case 10:L=g.memoizedProps.value;ca=g.type._context;jc(Mj,ca._currentValue);ca._currentValue=L;break;case 13:if(null!==g.memoizedState){L=g.child.childExpirationTime;if(0!==L&&L>=r)return V(d,g,r);jc(wf,wf.current&1);g=Ub(d,g,r);return null!==g?g.sibling:null}jc(wf,wf.current&1);break;case 19:L=g.childExpirationTime>=r;if(0!==(d.effectTag&64)){if(L)return Db(d,g,r);g.effectTag|=64}ca=g.memoizedState;
null!==ca&&(ca.rendering=null,ca.tail=null);jc(wf,wf.current);if(!L)return null}return Ub(d,g,r)}Qg=!1}}else Qg=!1;g.expirationTime=0;switch(g.tag){case 2:L=g.type;null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2);d=g.pendingProps;ca=Wd(g,Sf.current);fe(g,r);ca=ac(null,g,L,d,ca,r);g.effectTag|=1;if("object"===typeof ca&&null!==ca&&"function"===typeof ca.render&&void 0===ca.$$typeof){g.tag=1;g.memoizedState=null;g.updateQueue=null;if(Jd(L)){var ib=!0;re(g)}else ib=!1;g.memoizedState=null!==
ca.state&&void 0!==ca.state?ca.state:null;Ld(g);var nb=L.getDerivedStateFromProps;"function"===typeof nb&&cf(g,L,nb,d);ca.updater=Oj;g.stateNode=ca;ca._reactInternalFiber=g;Fe(g,L,d,r);g=v(null,g,L,!0,ib,r)}else g.tag=0,Xa(null,g,ca,r),g=g.child;return g;case 16:a:{ca=g.elementType;null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2);d=g.pendingProps;ia(ca);if(1!==ca._status)throw ca._result;ca=ca._result;g.type=ca;ib=g.tag=Hl(ca);d=ne(ca,d);switch(ib){case 0:g=Wb(null,g,ca,d,r);break a;case 1:g=
m(null,g,ca,d,r);break a;case 11:g=Va(null,g,ca,d,r);break a;case 14:g=lb(null,g,ca,ne(ca.type,d),L,r);break a}throw Error(n(306,ca,""));}return g;case 0:return L=g.type,ca=g.pendingProps,ca=g.elementType===L?ca:ne(L,ca),Wb(d,g,L,ca,r);case 1:return L=g.type,ca=g.pendingProps,ca=g.elementType===L?ca:ne(L,ca),m(d,g,L,ca,r);case 3:P(g);L=g.updateQueue;if(null===d||null===L)throw Error(n(282));L=g.pendingProps;ca=g.memoizedState;ca=null!==ca?ca.element:null;Qd(d,g);pe(g,L,null,r);L=g.memoizedState.element;
if(L===ca)yg=Yf=null,Rg=!1,g=Ub(d,g,r);else{if(ca=g.stateNode.hydrate)yg=cc(g.stateNode.containerInfo.firstChild),Yf=g,ca=Rg=!0;if(ca)for(r=Hk(g,null,L,r),g.child=r;r;)r.effectTag=r.effectTag&-3|1024,r=r.sibling;else Xa(d,g,L,r),yg=Yf=null,Rg=!1;g=g.child}return g;case 5:return C(g),null===d&&aa(g),L=g.type,ca=g.pendingProps,ib=null!==d?d.memoizedProps:null,nb=ca.children,Yb(L,ca)?nb=null:null!==ib&&Yb(L,ib)&&(g.effectTag|=16),Gb(d,g),g.mode&4&&1!==r&&ca.hidden?(g.expirationTime=g.childExpirationTime=
1,g=null):(Xa(d,g,nb,r),g=g.child),g;case 6:return null===d&&aa(g),null;case 13:return V(d,g,r);case 4:return df(g,g.stateNode.containerInfo),L=g.pendingProps,null===d?g.child=Bi(g,null,L,r):Xa(d,g,L,r),g.child;case 11:return L=g.type,ca=g.pendingProps,ca=g.elementType===L?ca:ne(L,ca),Va(d,g,L,ca,r);case 7:return Xa(d,g,g.pendingProps,r),g.child;case 8:return Xa(d,g,g.pendingProps.children,r),g.child;case 12:return Xa(d,g,g.pendingProps.children,r),g.child;case 10:a:{L=g.type._context;ca=g.pendingProps;
nb=g.memoizedProps;ib=ca.value;var Ob=g.type._context;jc(Mj,Ob._currentValue);Ob._currentValue=ib;if(null!==nb)if(Ob=nb.value,ib=Mh(Ob,ib)?0:("function"===typeof L._calculateChangedBits?L._calculateChangedBits(Ob,ib):1073741823)|0,0===ib){if(nb.children===ca.children&&!jg.current){g=Ub(d,g,r);break a}}else for(Ob=g.child,null!==Ob&&(Ob.return=g);null!==Ob;){var Lc=Ob.dependencies;if(null!==Lc){nb=Ob.child;for(var Nc=Lc.firstContext;null!==Nc;){if(Nc.context===L&&0!==(Nc.observedBits&ib)){1===Ob.tag&&
(Nc=Ed(r,null),Nc.tag=2,ke(Ob,Nc));Ob.expirationTime<r&&(Ob.expirationTime=r);Nc=Ob.alternate;null!==Nc&&Nc.expirationTime<r&&(Nc.expirationTime=r);Pc(Ob.return,r);Lc.expirationTime<r&&(Lc.expirationTime=r);break}Nc=Nc.next}}else nb=10===Ob.tag?Ob.type===g.type?null:Ob.child:Ob.child;if(null!==nb)nb.return=Ob;else for(nb=Ob;null!==nb;){if(nb===g){nb=null;break}Ob=nb.sibling;if(null!==Ob){Ob.return=nb.return;nb=Ob;break}nb=nb.return}Ob=nb}Xa(d,g,ca.children,r);g=g.child}return g;case 9:return ca=g.type,
ib=g.pendingProps,L=ib.children,fe(g,r),ca=Sd(ca,ib.unstable_observedBits),L=L(ca),g.effectTag|=1,Xa(d,g,L,r),g.child;case 14:return ca=g.type,ib=ne(ca,g.pendingProps),ib=ne(ca.type,ib),lb(d,g,ca,ib,L,r);case 15:return pb(d,g,g.type,g.pendingProps,L,r);case 17:return L=g.type,ca=g.pendingProps,ca=g.elementType===L?ca:ne(L,ca),null!==d&&(d.alternate=null,g.alternate=null,g.effectTag|=2),g.tag=1,Jd(L)?(d=!0,re(g)):d=!1,fe(g,r),gd(g,L,ca),Fe(g,L,ca,r),v(null,g,L,!0,d,r);case 19:return Db(d,g,r)}throw Error(n(156,
g.tag));};var ik=null,dk=null;oj.prototype.render=function(d){Ag(d,this._internalRoot,null,null)};oj.prototype.unmount=function(){var d=this._internalRoot,g=d.containerInfo;Ag(null,d,null,function(){g[Jh]=null})};var Ik=function(d){if(13===d.tag){var g=Yc(Wc(),150,100);hd(d,g);fg(d,g)}};var Af=function(d){13===d.tag&&(hd(d,3),fg(d,3))};var Yj=function(d){if(13===d.tag){var g=Wc();g=fd(g,d,null);hd(d,g);fg(d,g)}};Bg=function(d,g,r){switch(g){case "input":J(d,r);g=r.name;if("radio"===r.type&&null!=
g){for(r=d;r.parentNode;)r=r.parentNode;r=r.querySelectorAll("input[name\x3d"+JSON.stringify(""+g)+'][type\x3d"radio"]');for(g=0;g<r.length;g++){var L=r[g];if(L!==d&&L.form===d.form){var ca=gc(L);if(!ca)throw Error(n(90));jb(L);J(L,ca)}}}break;case "textarea":fa(d,r);break;case "select":g=r.value,null!=g&&Ia(d,!!r.multiple,g,!1)}};fb=Ie;Ja=function(d,g,r,L,ca){var ib=ve;ve|=4;try{return He(98,d.bind(null,g,r,L,ca))}finally{ve=ib,ve===Of&&Pd()}};ea=function(){(ve&(1|wg|Cf))===Of&&(Rd(),oh())};Sk=function(d,
g){var r=ve;ve|=2;try{return d(g)}finally{ve=r,ve===Of&&Pd()}};var Bl={Events:[yb,Nb,gc,Eb,lk,Ac,function(d){eb(d,$b)},Ea,ab,xd,Ba,oh,{current:!1}]};(function(d){var g=d.findFiberByHostInstance;return Pk(Pf({},d,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mg.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){r=ma(r);return null===r?null:r.stateNode},findFiberByHostInstance:function(r){return g?g(r):null},findHostInstancesForRefresh:null,
scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Qa,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bl;vb.createPortal=jk;vb.findDOMNode=function(d){if(null==d)return null;if(1===d.nodeType)return d;var g=d._reactInternalFiber;if(void 0===g){if("function"===typeof d.render)throw Error(n(188));throw Error(n(268,Object.keys(d)));}d=ma(g);return d=null===d?null:d.stateNode};
vb.flushSync=function(d,g){if((ve&(wg|Cf))!==Of)throw Error(n(187));var r=ve;ve|=1;try{return He(99,d.bind(null,g))}finally{ve=r,Pd()}};vb.hydrate=function(d,g,r){if(!Ji(g))throw Error(n(200));return gi(null,d,g,!0,r)};vb.render=function(d,g,r){if(!Ji(g))throw Error(n(200));return gi(null,d,g,!1,r)};vb.unmountComponentAtNode=function(d){if(!Ji(d))throw Error(n(40));return d._reactRootContainer?(Re(function(){gi(null,null,d,!1,function(){d._reactRootContainer=null;d[Jh]=null})}),!0):!1};vb.unstable_batchedUpdates=
Ie;vb.unstable_createPortal=function(d,g){return jk(d,g,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};vb.unstable_renderSubtreeIntoContainer=function(d,g,r,L){if(!Ji(r))throw Error(n(200));if(null==d||void 0===d._reactInternalFiber)throw Error(n(38));return gi(d,g,r,!1,L)};vb.version="16.13.1"};
shadow$provide[67]=function(Jb,sb,hc,vb){function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(q){console.error(q)}}n();hc.exports=sb(62)};
var ba="cljs.core",ca="cljs.spec.alpha",g,ea=this||self;
function t(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function fa(a){return a[ha]||(a[ha]=++ja)}var ha="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function la(a,b){a.sort(b||ma)}function oa(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ma;la(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function ma(a,b){return a>b?1:a<b?-1:0};function pa(a){this.md=a}pa.prototype.toString=function(){return this.md};function ra(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ua(a,b){return null!==a&&b in a?a[b]:void 0}var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ya(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<va.length;f++)c=va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function Aa(a){var b=arguments.length;if(1==b&&"array"==t(arguments[0]))return Aa.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function Ba(a){return/^[\s\xa0]*$/.test(a)};Aa(new pa("APPLET"),new pa("BASE"),new pa("EMBED"),new pa("IFRAME"),new pa("LINK"),new pa("MATH"),new pa("META"),new pa("OBJECT"),new pa("SCRIPT"),new pa("STYLE"),new pa("SVG"),new pa("TEMPLATE"));function Ca(a,b){null!=a&&this.append.apply(this,arguments)}g=Ca.prototype;g.lb="";g.set=function(a){this.lb=""+a};g.append=function(a,b,c){this.lb+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.lb+=arguments[d];return this};g.clear=function(){this.lb=""};g.toString=function(){return this.lb};var Da={},Ea={},Fa,u={},Ga=null;function Ja(){return new w(null,5,[Ka,!0,La,!0,Ma,!1,Na,!1,Oa,null],null)}function x(a){return null!=a&&!1!==a}function Pa(a){return a instanceof Array}function Qa(a){return null==a?!0:!1===a?!0:!1}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function z(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.zb:c)?c.ib:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ra(a){var b=a.ib;return x(b)?b:A.f(a)}
var Sa="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator",Ta={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Ua=null;
function Va(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Wa(a){function b(d,e){d.push(e);return d}var c=[];return Xa?Xa(b,c,a):Ya.call(null,b,c,a)}function Za(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function ab(){}function bb(){}function cb(){}
function db(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=db[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=db._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function eb(){}function fb(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=fb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function gb(){}
function hb(a,b){if(null!=a&&null!=a.pa)a=a.pa(a,b);else{var c=hb[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function ib(){}
var kb=function(){function a(d,e,f){var h=jb[t(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=jb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=jb[t(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=jb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),jb=function jb(a){switch(arguments.length){case 2:return jb.j(arguments[0],arguments[1]);case 3:return jb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};jb.j=function(a,b){return null!=a&&null!=a.$?a.$(a,b):kb(a,b)};jb.C=function(a,b,c){return null!=a&&null!=a.oa?a.oa(a,b,c):kb(a,b,c)};jb.K=3;function lb(){}
function mb(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=mb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=mb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function nb(a){if(null!=a&&null!=a.ya)a=a.ya(a);else{var b=nb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=nb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function ob(){}
function pb(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=pb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=pb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("INext.-next",a);}return a}function qb(){}
var ub=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.j(arguments[0],arguments[1]);case 3:return rb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};rb.j=function(a,b){return null!=a&&null!=a.ga?a.ga(a,b):ub(a,b)};rb.C=function(a,b,c){return null!=a&&null!=a.R?a.R(a,b,c):ub(a,b,c)};rb.K=3;
function vb(a,b,c){if(null!=a&&null!=a.Pa)a=a.Pa(a,b,c);else{var d=vb[t(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=vb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}function wb(a,b){if(null!=a&&null!=a.ub)a=a.ub(a,b);else{var c=wb[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=wb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function xb(){}
function yb(a,b){if(null!=a&&null!=a.cc)a=a.cc(a,b);else{var c=yb[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=yb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}function Ab(a){if(null!=a&&null!=a.Uc)a=a.key;else{var b=Ab[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Ab._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}
function Bb(a){if(null!=a&&null!=a.Vc)a=a.ka;else{var b=Bb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function Cb(){}function Db(a,b){if(null!=a&&null!=a.wc)a=a.wc(a,b);else{var c=Db[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Db._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("ISet.-disjoin",a);}return a}
function Eb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=Eb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Eb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IStack.-peek",a);}return a}function Fb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=Fb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Fb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IStack.-pop",a);}return a}function Gb(){}
function Hb(a,b,c){if(null!=a&&null!=a.nb)a=a.nb(a,b,c);else{var d=Hb[t(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Hb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IVector.-assoc-n",a);}return a}function Ib(a){if(null!=a&&null!=a.Na)a=a.Na(a);else{var b=Ib[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Ib._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function Jb(){}
function Kb(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=Kb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Kb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}function Lb(a,b){if(null!=a&&null!=a.ha)a=a.ha(a,b);else{var c=Lb[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Lb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function Mb(){}
var Pb=function(){function a(d,e,f){var h=Ob[t(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Ob._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=Ob[t(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Ob._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),Ob=function Ob(a){switch(arguments.length){case 2:return Ob.j(arguments[0],arguments[1]);case 3:return Ob.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};Ob.j=function(a,b){return null!=a&&null!=a.ta?a.ta(a,b):Pb(a,b)};Ob.C=function(a,b,c){return null!=a&&null!=a.ua?a.ua(a,b,c):Pb(a,b,c)};Ob.K=3;function Qb(){}
function Rb(a,b,c){if(null!=a&&null!=a.Gb)a=a.Gb(a,b,c);else{var d=Rb[t(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Rb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IKVReduce.-kv-reduce",a);}return a}function Sb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=Sb[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Sb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function Tb(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=Tb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Tb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function Ub(){}function Wb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Wb[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Wb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function Xb(){}function Yb(){}function Zb(){}function $b(){}
function ac(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=ac[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=ac._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IReversible.-rseq",a);}return a}function bc(a,b){if(null!=a&&null!=a.xc)a=a.xc(a,b);else{var c=bc[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=bc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function cc(){}
function dc(a,b,c){if(null!=a&&null!=a.ea)a=a.ea(a,b,c);else{var d=dc[t(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=dc._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}function ec(a,b){var c=hc;if(null!=a&&null!=a.Tb)a.Tb(a,b,c);else{var d=ec[t(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ec._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IWatchable.-add-watch",a);}}
function ic(a,b){if(null!=a&&null!=a.Ub)a.Ub(a,b);else{var c=ic[t(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=ic._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw z("IWatchable.-remove-watch",a);}}function jc(a){if(null!=a&&null!=a.tb)a=a.tb(a);else{var b=jc[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=jc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}
function kc(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=kc[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=kc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}function lc(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=lc[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=lc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}
function mc(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=mc[t(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=mc._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}function nc(){}function oc(a,b){if(null!=a&&null!=a.mb)a=a.mb(a,b);else{var c=oc[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=oc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}
function pc(a){if(null!=a&&null!=a.rc)a=a.rc(a);else{var b=pc[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=pc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}function qc(a){if(null!=a&&null!=a.bc)a=a.bc(a);else{var b=qc[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=qc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}
function rc(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=rc[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=rc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}function sc(a,b){if(null!=a&&null!=a.Ga)a=a.Ga(a,b);else{var c=sc[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=sc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var uc=function(){function a(f,h,k,l,m){var n=tc[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=tc._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw z("ISwap.-swap!",f);}function b(f,h,k,l){var m=tc[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=tc._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw z("ISwap.-swap!",f);}function c(f,h,k){var l=tc[t(null==f?null:f)];if(null!=l)return l.C?l.C(f,h,k):l.call(null,
f,h,k);l=tc._;if(null!=l)return l.C?l.C(f,h,k):l.call(null,f,h,k);throw z("ISwap.-swap!",f);}function d(f,h){var k=tc[t(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=tc._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw z("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.j=d;e.C=c;e.T=b;e.aa=a;return e}(),tc=function tc(a){switch(arguments.length){case 2:return tc.j(arguments[0],arguments[1]);case 3:return tc.C(arguments[0],arguments[1],arguments[2]);case 4:return tc.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return tc.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};tc.j=function(a,b){return null!=a&&null!=a.ec?a.ec(a,b):uc(a,b)};
tc.C=function(a,b,c){return null!=a&&null!=a.fc?a.fc(a,b,c):uc(a,b,c)};tc.T=function(a,b,c,d){return null!=a&&null!=a.hc?a.hc(a,b,c,d):uc(a,b,c,d)};tc.aa=function(a,b,c,d,e){return null!=a&&null!=a.ic?a.ic(a,b,c,d,e):uc(a,b,c,d,e)};tc.K=5;function vc(){}function wc(a){if(null!=a&&null!=a.Ea)a=a.Ea(a);else{var b=wc[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=wc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}
function xc(a){this.ld=a;this.F=1073741824;this.O=0}xc.prototype.xc=function(a,b){return this.ld.append(b)};function Ac(a){var b=new Ca;a.ea(null,new xc(b),Ja());return A.f(b)}var Bc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Cc(a){a=Bc(a|0,-862048943);return Bc(a<<15|a>>>-15,461845907)}
function Dc(a,b){a=(a|0)^(b|0);return Bc(a<<13|a>>>-13,5)+-430675100|0}function Ec(a,b){a=(a|0)^b;a=Bc(a^a>>>16,-2048144789);a=Bc(a^a>>>13,-1028477387);return a^a>>>16}function Fc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Dc(c,Cc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Ec(1===(a.length&1)?b^Cc(a.charCodeAt(a.length-1)):b,Bc(2,a.length))}var Gc={},Hc=0;
function Ic(a){255<Hc&&(Gc={},Hc=0);if(null==a)return 0;var b=Gc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Bc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Gc[a]=b;Hc+=1;a=b}return a}
function Jc(a){if(null!=a&&(a.F&4194304||u===a.rd))return a.ia(null)^0;if("number"===typeof a){if(x(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Ic(a),a=0===a?a:Ec(Dc(0,Cc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Tb(a)^0,a}function Kc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Lc(a,b){if(a.Oa===b.Oa)return 0;if(x(Qa(a.Ba)?b.Ba:!1))return-1;if(x(a.Ba)){if(Qa(b.Ba))return 1;var c=ma(a.Ba,b.Ba);return 0===c?ma(a.name,b.name):c}return ma(a.name,b.name)}function Mc(a,b,c,d,e){this.Ba=a;this.name=b;this.Oa=c;this._hash=d;this.La=e;this.F=2154168321;this.O=4096}g=Mc.prototype;g.toString=function(){return this.Oa};g.fa=function(a,b){return b instanceof Mc?this.Oa===b.Oa:!1};
g.call=function(){function a(d,e,f){return I.C?I.C(e,this,f):I.call(null,e,this,f)}function b(d,e){return I.j?I.j(e,this):I.call(null,e,this)}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.j=b;c.C=a;return c}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return I.j?I.j(a,this):I.call(null,a,this)};
g.j=function(a,b){return I.C?I.C(a,this,b):I.call(null,a,this,b)};g.da=function(){return this.La};g.ha=function(a,b){return new Mc(this.Ba,this.name,this.Oa,this._hash,b)};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Kc(Fc(this.name),Ic(this.Ba))};g.ea=function(a,b){return bc(b,this.Oa)};
var Nc=function Nc(a){switch(arguments.length){case 1:return Nc.f(arguments[0]);case 2:return Nc.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};Nc.f=function(a){for(;;){if(a instanceof Mc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Nc.j(null,a):Nc.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof N)a=a.Aa;else throw Error("no conversion to symbol");}};
Nc.j=function(a,b){var c=null!=a?[A.f(a),"/",A.f(b)].join(""):b;return new Mc(a,b,c,null,null)};Nc.K=2;function Oc(a){return null!=a?a.O&131072||u===a.sd?!0:a.O?!1:y(vc,a):y(vc,a)}function O(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.Xc))return a.ja(null);if(Pa(a)||"string"===typeof a)return 0===a.length?null:new P(a,0,null);if(null!=a&&null!=a[Sa])return a=ua(a,Sa).call(a),Pc.f?Pc.f(a):Pc.call(null,a);if(y(Ub,a))return Wb(a);throw Error([A.f(a)," is not ISeqable"].join(""));}
function R(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.Ca))return a.xa(null);a=O(a);return null==a?null:mb(a)}function Qc(a){return null!=a?null!=a&&(a.F&64||u===a.Ca)?a.ya(null):(a=O(a))?a.ya(null):Rc:Rc}function S(a){return null==a?null:null!=a&&(a.F&128||u===a.Hb)?a.qa(null):O(Qc(a))}
var Sc=function Sc(a){switch(arguments.length){case 1:return Sc.f(arguments[0]);case 2:return Sc.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return Sc.I(arguments[0],arguments[1],c)}};Sc.f=function(){return!0};Sc.j=function(a,b){return null==a?null==b:a===b||Sb(a,b)};Sc.I=function(a,b,c){for(;;)if(Sc.j(a,b))if(S(c))a=b,b=R(c),c=S(c);else return Sc.j(b,R(c));else return!1};
Sc.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};Sc.K=2;function Tc(a){this.s=a}Tc.prototype.next=function(){if(null!=this.s){var a=R(this.s);this.s=S(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Uc(a){return new Tc(O(a))}function Vc(a,b){this.value=a;this.Eb=b;this.Yb=null;this.F=8388672;this.O=0}Vc.prototype.ja=function(){return this};Vc.prototype.xa=function(){return this.value};
Vc.prototype.ya=function(){null==this.Yb&&(this.Yb=Pc.f?Pc.f(this.Eb):Pc.call(null,this.Eb));return this.Yb};function Pc(a){var b=a.next();return x(b.done)?null:new Vc(b.value,a)}function Wc(a){var b=0,c=1;for(a=O(a);;)if(null!=a)b+=1,c=Bc(31,c)+Jc(R(a))|0,a=S(a);else return Ec(Dc(0,Cc(c)),b)}var Xc=Ec(Dc(0,Cc(1)),0);function Yc(a){var b=0,c=0;for(a=O(a);;)if(null!=a)b+=1,c=c+Jc(R(a))|0,a=S(a);else return Ec(Dc(0,Cc(c)),b)}var Zc=Ec(Dc(0,Cc(0)),0);cb["null"]=!0;db["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.sb=u;Date.prototype.mb=function(a,b){if(b instanceof Date)return ma(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",A.f(this)," to ",A.f(b)].join(""));};Sb.number=function(a,b){return a===b};ab["function"]=!0;Jb["function"]=!0;Kb["function"]=function(){return null};Tb._=function(a){return fa(a)};function $c(a){return a+1}function ad(a){this.ka=a;this.F=32768;this.O=0}ad.prototype.Na=function(){return this.ka};
function bd(a){return a instanceof ad}function cd(a){return Ib(a)}function dd(a,b){var c=a.la(null);if(0===c)return b.J?b.J():b.call(null);for(var d=a.$(null,0),e=1;;)if(e<c){var f=a.$(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(bd(d))return Ib(d);e+=1}else return d}function ed(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.$(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(bd(e))return Ib(e);c+=1}else return e}
function fd(a,b){var c=a.length;if(0===a.length)return b.J?b.J():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(bd(d))return Ib(d);e+=1}else return d}function gd(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(bd(e))return Ib(e);c+=1}else return e}function hd(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(bd(c))return Ib(c);d+=1}else return c}
function id(a){return null!=a?a.F&2||u===a.Nc?!0:a.F?!1:y(cb,a):y(cb,a)}function jd(a){return null!=a?a.F&16||u===a.tc?!0:a.F?!1:y(ib,a):y(ib,a)}function U(a,b,c){var d=V.f?V.f(a):V.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(Sc.j(kd?kd(a,c):ld.call(null,a,c),b))return c;c+=1}else return-1}
function md(a,b,c){var d=V.f?V.f(a):V.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(Sc.j(kd?kd(a,c):ld.call(null,a,c),b))return c;--c}else return-1}function nd(a,b){this.B=a;this.i=b}nd.prototype.ra=function(){return this.i<this.B.length};nd.prototype.next=function(){var a=this.B[this.i];this.i+=1;return a};function P(a,b,c){this.B=a;this.i=b;this.meta=c;this.F=166592766;this.O=139264}g=P.prototype;g.toString=function(){return Ac(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V.f?V.f(this):V.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.$=function(a,b){a=b+this.i;if(0<=a&&a<this.B.length)return this.B[a];throw Error("Index out of bounds");};g.oa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.B.length?this.B[a]:c};
g.Ea=function(){return new nd(this.B,this.i)};g.da=function(){return this.meta};g.qa=function(){return this.i+1<this.B.length?new P(this.B,this.i+1,null):null};g.la=function(){var a=this.B.length-this.i;return 0>a?0:a};g.Ib=function(){var a=this.la(null);return 0<a?new od(this,a-1,null):null};g.ia=function(){return Wc(this)};g.fa=function(a,b){return pd.j?pd.j(this,b):pd.call(null,this,b)};g.na=function(){return Rc};g.ta=function(a,b){return hd(this.B,b,this.B[this.i],this.i+1)};
g.ua=function(a,b,c){return hd(this.B,b,c,this.i)};g.xa=function(){return this.B[this.i]};g.ya=function(){return this.i+1<this.B.length?new P(this.B,this.i+1,null):Rc};g.ja=function(){return this.i<this.B.length?this:null};g.ha=function(a,b){return b===this.meta?this:new P(this.B,this.i,b)};g.pa=function(a,b){return qd.j?qd.j(b,this):qd.call(null,b,this)};P.prototype[Sa]=function(){return Uc(this)};function rd(a){return 0<a.length?new P(a,0,null):null}
function od(a,b,c){this.ci=a;this.i=b;this.meta=c;this.F=32374990;this.O=8192}g=od.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V.f?V.f(this):V.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){return 0<this.i?new od(this.ci,this.i-1,null):null};g.la=function(){return this.i+1};g.ia=function(){return Wc(this)};
g.fa=function(a,b){return pd.j?pd.j(this,b):pd.call(null,this,b)};g.na=function(){return Rc};g.ta=function(a,b){return sd?sd(b,this):td.call(null,b,this)};g.ua=function(a,b,c){return ud?ud(b,c,this):td.call(null,b,c,this)};g.xa=function(){return jb(this.ci,this.i)};g.ya=function(){return 0<this.i?new od(this.ci,this.i-1,null):Rc};g.ja=function(){return this};g.ha=function(a,b){return b===this.meta?this:new od(this.ci,this.i,b)};g.pa=function(a,b){return qd.j?qd.j(b,this):qd.call(null,b,this)};
od.prototype[Sa]=function(){return Uc(this)};function vd(a){for(;;){var b=S(a);if(null!=b)a=b;else return R(a)}}Sb._=function(a,b){return a===b};var wd=function wd(a){switch(arguments.length){case 0:return wd.J();case 1:return wd.f(arguments[0]);case 2:return wd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return wd.I(arguments[0],arguments[1],c)}};wd.J=function(){return xd};wd.f=function(a){return a};
wd.j=function(a,b){return null!=a?hb(a,b):new yd(null,b,null,1,null)};wd.I=function(a,b,c){for(;;)if(x(c))a=wd.j(a,b),b=R(c),c=S(c);else return wd.j(a,b)};wd.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};wd.K=2;
function V(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Nc))a=a.la(null);else if(Pa(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.Xc))a:{a=O(a);for(var b=0;;){if(id(a)){a=b+db(a);break a}a=S(a);b+=1}}else a=db(a);else a=0;return a}function zd(a,b,c){for(;;){if(null==a)return c;if(0===b)return O(a)?R(a):c;if(jd(a))return jb(a,b,c);if(O(a))a=S(a),--b;else return c}}
function ld(a){switch(arguments.length){case 2:return kd(arguments[0],arguments[1]);case 3:return X(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}}
function kd(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.tc))return a.$(null,b);if(Pa(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.Ca)||null!=a&&(a.F&16777216||u===a.vc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(O(a)){a=R(a);break a}throw Error("Index out of bounds");}if(jd(a)){a=jb(a,b);break a}if(O(a))a=S(a),--b;else throw Error("Index out of bounds");}return a}if(y(ib,a))return jb(a,b);throw Error(["nth not supported on this type ",A.f(Ra(null==a?null:a.constructor))].join(""));}
function X(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.tc))return a.oa(null,b,c);if(Pa(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.Ca)||null!=a&&(a.F&16777216||u===a.vc))return 0>b?c:zd(a,b,c);if(y(ib,a))return jb(a,b,c);throw Error(["nth not supported on this type ",A.f(Ra(null==a?null:a.constructor))].join(""));}
var I=function I(a){switch(arguments.length){case 2:return I.j(arguments[0],arguments[1]);case 3:return I.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};I.j=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Tc)?a.ga(null,b):Pa(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(qb,a)?rb(a,b):null};
I.C=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Tc)?a.R(null,b,c):Pa(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(qb,a)?rb(a,b,c):c:c};I.K=3;var Ad=function Ad(a){switch(arguments.length){case 3:return Ad.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(3),0,null);return Ad.I(arguments[0],arguments[1],arguments[2],c)}};
Ad.C=function(a,b,c){if(null!=a&&(a.F&512||u===a.nd))a=a.Pa(null,b,c);else if(null!=a)a=vb(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Bd(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new w(null,b.length/2,b,null)}return a};Ad.I=function(a,b,c,d){for(;;)if(a=Ad.C(a,b,c),x(d))b=R(d),c=R(S(d)),d=S(S(d));else return a};Ad.N=function(a){var b=R(a),c=S(a);a=R(c);var d=S(c);c=R(d);d=S(d);return this.I(b,a,c,d)};Ad.K=3;
var Cd=function Cd(a){switch(arguments.length){case 1:return Cd.f(arguments[0]);case 2:return Cd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return Cd.I(arguments[0],arguments[1],c)}};Cd.f=function(a){return a};Cd.j=function(a,b){return null==a?null:yb(a,b)};Cd.I=function(a,b,c){for(;;){if(null==a)return null;a=Cd.j(a,b);if(x(c))b=R(c),c=S(c);else return a}};
Cd.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};Cd.K=2;function Dd(a){var b="function"==t(a);return b?b:null!=a?u===a.Mc?!0:a.yc?!1:y(ab,a):y(ab,a)}function Ed(a,b){this.D=a;this.meta=b;this.F=393217;this.O=0}g=Ed.prototype;g.da=function(){return this.meta};g.ha=function(a,b){return new Ed(this.D,b)};g.Mc=u;
g.call=function(){function a(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha,$a,zb){ta=this;return Fd.Sb?Fd.Sb(ta.D,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha,$a,zb):Fd.call(null,ta.D,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha,$a,zb)}function b(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha){ta=this;return ta.D.Za?ta.D.Za(q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha)}function c(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za){ta=
this;return ta.D.Ya?ta.D.Ya(q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za)}function d(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa){ta=this;return ta.D.Xa?ta.D.Xa(q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa)}function e(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa){ta=this;return ta.D.Wa?ta.D.Wa(q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa)}function f(ta,
q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na){ta=this;return ta.D.Va?ta.D.Va(q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na)}function h(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka){ta=this;return ta.D.Ua?ta.D.Ua(q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka)}function k(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da){ta=this;return ta.D.Ta?ta.D.Ta(q,C,E,B,F,H,J,M,Q,K,W,aa,da):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da)}function l(ta,q,C,E,B,F,H,J,M,Q,K,W,aa){ta=this;
return ta.D.Sa?ta.D.Sa(q,C,E,B,F,H,J,M,Q,K,W,aa):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa)}function m(ta,q,C,E,B,F,H,J,M,Q,K,W){ta=this;return ta.D.Ra?ta.D.Ra(q,C,E,B,F,H,J,M,Q,K,W):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K,W)}function n(ta,q,C,E,B,F,H,J,M,Q,K){ta=this;return ta.D.Qa?ta.D.Qa(q,C,E,B,F,H,J,M,Q,K):ta.D.call(null,q,C,E,B,F,H,J,M,Q,K)}function p(ta,q,C,E,B,F,H,J,M,Q){ta=this;return ta.D.cb?ta.D.cb(q,C,E,B,F,H,J,M,Q):ta.D.call(null,q,C,E,B,F,H,J,M,Q)}function r(ta,q,C,E,B,F,H,J,M){ta=this;return ta.D.bb?
ta.D.bb(q,C,E,B,F,H,J,M):ta.D.call(null,q,C,E,B,F,H,J,M)}function v(ta,q,C,E,B,F,H,J){ta=this;return ta.D.ab?ta.D.ab(q,C,E,B,F,H,J):ta.D.call(null,q,C,E,B,F,H,J)}function D(ta,q,C,E,B,F,H){ta=this;return ta.D.Fa?ta.D.Fa(q,C,E,B,F,H):ta.D.call(null,q,C,E,B,F,H)}function G(ta,q,C,E,B,F){ta=this;return ta.D.aa?ta.D.aa(q,C,E,B,F):ta.D.call(null,q,C,E,B,F)}function T(ta,q,C,E,B){ta=this;return ta.D.T?ta.D.T(q,C,E,B):ta.D.call(null,q,C,E,B)}function Z(ta,q,C,E){ta=this;return ta.D.C?ta.D.C(q,C,E):ta.D.call(null,
q,C,E)}function ia(ta,q,C){ta=this;return ta.D.j?ta.D.j(q,C):ta.D.call(null,q,C)}function sa(ta,q){ta=this;return ta.D.f?ta.D.f(q):ta.D.call(null,q)}function xa(ta){ta=this;return ta.D.J?ta.D.J():ta.D.call(null)}var Ia=null;Ia=function(ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha,$a,zb){switch(arguments.length){case 1:return xa.call(this,ta);case 2:return sa.call(this,ta,q);case 3:return ia.call(this,ta,q,C);case 4:return Z.call(this,ta,q,C,E);case 5:return T.call(this,ta,q,C,E,B);case 6:return G.call(this,
ta,q,C,E,B,F);case 7:return D.call(this,ta,q,C,E,B,F,H);case 8:return v.call(this,ta,q,C,E,B,F,H,J);case 9:return r.call(this,ta,q,C,E,B,F,H,J,M);case 10:return p.call(this,ta,q,C,E,B,F,H,J,M,Q);case 11:return n.call(this,ta,q,C,E,B,F,H,J,M,Q,K);case 12:return m.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W);case 13:return l.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W,aa);case 14:return k.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da);case 15:return h.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka);case 16:return f.call(this,
ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na);case 17:return e.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa);case 18:return d.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa);case 19:return c.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za);case 20:return b.call(this,ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha);case 21:return this.D.$a?this.D.$a(q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha,$a):this.D.call(null,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha,$a);case 22:return a.call(this,
ta,q,C,E,B,F,H,J,M,Q,K,W,aa,da,ka,na,qa,wa,za,Ha,$a,zb)}throw Error("Invalid arity: "+(arguments.length-1));};Ia.f=xa;Ia.j=sa;Ia.C=ia;Ia.T=Z;Ia.aa=T;Ia.Fa=G;Ia.ab=D;Ia.bb=v;Ia.cb=r;Ia.Qa=p;Ia.Ra=n;Ia.Sa=m;Ia.Ta=l;Ia.Ua=k;Ia.Va=h;Ia.Wa=f;Ia.Xa=e;Ia.Ya=d;Ia.Za=c;Ia.$a=b;Ia.Sb=a;return Ia}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.J=function(){return this.D.J?this.D.J():this.D.call(null)};g.f=function(a){return this.D.f?this.D.f(a):this.D.call(null,a)};
g.j=function(a,b){return this.D.j?this.D.j(a,b):this.D.call(null,a,b)};g.C=function(a,b,c){return this.D.C?this.D.C(a,b,c):this.D.call(null,a,b,c)};g.T=function(a,b,c,d){return this.D.T?this.D.T(a,b,c,d):this.D.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.D.aa?this.D.aa(a,b,c,d,e):this.D.call(null,a,b,c,d,e)};g.Fa=function(a,b,c,d,e,f){return this.D.Fa?this.D.Fa(a,b,c,d,e,f):this.D.call(null,a,b,c,d,e,f)};
g.ab=function(a,b,c,d,e,f,h){return this.D.ab?this.D.ab(a,b,c,d,e,f,h):this.D.call(null,a,b,c,d,e,f,h)};g.bb=function(a,b,c,d,e,f,h,k){return this.D.bb?this.D.bb(a,b,c,d,e,f,h,k):this.D.call(null,a,b,c,d,e,f,h,k)};g.cb=function(a,b,c,d,e,f,h,k,l){return this.D.cb?this.D.cb(a,b,c,d,e,f,h,k,l):this.D.call(null,a,b,c,d,e,f,h,k,l)};g.Qa=function(a,b,c,d,e,f,h,k,l,m){return this.D.Qa?this.D.Qa(a,b,c,d,e,f,h,k,l,m):this.D.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Ra=function(a,b,c,d,e,f,h,k,l,m,n){return this.D.Ra?this.D.Ra(a,b,c,d,e,f,h,k,l,m,n):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Sa=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.D.Sa?this.D.Sa(a,b,c,d,e,f,h,k,l,m,n,p):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};g.Ta=function(a,b,c,d,e,f,h,k,l,m,n,p,r){return this.D.Ta?this.D.Ta(a,b,c,d,e,f,h,k,l,m,n,p,r):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r)};
g.Ua=function(a,b,c,d,e,f,h,k,l,m,n,p,r,v){return this.D.Ua?this.D.Ua(a,b,c,d,e,f,h,k,l,m,n,p,r,v):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,v)};g.Va=function(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D){return this.D.Va?this.D.Va(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,v,D)};g.Wa=function(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G){return this.D.Wa?this.D.Wa(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G)};
g.Xa=function(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T){return this.D.Xa?this.D.Xa(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T)};g.Ya=function(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z){return this.D.Ya?this.D.Ya(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z)};
g.Za=function(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia){return this.D.Za?this.D.Za(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia)};g.$a=function(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa){return this.D.$a?this.D.$a(a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa)};function Gd(a,b){return"function"==t(a)?new Ed(a,b):null==a?null:Lb(a,b)}
function Hd(a){return null!=a&&(null!=a?a.F&131072||u===a.dc||(a.F?0:y(Jb,a)):y(Jb,a))?Kb(a):null}var Id=function Id(a){switch(arguments.length){case 1:return Id.f(arguments[0]);case 2:return Id.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return Id.I(arguments[0],arguments[1],c)}};Id.f=function(a){return a};Id.j=function(a,b){return null==a?null:Db(a,b)};
Id.I=function(a,b,c){for(;;){if(null==a)return null;a=Id.j(a,b);if(x(c))b=R(c),c=S(c);else return a}};Id.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};Id.K=2;function Jd(a){return null==a||Qa(O(a))}function Pd(a){return null==a?!1:null!=a?a.F&8||u===a.pd?!0:a.F?!1:y(gb,a):y(gb,a)}function Qd(a){return null==a?!1:null!=a?a.F&4096||u===a.zd?!0:a.F?!1:y(Cb,a):y(Cb,a)}function Rd(a){return null!=a?a.F&16777216||u===a.vc?!0:a.F?!1:y(Xb,a):y(Xb,a)}
function Sd(a){return null==a?!1:null!=a?a.F&1024||u===a.vd?!0:a.F?!1:y(xb,a):y(xb,a)}function Td(a){return null!=a?a.F&67108864||u===a.xd?!0:a.F?!1:y(Zb,a):y(Zb,a)}function Ud(a){return null!=a?a.F&16384||u===a.Ad?!0:a.F?!1:y(Gb,a):y(Gb,a)}function Vd(a){return null!=a?a.O&512||u===a.od?!0:!1:!1}function Wd(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Xd={};function Yd(a){return null==a?!1:!1===a?!1:!0}
function Zd(a){var b=Dd(a);return b?b:null!=a?a.F&1||u===a.qd?!0:a.F?!1:y(bb,a):y(bb,a)}function $d(a,b){return I.C(a,b,Xd)===Xd?!1:!0}
function ae(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ma(a,b);throw Error(["Cannot compare ",A.f(a)," to ",A.f(b)].join(""));}if(null!=a?a.O&2048||u===a.sb||(a.O?0:y(nc,a)):y(nc,a))return oc(a,b);if("string"!==typeof a&&!Pa(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",A.f(a)," to ",A.f(b)].join(""));return ma(a,b)}
function be(a,b){var c=V(a),d=V(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=ae(kd(a,d),kd(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function ce(a){return Sc.j(a,ae)?ae:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:x(d)?-1:x(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function de(a,b){return O(b)?(b=ee.f?ee.f(b):ee.call(null,b),oa(b,ce(a)),O(b)):Rc}
function fe(a,b){return de(function(c,d){c=a.f?a.f(c):a.call(null,c);d=a.f?a.f(d):a.call(null,d);var e=ce(ae);return e.j?e.j(c,d):e.call(null,c,d)},b)}function td(a){switch(arguments.length){case 2:return sd(arguments[0],arguments[1]);case 3:return ud(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}}function sd(a,b){var c=O(b);return c?(b=R(c),c=S(c),Xa?Xa(a,b,c):Ya.call(null,a,b,c)):a.J?a.J():a.call(null)}
function ud(a,b,c){for(c=O(c);;)if(c){var d=R(c);b=a.j?a.j(b,d):a.call(null,b,d);if(bd(b))return Ib(b);c=S(c)}else return b}function ge(a,b){a=wc(a);if(x(a.ra()))for(var c=a.next();;)if(a.ra()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(bd(c))return Ib(c)}else return c;else return b.J?b.J():b.call(null)}function he(a,b,c){for(a=wc(a);;)if(a.ra()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(bd(c))return Ib(c)}else return c}
function Ya(a){switch(arguments.length){case 2:return ie(arguments[0],arguments[1]);case 3:return Xa(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}}function ie(a,b){return null!=b&&(b.F&524288||u===b.Wc)?b.ta(null,a):Pa(b)?fd(b,a):"string"===typeof b?fd(b,a):y(Mb,b)?Ob(b,a):Oc(b)?ge(b,a):sd(a,b)}
function Xa(a,b,c){return null!=c&&(c.F&524288||u===c.Wc)?c.ua(null,a,b):Pa(c)?gd(c,a,b):"string"===typeof c?gd(c,a,b):y(Mb,c)?Ob(c,a,b):Oc(c)?he(c,a,b):ud(a,b,c)}function je(a,b,c){return null!=c?Rb(c,a,b):b}function ke(a){return a}function le(a,b,c,d){a=a.f?a.f(b):a.call(null,b);c=Xa(a,c,d);return a.f?a.f(c):a.call(null,c)}function me(a){return a-1}function ne(a,b){a=(a-a%b)/b;return 0<=a?Math.floor(a):Math.ceil(a)}
function oe(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var A=function A(a){switch(arguments.length){case 0:return A.J();case 1:return A.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(1),0,null);return A.I(arguments[0],c)}};A.J=function(){return""};A.f=function(a){return null==a?"":[a].join("")};
A.I=function(a,b){for(a=new Ca(A.f(a));;)if(x(b))a=a.append(A.f(R(b))),b=S(b);else return a.toString()};A.N=function(a){var b=R(a);a=S(a);return this.I(b,a)};A.K=1;function pd(a,b){if(Rd(b))if(id(a)&&id(b)&&V(a)!==V(b))a=!1;else a:for(a=O(a),b=O(b);;){if(null==a){a=null==b;break a}if(null!=b&&Sc.j(R(a),R(b)))a=S(a),b=S(b);else{a=!1;break a}}else a=null;return Yd(a)}function yd(a,b,c,d,e){this.meta=a;this.first=b;this.gb=c;this.count=d;this.P=e;this.F=65937646;this.O=8192}g=yd.prototype;
g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){return 1===this.count?null:this.gb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.ya(null)};
g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};g.fa=function(a,b){return pd(this,b)};g.na=function(){return Lb(Rc,this.meta)};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return this.first};g.ya=function(){return 1===this.count?Rc:this.gb};g.ja=function(){return this};g.ha=function(a,b){return b===this.meta?this:new yd(b,this.first,this.gb,this.count,this.P)};g.pa=function(a,b){return new yd(this.meta,b,this,this.count+1,null)};
yd.prototype[Sa]=function(){return Uc(this)};function pe(a){this.meta=a;this.F=65937614;this.O=8192}g=pe.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ia=function(){return Xc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.ud||(b.F?0:y(Yb,b)):y(Yb,b))||Rd(b)?null==O(b):!1};g.na=function(){return this};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return null};g.ya=function(){return Rc};g.ja=function(){return null};g.ha=function(a,b){return b===this.meta?this:new pe(b)};g.pa=function(a,b){return new yd(this.meta,b,null,1,null)};var Rc=new pe(null);pe.prototype[Sa]=function(){return Uc(this)};
function qe(a){return(null!=a?a.F&134217728||u===a.yd||(a.F?0:y($b,a)):y($b,a))?(a=ac(a))?a:Rc:Xa(wd,Rc,a)}var re=function re(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new P(c.slice(0),0,null):null;return re.I(c)};re.I=function(a){if(a instanceof P&&0===a.i)var b=a.B;else a:for(b=[];;)if(null!=a)b.push(mb(a)),a=pb(a);else break a;a=b.length;for(var c=Rc;;)if(0<a){var d=a-1;c=hb(c,b[a-1]);a=d}else return c};re.K=0;re.N=function(a){return this.I(O(a))};
function se(a,b,c,d){this.meta=a;this.first=b;this.gb=c;this.P=d;this.F=65929452;this.O=8192}g=se.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){return null==this.gb?null:O(this.gb)};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};
g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return this.first};g.ya=function(){return null==this.gb?Rc:this.gb};g.ja=function(){return this};g.ha=function(a,b){return b===this.meta?this:new se(b,this.first,this.gb,this.P)};g.pa=function(a,b){return new se(null,b,this,null)};se.prototype[Sa]=function(){return Uc(this)};
function qd(a,b){return null==b?new yd(null,a,null,1,null):null!=b&&(b.F&64||u===b.Ca)?new se(null,a,b,null):new se(null,a,O(b),null)}function we(a,b){if(a.Aa===b.Aa)return 0;if(x(Qa(a.Ba)?b.Ba:!1))return-1;if(x(a.Ba)){if(Qa(b.Ba))return 1;var c=ma(a.Ba,b.Ba);return 0===c?ma(a.name,b.name):c}return ma(a.name,b.name)}function N(a,b,c,d){this.Ba=a;this.name=b;this.Aa=c;this._hash=d;this.F=2153775105;this.O=4096}g=N.prototype;g.toString=function(){return[":",A.f(this.Aa)].join("")};
g.fa=function(a,b){return b instanceof N?this.Aa===b.Aa:!1};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return I.j(c,this);case 3:return I.C(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return I.j(c,this)};a.C=function(b,c,d){return I.C(c,this,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return I.j(a,this)};g.j=function(a,b){return I.C(a,this,b)};
g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Kc(Fc(this.name),Ic(this.Ba))+2654435769|0};g.ea=function(a,b){return bc(b,[":",A.f(this.Aa)].join(""))};function xe(a){if(null!=a&&(a.O&4096||u===a.uc))return a.Ba;throw Error(["Doesn't support namespace: ",A.f(a)].join(""));}function ye(a){return a instanceof N||a instanceof Mc}
var ze=function ze(a){switch(arguments.length){case 1:return ze.f(arguments[0]);case 2:return ze.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};ze.f=function(a){if(a instanceof N)return a;if(a instanceof Mc)return new N(xe(a),Ae.f?Ae.f(a):Ae.call(null,a),a.Oa,null);if(Sc.j("/",a))return new N(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new N(b[0],b[1],a,null):new N(null,b[0],a,null)}return null};
ze.j=function(a,b){a=a instanceof N?Ae.f?Ae.f(a):Ae.call(null,a):a instanceof Mc?Ae.f?Ae.f(a):Ae.call(null,a):a;b=b instanceof N?Ae.f?Ae.f(b):Ae.call(null,b):b instanceof Mc?Ae.f?Ae.f(b):Ae.call(null,b):b;return new N(a,b,[x(a)?[A.f(a),"/"].join(""):null,A.f(b)].join(""),null)};ze.K=2;function Be(a,b,c){this.meta=a;this.fn=b;this.s=null;this.P=c;this.F=32374988;this.O=1}g=Be.prototype;g.toString=function(){return Ac(this)};
function Ce(a){null!=a.fn&&(a.s=a.fn.J?a.fn.J():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){this.ja(null);return null==this.s?null:S(this.s)};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};g.fa=function(a,b){return pd(this,b)};
g.na=function(){return Lb(Rc,this.meta)};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){this.ja(null);return null==this.s?null:R(this.s)};g.ya=function(){this.ja(null);return null!=this.s?Qc(this.s):Rc};g.ja=function(){Ce(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Be)a=Ce(a);else return this.s=a,O(this.s)};g.ha=function(a,b){var c=this;return b===this.meta?c:new Be(b,function(){return c.ja(null)},this.P)};
g.pa=function(a,b){return qd(b,this)};Be.prototype[Sa]=function(){return Uc(this)};function De(a){this.Zb=a;this.end=0;this.F=2;this.O=0}De.prototype.add=function(a){this.Zb[this.end]=a;return this.end+=1};De.prototype.sa=function(){var a=new Ee(this.Zb,0,this.end);this.Zb=null;return a};De.prototype.la=function(){return this.end};function Fe(a){return new De(Array(a))}function Ee(a,b,c){this.B=a;this.off=b;this.end=c;this.F=524306;this.O=0}g=Ee.prototype;g.la=function(){return this.end-this.off};
g.$=function(a,b){return this.B[this.off+b]};g.oa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.B[this.off+b]:c};g.rc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ee(this.B,this.off+1,this.end)};g.ta=function(a,b){return hd(this.B,b,this.B[this.off],this.off+1)};g.ua=function(a,b,c){return hd(this.B,b,c,this.off)};function Ge(a,b,c,d){this.sa=a;this.Ja=b;this.meta=c;this.P=d;this.F=31850732;this.O=1536}g=Ge.prototype;g.toString=function(){return Ac(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){return 1<db(this.sa)?new Ge(pc(this.sa),this.Ja,null,null):null==this.Ja?null:Wb(this.Ja)};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};
g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};g.xa=function(){return jb(this.sa,0)};g.ya=function(){return 1<db(this.sa)?new Ge(pc(this.sa),this.Ja,null,null):null==this.Ja?Rc:this.Ja};g.ja=function(){return this};g.bc=function(){return this.sa};g.Rb=function(){return null==this.Ja?Rc:this.Ja};g.ha=function(a,b){return b===this.meta?this:new Ge(this.sa,this.Ja,b,this.P)};g.pa=function(a,b){return qd(b,this)};g.sc=function(){return null==this.Ja?null:this.Ja};Ge.prototype[Sa]=function(){return Uc(this)};
function He(a,b){return 0===db(a)?b:new Ge(a,b,null,null)}function Ie(a,b){a.add(b)}function ee(a){var b=[];for(a=O(a);;)if(null!=a)b.push(R(a)),a=S(a);else return b}function Je(a,b){if(id(b))return V(b);var c=0;for(b=O(b);;)if(null!=b&&c<a)c+=1,b=S(b);else return c}
var Ke=function Ke(a){if(null==a)return null;var c=S(a);return null==c?O(R(a)):qd(R(a),Ke.f?Ke.f(c):Ke.call(null,c))},Le=function Le(a){switch(arguments.length){case 0:return Le.J();case 1:return Le.f(arguments[0]);case 2:return Le.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return Le.I(arguments[0],arguments[1],c)}};Le.J=function(){return jc(xd)};Le.f=function(a){return a};
Le.j=function(a,b){return kc(a,b)};Le.I=function(a,b,c){for(;;)if(a=kc(a,b),x(c))b=R(c),c=S(c);else return a};Le.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};Le.K=2;
function Me(a,b,c){var d=O(c);if(0===b)return a.J?a.J():a.call(null);c=mb(d);var e=nb(d);if(1===b)return a.f?a.f(c):a.call(null,c);d=mb(e);var f=nb(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=mb(f);var h=nb(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=mb(h);var k=nb(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=mb(k);var l=nb(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=mb(l);var m=nb(l);if(6===b)return a.Fa?a.Fa(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);l=mb(m);var n=nb(m);if(7===b)return a.ab?a.ab(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=mb(n);var p=nb(n);if(8===b)return a.bb?a.bb(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=mb(p);var r=nb(p);if(9===b)return a.cb?a.cb(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=mb(r);var v=nb(r);if(10===b)return a.Qa?a.Qa(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);r=mb(v);var D=nb(v);if(11===b)return a.Ra?a.Ra(c,d,e,f,h,k,l,m,n,p,r):a.call(null,c,d,e,f,h,k,l,m,n,p,r);v=mb(D);var G=nb(D);
if(12===b)return a.Sa?a.Sa(c,d,e,f,h,k,l,m,n,p,r,v):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v);D=mb(G);var T=nb(G);if(13===b)return a.Ta?a.Ta(c,d,e,f,h,k,l,m,n,p,r,v,D):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D);G=mb(T);var Z=nb(T);if(14===b)return a.Ua?a.Ua(c,d,e,f,h,k,l,m,n,p,r,v,D,G):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D,G);T=mb(Z);var ia=nb(Z);if(15===b)return a.Va?a.Va(c,d,e,f,h,k,l,m,n,p,r,v,D,G,T):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T);Z=mb(ia);var sa=nb(ia);if(16===b)return a.Wa?a.Wa(c,d,e,f,h,
k,l,m,n,p,r,v,D,G,T,Z):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z);ia=mb(sa);var xa=nb(sa);if(17===b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia);sa=mb(xa);var Ia=nb(xa);if(18===b)return a.Ya?a.Ya(c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa);xa=mb(Ia);Ia=nb(Ia);if(19===b)return a.Za?a.Za(c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa,xa):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa,xa);var ta=mb(Ia);
nb(Ia);if(20===b)return a.$a?a.$a(c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa,xa,ta):a.call(null,c,d,e,f,h,k,l,m,n,p,r,v,D,G,T,Z,ia,sa,xa,ta);throw Error("Only up to 20 arguments supported on functions");}function Ne(a){return null!=a&&(a.F&128||u===a.Hb)?a.qa(null):O(Qc(a))}function Oe(a,b,c){return null==c?a.f?a.f(b):a.call(a,b):Pe(a,b,mb(c),Ne(c))}function Pe(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):Qe(a,b,c,mb(d),Ne(d))}
function Qe(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):Re(a,b,c,d,mb(e),Ne(e))}
function Re(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=mb(f),k=S(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=mb(k);var l=S(k);if(null==l)return a.Fa?a.Fa(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=mb(l);var m=S(l);if(null==m)return a.ab?a.ab(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=mb(m);var n=S(m);if(null==n)return a.bb?a.bb(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=mb(n);var p=S(n);if(null==p)return a.cb?a.cb(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,
k,l,m);n=mb(p);var r=S(p);if(null==r)return a.Qa?a.Qa(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=mb(r);var v=S(r);if(null==v)return a.Ra?a.Ra(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);r=mb(v);var D=S(v);if(null==D)return a.Sa?a.Sa(b,c,d,e,h,f,k,l,m,n,p,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r);v=mb(D);var G=S(D);if(null==G)return a.Ta?a.Ta(b,c,d,e,h,f,k,l,m,n,p,r,v):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,v);D=mb(G);var T=S(G);if(null==T)return a.Ua?a.Ua(b,c,d,e,h,f,k,l,m,n,p,r,v,D):a.call(a,
b,c,d,e,h,f,k,l,m,n,p,r,v,D);G=mb(T);var Z=S(T);if(null==Z)return a.Va?a.Va(b,c,d,e,h,f,k,l,m,n,p,r,v,D,G):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,v,D,G);T=mb(Z);var ia=S(Z);if(null==ia)return a.Wa?a.Wa(b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T);Z=mb(ia);var sa=S(ia);if(null==sa)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z);ia=mb(sa);var xa=S(sa);if(null==xa)return a.Ya?a.Ya(b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z,ia):a.call(a,b,
c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z,ia);sa=mb(xa);var Ia=S(xa);if(null==Ia)return a.Za?a.Za(b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z,ia,sa):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z,ia,sa);xa=mb(Ia);Ia=S(Ia);if(null==Ia)return a.$a?a.$a(b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z,ia,sa,xa):a.call(a,b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z,ia,sa,xa);b=[b,c,d,e,h,f,k,l,m,n,p,r,v,D,G,T,Z,ia,sa,xa];for(c=Ia;;)if(c)b.push(mb(c)),c=S(c);else break;return a.apply(a,b)}
function Fd(a){switch(arguments.length){case 2:return Se(arguments[0],arguments[1]);case 3:return Te(arguments[0],arguments[1],arguments[2]);case 4:return Ue(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ve(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new P(b.slice(5),0,null);return We(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Se(a,b){if(a.N){var c=a.K,d=Je(c+1,b);return d<=c?Me(a,d,b):a.N(b)}b=O(b);return null==b?a.J?a.J():a.call(a):Oe(a,mb(b),Ne(b))}function Te(a,b,c){if(a.N){b=qd(b,c);var d=a.K;c=Je(d,c)+1;return c<=d?Me(a,c,b):a.N(b)}return Oe(a,b,O(c))}function Ue(a,b,c,d){return a.N?(b=qd(b,qd(c,d)),c=a.K,d=2+Je(c-1,d),d<=c?Me(a,d,b):a.N(b)):Pe(a,b,c,O(d))}function Ve(a,b,c,d,e){return a.N?(b=qd(b,qd(c,qd(d,e))),c=a.K,e=3+Je(c-2,e),e<=c?Me(a,e,b):a.N(b)):Qe(a,b,c,d,O(e))}
function We(a,b,c,d,e,f){return a.N?(f=Ke(f),b=qd(b,qd(c,qd(d,qd(e,f)))),c=a.K,f=4+Je(c-3,f),f<=c?Me(a,f,b):a.N(b)):Re(a,b,c,d,e,Ke(f))}
function Xe(){if("undefined"===typeof Da||"undefined"===typeof Ea||"undefined"===typeof Fa)Fa=function(a){this.cd=a;this.F=393216;this.O=0},Fa.prototype.ha=function(a,b){return new Fa(b)},Fa.prototype.da=function(){return this.cd},Fa.prototype.ra=function(){return!1},Fa.prototype.next=function(){return Error("No such element")},Fa.prototype.remove=function(){return Error("Unsupported operation")},Fa.zb=!0,Fa.ib="cljs.core/t_cljs$core23310",Fa.Kb=function(a){return bc(a,"cljs.core/t_cljs$core23310")};
return new Fa($e)}var af={},bf={};function cf(a){this.Fb=af;this._next=a}cf.prototype.ra=function(){this.Fb===af?(this.Fb=bf,this._next=O(this._next)):this.Fb===this._next&&(this._next=S(this.Fb));return null!=this._next};cf.prototype.next=function(){if(this.ra())return this.Fb=this._next,R(this._next);throw Error("No such element");};cf.prototype.remove=function(){return Error("Unsupported operation")};
function df(a,b){for(;;){if(null==O(b))return!0;var c=R(b);c=a.f?a.f(c):a.call(null,c);if(x(c))b=S(b);else return!1}}function ef(a){for(var b=ke;;)if(a=O(a)){var c=R(a);c=b.f?b.f(c):b.call(null,c);if(x(c))return c;a=S(a)}else return null}
function ff(a){return function(){function b(h,k){return Qa(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return Qa(a.f?a.f(h):a.call(null,h))}function d(){return Qa(a.J?a.J():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var r=Array(arguments.length-2);p<r.length;)r[p]=arguments[p+2],++p;p=new P(r,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return Qa(Ue(a,l,m,n))}h.K=2;h.N=function(l){var m=R(l);l=S(l);var n=R(l);l=Qc(l);return k(m,n,l)};
h.I=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new P(n,0,null)}return f.I(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.K=2;e.N=f.N;e.J=d;e.f=c;e.j=b;e.I=f.I;return e}()}
var gf=function gf(a){switch(arguments.length){case 0:return gf.J();case 1:return gf.f(arguments[0]);case 2:return gf.j(arguments[0],arguments[1]);case 3:return gf.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(3),0,null);return gf.I(arguments[0],arguments[1],arguments[2],c)}};gf.J=function(){return ke};gf.f=function(a){return a};
gf.j=function(a,b){return function(){function c(l,m,n){l=b.C?b.C(l,m,n):b.call(null,l,m,n);return a.f?a.f(l):a.call(null,l)}function d(l,m){l=b.j?b.j(l,m):b.call(null,l,m);return a.f?a.f(l):a.call(null,l)}function e(l){l=b.f?b.f(l):b.call(null,l);return a.f?a.f(l):a.call(null,l)}function f(){var l=b.J?b.J():b.call(null);return a.f?a.f(l):a.call(null,l)}var h=null,k=function(){function l(n,p,r,v){var D=null;if(3<arguments.length){D=0;for(var G=Array(arguments.length-3);D<G.length;)G[D]=arguments[D+
3],++D;D=new P(G,0,null)}return m.call(this,n,p,r,D)}function m(n,p,r,v){n=Ve(b,n,p,r,v);return a.f?a.f(n):a.call(null,n)}l.K=3;l.N=function(n){var p=R(n);n=S(n);var r=R(n);n=S(n);var v=R(n);n=Qc(n);return m(p,r,v,n)};l.I=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var v=Array(arguments.length-3);r<v.length;)v[r]=arguments[r+
3],++r;r=new P(v,0,null)}return k.I(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};h.K=3;h.N=k.N;h.J=f;h.f=e;h.j=d;h.C=c;h.I=k.I;return h}()};
gf.C=function(a,b,c){return function(){function d(m,n,p){m=c.C?c.C(m,n,p):c.call(null,m,n,p);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function e(m,n){m=c.j?c.j(m,n):c.call(null,m,n);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function f(m){m=c.f?c.f(m):c.call(null,m);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function h(){var m=c.J?c.J():c.call(null);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}var k=null,l=function(){function m(p,
r,v,D){var G=null;if(3<arguments.length){G=0;for(var T=Array(arguments.length-3);G<T.length;)T[G]=arguments[G+3],++G;G=new P(T,0,null)}return n.call(this,p,r,v,G)}function n(p,r,v,D){p=Ve(c,p,r,v,D);p=b.f?b.f(p):b.call(null,p);return a.f?a.f(p):a.call(null,p)}m.K=3;m.N=function(p){var r=R(p);p=S(p);var v=R(p);p=S(p);var D=R(p);p=Qc(p);return n(r,v,D,p)};m.I=n;return m}();k=function(m,n,p,r){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var D=Array(arguments.length-3);v<D.length;)D[v]=arguments[v+3],++v;v=new P(D,0,null)}return l.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};k.K=3;k.N=l.N;k.J=h;k.f=f;k.j=e;k.C=d;k.I=l.I;return k}()};
gf.I=function(a,b,c,d){var e=qe(qd(a,qd(b,qd(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new P(m,0,null)}return h.call(this,l)}function h(k){k=Se(R(e),k);for(var l=S(e);;)if(l){var m=R(l);k=m.f?m.f(k):m.call(null,k);l=S(l)}else return k}f.K=0;f.N=function(k){k=O(k);return h(k)};f.I=h;return f}()};gf.N=function(a){var b=R(a),c=S(a);a=R(c);var d=S(c);c=R(d);d=S(d);return this.I(b,a,c,d)};
gf.K=3;function hf(a,b){return new Be(null,function(){var c=O(b);if(c){if(Vd(c)){for(var d=qc(c),e=V(d),f=Fe(e),h=0;;)if(h<e){var k=function(){var l=jb(d,h);return a.f?a.f(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return He(f.sa(),hf(a,rc(c)))}e=function(){var l=R(c);return a.f?a.f(l):a.call(null,l)}();return null==e?hf(a,Qc(c)):qd(e,hf(a,Qc(c)))}return null},null)}function jf(a){this.state=a;this.wa=this.validator=this.meta=null;this.O=16386;this.F=6455296}g=jf.prototype;
g.fa=function(a,b){return this===b};g.Na=function(){return this.state};g.da=function(){return this.meta};g.jc=function(a,b){for(var c=O(this.wa),d=null,e=0,f=0;;)if(f<e){var h=d.$(null,f),k=X(h,0,null);h=X(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=O(c))Vd(c)?(d=qc(c),c=rc(c),k=d,e=V(d),d=k):(d=R(c),k=X(d,0,null),h=X(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=S(c),d=null,e=0),f=0;else break};g.Tb=function(a,b,c){this.wa=Ad.C(this.wa,b,c);return this};
g.Ub=function(a,b){return this.wa=Cd.j(this.wa,b)};g.ia=function(){return fa(this)};function kf(a,b){if(a instanceof jf){var c=a.validator;if(null!=c&&!x(c.f?c.f(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.wa&&a.jc(c,b);return b}return sc(a,b)}
var lf=function lf(a){switch(arguments.length){case 2:return lf.j(arguments[0],arguments[1]);case 3:return lf.C(arguments[0],arguments[1],arguments[2]);case 4:return lf.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(4),0,null);return lf.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
lf.j=function(a,b){if(a instanceof jf){var c=a.state;b=b.f?b.f(c):b.call(null,c);a=kf(a,b)}else a=tc(a,b);return a};lf.C=function(a,b,c){if(a instanceof jf){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=kf(a,b)}else a=tc(a,b,c);return a};lf.T=function(a,b,c,d){if(a instanceof jf){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=kf(a,b)}else a=tc(a,b,c,d);return a};lf.I=function(a,b,c,d,e){return a instanceof jf?kf(a,Ve(b,a.state,c,d,e)):tc(a,b,c,d,e)};
lf.N=function(a){var b=R(a),c=S(a);a=R(c);var d=S(c);c=R(d);var e=S(d);d=R(e);e=S(e);return this.I(b,a,c,d,e)};lf.K=4;function mf(a){this.state=a;this.F=32768;this.O=0}mf.prototype.Na=function(){return this.state};
var nf=function nf(a){switch(arguments.length){case 1:return nf.f(arguments[0]);case 2:return nf.j(arguments[0],arguments[1]);case 3:return nf.C(arguments[0],arguments[1],arguments[2]);case 4:return nf.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(4),0,null);return nf.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
nf.f=function(a){return function(b){return function(){function c(k,l){l=a.f?a.f(l):a.call(null,l);return b.j?b.j(k,l):b.call(null,k,l)}function d(k){return b.f?b.f(k):b.call(null,k)}function e(){return b.J?b.J():b.call(null)}var f=null,h=function(){function k(m,n,p){var r=null;if(2<arguments.length){r=0;for(var v=Array(arguments.length-2);r<v.length;)v[r]=arguments[r+2],++r;r=new P(v,0,null)}return l.call(this,m,n,r)}function l(m,n,p){n=Te(a,n,p);return b.j?b.j(m,n):b.call(null,m,n)}k.K=2;k.N=function(m){var n=
R(m);m=S(m);var p=R(m);m=Qc(m);return l(n,p,m)};k.I=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new P(p,0,null)}return h.I(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.K=2;f.N=h.N;f.J=e;f.f=d;f.j=c;f.I=h.I;return f}()}};
nf.j=function(a,b){return new Be(null,function(){var c=O(b);if(c){if(Vd(c)){for(var d=qc(c),e=V(d),f=Fe(e),h=0;;)if(h<e)Ie(f,function(){var k=jb(d,h);return a.f?a.f(k):a.call(null,k)}()),h+=1;else break;return He(f.sa(),nf.j(a,rc(c)))}return qd(function(){var k=R(c);return a.f?a.f(k):a.call(null,k)}(),nf.j(a,Qc(c)))}return null},null)};
nf.C=function(a,b,c){return new Be(null,function(){var d=O(b),e=O(c);if(d&&e){var f=R(d);var h=R(e);f=a.j?a.j(f,h):a.call(null,f,h);d=qd(f,nf.C(a,Qc(d),Qc(e)))}else d=null;return d},null)};nf.T=function(a,b,c,d){return new Be(null,function(){var e=O(b),f=O(c),h=O(d);if(e&&f&&h){var k=R(e);var l=R(f),m=R(h);k=a.C?a.C(k,l,m):a.call(null,k,l,m);e=qd(k,nf.T(a,Qc(e),Qc(f),Qc(h)))}else e=null;return e},null)};
nf.I=function(a,b,c,d,e){return nf.j(function(f){return Se(a,f)},function k(h){return new Be(null,function(){var l=nf.j(O,h);return df(ke,l)?qd(nf.j(R,l),k(nf.j(Qc,l))):null},null)}(wd.I(e,d,rd([c,b]))))};nf.N=function(a){var b=R(a),c=S(a);a=R(c);var d=S(c);c=R(d);var e=S(d);d=R(e);e=S(e);return this.I(b,a,c,d,e)};nf.K=4;
var of=function of(a){switch(arguments.length){case 1:return of.f(arguments[0]);case 2:return of.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};
of.f=function(a){return function(b){var c=new mf(a);return function(){function d(k,l){var m=Ib(c);var n=c.Na(null)-1;n=c.state=n;k=0<m?b.j?b.j(k,l):b.call(null,k,l):k;return 0<n?k:bd(k)?k:new ad(k)}function e(k){return b.f?b.f(k):b.call(null,k)}function f(){return b.J?b.J():b.call(null)}var h=null;h=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};h.J=f;h.f=e;h.j=d;return h}()}};
of.j=function(a,b){return new Be(null,function(){if(0<a){var c=O(b);return c?qd(R(c),of.j(a-1,Qc(c))):null}return null},null)};of.K=2;function pf(a,b){return new Be(null,function(){a:for(var c=a,d=b;;)if(d=O(d),0<c&&d)--c,d=Qc(d);else break a;return d},null)}function qf(a){return nf.C(function(b){return b},a,pf(2,a))}
function rf(a,b){return new Be(null,function(){var c=O(b);if(c){if(Vd(c)){for(var d=qc(c),e=V(d),f=Fe(e),h=0;;)if(h<e){var k=jb(d,h);k=a.f?a.f(k):a.call(null,k);x(k)&&(k=jb(d,h),f.add(k));h+=1}else break;return He(f.sa(),rf(a,rc(c)))}d=R(c);c=Qc(c);return x(a.f?a.f(d):a.call(null,d))?qd(d,rf(a,c)):rf(a,c)}return null},null)}function sf(a,b){return rf(ff(a),b)}
var tf=function tf(a){switch(arguments.length){case 0:return tf.J();case 1:return tf.f(arguments[0]);case 2:return tf.j(arguments[0],arguments[1]);case 3:return tf.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};tf.J=function(){return xd};tf.f=function(a){return a};tf.j=function(a,b){return null!=a?null!=a&&(a.O&4||u===a.Oc)?Lb(lc(Xa(kc,jc(a),b)),Hd(a)):Xa(hb,a,b):Xa(wd,a,b)};
tf.C=function(a,b,c){return null!=a&&(a.O&4||u===a.Oc)?Lb(lc(le(b,Le,jc(a),c)),Hd(a)):le(b,wd,a,c)};tf.K=3;
var uf=function uf(a){switch(arguments.length){case 3:return uf.C(arguments[0],arguments[1],arguments[2]);case 4:return uf.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return uf.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return uf.Fa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(6),0,null);return uf.I(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};uf.C=function(a,b,c){return Ad.C(a,b,function(){var d=I.j(a,b);return c.f?c.f(d):c.call(null,d)}())};uf.T=function(a,b,c,d){return Ad.C(a,b,function(){var e=I.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};uf.aa=function(a,b,c,d,e){return Ad.C(a,b,function(){var f=I.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};
uf.Fa=function(a,b,c,d,e,f){return Ad.C(a,b,function(){var h=I.j(a,b);return c.T?c.T(h,d,e,f):c.call(null,h,d,e,f)}())};uf.I=function(a,b,c,d,e,f,h){return Ad.C(a,b,We(c,I.j(a,b),d,e,f,rd([h])))};uf.N=function(a){var b=R(a),c=S(a);a=R(c);var d=S(c);c=R(d);var e=S(d);d=R(e);var f=S(e);e=R(f);var h=S(f);f=R(h);h=S(h);return this.I(b,a,c,d,e,f,h)};uf.K=6;function vf(a,b){this.ba=a;this.B=b}
function wf(a){return new vf(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function xf(a){return new vf(a.ba,Va(a.B))}function yf(a){a=a.G;return 32>a?0:a-1>>>5<<5}function Cf(a,b,c){for(;;){if(0===b)return c;var d=wf(a);d.B[0]=c;c=d;b-=5}}
var Df=function Df(a,b,c,d){var f=xf(c),h=a.G-1>>>b&31;5===b?f.B[h]=d:(c=c.B[h],null!=c?(b-=5,a=Df.T?Df.T(a,b,c,d):Df.call(null,a,b,c,d)):a=Cf(null,b-5,d),f.B[h]=a);return f};function Ef(a,b){throw Error(["No item ",A.f(a)," in vector of length ",A.f(b)].join(""));}function Ff(a,b){if(b>=yf(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.B[b>>>a&31];a=d}else return c.B}function Gf(a,b){return 0<=b&&b<a.G?Ff(a,b):Ef(b,a.G)}
var Hf=function Hf(a,b,c,d,e){var h=xf(c);if(0===b)h.B[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.B[k];a=Hf.aa?Hf.aa(a,b,c,d,e):Hf.call(null,a,b,c,d,e);h.B[k]=a}return h},If=function If(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.B[e];a=If.C?If.C(a,b,f):If.call(null,a,b,f);if(null==a&&0===e)return null;c=xf(c);c.B[e]=a;return c}if(0===e)return null;c=xf(c);c.B[e]=null;return c};function Jf(a,b,c,d,e,f){this.i=a;this.base=b;this.B=c;this.v=d;this.start=e;this.end=f}
Jf.prototype.ra=function(){return this.i<this.end};Jf.prototype.next=function(){32===this.i-this.base&&(this.B=Ff(this.v,this.i),this.base+=32);var a=this.B[this.i&31];this.i+=1;return a};function Kf(a,b,c){return new Jf(b,b-b%32,b<V(a)?Ff(a,b):null,a,b,c)}function Lf(a,b,c,d){return c<d?Mf(a,b,kd(a,c),c+1,d):b.J?b.J():b.call(null)}
function Mf(a,b,c,d,e){var f=c;c=d;for(d=Ff(a,d);;)if(c<e){var h=c&31;d=0===h?Ff(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(bd(f))return Ib(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.P=f;this.F=167666463;this.O=139268}g=Y.prototype;g.ub=function(a,b){return 0<=b&&b<this.G?new Nf(b,Ff(this,b)[b&31]):null};g.toString=function(){return Ac(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.ga=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.oa(null,b,c):c};
g.Gb=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=Ff(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(bd(d)){e=d;break a}f+=1}else{e=d;break a}if(bd(e))return Ib(e);a+=c;d=e}else return d};g.ac=u;g.$=function(a,b){return Gf(this,b)[b&31]};g.oa=function(a,b,c){return 0<=b&&b<this.G?Ff(this,b)[b&31]:c};
g.nb=function(a,b,c){if(0<=b&&b<this.G)return yf(this)<=b?(a=Va(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,Hf(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.pa(null,c);throw Error(["Index ",A.f(b)," out of bounds  [0,",A.f(this.G),"]"].join(""));};g.Ea=function(){return Kf(this,0,this.G)};g.da=function(){return this.meta};g.la=function(){return this.G};g.vb=function(){return 0<this.G?this.$(null,this.G-1):null};
g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return Lb(xd,this.meta);if(1<this.G-yf(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Ff(this,this.G-2),b=If(this,this.shift,this.root);b=null==b?Ye:b;var c=this.G-1;return 5<this.shift&&null==b.B[1]?new Y(this.meta,c,this.shift-5,b.B[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};g.Ib=function(){return 0<this.G?new od(this,this.G-1,null):null};
g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===V(b))for(a=this.Ea(null),b=b.Ea(null);;)if(a.ra()){var c=a.next(),d=b.next();if(!Sc.j(c,d))return!1}else return!0;else return!1;else return pd(this,b)};g.tb=function(){return new Of(this.G,this.shift,Pf.f?Pf.f(this.root):Pf.call(null,this.root),Qf.f?Qf.f(this.tail):Qf.call(null,this.tail))};g.na=function(){return Lb(xd,this.meta)};g.ta=function(a,b){return Lf(this,b,0,this.G)};
g.ua=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=Ff(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(bd(d)){e=d;break a}f+=1}else{e=d;break a}if(bd(e))return Ib(e);a+=c;d=e}else return d};g.Pa=function(a,b,c){if("number"===typeof b)return this.nb(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new P(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.B[0];else{a=a.B;break a}}return Rf?Rf(this,a,0,0):Sf.call(null,this,a,0,0)};g.ha=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.P)};
g.pa=function(a,b){if(32>this.G-yf(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=wf(null),c.B[0]=this.root,d=Cf(null,this.shift,new vf(null,this.tail)),c.B[1]=d):c=Df(this,this.shift,this.root,new vf(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.$(null,c);case 3:return this.oa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.$(null,c)};a.C=function(b,c,d){return this.oa(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.$(null,a)};g.j=function(a,b){return this.oa(null,a,b)};
var Ye=new vf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),xd=new Y(null,0,5,Ye,[],Xc);function Tf(a,b){var c=a.length;a=b?a:Va(a);if(32>c)return new Y(null,c,5,Ye,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Ye,d,null)).tb(null);;)if(b<c)d=b+1,e=Le.j(e,a[b]),b=d;else return lc(e)}Y.prototype[Sa]=function(){return Uc(this)};
function Uf(a){return x(Vf.f?Vf.f(a):Vf.call(null,a))?new Y(null,2,5,Ye,[Wf.f?Wf.f(a):Wf.call(null,a),Xf.f?Xf.f(a):Xf.call(null,a)],null):Ud(a)?Gd(a,null):Pa(a)?Tf(a,!0):lc(Xa(kc,jc(xd),a))}var Yf=function Yf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new P(c.slice(0),0,null):null;return Yf.I(c)};Yf.I=function(a){return a instanceof P&&0===a.i?Tf(a.B,!Pa(a.B)):Uf(a)};Yf.K=0;Yf.N=function(a){return this.I(O(a))};
function Zf(a,b,c,d,e){this.Da=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.P=null;this.F=32375020;this.O=1536}g=Zf.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){if(this.off+1<this.node.length){var a=this.Da;var b=this.node,c=this.i,d=this.off+1;a=Rf?Rf(a,b,c,d):Sf.call(null,a,b,c,d);return null==a?null:a}return this.sc()};
g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};g.ta=function(a,b){return Lf(this.Da,b,this.i+this.off,V(this.Da))};g.ua=function(a,b,c){return Mf(this.Da,b,c,this.i+this.off,V(this.Da))};g.xa=function(){return this.node[this.off]};g.ya=function(){if(this.off+1<this.node.length){var a=this.Da;var b=this.node,c=this.i,d=this.off+1;a=Rf?Rf(a,b,c,d):Sf.call(null,a,b,c,d);return null==a?Rc:a}return this.Rb(null)};g.ja=function(){return this};
g.bc=function(){var a=this.node;return new Ee(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<db(this.Da)){var b=this.Da,c=Ff(this.Da,a);return Rf?Rf(b,c,a,0):Sf.call(null,b,c,a,0)}return Rc};g.ha=function(a,b){return b===this.meta?this:$f?$f(this.Da,this.node,this.i,this.off,b):Sf.call(null,this.Da,this.node,this.i,this.off,b)};g.pa=function(a,b){return qd(b,this)};
g.sc=function(){var a=this.i+this.node.length;if(a<db(this.Da)){var b=this.Da,c=Ff(this.Da,a);return Rf?Rf(b,c,a,0):Sf.call(null,b,c,a,0)}return null};Zf.prototype[Sa]=function(){return Uc(this)};
function Sf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Zf(b,Gf(b,c),c,d,null);case 4:return Rf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return $f(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}}function Rf(a,b,c,d){return new Zf(a,b,c,d,null)}function $f(a,b,c,d,e){return new Zf(a,b,c,d,e)}
function ag(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.P=e;this.F=167666463;this.O=139264}g=ag.prototype;g.ub=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Nf(b,rb(this.v,a)):null};g.toString=function(){return Ac(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.ga=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.oa(null,b,c):c};
g.Gb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=jb(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(bd(c))return Ib(c);d+=1;a+=1}else return c};g.$=function(a,b){return 0>b||this.end<=this.start+b?Ef(b,this.end-this.start):jb(this.v,this.start+b)};g.oa=function(a,b,c){return 0>b||this.end<=this.start+b?c:jb(this.v,this.start+b,c)};
g.nb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",A.f(b)," out of bounds [0,",A.f(this.la(null)),"]"].join(""));b=this.meta;c=Ad.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return bg.aa?bg.aa(b,c,d,a,null):bg.call(null,b,c,d,a,null)};g.Ea=function(){return null!=this.v&&u===this.v.ac?Kf(this.v,this.start,this.end):new cf(this)};g.da=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:jb(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return bg.aa?bg.aa(a,b,c,d,null):bg.call(null,a,b,c,d,null)};g.Ib=function(){return this.start!==this.end?new od(this,this.end-this.start-1,null):null};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};g.fa=function(a,b){return pd(this,b)};g.na=function(){return Lb(xd,this.meta)};
g.ta=function(a,b){return null!=this.v&&u===this.v.ac?Lf(this.v,b,this.start,this.end):dd(this,b)};g.ua=function(a,b,c){return null!=this.v&&u===this.v.ac?Mf(this.v,b,c,this.start,this.end):ed(this,b,c)};g.Pa=function(a,b,c){if("number"===typeof b)return this.nb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ja=function(){var a=this;return function d(c){return c===a.end?null:qd(jb(a.v,c),new Be(null,function(){return d(c+1)},null))}(a.start)};
g.ha=function(a,b){return b===this.meta?this:bg.aa?bg.aa(b,this.v,this.start,this.end,this.P):bg.call(null,b,this.v,this.start,this.end,this.P)};g.pa=function(a,b){a=this.meta;b=Hb(this.v,this.end,b);var c=this.start,d=this.end+1;return bg.aa?bg.aa(a,b,c,d,null):bg.call(null,a,b,c,d,null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.$(null,c);case 3:return this.oa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.$(null,c)};a.C=function(b,c,d){return this.oa(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.$(null,a)};g.j=function(a,b){return this.oa(null,a,b)};ag.prototype[Sa]=function(){return Uc(this)};
function bg(a,b,c,d,e){for(;;)if(b instanceof ag)c=b.start+c,d=b.start+d,b=b.v;else{if(!Ud(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>V(b))throw Error("Index out of bounds");return new ag(a,b,c,d,e)}}function cg(a,b){return a===b.ba?b:new vf(a,Va(b.B))}function Pf(a){return new vf({},Va(a.B))}
function Qf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Wd(a,0,b,0,a.length);return b}var dg=function dg(a,b,c,d){c=cg(a.root.ba,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.B[f];null!=h?(b-=5,a=dg.T?dg.T(a,b,h,d):dg.call(null,a,b,h,d)):a=Cf(a.root.ba,b-5,d)}c.B[f]=a;return c};function Of(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.O=88;this.F=275}g=Of.prototype;
g.yb=function(a,b){if(this.root.ba){if(32>this.G-yf(this))this.tail[this.G&31]=b;else{a=new vf(this.root.ba,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Cf(this.root.ba,this.shift,a),this.root=new vf(this.root.ba,b),this.shift=c):this.root=dg(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Jb=function(){if(this.root.ba){this.root.ba=null;var a=this.G-yf(this),b=Array(a);Wd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return eg(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function eg(a,b,c){if(a.root.ba){if(0<=b&&b<a.G){if(yf(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=cg(a.root.ba,h);if(0===f)h.B[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.B[l]);h.B[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",A.f(b)," out of bounds for TransientVector of length",A.f(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.ba)return this.G;throw Error("count after persistent!");};
g.$=function(a,b){if(this.root.ba)return Gf(this,b)[b&31];throw Error("nth after persistent!");};g.oa=function(a,b,c){return 0<=b&&b<this.G?this.$(null,b):c};g.ga=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.root.ba)return"number"===typeof b?this.oa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.ga(null,c);case 3:return this.R(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.ga(null,c)};a.C=function(b,c,d){return this.R(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.ga(null,a)};g.j=function(a,b){return this.R(null,a,b)};function fg(){this.F=2097152;this.O=0}fg.prototype.fa=function(){return!1};
var gg=new fg;function hg(a,b){return Yd(Sd(b)&&!Td(b)?V(a)===V(b)?(null!=a?a.F&1048576||u===a.td||(a.F?0:y(Qb,a)):y(Qb,a))?je(function(c,d,e){return Sc.j(I.C(b,d,gg),e)?!0:new ad(!1)},!0,a):df(function(c){return Sc.j(I.C(b,R(c),gg),R(S(c)))},a):null:null)}function ig(a){this.s=a}ig.prototype.next=function(){if(null!=this.s){var a=R(this.s),b=X(a,0,null);a=X(a,1,null);this.s=S(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function jg(a){this.s=a}
jg.prototype.next=function(){if(null!=this.s){var a=R(this.s);this.s=S(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Bd(a,b){if(b instanceof N)a:{var c=a.length;b=b.Aa;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof N&&b===a[d].Aa){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Mc)a:for(c=a.length,b=b.Oa,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Mc&&b===a[d].Oa){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(Sc.j(b,a[d])){a=d;break a}d+=2}return a}function Nf(a,b){this.key=a;this.ka=b;this.P=null;this.F=166619935;this.O=0}g=Nf.prototype;g.ub=function(a,b){switch(b){case 0:return new Nf(0,this.key);case 1:return new Nf(1,this.ka);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.ga=function(a,b){return this.oa(null,b,null)};g.R=function(a,b,c){return this.oa(null,b,c)};g.$=function(a,b){if(0===b)return this.key;if(1===b)return this.ka;throw Error("Index out of bounds");};
g.oa=function(a,b,c){return 0===b?this.key:1===b?this.ka:c};g.nb=function(a,b,c){return(new Y(null,2,5,Ye,[this.key,this.ka],null)).nb(null,b,c)};g.da=function(){return null};g.la=function(){return 2};g.Uc=function(){return this.key};g.Vc=function(){return this.ka};g.vb=function(){return this.ka};g.wb=function(){return new Y(null,1,5,Ye,[this.key],null)};g.Ib=function(){return new P([this.ka,this.key],0,null)};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};
g.fa=function(a,b){return pd(this,b)};g.na=function(){return null};g.ta=function(a,b){return dd(this,b)};g.ua=function(a,b,c){return ed(this,b,c)};g.Pa=function(a,b,c){return Ad.C(new Y(null,2,5,Ye,[this.key,this.ka],null),b,c)};g.ja=function(){return new P([this.key,this.ka],0,null)};g.ha=function(a,b){return Gd(new Y(null,2,5,Ye,[this.key,this.ka],null),b)};g.pa=function(a,b){return new Y(null,3,5,Ye,[this.key,this.ka,b],null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.$(null,c);case 3:return this.oa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.$(null,c)};a.C=function(b,c,d){return this.oa(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.$(null,a)};g.j=function(a,b){return this.oa(null,a,b)};function Vf(a){return null!=a?a.F&2048||u===a.wd?!0:!1:!1}
function kg(a,b,c){this.B=a;this.i=b;this.La=c;this.F=32374990;this.O=0}g=kg.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.La};g.qa=function(){return this.i<this.B.length-2?new kg(this.B,this.i+2,null):null};g.la=function(){return(this.B.length-this.i)/2};g.ia=function(){return Wc(this)};
g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return new Nf(this.B[this.i],this.B[this.i+1])};g.ya=function(){return this.i<this.B.length-2?new kg(this.B,this.i+2,null):Rc};g.ja=function(){return this};g.ha=function(a,b){return b===this.La?this:new kg(this.B,this.i,b)};g.pa=function(a,b){return qd(b,this)};kg.prototype[Sa]=function(){return Uc(this)};
function lg(a,b){this.B=a;this.i=0;this.G=b}lg.prototype.ra=function(){return this.i<this.G};lg.prototype.next=function(){var a=new Nf(this.B[this.i],this.B[this.i+1]);this.i+=2;return a};function w(a,b,c,d){this.meta=a;this.G=b;this.B=c;this.P=d;this.F=16647951;this.O=139268}g=w.prototype;g.ub=function(a,b){a=Bd(this.B,b);return-1===a?null:new Nf(this.B[a],this.B[a+1])};g.toString=function(){return Ac(this)};g.keys=function(){return Uc(mg.f?mg.f(this):mg.call(null,this))};g.entries=function(){return new ig(O(O(this)))};
g.values=function(){return Uc(ng.f?ng.f(this):ng.call(null,this))};g.has=function(a){return $d(this,a)};g.get=function(a,b){return this.R(null,a,b)};g.forEach=function(a){for(var b=O(this),c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e),h=X(f,0,null);f=X(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=O(b))Vd(b)?(c=qc(b),b=rc(b),h=c,d=V(c),c=h):(c=R(b),h=X(c,0,null),f=X(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=S(b),c=null,d=0),e=0;else return null};g.ga=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){a=Bd(this.B,b);return-1===a?c:this.B[a+1]};g.Gb=function(a,b,c){a=this.B.length;for(var d=0;;)if(d<a){var e=this.B[d],f=this.B[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(bd(c))return Ib(c);d+=2}else return c};g.Ea=function(){return new lg(this.B,2*this.G)};g.da=function(){return this.meta};g.la=function(){return this.G};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Yc(this)};
g.fa=function(a,b){if(Sd(b)&&!Td(b))if(a=this.B.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.R(null,this.B[c],Xd);if(d!==Xd)if(Sc.j(this.B[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.tb=function(){return new og(this.B.length,Va(this.B))};g.na=function(){return Lb($e,this.meta)};g.ta=function(a,b){return ge(this,b)};g.ua=function(a,b,c){return he(this,b,c)};
g.cc=function(a,b){if(0<=Bd(this.B,b)){a=this.B.length;var c=a-2;if(0===c)return this.na(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new w(this.meta,this.G-1,c,null);Sc.j(b,this.B[d])?d+=2:(c[e]=this.B[d],c[e+1]=this.B[d+1],e+=2,d+=2)}}else return this};
g.Pa=function(a,b,c){a=Bd(this.B,b);if(-1===a){if(this.G<pg){a=this.B;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new w(this.meta,this.G+1,e,null)}return Lb(vb(tf.j(qg,this),b,c),this.meta)}if(c===this.B[a+1])return this;b=Va(this.B);b[a+1]=c;return new w(this.meta,this.G,b,null)};g.ja=function(){var a=this.B;return 0<=a.length-2?new kg(a,0,null):null};g.ha=function(a,b){return b===this.meta?this:new w(b,this.G,this.B,this.P)};
g.pa=function(a,b){if(Ud(b))return this.Pa(null,jb(b,0),jb(b,1));a=this;for(b=O(b);;){if(null==b)return a;var c=R(b);if(Ud(c))a=vb(a,jb(c,0),jb(c,1)),b=S(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.ga(null,c);case 3:return this.R(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.ga(null,c)};a.C=function(b,c,d){return this.R(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.ga(null,a)};g.j=function(a,b){return this.R(null,a,b)};var $e=new w(null,0,[],Zc),pg=8;w.prototype[Sa]=function(){return Uc(this)};
function og(a,b){this.Cb={};this.qb=a;this.B=b;this.F=259;this.O=56}g=og.prototype;g.la=function(){if(this.Cb)return ne(this.qb,2);throw Error("count after persistent!");};g.ga=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.Cb)return a=Bd(this.B,b),-1===a?c:this.B[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.Cb){if(Vf(b))return this.xb(null,Wf.f?Wf.f(b):Wf.call(null,b),Xf.f?Xf.f(b):Xf.call(null,b));if(Ud(b))return this.xb(null,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));a=O(b);for(b=this;;){var c=R(a);if(x(c))a=S(a),b=mc(b,Wf.f?Wf.f(c):Wf.call(null,c),Xf.f?Xf.f(c):Xf.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Jb=function(){if(this.Cb)return this.Cb=!1,new w(null,ne(this.qb,2),this.B,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.Cb){a=Bd(this.B,b);if(-1===a){if(this.qb+2<=2*pg)return this.qb+=2,this.B.push(b),this.B.push(c),this;a=rg.j?rg.j(this.qb,this.B):rg.call(null,this.qb,this.B);return mc(a,b,c)}c!==this.B[a+1]&&(this.B[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.R(null,c,null);case 3:return this.R(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.R(null,c,null)};a.C=function(b,c,d){return this.R(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.R(null,a,null)};g.j=function(a,b){return this.R(null,a,b)};
function rg(a,b){for(var c=jc(qg),d=0;;)if(d<a)c=mc(c,b[d],b[d+1]),d+=2;else return c}function sg(){this.ka=!1}function tg(a,b){return a===b?!0:a===b||a instanceof N&&b instanceof N&&a.Aa===b.Aa?!0:Sc.j(a,b)}function ug(a,b,c){a=Va(a);a[b]=c;return a}function vg(a,b){var c=Array(a.length-2);Wd(a,0,c,0,2*b);Wd(a,2*(b+1),c,2*b,c.length-2*b);return c}function wg(a,b,c,d){a=a.ob(b);a.B[c]=d;return a}
function xg(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Ob(b,f):f;if(bd(c))return c;e+=2;f=c}else return f}function yg(a){this.B=a;this.i=0;this.Ka=this.Pb=null}yg.prototype.advance=function(){for(var a=this.B.length;;)if(this.i<a){var b=this.B[this.i],c=this.B[this.i+1];null!=b?b=this.Pb=new Nf(b,c):null!=c?(b=wc(c),b=b.ra()?this.Ka=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
yg.prototype.ra=function(){var a=null!=this.Pb;return a?a:(a=null!=this.Ka)?a:this.advance()};yg.prototype.next=function(){if(null!=this.Pb){var a=this.Pb;this.Pb=null;return a}if(null!=this.Ka)return a=this.Ka.next(),this.Ka.ra()||(this.Ka=null),a;if(this.advance())return this.next();throw Error("No such element");};yg.prototype.remove=function(){return Error("Unsupported operation")};function zg(a,b,c){this.ba=a;this.bitmap=b;this.B=c;this.O=131072;this.F=0}g=zg.prototype;
g.ob=function(a){if(a===this.ba)return this;var b=oe(this.bitmap),c=Array(0>b?4:2*(b+1));Wd(this.B,0,c,0,2*b);return new zg(a,this.bitmap,c)};g.Mb=function(){return Ag?Ag(this.B):Bg.call(null,this.B)};g.Ob=function(a,b){return xg(this.B,a,b)};g.pb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=oe(this.bitmap&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.pb(a+5,b,c,d):tg(c,e)?f:d};
g.Ia=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=oe(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=oe(this.bitmap);if(2*l<this.B.length){a=this.ob(a);b=a.B;f.ka=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Cg.Ia(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.B[e]?Cg.Ia(a,b+5,Jc(this.B[e]),this.B[e],this.B[e+1],f):this.B[e+1],e+=2,d+=1);else break;return new Dg(a,l+1,k)}b=Array(2*(l+4));Wd(this.B,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Wd(this.B,2*k,b,2*(k+1),2*(l-k));f.ka=!0;a=this.ob(a);a.B=b;a.bitmap|=h;return a}l=this.B[2*k];h=this.B[2*k+1];if(null==l)return l=h.Ia(a,b+5,c,d,e,f),l===h?this:wg(this,a,2*k+1,l);if(tg(d,l))return e===h?this:wg(this,a,2*k+1,e);f.ka=!0;f=b+5;d=Eg?Eg(a,f,l,h,c,d,e):Fg.call(null,a,f,
l,h,c,d,e);e=2*k;k=2*k+1;a=this.ob(a);a.B[e]=null;a.B[k]=d;return a};
g.Ha=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=oe(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=oe(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Cg.Ha(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.B[d]?Cg.Ha(a+5,Jc(this.B[d]),this.B[d],this.B[d+1],e):this.B[d+1],d+=2,c+=1);else break;return new Dg(null,k+1,h)}a=Array(2*
(k+1));Wd(this.B,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Wd(this.B,2*h,a,2*(h+1),2*(k-h));e.ka=!0;return new zg(null,this.bitmap|f,a)}var l=this.B[2*h];f=this.B[2*h+1];if(null==l)return k=f.Ha(a+5,b,c,d,e),k===f?this:new zg(null,this.bitmap,ug(this.B,2*h+1,k));if(tg(c,l))return d===f?this:new zg(null,this.bitmap,ug(this.B,2*h+1,d));e.ka=!0;e=this.bitmap;k=this.B;a+=5;a=Gg?Gg(a,l,f,b,c,d):Fg.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Va(k);d[c]=null;d[h]=a;return new zg(null,e,d)};
g.Lb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=oe(this.bitmap&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.Lb(a+5,b,c,d):tg(c,e)?new Nf(e,f):d};
g.Nb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=oe(this.bitmap&d-1),f=this.B[2*e],h=this.B[2*e+1];return null==f?(a=h.Nb(a+5,b,c),a===h?this:null!=a?new zg(null,this.bitmap,ug(this.B,2*e+1,a)):this.bitmap===d?null:new zg(null,this.bitmap^d,vg(this.B,e))):tg(c,f)?new zg(null,this.bitmap^d,vg(this.B,e)):this};g.Ea=function(){return new yg(this.B)};var Cg=new zg(null,0,[]);function Hg(a){this.B=a;this.i=0;this.Ka=null}
Hg.prototype.ra=function(){for(var a=this.B.length;;){if(null!=this.Ka&&this.Ka.ra())return!0;if(this.i<a){var b=this.B[this.i];this.i+=1;null!=b&&(this.Ka=wc(b))}else return!1}};Hg.prototype.next=function(){if(this.ra())return this.Ka.next();throw Error("No such element");};Hg.prototype.remove=function(){return Error("Unsupported operation")};function Dg(a,b,c){this.ba=a;this.G=b;this.B=c;this.O=131072;this.F=0}g=Dg.prototype;g.ob=function(a){return a===this.ba?this:new Dg(a,this.G,Va(this.B))};
g.Mb=function(){return Ig?Ig(this.B):Jg.call(null,this.B)};g.Ob=function(a,b){for(var c=this.B.length,d=0;;)if(d<c){var e=this.B[d];if(null!=e){b=e.Ob(a,b);if(bd(b))return b;d+=1}else d+=1}else return b};g.pb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.pb(a+5,b,c,d):d};g.Ia=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.B[h];if(null==k)return a=wg(this,a,h,Cg.Ia(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ia(a,b+5,c,d,e,f);return b===k?this:wg(this,a,h,b)};
g.Ha=function(a,b,c,d,e){var f=b>>>a&31,h=this.B[f];if(null==h)return new Dg(null,this.G+1,ug(this.B,f,Cg.Ha(a+5,b,c,d,e)));a=h.Ha(a+5,b,c,d,e);return a===h?this:new Dg(null,this.G,ug(this.B,f,a))};g.Lb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.Lb(a+5,b,c,d):d};
g.Nb=function(a,b,c){var d=b>>>a&31,e=this.B[d];if(null!=e){a=e.Nb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.B;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new zg(null,h,b);break a}}else d=new Dg(null,this.G-1,ug(this.B,d,a));else d=new Dg(null,this.G,ug(this.B,d,a));return d}return this};g.Ea=function(){return new Hg(this.B)};
function Kg(a,b,c){b*=2;for(var d=0;;)if(d<b){if(tg(c,a[d]))return d;d+=2}else return-1}function Lg(a,b,c,d){this.ba=a;this.eb=b;this.G=c;this.B=d;this.O=131072;this.F=0}g=Lg.prototype;g.ob=function(a){if(a===this.ba)return this;var b=Array(2*(this.G+1));Wd(this.B,0,b,0,2*this.G);return new Lg(a,this.eb,this.G,b)};g.Mb=function(){return Ag?Ag(this.B):Bg.call(null,this.B)};g.Ob=function(a,b){return xg(this.B,a,b)};
g.pb=function(a,b,c,d){a=Kg(this.B,this.G,c);return 0>a?d:tg(c,this.B[a])?this.B[a+1]:d};
g.Ia=function(a,b,c,d,e,f){if(c===this.eb){b=Kg(this.B,this.G,d);if(-1===b){if(this.B.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.B[b]=d,a.B[c]=e,f.ka=!0,a.G+=1,a;c=this.B.length;b=Array(c+2);Wd(this.B,0,b,0,c);b[c]=d;b[c+1]=e;f.ka=!0;d=this.G+1;a===this.ba?(this.B=b,this.G=d,a=this):a=new Lg(this.ba,this.eb,d,b);return a}return this.B[b+1]===e?this:wg(this,a,b+1,e)}return(new zg(a,1<<(this.eb>>>b&31),[null,this,null,null])).Ia(a,b,c,d,e,f)};
g.Ha=function(a,b,c,d,e){return b===this.eb?(a=Kg(this.B,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),Wd(this.B,0,b,0,a),b[a]=c,b[a+1]=d,e.ka=!0,new Lg(null,this.eb,this.G+1,b)):Sc.j(this.B[a+1],d)?this:new Lg(null,this.eb,this.G,ug(this.B,a+1,d))):(new zg(null,1<<(this.eb>>>a&31),[null,this])).Ha(a,b,c,d,e)};g.Lb=function(a,b,c,d){a=Kg(this.B,this.G,c);return 0>a?d:tg(c,this.B[a])?new Nf(this.B[a],this.B[a+1]):d};
g.Nb=function(a,b,c){a=Kg(this.B,this.G,c);return-1===a?this:1===this.G?null:new Lg(null,this.eb,this.G-1,vg(this.B,ne(a,2)))};g.Ea=function(){return new yg(this.B)};function Fg(a){switch(arguments.length){case 6:return Gg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Eg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}}
function Gg(a,b,c,d,e,f){var h=Jc(b);if(h===d)return new Lg(null,h,2,[b,c,e,f]);var k=new sg;return Cg.Ha(a,h,b,c,k).Ha(a,d,e,f,k)}function Eg(a,b,c,d,e,f,h){var k=Jc(c);if(k===e)return new Lg(null,k,2,[c,d,f,h]);var l=new sg;return Cg.Ia(a,b,k,c,d,l).Ia(a,b,e,f,h,l)}function Mg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.F=32374988;this.O=0}g=Mg.prototype;g.toString=function(){return Ac(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ng?Ng(a,b,null):Bg.call(null,a,b,null)}a=this.nodes;b=this.i;var c=S(this.s);return Ng?Ng(a,b,c):Bg.call(null,a,b,c)};
g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return null==this.s?new Nf(this.nodes[this.i],this.nodes[this.i+1]):R(this.s)};
g.ya=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ng?Ng(c,d,null):Bg.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=S(a.s);return Ng?Ng(c,d,e):Bg.call(null,c,d,e)}();return null!=b?b:Rc};g.ja=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Mg(b,this.nodes,this.i,this.s,this.P)};g.pa=function(a,b){return qd(b,this)};Mg.prototype[Sa]=function(){return Uc(this)};
function Bg(a){switch(arguments.length){case 1:return Ag(arguments[0]);case 3:return Ng(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}}function Ag(a){return Ng(a,0,null)}function Ng(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Mg(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Mb(),x(d)))return new Mg(null,a,b+2,d,null);b+=2}else return null;else return new Mg(null,a,b,c,null)}
function Og(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.F=32374988;this.O=0}g=Og.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.meta};g.qa=function(){var a=this.nodes,b=this.i,c=S(this.s);return Pg?Pg(a,b,c):Jg.call(null,a,b,c)};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Wc(this)};
g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return R(this.s)};g.ya=function(){var a=this.nodes;var b=this.i,c=S(this.s);a=Pg?Pg(a,b,c):Jg.call(null,a,b,c);return null!=a?a:Rc};g.ja=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Og(b,this.nodes,this.i,this.s,this.P)};g.pa=function(a,b){return qd(b,this)};Og.prototype[Sa]=function(){return Uc(this)};
function Jg(a){switch(arguments.length){case 1:return Ig(arguments[0]);case 3:return Pg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}}function Ig(a){return Pg(a,0,null)}function Pg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Mb(),x(d)))return new Og(null,a,b+1,d,null);b+=1}else return null;else return new Og(null,a,b,c,null)}function Qg(a,b){this.va=a;this.Jc=b;this.seen=!1}
Qg.prototype.ra=function(){return!this.seen||this.Jc.ra()};Qg.prototype.next=function(){if(this.seen)return this.Jc.next();this.seen=!0;return new Nf(null,this.va)};Qg.prototype.remove=function(){return Error("Unsupported operation")};function Rg(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.za=d;this.va=e;this.P=f;this.F=16123663;this.O=139268}g=Rg.prototype;g.ub=function(a,b){return null==b?this.za?new Nf(null,this.va):null:null==this.root?null:this.root.Lb(0,Jc(b),b,null)};g.toString=function(){return Ac(this)};
g.keys=function(){return Uc(mg.f?mg.f(this):mg.call(null,this))};g.entries=function(){return new ig(O(O(this)))};g.values=function(){return Uc(ng.f?ng.f(this):ng.call(null,this))};g.has=function(a){return $d(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=O(this),c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e),h=X(f,0,null);f=X(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=O(b))Vd(b)?(c=qc(b),b=rc(b),h=c,d=V(c),c=h):(c=R(b),h=X(c,0,null),f=X(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=S(b),c=null,d=0),e=0;else return null};g.ga=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return null==b?this.za?this.va:c:null==this.root?c:this.root.pb(0,Jc(b),b,c)};
g.Gb=function(a,b,c){a=this.za?b.C?b.C(c,null,this.va):b.call(null,c,null,this.va):c;bd(a)?b=Ib(a):null!=this.root?(b=this.root.Ob(b,a),b=bd(b)?cd.f?cd.f(b):cd.call(null,b):b):b=a;return b};g.Ea=function(){var a=this.root?wc(this.root):Xe();return this.za?new Qg(this.va,a):a};g.da=function(){return this.meta};g.la=function(){return this.G};g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Yc(this)};g.fa=function(a,b){return hg(this,b)};g.tb=function(){return new Sg(this.root,this.G,this.za,this.va)};
g.na=function(){return Lb(qg,this.meta)};g.cc=function(a,b){if(null==b)return this.za?new Rg(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Nb(0,Jc(b),b);return a===this.root?this:new Rg(this.meta,this.G-1,a,this.za,this.va,null)};
g.Pa=function(a,b,c){if(null==b)return this.za&&c===this.va?this:new Rg(this.meta,this.za?this.G:this.G+1,this.root,!0,c,null);a=new sg;b=(null==this.root?Cg:this.root).Ha(0,Jc(b),b,c,a);return b===this.root?this:new Rg(this.meta,a.ka?this.G+1:this.G,b,this.za,this.va,null)};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Mb():null;return this.za?qd(new Nf(null,this.va),a):a}return null};g.ha=function(a,b){return b===this.meta?this:new Rg(b,this.G,this.root,this.za,this.va,this.P)};
g.pa=function(a,b){if(Ud(b))return this.Pa(null,jb(b,0),jb(b,1));a=this;for(b=O(b);;){if(null==b)return a;var c=R(b);if(Ud(c))a=vb(a,jb(c,0),jb(c,1)),b=S(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.ga(null,c);case 3:return this.R(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.ga(null,c)};a.C=function(b,c,d){return this.R(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.ga(null,a)};g.j=function(a,b){return this.R(null,a,b)};var qg=new Rg(null,0,null,!1,null,Zc);Rg.prototype[Sa]=function(){return Uc(this)};
function Sg(a,b,c,d){this.ba={};this.root=a;this.count=b;this.za=c;this.va=d;this.F=259;this.O=56}function Tg(a,b,c){if(a.ba){if(null==b)a.va!==c&&(a.va=c),a.za||(a.count+=1,a.za=!0);else{var d=new sg;b=(null==a.root?Cg:a.root).Ia(a.ba,0,Jc(b),b,c,d);b!==a.root&&(a.root=b);d.ka&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Sg.prototype;g.la=function(){if(this.ba)return this.count;throw Error("count after persistent!");};
g.ga=function(a,b){return null==b?this.za?this.va:null:null==this.root?null:this.root.pb(0,Jc(b),b)};g.R=function(a,b,c){return null==b?this.za?this.va:c:null==this.root?c:this.root.pb(0,Jc(b),b,c)};
g.yb=function(a,b){a:if(this.ba)if(Vf(b))a=Tg(this,Wf.f?Wf.f(b):Wf.call(null,b),Xf.f?Xf.f(b):Xf.call(null,b));else if(Ud(b))a=Tg(this,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));else for(a=O(b),b=this;;){var c=R(a);if(x(c))a=S(a),b=Tg(b,Wf.f?Wf.f(c):Wf.call(null,c),Xf.f?Xf.f(c):Xf.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Jb=function(){if(this.ba){this.ba=null;var a=new Rg(null,this.count,this.root,this.za,this.va,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Tg(this,b,c)};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.ga(null,c);case 3:return this.R(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.ga(null,c)};a.C=function(b,c,d){return this.R(null,c,d)};return a}();
g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return this.ga(null,a)};g.j=function(a,b){return this.R(null,a,b)};var Ug=function Ug(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new P(c.slice(0),0,null):null;return Ug.I(c)};Ug.I=function(a){for(var b=O(a),c=jc(qg);;)if(b){a=S(S(b));var d=R(b);b=R(S(b));c=mc(c,d,b);b=a}else return lc(c)};Ug.K=0;Ug.N=function(a){return this.I(O(a))};
function Vg(a,b){this.Y=a;this.La=b;this.F=32374988;this.O=0}g=Vg.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.La};g.qa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Hb||(this.Y.F?0:y(ob,this.Y)):y(ob,this.Y))?this.Y.qa(null):S(this.Y);return null==a?null:new Vg(a,null)};g.ia=function(){return Wc(this)};
g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return this.Y.xa(null).key};g.ya=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Hb||(this.Y.F?0:y(ob,this.Y)):y(ob,this.Y))?this.Y.qa(null):S(this.Y);return null!=a?new Vg(a,null):Rc};g.ja=function(){return this};g.ha=function(a,b){return b===this.La?this:new Vg(this.Y,b)};g.pa=function(a,b){return qd(b,this)};Vg.prototype[Sa]=function(){return Uc(this)};
function mg(a){return(a=O(a))?new Vg(a,null):null}function Wf(a){return Ab(a)}function Wg(a,b){this.Y=a;this.La=b;this.F=32374988;this.O=0}g=Wg.prototype;g.toString=function(){return Ac(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return md(this,c,V(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return md(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return md(this,c,d)};return b}();g.da=function(){return this.La};g.qa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Hb||(this.Y.F?0:y(ob,this.Y)):y(ob,this.Y))?this.Y.qa(null):S(this.Y);return null==a?null:new Wg(a,null)};g.ia=function(){return Wc(this)};
g.fa=function(a,b){return pd(this,b)};g.na=function(){return Rc};g.ta=function(a,b){return sd(b,this)};g.ua=function(a,b,c){return ud(b,c,this)};g.xa=function(){return this.Y.xa(null).ka};g.ya=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Hb||(this.Y.F?0:y(ob,this.Y)):y(ob,this.Y))?this.Y.qa(null):S(this.Y);return null!=a?new Wg(a,null):Rc};g.ja=function(){return this};g.ha=function(a,b){return b===this.La?this:new Wg(this.Y,b)};g.pa=function(a,b){return qd(b,this)};Wg.prototype[Sa]=function(){return Uc(this)};
function ng(a){return(a=O(a))?new Wg(a,null):null}function Xf(a){return Bb(a)}var Xg=function Xg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new P(c.slice(0),0,null):null;return Xg.I(c)};Xg.I=function(a){return x(ef(a))?ie(function(b,c){return wd.j(x(b)?b:$e,c)},a):null};Xg.K=0;Xg.N=function(a){return this.I(O(a))};
function Yg(a,b){if(x(ef(b))){var c=function(d,e){var f=Ab(e),h=Bb(e);return $d(d,f)?Ad.C(d,f,function(){var k=I.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):Ad.C(d,f,h)};return ie(function(d,e){return Xa(c,x(d)?d:$e,O(e))},b)}return null}function Zg(a){for(var b=$e,c=O($g);;)if(c){var d=R(c),e=I.C(a,d,ah);b=Sc.j(e,ah)?b:Ad.C(b,d,e);c=S(c)}else return Lb(b,Hd(a))}function bh(a){this.Eb=a}bh.prototype.ra=function(){return this.Eb.ra()};
bh.prototype.next=function(){if(this.Eb.ra())return this.Eb.next().key;throw Error("No such element");};bh.prototype.remove=function(){return Error("Unsupported operation")};function ch(a,b,c){this.meta=a;this.fb=b;this.P=c;this.F=15077647;this.O=139268}g=ch.prototype;g.toString=function(){return Ac(this)};g.keys=function(){return Uc(O(this))};g.entries=function(){return new jg(O(O(this)))};g.values=function(){return Uc(O(this))};g.has=function(a){return $d(this,a)};
g.forEach=function(a){for(var b=O(this),c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e),h=X(f,0,null);f=X(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=O(b))Vd(b)?(c=qc(b),b=rc(b),h=c,d=V(c),c=h):(c=R(b),h=X(c,0,null),f=X(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=S(b),c=null,d=0),e=0;else return null};g.ga=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=wb(this.fb,b);return x(a)?Ab(a):c};g.Ea=function(){return new bh(wc(this.fb))};g.da=function(){return this.meta};g.la=function(){return db(this.fb)};
g.ia=function(){var a=this.P;return null!=a?a:this.P=a=Yc(this)};g.fa=function(a,b){if(Qd(b))if(V(this)===V(b))try{return je(function(c,d){return(c=$d(b,d))?c:new ad(!1)},!0,this.fb)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.tb=function(){return new dh(jc(this.fb))};g.na=function(){return Lb(eh,this.meta)};g.wc=function(a,b){return new ch(this.meta,yb(this.fb,b),null)};g.ja=function(){return mg(this.fb)};
g.ha=function(a,b){return b===this.meta?this:new ch(b,this.fb,this.P)};g.pa=function(a,b){return new ch(this.meta,Ad.C(this.fb,b,null),null)};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.ga(null,c);case 3:return this.R(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(b,c){return this.ga(null,c)};a.C=function(b,c,d){return this.R(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};
g.f=function(a){return this.ga(null,a)};g.j=function(a,b){return this.R(null,a,b)};var eh=new ch(null,$e,Zc);ch.prototype[Sa]=function(){return Uc(this)};function dh(a){this.hb=a;this.O=136;this.F=259}g=dh.prototype;g.yb=function(a,b){this.hb=mc(this.hb,b,null);return this};g.Jb=function(){return new ch(null,lc(this.hb),null)};g.la=function(){return V(this.hb)};g.ga=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return rb(this.hb,b,Xd)===Xd?c:b};
g.call=function(){function a(d,e,f){return rb(this.hb,e,Xd)===Xd?f:e}function b(d,e){return rb(this.hb,e,Xd)===Xd?null:e}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.j=b;c.C=a;return c}();g.apply=function(a,b){return this.call.apply(this,[this].concat(Va(b)))};g.f=function(a){return rb(this.hb,a,Xd)===Xd?null:a};g.j=function(a,b){return rb(this.hb,a,Xd)===Xd?b:a};
function hh(a){if(Qd(a))return Gd(a,null);a=O(a);if(null==a)return eh;if(a instanceof P&&0===a.i){a=a.B;for(var b=a.length,c=jc(eh),d=0;;)if(d<b)kc(c,a[d]),d+=1;else break;return lc(c)}for(c=jc(eh);;)if(null!=a)b=S(a),c=kc(c,mb(a)),a=b;else return lc(c)}function ih(a){for(var b=xd;;)if(S(a))b=wd.j(b,R(a)),a=S(a);else return O(b)}function Ae(a){if(null!=a&&(a.O&4096||u===a.uc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",A.f(a)].join(""));}
var jh=function jh(a){switch(arguments.length){case 2:return jh.j(arguments[0],arguments[1]);case 3:return jh.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(3),0,null);return jh.I(arguments[0],arguments[1],arguments[2],c)}};jh.j=function(a,b){return b};jh.C=function(a,b,c){return(a.f?a.f(b):a.call(null,b))>(a.f?a.f(c):a.call(null,c))?b:c};
jh.I=function(a,b,c,d){return Xa(function(e,f){return jh.C(a,e,f)},jh.C(a,b,c),d)};jh.N=function(a){var b=R(a),c=S(a);a=R(c);var d=S(c);c=R(d);d=S(d);return this.I(b,a,c,d)};jh.K=3;
function kh(){return function(){function a(h,k,l){return new Y(null,2,5,Ye,[ih.C?ih.C(h,k,l):ih.call(null,h,k,l),vd.C?vd.C(h,k,l):vd.call(null,h,k,l)],null)}function b(h,k){return new Y(null,2,5,Ye,[ih.j?ih.j(h,k):ih.call(null,h,k),vd.j?vd.j(h,k):vd.call(null,h,k)],null)}function c(h){return new Y(null,2,5,Ye,[ih.f?ih.f(h):ih.call(null,h),vd.f?vd.f(h):vd.call(null,h)],null)}function d(){return new Y(null,2,5,Ye,[ih.J?ih.J():ih.call(null),vd.J?vd.J():vd.call(null)],null)}var e=null,f=function(){function h(l,
m,n,p){var r=null;if(3<arguments.length){r=0;for(var v=Array(arguments.length-3);r<v.length;)v[r]=arguments[r+3],++r;r=new P(v,0,null)}return k.call(this,l,m,n,r)}function k(l,m,n,p){return new Y(null,2,5,Ye,[Ve(ih,l,m,n,p),Ve(vd,l,m,n,p)],null)}h.K=3;h.N=function(l){var m=R(l);l=S(l);var n=R(l);l=S(l);var p=R(l);l=Qc(l);return k(m,n,p,l)};h.I=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);case 3:return a.call(this,
h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new P(p,0,null)}return f.I(h,k,l,n)}throw Error("Invalid arity: "+arguments.length);};e.K=3;e.N=f.N;e.J=d;e.f=c;e.j=b;e.C=a;e.I=f.I;return e}()}function lh(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&Sc.j(a[0],b)?1===a.length?a[0]:Uf(a):null;throw new TypeError("re-matches must match against a string.");}
function mh(a,b,c,d,e,f,h){var k=Ga;Ga=null==Ga?null:Ga-1;try{if(null!=Ga&&0>Ga)return bc(a,"#");bc(a,c);if(0===Oa.f(f))O(h)&&bc(a,function(){var v=nh.f(f);return x(v)?v:"..."}());else{if(O(h)){var l=R(h);b.C?b.C(l,a,f):b.call(null,l,a,f)}for(var m=S(h),n=Oa.f(f)-1;;)if(!m||null!=n&&0===n){O(m)&&0===n&&(bc(a,d),bc(a,function(){var v=nh.f(f);return x(v)?v:"..."}()));break}else{bc(a,d);var p=R(m);c=a;h=f;b.C?b.C(p,c,h):b.call(null,p,c,h);var r=S(m);c=n-1;m=r;n=c}}return bc(a,e)}finally{Ga=k}}
function oh(a,b){b=O(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e);bc(a,f);e+=1}else if(b=O(b))c=b,Vd(c)?(b=qc(c),d=rc(c),c=b,f=V(b),b=d,d=f):(f=R(c),bc(a,f),b=S(c),c=null,d=0),e=0;else return null}var ph={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function qh(a){return['"',A.f(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return ph[b]})),'"'].join("")}function rh(a,b){return Yd(I.j(a,Ma))?null!=b&&(b.F&131072||u===b.dc)?null!=Hd(b):!1:!1}
function sh(a,b,c){if(null==a)return bc(b,"nil");if(rh(c,a)){bc(b,"^");var d=Hd(a);th.C?th.C(d,b,c):th.call(null,d,b,c);bc(b," ")}if(a.zb)return a.Kb(b);if(null!=a?a.F&2147483648||u===a.ma||(a.F?0:y(cc,a)):y(cc,a))return dc(a,b,c);if(!0===a||!1===a)return bc(b,A.f(a));if("number"===typeof a)return bc(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":A.f(a));if(null!=a&&a.constructor===Object)return bc(b,"#js "),d=nf.j(function(f){return new Nf(null!=lh(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?ze.f(f):f,a[f])},ra(a)),uh.T?uh.T(d,th,b,c):uh.call(null,d,th,b,c);if(Pa(a))return mh(b,th,"#js ["," ","]",c,a);if("string"==typeof a)return x(La.f(c))?bc(b,qh(a)):bc(b,a);if("function"==t(a)){var e=a.name;c=x(function(){var f=null==e;return f?f:Ba(e)}())?"Function":e;return oh(b,rd(["#object[",c,x(!1)?[' "',A.f(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=A.f(f);;)if(f.length<h)f=["0",f].join("");else return f},oh(b,rd(['#inst "',A.f(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return oh(b,rd(['#"',a.source,'"']));if(Za(a))return oh(b,rd(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.ib}()))return oh(b,rd(["#object[",a.constructor.ib.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=x(function(){var f=
null==e;return f?f:Ba(e)}())?"Object":e;return null==a.constructor?oh(b,rd(["#object[",c,"]"])):oh(b,rd(["#object[",c," ",A.f(a),"]"]))}function th(a,b,c){var d=vh.f(c);return x(d)?(c=Ad.C(c,wh,sh),d.C?d.C(a,b,c):d.call(null,a,b,c)):sh(a,b,c)}
function xh(a,b){var c=new Ca;a:{var d=new xc(c);th(R(a),d,b);a=O(S(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.$(null,h);bc(d," ");th(k,d,b);h+=1}else if(a=O(a))e=a,Vd(e)?(a=qc(e),f=rc(e),e=a,k=V(a),a=f,f=k):(k=R(e),bc(d," "),th(k,d,b),a=S(e),e=null,f=0),h=0;else break a}return c}function yh(a){var b=Ja();return Jd(a)?"":A.f(xh(a,b))}function zh(a){return a instanceof Mc?Nc.j(null,Ae(a)):ze.j(null,Ae(a))}
function Ah(a){if(x(!1)){var b=O(a),c=O(b),d=R(c);S(c);X(d,0,null);X(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Pc)?a.na(null):(null!=a?a.F&4||u===a.Pc||(a.F?0:y(eb,a)):y(eb,a))?fb(a):null;for(a=null;;){d=a;b=O(b);a=R(b);var e=S(b),f=a;a=X(f,0,null);b=X(f,1,null);if(x(f))if(a instanceof N||a instanceof Mc)if(x(d))if(Sc.j(d,xe(a)))c=Ad.C(c,zh(a),b),a=d,b=e;else return null;else if(d=xe(a),x(d))c=Ad.C(c,zh(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Ye,[d,c],null)}}else return null}
function Bh(a,b,c,d,e){return mh(d,function(f,h,k){var l=Ab(f);c.C?c.C(l,h,k):c.call(null,l,h,k);bc(h," ");f=Bb(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[A.f(a),"{"].join(""),", ","}",e,O(b))}function uh(a,b,c,d){var e=Sd(a)?Ah(a):null,f=X(e,0,null);e=X(e,1,null);return x(f)?Bh(["#:",A.f(f)].join(""),e,b,c,d):Bh(null,a,b,c,d)}mf.prototype.ma=u;mf.prototype.ea=function(a,b,c){bc(b,"#object[cljs.core.Volatile ");th(new w(null,1,[Ch,this.state],null),b,c);return bc(b,"]")};P.prototype.ma=u;
P.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};Be.prototype.ma=u;Be.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};Nf.prototype.ma=u;Nf.prototype.ea=function(a,b,c){return mh(b,th,"["," ","]",c,this)};Mg.prototype.ma=u;Mg.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};kg.prototype.ma=u;kg.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};Vc.prototype.ma=u;Vc.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};
Zf.prototype.ma=u;Zf.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};se.prototype.ma=u;se.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};od.prototype.ma=u;od.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};Rg.prototype.ma=u;Rg.prototype.ea=function(a,b,c){return uh(this,th,b,c)};Og.prototype.ma=u;Og.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};ag.prototype.ma=u;ag.prototype.ea=function(a,b,c){return mh(b,th,"["," ","]",c,this)};
ch.prototype.ma=u;ch.prototype.ea=function(a,b,c){return mh(b,th,"#{"," ","}",c,this)};Ge.prototype.ma=u;Ge.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};jf.prototype.ma=u;jf.prototype.ea=function(a,b,c){bc(b,"#object[cljs.core.Atom ");th(new w(null,1,[Ch,this.state],null),b,c);return bc(b,"]")};Wg.prototype.ma=u;Wg.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};Y.prototype.ma=u;Y.prototype.ea=function(a,b,c){return mh(b,th,"["," ","]",c,this)};
pe.prototype.ma=u;pe.prototype.ea=function(a,b){return bc(b,"()")};w.prototype.ma=u;w.prototype.ea=function(a,b,c){return uh(this,th,b,c)};Vg.prototype.ma=u;Vg.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};yd.prototype.ma=u;yd.prototype.ea=function(a,b,c){return mh(b,th,"("," ",")",c,this)};Mc.prototype.sb=u;Mc.prototype.mb=function(a,b){if(b instanceof Mc)return Lc(this,b);throw Error(["Cannot compare ",A.f(this)," to ",A.f(b)].join(""));};N.prototype.sb=u;
N.prototype.mb=function(a,b){if(b instanceof N)return we(this,b);throw Error(["Cannot compare ",A.f(this)," to ",A.f(b)].join(""));};ag.prototype.sb=u;ag.prototype.mb=function(a,b){if(Ud(b))return be(this,b);throw Error(["Cannot compare ",A.f(this)," to ",A.f(b)].join(""));};Y.prototype.sb=u;Y.prototype.mb=function(a,b){if(Ud(b))return be(this,b);throw Error(["Cannot compare ",A.f(this)," to ",A.f(b)].join(""));};Nf.prototype.sb=u;
Nf.prototype.mb=function(a,b){if(Ud(b))return be(this,b);throw Error(["Cannot compare ",A.f(this)," to ",A.f(b)].join(""));};var Dh=null;function Eh(a){null==Dh&&(Dh=new jf(0));return Nc.f([A.f(a),A.f(lf.j(Dh,$c))].join(""))}function Fh(){}function Gh(a){if(null!=a&&null!=a.Rc)a=a.Rc(a);else{var b=Gh[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Gh._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}
function Hh(a,b){return(null!=a?u===a.Qc||(a.yc?0:y(Fh,a)):y(Fh,a))?Gh(a):"string"===typeof a||"number"===typeof a||a instanceof N||a instanceof Mc?b.f?b.f(a):b.call(null,a):yh(rd([a]))}var Ih=function Ih(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new P(c.slice(1),0,null):null;return Ih.I(arguments[0],c)};
Ih.I=function(a,b){b=null!=b&&(b.F&64||u===b.Ca)?Se(Ug,b):b;var c=I.C(b,Jh,Ae),d=function h(f){if(null==f)return null;if(null!=f?u===f.Qc||(f.yc?0:y(Fh,f)):y(Fh,f))return Gh(f);if(f instanceof N)return c.f?c.f(f):c.call(null,f);if(f instanceof Mc)return A.f(f);if(Sd(f)){var k={};f=O(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.$(null,n),r=X(p,0,null);p=X(p,1,null);r=Hh(r,d);p=h(p);k[r]=p;n+=1}else if(f=O(f))Vd(f)?(m=qc(f),f=rc(f),l=m,m=V(m)):(m=R(f),l=X(m,0,null),m=X(m,1,null),l=Hh(l,d),m=h(m),k[l]=
m,f=S(f),l=null,m=0),n=0;else break;return k}if(Pd(f)){k=[];f=O(nf.j(h,f));l=null;for(n=m=0;;)if(n<m)r=l.$(null,n),k.push(r),n+=1;else if(f=O(f))l=f,Vd(l)?(f=qc(l),n=rc(l),l=f,m=V(f),f=n):(f=R(l),k.push(f),f=S(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Ih.K=1;Ih.N=function(a){var b=R(a);a=S(a);return this.I(b,a)};
function Kh(){x(Ua)||(Ua=function(){for(var a=de(function(e,f){return f.length-e.length},ra(Ta)),b="";;)if(O(a)){var c=S(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),A.f(R(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Ua}
function Lh(a){var b=A.f(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(Kh(),"g");var d=b.length-1;d=0<=d&&b.indexOf("$",d)==d;b=x(d)?b.substring(0,b.length-1):b;d="";for(var e=0;;){var f=c.exec(b);if(x(f))f=X(f,0,null),d=[d,A.f(b.substring(e,c.lastIndex-f.length)),A.f("$"===f?"/":ua(Ta,f))].join(""),e=c.lastIndex;else{c=[d,A.f(b.substring(e,b.length))].join("");break a}}}a=a instanceof Mc?Nc:A;return a.f?a.f(c):a.call(null,c)};var Mh=new N(null,"table","table",-564943036),Ch=new N(null,"val","val",128701612),Nh=new Mc(ba,"zipmap","cljs.core/zipmap",-1902130674,null),Oh=new N(null,"render","render",-1408033454),Ph=new N(null,"auto-run","auto-run",1958400437),Qh=new N(null,"renderer","renderer",336841071),Rh=new N(null,"on-dispose","on-dispose",2105306360),Sh=new N(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Th=new N(null,"descending","descending",-24766135),Uh=new Mc(null,"fn*","fn*",-752876845,null),Vh=new N(null,
"constructor","constructor",-1953928811),Wh=new N(null,"log-level","log-level",862121670),Xh=new N(null,"childContextTypes","childContextTypes",578717991),Yh=new Mc(ba,"fn","cljs.core/fn",-1065745098,null),Zh=new N(null,"vega","vega",-1657843081),$h=new N(null,"on-click","on-click",1632826543),ai=new N(null,"vega-lite","vega-lite",-650304770),bi=new N(null,"th-style","th-style",-1504296072),di=new N(null,"getInitialState","getInitialState",1541760916),vh=new N(null,"alt-impl","alt-impl",670969595),
ei=new N(null,"div.viz","div.viz",1155063891),ah=new N(ba,"not-found","cljs.core/not-found",-1572889185),fi=new N(null,"sort-order","sort-order",1853277479),hi=new N(null,"no-cache","no-cache",1588056370),Ze=new Mc(null,"p1__25886#","p1__25886#",1815284238,null),Ka=new N(null,"flush-on-newline","flush-on-newline",-151457939),ii=new N(null,"data-table","data-table",-149582774),ki=new N(null,"reagent-render","reagent-render",-985383853),ni=new N(null,"function-components","function-components",1492814963),
oi=new N(null,"th","th",-545608566),pi=new N(null,"tr","tr",-1424774646),qi=new N(null,"a","a",-2123407586),ri=new N(ca,"name","cljs.spec.alpha/name",205233570),si=new N(null,"componentWillUnmount","componentWillUnmount",1573788814),ti=new N(null,"p","p",151049309),ui=new N(null,"td","td",1479933353),vi=new N(null,"contextType","contextType",1033066077),wi=new N(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),xi=new N(null,"div","div",1057191632),wh=new N(null,"fallback-impl",
"fallback-impl",-1501286995),yi=new N(null,"canvas","canvas",-1798817489),zi=new N(null,"display-name","display-name",694513143),Ai=new N(null,"margin-bottom","margin-bottom",388334941),Jh=new N(null,"keyword-fn","keyword-fn",-64566675),Bi=new N(null,"per-page","per-page",-54905429),Di=new N(null,"component-will-unmount","component-will-unmount",-2058314698),Ei=new N(null,"className","className",-1983287057),Fi=new Mc(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),Gi=new N(null,"style",
"style",-496642736),Hi=new Mc(null,"v","v",1661996586,null),Ii=new N(ca,"op","cljs.spec.alpha/op",-1269055252),Ji=new Mc(null,"k","k",-505765866,null),nh=new N(null,"more-marker","more-marker",-14717935),Ki=new N(null,"span","span",1394872991),ci=new Mc(null,"p1__25885#","p1__25885#",-1915071419,null),Mi=new N(null,"component-will-update","component-will-update",335247566),Ni=new N(null,"td-style","td-style",1948769874),Ma=new N(null,"meta","meta",1499536964),Oi=new N(null,"displayName","displayName",
-809144601),Pi=new N(ca,"gfn","cljs.spec.alpha/gfn",-593120375),Ri=new N(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Si=new N(null,"mode","mode",654403691),Ti=new N(null,"sort-key","sort-key",1285844623),Vi=new N(null,"logLevel","logLevel",1131406165),Wi=new N(null,"class","class",-2030961996),Xi=new N(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Yi=new N(null,"tr-style","tr-style",1853585605),Zi=new N(null,"reagentRender","reagentRender",-358306383),$i=new N(null,
"cursor","cursor",1011937484),aj=new N(null,"name","name",1843675177),bj=new N(null,"page","page",849072397),cj=new N(null,"on-set","on-set",-140953470),dj=new N(null,"pointer","pointer",85071187),ej=new N(null,"ascending","ascending",-988350486),gj=new Mc(ba,"map","cljs.core/map",-338988913,null),Na=new N(null,"dup","dup",556298533),Oa=new N(null,"print-length","print-length",1931866356),hj=new N(null,"component-did-update","component-did-update",-1468549173),ij=new N(null,"component-did-mount",
"component-did-mount",-1126910518),kj=new N(ca,"v","cljs.spec.alpha/v",552625740),lj=new N(null,"on-write","on-write",31519475),mj=new N(null,"key","key",-1516042587),nj=new N(ca,"k","cljs.spec.alpha/k",-1602615178),oj=new Mc(null,"%","%",-950237169,null),pj=new N(null,"validator","validator",-1966190681),qj=new N(null,"padding-right","padding-right",-1250249681),rj=new N(ca,"unknown","cljs.spec.alpha/unknown",651034818),La=new N(null,"readably","readably",1129599760),sj=new N(null,"contextTypes",
"contextTypes",-2023853910),tj=new N(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),uj=new N(null,"id","id",-1388402092);var yj={},zj={},Aj=[];function Bj(a,b){var c=zj[a];if(void 0!==c)return c;try{Aj.push(a);var d=yj[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};yj[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ea,Bj,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Aj.pop()}return d.exports}Bj.cache={};Bj.resolve=function(a){return a};var Cj=Bj(49,{});var Dj=Bj(52,{});function Ej(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.Cd)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function Fj(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new P(f,0,null)}return c.call(this,e)}function c(d){d=qf(d);if(Sc.j(V(d),1))return d=R(d),a.f?a.f(d):a.call(null,d);d=Uf(d);return a.f?a.f(d):a.call(null,d)}b.K=0;b.N=function(d){d=O(d);return c(d)};b.I=c;return b}()}
function Gj(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?Ej(a,b,c):Ej(a,b,Fj(c));throw["Invalid match arg: ",A.f(b)].join("");}function Hj(a,b){var c=new Ca;for(b=O(b);;)if(null!=b)c.append(A.f(R(b))),b=S(b),null!=b&&c.append(a);else return c.toString()}
function Ij(a,b){a="/(?:)/"===A.f(b)?wd.j(Uf(qd("",nf.j(A,O(a)))),""):Uf(A.f(a).split(b));if(1<V(a))a:for(;;)if(""===(null==a?null:Eb(a)))a=null==a?null:Fb(a);else break a;return a};var Jj={};var Kj={},gi,ji;function Nj(a,b){if(null!=a&&null!=a.kc)a=a.kc(a,b);else{var c=Nj[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Nj._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("Spec.with-gen*",a);}return a}var Oj=new jf($e);function Pj(a){if(ye(a)){var b=Ib(Oj);a=I.j(b,a);if(ye(a))a:for(;;)if(ye(a))a=I.j(b,a);else{b=a;break a}else b=a;return b}return a}
function Qj(a){if(ye(a)){var b=Pj(a);if(x(b))return b;throw Error(["Unable to resolve spec: ",A.f(a)].join(""));}return a}function Rj(a){return null!=a&&u===a.zc?a:null}function Wj(a){var b=Ii.f(a);return x(b)?a:b}function Xj(a,b){return ye(a)?a:x(Wj(a))?Ad.C(a,ri,b):null!=a&&(a.F&131072||u===a.dc)?Gd(a,Ad.C(Hd(a),ri,b)):null}function Yj(a){return ye(a)?a:x(Wj(a))?ri.f(a):null!=a&&(a.F&131072||u===a.dc)?ri.f(Hd(a)):null}
function Zj(a){var b=function(){var c=ye(a)?Pj(a):!1;if(x(c))return c;c=Rj(a);if(x(c))return c;c=Wj(a);return x(c)?c:null}();return x(Wj(b))?Xj(ak(b,null),Yj(b)):b}function bk(a){var b=Zj(a);if(x(b))return b;if(ye(a))throw Error(["Unable to resolve spec: ",A.f(a)].join(""));return null}
function ck(a){if(Ba(null==a?"":String(a)))return null;a=nf.j(Lh,Ij(a,"$"));if(2<=V(a)&&df(function(c){return!Ba(null==c?"":String(c))},a)){var b=kh()(a);a=X(b,0,null);b=X(b,1,null);return Nc.f([Hj(".",a),"/",A.f(b)].join(""))}return null}
var li=function(){function a(d,e){var f=dk[t(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=dk._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("Specize.specize*",d);}function b(d){var e=dk[t(null==d?null:d)];if(null!=e)return e.f?e.f(d):e.call(null,d);e=dk._;if(null!=e)return e.f?e.f(d):e.call(null,d);throw z("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.f=b;c.j=a;return c}(),dk=function dk(a){switch(arguments.length){case 1:return dk.f(arguments[0]);case 2:return dk.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};dk.f=function(a){return null!=a&&null!=a.Ab?a.Ab(a):li(a)};dk.j=function(a,b){return null!=a&&null!=a.Bb?a.Bb(a,b):li(a,b)};dk.K=2;N.prototype.Ab=function(){return dk(Qj(this))};N.prototype.Bb=function(){return dk(Qj(this))};Mc.prototype.Ab=function(){return dk(Qj(this))};
Mc.prototype.Bb=function(){return dk(Qj(this))};ch.prototype.Ab=function(){return fk(this,this,null,null,null)};ch.prototype.Bb=function(a,b){return fk(b,this,null,null,null)};
dk._=function(){function a(c){var d=Dd(c)?ck(c.name):!1;return x(d)?fk(d,c,null,null,null):fk(rj,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fk(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return fk(d,c,null,null,null)};return b}();
var gk=function gk(a){switch(arguments.length){case 1:return gk.f(arguments[0]);case 2:return gk.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};gk.f=function(a){var b=Rj(a);return x(b)?b:dk(a)};gk.j=function(a,b){var c=Rj(a);return x(c)?c:dk(a,b)};gk.K=2;function hk(a,b){a=Pj(a);return x(Wj(a))?Ad.C(a,Pi,b):Nj(gk.f(a),b)}
function fk(a,b,c,d,e){if(x(Rj(b)))return x(c)?hk(b,c):b;if(x(Wj(b)))return ak(b,c);if(ye(b))return a=bk(b),x(c)?hk(a,c):a;if("undefined"===typeof Da||"undefined"===typeof Jj||"undefined"===typeof Kj||"undefined"===typeof gi)gi=function(f,h,k,l,m,n){this.form=f;this.Fc=h;this.oc=k;this.Bc=l;this.Kc=m;this.ca=n;this.F=393216;this.O=0},gi.prototype.ha=function(f,h){return new gi(this.form,this.Fc,this.oc,this.Bc,this.Kc,h)},gi.prototype.da=function(){return this.ca},gi.prototype.Ab=function(){return this},
gi.prototype.Bb=function(){return this},gi.prototype.zc=u,gi.prototype.kc=function(f,h){return fk(this.form,this.Fc,h,this.Bc,this.Kc)},gi.zb=!0,gi.ib="cljs.spec.alpha/t_cljs$spec$alpha25039",gi.Kb=function(f){return bc(f,"cljs.spec.alpha/t_cljs$spec$alpha25039")};return new gi(a,b,c,d,e,$e)}
var ak=function ak(a,b){if("undefined"===typeof Da||"undefined"===typeof Jj||"undefined"===typeof Kj||"undefined"===typeof ji)ji=function(d,e,f){this.re=d;this.oc=e;this.Sc=f;this.F=393216;this.O=0},ji.prototype.ha=function(d,e){return new ji(this.re,this.oc,e)},ji.prototype.da=function(){return this.Sc},ji.prototype.Ab=function(){return this},ji.prototype.Bb=function(){return this},ji.prototype.zc=u,ji.prototype.kc=function(d,e){return ak.j?ak.j(this.re,e):ak.call(null,this.re,e)},ji.zb=!0,ji.ib=
"cljs.spec.alpha/t_cljs$spec$alpha25801",ji.Kb=function(d){return bc(d,"cljs.spec.alpha/t_cljs$spec$alpha25801")};return new ji(a,b,$e)},mi=re(Fi,re(Uh,new Y(null,1,5,Ye,[ci],null),re(Nh,re(gj,nj,ci),re(gj,kj,ci))),re(Uh,new Y(null,1,5,Ye,[Ze],null),re(gj,re(Yh,new Y(null,1,5,Ye,[new Y(null,2,5,Ye,[Ji,Hi],null)],null),new w(null,2,[nj,Ji,kj,Hi],null)),Ze))),Ci=fk(re(Fi,re(Yh,new Y(null,1,5,Ye,[oj],null),re(Nh,re(gj,nj,oj),re(gj,kj,oj))),re(Yh,new Y(null,1,5,Ye,[oj],null),re(gj,re(Yh,new Y(null,1,
5,Ye,[new Y(null,2,5,Ye,[Ji,Hi],null)],null),new w(null,2,[nj,Ji,kj,Hi],null)),oj))),function(a){a:{var b=nf.j(nj,a),c=nf.j(kj,a);a=jc($e);b=O(b);for(c=O(c);;)if(b&&c){var d=R(b),e=R(c);a=mc(a,d,e);b=S(b);c=S(c)}else{a=lc(a);break a}}return a},null,!0,function(a){return nf.j(function(b){var c=X(b,0,null);b=X(b,1,null);return new w(null,2,[nj,c,kj,b],null)},a)});
if(null==Ci)lf.C(Oj,Cd,Sh);else{var Li;var Qi=Rj(Ci);if(x(Qi))Li=Qi;else{var Ui=Wj(Ci);Li=x(Ui)?Ui:I.j(Ib(Oj),Ci)}var fj=x(Li)?Ci:fk(mi,Ci,null,null,null);lf.T(Oj,Ad,Sh,Xj(fj,Sh))};var ok=Bj(58,{});var pk={};var qk={},rk="undefined"!==typeof window&&null!=window.document,sk=new ch(null,new w(null,2,["aria",null,"data",null],null),null);function tk(a){return 2>V(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function uk(a){if("string"===typeof a)return a;a=Ae(a);var b=Ij(a,/-/);var c=O(b);b=R(c);c=S(c);return x(sk.f?sk.f(b):sk.call(null,b))?a:Te(A,b,nf.j(tk,c))}
function vk(a){var b=function(){if(Dd(a)){var c=a.displayName;x(c)||(c=a.name,c="string"===typeof c&&O(c)?c:null)}else c=!1;if(x(c))return c;c=null!=a&&(a.O&4096||u===a.uc)?Ae(a):!1;if(x(c))return c;c=Hd(a);return Sd(c)?aj.f(c):null}();return x(b)?Gj(A.f(b),"$","."):null}function wk(a){return a instanceof N||a instanceof Mc}
var xk=function xk(a){switch(arguments.length){case 0:return xk.J();case 1:return xk.f(arguments[0]);case 2:return xk.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return xk.I(arguments[0],arguments[1],c)}};xk.J=function(){return null};xk.f=function(a){return Pd(a)?(a=hf(function(b){return x(b)?wk(b)?Ae(b):b:null},a),O(a)?Hj(" ",a):null):wk(a)?Ae(a):a};
xk.j=function(a,b){return x(a)?x(b)?[A.f(xk.f(a))," ",A.f(xk.f(b))].join(""):xk.f(a):xk.f(b)};xk.I=function(a,b,c){return Xa(xk,xk.j(a,b),c)};xk.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};xk.K=2;function yk(a){if(Sd(a))try{var b=I.j(a,mj)}catch(c){b=null}else b=null;return b}
function zk(a){var b=mj.f(Hd(a));if(x(b))return b;b=yk(X(a,1,null));if(x(b))return b;b=X(a,0,null);switch(b instanceof N?b.Aa:null){case "\x3e":case "f\x3e":return yk(X(a,2,null));case "r\x3e":return a=X(a,2,null),null==a?null:a.key;default:return null}};var Ak=0;function Bk(a){return setTimeout(a,16)}var Ck=rk?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Bk}().bind(a)}():Bk;function Dk(a,b){return a.mc-b.mc}function Ek(){return null}function Fk(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.J?d.J():d.call(null);c+=1}else return null}
function Gk(a){function b(){a.Xb=!1;var c=a.Lc;null!=c&&(a.Lc=null,Fk(c));Ek();c=a.Wb;if(null!=c)a:{a.Wb=null,c.sort(Dk);for(var d=c.length,e=0;;)if(e<d){var f=c[e];!0===f.cljsIsDirty&&f.forceUpdate();e+=1}else break a}c=a.Qb;null==c?c=null:(a.Qb=null,c=Fk(c));return c}if(a.Xb)return null;a.Xb=!0;return Ck.f?Ck.f(b):Ck.call(null,b)}function Hk(a){var b=Ik;null==b.Qb&&(b.Qb=[]);b.Qb.push(a);return Gk(b)}var Ik=new function(a){this.Xb=a}(!1);
function Jk(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;var b=Ik;null==b.Wb&&(b.Wb=[]);b.Wb.push(a);return Gk(b)};function Kk(a){if(null!=a&&null!=a.jd)a=a.id;else{var b=Kk[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Kk._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("Compiler.get-id",a);}return a}function Lk(a,b){if(null!=a&&null!=a.Gc)a=a.Gc(a,b);else{var c=Lk[t(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Lk._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("Compiler.as-element",a);}return a}
function Mk(a,b,c,d,e){if(null!=a&&null!=a.Hc)a=a.Hc(a,b,c,d,e);else{var f=Mk[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Mk._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw z("Compiler.make-element",a);}return a};function Nk(a,b){var c=Te(jh,a,b);return qd(c,sf(function(d){return c===d},b))}var Ok=function Ok(a){switch(arguments.length){case 0:return Ok.J();case 1:return Ok.f(arguments[0]);case 2:return Ok.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return Ok.I(arguments[0],arguments[1],c)}};Ok.J=function(){return eh};Ok.f=function(a){return a};Ok.j=function(a,b){return V(a)<V(b)?Xa(wd,b,a):Xa(wd,a,b)};
Ok.I=function(a,b,c){a=Nk(V,wd.I(c,b,rd([a])));return Xa(tf,R(a),Qc(a))};Ok.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};Ok.K=2;var Pk=function Pk(a){switch(arguments.length){case 1:return Pk.f(arguments[0]);case 2:return Pk.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(2),0,null);return Pk.I(arguments[0],arguments[1],c)}};Pk.f=function(a){return a};
Pk.j=function(a,b){return V(a)<V(b)?Xa(function(c,d){return $d(b,d)?Id.j(c,d):c},a,a):Xa(Id,a,b)};Pk.I=function(a,b,c){return Xa(Pk,a,wd.j(c,b))};Pk.N=function(a){var b=R(a),c=S(a);a=R(c);c=S(c);return this.I(b,a,c)};Pk.K=2;var Qk;
function Rk(a,b){b.captured=null;a:{var c=Qk;Qk=b;try{var d=a.J?a.J():a.call(null);break a}finally{Qk=c}d=void 0}var e=b.captured;b.jb=!1;a:if(a=b.rb,c=null==e?0:e.length,c===(null==a?0:a.length))for(var f=0;;){var h=f===c;if(h){a=h;break a}if(e[f]===a[f])f+=1;else{a=!1;break a}}else a=!1;if(!a)a:{a=hh(e);c=hh(b.rb);b.rb=e;e=O(Pk.j(a,c));f=null;for(var k=h=0;;)if(k<h){var l=f.$(null,k);ec(l,b);k+=1}else if(e=O(e))f=e,Vd(f)?(e=qc(f),k=rc(f),f=e,h=V(e),e=k):(e=R(f),ec(e,b),e=S(f),f=null,h=0),k=0;else break;
a=O(Pk.j(c,a));c=null;for(h=f=0;;)if(h<f)e=c.$(null,h),ic(e,b),h+=1;else if(a=O(a))c=a,Vd(c)?(a=qc(c),f=rc(c),c=a,e=V(a),a=f,f=e):(e=R(c),ic(e,b),a=S(c),c=null,f=0),h=0;else break a}return d}function Sk(a){var b=Qk;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function Tk(a,b,c){a.wa=Ad.C(a.wa,b,c);return a.qc=null}function Uk(a,b){a.wa=Cd.j(a.wa,b);return a.qc=null}
function Vk(a,b,c){var d=a.qc;d=null==d?a.qc=je(function(l,m,n){l.push(m);l.push(n);return l},[],a.wa):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function Wk(a,b,c,d){bc(a,["#object[reagent.ratom.",A.f(c)," "].join(""));a:{c=Qk;Qk=null;try{var e=d;break a}finally{Qk=c}e=void 0}th(e,a,b);return bc(a,"]")}var Xk=null;
function Yk(){for(;;){var a=Xk;if(null==a)return null;Xk=null;for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.jb&&null!=d.rb&&Zk(d,!0);c+=1}else break}}Ek=Yk;function $k(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.wa=d;this.F=2154201088;this.O=114690}g=$k.prototype;g.ea=function(a,b,c){return Wk(b,c,"RAtom",new w(null,1,[Ch,this.Na(null)],null))};g.da=function(){return this.meta};g.ia=function(){return fa(this)};g.fa=function(a,b){return this===b};
g.Ga=function(a,b){a=this.state;this.state=b;null!=this.wa&&Vk(this,a,b);return b};g.ec=function(a,b){return this.Ga(null,b.f?b.f(this.state):b.call(null,this.state))};g.fc=function(a,b,c){return this.Ga(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.hc=function(a,b,c,d){return this.Ga(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.ic=function(a,b,c,d,e){return this.Ga(null,Ve(b,this.state,c,d,e))};g.jc=function(a,b){Vk(this,a,b)};g.Tb=function(a,b,c){return Tk(this,b,c)};
g.Ub=function(a,b){return Uk(this,b)};g.ha=function(a,b){return new $k(this.state,b,this.validator,this.wa)};g.Na=function(){Sk(this);return this.state};var al=function al(a){switch(arguments.length){case 1:return al.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new P(c.slice(1),0,null);return al.I(arguments[0],c)}};al.f=function(a){return new $k(a,null,null,null)};
al.I=function(a,b){var c=null!=b&&(b.F&64||u===b.Ca)?Se(Ug,b):b;b=I.j(c,Ma);c=I.j(c,pj);return new $k(a,b,c,null)};al.N=function(a){var b=R(a);a=S(a);return this.I(b,a)};al.K=1;function bl(a){if(null!=a&&null!=a.pc)a=a.pc(a);else{var b=bl[t(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=bl._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IDisposable.dispose!",a);}return a}
function hc(a,b,c,d){c===d||a.jb?a=null:null==a.Ma?(a.jb=!0,null==Xk&&(Xk=[],!1===Ik.Xb&&Gk(Ik)),a=Xk.push(a)):a=!0===a.Ma?Zk(a,!1):a.Ma.f?a.Ma.f(a):a.Ma.call(null,a);return a}function cl(a){this.Db=a;this.state=null;this.jb=!0;this.Dc=!1;this.$b=this.Ma=this.wa=this.rb=null;this.F=2153807872;this.O=114690}function dl(a){var b=Qk;Qk=null;try{return a.Na(null)}finally{Qk=b}}
function Zk(a,b){var c=a.state;if(x(b)){b=a.Db;try{a.$b=null;var d=Rk(b,a)}catch(e){d=e,a.state=d,a.$b=d,d=a.jb=!1}}else d=Rk(a.Db,a);a.Dc||(a.state=d,null==a.wa||Sc.j(c,d)||Vk(a,c,d));return d}function el(a,b){var c=null!=b&&(b.F&64||u===b.Ca)?Se(Ug,b):b;b=I.j(c,Ph);var d=I.j(c,cj),e=I.j(c,Rh);c=I.j(c,hi);null!=b&&(a.Ma=b);null!=d&&(a.gd=d);null!=e&&(a.Ec=e);null!=c&&(a.Dc=c)}g=cl.prototype;g.ea=function(a,b,c){return Wk(b,c,"Reaction",new w(null,1,[Ch,this.Na(null)],null))};g.ia=function(){return fa(this)};
g.fa=function(a,b){return this===b};g.pc=function(){var a=this.state,b=this.rb;this.Ma=this.state=this.rb=null;this.jb=!0;b=O(hh(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.$(null,e);ic(f,this);e+=1}else if(b=O(b))c=b,Vd(c)?(b=qc(c),e=rc(c),c=b,d=V(b),b=e):(b=R(c),ic(b,this),b=S(c),c=null,d=0),e=0;else break;null!=this.Ec&&this.Ec(a);a=this.Bd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.f?d.f(this):d.call(null,this),c+=1;else return null};
g.Ga=function(a,b){a=this.state;this.state=b;this.gd(a,b);Vk(this,a,b);return b};g.ec=function(a,b){var c=this;return c.Ga(null,function(){var d=dl(c);return b.f?b.f(d):b.call(null,d)}())};g.fc=function(a,b,c){var d=this;return d.Ga(null,function(){var e=dl(d);return b.j?b.j(e,c):b.call(null,e,c)}())};g.hc=function(a,b,c,d){var e=this;return e.Ga(null,function(){var f=dl(e);return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.ic=function(a,b,c,d,e){return this.Ga(null,Ve(b,dl(this),c,d,e))};
g.jc=function(a,b){Vk(this,a,b)};g.Tb=function(a,b,c){return Tk(this,b,c)};g.Ub=function(a,b){a=Jd(this.wa);Uk(this,b);return!a&&Jd(this.wa)&&null==this.Ma?this.pc(null):null};g.Na=function(){var a=this.$b;if(null!=a)throw a;(a=null==Qk)&&Yk();a&&null==this.Ma?this.jb&&(a=this.state,this.state=this.Db.J?this.Db.J():this.Db.call(null),null==this.wa||Sc.j(a,this.state)||Vk(this,a,this.state)):(Sk(this),this.jb&&Zk(this,!1));return this.state};
function fl(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new P(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.F&64||u===c.Ca)?Se(Ug,c):c;c=I.j(e,Ph);d=I.j(e,cj);e=I.j(e,Rh);b=new cl(b);el(b,new w(null,3,[Ph,c,cj,d,Rh,e],null));return b}var gl=fl(null);function hl(a,b){var c=il,d=gl,e=Rk(a,d);null!=d.rb&&(gl=fl(null),el(d,c),d.Db=a,d.Ma=function(){return Jk.f?Jk.f(b):Jk.call(null,b)},b.cljsRatom=d);return e};var jl;function kl(a,b){var c=b.argv;if(null==c){c=Ye;a=a.constructor;a:for(var d=ra(b),e=d.length,f=$e,h=0;;)if(h<e){var k=d[h];f=Ad.C(f,ze.f(k),ua(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function ll(a){var b;if(b=Dd(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.kb);return b}
function ml(a,b){for(;;){var c=a.kb,d=!0===a.Yc?c.call(a,a):function(){var e=kl(a,a.props);switch(V(e)){case 1:return c.call(a);case 2:return c.call(a,kd(e,1));case 3:return c.call(a,kd(e,1),kd(e,2));case 4:return c.call(a,kd(e,1),kd(e,2),kd(e,3));case 5:return c.call(a,kd(e,1),kd(e,2),kd(e,3),kd(e,4));default:return c.apply(a,Wa(e).slice(1))}}();if(Ud(d))return Lk(b,d);if(Zd(d))d=ll(d)?function(e,f,h,k,l){return function(){function m(p){var r=null;if(0<arguments.length){r=0;for(var v=Array(arguments.length-
0);r<v.length;)v[r]=arguments[r+0],++r;r=new P(v,0,null)}return n.call(this,r)}function n(p){return Lk(f,Te(Yf,l,p))}m.K=0;m.N=function(p){p=O(p);return n(p)};m.I=n;return m}()}(a,b,c,null,d):d,a.kb=d;else return d}}var il=new w(null,1,[hi,!0],null);
function nl(a,b){switch(a instanceof N?a.Aa:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=X(e,1,null),e=Sd(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.$c;d=null!=d?d:c.$c=al.f(null);return kf(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,kl(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,kl(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,kl(this,c))};case "shouldComponentUpdate":return function(c){if(x(!1))return!1;var d=this.props.argv,e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!Sc.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,kl(this,this.props),kl(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,kl(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,kl(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,kl(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ua(this,"cljsRatom");null!=c&&bl(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function ol(a,b){a=nl(a,b);return x(a)?a:b}var pl=new w(null,2,[tj,null,si,null],null),ql=function(a){var b=new jf($e);return function(c){var d=I.j(Ib(b),c);if(null!=d)return d;d=a.f?a.f(c):a.call(null,c);lf.T(b,Ad,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Ae(a);a=Gj(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=Ij(a,/-/);var b=O(a);a=R(b);b=S(b);return Te(A,a,nf.j(tk,b))});
function rl(a){return je(function(b,c,d){return Ad.C(b,ze.f(ql(c)),d)},$e,a)}
function sl(a,b){var c=function(){var h=Zi.f(a);return x(h)?h:Oh.f(a)}(),d=null==Zi.f(a),e=function(){var h=Oi.f(a);if(x(h))return h;h=vk(c);return x(h)?h:A.f(Eh("reagent"))}(),f=je(function(h,k,l){return Ad.C(h,k,ol(k,l))},$e,a);return Ad.I(f,Oi,e,rd([Xi,d,Zi,c,Oh,function(){var h=this,k=ua(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?hl(function(){a:{var l=jl;jl=h;try{var m=ml(h,b);break a}finally{jl=l}m=void 0}return m},h):Zk(k,!1)}]))}
function tl(a){return je(function(b,c,d){c=Ae(c);b[c]=d;return b},{},a)}function ul(a,b){return sl(Xg.I(rd([pl,rl(a)])),b)}var $g=new Y(null,5,5,Ye,[Xh,sj,vi,wi,Ri],null);
function vl(a,b){function c(k,l,m){ok.Component.call(this,k,l,m);x(h)&&(h.j?h.j(this,k):h.call(null,this,k));x(f)&&(this.state=f.f?f.f(this):f.call(null,this));this.mc=Ak+=1;return this}a=ul(a,b);b=tl(We(Cd,a,Oi,di,Vh,rd([Oh,Zi,$g])));var d=tl(Zg(a)),e=Oi.f(a),f=di.f(a),h=Vh.f(a);ya(c.prototype,ok.Component.prototype,b);x(Oh.f(a))&&(c.prototype.render=Oh.f(a));x(Zi.f(a))&&(c.prototype.kb=Zi.f(a));x(Xi.f(a))&&(c.prototype.Yc=Xi.f(a));ya(c,ok.Component,d);x(e)&&(c.displayName=e,c.ib=e,c.Kb=function(k){return bc(k,
e)});c.zb=!0;return c.prototype.constructor=c}function wl(a,b,c){a=Kk(a);return b[a]=c}
function xl(a,b){for(;;){var c=b.kb,d=b.argv,e=Se(c,d);if(Ud(e))return Lk(a,e);if(Zd(e))c=ll(e)?function(f,h,k,l,m,n){return function(){function p(v){var D=null;if(0<arguments.length){D=0;for(var G=Array(arguments.length-0);D<G.length;)G[D]=arguments[D+0],++D;D=new P(G,0,null)}return r.call(this,D)}function r(v){return Lk(f,Te(Yf,n,v))}p.K=0;p.N=function(v){v=O(v);return r(v)};p.I=r;return p}()}(a,b,c,null,d,e):e,b.kb=c;else return e}}
function yl(a,b){var c=b.argv,d=b.kb;b=ok.useState(0);X(b,0,null);var e=X(b,1,null),f=ok.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.f?e.f($c):e.call(null,$c)}};k.mc=Ak+=1;k.constructor=d;k.kb=d;return f.current=k}();var h=f.current;b=ua(h,"cljsRatom");ok.useEffect(function(){return function(){var k=ua(h,"cljsRatom");return null==k?null:bl(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?hl(function(){a:{var k=jl;jl=h;try{var l=xl(a,h);break a}finally{jl=k}l=void 0}return l},
h):Zk(b,!1)}function zl(a,b){a=a.argv;b=b.argv;try{return Sc.j(a,b)}catch(c){return!1}}function Al(a,b){function c(e){return yl(a,e)}var d=ua(b,Kk(a));if(x(d))return d;c.displayName=vk(b);d=ok.memo(c,zl);wl(a,b,d);return d};var Bl=new ch(null,new w(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Cl(a,b,c,d){var e=$e;e=null!=e&&(e.F&64||u===e.Ca)?Se(Ug,e):e;e=I.j(e,lj);if(a===document.activeElement&&$d(Bl,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!Sc.j(f,c))return Hk(function(){return Dl.f?Dl.f(d):Dl.call(null,d)});c=V(f)-a.selectionStart;c=V(b)-c;d.Vb=b;a.value=b;Dd(e)&&(e.f?e.f(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Vb=b;a.value=b;return Dd(e)?e.f?e.f(b):e.call(null,b):null}
function Dl(a){if(x(a.lc)){a.Ac=!1;var b=a.Zc,c=a.Vb,d=a.bd;return Sc.j(b,c)?null:Cl(d,b,c,a)}return null}function El(a,b,c){a.Vb=c.target.value;x(a.Ac)||(a.Ac=!0,Hk(function(){return Dl(a)}));return b.f?b.f(c):b.call(null,c)}
function Fl(a){var b=jl;if(x(null!=a?function(){var f=a.hasOwnProperty("onChange");return x(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.lc)||(b.lc=!0,b.Vb=c);x(b.Ic)||(b.Ic=function(f){b.bd=f;return x(e)?e.f?e.f(f):e.call(null,f):null});b.Zc=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return El(b,d,f)};a.ref=b.Ic}}
var Gl=new w(null,4,[zi,"ReagentInput",hj,Dl,Di,function(a){return a.lc=null},ki,function(a,b,c,d,e){Fl(c);return Mk(e,a,b,c,d)}],null);var Hl={},jj,Jl=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Kl={"class":"className","for":"htmlFor",charset:"charSet"};function Ll(a,b){return a.hasOwnProperty(b)?ua(a,b):null}function Ml(a,b,c){if(wk(b)){var d=Ll(Kl,Ae(b));null==d?(d=uk(b),b=Ae(b),b=Kl[b]=d):b=d}c=Nl.f?Nl.f(c):Nl.call(null,c);a[b]=c;return a}
function Nl(a){return"object"!==t(a)?a:wk(a)?Ae(a):Sd(a)?je(Ml,{},a):Pd(a)?Ih(a):Zd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new P(f,0,null)}return c.call(this,e)}function c(d){return Se(a,d)}b.K=0;b.N=function(d){d=O(d);return c(d)};b.I=c;return b}():Ih(a)}var Ol={};function Pl(a,b,c){if(wk(b)){var d=Ll(Ol,Ae(b));null==d?(d=uk(b),b=Ae(b),b=Ol[b]=d):b=d}c=Nl(c);a[b]=c;return a}
function Ql(a){return"object"!==t(a)?a:wk(a)?Ae(a):Sd(a)?je(Pl,{},a):Pd(a)?Ih(a):Zd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new P(f,0,null)}return c.call(this,e)}function c(d){return Se(a,d)}b.K=0;b.N=function(d){d=O(d);return c(d)};b.I=c;return b}():Ih(a)}
function Rl(a,b){var c=b.id;b=b.className;c=null!=c&&null==uj.f(a)?Ad.C(a,uj,c):a;return x(b)?Ad.C(c,Wi,xk.j(b,function(){var d=Wi.f(a);return x(d)?d:Ei.f(a)}())):c}function Sl(a,b,c,d,e){switch(V(b)-e){case 0:return ok.createElement(c,d);case 1:return ok.createElement(c,d,Lk(a,X(b,e,null)));default:return ok.createElement.apply(null,je(function(f,h,k){h>=e&&f.push(Lk(a,k));return f},[c,d],b))}}function Tl(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ad=d}
function Ul(a,b,c){var d=ua(a,Kk(c));null==d?ll(a)?a=wl(c,a,a):(d=Hd(a),d=Ad.C(d,ki,a),d=vl(d,c),a=wl(c,a,d)):a=d;c={};c.argv=b;b=zk(b);null!=b&&(c.key=b);return ok.createElement(a,c)}function Vl(a,b,c,d){var e={};e.kb=a;var f=V(b);c=bg(null,b,c|0,f|0,null);e.argv=c;b=zk(b);null!=b&&(e.key=b);return ok.createElement(Al(d,a),e)}function Wl(a,b,c){var d;if(d=Dd(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?Ul(a,b,c):Vl(a,b,1,c)}var Xl={};
function Yl(a,b,c,d){var e=a.tag,f=X(b,c,null),h=null==f||Sd(f),k=function(){var m=h?f:null;var n=Wi.f(m);m=Rl(x(n)?Ad.C(m,Wi,xk.f(n)):m,a);m=x(a.ad)?Ql(m):Nl(m);return x(m)?m:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l)return l=function(){var m=d.kd;if(x(m))return m;m=vl(Gl,d);return d.kd=m}(),Lk(d,Gd(new Y(null,6,5,Ye,[l,b,e,k,c,d],null),Hd(b)));l=yk(Hd(b));null!=l&&(k.key=l);return Mk(d,b,e,k,c)}
function Zl(a,b){return Wa(nf.j(function(c){return Lk(b,c)},a))}
function $l(a,b,c){null==b&&console.error("vec-to-elem",yh(rd([a])));var d=X(a,0,null);switch(d instanceof N?d.Aa:null){case "\x3e":return c=X(a,1,null),Yl(new Tl(c,null,null,null),a,2,b);case "r\x3e":c=X(a,1,null);d=X(a,2,null);d=x(d)?d:{};var e=yk(Hd(a));null!=e&&(d.key=e);return Mk(b,a,c,d,3);case "f\x3e":return Vl(X(a,1,null),a,2,b);case "\x3c\x3e":return d=X(a,1,null),c=null==d||Sd(d),d=Nl(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=zk(a),null!=e&&(d.key=e),Mk(b,a,ok.Fragment,d,c);default:if(wk(d)||
"string"===typeof d)a:for(;;)switch(c=X(a,0,null),c=Ae(c),d=c.indexOf("\x3e"),d){case -1:d=Ll(Xl,c);if(null==d){var f=S(lh(Jl,Ae(c)));d=X(f,0,null);e=X(f,1,null);f=X(f,2,null);f=null==f?null:Gj(f,/\./," ");var h=d.indexOf("-");h=!Sc.j(-1,h);d=new Tl(d,e,f,h);c=Xl[c]=d}else c=d;a=Yl(c,a,1,b);break a;case 0:a=null;break a;default:a=Gd(new Y(null,2,5,Ye,[c.substring(0,d),Ad.C(Gd(a,null),0,c.substring(d+1))],null),Hd(a))}else a=c.C?c.C(d,a,b):c.call(null,d,a,b);return a}}
var am=function(a){var b=Eh("G__"),c=x(ni.f(a))?Wl:Ul;if("undefined"===typeof pk||"undefined"===typeof qk||"undefined"===typeof Hl||"undefined"===typeof jj)jj=function(d,e,f,h){this.hd=d;this.id=e;this.Cc=f;this.nc=h;this.F=393216;this.O=0},jj.prototype.ha=function(d,e){return new jj(this.hd,this.id,this.Cc,e)},jj.prototype.da=function(){return this.nc},jj.prototype.jd=function(){return this.id},jj.prototype.Gc=function(d,e){d=this.Cc;return"object"!==t(e)?e:Ud(e)?$l(e,this,d):(null==e?0:null!=e?
e.F&64||u===e.Ca||(e.F?0:y(lb,e)):y(lb,e))?Zl(e,this):wk(e)?Ae(e):(null!=e?e.F&2147483648||u===e.ma||(e.F?0:y(cc,e)):y(cc,e))?yh(rd([e])):e},jj.prototype.Hc=function(d,e,f,h,k){return Sl(this,e,f,h,k)},jj.zb=!0,jj.ib="reagent.impl.template/t_reagent$impl$template25722",jj.Kb=function(d){return bc(d,"reagent.impl.template/t_reagent$impl$template25722")};return new jj(a,b,c,$e)}($e);var bm=Bj(67,{});function cm(a){a=null!=a&&(a.F&64||u===a.Ca)?Se(Ug,a):a;var b=I.j(a,Wh);return b instanceof N||"string"===typeof b?Ad.C(Cd.j(a,Wh),Vi,function(){var c=ze.f(b);c=c instanceof N?c.Aa:null;switch(c){case "debug":return Cj.Debug;case "info":return Cj.Info;case "warn":return Cj.Warn;default:throw Error(["No matching clause: ",A.f(c)].join(""));}}()):a}
function dm(a,b,c){return x(b)?(b=Ih(b),c=cm(Xg.I(rd([new w(null,2,[Qh,yi,Si,"vega-lite"],null),c]))),c=Xg.I(rd([new w(null,1,[Qh,yi],null),c])),Dj(a,b,Ih(c)).catch(function(d){return console.log(d)})):null}var em=function em(a){switch(arguments.length){case 1:return em.f(arguments[0]);case 2:return em.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};em.f=function(a){return em.j(a,$e)};
em.j=function(a,b){var c=Xg.I(rd([new w(null,1,[Si,"vega"],null),b]));return vl(new w(null,4,[zi,"vega",ij,function(d){return dm(bm.findDOMNode(d),a,c)},Mi,function(d,e){X(e,0,null);var f=X(e,1,null);e=X(e,2,null);return dm(bm.findDOMNode(d),f,e)},ki,function(){return new Y(null,1,5,Ye,[ei],null)}],null),am)};em.K=2;
var fm=function fm(a){switch(arguments.length){case 1:return fm.f(arguments[0]);case 2:return fm.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};fm.f=function(a){return fm.j(a,$e)};fm.j=function(a,b){return em.j(a,Xg.I(rd([b,new w(null,1,[Si,"vega-lite"],null)])))};fm.K=2;
var gm=al.f(new w(null,2,[Zh,em,ai,fm],null)),hm=new w(null,4,[Bi,50,Yi,$e,Ni,new w(null,1,[qj,10],null),bi,new w(null,2,[qj,10,$i,dj],null)],null),im=function im(a){switch(arguments.length){case 1:return im.f(arguments[0]);case 2:return im.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.f(arguments.length)].join(""));}};im.f=function(a){return im.j(a,$e)};
im.j=function(a,b){var c=null!=b&&(b.F&64||u===b.Ca)?Se(Ug,b):b,d=I.j(c,bj),e=I.j(c,Ti),f=I.j(c,fi),h=al.f(new w(null,3,[bj,x(d)?d:0,Ti,e,fi,x(f)?f:ej],null)),k=ie(Ok,nf.j(gf.j(hh,mg),of.j(10,a)));return function(l,m){var n=Ib(h),p=null!=n&&(n.F&64||u===n.Ca)?Se(Ug,n):n,r=I.j(p,bj),v=I.j(p,Ti),D=I.j(p,fi),G=Yg(function(q,C){return Sd(q)&&Sd(C)?Xg.I(rd([q,C])):C},rd([hm,m])),T=null!=G&&(G.F&64||u===G.Ca)?Se(Ug,G):G,Z=I.j(T,Bi),ia=I.j(T,Yi),sa=I.j(T,Ni),xa=I.j(T,bi),Ia=function(){var q=x(v)?fe(v,l):
l;q=Sc.j(Th,D)?qe(q):q;q=x(Z)?pf(Z*r,q):q;return x(Z)?of.j(Z,q):q}(),ta=ne(V(l),Z);return new Y(null,3,5,Ye,[xi,V(l)>Z?new Y(null,5,5,Ye,[ti,new w(null,1,[Gi,new w(null,1,[Ai,10],null)],null),new Y(null,4,5,Ye,[Ki,new w(null,1,[Gi,new w(null,1,[qj,20],null)],null),"Current page: ",r+1],null),0<r?new Y(null,3,5,Ye,[qi,new w(null,2,[$h,function(){function q(E){var B=null;if(0<arguments.length){B=0;for(var F=Array(arguments.length-0);B<F.length;)F[B]=arguments[B+0],++B;B=new P(F,0,null)}return C.call(this,
B)}function C(){return lf.T(h,uf,bj,me)}q.K=0;q.N=function(E){E=O(E);return C(E)};q.I=C;return q}(),Gi,new w(null,2,[qj,10,$i,dj],null)],null),"prev"],null):null,r<ta?new Y(null,3,5,Ye,[qi,new w(null,2,[$h,function(){function q(E){var B=null;if(0<arguments.length){B=0;for(var F=Array(arguments.length-0);B<F.length;)F[B]=arguments[B+0],++B;B=new P(F,0,null)}return C.call(this,B)}function C(){return lf.T(h,uf,bj,$c)}q.K=0;q.N=function(E){E=O(E);return C(E)};q.I=C;return q}(),Gi,new w(null,2,[qj,10,
$i,dj],null)],null),"next"],null):null],null):null,new Y(null,3,5,Ye,[Mh,new Y(null,3,5,Ye,[pi,new w(null,1,[Gi,ia],null),function(){return function E(C){return new Be(null,function(){for(;;){var B=O(C);if(B){var F=B;if(Vd(F)){var H=qc(F),J=V(H),M=Fe(J);return function(){for(var K=0;;)if(K<J){var W=jb(H,K);Ie(M,Gd(new Y(null,4,5,Ye,[oi,new w(null,2,[Gi,xa,$h,function(aa,da,ka,na,qa,wa,za,Ha,$a,zb,Nb,zf,te,Kd,fc,Vb,yc,sb,tb,gc,fh){return function(){function Ld(Md){var zc=null;if(0<arguments.length){zc=
0;for(var ue=Array(arguments.length-0);zc<ue.length;)ue[zc]=arguments[zc+0],++zc;zc=new P(ue,0,null)}return ve.call(this,zc)}function ve(){return lf.C(fh,Xg,new w(null,2,[Ti,da,fi,Sc.j(da,Nb)&&Sc.j(zf,ej)?Th:ej],null))}Ld.K=0;Ld.N=function(Md){Md=O(Md);return ve(Md)};Ld.I=ve;return Ld}()}(K,W,H,J,M,F,B,n,p,r,v,D,G,T,Z,ia,sa,xa,Ia,ta,h,k,b,c,d,e,f)],null),Ae(W),Sc.j(v,W)?function(){var aa=D instanceof N?D.Aa:null;switch(aa){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",
A.f(aa)].join(""));}}():null],null),new w(null,1,[mj,W],null)));K+=1}else return!0}()?He(M.sa(),E(rc(F))):He(M.sa(),null)}var Q=R(F);return qd(Gd(new Y(null,4,5,Ye,[oi,new w(null,2,[Gi,xa,$h,function(K,W,aa,da,ka,na,qa,wa,za,Ha,$a,zb,Nb,zf,te,Kd,fc){return function(){function Vb(sb){var tb=null;if(0<arguments.length){tb=0;for(var gc=Array(arguments.length-0);tb<gc.length;)gc[tb]=arguments[tb+0],++tb;tb=new P(gc,0,null)}return yc.call(this,tb)}function yc(){return lf.C(fc,Xg,new w(null,2,[Ti,K,fi,
Sc.j(K,qa)&&Sc.j(wa,ej)?Th:ej],null))}Vb.K=0;Vb.N=function(sb){sb=O(sb);return yc(sb)};Vb.I=yc;return Vb}()}(Q,F,B,n,p,r,v,D,G,T,Z,ia,sa,xa,Ia,ta,h,k,b,c,d,e,f)],null),Ae(Q),Sc.j(v,Q)?function(){var K=D instanceof N?D.Aa:null;switch(K){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",A.f(K)].join(""));}}():null],null),new w(null,1,[mj,Q],null)),E(Qc(F)))}return null}},null)}(k)}()],null),function(){return function E(C){return new Be(null,function(){for(;;){var B=
O(C);if(B){var F=B;if(Vd(F)){var H=qc(F),J=V(H),M=Fe(J);return function(){for(var K=0;;)if(K<J){var W=jb(H,K);Ie(M,Gd(new Y(null,3,5,Ye,[pi,new w(null,1,[Gi,ia],null),function(){return function(aa,da,ka,na,qa,wa,za,Ha,$a,zb,Nb,zf,te,Kd,fc,Vb,yc,sb,tb,gc,fh,Ld,ve,Md,zc,ue,km){return function Sj(lm){return new Be(null,function(nm,Tj,om,pm,qm,rm,sm,tm,um,vm,wm,xm,ym,zm,Am,Bm,Uj){return function(){for(;;){var Nd=O(lm);if(Nd){if(Vd(Nd)){var Af=qc(Nd),Vj=V(Af),Od=Fe(Vj);a:for(var gh=0;;)if(gh<Vj){var Bf=
jb(Af,gh);Bf=Gd(new Y(null,3,5,Ye,[ui,new w(null,1,[Gi,Uj],null),I.j(Tj,Bf)],null),new w(null,1,[mj,Bf],null));Od.add(Bf);gh+=1}else{Af=!0;break a}return Af?He(Od.sa(),Sj(rc(Nd))):He(Od.sa(),null)}Od=R(Nd);return qd(Gd(new Y(null,3,5,Ye,[ui,new w(null,1,[Gi,Uj],null),I.j(Tj,Od)],null),new w(null,1,[mj,Od],null)),Sj(Qc(Nd)))}return null}}}(aa,da,ka,na,qa,wa,za,Ha,$a,zb,Nb,zf,te,Kd,fc,Vb,yc,sb,tb,gc,fh,Ld,ve,Md,zc,ue,km),null)}}(K,W,H,J,M,F,B,n,p,r,v,D,G,T,Z,ia,sa,xa,Ia,ta,h,k,b,c,d,e,f)(k)}()],null),
new w(null,1,[mj,Jc(W)],null)));K+=1}else return!0}()?He(M.sa(),E(rc(F))):He(M.sa(),null)}var Q=R(F);return qd(Gd(new Y(null,3,5,Ye,[pi,new w(null,1,[Gi,ia],null),function(){return function(K,W,aa,da,ka,na,qa,wa,za,Ha,$a,zb,Nb){return function Kd(te){return new Be(null,function(){for(;;){var fc=O(te);if(fc){if(Vd(fc)){var Vb=qc(fc),yc=V(Vb),sb=Fe(yc);a:for(var tb=0;;)if(tb<yc){var gc=jb(Vb,tb);gc=Gd(new Y(null,3,5,Ye,[ui,new w(null,1,[Gi,Nb],null),I.j(K,gc)],null),new w(null,1,[mj,gc],null));sb.add(gc);
tb+=1}else{Vb=!0;break a}return Vb?He(sb.sa(),Kd(rc(fc))):He(sb.sa(),null)}sb=R(fc);return qd(Gd(new Y(null,3,5,Ye,[ui,new w(null,1,[Gi,Nb],null),I.j(K,sb)],null),new w(null,1,[mj,sb],null)),Kd(Qc(fc)))}return null}},null)}}(Q,F,B,n,p,r,v,D,G,T,Z,ia,sa,xa,Ia,ta,h,k,b,c,d,e,f)(k)}()],null),new w(null,1,[mj,Jc(Q)],null)),E(Qc(F)))}return null}},null)}(Ia)}()],null)],null)}};im.K=2;var vj=rd([Zh,em,ai,fm,ii,im]),wj=null!=vj&&(vj.F&64||u===vj.Ca)?Se(Ug,vj):vj;lf.C(gm,Xg,wj);
}).call(this);